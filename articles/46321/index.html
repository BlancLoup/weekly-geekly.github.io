<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Security (encryption) traffic</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In parallel with the development of technologies for protecting Internet traffic from unauthorized access, technologies for intercepting secure traffi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Security (encryption) traffic</h1><div class="post__text post__text-html js-mediator-article"><img align="left" title="SSL" src="https://habrastorage.org/getpro/habr/post_images/307/d69/b60/307d69b601c2c303f9c1a14f01deb979.png" alt="SSL" width="96" height="70">  In parallel with the development of technologies for protecting Internet traffic from unauthorized access, technologies for intercepting secure traffic are also developing.  Intercepting and studying unencrypted user traffic has long been difficult, even for an ordinary user.  Almost everyone knows the word "sniffer".  Theoretically, secured <a href="http://ru.wikipedia.org/wiki/SSL">SSL</a> / <a href="http://ru.wikipedia.org/wiki/TLS">TSL</a> connections cannot be intercepted by conventional means.  But is it? <br><a name="habracut"></a><br>  In fact - not quite.  Yes, it is theoretically impossible to decrypt the encrypted traffic, although again, theoretically, with a very large need and desire, such traffic can be decrypted by selecting the key.  However, this requires such a cost of resources that the relevance of hacking persists only, probably, at the government or military level :) <br><br>  When working over a secure connection (the simplest example is <a href="http://habrahabr.ru/blogs/infosecurity/44818/">HTTPS</a> ), all traffic between interacting points in the network is encrypted on the sender's side and decrypted on the recipient's side.  Encrypted traffic going in both directions.  In order to encrypt and decrypt it, you need a pair of keys (asymmetric encryption).  The public key is used for encryption and is transmitted to the recipient of data, and the private key is used for decryption, it remains with the sender.  Thus, the nodes between which an SSL connection is established exchange public keys.  Further, to improve performance, a single key is generated, which is already sent in encrypted form and is used both for encryption and for decryption on both sides (symmetric encryption). <br><br>  And how do they do it?  Usually - on the same channel through which the protected traffic will continue.  Moreover, the key exchange takes place in open mode.  In the case of HTTPS, the server key is associated with a certificate that the user is invited to view and accept.  And this certificate can intercept any intermediate server, in the path of which the certificate goes in open form (proxy, router). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      To further ‚Äúread‚Äù all user traffic, the intermediate server replaces the certificate with its own.  Those.  he simply connects to the client with his certificate, and at the same time connects to the remote server.  The client receives a ‚Äúleft‚Äù certificate from the attacker server, and the browser informs the user about the danger (such certificates are not always signed).  The user has a choice: to accept the certificate and work with the site, or refuse to accept it, but then it will not work with the site.  Sometimes users ignore the contents of certificates altogether and automatically accept any transferred to them. <br><br>  If the user accepts a fake certificate, then the traffic will go as follows: <br><br>  <em>client &lt;= SSL connection =&gt; server listening &lt;= SSL connection =&gt; destination server</em> <br><br>  Those.  the intermediate server will receive all your "protected" traffic in the clear.  It is also worth noting that the transfer of the certificate occurs at the beginning of each HTTPS session. <br><br>  In the case of secure SSH, the server key is stored on the client during the first connection with the server, and the client key is stored on the server.  These keys are transferred between data to the client-server only once, during the first connection.  If in this case the SSH traffic is attempted to be intercepted, then both the client and the server will fail to connect due to a mismatch of keys.  Since the keys can be transferred between the client and the server in a detour (via a secure channel or on external media), this connection method is relatively safe.  It can only be blocked, forcing the user to work in the open. <br><br>  It is worth noting that so-called ‚Äúenterprise information security solutions‚Äù have long been on sale, which intercept all traffic passing through an office proxy server and ‚Äúread‚Äù it.  Programs look for the presence of certain phrases or information of a certain type in the data stream from browsers, mail programs, ftp-clients, messengers of the office staff.  Moreover, these programs are able to distinguish and handle correctly the most different types of information interaction with servers.  In particular, they check SSL-protected traffic by replacing certificates.  I came across almost directly the development of one of these systems. <br><br>  But there are ways to save from total surveillance.  Through the established SSH connection, you can send any desired traffic, which from the SSH server will already go in open form to the end point.  This method is called SSH tunneling.  This way you can secure the traffic through an unprotected channel, but this approach makes sense only if you have a trusted server with an SSH daemon raised and tuned in to the tunneling.  And to organize it is quite simple.  The SSH client connects to the server and is configured to listen on any given port on the local machine.  This client will provide the SOCKS5 proxy service, i.e.  its use can be configured in any browser, email programs, IM, etc.  Through the SSH tunnel, the packets go to the server, and from it go to the target server.  The scheme is obtained as follows: <br><br>  <em>[localhost: client &lt;=&gt; proxy] &lt;== SSH connection ==&gt; server &lt;=&gt; target server</em> <br><br>  Another way to protect traffic is the <a href="http://ru.wikipedia.org/wiki/VPN">VPN</a> channel.  In use, it is simpler and more convenient than SSH-tunneling, but in the initial installation and configuration more difficult.  The main convenience of this method is that the programs do not need to register a proxy.  And some software does not support the proxy at all, therefore only the VPN will do. <br><br>  In practice, there are two options for work.  The first is the purchase of a VPN account, which is sold specifically for this purpose (encrypting traffic over an insecure channel).  In this case, accounts are usually sold, you need to connect to them using PPTP (normal VPN, which is implemented, for example, in Windows) or L2TP. <br><br>  The second option is to buy a VDS server (virtual dedicated server) with any Linux distribution kit on board and bring up a VPN server on it.  VDS can be Russian or American (just do not forget about overseas pings), cheap (from $ 5) and weak or expensive and more powerful.  An <a href="http://ru.wikipedia.org/wiki/OpenVPN">OpenVPN</a> server is installed on a VDS, and an OpenVPN client is raised on a computer.  For Windows, there is even a <a href="http://openvpn.se/">GUI version of the client</a> . <br><br>  If you decide to use the variant with OpenVPN, that is, for example, this <a href="http://elwood.su/%3Fp%3D8">simple step-by-step instruction</a> on raising the server (Debian).  Installing the client is even easier, especially under Windows.  Mark is only one point.  If all traffic needs to be sent over the created VPN connection, then you need to set the default gateway to the VPN gateway (the redirect-gateway parameter in the client‚Äôs config), and if only part of the traffic (to certain hosts), you can register the usual static routes to these hosts ( by IP; for example, route add -p 81.25.32.25 10.7.0.1). <br><br>  For the connection OpenVPN key exchange occurs in manual mode, i.e.  it is absolutely safe to transport them from the server to the client. <br><br>  Thus, SSH and VPN connections can almost completely guarantee the security of your traffic when moving through an unsecured channel.  The only problem that may arise in this case is the prohibition of SSL traffic on the corporate firewall.  If SSL traffic is allowed at least on any one port (usually the default 443), then you can potentially raise both the SSH tunnel and the VPN connection by setting up the appropriate daemon on your VDS on this port. </div><p>Source: <a href="https://habr.com/ru/post/46321/">https://habr.com/ru/post/46321/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../46310/index.html">The 5th international meeting of StartApers in Moscow. Announcement</a></li>
<li><a href="../46314/index.html">Debian stuff - apt-mirror</a></li>
<li><a href="../46316/index.html">Continuation of the experiment with the chains of dating</a></li>
<li><a href="../46317/index.html">Striped pencils</a></li>
<li><a href="../46319/index.html">DMVN Style Pack</a></li>
<li><a href="../46323/index.html">IT crisis (humor)</a></li>
<li><a href="../46324/index.html">PHP OOP Tutorials</a></li>
<li><a href="../46326/index.html">Porn Vkontekte :)</a></li>
<li><a href="../46327/index.html">Find out the value of your site? Easy!</a></li>
<li><a href="../46328/index.html">Pano Zero Client - a computer in which there is nothing</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>