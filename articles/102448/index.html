<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Quick install trac in openSUSE</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sooner or later, many are faced with the choice of bugtracker. At the same time, regardless of the purpose for which it is planned to be applied (indu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Quick install trac in openSUSE</h1><div class="post__text post__text-html js-mediator-article">  Sooner or later, many are faced with the choice of bugtracker.  At the same time, regardless of the purpose for which it is planned to be applied (industrial or personal), I would like to familiarize myself with it before use.  After a cursory analysis of the results of search engine queries on the issue of interest, it becomes clear that one of the systems that cannot be ignored is Trac.  But, unfortunately, when studying the instructions for installing this wonderful tool, many people have no desire to get acquainted with Trac.  I'll tell you how to avoid this and get to know (and maybe make friends) with Trac as quickly as possible, and most importantly, simple. <a name="habracut"></a><br><br><h4>  Introduction </h4><br><h5>  Who needs it? </h5><br>  The article will look at an example of installing Trac with the integration of Subversion version control system and PostgreSQL database management server with a web interface that will provide Apache and it will all be installed on the openSUSE free operating system. It is assumed that the reader is generally familiar with In general, a bugtracker is needed, so there will not be a review of any comparisons of Trac and related tools. <br>  The article may be interesting to everyone, those who are ‚Äúin search‚Äù and want to try Trac, as well as openSUSE users who have already made their choice and want to install it. <br><br><h5>  What will be necessary for work </h5><br>  To work will require: <ul><li>  Internet access; </li><li>  VirtualBox (the author strongly recommends not to conduct experiments on working machines and servers); </li><li>  openSUSE 11.2 installation DVD; </li><li>  a few hours of free time and the desire to touch the beautiful. </li></ul><br><h4>  Installation and Setup </h4><br><h5>  OS installation </h5><br>  Create a new virtual machine and install openSUSE with your beloved DE (especially harsh or undecided environments can choose Text Mode).  When installing the OS, no special settings need to be performed and it is enough to accept those provided by default.  The only requirement is to leave English unchanged when choosing a language. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Adding Repositories </h5><br>  Add the necessary repositories: <br> <code>sudo zypper ar http://download.opensuse.org/repositories/home:/FunkyM:/scm/openSUSE_11.2 FunkyM</code> <br> <code>sudo zypper ar http://download.opensuse.org/repositories/Apache:/Modules/Apache_openSUSE_11.2 Apache</code> <br> <code>sudo zypper ar http://download.opensuse.org/repositories/home:/babelworx:/python/openSUSE_11.2 babelworx</code> <br> <code>sudo zypper ar http://download.opensuse.org/repositories/devel:/languages:/python/openSUSE_11.2 devel</code> <br> <code>sudo zypper ar http://download.opensuse.org/repositories/devel:/tools:/scm/openSUSE_11.2/ csm</code> <br>  They are needed to install: python-genshi, apache2-mod_wsgi, python-babel, python-pygments, trac, respectively, as well as other necessary packages. <br><br><h5>  Directly installation </h5><br>  Perform the installation: <br> <code>sudo zypper in python python-devel python-xml python-setuptools postgresql-server python-psycopg2 subversion swig apache2 apache2-mod_wsgi apache2-mod_python docutils python-pygments python-pytz sqlite3 subversion-python trac-multirepo trac-server trac</code> <br>  At this stage, it is highly desirable to make sure that all the pre-installed packages will be installed and therefore all repositories have been correctly initialized.  If the installation is successful, it may look like this: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/1dc/c43/4a4/1dcc434a406c88e5b16125e9b795917a.png" alt="image"><br><br><h5>  Creating a source code repository </h5><br>  Create an svn repository: <br> <code>sudo mkdir -p /srv/svn/repos</code> <br> <code>cd /srv/svn/repos</code> <br> <code>sudo svnadmin create --fs-type fsfs habrahabr</code> <br>  Create a file to store passwords: <br> <code>sudo mkdir /srv/svn/user_access</code> <br> <code>sudo touch /srv/svn/user_access/habrahabr_passwdfile</code> <br>  And add two users: admin and user: <br> <code>sudo htpasswd2 /srv/svn/user_access/habrahabr_passwdfile admin</code> <br> <code>sudo htpasswd2 /srv/svn/user_access/ habrahabr_passwdfile user</code> <br>  Set the correct permissions for files and directories: <br> <code>sudo mkdir -p /srv/svn/repos/abacus/dav</code> <br> <code>sudo chown -R wwwrun:www habrahabr/{dav,db,locks}</code> <br> <code>sudo chown root:www /srv/svn/user_access/habrahabr_passwdfile</code> <br> <code>sudo chmod 640 /srv/svn/user_access/habrahabr_passwdfile</code> <br> <br><h5>  PostgreSQL setup </h5><br>  Set up the DBMS to work with Trac. <br>  Run the server: <br> <code>sudo /sbin/service postgresql start</code> <br>  Define the database access parameters, for which we open the configuration file for editing: <br> <code>sudo vim /var/lib/pgsql/data/pg_hba.conf</code> <br>  and replace the line: <br> <code>host all all 127.0.0.1/32 ident</code> <br>  for the next: <br> <code>host trac trac 127.0.0.1/32 password</code> <br>  The result should be something like this: <br><br><img src="http://a.imageshack.us/img839/7974/saveaserror3.png" alt="image"><br><br>  Then log in with the postgres user rights: <br> <code><code>su&lt;br&gt;su postgres</code></code> <br>  create a new user trac: <br> <code>createuser --pwprompt --encrypted --no-adduser --no-createdb trac</code> <br>  and database of the same name: <br> <code>createdb --encoding=UNICODE --owner=trac trac</code> <br>  Do not forget to restart the server so that the security settings take effect: <br> <code>sudo /sbin/service postgresql restart</code> <br> <br><h5>  Creating a Trac Project </h5><br>  Create the Trac environment: <br>  <code>sudo trac-admin /srv/trac/habrahabr initenv</code> This answers the tricky questions as follows: <br> <code>habrahabr</code> <br> <code>postgres://trac:secret@127.0.0.1:5432/trac</code> <br> <code>svn</code> <br> <code>/srv/svn/repos/habrahabr</code> <br>  If the creation of the project was successful, you will be informed about this: <br><br><img src="http://a.imageshack.us/img835/7213/saveaserror4.png" alt="image"><br><br>  Set the correct permissions for files and directories: <br> <code>sudo chown -R wwwrun /srv/trac/habrahabr</code> <br>  In order to get familiar with Trac, we will give one of the users (we are talking about those users who were created during the Subversion configuration stage) admin rights: <br> <code>trac-admin /srv/trac/habrahabr permission add admin TRAC_ADMIN</code> <br>  Change the cgi file: <br> <code>sudo vim /usr/share/trac/cgi-bin/trac.cgi</code> <br>  Add two lines between the try and from the lines, resulting in the following form: <br> <code>try:</code> <br> <code>import os</code> <br> <code>os.environ['TRAC_ENV'] = "/srv/trac/habrahabr"</code> <br> <code>from trac.web import cgi_frontend</code> <br> <br><h5>  Web server setup </h5><br>  Configure Apache. <br>  Open for editing the Apache configuration file: <br> <code>sudo vim /etc/sysconfig/apache2</code> <br>  And set the following value for the parameter APACHE_SERVER_FLAGS: <br> <code>APACHE_SERVER_FLAGS="TRAC_CGI"</code> <br>  Let's open for editing the trac module configuration file: <br> <code>sudo vim /etc/apche2/conf.d/trac.conf</code> <br>  And change the settings in the section &lt;Location "/ trac"&gt; we bring it to the following form: <br> <code>SetEnv TRAC_ENV "/srv/trac/habrahabr"</code> <br> <code>Order allow,deny</code> <br> <code>Allow from all</code> <br> <code>AuthType Basic</code> <br> <code>AuthName "Trac"</code> <br> <code><code>AuthUserFile /srv/svn/user_access/habrahabr_passwdfile&lt;br&gt; Require valid-user</code></code> <br>  The remaining parameters must be left unchanged. As a result, you should get something like the following: <br><br><img src="http://a.imageshack.us/img541/8397/screenshot3ec.png" alt="image"><br><br>  Launch a web server: <br> <code>sudo /sbin/service apache2 start</code> <br> <br><h4>  Using Trac </h4><br>  Now we can, using our favorite web browser, start exploring Trac locally: <br><br><img src="http://a.imageshack.us/img837/729/saveaserror6.png" alt="image"><br><br>  A similar dialog box indicates that authentication is configured.  And if after entering the name and password you can see something like the following: <br><br><img src="http://a.imageshack.us/img828/6779/saveaserror7.png" alt="image"><br><br>  then authentication is configured correctly. In addition, you can access Trac <s>normally</s> remotely, without forgetting to open the corresponding port in the Firewall: <br><br><img src="http://a.imageshack.us/img830/7973/saveaserror8.png" alt="image"><br><br><h4>  Conclusion </h4><br>  In conclusion, it is worth noting that in fact, there is a shorter way to install Trac.  You can omit the installation and configuration of Subversion and Apache while using it to start the standalone server: <br> <code>tracd --port 8000 /srv/trac/habrahabr</code> <br>  For access you will need to go to the address: http: // localhost: 8000. </div><p>Source: <a href="https://habr.com/ru/post/102448/">https://habr.com/ru/post/102448/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../102443/index.html">Firmware from C6 to 5800</a></li>
<li><a href="../102444/index.html">Some tips for PHP developers</a></li>
<li><a href="../102445/index.html">How to protect your e-business</a></li>
<li><a href="../102446/index.html">Moving to Linux and comparing Archlinux vs Ubuntu</a></li>
<li><a href="../102447/index.html">Again about notebooks</a></li>
<li><a href="../102450/index.html">Foobnix - a new music player</a></li>
<li><a href="../102456/index.html">Sudoku speed</a></li>
<li><a href="../102458/index.html">Announcement of the Garmin-Asus Communicator on Android</a></li>
<li><a href="../102459/index.html">Clip from one typography</a></li>
<li><a href="../102460/index.html">Improved Email Cancel feature in Gmail</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>