<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Simple framework UI ERP with Vaadin</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 


 Why was it started? A year ago, began to write the ERP system. And from that moment our thorny path began. Defined a stack of technol...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Simple framework UI ERP with Vaadin</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/files/108/bfa/475/108bfa475d6a45a480d8f4115263093a.png" alt="Habrkat"></p><br><h2 id="vvedenie">  Introduction </h2><br><p>  Why was it started?  A year ago, began to write the ERP system.  And from that moment our thorny path began.  Defined a stack of technologies with which we will work.  Briefly described the task and got to work. </p><br><p>  During the course of training and parallel development, I began to draw the interface and the future architecture of the application.  In the end, I tried to write <del>  another one </del>  freymork. </p><br><p>  In this article I will try to describe what was done, what structure I implemented, describe the concrete implementation of classes, why, write examples of use. <del>  samopisny </del>  freymovrka.  Well, tell you further plans. </p><br><a name="habracut"></a><br><h2 id="stek">  Stack </h2><br><p>  Briefly about the stack used, we used the Finnish web-framework Vaadin 7.7.  This is a tool that allows you to write <em>single page application in</em> almost one language (Java).  Those.  using language constructs to describe interface elements, which are then translated into HTML + JS code and displayed in the browser. </p><br><p>  The application runs completely on the server, taking on all the calculations.  User actions in the browser are processed on the server, the element is resized, it is redrawn on the server and sent the result to the user in the browser.  In general, there will be many low-power user machines. <del>  read phones, tablets, old office machines </del>  and a couple of powerful servers. </p><br><h2 id="api">  API </h2><br><p>  The goals of the framework are to: quickly add elements to the common interface <br>  displaying the desired data structure in the already familiar to all interface.  As well as providing work through active recording.  Those.  working with the selected row in the table and adding necessary links to it. </p><br><p>  The structure is the following: </p><br><table><thead><tr><th>  Package </th><th>  Title </th></tr></thead><tbody><tr><td>  Data </td><td>  Datacontainer </td></tr><tr><td></td><td>  TreeDataContainer </td></tr><tr><td>  Elements </td><td>  Bottomtabs </td></tr><tr><td></td><td>  Commonlogic </td></tr><tr><td></td><td>  Commonview </td></tr><tr><td></td><td>  Filterpanel </td></tr><tr><td></td><td>  Logic </td></tr><tr><td></td><td>  Menu </td></tr><tr><td></td><td>  MenuNavigator </td></tr><tr><td></td><td>  Mode </td></tr><tr><td></td><td>  Workspace </td></tr><tr><td>  Permission </td><td>  ModifierAccess </td></tr><tr><td></td><td>  Permissionaccess </td></tr><tr><td></td><td>  PermissionAccessUI </td></tr></tbody></table><br><h4 id="data">  Data </h4><br><p>  In the <em>Data</em> package, the components that are necessary for binding (binding) data with UI elements.  In the current version, containers are implemented that have additional methods for quickly assigning data to tables and trees.  There are two classes in the package: <em>DataContainer</em> is an abstract class based on which derived containers are created to store certain classes of data.  <em>TreeDataContainer</em> - implements the <em>DataContainer</em> class for storing elements with an indication of the hierarchy, and for displaying tree structures. </p><br><p>  Examples of using all classes will be in the following sections. </p><br><h4 id="elements">  Elements </h4><br><p>  A package in which there are all classes describing the elements of graphics and logic of the system. </p><br><p>  The approach taken to building the interface is the use of individual views in which all the necessary components of the current UI are stored.  We used the standard <em>Vaddin</em> components - the <em>View</em> component and its <em>CommonView</em> implementation, as well as the navigation component between <em>Menu</em> views.  The logic of the work of these components in a bundle is taken from the <em>Vaadin</em> <a href="https://habrahabr.ru/users/djeckson/">example</a> , the <a href="https://habrahabr.ru/users/djeckson/">example</a> and how to <a href="https://github.com/sah4ez/erp_vaadin_framework">generate</a> it with <em>maven archetype</em> . </p><br><p>  The <em>CommonView</em> implementation must contain a link to the <em>Logic</em> interface implementation or extend the existing <em>CommonLogic</em> implementation. </p><br><p>  There is also a <em>Mode</em> listing which contains a list of modes of operation with existing interfaces. </p><br><p> The main graphic element is <em>Workspace</em> .  This is a class in which there are two tables (in <br>  which <em>DataContainer</em> data is assigned), the main one ( <code>getTable()</code> method) contains current information, a table with a list of all elements ( <code>getTableAll()</code> method) that can be selected to be added to the current container. </p><br><p>  Navigation in <em>Workspace</em> implements the <em>MenuNavigator</em> element.  It describes the list of standard methods of work with the <em>Workspace</em> , such as enabling the Add and Remove modes, Print, enable the filtering panel for tables described in the <em>FilterPanel</em> class. </p><br><p>  To be able to edit the added information into the container (set into a table from the <em>getTable ()</em> method), the <em>BottomTabs</em> class is <em>used</em> , into which tabs are added that contain an interface for editing information: tables, fields, drop-down lists and everything you need. </p><br><h4 id="permission">  Permission </h4><br><p>  The package contains classes for implementing access rights to graphic elements and mechanisms for elevating access rights using roles. </p><br><p>  <em>ModifierAccess</em> - enumeration of the available levels of access to the UI: disabled, reading, editing. </p><br><p>  <em>PermissionAccess</em> is a class that implements the mechanisms for setting access rights, where the principle of elevation works.  Those.  if the user is assigned the right to read an item in one group, and edit to the other in the other, the user will ultimately have access to the maximum right ‚Äî the right to edit. </p><br><p>  <em>PermissionAccessUI</em> - the interface that implements into the graphic components to which rights are assigned. </p><br><h3 id="realizaciya">  Implementation </h3><br><p>  The <em>DataContainer</em> class is a class for storing data structures in the form of a container that extends the <em>BeanItemContainer</em> . </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DataContainer</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BeanItemContainer</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ArrayList&lt;String&gt; captions = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ArrayList&lt;Boolean&gt; visible = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> ArrayList&lt;String&gt; headers = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DataContainer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Class&lt;T&gt; type)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(type); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (validCaption()) initHeaders(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">validCaption</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> captions.size() == visible.size() &amp;&amp; captions.size() == headers.size(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initHeaders</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> DataContainer </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loadAllData</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">//.... }</span></span></code> </pre> <br><p>  Created for easy assignment of a container to tables and trees, due to lists of <em>captions</em> , <br>  <em>headers</em> , <em>visible</em> in which are described which class <em>properties</em> will be displayed in the form of columns, which headers will have and which of them will be collapsed. </p><br><p>  The mechanism for assigning a container to a table is implemented in <em>CommonLogic</em> : </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommonLogic</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Logic</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> View view; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CommonLogic</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.view = view; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> View </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.view; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setDataToTable</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(DataContainer container, CustomTable table)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (container == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> || table == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; table.setContainerDataSource(container); table.setVisibleColumns(container.getCaption()); table.setColumnHeaders(container.getHeaders()); table.setColumnCollapsingAllowed(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; container.getCaption().length; i++) { table.setColumnCollapsed(container.getCaption()[i], container.getVisible()[i].booleanValue()); } } }</code> </pre> <br><p>  <em>Workspace</em> implements the following code: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Workspace</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CssLayout</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PermissionAccessUI</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Logic logic; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Float splitPosition = <span class="hljs-number"><span class="hljs-number">50f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Mode mode = Mode.NORMAL; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> String CAPTION = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ThemeResource PICTURE = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> FilterTable table = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> FilterTable tableAll = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ItemClickEvent.ItemClickListener editItemClickListener; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ItemClickEvent.ItemClickListener editItemClickListenerAll; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> VerticalSplitPanel verticalSplitPanel = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> HorizontalSplitPanel horizontalSplitPanel = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> BottomTabs bottomTabs = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> MenuNavigator navigator = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> FilterPanel filterPanel = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ModifierAccess permissionAccess = ModifierAccess.HIDE; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> VerticalLayout layout; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ItemClickEvent.ItemClickListener selectItemClickListener; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ItemClickEvent.ItemClickListener selectItemClickListenerAll; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Workspace</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Logic logic)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.logic = logic; table(); tableAll(); navigatorLayout(); filterPanel(); horizontalSplitPanel(); verticalSplitPanel(); addComponent(verticalSplitPanel); editOff(); setSizeFull(); } <span class="hljs-comment"><span class="hljs-comment">//... }</span></span></code> </pre> <br><p>  Where <code>table()</code> and <code>tableAll()</code> methods for constructing a table for the current container and for a container with all records (directory).  <code>navigatorLayout()</code> creates a menu for navigating (it‚Äôs also <em>MenuNavigator</em> ) and working with the current instance of <em>Workspace</em> .  <code>filterPanel()</code> - creates a filter panel for the table with the current container.  <code>veritcalSplitPanel()</code> describes how to create a bottom panel with tabs. <del>  tabs </del>  to edit the selected items in the table created in <code>table()</code> . </p><br><p>  The <em>MenuNavigator</em> class provides a standard set of methods for working with the implementation of the <em>Workspace</em> : </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MenuNavigator</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MenuBar</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PermissionAccessUI</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ModifierAccess permissionAccess = ModifierAccess.HIDE; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> MenuItem add; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> MenuItem delete; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> MenuItem print; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> MenuItem filter; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String ENABLE_BUTTON_STYLE =<span class="hljs-string"><span class="hljs-string">"highlight"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Workspace parent; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MenuNavigator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String caption, Workspace parent)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.parent = parent; setWidth(<span class="hljs-string"><span class="hljs-string">"100%"</span></span>); Command addCommand = menuItem -&gt; add(); Command deleteCommand = menuItem -&gt; delete(); Command printCommand = menuItem -&gt; print(); Command filterCommand = menuItem -&gt; filter(); add = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addItem(<span class="hljs-string"><span class="hljs-string">"add"</span></span> + caption, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ThemeResource(<span class="hljs-string"><span class="hljs-string">"ico16/add.png"</span></span>), addCommand); add.setDescription(<span class="hljs-string"><span class="hljs-string">""</span></span>); delete = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addItem(<span class="hljs-string"><span class="hljs-string">"delete"</span></span> + caption, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ThemeResource(<span class="hljs-string"><span class="hljs-string">"ico16/delete.png"</span></span>), deleteCommand); delete.setDescription(<span class="hljs-string"><span class="hljs-string">""</span></span>); print = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addItem(<span class="hljs-string"><span class="hljs-string">"print"</span></span> + caption, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ThemeResource(<span class="hljs-string"><span class="hljs-string">"ico16/printer.png"</span></span>), printCommand); print.setDescription(<span class="hljs-string"><span class="hljs-string">""</span></span>); filter = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addItem(<span class="hljs-string"><span class="hljs-string">"filter"</span></span> + caption, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ThemeResource(<span class="hljs-string"><span class="hljs-string">"ico16/filter.png"</span></span>), filterCommand); filter.setDescription(<span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setStyleName(<span class="hljs-string"><span class="hljs-string">"v-menubar-menuitem-caption-null-size"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addStyleName(<span class="hljs-string"><span class="hljs-string">"menu-navigator"</span></span>); } <span class="hljs-comment"><span class="hljs-comment">//... }</span></span></code> </pre> <br><p>  The class creates common menu items, describes the behavior logic in <del>  quasi- </del>  modal mode and requires the implementer of this class to describe the desired logic of operation. </p><br><p>  Editing selected entries in a table created in <code>table()</code> done using elements added to <em>BottomTabs</em> in UI: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BottomTabs</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TabSheet</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PermissionAccessUI</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ModifierAccess permissionAccess = ModifierAccess.HIDE; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> List&lt;String&gt; captions = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> List&lt;Component&gt; components = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> List&lt;Resource&gt; resources = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BottomTabs</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ captions.removeAll(captions); components.removeAll(components); resources.removeAll(resources); setSizeFull(); init(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ initTabs(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.components.size(); i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (i &lt; resources.size() &amp;&amp; i &lt; captions.size()) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addTab(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.components.get(i) , <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.captions.get(i) , <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.resources.get(i)); } } } <span class="hljs-comment"><span class="hljs-comment">//... }</span></span></code> </pre> <br><p>  Lists for quicker adding of a component to bookmarks are also implemented here: <code>captions</code> - description of bookmarks headers, <code>components</code> - which element will be in this bookmark and <code>resource</code> - which icon for it will be displayed. </p><br><p>  To implement access rights, you need to implement <em>PermissionAccessUI</em> and implement methods in it that should show what is active in this class and what is not, depending on the level of access: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PermissionAccessUI</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setPermissionAccess</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ModifierAccess permission)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">replacePermissionAccess</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ModifierAccess permissionAccess)</span></span></span></span>; <span class="hljs-function"><span class="hljs-function">ModifierAccess </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getModifierAccess</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; }</code> </pre> <br><p>  and below is the implementation of these methods in the <em>Workspace</em> class: </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//... public void setPermissionAccess(ModifierAccess permission) { if (navigator != null) { navigator.replacePermissionAccess(permission); } if (bottomTabs != null) { bottomTabs.replacePermissionAccess(permission); } this.permissionAccess = permission; switch (permission) { case EDIT: { this.setVisible(true); this.setEnabled(true); break; } case READ: { this.setVisible(true); this.setEnabled(false); break; } case HIDE: { this.setVisible(false); this.setEnabled(false); break; } } } public void replacePermissionAccess(ModifierAccess permissionAccess) { PermissionAccess.replacePermissionAccess(this, permissionAccess); } public ModifierAccess getModifierAccess() { return permissionAccess; } //...</span></span></code> </pre> <br><p>  The <em>PermissionAccess</em> class is the <code>final</code> class that performs the function. <del>  waste </del>  Class utils <del>  I myself do not like it but have not yet come up with another implementation </del>  , it takes the <em>PermissionAccessUI</em> component and, in accordance with the specified logic, increases the access level: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PermissionAccess</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//... public static void replacePermissionAccess(PermissionAccessUI component, ModifierAccess newValue) { switch (component.getModifierAccess()) { case EDIT: { if (newValue.equals(ModifierAccess.HIDE) || newValue.equals(ModifierAccess.READ)) break; component.setPermissionAccess(newValue); break; } case READ: { if (newValue.equals(ModifierAccess.HIDE)) break; component.setPermissionAccess(newValue); break; } case HIDE: { component.setPermissionAccess(newValue); break; } } } //... }</span></span></code> </pre> <br><h3 id="primery">  Examples </h3><br><h4 id="dannye">  Data </h4><br><p>  An example of creating a container of some abstract class describing a subject area (it is also <em>Bean</em> ), let's call it <em>Element</em> : </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Element</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Serializable</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Integer id = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String name = <span class="hljs-string"><span class="hljs-string">"element"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Float price = <span class="hljs-number"><span class="hljs-number">0.0F</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Element</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Integer id, String name, Float price)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.id = id; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = name; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.price = price; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Integer </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> id; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Integer id)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.id = id; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> name; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String name)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = name; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Float </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getPrice</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> price; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setPrice</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Float price)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.price = price; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">equals</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Object o)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> == o) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (o == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> || getClass() != o.getClass()) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; Element element = (Element) o; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Objects.equals(id, element.id) &amp;&amp; Objects.equals(name, element.name) &amp;&amp; Objects.equals(price, element.price); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hashCode</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Objects.hash(id, name, price); } }</code> </pre> <br><p>  Classic implementation according to <em>Bean</em> specification. </p><br><p>  For it we will create a container that will contain all the records. </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ElementContainer</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DataContainer</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Element</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ElementContainer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(Element.class); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initHeaders</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ addCaption(<span class="hljs-string"><span class="hljs-string">"id"</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span>, <span class="hljs-string"><span class="hljs-string">"price"</span></span>); addHeader(<span class="hljs-string"><span class="hljs-string">"ID"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>); addCollapsed(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> DataContainer </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loadAllData</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Element(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"name1"</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>)); add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Element(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"name2"</span></span>, <span class="hljs-number"><span class="hljs-number">2.0f</span></span>)); add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Element(<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">"name3"</span></span>, <span class="hljs-number"><span class="hljs-number">3.0f</span></span>)); add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Element(<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-string"><span class="hljs-string">"name4"</span></span>, <span class="hljs-number"><span class="hljs-number">4.0f</span></span>)); add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Element(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-string"><span class="hljs-string">"name5"</span></span>, <span class="hljs-number"><span class="hljs-number">5.0f</span></span>)); add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Element(<span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-string"><span class="hljs-string">"name6"</span></span>, <span class="hljs-number"><span class="hljs-number">6.0f</span></span>)); add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Element(<span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-string"><span class="hljs-string">"name7"</span></span>, <span class="hljs-number"><span class="hljs-number">7.0f</span></span>)); add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Element(<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-string"><span class="hljs-string">"name8"</span></span>, <span class="hljs-number"><span class="hljs-number">8.0f</span></span>)); add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Element(<span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-string"><span class="hljs-string">"name9"</span></span>, <span class="hljs-number"><span class="hljs-number">9.0f</span></span>)); add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Element(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">"name10"</span></span>, <span class="hljs-number"><span class="hljs-number">10.0f</span></span>)); add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Element(<span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-string"><span class="hljs-string">"name11"</span></span>, <span class="hljs-number"><span class="hljs-number">11.0f</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } }</code> </pre> <br><p>  Where in the <code>addCaption</code> , <code>addHeader</code> , <code>addCollapsed</code> the <em>property</em> of the <em>Element</em> class is listed, which will be used as columns, in what sequence, which headings and which ones will be hidden. </p><br><h4 id="realizaciya-klassov-dlya-ui">  Implementing Classes for UI </h4><br><p>  Implementing the <em>Workspace</em> class as a <em>MyLayout</em> class: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyLayout</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Workspace</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ElementContainer container = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ElementContainer(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> MyTabSheet tabSheet; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> MyMenu menu; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyLayout</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Logic logic)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(logic); tabSheet = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyTabSheet(); menu = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyMenu(<span class="hljs-string"><span class="hljs-string">"myMenu"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); logic.setDataToTable(container.loadAllData(), getTable()); setBottomTabs(tabSheet); setNavigator(menu); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> ItemClickEvent.<span class="hljs-function"><span class="hljs-function">ItemClickListener </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">editTableItemClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> itemClickEvent -&gt; { }; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> ItemClickEvent.<span class="hljs-function"><span class="hljs-function">ItemClickListener </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">selectTableItemClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> itemClickEvent -&gt; { }; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> ItemClickEvent.<span class="hljs-function"><span class="hljs-function">ItemClickListener </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">editTableAllItemClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> itemClickEvent -&gt; { }; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> ItemClickEvent.<span class="hljs-function"><span class="hljs-function">ItemClickListener </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">selectTableAllItemClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> itemClickEvent -&gt; { }; } }</code> </pre> <br><p>  Where behavior is described when selecting a record in a table with all components and the current container (methods <code>ItemClickEvent.ItemClickListener</code> ), here they are empty.  Also <code>logic.setDataToTable(container.loadAllData(), getTable())</code> here describes how to set the current container to a table. </p><br><p>  Implementing <em>MenuNavigator</em> in the <em>MyMenu</em> class: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyMenu</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MenuNavigator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyMenu</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String caption, Workspace parent)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(caption, parent); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (getAdd().getStyleName() == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) getAdd().setStyleName(ENABLE_BUTTON_STYLE); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> getAdd().setStyleName(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">delete</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (getDelete().getStyleName() == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) getDelete().setStyleName(ENABLE_BUTTON_STYLE); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> getDelete().setStyleName(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (getPrint().getStyleName() == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) getPrint().setStyleName(ENABLE_BUTTON_STYLE); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> getPrint().setStyleName(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>); } }</code> </pre> <br><p>  Where describes the change in the style of the pressed button and thus another mode should be included. </p><br><p>  And the last element describing the graphics <em>MyTabSheet</em> is the implementation of <em>BottomTabs</em> : </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyTabSheet</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BottomTabs</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyTabSheet</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initTabs</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ addCaption(<span class="hljs-string"><span class="hljs-string">"Tab1"</span></span>, <span class="hljs-string"><span class="hljs-string">"Tab2"</span></span>, <span class="hljs-string"><span class="hljs-string">"Tab3"</span></span>, <span class="hljs-string"><span class="hljs-string">"Tab4"</span></span>); addComponent(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Label(<span class="hljs-string"><span class="hljs-string">"label1"</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Label(<span class="hljs-string"><span class="hljs-string">"label2"</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Label(<span class="hljs-string"><span class="hljs-string">"label3"</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Label(<span class="hljs-string"><span class="hljs-string">"label4"</span></span>)); addResource(FontAwesome.AMAZON, FontAwesome.AMAZON, FontAwesome.AMAZON, FontAwesome.AMAZON ); } }</code> </pre> <br><p>  Where 4 bookmarks are created, in which the <em>Label</em> components are installed, and the Amazon icon is placed on all the bookmarks, <del>  do not count for advertising, just the letter A goes first </del>  . </p><br><p>  This results in the following interface: </p><br><p><img src="https://habrastorage.org/files/7c0/3f8/b64/7c03f8b64a01424baaa8a1e3aa34452e.png" alt="Picture from GitHub"></p><br><h3 id="zaklyuchenie">  Conclusion </h3><br><p>  Something happened a lot for the first time. <del>  But oh well </del>  The result is a simple framework that allows you to quickly create new interfaces for displaying a different set of data and describe the logic of working with them.  It is also planned to add components that allow the creation of reference book editors (lists), which will be an interface for filling databases.  Write a lot of tests (I will be happy with suggestions on how to test such things, because no ideas have yet appeared), as well as improve the API and the set of functions.  Also create functionality for working with databases. </p><br><h3 id="ps">  PS </h3><br><p>  This implementation arose in the course of the production situation, and the main application is for a specific customer, but I think this project can be used to solve other problems. </p><br><h3 id="blagodarnosti">  Thanks </h3><br><p>  <a href="https://habrahabr.ru/users/djeckson/">@djeckson</a> for developing the <a href="https://habrahabr.ru/users/djeckson/">FilterPanel</a> class for filtering and active participation in the project. </p><br><h3 id="ssylki">  Links </h3><br><p>  <a href="https://github.com/sah4ez/erp_vaadin_framework">Link to the repository</a> , there is a description of how to connect. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/318496/">https://habr.com/ru/post/318496/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../318482/index.html">Developing an Android widget to display a bitcoin course</a></li>
<li><a href="../318484/index.html">Fast Data Mining or C # vs Python Performance Comparison (pandas-numpy-skilearn)</a></li>
<li><a href="../318486/index.html">The operating temperature range of the Raspberry Pi. Test results</a></li>
<li><a href="../318488/index.html">How IT professionals celebrate New Year (survey infographic)</a></li>
<li><a href="../318494/index.html">Uninitialized variables: look for errors</a></li>
<li><a href="../318498/index.html">Liveedu.tv - streaming service for programmers and designers</a></li>
<li><a href="../318500/index.html">A fistful of relays. Part 3 - command decoder and control machine</a></li>
<li><a href="../318502/index.html">Intuitive programming</a></li>
<li><a href="../318504/index.html">Modern approach to garbage collection</a></li>
<li><a href="../318508/index.html">Little known Git commands</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>