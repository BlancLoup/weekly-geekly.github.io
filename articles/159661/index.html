<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Philip Torchinsky of Semonix: installing SmartOS and using Node.js on it</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On November 29, at the Yandex office in St. Petersburg, I will conduct a scientific seminar "DTrace - verification work for your code." At YaC 2012, t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Philip Torchinsky of Semonix: installing SmartOS and using Node.js on it</h1><div class="post__text post__text-html js-mediator-article">  On November 29, at the Yandex office in St. Petersburg, I will conduct a <a href="http://events.yandex.ru/events/science-seminars/Torchinskiy-nov-2012/">scientific seminar</a> "DTrace - verification work for your code."  At YaC 2012, those who listened to my <a href="http://events.yandex.ru/talks/301/">report, ‚ÄúThe Cloud Computing Infrastructure Based on the Illumos Core‚Äù</a> - and many others - know that in Semonix I am working on cloud technologies that are closely related to SmartOS.  At the seminar, I will tell you how to use DTrace technology to conduct in-depth performance analysis and study in detail the operation of the application.  A search on Habra finds only <a href="http://habrahabr.ru/post/126456/">one article about SmartOS</a> , and that more people who are already familiar with it came to the seminar, I decided to write in advance about installing SmartOS and using Node.js on it. <br><br>  To begin, tell you why you need SmartOS.  In short, its purpose is to be the host system for virtual machines.  It is often used as a basis for public and private clouds, such as Joyent and MITAC cloud services.  Joyent uses LinkedIn: all of its mobile backend is done on Node.js, which is running in the Joyent cloud.  We wrote about it in detail in the blog of Semonix in articles <a href="http://semonix.ru/neskolko-slov-o-smartos/">about SmartOS</a> and <a href="http://semonix.ru/category/blog/cloud-blog/">the clouds based on illumos</a> , and I told in the report on YaC 2012, which I already mentioned. <br><br>  Typical cases of using SmartOS are systems for data centers, systems for developing and operating a loaded web application, a platform for creating a private or public cloud.  When working on this article, I actively used <a href="http://stu.radnidge.com/post/30612112900">an article by Stu Radnidge</a> , who did about the same way of installing SmartOS as I did, but using VMware instead of VirtualBox. <br><a name="habracut"></a><br><h4>  Planning a test installation </h4><br>  Suppose you were one of those who are interested in trying SmartOS.  How is it easier to do?  I went along the simplest path that would prevent Windows or Linux from running in a virtual machine, but it would allow using SmartOS + Node.js in a ready way.  I will run SmartOS in VirtualBox.  It is clear that KVM in VirtualBox does not work under VirtualBox, and the rest should earn with a bang. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      SmartOS can be the host system for guests running Windows, Linux and SmartOS itself.  In this article, I consider only the version with guest systems running SmartOS.  They implement lightweight virtualization (the same as Solaris zones and something similar to cells in FreeBSD), and therefore, their work does not require KVM, which is supported only on physical computers.  The entire configuration is shown in the figure below.  SmartOS (host) is a system that is a guest relative to Windows on my laptop, and a host is relative to SmartOS systems running in zones within this SmartOS. <br>  Ôøº <br><img src="https://habrastorage.org/getpro/habr/post_images/aa1/78e/49c/aa178e49cbc06c72c82807a639cc1b7b.png" width="975" height="603"><br><br>  SmartOS will be installed in a virtual machine with two network interfaces.  What for?  Very simple: I want from my host system (in this case, Windows) to connect with normal ssh to SmartOS so that you can open several windows - at least one for each guest system inside my SmartOS. <br><br>  Why not use the graphical mode in the console and run the necessary number of xterm or gnome-terminal there?  The fact is that the graphics (‚ÄúX‚Äù - X) in SmartOS is not installed.  There is a project to transfer X11 support to SmartOS, but so far it has not been completed, and Jonathan Perkin, who is leading this project on a voluntary basis, told me that the deadline for working on it is unknown.  Therefore, if I want to open five windows with ssh to my SmartOS, I will need TCP access from my host system to SmartOS in VirtualBox. <br><br>  In addition, VirtualBox Guest Additions cannot be installed in the SmartOS guest machine, allowing you to cut-and-paste between the guest system and the host system in which I write an article (and want to copy texts from the terminal into it).  Theoretically, I think you can install Guest Additions (in fact, you need to install kernel modules), but for Solaris-like systems, Guest Additions comes in the form of a package in .pkg format, which is not supported in SmartOS.  I decided that there would be more trouble with unpacking the package and manually screwing the module to the kernel than with ssh access from the host system. <br><br>  Why do we need a second interface?  So that SmartOS can go online via NAT for packets.  This restriction on the conditions of the task is imposed by VirtualBox - it is possible to make a virtual machine with NAT / DHCP accessible from the host system in it otherwise it is only possible via the bridged network, and this is not always convenient.  It is beyond the scope of this article to discuss cases when it is not very convenient (or not supported on certain host systems or versions of VirtualBox), but believe me, it happens.  The simplest options are: you‚Äôve run out of DHCP addresses on the network where you have a physical computer connected to, or you don‚Äôt want to watch every time what address is given to the system before ssh cling to it. <br><br><h4>  How to make two network interfaces in VirtualBox </h4><br>  Configuring a virtual machine so that it has 2 network adapters is elementary: on the Network tab, you just need to specify that not only the first adapter is active in the host adapter mode, but the second one is in the NAT mode (see the figure below).  Please note that for SmartOS it makes sense to choose a type of Solaris 10 10/09 or later (64 bit) virtual machine.  It is possible that the Solaris 11 variant will work better.  I have no problems and delays earned and so. <br><br><h4>  What else needs to be configured? </h4><br><br>  You need to connect the latest.iso file to the virtual machine CD-ROM - SmartOS will be loaded from it. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/138/eea/7d9/138eea7d90c11ed7739833bc02394d60.png" width="975" height="729"><br>  Ôøº <br>  After booting for the first time, the system will ask a few questions about the settings (in particular, the root password), format the disk, create a ZFS pool on the disk, and write the settings to the disk.  After the reboot, you should see something like the one below. <br>  Ôøº <br><img src="https://habrastorage.org/getpro/habr/post_images/c7e/25e/130/c7e25e130cdba77b4e8e16adaa93f05f.png" width="975" height="639"><br><br>  Log in as root using the password you set earlier.  Already, you can connect to SmartOS using ssh, for this you only need to know what the server address is: <br><br><pre><code class="bash hljs">ipadm show-addr</code> </pre> <br><br><h4>  How to make two network interfaces in SmartOS </h4><br>  The system configuration in SmartOS is stored in the / usbkey / config file.  The / usbkey file system is mounted from disk, unlike / etc, which is always loaded from a LiveCD or LiveUSB and mounted on a RAM disk.  Therefore, changes made to the files from / etc will be lost upon reboot, and saved in / usbkey. <br>  The / usbkey / config file is created when you first start SmartOS on your computer, and by default it describes only the first interface in the system.  In order to see the second one, it is necessary to slightly modify the file.  To modify it, we will need to know the MAC addresses of the interfaces.  To do this, you can use the command <br><pre> <code class="bash hljs">dladm show-phys -m</code> </pre> <br><pre> <code class="bash hljs">LINK SLOT ADDRESS INUSE CLIENT e1000g0 primary 8:0:27:f7:e9:a3 yes e1000g0 e1000g1 primary 8:0:27:d0:35:3b no --</code> </pre><br><br>  Now modify the / usbkey / config file so that it looks like this: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># # This file was auto-generated and must be source-able by bash. # # admin_nic is the nic admin_ip will be connected to for headnode zones. admin_nic=8:0:27:f7:e9:a3 admin_ip=dhcp admin_netmask= admin_network=... admin_gateway=dhcp external_nic=8:0:27:d0:35:3b external_ip=dhcp external_netmask=255.255.255.0 external_gateway=dhcp dns_resolvers=8.8.8.8,8.8.4.4 dns_domain= ntp_hosts=pool.ntp.org compute_node_ntp_hosts=dhcp</span></span></code> </pre><br><br><h4>  Creating a Virtual Machine Inside SmartOS </h4><br>  First you need to download a virtual machine image.  To do this, you need to update the list of images: <br><pre> <code class="bash hljs">imgadm update</code> </pre> <br>  And now let's see what ready-made images are in the repository: <br><pre> <code class="bash hljs">imgadm avail</code> </pre> <br><br><pre> <code class="bash hljs">UUID OS PUBLISHED URN 78ab4d60-2610-11e2-b3f7-b3bd2c369427 linux 2012-11-04 sdc:jpc:ubuntu-12.04:2.1.2 6a67c702-2083-11e2-b4fa-03f9d1d64ef0 linux 2012-10-28 sdc:jpc:ubuntu-12.04:2.1.1 b00acc20-14ab-11e2-85ae-4f03a066e93e smartos 2012-10-12 sdc:sdc:mongodb:1.4.0 1fc068b0-13b0-11e2-9f4e-2f3f6a96d9bc smartos 2012-10-11 sdc:sdc:nodejs:1.4.0 8700b668-0da4-11e2-bde4-17221283a2f4 linux 2012-10-03 sdc:jpc:centos-6:1.3.0 55330ab4-066f-11e2-bd0f-434f2462fada smartos 2012-09-25 sdc:sdc:base:1.8.1 60a3b1fa-0674-11e2-abf5-cb82934a8e24 smartos 2012-09-25 sdc:sdc:base64:1.8.1 ...</code> </pre><br><br>  Now we have a list of images available for installation.  Here is only a part of the list - it is much longer.  At the time of this writing, 96 images were available in the repository.  We are interested in the base64 image - the minimum system that includes node.js.  Currently the latest version of this image is 1.8.1 (includes node 0.8.9), and its UUID is 60a3b1fa-0674-11e2-abf5-cb82934a8e24. <br><br>  Download the virtual machine image: <br><pre> <code class="bash hljs">imgadm import 60a3b1fa-0674-11e2-abf5-cb82934a8e24</code> </pre><br><br>  Now we will make a description of the virtual machine that we will create based on the image we just downloaded and run it inside the SmartOS host. <br><br>  The description is done in the form of a JSON file (the process details are described in the documentation on smartos.org, I‚Äôll just put a working example here - let us have it in /zones/template.json).  The file should lie in the file system, which is located on the disk and saved between reboots, most conveniently in / zones. <br>  Pay attention to dataset_uuid - this is the same UUID that belongs to the image just received from the repository.  In the zone there will also be two network interfaces - ‚Äúinternal‚Äù and ‚Äúexternal‚Äù.  This setting is used in data centers in real life: the internal network in which the data center administrators are working is connected to the internal interface, the Internet from where the clients come from is connected to the external one. <br><pre> <code class="bash hljs">{ <span class="hljs-string"><span class="hljs-string">"brand"</span></span>: <span class="hljs-string"><span class="hljs-string">"joyent"</span></span>, <span class="hljs-string"><span class="hljs-string">"dataset_uuid"</span></span>: <span class="hljs-string"><span class="hljs-string">"60a3b1fa-0674-11e2-abf5-cb82934a8e24"</span></span>, <span class="hljs-string"><span class="hljs-string">"max_physical_memory"</span></span>: 1024, <span class="hljs-string"><span class="hljs-string">"nics"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"nic_tag"</span></span>: <span class="hljs-string"><span class="hljs-string">"admin"</span></span>, <span class="hljs-string"><span class="hljs-string">"ip"</span></span>: <span class="hljs-string"><span class="hljs-string">"dhcp"</span></span>, <span class="hljs-string"><span class="hljs-string">"gateway"</span></span>: <span class="hljs-string"><span class="hljs-string">"dhcp"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"nic_tag"</span></span>: <span class="hljs-string"><span class="hljs-string">"external"</span></span>, <span class="hljs-string"><span class="hljs-string">"ip"</span></span>: <span class="hljs-string"><span class="hljs-string">"dhcp"</span></span>, <span class="hljs-string"><span class="hljs-string">"gateway"</span></span>: <span class="hljs-string"><span class="hljs-string">"10.0.3.2"</span></span> } ] }</code> </pre><br><br>  Now we are creating a new SmartOS virtual machine (for brevity, we will further call it a ‚Äúzone‚Äù): <br><br><pre> <code class="bash hljs">vmadm create -f /zones/ template.json</code> </pre> <br><br>  If everything turned out fine, you can see the running new zone, giving the command <br><pre> <code class="bash hljs">vmadm list UUID TYPE RAM STATE ALIAS 570cccb2-0511-400b-9143-7616b2ca8a3d OS 1024 running -</code> </pre><br><br>  Now you can connect to the new zone either from the SmartOS console or via ssh: <br><pre> <code class="bash hljs">zlogin 570cccb2-0511-400b-9143-7616b2ca8a3d</code> </pre><br>  Note: The UUID of a zone is different from the UUID of a zone image, because you can create many zones from the same image.  Up to 8191 virtual machines can be running simultaneously on a single SmartOS host system. <br><br>  To connect to the zone via ssh, you should clarify what address it was given to, you first need to join it through zlogin, and then find out the address: <br><pre> <code class="bash hljs">zlogin 570cccb2-0511-400b-9143-7616b2ca8a3d ipadm show-addr</code> </pre><br><h4>  Package management </h4><br>  Now you can install any packages we need in the zone.  To do this, you need to update information about available packages using <b>pkgin update</b> , get their list of <b>pkgin list</b> or search for the required using <b>pkgin search</b> .  To install the package, use <b>pkgin install</b> . <br><br><h4>  How to run Node.js </h4><br>  Suppose you were not familiar with Node.js before.  Then for starters, you can make a very simple web application that produces a banal Hello, World!  You can start mastering Node.js with a <a href="http://nodebeginner.ru/">well-known guide</a> .  Following it, we create our Hello, World. <br><br>  To do this, connect to the zone <br><pre> <code class="bash hljs">zlogin 570cccb2-0511-400b-9143-7616b2ca8a3d</code> </pre><br>  and create, for example, the server.js file with the following contents in the / home / node directory: <br><pre> <code class="bash hljs">var http = require(<span class="hljs-string"><span class="hljs-string">"http"</span></span>); http.createServer(<span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(request, response) { response.writeHead(200, {<span class="hljs-string"><span class="hljs-string">"Content-Type"</span></span>: <span class="hljs-string"><span class="hljs-string">"text/plain"</span></span>}); response.write(<span class="hljs-string"><span class="hljs-string">"Hello World"</span></span>); response.end(); }).listen(80);</code> </pre><br>  Now run <b>node /home/node/server.js</b> and access our zone from a regular browser.  In my case, this required setting up routing between the zone and the Windows host system: <br><br>  In the area: route add 192.168.56.1 192.168.56.101 <br>  On Windows: route add 192.168.56.102 192.168.56.101 <br><br>  The address 192.168.56.1 is the VirtualBox interface in Windows, 192.168.56.101 is the SmartOS host system, 192.168.56.102 is the zone in it. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/207/c40/5c4/207c405c4b5e77defe616b7942839c70.png" width="975" height="639"><br><h4>  How to use DTrace with Node.js? </h4><br>  The DTrace provider for a node is called (surprise!) Node.  Since this is a provider of the USDT type, its sensors should be specified either in the form of <b>node * ::: &lt;sensor name&gt;</b> , or with an indication of a specific PID of the node process, for example, <b>node3297 ::: &lt;sensor name&gt;</b> . <br><br>  A live example of using DTrace to monitor the operation of your server under Node.js is logging calls to it.  To find out which requests are received by servers from different zones (a typical case for a hosting provider), run a short script: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># dtrace -L /var/lib/dtrace -n 'node*:::http-server-request{printf("%s: %s of %s\n",zonename, args[0]-&gt;method, args[0]-&gt;url)}' -q 570cccb2-0511-400b-9143-7616b2ca8a3d: GET of / 570cccb2-0511-400b-9143-7616b2ca8a3d: GET of /favicon.ico 570cccb2-0511-400b-9143-7616b2ca8a3d: GET of / 570cccb2-0511-400b-9143-7616b2ca8a3d: GET of /favicon.ico 570cccb2-0511-400b-9143-7616b2ca8a3d: GET of / 570cccb2-0511-400b-9143-7616b2ca8a3d: GET of /favicon.ico</span></span></code> </pre><br>  To see from which addresses requests come, you can slightly modify the script: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># dtrace -L /var/lib/dtrace -n 'node*:::http-server-request{printf("%s: %s of %s\n",args[1]-&gt;remoteAddress, args[0]-&gt;method, args[0]-&gt;url)}' -q 192.168.56.1: GET of / 192.168.56.1: GET of / 192.168.56.1: GET of /favicon.ico 192.168.56.1: GET of / 192.168.56.1: GET of /favicon.ico 192.168.56.1: GET of / 192.168.56.1: GET of /</span></span></code> </pre><br>  The following sensors are available for a node in DTrace: <br><br>  gc-start <br>  gc-done <br>  http-client-request <br>  http-client-response <br>  http-server-request <br>  http-server-response <br>  net-server-connection <br>  net-socket-read <br>  net-socket-write <br>  net-stream-end <br><br>  If you find that some sensors are unavailable, this is a sure sign that you do not have the /usr/lib/dtrace/node.d file.  Then you need to create the directory / var / lib / dtrace /, download the file there (it is located at <a href="">https://raw.github.com/joyent/node/master/src/node.d</a> ) and run dtrace with the ‚ÄìL / key var / lib / dtrace / (it means ‚Äúinclude in the search path of the DTrace libraries the directory specified after the L key). <br><br>  A detailed description of sensors with code examples (in English) is available on the page <a href="&amp;xid=17259,15700022,15700043,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhjUul8fNVB_cNp0J-oqA6An4nxy6Q#">dtrace.org/blogs/rm/2011/03/01/dtrace-probes-for-node-v0-4-x/#httpd</a> (however, it is about the outdated version of Node.js). <br><br><h4>  Conclusion </h4><br>  The special beauty of SmartOS settings is that once installed, they do not need to be repeated after the update is released.  You can download the latest latest.iso, replace it with the previous one and boot from the new one.  All settings, virtual machines and files inside them will be picked up automatically, as no one changes anything in them - only the loaded image is changed, and the settings exist separately from it. <br><br>  Those who are interested to hear my story about DTrace will be waiting for November 29 at 7:00 pm in the Petersburg office of Yandex.  The seminar is completely free, but the number of seats is limited, so you need to <a href="http://events.yandex.ru/events/science-seminars/Torchinskiy-nov-2012/">register</a> .  For those who do not get on it, the organizers will provide <a href="http://events.yandex.ru/events/science-seminars/Torchinskiy-nov-2012/">online broadcasting</a> .  And for those who are going to say that you need to bring laptops with SmartOS installed under VirtualBox, because an important part of the seminar will be solving practical problems. <br><br>  The meeting will be useful to anyone interested in analyzing the performance of applications on UNIX-like systems, especially software developers for Solaris, software developers for Node.js, system administrators, and others responsible for performance (if they work with FreeBSD, Solaris, QNX, OpenIndiana, SmartOS and others that support DTrace). </div><p>Source: <a href="https://habr.com/ru/post/159661/">https://habr.com/ru/post/159661/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../159637/index.html">Runetology (174): Alexander Kazakov, founder of Navitel</a></li>
<li><a href="../159639/index.html">Tracks Flow is open</a></li>
<li><a href="../159643/index.html">"Sound in my ears," or five computer headsets: review and comparison</a></li>
<li><a href="../159649/index.html">Pushover push notification service for Android and iOS in conjunction with PHP</a></li>
<li><a href="../159657/index.html">The story of how the James Bottomley of the Linux Foundation tried to sign in Microsoft boot for UEFI secure boot</a></li>
<li><a href="../159663/index.html">Apocalypse in a month !? - it is necessary to have time to earn ...</a></li>
<li><a href="../159665/index.html">Intel absorbs the developer of ARM chips - the company ZiiLabs</a></li>
<li><a href="../159667/index.html">Youtube.com removed from zapret-info.gov.ru</a></li>
<li><a href="../159669/index.html">Duqu - a malicious matryoshka</a></li>
<li><a href="../159673/index.html">In which language do you usually write code comments?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>