<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Simplify Backup and Restore with HPE StoreOnce RMC</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="How much is one hour of unplanned downtime at your organization? According to Gartner research , the average cost per minute for industries is $ 5,600...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Simplify Backup and Restore with HPE StoreOnce RMC</h1><div class="post__text post__text-html js-mediator-article">  How much is one hour of unplanned downtime at your organization?  According <a href="https://www.gartner.com/doc/2333115/ensure-cost-balances-risk-highavailability">to Gartner research</a> , the average cost per minute for industries is $ 5,600.  These numbers suggest that your organization's applications need to be protected and backups play a key role in building a business without downtime and maintaining a given service level agreement (SLA).  Otherwise ... Otherwise, expect something white and fluffy :) <br><br> <a href="https://habrahabr.ru/company/hpe/blog/276499/"><img src="https://habrastorage.org/getpro/habr/post_images/ebb/b7d/3df/ebbb7d3df4b5ef2149b080082871d40f.jpg"></a> <br><a name="habracut"></a><br>  What stratum of backup storage is hidden behind backing up only 1TB of productive data?  In fact, it‚Äôs huge: suppose that the data on this 1TB volume is really very important and our backup policy for this volume is as follows: <br><br>  - we do full backups every day and store them for a week (5 full 1TB backups); <br>  - weekly backups are stored for 4 weeks (4 full 1TB backups); <br>  - store monthly backups of the year (12 full 1TB backups); <br>  - To protect against site failure, we completely back up to a remote site (a complete copy of site data 1). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Total for 2 sites in the amount we need storage for backups of 42TB!  Here an analogy with the tip of the iceberg suggests itself - often we take into account only the visible tip, not taking into account the huge volume hidden from the eyes ... <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/500/2cc/c60/5002ccc60e35ec0d9f1b72d4809bf7a0.png"></div><br>  How can data be protected?  First, you can store copies of productive data on tapes.  But in this case, it is necessary to constantly check the status of the recorded data, know where the tapes themselves are stored and be patient with recovery ‚Äî the speed will rest on the slow mechanics of the tape drives. <br><br>  Secondly, you can store copies of data as snapshots on the most productive storage system.  But in this case, we risk losing both the productive data and the snapshots in the event of a power outage or storage failure. <br><br>  On the other hand, more and more customers are opting for all-flash arrays to serve the most demanding business applications. <br><br>  These factors explain the reason for creating a class of specialized disk data backup and disaster recovery systems that meet these challenges ‚Äî HPE StoreOnce. <br><br><h2>  <font color="#00b882">About HPE StoreOnce</font> </h2><br>  HPE StoreOnce systems are hardware systems for backing up data with online deduplication at the level of blocks of variable length.  System variants cover a full range of customers from the initial to the corporate level: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0c6/a52/af7/0c6a52af7faf94af90db0e3079e1f022.png"><br>  <i><font color="#999999">The numbers denote the usable capacity without deduplication.</font></i> <br><br>  What are the benefits of HPE StoreOnce backup systems?  In brief, the advantages are as follows (expect a detailed description of the benefits in one of the following articles). <br><br>  First, HPE StoreOnce systems support online deduplication with variable-length blocks, and also allow you to transfer data between different systems in a compressed form, using even slow WAN channels. <br><br>  Secondly, in addition to hardware systems, for small sites, you can use the virtual system StoreOnce VSA, which can be deployed on any server that supports virtualization.  Between software and hardware, the data will also be moved in a compressed form, and you can manage such bundles from one console.  A single family architecture allows you to combine devices of a different class into a common system of protecting information at the enterprise level to provide various requirements for service levels and the duration of backup windows for different departments. <br><br>  Third, HPE StoreOnce older systems support a configuration with 8 controllers, which provides full redundancy at the hardware level and protects against a system crash in the event of a controller failure. <br><br>  Fourth, any HPE StoreOnce system checks the consistency (integrity) of data throughout the entire storage period ‚Äî from simple checksum checks that detect block damage during data transfer, integrity control at the file system level and RAID group, and to create high availability configurations . <br><br>  Fifth, HPE StoreOnce systems have received high marks from global analytical agencies in comparison with competitive offers in the market (links to analyst reports at the end of the article). <br><br>  Sixthly, and let's dwell on this in more detail in this article, the HPE StoreOnce system supports seamless integration with HPE 3PAR productive storage systems - the so-called.  Flat Backup mechanism through the use of HPE StoreOnce Recovery Manager (RMC). <br><br><h2>  <font color="#00b882">HPE StoreOnce RMC</font> </h2><br>  HPE StoreOnce Recovery Manager is specifically designed to simplify the backup of productive data from HPE 3PAR arrays to HPE StoreOnce systems. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5f0/b68/45b/5f0b6845b7d50dc318af42b2360ef46d.png"><br><br>  When switching to solid-state drives on productive storage systems, traditional tape backup schemes (with a full copy of all information once a week and a daily incremental backup) must be upgraded because data changes much more often than it did in the era of traditional disk arrays.  HPE 3PAR StoreServ technologies allow you to do this in the simplest way - by directly copying ‚Äúsnapshots‚Äù of volumes that are consistent from the point of view of business applications to a separate HPE StoreOnce device with deduplication.  Administrators of a disk array or virtual environment can run this task without being bound by the routine procedures of a traditional backup.  The speed and ability of granular recovery, up to individual virtual machine files, as well as the lack of backup software in this scheme, allow you to create the most efficient solution for data protection of the most demanding transactional systems. <br><br>  HPE RMC allows administrators to create hundreds of copies of virtual machine volumes and quickly recover them.  VMware administrators can manage snapshots of production volumes from a single console. <br><br><h2>  <font color="#00b882">A little about snapshots</font> </h2><br>  To create consistent snapshots in the RMC, a vCenter plug-in is used.  As soon as the administrator issues a command (or automatically on a schedule), the virtual machine switches to backup mode and resets the state of the file system and RAM to the storage system.  Next, on the storage system side, the mechanisms for working with snapshots are enabled.  The HPE 3PAR storage system has the ability to monitor changes at the block level, thanks to the built-in SnapDiff mechanism.  After the data has been written on the array, it is sent as modified blocks in StoreOnce.  Combining the block change control mechanism on 3PAR with the logical indexing mechanism of the StoreOnce systems, RMC controls that only unique blocks are transmitted over data channels.  This seriously reduces the bandwidth requirements of communication channels. <br>  In addition, the administrator can create a script of ‚Äúfull synthetic‚Äù backups.  When modified blocks are sent from the HPE 3PAR to StoreOnce Catalyst, the indexing algorithm creates a data map based on the already recorded and newly received data.  In this case, the full backup is updated, and the difference between the backup before the change and after the change is written to disk.  Thus, the administrator, in the event of a system crash, restores only one synthetic full backup, instead of restoring first the full ‚Äúold‚Äù backup and several incremental ones, which saves a lot of time. <br><img src="https://habrastorage.org/files/83b/665/562/83b6655629834ba39a69b1c6ff606120.png"><br>  <font color="#00b882"><i>Scheme of synthetic full backups</i></font> <br><br>  In addition, such snapshots are completely autonomous and can be restored on any 3PAR array. <br>  Let's see how the StoreOnce RMC software is deployed and how the productive storage system is integrated with the backup system. <br><br><h2>  <font color="#00b882">HPE StoreOnce RMC Software Deployment Steps</font> </h2><br>  <b>1.</b> Deploy the HPE StoreOnce RMC virtual machine into vCenter.  Everything is simple, we will not dwell in detail (Hosts and Cluster - Action - Deploy from OVF template). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/53c/d64/475/53cd644752585718e8513aa9f0ffecab.png"><br><br>  <b>2.</b> Check that the machine is deployed and go to the console: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cc2/ff7/52f/cc2ff752f3554fafc7601848c05e5624.png"><br><br>  <b>3.</b> While there are no systems, so add.  We start with a productive storage system (StoreOnce RMC - Storage Systems - Add Storage System): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/df2/361/d71/df2361d71fefe0bef1efbdcbaf7fd312.png"><br><br>  <b>4.</b> Enter the IP address of the system, user and password and connect our productive storage: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bcc/f7c/e93/bccf7ce932d5b0817383bbec387a2ced.png"><br><br>  <b>5.</b> Next we connect our HPE StoreOnce backup system and observe that both systems are connected and working, the green color of the Storage Arrays and Backup Devices sections tells us about this (by the way, the HPE RMC software interface resembles the HPE OneView software, so, for example, server administrators infrastructure will be easy and understandable to work in the interface of RMC): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bca/ff6/e39/bcaff6e391c42096868bd0511dc75e07.png"><br><br>  <b>6.</b> Next, configure the ports of the productive storage system for backup, to do this, launch the SSMC 3PAR console, select Dashboard - Ports and start the configuration, in our case, from the list of available ports, select the 0: 2: 1 port with iSCSI interface: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/22c/9ba/2ab/22c9ba2ab1c7e4f089b2d66806e0a4a6.png"><br><br>  <b>7.</b> Configure feedback in the HPE StoreOnce RMC console. To do this, in the RMC console, click on the green circle of Storage Systems and in the Storage System Transport Protocols section, click the + Create button and set the iSCSI type: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8fd/79d/b4a/8fd79db4a4dc6f82e99457d74c9de063.png"><br><br>  <b>8.</b> After that, we create a volume on the productive array, which we need to protect, to do this, we return to the storage system console, go to the Virtual Volumes section and click + Create Virtual Volumes, set the volume parameters, on which media it will be located and what hosts it will be presented: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d14/010/eb1/d14010eb11b0f6f240111f6efc88d123.png"><br><br>  <b>9.</b> Now on the host to which the volume is presented, you need to connect via iSCSI to 3PAR (for this, we find an iSCSI initiator and connect to the array in the 3PAR console opposite the port we need), then connect the host to the array, initialize and search for new devices Tom.  After that we create a document that we will protect: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/91b/434/c7c/91b434c7ce93de79977b55b03ced12c2.png"><br><br>  <b>10.</b> Create a very important document on the new disk of our host :) <br><br><img src="https://habrastorage.org/getpro/habr/post_images/db0/649/a74/db0649a745346c241e205afbe8704522.png"><br><br>  <b>11.</b> After creating the volume and writing important information to it, you need to return to the HPE StoreOnce RMC console and set the backup rules for this volume. To do this, in the RMC console, in the Storage Systems section, click + New Recovery Set (here, after setting the Remove Oldest Snapshot and Remove Oldest Express Protect Backup, you can flexibly control the depth of attachments of our snapshots and backups), after setting the name, we check that the policy is created for the required volume, for this we scroll down and click the required volume in the Volume Selection part: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/16e/c25/228/16ec2522836701ce54d2ce614c7e435e.png"><br><br>  <b>12.</b> Now in the RMC console, go to the Backup Systems setup, for this, select + New Store in the backup systems section, enter the StoreOnce system address, login and password, and configure the backup storage parameters: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/05b/cdd/ca5/05bcddca575c93df9d47aee5480779b1.png"><br><br>  <b>13.</b> Check in the HPE StoreOnce console that the RMC created the storage on our backup system: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/336/6cb/c0c/3366cbc0c87dbbf849ee44ef242e0483.png"><br><br>  <b>14.</b> Now, in the StoreOnce RMC software console, you can back up our volume and configure copying parameters according to the schedule or recovery, for this, select Data Protection and the + Protect Now button in the console menu: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6b8/f7e/246/6b8f7e246ee31f8cb7b9ef38a584daf6.png"><br><br>  <b>15.</b> Create a Snapshot: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/817/6c3/24d/8176c324d1abf8caa710ce6b40e5f123.png"><br><br>  <b>16.</b> After performing the backup, check its execution in the HPE StoreOnce RMC console using the Completed Jobs parameter, and also see the deduplication ratio on the backup system: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6e1/b12/cc6/6e1b12cc60db20c6a46351a951408319.png"><br><br>  Now our data is securely protected, and we can test the restoration of a copy in the event of a disaster. To do this, in the Data Protection section, you can select the Restore Now button and restore a copy of our volume to the productive array. <br><br>  Thus, HPE StoreOnce RMC allows you to simplify management of the backup process, speed up the creation and restoration of backup copies of data, and administrators get a single language of communication between productive storage systems and backup systems (while this is only about HPE products). <br><br>  Study Material: <br><ul><li>  <a href="http://www.hpe.com/storage/StoreOnce">HPE StoreOnce hardware systems</a> </li><li>  <a href="http://www.hpe.com/storage/StoreOnceVSA">HPE StoreOnce VSA Software</a> </li><li>  <a href="http://www.hpe.com/storage/freebackup">Free license for StoreOnce VSA software for 1TB</a> </li><li>  <a href="http://www.hpe.com/storage/RMC">HPE StoreOnce RMC</a> </li><li>  <a href="http://www.hpe.com/storage/RMCdownload">Download HPE StoreOnce RMC Product</a> </li><li>  <a href="http://www.hpe.com/storage/RMCdocs">HPE StoreOnce RMC Documentation</a> </li><li>  <a href="http://www8.hp.com/h20195/V2/getpdf.aspx/4AA5-5173ENW.pdf%3Fver%3DRev%25203">Converged Data Protection StoreOnce RMC</a> </li><li>  <a href="http://www.dcig.com/2015/04/hp-storeonce-deduplicating-backup-appliances-put-organizations-on-path-to-ending-big-data-backup-headaches.html">DCIG company analysis report</a> </li><li>  <a href="http://www.dcig.com/2014/11/dcig-2014-15-deduplicating-backup-appliance-buyers-guide-now-available.html">Advanced Report</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/276499/">https://habr.com/ru/post/276499/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../276489/index.html">Tools for A / B testing iOS applications</a></li>
<li><a href="../276491/index.html">SSI website: HTML, XML, XSLT</a></li>
<li><a href="../276493/index.html"># Little good news</a></li>
<li><a href="../276495/index.html">Import dictionary in Lingualeo.com</a></li>
<li><a href="../276497/index.html">Winter School "Internet of Things on the Intel Edison Platform." Nizhny Novgorod, February 8-13</a></li>
<li><a href="../276501/index.html">Cybercriminals use Amazon server to manage Win32 / Bayrob malware</a></li>
<li><a href="../276503/index.html">How to catch a virus in the password-protected archive</a></li>
<li><a href="../276505/index.html">We are not carpenters, not carpenters ... And we are programmers-workers, yes. And install applications on servers of several environments</a></li>
<li><a href="../276509/index.html">Selection of useful utilities SCSS</a></li>
<li><a href="../276517/index.html">C #, PVS-Studio, ReSharper</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>