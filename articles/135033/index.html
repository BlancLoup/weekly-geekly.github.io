<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Hyperburg - a three-dimensional version of the game "Carcassonne"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, at one of the forums devoted to multidimensional spaces, the question was asked: ‚ÄúAnd which games are implemented in non-trivial spaces, in ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Hyperburg - a three-dimensional version of the game "Carcassonne"</h1><div class="post__text post__text-html js-mediator-article">  Recently, at one of the forums devoted to multidimensional spaces, the question was asked: ‚ÄúAnd which games are implemented in non-trivial spaces, in particular, is there a realization of the game Carcassonne on the Lobachevsky plane?‚Äù I found the question interesting, especially since I never heard of. <br><br>  And in vain!  The game was simple enough to try to adapt it to different spaces.  This is a board game.  Players take turns putting cards on the table with fragments of a map of the area, trying to fold a coherent map.  During the game, players can capture some elements of the field, and get points for the completed elements. <br><br>  It is clear that the scope for generalizations towards non-trivial geometry is enormous.  It is possible to develop instead of square cards triangular or hexagonal.  You can stack square cards on the surface of the cube (8 special points will appear in which 3 and not 4 cards converge, but this is not very important).  You can draw on the Lobachevsky plane a square grid, at each vertex of which 5 (or 6, or infinitely many) squares converge.  And you can replace square cells with cubic ones and build a map in space. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I chose the last option.  It was very interesting to see how the terrain map would look on a four-dimensional planet. <br><br><a name="habracut"></a><br><br>  To begin with, it was necessary to decide which version of the game I would adapt: ‚Äã‚Äãthere are several different basic sets of cells and rules that also have extensions with additional elements and objects.  The choice fell on the option "Discovery" (aka "New World", aka "New Earths").  There the land is divided into three areas (seas, mountains, plains), and for completed (and even unfinished) objects you can get points. <br><br>  The first estimates showed that the three types of regions will be small: on average, the cube will have two faces of each color, and one can expect infinite growth of connected regions.  Therefore, I immediately added a fourth type (desert) and set about implementing it. <br><br>  Alas ... after only a few dozen tiles laid out, it became clear that it would not be possible to sort out the resulting map.  The surface turned out to be too ragged, the translucent borders between areas of different colors were mixed, and it was impossible to understand how far this or that area stretches in any way: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a48/cc8/119/a48cc8119ef87c63872aab57a1b75f15.png"><br><br>  Later I found a couple of ways giving a chance to make this option more or less understandable, so maybe I‚Äôll come back to it.  But so far it was necessary to look for something that allows you to make an interface that is clear and suitable for the game.  And the following rules of simplicity were in the basic version of the game. <br><br>  In the basic version there are four elements of topography: cities, roads, monasteries, and fields, which occupy the rest of the territory.  Players in the process of the game can occupy roads (areas limited by ends or intersections), cities (areas limited by walls), monasteries (individual cells) and fields.  For completed objects (except for fields) points are awarded (objects are released at the same time), and fields are evaluated only at the end of the game. <br><br>  It is clear that in the three-dimensional case, the idea of ‚Äã‚Äãa field, as an element of topography, does not work: roads do not divide the earth into parts, and in most cases the entire map turns out to be one large field interspersed with cities.  To keep the interest, I added another similar pair to the cities and roads - the sea and the river.  With a slightly different scoring: if a city is estimated by area, then the sea is based on the number of ports (cells where rivers flow into it and sections bordering cities), and in rivers, unlike roads, intersections are not the boundaries of the section.  But these are all cosmetic edits.  The first question is what the playing field will look like and what game cards will be. <br><br>  For the game, it is necessary that the fragments of objects on the new cells continue unfinished objects that are already on the field.  So, the edges of the cells should provide convenient opportunities for their joining.  The easiest way to achieve this is to make the relief on the facets symmetrical ‚Äî so that any two cells with faces of the same type can join along these faces in any of four possible ways.  The selected game elements (plain, river, sea, road, city) provide such an opportunity: it is enough that the city and the sea can occupy the edges only as a whole, and the roads and rivers pass through the centers of the faces.  If such a relief detail as canyons (two-dimensional surfaces that divide space into parts) were added, then this method would not work - we would have to take into account the mutual orientation of the cells relative to the axis passing through their centers.  But in the current version of the game there are no canyons. <br><br>  I divided the cell into 7 zones: 6 correspond to the faces and have the shape of truncated square pyramids, and the seventh - in the center, has the shape of a cube.  External zones can be in one of 5 states (all but the monasteries), internal - in one of six.  The geometry and topographic properties of a cell are completely determined by the states of its zones: two sections of the sea or a city belonging to adjacent faces are adjacent, if exactly two faces of the cell (and adjacent) are in the ‚Äúroad‚Äù state, then the road connects the centers of these faces (otherwise connects the face with the central zone).  And there are a few limitations.  For example, if a cell contains three or more roads, then the central zone should be a ‚Äúcity‚Äù (and play the role of an intersection). <br><br>  I was afraid to list all possible cells, and I chose random generation: first, the state of all faces is determined by the cell (with certain probabilities: plain - with 1/2 probability, river and road - by 1/6, sea and city - by 1/12) , then the possible states of the central cell are determined.  If a monastery is possible in the center, it is placed with a probability of 1/8, and if this does not happen, the state is chosen equiprobably from all possible.  After that, the cell is offered for play.  (Later, I considered that the number of different cells is about 750, so you can generate and include in the program a complete list of them, at the same time providing each with some probability of occurrence) <br><br>  The starting cell looks like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c1b/f88/23d/c1bf8823d16eac3106d7808471296e01.png"><br><br>  It has fragments of the city, the river and the road.  The cell is placed on the field, and the next cell is displayed in a separate window.  For the move, you need to rotate the cage and the field so that the edge of the field to which we want to attach the cage was front, and the edge of the cage with which we want to attach it, looked towards it: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/779/f31/431/779f31431643f88b60d965215cea91dd.png"><br><br>  Use the left mouse button to rotate the cell and the field, and the right button to rotate the camera.  To zoom in / out - Ctrl + left button. <br><br>  After choosing the correct orientation, just click on the center of the edge of the field on which you want to put a cage, and if a move is possible, then it is done.  After that, the player is offered to put one of his chips (if there are free - only 8 of them) on some part of the cell.  Possible areas are represented by blue balls: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/41e/7b0/7c4/41e7b07c4bf743d0f57055a1d5f1b3d9.png"><br><br>  The player can click on one of the balls or click the "Skip" button (if he does not want to put a chip).  The selected ball turns into an asterisk of color corresponding to this player, and the turn turns to the next one. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ecc/d7c/35a/eccd7c35ad5eae18ca2e6a112bc71d5e.png"><br><br>  After a few moves, it becomes difficult to navigate the situation on the field: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b5b/a64/e7d/b5ba64e7d0faefc7ff6a25f5782a277d.png"><br><br>  To make life easier for players, there are several additional visualization modes.  In order to analyze the outer edges of the cells on the field (and understand where you can walk), the outer edges of the field are made less transparent: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e71/46e/070/e7146e0703adf9acc46edce6b6a75aa9.png"><br><br>  To better analyze the shape of individual objects, you can reduce their transparency and increase the transparency of the outer edges of the plain: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/313/4a9/ef9/3134a9ef9a64bca4ad8ed2257fb1bd94.png"><br><br>  And finally, in order to more reliably determine the color of the chips on the field (for example, if the chip is in the sea or in the city), and just to see the position of all the chips, there is a mode in which all objects become white and almost transparent: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ba9/718/d76/ba9718d761ff83027d809a7b408ba819.png"><br><br>  Before starting the game, you can select the number of players (from 2 to 5) and the duration of the game (the number of moves is from 20 to 10,000).  After selecting them, click the New Game button. <br><br>  Read more detailed rules (in English) can be <br>  <a href="http://astr73.narod.ru/Hyperburg/index.html">on this page</a> .  The executable code can be downloaded <a href="">from here</a> , and the source code <a href="">from here</a> .  The program is written in C # using the Open Toolkit library.  Requires Windows with .NET 2.0 to work </div><p>Source: <a href="https://habr.com/ru/post/135033/">https://habr.com/ru/post/135033/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../135027/index.html">Self-invoking designer John Rezig and thinking about why this decision did not stick</a></li>
<li><a href="../135028/index.html">7app chart # 7</a></li>
<li><a href="../135029/index.html">Features of application programming. Asynchronous recursion</a></li>
<li><a href="../135030/index.html">Apple has acquired Anobit</a></li>
<li><a href="../135032/index.html">DeSopa: Firefox extension to bypass SOPA</a></li>
<li><a href="../135035/index.html">Playing SDL is doubly easy</a></li>
<li><a href="../135036/index.html">We get access to the methods of Api Vkontakte without the user's knowledge</a></li>
<li><a href="../135037/index.html">Successful Kanban in a small team</a></li>
<li><a href="../135039/index.html">Highstock based dynamic graphics</a></li>
<li><a href="../135040/index.html">By DDoS-attack - ready!</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>