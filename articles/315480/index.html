<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Managing the robot at Arduino from the application on Node.js</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Last time, we looked at how to make your mini-terminal with a ‚Äúquestion-answer‚Äù mode on a robot with Arduina with the library babbler_h. Today we'll s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Managing the robot at Arduino from the application on Node.js</h1><div class="post__text post__text-html js-mediator-article">  <a href="https://habrahabr.ru/post/315084/">Last time,</a> we looked at how to make your mini-terminal with a ‚Äúquestion-answer‚Äù mode on a robot with Arduina with the library babbler_h.  Today we'll see how to use the same library to control the robot from a desktop JavaScript application + Node.js. <br><br>  To change the data with the robot, in the client part in JavaScript + Node.js, we use the library Babbler.js, specially written for this occasion.  Babbler.js uses the <a href="https://github.com/EmergingTechnologyAdvisors/node-serialport">node-serialport</a> standard library for working with the serial port, but builds on top of it some additional conveniences. <br><a name="habracut"></a><br>  <b>Library features</b> <br><br>  - The library allows you to connect to the device, send commands to him, get answers. <br>  - The library itself maintains the connection, hides inside all the technical nuances: it monitors the breaks, notifies about all changes in the connection status, allows to disconnect and reconnect. <br>  - Commands are added to the send queue, sent to the device one by one. <br>  - The library monitors each packet with a command from the moment it is added to the queue until a response is received or an error occurs;  generates public events that may be useful for displaying device status or debugging. <br>  - The user code will always receive a notification about the completion of the team‚Äôs life path: a response from the device or an error message. <br>  - The library handles any possible exceptions that may occur with the command on the device path, and generates the appropriate error messages.  For example, you can add a command to the send queue, and then pull out the connection cord: the user code will receive a command execution error message (the connection is broken <i>before</i> sending the command to the robot / the connection is broken <i>after</i> sending the command to the robot), after which the application reconnects to the device (if the of course, it will be connected again by wire) and will continue to work. <br>  - The library is tolerant of incorrect device behavior: the robot can forget to send answers, send answers at the wrong time, send incorrect answers, or even pour debugging junk into the communication channel (serial port).  In the best case, the library will ignore incorrect packets, waiting for the right one, at worst, it will send a message to the user code indicating that the robot did not execute the command (that is, no response was received). <br>  - The device is considered connected after two conditions are met: the communication channel is open, the device has sent the correct ‚Äúok‚Äù response to the <i>ping</i> command. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Additional restrictions on the firmware of the robot:</b> <br><br>  - The robot must accept commands and send responses in JSON format with support for client command identifiers. <br>  - The firmware of the robot must necessarily include the <i>ping</i> command (without it the connection will not be established). <br>  - The device should send a response to the received command no later than <b><i>5 seconds</i></b> , otherwise the client code will consider the command not executed (will receive an error BBLR_ERROR_REPLY_TIMEOUT). <br>  - It may be a situation where the robot, on command, must perform some kind of continuous action that can last more than 5 seconds (go from point A to point B), and then inform the control panel that the action has been completed.  In this case, two commands should be entered in the robot's firmware: ‚Äú <i>start the process of performing the action</i> ‚Äù (returns instantly with the code ‚Äúok‚Äù) and ‚Äú <i>get the status of the execution of the launched action</i> ‚Äù (‚Äúin process‚Äù / ‚Äúready‚Äù).  The console will start the process of performing the action on the first command, and then periodically check its status, sending the second command time after time. <br><br>  <b>Main links:</b> <br><br>  - Library for the robot: <a href="https://github.com/1i7/babbler_h">babbler_h</a> <br>  - Library for Node.js: <a href="https://github.com/1i7/babbler-js">babbler-js</a> <br>  - Examples for babbler-js: <a href="https://github.com/1i7/babbler-js-demo">babbler-js-demo</a> <br><br><h4>  Protocol </h4><br>  The robot must accept commands and send responses in JSON format.  The data packet is a JSON string containing the command or response.  Data packets are separated by a line break. <br><br>  The robot must accept commands in the following JSON format: <br><br><pre><code class="hljs json">{<span class="hljs-attr"><span class="hljs-attr">"cmd"</span></span>: <span class="hljs-string"><span class="hljs-string">"help"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"34"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"params"</span></span>:[<span class="hljs-string"><span class="hljs-string">"--list"</span></span>]}</code> </pre> <br>  here: <br>  - <i>cmd</i> - command name, string <br>  - <i>params</i> - command parameters, array of strings <br>  - <i>id</i> - client command identifier, string (optional) <br><br>  The command name and parameters are clear.  The client identifier is an arbitrary value, generated by the client and sent along with the command, the robot sends it with the answer.  The command identifier will allow the client to easily determine which of the sent commands the answer came to.  The uniqueness of the value is ensured on the client side, the robot simply copies the received value in response and no longer analyzes it. <br><br>  The answer should be packaged in the following JSON format: <br><br><pre> <code class="hljs json">{<span class="hljs-attr"><span class="hljs-attr">"cmd"</span></span>: <span class="hljs-string"><span class="hljs-string">"help"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"34"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"reply"</span></span>: <span class="hljs-string"><span class="hljs-string">"help ping ledon ledoff"</span></span>}</code> </pre> <br>  here: <br>  - <i>cmd</i> - source command, string <br>  - <i>id</i> - client command identifier (initial value is copied), string <br>  - <i>reply</i> - the answer (the result of the command), string <br><br>  <i>Perhaps, in new versions, the params value appears in the response with a copy of the original command parameters.</i>  <i>Maybe this is not a very efficient use of resources, but an additional convenience for debugging.</i> <br><br><h4>  Firmware for robot </h4><br>  About the installation of the library babbler_h for Arduino and the features of its application I recommend to look in the <a href="https://habrahabr.ru/post/315084/">previous article</a> .  Here at once I give an example of a sketch that can receive commands and send responses in JSON format.  The functions required for working with JSON are implemented in the <a href="https://github.com/1i7/babbler_h/blob/master/babbler_json/">babbler_json</a> module. <br><br>  We look code <br><br>  Let's take as an example an example with two user commands <i>ledon</i> and <i>ledoff</i> for blinking lights <a href="">_2_babbler_custom_cmd.ino</a> and make it accept requests and send responses in JSON format.  Compared to the original command line option, there are exactly two differences: <br><br>  1. Connect the library <a href="">babbler_json.h</a> in the title: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"babbler_json.h"</span></span></span></span></code> </pre><br>  2. Replace the <i>handle_input_simple</i> handler with <i>handle_input_json</i> in <i>babbler_serial_set_input_handler</i> in the presets in <i>setup</i> . <br><br><pre> <code class="cpp hljs"> babbler_serial_set_input_handler(handle_input_json);</code> </pre><br>  instead <br><br><pre> <code class="cpp hljs"> babbler_serial_set_input_handler(handle_input_simple);</code> </pre><br>  There are no more differences, including (and first of all) in the code of user commands, in general. <br><br>  File ‚Üí Examples ‚Üí babbler_h ‚Üí <a href="">babbler_json_io.ino</a> <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"babbler.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"babbler_cmd_core.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"babbler_simple.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"babbler_json.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"babbler_serial.h"</span></span></span><span class="hljs-meta"> </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//         #define SERIAL_READ_BUFFER_SIZE 128 #define SERIAL_WRITE_BUFFER_SIZE 512 //         . // +1       char serial_read_buffer[SERIAL_READ_BUFFER_SIZE+1]; char serial_write_buffer[SERIAL_WRITE_BUFFER_SIZE]; #define LED_PIN 13 /**   ledon ( ) */ int cmd_ledon(char* reply_buffer, int reply_buf_size, int argc=0, char *argv[]=NULL) { digitalWrite(LED_PIN, HIGH); //   strcpy(reply_buffer, REPLY_OK); return strlen(reply_buffer); } /**   ledoff ( ) */ int cmd_ledoff(char* reply_buffer, int reply_buf_size, int argc=0, char *argv[]=NULL) { digitalWrite(LED_PIN, LOW); //   strcpy(reply_buffer, REPLY_OK); return strlen(reply_buffer); } babbler_cmd_t CMD_LEDON = { /*   */ "ledon", /*       */ &amp;cmd_ledon }; babbler_man_t MAN_LEDON = { /*   */ "ledon", /*   */ "turn led ON", /*  */ "SYNOPSIS\n" " ledon\n" "DESCRIPTION\n" "Turn led ON." }; babbler_cmd_t CMD_LEDOFF = { /*   */ "ledoff", /*       */ &amp;cmd_ledoff }; babbler_man_t MAN_LEDOFF = { /*   */ "ledoff", /*   */ "turn led OFF", /*  */ "SYNOPSIS\n" " ledoff\n" "DESCRIPTION\n" "Turn led OFF." }; /**   */ extern const babbler_cmd_t BABBLER_COMMANDS[] = { //   babbler_cmd_core.h CMD_HELP, CMD_PING, //   CMD_LEDON, CMD_LEDOFF }; /**    */ extern const int BABBLER_COMMANDS_COUNT = sizeof(BABBLER_COMMANDS)/sizeof(babbler_cmd_t); /**     */ extern const babbler_man_t BABBLER_MANUALS[] = { //   babbler_cmd_core.h // commands from babbler_cmd.core.h MAN_HELP, MAN_PING, //   // custom commands MAN_LEDON, MAN_LEDOFF }; /**      */ extern const int BABBLER_MANUALS_COUNT = sizeof(BABBLER_MANUALS)/sizeof(babbler_man_t); void setup() { Serial.begin(9600); Serial.println("Starting babbler-powered device with JSON i/o," " type {\"cmd\": \"help\", \"id\": \"34\", \"params\":[]} for list of commands"); //       // {"cmd": "help", "id": "34", "params":[]} babbler_serial_set_packet_filter(packet_filter_newline); babbler_serial_set_input_handler(handle_input_json); //babbler_serial_setup( // serial_read_buffer, SERIAL_READ_BUFFER_SIZE, // serial_write_buffer, SERIAL_WRITE_BUFFER_SIZE, // 9600); babbler_serial_setup( serial_read_buffer, SERIAL_READ_BUFFER_SIZE, serial_write_buffer, SERIAL_WRITE_BUFFER_SIZE, BABBLER_SERIAL_SKIP_PORT_INIT); pinMode(LED_PIN, OUTPUT); } void loop() { //     ,    babbler_serial_tasks(); }</span></span></span></span></code> </pre><br>  For a quick test in the Arduino environment, you can open all the same <i>Tools ‚Üí Port Monitor</i> and send a command to the robot: <br><br><pre> <code class="hljs json">{<span class="hljs-attr"><span class="hljs-attr">"cmd"</span></span>: <span class="hljs-string"><span class="hljs-string">"help"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"34"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"params"</span></span>:[<span class="hljs-string"><span class="hljs-string">"--list"</span></span>]}</code> </pre> <br>  The answer will be: <br><br><pre> <code class="hljs json">{<span class="hljs-attr"><span class="hljs-attr">"cmd"</span></span>: <span class="hljs-string"><span class="hljs-string">"help"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"34"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"reply"</span></span>: <span class="hljs-string"><span class="hljs-string">"help ping ledon ledoff"</span></span>}</code> </pre> <br>  Of course, manually typing lines in the JSON format is not very convenient, but for a JavaScript application, this communication channel will be as native. <br><br><h4>  Configuring the client side on Node.js </h4><br>  - The <a href="https://github.com/1i7/babbler-js">babbler.js</a> library <a href="https://github.com/1i7/babbler-js">on github</a> . <br>  - Examples <a href="https://github.com/1i7/babbler-js-demo">babbler-js-demo</a> <br><br>  To manually configure a new project - install the babbler-js package: <br><br><pre> <code class="bash hljs">npm install babbler-js</code> </pre> <br>  or for a finished project with examples we perform: <br><br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/1i7/babbler-js-demo.git <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> babbler-js-demo/babbler-basic npm install</code> </pre><br>  <b>A simple example</b> : connect to the device, execute <i>ping</i> and <i>help --list commands</i> . <br><br>  babbler-js-demo / babbler-basic / <a href="">babbler-basic.js</a> <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> BabblerDevice = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'babbler-js'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> babbler = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BabblerDevice(); babbler.on(<span class="hljs-string"><span class="hljs-string">'connected'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"connected"</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"send cmd: ping"</span></span>); babbler.sendCmd(<span class="hljs-string"><span class="hljs-string">"ping"</span></span>, [], <span class="hljs-comment"><span class="hljs-comment">// onReply function(cmd, params, reply) { console.log("got reply on '" + cmd + " " + params + "': " + reply); }, // onError function(cmd, params, err) { console.log("fail with '" + cmd + " " + params + "': " + err); } ); console.log("send cmd: help --list"); babbler.sendCmd("help", ["--list"], // onReply function(cmd, params, reply) { console.log("got reply on '" + cmd + " " + params + "': " + reply); }, // onError function(cmd, params, err) { console.log("fail with '" + cmd + " " + params + "': " + err); } ); }); babbler.on('disconnected', function(error) { console.log("disconnected" + (error != undefined ? ": " + error : "")); }); babbler.connect("/dev/ttyUSB0"); //babbler.connect("/dev/ttyUSB0", {baudRate: 9600});</span></span></code> </pre><br>  run: <br><br><pre> <code class="bash hljs">node babbler-basic.js</code> </pre> <br>  in the terminal we observe: <br><br><pre> <code class="hljs dos">connected send <span class="hljs-built_in"><span class="hljs-built_in">cmd</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">ping</span></span> send <span class="hljs-built_in"><span class="hljs-built_in">cmd</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">help</span></span> --list got reply on '<span class="hljs-built_in"><span class="hljs-built_in">ping</span></span> ': ok got reply on '<span class="hljs-built_in"><span class="hljs-built_in">help</span></span> --list': <span class="hljs-built_in"><span class="hljs-built_in">help</span></span> <span class="hljs-built_in"><span class="hljs-built_in">ping</span></span> ledon ledoff</code> </pre><br>  We pull out the USB cable with the robot, the program writes the last message and ends: <br><br><pre> <code class="hljs">disconnected: Device unplugged</code> </pre><br>  <b>The example is slightly more interesting</b> : <br><br>  - the program connects to the device and starts to turn on ( <i>leodon</i> command) and turn off ( <i>ledoff</i> command) a light bulb every 2 seconds; <br>  - in case of disconnecting the device, the program tries to reconnect every 3 seconds until it connects, then the light starts flashing again. <br><br>  babbler-basic / <a href="">babbler-basic-blink.js</a> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> BabblerDevice = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'babbler-js'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> babbler = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BabblerDevice(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> blinkIntervalId; babbler.on(<span class="hljs-string"><span class="hljs-string">'connected'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"connected"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//    2  var ledstatus = "off"; blinkIntervalId = setInterval(function() { if(ledstatus === "on") { console.log("send cmd: ledoff"); babbler.sendCmd("ledoff", [], // onReply function(cmd, params, reply) { console.log("got reply on '" + cmd + " " + params + "': " + reply); ledstatus = "off"; }, // onError function(cmd, params, err) { console.log("fail with '" + cmd + " " + params + "': " + err); } ); } else { // ledstatus === "off" console.log("send cmd: ledon"); babbler.sendCmd("ledon", [], // onReply function(cmd, params, reply) { console.log("got reply on '" + cmd + " " + params + "': " + reply); ledstatus = "on"; }, // onError function(cmd, params, err) { console.log("fail with '" + cmd + " " + params + "': " + err); } ); } }, 3000); }); babbler.on('connecting', function() { console.log("connecting..."); }); babbler.on('disconnected', function(error) { console.log("disconnected" + (error != undefined ? ": " + error : "")); //  ,    clearInterval(blinkIntervalId); //     3  setTimeout(function() { babbler.connect("/dev/ttyUSB0"); }, 3000); }); babbler.connect("/dev/ttyUSB0"); //babbler.connect("/dev/ttyUSB0", {baudRate: 9600});</span></span></code> </pre><br>  Run: <br><br><pre> <code class="bash hljs">node babbler-basic-blink.js</code> </pre> <br>  Watch the flashing light: <br><br><pre> <code class="hljs vhdl">connecting... connected send cmd: ledon got reply <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> <span class="hljs-symbol"><span class="hljs-symbol">'ledon</span></span> ': ok send cmd: ledoff got reply <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> <span class="hljs-symbol"><span class="hljs-symbol">'ledoff</span></span> ': ok send cmd: ledon got reply <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> <span class="hljs-symbol"><span class="hljs-symbol">'ledon</span></span> ': ok send cmd: ledoff got reply <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> <span class="hljs-symbol"><span class="hljs-symbol">'ledoff</span></span> ': ok send cmd: ledon got reply <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> <span class="hljs-symbol"><span class="hljs-symbol">'ledon</span></span> ': ok disconnected: Device unplugged connecting... disconnected: <span class="hljs-literal"><span class="hljs-literal">Error</span></span>: <span class="hljs-literal"><span class="hljs-literal">Error</span></span>: No such <span class="hljs-keyword"><span class="hljs-keyword">file</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> directory, cannot <span class="hljs-keyword"><span class="hljs-keyword">open</span></span> /dev/ttyUSB0 connecting... disconnected: <span class="hljs-literal"><span class="hljs-literal">Error</span></span>: <span class="hljs-literal"><span class="hljs-literal">Error</span></span>: No such <span class="hljs-keyword"><span class="hljs-keyword">file</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> directory, cannot <span class="hljs-keyword"><span class="hljs-keyword">open</span></span> /dev/ttyUSB0 connecting... connected send cmd: ledon got reply <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> <span class="hljs-symbol"><span class="hljs-symbol">'ledon</span></span> ': ok send cmd: ledoff got reply <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> <span class="hljs-symbol"><span class="hljs-symbol">'ledoff</span></span> ': ok send cmd: ledon got reply <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> <span class="hljs-symbol"><span class="hljs-symbol">'ledon</span></span> ': ok disconnected: Device unplugged</code> </pre> <br>  In the process, you can pull out the USB cable leading to the robot, and then plug it back. </div><p>Source: <a href="https://habr.com/ru/post/315480/">https://habr.com/ru/post/315480/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../315470/index.html">History of programming languages: from BASIC to Visual Basic</a></li>
<li><a href="../315472/index.html">Cloud on Microsoft Hyper-V, Part 3: Storage Spaces Storage</a></li>
<li><a href="../315474/index.html">Snowden to Russia, Hammond behind bars</a></li>
<li><a href="../315476/index.html">Deep learning for newbies: fine tuning neural network</a></li>
<li><a href="../315478/index.html">Fonts for android</a></li>
<li><a href="../315482/index.html">What is the strength of the affiliate network, why does power become weak as it progresses, and what to do about it</a></li>
<li><a href="../315484/index.html">Artificial intelligence, challenges and risks - through the eyes of an engineer</a></li>
<li><a href="../315486/index.html">One of the vulnerabilities of WPS technology</a></li>
<li><a href="../315488/index.html">We make a motor control loop with a current reference</a></li>
<li><a href="../315490/index.html">Image Quantization</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>