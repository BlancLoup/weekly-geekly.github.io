<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Cyber ‚Äã‚Äãinvitation to a wedding or how to effectively destroy patterns</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On Habr√© already wrote a lot about home-made electronic devices of different caliber. What I want to tell you about is not to be put on a par with the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Cyber ‚Äã‚Äãinvitation to a wedding or how to effectively destroy patterns</h1><div class="post__text post__text-html js-mediator-article">  On Habr√© already wrote a lot about home-made electronic devices of different caliber.  What I want to tell you about is not to be put on a par with the ‚Äúsmart home‚Äù or the production of wooden mice.  Surely, those who are just starting to have fun with DIY and think about where to start will find something useful for themselves.  I hope this post will once again convince beginners that any, even the strangest, at first glance, idea is good for our business. <br><img src="https://habrastorage.org/storage2/78f/d66/0cd/78fd660cdba5f4ea56e90a0676ed3a3d.jpg"><br><br><h1>  So the idea </h1><br>  It all started with the fact that one day I decided to marry!  Statement, preparation for the holiday, all things.  But the task: to make original wedding invitations.  Signed pieces of cardboard did not want to.  Soul requested hardcore handmade, far from the traditional wedding patterns.  And so on my ‚Äúand in general, you can make electronic devices‚Äù, the bride said: ‚ÄúCool!  Come on! ‚Äù <br><br><a name="habracut"></a><br>  By that time, my experience was about soldering Freedouin from a set of parts and ritual blinking with an LED.  I thought with horror that I had to collect not one and not two, but 33 copies, beforehand said goodbye to the upcoming summer - and rushed ... 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      February.  Wedding in August, but I already thought that I did not have time.  Because, the devil knows where and what will go wrong.  However, a plan gradually began to emerge: to blind the LCD screen, the battery, the button and some controller into one piece, so that at the touch of a button the device would display a message on the screen in rows. <br><br><h1>  Component selection </h1><br>  The ‚ÄúInvitation‚Äù genre immediately dictated its additional requirements.  It was important that the battery was not spent all for one or two shows and that the messages on all copies were different.  In addition (and the bride implored me hourly), I wanted the result of my experiments to look like an artisanal, but product.  That is, did not fall apart in his hands and did not spread wide in all directions of the loop of wires. <br><br><h2>  Screen </h2><br>  Picked up in the catalog of the nearest store of radio components, first took one for testing.  According to the characteristics of the following: LCD, text, Russian letters, 1 line of 16 characters, with no backlight.  WH1601A-NGG-CT ( <a href="http://www.compel.ru/datapdf/winstar/pn/wh1601a-ngg-ct/56878553bcf27c5e3ac4e01a5190d299.pdf">datasheet</a> ) is called, it costs more than a hundred rubles.  The successful screen turned out to be a wave, later I bought them a whole box: <br><img src="https://habrastorage.org/storage2/296/907/7cc/2969077cc226a70ff564956788896a33.jpg"><br><br><h2>  Controller </h2><br>  The controller picked up from the Atmel catalog (on <a href="http://www.atmel.com/">the Atmel website,</a> click on the MCU Selector).  Atmel, because with Arduin I already had a little experience, and on easyelectronics there is an excellent <a href="http://easyelectronics.ru/category/avr-uchebnyj-kurs">course on AVR controllers</a> .  I was looking for such <br><ul><li>  to have enough legs, but was as little as possible </li><li>  so that the DIP-case (SMD I have not yet soldered and did not want to risk) </li><li>  so that power consumption can be small </li><li>  and that in the nearest store was available. </li></ul><br><br>  <a href="http://www.atmel.com/devices/ATTINY2313A.aspx">ATTiny 2313A-PU</a> ( <a href="http://www.atmel.com/images/doc8246.pdf">Datashit</a> ) is out. <br><br><h2>  Battery </h2><br>  Screen needed 5V power, so after some research I decided to use a pair of CR2016 batteries stacked in a stack in the holder for the CR2032. <br><br><h2>  Any other </h2><br>  Strangely enough, it turned out that it‚Äôs better to buy small things (resistors, capacitors, etc.) not in St. Petersburg, but to order from under Yoshkar-Ola (ekits.ru shop).  Found all at normal prices. <br><br><h1>  Prototype </h1><br>  I mastered the screen: I soldered wires to it, experimented from Arduin, I got him to write letters in turn with given pauses.  I did not use libraries, I wanted everything myself.  This is the <a href="https://gist.github.com/alexzam/5352676">code that</a> turned out. <br><br>  Everything was ready to work on the prototype. <br><br>  March, April.  The long period of writing firmware in assembler (deliberately not in C, in order to better feel the architecture), drawing and layout of the scheme.  Showed the bride.  ‚ÄúCome on,‚Äù she says to me, ‚Äúit will also flash with lights.‚Äù  In the process, I had to build in ‚Äúmore light bulbs‚Äù: I added two pairs of LEDs and work with interruptions, the wiring was a bit more complicated.  (LEDs ordered all the same, from Yoshkar-Ola).  The scheme as a result came this: <br><img src="https://habrastorage.org/storage2/1b0/74e/f11/1b074ef11ee9cdb6c504de1be6d1429e.png"><br><br>  For beginners like me, explanations to the scheme: <br><div class="spoiler">  <b class="spoiler_title">Explanation of the scheme</b> <div class="spoiler_text">  In the middle of the controller, on the right screen.  The seven wires from the controller to the small screen are three controllers and a four-bit data bus.  All on datasheet.  The screen does not feed directly, but from the leg of PD2 (V-LCD contact), this is because the device does not work most of the time, the controller goes to sleep, and the battery also does not waste battery power.  There is also a VO-LCD, which is fed to the VO contact of the screen.  According to the datasheet, there must be some voltage greater than zero, but less than VCC, the screen contrast is regulated by this voltage.  Datashit offers to shove a rheostat there and adjust on the go.  But not in every board rheostat shove!  So I picked up the voltage experimentally and built a voltage divider to get it.  This is the design of the two resistors below.  It is also drawn below that the power supply is initially taken from the battery and that a capacitor is inserted in the power supply for protection, for example, from chatter when inserting fresh batteries.  Well, actually that's all.  There is also a reset button and four LEDs, which are included in pairs. </div></div><br><br>  But this <a href="https://gist.github.com/alexzam/6248815">firmware</a> . <br><br>  The layout for the first time came out difficult, so it is likely that I broke some canons.  I had to get along with a bunch of conditions: <br><ul><li>  The board in size should have been a little more than the screen, so that it was convenient to press the start button. </li><li>  Connector and mounting holes - correspond to the connector and the holes on the screen board.  (I then connected the holes with screws). </li><li>  Light-emitting diodes (on a design idea) - by all means to look in different directions. </li></ul><br><br>  As a result, I managed with two jumpers, they are blue on the diagram: <br><img src="https://habrastorage.org/storage2/240/d90/75d/240d9075d501294ab60d428cb6776be9.png"><br><br>  I collected everything on a breadboard, debugged it for a long time, I got it to work ... Yes, I stitched it with Arduina according to the scheme chewed <a href="http://freeduino.ru/arduino/isp.html">here. The</a> circuit requires connecting the reset with power through a resistor: I hung the resistor right into the wire. <br><br>  And yes, it was important that each device had a personalized text (invitation is the same!).  The text was stored in the firmware in the form of a dump (‚Äú.db 0xa2, 0xa3 ...‚Äù).  And the coding table at the screen has its own and with features.  For example, it saves and contains only those Cyrillic letters for which there is no equivalent in the Latin alphabet.  For convenient conversion, I made a <a href="https://github.com/alexzam/LCDMessageTranslator">utility on java</a> . <br><br>  How long, shortly by May did I have a working device, but on a breadboard.  Power worked both from USB (through Arduin and piercing wiring), and from batteries.  It looked like this: <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/SitDVqg7TQ4%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700190,15700253&amp;usg=ALkJrhi-htSubs7hy1URxSCNiFduTsTccw" frameborder="0" allowfullscreen=""></iframe><br><br>  In the video, I start the process by clicking on the board - this is because I mistakenly soldered the button on the other side.  eight) <br><br>  I didn‚Äôt do a programming connector on the final board.  Just inserted the next microcircuit into the cot on the breadboard, sewed it and soldered it into the board.  Inflexible but saves holes and components.  And time, of course. <br><br><h1>  Production </h1><br>  It was May.  I started making the first copy.  I will not paint LUT and etching, the <a href="http://easyelectronics.ru/tag/lut">DiHALT manuals have</a> all been read.  I will tell only about the individual features and differences from the manual. <br><ul><li>  Pickled in a mixture of copper sulfate and salt.  It is less caustic and the ingredients lie in the nearest building supermarket. </li><li>  Drilled a drill in 1mm for metal (less in that supermarket was not) and a drill, this, full-size.  The hand was hard enough not to break the drill and do not lubricate the hole.  A screwdriver was, though easier, but too slow.  By the way, the recommendation that dust should be avoided is absolutely true!  It is very small, white and almost invisible, if not poured into a handful.  But if you are in the air, your throat is scary. </li><li>  At first he tugged, and then he drilled, although they recommend everywhere the opposite.  But it is also easier!  The rim of the hole becomes thicker and at the beginning of drilling additionally corrects the sight. </li><li>  I did it in batches - so much faster.  That is, a dozen boards go through the first stage, then the second, and so on.  It turns out fewer context switches, fewer instrument shifts and, accordingly, faster work.  The steps are: <br><ol><li>  Cut a piece of board and shake </li><li>  Smooth a piece of paper with a picture and wash it. </li><li>  Etch board </li><li>  Buzz tracks </li><li>  Drill holes </li><li>  Solder everything except the controller </li><li>  Insert the controller in the layout and flash </li><li>  Solder the controller </li><li>  Connect with screws </li></ol><br></li></ul><br><br>  It turned out like this.  In the video, however, while without screws. <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/4Ll2TEj81U8%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700190,15700253&amp;usg=ALkJrhgMqKNZWqeXPNZ6AWJdRIto-Ab7Fw" frameborder="0" allowfullscreen=""></iframe><br><br>  That's all.  The devices were ready. <br><img src="https://habrastorage.org/storage2/ea9/69f/8f7/ea969f8f759bc986a336f5a24a42f02c.jpg"><br><br><h1>  Finishing touches </h1><br>  It remained to supplement the device with something that would make it even more like an invitation.  This task was handled perfectly by the bride, who invented hanging the device on a small home-made fishing rod (if it flashes with lights, then why not with a fishing rod). <br><br>  Of course, as it should be, they wrote the instruction manual for the device and packed it into self-made painted boxes.  When you get everything, looks like this: <br><img src="https://habrastorage.org/storage2/74f/2f4/f4f/74f2f4f4f02a5a48cb4ac4e2b193adf4.jpg"><br><div class="spoiler">  <b class="spoiler_title">And the instruction that is visible in the photo, like this</b> <div class="spoiler_text"><img src="https://habrastorage.org/storage2/84e/bd1/364/84ebd1364cae33eed5f5b7f83ad3085e.jpg"><br></div></div><br><br>  In general, the effect is achieved!  The guests are delighted, the wedding was a success, we have - plus-a lot of experience and a desire to continue the experiments ... </div><p>Source: <a href="https://habr.com/ru/post/171633/">https://habr.com/ru/post/171633/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../171615/index.html">Spring warming at DevCon 2013: ticket prices are melting</a></li>
<li><a href="../171617/index.html">How Halfbrick Studios develops games like Fruit Ninja, Age Of Zombies and Jetpack Joyride</a></li>
<li><a href="../171623/index.html">Under the hood: a patch for Dalvik from Facebook for Android</a></li>
<li><a href="../171629/index.html">Secure Cryptographic Execution Environment</a></li>
<li><a href="../171631/index.html">Project "Creation Creation". Do it yourself</a></li>
<li><a href="../171635/index.html">We invite you to a large IT conference Superjob</a></li>
<li><a href="../171637/index.html">How to make money on IT conferences: our findings and mistakes</a></li>
<li><a href="../171639/index.html">Installing Nexus 1000V on vSphere 5.1 (Part Two)</a></li>
<li><a href="../171641/index.html">Ten things you need to know the game localization editor</a></li>
<li><a href="../171643/index.html">Customization of Intel Android emulator</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>