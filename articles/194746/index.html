<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>AJAX in Joomla components! 2.5</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, habravchane! 
 Today I wanted to share the solution that I used to implement AJAX when writing components for Joomla! 2.5. 
 Immediately I woul...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>AJAX in Joomla components! 2.5</h1><div class="post__text post__text-html js-mediator-article">  Hello, habravchane! <br>  Today I wanted to share the solution that I used to implement AJAX when writing components for Joomla!  2.5. <br>  Immediately I would like to warn angry cries: "Go to Google!  use search!  it happened before!  Bojan! "  This decision does not lie on the surface and, even though it is banal, I had to sweat to find it. <br><a name="habracut"></a><br><h4>  Lyrical digression </h4><br>  I also immediately anticipate that the topic is written from the position of a ‚Äúnewcomer to Joomla‚Äù. <br>  The task before me was trivial: send an AJAX request from the page, and get an answer in JSON format.  Without any suspicions, I scored in the search and instead of a couple of minutes of tying up I was stuck in search of a solution for several hours.  Of course, I did not disregard the <a href="http://habrahabr.ru/post/145488/">topic of a</a> respected <a href="http://habrahabr.ru/users/propovednik/" class="user_link">propovednik</a> .  But it turned out right away that this solution does not suit me with the <i>tmpl = component</i> parameter: The answer came in the form of a full-fledged page with all the headers, styles <i>included</i> in these headers, and, in fact, the JSON response that I displayed in the view of my component, inside the body tag , but, as promised, without menus and other magnificence of additional modules.  Of course, if I used a frame on the page and gave the same answer to the HTML, everything is fine, but alas.  To use crutches in the form of pulling out text from the body tag of the received page, or the second option proposed by propovednik - it is possible, but somehow uncomfortable, I want to find a cleaner solution.  And everything did not give me the idea that such a monster as Joomla does not have an elementary solution.  Poryskav some more, on the bourgeois forum came across a <a href="https://github.com/betweenbrain/Joomla-Ajax-Interface/blob/master/site/ajax.php">link</a> .  In short: for Joomla 3, they wrote a special component for working with AJAX (I don‚Äôt surely even include it in the box-out), but it is compatible with version 2.5.  This prompted me to think that at 2.5 there is still no ready-made solution, as is the case with index2.php in version 1.5.  But we are not looking for easy ways and the decision to put another component is not for us!  Then I decided to see what they used in their component. <br><br><h4>  Decision </h4><br>  And the decision was elementary. <br>  Suppose in your component there is a special View with its Model, which are responsible for the output of the required JSON or XML.  You just need to bring default.php in the tmpl folder of your View to the following view <br><pre><code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> defined(<span class="hljs-string"><span class="hljs-string">'_JEXEC'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-keyword"><span class="hljs-keyword">die</span></span>(<span class="hljs-string"><span class="hljs-string">'Restricted access'</span></span>); $app = JFactory::getApplication(); JResponse::setHeader(<span class="hljs-string"><span class="hljs-string">'Content-Type'</span></span>, <span class="hljs-string"><span class="hljs-string">'text/plain'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">TRUE</span></span>); <span class="hljs-comment"><span class="hljs-comment">//     echo $this-&gt;text; $app-&gt;close();</span></span></code> </pre> <br>  where $ this-&gt; text is the data received in the Model of your View. <br><br>  That's all, thank you for your attention! 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      And finally, a small survey, in order for me to understand whether such material is worthy of publication on the pages of Habr, or not worth exchanging for such trifles. </div><p>Source: <a href="https://habr.com/ru/post/194746/">https://habr.com/ru/post/194746/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../194734/index.html">Add Motion Blur Effect to WPF Applications</a></li>
<li><a href="../194736/index.html">Stop typing!</a></li>
<li><a href="../194738/index.html">Guide to designing relational databases. Cascade delete data</a></li>
<li><a href="../194740/index.html">Sooner or later we will have to do it.</a></li>
<li><a href="../194742/index.html">How we shot NY 41x41</a></li>
<li><a href="../194748/index.html">Overview of the stand-case with a Micro USB keyboard for a 7 "tablet</a></li>
<li><a href="../194750/index.html">Another tacacs +</a></li>
<li><a href="../194758/index.html">Scale a real-life project database using SQL Azure Federations. Part 3: Migration</a></li>
<li><a href="../194760/index.html">Side Effects Cryptography</a></li>
<li><a href="../194764/index.html">RailsClub'Moscow 2013. Conference news</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>