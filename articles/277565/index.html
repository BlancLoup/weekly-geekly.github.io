<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Framer Animation for Beginners</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="What is a framer ? 

 Framer is a prototyping program in which a prototype is created right away in code, in CoffeeScript , which is compiled into Jav...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Framer Animation for Beginners</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/06e/eec/c39/06eeecc3983fd1b9fb29676b24bbd9c3.png" alt="image"><br><br>  <b>What is a <a href="http://framerjs.com/">framer</a> ?</b> <br><br>  Framer is a prototyping program in which a prototype is created right away in code, in <b><a href="http://coffeescript.org/">CoffeeScript</a></b> , which is compiled into <b>JavaScript.</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Framer allows you to create interactive animations, makes it easier for developers to understand how a prototype should function and how the presented animation can be implemented.  He also teaches the designer to understand the code. <br><br>  The prototype created with the help of Framer can be given to customers to test directly from the device in full size, while the time to create it is much less than if the developers created the prototype. <br><br>  As it may seem at the beginning, Framer is a complex program that requires knowledge of the code, although in fact it is much easier to write code in it than it seems. <br><br>  To work with Framer, it is enough to draw a prototype in Sketch or Photoshop and come up with the interaction between the layers.  Also here you can create your own layers, animate and change their properties. <br><br>  The writing of the code in Framer is an interesting and fascinating process that does not require any special preparation, besides, the program's website has very detailed documentation with examples and tutorials. <br><br>  In the animation, which will be discussed further, I wanted to display loading, where the percentage of loading serves as a process indicator. <br><br>  To create this animation you need to know 4 things: Layer, State, Event, Animation. <br><a name="habracut"></a><br><br>  <b><u>Layer</u></b> - a layer can be created directly in Framer, or it can be any layer from Sketch or Photoshop. <br><br>  <b><u>State</u></b> is the state of the object (layer).  For example, an object will have some kind of default state (such as we drew it in Sketch or Photoshop) and an infinite number of states that we can give it by changing its properties (transparency, shadow, blurriness, size, position, etc.). ) <br><br>  <b><u>Event</u></b> is an event.  They can be click, swipe, drag, scroll and so on.  When each of these events occurs, we can change the state of objects (State), animating the layers. <br><br>  <b><u>Animation</u></b> - except for states, we can create directly in Framer or set layers, animations (for example, rotation, change of transparency, etc.). <br><br>  So, let's start creating the animation. <br><br>  As a result, we should have the following: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6f8/1a1/faf/6f81a1faf29f941a428824a9f1e1d0de.gif" alt="image"><br><br>  <b>Step 1:</b> <br><br>  We draw a prototype in Sketch or Photoshop. <br>  I used Sketch.  Download my prototype <a href="https://drive.google.com/file/d/0B0GKY4tnXzapNk5ZLXAwUzU3Z1E/view">here.</a> <br>  Import this prototype into Framer. <br>  Sketch (or Photoshop) with a prototype must be opened upon import. <br>  In Framer, select the type of device (the Viewer icon), in my case it is iPhone 6+. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8e5/e40/437/8e5e404372391259fcda9db501ca6990.png" alt="image"><br><br>  Since my prototype Sketch is drawn on a scale of 1: 1, and for iPhone 6+ we use the multiplier 3, then when importing, select @ 3x from the drop-down list and do not forget about it (after, when describing the position of the object in x and y coordinates, which can be viewed in Sketch, we multiply them by 3, respectively). <br>  All layers in Sketch should be grouped together, the only way they will be visible in Framer.  Import will not occur if the name of at least one group begins with a number (will give an error). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a9c/74d/fcd/a9c74dfcdcc7c0f621615e1b049f3dec.png" alt="image"><br><br>  After import, the following line should appear: <br><br><pre><code class="coffeescript hljs"><span class="hljs-comment"><span class="hljs-comment"># Import file "iPhone_loading" (sizes and positions are scaled 1:3) Sketch = Framer.Importer.load("imported/iPhone_loading@3x")</span></span></code> </pre> <br><br>  ‚ÄúLoading @ 3x‚Äù - means that the prototype was imported with a 3x multiplier, which we previously selected.  ‚ÄúSketch‚Äù can be replaced with any word or sign (for example, $) - and put it ahead of the description of each layer from the Sketch prototype.  For example, in the Sketch prototype, all layers are included by default, but since we are not interested in the upper layers yet, we can make them transparent: <br><br>  Sketch.loadingfinish.opacity = 0 or you can write $ .loadingfinish.opacity = 0 <br>  where $ = sketch <br>  loadingfinish is the topmost layer. <br>  In order not to constantly write a Sketch. Layer or $. Layer, you can insert the following line: <br><br><pre> <code class="coffeescript hljs">Utils.globalLayers $</code> </pre><br><br>  then to make the loadingfinish layer transparent, just write: <br><br><pre> <code class="coffeescript hljs">loadingfinish.opacity = <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre><br><br>  More details about Utils can be found in the Framer documentation <a href="http://framerjs.com/docs/">here.</a> <br>  Here I left a $ sign. <br>  Next, we set the parent element (SuperLayer) for the header layer, in relation to which the header will be a child. <br><br><pre> <code class="coffeescript hljs">$.header.superLayer = Framer.Device.screen</code> </pre><br><br>  Now the header is a child of the device screen, which means it will always be visible and stationary. <br><br>  <b>Step 2:</b> <br><br>  Next we set the parameters for the loadingfinish, oval, textButton, bgorange, ovalsecond layers, making them transparent: <br><br><pre> <code class="coffeescript hljs">$.loadingfinish.opacity = <span class="hljs-number"><span class="hljs-number">0</span></span> $.oval.opacity = <span class="hljs-number"><span class="hljs-number">0</span></span> $.textButton.opacity = <span class="hljs-number"><span class="hljs-number">0</span></span> $.bgorange.opacity = <span class="hljs-number"><span class="hljs-number">0</span></span> $.ovalsecond.opacity = <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre><br><br>  We change the position of the y coordinates for the textButton, blueButton, buttonbg, loadingfinish, loadingbg, time, text layers so that they move vertically either up (minus) or down.  As you can see, we set transparency for the loadingfinish layer and moved it down by 100px. <br><br><pre> <code class="coffeescript hljs">$.loadingfinish.y = <span class="hljs-number"><span class="hljs-number">100</span></span> $.textButton.y = <span class="hljs-number"><span class="hljs-number">3201</span></span> $.blueButton.y = <span class="hljs-number"><span class="hljs-number">3201</span></span> $.buttonbg.y = <span class="hljs-number"><span class="hljs-number">3201</span></span> $.loadingbg.y = <span class="hljs-number"><span class="hljs-number">3201</span></span> $.time.y = <span class="hljs-number"><span class="hljs-number">-100</span></span> $.text.y = <span class="hljs-number"><span class="hljs-number">3201</span></span></code> </pre><br><br>  For the line layer, change the x coordinate so that the layer extends horizontally from the left. <br><br><pre> <code class="coffeescript hljs">$.line.x = <span class="hljs-number"><span class="hljs-number">-1700</span></span></code> </pre><br><br>  Finally, for the blueButton layer, set scale = 0 to make the layer disappear. <br><br><pre> <code class="coffeescript hljs">$.blueButton.scale = <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre><br><br>  As a result, we got a layer with empty white rectangles. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/80f/361/9f8/80f3619f8bd7075c16511014ba97aaee.png" alt="image"><br><br>  Next we need to, when clicking on the second rectangle on top, an orange circle appears, expand (fill the white rectangle in orange), and then increase to the full screen.  To do this, we create a new layer (which is not in the Sketch prototype), call it Rectangle and set its parameters as in CSS. <br>  Initially, it is a square with the given parameters of height and width (436px), orange, located exactly in the center of the white rectangle (x: 410, y: 730).  To make a circle out of it, we give it a border radius equal to half the side (436/2 = 218px), make it invisible using the scale: 0 parameter. <br><br><pre> <code class="coffeescript hljs">Rectangle = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Layer width: <span class="hljs-number"><span class="hljs-number">436</span></span> height: <span class="hljs-number"><span class="hljs-number">436</span></span> backgroundColor: <span class="hljs-string"><span class="hljs-string">"#FF7841"</span></span> borderRadius: <span class="hljs-number"><span class="hljs-number">218</span></span> x: <span class="hljs-number"><span class="hljs-number">410</span></span> y: <span class="hljs-number"><span class="hljs-number">730</span></span> scale: <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre><br><br>  In JavaScript, it would look like this: <br><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Rectangle; Rectangle = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Layer({ <span class="hljs-attr"><span class="hljs-attr">width</span></span>: <span class="hljs-number"><span class="hljs-number">436</span></span>, <span class="hljs-attr"><span class="hljs-attr">height</span></span>: <span class="hljs-number"><span class="hljs-number">436</span></span>, <span class="hljs-attr"><span class="hljs-attr">backgroundColor</span></span>: <span class="hljs-string"><span class="hljs-string">'#FF7841'</span></span> borderRadius: <span class="hljs-number"><span class="hljs-number">218</span></span>, <span class="hljs-attr"><span class="hljs-attr">x</span></span>: <span class="hljs-number"><span class="hljs-number">410</span></span>, <span class="hljs-attr"><span class="hljs-attr">y</span></span>: <span class="hljs-number"><span class="hljs-number">730</span></span>, <span class="hljs-attr"><span class="hljs-attr">scale</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> }); }.call(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>));</code> </pre><br><br>  As you can see, in CoffeeScript, unlike JavaScript, there are no numerous quotes and commas, here they are replaced with spaces - so we make sure that the parameters in the description of the object begin with a new line after 3 spaces, otherwise it will produce an error. <br><br>  <b>Step 3:</b> <br><br>  To make our circle of the invisible become visible, and then actually a rectangle, we give it new states using Rectangle.states.add: <br><br><pre> <code class="coffeescript hljs">Rectangle.states.add toFront: scale:<span class="hljs-number"><span class="hljs-number">0.5</span></span> toRectangle: scale: <span class="hljs-number"><span class="hljs-number">1</span></span> opacity: <span class="hljs-number"><span class="hljs-number">1</span></span> x: <span class="hljs-number"><span class="hljs-number">37</span></span> y: <span class="hljs-number"><span class="hljs-number">727</span></span> width: <span class="hljs-number"><span class="hljs-number">1168</span></span> height: <span class="hljs-number"><span class="hljs-number">436</span></span> borderRadius: <span class="hljs-number"><span class="hljs-number">12</span></span> All: scale:<span class="hljs-number"><span class="hljs-number">7</span></span> time:<span class="hljs-number"><span class="hljs-number">1.1</span></span></code> </pre><br><br>  We have added 3 states: <br><br>  toFront (you can call it whatever you like) - in this state the circle becomes half as large <br>  toRectangle - the circle becomes a rectangle with the parameters exactly the same as the white rectangle in our Sketch file. <br>  All - the rectangle unfolds in full screen.  Here we also set a time of 1.1 seconds, with which this happens. <br><br>  <b>4 Step</b> <br><br>  Now create an event (Events) - Click (Click), in which the circle will begin to transform according to the specified states (States). <br>  A click will go to the second rectangle on top, which is called in the Sketch prototype layer second. <br><br>  We write - $ .second.on Events.Click - what is read in a human language like this - when you click on the second rectangle, the following happens - and we describe exactly what: <br><br><pre> <code class="coffeescript hljs">$.second.<span class="hljs-literal"><span class="hljs-literal">on</span></span> Events.Click, <span class="hljs-function"><span class="hljs-function">-&gt;</span></span> Rectangle.states.<span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(<span class="hljs-string"><span class="hljs-string">"toFront"</span></span>, curve: <span class="hljs-string"><span class="hljs-string">"spring(300, 30, 0)"</span></span>) Utils.delay <span class="hljs-number"><span class="hljs-number">.2</span></span>, <span class="hljs-function"><span class="hljs-function">-&gt;</span></span> Rectangle.states.<span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(<span class="hljs-string"><span class="hljs-string">"toRectangle"</span></span>, time: <span class="hljs-number"><span class="hljs-number">1</span></span>, curve: <span class="hljs-string"><span class="hljs-string">"easy"</span></span>) Utils.delay <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-function"><span class="hljs-function">-&gt;</span></span> Rectangle.states.<span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(<span class="hljs-string"><span class="hljs-string">"All"</span></span>, time: <span class="hljs-number"><span class="hljs-number">1</span></span>, curve: <span class="hljs-string"><span class="hljs-string">"ease out"</span></span>)</code> </pre><br><br>  The Rectangle state is switched to toFront, then the 0.2 second delay (Utils.delay .2) - then it switches to toRectangle - 1 second delay (Utils.delay 1) and the last switch to the All state.  It also sets the parameters of the curve and time - changing them, the animation will take place in different ways. <br><br>  We get: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/42d/177/e5f/42d177e5f41e90996160010f15c8f7b2.gif" alt="image"><br><br>  <b>5 Step</b> <br><br>  Next we need to set the state for the remaining layers, which we defined at the beginning.  We write: <br><br><pre> <code class="coffeescript hljs">$.text.states.add Show: y: <span class="hljs-number"><span class="hljs-number">921</span></span> $.time.states.add Show: y: <span class="hljs-number"><span class="hljs-number">321</span></span> $.line.states.add Show: x: <span class="hljs-number"><span class="hljs-number">36</span></span> $.buttonbg.states.add Show: y:<span class="hljs-number"><span class="hljs-number">1509</span></span> $.blueButton.states.add Show: scale:<span class="hljs-number"><span class="hljs-number">1</span></span> y: <span class="hljs-number"><span class="hljs-number">1773</span></span> Extend: scale: <span class="hljs-number"><span class="hljs-number">10</span></span> $.textButton.states.add Show: opacity: <span class="hljs-number"><span class="hljs-number">1</span></span> y:<span class="hljs-number"><span class="hljs-number">1845</span></span> $.loadingbg.states.add Show: y:<span class="hljs-number"><span class="hljs-number">0</span></span> $.oval.states.add Show: opacity: <span class="hljs-number"><span class="hljs-number">1</span></span> $.loadingfinish.states.add Succes: y: <span class="hljs-number"><span class="hljs-number">861</span></span> opacity: <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre><br><br>  For the blueButton layer, we added 2 states - in the first (Show) it is simply shown, in the second (Extend) - it expands to full screen. <br><br>  <b>Step 6:</b> <br><br>  Now we have to destroy the Rectangle that we have created so that it does not interfere with the other layers.  We are writing: <br><br><pre> <code class="coffeescript hljs">Rectangle.<span class="hljs-literal"><span class="hljs-literal">on</span></span> <span class="hljs-string"><span class="hljs-string">"end"</span></span>, <span class="hljs-function"><span class="hljs-function">-&gt;</span></span> Rectangle.destroy() $.bgorange.opacity = <span class="hljs-number"><span class="hljs-number">1</span></span> $.text.states.<span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(<span class="hljs-string"><span class="hljs-string">"Show"</span></span>, time: <span class="hljs-number"><span class="hljs-number">1.2</span></span>, curve: <span class="hljs-string"><span class="hljs-string">"ease"</span></span>) $.time.states.<span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(<span class="hljs-string"><span class="hljs-string">"Show"</span></span>, time: <span class="hljs-number"><span class="hljs-number">1.2</span></span>, curve: <span class="hljs-string"><span class="hljs-string">"ease"</span></span>) $.line.states.<span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(<span class="hljs-string"><span class="hljs-string">"Show"</span></span>, time: <span class="hljs-number"><span class="hljs-number">.8</span></span>, curve: <span class="hljs-string"><span class="hljs-string">"spring(500, 50, 0)"</span></span>) $.buttonbg.states.<span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(<span class="hljs-string"><span class="hljs-string">"Show"</span></span>, time: <span class="hljs-number"><span class="hljs-number">2</span></span>, curve: <span class="hljs-string"><span class="hljs-string">"easy out"</span></span>) $.blueButton.states.<span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(<span class="hljs-string"><span class="hljs-string">"Show"</span></span>, time: <span class="hljs-number"><span class="hljs-number">2</span></span>, curve: <span class="hljs-string"><span class="hljs-string">"easy"</span></span>) $.textButton.states.<span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(<span class="hljs-string"><span class="hljs-string">"Show"</span></span>, time: <span class="hljs-number"><span class="hljs-number">2</span></span>, curve: <span class="hljs-string"><span class="hljs-string">"easy out"</span></span>)</code> </pre><br><br>  What does it mean - when the Rectangle has completed its transformations - it is destroyed (destroy), the layers we have shown are shown in its place, according to their previously defined states.  The layers change their states with the time defined by us and according to the curve defined by us (for example: time: 1.2, curve: ‚Äúease‚Äù) <br><br>  Do not forget to update the screen (‚åò + R). <br><br>  We get: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3af/7e5/304/3af7e53049af897432db2db989e07fcc.gif" alt="image"><br><br>  <b>Step 7:</b> <br><br>  Now we need to create a text layer - which will display the percentages when loading. <br><br><pre> <code class="coffeescript hljs">textLabel = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Layer width: <span class="hljs-number"><span class="hljs-number">500</span></span> height: <span class="hljs-number"><span class="hljs-number">150</span></span> backgroundColor: <span class="hljs-literal"><span class="hljs-literal">null</span></span> textLabel.center() <span class="hljs-comment"><span class="hljs-comment"># Style text textLabel.style.color = "#fff" textLabel.style.fontSize = "100px" textLabel.style.fontFamily = "Proxima Nova" textLabel.style.lineHeight = "100px" textLabel.style.textAlign = "center"</span></span></code> </pre><br><br>  Set it to backgroundColor: null, that is, empty (if we don‚Äôt specify backgroundColor, it will turn blue by default) and align it with the center of the entire screen thanks to the textLabel.center () function. <br><br>  We describe the parameters of the style # Style text. <br><br>  And note that we do not write which text will be displayed, otherwise we would write html: ‚Äúsome kind of Text‚Äù. <br><br>  To change the interest, we add a line of code at the end. <br><br>  In the meantime, we need to remember that in Sketch of the prototype there is a layer called ‚ÄúOval‚Äù, which should rotate around its axis.  To make this happen, we create a new animation and call it ‚ÄúspinLoad‚Äù. <br><br><br><pre> <code class="coffeescript hljs">spinLoad = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Animation layer: $.oval properties: rotation: <span class="hljs-number"><span class="hljs-number">760</span></span> time: <span class="hljs-number"><span class="hljs-number">2</span></span> curve: <span class="hljs-string"><span class="hljs-string">"easy"</span></span></code> </pre><br><br>  Rotation we set 760 - it means it will spin 2 full turns and 40 degrees additionally (360 + 360 + 40).  You can put any value of degrees. <br>  Add another showTextLabel animation: <br><br><pre> <code class="coffeescript hljs">showTextLabel = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Animation layer: textLabel properties: opacity: <span class="hljs-number"><span class="hljs-number">1</span></span> time: <span class="hljs-number"><span class="hljs-number">4</span></span> curve: <span class="hljs-string"><span class="hljs-string">"easy"</span></span></code> </pre><br><br>  Now we create a condition under which the percent change will begin when the oval is rotated.  We write: <br><br><pre> <code class="coffeescript hljs">$.oval.<span class="hljs-literal"><span class="hljs-literal">on</span></span> <span class="hljs-string"><span class="hljs-string">"change:rotation"</span></span>, <span class="hljs-function"><span class="hljs-function">-&gt;</span></span> percentage = Utils.modulate $.oval.rotation, [<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">760</span></span>], [<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">100</span></span>] textLabel.html = Utils.round percentage, <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre><br><br>  Here we also set the degree of rotation of the oval to 760, and the change of percentages - from 0 to 100 (that is, in 2.4 turns of the oval, the percentages change from 0 to 100). <br><br>  <b>Step 8:</b> <br><br>  All the above animations will occur when you click on the ‚ÄúSave‚Äù button (blueButton layer), so create a new event click (Events.Click): <br><br><pre> <code class="coffeescript hljs">$.blueButton.<span class="hljs-literal"><span class="hljs-literal">on</span></span> Events.Click, <span class="hljs-function"><span class="hljs-function">-&gt;</span></span> $.blueButton.states.<span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(<span class="hljs-string"><span class="hljs-string">"Extend"</span></span>, time: <span class="hljs-number"><span class="hljs-number">1</span></span>, curve: <span class="hljs-string"><span class="hljs-string">"easy in"</span></span>) $.loadingbg.states.<span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(<span class="hljs-string"><span class="hljs-string">"Show"</span></span>, time: <span class="hljs-number"><span class="hljs-number">.5</span></span>, curve: <span class="hljs-string"><span class="hljs-string">"spring(500, 50, 0)"</span></span>) $.textButton.states.<span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(<span class="hljs-string"><span class="hljs-string">"default"</span></span>) $.oval.states.<span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(<span class="hljs-string"><span class="hljs-string">"Show"</span></span>, time: <span class="hljs-number"><span class="hljs-number">1</span></span>, curve: <span class="hljs-string"><span class="hljs-string">"easy in"</span></span>) spinLoad.start() Utils.delay <span class="hljs-number"><span class="hljs-number">1.5</span></span>, <span class="hljs-function"><span class="hljs-function">-&gt;</span></span> showTextLabel.start()</code> </pre><br><br>  Which means - by clicking on the button, the blue background (the blueButton layer) starts to expand (the Extend state), the loadingbg layer changes its state to ‚ÄúShow‚Äù, the text ‚ÄúSave‚Äù on the button returns to its original state: $ .textButton.states.switch (‚ÄúDefault‚Äù) (that is, disappears), an oval appears and the spinLoad.start () animation starts, we give a delay of 1.5 seconds and we start the showTextLabel.start () animation. <br>  And finally, the last condition - after the percentages reach 100 and the oval has completed all its turns, a circle with a check mark should appear, signifying successful completion of the operation. <br><br><pre> <code class="coffeescript hljs">spinLoad.<span class="hljs-literal"><span class="hljs-literal">on</span></span> Events.AnimationEnd, <span class="hljs-function"><span class="hljs-function">-&gt;</span></span> $.loadingfinish.states.<span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(<span class="hljs-string"><span class="hljs-string">'Succes'</span></span>) $.oval.opacity = <span class="hljs-number"><span class="hljs-number">0</span></span> textLabel.opacity = <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre><br><br>  We get the final animation! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6f8/1a1/faf/6f81a1faf29f941a428824a9f1e1d0de.gif" alt="image"><br><br>  Author: Abrosimova Nadezhda, interface designer. </div><p>Source: <a href="https://habr.com/ru/post/277565/">https://habr.com/ru/post/277565/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../277541/index.html">Another approximation by polynomial of a function of several variables</a></li>
<li><a href="../277543/index.html">Clean code architecture and development through testing in PHP</a></li>
<li><a href="../277545/index.html">Game design f2p games or how not to make mistakes</a></li>
<li><a href="../277559/index.html">How Relap.io is organized - a service that issues 30 billion recommendations per month</a></li>
<li><a href="../277563/index.html">Word2Vec: classification of text documents</a></li>
<li><a href="../277567/index.html">Windows 10 application with data in the cloud using Azure Mobile Apps</a></li>
<li><a href="../277569/index.html">Battle for sound speed on Android x86</a></li>
<li><a href="../277571/index.html">Security Week 07: Apple vs. FBI, global glibc vulnerability, crypto-fiber and medicine</a></li>
<li><a href="../277573/index.html">Kotlin 1.0. Ask the team a question</a></li>
<li><a href="../277575/index.html">Zero Day XSS Vulnerability Stops Cisco ASA Users Credentials</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>