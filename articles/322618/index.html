<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Visualization of JavaScript exchange sorting algorithms</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day to all readers and authors habrahabr.ru . Speech in this article will go about the visualization of the simplest sorting algorithms. 





 I...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Visualization of JavaScript exchange sorting algorithms</h1><div class="post__text post__text-html js-mediator-article"><p>  Good day to all readers and authors <a href="https://habrahabr.ru/">habrahabr.ru</a> .  Speech in this article will go about the visualization of the simplest sorting algorithms. <br></p><br><img src="https://habrastorage.org/files/b8d/00f/52e/b8d00f52e4f44f1c990e7d7f2a4bbd2c.png"><br><br><p>  I was inspired to do this work by <a href="https://github.com/bingmann">Timo Bingmann</a> - a graduate student from the Institute of Theoretical Informatics and Algorithms at the Karlsruhe Institute of Technology (Germany) <a href="http://www.kit.edu/english/">[1]</a> .  Tim wrote an excellent article where you can read a little about the history of visualization and auditing of algorithms <a href="http://panthema.net/2013/sound-of-sorting/">[2].</a>  Programmers, more than anyone else, know how difficult the process of understanding abstract entities is and how much metaphors and visualization methods help.  When a real-life object is similarly assigned properties and methods of virtual objects. </p><a name="habracut"></a><br><p></p><h3>  Algorithm selection </h3><br>  I admit to the reader that programming today is not my profession.  Of course, I already had some acquired skills.  This is BASIC in 2007.  (then I comprehended the branching, data types, arrays, toughness of the GOTO operator, convenience of subroutines and for the first time wrote a program that emulates an ideal gas in a closed vessel. If you do not know or do not remember, in the standard BASIC package, as a base, there was a program for sorting <a href="https://www.youtube.com/watch%3Fv%3DleNaS9eJWqo">[3 ]</a> ).  Another experience was Pascal in 2012.  At the institute, in the framework of studying discrete mathematics (they wrote the Fibonacci sequence, operations with stacks and basic sorts).  Based on my experience, it was decided to start with <b>exchange sorts</b> as something familiar and simple.  Below I describe a little more, what difficulties I had to face when rendering other types of sorts. <p></p><br><p></p><h3>  Selection of tools </h3><br>  Below are the tools used to create the visualization of the above algorithms. <p></p><br><p>  <i>The programming language is javascript.</i> </p><p>  ‚ÄúA rather unusual choice!‚Äù - you will say and you will be absolutely right.  Indeed, today there are many programming languages ‚Äã‚Äãand libraries for them that are suitable for the task much better.  For example, C ++.  With the use of C ++, you can manage memory, as well as draw graphics on the screen using much less computer resources.  I will not go deep into the reasons that my life situation requires my quickest retraining from a science researcher to a Web tech. Expert, in whom JavaScript is used everywhere, because the article as a whole will be too sad and will give unnecessary reasons for discussion in comments.  It was decided to combine business with pleasure, brush up on their academic knowledge and learn some of the above scripting language for web pages.  And yet, for objectivity, we list the positive and negative sides of the choice: </p><br><p>  Pros: <br><br></p><ol><li>  The first and very obvious plus is the interpreter accessible to all users.  If to view the work of Timo Bingmann you need to download the executable file on the machine <a href="http://panthema.net/2013/sound-of-sorting/">[4.</a>  <a href="http://panthema.net/2013/sound-of-sorting/">Downloads / Open source section]</a> .  That for the execution of the program in JavaScript language is sufficiently installed browser in your electronic device. </li><li>  It's easy to share your creativity with friends (just throw them a link to the demo in social networks) </li><li>  Easy UI design via HTML5 / CSS3.  This bundle quickly and reliably allows you to place the controls of the program. </li></ol><p></p><br><p>  Minuses: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </p><ol><li>  The first plus carries with it negative traits - the interpretation and execution of the code on the client‚Äôs machine leads to a load on the client‚Äôs CPU and RAM.  For the execution of the program RAM is required not so much (about 1.5 MB).  But the CPU i5 from Intel machine of your author, at the highest speed with the tests was loaded by 35%.  Consequently, we do not exclude brakes and jams on weak machines and android-devices with low productivity. </li><li>  Since CANVAS uses hardware acceleration <a href="http://www.ixbt.com/soft/browsers-hardware-acceleration.shtml">[5] we</a> do not exclude the load on the GPU. </li></ol><p></p><br><p>  <i>Visualization and display on the screen - HTML5 element: CANVAS.</i> <br><br>  CANVAS is a canvas on which you can draw objects using commands from the js script.  This method has its drawbacks, such as poor scalability when changing the scale in the browser, in contrast to the vector SVG (which is always perfect at any scale).  But since in our case, all the program logic is in the js-file - it is difficult to find an element more suitable for our task.  CANVAS also has obvious advantages, for example, scaling through CSS, which automatically also scales the coordinate system, which allows us to perform some adaptability without loss of quality using media queries.  Already not bad!  Also, the CANVAS element can be saved from the page by clicking on the canvas with the right mouse button and selecting ‚Äúsave‚Äù in the context menu.  This concludes the conversation about the tools and proceeds, in fact, to the program itself. </p><br><p>  <b>Pseudocode of the program:</b> <br><br>  1. Declare all global variables. <br>  2. Connect CANVAS for visualization. <br>  3. Enable Web Audio API.  and AudioContext () for auditing. <br>  4. Get the initial values ‚Äã‚Äãfrom the controls in the HTML markup and write them to variables. <br>  5. Based on the initial values, generate an array of elements and wait for commands from the user. <br>  6. When you click the "Reset" button, erase the canvas and count the new array of elements.  Display a new array on the screen. <br>  7. When you click the ‚ÄúPlay‚Äù button, start sorting by the type specified in the settings panel.  Change the button to "Pause".  When you press the "Pause" button, pause the sorting. And change the button to "Play". <br>  8. When changing the values ‚Äã‚Äãof the Change Speed ‚Äã‚Äãslider, change the sorting speed. <br>  9. When changing the sorting type on the settings panel, pause the sorting if the sorting process is initiated. <br>  10. When changing the sorting display type, change the drawing sequence in CANVAS.  Without stopping the sorting process. <br>  11. If the sorting is completed, reset all the counters, change the ‚ÄúPause‚Äù button to ‚ÄúPlay‚Äù, go through the array again in green, visually confirming the completion of the sorting and wait for further actions from the user.  (In fact, at this moment the sorting is already completed. This item is made purely for aesthetic reasons and with a discount on human perception) </p><br><p>  <b>Ui</b> <br>  As mentioned above, we will use HTML5 and CSS3 to create UI in the browser, we will need the following elements: <br><br></p><ul><li>  Headline  Nuff said <a href="http://lurkmore.to/Nuff_said">[6]</a> </li><li>  Control Panel. <br>  A block with settings sliders and a drop-down list for selecting the sorting type will be placed here.  We will immediately link the events to our sliders and the list in order to ensure that the necessary functions are invoked in the JavaScript code: <br><br><div class="spoiler">  <b class="spoiler_title">HTML</b> <div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-comment"><span class="hljs-comment">&lt;!--settings &amp; ranges --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"settingsPanel"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"label"</span></span></span><span class="hljs-tag">&gt;</span></span>Chose sort algorithm type:<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">select</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sortTypeDom"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"softFlowSelect"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onchange</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"changeSortType()"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"combSort"</span></span></span><span class="hljs-tag">&gt;</span></span>Comb sort<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"bubbleSort"</span></span></span><span class="hljs-tag">&gt;</span></span>Bubble sort<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"cocktailSort"</span></span></span><span class="hljs-tag">&gt;</span></span>Cocktail sort<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">select</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"label"</span></span></span><span class="hljs-tag">&gt;</span></span>Settings:<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hr</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"settingsRange"</span></span></span><span class="hljs-tag">&gt;</span></span> Sphere Radius &amp; Lines height / Brightness<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Sphere Radius"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"rangeCSS"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"range"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">min</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"30"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">max</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"150"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">step</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"75"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">oninput</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"changeRadius()"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sphereRadius"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">&gt;</span></span> Number of elements<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Number of elements"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"rangeCSS"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"range"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">min</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"30"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">max</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"240"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">step</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"125"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">oninput</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"calcNewArray()"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"elementsNumb"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">&gt;</span></span> Speed<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Speed"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"rangeCSS"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"range"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">min</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"10"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">max</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"200"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">step</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"5"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"105"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">oninput</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"changeSpeed()"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"codeSpeed"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">&gt;</span></span> Volume<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Volume"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"rangeCSS"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"range"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">min</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">max</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0.05"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">step</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0.0005"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0.025"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"volume"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br></div></div><br></li><li>  Buttons start, reset and type of display. <br><br>  We will use three types of displaying sorting on our canvas, in addition to offsetting the order of columns along the length (which has already become a classic), this will be a gradient from dark to light according to the degree of intensity and a circle with a shift of the order of columns along the length.  This will be a small new contribution to the sorting visualization.  Obviously, we will need buttons to change the display type, and we will need the ‚ÄúPlay‚Äù and ‚ÄúReset‚Äù control buttons.  Most of the classes in the following code are simply used for styling: <br><br><div class="spoiler">  <b class="spoiler_title">HTML</b> <div class="spoiler_text"><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sortButton transition"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"roundView"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"changeSortView('roundView')"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sortButton transition"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"classicView"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"changeSortView('classicView')"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sortButton transition"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"gradientView"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"changeSortView('gradientView')"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"buttonContainer"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"playButton button transition"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"firstButton"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onmousedown</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"mouseDown()"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"startButton()"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sprite-play"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"resetButton button transition"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"calcNewArray()"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sprite-reset"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> </div></div><br>  Transition is a unique property added in CSS3 that allows for smooth change between two element states.  I will not describe the obvious design in this article, because it does not represent any interest, focusing only on the transition.  The transition class looks like this: <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.transition</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">transition</span></span>: <span class="hljs-number"><span class="hljs-number">0.4s</span></span>; }</code> </pre> <br>  Well, from the interesting, this is of course the scaling of the CANVAS canvas in CSS3.  As mentioned above, the coordinate system is scaled together with the element, which allows us to create any large or small canvas representations without any problems with quality and coordinates.  For example, we will please owners of HD monitors: <br><br><pre> <code class="css hljs">@<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> screen and (max-width: <span class="hljs-number"><span class="hljs-number">2000px</span></span>) { <span class="hljs-selector-tag"><span class="hljs-selector-tag">canvas</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">1000px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">1000px</span></span>; } ... }</code> </pre> <br>  For the mobile, the canvas size was set to 800px. <br><br></li><li>  Actually, the canvas itself. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sortPlace"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">canvas</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"canvas"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"900"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"900"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">canvas</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br></li><li>  Basement.  Nuff say </li></ul><p></p><br><p>  <b>Javascript code</b> <br><br>  Immediately frustrated many readers.  I know that on Habrahabr love OOP.  However, the program was written in a procedural style, because at the time of writing the visualization, my experience was limited to independent picking in BASIC and solving some problems in discrete mathematics on Pascal.  More than ten years ago, I actively used subroutines in BASIC, and two weeks ago, after learning functions in JavaScript, I felt nostalgic.  After all, the main tasks of subroutines and functions are very similar, namely, to reduce the amount of code in a program by wrapping a repeating code in a function / subroutine.  I don't remember whether it was possible to send arguments to the subroutine, if you remember, be sure to write it in the comments under the article.  I first met the OOP style after writing half the code for visualization.  I really like this approach.  OOP is definitely good, but I‚Äôm probably not going to rewrite the code (besides, OOP in JavaScript has its own specifics, who knows, he will understand). <br><br>  We will begin on the classic with a flowchart to have a general idea of ‚Äã‚Äãthe program architecture: <br><br>  If Habrahabr does not know how to scale on click - here is a link <a href="https://www.draw.io/%3Flightbox%3D1%26target%3Dself%26highlight%3D0000ff%26title%3DUntitled%2520Diagram.xml">to the vector</a> and <a href="">raster</a> . <br><br><img src="https://habrastorage.org/files/3c1/859/31a/3c185931ae454c53965153c6c0abe790.png"><br><br>  I will not copy here all the code from the program.  If it becomes really interesting to someone, look in the <a href="https://github.com/ArVaganov/ExchangeSortAlgorithmVisualized">repository on GitHub</a> and be terrified already there.  Come with you right on the pseudocode: </p><br><div class="spoiler">  <b class="spoiler_title">A very large block of text with JavaScript code and explanations:</b> <div class="spoiler_text"><p>  <i>1. Declare all global variables.</i> <br>  Well, everything is pretty simple.  The program contains many functions that often use the same variables.  A special feature of JavaScript is that a variable declared inside a function is only available inside the function itself <a href="https://habrahabr.ru/post/127482/">[7]</a> .  While the variable declared in global space is visible everywhere.  This is the first difficulty I encountered.  I had to read a little.  Of course, whenever possible we will declare variables inside functions.  So, global we will have variables responsible for: <br>  Sorting process (sorting in process / sorting is stopped): </p><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// sort state var playing = false;</span></span></code> </pre> <br>  The value of the radius of the circle when loading the page used for display with a circle (necessary for the function of changing the radius with a joint adjustment of the size of the array element, if this is not done when the radius increases, the bars of the array elements will go beyond the canvas): <pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//sphere radius global vars for RoundView var radiusValue = +document.getElementById("sphereRadius").value, diffRadiusValue = 0;</span></span></code> </pre> <br>  Hex array of flowers, which we will contact when painting the canvas.  It was used to easily adjust nice colors on the canvas, such a palette.  Also, the colorPick variable is used to highlight the compared elements when scanning an array.  Light green will highlight elements that stand in their places, and light red if elements change places: <pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> colors = [<span class="hljs-string"><span class="hljs-string">"#839192"</span></span>, <span class="hljs-string"><span class="hljs-string">"#80ffbf"</span></span>, <span class="hljs-string"><span class="hljs-string">"#566573"</span></span>, <span class="hljs-string"><span class="hljs-string">"#ff8080"</span></span>, <span class="hljs-string"><span class="hljs-string">"#00cc00"</span></span>, <span class="hljs-string"><span class="hljs-string">"#006600"</span></span>, <span class="hljs-string"><span class="hljs-string">"#c2d6d6"</span></span>], colorPick = <span class="hljs-number"><span class="hljs-number">3</span></span>;</code> </pre> <br><p></p><br><p>  <i>2. Connect CANVAS to the canvas and connect it with HTML markup.</i> <i><br></i>  <i>3. Connect Audio API.</i>  <i>AudioContext () for auditing.</i> <br>  We will unite these two points of pseudocode, since  these variables can be logically declared as a single block.  In this block, we immediately set the value of the variable canvasSize (which is involved in generating the length of the array elements, finding the coordinates of the middle of the canvas, drawing the circle with the display with the circle) and we immediately attach the volume control to our volume slider from the markup: </p><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//canvas pics &amp; audio prep. var audio = new AudioContext(), volControl = document.getElementById("volume"), canvas = document.getElementById("canvas"), ctx = canvas.getContext("2d"), canvasSize = 900;</span></span></code> </pre> <br>  Next, we declare an empty array and auxiliary global variables in the code.  Which set the starting settings and are used in the sorting functions, for example, the variable responsible for the direction of movement for shaker sorting, the counters that track the completeness of the array and are responsible for completing the sorting, the step for sorting the comb, and so on. <i>4. Set the initial ones values ‚Äã‚Äãfor controls in HTML markup.</i> <p></p><br><p>  <i>5. Based on the initial values, generate an array of elements and wait for commands from the user.</i> <br>  Function call: </p><pre> <code class="javascript hljs">calcNewArray();</code> </pre> <br>  All the remaining code in the .js file is a declaration of functions, consider some of them as needed, some obvious ones will get a simple description.  If you're interested, you can always see them in the <a href="https://github.com/ArVaganov/ExchangeSortAlgorithmVisualized">repository</a> . <br>  So, the calcNewArray function that collects a new array takes the value of the number of elements from the slider in the HTML markup, the size of the canvas and the radius of the circle for the corresponding type is subtracted from the maximum size of the elements (so that when the radius changes, the elements do not go beyond the canvas).  Unary "+" in front of the values ‚Äã‚Äãobtained from the sliders in the markup must be set to perform the data type conversion "String" -&gt; "Number".  The first for loop fills our array with elements with the maximum allowable length (across the canvas), the second loop evenly distributes the length of the elements.  At the end of the function, all additional parameters for sorting are reset and functions that mix the array and update the canvas are called: <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calcNewArray</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ array=[]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; +<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"elementsNumb"</span></span>).value; i++) { array.push(<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.round(( (canvasSize/<span class="hljs-number"><span class="hljs-number">2</span></span>) - (+<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"sphereRadius"</span></span>).value) - <span class="hljs-number"><span class="hljs-number">60</span></span>))); } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; array.length; i++) { array[i] = array[i] * ((i)*((<span class="hljs-number"><span class="hljs-number">0.64</span></span>/array.length))) + <span class="hljs-number"><span class="hljs-number">90</span></span>; } step = array.length<span class="hljs-number"><span class="hljs-number">-2</span></span>; time = <span class="hljs-number"><span class="hljs-number">0</span></span>; direction = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; compareRandom(array); resetImage(); } }</code> </pre> <br>  Initially, I just filled the array with random elements in the range from 50 to the length of the canvas minus the radius, but random generation does not give such a smooth and beautiful array! <p></p><br><p>  Next, we describe the function startOsc responsible for the sound when checking items.  The function takes the frequency parameter as an input and is an oscillator connected in series to the gain.  So that the sound doesn‚Äôt cut the ear when the oscillator is broken, we indicate the rise time (attack) of the sound wave and attenuation. <br><img src="https://www.html5rocks.com/en/tutorials/webaudio/intro/diagrams/gain.png" alt="image"><br>  Anyone who has connected an electric guitar at least once will understand the way WebAudioApi works, those who haven't connected can read about it here <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API%3F__hstc%3D250130137.0d0a12e40fe9c4572388b94757eed43c.1485968108765.1486472794274.1487713079170.6%26__hsfp%3D2533840801%26__hssc%3D250130137.1.1487713079170">[8]</a> and in a simpler language here <a href="https://www.html5rocks.com/en/tutorials/webaudio/intro/%3F__hstc%3D250130137.0d0a12e40fe9c4572388b94757eed43c.1485968108765.1486472794274.1487713079170.6%26__hssc%3D250130137.1.1487713079170%26__hsfp%3D2533840801">[9]</a> and for maniacs who want to write music there is the fundamental book ‚ÄúWeb audio api ¬ªpublisher O'Reilly: </p><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">startOsc</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">freq</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> attack = <span class="hljs-number"><span class="hljs-number">25</span></span>, decay = <span class="hljs-number"><span class="hljs-number">60</span></span>, gain = audio.createGain(), osc = audio.createOscillator(); gain.connect(audio.destination); gain.gain.setValueAtTime(<span class="hljs-number"><span class="hljs-number">0</span></span>, audio.currentTime); gain.gain.linearRampToValueAtTime(volControl.value, audio.currentTime + attack / <span class="hljs-number"><span class="hljs-number">700</span></span>); gain.gain.linearRampToValueAtTime(<span class="hljs-number"><span class="hljs-number">0</span></span>, audio.currentTime + decay / <span class="hljs-number"><span class="hljs-number">700</span></span>); osc.frequency.value = (freq+<span class="hljs-number"><span class="hljs-number">100</span></span>)*<span class="hljs-number"><span class="hljs-number">1.4</span></span>; osc.type = <span class="hljs-string"><span class="hljs-string">"square"</span></span>; osc.connect(gain); osc.start(<span class="hljs-number"><span class="hljs-number">0</span></span>); setTimeout(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ osc.stop(<span class="hljs-number"><span class="hljs-number">0</span></span>); osc.disconnect(gain); gain.disconnect(audio.destination); }, decay); }</code> </pre> <p></p><br><p>  Next in pseudo-code: <i>6. When you click the "Reset" button, erase the canvas, count the new array of elements</i> <br>  Everything is quite simple here, in the HTML markup inside the block, we indicate the function call when handling the onclick event: </p><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"resetButton button transition"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"resetButton()"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  The resetButton () function itself calls the above calcNewArray (), and resetImage (), resetImage () is a function that is responsible for cleaning the canvas and calling the drawArray function, which receives an array on the input and performs the task of drawing an array on the canvas: <pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">resetImage</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ ctx.clearRect(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, canvasSize<span class="hljs-number"><span class="hljs-number">-20</span></span>, canvasSize<span class="hljs-number"><span class="hljs-number">-20</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sortView == <span class="hljs-string"><span class="hljs-string">"roundView"</span></span>) { drawCircle(+<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"sphereRadius"</span></span>).value, colors[<span class="hljs-number"><span class="hljs-number">6</span></span>]); } drawArray(array); }</code> </pre> <br><p></p><br><p>  drawArray (array) is a function with branching by the number of available types of sorts (in our case, bubble, comb and shaker), with nested loops, which prepares arguments for the lineFunction function (pommel, radCord, color, radius).  After the drawArray (array) function is called from the code responsible for the sorting logic itself, the loop preparation process for the lineFunction function is processed depending on the sorting type.  Further, by the number of elements in the array, lineFunction is called with arguments: pommel - boolean (the presence or absence of the "tip" of the element), radCord - the ordinal number of the array, color - color, and radius - the current radius of the circle (used only for the view with a circle).  Inside lineFunction, branching is similarly carried out, but according to the types of display (in our case, a view with a circle, a classic view, and a gradient).  Both functions of the function: drawArray and lineFunction contain a rather large amount of code.  For the demonstration, I will show you a code with a branch for bubble sorting, and a classic look: </p><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">drawArray</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">array</span></span></span><span class="hljs-function">) </span></span>{ ctx.lineWidth = <span class="hljs-number"><span class="hljs-number">2</span></span>*<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.PI*(+<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"sphereRadius"</span></span>).value)/array.length; ... if (sortType === <span class="hljs-string"><span class="hljs-string">"bubbleSort"</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; array.length; i++) { lineFunction(<span class="hljs-literal"><span class="hljs-literal">false</span></span>, i, colors[<span class="hljs-number"><span class="hljs-number">0</span></span>], +<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"sphereRadius"</span></span>).value); lineFunction(<span class="hljs-literal"><span class="hljs-literal">false</span></span>, time<span class="hljs-number"><span class="hljs-number">-1</span></span>, colors[colorPick], +<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"sphereRadius"</span></span>).value); lineFunction(<span class="hljs-literal"><span class="hljs-literal">false</span></span>, time, colors[colorPick], +<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"sphereRadius"</span></span>).value); lineFunction(<span class="hljs-literal"><span class="hljs-literal">true</span></span>, i, colors[<span class="hljs-number"><span class="hljs-number">2</span></span>], +<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"sphereRadius"</span></span>).value); } } ... } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lineFunction</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">pommel, radCord, color, radius</span></span></span><span class="hljs-function">) </span></span>{ ... if (sortView == <span class="hljs-string"><span class="hljs-string">"classicView"</span></span>) { ctx.strokeStyle = color; ctx.lineWidth = canvasSize*<span class="hljs-number"><span class="hljs-number">0.75</span></span> / array.length; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (pommel) { ctx.beginPath(); ctx.moveTo(radCord * (canvasSize*<span class="hljs-number"><span class="hljs-number">0.9</span></span> / array.length)+<span class="hljs-number"><span class="hljs-number">30</span></span>, canvasSize/<span class="hljs-number"><span class="hljs-number">2</span></span> - array[radCord]); ctx.lineTo(radCord * (canvasSize*<span class="hljs-number"><span class="hljs-number">0.9</span></span> / array.length)+<span class="hljs-number"><span class="hljs-number">30</span></span>, canvasSize/<span class="hljs-number"><span class="hljs-number">2</span></span> - array[radCord] - canvasSize*<span class="hljs-number"><span class="hljs-number">0.8</span></span> / array.length); ctx.stroke(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { ctx.beginPath(); ctx.moveTo(radCord * (canvasSize*<span class="hljs-number"><span class="hljs-number">0.9</span></span> / array.length)+<span class="hljs-number"><span class="hljs-number">30</span></span>, canvasSize/<span class="hljs-number"><span class="hljs-number">2</span></span>); ctx.lineTo(radCord * (canvasSize*<span class="hljs-number"><span class="hljs-number">0.9</span></span> / array.length)+<span class="hljs-number"><span class="hljs-number">30</span></span>, canvasSize/<span class="hljs-number"><span class="hljs-number">2</span></span> - array[radCord]); ctx.stroke(); } } ...</code> </pre> <br>  Note that the drawArray function sends two elements with colors [colorPick], to the lineFunction for drawing.  The colorPick value is global and is assigned each time in code that is directly responsible for the sorting logic.  This is either a light green color if the elements are not interchanged or a light red if the elements are swapped.      :    ctx.beginPath();   ¬´ ¬ª    moveTo  lineTo      .     ,   : ,      .  moveTo ‚Äì ¬´¬ª, ,          .  lineTo ‚Äì ¬´¬ª, ,          .  ,  stroke();      lineWidth      strokeStyle, (    ,     )      .  Adobe: Photoshop    ‚Äì Path,        .        Stroke Path,       .          .   CANVAS   Stroke         ¬´CANVAS   : ¬ª <a href="https://habrahabr.ru/post/111308/">[10]</a>        <a href="https://www.w3schools.com/html/html5_canvas.asp">[11]</a> <p></p><br><p> <i>7.    ¬´Play¬ª        .     ¬´Pause¬ª.    ¬´Pause¬ª  </i> <br>     ¬´Reset¬ª  ,   ,    ,      initSort()         .     ,    : </p><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">startButton</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!playing) { playing = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementsByClassName(<span class="hljs-string"><span class="hljs-string">"sprite-play"</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>].style.backgroundPosition = <span class="hljs-string"><span class="hljs-string">"-60px -5px"</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"firstButton"</span></span>).style.background = <span class="hljs-string"><span class="hljs-string">"linear-gradient(hsla(0, 64%, 87%, 1), hsla(0, 64%, 57%, 1))"</span></span>; initSort(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { playing = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementsByClassName(<span class="hljs-string"><span class="hljs-string">"sprite-play"</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>].style.backgroundPosition = <span class="hljs-string"><span class="hljs-string">"-60px -45px"</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"firstButton"</span></span>).style.background = <span class="hljs-string"><span class="hljs-string">"linear-gradient(hsla(136, 64%, 87%, 1), hsla(136, 64%, 57%, 1))"</span></span>; clearInterval(drawing); resetImage(); } }</code> </pre> <br><p></p><br><p> <i>8.    ¬´Change Speed¬ª   .</i> <br>  ,    HTML    oninput   : </p><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">changeSpeed</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (playing) { clearInterval(drawing); initSort(); } }</code> </pre> <br>    ,        .  Since  initSort();         ,      . <p></p><br><p> <i>9.          CANVAS .</i> <br>   onclick       ,      c  HSLA: <br></p><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">changeSortView</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">view</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"roundView"</span></span>).style.backgroundColor=<span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"classicView"</span></span>).style.backgroundColor=<span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"gradientView"</span></span>).style.backgroundColor=<span class="hljs-string"><span class="hljs-string">""</span></span>; sortView = view; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sortView == <span class="hljs-string"><span class="hljs-string">"roundView"</span></span>) { <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"roundView"</span></span>).style.backgroundColor = <span class="hljs-string"><span class="hljs-string">"hsla(163, 81%, 80%, 1)"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sortView == <span class="hljs-string"><span class="hljs-string">"classicView"</span></span>) { <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"classicView"</span></span>).style.backgroundColor = <span class="hljs-string"><span class="hljs-string">"hsla(163, 81%, 80%, 1)"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sortView == <span class="hljs-string"><span class="hljs-string">"gradientView"</span></span>) { <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"gradientView"</span></span>).style.backgroundColor = <span class="hljs-string"><span class="hljs-string">"hsla(163, 81%, 80%, 1)"</span></span>; } resetImage(); }</code> </pre>   sortView     lineFunction   ,  ,       ‚Äî   . <p></p><br><p> <i>10.   ,   ,  ¬´Pause¬ª        .      .</i> <br>      .   , ,            . ,        ,    ,      ,  ,    .     ‚Äî      . ,    ,  ,     ,  : </p><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">terminateProgram</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ clearInterval(drawing); ctx.clearRect(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, canvasSize<span class="hljs-number"><span class="hljs-number">-20</span></span>, canvasSize<span class="hljs-number"><span class="hljs-number">-20</span></span>); time = <span class="hljs-number"><span class="hljs-number">0</span></span>; colorPick = <span class="hljs-number"><span class="hljs-number">3</span></span>; ctx.lineWidth = <span class="hljs-number"><span class="hljs-number">2</span></span> * <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.PI * (+<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"sphereRadius"</span></span>).value) / array.length; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; array.length; i++) { lineFunction(<span class="hljs-literal"><span class="hljs-literal">false</span></span>, i, colors[<span class="hljs-number"><span class="hljs-number">0</span></span>], +<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"sphereRadius"</span></span>).value); lineFunction(<span class="hljs-literal"><span class="hljs-literal">true</span></span>, i, colors[<span class="hljs-number"><span class="hljs-number">2</span></span>], +<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"sphereRadius"</span></span>).value); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sortView == <span class="hljs-string"><span class="hljs-string">"roundView"</span></span>) { drawCircle(+<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"sphereRadius"</span></span>).value, colors[<span class="hljs-number"><span class="hljs-number">6</span></span>]); } } i = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> finishDrawing = setInterval(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// Last green-style check if (i &lt; array.length) { startOsc(array[i]); lineFunction(false, i, colors[1], +document.getElementById("sphereRadius").value); lineFunction(true, i, colors[5], +document.getElementById("sphereRadius").value); if (sortView == "roundView") { drawCircle(+document.getElementById("sphereRadius").value); } } else { if (sortView == "roundView") { drawCircle(+document.getElementById("sphereRadius").value, "#b3ffcc"); } clearInterval(finishDrawing); arrayLevel = 0; arrayLevelLow = 0; playing = false; document.getElementsByClassName("sprite-play")[0].style.backgroundPosition = "-60px -45px"; document.getElementById("firstButton").style.background = "linear-gradient(hsla(136, 64%, 87%, 1), hsla(136, 64%, 57%, 1))"; console.log("Array with " + array.length + " elements was completely sorted via " + sortType + " technique!" ); // Program shutdown! } i++; }, Math.abs(+document.getElementById("codeSpeed").value-200)*0.7); }</span></span></code> </pre> <br>  ,  ,         . <p></p><br><p>             ,     ,              .   ,         ,              The Art of Computer Programming (TAOCP) <a href="http://www-cs-faculty.stanford.edu/~uno/taocp.html">[12]</a> ,         JavaScript </p><div class="spoiler"> <b class="spoiler_title">     :</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sort</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ ctx.clearRect(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, canvasSize<span class="hljs-number"><span class="hljs-number">-20</span></span>, canvasSize<span class="hljs-number"><span class="hljs-number">-20</span></span>); <span class="hljs-comment"><span class="hljs-comment">// **************// comb sort code &amp; conditions //************************************************// if (sortType === "combSort") { if (array[time] &gt; array[time+step]) { colorPick = 3; } else { colorPick = 1; } drawArray(array); if (sortView == "roundView") { drawCircle(+document.getElementById("sphereRadius").value, colors[6]); } if (time + step &gt;= array.length) { time = 0; step = (step == 1) ? step : Math.floor(step / 1.25); } if (arrayLevel &gt; array.length) { terminateProgram(); } for (var i = 0; i &lt; array.length-1; i++) { if (array[i] &lt;= array[i+step]) { arrayLevel++; } else { arrayLevel=0; } } if (time &lt; array.length-1-arrayLevel) { startOsc(array[time+step]); startOsc(array[time]); if (array[time] &gt; array[time+step]) { var temp = array[time]; array[time] = array[time+step]; array[time+step] = temp; } time++; } else { time = 0;} } // *******// stupid-style bubble sort &amp; conditions //*************// if (sortType === "bubbleSort") { ctx.clearRect(10, 10, canvasSize-20, canvasSize-20); if (array[time] &gt; array[time+1]) { colorPick = 3; } else colorPick = 1; drawArray(array); if (sortView == "roundView") { drawCircle(+document.getElementById("sphereRadius").value, colors[6]); } if (arrayLevel &gt; array.length) { terminateProgram(); } for (var i = 0; i &lt; array.length-1; i++) { if (array[i] &lt;= array[i+1]) { arrayLevel++; } else { arrayLevel=0; } } if (time &lt; array.length-1-arrayLevel) { startOsc(array[time]); startOsc(array[time+1]); if (array[time] &gt; array [time+1]) { var temp = array[time+1]; array[time+1] = array[time]; array[time] = temp; } time++; } else { time = 0;} } // ********************// cocktail shaker sort //*********************************// if (sortType === "cocktailSort") { // if (arrayLevel+arrayLevelLow &gt; array.length) { terminateProgram(); } ctx.clearRect(10, 10, canvasSize-20, canvasSize-20); drawArray(array); if (sortView == "roundView") { drawCircle(+document.getElementById("sphereRadius").value, colors[6]); } if (direction) { for (var i = 0; i &lt; array.length-1; i++) { if (array[i] &lt; array[i+1]) { arrayLevel++; } else { arrayLevel=0; } } } else { for (i = array.length; i &gt; 1; i--) { if (array[i] &gt; array[i-1]) { arrayLevelLow++; } else { arrayLevelLow=0; } } } if (direction) { if (time &lt; array.length-arrayLevel-1) { startOsc(array[time]); startOsc(array[time+1]); if (array[time] &gt; array [time+1]) { var temp = array[time+1]; array[time+1] = array[time]; array[time] = temp; colorPick = 3; } else { colorPick = 1; } time++; } else { direction=false; } } if (!direction) { if (time &gt; arrayLevelLow) { startOsc(array[time]); startOsc(array[time-1]); if (array[time] &gt; array [time+1]) { var temp = array[time+1]; array[time+1] = array[time]; array[time] = temp; colorPick = 3; } else { colorPick = 1; } time--; } else { direction=true; } } } } }</span></span></code> </pre> <br></div></div><br>  ,       ,  ,      , .    ,               , ,  . <p></p><br></div></div><br><h3>  Conclusion </h3><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In order to study HTML5, CSS3, JavaScript, the CANVAS element, the WebAudio API, we developed a page that visualizes the simplest sorting algorithms for the exchange. </font><font style="vertical-align: inherit;">Sorts such as hairbrush, shaker sorting and bubble sorting. </font><font style="vertical-align: inherit;">During development, the author had a lot of questions, because </font><font style="vertical-align: inherit;">The author is still inexperienced. </font><font style="vertical-align: inherit;">The number of lines of the long-suffering code is ‚âà500. </font><font style="vertical-align: inherit;">The amount of time spent ‚âà 2 weeks at a leisurely pace. </font><font style="vertical-align: inherit;">The amount of pleasure obtained from the achieved result is not calculated in figures. </font><font style="vertical-align: inherit;">Thank you for reading my first article.</font></font><br><br></p><hr><br> <a href="https://alexvaganov.bitbucket.io/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Link to the demo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (free hosting on bitbucket, not sure of the correct operation with a large number of visitors.</font></font><br><br><p><font style="vertical-align: inherit;"></font><a href="https://www.youtube.com/watch%3Fv%3Do6XBlRUC91Y%26list%3DPLDQRlrYrh6yquu2mhKp6KPVtuvZ1cjL46"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YouTube</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> link </font><a href="https://www.youtube.com/watch%3Fv%3Do6XBlRUC91Y%26list%3DPLDQRlrYrh6yquu2mhKp6KPVtuvZ1cjL46"><font style="vertical-align: inherit;">playlist</font></a><font style="vertical-align: inherit;"> with visualization demo</font></font></p><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> References to the used literature and sources indicated in the article. </font></font></h3><br> <a href="https://github.com/ArVaganov/ExchangeSortAlgorithmVisualized">       GitHub</a> | <a href="">-   </a> <br><p> <a href="https://github.com/bingmann">[1] GitHub Timo Bingmann</a> <br> <a href="http://panthema.net/2013/sound-of-sorting/">[2]         </a> <br> <a href="https://www.youtube.com/watch%3Fv%3DleNaS9eJWqo">[3]       ,      BASIC</a> <br> <a href="http://panthema.net/2013/sound-of-sorting/">[4]  Timo Bingmann   ,           Downloads / Open source</a> <br> <a href="http://www.ixbt.com/soft/browsers-hardware-acceleration.shtml">[5]   ixbt     ,    CANVAS /   ‚Äì 2011</a> <br> <a href="http://lurkmore.to/Nuff_said">[6]    </a> <br> <a href="https://habrahabr.ru/post/127482">[7]          JavaScript    /  ‚Äì 2011</a> <br> <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API%3F__hstc%3D250130137.0d0a12e40fe9c4572388b94757eed43c.1485968108765.1486472794274.1487713079170.6%26__hsfp%3D2533840801%26__hssc%3D250130137.1.1487713079170">[8]  Web Audio API   </a> <br> <a href="https://www.html5rocks.com/en/tutorials/webaudio/intro/%3F__hstc%3D250130137.0d0a12e40fe9c4572388b94757eed43c.1485968108765.1486472794274.1487713079170.6%26__hssc%3D250130137.1.1487713079170%26__hsfp%3D2533840801">[9]       Web Audio API / Boris Smus ‚Äì   2013</a> <br> <a href="https://habrahabr.ru/post/111308/">[10]     ¬´CANVAS   : ¬ª / Alexander Shpak ‚Äì 2011</a> <br> <a href="https://www.w3schools.com/html/html5_canvas.asp">[11] ,      CANVAS  w3s</a> <br> <a href="http://www-cs-faculty.stanford.edu/~uno/taocp.html">[12]      ¬´The Art of Computer Programming (TAOCP)¬ª / Donald Knuth ‚Äì   1968</a> <br></p><p></p></div><p>Source: <a href="https://habr.com/ru/post/322618/">https://habr.com/ru/post/322618/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../322608/index.html">Parsim weblancer using PROXY</a></li>
<li><a href="../322610/index.html">The digest of interesting materials for the mobile # 192 developer (February 20-26)</a></li>
<li><a href="../322612/index.html">Perspective API is available for developers.</a></li>
<li><a href="../322614/index.html">Overview of automated paid parking systems</a></li>
<li><a href="../322616/index.html">Setting up DKIM / SPF / DMARC records or defending against spoofing</a></li>
<li><a href="../322620/index.html">Moving to Yandex ClickHouse</a></li>
<li><a href="../322622/index.html">Linus Torvals spoke about the SHA-1 collisions in the Git repositories: there is nothing to fear</a></li>
<li><a href="../322624/index.html">Uber - the reasons for the transition from Postgres to MySQL</a></li>
<li><a href="../322626/index.html">Open machine learning course. Topic 1. Primary data analysis with Pandas</a></li>
<li><a href="../322634/index.html">Free IP Camera Software</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>