<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Unity3d Lessons from Unity 3D Student (B25-B28)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello. This is the final series of basic Unity 3D tutorials from Unity3DStudent . Next are two more mid-level lessons. Upd: the plans have changed, th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Unity3d Lessons from Unity 3D Student (B25-B28)</h1><div class="post__text post__text-html js-mediator-article">  Hello.  This is the final series of basic Unity 3D <a href="http://www.unity3dstudent.com/">tutorials</a> from <a href="http://www.unity3dstudent.com/">Unity3DStudent</a> .  <s>Next are two more mid-level lessons.</s>  <i>Upd: the</i> plans have changed, these lessons will not be, since the second lesson (in animation) is already quite outdated, and I see no reason to post the translation of just one lesson.  Let it remain for independent study =) <br><br>  Links to previous lessons: <br><ul><li>  <a href="http://habrahabr.ru/post/141362/">Lessons B00-B03</a> </li><li>  <a href="http://habrahabr.ru/post/142845/">Lessons B04-B08</a> </li><li>  <a href="http://habrahabr.ru/post/145565/">Lessons B09-B12</a> </li><li>  <a href="http://habrahabr.ru/post/149721/">Lessons B13-B16</a> </li><li>  <a href="http://habrahabr.ru/post/219193/">Lessons B17-B20</a> </li><li>  <a href="http://habrahabr.ru/post/221545/">Lessons B21-B24</a> </li></ul><br><a name="habracut"></a><br><h4>  Basic Lesson 25 - Object GUI Texture and Mouse Events </h4><br><hr><br>  <i>The tutorial describes how to create a simple button using the GUI Texture and mouse events.</i> <br><br>  If you want to create a simple user interface, you can use a <i>GUI Texture</i> object.  Consider this object on the example of creating a button.  First we need two textures: for the button in the normal state and for the button in the state when the mouse cursor is hovering over it.  Prepare the appropriate files and add them to the project. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/8a1/cb0/302/8a1cb0302cfdc11b30d43b4e18cd9c2a.png"><br><br>  Now click on the <i>button_normal</i> file, and then create a <i>GUI Texture</i> from the <i>GameObject</i> menu <i>- Create Other - GUI Texture</i> .  A new object will appear on the scene, onto which the corresponding texture of the normal state of the button will immediately be superimposed. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/16a/22d/73c/16a22d73cbf04b6172cdcecddd542c54.png"><br><hr><br><img src="https://habrastorage.org/getpro/habr/post_images/378/a18/549/378a18549a9fd9c3049233fe43cef5ac.png"><br><br>  The created object consists of two components: <i>Transform</i> and <i>GUITexture</i> .  Notice that changing the parameters of the <i>Transform</i> component works slightly differently compared to other objects in the scene.  In the <i>Position</i> and <i>Scale</i> parameters, only changes along the <i>X</i> and <i>Y</i> axes are processed, changes along the <i>Z</i> axis are ignored.  Changes to the <i>Rotation</i> parameter are ignored completely.  In addition, in the <i>Position</i> parameter, the values ‚Äã‚Äãare indicated not in world, but in screen coordinates, where 0.0 is the lower left corner of the screen, and 1.1 is the upper right corner of the screen.  The default values ‚Äã‚Äãare 0.5.0.5, i.e.  center of the screen.  In the <i>GUITexture</i> component, <i>you</i> can set the texture, color, additional offset from the edges of the screen and the border.  Since we selected a specific texture before creating the object, Unity itself set these values.  If desired, they can be changed. <br><br>  So, we have a button in the center of the screen that is not doing anything yet.  Let's revive it with the following script: <br>  <u>JavaScript code:</u> <br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> normalTex : Texture2D; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> hoverTex : Texture2D; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnMouseEnter</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ guiTexture.texture = hoverTex; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnMouseExit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ guiTexture.texture = normalTex; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnMouseDown</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ Debug.Log(<span class="hljs-string"><span class="hljs-string">"clicked"</span></span>); }</code> </pre> <br>  <u>C # code:</u> <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Texture2D normalTex; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Texture2D hoverTex; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnMouseEnter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { guiTexture.texture = hoverTex; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnMouseExit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { guiTexture.texture = normalTex; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnMouseDown</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Debug.Log(<span class="hljs-string"><span class="hljs-string">"clicked"</span></span>); }</code> </pre><br>  We <i>created the normalTex</i> and <i>hoverTex variables</i> for storing, respectively, the normal state of the button texture and the button texture under the mouse cursor.  Then we process three methods: <i>OnMouseEnter</i> (hovering the mouse over an object), <i>OnMouseExit</i> (getting the mouse cursor out of the object) and <i>OnMouseDown</i> (clicking the object).  These methods are called after the corresponding mouse events, if the object to which the script is attached is inherited from the <i>GUIElement</i> or <i>Collider</i> class.  In the entry / exit methods of the mouse cursor, we set the corresponding texture to the object, in the click method we simply write a message to the console. <br><br>  Attach the script to our button, put the texture files in the appropriate fields: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b35/ca9/e2d/b35ca9e2d92ff4c3686eefe0a1b71abf.png"><br><br>  Launch the scene and test the button.  The button changes the texture when you hover the mouse, when clicked, displays the message ‚Äúclicked‚Äù in the console and changes the texture back when the cursor is displayed. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/649/fa5/454/649fa5454bb004351a1326c8397fa3e0.png"><br><br>  <a href="http://www.unity3dstudent.com/2010/10/beginner-b25-gui-texture-and-mouse-events/">Link to the original lesson</a> <br><br><h5>  Additional materials: </h5><br>  <a href="http://docs.unity3d.com/Documentation/Components/class-GuiTexture.html">Reference to the GUI Texture component documentation</a> <br>  <a href="http://docs.unity3d.com/Documentation/ScriptReference/MonoBehaviour.OnMouseEnter.html">Link to OnMouseEnter Method Documentation</a> <br>  <a href="http://docs.unity3d.com/Documentation/ScriptReference/MonoBehaviour.OnMouseExit.html">Link to OnMouseExit Method Documentation</a> <br>  <a href="http://docs.unity3d.com/Documentation/ScriptReference/MonoBehaviour.OnMouseDown.html">Link to OnMouseDown Method Documentation</a> <br><br><h4>  Basic Lesson 26 - Using the Mathf.Clamp Method to Restrict Values </h4><br><hr><br>  <i>The lesson shows how to limit the values ‚Äã‚Äãin a certain range using the Mathf.Clamp method.</i> <br><br>  When developing game mechanics, it is sometimes necessary to limit a certain value within a given interval of values.  For example, you are writing some kind of simple space shooter and you want the player-controlled ship not to fly out of the screen.  This will help us <i>Clamp</i> method class <i>Mathf</i> . <br><br>  Consider using this method on the stage where we have a camera, a light source and a simple Cube <i>cube</i> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2e5/500/efe/2e5500efe22f23b3e0f521de9b7c5890.png"><br><br>  We realize the possibility of moving the cube along the <i>X</i> axis, and it will only be possible to move between <i>X</i> = -10 to <i>X</i> = 10. To do this, we write the following script and add it to the cube: <br>  <u>JavaScript code:</u> <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Update</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> xMove : float = Input.GetAxis(<span class="hljs-string"><span class="hljs-string">"Horizontal"</span></span>) * Time.deltaTime * <span class="hljs-number"><span class="hljs-number">20</span></span>; transform.Translate(Vector3(xMove,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>)); transform.position.x = Mathf.Clamp(transform.position.x, <span class="hljs-number"><span class="hljs-number">-10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>); }</code> </pre><br>  <u>C # code:</u> <br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Update</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> xMove = Input.GetAxis(<span class="hljs-string"><span class="hljs-string">"Horizontal"</span></span>) * Time.deltaTime * <span class="hljs-number"><span class="hljs-number">20</span></span>; transform.Translate(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(xMove,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>)); transform.position = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(Mathf.Clamp(transform.position.x, <span class="hljs-number"><span class="hljs-number">-10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>), transform.position.y, transform.position.z); }</code> </pre><br>  We move the cube using the value of the virtual <i>X</i> axis and the <i>Transform.Translate</i> method, and then we restrict the cube position on the <i>X</i> axis by calling the <i>Mathf.Clamp</i> method.  The method takes three parameters: the limit value, the minimum range limit, and the maximum range limit. <br><br>  Launch the scene, press on the keyboard A / D or left-right arrows.  The cube moves, and it cannot move beyond the range of the <i>X</i> = -10..10 range <i>(you can add to the end of the Update method the output of the X-axis position to the console ‚Äî Debug.Log (transform.position.x); - comment of the translator)</i> . <br><br>  <a href="http://www.unity3dstudent.com/2010/11/beginner-b26-using-mathf-clamp-to-restrict-values/">Link to the original lesson</a> <br><br><h5>  Additional materials: </h5><br>  <a href="http://docs.unity3d.com/Documentation/ScriptReference/Mathf.Clamp.html">Reference to the documentation of the Mathf.Clamp method</a> <br><br><h4>  Basic Lesson 27 - Implementing Suspension (Pause) in a Game Using Time.timeScale </h4><br><hr><br>  <i>The lesson discusses using the Time.timeScale property to pause / resume a game.</i> <br><br>  When developing a game, you will probably want to give players the opportunity to pause it and then resume it.  To do this, you just need to work a little with the static <i>timeScale</i> property of the <i>Time</i> class. <br><br>  For example, we have a scene where a small ball is jumping on the floor, and we want to suspend / resume its movement.  First we need an object on which we will ‚Äúhang‚Äù the pause implementation script.  To do this, you can create an empty game object ( <i>GameObject</i> menu <i>- Create Empty</i> ), place it in any convenient place and name it, for example, <i>Manager</i> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3ea/950/a33/3ea950a3336645263d84af18d2d36a9a.png"><br><br>  Now create a new script and write the following in it: <br>  <u>JavaScript code:</u> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> paused : boolean = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Update</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(Input.GetButtonUp(<span class="hljs-string"><span class="hljs-string">"Jump"</span></span>)){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!paused){ Time.timeScale = <span class="hljs-number"><span class="hljs-number">0</span></span>; paused=<span class="hljs-literal"><span class="hljs-literal">true</span></span>; }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span>{ Time.timeScale = <span class="hljs-number"><span class="hljs-number">1</span></span>; paused=<span class="hljs-literal"><span class="hljs-literal">false</span></span>; } } }</code> </pre><br>  <u>C # code:</u> <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> paused = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Update</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(Input.GetButtonUp(<span class="hljs-string"><span class="hljs-string">"Jump"</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!paused) { Time.timeScale = <span class="hljs-number"><span class="hljs-number">0</span></span>; paused=<span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { Time.timeScale = <span class="hljs-number"><span class="hljs-number">1</span></span>; paused=<span class="hljs-literal"><span class="hljs-literal">false</span></span>; } } }</code> </pre><br>  In the script, we set the paused variable to control whether the pause is on or not.  We enable on / off pauses in the <i>Update</i> method by pressing the ‚ÄúJump‚Äù button - with the standard input settings this is the space bar.  Next we check if the pause is off?  If so, we <i>set the Time.timeScale</i> property to <i>0</i> , which will stop the flow of time in the game;  and denote that the pause is on - <i>paused = true</i> .  Otherwise, <i>set the Time.timeScale</i> value to 1 and turn off the pause.  The Time.timeScale <i>property</i> can also set values ‚Äã‚Äãbetween 0 and 1 and more than 1, which will, respectively, slow down and speed up the passage of time, if you need it. <br><br>  Add the script to the <i>Manager</i> object, run the scene.  At any time, press the space bar - the ball stops.  A second press returns the paused movement of the ball. <br><br>  <a href="http://www.unity3dstudent.com/2010/12/beginner-b27-pause-using-timescale/">Link to the original lesson</a> <br><br><h5>  Additional materials: </h5><br>  <a href="http://docs.unity3d.com/Documentation/ScriptReference/Time-timeScale.html">Reference to the documentation of the Time.timeScale property</a> <br><br><h4>  Basic Lesson 28 - Using the SendMessage Method to Call External Methods </h4><br><hr><br>  <i>The tutorial describes how to use the SendMessage method of the GameObject class to invoke the script method of another game object.</i> <br><br>  There are different ways to connect from the script of one game object with the script of another game object.  Earlier we considered the <i>GetComponent</i> method, with which you can get the components of an object, including its scripts.  An alternative to this may be using the <i>SendMessage</i> method. <br><br>  Consider a scene where there is a blue Ball <i>Ball</i> falling onto a red <i>Switch</i> box.  Next to them hangs in the air black block.  Let's make it so that when the ball falls on the drawer, the unit changes the texture and also falls down. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/aff/7df/a8c/aff7dfa8cf61fbdb454b5be6f2876a73.png"><br><br>  First we need to write a script for the block.  Create a new script, name it <i>Reactor</i> and write the following: <br>  <u>JavaScript code:</u> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> downTexture : Texture2D; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">React</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ renderer.material.mainTexture = downTexture; <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> WaitForSeconds(<span class="hljs-number"><span class="hljs-number">1</span></span>); gameObject.AddComponent(Rigidbody); }</code> </pre><br>  <u>C # code:</u> <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Texture2D downTexture; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> IEnumerator </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">React</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { renderer.material.mainTexture = downTexture; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">yield</span></span></span><span class="hljs-function"> return new </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WaitForSeconds</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span></span><span class="hljs-function">)</span></span>; gameObject.AddComponent(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(Rigidbody)); }</code> </pre><br>  We declared a <i>downTexture</i> variable to store the texture and implemented the <i>React</i> method, in which we change the texture of the object, make a small delay of 1 second, and add the <i>Rigidbody</i> component of the solid, so that the object becomes gravitational.  Add this script to the <i>Block</i> object right away and drag any suitable image to the <i>Down Texture</i> script field.  In the lesson, this is an image of a downward yellow arrow on a black background. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0ba/2f2/c89/0ba2f2c89f4dacd49286467208bf8786.png"><br><br>  Do not rush to run the scene yet, nothing will change on it yet.  Next we need to make a script for the ball <i>Ball</i> .  Let's call it <i>Switcher</i> and write inside: <br>  <u>JavaScript code:</u> <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnCollisionEnter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">col : Collision</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(col.gameObject.name == <span class="hljs-string"><span class="hljs-string">"Switch"</span></span>){ gameObject.Find(<span class="hljs-string"><span class="hljs-string">"Block"</span></span>).SendMessage(<span class="hljs-string"><span class="hljs-string">"React"</span></span>); } }</code> </pre><br>  <u>C # code:</u> <br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnCollisionEnter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Collision col</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (col.gameObject.name == <span class="hljs-string"><span class="hljs-string">"Switch"</span></span>) GameObject.Find(<span class="hljs-string"><span class="hljs-string">"Block"</span></span>).SendMessage(<span class="hljs-string"><span class="hljs-string">"React"</span></span>); }</code> </pre><br><br>  We implemented the <i>OnCollisionEnter</i> method, which will be called when the collider collides with another object.  We are interested in colliding with the <i>Switch</i> box, so we first make the appropriate check.  If so, we search for the <i>Block</i> object using the <i>GameObject.Find</i> method, specifying the name of the block.  For the object found, the <i>SendMessage</i> method is called, to which the name of the method we want to call ( <i>React</i> ) is passed, after which, accordingly, this method is executed. <br><br>  Add the script to the ball, run the scene.  Now when the ball falls on the box, the block changes the texture and after a second it also drops down. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/faa/05b/455/faa05b455df30f6e31692b75f545442c.png"><br><br>  <i>Note from the translator:</i> One of the drawbacks of using <i>SendMessage</i> is a possible performance degradation compared to calling methods directly.  Here on this <a href="http://wiki.unity3d.com/index.php%3Ftitle%3DGeneral_Performance_Tips">page</a> , devoted to the issues of performance, says about the difference in 100 times in favor of a direct call.  Therefore, this method should be used with caution (like <i>GetComponent</i> , <i>Find</i> methods, etc.), and if its use really becomes the culprit for a performance drop, use faster solutions. <br><br>  <a href="http://www.unity3dstudent.com/2011/02/beginner-b28-sendmessage-to-call-external-functions/">Link to the original lesson</a> <br><br><h5>  Additional materials: </h5><br>  <a href="http://docs.unity3d.com/Documentation/ScriptReference/GameObject.SendMessage.html">Reference to the documentation of the GameObject.SendMessage method</a> </div><p>Source: <a href="https://habr.com/ru/post/221755/">https://habr.com/ru/post/221755/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../221741/index.html">Entering passwords when building projects using gradle</a></li>
<li><a href="../221743/index.html">Python-digest # 25. News, interesting projects, articles and interviews [April 28, 2014 - May 4, 2014]</a></li>
<li><a href="../221745/index.html">IPv6 in Cisco or the future is near (Part 1)</a></li>
<li><a href="../221751/index.html">Highscreen Zera S - a compact smartphone with a 4.5 "screen</a></li>
<li><a href="../221753/index.html">Manual molecular scanner SCiO analyzes the composition of food and drugs</a></li>
<li><a href="../221761/index.html">Because of the software bug, more than 200 flights were delayed: do not fly above 65535 feet</a></li>
<li><a href="../221763/index.html">Linq-like syntax for knockout</a></li>
<li><a href="../221767/index.html">Monetization of gaming applications</a></li>
<li><a href="../221769/index.html">IT service or service in IT - how to make the client a little happier?</a></li>
<li><a href="../221771/index.html">Firefox 29+ interface and customization</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>