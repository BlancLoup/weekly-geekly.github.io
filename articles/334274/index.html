<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>If there is no difference between the two code options, choose the one that is easier to debug.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In C #, there are two ways to convert objects: use the as operator, which attempts to convert the object and returns a result if successful, null if u...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>If there is no difference between the two code options, choose the one that is easier to debug.</h1><div class="post__text post__text-html js-mediator-article"> In C #, there are two ways to convert objects: use the <code>as</code> operator, which attempts to convert the object and returns a result if successful, <code>null</code> if unsuccessful;  or use the transform operator. <br><br><img src="https://habrastorage.org/web/e95/3fe/9b4/e953fe9b429e4a7d8bce884aa39156ce.jpg"><br><br>  Which of these options to choose when you need to immediately use the result of the conversion? <br><a name="habracut"></a><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">//  1 var thing = GetCurrentItem(); var foo = thing as Foo; foo.DoSomething();</span></span></code> </pre><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">//  2 var thing = GetCurrentItem(); var foo = (Foo)thing; foo.DoSomething();</span></span></code> </pre><br>  Now suppose the object <code>thing</code> not a type of <code>Foo</code> .  Both options will work incorrectly, but they will do it in different ways. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In the first variant, the debugger will throw a <code>NullReferenceException</code> exception in the <code>foo.DoSomething()</code> method, and a failure dump will confirm that the <code>foo</code> variable is <code>null</code> .  However, this may not be in the crash dump.  Perhaps the crash dump captures only the parameters that participated in the expression, which in turn led to the exception.  Or maybe the variable <code>thing</code> will go to the garbage collector.  You cannot determine where the problem is when <code>GetCurrentItem</code> returns <code>null</code> or <code>GetCurrentItem</code> returns an object of another type other than <code>Foo</code> .  And what is this if not <code>Foo</code> ? <br><br>  In the second variant errors may also occur.  If the <code>thing</code> object is <code>null</code> , you will receive a <code>NullReferenceException</code> when calling the <code>foo.DoSomething()</code> <code>NullReferenceException</code> .  However, if the <code>thing</code> object is of a different type, the failure will occur at the type conversion point and will throw an <code>InvalidCastException</code> exception.  If you are lucky, the debugger will show what exactly can not be converted.  If you are not very lucky, you can determine where the failure occurred by the type of exception issued. <br><br><blockquote>  <b>Task:</b> Both options below are functionally equivalent.  Which will be easier to debug? <br><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">//  1 collection.FirstOrDefault().DoSomething();</span></span></code> </pre><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">//  2 collection.First().DoSomething();</span></span></code> </pre> </blockquote></div><p>Source: <a href="https://habr.com/ru/post/334274/">https://habr.com/ru/post/334274/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../334262/index.html">Unexpected Kotlin poll results: a small investigation</a></li>
<li><a href="../334264/index.html">We read, listen, use. Guide on the sources for the development of Android-developer</a></li>
<li><a href="../334266/index.html">Applications for Tarantool. Part 1. Stored procedures</a></li>
<li><a href="../334268/index.html">Terrible recruiter, terrible candidate</a></li>
<li><a href="../334270/index.html">Automate CI / CD for Java applications using Microsoft Visual Studio Team Services</a></li>
<li><a href="../334276/index.html">Zabbix + RocksDB - migration and first impressions</a></li>
<li><a href="../334278/index.html">A bit about SSL certificates: How to choose and how to get</a></li>
<li><a href="../334280/index.html">Cryptocurrency in terms of civil law</a></li>
<li><a href="../334282/index.html">What are chemists and biologists doing at EPAM?</a></li>
<li><a href="../334284/index.html">Metaclasses in C ++</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>