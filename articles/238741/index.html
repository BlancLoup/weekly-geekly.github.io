<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>HTML minimization in Web Essentials 2013: What has changed over the year?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Almost a year has passed since the publication of the previous article and the example of minimizing the HTML fragment given in it is no longer releva...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>HTML minimization in Web Essentials 2013: What has changed over the year?</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/da7/916/21f/da791621fe77e28009a633201c5bd642.png" width="565" height="100" alt="Web Essentials and WebMarkupMin logos"><br>  Almost a year has passed since the publication of the <a href="http://habrahabr.ru/post/199206/">previous article</a> and the example of minimizing the HTML fragment given in it is no longer <strong>relevant</strong> (the <strong>Web Essentials&gt; Minify selection command is</strong> no longer available in the context menu when editing HTML files).  Serious changes in this functionality occurred in December last year, when version 1.5 was released, but at that moment I did not have time to write an article about it.  Since during this time no one has described this functionality in Russian (there is an article by David Paquette <a href="http://www.davepaquette.com/archive/2013/12/27/minifying-your-html.aspx">‚ÄúMinifying your HTML‚Äù</a> in English), I will try to catch up. <br><a name="habracut"></a><br>  In version 1.5, two very useful commands were added to the context menu for HTML files: <br><ol><li>  Minify HTML file (s) </li><li>  Create HTML bundle file </li></ol><br>  In their principle of operation, these commands are very similar to the commands of the same name for JavaScript and CSS files. <br><br>  In this article, we will look at the latest stable version of Web Essentials 2013 (version 2.3), which supports <a href="http://webmarkupmin.codeplex.com/releases/view/122718">WebMarkupMin 0.8.21</a> . <br><br><h2>  Minimize HTML files </h2><br>  It is very easy to minimize HTML files using Web Essentials 2013: in the <strong>Solution Explorer,</strong> select one or more HTML files (while holding the <strong>CTRL</strong> key), then right-click and select the <strong>Web Essentials&gt; Minify HTML file</strong> command in the pop-up menu that appears <strong>(s )</strong> (Fig. 1). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <a href="" title="Open full image"><img src="https://habrastorage.org/getpro/habr/post_images/e27/da7/c87/e27da7c873e153b3d9e60b8d2eab07d3.png" width="800" height="444"></a> <br>  <strong>Figure 1.</strong> Minimizing the HTML file shell.html. <br><br>  If the minimization was successful, then the minimized version - <code>shell.html</code> will appear in the <strong>Solution Explorer</strong> under the <code>shell.html</code> file, and in the status bar of Visual Studio you will see how much we managed to save by minimizing (Fig. 2). <br><br> <a href="" title="Open full image"><img src="https://habrastorage.org/getpro/habr/post_images/1b3/a34/741/1b3a347419cddffce06ce7b4a27eaffa.png" width="800" height="444"></a> <br>  <strong>Fig.</strong>  <strong>2.</strong> The result of minimizing the HTML file shell.html. <br><br>  If errors occur during the minimization, an error message will be displayed on the screen. <br><br>  Unlike <code>.min.css</code> and <code>.min.js</code> files, the created <code>.min.html</code> files by default will not be regenerated each time the original file is saved, but this behavior can be changed in the settings.  To go to the HTML minimization settings, select <strong>Tools&gt; Options&gt; Web Essentials&gt; HTML</strong> from the menu, and then go to the <strong>Minification</strong> category (Figure 3). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ae4/318/23f/ae431823f442d284e80ef1c4d6645cef.png" width="758" height="441"><br>  <strong>Fig.</strong>  <strong>3.</strong> HTML minimization settings. <br><br>  Consider in detail all the properties of the category <strong>Minification</strong> : <br><table><tbody><tr><th>  Property </th><th>  Data type </th><th>  Default value </th><th>  Description </th></tr><tr><td>  Create gzipped files </td><td>  Boolean </td><td> <code>false</code> </td> <td>  If the value of this property is <code>true</code> , then during minimization, in addition to the <code>.min.html</code> file, a <code>.min.html.gzip</code> file ( <code>.min.html</code> file compressed with GZip) will also be created.  You can read about the advantages of sharing HTML minimization and GZip compression in Mads Christensen <a href="http://madskristensen.net/post/effects-of-gzipping-vs-minifying-html-files">‚Äôs</a> article <a href="http://madskristensen.net/post/effects-of-gzipping-vs-minifying-html-files">‚ÄúEffects of GZipping vs.</a>  <a href="http://madskristensen.net/post/effects-of-gzipping-vs-minifying-html-files">minifying HTML files</a> . </td></tr><tr><td> <code>Minification Mode</code> </td> <td>  Enumeration </td><td> <code>KeepQuotes</code> </td> <td>  The mode for removing quotes in HTML attributes.  It can take the following values: <br><ul><li>  <strong>KeepQuotes.</strong>  Keeps quotes; </li><li>  <strong>Html4.</strong>  Performs removal of quotes in accordance with the standard HTML 4.X; </li><li>  <strong>Html5.</strong>  Removes quotes according to the HTML5 standard. </li></ul></td></tr><tr><td>  Minify files on save </td><td>  Boolean </td><td> <code>false</code> </td> <td>  If the value of this property is <code>true</code> , then the created <code>.min.html</code> files will be regenerated each time the source file is saved. </td></tr></tbody></table>  All of the above settings also apply to HTML bundles. <br><br><h2>  Creating HTML bundles </h2><br>  To create an HTML bundle, select several HTML files in <strong>Solution Explorer</strong> , then right-click and select the <strong>Web Essentials&gt; Create HTML bundle file</strong> command in the context menu that appears (Figure 4). <br><br> <a href="" title="Open full image"><img src="https://habrastorage.org/getpro/habr/post_images/73a/66f/aca/73a66faca29d384cf1bb9e23ab1121a1.png" width="800" height="444"></a> <br>  <strong>Fig.</strong>  <strong>4.</strong> Create HTML bundle. <br><br>  In the <strong>Save As</strong> dialog box that opens, specify the name of the bundle and click the <strong>Save</strong> button (Figure 5). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/900/fc0/137/900fc01376b3ef5f71e6b370d3dabbc3.png" width="625" height="350"><br>  <strong>Fig.</strong>  <strong>5.</strong> Dialog box Save As. <br><br>  As a result, 3 files will be created: <code>content.html.bundle</code> (an XML file with bundle settings), <code>content.html</code> (the result of combining the contents of the source files) and <code>content.min.html</code> (minimized <code>content.html</code> ) (Fig. 6). <br><br><blockquote>  In case the creation of GZip files is enabled in the settings, then the 4th file will be generated - <code>content.min.html.gzip</code> . </blockquote><br> <a href="" title="Open full image"><img src="https://habrastorage.org/getpro/habr/post_images/367/026/70d/36702670db3ad85446d3a02364c94e81.png" width="800" height="444"></a> <br>  <strong>Fig.</strong>  <strong>6.</strong> The result of creating an HTML bundle. <br><br>  I also want to note that Web Essentials, when combining HTML files, does not create named containers of the form: <code>&lt;div id="___" style="display: none;"&gt;‚Ä¶&lt;/div&gt;</code> .  In our example, the <code>content.html</code> file was created by <code>change-log.html</code> concatenating the contents of the <code>change-log.html</code> , <code>contact.html</code> and <code>index.html</code> . <br><br>  The HTML bundle settings are in the same window as the HTML minimization settings (Fig. 7). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/366/74a/c88/36674ac8845c128daeb7f22ef1a75da4.png" width="758" height="441"><br>  <strong>Fig.</strong>  <strong>7.</strong> Settings HTML-bundles. <br><br>  Consider in detail all the properties of the category <strong>Bundle</strong> : <br><table><tbody><tr><th>  Property </th><th>  Data type </th><th>  Default value </th><th>  Description </th></tr><tr><td>  Custom HTML output directory </td><td>  Line </td><td>  Empty line </td><td>  Specifies the path to the directory where the generated HTML files will be saved (the bundle settings file does not move there).  It is allowed to specify both relative paths (for example, <code>../../Content/html-bundles</code> ) and absolute (for example, <code>C:\html-bundles</code> ). </td></tr><tr><td>  Minify files on making bundle </td><td>  Boolean </td><td> <code>true</code> </td> <td>  Enables / disables HTML minimization of the bundle. </td></tr><tr><td>  Run on build </td><td>  Boolean </td><td> <code>false</code> </td> <td>  If the value of this property is <code>true</code> , then at the time of building the project, the HTML files will be re-generated.  This option is useful in cases where the HTML files in the bundle can be edited outside of Visual Studio. </td></tr></tbody></table>  The above settings are valid only during the creation of HTML-bundles.  To change settings in already existing HTML bundles, you need to edit the bundle settings file (the file with the <code>.html.bundle</code> extension): <br><br>  <strong>Listing 1.</strong> Bundle settings from content.html.bundle. <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bundle</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xsi:noNamespaceSchemaLocation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://vswebessentials.com/schemas/v1/bundle.xsd"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">settings</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--Determines if the bundle file should be automatically optimized after creation/update.--&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">minify</span></span></span><span class="hljs-tag">&gt;</span></span>true<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">minify</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--Determin whether to generate/re-generate this bundle on building the solution.--&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">runOnBuild</span></span></span><span class="hljs-tag">&gt;</span></span>false<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">runOnBuild</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--Specifies a custom subfolder to save files to. By default, compiled output will be placed in the same folder and nested under the original file.--&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">outputDirectory</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">outputDirectory</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">settings</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--The order of the &lt;file&gt; elements determines the order of the files in the bundle.--&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">files</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">file</span></span></span><span class="hljs-tag">&gt;</span></span>/App_Data/text-content/change-log.html<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">file</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">file</span></span></span><span class="hljs-tag">&gt;</span></span>/App_Data/text-content/contact.html<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">file</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">file</span></span></span><span class="hljs-tag">&gt;</span></span>/App_Data/text-content/index.html<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">file</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">files</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bundle</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  It is immediately apparent from the code that the <code>outputDirectory</code> , <code>minify</code> and <code>runOnBuild</code> allow you to override the settings made earlier.  In addition, in the <code>files</code> element, you can change the order of files in the bundle, which was impossible to do through the Visual Studio interface. <br><br><h2>  Links </h2><br><ol><li>  The official site of the VS-extensions <a href="http://vswebessentials.com/">Web Essentials</a> </li><li>  David Puckett <a href="http://www.davepaquette.com/archive/2013/12/27/minifying-your-html.aspx">'s article ‚ÄúMinifying your HTML‚Äù</a> </li><li>  Article Mads Christensen <a href="http://madskristensen.net/post/effects-of-gzipping-vs-minifying-html-files">¬´Effects of GZipping vs.</a>  <a href="http://madskristensen.net/post/effects-of-gzipping-vs-minifying-html-files">minifying HTML files ¬ª</a> </li><li>  <a href="http://webmarkupmin.codeplex.com/">WebMarkupMin</a> project <a href="http://webmarkupmin.codeplex.com/">page</a> on CodePlex </li><li>  My article <a href="http://habrahabr.ru/post/199206/">"HTML minimization in Web Essentials 2013"</a> </li><li>  My article <a href="http://habrahabr.ru/post/178081/">"WebMarkupMin HTML Minifier - modern HTML minimizer for the .NET platform"</a> </li></ol><br></div><p>Source: <a href="https://habr.com/ru/post/238741/">https://habr.com/ru/post/238741/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../238731/index.html">Unmanned flights over the North Sea</a></li>
<li><a href="../238733/index.html">Microsoft Windows 10 Presentation in San Francisco</a></li>
<li><a href="../238735/index.html">Payoneer changes color. Our new brand</a></li>
<li><a href="../238737/index.html">CRUD Operations Using MVC</a></li>
<li><a href="../238739/index.html">The story about realloc (and laziness)</a></li>
<li><a href="../238743/index.html">Redfish - IPMI alternative is around the corner.</a></li>
<li><a href="../238745/index.html">Vulnerability in Akeeba Backup and Joomla!</a></li>
<li><a href="../238747/index.html">Philips introduced a wearable gadget that relieves the symptoms of psoriasis with light</a></li>
<li><a href="../238749/index.html">Bioluminescent lamp with luminous bacteria inside</a></li>
<li><a href="../238751/index.html">Ten best cities in the world for remote teams and freelancers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>