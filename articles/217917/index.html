<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Hi, this is the new 2GIS that your friends are talking about</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="2GIS fully updated . For the first time, we showed it on November 19, with a reduced functionality and, if not critical, but with errors - after all, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Hi, this is the new 2GIS that your friends are talking about</h1><div class="post__text post__text-html js-mediator-article">  <a href="http://2gis.ru/%3Futm_source%3Dnews%26utm_medium%3Dhabr%26utm_campaign%3Dpost_new4">2GIS fully updated</a> .  For the first time, we showed it <a href="http://habrahabr.ru/company/2gis/blog/202690/">on November 19,</a> with a reduced functionality and, if not critical, but with errors - after all, it was a stage of public beta testing. <br><br>  In five months, of course, we fixed a lot and finished it.  The results have already been sent to press releases.  For example, about the fact that we have 400,000 photos and 500,000 reviews, or that we know the entrances to nearly one million organizations in the country. <br><br>  Unfortunately (and perhaps fortunately), the format of the press release does not allow us to tell a little more details, be proud, or admit our mistakes.  Let's try to do it under the cut. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/9fd/841/e2f/9fd841e2fa29bd1535437375b109009c.png"> <a href="http://2gis.ru/%3Futm_source%3Dnews%26utm_medium%3Dhabr%26utm_campaign%3Dpost_new4"><img src="https://habrastorage.org/getpro/habr/post_images/cae/99a/9ce/cae99a9cefca6ace731acb4774314180.png" alt="To try"></a> <a name="habracut"></a><br><br><h4>  Directory Design </h4><br>  Every day, 2GIS learns more and more information about the city and companies.  At some point we collected it so much that it became cramped in the old design.  In the new - we tried to make the most important data for selection immediately visible. <br><br>  Compare the old and new cards. <br>  Closed <br><table><tbody><tr><th>  It was </th><th>  It became </th></tr><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/290/d31/f77/290d31f7703620e0d09b0738d916d1ce.png"></td><td><img src="https://habrastorage.org/getpro/habr/post_images/dd0/d0f/8da/dd0d0f8da4b36fce7e9bc59d3fecf731.png"></td></tr></tbody></table><br>  Open <br><table><tbody><tr><th>  It was </th><th>  It became </th></tr><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/67c/0ce/c95/67c0cec950a5bbe89f0d7181f7e48fb4.png"></td><td><img src="https://habrastorage.org/getpro/habr/post_images/c39/245/3c8/c392453c83259f07d9dba5dea886923c.png"></td></tr></tbody></table><br><br>  Information is structured and with a slight change in size, the card has become more readable. <br><br><h4>  Photo </h4><br>  Now in 2GIS, indeed, almost 400,000 photos.  Some of them are from companies, and some are custom.  Most of them in the rubrics about catering.  Less - in the section "Beauty and Health."  This is due to the fact that 70% of new photos are now fashionable, but completely useless selfies.  The masterpieces of modern art are ruthlessly "cut out" by moderators. <br><br>  Some technical points.  In November, the photographs worked on the <a href="http://fotorama.io/">Photoframe of</a> Artyom Polikarpov.  The photoframe was good, but it looked more like a first-class Swiss knife, and we needed one with the blade sharpened under us.  So today they are working on our <a href="https://github.com/2gis/photor">Photor</a> engine.  If your tasks coincide with ours, then you can try it - it is open and laid out on the githab. <br><br><h4>  Search </h4><br>  We ourselves are not satisfied with everything, but now I want to call it truly City.  I mean, we find everything - from <a href="http://2gis.ru/novosibirsk/query/%25D1%2582%25D1%2591%25D1%2589%25D0%25B8%25D0%25BD%2520%25D1%258F%25D0%25B7%25D1%258B%25D0%25BA/callout/geo-141424683123083/center/82.839702,54.959965/zoom/16/%3Futm_source%3Dnews%26utm_medium%3Dhabr%26utm_campaign%3Dpost_new4">popular names</a> to <a href="http://2gis.ru/novosibirsk/search/%25D0%25BA%25D0%25B0%25D1%2584%25D0%25B5%2520%25D0%25BD%25D0%25B0%2520%25D0%25BA%25D1%2580%25D0%25B0%25D1%2581%25D0%25BD%25D0%25BE%25D0%25BC%2520%25D1%2581%2520wifi/center/82.74147,55.026645/tab/firms/zoom/11/%3Futm_source%3Dnews%26utm_medium%3Dhabr%26utm_campaign%3Dpost_new4">cafes with Wi-Fi</a> (but we still don‚Äôt find them with Wi-Fi, but this will be corrected). <br><br>  Of course, we can talk a lot about specifying filters.  For example, the query "Eat" can be narrowed down to indecently accurate. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/798/3ea/a22/7983eaa2277f28f7f1d08523361bb2d6.png"><br><br><h4>  Location Search </h4><br><h5>  By car </h5><br>  Firstly, it <a href="http://2gis.ru/moscow/routeSearch/center/37.542429,55.71297/zoom/14/routeTab/rsType/car/from/37.546484,55.709627%25E2%2595%258E%25D0%25A5%25D0%25BE%25D0%25B7%25D1%258F%25D0%25B9%25D1%2581%25D1%2582%25D0%25B2%25D0%25B5%25D0%25BD%25D0%25BD%25D1%258B%25D0%25B9%2520%25D0%25BA%25D0%25BE%25D1%2580%25D0%25BF%25D1%2583%25D1%2581/to/37.568929,55.712958%25E2%2595%258E%25D0%259D%25D0%25B5%25D0%25B8%25D0%25B7%25D0%25B2%25D0%25B5%25D1%2581%25D1%2582%25D0%25BD%25D0%25B0%25D1%258F%2520%25D1%2582%25D0%25BE%25D1%2587%25D0%25BA%25D0%25B0%3Futm_source%3Dnews%26utm_medium%3Dhabr%26utm_campaign%3Dpost_new4">appeared in the online version</a> , which means it is now in all versions of 2GIS. <br>  Secondly, it is possible to set intermediate points of the route.  This is especially useful if you need to deviate a little from the direct route. <br><br><h5>  By public transport </h5><br>  Yes, we have previously built a route exactly to the selected point.  But if our algorithms believed that walking is faster than transport, then we could send a walk through the water. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2de/175/937/2de1759370d879b6b3a9298f8cf52291.png"><br><br>  Now your shoes will remain dry. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/19c/1b0/4a3/19c1b04a3ee7a2030daba5b144d700e1.png"><br><br>  In the future, we plan to connect the entrances with routes and we will bring them to the door handle. <br><br><h4>  Ruler </h4><br>  Outwardly, it is no different from the one we <a href="http://habrahabr.ru/company/2gis/blog/185904/">announced</a> in the old version.  However, there is a slight difference.  ‚ÄúTroika‚Äù (this is the name of the old version) worked on <a href="http://www.openlayers.org/">OpenLayers</a> , and the Four - on <a href="http://leafletjs.com/">LeafLet</a> .  Actually, that's why we rewrote it from scratch. <br><br><h4>  Process </h4><br>  If you really want to look flexible, young and beautiful, then you need to be such.  For us, this meant that we needed to learn how to release several times a day.  So the online team implemented Github Flow.  If earlier the word ‚Äúrelease‚Äù meant pain and coffee for us, now it is a simple ‚Äúroutine‚Äù process that does not require much effort.  We release what we want and when it is needed. <br><br>  Details about the Github Flow <a href="http://habrahabr.ru/users/fobos/" class="user_link">fobos</a> told at DUMP-2014 and later write about it separately. <br><br><h4>  Framework and work on search engines </h4><br>  We have been using javascript for a long time, and in fact 2GIS-online is a client to <a href="http://api.2gis.ru/%3Futm_source%3Dnews%26utm_medium%3Dhabr%26utm_campaign%3Dpost_new4">the 2GIS API</a> , which <a href="http://api.2gis.ru/%3Futm_source%3Dnews%26utm_medium%3Dhabr%26utm_campaign%3Dpost_new4">renders</a> data in the browser.  In the previous version of the project we had to keep a separate, static version of 2GIS-online, which worked in PHP and served the same purpose - indexing by search engines.  In the new version, we completely switched to NodeJS.  A single code is executed on the server and on the client.  Due to this, our new version without any intermediate crutches is equally well displayed to both live users and different search engine robots. <br><br>  After the release in open source, we will tell about the framework in more detail. <br><br><h4>  What's next? </h4><br>  We would not be an IT company if after the release we didn‚Äôt have any technical debts or tickets for bugs.  Rolled up our sleeves and continue to work.  We welcome feedback. </div><p>Source: <a href="https://habr.com/ru/post/217917/">https://habr.com/ru/post/217917/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../217905/index.html">Introduction to D3</a></li>
<li><a href="../217909/index.html">Simple 2D races in space under Tizen or How to win hackathon Tizen Association</a></li>
<li><a href="../217911/index.html">We control overflow of a cell of the table by means of max-width</a></li>
<li><a href="../217913/index.html">Windows tablet Dell Venue 8 Pro, impressions of use</a></li>
<li><a href="../217915/index.html">Antivirus on the server - to be or not to be?</a></li>
<li><a href="../217919/index.html">Pipo W1 - Windows 8 tablet with Intel Bay Trail processor</a></li>
<li><a href="../217921/index.html">Entertaining archeology. Or PVS-Studio checks Microsoft Word 1.1a</a></li>
<li><a href="../217923/index.html">Social networks in Russia today: numbers, trends, forecasts</a></li>
<li><a href="../217925/index.html">[video] 8 ways to deal with the formula needs</a></li>
<li><a href="../217931/index.html">The way to migrate virtual machines from Amazon to Azure</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>