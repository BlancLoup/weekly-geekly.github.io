<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Localization of products or another post with the title "Toggle to start"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Almost from its very birth, Lingualeo has been conceived as a global service through which students all over the world will learn English. Brazil was ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Localization of products or another post with the title "Toggle to start"</h1><div class="post__text post__text-html js-mediator-article">  Almost from its very birth, Lingualeo has been conceived as a global service through which students all over the world will learn English.  Brazil was chosen as the testing ground for the process of entering new markets. <br><br>  In the summer of 2012, the team was faced with the task of localizing the Lingualeo service into Portuguese.  At the same time it was necessary to create a process that is easily scalable into other languages. <br><br>  The process of localization of the product was born in Montenegro, where the Lingualeo team traveled to work intensively on new features.  According to the initial localization assessment, it should have taken only a couple of weeks of development before the system can be given to translators.  The estimates turned out to be too optimistic, the team ‚Äústuck in‚Äù for 1.5 months.  Lingualeo went through a difficult path and faced a number of problems that others can avoid by reading this post to the end.  We asked <b><a href="https://habrahabr.ru/users/harrylyu/">Igor Lyubimov</a></b> , Head of localization, honorary veteran of localization Lingualeo, to retell the story in detail. <br><a name="habracut"></a><br>  <b>System selection</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In order to choose a suitable tool, it was necessary to determine which tasks he would solve.  First of all, it was important for us that the product supports localization on several platforms: several file formats for the website, an Android application, an iOS application, a Windows Phone application, and we were also interested in the API - for tight integration of the CI system and translation platforms. <br><br>  Initially, we looked at the good old Pootle, since our backend was written in PHP, and we used gettext with .po files for localization.  We quickly realized that this was not our option, because for translating JSON and other files, we had to write a bunch of converters - Pootle did not support all the ‚Äúzoo‚Äù formats we needed.  Plus, I didn‚Äôt want to host the translation platform at home, so we started looking for some SaaS solution. <br><br>  Our criteria for selection are: support of all possible formats out of the box, the ability to add new lines through the API, convenient user rights management, high uptime, short integration time, and the ability to launch crowdsource-localization in the future. <br><br>  As a result, we stopped at a simple but functional service <a href="http://webtranslateit.com/">WebTranslateIt.com</a> (hereinafter - ‚ÄúWTI‚Äù), as it fit all our requirements. <br><br>  I note that if we chose the system now, then we would stop at <a href="https://crowdin.com/">Crowdin</a> .  It is more convenient and more interesting than the one we use, but not so much as to invest in refactoring many parts of the project. <br><br>  So, WebTranslateIt.com.  This is a small ready-made SaaS platform, created by the Frenchman √âdouard Bri√®re.  3-4 years ago, it became a real find for Lingualeo.  At that time, we liked her very much.  It had a good API and it met the basic requirement - the ability to localize various formats and platforms.  Plus, the friendly creator answered all questions very promptly and made improvements specifically for us. <br><br>  By the way, we wrote and published in Open Source a library under composer (PHP) for working with WebTranslateIt.com: <a href="https://packagist.org/packages/lingualeo/wti-api">https://packagist.org/packages/lingualeo/wti-api</a> .  We are waiting for your pull requests! <br><br>  <b>Integration process</b> <br><br>  <u>Web, browser extensions and mobile versions</u> <br>  The main task that we faced was not to burden developers with unnecessary localization maintenance tasks, but to do everything possible so that they were busy directly creating the product.  Localization issues must be removed from the main workflow.  We imagined it this way: the developer writes new lines, sends them to the system (either with one team or automatically), and then they are translated into several languages ‚Äã‚Äãand returned to the project, without any obvious efforts by the developer.  The mantra ‚ÄúWhat can be automated, it should be automated‚Äù often jumps in the conversations of our developers. <br><br>  Our thoughts led us to create a special utility that was designed to make life easier for developers.  For the website, we wrote a couple of console utilities. <br><br>  The first adds a new line to the selected file. <br><br><pre><code class="bash hljs">$ wti-add localizationFilename.json uniqueStringKey Please provide russian text &gt; , ! String is added</code> </pre> <br><br>  Sometimes it is convenient, but the second utility is the most useful, which parses our templates, pulls out strings from them for localization, adds them to WTI and does other magic.  In order for the utility to correctly understand which strings should be translated and which should not, developers simply need to frame the corresponding text with the @ symbol. <br><br>  An example for our client templates: <br><br><pre> <code class="html hljs xml"><span class="hljs-comment"><span class="hljs-comment">&lt;!-- someTemplate.jst   --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span>!  !<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- someTemplate.jst    --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span>@!  !@<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  After that we execute: <br><br><pre> <code class="bash hljs">$ wti-parse someTemplate.jst localizationFilename.json 1 string to add found Please provide key <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ‚Äú!  !‚Äù &gt; hi_i_am_leo 1 string parsed and added</code> </pre><br><br>  And in WTI, a new line is created in the file someTemplate.jst with the hi_i_am_leo key and the Russian text Hello!  I am Leo !, and our template takes a different look: <br><br><pre> <code class="html hljs xml"><span class="hljs-comment"><span class="hljs-comment">&lt;!-- someTemplate.jst    --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">%=i18n.localizationFilename.hi_i_am_leo%</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  The developer needs only to commit changes and not to sweat about translations. <br><br>  Similar parsers were made for other template formats, including Twig and simple PHP scripts with business logic.  Depending on the file extension, different formats for replacing placeholders are used. <br><br>  In our process of working with git-branches, we follow the rules of git-flow.  This allows us to associate the CI system with tasks from Jira, helps to maintain order in the repository, and indeed, it's cool.  Once we have a branch defined by ticket number, why not use it to define strings for localization?  The question ‚ÄúWhat lines were added as part of the task DEV-1940?‚Äù Will be removed by itself.  We have upgraded the wti-parse utility - it takes the current branch number and adds all the lines with the additional task label.  As a result, in the WTI interface it looks like this: <br><br><img src="https://habrastorage.org/files/14d/11b/73f/14d11b73fb144a99a8ffd862642daa74.png" alt="image"><br><br>  Lines are added, the programmer goes on to make the product, nothing more is needed from the part of the translations. <br><br>  Further, with each build on our CI server, the latest translations are downloaded from WTI, and it works like a clock :) <br><br>  <u>Courses</u> <br>  In the same system, we have integrated translation courses.  Courses are not interface lines, they are created by content managers.  Initially, we tried to do translations manually, through sending Word-files, but we quickly realized that this was a bad idea: this is a possible, but absolutely non-scalable process.  Soon the course builder was integrated with WTI.  And now, as soon as the Lingualeo content managers make any changes in the courses (add exercises, change the wording, etc.), they are immediately reflected in the WTI.  All translators receive notifications, and the above described algorithm runs.  Thus, we do not need to manually manage the translation process: everything works automatically. <br><br>  <u>Email newsletter</u> <br>  Like any service that builds a close dialogue with its users, Lingualeo does various <a href="http://habrahabr.ru/company/lingualeo/blog/227717/">emails</a> .  About 13 000 000 users, tens of millions of emails sent every month - in our case there was no point in implementing the entire infrastructure inside, so we use an external email provider.  But the trouble is that our provider does not have built-in mechanisms for localizing letter templates, and therefore we invented the next ‚Äúbicycle‚Äù by crossing two APIs - Emarsys (namely, they send all our letters) and WTI. <br>  Every 6 hours, several scripts retrieve Russian letter templates from Emarsys, extract the strings from them for localization, create files for WTI from them, and from WTI take ready translations and create templates in the necessary languages ‚Äã‚Äãin Emarsys.  And already in the settings of mailings one or another templates are used, depending on the user's native language. <br><br>  <b>The process of working with translators</b> <br><br>  For simultaneous translation into several languages ‚Äã‚Äãwe follow the following scheme of work.  First we create lines in Russian, then we translate into English, and from English into other languages ‚Äã‚Äã(Turkish, Spanish, Portuguese, a couple of Spanish dialects, etc.). <br>  We agreed that a translator into English enters the system on Tuesday and Thursday in the morning.  Picks up lines, and within a few hours prepares all necessary translations.  Translators to other languages ‚Äã‚Äãcome in the same days, but in the evening.  Thus, within 24 hours we receive all transfers.  The schedule is tailored to our release cycle so that we have new lines on time.  Of course, sometimes there are still problems, but this happens only when the developer added lines at the very last moment, she was quickly tested and the next day went into release. <br><br>  This system is suitable not only for work with translation agencies, free-lancers or regular translators, but also for using crowd sourcing in translation.  When we launched the ‚ÄúTranslate Lingualeo‚Äù project and invited our users to translate at least a few lines into their familiar languages, we created a landing page and integrated a page with statistics from WTI with the site. <br><br>  This is the form for translating phrases: <br><br><img src="https://habrastorage.org/files/46f/a05/996/46fa0599669c42b9bcfa58e7f47bcb1a.png" alt="image"><br><br>  <b>Internationalization</b> <br><br>  As a result, the Lingualeo technology platform and localization processes were developed.  It works for both the web and mobile applications, without requiring the constant participation of team members.  Localization is transparent to developers: they simply write code, develop a product for target markets.  Translators do their work regardless of them.  Today, adding ready-made translations takes only 1-2 days. <br><br>  <i>Of course, product translation is only part of the process of preparing a product for launch in new language markets.</i>  <i>Local currencies, payment systems, dictionaries for new languages, the creation of special courses, the establishment of groups in social networks in new languages ‚Äã‚Äã- all these activities are also simplified and automated to the maximum.</i>  <i>The entire configuration process is reduced to editing several YML configuration files, and it takes literally several hours to configure the entire environment.</i>  <i>But this is the material for the next article.</i> </div><p>Source: <a href="https://habr.com/ru/post/273223/">https://habr.com/ru/post/273223/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../273209/index.html">Update Windows 10 SDK - build 10586</a></li>
<li><a href="../273213/index.html">Critical 0-day vulnerability detected in CMS Joomla</a></li>
<li><a href="../273217/index.html">HTML5 Mastery: Fragments</a></li>
<li><a href="../273219/index.html">How we made ABBYY FineReader, or a story that happened 20 years ago</a></li>
<li><a href="../273221/index.html">Website recognizes user annoyance by cursor movement.</a></li>
<li><a href="../273225/index.html">Responsibility of the vendor. Who is responsible for the accident?</a></li>
<li><a href="../273231/index.html">Fast algorithm for graph isomorphism problem published</a></li>
<li><a href="../273233/index.html">Intel GPA and Android gaming performance improvement</a></li>
<li><a href="../273237/index.html">Robot seller. Automating your sales team with SaaS</a></li>
<li><a href="../273241/index.html">We study the graph-oriented DBMS Neo4j on the example of the lexical database Wordnet</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>