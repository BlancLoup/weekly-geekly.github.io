<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>HTML5 game development for Android from scratch to release</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Instead of intro 
 Having spent several days in a row (without a break for sleep) to study the support of HTML5 by all my favorite Android gadgets, I ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>HTML5 game development for Android from scratch to release</h1><div class="post__text post__text-html js-mediator-article"><h4>  Instead of intro </h4><br>  Having spent several days in a row (without a break for sleep) to study the support of HTML5 by all my favorite Android gadgets, I decided that this topic should be given attention.  In the article I will try to reveal in steps all the steps (of course, the basic / key / basic) of creating the HTML5 Android game application from the idea to the release of the APK file itself.  Perhaps I will not reveal anything new to venerable developers, but for newbies I will try to describe everything as simple as possible, with screenshots and explanations. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/380/1f9/242/3801f924299bb35056b7e05122f7e375.jpg" alt="image"><br><br>  I wish to learn more in detail under cat. <br><a name="habracut"></a><br><h4>  Idea </h4><br>  In general, you can talk a lot about the potential of Android, the development of HTML5 and their interaction.  I will not do this.  So, immediately to the point. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The idea of ‚Äã‚Äãcreating a game for Android probably sits in the minds of <s>tens of</s> hundreds of developers, and those who consider themselves as such.  I'm not an exception. <br><br>  The whole process will be divided into several steps and the final application will consist of two parts: <br>  - Wrap (in this case for Android) <br>  - A game <br><br><h4>  Step 1. Writing the game itself </h4><br>  Another advantage of writing a game on HTML5 is the fact that testing does not require a bunch of running programs, IDE, emulators, and so on.  All you need is a browser (in my case, this is Chromium) and a text editor (BlueFish) <br><br>  The game will be simple: there is a blue rectangle and there is a green rectangle.  The player's task is to drag the blue rectangle to the green around the red one, which moves along the playing field in an arbitrary direction. <br><br>  To develop the game I will use J2ds (game engine). <br><br>  The code of the finished game: <br><br><div class="spoiler">  <b class="spoiler_title">index.html</b> <div class="spoiler_text"><pre><code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"j2ds/engineMath.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"j2ds/engineKey.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"j2ds/engineDOM.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"j2ds/engine2D.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"j2ds/engineNet.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"j2ds/engineParticles.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"j2ds/enginePE.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">http-equiv</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"content-type"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/html; charset=UTF-8"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"viewport"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"width=device-width,user-scalable=no"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>Demo Game on J2ds v.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"gameBody"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">canvas</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"iCanvas"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"500"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"280"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">canvas</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hint"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> </span><span class="hljs-comment"><span class="actionscript"><span class="hljs-comment">//    initInput('gameBody'); //   scene= createScene('iCanvas', '#aeeaae'); //     scene.fullScreen(true); post= createPost(scene); score= 5; //   blue= createRect(vec2di(100, 100), vec2di(30, 30), 'blue'); green= createRect(vec2di(300, 200), vec2di(30, 30), 'green'); green.dX= -1; green.dY= 1; red= createRect(vec2di(16, 200), vec2di(30, 30), 'red'); red.dX= 1; red.dY= -1; restart= createRect(vec2di(430, 10), vec2di(60, 60), '#ad21ad'); GameOver= function() { //    /  input.upd(scene); //   scene.drawText(vec2di(5,5), 'Score: '+score); //   scene.drawTextOpt(vec2df(140, 100), '!', 'bold 40px Courier New', '#326598'); if (input.lClick &amp;&amp; input.onNode(restart)) setActivEngine(Game); restart.draw(scene); } Success= function() { //    /  input.upd(scene); //   scene.drawText(vec2di(5,5), 'Score: '+score); //   scene.drawTextOpt(vec2df(140, 100), '!', 'bold 40px Courier New', '#326598'); if (input.lClick &amp;&amp; input.onNode(restart)) setActivEngine(Game); restart.draw(scene); } //    Game Game= function() { //    /  input.upd(scene); //   scene.drawText(vec2di(5,5), 'Score: '+score); blue.color= input.lClick?'yellow' : 'blue'; if (input.lClick) { red.move(vec2di(red.dX, red.dY)); green.move(vec2di(green.dX, green.dY)); blue.move( vec2df( blue.getPosition().x &gt; input.pos.x ? -1*score/2 : 1*score/2, blue.getPosition().y &gt; input.pos.y ? -1*score/2 : 1*score/2 ) ) ; if (green.collisionScene(scene).x != 0) green.dX= -green.dX; if (green.collisionScene(scene).y != 0) green.dY= -green.dY; if (red.collisionScene(scene).x != 0) red.dX= -red.dX; if (red.collisionScene(scene).y != 0) red.dY= -red.dY; } if (blue.collision(red)) { input.cancel(); score-= 1; setActivEngine(GameOver); red.setPosition(vec2df(200, 100)); blue.setPosition(vec2df(50, 50)); } if (blue.collision(green)) { input.cancel(); score+= 1; setActivEngine(Success); red.setPosition(vec2df(200, 100)); blue.setPosition(vec2df(50, 50)); blue.setPosition(vec2di(Random(0, 450), Random(0, 250))); } //   blue.turn(1); green.turn(720/blue.getDistance(green)); red.turn(Random(1, 5)); //   green.draw(scene); blue.draw(scene); red.draw(scene); //post.motionBlur(4); } //      Game  FPS 25 startGame(Game, 25); </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br></div></div><br>  You can ignore the quality of the game code, because this is not the purpose of the article.  Although of course, you can optimize as much as you like, this process is generally endless. <br><br><h4>  Step 2. Android Studio.  Creating a wrapper for the game </h4><br>  I am not going to measure with anyone the coolness of this or that IDE for developing for Android, but I will show with the example of Android Studio.  To work we need: <br>  - Java machine (OpenJDK is suitable for my Linux); <br>  - Distribution Android Studio. <br><br>  Download, install. <br><br>  Once everything is installed (these two programs are enough), start Android Studio. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/896/323/0a0/8963230a01d1b088927ca7a963485908.png" alt="image"><br><br>  The start window will open (if the first launch), if not the first, then the IDE itself will open, but does not change the essence, go to the SDK Manager: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/29d/7d9/796/29d7d979666367252fae50a0c9da1f4c.png" alt="image"><br><br>  Here you need to tick the necessary Android versions with which you will work, in my case it is Android 4.4.2, you can choose at least all at once. <br><br>  The main thing is to choose ‚ÄúTools‚Äù and ‚ÄúExtras‚Äù and click on ‚Äúinstall packages‚Äù. <br><br>  Once you have all downloaded, IDE will launch with a dull gray background and several buttons, click the first one and create a new project.  If the IDE was launched immediately in working condition, then: "File-&gt; New-&gt; New Project" <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c2e/dda/877/c2edda8778338e34f034a8e8023cbb46.png" alt="image"><br>  Fill in the required fields, and click Next. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4e3/e39/1e4/4e3e391e4953b438397afe603cb75066.png" alt="image"><br>  Select the desired version of the android and Next <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5ff/7be/8c7/5ff7be8c7edee05b6fc9dcfc314080b7.png" alt="image"><br>  Here we select the Blank Activity (a blank template with Hello, World!) <br><br>  In the next window, fill in the data to create classes, I will not change for clarity: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/419/3f4/44b/4193f444b9b73bea426414313dbeb530.png" alt="image"><br><br>  Solemnly we press Finich and we wait, while IDE will configure everything and will prepare for work. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d86/08d/50a/d8608d50aa2c3d9eb593374530c4df18.png" alt="image"><br><br>  A window with a form designer opens.  It is not the same as in Lazarus, Delphi, but something similar is still there: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6ec/0ec/6ff/6ec0ec6ff2ea8c253bc12b26363028d7.png" alt="image"><br><br>  Do not rush to change anything or click something, the setup is not over yet.  Open the "Tolls-&gt; Android-&gt; AVD Manager" to configure the emulator. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b9c/339/423/b9c339423913e9ed20d00cd9f8caa6e0.png" alt="image"><br><br>  Here, if there is nothing, click ‚ÄúCreate Virtual Device‚Äù, if there is, you can not create a new one, I already had, because  I "stumbled" him while I understood.  If you need to create a new emulator, then everything is simple: <br>  1. Choose screen size and phone model <br>  2. Choose the version of android (I have 4.4.2) <br>  3. Configure the device. <br><br>  In the third step in more detail: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9af/8db/b86/9af8dbb865a8459490cb053c0e67587b.png" alt="image"><br><br>  T.K.  Our game is stretched horizontally, you need to select the landscape mode. <br><br>  When all the settings are entered, click on the green triangle and run the emulator.  After launch, we wait for the device to fully boot and the OS will start: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7f3/af9/56e/7f3af956eb86799e28cacf8d858b97a6.png" alt="image"><br><br>  Do not close this window, it will emulate.  Now you can return to the editor, and change the orientation in the form designer: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2de/e01/de4/2dee01de4f3920af76f2f10e56cb52a2.png" alt="image"><br><br>  You can run!  Now you can definitely. <br><br>  If you are asked to choose an emulator, then you can put a tick below: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dfc/db8/4c7/dfcdb84c78f9e40fa75352da4bc0b4cc.png" alt="image"><br><br>  My congratulations!  Everything works, checked! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/846/c1e/4fc/846c1e4fcdb2955bbbd90de08a4b1730.png" alt="image"><br><br>  We turn off our emulator (But do not close!) And go to the editor, Everything is a little more complicated (a little). <br>  Switch to the "Text" mode.  Your activity_main describes all the elements that are on the form.  Including the form itself.  And this is not the form at all. <br><br>  Since  we make the game in HTML5, and here we only have a wrapper for the game, delete all the text and paste the following: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RelativeLayout</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:android</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:tools</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/tools"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"fill_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"fill_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tools:context</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">".MainActivity"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">WebView</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"fill_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"fill_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/webView"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:clickable</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:scrollbars</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"none"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RelativeLayout</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  Now, if you switch to design again, it will look different: <br><img src="https://habrastorage.org/getpro/habr/post_images/aa7/28e/b19/aa728eb19f89a283d0b0e77c844cfaf8.png" alt="image"><br><br>  As you can see, now instead of ‚ÄúHello, World‚Äù there is a webView stretched across the screen.  This object is our ‚Äúwindow‚Äù to the game world. <br><br>  You can even start, see, there will be a white screen.  Go ahead. <br><br>  And then we need to go to our project, to do this, open the "Project" field on the left and select the "Android" tab, if not selected: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3de/8b2/21d/3de8b221d167a6412a8f918c93dd3c2e.png" alt="image"><br>  This tab shows the structure of the project and all its internal files and resources. <br><br><div class="spoiler">  <b class="spoiler_title">Explanation</b> <div class="spoiler_text">  We need to find the file "manifest" and add the following line to the definition of "application": <br> <code>android:hardwareAccelerated="true" <br></code> <br></div></div><br><br>  It's time to work on the functionality of our "browser", because it is he!  Open the ‚ÄúMainActivity.java‚Äù class and delete all unnecessary, leaving only the main one: <br><br><div class="spoiler">  <b class="spoiler_title">Explanation</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.soft.skaner.demogamehtml5; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.support.v7.app.AppCompatActivity; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.os.Bundle; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainActivity</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppCompatActivity</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState); setContentView(R.layout.activity_main); } }</code> </pre><br></div></div><br><br>  If you have not forgotten, we have added a WebView in the activity_main file, pay attention to the bold line: <br>  &lt;Webview <br>  android: layout_width = "fill_parent" <br>  android: layout_height = "fill_parent" <br>  <b>android: id = "@ + id / webView"</b> <br>  android: clickable = "true" <br>  android: scrollbars = "none" /&gt; <br><br>  We need to declare an object of the WebView class. <br><br>  To do this, we add to the list of imports: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.webkit.WebView;</code> </pre><br>  And then we declare our myWeb object inside the MainActivity class: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> WebView myWeb;</code> </pre><br>  Now, after the line <b>setContentView (R.layout.activity_main);</b>  insert the following code: <br><br><pre> <code class="java hljs"> <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> myWeb= (WebView) findViewById(R.id.webView); <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> myWeb.getSettings().setUseWideViewPort(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); myWeb.setInitialScale(<span class="hljs-number"><span class="hljs-number">1</span></span>); myWeb.getSettings().setJavaScriptEnabled(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> myWeb.loadUrl(<span class="hljs-string"><span class="hljs-string">"file:///android_asset/index.html"</span></span>);</code> </pre><br><br>  Here is what happened in my editor: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/52b/363/b56/52b363b562a4d7101a4bb0bf9fa0b24f.png" alt="image"><br><br>  But that in the emulator: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/464/36a/a1b/46436aa1b7a7021ed50282c319263dfd.png" alt="image"><br><br>  If you have the same - we are on the right track! <br><br>  Remains a little matter: <br>  Where we load the page to our browser, the path to the file looks like this: ‚Äúfile: ///android_asset/index.html‚Äù <br>  It should be noted that we can store any files inside our game, having access to them. <br><br>  In our case, the key folder: ‚Äúandroid_asset‚Äù, let's create it (yes, by default it is not in the project): <br>  ‚ÄúFile -&gt; New -&gt; Folder -&gt; Assets folder‚Äù, a window will open where you just agree with the IDE. <br>  Did you notice?  A new folder has appeared in the project: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b55/d99/6c4/b55d996c4605e9da8e1079db894e4cd0.png" alt="image"><br><br>  Click on it with the right mouse button -&gt; ‚ÄúShow in Files‚Äù, the system explorer will open (in my case Nautilus), pay attention to the path to the folder.  Keep in mind also that the folder is called ‚Äúassets‚Äù, but access to it goes through ‚Äúandroid_asset‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/637/98a/734/63798a7342cd5e9435343cc0a20c8791.png" alt="image"><br><br>  Then everything is quite simple - copy our game to the assets folder: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/21c/4cb/066/21c4cb066edcf313931220790d4055e9.png" alt="image"><br><br>  The index.html file is the same index from the beginning of this article.  Well, try to run! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7a7/01d/38b/7a701d38b5528541c42c4e53c4d7c5dd.png" alt="image"><br><br>  <i>A word of advice: it‚Äôs best to test on a real device via USB, so the test results will be clearer, and controlling the mouse is not the most convenient option, not to mention a multiple click.</i> <br><br><h4>  Step 3. Android Studio.  Building the application and signing it </h4><br>  When the game is fully debugged (in the browser or on the emulator), the wrapper is completely ready and all the development steps are over, you can build the application.  Android Studio allows you to build applications and sign them with your keys. <br><br>  To create keys in this IDE there is a special utility ‚ÄúKeyTool‚Äù. <br><br>  Moving on to creating an executable file for the application (‚ÄúBuild -&gt; Generate Signed APK‚Äù): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/258/5c9/aa3/2585c9aa39344af50041870b7ed98f27.png" alt="image"><br><br>  If you have not created keys and aliases before, click ‚ÄúCreate New‚Äù.  You can fill in the fields at your discretion, the accuracy of the data lies entirely on you. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/09c/8bc/db7/09c8bcdb74d70bfc3a9b5070e26b11e7.png" alt="image"><br><br>  The first field is the path to the folder where the key will be saved.  The form after clicking Ok will be filled automatically: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ae4/351/9f8/ae43519f85eeeec91b8f193c7e6948f8.png" alt="image"><br><br>  For subsequent applications, it is not necessary to create new keys, you can sign other applications with your key, this is the ‚ÄúChoose Existing‚Äù button. <br><br>  In the next step, the IDE will ask you to re-enter the password, and then specify the folder for saving the APK file. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/313/40a/735/31340a7351642baa85a78fc26470f9e4.png" alt="image"><br><br>  Now you can relax and drink, for example, coffee. The system began a compilation, the result in the status bar: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c19/ab6/eb3/c19ab6eb3a2b4477bbe521bf7a8f5847.png" alt="image"><br><br>  After the compilation is complete, the system will inform you about it. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f2d/959/7bb/f2d9597bbc181b058019b653b7f02b25.png" alt="image"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/09e/98c/902/09e98c902274a5944bb708c408433259.png" alt="image"><br><br>  Now it is enough to move the file to the phone / tablet and install it as a normal application. <br><br>  Result: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/34a/f9f/8ae/34af9f8aea9454914a58804c3591a24c.jpg" alt="image"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/2d7/b81/317/2d7b813179204b98cd00fb4aa9ca855a.jpg" alt="image"><br><br>  For an example in the drug, if necessary. </div><p>Source: <a href="https://habr.com/ru/post/265247/">https://habr.com/ru/post/265247/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../265233/index.html">Study: Vulnerabilities of a cryptotransponder allow keyless entry of over 100 models of machines.</a></li>
<li><a href="../265235/index.html">Sony PlayStation 4 security analysis</a></li>
<li><a href="../265239/index.html">How to sue a captured domain if you are not a company</a></li>
<li><a href="../265243/index.html">Microconference UX-Environment ‚Ññ24: Long-reads and modern tools of publishing</a></li>
<li><a href="../265245/index.html">Creating shortcodes in WordPress CMS</a></li>
<li><a href="../265249/index.html">Pedestrian Routing - New Challenge for OpenStreetMap</a></li>
<li><a href="../265255/index.html">Police forced the Chinese developer to remove the code from GitHub</a></li>
<li><a href="../265257/index.html">Mmmm ... Marshmallow: what's new in the Android 6 and Android SDK</a></li>
<li><a href="../265259/index.html">Embed premium media content with HTML5</a></li>
<li><a href="../265261/index.html">12 best Android application development frameworks</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>