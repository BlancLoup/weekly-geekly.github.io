<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>GPRS inside. Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this series of articles, I would like to tell the habrew community about packet data transmission technologies in the networks of mobile operators....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>GPRS inside. Part 1</h1><div class="post__text post__text-html js-mediator-article">  In this series of articles, I would like to tell the habrew community about packet data transmission technologies in the networks of mobile operators.  We will review the circuit diagrams of the Packet Switched (PS) Core Network, look at the stack of protocols used for communication between different network elements, and also take a closer look at the functions of the main elements that allow us to use packet transmission in mobile networks.  Specifically, in this article we will discuss the most common at the moment GPRS / EDGE technologies. <br><br><a name="habracut"></a><br><h5>  Story </h5><br>  So, what did we have in terms of data transmission at the beginning of the development of mobile networks of operators. <br>  Let's start our "countdown" with the so-called.  <a href="http://ru.wikipedia.org/wiki/Circuit_Switched_Data">CSD</a> [Circuit Switched Data].  This technology appeared in the GSM standard and allowed to establish connections using a modem built in or connected to the subscriber's machine, while the subscriber at the base station transmitter was allocated only one timeslot (TS), the transmission rate does not exceed 9.6 kbit / s. <br>  Data transmission using CSD is practically no different from a normal voice call, because  at the time of the call, you completely occupy the channel and therefore the charging of such a connection is made minutely and naturally at the dawn of the development of mobile networks was by no means small. <br>  The next stage in the development of data transmission in mobile networks was the improvement of CSD technology - the <a href="http://en.wikipedia.org/wiki/High-Speed_Circuit-Switched_Data">HSCSD</a> technology <a href="http://en.wikipedia.org/wiki/High-Speed_Circuit-Switched_Data">(en)</a> [High Speed ‚Äã‚ÄãCSD] appeared.  The use of this technology made it possible to increase the data transfer rate by combining 4 TS +, the throughput of one channel was increased to 14.4 Kbps by using ‚Äúsimplified‚Äù error correction methods.  Thus, the maximum throughput for HSCSD was 57.6 Kbps. <br>  Despite the low transfer rate and per minute billing, this technology continues to be popular for transferring small amounts of data in systems, such as burglar alarms (meter readings, indicators), primarily because of its ease of use on modern devices. <br><br>  Everything changed with the advent (Phase 1 specifications appeared in 2000/2001) of packet data transmission technology - <a href="http://ru.wikipedia.org/wiki/GPRS">GPRS</a> [General Packet Radio Service], which significantly increased the capacity of the data transmission channel (the maximum transmission speed, using 8 TS - 171, 2 kbit / s), and also used packet switching, as opposed to circuit switching in CSD / HSCSD, which allowed more efficient use of resources at base stations, but at the same time, this technology ‚Äúrequired‚Äù the addition of additional elements to the network structure - SGSN , GGSN. <br>  In principle, the <a href="http://ru.wikipedia.org/wiki/EDGE">EDGE</a> [Enhanced Data Rates for GSM Evolution] technology is practically no different from GPRS, since  can be implemented on an existing network.  Changes in the implementation of EDGE relate to changes in the coding schemes at the radio interface, as well as changes in software on network elements.  The maximum speed that EDGE can provide is 473.6 kbps (8 time slots x 59.2 kbps). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Thus, GPRS / EDGE technologies, compared with circuit-switched technologies (CSD / HSCSD), made it possible to provide the end user: <br><ul><li>  high transfer rate </li><li>  less time opening session </li><li>  more favorable rates of use </li><li>  billing according to the volume of transmitted data, but not by the minute </li><li>  do not occupy the entire channel during data transfer </li></ul><br>  The emergence of a new principle of data transmission in mobile networks, has required changes to the architecture of the GSM network itself, so let's take a look at the network architecture ... <br><br><h5>  Network layout </h5><br>  What is the so-called?  PS Core Network?  Let's take a look at the concept of GSM architecture. <br><img src="https://habrastorage.org/getpro/habr/post_images/8b7/0ab/d6e/8b70abd6e651d8cb480ec6573d5485cb.jpg" width="100" alt="image"><br><br>  <i>Explanation of the scheme:</i> <br>  <b>AuC</b> - Authentification Center <br>  <b>BSC</b> - Base Station Controller <br>  <b>BTS</b> - Base Transceiver Station <br>  <b>CGF</b> - Charging Gateway Function <br>  <b>EIR</b> - Equipment Identification Register <br>  <b>GGSN</b> - Gateway GPRS Support Node <br>  <b>GMSC</b> - Gateway MSC <br>  <b>HLR</b> - Home Location Register <br>  <b>ISDN</b> - Integrated Services Digital Network <br>  <b>MSC</b> - Mobile Switching Center <br>  <b>PSDN / PDN</b> - Public Switched Data Network / Packet Data Network <br>  <b>PSTN</b> - Public Switched Telephone Network <br>  <b>SGSN</b> - Serving GPRS Support Node <br>  <b>VLR</b> - Visiting Location Register <br><br>  The main element in the network architecture of GPRS is <a href="http://ru.wikipedia.org/wiki/SGSN">SGSN</a> .  As you can see from the scheme, SGSN is connected by various interfaces with most elements of the GSM network architecture.  SGSN‚Äôs integral ‚Äúsatellite‚Äù in the operator‚Äôs packet network is <a href="http://ru.wikipedia.org/wiki/GGSN">GGSN</a> , which is a bridge between the operator‚Äôs IP Backbone and other Packet Data Networks (PDN).  The GGSN can be a ‚Äúregular‚Äù Cisco router, but there are also separate solutions from Nokia Siemens Networks (NSN), Huawei, etc. vendors.  In most cases, there are several similar elements on the operator‚Äôs network, which in turn is determined by the network capacity and the load on the territory. <br><br>  Functionally SGSN allows: <br><ul><li>  provide subscribers with the ability to send and receive packet data <br>  (mobile internet / wap / mms / intranet) </li><li>  authenticate and authorize subscribers </li><li>  provide billing data to the operator </li><li>  send SMS_over_IP </li><li>  provide interfaces for government agencies </li><li>  monitor and update subscriber data in the HLR / MSC, i.e.  Mobility management </li><li>  manage user sessions </li></ul><br>  The possible interfaces connecting the SGSN to the various network elements are shown in the figure below. <br><img src="https://habrastorage.org/getpro/habr/post_images/8d4/8ee/c64/8d48eec64b97b9a8acbd5ab9ac251ad6.jpg" width="100" alt="image"><br>  Now we will not consider all the interfaces of SGSN, but dwell only on a few key points. <br><br>  All interfaces that are associated with SGSN'om refer to the letter "G" ( <strike>please do not confuse with the appropriate point</strike> ), many of them are mandatory, others introduce some functionality and are auxiliary.  In particular, the Gs interface (between <a href="http://ru.wikipedia.org/wiki/MSC">MSC</a> and SGSN) allows you to receive and receive voice services while using GPRS services.  The Gd interface (between SMS-GMSC and SGSN) allows you to send SMS messages through a packet network *. <br>  <em>* - by the way, the SMS sending service is a vivid example of how operators do not like to reduce their revenues, because</em>  <em>sending SMS through a packet network is almost 2-3 times cheaper for the end user, operators often ‚Äúrefuse‚Äù to use this functionality, but at the same time it can be noted that GPRS coverage is not everywhere.</em>  <em>Usually in the device, the SMS sending function is configured via: Messages -&gt; Message settings -&gt; Text messages -&gt; Use packet data.</em> <br>  The above two interfaces are optional, but add some functionality to the operator‚Äôs network.  FR / IP / ATM may be the technologies used for data transfer between different interfaces, but recently there is a tendency to switch to IP Backbone, both the most technically easily implemented and cost-effective transport for data exchange. <br><br><h5>  Principle of operation </h5><br>  In short, the principle of the packet network can be described as follows: <br>  1. the allocation of resources for packet transmission on the side of the base station controller * <br>  * - this takes into account the priority of voice services. <br>  2. carrying out the subscriber authentication procedure (GPRS Attach), including the identification of the subscriber terminal, the so-called.  IMEI Check * <br>  * - is optional. <br>  3. updating subscriber location information in HLR <br>  4. negotiation of stream encryption keys <br>  5. establishing communication between the subscriber's terminal device and the PS Core Network, which in the terminology of the GPRS / EDGE architecture is called PDP (Packet Data Protocol) Context activation and depends on the type of data requested - Mobile internet / Intranet / Wap / MMS / SMS_over_IP <br>  6. after the end of the use of packet transmission services, the subscriber is disconnected - the PDP Context is deactivated <br>  7. if the subscriber‚Äôs terminal device is not configured for a permanent connection with the packet network (you can check it on most devices in Menu -&gt; Settings -&gt; Device connection -&gt; Packet data -&gt; Packet connection -&gt; On demand / Permanent access), This will be the operation performed, the inverse of the initial authentication and authorization of the subscriber,  GPRS Detach. <br><br>  <em>We will look at this section in more detail in the second part of the article.</em>  <em>Determine what data is transmitted during the authorization process, as well as what data is stored on the subscriber‚Äôs side / SGSN, let's touch on some encryption algorithms used in the GPRS / EDGE architecture.</em> <br><br><h5>  Perspectives </h5><br>  Promising technologies that can improve GPRS / EDGE technologies are their direct ‚Äúheirs‚Äù - EGPRS2 / Evolved EDGE, which are supported by vendors such as Nokia Siemens Networks (NSN) and Nortel (the technologies were standardized by 3GPP Rel-7). <br>  To move to Evolved EDGE, it is enough to upgrade the software on the existing EDGE network, while the suppliers promise that the Evolved EDGE technology can more than double the efficiency of spectrum utilization when compared to how it was done in EDGE. <br>  In particular, after the transition to the new standard, users will be able to download data from the network at speeds up to 1.2 Mbps (Downlink is the direction from the base station to the subscriber), transfer data to the base station (Uplink) at up to 473 kbps /with. <br>  At the request of manufacturers, this evolution of GSM technology will provide operators with a cost-effective transition to next-generation technologies, in particular, <a href="http://ru.wikipedia.org/wiki/3GPP_Long_Term_Evolution">LTE</a> and full service compatibility between GSM and next-generation mobile data transmissions. <br><br><h5>  Conclusion </h5><br>  At the end of the article I wanted to write that this is my first topic on Habr√©, so that they would not kick much and so on ... but then decided not to write, because  how can you understand the article like it or not, if there is no criticism from the readers.  Therefore, questions / comments / clarifications / threats are welcome, if you like the article, then all this will be taken into account in the following papers. <br><br>  <b><i>Related Links:</i></b> <br><ul><li>  <a href="http://www.3gpp.org/ftp/Specs/html-info/23060.htm">General Packet Radio Service (GPRS)</a> </li><li>  <a href="http://www.3gpp.org/ftp/Specs/html-info/23003.htm">GSM / EDGE Radio Access Network</a> </li><li>  <a href="http://ru.wikipedia.org/wiki/GPRS">Wikipedia - GPRS (ru)</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/80951/">https://habr.com/ru/post/80951/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../80944/index.html">Cribs</a></li>
<li><a href="../80946/index.html">Russian analogue suicidemachine.org (Part 2)</a></li>
<li><a href="../80947/index.html">Now VKontakte API not only for Flash</a></li>
<li><a href="../80948/index.html">About Habrahabr, statistics and cakes</a></li>
<li><a href="../80949/index.html">Mozilla cancels the release of Firefox 3.7</a></li>
<li><a href="../80954/index.html">Photo uploader as vkontakte on Flex</a></li>
<li><a href="../80955/index.html">Algorithm of collaborative filtering</a></li>
<li><a href="../80956/index.html">E-Sigs</a></li>
<li><a href="../80958/index.html">Linux instead of Windows. Is the game worth the candle?</a></li>
<li><a href="../80961/index.html">23 logos with hidden meanings</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>