<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>You are not authorized by keys yet? Then we go to you</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="With this note, I want to show that using keys for authorization is easy. 

 To begin with, we will need PuTTY. 
 Go to http://www.chiark.greenend.org...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>You are not authorized by keys yet? Then we go to you</h1><div class="post__text post__text-html js-mediator-article">  With this note, I want to show that using keys for authorization is easy. <br><br>  To begin with, we will need PuTTY. <br>  Go to <a href="http://bit.ly/oY6sl4">http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html</a> and download the following: <br>  PuTTY - ssh client <br>  Pageant - agent for storing keys (why I will explain later) <br>  PuTTYgen - key generator <br><a name="habracut"></a><br>  First, we will generate the keys, then we will configure PuTTY, and in the end I will show you how to use it all. <br><br>  Create a daddy for PuTTY and throw it all there. <br><img src="https://habrastorage.org/getpro/habr/post_images/d50/7fd/885/d507fd885cd215c47f266a240bacf532.png" alt="Folder contents">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Launch PuTTYgen and select ‚Äú <b>Type of key to generate</b> ‚Äù <b>SSH-2 RSA</b> and <b>2048-</b> bit key. <br><img src="https://habrastorage.org/getpro/habr/post_images/488/227/d39/488227d39c86adafe3f1a34ba02816d8.png" alt="Main window PuTTYgen"><br><br>  Click <b>Generate</b> .  Following the instructions, we randomly move the mouse. <br><img src="https://habrastorage.org/getpro/habr/post_images/ced/3c1/347/ced3c134780a81693149b2bb9a013ff0.png" alt="Key generation"><br><br>  After generation, we will see the following. <br><img src="https://habrastorage.org/getpro/habr/post_images/925/1f7/400/9251f740041986f0c536541ec123aebe.png" alt="View after generation"><br><br>  In the upper field is the public key that will be stored by the receiving party. <br>  Oh yeah, I forgot to tell you how direct authorization takes place using keys. <br><br>  For clarity, take the server and client. <br>  The client informs the server of its public key in any way possible.  Worry that someone finds out this key is not worth it. <br>  Authorization is as follows: <br>  <sub><em>further follows the explanation of a person who has not read the relevant literature, therefore describes how he imagines it</em></sub> <br>  The client accesses the server and they exchange public keys. <br>  based on this, the server authorizes the client and grants the corresponding rights. <br><br>  It was a small digression, back to PuTTYgen. <br><br>  In the upper field is the public key that will be stored by the receiving party. <br>  <b>Key fingerprint</b> - key fingerprint. <br>  <b>Key comment</b> - the key comment, I usually specify the machine on which this key is used. <br>  <b>Key passphrase</b> is a passphrase for a private key.  It should be made difficult.  Of course, you can leave it empty, and then the authorization will not require a password, but then I will show that even with a complex password to the key, you can authenticate without re-entering the password, as if there is no password. <br>  <b>Confirm passphrase</b> - confirmation of the password phrase. <br><br>  Next you need to save the generated keys.  I will dwell only on a private key.  When saving ( <b>Save private key</b> ), you are prompted to save the key with the extension <b>.ppk</b> .  It will be used by Pageant in the future. <br><br>  Before we proceed to the PuTTY configuration, I‚Äôll tell you about the possibility of recovering a public key from a private one using PuTTYgen. <br>  To do this, click the <b>Load</b> button.  Specify private key.  Enter the passphrase (if any) and the exact same window will appear as in the previous screenshot. <br><br>  Now we will start PuTTY and we will make preliminary settings. <br>  Select <b>Default Settings</b> and click <b>Load</b> . <br>  Let's turn to <b>Session-&gt; Logging</b> on the left, tick off <b>Printable output</b> .  In the <b>Log file name</b> field, enter <b>logs \ &amp; H_ &amp; Y- &amp; M- &amp; D- &amp; T.log</b> , uncheck <b>Flush log file frequentl</b> y. <br>  Thus, we have indicated that we will store logs in the daddy logs, next to PuTTY.exe with names like 192.168.1.6_2011-08-29-101304.log <br>  <b>Go</b> to the tab <b>Window-&gt; Translation</b> .  And select the <b>UTF-8</b> <b>Remote character set</b> in the list so that there are no problems with the encoding. <br>  In <b>Connection-&gt; SSH-&gt; Auth</b> , we check that there is a tick in front of <b>Attempt authentication using Pageant</b> and specify the path to the private key in the <b>Private key file for authentication</b> column. <br>  After that, go back to the <b>Session</b> tab and click save, so that the specified settings are by default. <br><br>  It's time to show the work of authorization, using the keys, in practice. <br>  We use the agent to store the keys Pageant. <br><br>  After launch, an icon will appear in the notification area.  Click the right button <b>Add key</b> . <br><img src="https://habrastorage.org/getpro/habr/post_images/db9/21f/b21/db921fb2133ac403547c259112e153cb.png" alt="Add key"><br><br>  Select the key, specify the passphrase.  Now the key is stored in memory. <br>  To view the keys, you can select <b>View keys</b> . <br><img src="https://habrastorage.org/getpro/habr/post_images/324/0c6/a13/3240c6a1308a9ec87f87dc52aa9d9e7c.png" alt="View keys"><br><br>  Let's try to log in. <br>  Open PuTTY.  Specify IP.  Click <b>Open</b> . <br>  The first time, a warning pops up that earlier we did not use the key for authorization on this server.  When this occurs for the first time, it is normal, but if this happens on the server on which we have already logged in, then either the server has changed its keys, or it is a fake server. <br><img src="https://habrastorage.org/getpro/habr/post_images/b27/36c/b4c/b2736cb4cdd8ecc71e83a6e9e6db5818.png" alt="Warning about the absence of a server key in the cache"><br><br>  Enter your login.  Click Enter.  And we are automatically logged in. <br><img src="https://habrastorage.org/getpro/habr/post_images/69c/a8a/7ff/69ca8a7ff025b2395556dfe0ecd7444a.png" alt="Successful ssh connection"><br><br>  I will show more by the example of Komodo Edit. <br>  Choose <b>File-&gt; Open-&gt; Remote open</b> <br><img src="https://habrastorage.org/getpro/habr/post_images/82d/05e/54c/82d05e54cec2d9e4125d3decef493415.png" alt="Menu item"><br><br>  Choose <b>Accounts</b> .  Then <b>New Server</b> . <br>  In the <b>Server Type we</b> specify <b>SCP</b> .  In <b>Name,</b> an arbitrary name for the server.  In <b>Hostname</b> ip server (or domain name).  In the <b>User Name</b> user login. <br>  Click <b>Add</b> , then <b>OK</b> . <br>  In the top drop-down menu, select our server.  If the server allows authorization by keys, then we will see a list of directories on the server, select the desired file and edit it (if you have write access to the user). <br><img src="https://habrastorage.org/getpro/habr/post_images/042/b15/9e6/042b159e66f6cee4949e6c63c405446c.png" alt="image"><br><br>  PS: The following error occurs if the server only supports key authorization and you do not have Pageant enabled. <br><img src="https://habrastorage.org/getpro/habr/post_images/21c/43e/a28/21c43ea283a1591a47c14450c4b1ce15.png" alt="Error: Remote SSH server does not allow password authentication. Allowed types are: publickey"><br><br>  <b>PS2:</b> <br>  Do not miss the useful article <a href="http://habrahabr.ru/post/122445/">Memo to ssh users</a> </div><p>Source: <a href="https://habr.com/ru/post/127521/">https://habr.com/ru/post/127521/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../127511/index.html">Open DSLR firmware for Canon</a></li>
<li><a href="../127512/index.html">In the new academic year, we again invite mega-active students to partnership</a></li>
<li><a href="../127516/index.html">Color techniques in web design</a></li>
<li><a href="../127518/index.html">Delving deep into Graphics2D</a></li>
<li><a href="../127520/index.html">The effect of saving and loading the game state on the game process</a></li>
<li><a href="../127522/index.html">Developing a simple google chrome extension</a></li>
<li><a href="../127523/index.html">The simplest reminder of bash dumplings</a></li>
<li><a href="../127524/index.html">We get a passport through gosuslugi.ru (part 1)</a></li>
<li><a href="../127525/index.html">Create a chat on Node.js and Socket.IO</a></li>
<li><a href="../127526/index.html">How to make your home "smarter"?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>