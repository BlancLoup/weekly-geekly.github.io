<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Immersion into the scripts of the Unity3d game engine, part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day, dear reader! Habr√© has repeatedly published articles on game development using the remarkable Unity3d engine. Most of these articles were de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Immersion into the scripts of the Unity3d game engine, part 1</h1><div class="post__text post__text-html js-mediator-article">  Good day, dear reader!  Habr√© has repeatedly published articles on game development using the remarkable <a href="http://unity3d.com/">Unity3d</a> engine.  Most of these articles were devoted to quite specific tasks, but I wanted to make a general excursion into this engine.  This part will be devoted to the most frequently used scripting methods and objects that are used by me in the development process on this engine.  I will give examples in JavaScript, as in the language closest to me. <br><a name="habracut"></a><br><h4>  Game object </h4><br>  Create a new game object called MyObject. <br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> myObject = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GameObject(<span class="hljs-string"><span class="hljs-string">"MyObject"</span></span>);</code> </pre>  The created object will be accessible via the link myObject. <br><br>  Search for an object by its name. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> myObject = GameObject.Find(<span class="hljs-string"><span class="hljs-string">"MyObject"</span></span>);</code> </pre> <br><br>  Tags can be used to mark groups of objects with similar properties, or used in a single scene. <br>  Search object by tag, returns a single object: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> myObject = GameObject.FindWithTag(<span class="hljs-string"><span class="hljs-string">"MyTag"</span></span>);</code> </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Returns a list of all objects with the specified tag: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> objectList = GameObject.FindGameObjectsWithTag(<span class="hljs-string"><span class="hljs-string">"MyTag"</span></span>);</code> </pre> <br><br>  Check that the object has the required tag.  Returns true if the specified object has a MyTag tag: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> isCompare = GameObject.CompareTag(<span class="hljs-string"><span class="hljs-string">"MyTag"</span></span>);</code> </pre> <br><br>  Destruction of the object: <br><pre> <code class="javascript hljs">Destroy(myObject);</code> </pre> <br><br>  Destruction of an object in a minute after its creation: <br><pre> <code class="javascript hljs">Destroy(myObject, <span class="hljs-number"><span class="hljs-number">60</span></span>);</code> </pre> <br><br>  Returns the component component associated with the GameObject object, or null if the object does not contain this component.  It can be used, for example, to access other scripts bound to an object. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> objectComponent = GameObject.GetComponent(component);</code> </pre> <br><br>  Returns all components of the componentType type. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> objectComponents = GameObject.GetComponents(componentType);</code> </pre> <br><br>  Bind the myComponent component to a GameObject object and get a reference to it. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> component = GameObject.AddComponent(myComponent);</code> </pre> <br><br><h4>  The position of the game object </h4><br><br>  <i>The transform property of the GameObject object contains information about the position of the object in the game world.</i> <br><br>  Returns the global coordinates of an object in the game world.  The return value is of type Vector3, which is a list of 3 coordinates - x, y and z: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> position = GameObject.transform.position; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> x = position.x;</code> </pre> <br><br>  Move the object to the point 0, 10, 0 of the game world. <br><pre> <code class="javascript hljs">GameObject.transform.position = Vector3(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre> <br><br>  The same as in the case of global coordinates, but with local ones.  Local coordinates are relative to the parent object.  In the case of the absence of the parent object, the local coordinates coincide with the global ones: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> localPosition = GameObject.transform.localPosition; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> x = localPosition.x;</code> </pre> <br><br>  Rotate the object in the <a href="http://ru.wikipedia.org/wiki/%25D0%25A3%25D0%25B3%25D0%25BB%25D1%258B_%25D0%25AD%25D0%25B9%25D0%25BB%25D0%25B5%25D1%2580%25D0%25B0">corners of Euler</a> .  The method also returns coordinates as a Vector3 object: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> eulerAngle = GameObject.transform.eulerAngles;</code> </pre> <br><br>  The same as the previous example, but the rotation of the object is calculated relative to the parent object: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> localEulerAngle = GameObject.transform.localEulerAngles;</code> </pre> <br><br>  The current angle of rotation of the object, based on <a href="http://ru.wikipedia.org/wiki/%25D0%259A%25D0%25B2%25D0%25B0%25D1%2582%25D0%25B5%25D1%2580%25D0%25BD%25D0%25B8%25D0%25BE%25D0%25BD">quaternions</a> .  Returns an object of type Quaternion. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> quaternionAngle = GameObject.transform.rotation;</code> </pre> <br><br>  The current rotation of the object, based on quaternions, but relative to the parent object: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> localQuaternionAngle = GameObject.transform.localRotation;</code> </pre> <br><br>  Reset the angle of rotation of the object: <br><pre> <code class="javascript hljs">GameObject.transform.rotation = Quaternion.identity; GameObject.transform.localRotation = Quaternion.identity;</code> </pre> <br><br>  Rotate our object in the specified direction at a speed of 1 degree per second.  Accepts an object of type Vector3 as coordinates.  The deltaTime method of the Time object contains the time in seconds spent on the execution of the previous frame: <br><pre> <code class="javascript hljs">GameObject.transform.Rotate(Vector3.left * Time.deltaTime);</code> </pre> <br><br>  The same as the previous example, but the rotation of the object relative to the coordinates of the parent: <br><pre> <code class="javascript hljs">GameObject.transform.localRotate(Vector3.left * Time.deltaTime);</code> </pre> <br><br>  We move our object in the specified direction at a speed of 1 unit per second.  Also takes as a coordinate an object of class Vector3: <br><pre> <code class="javascript hljs">GameObject.transform.Translate(Vector3.up * Time.deltaTime);</code> </pre> <br><br><h4>  Physical properties of the game object </h4><br>  <i>The rigidObody method of the GameObject object stores its physical properties.</i>  <i>Before using the rigidbody method, it must be added to the game object.</i> <br><br>  Get / set the object velocity vector: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> velocity = GameObject.rigidbody.velocity; GameObject.rigidbody.velocity = Vector3(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre> <br><br>  The force of the counteraction of the object.  It can be used to slow down speed in an environment with no friction force.  Most often used to slow down falling objects, for example when creating a parachute.  Accepts an integer as a parameter: <br><pre> <code class="javascript hljs">GameObject.rigidbody.drag = <span class="hljs-number"><span class="hljs-number">100</span></span>;</code> </pre> <br><br>  Set the mass of the object.  It is recommended to use a mass in the range from 0.1 to 10. Using too large values ‚Äã‚Äãcan lead to unpredictable results when calculating physics: <br><pre> <code class="javascript hljs">GameObject.rigidbody.mass = <span class="hljs-number"><span class="hljs-number">5</span></span>;</code> </pre> <br><br>  Effect on the object of gravity.  Accepts a boolean value as a parameter.  Allows you to disable the effect of gravity on individual objects: <br><pre> <code class="javascript hljs">GameObject.rigidbody.useGravity = <span class="hljs-literal"><span class="hljs-literal">false</span></span>;</code> </pre> <br><br>  The influence of physics on the game object.  Allows you to disable partly or completely the influence of physical laws on the object: <br><pre> <code class="javascript hljs">GameObject.rigidbody.isKinematic = <span class="hljs-literal"><span class="hljs-literal">true</span></span>;</code> </pre> <br><br>  The prohibition of the rotation of the object.  Most often used when it is necessary to maintain a certain angle of rotation, even after colliding with other objects: <br><pre> <code class="javascript hljs">GameObject.rigidbody.freezeRotation = <span class="hljs-literal"><span class="hljs-literal">true</span></span>;</code> </pre> <br><br>  Specify the coordinates of the center of mass of the object.  Applies coordinates in the form of a Vector3 object already familiar to us. <br><pre> <code class="javascript hljs">GameObject.rigidbody.centerOfMass = Vector3(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre> <br><br>  Whether to use object collision detection with other objects.  You can turn it off, then your object will ignore any collisions: <br><pre> <code class="javascript hljs">GameObject.rigidbody.detectCollisions = <span class="hljs-literal"><span class="hljs-literal">false</span></span>;</code> </pre> <br><br>  The mode of determining collisions between objects.  You can specify several different modes: <br>  CollisionDetectionMode.ContinuousDynamic for fast moving objects; <br>  CollisionDetectionMode.Continuous for collisions with fast moving objects; <br>  CollisionDetectionMode.Discrete (default) for normal collisions; <br>  If there are no problems with collision detection, it is recommended to use the default property. <br><br>  Set the object density: <br><pre> <code class="javascript hljs">GameObject.rigidbody.SetDensity(<span class="hljs-number"><span class="hljs-number">1.5</span></span>);</code> </pre> <br><br>  Apply a pulse to an object with the specified vector.  As a result of the impulse application, the object will move in proportion to the impulse force. <br><pre> <code class="javascript hljs">GameObject.rigidbody.AddForce(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre> <br><br>  Apply momentum to an object with a vector in its (object) coordinate system: <br><pre> <code class="javascript hljs">GameObject.rigidbody.AddRelativeForce(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>);</code> </pre> <br><br>  Add torque to the object.  Using this method will cause the object to rotate around its center of mass GameObject.rigidbody.centerOfMass. <br><pre> <code class="javascript hljs">GameObject.rigidbody.AddTorque(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre> <br><br>  Same as the previous example, but relative to the coordinates of the object: <br><pre> <code class="javascript hljs">GameObject.rigidbody.AddRelativeTorque (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre> <br><br>  Apply a pulse to an object from an external specified point.  Makes an object move and rotate at the same time.  It can be used, for example, to simulate a bullet hit.  The first parameter indicates the direction vector of the force, the second parameter indicates the starting point of the direction of the force. <br><pre> <code class="javascript hljs">GameObject.rigidbody.AddForceAtPosition(Vector3(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>), Bomb.transform.position);</code> </pre> <br><br>  For full simulation of volumetric explosions in Unity3D there is a separate method.  The first parameter of the method allows you to specify the pulse power, the second parameter is the point from which the pulse originates, the third parameter is the radius of pulse propagation, the fourth parameter is the compression modifier of the force propagation sphere, the fifth, optional, parameter indicates the type of pulse used: <br><pre> <code class="javascript hljs">GameObject.rigidbody.AddExplosionForce(power, explosionPos, radius, <span class="hljs-number"><span class="hljs-number">2.0</span></span>);</code> </pre> <br><br>  To make the object ‚Äúfall asleep‚Äù, and prohibit further calculation of physical indicators for it: <br><pre> <code class="javascript hljs">GameObject.rigidbody.Sleep();</code> </pre> <br><br>  Check if the object has fallen asleep: <br><pre> <code class="javascript hljs">GameObject.rigidbody.IsSleeping();</code> </pre> <br><br>  "Wake up" the object for the possibility of further application of the influence of physics on it: <br><pre> <code class="javascript hljs">GameObject.rigidbody.WakeUp();</code> </pre> <br><br><h4>  Ray tracing </h4><br>  <i>One of the most commonly used in the development of the Unity3D object is Ray.</i>  <i>This object allows you to release the beam from a specified point in a specified direction, and return some properties of objects that it was able to achieve.</i> <br><br>  Create an object of the RaycastHit class that contains information about the object that the ray encountered: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> hit : RaycastHit;</code> </pre> <br><br>  Send a ray of 50 units in length from the rayPosition position in the direction of the rayVector, and put the object that the ray encountered in the hit variable: <br><pre> <code class="javascript hljs">Physics.Raycast(rayPosition, rayVector.forward, hit, <span class="hljs-number"><span class="hljs-number">50</span></span>);</code> </pre> <br><br>  Get the distance to the object with which the beam collided.  The distance can not be greater than the length of the beam: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> distance = hit.distance;</code> </pre> <br><br>  Sometimes it is necessary to obtain the name of the object with which the beam collided.  The easiest way to do this: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> objectName = hit.collider.gameObject.name;</code> </pre> <br><br>  To obtain an object tag, use the following method: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Tag = hit.collider.tag;</code> </pre> <br><br>  Unity3D contains many more different methods and objects that are not very useful.  Unfortunately, a full review of them would have increased the already voluminous article, so I will try to tell you about the rest in more detail in the future, if I have the opportunity.  I would like to wish experienced developers more interesting projects, and to beginners - success and interesting discoveries.  Thank you for paying attention to this article. <br><br>  UPD.  <a href="http://habrahabr.ru/blogs/gdev/128948/">second part</a> (script events). </div><p>Source: <a href="https://habr.com/ru/post/128711/">https://habr.com/ru/post/128711/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../128705/index.html">Jquery-ui inside a binary</a></li>
<li><a href="../128706/index.html">Using synonyms in SEO: bundles, holes, underpages</a></li>
<li><a href="../128707/index.html">Console application PassKeep</a></li>
<li><a href="../128709/index.html">Another implementation of the field "city" for Django</a></li>
<li><a href="../128710/index.html">Fast implementation of incremental backup on Amazon S3</a></li>
<li><a href="../128712/index.html">First results</a></li>
<li><a href="../128713/index.html">Attention! Competition! Win a Tech ‚àô Ed Russia 2011 Ticket!</a></li>
<li><a href="../128715/index.html">Google Wallet will start today - tomorrow</a></li>
<li><a href="../128716/index.html">Book's advantage over a blog or improve your blog.</a></li>
<li><a href="../128717/index.html">Competition for the development of applications and extensions for Google Chrome</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>