<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Presentation: "Sphinx - full-text search on the site, easy and accessible"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In short: I want to make a presentation and speak at online shopping conferences a couple of times. Wrote the text of the presentation, we need feedba...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Presentation: "Sphinx - full-text search on the site, easy and accessible"</h1><div class="post__text post__text-html js-mediator-article">  In short: I want to make a presentation and speak at online shopping conferences a couple of times.  Wrote the text of the presentation, we need feedback.  I hope for your help in drawing up a competent and accessible text. <br><br>  The current text of the presentation under the cut <a name="habracut"></a><br><br><h4>  Full-Text Search Overview </h4><br>  Full-text search is essentially Google and Yandex technology: the user enters a search query - gets an answer in the form of a specific set of pages.  On the website of the online store, this is likely to be a list of products that most closely match the search query.  There is such a concept - relevance, and so, it is important.  Also important: synonyms, typos, morphology and the usual logic of the ordinary ordinary buyer. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In the online store, for example, the words ‚Äúbuy‚Äù, ‚Äúbest‚Äù, ‚Äúquality‚Äù can simply be ignored, since they mean nothing.  And according to the words ‚Äúfashionable‚Äù, ‚Äúexpensive‚Äù, ‚ÄúApple iPhone‚Äù, ‚Äúbosh battery for Kia Sid‚Äù, you can uniquely determine what a person needs. <br>  Here is a brief about why you need a full-text search. <br><br><h4>  Why do you need a search on the site: advantages and disadvantages </h4><br>  The main reason and goal is the conversion of the visitor into the buyer, that is, the percentage of purchases relative to the visitors on the site.  The easier it is for a person to find a product, the more likely he is to become a buyer.  Every day, customers are becoming more lazy and getting used to the convenient search technologies of other stores, so the absence of such a search on your website can have a very negative impact on sales. <br><br>  In addition, there is a specific nomenclature that cannot be found by a simple passage through the catalog and it is the full-text search that is needed: this is when there are more than 1000 items, or it is difficult to choose the exact product you need.  In this case, the computer simplifies the task of choice and helps a person to make a purchase sighted, and not by the method of "scientific poking". <br>  Disadvantages: $ 100- $ 200 for the development of a search module for the site. <br><br><h4>  Sphinx search implementations (SphinxSearch): OS, installation options, programming languages </h4><br>  Sphinx is an open source product.  This is actually a search engine, developed from scratch, for high-load projects, with custom relevancy (meaning search quality), as well as ease of integration into any project.  It is written in C ++ and runs on Linux (RedHat, Ubuntu, etc.), Windows, MacOS, Solaris, FreeBSD, and some other less popular systems. <br><br>  Sphinx allows you to store prepared text data indexes, search the SQL database, NoSQL repository, or just the files on the server quickly and easily.  It can index data on the fly, add new index data to existing ones, working online without overloading the server. <br><br>  Various text processing capabilities give the programmer fine-tuning of Sphinx to the requirements of your application, as well as a number of functions to ensure that you can customize the search quality exactly as you need it.  There are two connection options: <br>  ‚Ä¢ Search by SphinxAPI - the usual API <br>  ‚Ä¢ SphinxQL - analogue of standard SQL <br>  The Sphinx Cluster can scale up to billions of documents and tens of millions of search queries per day.  This kind of load is maintained on sites like Craigslist, DailyMotion, Netlog, etc. <br><br><h4>  A real example of search queries in the online auto parts store </h4><br>  Our company has been dealing with auto parts, or rather selling online stores for parts, for a long time, fruitfully and quite successfully.  But for a number of reasons, the relevant search was needed just now. <br><br>  The main reason, most likely, is that full-text search is not suitable for most parts.  But there are 5-10% of the goods for which he is catastrophically needed without him.  And our standard search with inherently direct cross-links and indicating a clear model and brand of car from the parts catalog for this product group does not work.  An example of such "wrong" products: oils, tires, batteries, car lamps, wipers and other similar products that are often sold. <br><br>  The average price for spare parts of a small ordinary company is 2-10 million positions, respectively, 10% of this base will occupy the data we need.  Therefore, we decided to implement the <a href="http://sphinxsearch.com/">sphinxsearch.com</a> engine in our product.  More information about this implementation can be read on Habr√©: <a href="http://habrahabr.ru/blogs/sphinx/132118/">habrahabr.ru/blogs/sphinx/132118</a> <br><br><h4>  In-depth study of the search query language </h4><br>  The main search functionality is custom weights for the fields, as well as search methods.  In order for the morphology to work and in the query ‚Äúoil Castrol 5W40‚Äù there were documents with the text ‚ÄúOil‚Äù and ‚Äú15W40‚Äù - you need to simultaneously use the "*" symbol and search for the word "oil", and for this you need a query builder that works it is in the ‚ÄúSPH_MATCH_EXTENDED2‚Äù mode. <br><br>  It is possible to sort by default both by price, and relevance, and by a set of such parameters.  For each group of products, you can set your own method of relevance and the procedure for issuing results, this is especially true when there are more than a hundred documents. <br>  Incremental indices allow you to add new products and documents on the fly without stopping your online store. <br><br>  And most importantly: synonyms.  In our example, you can use the query "Castrol oil 5W40" and it will find the same as Castrol 5W40 oil.  In the example with ‚ÄúC #‚Äù you need to include such non-standard word forms so that they are not processed according to the standard index scheme and work manually exactly as you configure them.  Only you know the exact meaning of the phrase in your project, for example, ‚ÄúC #‚Äù = ‚ÄúTO DIEZ for musicians‚Äù. <br><br><h4>  Who can do such a sphinx-based search? </h4><br>  Any junior programmer who is familiar with English and who can read the documentation on <a href="http://sphinxsearch.com/docs/">sphinxsearch.com/docs</a> <br><br>  There are also some Russian documentation and a couple of articles in Russian. <br>  There are virtually no restrictions, except that the fear of a new approach to search.  It seems that this is all difficult and very expensive.  In fact, it's all simple, fast and cheap.  On Habr√© there is a special blog in which responsive programmers, including the Russian-language developer of the engine, answer all the questions that arise. <br><br>  Thank you, I will be glad to answer your questions. <br><br>  * Sponsor's sponsored link: <a href="http://www.mstarproject.com/%3Faction%3Dtecdoc_mysql_site">tecdoc + sphinxsearch online store development</a> <br><br>  * Link to the finished presentation for the conference: <a href="http://www.mstarproject.com/temp/4/presentation_sphinx_revision3.ppt">http://www.mstarproject.com/temp/4/presentation_sphinx_revision3.ppt</a> </div><p>Source: <a href="https://habr.com/ru/post/137821/">https://habr.com/ru/post/137821/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../137814/index.html">Child pornography on the First Channel server</a></li>
<li><a href="../137815/index.html">Microsoft has released the OneNote application for Android</a></li>
<li><a href="../137817/index.html">Lightpack 6 is available for pre-order.</a></li>
<li><a href="../137818/index.html">"Noodles" from callbacks - keep it simple</a></li>
<li><a href="../137820/index.html">We collect sensor readings from an Android smartphone. Bug work</a></li>
<li><a href="../137822/index.html">Attached properties to restrict text input.</a></li>
<li><a href="../137823/index.html">Prayer "Our C"</a></li>
<li><a href="../137824/index.html">Everything in the cloud, part 2</a></li>
<li><a href="../137825/index.html">Community or social network?</a></li>
<li><a href="../137828/index.html">ZFConf 2012 will be held in the spring in Moscow - pre-registration is open</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>