<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>8 Two Wheel MODX Revolution Tips</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I have been working with MODX Revolution not so long ago, but, nevertheless, at the moment, for me it is a CMS-pearl. Flexibility, extensibility and i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>8 Two Wheel MODX Revolution Tips</h1><div class="post__text post__text-html js-mediator-article">  I have been working with MODX Revolution not so long ago, but, nevertheless, at the moment, for me it is a CMS-pearl.  Flexibility, extensibility and intuitiveness (If you forget about the ill-fated MODX Manager for a moment), they are attracted to everything just as they did at the very beginning. <br>  Below are the notes that I did while working with the MODX Revolution over the past year.  These simple techniques, I knew about them before, would help me save an incredible amount of time.  The target audience for these notes is newcomers who only recently figured out what MODX is.  Frank "bikes", out of respect for you, did not include notes. <a name="habracut"></a><br><br><h4>  1. Simplify working with MODX Manager </h4><br>  With the increase in the volume of the project, the deployment of the resource tree when loading the manager can take exactly as much time as is enough to shake your psyche.  Collapse those categories and contexts in which you are currently not working.  When you go to a new page, the resource tree will show only what you have left expanded. <br><br>  Another thing that has a very adverse effect on performance is RSS feeds on the manager‚Äôs home page, reporting new versions and security fixes.  Disable as follows: <i>System -&gt; System Settings -&gt; MODX News Feed Enabled / MODX Security Feed Enabled -&gt; No.</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  2. Passing parameters to a snippet </h4><br>  Suppose you have a snippet named <i>Monkeys</i> that displays the most common line on the page: <br><br><pre><code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $howMany. <span class="hljs-string"><span class="hljs-string">' '</span></span> .<span class="hljs-string"><span class="hljs-string">'Monkeys'</span></span>;</code> </pre> <br><br>  You need to display this spippet on several pages with different values ‚Äã‚Äãof the <b>$ howMany</b> variable.  This is done quite simply: <br><br><pre> <code class="php hljs">[[Monkeys?&amp;howMany=`<span class="hljs-number"><span class="hljs-number">12</span></span>`]]</code> </pre><br><br>  Thus, in the snippet, you can transfer, for example, with the necessary logic for that, the language in which you want to display the content. <br><br><h4>  3. Calling MODX in a static PHP file </h4><br>  In case if you use the snippet only for <i>include / require_once of a</i> static file, the previous technique will still work as expected.  But what if you need to use the $ modx object itself?  For example, take the <i>pagetitle of a</i> certain resource?  Everything is also very elementary: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">require_once</span></span> <span class="hljs-string"><span class="hljs-string">'/var/www/config.core.php'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">require_once</span></span> MODX_CORE_PATH.<span class="hljs-string"><span class="hljs-string">'model/modx/modx.class.php'</span></span>; $modx = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> modX(); $modx-&gt;initialize(<span class="hljs-string"><span class="hljs-string">'web'</span></span>);</code> </pre><br><br>  Now, such things, you can use as much as you like: <br><br><pre> <code class="php hljs">$resource = $modx-&gt;getObject(<span class="hljs-string"><span class="hljs-string">'modResource'</span></span>, $modx-&gt;resourceIdentifier); $pagetitle = $resource-&gt;get(<span class="hljs-string"><span class="hljs-string">'pagetitle'</span></span>);</code> </pre><br><br><h4>  3. Switch context depending on the domain </h4><br>  In the above technique flashed this line: <br><br><pre> <code class="php hljs">$modx-&gt;initialize(<span class="hljs-string"><span class="hljs-string">'web'</span></span>);</code> </pre><br><br>  This is the initialization of the default context in which, in fact, all of the above will work.  But, what if there are several contexts, and each should be displayed from its own specific domain?  Easy! <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> ($_SERVER[<span class="hljs-string"><span class="hljs-string">'HTTP_HOST'</span></span>]) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'domainOne.com'</span></span>: $modx-&gt;initialize(<span class="hljs-string"><span class="hljs-string">'web'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'domainTwo'</span></span>: $modx-&gt;initialize(<span class="hljs-string"><span class="hljs-string">'two'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'domainThree'</span></span>: $modx-&gt;initialize(<span class="hljs-string"><span class="hljs-string">'three'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: $modx-&gt;initialize(<span class="hljs-string"><span class="hljs-string">'web'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; }</code> </pre><br><br>  This switch should be run either in the plugin, on the <i>OnHandleRequest</i> event, or a little ‚Äúearlier‚Äù, at the end of index.php, which, perhaps, none of the living will advise. <br><br><h4>  4. Switch on context </h4><br>  If you need to ‚Äúdiversify‚Äù your code for each of the contexts, you can use the following: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>($modx-&gt;context-&gt;get(<span class="hljs-string"><span class="hljs-string">'key'</span></span>) != <span class="hljs-string"><span class="hljs-string">"mgr"</span></span>){ <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> ($modx-&gt;context-&gt;get(<span class="hljs-string"><span class="hljs-string">'key'</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'web'</span></span>: $howMany = <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'two'</span></span>: $howMany = <span class="hljs-number"><span class="hljs-number">8</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'three'</span></span>: $howMany = <span class="hljs-number"><span class="hljs-number">12</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: $howMany = <span class="hljs-number"><span class="hljs-number">12</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $howMany. <span class="hljs-string"><span class="hljs-string">' '</span></span> .<span class="hljs-string"><span class="hljs-string">'Monkeys'</span></span>;</code> </pre><br><br>  The <i>if ($ modx-&gt; context-&gt; get ('key')! = "Mgr" condition</i> , as you may have guessed, prevents the code from running right in the manager. <br><br><h4>  5. Context Settings </h4><br>  Another way to vary the content of the contexts available is individual settings.  Open the context you need and go to the <i>Context Settings</i> tab.  By clicking <i>Create New</i> , specify the <b>Key</b> , and, accordingly, the <i>Value</i> .  The key you created is invoked in the document / chunk as follows: <br><br><pre> <code class="php hljs">[[!++Key]]</code> </pre><br><br><h4>  6. Call in the context the chunk we need, without creating separate settings </h4><br>  The previous method, of course, is good, but what if we only need different chunks depending on the context?  The <b>[[* context_key]]</b> key, which returns the name of the current context, is very useful in this respect.  For example, create two chunks: <i>Footer_Web</i> and <i>Footer_One</i> , where Web and One are the names of contexts.  Now, let's call them on the page / in the template: <br><br><pre> <code class="php hljs">[[$Footer_[[*context_key]]]]</code> </pre><br><br><h4>  7. modMail </h4><br>  <i>modMail</i> is a class that is extensible by modPHPMailer.  By default embedded in MODX and used as follows: <br><br><pre> <code class="php hljs">$message = $modx-&gt;getChunk(<span class="hljs-string"><span class="hljs-string">'myEmailTemplate'</span></span>); $modx-&gt;getService(<span class="hljs-string"><span class="hljs-string">'mail'</span></span>, <span class="hljs-string"><span class="hljs-string">'mail.modPHPMailer'</span></span>); $modx-&gt;mail-&gt;set(modMail::MAIL_BODY,$message); $modx-&gt;mail-&gt;set(modMail::MAIL_FROM,<span class="hljs-string"><span class="hljs-string">'me@example.org'</span></span>); $modx-&gt;mail-&gt;set(modMail::MAIL_FROM_NAME,<span class="hljs-string"><span class="hljs-string">'Johnny Tester'</span></span>); $modx-&gt;mail-&gt;set(modMail::MAIL_SUBJECT,<span class="hljs-string"><span class="hljs-string">'Check out my new email template!'</span></span>); $modx-&gt;mail-&gt;address(<span class="hljs-string"><span class="hljs-string">'to'</span></span>,<span class="hljs-string"><span class="hljs-string">'user@example.com'</span></span>); $modx-&gt;mail-&gt;address(<span class="hljs-string"><span class="hljs-string">'reply-to'</span></span>,<span class="hljs-string"><span class="hljs-string">'me@xexample.org'</span></span>); $modx-&gt;mail-&gt;setHTML(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!$modx-&gt;mail-&gt;send()) { $modx-&gt;log(modX::LOG_LEVEL_ERROR,<span class="hljs-string"><span class="hljs-string">'An error occurred while trying to send the email: '</span></span>.$modx-&gt;mail-&gt;mailer-&gt;ErrorInfo); } $modx-&gt;mail-&gt;reset();</code> </pre><br><br>  * Excerpt from official <a href="http://rtfm.modx.com/revolution/2.x/developing-in-modx/advanced-development/modx-services/modmail">documentation</a> . <br><br><h4>  8. From snippet to chunk </h4><br>  The above example takes the <i>myEmailTemplate</i> chunk as a template for our letter.  If the letter needs to be displayed, for example, the <i>Username</i> obtained from the form, we do the following: <br><br><pre> <code class="php hljs">$Username = $_POST[<span class="hljs-string"><span class="hljs-string">'Username'</span></span>]; $message = $modx-&gt;getChunk(<span class="hljs-string"><span class="hljs-string">'myEmailTemplate'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'username'</span></span> =&gt; $Username, ));</code> </pre><br><br>  So we pass the Username to our <i>myEmailTemplate</i> chunk.  We get it in a chunk, in this way: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Username: [[+username]]<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  That's all for today.  If anyone would be interested in such notes, I am ready to continue them with joy.  Thank you for attention. </div><p>Source: <a href="https://habr.com/ru/post/220847/">https://habr.com/ru/post/220847/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../220837/index.html">Basic animation with iTween</a></li>
<li><a href="../220839/index.html">What is Excel Mashup, and to whom it may be useful?</a></li>
<li><a href="../220841/index.html">N2O: Erlang WebSockets Web Framework</a></li>
<li><a href="../220843/index.html">Commercial nanotechnology</a></li>
<li><a href="../220845/index.html">Reactjs gamma generator</a></li>
<li><a href="../220849/index.html">Sample pen on supercomputer Lomonosov</a></li>
<li><a href="../220851/index.html">(Self) processor identification. Part two. Hairy CPUID</a></li>
<li><a href="../220853/index.html">Friday's announcement #FailOverConf. And buns to participants</a></li>
<li><a href="../220855/index.html">Mother's wisdom to guard your marketing</a></li>
<li><a href="../220859/index.html">New in the release of Kerio Control 8.3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>