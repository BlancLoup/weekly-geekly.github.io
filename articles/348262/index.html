<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Its a snake, or write the first draft. Part 0</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Foreword 
 Hi Habr! My name is Eugene "Nage", and I started programming about a year ago, during my free time. After reviewing many different tutorial...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Its a snake, or write the first draft. Part 0</h1><div class="post__text post__text-html js-mediator-article"><h4>  Foreword </h4><br>  Hi Habr!  My name is Eugene "Nage", and I started programming about a year ago, during my free time.  After reviewing many different tutorials on programming, you ask yourself the question ‚Äúwhat to do next?‚Äù, Because basically everyone talks about the very basics and as a rule does not go on.  But after a long time watching various videos about the same thing, I decided that it was worth moving on and taking up the first project.  And so, now we will analyze how you can write the game "Snake" in the console with your initial knowledge. <br><br><h4>  Chapter 1. So, where do we start? </h4><br>  To begin with, we do not need anything extra, just a notepad (or your favorite editor), and the C # compiler, it is present by default in Windows, it is located in C: \ Windows \ Microsoft .NET \ Framework \ v4.0.30319 \ csc.exe.  You can use the latest version of the compiler that comes with visual studio, it is Microsoft Visual Studio \ 2017 \ Community \ MSBuild \ 15.0 \ Bin \ Roslyn \ csc.exe. <br><br>  Create a file to quickly compile our code, save the file with the extension .bat with the following contents: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="dos hljs">@<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> off :<span class="hljs-built_in"><span class="hljs-built_in">Start</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> /p name= Enter program name: <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span>. :\Windows\Microsoft.<span class="hljs-built_in"><span class="hljs-built_in">NET</span></span>\Framework\v4.<span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">30319</span></span>\csc.exe "<span class="hljs-variable"><span class="hljs-variable">%name%</span></span>.cs" <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span>. <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Start</span></span></code> </pre> <br>  "@echo off" disables the display of commands in the console.  Using the goto command, we get an infinite loop.  We set the name variable, and with the / p modifier, the value entered by the user into the console is written to the variable.  "Echo." Just leaves an empty line in the console.  Next, we call the compiler and pass it the file of our code, which it compiles. <br><br>  In this way, we can compile only one file, so we will write all the classes in one document (I have not figured out how to compile several files into one .exe through the console, and this is not the topic of our article, can someone tell in the comments). <br><a name="habracut"></a><br>  For those who immediately want to see all the code. <br><br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Threading; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Linq; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">SnakeGame</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Game</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x = <span class="hljs-number"><span class="hljs-number">80</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> y = <span class="hljs-number"><span class="hljs-number">26</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Walls walls; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Snake snake; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> FoodFactory foodFactory; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Timer time; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Console.SetWindowSize(x + <span class="hljs-number"><span class="hljs-number">1</span></span>, y + <span class="hljs-number"><span class="hljs-number">1</span></span>); Console.SetBufferSize(x + <span class="hljs-number"><span class="hljs-number">1</span></span>, y + <span class="hljs-number"><span class="hljs-number">1</span></span>); Console.CursorVisible = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; walls = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Walls(x, y, <span class="hljs-string"><span class="hljs-string">'#'</span></span>); snake = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Snake(x / <span class="hljs-number"><span class="hljs-number">2</span></span>, y / <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>); foodFactory = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FoodFactory(x, y, <span class="hljs-string"><span class="hljs-string">'@'</span></span>); foodFactory.CreateFood(); time = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Timer(Loop, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">200</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-literal"><span class="hljs-literal">true</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Console.KeyAvailable) { ConsoleKeyInfo key = Console.ReadKey(); snake.Rotation(key.Key); } } }<span class="hljs-comment"><span class="hljs-comment">// Main() static void Loop(object obj) { if (walls.IsHit(snake.GetHead()) || snake.IsHit(snake.GetHead())) { time.Change(0, Timeout.Infinite); } else if (snake.Eat(foodFactory.food)) { foodFactory.CreateFood(); } else { snake.Move(); } }// Loop() }// class Game struct Point { public int x { get; set; } public int y { get; set; } public char ch { get; set; } public static implicit operator Point((int, int, char) value) =&gt; new Point {x = value.Item1, y = value.Item2, ch = value.Item3}; public static bool operator ==(Point a, Point b) =&gt; (ax == bx &amp;&amp; ay == by) ? true : false; public static bool operator !=(Point a, Point b) =&gt; (ax != bx || ay != by) ? true : false; public void Draw() { DrawPoint(ch); } public void Clear() { DrawPoint(' '); } private void DrawPoint(char _ch) { Console.SetCursorPosition(x, y); Console.Write(_ch); } } class Walls { private char ch; private List&lt;Point&gt; wall = new List&lt;Point&gt;(); public Walls(int x, int y, char ch) { this.ch = ch; DrawHorizontal(x, 0); DrawHorizontal(x, y); DrawVertical(0, y); DrawVertical(x, y); } private void DrawHorizontal(int x, int y) { for (int i = 0; i &lt; x; i++) { Point p = (i, y, ch); p.Draw(); wall.Add(p); } } private void DrawVertical(int x, int y) { for (int i = 0; i &lt; y; i++) { Point p = (x, i, ch); p.Draw(); wall.Add(p); } } public bool IsHit(Point p) { foreach (var w in wall) { if (p == w) { return true; } } return false; } }// class Walls enum Direction { LEFT, RIGHT, UP, DOWN } class Snake { private List&lt;Point&gt; snake; private Direction direction; private int step = 1; private Point tail; private Point head; bool rotate = true; public Snake(int x, int y, int length) { direction = Direction.RIGHT; snake = new List&lt;Point&gt;(); for (int i = x - length; i &lt; x; i++) { Point p = (i, y, '*'); snake.Add(p); p.Draw(); } } public Point GetHead() =&gt; snake.Last(); public void Move() { head = GetNextPoint(); snake.Add(head); tail = snake.First(); snake.Remove(tail); tail.Clear(); head.Draw(); rotate = true; } public bool Eat(Point p) { head = GetNextPoint(); if (head == p) { snake.Add(head); head.Draw(); return true; } return false; } public Point GetNextPoint () { Point p = GetHead (); switch (direction) { case Direction.LEFT: px -= step; break; case Direction.RIGHT: px += step; break; case Direction.UP: py -= step; break; case Direction.DOWN: py += step; break; } return p; } public void Rotation (ConsoleKey key) { if (rotate) { switch (direction) { case Direction.LEFT: case Direction.RIGHT: if (key == ConsoleKey.DownArrow) direction = Direction.DOWN; else if (key == ConsoleKey.UpArrow) direction = Direction.UP; break; case Direction.UP: case Direction.DOWN: if (key == ConsoleKey.LeftArrow) direction = Direction.LEFT; else if (key == ConsoleKey.RightArrow) direction = Direction.RIGHT; break; } rotate = false; } } public bool IsHit(Point p) { for (int i = snake.Count - 2; i &gt; 0; i--) { if (snake[i] == p) { return true; } } return false; } }//class Snake class FoodFactory { int x; int y; char ch; public Point food { get; private set; } Random random = new Random(); public FoodFactory(int x, int y, char ch) { this.x = x; this.y = y; this.ch = ch; } public void CreateFood() { food = (random.Next(2, x - 2), random.Next(2, y - 2), ch); food.Draw(); } } }</span></span></code> </pre><br></div></div><br><h4>  Chapter 2. First Steps </h4><br>  Let's prepare the field of our game, starting from the entry point to our program.  Set the variables X and Y, the size and buffer of the console window, and hide the cursor display. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Linq; <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Game</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x = <span class="hljs-number"><span class="hljs-number">80</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> y = <span class="hljs-number"><span class="hljs-number">26</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ Console.SetWindowSize(x + <span class="hljs-number"><span class="hljs-number">1</span></span>, y + <span class="hljs-number"><span class="hljs-number">1</span></span>); Console.SetBufferSize(x + <span class="hljs-number"><span class="hljs-number">1</span></span>, y + <span class="hljs-number"><span class="hljs-number">1</span></span>); Console.CursorVisible = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; }<span class="hljs-comment"><span class="hljs-comment">// Main() }// class Game</span></span></code> </pre><br>  To display our ‚Äúgraphics‚Äù we will create our own data type - point.  It will contain the coordinates and the character that will be displayed on the screen.  We will also make methods for displaying a point on the screen and its ‚Äúerasure‚Äù. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> Point{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> y { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> ch { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">implicit</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">operator</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Point</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span></span><span class="hljs-function">) </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">value</span></span></span><span class="hljs-function">)</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Point {x = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>.Item1, y = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>.Item2, ch = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>.Item3}; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Draw</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ DrawPoint(ch); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Clear</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ DrawPoint(<span class="hljs-string"><span class="hljs-string">' '</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DrawPoint</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> _ch</span></span></span><span class="hljs-function">)</span></span>{ Console.SetCursorPosition(x, y); Console.Write(_ch); } }</code> </pre> <br><blockquote>  <b>It is interesting!</b> <br>  The =&gt; operator is called a lambda operator, it is used as a definition of anonymous lambda expressions, and as a <a href="https://docs.microsoft.com/ru-ru/dotnet/csharp/language-reference/operators/lambda-operator">body consisting of a single expression</a> , syntactic sugar, replacing the return operator.  The above method for redefining an operator (about its purpose below) can be rewritten as follows: <br><br><pre> public static bool operator == (Point a, Point b) {
     if (ax == bx &amp;&amp; ay == by) {
         return true;
     }
     else {
         return false;
     }
 } </pre><br></blockquote><br>  Create a class of walls, the boundaries of the playing field.  Let's write 2 methods to create vertical and horizontal lines, and in the constructor we call the drawing of all 4 sides with the specified symbol.  A list of all points in the wall will come in handy later. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Walls</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> ch; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> List&lt;Point&gt; wall = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;Point&gt;(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Walls</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> y, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ch</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.ch = ch; DrawHorizontal(x, <span class="hljs-number"><span class="hljs-number">0</span></span>); DrawHorizontal(x, y); DrawVertical(<span class="hljs-number"><span class="hljs-number">0</span></span>, y); DrawVertical(x, y); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DrawHorizontal</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> y</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; x; i++){ Point p = (i, y, ch); p.Draw(); wall.Add(p); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DrawVertical</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> y</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; y; i++) { Point p = (x, i, ch); p.Draw(); wall.Add(p); } } }<span class="hljs-comment"><span class="hljs-comment">// class Walls</span></span></code> </pre> <br><blockquote>  <b>It is interesting!</b> <br><br>  As you might have noticed, the form Point p = (x, y, ch) is used to initialize the Point data type;  as with built-in types, this becomes possible when overriding the implicit operator, which describes how variables are set. <br></blockquote><br><blockquote>  <b>Important!</b> <br><br>  The construction (int, int, char) is called a tuple, and works only with .net 4.7+, so if you have not installed visual studio, then you only have the v4.0.30319 compiler and you need to use standard initialization through the new operator. <br></blockquote><br>  Let's go back to the Game class and declare the walls field, and initialize it in the Main method. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Game</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Walls walls; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ walls = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Walls(x, y, <span class="hljs-string"><span class="hljs-string">'#'</span></span>); ...</code> </pre> <br>  Everything!  You can compile the code and see what our field is built, and the easiest part is behind. <br><br><h4>  Chapter 3. What about breakfast today? </h4><br>  Add the generation of food in our field, for this we create a class FoodFactory, which will be engaged in the creation of food within the borders. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">FoodFactory</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> y; <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> ch; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Point food { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } Random random = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Random(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FoodFactory</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> y, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ch</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.x = x; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.y = y; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.ch = ch; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CreateFood</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { food = (random.Next(<span class="hljs-number"><span class="hljs-number">2</span></span>, x - <span class="hljs-number"><span class="hljs-number">2</span></span>), random.Next(<span class="hljs-number"><span class="hljs-number">2</span></span>, y - <span class="hljs-number"><span class="hljs-number">2</span></span>), ch); food.Draw(); } }</code> </pre> <br>  Add factory initialization and create food on the field. <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Game</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> FoodFactory foodFactory; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ foodFactory = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FoodFactory(x, y, <span class="hljs-string"><span class="hljs-string">'@'</span></span>); foodFactory.CreateFood(); ...</code> </pre> <br>  Dinner is served! <br><br><h4>  Chapter 4. The time of the protagonist </h4><br>  Let us proceed to the creation of the snake itself, and for the beginning we will determine the transfer direction of the snake. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> Direction{ LEFT, RIGHT, UP, DOWN }</code> </pre> <br>  Now we can create a class of snake, where we describe how it will crawl, turn.  We define the list of points of the snake, our enumeration, the step on how much will move during the course, and links to the tail and the head points, and the designer, in which we draw the snake in the given coordinates and given length at the start of the game. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Snake</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> List&lt;Point&gt; snake; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Direction direction; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> step = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Point tail; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Point head; <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> rotate = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Snake</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> y, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> length</span></span></span><span class="hljs-function">)</span></span>{ direction = Direction.RIGHT; snake = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;Point&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = x - length; i &lt; x; i++) { Point p = (i, y, <span class="hljs-string"><span class="hljs-string">'*'</span></span>); snake.Add(p); p.Draw(); } } <span class="hljs-comment"><span class="hljs-comment">//         . public Point GetHead() =&gt; snake.Last(); public void Move(){ head = GetNextPoint(); snake.Add(head); tail = snake.First(); snake.Remove(tail); tail.Clear(); head.Draw(); rotate = true; } public Point GetNextPoint() { Point p = GetHead(); switch (direction) { case Direction.LEFT: px -= step; break; case Direction.RIGHT: px += step; break; case Direction.UP: py -= step; break; case Direction.DOWN: py += step; break; } return p; } public void Rotation(ConsoleKey key) { if (rotate) { switch (direction) { case Direction.LEFT: case Direction.RIGHT: if (key == ConsoleKey.DownArrow) direction = Direction.DOWN; else if (key == ConsoleKey.UpArrow) direction = Direction.UP; break; case Direction.UP: case Direction.DOWN: if (key == ConsoleKey.LeftArrow) direction = Direction.LEFT; else if (key == ConsoleKey.RightArrow) direction = Direction.RIGHT; break; } rotate = false; } } }//class Snake</span></span></code> </pre> <br>  In the rotation method, in order to avoid the possibility of turning 180 degrees at once, we simply indicate that in each direction we can only turn in 2 directions.  And the problem of turning 180 degrees with two taps - by setting the "switch", we turn off the ability to turn after the first press, and turn it on after the next turn. <br><br>  It remains to display it on the screen. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Game</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Snake snake; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ snake = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Snake(x / <span class="hljs-number"><span class="hljs-number">2</span></span>, y / <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>); ...</code> </pre><br>  Done!  now we have everything we need, a field enclosed by walls, randomly appearing food, and a snake.  It's time to make it all interact with each other. <br><br><h4>  Chapter 5. L-Logic </h4><br>  Let's make our snake move, write an infinite loop to read the keys pressed on the keyboard, and pass the key to the snake rotation method <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Game</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-literal"><span class="hljs-literal">true</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Console.KeyAvailable) { ConsoleKeyInfo key = Console.ReadKey (); snake.Rotation(key.Key); } ...</code> </pre> <br>  for the movement of the snake, we use the class .net which will launch the Loop method at certain intervals. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Threading; <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Game</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Timer time; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { time = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Timer (Loop, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">200</span></span>); ...</code> </pre> <br>  Now, before writing the snake movement method, it is necessary to realize the interaction of the head with the food, walls and tail of the snake.  To do this, you need to write a method that allows you to compare two points on the coincidence of coordinates.  Let's redefine the operator of equality and non-equality, they must be redefined in a pair. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> Point { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span> == (Point a, Point b) =&gt; (ax == bx &amp;&amp; ay == <span class="hljs-keyword"><span class="hljs-keyword">by</span></span>) ? <span class="hljs-literal"><span class="hljs-literal">true</span></span> : <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span> != (Point a, Point b) =&gt; (ax != bx || ay != <span class="hljs-keyword"><span class="hljs-keyword">by</span></span>) ? <span class="hljs-literal"><span class="hljs-literal">true</span></span> : <span class="hljs-literal"><span class="hljs-literal">false</span></span>; ...</code> </pre> <br>  Now you can write a method that will check whether the point of interest coincides with any of the array of walls. <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Walls</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IsHit</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Point p</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> wall) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (p == w) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } ...</code> </pre> <br>  And a similar method checking doesn‚Äôt match the point with the tail. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Snake</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IsHit</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Point p</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = snake.Count - <span class="hljs-number"><span class="hljs-number">2</span></span>; i &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>; i--) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (snake[i] == p) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } ...</code> </pre> <br>  And by checking whether our snake ate the food, and immediately make it longer. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Snake</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Eat</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Point p</span></span></span><span class="hljs-function">)</span></span> { head = GetNextPoint (); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (head == p) { snake.Add (head); head.Draw (); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } ...</code> </pre> <br>  Now you can write a method of movement, with all the necessary checks. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Snake</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Loop</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> obj</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (walls.IsHit (snake.GetHead ()) || snake.IsHit (snake.GetHead ())) { time.Change (<span class="hljs-number"><span class="hljs-number">0</span></span>, Timeout.Infinite); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (snake.Eat (foodFactory.food)) { foodFactory.CreateFood (); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { snake.Move (); } } ...</code> </pre> <br>  That's all!  Our snake in the console is finished and you can play. <br><img src="https://habrastorage.org/webt/i_/hv/kk/i_hvkkep0s0hb_0bnz83ufkorkc.gif"><br><br><h4>  Conclusion </h4><br>  We looked at how to implement the first simple game with a little use of OOP, learned how to overload the operators, looked at the tuples and the lambda operator, I hope this was useful! <br><br>  It was a pilot article, and if you liked it, I will write about the implementation of the snake on Unity. <br>  Good luck to all! </div><p>Source: <a href="https://habr.com/ru/post/348262/">https://habr.com/ru/post/348262/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../348250/index.html">As I accelerated the work of the sales department more than 20 times</a></li>
<li><a href="../348252/index.html">Castle or City</a></li>
<li><a href="../348254/index.html">Dart Summit 2018: basic thoughts</a></li>
<li><a href="../348258/index.html">W3View - Javascript library for which HTML was created.</a></li>
<li><a href="../348260/index.html">The combination of R and Python: why, when and how?</a></li>
<li><a href="../348264/index.html">Richard Hamming: Chapter 9. N-Dimensional Space</a></li>
<li><a href="../348268/index.html">Lightning Network: Solution for the last kilometer</a></li>
<li><a href="../348270/index.html">Another reality of the financial market</a></li>
<li><a href="../348272/index.html">The sum of the sums of arithmetic progressions</a></li>
<li><a href="../348276/index.html">Richard Hamming: Chapter 14. Digital Filters - 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>