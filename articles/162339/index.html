<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>zsh and bash: what to choose</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For those who are not familiar with Z Shell, as well as those who are at the crossroads in choosing a shell for everyday tasks, this article is dedica...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>zsh and bash: what to choose</h1><div class="post__text post__text-html js-mediator-article">  For those who are not familiar with Z Shell, as well as those who are at the crossroads in choosing a shell for everyday tasks, this article is dedicated. <br>  I must say, quite a lot of material has already been written about the benefits of zsh.  As for this modest note, it is intended to show the reader the capabilities of both shells with specific examples of configuration files.  The emphasis is on zsh, because, as the author understands, bash is usually suitable for initial use, it is better not to use zsh without your own settings. <br>  Full author configuration files can be picked up from <a href="https://github.com/redVi/dotfiles/tree/master/shell">github</a> . <a name="habracut"></a><br><br>  <b>I. Best in shell - autocompletion</b> <br><br>  There is autocompletion in bash too, in our time you won‚Äôt surprise anyone.  Especially good in this sense is bash-completion, which allows you to not only complement directory paths, but also effectively search for packages to be installed.  If you have not previously used it, my advice to you: be sure to install it.  Additional settings for this package is not required. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Zsh might surprise you, it really is.  Perhaps auto-completion is one of its strengths.  Immediately you need to note the fact that zsh is modular and to expand its capabilities you need to connect or in some cases install the necessary modules.  In addition, you cannot do without individual configuration in zsh: modules will need to be included in your .zshrc.  Let us turn to practical examples. <br>  For ArchLinux, it‚Äôs better to install packages like bash-completion right away, which will allow you to use autocompletion in searching for packages with pacman and AUR: these are zsh-yaourt and zsh-packer.  You can find them in the same AUR.  Let's connect our autocompletion: <br><br><pre><code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#  autoload -U compinit promptinit compinit promptinit #  pacman [[ -a $(whence -p pacman-color) ]] &amp;&amp; compdef _pacman pacman-color=pacman #   setopt CORRECT_ALL #     ,    SPROMPT="!  %r  %R? ([Y]es/[N]o/[E]dit/[A]bort) " #     cd #         setopt autocd #         zstyle ':completion:*' menu select=long-list select=0 zstyle ':completion:*:default' list-colors ${(s.:.)LS_COLORS}</span></span></code> </pre> <br><br>  Already not bad, right?  Honestly, I was not tempted by the prospect of a transition to zsh, because in general I was satisfied with bash.  But the experiment showed: zsh is very convenient. <br><br>  <b>Ii.</b>  <b>Hotkeys</b> <br>  As far as I know, in bash hotkeys are not subject to change.  However, it is possible that I am mistaken.  These are the keys of the emacs editor known to all Linux users.  They are taken as a basis and will work on any machine where bash is installed.  Of course, no one will forbid you to use the arrows to move between characters or the delete key to delete a character ‚Äî this is also in bash, and it does not need to be configured either. <br><br>  Let's turn to zsh.  Yes, as you probably already guessed: in zsh everything needs to be customized.  Of course, it would be terrible if we had to customize every key - not at all!  You can choose one of two styles, based on the more familiar to you: vi mode or emacs mode. <br>  Recommendation: choose emasc to confidently use hotkeys on any machine with any shell, besides, bash is the most popular one all the same - be guided by it. <br>  Of course, you can customize individual keyboard shortcuts as you like. <br>  Example: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">bindkey</span></span> <span class="hljs-string"><span class="hljs-string">'\e[3~'</span></span> delete-char <span class="hljs-comment"><span class="hljs-comment"># del bindkey ';5D' backward-word # ctrl+left bindkey ';5C' forward-word #ctrl+right</span></span></code> </pre><br><br>  <b>Iii.</b>  <b>Aliases</b> <br>  It is very convenient to use aliases of various commands.  Aliases are finely tuned in both bash and zsh.  The difference is that in zsh you can use not only commands, but also assign file type extensions to individual applications.  How is this useful?  Thanks to this feature, zsh can even replace your file manager.  See for yourself: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># Aliases alias ls='ls --color=auto' alias grep='grep --colour=auto' alias -s {avi,mpeg,mpg,mov,m2v}=mplayer alias -s {odt,doc,sxw,rtf}=openoffice.org autoload -U pick-web-browser alias -s {html,htm}=chromium</span></span></code> </pre><br><br>  Note the lines starting with <i>alias -s</i> .  Now imagine: you are in the document directory and there is one or more of them with the .html extension.  What do we usually do?  Launch the browser, press Ctrl + O, select the file and view it.  What do zsh aliases do?  Just write the name of the document and it will be immediately opened in the browser. <br>  To do this, a separate pick-web-browser module is first loaded. <br><br>  <b>Iv.</b>  <b>Command history</b> <br>  And, of course, no user will challenge the usability of command history.  Here, zsh is nothing special than bash.  Configure it: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># History #      export HISTFILE=~/.zsh_history #   ,    export HISTSIZE=1000 export SAVEHIST=$HISTSIZE #    setopt APPEND_HISTORY #   ,    . setopt HIST_IGNORE_ALL_DUPS setopt HIST_IGNORE_SPACE setopt HIST_REDUCE_BLANKS</span></span></code> </pre><br><br>  <b>V. Other amenities</b> <br>  For zsh, there is one more curious thing: the zsh-syntax-highlighting plugin.  ArchLinux users can install it from AUR, the rest can be downloaded from the project of the same name on github.  Put it, and your terminal emulator will sparkle with new colors. <br>  Initially, it is focused on any terminals - not only supporting 256 colors, so some colors may not look the way we like, but it can be fixed.  The main file with the color settings is located on the path: <br>  <u>/usr/share/zsh/plugins/zsh-syntax-highlight/highlighters/main/main-highlighter.zsh</u> .  But there is no need to edit it directly (thanks, <b>ZyXI</b> for pointing out an error). <br>  Change the colors as you need in .zshrc and activate the plugin. <br>  <u>Example:</u> <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># zsh-syntax-highlighting from AUR typeset -A ZSH_HIGHLIGHT_STYLES ZSH_HIGHLIGHT_STYLES=( 'alias' 'fg=153,bold' 'builtin' 'fg=153' 'function' 'fg=166' 'command' 'fg=153' 'precommand' 'fg=153, underline' 'hashed-commands' 'fg=153' 'path' 'underline' 'globbing' 'fg=166' ) source /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh</span></span></code> </pre><br><br>  Also in zsh there is a very popular way of packing / unpacking archives.  Enter the command extract myfile.tar - unpack the archive, enter the command pk tar myfile - pack the file into the archive of the specified format.  So zsh can replace archiver? <br><br>  To unpack, we enter in .zhsrc: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#   # example: extract file extract () { if [ -f $1 ] ; then case $1 in *.tar.bz2) tar xjf $1 ;; *.tar.gz) tar xzf $1 ;; *.bz2) bunzip2 $1 ;; *.rar) unrar x $1 ;; *.gz) gunzip $1 ;; *.tar) tar xf $1 ;; *.tbz2) tar xjf $1 ;; *.tbz) tar -xjvf $1 ;; *.tgz) tar xzf $1 ;; *.zip) unzip $1 ;; *.Z) uncompress $1 ;; *.7z) 7z x $1 ;; *) echo "I don't know how to extract '$1'..." ;; esac else echo "'$1' is not a valid file" fi }</span></span></code> </pre><br><br>  To create archives: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#   # example: pk tar file pk () { if [ $1 ] ; then case $1 in tbz) tar cjvf $2.tar.bz2 $2 ;; tgz) tar czvf $2.tar.gz $2 ;; tar) tar cpvf $2.tar $2 ;; bz2) bzip $2 ;; gz) gzip -c -9 -n $2 &gt; $2.gz ;; zip) zip -r $2.zip $2 ;; 7z) 7z a $2.7z $2 ;; *) echo "'$1' cannot be packed via pk()" ;; esac else echo "'$1' is not a valid file" fi }</span></span></code> </pre> <br><br>  <b>Vi.</b>  <b>Results</b> <br>  Zsh is very convenient for everyday work and does a good half of the routine for you.  But pay attention to the differences between these two shells.  For example, in zsh after for it is necessary to insert a space, the numbering of arrays in zsh begins with 1, which is completely impossible to understand. <br>  So, if you use the shell for everyday work that excludes scripting, use zsh.  If you often have to write your own scripts, just bash!  However, you can combine. <br>  How to set zsh as the default shell for a single user: <br><br> <code>$ chsh -s /bin/zsh your_user</code> </div><p>Source: <a href="https://habr.com/ru/post/162339/">https://habr.com/ru/post/162339/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../162327/index.html">Google Analytics: download advertising cost data from external sources</a></li>
<li><a href="../162329/index.html">Connecting and working with MySQL in VB.NET</a></li>
<li><a href="../162333/index.html">AR Drone - quadcopter intercepting communication of other quadcopters</a></li>
<li><a href="../162335/index.html">iTunes In-App Purchases from server side</a></li>
<li><a href="../162337/index.html">Trend Watching: 10 major trends in 2013. Part 2</a></li>
<li><a href="../162341/index.html">Features of working with time in different time zones</a></li>
<li><a href="../162343/index.html">Runetology (177): Levon Oganesyan, Founder of the Delivery Club</a></li>
<li><a href="../162345/index.html">AWS Insight: Reservations for EC2 - how it works</a></li>
<li><a href="../162347/index.html">Saving files from the Internet to Google Drive</a></li>
<li><a href="../162351/index.html">Broadcast Final Selection Skolkovo MD</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>