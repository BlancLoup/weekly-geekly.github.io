<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We will help the person to compare pictures, or about Testing Localization of the application</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day, ladies and gentlemen! 

 It will be about testing, more precisely, even about localization testing. 
 Although in general it can be applied ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We will help the person to compare pictures, or about Testing Localization of the application</h1><div class="post__text post__text-html js-mediator-article">  Good day, ladies and gentlemen! <br><br>  It will be about testing, more precisely, even about localization testing. <br>  Although in general it can be applied to the task of facilitating the search for the difference in two images. <br><br><img src="https://habrastorage.org/storage2/ae6/514/06b/ae651406bb6c03c5e11ad5c7f8d50d5b.gif">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br>  I finally decided to show people one of my ideas, there is a chance that someone could come in handy. <br><br>  <b>The task:</b> <br>  There is an application, its desktop interface is translated into many languages, you need to check that everything is translated, in all languages. <br>  Already alarming, how can I check the correctness of localization without knowing the language? <br>  (According to the conditions of reality - we cannot extort texts from the controls, i.e. it is impossible to verify that the necessary text is in the right control, and this is not correct, but what if there is a rake with fonts, or it does not fit onto the screen) <br><br>  To simplify life, we make a script that receives screenshots of the application with all possible texts, in all languages ‚Äã‚Äã(in our case, under 200 screenshots per application). <br><br>  At its output we have a folder with the name of the language and a bunch of screenshots. <br>  Now we need to analyze. <br>  In theory, it is expected that a person will look through this whole pile, and looking at strange inscriptions in a foreign language, will he evaluate everything is in order ... <br>  This is a reality, but we will try to make the life of such a person easier. <br><br>  <b>Idea</b> <br>  There is one language quite familiar to a person in the language set, usually english, and usually the person knows the application in that language quite well. <br>  Let's ‚Äúcompare‚Äù a known language with an ‚Äúunknown‚Äù, then it is easier to understand what is expected in the picture. <br>  So  in the simplest case - we house in the ‚Äúunknown‚Äù language - known <br>  eg <br><br>  There were screenshots <br>  001-danish.png <br>  002-danish.png <br>  etc <br><br>  We mix english <br>  We get something like <br>  001-danish.png <br>  001-english.png <br>  002-danish.png <br>  002-english.png <br><br>  Now a person can consistently compare pictures, and if necessary switching between them, ‚Äúcompare‚Äù while knowing the context - it is easier to understand that something is wrong. <br><br>  In general, it is already easier. <br><br>  <b>idea development</b> <br>  There is still a trifle, it would be nice to see that you forgot to translate something, i.e.  the text remains deflotny, usually it is english. <br>  Just sticking between the languages ‚Äã‚Äãyou can and miss. <br><br>  But then the second idea was born, and let's help the person, let's highlight different areas in the picture.  a person knows where to look, and catches the eye that they did not transfer. <br><br>  <b>What it looks like.</b> <br><img src="https://habrastorage.org/storage2/165/a9d/974/165a9d974e4a26b7ab2719554a0347b1.gif"><br><br><img src="https://habrastorage.org/storage2/86c/bc5/43d/86cbc543d1f3aeab8cd5453e5479fc7a.gif"><br><br>  And here you can see that there is no translation from Album Artist, Composer and Discnumber <br><img src="https://habrastorage.org/storage2/4c2/f5a/3e8/4c2f5a3e8a9839eec6f069979120a2bc.gif"><br><br>  This ‚Äúbeauty‚Äù is done with the help of imagemagic <br>  only using composite functions. <br><br>  Here is the ruby ‚Äã‚Äã+ rmagic function script <br><br><pre><code class="ruby hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CompareImage_v2</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(file1,file2,outname1,outname2)</span></span></span></span> f1 = Magick::Image.read(file1).first f2 = Magick::Image.read(file2).first difference = f1.composite(f2, Magick::CenterGravity, Magick::DifferenceCompositeOp) <span class="hljs-comment"><span class="hljs-comment"># Make a blurry copy. blurry = difference.blur_image(0.0,4.5) mask = blurry.threshold(Magick::QuantumRange*0.02) mask2 = mask.edge(1) mask2 = mask2.level_colors("black", "red", true) # change blob color result=f1.composite(mask, Magick::CenterGravity, Magick::DifferenceCompositeOp) result=result.composite(mask2, Magick::CenterGravity, Magick::DifferenceCompositeOp) result.write(outname1) { self.quality = $image_quality } result=f2.composite(mask, Magick::CenterGravity, Magick::DifferenceCompositeOp) result=result.composite(mask2, Magick::CenterGravity, Magick::DifferenceCompositeOp) result.write(outname2) { self.quality = $image_quality } GC.start #memory leak fix end</span></span></code> </pre> <br><br>  In theory, it can be done on a pure console imagemagic - IMHO ruby ‚Äã‚Äãversion suits me more than;) <br><br>  Far from perfect <br>  He solves a SPECIFIC task <br>  The essential limitation is that the windows should be the same in all languages, the positions of everything in the window should be preserved, and only the text should differ. <br><br>  Full script can be <a href="http://pastebin.com/3GzxYd8w">viewed</a> <br>  in $ in_folde are in folders like eng, fre, ger screenshots, output to $ out_folder. <br><br>  Checking the cropping of the ends of the lines is also on the person‚Äôs conscience, but usually there is always a ‚Äú.‚Äù At the end of the line, and as a last resort you can enter ‚Äúfakelanguage‚Äù to search for such things. <br><br>  Waiting for your moments and your ways to solve this problem. <br>  ps If necessary, you can write a post how to put rmagic under Windows ... <br><br>  Sincerely, Sergey Erokhin, Kharkov. </div><p>Source: <a href="https://habr.com/ru/post/140971/">https://habr.com/ru/post/140971/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../140963/index.html">Business in the USA from Russia. Part III. Accounting and taxes</a></li>
<li><a href="../140964/index.html">An overview of the online service for working with accounts Tradeshift.com</a></li>
<li><a href="../140965/index.html">Optimization for CPU: how to find a black cat in a dark room</a></li>
<li><a href="../140966/index.html">Banim someone else's account on Free-lance.ru</a></li>
<li><a href="../140970/index.html">Alcatel-Lucent's LightRadio: The Death of Traditional Base Stations?</a></li>
<li><a href="../140973/index.html">Top Favorite Media Articles - Editor's Choice in Google News</a></li>
<li><a href="../140974/index.html">Getting photos from android-smartphone right in html form</a></li>
<li><a href="../140976/index.html">Google has released the final version of the programming language Go 1</a></li>
<li><a href="../140977/index.html">Installing a lightpack on a laptop</a></li>
<li><a href="../140979/index.html">Library for registering and catching hotkeys</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>