<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Alteration of the push-button radio switch to touch</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I had long dreamed of installing a touch switch at home, the dream came true when I was presented with an inexpensive FD Electronics touch switch. Loo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Alteration of the push-button radio switch to touch</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/9ae/618/0f6/9ae6180f6c1b473096723fec1a723ce9.jpg"><br><br>  I had long dreamed of installing a touch switch at home, the dream came true when I was presented with an inexpensive FD Electronics touch switch.  Looks nice, works great.  But this is just a switch, and I have a smart home based on Z-Wave and of course I wanted to integrate it into my system. <br><br>  FD Electronics, Livolo and DeLumo have radio switches operating at 433 MHz and 868 MHz, respectively, but integrating them into a smart home will not work.  These switches work only with the consoles of the same manufacturers, there is no control from the computer, there is no feedback, i.e.  if someone turns on the light, I won't find out. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      It was decided to cross a <s>hedgehog with a snake</s> my push-button radio switch Z-Wave.Me Dimmer with a touch switch FD Electronics.  Having studied the schemes of both switches, I decided to throw out the power section of the touch switch and use only the case and the touch panel, and take the power and radio part from my Z-Wave switch.  The essence of the rework is to replace the mechanical buttons on the touch, this method fits to the switch of any technology. <br><br><a name="habracut"></a><br>  The most popular chip for creating a touch button is the <a href="http://www.seeedstudio.com/depot/datasheet/TTP223_SPEC.pdf">TTP-223</a> .  The main feature of the TTP-223 is the ability to auto-calibrate.  When power is applied, the microcircuit measures the capacitance on the sensor <b>I</b> leg and takes it as 0, which is convenient since there is no need to adjust anything.  When touching the sensor, voltage appears on the <b>Q</b> leg, there we connect the load (LED, relay, optocoupler). <br><img src="https://habrastorage.org/files/5cf/fae/2c0/5cffae2c02de4f15ba52058c3b5abc45.png"><br><br>  Using the <b>TOG</b> and <b>AHLB</b> legs, you <b>can</b> adjust the response to touching the sensor.  I set up the switch-on mode by connecting the <b>TOG</b> and <b>AHLB</b> to the ground, which means that when I touch the sensor on <b>Q</b> leg, the voltage appears, when I release the sensor, the voltage disappears.  You can also set the switching mode, then each touch takes the <b>Q</b> leg to the opposite state. <br>  For the TTP-223 test on a breadboard, I assembled a relay control circuit for the Arduino.  It works great. <br><img src="https://habrastorage.org/files/1fb/570/5b4/1fb5705b422c4c75ab75da6fc3590e94.png"><br><br>  To simulate the pressing of physical buttons, I used <a href="http://akizukidenshi.com/download/PC817C.pdf">PC817C</a> optocoupler.  I soldered optocouplers instead of buttons to my dimmer.  When voltage is applied to the optocoupler, it closes; for a dimmer, it is as if the button was pressed.  With the help of LUT, an adapter board was made, on the one hand, the sensor circuit, on the other side of the optocoupler. <br><img src="https://habrastorage.org/files/a13/22a/9fe/a1322a9fe8b64784997a62872d4fbd69.jpg"><br><br>  Combining this whole sandwich I got a touch-sensitive Z-Wave dimmer.  All tests and assembly took 2 pm.  The switch is installed in the corridor, where it is controlled by a motion sensor, and if you need to forcibly turn it off or on at a certain level of brightness, you can lightly touch the beautiful! <br><img src="https://habrastorage.org/files/63f/204/7d6/63f2047d68e84d4d94c5f544ab1884ff.jpg"><br><br>  Ps.  I decided to use the experience to create a battery-operated touch switch, and I already ordered a touch panel from a Livolo switch with aliexpress, but more on that later. </div><p>Source: <a href="https://habr.com/ru/post/392857/">https://habr.com/ru/post/392857/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../392845/index.html">SpaceX has posted photos of the most successful launch of the Falcon 9 spacecraft in its history</a></li>
<li><a href="../392847/index.html">The project of the Angara A5B heavy launch vehicle approved, which will deliver the Russians to the moon</a></li>
<li><a href="../392851/index.html">Robots-waiters caused the closure of several restaurants in China</a></li>
<li><a href="../392853/index.html">Government experts against measures to combat the ‚Äúmirrors‚Äù of sites proposed by Roskomnadzor</a></li>
<li><a href="../392855/index.html">The future of storage systems</a></li>
<li><a href="../392859/index.html">Robots now steal money from Russian bank cards</a></li>
<li><a href="../392861/index.html">Brew beer in drip coffee maker</a></li>
<li><a href="../392863/index.html">Little secret artist Alexei Leonov</a></li>
<li><a href="../392865/index.html">FLProg + Nextion HMI. Lesson 3</a></li>
<li><a href="../392867/index.html">The Chinese have edited the DNA of a human embryo a second time.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>