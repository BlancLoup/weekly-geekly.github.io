<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How many technologies does Yandex need for a search to find fresh documents almost instantly</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Over the past year, Yandex has made significant progress in the quality of searches for queries that require the issuance of relevant documents. Now p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How many technologies does Yandex need for a search to find fresh documents almost instantly</h1><div class="post__text post__text-html js-mediator-article"><p>  Over the past year, Yandex has made significant progress in the quality of searches for queries that require the issuance of relevant documents.  Now popular documents for the most part fall into the search results for relevant queries almost immediately after publication. </p><br><p> <a href="https://habrahabr.ru/company/yandex/blog/329946/"><img src="https://habrastorage.org/web/e61/64b/75c/e6164b75c85e4b529432ec4b59852e93.png"><br></a> <br>  This is not easy to achieve, because the addition of newly created documents to search results, as a rule, contradicts other important user metrics: relevance, authority, etc.  Today we have decided for the first time to talk about the basic technologies that allow to use fresh documents in the Search. </p><br><h1 id="1-pochemu-svezhest">  <strong>1. Why freshness?</strong> </h1><br><p>  The interest in any event within a few days fades to almost zero, unless, of course, this event receives any further development.  We <a href="https://research.yandex.ru/lib/publications/12/">conducted a study</a> from which this statement was born: it turns out that, on average, 73% of users are interested in an event directly on the day it happened, and only 3% of readers come to resources three days or more after publication.  Many years have passed since the conduct of this study, but in general the situation has not changed.  And even articles on habrahabr.ru receive the largest number of search transitions in the first few days of their existence. </p><a name="habracut"></a><br><p>  Freshly demonstrated freshness is an important feature not only for web search.  Freshness is also needed in the search for pictures and videos, search prompts;  Of course, in the news aggregators and the media.  What is really there: even in the cinema, in most situations we go to a new film, and not to a long time ago! </p><br><p>  The importance of refreshing search results for the search engine is difficult to overestimate.  In order to achieve good freshness, you need to solve many problems: to build a content system that finds and adds new documents to the index in real time, learn how to predict which users need to show fresh documents for which requests, determine the best of these documents.  Of course, all these tasks are solved using machine learning methods. </p><br><p>  This article describes some of our approaches to solving these problems.  And on the eighth of June, our office will host a meeting of <a href="https://events.yandex.ru/events/meetings/08-jun-2017/%3Futm_source%3Dhabr%26utm_medium%3Darticle%26utm_campaign%3Dsearchevent">Yandex from the inside</a> , at which, among other things, there will be a report on freshness.  We will consider the most difficult of the problems that arise - the task of speeding up the reaction to current events.  Sign up for an event <a href="https://events.yandex.ru/events/meetings/08-jun-2017/%3Futm_source%3Dhabr%26utm_medium%3Darticle%26utm_campaign%3Dsearchevent">at this link</a> . </p><br><h2 id="11-kak-ponyat-chto-svezhest-nuzhna">  <strong>1.1.</strong>  <strong>How to understand that freshness is needed</strong> </h2><br><p>  In one way or another, freshness is needed in 10-20% of the requests that users specify in Yandex. </p><br><p>  First of all, this "event" requests.  When something happens in the world, users come to Search to find out the details of the event.  Different events are quite different from each other both in terms of user interest, and in terms of the necessary development. </p><br><p>  Consider, for example, a graph of the number of clicks on fresh documents during the elections in September 2016: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/web/cb1/23f/091/cb123f0913534d3cbcce0233d668c047.png" alt="image"></div><br><p>  It is clearly seen that on election day, the need for fresh gradually increased until it reached its peak at 22:00.  The next day, an increased interest in fresh was maintained, but after a day returned to about normal values.  In other words, the interest in an event changes over time.  Therefore, the first idea, useful for determining the need for fresh - ‚Äúif some requests suddenly start asking more often, probably something happened, and users should show fresh documents‚Äù.  The considered situation is also interesting for one more reason: we forecasted the interest in the fresh, because  the election date was known long before they were held. </p><br><p>  It so happens that the events are greatly stretched in time.  An example of such an event is the 2016 Olympics: during all competitions, users almost twice as often consumed fresh documents than it does on ordinary days: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/web/4e3/c1c/e46/4e3c1ce462b341c38eb199ad185f3350.png" alt="image"></div><br><p>  In such situations, it is no longer possible to detect interest in freshness, based on a sharp surge in the frequency of requests of a certain subject.  Here another method may come to the rescue: if users really need freshness for some requests, they may need it in the near future. </p><br><p>  The situation when something unexpected happens is quite different.  Unexpected resonant events are usually not associated with anything good, so just look at the charts without reference to dates and specific incidents: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/web/151/5ca/91f/1515ca91f12c4a7999682190d9a67fed.png" alt="image"></div><br><p>  Already in the first half hour after the event, the user interest in fresh grows by almost an order of magnitude.  The share of fresh requests among all requests in the Search at such moments may increase to 25%.  Unexpected events are well detected by a sharp burst of user interest, but such bursts need to be detected within a few minutes after the occurrence.  We have already talked about the <a href="https://habrahabr.ru/company/yandex/blog/189362/">Real Time MapReduce</a> technology, which allows Yandex to process search logs and deliver the results of calculations to Real-time Search. </p><br><h2 id="12-kak-predstavlena-svezhest-v-poiske-yandeksa">  <strong>1.2.</strong>  <strong>How Freshness is Presented in Yandex Search</strong> </h2><br><p>  Now we will talk about how fresh results are presented in search results.  Consider the query ‚ÄúRussia Finland‚Äù, set on May 22, 2017.  This query is indicative, because when responding to it, the Search shows almost all the functional elements associated with the processing of fresh requests. </p><br><p>  Since sports inquiries account for a significant proportion of fresh requests, we provide information on sports matches in a special way.  The user can find out the date and time of the start of the match, the score;  Sometimes we know a link to a live broadcast or video of interesting moments. </p><br><p>  We specifically group the results from news sources, seeking greater attractiveness. </p><br><p>  For other cases, we restrict ourselves to standard search snippets, to which we add color dies with the age of the document.  Sometimes we know that the document contains a video, and we add a preview to the snippet. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/web/b80/757/244/b807572447034688824ad03325c297e2.png" alt="image"></div><br><h2 id="2-kak-svezhest-popadaet-v-poiskovuyu-vydachu">  <strong>2. How Freshness gets into search results</strong> </h2><br><h3 id="21-model-wide-pfound">  <strong>2.1.</strong>  <strong>Wide pFound model</strong> </h3><br><p>  Fresh documents are mixed into the output of the wide pFound model.  This model was at one time proposed for the task of search results diversity, you can look at the corresponding <a href="https://habrahabr.ru/users/yafinder/" class="user_link">yafinder</a> report on YaC'2011 dedicated to this: <a href="https://events.yandex.ru/lib/talks/12/">https://events.yandex.ru/lib/talks/12/</a> .  It turned out that the model is suitable for a wider range of tasks, in particular, for mixing up fresh results. </p><br><p>  In this model, we assume that the user, by specifying a specific search query, means one of the intents (interests, topics, ...).  For example, by asking for a jaguar, the user may mean a car, drink, or animal.  The query "seals" may suggest the need for relevant pictures, videos, or just articles.  The request "Eurovision" in certain moments certainly requires the most relevant (fresh!) News about the course of the competition or preparation for it, in others the more likely need is the Wikipedia page with a list of the winners of previous years.  Among intents, special emphasis should be emphasized, which we denote <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo>&amp;#x2217;</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="1.335ex" viewBox="0 -520.7 500.5 574.6" role="img" focusable="false" style="vertical-align: 0.079ex; margin-bottom: -0.204ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-2217" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>‚àó</mo></math></span></span><script type="math/tex" id="MathJax-Element-1"> * </script>  - this is the ‚Äúall else‚Äù intent, which corresponds to the usual organic issue. </p><br><p>  The task of a search engine is to select for each user and his query a set of suitable intents, and then correctly compile the output from the documents relevant to these intents.  In the wide pFound model, we believe that each of the intentions corresponds to a certain weight, denoting the probability of user interest to this particular intention, and for each document on issue, the vector of its relevance for all considered intents is known.  Then, for each intent, it is possible to calculate the pFound metric - the probability that our output responds to the user's request, if he meant this particular intent.  Wide pFound is a metric equal to the sum of weighted pFound intensities for each of the intents: </p><br><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>w</mi><mi>p</mi><mi>F</mi><mi>o</mi><mi>u</mi><mi>n</mi><mi>d</mi><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></msubsup><mi>i</mi><msub><mi>w</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>p</mi><mi>F</mi><mi>o</mi><mi>u</mi><mi>n</mi><msub><mi>d</mi><mi>i</mi></msub><mo>,</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="38.137ex" height="2.78ex" viewBox="0 -780.1 16419.9 1197.1" role="img" focusable="false" style="vertical-align: -0.969ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-77" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-70" x="716" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-46" x="1220" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-6F" x="1969" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-75" x="2455" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-6E" x="3027" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-64" x="3628" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-3D" x="4429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-73" x="5735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-75" x="6205" y="0"></use><g transform="translate(6777,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-6D" x="1242" y="499"></use><g transform="translate(878,-308)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-31" x="1124" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-69" x="8904" y="0"></use><g transform="translate(9250,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-69" x="1013" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-63" x="10561" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-64" x="10994" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-6F" x="11518" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-74" x="12003" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-70" x="12365" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-46" x="12868" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-6F" x="13618" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-75" x="14103" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-6E" x="14676" y="0"></use><g transform="translate(15276,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-64" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-69" x="736" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-2C" x="16141" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>w</mi><mi>p</mi><mi>F</mi><mi>o</mi><mi>u</mi><mi>n</mi><mi>d</mi><mo>=</mo><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></msubsup><mi>i</mi><msub><mi>w</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>p</mi><mi>F</mi><mi>o</mi><mi>u</mi><mi>n</mi><msub><mi>d</mi><mi>i</mi></msub><mo>,</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-2"> wpFound = \ sum_ {i = 1} ^ m iw_i \ cdot pFound_i, </script></p><br><p>  Where <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>p</mi><mi>F</mi><mi>o</mi><mi>u</mi><mi>n</mi><msub><mi>d</mi><mi>i</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.86ex" height="2.419ex" viewBox="-38.5 -780.1 3814.8 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-70" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-46" x="503" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-6F" x="1253" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-75" x="1738" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-6E" x="2311" y="0"></use><g transform="translate(2911,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-64" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-69" x="736" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi><mi>F</mi><mi>o</mi><mi>u</mi><mi>n</mi><msub><mi>d</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-3"> pFound_i </script>  - the probability to find the relevant document in the issue, if the user had in mind <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.802ex" height="1.937ex" viewBox="0 -728.2 345.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-69" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi></math></span></span><script type="math/tex" id="MathJax-Element-4"> i </script>  th intent. </p><br><p>  Let, for example, on some query, the weight of the freshness intensity be 0.9, and the relevance of the documents correspond to the following table. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/web/c48/dd7/138/c48dd713809e41abaa4352344a481904.png" alt="image"></div><br><p> Then, from the point of view of wide pFound, the rearrangement of documents shown in the table below will be optimal.  Despite the fact that the relevance of fresh documents in this case is greater, in terms of diversity it is advantageous to put ordinary documents in third and fourth positions, since  fresh intent is already highly satisfied with the first two results.  As we see, the wide pFound model represents some approach to forming search results from disparate sources, and the task is reduced to determining the weights of the intents and the relevance of documents to these intents. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/web/189/95a/238/18995a238afc46d9a2dc79564df83218.png" alt="image"></div><br><p>  Historically, in Freshness we call the task of determining the weight of fresh intent the task of <em>detecting fresh</em> .  The second task is the standard task of ranking documents, in our case fresh ones. </p><br><h3 id="22-obuchenie-po-klikam">  <strong>2.2.</strong>  <strong>Click training</strong> </h3><br><p>  The set of documents intended for fresh rankings is changing by the minute: new documents appear, old ones disappear.  Because of this, difficulties arise with the use of estimates obtained in the past, since  and the factors and scores of documents change over time.  For example, at 12:00 pm, the news that somewhere there was a fire may be relevant, and at 14:00 it will not, because the fire has already been localized by that time.  Therefore, in order to assess the relevance of a fresh issue at 14:00, one cannot manage to evaluate only new documents: it is necessary to revise the relevance of absolutely all fresh documents on issue. </p><br><p>  Because of this, it turns out to be difficult to have a large, up-to-date, valued set of ‚Äúrequest-document‚Äù marked up pairs in the fresh ranking.  A breakthrough as a fresh ranking was achieved when we learned to use additional sources of information for training.  The main one is the user signal, clicks on search results. </p><br><h3 id="221-obuchenie-po-klikam-v-ranzhirovanii">  <strong>2.2.1.</strong>  <strong>Training on clicks in ranking</strong> </h3><br><p>  In most cases, fresh documents are not shown in the first position in the issue, so even to train the simplest classifier that predicts the clickability of a fresh document in the first position is not so easy.  It‚Äôs also impossible to compare neighboring fresh documents: an arbitrarily large number of documents from other sources can be located between the first and second documents of freshness.  Therefore, many of the approaches used for click training in traditional rankings do not work at all for freshness.  We use other methods. </p><br><img src="https://habrastorage.org/web/824/62b/aad/82462baadcbf48f49de2d7ff392e01c7.png" alt="image" align="right"><br><p>  Imagine an issue containing four ordinary documents and three fresh ones, with the clicks occurring on the first fresh and last ordinary documents. </p><br><p>  It can be assumed that the document <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>d</mi><msub><mi>f</mi><mn>1</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.409ex" height="2.419ex" viewBox="0 -780.1 1467.9 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-64" x="0" y="0"></use><g transform="translate(523,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-66" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-31" x="693" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><msub><mi>f</mi><mn>1</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-5"> df_1 </script>  preferable to documents <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>d</mi><msub><mi>f</mi><mn>2</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.409ex" height="2.419ex" viewBox="0 -780.1 1467.9 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-64" x="0" y="0"></use><g transform="translate(523,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-66" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-32" x="693" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><msub><mi>f</mi><mn>2</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-6"> df_2 </script>  and <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>d</mi><msub><mi>f</mi><mn>3</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.409ex" height="2.419ex" viewBox="0 -780.1 1467.9 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-64" x="0" y="0"></use><g transform="translate(523,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-66" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-33" x="693" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><msub><mi>f</mi><mn>3</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-7"> df_3 </script>  but compare <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>d</mi><msub><mi>f</mi><mn>2</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.409ex" height="2.419ex" viewBox="0 -780.1 1467.9 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-64" x="0" y="0"></use><g transform="translate(523,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-66" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-32" x="693" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><msub><mi>f</mi><mn>2</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-8"> df_2 </script>  and <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>d</mi><msub><mi>f</mi><mn>3</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.409ex" height="2.419ex" viewBox="0 -780.1 1467.9 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-64" x="0" y="0"></use><g transform="translate(523,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-66" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-33" x="693" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><msub><mi>f</mi><mn>3</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-9"> df_3 </script>  between themselves is already quite difficult.  But, for example, we can assume that <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>d</mi><msub><mi>f</mi><mn>2</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.409ex" height="2.419ex" viewBox="0 -780.1 1467.9 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-64" x="0" y="0"></use><g transform="translate(523,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-66" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-32" x="693" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><msub><mi>f</mi><mn>2</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-10"> df_2 </script>  still better, because  the current ranking formula prefers it. </p><br><p>  Therefore, you can create a sample in several different ways: </p><br><ol><li>  For the problem of pairwise classification: we will teach the formula to prefer the document <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>d</mi><msub><mi>f</mi><mn>1</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.409ex" height="2.419ex" viewBox="0 -780.1 1467.9 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-64" x="0" y="0"></use><g transform="translate(523,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-66" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-31" x="693" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><msub><mi>f</mi><mn>1</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-11"> df_1 </script>  documents <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>d</mi><msub><mi>f</mi><mn>2</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.409ex" height="2.419ex" viewBox="0 -780.1 1467.9 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-64" x="0" y="0"></use><g transform="translate(523,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-66" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-32" x="693" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><msub><mi>f</mi><mn>2</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-12"> df_2 </script>  and <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>d</mi><msub><mi>f</mi><mn>3</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.409ex" height="2.419ex" viewBox="0 -780.1 1467.9 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-64" x="0" y="0"></use><g transform="translate(523,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-66" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-33" x="693" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><msub><mi>f</mi><mn>3</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-13"> df_3 </script>  . </li><li>  For the problem of pointwise classification or regression: assigned to the positive class <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>d</mi><msub><mi>f</mi><mn>1</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.409ex" height="2.419ex" viewBox="0 -780.1 1467.9 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-64" x="0" y="0"></use><g transform="translate(523,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-66" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-31" x="693" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><msub><mi>f</mi><mn>1</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-14"> df_1 </script>  , and to the negative - <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>d</mi><msub><mi>f</mi><mn>2</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.409ex" height="2.419ex" viewBox="0 -780.1 1467.9 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-64" x="0" y="0"></use><g transform="translate(523,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-66" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-32" x="693" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><msub><mi>f</mi><mn>2</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-15"> df_2 </script>  and <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>d</mi><msub><mi>f</mi><mn>3</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.409ex" height="2.419ex" viewBox="0 -780.1 1467.9 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-64" x="0" y="0"></use><g transform="translate(523,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-66" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-33" x="693" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><msub><mi>f</mi><mn>3</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-16"> df_3 </script>  . </li><li>  For the ranking task: we require the formula to restore order <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>d</mi><msub><mi>f</mi><mn>1</mn></msub><mo>&amp;gt;</mo><mi>d</mi><msub><mi>f</mi><mn>2</mn></msub><mo>&amp;gt;</mo><mi>d</mi><msub><mi>f</mi><mn>3</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.425ex" height="2.419ex" viewBox="0 -780.1 7071.8 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-64" x="0" y="0"></use><g transform="translate(523,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-66" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-31" x="693" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-3E" x="1745" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-64" x="2801" y="0"></use><g transform="translate(3325,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-66" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-32" x="693" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-3E" x="4547" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-64" x="5603" y="0"></use><g transform="translate(6127,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-66" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-33" x="693" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><msub><mi>f</mi><mn>1</mn></msub><mo>&gt;</mo><mi>d</mi><msub><mi>f</mi><mn>2</mn></msub><mo>&gt;</mo><mi>d</mi><msub><mi>f</mi><mn>3</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-17"> df_1> df_2> df_3 </script>  . </li></ol><br><p>  Of course, you can come up with other ways to form training samples.  This is a creative and very exciting process. </p><br><h3 id="222-obuchenie-po-klikam-v-detekcii">  <strong>2.2.2.</strong>  <strong>Training on clicks in detection</strong> </h3><br><p>  Let us consider two learning patterns for detecting fresh ones by clicks that we used at different times.  Each of these schemes solves the problem of the so-called <a href="https://en.wikipedia.org/wiki/Multi-armed_bandit">contextual multi-armed bandits</a> .  The context in this case are the factors calculated by the user query.  Among those related to freshness, it would make sense to mention a few: ‚Äúcontrast‚Äù of the request (for example, the ratio of the frequency of the request for the last day to its frequency for the last week), the number of news written recently on this topic, the CTR of freshness on request and so on. </p><br><p>  Click information can be collected in several ways.  For example, you can use user clicks on all the latest documents: if there is a fresh click, then you need to back up the detector's prediction, because  the triggering was appropriate.  This is a very attractive way, but in practical application it faces a number of difficulties.  The sample turns out to be strongly biased towards the positives of the current formula, and in some cases it is very difficult to understand what the magnitude of reinforcement should be.  For example, if freshness was shown low and there were no clicks, this can be evidence of both a lack of interest in fresh (and in this case, the weight of the intensity must be reduced), and too low a position (and in this case, the weight of the intensity must be increased). </p><br><p>  You can use a special experiment in which freshness is shown on "random" positions.  The freshness intent is a number from zero to one, which can be chosen from a small set ‚Äî say, multiples of 0.05.  Then the task is reduced to the choice of one of 21 different values.  This is the problem of multi-armed bandits.  The response to our choice will be some user behavior on the issue - for example, a click on a result, and the machine learning task will be formulated in terms of choosing the value of the intensity of freshness, for which the probability of this response is maximum.  This method gives very good results, but it has one significant drawback: the very procedure for collecting a click signal greatly worsens the output for users, because  most fresh hits are irrelevant. </p><br><p>  If there is already some formula <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mn>0</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.549ex" height="2.419ex" viewBox="0 -780.1 1097.4 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-46" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-30" x="910" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>F</mi><mn>0</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-18"> F_0 </script>  detection of freshness - selected by assessor estimates or by the method described above - then its value can be changed by a small random variable, and then the optimum value of the change in its prediction can be predicted in the same way as above.  More specifically, we assume that on the current query the formula predicts the weight of the intent. <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mn>0</mn></msub><mo stretchy=&quot;false&quot;>(</mo><mi>f</mi><mi>e</mi><mi>a</mi><mi>t</mi><mi>u</mi><mi>r</mi><mi>e</mi><mi>s</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>i</mi><msub><mi>w</mi><mi>f</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="20.043ex" height="2.78ex" viewBox="0 -832 8629.7 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-46" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-30" x="910" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-28" x="1097" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-66" x="1486" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-65" x="2037" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-61" x="2503" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-74" x="3033" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-75" x="3394" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-72" x="3967" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-65" x="4418" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-73" x="4885" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-29" x="5354" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-3D" x="6022" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-69" x="7078" y="0"></use><g transform="translate(7423,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-66" x="1013" y="-219"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>F</mi><mn>0</mn></msub><mo stretchy="false">(</mo><mi>f</mi><mi>e</mi><mi>a</mi><mi>t</mi><mi>u</mi><mi>r</mi><mi>e</mi><mi>s</mi><mo stretchy="false">)</mo><mo>=</mo><mi>i</mi><msub><mi>w</mi><mi>f</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-19"> F_0 (features) = iw_f </script>  .  Add to this weight a small random supplement: <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi><msub><mi>w</mi><mi>f</mi></msub><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>e</mi><mi>p</mi><mi>s</mi><mi>i</mi><mi>l</mi><mi>o</mi><mi>n</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="14.385ex" height="2.66ex" viewBox="0 -780.1 6193.7 1145.2" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-69" x="0" y="0"></use><g transform="translate(345,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-66" x="1013" y="-219"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-2B" x="1773" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-65" x="3024" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-70" x="3490" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-73" x="3994" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-69" x="4463" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-6C" x="4809" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-6F" x="5107" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-6E" x="5593" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><msub><mi>w</mi><mi>f</mi></msub><mo>+</mo><mtext>&nbsp;</mtext><mi>e</mi><mi>p</mi><mi>s</mi><mi>i</mi><mi>l</mi><mi>o</mi><mi>n</mi></math></span></span><script type="math/tex" id="MathJax-Element-20"> iw_f + \ epsilon </script>  where <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>e</mi><mi>p</mi><mi>s</mi><mi>i</mi><mi>l</mi><mi>o</mi><mi>n</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.942ex" height="2.419ex" viewBox="0 -780.1 3419.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-65" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-70" x="716" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-73" x="1220" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-69" x="1689" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-6C" x="2035" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-6F" x="2333" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-6E" x="2819" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>e</mi><mi>p</mi><mi>s</mi><mi>i</mi><mi>l</mi><mi>o</mi><mi>n</mi></math></span></span><script type="math/tex" id="MathJax-Element-21"> \ epsilon </script>  - value from a small discrete set of values.  For example, <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>e</mi><mi>p</mi><mi>s</mi><mi>i</mi><mi>l</mi><mi>o</mi><mi>n</mi><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x2212;</mo><mn>0.1</mn><mo>,</mo><mn>0.0</mn><mo>,</mo><mo>+</mo><mn>0.1</mn></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="25.319ex" height="2.419ex" viewBox="0 -780.1 10901.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-65" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-70" x="716" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-73" x="1220" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-69" x="1689" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-6C" x="2035" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-6F" x="2333" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-6E" x="2819" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-69" x="3669" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-6E" x="4015" y="0"></use><g transform="translate(4615,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-2212" x="0" y="0"></use><g transform="translate(778,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-31" x="779" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-2C" x="2058" y="0"></use><g transform="translate(2503,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-30" x="779" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-2C" x="3782" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-2B" x="4227" y="0"></use><g transform="translate(5006,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-31" x="779" y="0"></use></g></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>e</mi><mi>p</mi><mi>s</mi><mi>i</mi><mi>l</mi><mi>o</mi><mi>n</mi><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mrow class="MJX-TeXAtom-ORD"><mo>‚àí</mo><mn>0.1</mn><mo>,</mo><mn>0.0</mn><mo>,</mo><mo>+</mo><mn>0.1</mn></mrow></math></span></span><script type="math/tex" id="MathJax-Element-22"> \ epsilon \ in {-0.1,0.0, + 0.1} </script>  .  Then you can train the formula <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mn>1</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.549ex" height="2.298ex" viewBox="0 -780.1 1097.4 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-46" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-31" x="910" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>F</mi><mn>1</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-23"> F_1 </script>  , which will predict the optimal value of the additive, and use the sum of two as the new formula: <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mn>0</mn></msub><mo stretchy=&quot;false&quot;>(</mo><mi>f</mi><mi>e</mi><mi>a</mi><mi>t</mi><mi>u</mi><mi>r</mi><mi>e</mi><mi>s</mi><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><msub><mi>F</mi><mn>1</mn></msub><mo stretchy=&quot;false&quot;>(</mo><mi>f</mi><mi>e</mi><mi>a</mi><mi>t</mi><mi>u</mi><mi>r</mi><mi>e</mi><mi>s</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="29.524ex" height="2.66ex" viewBox="0 -832 12711.8 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-46" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-30" x="910" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-28" x="1097" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-66" x="1486" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-65" x="2037" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-61" x="2503" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-74" x="3033" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-75" x="3394" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-72" x="3967" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-65" x="4418" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-73" x="4885" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-29" x="5354" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-2B" x="5966" y="0"></use><g transform="translate(6967,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-46" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-31" x="910" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-28" x="8064" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-66" x="8454" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-65" x="9004" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-61" x="9471" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-74" x="10000" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-75" x="10362" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-72" x="10934" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-65" x="11386" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMATHI-73" x="11852" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/yandex/blog/329946/&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhTBdzzXosL1vBq8Vx9YTVwuU9zKg#MJMAIN-29" x="12322" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>F</mi><mn>0</mn></msub><mo stretchy="false">(</mo><mi>f</mi><mi>e</mi><mi>a</mi><mi>t</mi><mi>u</mi><mi>r</mi><mi>e</mi><mi>s</mi><mo stretchy="false">)</mo><mo>+</mo><msub><mi>F</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>f</mi><mi>e</mi><mi>a</mi><mi>t</mi><mi>u</mi><mi>r</mi><mi>e</mi><mi>s</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-24"> F_0 (features) + F_1 (features) </script>  . </p><br><p>  This method allows you to modify the values ‚Äã‚Äãof the current formulas for detecting freshness and constantly improve them.  It almost does not spoil the issue for users, but allows for a few steps to make significant changes to the predictions of our formulas. </p><br><h2 id="3-kogda-svezhest-rabotaet-horosho">  <strong>3. When Freshness Works Well</strong> </h2><br><p>  Finally, using the example of several events, I would like to talk about indicators, with the help of which we understand that Freshness works well. </p><br><p>  I would like to start with a graph of the general relevance of search results.  This schedule is built by the company "Ashmanov and Partners", so there is no doubt about its objectivity: </p><br><p> <a href="http://www.analyzethis.ru/%3Fgroup%3Dactuality%26interval%3Dyear%26lang%3Dru%26location%3Dru"><img src="https://habrastorage.org/web/06c/f93/4a9/06cf934a9e204cc096890a6afe1112b9.png"></a> </p><br><p>  The progress of Yandex (red line) in the speed of indexation of documents, which was achieved during the last year, is clearly visible here.  Our robot is really able to find out in a few minutes about the appearance of a new document and deliver it to the Freshness search index so that it will be shown to users on relevant requests. </p><br><p>  Consider for example the <a href="https://lenta.ru/news/2017/03/29/brazilrazgrom">news about the qualifications of the Brazilian national team at the 2018 World Cup</a> .  The document appeared on the publisher's site at 10:56, and as early as 10:58 we showed it to the user for the first time, and up to 11:00 it was shown about twenty times for relevant queries.  According to this scheme, it is possible to construct a general metric, and not only to study specific documents.  Take, for example, all fairly popular documents (which were shown on handouts at least 1000 times a day) and look at the median time between their publication and the first screening of the issue. </p><br><p>  If you draw this graph for the last year, you can see that this value has decreased from four minutes to about two.  This means that fresh documents are now available to users almost instantly. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/web/d88/744/973/d88744973e44452783ea690a733e6470.png" alt="image"></div><br><p>  When any sufficiently large event occurs, it is important to immediately begin to respond to users to relevant requests with the most relevant documents.  Sometimes this can be seen on the global graphs of the age of fresh documents on the issue.  We constantly monitor what proportion of the documents shown are of age less than 10 minutes, half an hour, an hour, two hours, and so on.  Due to the fact that interest in events is still stretched in time, the share of such documents rarely exceeds 50%.  But there are times when graphics behave like this: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/web/98b/0b1/c61/98b0b1c615174f97ac4c122c7f271080.png" alt="image"></div><br><p>  When a significant event occurs in the world, it generates a surge of publications and search activity, and then extremely fresh documents begin to prevail. </p><br><h2 id="4-zaklyuchenie">  <strong>4. Conclusion</strong> </h2><br><p>  We considered some aspects of the formation of search results in situations where the user needs the most relevant information on request.  Of course, a large number of questions have remained beyond our consideration, such as, for example, the quality of the fast bypass and the robot, antispam, authority, design, and so on.  We discussed only freshness in the web search and left out of the scope of consideration other services that also need fresh: pictures, videos, search tips, voice search, and so on.  Some of these topics will be touched upon at the already announced Yandex "Inside" meeting, and I hope we will discuss others in future articles. </p><br><p>  Stay tuned! </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/329946/">https://habr.com/ru/post/329946/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../329936/index.html">TOP 100 English-speaking IT sites</a></li>
<li><a href="../329938/index.html">New compiler "buns" - safer, faster, more perfect</a></li>
<li><a href="../329940/index.html">Startups and abnormal programming. Tbd</a></li>
<li><a href="../329942/index.html">Review of changes in the new major release Node 8</a></li>
<li><a href="../329944/index.html">GitHub goes to GraphQL</a></li>
<li><a href="../329948/index.html">Non-recursive algorithm for generating all partitions and compositions of an integer</a></li>
<li><a href="../329950/index.html">A day in the life of technical support</a></li>
<li><a href="../329952/index.html">Product design digest, May 2017</a></li>
<li><a href="../329954/index.html">How to worry less about your own lack of talent</a></li>
<li><a href="../329956/index.html">StringBuffer, and how hard it is to get rid of the legacy of the old code</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>