<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Game Cities: Skylines was Turing-complete: create a 4-bit adder</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cities: Skylines is a city simulation game that is hard enough to create universal logic elements in it. With the help of universal logic elements it ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Game Cities: Skylines was Turing-complete: create a 4-bit adder</h1><div class="post__text post__text-html js-mediator-article">  <a href="https://store.steampowered.com/app/255710/Cities_Skylines/">Cities: Skylines</a> is a city simulation game that is hard enough to create universal logic elements in it.  With the help of universal logic elements it is possible to construct any scheme, including Turing-complete machines.  That is, as in Minecraft, we can create a computer inside Cities: Skylines.  However, it would be very difficult to create a full-featured computer based on these elements, so I will demonstrate a 4-bit adder instead.  Everything is performed in the vanilla version of the game; neither mods nor additions are required. <br><br>  This game, like any other city building simulator, requires the player to engage in the supply of electricity and water to the city.  Power plants generate electricity, for this they need clean water and sewage.  Water towers supply clean water, sewage pipes allow disposal of wastewater, and electricity is required for both types of buildings.  This duality between the sewers and water towers allows the creation of AND and OR elements. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/524/ea0/140/524ea014067ee9aa3b1673d7a432184c.png" width="700" height="409"></div><br>  <i>The main participants, from left to right: a liquid fuel power station, a water tower, a sewer pipe.</i>  <i>There is a wind turbine at the back.</i> <br><a name="habracut"></a><br>  Below is a method for constructing an AND element.  The two entrances are the power supply lines leading to the water tower (above) and the sewer pipe (below).  The output is the power line connected to the power station.  Although the inputs are zero in the screenshot, the power plant still generates electricity - even after the water supply is completed and the sewers work, it takes some time to stop.  The buildings are far apart, because otherwise electricity could flow freely between them. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6ad/35f/18c/6ad35f18c585e075f91ccac8d22bac1b.png" width="333" height="333"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4a5/0cc/2d5/4a50cc2d51985af0235191f05ed62df9.png" width="333" height="333"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e70/275/d8c/e70275d8c21f34a105076b691d8919b4.png" width="333" height="333"></div><br>  <i>The AND element on a conventional map shows layers of electricity and water.</i> <br><br>  For functional completeness, we need one more component: the inverter, or the NOT element.  To create it, we will use the simulation of the dynamics of game fluids.  Improper use of dams, canals, or excessive stress on the sewage system can lead to flooding of buildings.  A flooded power station does not generate electricity.  This is sufficient to create the NOT element shown below. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/102/c80/2d8/102c802d8c66f52e0466796ca5d6b849.png" width="333" height="333"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6c4/401/42c/6c440142ca5dd5d59494c8f72ce30540.png" width="333" height="333"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/275/edb/f2e/275edbf2e8a61e844f704994b4a0a32b.png" width="333" height="333"></div><br>  <i>Above: the electricity layer of the element NOT, below: the sewage system turned off and on</i> <br><br>  A 1-bit adder can be constructed according to the scheme of 9 different elements shown below.  Four such adders can be chained together and create a 4-bit adder.  I arranged the logical elements in the grid to show how they will be placed on the map. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a20/005/761/a2000576126cfc52bc53ffb8d491cd2c.png" width="700" height="376"></div><br>  <i>1-bit adder circuit with carry.</i> <br><br>  To simplify my life, I decided to include infinite money and play on the map created in the map editor.  PNG images can be imported into the editor, which are used to load the height map.  I created a map with blocks of earth on which you can arrange logic elements like on a <a href="https://en.wikipedia.org/wiki/Printed_circuit_board">printed circuit board</a> !  This is what the map looks like.  The images show four 1-bit adders, repeated in a 2x2 grid. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e94/b1c/c4d/e94b1cc4d35939ead3fa72339448e7d6.png" width="602" height="398"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b49/416/5c0/b494165c033d43e89a51c752f447d13a.png" width="398" height="398"></div><br>  <i>The image shows broken lines, because the game does not handle sharp edges very well.</i> <br><br>  The construction of the scheme is a very monotonous process, and I had to start over again many times because of my mistakes.  One of the problems I encountered is intersecting wires.  Fortunately, the power lines with a significant difference in height can cross each other without contact. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/caa/786/f52/caa786f5258839bfdfdfca0848a642f4.png" width="1000" height="1000"></div><br>  <i>1-bit adder.</i>  <i>I connected together four such elements.</i> <br><br>  Finally, I need to build a nearby city, creating a volume of waste that is sufficient for simultaneously flooding up to eight wind turbines (yes, our computer works on poop).  But I would not call this solution environmentally friendly: every logical element uses a liquid-fueled power station, so the pollution level is rather high.  Debugging was difficult: sometimes it turned out that a thunderstorm lightning had led to the rupture of power lines.  It is like cosmic rays, but it acts for a longer time. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8e8/8fb/ed9/8e88fbed946e4bc8d12f4b3058452e06.png" width="700" height="366"></div><br>  <i>A network of power lines leading to one of the 4-bit inputs.</i> <br><br>  I recorded a video to show that addition really works.  In the first one, I set a signal at the input, connecting it to a permanently switched on power plant (like powering the integrated circuit).  On the left, I set the value to 1001 (= 9), in the middle of 1110 (= 14).  After setting the values ‚Äã‚Äãof the inputs, I accelerated the game and the output on the right five wires took on the value from one unit.  After a long time, the final value was set to 10111 (= 23).  And in fact it works! <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/dD7Bi25IPaA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  In the second video, I focused on one of the adders.  You can see how the state of the components changes over time until the final output value is established (0 is the sum, 1 is the transfer). <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Oa2otcfXCtY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  The project has some flaws.  It will make a <em>very</em> slow computer - one 4-bit addition takes approximately 15 months of in-game time and about 20 minutes of real time.  There are problems with size.  Because of how power is implemented in the game, the components of the logic element must be spaced far enough apart;  otherwise the current will flow between them.  The 4-bit adder occupied most of the 9 tiles available in a regular game, but I didn‚Äôt optimize it very much.  Up to 25 tiles can be used with mods.  If you have ideas on how to implement more efficient calculations, write about it in the comments to the original article! </div><p>Source: <a href="https://habr.com/ru/post/460233/">https://habr.com/ru/post/460233/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../460223/index.html">From the web and banks to iOS development: the personal experience of the Apiqa programmer</a></li>
<li><a href="../460225/index.html">About the standing table, spinal health and personal effectiveness</a></li>
<li><a href="../460227/index.html">Custom refactoring tool: Swift</a></li>
<li><a href="../46023/index.html">Setting up Bluetooth PAN on Ubuntu 8.10</a></li>
<li><a href="../460231/index.html">OpenGear - reducing business downtime using console server with Out-of-Band control</a></li>
<li><a href="../460237/index.html">Scammers on eBay (the story of one deception)</a></li>
<li><a href="../460239/index.html">How to get NextGen Firewall to your home absolutely free</a></li>
<li><a href="../46024/index.html">Firefox Addon: Google Reader-style page navigation for any site.</a></li>
<li><a href="../460247/index.html">Recipes for ELFs</a></li>
<li><a href="../460249/index.html">The solution to the task with pwnable.kr 07 - input. Understanding pwntools</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>