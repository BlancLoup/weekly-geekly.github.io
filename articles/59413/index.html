<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Improving forms or Web-Eight-Zero-Hundred-Three</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="So, we chose a browser instead of a standalone fat client. The user really wants to enter data. However, the usual forms are bad. Because: 



 Data a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Improving forms or Web-Eight-Zero-Hundred-Three</h1><div class="post__text post__text-html js-mediator-article"> So, we chose a browser instead of a standalone fat client.  The user really wants to enter data.  However, the usual forms are bad.  Because: <br><br><a name="habracut"></a><br><br>  Data and HTML code are mixed. <br>  There is no convenient widget with a drop-down list and a search for the beginning of the name. <br>  There is no convenient built-in tool to load data into forms. <br>  There is no convenient way to send form data via AJAX. <br>  Etc. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      What do you want? <br><br>  Fully unlink HTML-code forms from the data. <br>  Have the ability to preload forms. <br>  Have the ability to flexibly customize the form. <br>  Have a convenient drop-down list with a search for the beginning of the name. <br>  Unlink the form controls from its environment. <br>  And so on. <br><br>  Let's start from the end.  What should be the dropdown list?  Certainly not as standard SELECT! <br>  First, it must use the directory.  That is, a set of pairs ["key", "value"].  At the same time, the string ‚Äúvalue‚Äù is shown to the user, and a ‚Äúkey‚Äù is sent to the server. <br>  Secondly, it must be connected to INPUT along with a reference book, when entering characters, to show a list, run back and forth and get out when leaving focus with INPUT. <br><br>  To create a drop-down list (we will call it a dropdown for short), we use jQuery.  What good is jQuery?  At least this: <br><br>  1. a convenient callback function when the DOM structure of the document is already loaded (and you can spoil it), and any images may not be loaded yet: <br><br> <code>$(document).ready(function(){ <br> <br> // ...     DOM <br> <br> });</code> <br> <br>  2. convenient search for the necessary items by ID <br><br> <code>$('#some_id')</code> <br> <br>  3. Convenient jQuery binding of any DOM element <br><br> <code>$(some_DOM_element)</code> <br> <br>  4. convenient binding of any events <br><br> <code>$(li).hover( function() { this.style.fontWeight = 'bold'; }, function() { this.style.fontWeight = 'normal'; } )</code> <br> <br>  This call binds 2 events to the DOM li element: when the cursor moves over an element and when moving away. <br>  In between these events, the DOM element gets a bold font (because this is exactly what it points to in the event handler) <br><br>  5. convenient jQuery object methods that are universally applied to individual DOM elements or their sets <br><br>  <code>.show()</code> show <br>  <code>.hide()</code> hide <br>  <code>.val()</code> get control value <br>  <code>.val(new_value)</code> set the value of the control <br><br>  And so on. <br><br>  We will take advantage of jQuery to expand.  For the basis of our dropdown, I took the autocomplete script, which, when searching in Google, shows similar queries.  It's easy to google.  The ready solution should work like this: when setting up a form, we should be able to bind the dropdown with a reference to the control like this: <br><br> <code>$(form.some_element_name).dropdown( some_directory, options ) ;</code> <br> <br>  some_directory is the reference (some JavaScript object about which later) <br><br>  How to achieve this?  Create your own new jQuery method, which is called above: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">jQuery.fn.dropdown = <font color="#0000ff">function</font> (data, options) <br> { <br> options = options || {}; <br> options.data = (( <font color="#0000ff">typeof</font> data == <font color="#A31515">"object"</font> ) &amp;&amp; (data.constructor == Array)) ? data : <font color="#0000ff">null</font> ; <br> options.key = options.key || <font color="#A31515">"key"</font> ; <br> options.value = options.value || <font color="#A31515">"value"</font> ; <br> options.matchCase = options.matchCase || 0; <br> options.list_size = options.list_size || 11; <br> options.containerClass = options.containerClass || <font color="#A31515">"__dropdown_container_class"</font> ; <br> options.selectedItemClass = options.selectedItemClass || <font color="#A31515">"__dropdown_selected_item_class"</font> ; <br> options.items = options.data ? clone_quicksort(options.data, options.value, options.matchCase ? less_than_compare : less_than_ignore_case_compare) : <font color="#0000ff">null</font> ; <br> options.items_hash = options.items ? hash_array(options.items,  options.key) : <font color="#0000ff">null</font> ; <br> <font color="#0000ff">this</font> .each( <font color="#0000ff">function</font> () { <font color="#0000ff">var</font> input = <font color="#0000ff">this</font> ; <font color="#0000ff">new</font> jQuery.dropdownConstructor(input, options); }  ); <br> <font color="#0000ff">return</font> <font color="#0000ff">this</font> ; <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  I brought him in full.  It is easy to see that this script persistently checks various options (if there are none at all, it creates them).  Options are typed with default values.  Finally, here is this line: <br><br> <code>this.each( function() { var input = this; new jQuery.dropdownConstructor(input, options); } );</code> <br> <br>  walks through the list of elements that the selector has selected, and for each one creates a new jQuery dropdown object using the dropdownConstructor constructor.  Which contains all the necessary code and looks like this: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">jQuery.dropdownConstructor = <font color="#0000ff">function</font> (input, options) <br> { <br> <br> <font color="#0000ff">var</font> input = input; <font color="#008000">//  DOM  </font> <br> <font color="#0000ff">this</font> .control = input; <br> <font color="#0000ff">var</font> $input = $(input); <font color="#008000">//  jQuery ,  DOM   (   jQuery   )</font> <br> <font color="#0000ff">var</font> container = <font color="#0000ff">document</font> .createElement( <font color="#A31515">"div"</font> ); <font color="#008000">//  DIV     list</font> <br> <font color="#0000ff">var</font> $container = $(container); <br> <font color="#0000ff">var</font> list = <font color="#0000ff">document</font> .createElement( <font color="#A31515">"ul"</font> ); <br> <font color="#0000ff">var</font> $list = $(list); <br> <font color="#0000ff">var</font> active = <font color="#0000ff">false</font> ; <br> <font color="#0000ff">var</font> last_key_pressed = <font color="#0000ff">null</font> ; <br> <font color="#0000ff">var</font> timeout = <font color="#0000ff">null</font> ; <br> <font color="#0000ff">var</font> value_of_key = <font color="#A31515">""</font> <br> <font color="#0000ff">var</font> prev_truevalue, next_truevalue; <br> <font color="#0000ff">var</font> that = <font color="#0000ff">this</font> ; <br> input.dropdown = that; <br> input.truevalue = input.truevalue || <font color="#0000ff">null</font> ; <br> <br> container.appendChild(list); <font color="#008000">//    </font> <br> $container.hide().addClass(options.containerClass).css( <font color="#A31515">"position"</font> , <font color="#A31515">"absolute"</font> ); <font color="#008000">//      </font> <br> <font color="#0000ff">if</font> ( options.width &gt; 0 ) $container.css( <font color="#A31515">"width"</font> , options.width); <br> $( <font color="#A31515">"body"</font> ).append(container); set_truevalue(input.truevalue); <br> <br> <br> <font color="#0000ff">function</font> postpone(func) <br> { <br> <font color="#0000ff">if</font> (timeout) clearTimeout(timeout); <br> timeout = setTimeout( <font color="#0000ff">function</font> (){ func(); }, 25); <br> } <br> <br> <font color="#0000ff">function</font> set_truevalue(new_truevalue) <br> { <br> <font color="#0000ff">if</font> (!options.items_hash[new_truevalue]) <br> { <br> input.truevalue = <font color="#0000ff">null</font> ; <br> value_of_key = <font color="#A31515">""</font> ; <br> $input.val( <font color="#A31515">""</font> ); <br> <font color="#0000ff">return</font> ; <br> } <br> input.truevalue = new_truevalue; <br> <font color="#0000ff">if</font> (input.truevalue) value_of_key = options.items_hash[input.truevalue][options.value]; <font color="#0000ff">else</font> value_of_key = <font color="#A31515">""</font> ; <br> $input.val( value_of_key ); <br> } <br> <br> input.update_control = <font color="#0000ff">function</font> () { set_truevalue(that.control.truevalue); } <br> <br> <font color="#0000ff">function</font> activate() <br> { <br> <font color="#0000ff">if</font> (active) <font color="#0000ff">return</font> ; <br> <font color="#0000ff">var</font> pos = element_position(input); <br> <font color="#0000ff">var</font> W = (options.width &gt; 0) ? options.width : $input.width(); <br> $container.css( { width: parseInt(W) + <font color="#A31515">"px"</font> , left: pos.x + <font color="#A31515">"px"</font> , top: (pos.y + input.offsetHeight) + <font color="#A31515">"px"</font> } ).show(); <br> <font color="#0000ff">var</font> index = binary_search(options.items, value_of_key, options.value, options.matchCase ? less_than_compare : less_than_ignore_case_compare); <br> build_list(index - (options.list_size &gt;&gt; 1), index); <br> active = <font color="#0000ff">true</font> ; <br> } <br> <br> <font color="#0000ff">function</font> deactivate() <br> { <br> <font color="#0000ff">if</font> (!active) <font color="#0000ff">return</font> ; <br> $container.hide(); <br> active = <font color="#0000ff">false</font> ; <br> } <br> <br> <font color="#0000ff">function</font> move_up() <br> { <br> ... <br> } <br> <br> <font color="#0000ff">function</font> move_down() <br> { <br> ... <br> } <br> <br> <font color="#0000ff">function</font> select_text_part(start, end) <br> { <br> ... <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  And off we go. <br><br>  I think the code is quite understandable, but still.  truevalue is the key.  This is the attribute of the control that stores the key value (not shown to the user).  set_truevalue () sets the key and synchronizes the display value.  active () shows a drop-down list, deactive () hides it.  move_up (), move_down () - move up and down in the list.  select_text_part () - selection of part of the text. <br><br>  This is how we attach to events inside the constructor: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">$input.keydown( <font color="#0000ff">function</font> (e) <br> { <br> last_key_pressed = e.keyCode; <br> <font color="#0000ff">switch</font> (e.keyCode) <br> { <br> <font color="#0000ff">case</font> 38: e.preventDefault(); move_up(); <font color="#0000ff">break</font> ; <br> <font color="#0000ff">case</font> 40: e.preventDefault(); move_down(); <font color="#0000ff">break</font> ; <br> <font color="#0000ff">case</font> 13: <font color="#0000ff">case</font> 9: select_text_part(); deactivate(); <font color="#0000ff">break</font> ; <br> <font color="#0000ff">default</font> : postpone(on_change); <font color="#0000ff">break</font> ; <br> } <br> }).focus( <font color="#0000ff">function</font> (){ <br> activate(); select_text_part(); <br> }).blur( <font color="#0000ff">function</font> (){ <br> deactivate(); <br> }).mousedown( <font color="#0000ff">function</font> (e) { <font color="#0000ff">if</font> (!active &amp;&amp; !input.disabled) { e.preventDefault(); $input.focus(); activate(); } } ); <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  Now let's talk about reference books.  The reference book is a JavaScript array of similar objects (with the same set of fields).  For example, " <code>[ { key:'m', value:'male' }, { key: 'f', value: 'female' } ]</code> ".  By default, the key field contains the key, and the value field contains the value.  However, this can always be changed. <br><br>  Our dropdown needs a directory sorted in ascending value (that is, in ascending visible value, not key).  And usually with ignoring the case of letters (when the user enters the beginning of the name on the keyboard in most cases he still has CAPS LOCK or not).  Therefore, this array must be sorted and for this it was necessary to write a quick sort on JavaScript and binary search.  After all, the user can enter and part of the name.  I will not give sorting, only binary search for an example: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">function</font> less_than_compare(val1, val2) <br> { <br> <font color="#0000ff">return</font> val1 &lt; val2; <br> } <br> <br> <font color="#0000ff">function</font> binary_search(items,value,key,compare) <br> { <br> key = key || <font color="#A31515">"key"</font> ; <br> compare = compare || less_than_compare; <br> <font color="#0000ff">var</font> l = -1; <br> <font color="#0000ff">var</font> r = items.length; <br> <font color="#0000ff">while</font> ( <font color="#0000ff">true</font> ) <br> { <br> <font color="#0000ff">var</font> m = (r - l) &gt;&gt; 1; <br> <font color="#0000ff">if</font> (m == 0) <font color="#0000ff">return</font> r; <br> m += l; <br> <font color="#0000ff">if</font> ( compare(items[m][key],value) ) <br> l = m; <br> <font color="#0000ff">else</font> <font color="#0000ff">if</font> ( compare(value, items[m][key]) ) <br> r = m; <br> <font color="#0000ff">else</font> <br> <font color="#0000ff">return</font> m; <br> } <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  So, after stubborn coding, our wonderful dropdown has earned: <br><br><img src="http://www.picamatic.com/show/2009/05/12/06/35/3618111_557x236.png" alt="image">  <a href="">www.picamatic.com/show/2009/05/12/06/35/3618111_557x236.png</a> <br><br>  Now we start to deal with the forms.  The form is divided into three parts: HTML-code, JavaScript-code settings and a list of directories that the form requires to work.  Our server-side form script will return all these parts on request and, in addition, it must accept data and return processing errors.  The server script in the "/foo.js" file looks like this: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">function</font> receive_request() <br> { <br> <font color="#0000ff">if</font> (request._command == <font color="#A31515">"jason"</font> ) <font color="#0000ff">return</font> <font color="#A31515">"/joo.js,/boo.js"</font> ; <br> <br> <font color="#0000ff">if</font> (request._command == <font color="#A31515">"html"</font> ) <font color="#0000ff">return</font> <font color="#A31515">"\ <br> &lt;tr&gt;&lt;th&gt;  &lt;td&gt;&lt;INPUT name=user_name&gt;\ <br> &lt;tr&gt;&lt;th&gt;  &lt;td&gt;&lt;INPUT name=sex truevalue='u'&gt;\ <br> &lt;tr&gt;&lt;th&gt;  &lt;td&gt;&lt;INPUT name=birth_country&gt;\ <br> &lt;tr&gt;&lt;th&gt;  &lt;td&gt;&lt;INPUT name=country&gt;\ <br> "</font> ; <br> <br> <font color="#0000ff">if</font> (request._command == <font color="#A31515">"code"</font> ) <font color="#0000ff">return</font> <font color="#A31515">"\ <br> enterAsTab(form, 1);\ <br> $(form.country).dropdown( jason('/boo.js') );\ <br> $(form.birth_country).dropdown( jason('/boo.js') );\ <br> $(form.sex).dropdown( jason('/joo.js') );\ <br> "</font> ; <br> <br> <font color="#0000ff">if</font> (request._command == <font color="#A31515">"post"</font> ) <br> { <br> <font color="#0000ff">var</font> error = <font color="#A31515">""</font> ; <br> <font color="#0000ff">if</font> (request.user_name.length == 0) error += <font color="#A31515">"user_name:   \r"</font> ; <br> <font color="#0000ff">if</font> (request.user_name.length &lt; 5) error += <font color="#A31515">"user_name:       5 \r"</font> ; <br> <font color="#0000ff">if</font> (request.birth_country.length == 0) error += <font color="#A31515">"country:   \r"</font> ; <br> <font color="#0000ff">if</font> (request.country.length == 0) error += <font color="#A31515">"country:   \r"</font> ; <br> <font color="#0000ff">if</font> (error) <font color="#0000ff">return</font> error; <br> <br> <font color="#008000">// ..  ..</font> <br> <br> <font color="#0000ff">return</font> <font color="#A31515">"OKAY"</font> ; <br> } <br> <br> <br> <font color="#0000ff">return</font> <font color="#A31515">""</font> ; <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  Why JavaScript is used on the server is explained here: <a href="http://habrahabr.ru/blogs/development/48842/">habrahabr.ru/blogs/development/48842</a> <br><br>  HTML is just controls, without the surrounding "&lt;form /&gt;".  A slightly tricky form configuration code requires two parameters: a DOM element of the form (form) and a function that returns a loaded directory of its url (jason ()). <br><br>  So, we want all of this on a page to be asynchronously loaded and used.  There are two considerations.  First, directories belong to the entire page, not just one form.  Different forms can work with the same directories.  Secondly, the form can be used only after the full and successful loading of all its components. <br><br>  Actually, then I wrote an asynchronous loader that caches the loaded data and allows hierarchically load the investments into each other (in order, for example, to completely remove all active form loads).  Then on top of this is the form uploader, which, upon receiving a list of reference books, asks them to load and waits for them to appear. <br><br>  So, let's say we have at hand (uploaded to the page) all the necessary form components: HTML, javascript and reference books are ready.  The next step is to create a form instance, which is what the user sees.  Here is the code that creates an instance of a form called form_name in the DOM element container.  The instance is named instance_name: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">activate: <font color="#0000ff">function</font> (instance_name, form_name, container) <br> { <br> <font color="#0000ff">if</font> (!form_loader.ready(form_name)) <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; <br> <font color="#0000ff">var</font> form = <font color="#0000ff">document</font> .createElement( <font color="#A31515">"form"</font> ); \\  ,        DOM-  form <br> <font color="#0000ff">var</font> jason = <font color="#0000ff">function</font> (url) { <font color="#0000ff">return</font> jason_loader.data(url); } \\  ,          jason() <br> container.innerHTML = <font color="#A31515">''</font> ; <br> container.appendChild(form); <br> form.innerHTML = <font color="#A31515">"&lt;table class='form' &gt;"</font> + form_loader.html(form_name) + <font color="#A31515">"&lt;/table&gt;"</font> ; <br> <font color="#0000ff">try</font> <br> { <br> eval(form_loader.code(form_name)); <br> } <br> <font color="#0000ff">catch</font> (e) <br> { <br> form_loader.forms[form_name].error = <font color="#A31515">'   &lt;i&gt;'</font> + form_name + <font color="#A31515">'&lt;/i&gt;&lt;BR&gt;'</font> + e.message; <br> <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; <br> } <br> <font color="#0000ff">this</font> .actor[instance_name] = { type: <font color="#A31515">'form'</font> , name: form_name, form_elem: form, container_elem: container, disabled: [], post: <font color="#0000ff">null</font> }; <br> <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; <br> } <br> <br></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  I think the idea is clear. <br><br>  And finally: dessert.  So for what all this code was created.  Here‚Äôs what the bootcode for the HTML page that uses this mechanism looks like: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">$( <font color="#0000ff">document</font> ).ready( <font color="#0000ff">function</font> (){ <br> <br> register_form( <font color="#A31515">"foo"</font> , <font color="#A31515">"/foo.js"</font> ); <font color="#008000">//   foo   /foo.js</font> <br> register_form( <font color="#A31515">"voo"</font> , <font color="#A31515">"/voo.js"</font> ); <font color="#008000">//    </font> <br> await(load_callback); <font color="#008000">//     </font> <br> }); <br> <br> <font color="#0000ff">function</font> load_callback(form_name) <br> { <br> <font color="#0000ff">if</font> (form_name) <font color="#008000">//      </font> <br> $( <font color="#A31515">'#report'</font> ).html( $( <font color="#A31515">'#report'</font> ).html() + <font color="#A31515">'&lt;BR&gt;'</font> + form_loader.error(form_name) ); <br> <font color="#0000ff">else</font> <br> { <br> <font color="#008000">//   !   </font> <br> } <br> <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  Is not it - very succinctly?  This is how the form is used. <br><br>  Create an instance in the DOM element with id = 'foo_form': <br><br><blockquote> <code><font color="black">director.activate( <font color="#A31515">'foo_instance'</font> , <font color="#A31515">"foo"</font> , $( <font color="#A31515">'#foo_form'</font> )[0]);</font> <br> <br></code> </blockquote><br><br>  Load data into a form instance: <br><br><blockquote> <code><font color="black">director.fill( <font color="#A31515">"foo_instance"</font> , {user_name: <font color="#A31515">'John Smith'</font> , country: <font color="#A31515">'RO'</font> } );</font> <br> <br></code> </blockquote><br><br>  And finally, for the sake of what all this is needed - sending data: <br><br><blockquote> <code><font color="black">director.submit( <font color="#A31515">"foo_instance"</font> , foo_submit);</font> <br></code> </blockquote><br><br>  The foo_submit function might look something like this: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">function</font> foo_submit(instance_name, result, error) <br> { <br> <font color="#0000ff">if</font> (result) <br> $( <font color="#A31515">'#report'</font> ).html( <font color="#A31515">' '</font> + instance_name + <font color="#A31515">'  '</font> ); <br> <font color="#0000ff">else</font> <font color="#0000ff">if</font> (error) <br> $( <font color="#A31515">'#report'</font> ).html( <font color="#A31515">'   '</font> + instance_name + <font color="#A31515">'   &lt;BR&gt;'</font> + error); <br> <font color="#0000ff">else</font> <br> $( <font color="#A31515">'#report'</font> ).html( <font color="#A31515">'      '</font> + instance_name); <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br><br>  The submit () method can get a set of data errors from the server script and show them automatically.  And the next time you submit, it will remove and make a complete disable form. <br><br><img src="http://www.picamatic.com/show/2009/05/12/07/13/3618725_581x190.png" alt="image"><br><br>  In general, you can do almost anything with a form: show, clear, load data, make a complete disable and back enable, send to the server and wait for a successful send. <br>  Finally, remove the form instance from the page.  Again, we can easily create multiple instances of the same form on the page. <br>  For example, it is possible in such forms to show unsuccessful send to the server. <br><br>  Here is a solution. <br><br><br>  Waiting for comments and suggestions.  If I find the time, I‚Äôll syntax highlight JavaScript code (why not at hand on Habr√© ??). <br><br></div><p>Source: <a href="https://habr.com/ru/post/59413/">https://habr.com/ru/post/59413/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../59403/index.html">Version 0.4.5 - Release Candidate 2</a></li>
<li><a href="../59406/index.html">ESET Threat Blog</a></li>
<li><a href="../59407/index.html">GameCommunity.ru gaming community news</a></li>
<li><a href="../59411/index.html">Explosive Video: Beyond Good and Evil 2 Gameplay</a></li>
<li><a href="../59412/index.html">Programming is difficult or about the dangers of dogmatic thinking.</a></li>
<li><a href="../59415/index.html">The course of the young fighter: the subtleties of the settings of routers and switches</a></li>
<li><a href="../59417/index.html">Post Kitchen # 1: DNS</a></li>
<li><a href="../59418/index.html">Delicious CSS: Sass + Compass</a></li>
<li><a href="../59419/index.html">Python for system administrators</a></li>
<li><a href="../59421/index.html">Today COMSTAR-UTS began to connect subscribers to its WiMAX network in Moscow</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>