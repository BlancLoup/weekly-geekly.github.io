<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Lenovo DS6200 storage system overview</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi Habr! We offer you an excellent review of the storage system (DSS) Lenovo DS6200, made by the publication THG . 


 The Lenovo Storage SAN Portfoli...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Lenovo DS6200 storage system overview</h1><div class="post__text post__text-html js-mediator-article">  Hi Habr!  We offer you an excellent review of the storage system (DSS) Lenovo DS6200, made by the publication <a href="http://www.thg.ru/storage/lenovo_ds6200_obzor/index.html">THG</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kf/y2/yj/kfy2yjci9mo4hhkt9dgp-lckdwi.jpeg"></div><a name="habracut"></a><br>  The <a href="https://www3.lenovo.com/us/en/data-center/storage/storage-area-network/c/storage-area-network">Lenovo Storage SAN</a> Portfolio <a href="https://www3.lenovo.com/us/en/data-center/storage/storage-area-network/c/storage-area-network">for SAN is</a> divided into three product lines: <br><br><ul><li>  <a href="https://www3.lenovo.com/us/en/data-center/storage/storage-area-network/lenovo-thinksystem-ds-series/c/lenovo-thinksystem-ds-series"><b>DS Series</b></a> .  Two-controller storage with block access.  Presented by three models that differ from each other in performance and scalability.  The smaller DS2200 supports up to 96 drives and provides performance up to 100,000 IOPS, while the average DS4200 and older DS6200 models scale to 276 drives and provide up to 325,000 or 600,000 IOPS, respectively.  All storage systems of this line support the installation of various types of disks and drives (2.5 "or 3.5") and controllers (SAS and converged FC / iSCSI). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Lenovo DS series storage systems use the same storage stack virtualization model using disk pools.  Modern functionality is provided: snapshots, asynchronous replication, thin allocation of resources, data storage tier, SSD cache for reading. </li><li>  <a href="https://www3.lenovo.com/us/en/data-center/storage/storage-area-network/lenovo-storage-v-series/c/lenovo-storage-v-series"><b>V Series</b></a> .  Presents entry-level systems v3700 V2 and v3700 V2 XP, as well as more productive v5030 and v7000.  Like the DS Series, this line also uses virtualization based on disk pools, but based on another software platform.  Lenovo v3700 V2 XP <a href="http://www.thg.ru/storage/lenovo_v3700_v2_obzor/index.html">was studied in detail in our lab a</a> little over a year ago.  Storage systems of this family are of particular interest to companies operating systems of previous generations from IBM.  In addition to the familiar management interface, users are provided with a convenient opportunity to transfer data to a new storage system. </li><li>  <a href="https://www3.lenovo.com/us/en/data-center/storage/software-defined-storage/c/software-defined-storage"><b>DX Series</b></a> .  Software-defined storage systems built on standard Lenovo ThinkSystem rack server and partner software.  Systems of this class provide block, object, or unified data access, and one of them, the DX8200D, can virtualize external storage systems from other manufacturers.  Currently, the DX Series product line includes three models: DX8200N using NexentaStor software, DX8200C with Cloudian HyperStore software, and DX8200D with DataCore SANsymphony software.  All necessary software components are pre-installed and pre-tested at the Lenovo factory during manufacturing, which ensures their full compatibility and performance.  In addition, Lenovo also provides comprehensive service support for all of these systems. </li></ul><br>  It is also worth noting that the Lenovo <a href="https://www3.lenovo.com/us/en/data-center/servers/high-density/Distributed-Storage-Solution-for-IBM-Spectrum-Scale/p/WMD00000275">DSS-G</a> solution, which is based on the IBM Spectrum Scale software, can be attributed to the family of software-defined storage systems in the company's product portfolio. <br><br><h2>  <font color="#d8291e">Storage Overview Lenovo DS6200 |</font>  <font color="#d8291e">Main technical specifications</font> </h2><br>  At our disposal was the older model of the DS - DS6200 line with convergent controllers, 16 Gbps FC transceivers and 24 3.84 TB solid-state drives.  Detailed specifications are given in the table. <br><br><table><tbody><tr><td width="200">  Form factor <br></td><td>  2U, rack mount. <br></td></tr><tr><td>  Controllers <br></td><td>  - DS6200 SAS controller <br>  - DS6200 FC / iSCSI controller <br>  Storage is only available in a 2-controller configuration.  Both controllers in the system must be identical. <br></td></tr><tr><td>  RAID types supported <br></td><td>  RAID 1, 5, 6, 10;  Rapid Data Protection Technology (ADAPT). <br></td></tr><tr><td>  Memory <br></td><td>  32 GB per system (16 GB per controller).  Cache protection (flash + supercapacitors).  High-speed cache mirroring between controllers. <br></td></tr><tr><td>  Disk bays <br></td><td>  up to 240 SFF disks (2.5 "): <br>  - 24 SFF disks in storage <br>  - 24 SFF disks in the shelves of the DS Series SFF expansion unit, maximum 9 shelves <br>  up to 132 (24 SFF and 108 LFF) disks <br>  - 24 SFF disks in storage <br>  - 12 LFF disks in the shelves of the DS Series LFF expansion unit, a maximum of 9 shelves <br>  up to 276 (24 SFF and 252 LFF) disks <br>  - 24 SFF disks in storage <br>  - 84 LFF disks in the shelves of the D3284 expansion, maximum 3 shelves <br>  Mixed configurations from DS expansion shelves for SFF and LFF disks are supported.  Mixed configurations from DS expansion shelves and D3284 expansion shelves are not supported. <br></td></tr><tr><td>  Connecting drives <br></td><td>  Apply SAS3 dual-port disks (12 Gbit / s) <br>  Storage systems with controllers (ports on each of the controllers): <br>  - 24 internal SAS3 ports (12 Gbit / s) <br>  - one 12 Gbps SAS x4 expansion port (Mini-SAS HD SFF-8644) for connecting disk shelves <br>  DS expansion shelves with two expander modules (ports on each of the modules): <br>  - 24 internal SAS3 ports (12 Gbit / s) (SFF shelf) <br>  - 12 SAS3 internal ports (12 Gbit / s) (LFF shelf) <br>  - three 12 Gbps SAS x4 expansion ports (Mini-SAS HD SFF-8644).  Two ports (A and C) for cascading other disk shelves, port B is not used. <br></td></tr><tr><td>  Disks and Drives <br></td><td>  SFF DS drives (2.5 "): <br><br>  - 300 GB, 600 GB, and 900 GB 15 thousand rev / min 12 Gbit / s SAS HDD <br>  - 600 GB, 900 GB, 1.2 TB, 1.8 TB, 2.4 TB 10 thousand rev / min 12 Gbit / s SAS HDD <br>  - 1 TB and 2 TB 7200 rpm 12 Gbit / s SAS HDD nearline class <br>  - 3.84 TB, 7.68 TB, and 15.36 TB 12 Gbit / s SAS SSD (1 DWPD resource) <br>  - 400 GB, 800 GB, 1.6 TB 12 Gbit / s SAS SSD (resource 3 and 10 DWPD) <br>  LFF DS drives (3.5 "): <br>  - 900 GB 10 thousand rev / min 12 Gbit / s SAS HDDs <br>  - 2 TB, 4 TB, 6 TB, 8 TB, 10 TB, and 12 TB 7200 rpm 12 Gbit / s SAS HDD nearline class <br>  - 400 GB 12 Gb / s SAS SSD (resource 3 and 10 DWPD) <br>  Disks for shelf extensions D3284 <br>  - 4 TB, 6 TB, 8 TB, 10 TB, and 12 TB 7200 rpm 12 Gbit / s SAS HDD nearline class <br>  - 400 GB 12 Gb / s SAS SSD (resource 3 and 10 DWPD) <br>  - 3.84 TB, 7.68 TB, and 15.36 TB 12 Gbit / s SAS SSD (1 DWPD resource) <br></td></tr><tr><td>  Disk space <br></td><td>  Up to 2 PB <br></td></tr><tr><td>  Connection <br></td><td>  DS6200 SAS controller: 4 12 Gbps SAS ports (Mini-SAS HD, SFF-8644). <br>  FC / iSCSI controller: 4 SFP / SFP + ports in two convergent groups (both ports in the group must have the same connection type, the groups may have different connection types). <br><br>  Converged connectivity options: <br><br>  - 1 Gbps iSCSI SFP (1 Gbps, twisted pair UTP, RJ-45) <br>  - 10 Gbps iSCSI SFP + (1/10 Gbps, SW fiber, LC) <br>  - 8 Gbps FC SFP + (4/8 Gbps, SW fiber, LC) <br>  - 16 Gbps FC SFP + (4/8/16 Gbps, SW fiber, LC) <br>  - 10 Gbps iSCSI SFP + Direct Attached Cables (DAC) <br></td></tr><tr><td>  Operating system support <br></td><td>  Microsoft Windows Server 2012 R2 and 2016;  Red Hat Enterprise Linux (RHEL) 6 and 7;  SUSE Linux Enterprise Server (SLES) 11 and 12;  VMware vSphere 5.5, 6.0, and 6.5. <br></td></tr><tr><td>  Configuration limits <br></td><td>  - Maximum number of storage pools: 2 (1 per controller) <br>  - Maximum storage pool size: 1 pb <br>  - Maximum number of logical volumes: 1024 <br>  - Maximum volume of the logical volume: 128 TiB <br>  - Maximum number of disks in a RAID group: 16 <br>  - Maximum number of RAID groups: 32 <br>  - Maximum number of disks in the ADAPT disk group: 128 (minimum 12 disks) <br>  - Maximum number of ADAPT disk groups: 2 (1 for each pool) <br>  - Maximum number of spare disks: 16 <br>  - Maximum number of initiators: 8192 (1024 per each host port of the controller) <br>  - Maximum number of initiators per host: 128 <br>  - Maximum number of host groups: 32 <br>  - Maximum number of hosts in a host group: 256 <br>  - Maximum number of disks in a disk group for SSD cache per read: 2 (RAID-0) <br>  - Maximum number of disk groups for SSD cache per read: 2 (1 for each pool) <br>  - Maximum SSD cache read: 4 TB <br>  - Maximum number of snapshots: 1024 (with an additional license) <br>  - Maximum number of replication nodes: 4 (with additional license) <br>  - Maximum number of replication volumes: 32 (with an additional license) <br></td></tr><tr><td>  Cooling <br></td><td>  Failsafe cooling, two fans in the combined power / cooling units. <br></td></tr><tr><td>  Nutrition <br></td><td>  Failsafe power, two power supply 580 watts. <br></td></tr><tr><td>  Hot-swappable components <br></td><td>  Controller modules, expansion modules, SFP / SFP + transceivers, drives and drives, power supplies. <br></td></tr><tr><td>  Control <br></td><td>  Gigabit Ethernet port (UTP, RJ-45) and serial port (Mini-USB) in the controller modules.  Web-based interface, command line interface (Telnet, SSH or serial console), SNMP, email notifications, optional - Lenovo XClarity. <br></td></tr><tr><td>  Security <br></td><td>  SSL, SSH, sFTP. <br></td></tr><tr><td>  Warranty <br></td><td>  Three year warranty period.  Nodes can be replaced by a user or a Lenovo technician (9x5 mode, the next business day).  Optional Extended Warranty: Installing any nodes by a Lenovo technician in 24x7 mode with 2 or 4 hours response, 6 or 24 hour recovery time, extending the warranty period for 1 or 2 years, YourDrive YourData service, installation and configuration services. <br></td></tr><tr><td>  Dimensions <br></td><td>  Height: 88 mm;  width: 443 mm;  depth: 630 mm. <br></td></tr><tr><td>  Weight <br></td><td>  - SHD DS6200 SFF (fully loaded): 30 kg <br>  - Shelf DS Series SFF Expansion (fully loaded): 25 kg <br>  - DS Series LFF expansion shelf (fully loaded): 25 kg <br></td></tr></tbody></table><br>  The DS6200 comes in two versions - with SAS controllers and with converged FC / iSCSI controllers.  Execution option - 2U, 24 SFF disks (2.5 "). LFF disks (3.5") can be used only in the corresponding expansion shelves.  The scope of delivery includes telescopic mounting rails (635‚Äì889 mm), a quick guide, a mini-USB cable for connecting to a serial console, and power cables. <br><br><h2>  <font color="#d8291e">Storage Overview Lenovo DS6200 |</font>  <font color="#d8291e">Components</font> </h2><br>  In the back, on the sides there are two power supplies, the fans in which cool both the power supplies themselves and other storage nodes.  Centered, one on the other are the modules of the controllers. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/43e/c74/6f1/43ec746f1f768bf466aeb5806aec8e10.jpg"></div><br>  Power cables are fixed in power supply connectors with plastic clips to prevent accidental disconnection.  It is also impossible to accidentally pull out the power supply - the metal bracket is fixed in the closed position with a plastic latch.  Four LED indicators on the back of the power supply unit show the status of the PSU, the status of the fan, and the input and output voltages. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f43/500/fb1/f43500fb11e0be4b74a76321eacce1db.jpg"></div><br>  The controller module is a typical SBB form factor block.  The panel includes: a SAS3 x4 SFF-8644 connector for connecting expansion shelves, an RJ-45 connector for network control, a mini-USB connector for connecting a serial console (sealed with a warning label to install the driver before connecting the cable), several service connectors and interface ports. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/951/e13/a4d/951e13a4d4c0ff58926c9b0da0ac5115.jpg"></div><br>  In this configuration there are convergent controllers with four SFP + connectors, two of which are equipped with 16 Gbps FC transceivers.  The lower-end DS2200 controller has only two SFP + or SAS connectors, depending on the type of controller. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/317/d17/68d/317d1768d4e80a6952a1c1988eb347f6.jpg"></div><br>  Above the host ports are five LEDs: cache status, identifier, controller readiness to retrieve.  The port for connecting the extension shelves and all host ports are equipped with a link indication. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d93/158/242/d931582429fef57d11e8f46e5f895a18.jpg"></div><br>  Disc tray.  Robust metal and plastic construction.  The length of the disk tray is due to the fact that the Lenovo DS Series storage systems were designed in accordance with the SBB (Storage Bridge Bay) specification, which describes the form factor of the controller modules and how they are connected to the backplane.  The architecture of such storage systems requires the use of dual-port SAS disks in order to provide access of two controllers to each of the disks.  The choice of SAS drives during the development of the specification was limited, so the connection of SATA drives through an additional multiplexing card (interposer) was provided, which provided for SATA drives a dual port connection.  Considering the possible installation of such a board, the length of disk trays in the specification has been increased.  For <a href="http://www.thg.ru/storage/lenovo_ds6200_obzor/index.html">DS6200</a> , as well as for other modern storage systems, only SAS disks are offered. <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/702/e92/48b/702e9248b6c2b38aefbe5408eef4da18.jpg"></div><br>  The tested storage comes bundled with 24 Lenovo Storage 3.84TB 1DWD 2.5 "SAS SSD (PM1633a) solid-state drives 01KP065: 3.84 TB of volume, 1 rewriting resource per day. Lenovo does not hide the OEM part number, it is important for many customers to know the model in advance used drives and detailed specifications, in this case the PM1633a, <a href="http://www.samsung.com/us/dell/pdfs/PM1633a_Flyer_2016_v4.pdf">a Samsung drive</a> based on 3D TLC NAND. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/62e/663/85d/62e66385d2789f5055be4bf10ceadf2b.jpg"></div><br><h2>  <font color="#d8291e">Storage Overview Lenovo DS6200 |</font>  <font color="#d8291e">Functionality</font> </h2><br><h3>  Storage Virtualization Stack </h3><br>  The storage virtualization stack on Lenovo Storage DS systems is based on the concept of storage pools.  At the lower level are the physical disks and drives, combined into disk groups.  Several disk groups are combined into a single storage pool (one pool per controller), space is allocated from the pool to create volumes.  Based on virtual pools based work of a variety of functions provided by the storage system: snapshots, tiered storage, caching, scaling performance, fine allocation of disk space. <br><br>  A disk pool is not just a RAID-0 from several disk groups.  The distribution of data in the pool is dynamic.  When adding disk groups to the pool, the blocks are redistributed with data for load balancing.  The reverse operation is also possible - releasing a disk group (for example, with the goal of changing settings or for transferring to another system) if there is enough free space in the pool. <br><br><h3>  RAID Disk Groups </h3><br>  To increase fault tolerance and performance, physical disks and drives are combined into disk groups using traditional RAID levels: 1, 10, 5 and 6. The maximum number of disks in standard RAID groups is 16, to further increase the volume and performance of several disk groups are combined into a common pool.  The new version of the firmware added another type of disk groups - ADAPT. <br><br><h3>  Tiered data storage </h3><br>  Tiering is a technology that optimizes the use of drives with different levels of performance due to the dynamic redistribution of blocks with data depending on the load between the so-called tiers, arrays with different levels of performance.  In this storage system, there are three tiers: <i>Archive</i> (archival) for 7200 rpm drives, <i>Standard</i> (standard) for 10/15 kpm drives and Performance (productive) for SSD, requiring the purchase of an additional license.  It is possible to assign a priority at the volume level by assigning a binding to the archive or production tier. <br><br>  The <a href="http://www.thg.ru/storage/lenovo_ds6200_obzor/index.html">DS6200 manual</a> recommends, if possible, using two tiers instead of three to optimize performance - SSD in combination with disks 10/15 thousand rpm or 7200 rpm. <br><br><h3>  SSD cache </h3><br>  An alternative way to optimize performance is caching.  For these purposes, you can use one or two SSDs for each of the two storage pools.  The <a href="http://www.thg.ru/storage/lenovo_ds6200_obzor/index.html">DS6200</a> SSD cache is <a href="http://www.thg.ru/storage/lenovo_ds6200_obzor/index.html">read-</a> only, but it has several advantages compared to <a href="http://www.thg.ru/storage/lenovo_ds6200_obzor/index.html">long-term</a> storage: <br><br><ul><li>  The caching mechanism is simpler, it does not create an additional load on the storage system due to the lack of the need to move data. </li><li>  The read cache does not require fault tolerance. </li></ul><br><h2>  <font color="#d8291e">Storage Overview Lenovo DS6200 |</font>  <font color="#d8291e">G265 firmware enhancements</font> </h2><br>  Recently, Lenovo has released a new firmware version G265, which significantly expands the functionality of all storage systems DS series. <br><br><h3>  Rapid Data Protection </h3><br>  In addition to standard RAID groups (0, 1, 10, 5, 6), you can now create ADAPT ( <i>Rapid Data Protection Technology</i> ) disk groups.  The ADAPT array corresponds to RAID-6 in terms of failsafe; up to two disks can be lost, but, unlike traditional RAID, block allocation among disks is not strictly fixed in ADAPT.  The system can redistribute blocks with data, blocks of checksums and spare space across all disks in a group, which makes it possible, for example, to effectively use disks of different sizes in one group or add disks to a group with subsequent balancing of data placement.  The main advantage of ADAPT disk groups is a significant reduction in failover recovery time.  The estimated recovery time for a group of 96 4-TB disks when a single disk fails is only 70 minutes versus 11 or more hours in a RAID-6.  The only disadvantage of ADAPT is the limitation on the minimum number of disks - 12. <br><br><h3>  Replication </h3><br>  Asynchronous replication in the new firmware has been significantly improved.  In addition to support for replication via Fiber Channel, there is support for simultaneous replication to several target nodes, up to four. <br><br><h3>  Security </h3><br>  Added the ability to flexibly configure user access rights to the storage interface based on groups.  System logs can now be unloaded using Secure File Transfer Protocol (sFTP). <br><br><h3>  Performance improvement </h3><br>  The new firmware allows performance up to 600,000 IOPS with a delay of less than 1 ms for DS6200 systems and up to 325,000 IOPS for DS4200.  Our performance testing, the results of which are described below, shows that these indicators are true.  This high performance limit provides the Lenovo DS6200 a significant competitive advantage, the Dell SC4020 (300,000 IOPS) and the HP MSA2052 (200,000 IOPS). <br><br><h2>  <font color="#d8291e">Storage Overview Lenovo DS6200 |</font>  <font color="#d8291e">Disk Shelf Support D3284</font> </h2><br>  With the rapid growth of the volume of stored data, the standard form factor, which allows you to install 12 3.5 "disks in a 2U case, is not enough. Disk shelves with a higher density, achieved due to the vertical installation of disks and rational use of the case space, also exist in Lenovo The <a href="https://lenovopress.com/lp0513-lenovo-storage-d3284-external-high-density-drive-expansion-enclosure">D3284</a> disk shelf allows <a href="https://lenovopress.com/lp0513-lenovo-storage-d3284-external-high-density-drive-expansion-enclosure">you</a> to place 84 disks in a 5U enclosure ‚Äî almost three times as many disks per unit. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c4d/196/140/c4d196140fb672b9ad0ebe7e16a16661.png"></div><br>  Until recently, D3284 disk shelves were supported only as expansion options to Lenovo ThinkSystem servers, but now they can also be connected to DS storage systems.  The new firmware allows you to connect up to three D3284 models DS4200 and <a href="http://www.thg.ru/storage/lenovo_ds6200_obzor/index.html">DS6200</a> . <br><br><h2>  <font color="#d8291e">Storage Overview Lenovo DS6200 |</font>  <font color="#d8291e">Ez-start</font> </h2><br>  The management interface of Lenovo Storage DS systems is already quite simple and convenient, but with the addition of the EZ-Start function, the user can configure the system in just a minute.  EZ-Start is a simplified version of the corresponding tabs of the main interface.  As a result, the whole process from creating disk groups to connecting volumes to hosts can be done with a few clicks. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5db/d3f/baf/5dbd3fbaf5775bb27b64e8a921758204.png"></div><br><h2>  <font color="#d8291e">Storage Overview Lenovo DS6200 |</font>  <font color="#d8291e">Control</font> </h2><br><h3>  Command line </h3><br>  The primary means of managing storage systems for the Lenovo DS series is the Lenovo Storage Manager, an embedded application with a web interface.  By default, DSS network management interfaces are configured to use DHCP.  If there is no DHCP on your network and you need to configure the interfaces before connecting, then a serial console comes to the rescue.  You need to connect a mini-USB cable to the corresponding port of the first controller.  The port is covered with a sticker warning you to install the driver before connecting the cable.  The driver is only needed for Windows Server 2012 R2 and can be downloaded on the support page.  For Windows Server 2016, a driver is not required; for Linux, you need to load a regular usbserial module with additional parameters specified in the <a href="https://download.lenovo.com/storage/01gw901_ds-series_hwinstallmaint.pdf">ThinkSystem DS6200 / DS4200 / DS2200 / DS EXP Hardware Installation and Maintenance Guide</a> . <br><br>  After launching Tera Term using the parameters specified in the manual, you must press Enter to display the console interface.  The default login and password is manage /! Manage. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f28/768/2be/f287682be408b4ad9b1680153ab0f554.png"></div><br>  In addition to configuring service interfaces, a serial console is needed to switch the mode of operation of host ports in converged FC / iSCSI controllers.  Through the command line interface, you can perform any actions to configure and monitor storage.  It is also available on the network, via Telnet and SSH, which allows it to be used for automation. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/871/d6d/493/871d6d49390a822f1cf2a17448b6ae78.png"></div><br><h3>  Lenovo Storage Management Console </h3><br>  After configuring the network ports, you can connect to the web interface - Lenovo Storage Management Console (hereinafter - SMC).  The interface of the main screen of the SMC will be clear to any user working with such block storage systems. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a8f/2d6/be6/a8f2d6be62c2617ef54c5ced51e4ca19.png"></div><br>  At the top of the main screen (Hosts window) you can see the number of configured hosts and the corresponding initiators.  In this case, the storage system automatically determined two connections to the FC ports and indicates the presence of two initiators. <br><br>  The Ports A and Ports B windows display the status of the host ports of the first and second controllers.  The Capacity window shows the status of disk space: the number of disk groups in pools A and B, the amount allocated to them.  The unconfigured system shows the total raw disk capacity. <br><br>  At the bottom of the screen there are icons of indicators of the state of components, counters of various notifications and load indicators in IOPS and MB / s.  On the left side of the screen there are several tabs that correspond to the logical components of the system. <br><br>  We proceed to configure the system.  First you need to make sure there are no hardware errors.  The System tab shows the status of all system components, both visual, in the form of duplication of physical LED indicators, and in the form of a table (Table tab).  The Turn On LEDs button turns on the display LED on the storage system, expansion shelf, or disk so that the desired component can be found in the rack. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a1d/f9f/881/a1df9f881e32feda543096d5dc9ea054.png"></div><br>  The Hosts tab is responsible for configuring initiators and hosts.  The initiators can be grouped by hosts; several hosts can be grouped together; if there are logical volumes, they can be configured to configure their own mapping of volumes of hosts.  In this case, two initiators are displayed, corresponding to the two FC HBA ports.  There are no volumes yet, we will return to this tab later. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d2a/d6c/9fb/d2ad6c9fb14c278f483ae1ce953e5c59.png"></div><br>  On the Pools tab, create disk groups.  The screenshot shows an example of creating a RAID-10 disk group from 12 disks in pool A. Then a similar group from the remaining disks was created in pool B. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a46/467/982/a464679828dc6061ac34eb31e4f3e758.png"></div><br>  Instead of the usual disk group, you can add a group of one or two SSDs for read caching (the Read Cache item). <br><br>  On the next tab, volumes are created from the free volume in the disk pools (Virtual Volumes).  If there are different types of disks in the system (HDD 7200 rpm, HDD 10/15 thousand rpm, SSD), you can use Tiering by assigning an affiliation to the volumes with the archive tier (Archive Tier) or productive (Tiering) .  This property is responsible for the preferred distribution of data volumes to disks of the appropriate level of performance.  For example, a volume affiliated with an archive tier, whenever possible (if space is available), will always be located on 7200 rpm disks, regardless of the load on this volume.  Further, this volume can be used to store backups, and even if a significant load appears (for example, when periodically testing backups for recoverability), the system will not waste resources moving blocks from this volume to production disks.  For systems with long-term storage, the possibility of such a setting is extremely necessary, it avoids unnecessary redistribution of blocks between tiers and provides a guaranteed level of performance for priority volumes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/056/a32/7be/056a327bef77dc397ae73755291b7d05.png"></div><br>  The screenshot shows the creation of a 100 GB volume from pool A, then a similar volume was created from pool B. On the same tab, you can manage snapshots (snapshots) of volumes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/261/df0/03e/261df003e619512fb6fba4d956102752.png"></div><br>  Snapshots can be created manually or on a schedule, based on basic volumes, or based on other snapshots.  There is a snapshot update function - reset snapshot updates the selected snapshot to the current state of the volume. <br><br>  After the volumes are created, the mapping setting remains - determining the initiators' access to the volumes.  In this configuration, one host with two initiators is connected to the storage system, the first is connected to controller A, the second is connected to controller B. In this case, each of the two volumes can be primped through both initiators, the operating system will have two disks with two paths to each .  Of course, snapshots can also be connected to hosts, with read-only or read-write access. <br><br>  For multi-path I / O to work properly in Windows Server, you need to install the MPIO component.  On the Discover Multi-Paths tab, the connected storage system will be displayed, you need to select it, click the Add button to enable MPIO support and reboot the OS. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/aba/5b1/bda/aba5b1bdadace5765f773432b6ee991a.png"></div><br>  The presence of an ‚Äúoptimal‚Äù and ‚Äúnon-optimal‚Äù path to each of the volumes is due to the architecture of ALUA.  Both controllers in a storage system with such an architecture are capable of accepting requests from the host to a specific volume, but only one controller at a certain point in time is the "master" of the volume and is directly involved in servicing I / O, the second controller only sends data to it via the internal bus.  Access through the main controller is faster than through the ‚Äúalien‚Äù, so this path is considered optimal, and I / O is performed only along the optimal paths, and only if they are absent (for example, when the cable is disconnected or problems with the transceiver) switches to non-optimal ones.  In Lenovo DS storage systems, all volumes of pool A are served by the first controller (A), volumes of pool B ‚Äî controller B. The ALUA architecture, in comparison with the Active Passive, reduces the time to switch paths when a failure occurs.  The Perfomance tab allows you to monitor system performance.  The load is displayed at the level of ports, disks, disk groups and pools. <br><br><h2>  <font color="#d8291e">Storage Overview Lenovo DS6200 |</font>  <font color="#d8291e">Performance</font> </h2><br><h3>  Configuration </h3><br>  Test server characteristics: <br><br><ul><li>  Processor: Intel Xeon E5-2620 V4 </li><li>  Motherboard: Supermicro X10SRi-F, BIOS 3.0a </li><li>  Memory: 4x8 GB DDR4-2400 ECC RDIMM </li><li>  System disk: Intel S3700 100 GB </li><li>  Operating system: Microsoft Windows Server 2016 </li><li>  Load generator: FIO 3.2 </li><li>  Fiber Channel HBA: Dual Port 16 Gbps Lenovo 00Y3343 (Qlogic QLE2662) </li></ul><br>  <a href="https://lenovopress.com/tips0954-qlogic-16gb-fc-hba">The stated</a> performance limit for the used FC HBA is 500,000 IOPS and 3200 MiB / s per port.  The volume from one pool was tested; during tests, both FC HBA ports were connected to the first controller.  The performance of the disk group RAID-10 of 12 SSD Lenovo 01KP065 (Samsung PM1633a) was tested.  Testing was conducted after the completion of the initialization process of the RAID group. <br><br><h3>  Testing </h3><br>  The following test was used to evaluate the performance: <br><br><ul><li>  Block size: 4096 bytes </li><li>  Access: random (old firmware, firmware G265), sequential (firmware G265) </li><li>  Read / write ratio: 100/0, 70/30, 0/100 </li><li>  Queue depth: 1, 2, 4, 8, 16, 32, 64, 128 </li><li>  Number of threads: 1, 2, 4, 8 </li><li>  Number of rounds: 15 </li><li>  Duration of the round: 30 s </li><li>  Warming interval of the round: 5 s </li></ul><br>  The results were averaged over 4 rounds from the selected steady state window (linear approximation within the window does not go beyond the 0.9 / 1.1 bounds of the mean).  The performance of one controller was tested, with the connection of two FC 16 Gbps links.  The graphs show double IOPS values.  Before each series of tests the volume was filled with random data. <br><br><h3>  Average delay </h3><br>  <a href="http://www.thg.ru/storage/lenovo_ds6200_obzor/index.html">The DS6200 performs</a> well.  The level of the average delay with the new firmware G265 does not exceed 1 ms in almost the entire load range.  100 thousand IOPS with a mixed load with a delay of less than 0.3 ms is an excellent result for modern storage systems with SSD drives. <br><br><div style="text-align:center;"> <a href="https://lh4.googleusercontent.com/EHXicnXJtG4c5e2qmZk4X-IxGKLrVb57gjjijpMqnA_Zu7gI9f7sGIE-zYN9DFSeOYanyt6vUqe9npfNX__xvD4CWiREdLOZJqZE2h58nabAhYlSzsDYx7nKHUD_W6cv6UiJI3Yf"><img src="https://habrastorage.org/getpro/habr/post_images/cd4/279/367/cd42793677568653f3d873f6ae3aeaf8.jpg"></a> </div><br>  We decided to check the manufacturer‚Äôs specifications of 600 thousand IOPS with a delay of &lt;1 ms and random access to data.  It was possible to get about 560 thousand IOPS before reaching the average delay of 1 ms - the result is quite close to the stated.        (  65%)   FC ( SAS     ).       FC/iSCSI   ,      :            ,        ,      . <br><br><h3> 99  99,99%   </h3><br> <a href="http://www.thg.ru/storage/lenovo_ds6200_obzor/index.html">DS6200</a>     .        300 ,    .  99,99-      3  20     100%  70%  .               ,     SSD. <br><br><div style="text-align:center;"> <a href="https://lh5.googleusercontent.com/D_ubJy80odjaQRxdi7xFWtAl4x_H3_X3Kg0eT_pNWmXsxs2uluwaVRNcFok4T2qL3TEBXuinsZk45W8bE8FEaqy24Ldxzlf9hblSbkrn7EIpbzcVhDpU82onJ1Ky6NkIYNZllbZY"><img src="https://habrastorage.org/getpro/habr/post_images/254/a07/2cf/254a072cf5cb17712c9c76bc6fa85e30.jpg"></a> </div><br><div style="text-align:center;"> <a href="https://lh6.googleusercontent.com/5rNSMwb6plSmdhOppY349L9hQHqN1yu6TXI9K5_eawuknH4FgL3r8H6zlxD3P-kk2ys5cBz6hg-Gt8HL4qdSMSZWj8Gsi1m5C2s02LYl3rooXm88n1ljtAojmrONCTR7WDYKT6FU"><img src="https://habrastorage.org/getpro/habr/post_images/559/39c/be6/55939cbe6cfee231b17655481f68b03a.jpg"></a> </div><br><h2> <font color="#d8291e">  Lenovo DS6200 |</font>  <font color="#d8291e">Conclusion</font> </h2><br> Lenovo Storage DS ‚Äî         .   <a href="http://www.thg.ru/storage/lenovo_ds6200_obzor/index.html">DS6200</a>       . Lenovo     DS6200      .            .        ADAPT     . <br><br>         Lenovo Storage DS.        : SAS, iSCSI    10- , 8-  16- Fibre Channel.   (    SSD, ,    )     ,            . </div><p>Source: <a href="https://habr.com/ru/post/418617/">https://habr.com/ru/post/418617/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../418605/index.html">Analysts: Microsoft's capitalization could reach $ 1 trillion</a></li>
<li><a href="../418607/index.html">Choosing a vendor in corporate Wi-Fi</a></li>
<li><a href="../418609/index.html">120 kW of reserve energy or How to power the estate from the energy of the sun</a></li>
<li><a href="../418611/index.html">Calculation of pizzerias: Papa Jones, who does not care about security</a></li>
<li><a href="../418615/index.html">Zyxel Nebula and company growth</a></li>
<li><a href="../418619/index.html">React and SEO: how to make friends?</a></li>
<li><a href="../418621/index.html">Why engineer soft skills</a></li>
<li><a href="../418625/index.html">Andy Grove's Secret Call That Helped Apple Buy NeXT</a></li>
<li><a href="../418627/index.html">More about methods for solving systems of linear algebraic equations</a></li>
<li><a href="../418629/index.html">How to independently verify whether you can patent your product and conduct a patent search</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>