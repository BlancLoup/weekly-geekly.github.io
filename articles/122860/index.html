<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Difference Javascript from PHP o_0</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day dear% username% 
 That appeared on Habr√© such a wonderful topic Difference Javascript from PHP;) did not read, but I do not judge I do not kn...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Difference Javascript from PHP o_0</h1><div class="post__text post__text-html js-mediator-article">  Good day dear% username% <br>  That appeared on Habr√© such a wonderful topic <a href="http://habrahabr.ru/blogs/webdev/122803/">Difference Javascript from PHP;)</a> <s>did not read, but</s> I do not <s>judge</s> I do not know what it was all over all the comments could not reread, but I would like to dispel a couple of errors and inaccuracies that were made by <br><a name="habracut"></a><br>  so, let's begin <br>  "By default, everything is passed by value, and objects too <br>  In PHP, they tried to build into absolute the concept of the C language, that everything is transmitted by value.  And they initially did it even for objects, but then changed the concept a bit - objects are still values, but this value is a link to an instance of a class. ‚Äù- false, in PHP objects are passed only by reference.  <a href="http://www.php.net/manual/en/language.oop5.references.php">Objects and references</a> (% username% do I need to sort through why this is so - is there a need for a separate topic dedicated to the method of transferring objects. I don‚Äôt want to make a stupid topic-question about this first comment on this post will be a question ‚Äúis a separate topic dedicated to transfer of objects "if yes then plus, if not set minus) <br>  further example of the author <br>  <b>PHP:</b> <br><pre><code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $arr = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'key1'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'value1'</span></span>, <span class="hljs-string"><span class="hljs-string">'key2'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'value2'</span></span>, ); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doSmthWithArray</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($arr)</span></span></span><span class="hljs-function"> </span></span>{ $arr[<span class="hljs-string"><span class="hljs-string">'key3'</span></span>] = <span class="hljs-string"><span class="hljs-string">'value3'</span></span>; } doSmthWithArray($arr); print_r($arr); <span class="hljs-comment"><span class="hljs-comment">//  "key1 =&gt; value1, key2 =&gt; value2" ‚Äî    </span></span></code> </pre> <br><br>  <b>Javascript:</b> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> arr = { <span class="hljs-attr"><span class="hljs-attr">key1</span></span>: <span class="hljs-string"><span class="hljs-string">'value1'</span></span>, <span class="hljs-attr"><span class="hljs-attr">key2</span></span>: <span class="hljs-string"><span class="hljs-string">'value2'</span></span> }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doSmthWithArray</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">arr</span></span></span><span class="hljs-function">) </span></span>{ arr[<span class="hljs-string"><span class="hljs-string">'key3'</span></span>] = <span class="hljs-string"><span class="hljs-string">'value3'</span></span>; } doSmthWithArray(arr); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(arr); <span class="hljs-comment"><span class="hljs-comment">//  "key1 =&gt; value1, key2 =&gt; value2, key3 =&gt; value3" ‚Äî ..  JS,  ,    ¬´¬ª,   ,      (,    ‚Äî   . ,            ,      ,    )</span></span></code> </pre><br>  So the example is more than incorrect.  Why?  Well, in the first place in JavaScript, almost everything is an object. <br><br>  <b>‚ÄúJavaScript is almost entirely object-based.</b>  <b>JavaScript objects are associative arrays, augmented with prototypes (see below).</b>  <b>Object property names are string keys: obj.x = 10 and obj ['x'] = 10 are equivalent, it is syntactic sugar.</b>  <b>Properties and values ‚Äã‚Äãcan be added at run-time.</b>  <b>Most properties of an object chain can be enumerated using a for ... in loop.</b>  <b>JavaScript has a small number of built-in objects such as Function and Date. ‚Äù</b> <a href="http://en.wikipedia.org/wiki/Javascript">Wikipedia</a> tells us <br>  So <code>var arr</code> full-fledged object passed by reference. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In our favorite PHP, the type of <code>array</code> not an object.  (How many types are there in PHP? The <a href="http://www.php.net/manual/en/language.types.php">answer is here</a> ) but as you and I only know <code>object</code> passed by reference, everything else is by value.  That is why in the author‚Äôs example the source array remains unchanged.  Is it possible to cast an array to an object?  Yes <br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $arr = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'key1'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'value1'</span></span>, <span class="hljs-string"><span class="hljs-string">'key2'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'value2'</span></span>, ); $ArrayObject = (object) $arr; var_dump($ArrayObject); $anotherArrayObject = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayObject($arr); var_dump($anotherArrayObject);</code> </pre><br><br>  Either we explicitly convert to the type object or use the built-in class <a href="http://php.net/manual/en/class.arrayobject.php">ArrayObject</a> in the first case <code>$ArrayObject</code> becomes an object whose properties are the keys of the original array, and the values ‚Äã‚Äãof these properties are the values ‚Äã‚Äãof the array.  In the second case, our array has become an object of type ArrayObject which you can familiarize with by the link above.  And now when our array has become an object, let's launch an example of the author of the original article with modifications. <br><pre> <code class="php hljs">$arr = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'key1'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'value1'</span></span>, <span class="hljs-string"><span class="hljs-string">'key2'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'value2'</span></span>, ); $arr = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayObject($arr); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doSmthWithArray</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($arr)</span></span></span><span class="hljs-function"> </span></span>{ $arr[<span class="hljs-string"><span class="hljs-string">'key3'</span></span>] = <span class="hljs-string"><span class="hljs-string">'value3'</span></span>; } doSmthWithArray($arr); print_r($arr); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $arr[<span class="hljs-string"><span class="hljs-string">'key3'</span></span>];</code> </pre><br>  Now run this code and look at the result!  Well, what are the objects transmitted in PHP by reference? <br><pre> <code class="php hljs">ArrayObject Object ( [storage:ArrayObject:<span class="hljs-keyword"><span class="hljs-keyword">private</span></span>] =&gt; <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span> ( [key1] =&gt; value1 [key2] =&gt; value2 [key3] =&gt; value3 ) ) value3</code> </pre><br>  Then the author of the original article goes this: <br>  "Copy-on-write <br><br>  This is definitely not everyone knows about it.  In short: at least in PHP and everything is transmitted by value, but, in fact, copying is not always.  It occurs when the value changes inside the structure, as, for example, was in the first example.  But this is not the only time a copy is made.  More on this link. "I do not quite understand what it is about.  We have already found out that simple types are passed by value to objects by reference. <br><br>  All read up to this place many thanks.  I hope I explained a bit of confusion with the transfer of objects by reference.  Yes, do not forget about the mini vote.  For any inaccuracies, errors, unpleasant design, I will forgive forgiveness in advance and even if nobody needs this topic :) <br><br>  <b>UPD1:</b> Gentlemen is the topic of the answer to the <a href="http://habrahabr.ru/blogs/webdev/122803/">Difference of Javascript from PHP;)</a> <br>  <b>UPD2:</b> Minus what exactly you do not agree?  In that in PHP the object is transferred on the link? <br>  <b>UPD3:</b> Maybe I put it wrong but <br>  <b>Passing a parameter by value</b> <br><br>  Passing a parameter by value means that the caller copies into the memory available to the callee (usually the stack) the immediate value.  <b>Changing a copy of a variable, respectively, does not affect the original.</b> <br><br>  <b>Passing parameter by reference</b> <br>  Passing a parameter by reference means that it is not the value itself that is being copied, but the address of the original variable. <br>  Passing by reference allows you to avoid copying all the information describing the state of the object.  <b>Changing the state of a parameter passed by reference leads to changes in the original object.</b> <br><br>  Thus, all I wanted to say is that objects are already passed by reference (yes, in fact, we get a transmission by value of an <b>address in memory, by which the original object can be found</b> ) But let's reduce everything to the following simple type is passed by value ( <b>Change copies of the variable, respectively, the original does not affect.</b> ) <br>  , object by reference ( <b>Changing the state of a parameter passed by reference entails changes to the original object.</b> ) <br><pre> <code class="php hljs">$test = <span class="hljs-string"><span class="hljs-string">'LOREM IPSUM'</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">byValue</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($param)</span></span></span><span class="hljs-function"> </span></span>{ $param = strtolower($param); } byValue($test); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $test.PHP_EOL; $object = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> stdClass(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">byReference</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($param)</span></span></span></span>{ $param-&gt;foo = <span class="hljs-string"><span class="hljs-string">'bar'</span></span>; } byReference($object); var_dump($object);</code> </pre><br><br>  I have questions in person, I‚Äôll answer everything, I just can‚Äôt work as I do now.  I will answer as I am released thanks. </div><p>Source: <a href="https://habr.com/ru/post/122860/">https://habr.com/ru/post/122860/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../122851/index.html">New console based on Dingux - R480</a></li>
<li><a href="../122853/index.html">T-shirt for phone</a></li>
<li><a href="../122855/index.html">On the issue of two-factor authentication using mobile devices</a></li>
<li><a href="../122858/index.html">Switchvox - another Digium star</a></li>
<li><a href="../122859/index.html">Bulk labeling and uploading images in Picasa Web Albums</a></li>
<li><a href="../122861/index.html">Review of the DVR Karkam Q2</a></li>
<li><a href="../122862/index.html">And if I do not sing a song ...</a></li>
<li><a href="../122864/index.html">IRC training "One day with the Debian Perl Team"</a></li>
<li><a href="../122866/index.html">Steve Ballmer in advertising the first version of Windows</a></li>
<li><a href="../122869/index.html">Update NuGet 1.4, what's new?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>