<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Bacula: for those who need to quickly and in pictures</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day to all those who are going to make backups all the time. 

 In this post I will try to make life easier for those who try to get acquainted w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Bacula: for those who need to quickly and in pictures</h1><div class="post__text post__text-html js-mediator-article">  Good day to all those who are going to make backups all the time. <br><br>  In this post I will try to make life easier for those who try to get acquainted with this system.  I will not tell anything supernatural, just add something that I myself would need.  The basis for this is a well-written <a href="http://habrahabr.ru/post/135291/">post</a> , so there is no point in rewriting and copying. <a name="habracut"></a><br>  And so, we open the article, we study, we understand that there is a mess in our head and we open the schemes and go ahead!  The schemes turned out to be big, because they contain all the parameters from the above mentioned article.  You will only have to drive your data into the schema, follow the dependency arrows (all that is noted by any kind of arrows you need to check / replace), and copy the text into your configs.  I don‚Äôt need to copy the same blocks many times, if such a block is just left (well, you never know, maybe someone didn‚Äôt understand)! <br>  All in charts and pictures, for ease of information consumption.  I hope this will make your life easier! <br><br><div class="spoiler">  <b class="spoiler_title">Prehistory or how I switched to the side of admins who regularly make backups</b> <div class="spoiler_text">  June is the month, my wife got a driver's license and closed the session, and we have to go and pick her up with the child from the Penza province (we live in Moscow).  I took the first two weeks of vacation for the last 5 years of my life, copied all the accounting bases on the NAS, made a backup archive with Zimbra mail and put it on the second NAS and with a pure soul went to my wife. <br>  Friday's day did not foretell any events, but at 5 pm a colleague calls and says that the post office does not plow.  Thin notes of excitement ran through me, because connecting to the servers was problematic - I'm in a deep forest in a ‚Äúsecret‚Äù military camp!  I am for a 3G modem - and it is buggy and refuses to connect.  I'm on the phone - only EDGE.  And here I notice that the laptop reported on WIFI networks - the funny thing is, there are several without a password.  Well, who else would even think to password WIFI in the deep forest.  Further more fun - the first test says that it is 10mb / s to Penza.  But the happiness was not complete: having connected to the computer, I understand that the VMWare admin panel is hard on me, and then I issued a message that I cannot connect to any virtual machine on one of the servers.  I sent the server to reboot from which it never came out.  I ask a colleague to reboot the server hard and connect the monitor in one.  After a couple of minutes, a colleague calls back and says that the server cannot find the OSes and some 2 lights are on the front panel.  Yes, the very light bulbs that hinted that I was waiting for a quick return to Moscow for the resurrection of the server. <br>  In the evening, before leaving, I was bitten by bees, my face was swollen and my eyes were sore, so I had to go as a passenger.  But the new driver did an excellent job on the road and after a day I was at work. <br>  Fears were confirmed - 2 HDDs from 8 in Raid 50 fell. It is clear that I lost everything on that server.  I went to the NAS where the archive was located from the post office - but the NAS was not online!  I climbed under the ceiling (NAS is stored there) and brought it to me, and it is with factory settings.  What happened I do not know, but it was reset and formatted the HDD.  Mailer was lost completely.  While I was waiting for warranty HDD resurrected everything on the second server.  But since then I have decided that the reservation system should be dealt with in full.  I was saved by the fact that my users use email clients, from which all correspondence was resurrected.  But it is a long time and not pleasant.  Now I treat those who are already doing backups centrally. <br>  As a result: the raid is now 51 and the HDD is in reserve.  For half a year in 2 servers I lost 6 more HDDs.  The reasons are not clear.  HP also could not say what it is connected with. <br></div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/c53/039/119/c530391197cf55fc975de7ccb7b39e29.jpg"></a> <br><br>  <a href="https://drive.google.com/file/d/0B21LghPmkHwbYk9XVWlEcDdITjA/edit%3Fusp%3Dsharing">Scheme for Kubuntu client in odg format</a> <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/c53/039/119/c530391197cf55fc975de7ccb7b39e29.jpg"></a> <br><br>  <a href="https://drive.google.com/file/d/0B21LghPmkHwbaXZBOXlZSXpUbU0/edit%3Fusp%3Dsharing">Scheme for Windows client in odg format</a> <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/828/ca5/ea9/828ca5ea91dd6e6b0425167ca92effde.jpg"></a> <br><br>  <a href="https://drive.google.com/file/d/0B21LghPmkHwbbjhhXzFKNlMzYUk/edit%3Fusp%3Dsharing">Scheme for server Bacula in odg format</a> <br><br><h3>  Explanation of schemes </h3><br>  1. I used the NAS D'Link DNS 323 as a NAS storage, it was mounted in the / media / folder, each NAS disk in its / media / nfs_linbackup_v1 / and / media / nfs_linbackup_v2 / folders. <br>  2. Unlike articles in the scheme, other names of servers and items.  I could not understand the titles from the article (in principle, for this reason, the scheme appeared). <br>  3. Three schemes are laid out: for Linux, Windows and separately for the server.  Scheme 3 (Schem_center) is the backup configuration of the server itself and is based on default settings from templates.  I did not implement it as unnecessary to me personally.  But if you decide to do this, then simply add the missing blocks of code to the files already created. <br><br>  Director section /etc/bacula/bacula-dir.conf <br><br>  1. Center.domain.local - the backup server is also 192.168.1.100; <br>  2. Password Director "Center.domain.local" - "Passdir_1"; <br>  3. Configuration file for client kub-fd - @ / etc / bacula / client-conf / client-dir-kubuntu.conf <br><br>  For Kubuntu customer <br><br>  Section /etc/bacula/client-conf/client-dir-kubuntu.conf <br><br>  1. kub-fd - the client is also 192.168.1.20 (OS Kubuntu 13.10); <br>  2. Password of the client ‚ÄúPassClient_3‚Äù; <br>  3. The name of the repository is ‚ÄúKubunt-nfs‚Äù (used in the task for a general description of the repository and an indication of the data storage devices themselves) <br>  4. The name of the device is ‚ÄúKubFileStorage‚Äù (used as a link to a specific physical storage device in the /etc/bacula/bacula-sd.conf file); <br>  5. File-set name - ‚ÄúKubFileSet‚Äù (describes what we will copy or exclude from copying); <br>  6. The name of the pool is ‚Äúpoolkubnfs‚Äù (describes the type of pool, how large should the base of backups be and how much should they be stored). <br>  7. The name of the scheduler (he is a sheduler) - ‚ÄúKubDiff‚Äù (sets the schedule and type of operation performed, that is, full on Saturdays, differential for all other days); <br><br>  Section /etc/bacula/bacula-sd.conf <br><br>  1. Storage server name - "center-sd" <br>  2. Address of the server on which the STORAGE service is launched - SDAddress = 192.168.1.100 <br>  3. Link to the client configuration file KubFileStorage @ / etc / bacula / client-conf / client-sd-kubuntu.conf <br><br>  For the WinSrv client section /etc/bacula/client-conf/client-dir-winsrv.conf <br><br>  1. winsrv-fd - the client is also 192.168.1.40 (OS WinServ2003) <br><br>  All other explanations in the text of the comments. <br><br><div class="spoiler">  <b class="spoiler_title">What happened: the contents of the configuration files</b> <div class="spoiler_text"><div class="spoiler">  <b class="spoiler_title">bacula-dir.conf</b> <div class="spoiler_text"><pre><code class="bash hljs">Director { Name = center.domain.local-dir <span class="hljs-comment"><span class="hljs-comment">#   ,   default DIRport = 9101 #   ,   sql    #  Bacula Catalog(mysql database) QueryFile = "/etc/bacula/scripts/query.sql" #      WorkingDirectory = "/var/lib/bacula" # pid   PidDirectory = "/var/run/bacula" #      Maximum Concurrent Jobs = 1 #     BC    Password = "Passdir_1" #   mail',    Messages Messages = Daemon #      DirAddress = 192.168.1.100 } Messages { #      Director Name = Daemon #    email mailcommand = "/usr/sbin/bsmtp -h localhost -f \"\(Bacula\) \&lt;%r\&gt;\" -s \"Bacula daemon message\" %r" #     (root   admins@domain.ru) #   ,     mail = milo@mydomena.ru = alert,error,fatal,terminate, !skipped #     console = all, !skipped, !saved #    append = "/var/log/bacula/bacula.log" = all, !skipped } Console { Name = center.domain.local-mon Password = "Passdir_1" CommandACL = status, .status } Messages { Name = Standard mailcommand = "/usr/sbin/bsmtp -h localhost -f \"\(Bacula\) \&lt;%r\&gt;\" -s \"Bacula: %t %e of %c %l\" %r" operatorcommand = "/usr/sbin/bsmtp -h localhost -f \"\(Bacula\) \&lt;%r\&gt;\" -s \"Bacula: Intervention needed for %j\" %r" mail = root = all, !skipped operator = root = mount console = all, !skipped, !saved append = "/var/log/bacula/bacula.log" = all, !skipped catalog = all } Catalog { Name = MyCatalog dbname = "bacula"; DB Address = ""; dbuser = "bacula"; dbpassword = "SQL_pass" } #       ,    #     - @     , #       @/etc/bacula/client-conf/client-dir-kubuntu.conf @/etc/bacula/client-conf/client-dir-winsrv.conf</span></span></code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">bacula-sd.conf</b> <div class="spoiler_text"><pre> <code class="bash hljs">/etc/bacula/bacula-sd.conf (  ) Storage { <span class="hljs-comment"><span class="hljs-comment">#   SD Name = center-sd #   SDPort = 9103 #   (  ) WorkingDirectory = "/var/lib/bacula" # pid   Pid Directory = "/var/run/bacula" #    ip SDAddress = 192.168.1.100 } Director { #  DD,  ,     Name = center.domain.local-dir #  Password = "Passtor_2" } #       ,    #     - @          #   @/etc/bacula/client-conf/client-sd-kubuntu.conf @/etc/bacula/client-conf/client-sd-winsrv.conf</span></span></code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">bacula-fd.conf</b> <div class="spoiler_text"><pre> <code class="bash hljs">Director { Name = center.domain.local-dir Password = <span class="hljs-string"><span class="hljs-string">"PassClient_01"</span></span> } FileDaemon { Name = center.domain.local-fd FDport = 9102 WorkingDirectory = /var/lib/bacula Pid Directory = /var/run/bacula Maximum Concurrent Jobs = 20 FDAddress = 192.168.1.100 <span class="hljs-comment"><span class="hljs-comment">#     } Messages { Name = Standard director = center.domain.local-dir = all, !skipped, !restored }</span></span></code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">bconsole.conf</b> <div class="spoiler_text"><pre> <code class="bash hljs">Director { Name = center.domain.local-dir DIRport = 9101 Address = 192.168.1.100 Password = <span class="hljs-string"><span class="hljs-string">"Passdir_1"</span></span> }</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">client-dir-kubuntu.conf</b> <div class="spoiler_text"><pre> <code class="bash hljs">Client { <span class="hljs-comment"><span class="hljs-comment">#  Name = kub-fd # ip   Address = 192.168.1.20 # ,    FDPort = 9102 #  mysql   Bacula Catalog = MyCatalog #   FD Password = "PassClient_3" #         #    ,     #  (   !!) File Retention = 30 days #  ,     Job Retention = 2 months #    ( mysql)  #   AutoPrune = yes } Storage { #     Name = Kubunt-nfs Password = "Passtor_2" # fqdn   Address = 192.168.1.100 #    SDPort = 9103 #      SD Device = KubFileStorage #           #  bacula( # /media/nfs_linbackup_v1/kubuntu/Vol0001) Media Type = File } Schedule { Name = "KubDiff" Run = Level=Full on sat at 15:01 Run = Level=Differential on tue-fri at 15:02 } Pool { #  ,      Name = poolkubnfs #  ,       Pool Type = Backup #    (   1-, #  2-,  3-, 3-  -   1-) AutoPrune = yes #    bacula catalog ( mysql  ) #    Recycle = yes #       (Voumes) #    ,     #   Volume Retention = 5 days Maximum Volume Bytes = 1G Maximum Volumes = 3 LabelFormat = "Kubvol" } FileSet { Name = "KubFileSet" Include { Options { #      , #      md5 signature = MD5 } #  ,    File = /var/backups/opt/ File = /etc/hosts File = /etc/host.conf File = /etc/network/interfaces File = /etc/dnsmasq.conf File = /etc/resolv.conf File = /etc/ntp.conf File = /home/rk/testbackup/ } Exclude { #      File = /home/rk/testbackup/NTFS.dmg } } Job { #   Name = "BackupKubFull" # (backup or restore) Type = Backup # (,   # ) Level = Full #  SD  Storage = Kubunt-nfs #  -(   # ,    ) FileSet="KubFileSet" #   Schedule = "KubDiff" #  (     # (volume)    ) Pool = poolkubnfs #   Client=kub-fd #       , #     , #    ,   #   -    ,  #   Write Bootstrap = "/var/lib/bacula/%n.bsr" #   messages,   #     Messages = Standard #      #(   -    !) ClientRunBeforeJob = "/root/sh/before_bg_db_backup.sh" #      ClientRunAfterJob = "/root/sh/after_bg_db_backup.sh" #     !!! } Job { #      Name = "RestoreKub" Type = Restore Client=kub-fd FileSet="KubFileSet" Storage = winsrv-nfs Pool = poolkubnfs Messages = Standard #      #   .       # ,       Where = /home/rb/1/ }</span></span></code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">client-dir-WinSrv.conf</b> <div class="spoiler_text"><pre> <code class="bash hljs">Client { <span class="hljs-comment"><span class="hljs-comment">#  Name = winsrv-fd # ip   Address = 192.168.1.40 # ,    FDPort = 9102 #  mysql   Bacula Catalog = MyCatalog #   FD Password = "PassClient_3" #         #    ,     #  (   !!) File Retention = 30 days #  ,     Job Retention = 2 months #    ( mysql)  #   AutoPrune = yes } Storage { #     Name = winsrv-nfs Password = "Passtor_2" # fqdn   Address = center.domain.local #    SDPort = 9103 #      SD Device = winsrvFileStorage #      NFS NAS    #  bacula( /backup/bgbilling/Vol0001) Media Type = File } Schedule { Name = "WinDiff" Run = Level=Full on sat at 00:02 Run = Level=Differential on tue-fri at 00:03 } Pool { #  ,      Name = poolwinsrvnfs #  ,       Pool Type = Backup #    (   1-, #  2-,  3-, 3-  -   1-) AutoPrune = yes #    bacula catalog ( mysql  ) #    Recycle = yes #       (Voumes) #    ,     #   Volume Retention = 5 days Maximum Volume Bytes = 1G Maximum Volumes = 3 LabelFormat = "winvol" } FileSet { Name = "WinFileSet" #VSS    ,   #    Enable VSS = no Include { Options { compression = GZIP signature = MD5 portable=yes noatime = yes checkfilechanges = yes Ignore Case = yes wildfile = "*.avi" wildfile = "*.wmv" wildfile = "*.mp3" wilddir = "System Volume Information" exclude = yes } #  ,    File = "C:/Buh" File = "C:/Supply" File = "C:/Doc" } Exclude { File = "C:/Doc/myphoto/" } } Job { #   Name = "BackupWinFull" # (backup or restore) Type = Backup # (,   # ) Level = Full #  SD  Storage = winsrv-nfs #  -(   # ,    ) FileSet="WinFileSet" #   Schedule = "WinDiff" #  (     # (volume)    ) Pool = poolwinsrvnfs #   Client=winsrv-fd #       , #     , #    ,   #   -    ,  #   Write Bootstrap = "/var/lib/bacula/%n.bsr" #   messages,   #     Messages = Standard } Job { #      Name = "ResotreWinsrv" Type = Restore Client=winsrv-fd FileSet="WinFileSet" Storage = winsrv-nfs Pool = poolwinsrvnfs Messages = Standard #      #   .       # ,       Where = /1/ }</span></span></code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">client-sd-kubuntu.conf</b> <div class="spoiler_text">  Device { <br>  # Name, name and password compliance will be discussed below. <br>  Name = KubFileStorage <br>  # type of <br>  Media Type = File <br>  # directory where files of this device are located (volumes, volumes) <br>  Archive Device = / media / nfs_linbackup_v1 / kubuntu <br>  # new volumes will be called up according to Pool settings (Vol * here), see <br>  # config DD <br>  LabelMedia = yes; <br>  # for a File device should be like this <br>  Random Access = Yes; <br>  # if the device is open, use it <br>  AutomaticMount = yes; <br>  I think it is clear =) <br>  RemovableMedia = no; <br>  # open only when the corresponding task starts <br>  AlwaysOpen = no; <br>  } <br></div></div><br><div class="spoiler">  <b class="spoiler_title">client-sd-winsrv.conf</b> <div class="spoiler_text">  Device { <br>  # Name, name and password compliance will be discussed below. <br>  Name = winsrvFileStorage <br>  # type of <br>  Media Type = File <br>  # directory where files of this device are located (volumes, volumes) <br>  Archive Device = / media / nfs_linbackup_v2 / winsrv <br>  # new volumes will be called up according to Pool settings (Vol * here), see <br>  # config DD <br>  LabelMedia = yes; <br>  # for a File device should be like this <br>  Random Access = Yes; <br>  # if the device is open, use it <br>  AutomaticMount = yes; <br>  I think it is clear =) <br>  RemovableMedia = no; <br>  # open only when the corresponding task starts <br>  AlwaysOpen = no; <br>  } <br></div></div><br><div class="spoiler">  <b class="spoiler_title">ClientPCKUBUNT_usr_local_etc_bacula-fd.conf</b> <div class="spoiler_text">  Director { <br>  Name = center.domain.local-dir <br>  Password = "PassClient_3" <br>  } <br>  FileDaemon { <br>  Name = kub-fd <br>  FDport = 9102 <br>  WorkingDirectory = / var / lib / bacula <br>  Pid Directory = / var / run / bacula <br>  Maximum Concurrent Jobs = 20 <br>  FDAddress = 192.168.1.20 # client's address or name <br>  } <br>  Messages { <br>  Name = Standard <br>  director = center.domain.local-dir = all,! skipped,! restored <br>  } <br></div></div><br><div class="spoiler">  <b class="spoiler_title">ClientPCWIN_backup_bacula_winsrv-fd.conf</b> <div class="spoiler_text">  # Client (File Services) to backup <br>  Client { <br>  Name = winsrv-fd <br>  Address = 192.168.1.40 <br>  FDPort = 9102 <br>  Catalog = MyCatalog <br>  Password = "PassClient_3" <br>  File Retention = 30 days <br>  Job Retention = 2 months <br>  AutoPrune = yes <br>  } <br></div></div><br><div class="spoiler">  <b class="spoiler_title">ClientPCWIN_ProgramFiles_Bacula_bacula-fd.conf</b> <div class="spoiler_text">  Director { <br>  Name = center.domain.local-dir <br>  Password = "PassClient_3" <br>  } <br>  FileDaemon { <br>  Name = winsrv-fd <br>  FDport = 9102 <br>  WorkingDirectory = "C: \\ Program Files \\ Bacula \\ working" <br>  Pid Directory = "C: \\ Program Files \\ Bacula \\ working" <br>  # Plugin Directory = "C: \\ Program Files \\ Bacula \\ plugins" <br>  Maximum Concurrent Jobs = 10 <br><br>  Messages { <br>  Name = Standard <br>  director = center.domain.local-dir = all,! skipped,! restored <br>  } <br></div></div><br></div></div><br><br><h3>  How to drive these locomotives </h3><br>  Our locomotive wound up and seemed to rush into our happy future.  But you should always look at him.  To do this, smart people came up with the Bacula Administration Tool (BAT).  To use it, you need to install it from the repositories.  Since all the distributions are different, we will not go into details.  But it should be set up.  To do this, open the /etc/bacula/bat.conf file on the computer from which we will manage and make changes: <br><br><pre> <code class="bash hljs">Director { Name = center.domain.local-dir DIRport = 9101 address = 192.168.1.100 Password = <span class="hljs-string"><span class="hljs-string">"Passdir_1"</span></span> }</code> </pre><br>  If everything is configured correctly, run the Bacula Administration Tool and see a similar window: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/009/9ae/bd7/0099aebd7edda64da76c0ccc710fb040.jpg"><br><br>  Next, we need to see what all the tasks we have done - the JOBS tab.  Especially this tab is useful to us when we will restore something. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8a3/9bf/bfc/8a39bfbfc597c0dc997fbded428cd9cc.jpg"><br><br>  Next, we will be interested to see what technology has already managed to do - tab Jobs Run <br><br><img src="https://habrastorage.org/getpro/habr/post_images/140/ffa/93e/140ffa93efad0741925f5df44a4d1b6d.jpg"><br><br>  And if you double-click on the task, we get full information about what has been done, for how much and how things are. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/720/0ba/1e2/7200ba1e2ec8e233daee004a8e59775c.jpg"><br><br>  Be sure to browse the Media tab, where we are clearly shown the occupancy of our files and their rewriting (Extremely handy thing, which allows us to determine if everything is good with our place. But then I went over the number of Wolums and my NAS quickly overflowed.) <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0b7/93a/17a/0b793a17a1a990be571e20818d9b239d.jpg"><br><br>  And now the most important thing is how to recover.  We already know the JOBS_RUN tab and select the completed task that has the file we need.  But it happens that we do not know if the file we need is there.  Clicking with the right button we get the menu in which you need to select ‚ÄúList files on job‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/145/eb9/da7/145eb9da7988bf09115231bdd60c8f25.jpg"><br><br>  Making sure that we have the file we need, go back to ‚ÄúJobs Run‚Äù and on the task we need, call the context menu and select ‚ÄúRestore from Job‚Äù - restore from the task or ‚ÄúRestore from Time‚Äù - restore by time.  In the window that appears, you can choose - by job number, or, in general, by task, by checking all settings in one. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7d7/f58/d5e/7d7f58d5ee945707a1e09c15867304c7.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/f7b/4a2/566/f7b4a2566ed8e1722b0c16ffc10dcb50.jpg"><br><br>  Click "OK" and after a few seconds our eyes will see a tree of files saved in this task, where we need to check the files of interest. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/70f/3be/ae1/70f3beae14f8a5de3f720b07ca1257ae.jpg"><br><br>  After selecting the files, the system will prompt us to select the task that we will restore.  An interesting feature is that if you do not have a restoration task for this particular client, you can use any restoration task only by changing the task parameters before applying it (see below).  Click "OK" and enjoy the task. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e4c/0e7/d47/e4c0e7d4797dfd31d1c9f21abafae2c7.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/3de/bac/1d2/3debac1d2fdf07ffb8affae1a56464ca.jpg"><br><br>  That's basically it.  I hope the article will find its reader.  All files used in the article are on my <a href="https://drive.google.com/folderview%3Fid%3D0B21LghPmkHwbNnZkVS1nSGszMUE%26usp%3Dsharing">disk.</a> <br>  Maybe too many pictures and texts, maybe there are mistakes, maybe some serious details are missing, but I tried to facilitate the use of the program for those who do not want to go deep (well, or for those who have little experience, for example for me). <br>  PS The main thing that it worked, and everything else is not important </div><p>Source: <a href="https://habr.com/ru/post/211755/">https://habr.com/ru/post/211755/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../211739/index.html">Proper Use of Yii</a></li>
<li><a href="../211741/index.html">6 things that Satya Nadella has to do right now</a></li>
<li><a href="../211743/index.html">Using CRTP Pattern in C #</a></li>
<li><a href="../211747/index.html">Do you know arrays?</a></li>
<li><a href="../211751/index.html">Just about make</a></li>
<li><a href="../211759/index.html">Installing software from source for MGTS ZTE F-660 router in chroot environment</a></li>
<li><a href="../211761/index.html">New buttons and a single payment solution Yandex.Money: two free seminars in Moscow</a></li>
<li><a href="../211763/index.html">IT certification from an employer's perspective</a></li>
<li><a href="../211765/index.html">The first version of the Cppcheck integration module in Visual Studio with open source has been released.</a></li>
<li><a href="../211767/index.html">What bread crumbs do online stores need (68% of websites make mistakes)?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>