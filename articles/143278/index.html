<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Certificate Planning for Exchange</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, our specialist encountered the problem of minimizing the SAN fields in the Exchange certificate of the client (the certificate is paid, ther...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Certificate Planning for Exchange</h1><div class="post__text post__text-html js-mediator-article">  Recently, our specialist encountered the problem of minimizing the SAN fields in the Exchange certificate of the client (the certificate is paid, there is no TMG - that is, the same certificate for internal and external users is obtained). <br><br>  They have NLB cluster, so also the name of the AD domain and the external one do not match (contoso.local and contoso.ru).  Ideally, it would be like this: <br>  1. mail.contoso.ru (external fqdn) <br>  2. autodiscover.contoso.ru <br>  3. cashub1.contoso.local (int fqdn for InternalNLBBypassUrl and SMTP, UM) <br>  4. cashub2.contoso.local (int fqdn for InternalNLBBypassUrl and SMTP, UM) <br>  5. cashubnlb.contoso.local (fqdn ClientAccessArray and for InternalUrls) <br>  6. mail (Short name, not to type a lot of letters) <br>  7. cashub1 (Short name so as not to type a lot of letters) <br>  8. cashub2 (Short name, not to type a lot of letters) <br><br>  Total 8 names - <i>it is very expensive</i> ! 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Go:</b> <a name="habracut"></a><br><br>  <b>1. You</b> can immediately refuse short names, because you shouldn‚Äôt relax when typing an address!  (Officially, it‚Äôs not necessary to use the server. If you‚Äôre logging on it. necessary. - <a href="http://blogs.technet.com/b/exchange/archive/2007/07/02/3403301.aspx">blogs.technet.com/b/exchange/archive/2007/07/02/3403301.aspx</a> ). <br><br>  <b>2.</b> We do Split DNS and all InternalUrl as well as AutodiscoverServerInternalUri are registered in mail.contoso.ru instead of cashubnlb.contoso.local. <br><br>  <b>3.</b> For ClientAccessArray set the value in cashubnlb.contoso.local.  An identical value as for HTTPS is not recommended, since Outlook will be slow from the outside.  And in the certificate it is not required because it is used for MAPI connections, and SSL is not used.  Array is not allowed to use the CAS. It is recommended that you use the CAS. Doing this (using the same FQDN) will result in a significant Outlook Anywhere timeouts / delays for external users. <a href="http://social.technet.microsoft.com/Forums/en-US/exchange2010/thread/8e25cee3-dea3-41c8-886f-9152992dd598/">-9152992dd598</a> ). <br><br>  <b>4.</b> If we create an SRV autodiscover entry, then there may be no autodiscover entry in the certificate at all.  (It is possible to check the Autodiscover service for the DNS service.) It should not be a record (Witout autodiscover.) xxx.org for the DNS in the certificate, you can‚Äôt have it configured.).  But this is too much ... <br><br>  <b>5.</b> For SMTP and UM services, you can use a self-signed or internal certificate, so the intFQDN can be waived. <br><br>  <b>6.</b> Since InternalNLBBypassUrl still remains, BPA will swear at it, but it will not affect its work.  - <a href="http://social.technet.microsoft.com/Forums/da-DK/exchangesvradmin/thread/54d2c3ae-3a12-4cbd-9ea1-70832e1b593a">social.technet.microsoft.com/Forums/da-DK/exchangesvradmin/thread/54d2c3ae-3a12-4cbd-9ea1-70832e1b593a</a> ). <br><br>  <i>After some simple manipulations we get:</i> <br>  1. mail.contoso.ru (external fqdn) <br>  2. autodiscover.contoso.ru <br><br>  <b>Everything!</b> </div><p>Source: <a href="https://habr.com/ru/post/143278/">https://habr.com/ru/post/143278/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../143273/index.html">Using eEPC notation to graphically describe business processes</a></li>
<li><a href="../143274/index.html">Notes ardent spammer (Chukchi not a reader!)</a></li>
<li><a href="../143275/index.html">Lake.js: jQuery plugin to reflect the illustrations as if in the lake water</a></li>
<li><a href="../143276/index.html">A typical error when installing COOKIE in PHP</a></li>
<li><a href="../143277/index.html">Accurate determination of the region by GPS coordinates</a></li>
<li><a href="../143279/index.html">Jazz and java</a></li>
<li><a href="../143280/index.html">Startup preparation</a></li>
<li><a href="../143283/index.html">QML and QtQuick Webinars: Lists. Models and representations</a></li>
<li><a href="../143284/index.html">Platform for online tutoring in Russia: a view from the inside</a></li>
<li><a href="../143285/index.html">Secret Guild of the Silicon Valley</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>