<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Disaster-resistant IaaS, as well as replication and backups</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We live the time when information volumes are growing faster and faster every day. In parallel with this, the needs of business are growing. The growt...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Disaster-resistant IaaS, as well as replication and backups</h1><div class="post__text post__text-html js-mediator-article"> <a href="https://habrahabr.ru/company/it-grad/blog/279223/"><img src="https://habrastorage.org/files/7e9/c92/14e/7e9c9214e41f4504a89505bde04b9ba8.png" width="700"></a> <br><br>  We live the time when information volumes are growing faster and faster every day.  In parallel with this, the needs of business are growing.  The growth of the popularity of virtualization and cloud computing has leveled off in the capabilities of both small and large companies, therefore it has become necessary to change the approaches to data integrity. <br><br>  <a href="http://iaas-blog.it-grad.ru/katastrofoustoychivoe-reshenie-s-ispolzovaniem-iaas/">There is a</a> so-called disaster recovery solution (Disaster Recovery Solution or DRS), which is often confused with a <a href="https://habrahabr.ru/company/it-grad/blog/241019/">high availability</a> system.  However, there is a difference between these concepts, and this is the permissible scale of the accident.  DRS systems can recover from a major failure of several data centers at once, without paralyzing the services for a long time. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      When it comes to systems of this class, people often imply a backup data center that serves as a springboard for transferring workload and data from a non-working place.  There are three types of data centers: cold reserve, warm reserve and hot reserve.  Cold reserve is often low-end servers that are ordered and configured after an accident occurs, and the data is transferred to them on magnetic tapes or disks.  ‚ÄúRaising‚Äù of this infrastructure can drag on for several days or weeks and depends on suppliers, transport and personnel skills. <br><br>  Warm reserve is the weaker servers in the minimum number necessary to run critical systems;  they are connected, activated and always ready to transfer the load.  To start such a system takes no more than one day.  Hot spares are servers whose performance corresponds to the servers of the main site;  in this case, all data is replicated regularly and permanently.  Since there is a ready-made infrastructure, channels, software, and it all comes together automatically, the launch of such a system occurs within one hour (often less). <br><br>  It is the warm version that is now used by many companies because of the acceptable cost and quite good temporal indicators.  But if you use a backup site based on IaaS, then you can get even a hot version without a significant increase in the budget.  DRS in the cloud infrastructure is not particularly different from the classic solutions, but it has several tangible benefits. <br><br>  If earlier organization of a LUN replica required compatible storage systems with special licenses, now it is enough to put a couple of daws in a virtual environment (the same vSphere vSAN), and the popular vector for outsourcing and cloud computing allows you to outsource some corporate services.  This makes it possible to exclude highly specialized employees from the state and begin to build their own management and monitoring system. <br><br>  Selecting a backup data center should: <br><br><ul><li>  Ensure that users can work not only from the main office, but also from any other place (decentralization useful in case of a large-scale accident) </li><li>  Backup data center should have an availability indicator close to 100% per year.  In practice, this means the maximum number of nines after the decimal point (99.0%, ..., 99.999%) </li><li>  Data on the emergency site must be current </li></ul><br>  One of the most important components of a disaster-proof solution is to keep relevant information on both sites, for example.  RPO metrics (a valid <a href="http://goo.gl/xAZJMp">recovery</a> point) are directly dependent on stable storage synchronization.  Replication of virtual disks can be performed, for example, by means of vSphere Replication or by shifting this task to storage-based replication systems. <br><br>  The vSphere Replica native mechanism is a replication at the ESXi hypervisor level that is independent of the type and identity of the storage at all sites.  A distinctive feature is the ability to transfer data between different types of storage devices: from VSAN at the main site to the DAS to the backup.  Storage-level replication is a more efficient mechanism by which the entire synchronization process is transferred to storage devices.  The minimum RPO of hardware replication is a couple of minutes, which fits well with the requirements of a business-critical application. <br><br>  And, as often happens, it is generally recommended to choose a hybrid version.  In it, you allocate a datastore with hardware replication of the most important virtual machines, and protect all the others with the vSphere Replica mechanism, which allows you to work with cheaper storage systems.  A nice bonus from devices with hardware replication will be proprietary snapshot technology, shadow volumes and other useful features.  Due to the popularity of NetApp storage systems in the domestic market, we‚Äôll look at them as the main repository for DRS (by the way, we published storage boxing boxes, which you can see <a href="https://habrahabr.ru/company/it-grad/blog/231505/">here</a> and <a href="https://habrahabr.ru/company/it-grad/blog/224701/">here</a> ). <br><br><h5>  Snapmirror </h5><br>  SnapMirror is <a href="http://iaas-blog.it-grad.ru/hosting-i-replikatsiya-baz-dannyih-oracle-v-oblako-netapp-servis-provaydera/">known</a> as synchronous and asynchronous replication technology at the level of disk arrays, which occurs using an IP network.  The technology is based on the concept of using differential snapshots of the state of the corresponding volume. <br><br>  Synchronous replication is characterized by the fact that the ready signal going from the storage to the recording application is not transmitted until data is written to both the source volume on the client side and the replica in the cloud of the IaaS provider.  In other words, the application waits until the data block is written first to the local volume and then to the remote one. <br><br>  With asynchronous replication, during recording, the local system immediately sends a signal to the application with the ‚Äúrecorded‚Äù status, after which (at a specified interval) updates are sent to the remote site. <br><br><img src="https://habrastorage.org/files/b2d/2e7/ae4/b2d2e7ae473f42bda91fbc43f4abdc7a.png" width="500"><br><br>  <i>SnapMirror Synchronous / Asynchronous Replication Technology</i> <br><br>  In the event of a replica rupture, the receiving party transfers the replicated mirror to read-write mode, which remains active until the equipment on the customer‚Äôs side is restored.  After everything is back to normal, SnapMirror takes over in reverse replication mode and restores the base on the client side. <br><br><h5>  SnapVault </h5><br>  Replication is good in itself, but it is unlikely to help in case of data corruption.  During replication, ‚Äúcorrupted‚Äù fragments fall into the backup system, which leads to the appearance of two damaged data sets.  To avoid such unpleasant situations, the SnapVault backup technology allows you to solve the problem of long-term storage and protect data from changes for later recovery. <br><br><img src="https://habrastorage.org/files/830/631/0e1/8306310e1671442cbb333ff7159204ea.png" width="500"><br><br>  <i>SnapVault Backup Technology</i> <br><br>  In the case of the client and the cloud provider, the essence of using SnapVault is that the customer data located on the source volume is copied to the receiving volume in the cloud hosting provider according to the schedule.  Such a copy is created in read-only mode, which is accessed as necessary. <br><br>  In general, the topic of backup has always been relevant.  A study by Gartner, an analyst firm, revealed that data growth is the biggest problem for data center infrastructure in large organizations.  All data must be protected from various threats, as well as the use of data reduction and restoration methods. <br><br>  The very idea of ‚Äã‚Äãcloud <a href="https://habrahabr.ru/company/it-grad/blog/253783/">backup</a> is to automatically transfer client backups to the data center of the cloud service provider.  Of course, to form a service, it is not enough just to allocate space in the storage and give the client access, you need to ensure safe storage of information and access to it, as well as competently form a tariff policy and provide a certain level of service with a fixed response time. <br><br>  The main task of any cloud <a href="http://goo.gl/jtxX7x">backup</a> is to save data in case of an unforeseen situation.  The availability of these backups depends on the level of reliability (Tier) of the provider.  For example, Tier-1 assumes availability of 99.671% per year, and Tier-4 - already 99.995%. <br><br>  Data center providers may declare a variety of accessibility values, but the reality is that removing unpredictable equipment and making your data inaccessible can be any unforeseen events (hacker attack, natural disasters).  As an example, we can recall the large-scale accident in the Amazon data center, when due to a thunderstorm, entire services were disconnected: Netflix, Instagram and Pinterest.  Since it is not always possible to prevent disasters, it is worth choosing a provider with a developed disaster recovery plan.  Then you at least get your data back within a reasonable time. <br><br>  Also for any business one of the most important priorities is the confidentiality of user data.  To reduce the chance of information being compromised, it is important to choose a supplier with proven compliance with local and international security standards.  For example, one of the toughest modern standards is the PCI standard (Payment Card Industry Standard), which protects financial information.  If you work with other specific information (medicine, industry, etc.), then the provider will be required to comply with the standards of this industry. <br><br>  Any company that exists long enough knows that it is impossible to completely eliminate the possibility of data loss.  But whether it will be just an inconvenience or a situation that puts the whole business on the blades depends on the quality of the preliminary preparation.  The rules of the game in the business environment change regularly, and cloud services allow organizations to insure against serious losses. <br><br>  <i>PS Interesting materials on the topic from our blog on Habr√©:</i> <i><br><br></i> <ul><li>  <a href="https://habrahabr.ru/company/it-grad/blog/276803/">IaaS trends brief</a> </li><li>  <a href="https://habrahabr.ru/company/it-grad/blog/276103/">Data Center Experience and Problems: How to Verify Data Center Reliability</a> </li><li>  <a href="https://habrahabr.ru/company/it-grad/blog/275553/">How IaaS provider to choose a data center to host the cloud: IT-GRAD Experience</a> </li><li>  <a href="https://habrahabr.ru/company/it-grad/blog/261757/">How we implemented Disaster Recovery</a> </li></ul><br></div><p>Source: <a href="https://habr.com/ru/post/279223/">https://habr.com/ru/post/279223/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../279211/index.html">9 secrets of online payments. Part 3: Payment Method Selection Page</a></li>
<li><a href="../279213/index.html">Pandasql vs Pandas for solving data analysis tasks</a></li>
<li><a href="../279215/index.html">We study the source tree of Windows 10: from telemetry to open source</a></li>
<li><a href="../279219/index.html">Information Security Risks for Web Applications</a></li>
<li><a href="../279221/index.html">One interesting bug in Lucene.Net</a></li>
<li><a href="../279225/index.html">VCloud Tools: IT GRAD Experience</a></li>
<li><a href="../279227/index.html">PCI DSS Certification: What it is and what it is eaten with</a></li>
<li><a href="../279229/index.html">Few of the containers</a></li>
<li><a href="../279231/index.html">The story of the development of Cosmos on Unity</a></li>
<li><a href="../279233/index.html">Unlimited nesting and URL section tree</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>