<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Sorting the goods and displaying the quantity of goods selected by the user in 1C-Bitrix</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Historically, the integrated component 1C-Bitrix does not allow the user to sort products in the public part, at least by price, date, name, and also ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Sorting the goods and displaying the quantity of goods selected by the user in 1C-Bitrix</h1><div class="post__text post__text-html js-mediator-article"> Historically, the integrated component 1C-Bitrix does not allow the user to sort products in the public part, at least by price, date, name, and also select how many products on the page to select.  But none of the online stores can do without such functionality, which by the way is included in almost all templates of ready-made online stores in the Marketplace.  But to implement the blocks ‚ÄúSort by: ...‚Äù and ‚ÄúShow by: ...‚Äù is quite simple.  All you need is to use the <code>$_REQUEST</code> and the API API 1C-Bitrix <code>GetCurPageParam()</code> to transfer data to this array. <br><br>  Let's get started! <br><a name="habracut"></a><br>  To begin with, we will define what they want from us: <br><br><ul><li>  Display the block ‚ÄúShow by: 18 36 54 72‚Äù on the right above the list of products.  (The default is 9). </li><li>  On the left above the list of products display the block "Sort by: price, name, date". </li><li>  A second click on the already selected sorting option switches the sorting direction. </li><li>  Date - date of change, price - the displayed price of the goods. </li></ul><br>  Let's go in order and start by showing the user selected from the proposed number of products on the page. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For displaying the number of products on the page corresponds to the parameter <code>PAGE_ELEMENT_COUNT</code> .  In it, we will pass the amount selected by the user using <code>$_REQUEST</code> and <code>GetCurPageParam()</code> . <br><br>  To begin, let us create the corresponding variable and, by default, assign the value specified in the component parameters to it.  And then when the user clicks on the number of elements he needs, we will modify it. <br><br>  The following code is proposed to be placed before connecting the component <code>catalog.section</code> .  If the complex <code>catalog</code> component is used, then in the file in which the component <code>catalog.section</code> component <code>catalog.section</code> goods on the necessary page. <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $pageElementCount = $arParams[<span class="hljs-string"><span class="hljs-string">"PAGE_ELEMENT_COUNT"</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (array_key_exists(<span class="hljs-string"><span class="hljs-string">"showBy"</span></span>, $_REQUEST)) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( intVal($_REQUEST[<span class="hljs-string"><span class="hljs-string">"showBy"</span></span>]) &amp;&amp; in_array(intVal($_REQUEST[<span class="hljs-string"><span class="hljs-string">"showBy"</span></span>]), <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-number"><span class="hljs-number">18</span></span>, <span class="hljs-number"><span class="hljs-number">36</span></span>, <span class="hljs-number"><span class="hljs-number">54</span></span>, <span class="hljs-number"><span class="hljs-number">72</span></span>)) ) { $pageElementCount = intVal($_REQUEST[<span class="hljs-string"><span class="hljs-string">"showBy"</span></span>]); $_SESSION[<span class="hljs-string"><span class="hljs-string">"showBy"</span></span>] = $pageElementCount; } <span class="hljs-keyword"><span class="hljs-keyword">elseif</span></span> ($_SESSION[<span class="hljs-string"><span class="hljs-string">"showBy"</span></span>]) { $pageElementCount = intVal($_SESSION[<span class="hljs-string"><span class="hljs-string">"showBy"</span></span>]); } } <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">show_number</span></span></span><span class="hljs-class">"&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">span</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">show_title</span></span></span><span class="hljs-class">"&gt;  &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">span</span></span></span><span class="hljs-class">&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">span</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">number_list</span></span></span><span class="hljs-class">"&gt; &lt;? </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">for</span></span></span><span class="hljs-class">( $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">i</span></span></span><span class="hljs-class"> = 18; $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">i</span></span></span><span class="hljs-class"> &lt;= 72; $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">i</span></span></span><span class="hljs-class">+=18 ) : ?&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">rel</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nofollow</span></span></span><span class="hljs-class">" &lt;? </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">if</span></span></span><span class="hljs-class"> ($</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">i</span></span></span><span class="hljs-class"> == $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pageElementCount</span></span></span><span class="hljs-class">): ?&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">current</span></span></span><span class="hljs-class">"&lt;? </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">endif</span></span></span><span class="hljs-class">; ?&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">href</span></span></span><span class="hljs-class">="&lt;?= $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">APPLICATION</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GetCurPageParam</span></span></span><span class="hljs-class">('</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">showBy</span></span></span><span class="hljs-class">='.$</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">i</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">array</span></span></span><span class="hljs-class">('</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">showBy</span></span></span><span class="hljs-class">', '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mode</span></span></span><span class="hljs-class">')) ?&gt;" &gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">span</span></span></span><span class="hljs-class">&gt;&lt;?= $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">i</span></span></span><span class="hljs-class"> ?&gt;&lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">span</span></span></span><span class="hljs-class">&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class">&gt; &lt;? </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">endfor</span></span></span><span class="hljs-class">; ?&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">span</span></span></span><span class="hljs-class">&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class">&gt;</span></span></code> </pre><br>  And now we transfer the obtained value to the component: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $APPLICATION-&gt;IncludeComponent( <span class="hljs-string"><span class="hljs-string">"bitrix:catalog.section"</span></span>, ... <span class="hljs-string"><span class="hljs-string">"PAGE_ELEMENT_COUNT"</span></span> =&gt; $pageElementCount, ... <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre><br>  Now let's deal with sorting.  It is not much more difficult, except for the fact that we need to check the current direction and change it.  To do this, in the <code>GetCurPageParam()</code> method we will pass two parameters <code>sortBy</code> and <code>orderBy</code> .  And then in the corresponding variables pass them to the parameters of the component <code>"ELEMENT_SORT_FIELD"</code> and <code>"ELEMENT_SORT_ORDER"</code> respectively.  By default, sorting should be carried out using the internal sorting field 1C-Bitrix - <code>sort</code> . <br><br>  Check the direction of sorting and change if necessary: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($_REQUEST[<span class="hljs-string"><span class="hljs-string">'orderBy'</span></span>])) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($_REQUEST[<span class="hljs-string"><span class="hljs-string">'orderBy'</span></span>] == <span class="hljs-string"><span class="hljs-string">'asc'</span></span>) { $orderBy = <span class="hljs-string"><span class="hljs-string">'desc'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { $orderBy = <span class="hljs-string"><span class="hljs-string">'asc'</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { $orderBy = <span class="hljs-string"><span class="hljs-string">'asc'</span></span>; } <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre><br>  We display links to sorting: <br><br><pre> <code class="php hljs">&lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sort</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">section</span></span></span><span class="hljs-class">"&gt;  : &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">rel</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nofollow</span></span></span><span class="hljs-class">" &lt;? </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">if</span></span></span><span class="hljs-class"> ($</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sortBy</span></span></span><span class="hljs-class"> == '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">price</span></span></span><span class="hljs-class">') : ?&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">current</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sort</span></span></span><span class="hljs-class">" &lt;? </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">endif</span></span></span><span class="hljs-class">; ?&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">href</span></span></span><span class="hljs-class">="&lt;?= $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">APPLICATION</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GetCurPageParam</span></span></span><span class="hljs-class">('</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sortBy</span></span></span><span class="hljs-class">=</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">price</span></span></span><span class="hljs-class">&amp;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">orderBy</span></span></span><span class="hljs-class">='.$</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">orderBy</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">array</span></span></span><span class="hljs-class">('</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sortBy</span></span></span><span class="hljs-class">', '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">orderBy</span></span></span><span class="hljs-class">')) ?&gt;" &gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">span</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sort</span></span></span><span class="hljs-class">"&gt;&lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">span</span></span></span><span class="hljs-class">&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class">&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">rel</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nofollow</span></span></span><span class="hljs-class">" &lt;? </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">if</span></span></span><span class="hljs-class"> ($</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sortBy</span></span></span><span class="hljs-class"> == '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">name</span></span></span><span class="hljs-class">') : ?&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">current</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sort</span></span></span><span class="hljs-class">" &lt;? </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">endif</span></span></span><span class="hljs-class">; ?&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">href</span></span></span><span class="hljs-class">="&lt;?= $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">APPLICATION</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GetCurPageParam</span></span></span><span class="hljs-class">('</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sortBy</span></span></span><span class="hljs-class">=</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">name</span></span></span><span class="hljs-class">&amp;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">orderBy</span></span></span><span class="hljs-class">='.$</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">orderBy</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">array</span></span></span><span class="hljs-class">('</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sortBy</span></span></span><span class="hljs-class">', '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">orderBy</span></span></span><span class="hljs-class">')) ?&gt;" &gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">span</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sort</span></span></span><span class="hljs-class">"&gt;&lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">span</span></span></span><span class="hljs-class">&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class">&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">rel</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nofollow</span></span></span><span class="hljs-class">" &lt;? </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">if</span></span></span><span class="hljs-class"> ($</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sortBy</span></span></span><span class="hljs-class"> == '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">date</span></span></span><span class="hljs-class">') : ?&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">current</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sort</span></span></span><span class="hljs-class">" &lt;? </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">endif</span></span></span><span class="hljs-class">; ?&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">href</span></span></span><span class="hljs-class">="&lt;?= $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">APPLICATION</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GetCurPageParam</span></span></span><span class="hljs-class">('</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sortBy</span></span></span><span class="hljs-class">=</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">date</span></span></span><span class="hljs-class">&amp;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">orderBy</span></span></span><span class="hljs-class">='.$</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">orderBy</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">array</span></span></span><span class="hljs-class">('</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sortBy</span></span></span><span class="hljs-class">', '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">orderBy</span></span></span><span class="hljs-class">')) ?&gt;" &gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">span</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sort</span></span></span><span class="hljs-class">"&gt;&lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">span</span></span></span><span class="hljs-class">&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class">&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class">&gt;</span></span></code> </pre><br>  The name parameter is accepted by the <code>"ELEMENT_SORT_FIELD"</code> field for sorting by product name without additional intervention, but for the date and price we need to clarify which of the information block element parameters we mean. <br><br>  For the date, we need the value of the <code>'timestamp_x'</code> field, which is responsible for the change date.  For the price, we need to find out the name of the price type, which is derived from the information block element field.  To do this, print the array <code>$arItem</code> in the component template (in my case <code>catalog.section</code> ) or with <code>var_dump($arItem);</code>  either <pre> <code class="hljs bash"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">''</span></span>; print_r(<span class="hljs-variable"><span class="hljs-variable">$arItem</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">' '</span></span>;</code> </pre> <code>echo ''; print_r($arItem); echo ' ';</code>  .  We find the array field responsible for the price output and copy its name, in my case it turned out to be <code>CATALOG_PRICE_1</code> .  It should be noted that in the case of the price you need to use the name of the field that contains the value of the price without a currency. <br><br>  And pass the data to the <code>$sortBy</code> variable: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($_REQUEST[<span class="hljs-string"><span class="hljs-string">'sortBy'</span></span>])) { $sortBy = $_REQUEST[<span class="hljs-string"><span class="hljs-string">'sortBy'</span></span>]; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { $sortBy = <span class="hljs-string"><span class="hljs-string">'sort'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($sortBy==<span class="hljs-string"><span class="hljs-string">'price'</span></span>) { $sortBy = <span class="hljs-string"><span class="hljs-string">'CATALOG_PRICE_1'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($sortBy==<span class="hljs-string"><span class="hljs-string">'date'</span></span>) { $sortBy = <span class="hljs-string"><span class="hljs-string">'timestamp_x'</span></span>; } <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre><br>  And pass the values ‚Äã‚Äãto the component parameters: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $APPLICATION-&gt;IncludeComponent( <span class="hljs-string"><span class="hljs-string">"bitrix:catalog.section"</span></span>, ... <span class="hljs-string"><span class="hljs-string">"ELEMENT_SORT_FIELD"</span></span> =&gt; $sortBy, <span class="hljs-string"><span class="hljs-string">"ELEMENT_SORT_ORDER"</span></span> =&gt; $orderBy, ... <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre><br>  That's all.  The result is something like this: <br><br><img src="https://habrastorage.org/files/349/fd9/098/349fd909870048068b51f166b6cc0b10.png" alt="image"><br><br>  Now the user can sort the goods and choose how many goods he wants to see on the page, and of course, go through the pages and filter the goods without losing anything. </div><p>Source: <a href="https://habr.com/ru/post/271307/">https://habr.com/ru/post/271307/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../271297/index.html">Typical rakes in the way of a programmer from Junior to Senior</a></li>
<li><a href="../271299/index.html">CsConsoleFormat: Console formatting in a new way (.NET)</a></li>
<li><a href="../271301/index.html">What's new in Ruby 2.3</a></li>
<li><a href="../271303/index.html">Interview: Brian Kernigan and Alan Donovan</a></li>
<li><a href="../271305/index.html">Basic implementation of INotifyPropertyChanged</a></li>
<li><a href="../271309/index.html">Component-oriented C # engine [part 2]</a></li>
<li><a href="../271311/index.html">Organization of buttons on the site using Sass</a></li>
<li><a href="../271315/index.html">Game cycle</a></li>
<li><a href="../271317/index.html">As ICQ face changed: the visual evolution of the interface ICQ</a></li>
<li><a href="../271319/index.html">Ossim. Creating a simple plugin for parsing logs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>