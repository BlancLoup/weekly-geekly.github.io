<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Physics Robocode</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This material was originally prepared as a section of the article ‚ÄúFirst Steps in Robocode,‚Äù but I decided to take it out because it significantly inc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Physics Robocode</h1><div class="post__text post__text-html js-mediator-article">  This material was originally prepared as a section of the article <a href="http://habrahabr.ru/post/147947/">‚ÄúFirst Steps in Robocode,‚Äù</a> but I decided to take it out because  it significantly increased the size of the already large initial article and is not basic and necessary for the implementation of the first step.  If you are immediately interested in the second step or gradually have grown to it, then I ask under the cat. <br><a name="habracut"></a><br><h4>  Units </h4><br>  First, I will describe the units of measurement. <br><ul><li>  Time is measured in ticks, which are equal to one move.  A limited amount of real time is given per turn, which depends on the processor power and is calculated when you first start the game or at the request of the user.  If during the specified time the robot does not issue a command to the next move, this move will be ‚Äúskipped‚Äù (But if you previously issued the command ‚ÄúDrive 100 pixels forward‚Äù, then your robot will move until it passes the specified distance). </li><li>  The distance is measured in certain arbitrary units.  However, in the case where the dimensions of the battlefield are completely on the screen, these units are equal to one pixel.  If you write ‚Äúpixel‚Äù to (!!!) robotic workers, for your own good they will tell you the same thing, but they will correctly understand you, so I will use the term pixel later.  Distance values ‚Äã‚Äãare floating point numbers. </li><li>  Speed ‚Äã‚Äãis measured in pixels per turn. </li><li>  In general, the acceleration formula is a = v / (t ^ 2), but since  1 move in the game is an atomic time unit, acceleration is somewhat simplified and is also measured in pixels per turn (I‚Äôll tell you more later). </li><li>  Angles are measured in radians.  The same API allows you to use degrees, and I strongly recommend that you choose something for yourself and use this value everywhere, since  all trigonometry works with radians, then I recommend them to choose. </li><li>  Energy, bullet power, damage is measured in some arbitrary units.  I will call it ‚Äúenergy units‚Äù. </li><li>  The temperature of the gun is measured in undescribed units and I will use abstract degrees (hereafter simply ‚Äúdegrees‚Äù). </li></ul><br>  The origin of coordinates, traditionally, is in the lower left corner, but the angles are unusual.  0 radian indicates north and further clockwise: Pi / 2 - east, Pi - south, (Pi * 3) / 2 - west, 2 * Pi - north. <br><img src="https://habrastorage.org/getpro/habr/post_images/dde/c93/b51/ddec93b51a79e750a2dd86af2173adf3.gif" alt="image"><br><br><h4>  Tactical and technical characteristics of the tank </h4><br>  The robot consists of three parts - the body, the tower and the radar, the rotation of which is dependent on each other (however, you can set the flag of automatic compassation).  The performance characteristics of the robot are as follows: <br><ul><li>  The initial energy of 100 units. </li><li>  Power shot from 0.1 to 3 units of energy. </li><li>  The speed of the bullet depends on the power and is calculated by the formula 20 - (3 * &lt;power shot&gt;) </li><li>  Maximum speed of 8 pixels / stroke in both directions. </li><li>  Maximum acceleration 1 pixel / move. </li><li>  Maximum braking 2 pixels / stroke. </li><li>  The maximum speed of body rotation depends on the speed of the tank and is calculated by the formula (10 - 0.75 * &lt;speed module&gt;) degrees / stroke. </li><li>  The maximum speed of rotation of the tower is 20 degrees / stroke. </li><li>  The maximum speed of rotation of the radar is 45 degrees per turn. </li><li>  Initially, the gun has some heat (at the moment it is equal to three degrees, but in the implementation it is better to take heating instead of this constant on the first turn), which gradually decreases with the intensity adjusted at the moment of the battle creation (the default value used at the moment in official competition, equal to 0.1 degrees per turn).  Also, when fired, the gun heats up by the following value: 1 + &lt;shot power&gt; / 5. You can only fire when the gun is cold (heat is 0). </li><li>  The radius of the radar arch is 1200 pixels (a tank can only see those robots that are in the radar arch). </li></ul><br>  In TTX it is necessary to note 3 tricks: <br><ol><li>  When passing through zero, a special rule applies.  First, the tank slows down the necessary part of the turn, and then the remaining part accelerates.  Thus, if the tank's speed is equal to 0.8 and he gave the command to move backwards, then the resulting speed will be -0.6 (or 0.6 in the opposite direction), since  time for braking is 0.8 / 2 = 0.4 stroke, the remaining time for acceleration is (1 - 0.4) = 0.6, speed is 1 * 0.6 = 0.6. </li><li>  At zero speed, and provided that all three components rotate in the same direction, the radar can be rotated 45 + 20 + 10 = 75 degrees.  If the radar turns in the opposite direction from the hull and tower, it will turn only 45 - 20 - 10 = 15 degrees per turn. </li><li>  Automatic compensation for the rotation of tank parts, does not affect the maximum angles of rotation.  For example, if a tank has a flag for automatic compensation of turns of all parts, the radar has a direction of 90 degrees and the command was given to turn the body to the right by 10 degrees, then the direction of the radar will remain equal to 90 degrees.  If, in addition to turning the body, the command was also given to rotate the radar to the left by 45 degrees, then the direction of the radar will be equal to 90 - (45 - 10) = 65 degrees. </li></ol><br><br><h4>  Collisions </h4><br>  The game has the following possible collisions: <br><ul><li>  Robot with a robot.  In the game model, robots are represented by non-rotating (independent of the direction of movement) rectangles (currently squares).  A collision occurs at their intersection and each robot takes damage in the amount of 0.6 energy units.  It is also written on (!!!) roboviks: ‚ÄúIf the robot moves in the opposite direction, it will not be stopped), and I, frankly, I do not know what it means ‚Äúin the opposite direction of the collision‚Äù and, since it is by and large not important, I leave it to the most curious readers in the source code of the game.  The robot that moved in the ‚Äúdirection of collision‚Äù is also 1.2 points. </li><li>  Robot with a wall.  Walls are represented by segments and a collision occurs at the intersection of a segment of a wall with the bounding box of the robot.  In this case, the robot receives damage in the amount of &lt;speed module&gt; * 0.5 - 1;  (But not less than zero).  I will describe the exception in this rule later. </li><li>  Robot with a bullet.  Bullets are represented by segments between the positions of the bullet in the current and previous turn.  Collisions occur at the intersection of the bounding rectangle and the segment, while the victim receives damage in the amount of 4 * &lt;bullet power&gt;, if the bullet capacity is&gt; 1, then plus 2 * (power - 1), and the attacker is given a bonus energy of 3 * &lt; bullet power&gt; and the same points. </li><li>  Bullet with bullet.  The collision occurs at the intersection of segments of bullets and no one loses or receives anything. </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Computing loop (Robocode processing loop) </h4><br>  The computational cycle in the game is as follows: <br><ol><li>  Redraw the game view. </li><li>  All robots execute code until the command is returned in its own threads, which, then, are suspended. </li><li>  Time is updated (time = time + 1) </li><li>  All bullets are moved and collisions are calculated.  This includes shots of new bullets. </li><li>  All robots move in the following order: tower, radar, body, acceleration, speed, position. </li><li>  All robots perform a scan. </li><li>  Resumes the execution of robot threads. </li><li>  There is an event handling in robots streams. </li></ol><br>  Here it is worth paying attention to one common mistake - a bullet is fired before the gun turns (see steps 4 and 5).  Thus, you must turn the gun not by the time of the shot, but for the tick before. <br><br>  On this (including the article ‚ÄúFirst steps in Robocode‚Äù) the basic knowledge of Robocode ends and you, in principle, are ready to start programming your first robot.  You can continue to read at <a href="http://robowiki.net/">roboviki</a> , or you can contact me in a personal question, or in the comments to show interest in continuing the series of articles on Robocode </div><p>Source: <a href="https://habr.com/ru/post/147956/">https://habr.com/ru/post/147956/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../147947/index.html">First steps in robocode</a></li>
<li><a href="../147950/index.html">Access to the French Internet alternative has been closed: Minitel has fizzled out</a></li>
<li><a href="../147951/index.html">Israel invites you to get acquainted with the industry of innovation</a></li>
<li><a href="../147952/index.html">QJson as a library for working with JSON in Qt</a></li>
<li><a href="../147955/index.html">Half the fire did not happen: how we moved to a new data center</a></li>
<li><a href="../147957/index.html">Summer promotion "Quick start!"</a></li>
<li><a href="../147958/index.html">Basics of programming for children and the humanities - no computers in the classroom!</a></li>
<li><a href="../147959/index.html">Attack on Steve Mann due to augmented reality glasses</a></li>
<li><a href="../147960/index.html">Blackberry jam for green men</a></li>
<li><a href="../147963/index.html">Python Prefix Trees</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>