<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Clean C ++</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Let's get acquainted.  I am Seryoga. (It's not me on the photo). I work at Intel. Together with colleagues I write GPA . I've been programming for abo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Clean C ++</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/ffe/594/f4a/ffe594f4a37e496dd949fa792a30ef7a.jpg"><br><h5>  Let's get acquainted. </h5>  I am Seryoga.  (It's not me on the photo).  I work at Intel.  Together with colleagues I write <a href="http://www.intel.com/software/gpa">GPA</a> .  I've been programming for about 20 years now.  Well, if you count it from school.  Recently, a lot of different thoughts have accumulated that I want to share with someone.  Tell someone about what is good and what is bad.  You can tell and emptiness (so even calmer, no one distracts and does not hesitate with His very Right opinion), but it is not very effective.  Therefore, I will merge my thoughts here.  Suddenly, someone will come in handy ... <br><br><h5>  As an introduction </h5>  Many believe that there are two related languages ‚Äã‚Äã- C and C ++.  At the same time, C ++ is supposedly the same C, with only two pluses, i.e.  OOP.  This is a very common misconception.  "In fact, everything is not so."  C and C ++ are completely different languages ‚Äã‚Äãthat have practically nothing in common.  However, historically, C ++ is syntactically compatible with C, i.e.  can compile programs written in C. Because of this feature, there is no clear distinction between languages ‚Äã‚Äãand there is a lot of code written in a terrible mixture of these languages.  Moreover, the proportion of this mixture can vary even within the framework of one program for one author. <a name="habracut"></a>  We will call such creativity language "C with classes."  Sometimes the use of "C with classes" can be a conscious choice, dictated by circumstances and a task to be solved.  Unfortunately, most often this code simply demonstrates the huge difference between ambitions and the real abilities of its author.  If you are still at the very beginning of your journey, it is better to take something more stringent, for example, pure C or Pascal.  And then come here when it becomes crowded in these languages. <br><br>  By the way about the circumstances and tasks.  Who do you think is a ‚Äúreal programmer‚Äù?  No, not a hacker.  And not the one who knows about ALL programming languages.  And not even the one who is able to write the most "cool" program.  The programmer is the one who <b>can solve the set algorithmic problem in the stated period with a given level of quality</b> .  Re-read this definition several times slowly, pondering every word.  Try to understand such a simple thing that there is no task, time and quality of programming!  It can be creativity, learning, experiment, research, anything else, but not programming.  Because the result of programming is a program that serves people, which, from the moment of its creation, day after day, repeatedly solves its task for them.  Even Wikipedia in the definition of the term programmer 3 times mentions the word ‚Äútask‚Äù!  Understand that no one needs an ideal program written over an infinitely long time.  People will be more willing to use at least something that solves their problems here and now, well, in a pinch, tomorrow.  Also, few people will use the foul-smelling hand-made article, slapped somehow, when there are already many more simple and pleasant solutions to their problems around.  Virtually no one will use the "funny trinket" for a long time.  A variety of animals running around the screen, heaped special effects animation windows and menus, the most correct operating systems, etc.  - all this junk is doomed to create a wow effect in the younger generation, and then with honor go into oblivion.  I can tell you about quality assurance.  Explain something about timing.  But the task will have to look for yourself. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I think it's time to talk for C ++.  I hope you have already read the thick and clever books about this language, wrote and compiled your first program?  If not yet - go read and write, talk, when you understand at least the syntax of the language.  If you are still there, then you probably already know - this language supports OOP at the syntax level.  However, you should understand for yourself one important thing, so as not to slip into the "C with classes."  In C ++, everything is a class.  I'll try on the fingers: <br><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>;  
...  
foo();
</code></pre><br>
      C.   .      C++,       :<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-class">  
{</span></span>  
<span class="hljs-keyword"><span class="hljs-keyword">public</span></span>:  
    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>;  
};  
...  
Foo::foo(); 
</code></pre><br>
      :<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">foo</span></span></span><span class="hljs-class">  
{</span></span>  
<span class="hljs-keyword"><span class="hljs-keyword">public</span></span>:  
    foo();  
};  
...  
foo(); 
</code></pre><br>
   :<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-class">  
{</span></span>  
<span class="hljs-keyword"><span class="hljs-keyword">public</span></span>:  
    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">operator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>;  
};  
...  
Foo foo;  
foo(); 
</code></pre><br>
  ,   :<br>
<pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> Foo  
{  
    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>;  
}  
...  
Foo::foo(); 
</code></pre><br>
    (   ,      )       class.   ,  class ‚Äî      ,        .    ,            . ,       ¬´¬ª ‚Äî  .<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IFoo</span></span></span><span class="hljs-class">  
{</span></span>  
<span class="hljs-keyword"><span class="hljs-keyword">public</span></span>:  
    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>= <span class="hljs-number"><span class="hljs-number">0</span></span>;  
}; 
</code></pre><br>
    ¬´¬ª,    - .    ,    - .   ,  .       ¬´¬ª     .<br>
      :<br>
<pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> TypeA&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DoIt</span></span></span><span class="hljs-class">
{</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">private</span></span>:
    TypeA m_it;
<span class="hljs-keyword"><span class="hljs-keyword">public</span></span>:
    <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> TypeB&gt; DoIt(TypeB it) : m_it(it) {}
    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">operator</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TypeA</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> m_it;}
};
...
TypeC c;  
TypeD d = DoIt&lt; TypeD &gt;(c); 
</code></pre><br>
  ?  ,             ,         .      ¬´ ¬ª         .<br>
<br>
   :    ‚Äî     ,      ‚Äî      .      ‚Äî   .  C++     .             .            .       ¬´  ¬ª<br>
<pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt;  </span></span></span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">  
</span></span>{  
    <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">" !!!\n"</span></span>;  
    <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">" \n"</span></span>;  
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>;  
} 
</code></pre><br>
      C++:<br>
<pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt;  </span></span></span></span>
<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class">  
{</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">public</span></span>:
    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">  
    </span></span>{  
        <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">" !!!\n"</span></span>;  
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>;  
    }  
    ~App()  
    {  
        <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">" .\n"</span></span>;  
    }  
};

<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">  
</span></span>{  
    <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>
    {
        App().Run();
    }
    <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span>(...)
    {
        <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span>;
    }
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>;
} 
</code></pre><br>
 main             .       .  ,         :<br>
<pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt;  </span></span></span></span>
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;stdexcept&gt;  </span></span></span></span>
<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class">  
{</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">public</span></span>:
    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">  
    </span></span>{  
        <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">" !!!\n"</span></span>;  
        <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::runtime_error(<span class="hljs-string"><span class="hljs-string">"-     ."</span></span>);  
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>;  
    }  
    ~App()  
    {  
        <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">" .\n"</span></span>;  
    }  
};

<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">  
</span></span>{
    <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>
    {
        App().Run();
    }
    <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span>(...)
    {
        <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span>;
    }
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>;
} 
</code></pre><br>
       ,  - . ,    ,       .   ,      .       ¬´¬ª C++.   ,        try‚Ä¶ catch ‚Äî      .      .<br>
<br>
<h5> </h5>   ,  <a href="http://ru.wikipedia.org/wiki/%25D0%25A8%25D0%25B0%25D0%25B1%25D0%25BB%25D0%25BE%25D0%25BD_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B5%25D0%25BA%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F"></a>.</div><p>Source: <a href="https://habr.com/ru/post/156863/">https://habr.com/ru/post/156863/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../156849/index.html">ZeroNights 2012: the final straight</a></li>
<li><a href="../156851/index.html">Innovation has nothing to do with it</a></li>
<li><a href="../156853/index.html">Co-founders and partners: when quarreling is good and useful</a></li>
<li><a href="../156855/index.html">Synchronize data between browser tabs</a></li>
<li><a href="../156857/index.html">New video. New article</a></li>
<li><a href="../156865/index.html">Light your star</a></li>
<li><a href="../156867/index.html">Maven: Access to repositories with custom directory structure</a></li>
<li><a href="../156869/index.html">Microsoft in social networks</a></li>
<li><a href="../156873/index.html">Animated tag cloud on css3</a></li>
<li><a href="../156875/index.html">Meet the IntelliCommand (Visual Studio 2010/2012 extension)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>