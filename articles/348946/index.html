<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Why you should not use a two-tier architecture in developing client-server applications</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Thank my friend for telling me about his new laboratory work, at the university, in the discipline related to databases. Otherwise, the article simply...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Why you should not use a two-tier architecture in developing client-server applications</h1><div class="post__text post__text-html js-mediator-article">  Thank my friend for telling me about his new laboratory work, at the university, in the discipline related to databases.  Otherwise, the article simply would not have seen the light. <br><br>  The essence of this lab was to write the nth number of validations, stored procedures and triggers in MS SQL.  All triggers, validations and stored procedures are very simple, but this is only the first laboratory and it will be worse, there will be multi-storey sql queries and stored procedures of a very large amount. <br><br>  It seems to me to spend time studying such things in 2018 is not very practical, namely that no one uses just a bare database and immediately output to the client.  All applications have business logic and are constantly scaling and changing.  And tie everything to the database is not correct as there may be a number of problems that cannot be solved using only the DBMS as the server side. <br><a name="habracut"></a><br>  <b>Examples of such problems include:</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  The need to use another database </li><li>  The need to output data in several forms for different client sides (JSON, HTML, XML, etc.) </li><li>  Adding and modifying tables, columns or changing their names, which will entail a change in the whole associated with each table or column </li><li>  The need to receive data in the same way from other databases installed on the server, or even to receive data from other services </li></ul><br><h3>  Consider a typical example of what we need to send an email </h3><br>  What it looks like if you send a message via MS SQL <br><br><pre><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">DECLARE</span></span> @tableHTML  <span class="hljs-keyword"><span class="hljs-keyword">NVARCHAR</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">MAX</span></span>) ;  

<span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> @tableHTML =  
    N<span class="hljs-string"><span class="hljs-string">'&lt;H1&gt;Work Order Report&lt;/H1&gt;'</span></span> +  
    N<span class="hljs-string"><span class="hljs-string">'&lt;table border="1"&gt;'</span></span> +  
    N<span class="hljs-string"><span class="hljs-string">'&lt;tr&gt;&lt;th&gt;Work Order ID&lt;/th&gt;&lt;th&gt;Product ID&lt;/th&gt;'</span></span> +  
    N<span class="hljs-string"><span class="hljs-string">'&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Order Qty&lt;/th&gt;&lt;th&gt;Due Date&lt;/th&gt;'</span></span> +  
    N<span class="hljs-string"><span class="hljs-string">'&lt;th&gt;Expected Revenue&lt;/th&gt;&lt;/tr&gt;'</span></span> +  
    <span class="hljs-keyword"><span class="hljs-keyword">CAST</span></span> ( ( <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> td = wo.WorkOrderID,       <span class="hljs-string"><span class="hljs-string">''</span></span>,  
                    td = p.ProductID, <span class="hljs-string"><span class="hljs-string">''</span></span>,  
                    td = p.Name, <span class="hljs-string"><span class="hljs-string">''</span></span>,  
                    td = wo.OrderQty, <span class="hljs-string"><span class="hljs-string">''</span></span>,  
                    td = wo.DueDate, <span class="hljs-string"><span class="hljs-string">''</span></span>,  
                    td = (p.ListPrice - p.StandardCost) * wo.OrderQty  
              <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> AdventureWorks.Production.WorkOrder <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> wo  
              <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> AdventureWorks.Production.Product <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> p  
              <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> wo.ProductID = p.ProductID  
              <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> DueDate &gt; <span class="hljs-string"><span class="hljs-string">'2004-04-30'</span></span>  
                <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DATEDIFF</span></span>(dd, <span class="hljs-string"><span class="hljs-string">'2004-04-30'</span></span>, DueDate) &lt; <span class="hljs-number"><span class="hljs-number">2</span></span>   
              <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> DueDate <span class="hljs-keyword"><span class="hljs-keyword">ASC</span></span>,  
                       (p.ListPrice - p.StandardCost) * wo.OrderQty <span class="hljs-keyword"><span class="hljs-keyword">DESC</span></span>  
              <span class="hljs-keyword"><span class="hljs-keyword">FOR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">XML</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PATH</span></span>(<span class="hljs-string"><span class="hljs-string">'tr'</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">TYPE</span></span>   
    ) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NVARCHAR</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">MAX</span></span>) ) +  
    N<span class="hljs-string"><span class="hljs-string">'&lt;/table&gt;'</span></span> ;  

EXEC msdb.dbo.sp_send_dbmail @recipients='yourfriend@Adventure-Works.com',  
    @subject = 'Work Order List',  
    @body = @tableHTML,  
    @body_format = 'HTML' ;  

</code></pre><br>
 , ?<br>
<br>
        <s> </s> .     ,       ,  .             ,  ,  ,   .   <a href="https://pastebin.com/s5m8Y16N"></a>,         html  .            .<br>
<br>
        ,          .        ,    .<br>
<br>
<h3> </h3><br>
                   ,       .                 .           websockets,         ,         ,             websockets   ,      .<br>
<br>
    :<br>
<blockquote>     ,       .</blockquote><br>
                     ,          .  -    ,        . <br>
<br>
           SQL.     -- ,       ,      .<br>
<br>
<ul>
<li>     ‚Äî       ,        ,               .</li>
<li>      ‚Äî            .</li>
<li>                INSERT ‚Äî  ,       .</li>
<li>     ‚Äî    NodeJS        .</li>
<li>    ‚Äî          ,          .</li>
</ul><br>
   ,    .<br>
<br>
         ,         ,     ,        .<br>
<br>
   ,         ,              .     SQL    .      .            ,    .<br>
<br>
               ,    ,         .<br>
<br>
<b>UPD 13.02.2018</b><br>
 <a href="https://habrahabr.ru/users/speshuric/" class="user_link">speshuric</a>  <a href="https://habr.com/ru/post/348946/">  </a>   </div><p>Source: <a href="https://habr.com/ru/post/348946/">https://habr.com/ru/post/348946/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../348934/index.html">FastTrack Training. "Network Basics". "Understanding the OSI Model". Part one. Eddie Martin December 2012</a></li>
<li><a href="../348936/index.html">Automatic switching route in Juniper SRX</a></li>
<li><a href="../348938/index.html">Fastest Indian: Key / Value Trie-Based Container</a></li>
<li><a href="../348942/index.html">How to "learn to learn." Part 2 - Metacognitive Processes and Dudling</a></li>
<li><a href="../348944/index.html">Installation of a certification authority in the enterprise. Part 1</a></li>
<li><a href="../348950/index.html">Layout of a collection of abstracts of the conference in LaTeX</a></li>
<li><a href="../348952/index.html">Authorization of the user on your site through Telegram for Django</a></li>
<li><a href="../348956/index.html">Installation of a certification authority in the enterprise. Part 2</a></li>
<li><a href="../348960/index.html">Applying the observer pattern in Redux and Mobx</a></li>
<li><a href="../348962/index.html">English version of Habr: to be or not to be?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>