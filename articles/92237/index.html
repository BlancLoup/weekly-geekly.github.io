<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Modification of images for the site, or what are thumbnails</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Surely each of you made a site where the administrator, or even users, can upload images that should be displayed on the site. Such images can be divi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Modification of images for the site, or what are thumbnails</h1><div class="post__text post__text-html js-mediator-article">  Surely each of you made a site where the administrator, or even users, can upload images that should be displayed on the site.  Such images can be divided conditionally into 2 groups: those that are inserted into the body of articles, for example, with the help of a wysiwyg editor, and those that are downloaded into a separate field and then displayed at a predetermined location.  The second includes all sorts of pictures to the news, photos in photo galleries, some partner logos and so on. <br><br>  Both require some processing after placement, but each group has its own characteristics. <a name="habracut"></a><br><br>  <b>The first group of images</b> (inserted through wysiwyg) is difficult to find, because the images have to get out of the soup tags.  But such images often require fairly simple processing, proportional resizing.  It is because of the complexity of finding and ease of processing, most often they are not automatically processed, but left to the site administrators.  Those, depending on their literacy and laziness, change sizes before posting on the site or not.  But sometimes administrators of even the most neat sites <a href="http://06.ru/articles/more/design/web_20_nemnogo_o_dizajne_i_ne_tolko/">do not bother</a> about this, which is why the images load awfully long and, depending on the browser, either look lousy or slow down when drawing.  Of course, screenshots are not the worst option.  Often on different sites you can find photos from cameras, with a resolution of 3000 pixels and above. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I will tell you a secret, my <a href="http://habrahabr.ru/users/nex/" class="user_link">nex</a> colleague is working on solving this problem with the help of the not-unknown <a href="http://jevix.ru/project/">jevix</a> project.  I think he will soon publish an article on this topic. <br><br>  <b>The second group of images</b> is distinguished by the simplicity of obtaining images for processing and the complexity of the processing itself.  Often, for one photo you need to create several images of different size and different quality, the so-called thumbnails.  Honestly, I am simply surprised by the huge number of libraries and ways to create thumbnails, which have only 2 parameters in their arsenal - the width and height of the desired image, and, sometimes, a logical variable, meaning whether to keep the proportions.  Meanwhile, there are a lot of different ways to crop an image.  Nevertheless, in my opinion, they are perfectly amenable to classification and algorithmization.  This is what I would like to devote most of the topic. <br><br><h2>  Theory </h2><br><br>  So, there are uploaded images and there are different places where they should be displayed.  Let's start with a simple one - a separate window, or a lightbox.  It is necessary to preserve the aspect ratio and somehow limit the size of the image so that the user does not have to wait long for the download.  Say 1024 √ó 768 pixels, which is enough for photos on the site. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7f4/7a2/b63/7f47a2b633e6fa23c826e12f5f938765.jpg" alt="image"><br><br>  It is with this simple task that most libraries are usually designed to cope with creating thumbnails (although images of this size are not called thumbnails, technically there is no difference, we need to adjust the image size according to some rules). <br><br>  Some libraries additionally allow you to specify a flag, indicating that you do not need to respect the proportions.  The result is: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/278/254/cc0/278254cc076434c7cf610f4f23c25de5.jpg" alt="image"><br><br>  Honestly, I have never had to meet with cases where such a method of scaling would be appropriate. <br><br>  With large pictures sorted out.  As with the little ones, which are the real thumbnails.  Very often such thumbnails are arranged in one list and a requirement is added to them - they must have a strictly specified size.  But it is still impossible to distort the proportions.  What to do?  Adds paddings - monophonic, in the case of a monophonic background under thumbnails, or transparent (although this is not the best option). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8e7/998/89a/8e799889a4ac06f03afba3f549dc593a.jpg" alt="image"><br><br>  But it happens that such paddings look a bit out of place.  But if the image were stretched to the larger side, and all the excess was cut off, it would be the very thing. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/deb/502/356/deb5023561f7feeeeec8493ecc2492af.jpg" alt="image"><br><br>  It may seem that cropping images are not very humane.  But in fact, this is only for posters and logos.  And if you crop the photos, often nothing important is lost.  But when cropping photos there is another feature - the faces of people most often are in the upper part of the image.  This is another rule that is applied when cropping a photo - you need to cut it from above a little less than from below. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/412/c49/e7e/412c49e7eb37f6a7abb798ddb42031f4.jpg" alt="image"><br><br>  Ideally, the position of the original image on the resulting image should be adjusted.  It may turn out that only the lower one is important, or only the upper part (relevant, let's say, for letters). <br><br>  Sometimes a picture needs to be cut out in a way directly opposite to the first one.  Instead of making the image no larger than the specified size, you need to make it no less than the specified size.  And all that stands for the edges of the resulting rectangle is not necessary to cut. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a6c/db3/3d8/a6cdb33d8969443a5835a918f14ab74d.jpg" alt="image"><br><br>  Sometimes you need a certain size on one of the coordinates, and the size of another coordinate can be arbitrary. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/252/7a3/525/2527a3525bc8b065025e3b5b3ac378cc.jpg" alt="image"><br><br>  For example, an image for an article that should occupy exactly half the column width.  Another example is the shots of their film, which go scarcely and all should have the same height. <br><br>  And recently, I faced this problem: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/95c/05e/1c7/95c05e1c7300945e1a051b0b4e7edc14.jpg" alt="image"><br><br>  Injected logos should be placed in one line of a fixed height.  If you specify a size of 150 √ó 70 and strict adherence to dimensions with padding, then logos with a small width (the first one in the figure) will occupy all 150 pixels wide.  And if you just make a fixed height, then very low and wide logos (second and third) will take too much space in width.  The decision came in a slight change in my classification, namely, I realized that the width and height can be independently strict or not.  Those.  in this case, the algorithm was this - a thumbnail 150 √ó 70 pixels in size with strict observance of height, but not width. <br><br><h2>  Practice </h2><br>  As you understand, all these theoretical calculations, without practice, are not worth a penny.  But, unfortunately, there will be no code today.  Mostly due to the fact that there are several implementations and they are for different platforms (PHP and Django) and you need to put them in order a bit.  I think that when I bring the version for Django to shine, I will make a separate post about it, because there will be many more buns, and I‚Äôll just mention the version for PHP. <br><br>  Instead, I want to give a list of simple flags and parameters, which in 90% of cases save from writing a separate function for each thumbnail. <br><br>  <b>size</b> - an array of 2 numbers, width and height.  Any value (but not both) can be 0 (or NULL), which means that this size should not be taken into account. <br>  <b>method</b> - the method of calculating the size.  Either "not more than a specified size", or "not less than a specified size", or "exactly the specified size". <br>  <b>enlarge</b> - logical value, enlarge small images.  Not everyone likes, the code picture 100 √ó 100 stretch to 1024 √ó 768 <br>  <b>strict size</b> - an array of 2 logical values.  Indicates strict size correspondence in the resulting image for each dimension. <br>  <b>align</b> - an array of 2 digits.  Means the displacement of the original image in the resultant in percent separately for each measurement.  As for cases when the resulting image is larger, and when less. <br>  <b>back color</b> - the color with which the paddings will be filled. </div><p>Source: <a href="https://habr.com/ru/post/92237/">https://habr.com/ru/post/92237/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../92231/index.html">RAO again zhhot</a></li>
<li><a href="../92232/index.html">Attention! Competition!</a></li>
<li><a href="../92233/index.html">Pre-alpha version of "Fenek" for Android</a></li>
<li><a href="../92234/index.html">Wizards, yperny theater</a></li>
<li><a href="../92235/index.html">We are testing the ERP system. Part 2</a></li>
<li><a href="../92238/index.html">Let's strike chaos</a></li>
<li><a href="../92239/index.html">Linux security mechanisms</a></li>
<li><a href="../92242/index.html">Apache Cassandra Project Receives Commercial Support</a></li>
<li><a href="../92245/index.html">Beeline and unreasonable cancellation of the subscription fee for the service</a></li>
<li><a href="../92246/index.html">As it turned out, the popularity of the iPad is a good help for scammers.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>