<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>JIRA: create plugins. Framework Features</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Greetings to all. 
 This article will help beginners in web programming learn how to write plugins under JIRA. At the beginning of work with this syst...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>JIRA: create plugins. Framework Features</h1><div class="post__text post__text-html js-mediator-article">  Greetings to all. <br>  This article will help beginners in web programming learn how to write plugins under JIRA.  At the beginning of work with this system, I myself was confronted with the fact that, firstly, there was not a single sufficiently detailed and Russian-speaking guide.  And secondly, most of the articles are designed for quite experienced people. <br>  For a start, I will review the main points and errors when creating plugins, as well as the structure of the JIRA plug-in, which greatly simplifies the task of a novice web programmer. <br><a name="habracut"></a><br>  About configuring and installing Maven and SDK, things needed to create plug-ins, and their integration into the IDE is written in sufficient detail on the <a href="https://developer.atlassian.com/display/DOCS/Getting%2BStarted">Atlassian</a> website, so I‚Äôll only briefly describe what they are for.  Maven is a framework on which plug-in creation is implemented.  SDK (software development kit) Extends the capabilities of Maven and simplifies the process of creating a plugin, and also adds to Maven a bunch of libraries needed to work with JIRA. <br><br><h4>  Creating a plugin </h4><br>  It starts with the selection of the directory for its placement (in the <i>cd C: \ your_directory</i> command line), after which the plug-in <b>skeleton</b> is created with the <i>atlas-create-jira-plugin command</i> .  A choice of settings is offered.  After such simple operations as the choice of name, version, etc., we end up with a skeleton.  The skeleton consists of the following main parts: <br><br><h5>  Pom.xml file </h5><br>  Located at the root of the plugin.  The name, version of the plugin, information about it (the developer, for example) and, most importantly, the necessary libraries are written in this xml file. <br>  There are enough examples in the tutorials on the site indicated above, however, I will mark a couple of problem areas. <br>  If the plugin is not built by the <i>atlas-mvn clean package</i> or <i>atlas-run</i> command on the command line, and does not display errors related to the syntax, then the case is in the pom.xml file. <br>  The most common errors during command line actions: <br>  1) the jira-core dependency has not been uncommented, which gives access to most of the jira libraries and is necessary if you are going to do at least something that is minimally beyond the standard functionality. <br>  2) not quite an error in the pom.xml file, but spent a lot of my time.  If you are at home / at work / in the place where you code there is a proxy, then <u>very carefully configure the proxy in the Maven configuration file</u> .  How to do this - see the Atlassian website. <br>  3) the necessary libraries are not registered.  And here a problem may arise: the installation of external libraries in Maven is described on the Maven website, however, if we are dealing with the Atlassian SDK, then you need to run <i>mvn install: install</i> with the full path to the mvn.bat file, that is, as follows : <i>C: \ Atlassian \ atlassian-plugin-sdk \ apache-maven \ bin \ mvn install: install .....</i> , then be sure to add the library to the Maven repository, which is located at% Atlassian_HOME% \ atlassian-plugin-sdk \ repository 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Atlassian-plugin.xml file </h5><br>  Located in src / main / resources. <br>  This file is fully responsible for the interaction between the system and the plugin at the time of installation thereof.  It describes the modules that will be included in the plugin, the components and resources that the plugin uses (localization files, javascript, css, images).  All possible modules are defined by Atlassian, again in the full list in <a href="https://developer.atlassian.com/display/JIRADEV/JIRA%2BDeveloper%2BDocumentation">that very place</a> .  These modules are quite enough for the implementation of tasks.  This includes overriding some JIRA classes. <br>  The thing that is not quite understandable to beginners is also written in this file: the connection between java classes and velocity patterns.  Velocity is a page-styling language like jsp.  It has its simple syntax, similar to pascal.  The main function - depending on the parameters that are passed to it from the java classes to generate partly (in our case) or completely the page code.  It is possible to set various conditions, make cycles, etc.  And the velocity code is compatible with both html and javascript, which makes it a powerful tool. <br>  Consider an example of creating a custom field module in atlassian-plugin.xml, it is best suited for understanding the principles of constructing the atlassian-plugin.xml file, as well as the velocity patterns.  Then we will have the following code: <br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">customfield-type</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"MyCF"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">i18n-name-key</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"my-first-cf"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">key</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"MyCf"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.example.cf"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">key</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"field-desc"</span></span></span><span class="hljs-tag">&gt;</span></span>The new field<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resource</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"view"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"velocity"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">location</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/templates/view.vm"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resource</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"edit"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"velocity"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">location</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/templates/edit.vm"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">customfield-type</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Consider it in more detail: <br>  <b>name</b> - the name of the module that you will see when viewing the installed plugin <br>  <b>i18n-name-key</b> is the key by which JIRA will search for a human-readable module name in the .properties file (especially relevant for internalization, that is, translating the plugin into several languages) <br>  <b>class</b> is a Java class that defines the behavior of a field.  Some methods from it are executed every time when you try to view / edit the value of a field, some to check the validity of the value.  However, this is a separate story <br>  <b>description</b> - everything is like a name, only for description <br>  And, perhaps, the most interesting, <b>resource</b> .  Here, velocity files are always specified for custom fields, which will be responsible for displaying the field in various situations, such as editing the field, viewing the field, viewing the field in the ‚ÄúQuery Search‚Äù, viewing the field when outputting as xml, and so on. <br><br><h5>  Velocity files </h5><br>  By default, the values ‚Äã‚Äãfor the custom field are transmitted to the velocity files: $ value is the current value, $ customfiled is the field object $ fieldLayoutItem is the field characteristics.  Inside the file velocity, there is a call to the #header and #footer objects, which are very rarely touched; usually, what is contained between them is enough to adjust the behavior.  In the simplest examples, one html is enough, then it may be necessary to enable javascript.  Well, for complex fields you need everything together: the transfer of new parameters to velocity, the conditions and velocity cycles, the skillful combination of the above with html and javascript. <br><br><h5>  .Properties files </h5><br>  Used, as already mentioned, for the internationalization of its plugin. <br>  It is enough to specify it in the list of resources, make copies with a different ending (for the Russian Federation - MyProject_ru_RU.properties), and, voila, depending on the selected language, the interface will change from English to Russian in my example. <br><br><h4>  Creating plugin module </h4><br>  Everything is simple: the <i>atlas-create-jira-plugin-module command</i> allows you to add a new module to your existing project (customfield, rest, project tab).  This command modifies atlassian-plugin.xml, adds new java classes and velocity files.  It is executed after transition to the project by the <i>cd command</i> .  <b>Carefully</b> , by no means always the path to the velocity templates is written correctly in atlassian-plugin.xml.  Please note that not all modules can be added this way, some will have to be added manually. <br><br><h4>  Preparing a project for import into eclipse </h4><br><br>  I use Eclipse as the recommended Atlassian development environment.  The .project file can be created by the atlas-mvn eclipse: eclipse command.  Based on your pom.xml, it also loads the necessary libraries from the maven and atlassian repository. <br><br>  UPDATE: after I tried building plugins in Intellij IDEA, I realized that IDEA is my choice.  Most of the dependencies defined in .pom files are automatically loaded (without a cmd command), which saves time and nerves. <br><br><h4>  Finish line </h4><br><br>  Well, finally, after all the above and writing the code, you can write atlas-mvn clean package on the command line, which will assemble the plugin version for you, or atlas-run, which will assemble the plugin and launch the local Djiru and enjoy the further development and testing process. </div><p>Source: <a href="https://habr.com/ru/post/178871/">https://habr.com/ru/post/178871/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../178859/index.html">PHP NameSpace - how to cook it?</a></li>
<li><a href="../178861/index.html">Rules for effective meetings</a></li>
<li><a href="../178865/index.html">Web development based on Java EE + JSP + Hibernate + Maven + Spring MVC in NetBeans. Part 1</a></li>
<li><a href="../178867/index.html">Usability checklist</a></li>
<li><a href="../178869/index.html">How can I see a regular movie in 3D</a></li>
<li><a href="../178875/index.html">MySQL Database Sync Overview</a></li>
<li><a href="../178877/index.html">Using schema.org markup for company logos</a></li>
<li><a href="../178881/index.html">Installing FANN Neural Network on Linux</a></li>
<li><a href="../178885/index.html">New processors in the new cloud pool</a></li>
<li><a href="../178887/index.html">Win a free participation in DEVCONF 2013, the creative opens the door for you!</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>