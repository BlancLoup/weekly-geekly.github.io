<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Automatic compression of stored data in redis</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The problem is that during peak hours the network interface does not cope with the amount of data transmitted. 
 From the available solutions, compres...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Automatic compression of stored data in redis</h1><div class="post__text post__text-html js-mediator-article"> The problem is that during peak hours the network interface does not cope with the amount of data transmitted. <br>  From the available solutions, compression of the stored data was chosen. <br>  tl; dr: save memory&gt; 50% and network&gt; 50%.  It's about a <a href="https://github.com/nrk/predis">predis</a> <a href="https://github.com/b1rdex/predis-compressible">plugin</a> that automatically compresses data before being sent to redis. <br><a name="habracut"></a><br>  As you know, redis uses a text protocol (binary safe) and data is stored in its original form.  In our application in redis, serialized php objects and even pieces of html code are stored, which is very well suited to the very concept of compression - the data is homogeneous and contain many repeated groups of characters. <br><br>  In the process of finding a solution, a <a href="https://groups.google.com/forum/">discussion</a> was found <a href="https://groups.google.com/forum/">in the group</a> - the developers do not plan to add compression to the protocol ... So we will do it ourselves. <br><br>  So, the concept: if the size of the data transferred to be saved in redis is more than N bytes, then before saving, compress the data using gzip.  When receiving data from redis, check the first bytes of the data for the presence of a gzip header and, if found, unpack the data before transferring it to the application. <br>  Since we use predis to work with redis, the plugin was written for it. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Let's start small and write a mechanism for working with compression - <code>CompressorInterface</code> - methods for determining whether to compress, compress, determine whether to unpack and decompress.  The class constructor will take a threshold value in bytes, starting from which compression is enabled.  This interface will allow you to implement your favorite compression algorithm yourself, for example, a lamp WinRAR. <br><br>  The logic of checking the size of the input data is moved to the <code>AbstractCompressor</code> class so as not to duplicate it in each of the implementations. <br><div class="spoiler">  <b class="spoiler_title">AbstractCompressor</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AbstractCompressor</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CompressorInterface</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> BYTE_CHARSET = <span class="hljs-string"><span class="hljs-string">'US-ASCII'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $threshold; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(int $threshold)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;threshold = $threshold; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">shouldCompress</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($data)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bool</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!\is_string($data)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> \mb_strlen($data, <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::BYTE_CHARSET) &gt; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;threshold; } }</code> </pre> <br>  We use <code>mb_strlen</code> to overcome possible problems with <code>mbstring.func_overload</code> and one-byte encoding to prevent attempts to automatically detect encoding from data. <br></div></div><br>  We make an implementation based on <a href="http://php.net/gzencode">gzencode</a> for compression, which has magic bytes equal to <code>\x1f\x8b\x08"</code> (from them we will understand that the string must be unpacked). <br><div class="spoiler">  <b class="spoiler_title">GzipCompressor</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GzipCompressor</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AbstractCompressor</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">compress</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $data)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ $compressed = @\gzencode($data); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($compressed === <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CompressorException(<span class="hljs-string"><span class="hljs-string">'Compression failed'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $compressed; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isCompressed</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($data)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bool</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!\is_string($data)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> === \mb_strpos($data, <span class="hljs-string"><span class="hljs-string">"\x1f"</span></span> . <span class="hljs-string"><span class="hljs-string">"\x8b"</span></span> . <span class="hljs-string"><span class="hljs-string">"\x08"</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::BYTE_CHARSET); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">decompress</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $data)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ $decompressed = @\gzdecode($data); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($decompressed === <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CompressorException(<span class="hljs-string"><span class="hljs-string">'Decompression failed'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $decompressed; } }</code> </pre> <br></div></div><br>  A nice bonus is if you use <a href="https://github.com/uglide/RedisDesktopManager/">RedisDesktopManager</a> , then it automatically unpacks gzip when viewing.  I tried to see the result of the plug-in in it and, until I found out about this feature, I thought that the plug-in does not work :) <br><br>  In predis, there is a Processor mechanism that allows you to change the arguments of commands before passing to the repository, which we will use.  By the way, on the basis of this mechanism, in the standard delivery predis there is a prefixer that allows you to dynamically add some string to all keys. <br><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CompressProcessor</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ProcessorInterface</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $compressor; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(CompressorInterface $compressor)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;compressor = $compressor; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">process</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(CommandInterface $command)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($command <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> CompressibleCommandInterface) { $command-&gt;setCompressor(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;compressor); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($command <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> ArgumentsCompressibleCommandInterface) { $arguments = $command-&gt;compressArguments($command-&gt;getArguments()); $command-&gt;setRawArguments($arguments); } } } }</code> </pre> <br>  The processor is looking for commands that implement one of the interfaces: <br>  1. <code>CompressibleCommandInterface</code> - shows that the command supports compression and describes a method for the command to get the implementation of the <code>CompressorInterface</code> . <br>  2. <code>ArgumentsCompressibleCommandInterface</code> - the successor of the first interface, shows that the command supports the compression of arguments. <br><br>  The logic turned out strange, do not you think?  Why is the compression of the arguments explicitly and caused by the processor, and the logic for unpacking the answers is not?  Take a look at the command creation code that uses predis ( <code>\Predis\Profile\RedisProfile::createCommand()</code> ): <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createCommand</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($commandID, array $arguments = array</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">()</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//       $command = new $commandClass(); $command-&gt;setArguments($arguments); if (isset($this-&gt;processor)) { $this-&gt;processor-&gt;process($command); } return $command; }</span></span></code> </pre> <br>  Because of this logic, we have several problems. <br>  The first of these is that the processor can influence the command only after it has already received arguments.  This does not allow transferring some external dependency to it ( <code>GzipCompressor</code> in our case, but it could be some other mechanism that needs to be initialized outside the predis, for example, an encryption system or a mechanism for signing data).  Because of this, an interface appeared with a method for compressing arguments. <br>  The second problem is that the processor can not affect the processing command of the server response.  Because of this, the decompression logic is forced to be in <code>CommandInterface::parseResponse()</code> , which is not entirely correct. <br><br>  Together, these two problems have led to the fact that a command for unpacking and the unpacking logic itself are not explicitly stored inside the command.  I think the processor in predis should be divided into two stages - the preprocessor (to transform the arguments before sending it to the server) and the postprocessor (to transform the response from the server).  I shared these thoughts with the developers of predis. <br><br><div class="spoiler">  <b class="spoiler_title">Typical Set Command Code</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">CompressibleCommandTrait</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">CompressArgumentsHelperTrait</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">compressArguments</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(array $arguments)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">array</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;compressArgument($arguments, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $arguments; }</code> </pre> </div></div><div class="spoiler">  <b class="spoiler_title">Typical Get Command Code</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">CompressibleCommandTrait</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parseResponse</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($data)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;compressor-&gt;isCompressed($data)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $data; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;compressor-&gt;decompress($data); }</code> </pre> </div></div><br>  On the results of plug-in inclusion on the graphs of one of the cluster instances: <br><img src="https://habrastorage.org/web/67a/752/6b1/67a7526b1052449a94f3517ef453f592.png"><br><img src="https://habrastorage.org/web/345/a33/4c5/345a334c5aba4a208721b09fe77d53b2.png"><br><br>  How to install and start using: <pre> <code class="hljs perl">composer <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> b1rdex/predis-compressible</code> </pre> <br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">B1rdex</span></span>\<span class="hljs-title"><span class="hljs-title">PredisCompressible</span></span>\<span class="hljs-title"><span class="hljs-title">CompressProcessor</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">B1rdex</span></span>\<span class="hljs-title"><span class="hljs-title">PredisCompressible</span></span>\<span class="hljs-title"><span class="hljs-title">Compressor</span></span>\<span class="hljs-title"><span class="hljs-title">GzipCompressor</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">B1rdex</span></span>\<span class="hljs-title"><span class="hljs-title">PredisCompressible</span></span>\<span class="hljs-title"><span class="hljs-title">Command</span></span>\<span class="hljs-title"><span class="hljs-title">StringGet</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">B1rdex</span></span>\<span class="hljs-title"><span class="hljs-title">PredisCompressible</span></span>\<span class="hljs-title"><span class="hljs-title">Command</span></span>\<span class="hljs-title"><span class="hljs-title">StringSet</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">B1rdex</span></span>\<span class="hljs-title"><span class="hljs-title">PredisCompressible</span></span>\<span class="hljs-title"><span class="hljs-title">Command</span></span>\<span class="hljs-title"><span class="hljs-title">StringSetExpire</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">B1rdex</span></span>\<span class="hljs-title"><span class="hljs-title">PredisCompressible</span></span>\<span class="hljs-title"><span class="hljs-title">Command</span></span>\<span class="hljs-title"><span class="hljs-title">StringSetPreserve</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Predis</span></span>\<span class="hljs-title"><span class="hljs-title">Client</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Predis</span></span>\<span class="hljs-title"><span class="hljs-title">Configuration</span></span>\<span class="hljs-title"><span class="hljs-title">OptionsInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Predis</span></span>\<span class="hljs-title"><span class="hljs-title">Profile</span></span>\<span class="hljs-title"><span class="hljs-title">Factory</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Predis</span></span>\<span class="hljs-title"><span class="hljs-title">Profile</span></span>\<span class="hljs-title"><span class="hljs-title">RedisProfile</span></span>; <span class="hljs-comment"><span class="hljs-comment">// strings with length &gt; 2048 bytes will be compressed $compressor = new GzipCompressor(2048); $client = new Client([], [ 'profile' =&gt; function (OptionsInterface $options) use ($compressor) { $profile = Factory::getDefault(); if ($profile instanceof RedisProfile) { $processor = new CompressProcessor($compressor); $profile-&gt;setProcessor($processor); $profile-&gt;defineCommand('SET', StringSet::class); $profile-&gt;defineCommand('SETEX', StringSetExpire::class); $profile-&gt;defineCommand('SETNX', StringSetPreserve::class); $profile-&gt;defineCommand('GET', StringGet::class); } return $profile; }, ]);</span></span></code> </pre> <br>  <b>Upd</b> : <a href="https://github.com/b1rdex/predis-compressible">link to the plugin on GitHub</a> . </div><p>Source: <a href="https://habr.com/ru/post/331474/">https://habr.com/ru/post/331474/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../331462/index.html">Web sockets for php. Choosing a web server server</a></li>
<li><a href="../331466/index.html">Lessons from three million downloads on the AppStore</a></li>
<li><a href="../331468/index.html">Use template + constexpr to create mask masks for microcontroller peripherals at compile time (C ++ 14)</a></li>
<li><a href="../331470/index.html">How to overdo the door lock</a></li>
<li><a href="../331472/index.html">Introduction to ServiceNow and IT Infrastructure Management: Digest # 2</a></li>
<li><a href="../331476/index.html">Visualizing goals increases their achievement by 46%. How do we solve this in WebCanape?</a></li>
<li><a href="../331478/index.html">How to hold a raffle among Java programmers</a></li>
<li><a href="../331482/index.html">Challenges marathon round of Yandex. Algorithm 2017</a></li>
<li><a href="../331484/index.html">Machine Learning for an Insurance Company: Exploring Algorithms</a></li>
<li><a href="../331486/index.html">Webinar: How will targeted cyber attacks develop?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>