<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Using ShtumiUsefulBundle in Symfony2 - several useful things in one bundle</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When developing projects on the basis of a new, but already very popular Symfony2 framework, you involuntarily encounter pieces of code that, with min...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Using ShtumiUsefulBundle in Symfony2 - several useful things in one bundle</h1><div class="post__text post__text-html js-mediator-article">  When developing projects on the basis of a new, but already very popular Symfony2 framework, you involuntarily encounter pieces of code that, with minimal changes, or even without them, migrate from one project to another.  Having collected several such ‚Äúpieces‚Äù together, I created a ShtumiUsefulBundle, the use of which I want to talk about. <br><a name="habracut"></a><br>  You can find the bundle itself on GitHub: <a href="https://github.com/shtumi/ShtumiUsefulBundle">ShtumiUsefulBundle</a> . <br><br>  Installing and configuring the bundle is trivial and described in <a href="">Reedme</a> .  I will not dwell on this question. <br><br><h4>  Auto-Substitution Form Fields </h4><br>  Symfony2 has a remarkable type of entity field ‚Äî a field containing a Select drop-down list filled with the records of a specific table.  Moreover, after submitting the form, you will receive not the id of the selected record, but the object itself.  Very comfortably!  Conveniently, while the amount of data in the table does not exceed reasonable limits.  But when you have, for example, a user table contains tens of thousands of records and you need to make a user choice in the form, this approach becomes inapplicable.  The smart solution in this case would be to use a text field with auto-lookup.  ShtumiUsefulBundle allows you to create and flexibly customize such fields. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/23e/586/d55/23e586d55a64bd05251c6090c0485aa6.png" alt="image"><br><br>  First you need to define in the settings each field with auto substitution (in the example there are two). <br><br>  //app/config/config.yml <br><br><pre><code class="php hljs">shtumi_useful: autocomplete_entities: users: <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AcmeDemoBundle</span></span></span><span class="hljs-class">:</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">role</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ROLE_ADMIN</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">property</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">email</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">products</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AcmeDemoBundle</span></span></span><span class="hljs-class">:</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Product</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">role</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ROLE_ADMIN</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">search</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">contains</span></span></span></span></code> </pre> <br><ul><li>  class - Doctrine model. </li><li>  role - The user role that is required to use the field.  By default: IS_AUTHENTICATED_ANONYMOUSLY (available to everyone) </li><li>  property - The property of the model that will be used for autosubstitution.  By default: title. </li><li>  search - Type of search for autosubstitution: <br>  - begins_with - begins with the characters entered (by default) <br>  - ends_with - ends with the entered characters <br>  - contains - contains the entered characters inside <br></li></ul><br>  The definition of the field in the settings is necessary so that the hacker does not auto-prompt, say, credit card numbers into the request to the controller.  The controller prompts only the values ‚Äã‚Äãof those fields that are defined in the settings.  And only to those users whose roles correspond to those specified in the settings. <br><br>  Using the field is very simple: <br><br><pre> <code class="php hljs">$formBuilder -&gt;add(<span class="hljs-string"><span class="hljs-string">'product'</span></span>, <span class="hljs-string"><span class="hljs-string">'shtumi_ajax_autocomplete'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'entity_alias'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">'products'</span></span>));</code> </pre><br><br>  This field can also be used as a filter in <a href="https://github.com/sonata-project/SonataAdminBundle">SonataAdminBundle</a> (for those who do not know, this is the admin generator in Symfony2 - to be honest, I don‚Äôt know how I would live without this bundle ...).  For this, the Sale model must contain a user property with a ManyToOne connection to the User model. <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//src/Acme/DemoBundle/Admin/SaleAdmin.php protected function configureDatagridFilters(DatagridMapper $datagridMapper) { $datagridMapper -&gt;add('id') -&gt;add('user', 'shtumi_ajax_autocomplete', array('entity_alias'=&gt;'users')) ; }</span></span></code> </pre><br><br>  If in the model for which filters are added there is no filtered field with a ManyToOne bundle, you should use Callback.  Typically there are two such situations.  First, you may have a structure for Hotel-&gt; Campaign-&gt; Offer.  In this case, of course, it makes no sense to keep the hotel in the offer, since  This duplication of information.  But filtering the list of campaign offers may be necessary.  Secondly, you may want to filter the user table by e-mail using autosubstitution.  But the problem is that the e-mail field itself is in the User model, and there can be no talk of ManyToOne communication here. <br><br>  Using callback in the shtumi_ajax_autocomplete field is not difficult: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//src/Acme/DemoBundle/Admin/UserAdmin.php protected function configureDatagridFilters(DatagridMapper $datagridMapper) { $datagridMapper ... -&gt;add('email', 'shtumi_ajax_autocomplete', array('entity_alias'=&gt;'users', 'callback' =&gt; function ($queryBuilder, $alias, $field, $data) { if (!$data['value']) { return; } if ($data['type']== 1){ //1 - no, 0 - yes $eq = " != "; } else { $eq = " = "; } $queryBuilder -&gt;andWhere($alias . '.email' . $eq . ':value1') -&gt;setParameter('value1', $data['value']); })) ; }</span></span></code> </pre><br><br><h4>  Dependent field </h4><br>  Another useful and often necessary field is a drop-down list, the contents of which depend on the value of another field.  A typical example is countries and regions.  It is necessary to display in the regions field only those regions that correspond to the selected country.  ShtumiUsefulBundle provides a one-stop solution for creating similar fields ‚Äî the dependent_filtered_entity type. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/091/9ea/04c/0919ea04cdf104a6a291b90f1ca7c80a.png" alt="image"><br><br>  First, as with the previous type, we need to configure the fields used: <br><br>  //app/config/config.yml <br><br><pre> <code class="php hljs">shtumi_useful: dependent_filtered_entities: region_by_country: <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AcmeDemoBundle</span></span></span><span class="hljs-class">:</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Region</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">parent_property</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">country</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">property</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">title</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">role</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ROLE_USER</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">no_result_msg</span></span></span><span class="hljs-class">: '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">No</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">regions</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">found</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">for</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">that</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">country</span></span></span><span class="hljs-class">' </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">order_property</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">title</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">order_direction</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ASC</span></span></span></span></code> </pre><br><ul><li>  class - Model dependent field. </li><li>  role - the role of the user to whom the field will be available.  The default is IS_AUTHENTICATED_ANONYMOUSLY to all. </li><li>  parent_property is a property of the model containing a link to the main model with a ManyToOne combination. </li><li>  property - the property of the model used as text in the dependent drop-down list.  Default: title </li><li>  no_result_msg - text that will be used in the dependent drop-down list in case the dependent elements are missing in the database.  By default: No results were found.  This text can be translated in the files messages.lokal.php </li><li>  order_property is a property of the model by which data will be sorted in the drop-down list.  Default: id </li><li>  order_direction - sorting direction: <br>  - ASC - (default) <br>  - DESC </li></ul><br>  Using the field itself does not pose any difficulty. <br><br><pre> <code class="php hljs">$formBuilder -&gt;add(<span class="hljs-string"><span class="hljs-string">'country'</span></span>, <span class="hljs-string"><span class="hljs-string">'entity'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'class'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'AcmeDemoBundle:Country'</span></span> , <span class="hljs-string"><span class="hljs-string">'required'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> , <span class="hljs-string"><span class="hljs-string">'empty_value'</span></span>=&gt; <span class="hljs-string"><span class="hljs-string">'== Choose country =='</span></span>)) -&gt;add(<span class="hljs-string"><span class="hljs-string">'region'</span></span>, <span class="hljs-string"><span class="hljs-string">'shtumi_dependent_filtered_entity'</span></span> , <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'entity_alias'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'region_by_country'</span></span> , <span class="hljs-string"><span class="hljs-string">'empty_value'</span></span>=&gt; <span class="hljs-string"><span class="hljs-string">'== Choose region =='</span></span> , <span class="hljs-string"><span class="hljs-string">'parent_field'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">'country'</span></span>))</code> </pre><br><br>  parent_field - the name of the main field in this form. <br><br>  The values ‚Äã‚Äãof the dependent field are loaded using AJAX.  Therefore, it can be used on sufficiently large amounts of data. <br><br>  As a result, after the user fills out the form, we get the Country object and the Region object. <br><br><h4>  Work with dates </h4><br>  Symfony2 has a built-in type date.  It has several widgets and can look like several drop-down lists for choosing the day, month and year, as well as a simple text field where the date is displayed in a specific format.  As a result, you get a DateTime object.  Connecting to this field pop-up calendar is not difficult.  To do this, you just need to pass the class attribute to the form element, and then set the datepicker for it in the template, having previously connected the jQuery UI, or any other calendar. <br><br><h4>  Daterange </h4><br>  Less often, but still, it is necessary to choose a date interval in the form.  There is no standard simple solution here, so I developed a universal solution for this.  In the ShtumiUsefulBundle there is a type shtumi_daterange.  This type of field works with objects of the DateRange class, which is defined inside the bundle.  DateRange contains the date of the beginning and end of the period, the format of the dates as well as methods for converting an object into a string and back. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4f5/27a/c66/4f527ac66380abfa7797c6545f2f9904.png" alt="image"><br><br>  Using this type again, you need to start with the settings, where you need to specify the format of dates and the default time interval: <br><br>  //app/config/config.yml <br><pre> <code class="php hljs">shtumi_useful: date_range: date_format: d/m/Y default_interval: P30D</code> </pre><br><br>  For the convenience of creating DateRange objects, a separate service is registered with the ShtumiUsefulBundle. <br><br>  There are three ways to create a DateRange object: <br><br><h6>  1. Using the shtumi_daterange service </h6><br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// public function createToDate($dateEnd="now", $date_format = null, $date_interval=null) $dateRange1 = $this-&gt;container-&gt;get('shtumi_daterange')-&gt;createToDate(); $dateRange2 = $this-&gt;container-&gt;get('shtumi_daterange')-&gt;createToDate(new \DateTime('2012-01-11'), 'd/m/Y', 'P14D');</span></span></code> </pre><br><br><h6>  2. Creating an object directly from the class </h6><br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Shtumi</span></span>\<span class="hljs-title"><span class="hljs-title">UsefulBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Model</span></span>\<span class="hljs-title"><span class="hljs-title">DateRange</span></span>; ... $date_format = <span class="hljs-string"><span class="hljs-string">'Ym-d'</span></span>; $dateRange3 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DateRange($date_format); $dateRange3-&gt;createToDate(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> \DateTime(), <span class="hljs-string"><span class="hljs-string">'P3D'</span></span>);</code> </pre><br><br><h6>  3. By parsing a string containing a date range. </h6><br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Shtumi</span></span>\<span class="hljs-title"><span class="hljs-title">UsefulBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Model</span></span>\<span class="hljs-title"><span class="hljs-title">DateRange</span></span>; ... $dateRange4 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DateRange(<span class="hljs-string"><span class="hljs-string">'m/d/Y'</span></span>); $dateRange4-&gt;parseData(<span class="hljs-string"><span class="hljs-string">'03/27/2012 - 04/05/2012'</span></span>);</code> </pre><br><br>  The DateRange object itself, as already mentioned, contains two main properties - the date of the start of the dateStart and the end of the dateEnd interval.  These properties are objects of the DateTime system class. <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $dateRange-&gt;dateEnd-&gt;format(<span class="hljs-string"><span class="hljs-string">'dmY'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//23.03.2012 $x = (string)$dateRange3; // 2012-03-20 - 2012-03-23</span></span></code> </pre><br><br>  Using the same type of the field of the form shtumi_daterange is again simple and intuitive: <br><pre> <code class="php hljs">$formBuilder -&gt;add(<span class="hljs-string"><span class="hljs-string">'point1'</span></span>, <span class="hljs-string"><span class="hljs-string">"shtumi_daterange"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'required'</span></span>=&gt;<span class="hljs-keyword"><span class="hljs-keyword">false</span></span> , <span class="hljs-string"><span class="hljs-string">'default'</span></span>=&gt;$dateRange1))</code> </pre><br><br><h4>  Additional DQL functions </h4><br>  Everyone knows that Symfony2 uses ORM Doctrine, which has its own DQL query language.  DQL syntax is very similar to SQL, but does not have all the functions that MySQL has.  I often have to use the IFNULL, ROUND and DATE_DIFF functions, which are not included in the standard Doctrine package. <br>  ShtumiUsefulBundle adds the ability to use these functions with the same syntax as in MySQL to DQL. <br><br>  To use additional DQL functions, you just need to add them to the Doctrine configuration: <br><br><pre> <code class="php hljs">doctrine: ... orm: entity_managers: <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: dql: datetime_functions: datediff: Shtumi\UsefulBundle\DQL\DateDiff numeric_functions: ifnull: Shtumi\UsefulBundle\DQL\IfNull round: Shtumi\UsefulBundle\DQL\Round</code> </pre><br><br><h4>  Conclusion </h4><br>  Of course, the global task presented by the bundle does not solve.  But still a few minor problems that arise before the developers on the symphony were solved and made my life easier to work on several projects.  I hope my work will seem interesting to someone else and at least a little easier for him.  Naturally, as we continue working with the framework, ShtumiUsefulBundle will be updated with new types of forms, DQL functions, TWIG extensions will be added, etc. While developing this bundle I tried to make solutions universal and easily configurable, I tried to describe everything in detail in the documentation.  I would be very happy to hear feedback on its use, criticism, comments and suggestions. </div><p>Source: <a href="https://habr.com/ru/post/141106/">https://habr.com/ru/post/141106/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../141098/index.html">Alternativa3D is now open source</a></li>
<li><a href="../141099/index.html">How to beat piracy?</a></li>
<li><a href="../141102/index.html">Howto: Amazon SES PHP mailer</a></li>
<li><a href="../141103/index.html">Making Home VirusTotal</a></li>
<li><a href="../141104/index.html">Summary of the monograph on Œª-calculus</a></li>
<li><a href="../141107/index.html">WPF: Several parameters for the converter</a></li>
<li><a href="../141108/index.html">WEXLER. Flex ONE: the first review of the world's first e-book with a flexible screen</a></li>
<li><a href="../141109/index.html">The graphs of math functions on google now in 3D</a></li>
<li><a href="../141110/index.html">Monitor Memcache with Zabbix</a></li>
<li><a href="../141113/index.html">Stars of the world frontend 2. JS Lovers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>