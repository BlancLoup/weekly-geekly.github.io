<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Teach Liferay Portal 6.0 EE SP2 to understand license files for version 6.1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Many developers for Liferay Portal 6.0 EE were not satisfied with the policies of Liferay inc. when version 6.1 was released, they lost the opportunit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Teach Liferay Portal 6.0 EE SP2 to understand license files for version 6.1</h1><div class="post__text post__text-html js-mediator-article">  Many developers for Liferay Portal 6.0 EE were not satisfied with the policies of Liferay inc.  when version 6.1 was released, they lost the opportunity to use trial licenses while working on projects, and the keys to the new version are not backward-compatible.  What to do?  If a company producing this product does not meet developers and forcibly transfers everyone to a new version, it‚Äôs not a good idea to give all developers a real license from a production server for use during development.  There is a way out, even if not the most elegant, but if they don‚Äôt leave a choice, you can still solve this problem.  Welcome under cat. <a name="habracut"></a><br><br><h4>  What will be discussed in this article </h4><br>  In the Liferay Portal 6.0 EE version, there is a way to check licenses of some complexity (this section is not discussed in the article), but it has a very weak point (but we'll just talk about it), which allows, replacing the body of one of the methods, just in one line, forcing Liferay to accept license files from Liferay Portal 6.1 EE.  But this is not the main advantage of this approach.  As a result of the manipulations described below, it is possible to get the following result: the validation range of the license validity dates will be performed, as well as the value of the number of simultaneous sessions and other fields contained in the license file, but the contents of the &lt;key /&gt; field will not be checked to obtain a license with an unlimited number of simultaneous sessions, for use during development. <br><br><h4>  Some practice </h4><br>  Consider a class that performs a license check, which is located in the portal-impl.jar library.  I think people who understand what they are talking about know where to look for it.  Of course, in ‚ÄúAPP_SERVER / webapps / ROOT / WEB-INF / lib‚Äù if you use Tomcat, by analogy you can find to determine the location of this file when using another server application. <br>  So, we proceed to the practical part. <br>  As a first step, using a Java-familiar tool for developers, such as ‚ÄúJD‚Äù or ‚Äújad‚Äù, ‚Äúset on‚Äù portal-impl.jar, we get the code of the class ‚Äúcom.liferay.portal.ee.license.bd‚Äù which, actually, interests us. <br>  Below I give the code that was obtained as a result of the operation described in the previous paragraph, so as not to distract the reader from the article. <br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.liferay.portal.ee.license.b; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.liferay.portal.ee.license.a; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.liferay.portal.kernel.log.Log; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.liferay.portal.kernel.log.LogFactoryUtil; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.liferay.portal.kernel.util.GetterUtil; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.liferay.portal.kernel.util.StringUtil; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.security.MessageDigest; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.security.NoSuchAlgorithmException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.ArrayList; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.Collections; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.Date; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.HashMap; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.Iterator; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.List; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.Map; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">d</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String[] a = { <span class="hljs-string"><span class="hljs-string">"MD5"</span></span>, <span class="hljs-string"><span class="hljs-string">"SHA-1"</span></span>, <span class="hljs-string"><span class="hljs-string">"SHA-256"</span></span>, <span class="hljs-string"><span class="hljs-string">"SHA-512"</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String b = <span class="hljs-string"><span class="hljs-string">"4a4beb2b97c151cff83cbca7096325086817360a7b8c912b66e1d1dea172033a8c5934cbbacbf7b443496cc119a6a482fc6225d28bcbcb2384f52862e6fd35e49a2625f1458d24a1f62e71235dc16b9de5a971e638af32a9784e566f33dd90234d89e1dde83e8a4a100a70d999b2bb7fa77eeb34fd1be9cdf3645f9478b14c2cd6b8f955"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span>[] c = { <span class="hljs-string"><span class="hljs-string">'0'</span></span>, <span class="hljs-string"><span class="hljs-string">'1'</span></span>, <span class="hljs-string"><span class="hljs-string">'2'</span></span>, <span class="hljs-string"><span class="hljs-string">'3'</span></span>, <span class="hljs-string"><span class="hljs-string">'4'</span></span>, <span class="hljs-string"><span class="hljs-string">'5'</span></span>, <span class="hljs-string"><span class="hljs-string">'6'</span></span>, <span class="hljs-string"><span class="hljs-string">'7'</span></span>, <span class="hljs-string"><span class="hljs-string">'8'</span></span>, <span class="hljs-string"><span class="hljs-string">'9'</span></span>, <span class="hljs-string"><span class="hljs-string">'a'</span></span>, <span class="hljs-string"><span class="hljs-string">'b'</span></span>, <span class="hljs-string"><span class="hljs-string">'c'</span></span>, <span class="hljs-string"><span class="hljs-string">'d'</span></span>, <span class="hljs-string"><span class="hljs-string">'e'</span></span>, <span class="hljs-string"><span class="hljs-string">'f'</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Log d = LogFactoryUtil.getLog(d.class); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> de = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> d(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Map </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">a</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a parama)</span></span></span><span class="hljs-function"> </span></span>{ Date localDate1 = parama.p(); Date localDate2 = parama.c(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a(parama.i(), parama.p(), parama.a(), parama.f(), parama.g(), parama.m(), parama.n(), parama.l(), parama.k(), parama.j(), parama.b(), localDate2.getTime() - localDate1.getTime(), parama.o()); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ab</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a parama)</span></span></span><span class="hljs-function"> </span></span>{ String str = parama.g(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!str.equals(<span class="hljs-string"><span class="hljs-string">"trial"</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> parama; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!c(parama)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> parama; parama.e(<span class="hljs-string"><span class="hljs-string">"developer"</span></span>); Map localMap = a(parama); parama.c(ea(localMap)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> parama; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">c</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a a1)</span></span></span><span class="hljs-function"> </span></span>{ String s = a1.i(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (s.equals(<span class="hljs-string"><span class="hljs-string">"1"</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; Map map = a(a1); String s1 = ea(map); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (s1.equals(<span class="hljs-string"><span class="hljs-string">"4a4beb2b97c151cff83cbca7096325086817360a7b8c912b66e1d1dea172033a8c5934cbbacbf7b443496cc119a6a482fc6225d28bcbcb2384f52862e6fd35e49a2625f1458d24a1f62e71235dc16b9de5a971e638af32a9784e566f33dd90234d89e1dde83e8a4a100a70d999b2bb7fa77eeb34fd1be9cdf3645f9478b14c2cd6b8f955"</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s1.equals(a1.d()); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">a</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Map paramMap)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = GetterUtil.getInteger((String) paramMap.get(<span class="hljs-string"><span class="hljs-string">"version"</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (i == <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> IllegalArgumentException(<span class="hljs-string"><span class="hljs-string">"Invalid version "</span></span> + i); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (i == <span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> b(paramMap); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (Exception localException) { d.error(localException, localException); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">b</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Map paramMap)</span></span></span><span class="hljs-function"> </span></span>{ ArrayList localArrayList = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList(paramMap.keySet()); Collections.sort(localArrayList); Object localObject = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList(paramMap.size()); String str1; String str2; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; localArrayList.size(); i++) { str1 = (String) paramMap.get(localArrayList.get(i)); str2 = a[(i % a.length)]; String str3 = a(str1, str2); ((List) localObject).add(str3); } localObject = b((List) localObject); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; ((List) localObject).size(); i++) { str1 = (String) ((List) localObject).get(i); str2 = a[(i % a.length)]; str1 = a(str1, str2); ((List) localObject).set(i, str1); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (String) a((List) localObject); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">a</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String paramString1, String paramString2)</span></span></span><span class="hljs-function"> </span></span>{ MessageDigest localMessageDigest = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] arrayOfByte = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { localMessageDigest = MessageDigest.getInstance(paramString2); localMessageDigest.update(paramString1.getBytes()); arrayOfByte = localMessageDigest.digest(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (NoSuchAlgorithmException e) { } StringBuilder localStringBuilder = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringBuilder( arrayOfByte.length &lt;&lt; <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; arrayOfByte.length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = arrayOfByte[i] &amp; <span class="hljs-number"><span class="hljs-number">0xFF</span></span>; localStringBuilder.append(c[(j &gt;&gt; <span class="hljs-number"><span class="hljs-number">4</span></span>)]); localStringBuilder.append(c[(j &amp; <span class="hljs-number"><span class="hljs-number">0xF</span></span>)]); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> localStringBuilder.toString(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Map </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">a</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String paramString1, Date paramDate, String paramString2, String paramString3, String paramString4, String paramString5, String paramString6, String paramString7, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> paramInt1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> paramInt2, String paramString8, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">long</span></span></span></span><span class="hljs-function"><span class="hljs-params"> paramLong, String[] paramArrayOfString)</span></span></span><span class="hljs-function"> </span></span>{ HashMap localHashMap = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HashMap(); localHashMap.put(<span class="hljs-string"><span class="hljs-string">"version"</span></span>, paramString1); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!paramString4.equals(<span class="hljs-string"><span class="hljs-string">"trial"</span></span>)) localHashMap.put(<span class="hljs-string"><span class="hljs-string">"startDate"</span></span>, String.valueOf(paramDate.getTime())); localHashMap.put(<span class="hljs-string"><span class="hljs-string">"type"</span></span>, paramString4); localHashMap.put(<span class="hljs-string"><span class="hljs-string">"productVersion"</span></span>, paramString6); localHashMap.put(<span class="hljs-string"><span class="hljs-string">"owner"</span></span>, paramString7); localHashMap.put(<span class="hljs-string"><span class="hljs-string">"description"</span></span>, paramString8); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (paramString4.equals(<span class="hljs-string"><span class="hljs-string">"trial"</span></span>)) localHashMap.put(<span class="hljs-string"><span class="hljs-string">"lifetime"</span></span>, String.valueOf(paramLong)); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> localHashMap.put(<span class="hljs-string"><span class="hljs-string">"expirationDate"</span></span>, String.valueOf(paramDate.getTime() + paramLong)); String str1; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (paramString1.equals(<span class="hljs-string"><span class="hljs-string">"1"</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((paramString4.equals(<span class="hljs-string"><span class="hljs-string">"cluster"</span></span>)) || (paramString4.equals(<span class="hljs-string"><span class="hljs-string">"developer-cluster"</span></span>))) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; paramArrayOfString.length; i++) { String str2 = StringUtil.replace(paramArrayOfString[i], <span class="hljs-string"><span class="hljs-string">"-"</span></span>, <span class="hljs-string"><span class="hljs-string">":"</span></span>); str2 = str2.trim().toLowerCase(); localHashMap.put(<span class="hljs-string"><span class="hljs-string">"macAddress."</span></span> + i, str2); } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (paramString4.equals(<span class="hljs-string"><span class="hljs-string">"production"</span></span>)) { str1 = paramArrayOfString[<span class="hljs-number"><span class="hljs-number">0</span></span>].trim(); localHashMap.put(<span class="hljs-string"><span class="hljs-string">"serverId"</span></span>, str1); } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { localHashMap.put(<span class="hljs-string"><span class="hljs-string">"accountEntryName"</span></span>, paramString2); localHashMap.put(<span class="hljs-string"><span class="hljs-string">"licenseEntryName"</span></span>, paramString3); localHashMap.put(<span class="hljs-string"><span class="hljs-string">"productEntryName"</span></span>, paramString5); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((paramString4.equals(<span class="hljs-string"><span class="hljs-string">"cluster"</span></span>)) || (paramString4.equals(<span class="hljs-string"><span class="hljs-string">"developer-cluster"</span></span>))) localHashMap.put(<span class="hljs-string"><span class="hljs-string">"maxServers"</span></span>, String.valueOf(paramInt1)); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((paramString4.equals(<span class="hljs-string"><span class="hljs-string">"developer"</span></span>)) || (paramString4.equals(<span class="hljs-string"><span class="hljs-string">"developer-cluster"</span></span>)) || (paramString4.equals(<span class="hljs-string"><span class="hljs-string">"trial"</span></span>))) localHashMap.put(<span class="hljs-string"><span class="hljs-string">"maxHttpSessions"</span></span>, String.valueOf(paramInt2)); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (paramString4.equals(<span class="hljs-string"><span class="hljs-string">"production"</span></span>)) { str1 = StringUtil.merge(paramArrayOfString); str1 = str1.toLowerCase(); str1 = StringUtil.replace(str1, <span class="hljs-string"><span class="hljs-string">"-"</span></span>, <span class="hljs-string"><span class="hljs-string">":"</span></span>); localHashMap.put(<span class="hljs-string"><span class="hljs-string">"serverIds"</span></span>, str1); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> localHashMap; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">a</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(List paramList)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = paramList.size(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> k = <span class="hljs-number"><span class="hljs-number">2147483647</span></span>; Iterator localIterator1 = paramList.iterator(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> n; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (localIterator1.hasNext()) { Object localObject = (String) localIterator1.next(); n = ((String) localObject).length(); j += n; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (n &gt;= k) <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; k = n; } Object localObject = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringBuilder(j); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> m = <span class="hljs-number"><span class="hljs-number">0</span></span>; m &lt; k; m++) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (n = <span class="hljs-number"><span class="hljs-number">0</span></span>; n &lt; i; n++) { String str2 = (String) paramList.get(n); ((StringBuilder) localObject).append(str2.charAt(m)); } Iterator localIterator2 = paramList.iterator(); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (localIterator2.hasNext()) { String str1 = (String) localIterator2.next(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (str1.length() &lt;= k) <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; ((StringBuilder) localObject).append(str1.substring(k)); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (String) ((StringBuilder) localObject).toString(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> List </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">b</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(List paramList)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = paramList.size(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = i / <span class="hljs-number"><span class="hljs-number">4</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (j * <span class="hljs-number"><span class="hljs-number">4</span></span> &lt; i) j++; ArrayList localArrayList = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList(<span class="hljs-number"><span class="hljs-number">4</span></span>); StringBuilder localStringBuilder = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringBuilder(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> k = <span class="hljs-number"><span class="hljs-number">0</span></span>; k &lt; i; k++) { String str = (String) paramList.get(k); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((k != <span class="hljs-number"><span class="hljs-number">0</span></span>) &amp;&amp; (k % j == <span class="hljs-number"><span class="hljs-number">0</span></span>)) { localArrayList.add(localStringBuilder.toString()); localStringBuilder.setLength(<span class="hljs-number"><span class="hljs-number">0</span></span>); } localStringBuilder.append(str); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (localArrayList.size() &lt; <span class="hljs-number"><span class="hljs-number">4</span></span>) localArrayList.add(localStringBuilder.toString()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> localArrayList; } }</code> </pre> <br>  We are interested in the only method that returns the result of running a license key: <br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">c</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a a1)</span></span></span><span class="hljs-function"> </span></span>{ ... }</code> </pre><br>  In order for any license file to pass the check, it is necessary to replace the body of this method with the simple construction of returning the value ‚Äútrue‚Äù. <br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">c</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a a1)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; }</code> </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Compilation </h5><br>  Now you need to compile the modified class and return it to the proper place.  Getting to the compilation, first create a basic directory structure: <br><br><pre> <code class="hljs">liferay_license_fix/ src/ classes/ lib/ <br></code> </pre> <code>liferay_license_fix/ src/ classes/ lib/ <br></code>  Let's save the source code of the class we received by creating in the ‚Äúsrc /‚Äù the directories corresponding to the package.  To compile the target class, we need the additional class ‚Äúcom.liferay.portal.ee.license.a‚Äù, which is contained in the same ‚Äúportal-impl.jar‚Äù.  When this library is included in the ‚Äúclasspath‚Äù, the target class will not compile because  it is already contained in portal-impl.jar.  Therefore, you need to unpack the class file ‚Äúcom.liferay.portal.ee.license.a‚Äù into the ‚Äúclasses‚Äù folder created earlier, and also copy ‚Äúportal-service.jar‚Äù from ‚ÄúAPP_SERVER / lib / ext‚Äù in the case of Tomcat or from another location, depending on your configuration, to the ‚Äúlib‚Äù directory (you can avoid copying ‚Äúportal-service.jar‚Äù by specifying its location in the compiler's ‚Äúclasspath‚Äù option, but the article will look at the copying case).  You should have the following picture: <br><br><pre> <code class="hljs swift">liferay_license_fix/ src/ com/ liferay/ portal/ ee/ license/ b/ d.java classes/ com/ liferay/ portal/ ee/ license/ a.<span class="hljs-keyword"><span class="hljs-keyword">class</span></span> lib/ portal-service.jar <br></code> </pre> <code>liferay_license_fix/ src/ com/ liferay/ portal/ ee/ license/ b/ d.java classes/ com/ liferay/ portal/ ee/ license/ a.class lib/ portal-service.jar <br></code>  We move to the "liferay_license_fix" directory and compile the target class with the following command: <br><br><pre> <code class="hljs tex">javac -cp "lib<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">portal</span></span></span></span>-service.jar;classes" -d classes src<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">com</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">liferay</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">portal</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ee</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">license</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">d</span></span></span></span>.java <br></code> </pre> <code>javac -cp "lib\portal-service.jar;classes" -d classes src\com\liferay\portal\ee\license\b\d.java <br></code>  The class compiled by us can be found here: <br><br><pre> <code class="hljs swift">liferay_license_fix/classes/com/liferay/portal/ee/license/b/d.<span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <br></code> </pre> <code>liferay_license_fix/classes/com/liferay/portal/ee/license/b/d.class <br></code> <br><h5>  Patch preparation </h5><br>  Now it is necessary to replace the original class contained in portal-impl.jar with the one obtained in the course of the above steps.  This can be done either manually, simply by replacing the file inside portal-impl.jar or with the patch and patching tool included in Liferay Portal, but we will need a tool from a newer version than the LR EE 6.0 version those.  contained in the Liferay Poral 6.1 EE version, which can be downloaded from the official website, and simply replace the current version of the ‚Äúpatching-tool‚Äù.  After the above steps are completed, we will prepare a patch.  The advantage of this approach is that the installation and removal of a patch is performed using simple commands and makes these operations extremely simple, and also does not have to take care of making backup copies of files affected by the imposition of a patch, and if necessary, you can easily roll back the changes. <br>  Prepare the patch directory structure: <br><br><pre> <code class="hljs rust">liferay-license-fix-<span class="hljs-number"><span class="hljs-number">6012</span></span>/ backup/ WAR_PATH/ WEB-INF/ lib/ portal-<span class="hljs-keyword"><span class="hljs-keyword">impl</span></span>.jar/ com/ liferay/ portal/ ee/ license/ b/ jdk5/ WAR_PATH/ WEB-INF/ lib/ portal-<span class="hljs-keyword"><span class="hljs-keyword">impl</span></span>.jar/ com/ liferay/ portal/ ee/ license/ b/ jdk6/ WAR_PATH/ WEB-INF/ lib/ portal-<span class="hljs-keyword"><span class="hljs-keyword">impl</span></span>.jar/ com/ liferay/ portal/ ee/ license/ b/ <br></code> </pre> <code>liferay-license-fix-6012/ backup/ WAR_PATH/ WEB-INF/ lib/ portal-impl.jar/ com/ liferay/ portal/ ee/ license/ b/ jdk5/ WAR_PATH/ WEB-INF/ lib/ portal-impl.jar/ com/ liferay/ portal/ ee/ license/ b/ jdk6/ WAR_PATH/ WEB-INF/ lib/ portal-impl.jar/ com/ liferay/ portal/ ee/ license/ b/ <br></code>  Consider a possible option to create a directory structure, first create the following directories ‚ÄúWAR_PATH \ WEB-INF / lib / portal-impl.jar /‚Äù in ‚Äúliferay-license-fix-6012 / backup‚Äù and copy them into ‚Äúliferay-license-fix- 6012 / jdk5 ", as well as in" liferay-license-fix-6012 / jdk6 ".  Next, we will copy the class compiled above, together with the directory structure of the ‚Äúcom / liferay / portal / ee / license / b / d.class‚Äù package into ‚Äúliferay-license-fix-6012 / jdk5‚Äù and ‚Äúliferay-license-fix-6012 / jdk6.  Now you need to unpack the original "com.liferay.portal.ee.license.bd" class from the "portal-impl.jar" in the directory "liferay-license-fix-6012 / backup / WAR_PATH / WEB-INF / lib / portal-impl .jar / com / liferay / portal / ee / license / b ". <br>  Next, create a file "liferay-license-fix-6012 / fixpack_documentation.xml" with the following contents: <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">patch</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">id</span></span></span><span class="hljs-tag">&gt;</span></span>liferay-license-fix-6012<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">id</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>liferay-license-fix<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">patching-tool-version</span></span></span><span class="hljs-tag">&gt;</span></span>2<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">patching-tool-version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">incremental</span></span></span><span class="hljs-tag">&gt;</span></span>false<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">incremental</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">rank</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">rank</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">requirements</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">requirements</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">component</span></span></span><span class="hljs-tag">&gt;</span></span>security-hotfix<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">component</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">product</span></span></span><span class="hljs-tag">&gt;</span></span>6012<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">product</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fixed-issues</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fixed-issues</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">module-name</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">module-name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">module-id</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">module-id</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">patch</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  The final step in preparing the patch is to create a zip archive "liferay-license-fix-6012.zip" with all the contents of the "liferay-license-fix-6012" directory, not including the directory itself. <br><br><h5>  Patch management </h5><br>  To install the patch, you need to copy it into "/ patching-tool / patches" and perform the initialization of the "patching-tool" if it has not been done previously with the following command: <br><br><pre> <code class="hljs cpp">patching-tool <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span>-discovery <br></code> </pre> <code>patching-tool auto-discovery <br></code>  After the initialization has been completed, you can see the ‚Äúdefault.properties‚Äù file, in which, if necessary, you can adjust the location paths of the server instance with Liferay Portal 6.0 EE SP2, to which the patches will be applied. <br>  Then using the command: <br><br><pre> <code class="hljs pgsql">patching-tool <span class="hljs-keyword"><span class="hljs-keyword">info</span></span> <br></code> </pre> <code>patching-tool info <br></code>  You can get information about the current status (list of patches, as well as their status).  If the output contains the following lines: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">Available</span></span> patches: [ I] liferay-license-fix-<span class="hljs-number"><span class="hljs-number">6012</span></span> :: Currently not installed; <span class="hljs-attribute"><span class="hljs-attribute">Will</span></span> be installed. <br></code> </pre> <code>Available patches: [ I] liferay-license-fix-6012 :: Currently not installed; Will be installed. <br></code>  This means that the patch can be installed. <br>  The command to install the patch: <br><br><pre> <code class="hljs sql">patching-tool <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> <br></code> </pre> <code>patching-tool install <br></code>  If the result of the command is the following: <br><br><pre> <code class="hljs pgsql">The installation was successful. One patch <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> installed <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> the <span class="hljs-keyword"><span class="hljs-keyword">system</span></span>. <br></code> </pre> <code>The installation was successful. One patch is installed on the system. <br></code>  this indicates that the patch has been successfully installed. <br>  If it is necessary to cancel the changes resulting from the installation of the patch, the following command should be executed: <br><br><pre> <code class="hljs">patching-tool revert <br></code> </pre> <code>patching-tool revert <br></code>  If successful, you will see the following message: <br><br><pre> <code class="hljs pgsql">Revert has been executed successfully. There <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> patch installed <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> the <span class="hljs-keyword"><span class="hljs-keyword">system</span></span>. <br></code> </pre> <code>Revert has been executed successfully. There is no patch installed on the system. <br></code>  After doing the manipulations, you can safely use the license files from Liferay Portal 6.1 EE or create a license file with the following content: <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">license</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">account-name</span></span></span><span class="hljs-tag">&gt;</span></span>Liferay Developer<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">account-name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">owner</span></span></span><span class="hljs-tag">&gt;</span></span>Developer<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">owner</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span>Trial license<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">product-name</span></span></span><span class="hljs-tag">&gt;</span></span>Portal Enterprise<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">product-name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">product-version</span></span></span><span class="hljs-tag">&gt;</span></span>6.0 SP 2<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">product-version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">license-name</span></span></span><span class="hljs-tag">&gt;</span></span>Portal Enterprise<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">license-name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">license-type</span></span></span><span class="hljs-tag">&gt;</span></span>enterprise<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">license-type</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">license-version</span></span></span><span class="hljs-tag">&gt;</span></span>2<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">license-version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">start-date</span></span></span><span class="hljs-tag">&gt;</span></span>Sunday, January 1, 2012 00:00:00 AM GMT<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">start-date</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">expiration-date</span></span></span><span class="hljs-tag">&gt;</span></span>Thursday, January 1, 2099 00:00:00 AM GMT<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">expiration-date</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">max-http-sessions</span></span></span><span class="hljs-tag">&gt;</span></span>1000<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">max-http-sessions</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">license</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  <a href="">Download the</a> archive containing all the files described in the article, as well as the prepared patch and the ‚Äúpatching-tool‚Äù of the required version. <br><br>  <b>UPD.</b>  The comments offer a very simple way to renew licenses for LR EE 6.0 SP1 / SP2.  Thanks to the user <a href="https://habrahabr.ru/users/sauron/" class="user_link">Sauron</a> . </div><p>Source: <a href="https://habr.com/ru/post/143722/">https://habr.com/ru/post/143722/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../143716/index.html">Translation difficulties in code</a></li>
<li><a href="../143718/index.html">Once again on the incredible loyalty of Logitech support</a></li>
<li><a href="../143719/index.html">Bitcoinica service again hacked</a></li>
<li><a href="../143720/index.html">Wolfenstein 3D - now in the browser</a></li>
<li><a href="../143721/index.html">Last honors to old projects</a></li>
<li><a href="../143723/index.html">Development of the Russian-language analogue ‚ÄúSiri‚Äù: epilogue</a></li>
<li><a href="../143724/index.html">The history of our gaming startup or "What to do ???"</a></li>
<li><a href="../143726/index.html">"Debriefing" - episode 17 - Sometimes they come back ...</a></li>
<li><a href="../143727/index.html">The decision of "Drop quest 2012"</a></li>
<li><a href="../143728/index.html">Drag and drop images in Flash in the browser</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>