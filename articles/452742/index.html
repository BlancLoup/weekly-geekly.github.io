<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Setting up automatic testing of a hybrid application</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article I want to share the experience of solving the problem of launching automated testing of a mobile application on Android. 

 What will ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Setting up automatic testing of a hybrid application</h1><div class="post__text post__text-html js-mediator-article">  In this article I want to share the experience of solving the problem of launching automated testing of a mobile application on Android. <br><br><h2>  What will tell: </h2><br><ul><li>  How to run an automated testing environment using Appium <br>  (PC OS - Windows 10) </li><li>  How to avoid some errors that occur when trying to run tests in a hybrid application </li><li>  Some basic commands for running the simplest tests.  We will use Java and JavaScript </li></ul><a name="habracut"></a><br><h2>  Task </h2><br>  Automate testing of a hybrid mobile application. <br><br>  About the application to test: <br><div class="scrollable-table"><table><tbody><tr><td>  Platform </td><td>  Android </td></tr><tr><td>  Framework </td><td>  Angular, Cordova, Ionic </td></tr><tr><td>  Browser </td><td>  Crosswalk </td></tr></tbody></table></div><br>  Perhaps these are the key points that influenced the configuration of the PC to run tests. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Testing environment </h2><br>  We will use Appium as a tool for automatic testing. <br>  In short, this is a tool that allows using the server to send commands to the client what to do and what to do. <br><br>  Full information you can get on the <a href="http://appium.io/docs/en/about-appium/intro">developer's</a> site. <br><br>  Let's get started <br><br>  In a convenient place for you on the disk, create the folder ‚ÄúAppium automation‚Äù. <br><br>  For example: <br><br><pre><code class="plaintext hljs">C:\Appium automation</code> </pre> <br>  Next in this folder (C: \ Appium automation) create several more folders: <br><div class="scrollable-table"><table><tbody><tr><td>  Android SDK </td><td>  C: \ Appium automation \ Android SDK </td></tr><tr><td>  Android Studio </td><td>  C: \ Appium automation \ Android Studio </td></tr><tr><td>  APK </td><td>  C: \ Appium automation \ APK </td></tr><tr><td>  Appium lib </td><td>  C: \ Appium automation \ Appium Lib </td></tr><tr><td>  Selenium lib </td><td>  C: \ Appium automation \ Selenium Lib </td></tr></tbody></table></div><br>  If any of the applications / components you have installed, follow the instructions and you will simply understand the logic of the relationship, i.e.  it is not necessary to reinstall everything. <br><br><h2>  Filling created folders and loading other components </h2><br><h3>  1. Java SDK </h3><br>  Follow the link and click Download: <br><br><img src="https://habrastorage.org/webt/tk/v8/5e/tkv85eeozm-zxppbrbnhfnylnsu.png"><br><br>  Next we get to the download page for different OS, because  I have Windows 10 x64, choose: <br><br><img src="https://habrastorage.org/webt/-c/az/xt/-cazxtubqocc54mw-t4mw6unzyc.png"><br><br>  After downloading the file, open it and unpack the .exe file (select the installation path) to the folder: <br><br><pre> <code class="plaintext hljs">C:\Program Files\Java\jdk-12.0.1</code> </pre> <br>  <i>(the version number at the time of download may be different)</i> <br><br><h3>  2. Android Studio and Android SDK </h3><br>  To download <a href="https://developer.android.com/studio">, click on the link</a> . <br><br>  Install to folder: <br><br><pre> <code class="plaintext hljs">C:\Appium automation\Android Studio</code> </pre> <br>  During the first launch of Android Studio, you will need <b>to configure the program</b> : <br><br><ul><li>  Instal Type choose Custom, click Next </li><li>  Choose a theme that you like, click Next </li><li>  Android SDK Location specify C: \ Appium automation \ Android SDK, click Next </li><li>  You can leave Emulator Settings on Recommended, click Next </li><li>  Click Finish and wait for the installation process to complete. </li></ul><br>  <b>Create a new project in Android Studio:</b> <br><br><ul><li>  Click Start a new Android Studio project </li><li>  Specify the Name, Path to your project, or you can change nothing and leave the suggested one, click Next </li><li>  In the drop-down list of Phone and Tablet, select ‚ÄúAPI 23: Android 6.0 (Marshmallow), click Next </li><li>  Choose Empty Activity ,, click Next </li><li>  Click Next </li><li>  Click Finish </li></ul><br>  <b>Install SDK Tools</b> <br><br>  In Android Studio, select Tools - SDK Manager. <br><br>  In the window that appears, the Android SDK section will be selected. <br><br><img src="https://habrastorage.org/webt/os/_0/_v/os_0_vspi8pv4zxy7nd467jidns.png"><br><br>  On the SDK Platforms tab, select the version of Android on which you will conduct testing. <br>  And, on the SDK Tools, select the points: <br><br><ul><li>  Android SDK Build-Tools </li><li>  Android Emulator </li><li>  Android SDK Platform-Tools </li><li>  Android SDK Tools </li><li>  Documentation for Android SDK </li><li>  Support Repository </li></ul><br>  Click Apply or Ok and wait for the download and installation of components. <br><br><img src="https://habrastorage.org/webt/or/yn/3m/oryn3mpv3hztnxhcbyswrii5lwo.png"><br><br><h3>  3. Create PATH variables </h3><br>  Right-click on ‚ÄúMy Computer‚Äù - ‚ÄúProperties‚Äù - ‚ÄúAdvanced System Settings‚Äù. <br>  In the window that opens, on the ‚ÄúAdvanced‚Äù tab, select ‚ÄúEnvironment Variables ...‚Äù <br><br>  In the ‚ÄúSystem Variables‚Äù block we create a new variable. <br><br><img src="https://habrastorage.org/webt/w3/6j/qa/w36jqawmywp25jzuakdqjcxm7ew.png"><br><br><img src="https://habrastorage.org/webt/wa/-1/ln/wa-1lnnhoeq31tu9y5yijlaomfu.png"><br><br>  <b>First variable</b> <br><br>  Variable Name - JAVA_HOME <br><br>  The value of the variable is <br><br><pre> <code class="plaintext hljs">C:\Program Files\Java\jdk-12.0.1</code> </pre> <br>  (that way where you installed jdk in claim 1, in some cases it is possible that the Program Files folder will be called Program Files (x86)) <br><br>  <b>Second variable</b> <br><br>  Variable Name - ANDROID_HOME <br><br>  The value of the variable is <br><br><pre> <code class="plaintext hljs">C:\Appium automation\Android SDK</code> </pre> <br>  <b>Addition of the Path variable</b> <br><br>  In the list of system variables, find the Path variable and click ‚ÄúChange ...‚Äù. <br><br>  Click in the ‚ÄúCreate‚Äù window that appears and add variables: <br><br><ul><li>  % ANDROID_HOME% \ emulator </li><li>  % ANDROID_HOME% \ platform-tools </li><li>  % ANDROID_HOME% \ tools </li><li>  % ANDROID_HOME% \ tools \ bin </li></ul><br>  As a result, you should get 4 new variables, then you need to click Ok. <br><br><img src="https://habrastorage.org/webt/c6/x6/vi/c6x6viqmdb0fqbhurecbqknjyiy.png"><br><br><h3>  4. Appium </h3><br>  <b>Download Appium:</b> <br><br><ul><li>  Follow the link <a href="http://appium.io/">http://appium.io/</a> </li><li>  Click Download </li><li>  Choose Appium-windows-1.13.0.exe (the version number may differ at the time of download) </li></ul><br><img src="https://habrastorage.org/webt/hu/sm/yx/husmyxk1fvejkd7y4y8jaxdbvym.png"><br><br>  Run the downloaded .exe file and install Appium on your PC.  During the installation process, you will need to select only install globally or a specific user.  I installed globally, because  for me it doesn't matter. <br><br>  <b>Download the Appium libraries:</b> <br><br><ul><li>  Follow the link <a href="http://appium.io/downloads.html">http://appium.io/downloads.html</a> </li><li>  Choose a language, in my case Java </li><li>  Click the download icon </li></ul><br><img src="https://habrastorage.org/webt/le/zv/el/lezvel7fmjx-eca19mywvtcxeos.png"><br><br>  The downloaded .jar file is moved to the folder. <br><br><pre> <code class="plaintext hljs">C:\Appium automation\Appium Lib</code> </pre> <br><ul><li>  Follow the link <a href="https://mvnrepository.com/artifact/junit/junit">https://mvnrepository.com/artifact/junit/junit</a> </li><li>  Choosing the latest stable version (I have it 4.12) </li><li>  Click download .jar file </li></ul><br><img src="https://habrastorage.org/webt/vt/2w/l3/vt2wl3f8wgkrwqkttolyc_wxad0.png"><br><br>  The downloaded .jar file is moved to the folder: <br><br><pre> <code class="plaintext hljs">C:\Appium automation\Appium Lib</code> </pre> <br><br><ul><li>  Follow the link <a href="https://mvnrepository.com/artifact/org.hamcrest/hamcrest-core">https://mvnrepository.com/artifact/org.hamcrest/hamcrest-core</a> </li><li>  Choose the latest stable version (I use 1.3) </li><li>  Click download .jar file </li></ul><br><img src="https://habrastorage.org/webt/pm/rj/yl/pmrjylunp15yv4i9k2dbrt5qlli.png"><br><br>  The downloaded .jar file is moved to the folder: <br><br><pre> <code class="plaintext hljs">C:\Appium automation\Appium Lib</code> </pre> <br>  <b>Download the Selenium libraries:</b> <br><br><ul><li>  Follow the link <a href="https://www.seleniumhq.org/download">https://www.seleniumhq.org/download</a> </li><li>  Choose a language, in my case Java </li><li>  Click Download </li></ul><br><img src="https://habrastorage.org/webt/qe/vh/im/qevhimwudtjl4xuefskik1yffva.png"><br><br>  Unpack the downloaded archive into the folder: <br><br><pre> <code class="plaintext hljs">C:\Appium automation\Selenium Lib</code> </pre> <br><h2>  5. IntelliJ IDEA Community Edition </h2><br>  To download, follow the link <a href="https://www.jetbrains.com/idea/download">https://www.jetbrains.com/idea/download</a> <br>  Near the Community version and click Download (this is a free version, but it is enough for automatic tests). <br><br>  On the download page there is a comparison of Community and Ultimate versions. <br><br>  In case you want to buy the Ultimate version, feel free to do it!  But, once again, the Community version will be enough. <br><br>  Run the downloaded .exe file and install it (just click Next until the program starts to install) <br><br>  <b>First launch of IntelliJ IDEA</b> <br><br><ul><li>  Choose ‚ÄúDo not import settings‚Äù </li><li>  Accept the license agreement </li><li>  Choose a topic </li><li>  Click Next </li><li>  Click Start using IntelliJ IDEA </li></ul><br>  <b>Create a project in IntelliJ IDEA</b> <br><br><ul><li>  Choose Create New Project </li><li>  Specify the path to the Java SDK <br><ul><li>  Click New ... </li><li>  Specify the path to the previously downloaded Java SDK C: \ Program Files \ Java \ jdk-12.0.1 </li></ul></li><li>  Click Next </li><li>  Tick ‚Äã‚Äãthe ‚ÄúCreate project from template‚Äù </li><li>  Click Next </li><li>  Specify the project name and location to save </li><li>  Click Finish </li></ul><br>  <b>Settings for the created project</b> <br><br>  Choose File - Project Structure ... <br><br>  In the window that appears, select Modules - Dependencies - ‚Äú+‚Äù - JARs or directories ... <br><br><img src="https://habrastorage.org/webt/9x/j2/om/9xj2om_3_7ffkxapkghxa-nnm_8.png"><br><br>  And add to the project all previously loaded libraries. <br><br><img src="https://habrastorage.org/webt/w7/ky/1f/w7ky1fqtizkqqxnbkjvc8lqmap8.png"><br><br>  Click OK. <br><br>  Now the project is ready to run tests. <br><br><h3>  6. Setting up an Android device </h3><br>  <b>Real device</b> <br>  You need a USB cable to connect the device to the computer and the smartphone itself. <br><br>  To get started in the smartphone, go to ‚ÄúSettings‚Äù - ‚ÄúAbout phone‚Äù. <br><br>  Further, on different smartphones everything is different, but the essence is to find the ‚ÄúSerial number‚Äù and click on it 5-7 times until the toaster appears, that ‚ÄúYou are a developer now‚Äù (the alert text may differ from model to model) <br><br>  After this manipulation, the ‚ÄúFor Developers‚Äù section will appear in your phone‚Äôs settings.  He can also hide from model to model in different sections, for example, he will be somewhere in ‚ÄúSettings‚Äù - ‚ÄúFor Developers‚Äù, and somewhere ‚ÄúSettings‚Äù - ‚ÄúSpecial Opportunities‚Äù - ‚ÄúFor Developers‚Äù, etc. . <br><br>  You need to go to the ‚ÄúFor Developers‚Äù section and activate ‚ÄúUSB Debugging‚Äù. <br><br>  When you connect your smartphone via USB, you will see a message about debugging permission via USB, you can check the box ‚ÄúTrust this device‚Äù and click ‚ÄúOK‚Äù, then this message will not appear again the next time you connect the phone to this PC. <br>  All your smartphone is ready to work in automatic tests. <br><br>  <b>Virtual device</b> <br><br>  You can also create a virtual device through Android Studio, then you will not need to connect a real device to your computer. <br><br>  But on a virtual device, tests can work slower than on a real one. <br><br>  To create it, open Android Studio, further: <br><br><ul><li>  ‚ÄúTools‚Äù - ‚ÄúAVD Manager‚Äù - ‚Äú+ Create Virtual Device ...‚Äù </li><li>  Choose a device, click Next </li><li>  Choose the desired version of Android, click Next </li><li>  Specify the device name, click Finish </li></ul><br>  After the done manipulations in the section ‚ÄúTools‚Äù - ‚ÄúAVD Manager‚Äù you will see the created device.  Using the green ‚ÄúPlay‚Äù icon you can launch the device. <br><br>  <b>How to check that your PC saw the connected device?</b> <br><br>  Run the command line (‚ÄúStart‚Äù - ‚ÄúSystem Tools - Windows‚Äù - ‚ÄúCommand Line‚Äù) <br>  And enter the adb devices command. <br><br>  As a result, if the device is connected with the ‚ÄúUSB debugging‚Äù function enabled, you will receive a connected device and its UDID (serial number): <br><br><pre> <code class="plaintext hljs">List of devices attached UDID device</code> </pre><br><h3>  7. We write the project </h3><br>  <b>We add import.</b> <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> name; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.*; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io.appium.java_client.android.AndroidDriver; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io.appium.java_client.android.AndroidElement; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io.appium.java_client.remote.MobileCapabilityType; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openqa.selenium.*; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openqa.selenium.remote.DesiredCapabilities; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openqa.selenium.JavascriptExecutor; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.net.MalformedURLException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.net.URL; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.concurrent.TimeUnit;</code> </pre><br>  <b>Register the server and where it should send requests</b> <br><br>  Install Android Driver: <br><br><pre> <code class="java hljs">AndroidDriver&lt;AndroidElement&gt; driver = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>;</code> </pre> <br>  Set the parameters (properties): <br><br><pre> <code class="java hljs">DesiredCapabilities capabilities = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DesiredCapabilities();</code> </pre> <br>  Device name (you can find it for the real device in ‚ÄúSettings‚Äù - ‚ÄúAbout phone‚Äù, and for the virtual ‚ÄúTools‚Äù - ‚ÄúAVD Manager‚Äù - the ‚ÄúName‚Äù field): <br><br><pre> <code class="java hljs">capabilities.setCapability(MobileCapabilityType.DEVICE_NAME, <span class="hljs-string"><span class="hljs-string">"MyPhone"</span></span>);</code> </pre> <br>  The link to the APK that you want to run (.apk must be a debug build so that you and the appium can inspect the application): <br><br><pre> <code class="java hljs">capabilities.setCapability(MobileCapabilityType.APP, <span class="hljs-string"><span class="hljs-string">"C:\\Appium automation\\APK\\My-debug-Apk.apk"</span></span>);</code> </pre> <br>  Run Appium Driver: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { driver = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AndroidDriver&lt;&gt;(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> URL(<span class="hljs-string"><span class="hljs-string">"http://127.0.0.1:4723/wd/hub"</span></span>), capabilities); driver.manage().timeouts().implicitlyWait(<span class="hljs-number"><span class="hljs-number">10</span></span>, TimeUnit.SECONDS); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (MalformedURLException e) { System.out.println(e.getMessage()); }</code> </pre><br>  This code will be enough to start your application on the connected device. <br><br>  <b>Additional commands</b> <br><br>  In order to suspend the project for a certain amount of time, for example, 8 seconds.  (value is specified in milliseconds).  It may be necessary if you need to wait for the page or application to load: <br><br><pre> <code class="java hljs">Thread.sleep(<span class="hljs-number"><span class="hljs-number">8000</span></span>);</code> </pre> <br>  We get ContextHandles, where we understand what we are working with now (NATIVE_APP or WEBVIEW): <br><br><pre> <code class="java hljs">Set&lt;String&gt; contextNames = driver.getContextHandles(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (String contextName : contextNames) { System.out.println(contextName); }</code> </pre> <br>  Assign Context to the last value received in the array.  This will allow you to correctly switch to WEBVIEW, because  default Context = NATIVE_APP: <br><br><pre> <code class="java hljs">driver.context((String) contextNames.toArray()[contextNames.toArray().length - <span class="hljs-number"><span class="hljs-number">1</span></span>]);</code> </pre> <br>  <b>We control the application interface</b> <br><br>  Because  we work with a hybrid application, i.e.  the elements of the application are drawn in WEBVIEW, and not in NATIVE_APP, then most often we will have to use one type of search for the findElementByCssSelector element. <br><br>  Click on the Ok button: <br><br><pre> <code class="java hljs">driver.findElementByCssSelector(<span class="hljs-string"><span class="hljs-string">".button-ok"</span></span>).click();</code> </pre> <br>  - where .button-ok is the class of the element.  You can also use the item ID exactly. <br><br>  We send the value to the field, for example, you have a search and you want to send the value ‚ÄúCinema‚Äù there. <br><br><pre> <code class="java hljs">driver.findElementByCssSelector(<span class="hljs-string"><span class="hljs-string">".search-input"</span></span>).sendKeys(<span class="hljs-string"><span class="hljs-string">""</span></span>);</code> </pre> <br><br>  Click to find: <br><br><pre> <code class="java hljs">driver.findElementByCssSelector(<span class="hljs-string"><span class="hljs-string">".search-button"</span></span>).click();</code> </pre> <br>  In this way, you can already manage your application. <br><br>  Sooner or later, you will come to the point that not all the content is placed on the smartphone screen, i.e.  you need to scroll.  If an element is not visible on the screen during the testing process, Appium will throw out an error that it does not see the element and most likely all further testing will be covered with errors. <br><br>  In order to scroll across the screen, you can execute the JS function scrollIntoView in Java. <br><br><pre> <code class="java hljs">((JavascriptExecutor) driver).executeScript(<span class="hljs-string"><span class="hljs-string">"document.querySelector('.button-ok').scrollIntoView({block: \"end\", behavior: \"smooth\"});"</span></span>);</code> </pre> <br>  In my case, this will allow you to go down to the Ok button. <br><br>  It may be an incident that you kind of wrote everything correctly, but the scrolling is not performed. <br><br>  Try to bind to other elements on the screen and first it is better to do this through the console in Chrome - Inspect, so you are guaranteed to understand that when you bind to this element, the scroll will work. <br><br>  You can go to step 8 and if everything works for you, then that's fine! <br>  But I had another pitfall. <br>  His name is Crosswalk Browser. <br><br>  When I started the project, I constantly got an error: <br><br><pre> <code class="plaintext hljs">‚ÄúMake sure the app has its webview configured for debugging‚Äù</code> </pre> <br>  It means that not one test was performed. <br><br>  What you need to check in this case: <br><br><ul><li>  make sure you have a debug build </li><li>  make sure that the Inspect feature of the application is enabled in the debug build </li><li>  install fixed chromedriver <br><ul><li>  go to <a href="https://github.com/blutter/appium-crosswalk-fix">https://github.com/blutter/appium-crosswalk-fix</a> </li><li>  the installation will be in npm so install it on your PC in advance ( <a href="https://www.npmjs.com/get-npm">https://www.npmjs.com/get-npm</a> ) </li></ul></li></ul><br>  After these manipulations, add another capabilities to your project. <br><br><pre> <code class="java hljs">capabilities.setCapability(<span class="hljs-string"><span class="hljs-string">"chromedriverExecutable"</span></span>, <span class="hljs-string"><span class="hljs-string">"C:\\node_modules\\appium-with-crosswalk-fix\\chromedriver\\2.28\\chromedriver.exe"</span></span>);</code> </pre> <br>  - where C: \\ node_modules \\ appium-with-crosswalk-fix \\ chromedriver \\ 2.28 \\ chromedriver.exe <br>  this is the path to a fixed chromedriver <br><br>  <b>Total your project will look like this:</b> <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> name; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.*; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io.appium.java_client.android.AndroidDriver; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io.appium.java_client.android.AndroidElement; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io.appium.java_client.remote.MobileCapabilityType; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openqa.selenium.*; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openqa.selenium.remote.DesiredCapabilities; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openqa.selenium.JavascriptExecutor; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.net.MalformedURLException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.net.URL; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.concurrent.TimeUnit; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Main</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> InterruptedException </span></span>{ AndroidDriver&lt;AndroidElement&gt; driver = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; DesiredCapabilities capabilities = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DesiredCapabilities(); capabilities.setCapability(MobileCapabilityType.DEVICE_NAME, <span class="hljs-string"><span class="hljs-string">"MyPhone"</span></span>); capabilities.setCapability(MobileCapabilityType.APP, <span class="hljs-string"><span class="hljs-string">"C:\\Appium automation\\APK\\My-debug-apk.apk"</span></span>); capabilities.setCapability(<span class="hljs-string"><span class="hljs-string">"chromedriverExecutable"</span></span>, <span class="hljs-string"><span class="hljs-string">"C:\\node_modules\\appium-with-crosswalk-fix\\chromedriver\\2.28\\chromedriver.exe"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { driver = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AndroidDriver&lt;&gt;(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> URL(<span class="hljs-string"><span class="hljs-string">"http://127.0.0.1:4723/wd/hub"</span></span>), capabilities); driver.manage().timeouts().implicitlyWait(<span class="hljs-number"><span class="hljs-number">10</span></span>, TimeUnit.SECONDS); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (MalformedURLException e) { System.out.println(e.getMessage()); } Set&lt;String&gt; contextNames = driver.getContextHandles(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (String contextName : contextNames) { System.out.println(contextName); } driver.context((String) contextNames.toArray()[contextNames.toArray().length - <span class="hljs-number"><span class="hljs-number">1</span></span>]); Thread.sleep(<span class="hljs-number"><span class="hljs-number">8000</span></span>); driver.findElementByCssSelector(<span class="hljs-string"><span class="hljs-string">".search-input"</span></span>).sendKeys(<span class="hljs-string"><span class="hljs-string">""</span></span>); driver.findElementByCssSelector(<span class="hljs-string"><span class="hljs-string">".search-button"</span></span>).click(); }</code> </pre><br>  Such a project: <br><br><ul><li>  Install your app on your device </li><li>  Finds the search field on the application page </li><li>  Will put there the value of ‚ÄúCinema‚Äù </li><li>  Click on the ‚ÄúSearch‚Äù button </li></ul><br><h3>  8. Run the project </h3><br>  There are several main points for a project to start: <br><br><ul><li>  Start the Appium server (p.4) <br><ul><li>  Using the shortcut launch Appium </li><li>  Click ‚ÄúStart server‚Äù </li></ul></li><li>  Connect the device to a PC or launch a virtual device (p.6) </li><li>  Customize the project (p.5 and p.7) </li><li>  Click Run (or on the IntelliJ IDEA toolbar, or Run - Run 'Main') </li><li>  Enjoy the result </li></ul><br>  Well, then you are free to test settings, the necessary information is on the official website of the <a href="http://appium.io/docs/en/about-appium/intro">developer</a> . <br>  Appium can also be used to test iOS applications. <br><br>  I wanted to write short, but it turned out as always. <br><br>  Thanks to everyone who read to the end, I hope you have been useful! </div><p>Source: <a href="https://habr.com/ru/post/452742/">https://habr.com/ru/post/452742/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../452726/index.html">Cute 3D bones: hyperelastic bone material for plastics of skull defects</a></li>
<li><a href="../45273/index.html">How I ran an analogue of Nigma</a></li>
<li><a href="../452734/index.html">Automatic transfer of iOS applications (ARM) to macOS (x86) using Bitcode</a></li>
<li><a href="../452736/index.html">Encryption of messages in SecureDialogues</a></li>
<li><a href="../45274/index.html">Another explanation for the current</a></li>
<li><a href="../452744/index.html">Is there a full life remotes without freelance exchanges?</a></li>
<li><a href="../452746/index.html">The book "The Art of Programming on R. Immersion in Big Data"</a></li>
<li><a href="../452748/index.html">Principles of development of modern applications from NGINX. Part 1</a></li>
<li><a href="../45275/index.html"> áx«ù á dƒ±l…ü</a></li>
<li><a href="../452750/index.html">Nextcloud inside and outside OpenLiteSpeed: set up reverse proxying</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>