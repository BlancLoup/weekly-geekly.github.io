<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Odroid-W + W Docking Board LCD</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! Maybe my article will look a bit ‚Äúnoob‚Äù, but I personally could not find a similar HOW TO in the Russian-language Internet. It will be a questi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Odroid-W + W Docking Board LCD</h1><div class="post__text post__text-html js-mediator-article">  Hello!  Maybe my article will look a bit ‚Äúnoob‚Äù, but I personally could not find a similar HOW TO in the Russian-language Internet.  It will be a question of primary deployment of an operating system on the <a href="http://www.hardkernel.com/main/products/prdt_info.php%3Fg_code%3DG140610189490">Odroid-W</a> single-board computer from Hardkernel to which <a href="http://habrahabr.ru/post/233133/">two</a> <a href="http://habrahabr.ru/post/240823/">articles of</a> descriptive character were given on Habr√© already.  A special feature will be the use in conjunction with the ‚Äú <a href="http://www.hardkernel.com/main/products/prdt_info.php%3Fg_code%3DG140609436593">W Docking Board with TFT LCD</a> ‚Äù board itself, without which, km.  the possibilities of this piece of iron are not fully disclosed. <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">My nemilina</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/5d1/2e8/439/5d12e8439ea5445c859a32abcbfd71d5.png"></div></div><br>  What I would like to tell you: <br>  1) Preparation and installation of the operating system; <br>  2) Display graphics on an external display; <br>  3) Display graphics on the display ‚ÄúW Docking Board‚Äù; <br>  4) Connecting a webcam; <br>  5) Wi-Fi dongle connection. <br><br>  What I plan to tell the next time, if this article does not fly into a black hole: <br>  6) Connecting a 4G modem with the subsequent distribution of the Internet via Wi-Fi. <br><br>  On Odroid, we will install the <a href="http://www.raspbian.org/">remainder Debian</a> .  All preparatory work to perform on a PC with Windows 7 installed. Preparatory work in nix-based operating systems is made much easier and does not require additional software. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Part one </h4><br>  So, let's begin.  To get started, you need to acquire a micro-sd card with a size&gt; 4 Gb, as well as a card reader for it (+ adapter).  Here the main rule - the more the better.  Well, of course, the higher the class of the card, the faster everything will work.  First you need to download the latest Raspbian distribution kit, as well as the <a href="https://www.sdcard.org/downloads/formatter_4/eula_windows/">SDFormatter</a> , <a href="http://sourceforge.net/projects/win32diskimager/">Win32DiskImager</a> , SSH-client utilities (for example, <a href="http://www.putty.org/">Putty</a> ). <br>  First, insert the SD card into the card reader and launch the SDFormatter, select the drive letter of our card, the QUICK FORMAT option and click Format.  It is carried out quickly enough. <br>  Next, start Disk Imager, select the downloaded distribution image and write it to the card.  It is not very fast. <br>  Next, insert the memory card into the Odroid-W, connect the W Docking Board network cable to the microcomputer.  Then, after waiting a little, you need to determine the ip-address of the board (I connected to my router, and I saw the corresponding DHCP address in the web interface of the router).  Then you need to connect the SSH client (I use the proprietary SecureCRT) from simple and free to Putty.  I will not dwell on setting up SSH there, in the first place, everything is simple, and secondly there are plenty of articles on the Internet.  To connect, you must use the username pi and the password raspberry.  Immediately I recommend to execute sudo su and passwd and set your password for the root user and later go out from under it (although there may be many opponents of this method who use sudo). <br><br><h4>  Part two </h4><br>  To connect an external display, you also need: a monitor / TV with an HDMI connector, an HDMI-microHDMI cable, or other options, such as DVI-microHDMI and other perversions, depending on the capabilities.  After connecting the monitor, most likely nothing will be displayed on the screen, but this is solved quite simply, you need to change the / boot / config.txt file using the nano editor, or immediately put mc, it will still be useful in the future.  It is necessary to uncomment the string hdmi_safe = 1 <br>  A small part of the setting, such as running X, can be learned from the third part.  I did not pay much attention to displaying the picture on the monitor, since  A portable solution was proposed, using the built-in screen. <br><br><h4>  Part three </h4><br>  I did not invent this text myself, but found it in the official English-language wiki.  Therefore, I provide a link to the original, further translation and some comments.  In fact, even this instruction was not so easy to find (at least for me). <br>  The correct file is /etc/modprobe.d/raspi-blacklist.conf, you need to comment out: <br><br><pre><code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#blacklist spi-bcm2708</span></span></code> </pre> <br>  Add to the / etc / modules file <br><br><pre> <code class="bash hljs">fbtft_device name=adafruit22a verbose=0 rotate=90</code> </pre><br>  In fact, I used rotate = 270, it turned out to be more convenient for me. <br>  In off-manual it is written how to make autologin, but I don‚Äôt really like this idea. <br>  I give as it is, in the / etc / inittab file <br>  Add a line: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#1:2345:respawn:/sbin/getty --noclear 38400 tty1 1:2345:respawn:/bin/login -f pi tty1 &lt;/dev/tty1 &gt;/dev/tty1 2&gt;&amp;1</span></span></code> </pre><br>  Where pi is the user name. <br>  And autorun IKS.  To be honest, given the size of the screen, I would not recommend using them, but I‚Äôll give for those who want to make glamor Odroid-W <br>  Add to /etc/rc.local <br><br><pre> <code class="bash hljs">su -l pi -c <span class="hljs-string"><span class="hljs-string">"env FRAMEBUFFER=/dev/fb1 startx &amp;"</span></span></code> </pre><br>  where pi is the user name. <br>  And t.zh.  disable the option in /usr/share/X11/xorg.conf.d/99-fbturbo.conf <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># Option "fbdev" "/dev/fb0"</span></span></code> </pre><br>  Which displays the picture on the external screen (via HDMI) <br>  And the final touch, in / boot / cmdline.txt we add at the end of the line: <br><br><pre> <code class="bash hljs">fbcon=map:10</code> </pre><br>  And after the reboot, you will see a friendly blinking GUY LXDE. <br><br><h4>  Part four </h4><br>  <u><i>Warning!</i></u>  Hereinafter, links to additional equipment will be presented, but: a) are not advertising, b) do not contain referrals, c) is not recommended for purchase. <br>  I used the <a href="http://ru.aliexpress.com/item/-/1967982973.html">simplest Chinese noname webcam</a> , which was subjected to some mechanical modifications upon receipt.  To work with it, it was necessary to install the following packages: libv4l and fswebcam for installing and defining features, and <a href="http://sourceforge.net/projects/mjpg-streamer/">mjpg-streamer</a> for streaming images from the camera. <br>  The first 2 packages are in the repository, install them aptitude install libv4l-0 fswebcam <br>  And we <a href="http://sourceforge.net/projects/mjpg-streamer/files/latest/download">download</a> mjpg-streamer <a href="http://sourceforge.net/projects/mjpg-streamer/files/latest/download">from SF</a> and unpack it into * your * convenient folder (for me, this is just / root). <br>  When you connect a camera in lsusb, something related to the camera should appear (especially when using branded devices): <br><br><pre> <code class="bash hljs">pi:~<span class="hljs-comment"><span class="hljs-comment"># lsusb Bus 001 Device 007: ID 1871:0101 Aveo Technology Corp.</span></span></code> </pre><br>  And in dmesg: <br><br><pre> <code class="bash hljs">pi:~<span class="hljs-comment"><span class="hljs-comment"># dmesg [ 1182.284021] usb 1-1.4: new high-speed USB device number 8 using dwc_otg [ 1182.394987] usb 1-1.4: New USB device found, idVendor=1871, idProduct=0101 [ 1182.395067] usb 1-1.4: New USB device strings: Mfr=1, Product=2, SerialNumber=0 [ 1182.395087] usb 1-1.4: Product: USB2.0 Camera [ 1182.395135] usb 1-1.4: Manufacturer: AVEO Technology Corp. [ 1182.403956] uvcvideo: Found UVC 1.00 device USB2.0 Camera (1871:0101) [ 1182.408696] input: USB2.0 Camera as /devices/platform/bcm2708_usb/usb1/1-1/1-1.4/1-1.4:1.0/input/input4</span></span></code> </pre><br>  Next, run fswebcam: <br><br><pre> <code class="bash hljs">pi:~<span class="hljs-comment"><span class="hljs-comment"># fswebcam --verbose</span></span></code> </pre><br>  And we determine that (in this case, mine) the camera works in YUYV mode and supports 2 resolutions: <br><br><pre> <code class="bash hljs">Using palette YUYV Adjusting resolution from 384x288 to 352x288.</code> </pre><br>  Next, you need to prepare the startup script mjpg-streamer  A large set of examples with the description is actually in ./mjpg-streamer/start.sh <br>  In principle, you can not use this file, and run directly from the console.  My version is: <br><br><pre> <code class="bash hljs">pi:~<span class="hljs-comment"><span class="hljs-comment"># ./mjpg_streamer -i "input_uvc.so -d /dev/video0 -r 384x288 -f 10 -y -q 100" -o "./output_http.so -w ./www" MJPG Streamer Version: svn rev: 3:172M i: Using V4L2 device.: /dev/video0 i: Desired Resolution: 384 x 288 i: Frames Per Second.: 10 i: Format............: YUV i: JPEG Quality......: 100</span></span></code> </pre><br>  Where is the device, resolution, number of frames per second, camera mode, quality jpeg and output file (embedded web server). <br>  You can enter the browser at http: // [odroid.w.ip.address]: 8080 and watch the stream from your camera.  Done! <br>  The Odroid-W has a <a href="">mipi-csi interface for connecting the matrix</a> directly to the SoC, but working with these cameras remains behind the scenes (their cost is not very convenient). <br><br><h4>  Part five </h4><br>  I bought a <a href="http://ru.aliexpress.com/item/Mini-USB-Wifi-Adapter-150Mbps-Atheros-AR9271-Chip-with-5dBi-wifi-Antenna/1711429992.html">Wi-Fi dongle</a> on the well-known Chinese e-market for quite ridiculous money, the main thing is not to pierce, and not to buy a dong, which does not know how to support AP. <br><br>  <i>Oops!</i>  While writing this article, my handkerchief chuka strongly infuriated, and refused to be included.  But in order to finish the job, I will simply provide links to 2 manuals, by which you can configure the Wi-Fi dongle on this board: <br><br>  <a href="http://hizz.livejournal.com/3817.html">http://hizz.livejournal.com/3817.html</a> <br>  <a href="https://blog-agents.rhcloud.com/wifi-pi-point/">https://blog-agents.rhcloud.com/wifi-pi-point/</a> <br><br><h4>  Part 9¬æ </h4><br>  Initially, I really wanted to tame my <a href="">CBR KB 477W</a> portable keyboard for this board, but this was not possible.  This is caused by the clumsily Linux utility.  In fact, I spent a lot of time to make this bundle work, my Chinese bt-dongle wound up with almost a half-kick, and even it came to authorizing the keyboard in the system, but it didn't go further.  I freaked out and bought a <a href="">A4Tech GK-85</a> wireless keyboard that works flawlessly (and at least why shouldn‚Äôt it work there?). <br><br>  Unwritten part 6. In the near future I want to finish the work of a 4G modem in the system (I have already tested the performance in a large Debian, plus I played with the firmware of the whistle into a virtual network card ( <a href="">Huawei E3272</a> )).  After completion of the work should be a portable Internet access point for external devices with the ability to broadcast the signal from the camera. <br><br><h4>  As a conclusion </h4>  It is a pity that Hardkernel <a href="http://olimex.wordpress.com/2014/08/28/who-fears-from-the-competition-rpi-foundation-pressed-broadcom-to-stop-selling-bcm2835-to-competing-projects/">was forced to curtail the production of</a> this microcomputer, because  The project turned out to be quite interesting.  In view of this, the number of manuals dedicated to this board will remain at an extremely low level, it makes me very sad and depressed.  And <s>not</s> happy owners will have to tread their own path in the world of miniature computers.  Good luck everyone! <br><br><h4>  PS </h4><br>  In distant plans (with the initial ones, up to an idea with a portable Internet point) to attach this bundle to my project of a radio-controlled car on the Arduino.  Odroid should take on FPV and alternative control using a smartphone.  True, this project is moving rather slowly, but I hope that it will be possible to finish it and publish it on this resource. <br><div class="spoiler">  <b class="spoiler_title">My bmw</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/063/602/bae/063602baed3444eba9c52e97374d5927.png"></div></div><br><br>  UPD 11/17/14 Added a couple of pictures.  No photographer from me.  And from the iPhone no camera.  If anyone shows interest in the project, then at the weekend I will try to make more sensible pictures in daylight and on the photo soap box. <br><br>  Thanks to everyone who read. </div><p>Source: <a href="https://habr.com/ru/post/243407/">https://habr.com/ru/post/243407/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../243395/index.html">Moving from online to offline IDE when programming Nucleo-F401RE</a></li>
<li><a href="../243397/index.html">Well.js is another approach to modular JavaScript development.</a></li>
<li><a href="../243401/index.html">Customize viewing of individual Issue in Atlassian Jira</a></li>
<li><a href="../243403/index.html">A brief synopsis of javascript</a></li>
<li><a href="../243405/index.html">Game hackathon, December 6-7, Moscow</a></li>
<li><a href="../243409/index.html">Secrets of setting goals for entrepreneurs</a></li>
<li><a href="../243411/index.html">Connect FB, VK, G + to Android. Light version</a></li>
<li><a href="../243413/index.html">Configuring Virtual Infrastructure: VDI Cluster Optimization</a></li>
<li><a href="../243417/index.html">Ethernet Weather Station 2 - Continued ...</a></li>
<li><a href="../243419/index.html">Turing test based on real search queries in Yandex</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>