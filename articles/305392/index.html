<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Isilon CloudPools Transparent Cloud Layered Storage</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For several years now, the possibility of creating a multi-level storage based on EMC Isilon has been available. This implies the ability to send data...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Isilon CloudPools Transparent Cloud Layered Storage</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/116/3a4/5e0/1163a45e0f4c495f99000ec4cb2c9ceb.jpg"><br><br>  For several years now, the possibility of creating a multi-level storage based on EMC Isilon has been available.  This implies the ability to send data to specific storage pools - systems of nodes that are combined on the basis of uniformity or density.  As a result, data storage efficiency will greatly increase in terms of cost. <br><a name="habracut"></a><br>  You can create a policy whereby all new data will be stored in Pula-1, built from fast S210 nodes. <br><br><img src="https://habrastorage.org/files/443/ebd/eaa/443ebdeaaf5046f3a455526d9b59d2d7.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The response time will be very short, but the cost will be higher (faster drives, processors, etc.).  Next, you can create a second-level policy, for example, ‚Äúmove all data that you have not accessed for more than 30 days into Pool 2‚Äù.  This complex can be built from X410 nodes with a larger capacity (36 SATA disks) and a higher response time compared to Poole-1.  Even less demanded data can already be moved to Poole-3, built from HD400 nodes with very high storage density ‚Äî 59 SATA drives + 1 SSD per each 4U module, but its response time is even longer than that of Tier 2. But since This level is intended only for very rarely requested data, it will not greatly affect users. <br><br>  Data movement based on policies is performed in the background using the OneFS engine.  This does not change the logical location of files.  That is, you can create one folder, the files in which are located in three different repositories. <br><br><h3>  Pools and storage levels </h3><br>  The same data can go through different stages of the life cycle: raw data, raw, processed, duplicate, backup, archive.  Each stage has its own set of requirements for accessibility and data integrity.  Unlike many other storage systems in which different types of information are stored together, Isilon uses different levels of storage (Tier).  For each level, certain policies are used for data separation, processing and storage.  This approach allows you to reduce the cost of storing information that is in different stages of the life cycle, to process it faster and manage it more efficiently.  These tasks are solved using storage levels, which, in turn, can be divided into more highly specialized pools. <br><br><img src="https://habrastorage.org/files/2c0/7ab/c07/2c07abc0770e4501b2fbb777ffb01dc0.png"><br>  <i>Single file system for all pools / storage levels.</i> <br><br>  Today there are several types of pools: <br><br><ul><li>  S - fast, designed for transactional calculations. </li><li>  X - fast, designed for streaming tasks. </li><li>  NL - slower, designed to create "warm" archives. </li><li>  HD - slower, designed to create "cold" archives. </li></ul><br>  A fifth form also appeared - a cloud (external or internal). <br><br>  As already mentioned, each pool is formed from nodes of the same type (in fact, they may differ slightly, but this is already beyond the scope of the post).  If you have a very large cluster deployed, then it is reasonable to divide it into different levels of storage.  Each level contains one or more pools.  But in some cases there is no need for such a division.  There may well be a situation where your policies will not imply the presence of pools or storage levels. <br><br><h3>  Politicians </h3><br>  Data tier distribution policies can be easily configured using the WebUI, CLI or API.  At the same time, as criteria for creating a policy, you can use not only the frequency of accessing files, but also file types, their location, owner or any other attribute.  The user interface already has pre-configured templates that you can use.  For example, the Archive template contains the rules according to which older data is moved to the appropriate storage.  And the ExtraProtect template helps to configure a higher level of protection for files with certain attribute values ‚Äã‚Äã(for example, n + 3 instead of n + 2).  At the same time using the WebUI is very simple, it is intuitive. <br><br><img src="https://habrastorage.org/files/619/b51/9c1/619b519c1c3043eea8c8b84582fe68ed.png"><br><br><img src="https://habrastorage.org/files/336/595/de5/336595de516144bb9301483ef311981b.png"><br><br><h3>  CloudPools - innovation in OneFS 8.0 </h3><br>  One of the interesting innovations that appeared in OneFS 8.0, was a new type of pool - the cloud (Cloud).  Now using the Object API, it supports: <br><br><ul><li>  Amazon S3 </li><li>  Microsoft Azure </li><li>  <a href="http://www.emc.com/storage/ecs/index.htm">EMC Elastic Cloud Storage</a> </li><li>  EMC Isilon </li></ul><br>  The latter two products, thanks to the support of a number of API Object REST, can be used to create a private cloud archive.  You can probably expect the introduction of support from other cloud storage providers, such as Google and <a href="http://www.virtustream.com/">Virtustream</a> . <br><br><img src="https://habrastorage.org/files/616/f03/551/616f035510384fcdb20afa313a02659b.png"><br>  <i>With CloudPools, you can use a single file system for working with cloud storage.</i> <br><br><h3>  Cloud Storage Security </h3><br>  Suppose you set up a policy that sets requirements for files that need to be moved to the cloud.  For example, you need to move: <br><br><ol><li>  Files larger than 5 MB -&gt; And </li><li>  Files located in the / ifs / data / stefan folder -&gt; and </li><li>  Files that have not been requested for more than three months. </li></ol><br>  The policy will apply according to the schedule of Smartpools tasks.  As is the case with all other tasks in OneFS, the planning and control of execution are carried out by the job engine.  Tasks can be assigned priority and execution time, and depending on the current situation they can be paused. <br><br><img src="https://habrastorage.org/files/d01/ebf/a61/d01ebfa61beb450282554535a9c7730f.png"><br><br>  As soon as Smartpools is launched (for example, every day at 10:00 pm), it checks all folders and files with current policies, and moves those who match the criteria to the cloud to the current policies. <br><br>  The local file system stores stub files containing three types of information: <br><br><ol><li>  File meta data (creation time, last access time, size, etc.) </li><li>  "Link" to data in the cloud. </li><li>  Part of the source cached data. </li></ol><br>  As already mentioned, from the point of view of a user or application, there is no difference between a ‚Äúnormal‚Äù file and a stub file.  Of course, if you wish, you can calculate, but we'll talk about this another time. <br><br><h3>  Calling files from the cloud pool and local cache </h3><br>  When a file is accessed, the corresponding content is extracted from the cloud and cached locally, on an SSD or HDD.  But this data <b>will not be</b> stored in the file system forever.  Otherwise, any user could have hammered the entire local file system with viewing commands alone, because the storage capacity can be several times larger than the size of the local file system.  Therefore, only an administrator or a user with the appropriate privileges can assign a persistent cache attribute to some data.  The behavior of the cache itself can be adjusted using the CloudPools settings.  For example, you can tell the cluster to: <br><br><ul><li>  Cached or not cached locally called data. </li><li>  I used Cache Read Ahead mechanisms only for data that is allowed access, or for full files. </li><li>  Stored data in the cache for a certain time (from a second to years). </li><li>  With a certain frequency made a delayed write to the cache (that is, how often the cluster should write data modified in the local cache to the cloud). </li></ul><br><h3>  Shelf life </h3><br>  The retention period is how long the archived data will be stored in the cloud after the stub file is deleted.  This parameter can be configured separately for each policy.  By default, the retention period is one week, after which the relevant data is deleted.  In addition, you can configure: <br><br><ul><li>  The retention period for incremental NDMP backup and SyncIQ.  This parameter determines how long data will be stored in the cloud after synchronization with another storage using SyncIQ, or after a backup performed as part of an incremental NDMP task.  By default, the shelf life in this case is 5 years.  That is, after deleting the local file, the stub can be restored using NDMP or SyncIQ, while the data will be available for the specified period. </li><li>  Retention period for full NDMP backup.  All the same as in the previous case, only for full NDMP backups. </li></ul><br><h3>  Conclusion </h3><br>  CloudPools is a handy tool that allows you to create a transparent, multi-level storage from a horizontally scalable Isilon NAS system.  Currently, two third-party cloud services and two external systems (Isilon, ECS) are supported.  Surely the list of supported services and systems will be significantly expanded.  From the client‚Äôs point of view, data movement is transparent and security is provided through encryption using AES-256.  In other words, using CloudPools, you can implement a scalable multiprotocol system with a short response time, the growth limits of which are practically unlimited. <br><br>  Outside this publication are a number of important issues.  For example, performance: what will happen to the stub files during backup and replication?  What about disaster recovery, access to data in CloudPools from different sites, the gradual creation of a CloudPools system?  We will write about this in one of the following publications. </div><p>Source: <a href="https://habr.com/ru/post/305392/">https://habr.com/ru/post/305392/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../305382/index.html">Bitrix - UrlRewrite (feat. Juggernaut)</a></li>
<li><a href="../305384/index.html">Announcement of the public beta version of NGINX Amplify</a></li>
<li><a href="../305386/index.html">Azure-IaaS-Digest number 8 (June-July)</a></li>
<li><a href="../305388/index.html">Gateway Virtualization with Hyper-v</a></li>
<li><a href="../305390/index.html">$ 10 million stolen from Ukrainian bank: new attack by SWIFT hackers</a></li>
<li><a href="../305394/index.html">‚ÄúThe web is the most complex platform in the history of mankind‚Äù - an interview with Vadim Makeev from Opera</a></li>
<li><a href="../305396/index.html">Projecting Google Material Design onto the desktop system ... (part three)</a></li>
<li><a href="../305398/index.html">Arrow hell, or a new circle of old problems</a></li>
<li><a href="../305400/index.html">Ansible Handbook</a></li>
<li><a href="../305402/index.html">History of programming languages: Perl is an unusual language created by a linguist for programmers.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>