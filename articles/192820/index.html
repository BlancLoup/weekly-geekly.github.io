<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Unity3D + Kinect, or animation on the knee</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 

 Hello, dear reader. Before I begin, I would like to talk a little bit about the purpose and format of my article. Usually, with such h...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Unity3D + Kinect, or animation on the knee</h1><div class="post__text post__text-html js-mediator-article"> <b>Introduction</b> <br><br>  Hello, dear reader.  Before I begin, I would like to talk a little bit about the purpose and format of my article.  Usually, with such headings, articles are of a reviewing nature, they describe the technical aspects of the implementation of a decision or provide instructions for use, etc.  The reader makes his own conclusions.  Before writing this article, I conducted a little research work on the subject of analogues.  And I found several articles both at the very hub, and a lot of video materials on YouTube.  Therefore, I decided not to write another technology review, but to share my impressions, talk about the rake we stepped on, and bring in a bit of ‚Äúkitchen‚Äù analytics. <br>  The purpose of this article is to help you decide whether or not to use this method.  First of all, it is designed for technical specialists, although it is not replete with technical details.  But it will also be useful for everyone else - art specialists, project managers and just everyone who is somehow connected with the development of games.  Perhaps a link to this article will help to beat the budget with the authorities and speed up the development / increase the quality of your future game.  So let's get started. <br><a name="habracut"></a><br>  <b>Prerequisites</b> <br><br>  Animation is often a ‚Äúproblem place‚Äù for many 3D projects.  Of course, everything depends on the specifics of the project, but often this specificity is determined precisely by the complexity and high cost of producing high-quality animation.  Models, textures, sketches, effects and even the interface to find / order is easier than a package of specific animations for the character of your game.  Sometimes game design is limited by the framework that the animation sets.  This is most clearly seen in indie projects and projects of small teams.  Alas, sometimes we see problems with animation and large developers.  For example, a new game comes out, in which everything seems to be good: the gameplay is up to par, and the models are beautiful, and the style is sustained, and even the effects seem to be nothing ... But the game looks dull, because the characters run like planted or all abilities in the game have three animations.  Repeatedly, I witnessed the death of interesting projects that were never born, because the developers could not find the resources specifically for the animation.  As a result, among developers there is a perception that high-quality and diverse animation is expensive in terms of resources.  And for the money, and for the time.  Especially if we want realistic animation of humanoid characters.  We faced the problem of animation in one of our projects and want to share the experience of its solution, which may be useful to you, dear readers. So, we had two problems. <br>  First, the conflict of desires and possibilities.  I wanted a lot, high quality and diverse.  The budget and resources were limited, and time was running out. <br>  Secondly, experimental gameplay.  During the development process, some game concepts changed, and so did the visualization.  I wanted to be able to quickly respond to possible changes or adding features.  After a bit of research into options and opportunities, we thought about using Motion Capture technology, as it met all our needs.  Quality, variety, the ability to change animations on the fly, etc.  But the price of technology was too high.  On average, renting a Motion Capture studio in Moscow costs 800-1000 USD.  per day, cleaning animation after recording 1-2 cu  second.  We began to look for alternatives ... and found - using Kinect + iPi Motion Capture Software. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Impressions and solutions to problems</b> <br><br>  I will not describe the process of recording animation and go into technical details, as it is described in detail on the website of software developers (iPi Motion Capture Software) and in <a href="http://habrahabr.ru/post/146697/">this article</a> .  Impressions of using this technology are more than positive.  With minimal resources we got a quality result.  The whole process ‚Äî from recording movements to importing results into Unity3D ‚Äî takes an average of 1-3 hours, depending on the length of the recording (most of the time is an automatic process of recognition and post-processing).  At the output, you get a ready-made fbx file, which you simply import into Unity3D, and you can get quite an acceptable result without even doing cleaning.  And the participation of a professional animator is not required.  No need for special room and clothing.  The toolkit provides the ability to automatically ‚Äúclean‚Äù the animation, and manual refinement in the process.  The main advantage is that you can export your own skeleton and link it with the skeleton from the record.  This allows ‚Äúon the fly‚Äù to see the future result and adjust it as necessary, and of course, export the final result tailored to your needs. <br><br>  Naturally, in the process of work, we stuffed cones and made conclusions: <br><br>  1. Knowledge - power - do not rush to record and export animation.  Carefully read the examples and manuals, watch the video on YouTube.  A complete understanding of the process will save you a lot of time and nerves. <br><br>  2. From simple to complex - do not rush to immediately record long and complex animations.  Start simple.  In this way, you will gradually become familiar with technology and gain experience using it. <br><br>  3. Calibration - when calibrating 2x Kinects, we did not immediately figure out how to properly adjust the cameras, and for a couple of days we got bad results.  It is very important that after automatic calibration by a special recording of the camera in the software editor as closely as possible coincide with the spatial location that you used when recording the calibration video.  This can be achieved by moving the cameras in the editor after calibration.  Usually it is necessary to do several iterations until the match is accurate. <br><br>  4. Prepare a place - although a special place is not required for recording, but it is still worth preparing in advance.  Note that you need 4x4 meters of free space.  Also it is necessary to mark the position for the legs on the floor, for example with the help of electrical tape.  This will help to maintain the correct position between movement recordings.  Put a large mirror out of sight of the cameras so that you can see yourself with it: this is how you can control the accuracy of movements. <br><br>  5. Training and doubles - in advance rehearse and memorize those movements that you plan to record and write several duplicates of each movement in order to choose the best one afterwards. <br><br>  6. Post-processing - the software provides quite good post-processing tools.  Even if the recognition of any bones were lost, you can move, adjust them directly in the editor.  There are also tools for smoothing fine jitter, etc.  After several entries, we came to the conclusion that it is more convenient to do the revision in the editor, since after exporting it is not very convenient to set up animations in another editor.  Although this item is rather subjective. <br><br>  <b>Results</b> <br><br>  Using Kinect to record animations in practice shows itself as a fast, easy-to-use and inexpensive way to get high-quality animations for your games and more.  The price of the issue on average is 12‚Äì40 thousand rubles, depending on the chosen license for ipiSoft and the number of Kinects, which is not a big financial barrier not only for studios, but also for indie developers.  Wherein <br>  Considering how much time and resources will be saved when working with outsourcers or full-time animators, this approach turns out to be very profitable.  In addition, the technology can be tested absolutely free.  The 30-day trial extends to all the necessary software, and getting 1‚Äì2 Kinect is not a problem at all.  Of course, Kinect is not a panacea for all problems.  It is impossible, of course, to record animations. <br>  non-humanoid characters.  And complex animation with sharp movements cannot be recorded.  But technologies are developing, for example, the same Kinect - <a href="http://habrahabr.ru/post/180589/">Demonstrating the capabilities of Kinect 2.0</a> - with this recognition, the quality of the animations will be simply superb.  The benefits of using Kinect for MotionCapture are obvious.  Just gotta try.  I am pleased to answer any questions related to the topic of the article in the comments. <br><br>  <b>Links</b> <br><br>  Since laziness is the engine of progress, I provide a list of useful links to whom laziness to google yourself: <br><br>  1. <a href="http://ipisoft.com/">ipiSoft Motion Capture</a> - actually the site of the software, where there is everything you need.  Lessons, examples, software distributions, etc. <br><br>  2. <a href="http://habrahabr.ru/post/146697/">Exporting MoCap data to Unity3d</a> is a useful article describing the process of calibration, export of animation and post-processing. <br><br>  3. <a href="http://www.youtube.com/results%3Fsearch_query%3Dipisoft%26oq%3DIpi%26gs_l%3Dyoutube.3.0.35i39l2j0l4j0i10l2j0j0i10.981.1580.0.2894.3.3.0.0.0.0.58.153.3.3.0.eytns%252Cpt%253D-30%252Cn%253D2%252Cui%253Dtr..0.0...1ac.1.11.youtube.nsq0EqoRVDs">Selection of videos on YouTube</a> - many examples of how, what, where and why. <br><br>  4. <a href="http://habrahabr.ru/post/180589/">Demonstration of Kinect 2.0 features</a> - demonstration of the second version of the controller.  Prospects are very interesting. </div><p>Source: <a href="https://habr.com/ru/post/192820/">https://habr.com/ru/post/192820/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../192804/index.html">Samsung Mobile SDK and Samsung Smart App Challenge 2013 for GALAXY Note</a></li>
<li><a href="../192806/index.html">Does JavaScript need classes? part 2</a></li>
<li><a href="../192814/index.html">Welcome to the blog KamaGames Studio</a></li>
<li><a href="../192816/index.html">Review Tizen SDK. Native</a></li>
<li><a href="../192818/index.html">Simplify the life of the administrator, associate the user name and computer name in automatic mode in the AD directory</a></li>
<li><a href="../192822/index.html">SecurityLab.ru launches online vulnerability notification service</a></li>
<li><a href="../192824/index.html">Something about edX Blades</a></li>
<li><a href="../192828/index.html">Continuous integration of .NET projects: NAnt and / or MSBuild?</a></li>
<li><a href="../192832/index.html">[NES] Writing level editor for Prince of Persia. Chapter Five Reflection</a></li>
<li><a href="../192834/index.html">Scilab - from factorial search to tic-tac-toe</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>