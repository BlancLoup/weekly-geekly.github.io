<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Making games in Python 3 and Pygame: Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Many developers come to software development because they want to create games. Not everyone can become professional game developers, but anyone can c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Making games in Python 3 and Pygame: Part 1</h1><div class="post__text post__text-html js-mediator-article">  Many developers come to software development because they want to create games.  Not everyone can become professional game developers, but anyone can create their own games out of interest (and perhaps with a profit).  In this five-part tutorial, I‚Äôll tell you how to create two-dimensional single-player games using Python 3 and the wonderful PyGame framework. <br><br>  (The remaining parts of the tutorial: the <a href="https://habrahabr.ru/post/347170/">second</a> , <a href="https://habrahabr.ru/post/347256/">third</a> , <a href="https://habrahabr.ru/post/347266/">fourth</a> , <a href="https://habrahabr.ru/post/347286/">fifth</a> .) <br><br>  We will create a version of the classic <a href="https://ru.wikipedia.org/wiki/Breakout_(%25D0%25B8%25D0%25B3%25D1%2580%25D0%25B0)" rel="external">Breakout</a> game.  Having mastered this tutorial, you will clearly understand what is necessary to create a game, get acquainted with the possibilities of Pygame and write your own example of the game. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      We implement the following features and capabilities: <br><br><ul><li>  simple standard GameObject and TextObject </li><li>  simple standard game object </li><li>  simple standard button </li><li>  configuration file </li><li>  handling keyboard and mouse events </li><li>  bricks, racket and ball </li><li>  racket movement control </li><li>  handling ball collisions with game objects </li><li>  background image </li><li>  sound effects </li><li>  extensible special effects system </li></ul><br>  <i>Do not expect</i> that the game will be very beautiful graphically.  I'm a programmer, not an artist, I'm more interested in the aesthetics of the code.  The design created by me can unpleasantly surprise.  On the other hand, you will have almost unlimited possibilities to improve the graphics of this version of Breakout.  If you dare to repeat after me, look at the screenshot: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6c3/96f/246/6c396f246b39a60e31593bbba756375d.jpg"></div><br>  The ready source code is posted <a href="https://gitlab.com/the-gigi/pygame-breakout" rel="external">here</a> . <br><a name="habracut"></a><br><h2>  Brief introduction to game programming </h2><br>  The main thing in games is the movement of pixels on the screen and the noise generated.  Almost all video games have these elements.  In this article we will not consider client-server and multiplayer games, which require a lot of network programming. <br><br><h3>  Main loop </h3><br>  The main loop of the game is executed and refreshes the screen at fixed intervals.  They are called frame rates and determine the smoothness of movement.  Usually games update the screen 30-60 times per second.  If the frequency is less, it will seem that objects on the screen are twitching. <br><br>  Inside the main loop there are three main operations: event handling, updating the game state and drawing the current state on the screen. <br><br><h3>  Event handling </h3><br>  Events in the game consist of everything that happens outside the control of the code of the game, but refers to the execution of the game.  For example, if a player presses the left arrow key in Breakout, then the game needs to move the racket to the left.  Standard events are keystrokes (and release) of keys, mouse movement, mouse button presses (especially in the menu), and timer events (for example, the effect of a special effect can last 10 seconds). <br><br><h3>  Status update </h3><br>  The heart of any game is its state: everything that it tracks and draws on the screen.  In the case of Breakout, the state includes the position of all bricks, the position and speed of the ball, the position of the racket, as well as life and points. <br><br>  There is also an auxiliary state that allows you to control the game: <br><br><ul><li>  Is the menu now displayed? </li><li>  Is the game over? </li><li>  Has the player won? </li></ul><br><h3>  Drawing </h3><br>  The game needs to display its state on the screen, including drawing geometric shapes, images and text. <br><br><h3>  Game physics </h3><br>  Most games simulate the physical environment.  In Breakout, the ball rebounds from objects and has a <em>very</em> approximate system of solid state physics (if you can call it that). <br><br>  In more complex games, more sophisticated and realistic physical systems can be used (especially in 3D games).  It is also worth noting that in some games, for example, in card games, there is almost no physics, and this is completely normal. <br><br><h3>  AI (artificial intelligence) </h3><br>  In many games we fight computer opponents, or they have enemies trying to kill us.  Often they behave in the game world as if they have a mind. <br><br>  For example, enemies chase the player and know his location.  There is no AI in Breakout.  The player fights with cold and hard bricks.  However, AI in games is often very simple and just follows simple (or complex) rules that provide pseudo-prudent results. <br><br><h3>  Sound reproduction </h3><br>  Sound reproduction is another important aspect of games.  In general, there are two types of sound: background music and sound effects.  In Breakout, I implement only sound effects that are played on various events. <br><br>  Background music is just music that constantly plays in the background.  In some games, it is not used, and in some it changes at each level. <br><br><h3>  Life, points and levels </h3><br>  In most games, the player has a certain number of lives, and when they end, the game ends.  Also, there are often glasses in games that allow you to understand how well we play and which give you motivation for self-improvement or just show off your friends to your records.  In many games there are levels that are either completely different, or gradually increase the difficulty. <br><br><h2>  Meet Pygame </h2><br>  Before you start implementing the game, let's learn a little about Pygame, which will take over most of the work. <br><br><h3>  What is Pygame? </h3><br>  Pygame is a Python framework for programming games.  It is created on top of the <a href="https://en.wikipedia.org/wiki/Simple_DirectMedia_Layer">SDL</a> and has everything you need: <br><br><ul><li>  maturity </li><li>  good community </li><li>  open source </li><li>  cross platform </li><li>  quality documentation </li><li>  many examples of games </li><li>  ease of learning </li></ul><br><h3>  Install Pygame </h3><br>  Enter <code>pip install pygame</code> to install the framework.  If you need something else, then follow the instructions in the <a href="http://www.pygame.org/wiki/GettingStarted">Getting Started</a> section of the project Wiki.  If you, like me, macOS Sierra, you may have problems.  I managed to install Pygame without difficulty, and the code works fine, but the game window never appears. <br><br>  This will be a serious obstacle when you start the game.  In the end I had to run it on Windows inside a VirtualBox VM.  I hope that by the time of reading this article the problem will be solved. <br><br><h2>  Game architecture </h2><br>  Games need to manage a bunch of information and perform almost the same operations with many objects.  Breakout is a small game, but trying to manage everything in one file may be too tedious.  Therefore, I decided to create a file structure and architecture that is suitable for much larger games. <br><br><h3>  Folder and file structure </h3><br><pre>  P‚îÄ‚îÄ Pipfile
 P‚îÄ‚îÄ Pipfile.lock
 RE‚îÄ‚îÄ README.md
 Ball‚îÄ‚îÄ ball.py
 Break‚îÄ‚îÄ breakout.py
 Brick‚îÄ‚îÄ brick.py
 Button‚îÄ‚îÄ button.py
 Colors‚îÄ‚îÄ colors.py
 Config‚îÄ‚îÄ config.py
 Game‚îÄ‚îÄ game.py
 Game‚îÄ‚îÄ game_object.py
 ‚îú‚îÄ‚îÄ images
 ‚îÇ ‚îî‚îÄ‚îÄ background.jpg
 Pad‚îÄ‚îÄ paddle.py
 Sound‚îÄ‚îÄ sound_effects
 ‚îÇ ‚îú‚îÄ‚îÄ brick_hit.wav
 ‚îÇ ‚îú‚îÄ‚îÄ effect_done.wav
 ‚îÇ ‚îú‚îÄ‚îÄ level_complete.wav
 ‚îÇ ‚îî‚îÄ‚îÄ paddle_hit.wav
 Text‚îÄ‚îÄ text_object.py </pre><br>  Pipfile and Pipfile.lock is a modern way to manage dependencies in Python.  The images folder contains images used by the game (in our version there will be only a background image), and in the sound_effects directory folder there are short sound clips used (as you might guess) as sound effects. <br><br>  The ball.py, paddle.py, and brick.py files contain code related to each of these Breakout objects.  I will discuss them in more detail in the following parts of the tutorial.  The text_object.py file contains the code that displays text on the screen, and the background.py file contains the Breakout game logic. <br><br>  However, there are several modules that create an arbitrary general-purpose ‚Äúskeleton‚Äù.  Classes defined in them can be used in other games based on Pygame. <br><br><h3>  Class GameObject </h3><br>  A GameObject is a visual object that knows how to render itself, maintain its boundaries, and move.  In Pygame, there is a Sprite class that plays a similar role, but in this tutorial I want to show you how everything works at a low level, and not rely too actively on the finished magic.  Here‚Äôs what the GameObject class looks like: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pygame.rect <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Rect <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GameObject</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, x, y, w, h, speed=</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">,</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">)</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> self.bounds = Rect(x, y, w, h) self.speed = speed @property <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">left</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.bounds.left @property <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">right</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.bounds.right @property <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">top</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.bounds.top @property <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bottom</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.bounds.bottom @property <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">width</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.bounds.width @property <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">height</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.bounds.height @property <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">center</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.bounds.center @property <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">centerx</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.bounds.centerx @property <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">centery</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.bounds.centery <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, surface)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, dx, dy)</span></span></span><span class="hljs-function">:</span></span> self.bounds = self.bounds.move(dx, dy) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">update</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self.speed == [<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>]: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.move(*self.speed)</code> </pre> <br>  GameObject is designed to be a base class for other objects.  He directly reveals the many properties of his self.bounds rectangle, and in his <code>update()</code> method he moves the object according to his current speed.  It does nothing in its <code>draw()</code> method, which must be redefined by subclasses. <br><br><h3>  Game class </h3><br>  The Game class is the core of the game.  It is executed in the main loop.  It has many useful features.  Let's look at his method by method. <br><br>  The <code>__init__()</code> method initializes Pygame itself, the font system, and the sound mixer.  Three different calls are needed, because not every game on Pygame uses all the components, so you can control the subsystems that we use and initialize only the ones you need with the appropriate parameters.  The method creates a background image, the main surface (on which everything is drawn) and the game timer with the correct frame rate. <br><br>  The self.objects element stores all game objects that must be rendered and updated.  Different handlers manage lists of handler functions that must be executed on certain events. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pygame <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> collections <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> defaultdict <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Game</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, caption, width, height, back_image_filename, frame_rate)</span></span></span><span class="hljs-function">:</span></span> self.background_image = \ pygame.image.load(back_image_filename) self.frame_rate = frame_rate self.game_over = <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> self.objects = [] pygame.mixer.pre_init(<span class="hljs-number"><span class="hljs-number">44100</span></span>, <span class="hljs-number"><span class="hljs-number">16</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">4096</span></span>) pygame.init() pygame.font.init() self.surface = pygame.display.set_mode((width, height)) pygame.display.set_caption(caption) self.clock = pygame.time.Clock() self.keydown_handlers = defaultdict(list) self.keyup_handlers = defaultdict(list) self.mouse_handlers = []</code> </pre> <br>  The <code>update()</code> and <code>draw()</code> methods are very simple.  They bypass all managed game objects and call the methods corresponding to them.  If two objects overlap each other on the screen, then the order of the list of objects determines which of them will be rendered first, and the rest will partially or completely overlap it. <br><br><pre> <code class="python hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">update</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> o <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.objects: o.update() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> o <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.objects: o.draw(self.surface)</code> </pre> <br>  The <code>handle_events()</code> method listens for events generated by Pygame, such as key and mouse events.  For each event, it calls all the handler functions that must handle events of the appropriate types. <br><br><pre> <code class="python hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handle_events</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> event <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> pygame.event.get(): <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> event.type == pygame.QUIT: pygame.quit() sys.exit() <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> event.type == pygame.KEYDOWN: <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> handler <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.keydown_handlers[event.key]: handler(event.key) <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> event.type == pygame.KEYUP: <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> handler <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.keydown_handlers[event.key]: handler(event.key) <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> event.type <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> (pygame.MOUSEBUTTONDOWN, pygame.MOUSEBUTTONUP, pygame.MOUSEMOTION): <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> handler <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.mouse_handlers: handler(event.type, event.pos)</code> </pre> <br>  Finally, the <code>run()</code> method executes the main loop.  It runs until the <code>game_over</code> element is <code>game_over</code> to True.  At each iteration, it renders the background image and calls the methods <code>handle_events()</code> , <code>update()</code> and <code>draw()</code> in order. <br><br>  Then it updates the screen, that is, writes all the content that was rendered on the current iteration to the physical display.  Last but not least, it calls the <code>clock.tick()</code> method to control when the next iteration is called. <br><br><pre> <code class="python hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> self.game_over: self.surface.blit(self.background_image, (<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)) self.handle_events() self.update() self.draw() pygame.display.update() self.clock.tick(self.frame_rate)</code> </pre> <br><h2>  Conclusion </h2><br>  In this part, we learned the basics of game programming and all the components involved in creating games.  We also looked at Pygame itself and learned how to install it.  Finally, we plunged into the architecture of the game and studied the folder structure, the <code>GameObject</code> and Game classes. <br><br>  In the second part, we will look at the <code>TextObject</code> class, which is used to render text on the screen.  We will create the main window, including the background image, and then learn how to draw objects (ball and racket). </div><p>Source: <a href="https://habr.com/ru/post/347138/">https://habr.com/ru/post/347138/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../347126/index.html">Reactive forms (reactive forms) Angular 5 (2+). Part 2</a></li>
<li><a href="../347128/index.html">JUndo - undo library for Java</a></li>
<li><a href="../347130/index.html">7 types of office loafers - part one</a></li>
<li><a href="../347132/index.html">We comprehend C deeper using assembler. Part 3</a></li>
<li><a href="../347134/index.html">16 Tons. How I saved a dying WordPress site with very superficial knowledge of this CMS</a></li>
<li><a href="../347140/index.html">How to cook AR on android</a></li>
<li><a href="../347144/index.html">CoffeeMiner: hacking WiFi to embed a crypto miner in HTML pages</a></li>
<li><a href="../347146/index.html">Query Profiler in Phoenix. And a little bit about how stacktrace works in Elixir / Erlang</a></li>
<li><a href="../347148/index.html">The digest of interesting materials for the mobile # 237 developer (January 15-21)</a></li>
<li><a href="../347152/index.html">Account Manager: accounts, tokens and all-all-all. Yandex lecture</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>