<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Mohawk / Object Model</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="What is Mohawk? 
 Mohawk (Mohawk or Mohawk) is a JS framework created for Iroquois CMS and used in it. Initially, the framework was created as a set o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Mohawk / Object Model</h1><div class="post__text post__text-html js-mediator-article"><h4>  What is Mohawk? </h4><br>  Mohawk (Mohawk or Mohawk) is a JS framework created for Iroquois CMS and used in it.  Initially, the framework was created as a set of js-functions for creating cross-browser scripts, however, it later became a separate framework. <br><br><h5>  Why not jQuery or any other popular framework? </h5><br>  The fact is that when Iroquois was created, jQuery was not there yet.  At that time, Prototype was very popular, and jQuery was only gaining momentum.  But Prototype was more popular in the RoR community, so I didn‚Äôt really want to use it :) <br><a name="habracut"></a><br><h5>  What can Mohawk? </h5><br>  At present, Mohawk is a full-fledged cross-browser js-framework that has the following features: <br><br>  - Creation of objects (object model) <br>  - Working with the DOM (navigating the tree, managing CSS classes and events, simplifying working with the DOM) <br>  - Ajax interface (including simplified work with forms) <br>  - Dragging and resizing objects <br>  - A small set of visual effects <br>  - Template engine (js templates) <br>  - UI components (WYSIWYG, lists, tabs, input fields, etc.) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In this article, I would like to begin by describing the object model. <br><br><h4>  Object model </h4><br>  The main objective of the object model in Mohawk was the existence of a mechanism for class inheritance.  When creating the framework at that time, there were basically two popular implementations of OOP in js: <br>  - class definition as a function, and subsequent inheritance through the extension of the function prototype (approximately, something like this: <a href="http://www.kevlindev.com/tutorials/javascript/inheritance/">www.kevlindev.com/tutorials/javascript/inheritance</a> ) <br>  - a method from the base2 framework from Dean Edwards (http://code.google.com/p/base2/) <br><br>  The first method did not suit, because  When inheriting from an inherited class, the trouble started there with references to the parent.  The method from Dean Edwards worked perfectly, but two things did not give rest: 1. ‚Äúklass‚Äù as the base class and 2. it was not possible to refer to the parent, but only to the rewritten method of the parent.  However, I tried several times to change the code to fit my needs, but there, when analyzing the inheritance method, the brains boiled up :) If I'm not mistaken, MooTools still uses this method in its code. <br><br>  So, how does the object model in Mohawk. <br><br><h5>  Class creation </h5><br>  A class is created through the <b>Class</b> function, the only argument of which will be the object (body) of our class: <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">var</font> A = <font color="#0000ff">new</font> Class({ <font color="#008000">/* */</font> });</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  Create a <i>Person</i> class with the <i>name</i> property, a constructor accepting a name, and a <i>hello</i> method: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">var</font> Person = <font color="#0000ff">new</font> Class({ <br> <font color="#008000">//     </font> <br> name: <font color="#A31515">'anonoymous'</font> , <br> <br> <font color="#008000">// </font> <br> __construct: <font color="#0000ff">function</font> (name) { <br> self.name = name; <font color="#008000">//    </font> <br> }, <br> <br> <font color="#008000">// </font> <br> hello: <font color="#0000ff">function</font> () { <br> Console.log( <font color="#A31515">'Hello, my name is '</font> + self.name); <br> } <br> }); <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  As you can see from the code, the constructor is specified via the <b>__construct</b> field of the passed object (obviously, the name was influenced by PHP).  Another note: inside the class methods, the class reference is the <b>self</b> variable instead of the usual <b>this</b> .  The reason for this is that <i>this</i> often depends on the environment, and the <i>self</i> variable will be constant.  In the <i>hello</i> method, I write a message to the Mohawk console so that in the example you can see how it works.  As you can see, in the method, the name property is accessed via the <i>self</i> variable. <br>  View in action here: <a href="http://demo.irokez.org/mohawk/">demo.irokez.org/mohawk</a> <br>  And download the framework with an example here: <a href="http://irokez.org/download/mohawk/">irokez.org/download/mohawk</a> <br><br>  Test our object: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">var</font> alice = <font color="#0000ff">new</font> Person( <font color="#A31515">'Alice'</font> ); <br> alice.hello(); <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  In the console we will see: ‚ÄúHello, my name is Alice‚Äù. <br><br><h5>  Inheritance </h5><br>  Now create a class derived from <i>Person</i> .  Let it be a <i>Student</i> with an additional <i>school</i> field, a new <i>enters</i> method and an overloaded <i>hello</i> method.  Inheritance is done through the <b>extends</b> method of the created <i>Person</i> class.  The parameter, as well as in <i>Class,</i> transfers the ‚Äúbody‚Äù of the inherited class: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">var</font> Student = Person.extend({ <br> school: <font color="#A31515">''</font> , <br> <br> enters: <font color="#0000ff">function</font> (school) { <br> self.school = school; <br> }, <br> <br> <font color="#008000">//  </font> <br> hello: <font color="#0000ff">function</font> () { <br> <font color="#008000">//   "" </font> <br> parent.hello(); <br> <br> <font color="#0000ff">if</font> (self.school) { <br> Console.log( <font color="#A31515">'I study at '</font> + self.school); <br> } <font color="#0000ff">else</font> { <br> Console.log( <font color="#A31515">'I don\'t study yet'</font> ); <br> } <br> } <br> }); <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  As you can see from this example, the link to the parent can be obtained through the variable <b>parent</b> . <br><br>  We are testing a new class: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">var</font> bob = <font color="#0000ff">new</font> Student( <font color="#A31515">'Bob'</font> ); <br> bob.enters( <font color="#A31515">'MIT'</font> ); <br> bob.hello(); <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  Console output: <br>  Hello my name is Bob <br>  I study at MIT <br><br><h5>  Static properties and methods </h5><br>  In a recent version, static properties and methods were added to Mohawk.  They are accessed through the <b>static</b> variable.  Let's see an example: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">var</font> Phd = Student.extend({ <br> hi: <font color="#0000ff">function</font> () { <br> self.hello(); <br> <br> Console.log( <font color="#A31515">'My degree is '</font> + <font color="#0000ff">static</font> .degree); <br> } <br> }) <br> <br> Phd.degree = <font color="#A31515">'PhD'</font> ; <font color="#008000">//   (    ) degree</font> <br> <br> <font color="#008000">//  </font> <br> <font color="#0000ff">var</font> carol = <font color="#0000ff">new</font> Phd( <font color="#A31515">'Carol'</font> ); <br> carol.enters( <font color="#A31515">'MIT'</font> ); <br> carol.hi(); <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  The console will issue: <br>  Hello my name is Carol <br>  I study at MIT <br>  My degree is PhD <br><br><h5>  Singleton </h5><br>  Sometimes a class is only required in one instance, for this you can use the ready-made <b>Singletone</b> function: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">var</font> ProfSmith = <font color="#0000ff">new</font> Singletone({ <br> hello: <font color="#0000ff">function</font> () { <br> Console.log( <font color="#A31515">'Hello, I am Prof. Smith'</font> ); <br> } <br> }); <br> <br> ProfSmith.hello(); <font color="#008000">// Hello, I am Prof. Smith</font> <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  As can be seen from the example, a ProfSmith object is created immediately upon its definition. <br><br><h5>  Syntactic sugar </h5><br>  And finally, a little syntactic sugar.  Guess what the following code will give to the console: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">var</font> sugar = <font color="#0000ff">new</font> Singletone({ <br> a: <font color="#0000ff">function</font> () { <br> Console.log( <font color="#A31515">'I am called from method '</font> + __function__); <br> }, <br> <br> b: <font color="#0000ff">function</font> () { <br> Console.log( <font color="#A31515">'I am called from method '</font> + __function__); <br> } <br> }); <br> <br> sugar.a(); <br> sugar.b(); <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  In the next article I will try to continue the description of the framework if you are interested.  Thank you all for your attention. <br><br>  PS: if you downloaded the framework and use IE7, Mohawk may have some differences with IE7.  Therefore, if possible, run it through a local web server so that the address is at least <a href="http://localhost/">localhost</a> . </div><p>Source: <a href="https://habr.com/ru/post/53778/">https://habr.com/ru/post/53778/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../53770/index.html">Advise VDS / VPS in Russian DC</a></li>
<li><a href="../53771/index.html">Microsoft will continue to release Windows XP after the release of Windows 7</a></li>
<li><a href="../53773/index.html">Donkey - pipe</a></li>
<li><a href="../53774/index.html">VKontakte: jokes-jokes</a></li>
<li><a href="../53777/index.html">Automate or attempt to find the impossible. Reflections on the past and present.</a></li>
<li><a href="../53780/index.html">The importance of caches in IT</a></li>
<li><a href="../53781/index.html">March gifts for female geeks</a></li>
<li><a href="../53788/index.html">Let's discuss php frameworks</a></li>
<li><a href="../53790/index.html">Yota router or wimax2wifi in 15 minutes</a></li>
<li><a href="../53791/index.html">Captchaad - Captcha with ads</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>