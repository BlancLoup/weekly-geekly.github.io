<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Pure functions</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pure functions have a number of interesting and useful properties. It's simple. They depend only on their parameters. And return only their result. In...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Pure functions</h1><div class="post__text post__text-html js-mediator-article">  Pure functions have a number of interesting and useful properties.  It's simple.  They depend only on their parameters.  And return only their result.  In the D programming language, the following are possible: <br><ul><li>  You cannot write to a global variable.  Or to a variable that has become persistent outside this function. </li><li>  Such variables cannot be read until they become invariant.  Invariance refers to immutability. </li><li>  Pure functions can only call pure functions. </li><li>  Parameters in pure functions can be immutable.  In this case, a call to such a function cannot be cached or called asynchronously, if the parameters refer to the data being changed. </li><li>  A pure function may cause an exception. </li></ul><a name="habracut"></a><br>  The following is an example of a pure D function: <br><br> <code>pure int foo(int x, const int[] a) <br> { <br> int sum = 0; <br> foreach (s; a) <br> sum += s; //      <br> return x * sum; <br> }</code> <br> <br>  And not a pure function: <br><br> <code>int bar(int x, int[] a) <br> { static int sum = 0; <br> foreach (s; a) //     <br> sum += s; // /     <br> return x * sum; //     <br> }</code> <br> <br>  If the pure keyword is specified, the properties of such a pure function are checked at compile time.  The main question is, if the compiler can check the function for purity, then why annotate it accordingly?  Why not transfer to the compiler's shoulders the annotation of a clean function, if it sees that this is the case?  The bottom line is that it was the programmer who knew that this function did not forget.  Otherwise it is possible that he will not be able to say exactly what the function is.  And write, depending on this, the appropriate code. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Fine.  We have pure features.  What is so good about it? <br><br>  First of all, it is self-documentation.  The person reading the code will immediately realize that the function depends only on its parameters, has no side effects and nothing strange happens in it if it is marked clean.  This greatly reduces the amount of unnecessary work.  Most of the features can be marked clean.  And it is this that has a positive effect on the support of the code. <br><br>  Pure functions do not need synchronization when using multiple threads.  Because all their variables are either local or immutable. <br><br>  Below is a good example describing possible code optimizations using the pure function by the compiler: <br><br> <code>int x = foo(3) + bar[foo(3)];</code> <br> <br>  only one function call foo is required. <br><br>  Thus, a pure function depends only on the bits passed to it on the stack.  And these bits can act as a key to getting data from the cache.  Therefore, it is not necessary to call the function again. <br><br>  Pure functions can be performed asynchronously.  This means that not just the code will be executed further, without waiting for the function to be executed.  Well, as well as the fact that the execution of the function may be performed on a different processor core.  What becomes especially relevant in our days, when no one will be surprised with n-core processors.  And such a scheme of work can not but have a positive effect on the program's performance. <br><br>  They can be swapped during operation, because they do not depend on any global initialization or completion state. <br><br>  Exactly that the functionality of the program is an interesting addition to the imperative programming languages. <br><br>  Translated by Andreyenko Artem.  Author Walter Bright (co-author of D).  <a href="http://dobbscodetalk.com/index.php%3Foption%3Dcom_myblog%26show%3DPure-Functions.html%26Itemid%3D29">The original</a> version of the article. </div><p>Source: <a href="https://habr.com/ru/post/40697/">https://habr.com/ru/post/40697/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../40690/index.html">Automated image layout process</a></li>
<li><a href="../40691/index.html">Becoming a Belarusian programmer without departing from school is now a reality!</a></li>
<li><a href="../40692/index.html">We wrote, we wrote, or what to do when we are overtaken by tunnel syndrome</a></li>
<li><a href="../40693/index.html">T-Mobile G1 first hand</a></li>
<li><a href="../40696/index.html">Screenshots? - Easy!</a></li>
<li><a href="../40698/index.html">Are yahoo you? (reflections on mail on yahoo)</a></li>
<li><a href="../40700/index.html">Firefox 3.0.2</a></li>
<li><a href="../40701/index.html">HOWTO: Netstat</a></li>
<li><a href="../40702/index.html">Who will get Schisago2016.com?</a></li>
<li><a href="../40707/index.html">Browserless Javascript Applications (HTA)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>