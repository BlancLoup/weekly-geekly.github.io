<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Data on the frontend: a step towards future applications</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The client-server architecture for web application developers is about as one of the turtles on which the world stood in the views of our ancestors. I...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Data on the frontend: a step towards future applications</h1><div class="post__text post__text-html js-mediator-article">  The client-server architecture for web application developers is about as one of the turtles on which the world stood in the views of our ancestors.  It is difficult to imagine a different state of affairs.  However, countless web applications have created a new need - data management in the frontend.  While there is no single approach and implementation, there are only separate technologies that allow working with data on the client.  Nobody really bothers with them.  And by the way, it's time.  We already talked with <b>Nikita Prokopov</b> aka <a href="https://habrahabr.ru/users/tonsky/" class="user_link">tonsky</a> about what is already in terms of working with data on the front end and what will happen next. <br><br> <a href="https://habrahabr.ru/company/jugru/blog/283232/"><img src="https://habrastorage.org/getpro/habr/post_images/477/7d3/35f/4777d335fc98f6a68c72cdbb3aeb8155.jpg"></a> <br><a name="habracut"></a><br>  <i><b>- Nikita, hello!</b></i>  <i><b>Tell me a few words about yourself, what are you doing?</b></i> <i><b><img src="https://habrastorage.org/getpro/habr/post_images/be0/cb1/931/be0cb1931dae07e0d14c9e51ac997adb.jpg" align="left"></b></i> <br><br>  - I work for <a href="https://www.cognician.com/">Cognician</a> , a web-based educational and training platform.  I'm doing front-end and partially backend there. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i><b>- In the annotation to your <a href="http://holyjs.ru/talks/prokopov.html">report on HolyJS</a> it is written that you are Clojure-hacker ...</b></i> <br><br>  - This is due to the fact that I have been writing on Clojure for several years, probably four years.  All my recent work has been on Clojure, there is a certain expertise. <br><br>  <i><b>- If you walk through Habra, then immediately noticeable that Clojure is much less common than other programming languages.</b></i>  <i><b>At the same time, it uses JVM, integrates with Java in both directions, has a number of advantages.</b></i>  <i><b>What can you do on it and who can Clojure do?</b></i> <br><br>  - Yes, indeed, Clojure has some minor problems with popularity compared to, for example, Scala, which is doing well in this regard.  But Clojure in the shade.  However, this is not some marginal language, it is still relatively widespread.  There are some cool ideas in it. <br>  Clojure has become a pioneer of left and right immunity, it has cool primitives for synchronizing multi-threaded parallel programs, it can compile into JavaScript.  Clojure and ClojureScript for JVM and JavaScript go hand in hand, you can write code that works both there and there.  This is a general purpose language, recommended for anyone who does not need super low latency or super predictability, as in real-time systems.  It gradually finds its application in the corporate sector - in Boeing and Walmart they write code on it, that is, quite a serious business decides to switch to Clojure. <br><br>  <i><b>- The subject of the report declared by you is ‚ÄúData on the frontend‚Äù.</b></i>  <i><b>What kind of data is it and who needs it at all?</b></i> <br><br>  - There is such a story - I started working on the front-end seriously a year or so ago, before that, the emphasis was mainly on the server side.  Now there is a growing trend that applications can be written in the browser and they really can be written there.  But while the frontend culture has not grown to those approaches that have long existed on the server.  Writing applications on the front end is a big front of work: what to do and how to do it.  Some problems are already clear how to solve, some - not yet.  One of these problems is how to store data?  There are many options on the server: the file system, the database, can be stored in memory or in caches.  And on the client it is not very clear: there are ad hoc solutions (as God will per capita, save somewhere in local storage or in variables), you can try to use databases that are also for the client, but they are much smaller.  Applications become more and more, they need to work with data.  This is a serious task requiring a system response, architecture search.  In the report, I just want to consider what approaches already exist, what are their pros and cons. <br><br>  <i><b>- And what will happen to the backend?</b></i>  <i><b>Will it remain or will it not be necessary?</b></i> <br><br>  - Of course, it continues to exist, because web applications are ephemeral: you have gone and gone, but you want your data to be preserved.  There remains a client-server architecture, perhaps a database-server-client, and maybe in the future sometime just a database-client will appear, this is also one of the possible options.  Having a server is one of the most interesting moments: when the server is working with data, it is in greenhouse conditions, and the client is in a wild environment, plus the user is looking at it.  Just because of this, many problems arise, how to do it well.  That is, I want the application to load quickly, work offline, etc., and how to do it is not very clear.  If you tense up and do it specifically for yourself, then something can happen with great effort.  But sooner or later, I think, there will be some system solutions that can be taken "off the shelf" and used. <br><br>  <i><b>- It's hard for me to imagine.</b></i>  <i><b>Somehow familiar: there is an application, for example, some kind of web-based CRM, the client sends data to the server, everything is as usual.</b></i>  <i><b>And here again - and you need to manage data on the frontend.</b></i>  <i><b>When, when developing what type of applications, is it time to think about data on the frontend?</b></i> <br><br>  - If we are talking about the application (graphics editor, something terribly interactive), then as soon as the site / application becomes dynamic, it immediately becomes necessary to manage data on the frontend. <br><br>  <i><b>- In connection with the conversation about managing such data, tell about <a href="https://github.com/tonsky/datascript">DataScript</a> .</b></i>  <i><b>It seems this is your project?</b></i> <br><br>  - Well, yes, I am the main developer.  There were several pool rekvestov, people helped me, but mostly this is my development.  His idea is that if the data is structured and there are relatively many of them, it is convenient to store them in a kind of database.  DataScript is one example of a very easy database.  It is not even a fully database, but rather an in-memory data structure by which queries can be launched and in which there are transactions.  Roughly speaking, this is a fairly convenient data structure (they are relational, there are connections between them), everything inside is stored in a flat form, indexed.  According to such a structure, it is convenient to make navigation, as in a graph, back and forth and conveniently quickly find the necessary data.  Plus, there is immobility - you can create architectures that are made on React, when state is stored in one object, it is immutable and you can undo / redo, there are transactions - you can create reactive systems.  There is a query language Datalog with its syntax and capabilities.  There is only persistence, DataScript works in memory. <br><br>  DataScript is needed when there is a complex multidimensional state and you want to look at it from different sides, transform it.  DataScript is best known in the Clojure environment (although it supports Clojure, ClojureScript, JavaScript, and JVM) and is often used in conjunction with Datomic on the server.  We use DataScript in Cognician to present the client session (questions, answers, comments, scripts), plus we synchronize the event log in Datomic (on both sides) on top of this.  The guys from Precursor use the same stack for collaborative drawing of graphics (figures, objects, groups), they also have their own solution for synchronization.  There are a couple of projects where many small properties of objects are stored in DataScript, inventory projects.  There is an online store even.  This is a very convenient basis when the data is neatly in one place to write on top of it a system solution for synchronization, for example. <br><br>  <i><b>- Now in the hands of the developers is a zoo of databases.</b></i>  <i><b>What to choose?</b></i>  <i><b>Or does it make no difference?</b></i> <br><br>  - Document-oriented - the simplest type of database.  If there is nothing better, then you need to take them.  If we talk specifically about the client, the choice is quite small: there is miniMongo, PouchDB, they are both document-oriented.  You can write on the bare local storage.  Ideally, you need to take the base, which gives a lot of opportunities - in particular, synchronization with the server.  Transparent two-way synchronization with the server will remove most of the headache. <br><br>  <i><b>- Since we are talking about synchronization ... Reactive data synchronization, <a href="https://github.com/gritzko/swarm">Swarm.js</a> - what is it?</b></i> <br><br>  - Reactive data synchronization is when the server has new information and he himself understands which client to send it to.  So far no one knows how to do it.  There is a solution based on RethinkDB and Meteor - you explicitly subscribe to a server for certain objects or collections and they come to you with a server-push.  This is not a trivial task and there are many problems: first, there are many clients, and one server, and second, how to maintain this list of subscriptions.  The flow of changes on the server is constant - there are many clients, all transactions go through the server and the server must recognize the transactions and understand whom to notify and whom not.  These tasks are effectively solved by very narrow technologies, if at all. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/142/284/a31/142284a31cd7508536c9fe570d6e0109.jpg"></div><br>  <i><font color="#999999">It seems that this picture will soon cease to be relevant</font></i> <br><br>  And there the question of consistency arises - I would also like to have some order and completeness in all these objects.  This, in fact, is a reactive model - here and on the server with this, everything is relatively bad, almost no databases can natively notify about transactions and changes.  This problem is solved by server programmers using a queue: we do not write directly to the database, but we add tasks to the queue, read from this queue and write - then everyone who is interested can also read from this queue.  The reactive model is quite new for the architecture of the entire system.  That is, inside a programming language, you can pile up something like this, but when it comes to the whole system (data, database, server, user interface), then approaches are only groped for now.  It's about how to collect such a thing. <br><br>  The server and the client are a distributed system in which there are many clients and one server.  Clients can write and read from the server.  And here a model arises when customers accumulate a pool of changes and we want them to fall on all other customers.  Purely theoretically, this problem is not solved in the general case, but it is solved beautifully for certain types of fairly simple data structures.  Swarm.js is a library that provides data structures for which the synchronization problem is beautifully solved, and their synchronization protocol.  Roughly speaking, if I went to the same Amazon page from two browsers and in one browser added one item to the basket, and in the other - another, these two baskets can be merged with the operation of combining and conflicts cannot be.  Problems begin, if possible, for example, removal - then it is impossible to merge and you need to invent something.  There is such a new trend in distributed systems - <a href="https://habrahabr.ru/post/272987/">CRDT</a> (Conflict-free Replicated Data Type), these are data types that easily merge and Swarm.js is one of the implementations of such pieces.  These are all pieces of a puzzle, and our global goal is to make a fully reactive system, in which any changes that occur, spread throughout the system, and the system consists of a base, a server, and many clients.  IT is in search of such a system.  Most likely, it will not be some kind of ready-made solution, but an approach, following which you can already create architectures. <br><br><hr><br>  You can listen to Nikita, discuss with him, as well as with other speakers, about your findings and thoughts about the future at the <a href="http://holyjs.ru/"><b>HolyJS</b></a> conference, which will be held in St. Petersburg on June 5, 2016. </div><p>Source: <a href="https://habr.com/ru/post/283518/">https://habr.com/ru/post/283518/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../283508/index.html">Introducing the new Intel RealSense SR300 Camera</a></li>
<li><a href="../283510/index.html">Report from Moscow Atlassian Meetup April 20</a></li>
<li><a href="../283512/index.html">How does cross-device advertising work: the complexity and prospects of technology development</a></li>
<li><a href="../283514/index.html">Bushido Mobius: Member Path</a></li>
<li><a href="../283516/index.html">.NET development: nine questions for adults</a></li>
<li><a href="../283520/index.html">JPoint 2016: Faster, higher, more productive</a></li>
<li><a href="../283522/index.html">Multiple dispatch in C #</a></li>
<li><a href="../283526/index.html">35 useful tips for Ludum Dare members</a></li>
<li><a href="../283528/index.html">What makes a programmer a good programmer?</a></li>
<li><a href="../283530/index.html">Interfaces in the real world: we design the most hellish interface</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>