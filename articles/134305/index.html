<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The dark side of ContentProvider</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ContentProvider is an Android class for exchanging data between applications . This is exactly what is written in Yavadok : A content provider . But w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The dark side of ContentProvider</h1><div class="post__text post__text-html js-mediator-article">  ContentProvider is an Android class for exchanging data <b>between applications</b> .  This is exactly what <a href="http://developer.android.com/reference/android/content/ContentProvider.html">is written in Yavadok</a> : <i>A content provider</i> .  But who reads the documentation while everything works?  Obviously, only the one who stuffed enough lumps, stepping on all sorts of rakes. <br><br>  So, in this post I would like to share my negative experience of using ContentProviders as a data source within the application.  Why is it actually unreasonable to use them to access data within the program? <br><a name="habracut"></a><br><br><h5>  Exception Handling </h5><br>  The most important, in my opinion, problem is that getContentResolver (). Query (..) returns either a cursor with data or null.  If an exception appears inside the ContentProvider, the calling code will not know about it.  The maximum that you can find out by running a null test is the fact that something went wrong. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Such an approach is definitely not suitable for working within one application, since sometimes the exception rises from the lowest level of data down to the user interface.  For example, a message about the unavailability of a web service or an authorization error. <br><br>  Of course, there is a workaround.  You can write to the cursor information about the error, and process it in the calling code.  But this is too artificial a decision. <br><br><h5>  Complex data structures </h5><br>  Cursor is good exactly as long as the returned data is representable as a table.  But what if you need a more complex structure? <br><br>  For example, a web service can return data page by page, while on the first page there will be some meta-information, at least the number of pages.  You can combine several cursors into one, and in the calling code, parse them back.  But it will greatly complicate the logic both at the model level and at the presenter level. <br><br><h5>  Progress progress </h5><br>  Often there is a need to track the progress of the operation.  For example, reading a large amount of data from a file.  ContentProviders do not provide this feature. <br><br>  You can create a private field, write current progress to it and return it as a separate request.  But then immediately there will be problems with multithreading and parallel execution by the provider of several identical requests from different clients. <br><br><h5>  Stop execution </h5><br>  The code running in ContentProvider will <a href="http://developer.android.com/reference/android/content/AsyncQueryHandler.html">most likely</a> not be stopped.  If you do not use AsyncQueryHandler, then in general we will have no control over the execution of the operation. <br><br>  The workaround is approximately the same as in the previous problem - we set up a private field-flag, and switch it when the request needs to be stopped.  In the request, we constantly check the status of the flag.  This solution is not suitable for all the same reasons. <br><br><h4>  Conclusion </h4><br><br>  The conclusion of the above, I can do this.  It makes sense to use ContentProviders only if atomic operations are performed inside them that do not take much time and return strictly homogeneous data that can be used by other applications.  Here all other cases use ContetProvider'ov seems to me unjustified. </div><p>Source: <a href="https://habr.com/ru/post/134305/">https://habr.com/ru/post/134305/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../134297/index.html">CiEx: Take Kadropotok</a></li>
<li><a href="../134298/index.html">WiFi-AC - a new generation of Wi-Fi</a></li>
<li><a href="../134300/index.html">Rating Top-50 digital agencies of Russia-2011</a></li>
<li><a href="../134302/index.html">Linking a data model in C ++ with a QML view using a map example</a></li>
<li><a href="../134303/index.html">REST vs SOAP. Part 2. How easier and more efficient to organize communication platforms?</a></li>
<li><a href="../134306/index.html">How far from the idea of ‚Äã‚Äãthe game to its realization: an interview with the developers of the Yocto Technology Group</a></li>
<li><a href="../134307/index.html">SFTP support in midnight commander</a></li>
<li><a href="../134308/index.html">Google+ has introduced face recognition on uploaded photos.</a></li>
<li><a href="../134309/index.html">Another client for the site TechDays.ru</a></li>
<li><a href="../134310/index.html">Canobuvosti, 121st edition</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>