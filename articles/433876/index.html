<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Three-dimensional presentation of products on Three.js for the smallest</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="All sorts of presentations of products in 3D - not such a rarity in our time, but these tasks cause a lot of questions from novice developers. Today w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Three-dimensional presentation of products on Three.js for the smallest</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/webt/zq/qv/nw/zqqvnwkx2md-fl2vpq4mkwyx3ka.jpeg"></p><br><p>  All sorts of presentations of products in 3D - not such a rarity in our time, but these tasks cause a lot of questions from novice developers.  Today we will look at some of the basics that will help get into this topic and not stumble upon such a simple task as displaying a three-dimensional model in a browser.  We will use Three.js as the most popular tool in this area as an aid. </p><a name="habracut"></a><br><h2 id="pristupaem-k-rabote">  Getting Started </h2><br><p>  First of all, we will make an HTML template for ourselves.  In order not to complicate the example, we will not use anything superfluous, no collectors, preprocessors, etc. </p><br><p>  We need a container for canvas and a set of scripts - actually three.js, a loader for models in obj format, and a script for controlling the camera with the mouse. </p><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'canvas-container'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'https://unpkg.com/three@0.99.0/build/three.min.js'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'https://unpkg.com/three@0.99.0/examples/js/loaders/OBJLoader.js'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'https://unpkg.com/three@0.99.0/examples/js/controls/OrbitControls.js'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'./main.js'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  If your project uses NPM and assemblers, then you can import all of this from the three package.  Actually, if someone doesn't know, Unpkg takes all of the NPM packages. </p><br><blockquote>  If you need to quickly connect something from some package to your page, but you did not find the link to the CDN - remember Unpkg, most likely you need it. </blockquote><p>  The main script will start with a heap of global variables.  So we simplify the example. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> SCENE; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> CAMERA; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> RENDERER; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> LOADING_MANAGER; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> IMAGE_LOADER; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> OBJ_LOADER; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> CONTROLS; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> MOUSE; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> RAYCASTER; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> TEXTURE; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> OBJECT;</code> </pre> <br><p>  In Three.js, everything starts from the stage, so we initialize it and create a couple of light sources: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initScene</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ SCENE = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.Scene(); initLights(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initLights</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ambient = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.AmbientLight(<span class="hljs-number"><span class="hljs-number">0xffffff</span></span>, <span class="hljs-number"><span class="hljs-number">0.7</span></span>); SCENE.add(ambient); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> directionalLight = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.DirectionalLight(<span class="hljs-number"><span class="hljs-number">0xffffff</span></span>); directionalLight.position.set(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); SCENE.add(directionalLight); }</code> </pre> <br><p>  Light sources are different.  Most often in such tasks ambient is used - filling light, and directional - light in a certain direction.  There are also point sources of light, but we do not need them yet.  We make the color of the glow white so that there are no distortions. </p><br><blockquote>  It can be useful to play with the color of the filling glow, especially with shades of gray, so you can make a softer image. </blockquote><p>  The second important thing is the camera.  This is the essence that determines the point at which we are located, and the direction in which we are looking. </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initCamera</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ CAMERA = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.PerspectiveCamera(<span class="hljs-number"><span class="hljs-number">45</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.innerWidth / <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.innerHeight, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2000</span></span>); CAMERA.position.z = <span class="hljs-number"><span class="hljs-number">100</span></span>; }</code> </pre> <br><p>  Camera parameters are usually selected by eye and depend on the models used. </p><br><p>  The third object we need is a renderer.  He is responsible for drawing the image.  Its initialization speaks for itself: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initRenderer</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ RENDERER = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.WebGLRenderer({ <span class="hljs-attr"><span class="hljs-attr">alpha</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }); RENDERER.setPixelRatio(<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.devicePixelRatio); RENDERER.setSize(<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.innerWidth, <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.innerHeight); }</code> </pre> <br><p>  Loaders are needed in order to download data of different formats.  <a href="https://github.com/mrdoob/three.js/tree/dev/examples/js/loaders">Here</a> you can find a long list of options, but we need only two - one for the pictures (it comes in the box) and one for the models (we connected it at the beginning). </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initLoaders</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ LOADING_MANAGER = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.LoadingManager(); IMAGE_LOADER = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.ImageLoader(LOADING_MANAGER); OBJ_LOADER = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.OBJLoader(LOADING_MANAGER); }</code> </pre> <br><p>  Let's start loading the model.  As expected, it happens asynchronously.  After loading the model, we can play with its parameters: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loadModel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ OBJ_LOADER.load(<span class="hljs-string"><span class="hljs-string">'./model.obj'</span></span>, (object) =&gt; { object.scale.x = <span class="hljs-number"><span class="hljs-number">0.3</span></span>; object.scale.y = <span class="hljs-number"><span class="hljs-number">0.3</span></span>; object.scale.z = <span class="hljs-number"><span class="hljs-number">0.3</span></span>; object.rotation.x = -<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.PI / <span class="hljs-number"><span class="hljs-number">2</span></span>; object.position.y = <span class="hljs-number"><span class="hljs-number">-30</span></span>; OBJECT = object; SCENE.add(OBJECT); }); }</code> </pre><br><p>  It remains to run the barrel organ: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">animate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ requestAnimationFrame(animate); render(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">render</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ CAMERA.lookAt(SCENE.position); RENDERER.render(SCENE, CAMERA); }</code> </pre> <br><p>  As a result, we will have just a white Christmas tree with shadows (I took the model <a href="https://free3d.com/3d-model/christmas-tree-v1--988426.html">from here</a> ). </p><br><p><img src="https://habrastorage.org/webt/ry/re/2z/ryre2z9uir0w1uew_21kydffldq.jpeg"></p><br><p>  One, two, three, herringbone burn!  But without textures, of course, it will not burn.  Yes, and about the shaders of fire and other elements, we will talk some other time ... But at least we can see that the model of the Christmas tree is ‚Äúon TV‚Äù. </p><br><p>  Before moving on to textures, it is helpful to add a standard browser window resizing event handler: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initEventListeners</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.addEventListener(<span class="hljs-string"><span class="hljs-string">'resize'</span></span>, onWindowResize); onWindowResize(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onWindowResize</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ CAMERA.aspect = <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.innerWidth / <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.innerHeight; CAMERA.updateProjectionMatrix(); RENDERER.setSize(<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.innerWidth, <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.innerHeight); }</code> </pre> <br><h2 id="dobavlyaem-teksturu">  Add texture </h2><br><p>  Our model and picture-texture work on the principle of stickers-translators on children's technology models.  As we already know, objects in the WebGL context consist of a heap of triangles.  By themselves, they have no color.  For each triangle there is the same triangular ‚Äústicker‚Äù with a texture that you need to stick on it.  But if we have 1000 triangles, then we need to load 1000 texture pictures?  Of course no.  A sprite is made, the same as for icons in CSS (you probably came across them in the work), and the model itself is added with information about which triangles and where on it are.  And then Three.js already independently deals with everything and we see the finished result.  In fact, everything is a little more complicated, but the idea should be clear. </p><br><p>  Christmas tree branches are not a very illustrative example.  They are all the same.  Much better structure of such a texture will be seen in the example of Bulbasaurus: </p><br><p><img src="https://habrastorage.org/webt/lc/op/bq/lcopbq_gxwwf7y-yuevk5bom3n8.jpeg"></p><br><p>  But enough of the words, let's proceed to action.  Initialize the texture and load the image with it: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initTexture</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ TEXTURE = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.Texture(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loadTexture</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ IMAGE_LOADER.load(<span class="hljs-string"><span class="hljs-string">'./texture.jpg'</span></span>, (image) =&gt; { TEXTURE.image = image; TEXTURE.needsUpdate = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }); }</code> </pre> <br><p>  Now we need to expand the model loading function.  If we had the same texture as the bulbasaurus, everything would be simple.  But the Christmas tree texture covers only branches.  We need to somehow separate them and apply it only to them.  How to do it?  You can approach this issue in different ways.  It's time to use console.log and look at the model itself. </p><br><blockquote>  If you do not know how to select a specific part of the model, use console.log.  This is usually the fastest way to find out how the parts differ. </blockquote><p>  Usually we have two options for how to divide the model into parts.  The first (good) is when the 3D-artist has signed the component parts of the model and we have access to the name fields from them and we can determine from them what is what.  In our example, this is not, but there are names of materials.  We use them.  For parts of the model from the material ‚ÄúChristmas_Tree‚Äù we will use the texture: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loadModel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ OBJ_LOADER.load(<span class="hljs-string"><span class="hljs-string">'./model.obj'</span></span>, (object) =&gt; { object.traverse(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">child</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (child <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> THREE.Mesh) { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (child.material.name) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'Christmas_Tree'</span></span>: child.material.map = TEXTURE; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-comment"><span class="hljs-comment">// . . . } } }); // . . .</span></span></code> </pre> <br><p>  Thus we get something like this: </p><br><p><img src="https://habrastorage.org/webt/pi/zw/ab/pizwab2a2sf46kuxndt_a06qn2s.jpeg"></p><br><p>  For parts of the materials ‚Äúred‚Äù and ‚Äúpink‚Äù (these are balls - Christmas toys), we simply set a random color.  In such cases, HSL is convenient to use: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (child.material.name) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'Christmas_Tree'</span></span>: child.material.map = TEXTURE; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'red'</span></span>: child.material.color.setHSL(<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.random(), <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0.5</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'pink'</span></span>: child.material.color.setHSL(<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.random(), <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0.5</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; }</code> </pre> <br><blockquote>  Note to artists: give meaningful names to everything in models.  The names of the materials in our example just break the brain.  We have red here can be green.  I did not change them to show the absurdity of what is happening.  The abstract name ‚Äúmaterial for balls‚Äù would be more universal. </blockquote><br><h2 id="equirectangular-projection">  Equirectangular projection </h2><br><p>  The difficult word equirectangular projection in Russian is an equidistant projection.  Translated to the household - pulled the ball on the rectangle.  You can quote me.  At school, we all saw a map of the world - it is rectangular, but we understand that if we transform it a little bit, then we‚Äôll have a globe.  That is exactly it.  To better understand how these distortions are arranged take a look at the picture: </p><br><p><img src="https://habrastorage.org/webt/9f/mm/pq/9fmmpqqzen-c2sfcngzrjmfzkto.jpeg"></p><br><p>  When creating thumbnails of different products, the background is often made using such projections.  We take a distorted picture with the environment and display it on a large sphere.  The camera is inside it.  It looks like this: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initWorld</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> sphere = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.SphereGeometry(<span class="hljs-number"><span class="hljs-number">500</span></span>, <span class="hljs-number"><span class="hljs-number">64</span></span>, <span class="hljs-number"><span class="hljs-number">64</span></span>); sphere.scale(<span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> texture = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.Texture(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> material = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.MeshBasicMaterial({ <span class="hljs-attr"><span class="hljs-attr">map</span></span>: texture }); IMAGE_LOADER.load(<span class="hljs-string"><span class="hljs-string">'./world.jpg'</span></span>, (image) =&gt; { texture.image = image; texture.needsUpdate = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }); SCENE.add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.Mesh(sphere, material)); }</code> </pre> <br><p>  For example, I deliberately unfinished edges, so if you use the example from the githaba, then there you will find a distinct seam on which the picture closes.  If anyone is interested, then its original is taken <a href="https://www.flickr.com/photos/77581941%40N00/4250221961">from here</a> . </p><br><p>  Total for the moment we have something like this: </p><br><p><img src="https://habrastorage.org/webt/dh/ps/tj/dhpstjadkcyb9i1cjtzlxu7t-wi.jpeg"></p><br><p>  Christmas tree with colored balls looks pretty nice. </p><br><h2 id="orbit-controls">  Orbit controls </h2><br><p>  In order to appreciate the beauty of the three-dimensional space, add a mouse control.  And then everything seems to be in 3D, you need to twist it all.  OrbitControls are usually used in such tasks. </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initControls</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ CONTROLS = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.OrbitControls(CAMERA); CONTROLS.minPolarAngle = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.PI * <span class="hljs-number"><span class="hljs-number">1</span></span> / <span class="hljs-number"><span class="hljs-number">4</span></span>; CONTROLS.maxPolarAngle = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.PI * <span class="hljs-number"><span class="hljs-number">3</span></span> / <span class="hljs-number"><span class="hljs-number">4</span></span>; CONTROLS.update(); }</code> </pre> <br><p>  It is possible to set restrictions on the angles to which you can rotate the camera, restrictions on zoom and other options.  It is useful to look into the documentation, there are a lot of interesting things. </p><br><p>  You can't tell a lot about this kind of control.  Connected, turned on and it works.  Just do not forget to regularly update the status: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">animate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ requestAnimationFrame(animate); CONTROLS.update(); render(); }</code> </pre> <br><p>  <em>Here you can get a little distracted, twist the Christmas tree in different directions ...</em> </p><br><h2 id="raycaster">  Raycaster </h2><br><p>  Raycaster allows you to do the following: he draws a straight line in space and finds all the objects with which it intersects.  This allows you to do many different interesting things, but in the context of product presentations there will be two main cases - it will react to mouse hovering at something and react to a mouse click on something.  To do this, you will need to draw lines perpendicular to the screen through a point with the coordinates of the mouse and look for intersections.  And this will do.  Expand the render function, look for intersections with the balls and repaint them: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">render</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ RAYCASTER.setFromCamera(MOUSE, CAMERA); paintHoveredBalls(); <span class="hljs-comment"><span class="hljs-comment">// . . . } function paintHoveredBalls() { if (OBJECT) { const intersects = RAYCASTER.intersectObjects(OBJECT.children); for (let i = 0; i &lt; intersects.length; i++) { switch (intersects[i].object.material.name) { case 'red': intersects[i].object.material.color.set(0x000000); break; case 'pink': intersects[i].object.material.color.set(0xffffff); break; } } } }</span></span></code> </pre> <br><p>  With simple mouse movements back and forth, we make sure that everything works. </p><br><p><img src="https://habrastorage.org/webt/4z/lp/ti/4zlptiw4eiggtfnkmpglprqlcu8.jpeg"></p><br><p>  But there is one subtlety - Three.js does not know how to smoothly change colors.  And in general, this library is not about smooth changes in values.  Here is the time to connect any tool that is designed for this purpose, for example, Anime.js. </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'https://unpkg.com/animejs@2.2.0/anime.min.js'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Use this library to animate values: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (intersects[i].object.material.name) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'red'</span></span>: <span class="hljs-comment"><span class="hljs-comment">// intersects[i].object.material.color.set(0x000000); anime({ targets: intersects[i].object.material.color, r: 0, g: 0, b: 0, easing: 'easeInOutQuad' }); break; // . . . }</span></span></code> </pre> <br><p>  Now the colors change smoothly, but only after the mouse moves away from the ball.  Something needs to be fixed.  To do this, we use symbols - they allow us to safely add meta-information to objects, and we just need to add information about whether the ball is animated or not. </p><br><blockquote>  Symbols in ES6 + is a very powerful tool that, among other things, allows you to add information to objects from third-party libraries without fear that it will lead to a conflict of names or break logic. </blockquote><p>  We make a global constant (in theory, it would be worth making a global object for all such symbols, but we have a simple example, we will not complicate it): </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> _IS_ANIMATED = <span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>(<span class="hljs-string"><span class="hljs-string">'is animated'</span></span>);</code> </pre> <br><p>  And we add a check to the function of repainting the balls: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!intersects[i].object[_IS_ANIMATED]) { anime({ <span class="hljs-attr"><span class="hljs-attr">targets</span></span>: intersects[i].object.material.color, <span class="hljs-attr"><span class="hljs-attr">r</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">g</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">b</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">easing</span></span>: <span class="hljs-string"><span class="hljs-string">'easeInOutQuad'</span></span> }); intersects[i].object[_IS_ANIMATED] = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> <br><p>  Now they are smoothly repainted immediately when you hover the mouse.  Thus, using symbols, you can quickly add similar checks in animations without saving the states of all the balls in a separate place. </p><br><h2 id="vsplyvayuschie-podskazki">  Tooltips </h2><br><p>  The last thing we‚Äôll do today is tooltips.  This task is often found.  For a start, we just need to impose them. </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'popup-3d'</span></span></span><span class="hljs-tag">&gt;</span></span>  !<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.popup-3d</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: <span class="hljs-number"><span class="hljs-number">#fff</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">font-family</span></span>: <span class="hljs-string"><span class="hljs-string">'Pacifico'</span></span>, cursive; <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">10rem</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">pointer-events</span></span>: none; }</code> </pre> <br><blockquote>  Do not forget to disable pointer-events if they are not necessary. </blockquote><p>  It remains to add CSS3DRenderer.  This is not really a renderer at all; it‚Äôs rather a thing that simply adds CSS transformations to the elements and it seems that they are in a common scene.  For pop-up labels - this is just what you need.  Make the global variable CSSRENDERER, initialize it and do not forget to call the function render itself.  Everything looks like a normal renderer: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initCSSRenderer</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ CSSRENDERER = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.CSS3DRenderer(); CSSRENDERER.setSize(<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.innerWidth, <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.innerHeight); CSSRENDERER.domElement.style.position = <span class="hljs-string"><span class="hljs-string">'absolute'</span></span>; CSSRENDERER.domElement.style.top = <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">render</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ CAMERA.lookAt(SCENE.position); RENDERER.render(SCENE, CAMERA); CSSRENDERER.render(SCENE, CAMERA); }</code> </pre> <br><p>  At the moment, nothing happened.  Actually, we did not do anything.  We initialize the pop-up element, we can immediately play with its size and position in space: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initPopups</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> popupSource = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelector(<span class="hljs-string"><span class="hljs-string">'.popup-3d'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> popup = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.CSS3DObject(popupSource); popup.position.x = <span class="hljs-number"><span class="hljs-number">0</span></span>; popup.position.y = <span class="hljs-number"><span class="hljs-number">-10</span></span>; popup.position.z = <span class="hljs-number"><span class="hljs-number">30</span></span>; popup.scale.x = <span class="hljs-number"><span class="hljs-number">0.05</span></span>; popup.scale.y = <span class="hljs-number"><span class="hljs-number">0.05</span></span>; popup.scale.z = <span class="hljs-number"><span class="hljs-number">0.05</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(popup); SCENE.add(popup); }</code> </pre> <br><p>  Now we see the inscription ‚Äúin 3D‚Äù.  In fact, it is not entirely in 3D, it lies on top of the canvas, but for hints it is not so important, the effect is important. </p><br><p>  It remains the final touch - to smoothly show the inscription in a certain range of angles.  Use the global symbol again: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> _IS_VISIBLE = <span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>(<span class="hljs-string"><span class="hljs-string">'is visible'</span></span>);</code> </pre> <br><p>  And we update the state of the pop-up element depending on the angle of rotation of the camera: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updatePopups</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> popupSource = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelector(<span class="hljs-string"><span class="hljs-string">'.popup-3d'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> angle = CONTROLS.getAzimuthalAngle(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.abs(angle) &gt; <span class="hljs-number"><span class="hljs-number">.9</span></span> &amp;&amp; popupSource[_IS_VISIBLE]) { anime({ <span class="hljs-attr"><span class="hljs-attr">targets</span></span>: popupSource, <span class="hljs-attr"><span class="hljs-attr">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">easing</span></span>: <span class="hljs-string"><span class="hljs-string">'easeInOutQuad'</span></span> }); popupSource[_IS_VISIBLE] = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.abs(angle) &lt; <span class="hljs-number"><span class="hljs-number">.9</span></span> &amp;&amp; !popupSource[_IS_VISIBLE]) { anime({ <span class="hljs-attr"><span class="hljs-attr">targets</span></span>: popupSource, <span class="hljs-attr"><span class="hljs-attr">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">easing</span></span>: <span class="hljs-string"><span class="hljs-string">'easeInOutQuad'</span></span> }); popupSource[_IS_VISIBLE] = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } }</code> </pre> <br><p>  Everything is quite simple.  Now the inscription smoothly appears and disappears.  You can add an auto-rotate and enjoy the result. </p><br><pre> <code class="javascript hljs">CONTROLS.autoRotate = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; CONTROLS.autoRotateSpeed = <span class="hljs-number"><span class="hljs-number">-1.0</span></span>;</code> </pre> <br><p><img src="https://habrastorage.org/webt/w6/c3/54/w6c354h5duszg2rud08wc237mwq.jpeg"></p><br><h2 id="zaklyuchenie">  Conclusion </h2><br><p>  Today we looked at how to display three-dimensional models to your page, how to twist them with a mouse, how to make tooltips, how to react to pointing the mouse at certain parts of the model and how to use symbols in the context of various animations.  I hope this information will be useful.  Well, everyone with the coming, now you know what you can learn on holidays. </p><br><p>  PS: The full source code of the example with a Christmas tree is available <a href="https://github.com/sfi0zy/christmas-tree">on the githab</a> . </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/433876/">https://habr.com/ru/post/433876/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../433866/index.html">‚ÄúHomemade lokalki‚Äù revived in the form of mesh networks. LibreRouter and other free routers</a></li>
<li><a href="../433868/index.html">Why the Alphabet glucose meter didn't take off</a></li>
<li><a href="../433870/index.html">Why is it so difficult to continuously measure glucose levels?</a></li>
<li><a href="../433872/index.html">Mobile access - using a smartphone in access control systems</a></li>
<li><a href="../433874/index.html">Experiments with Neural Interfaces in JavaScript</a></li>
<li><a href="../433878/index.html">KVM, PCI passthrough, Looking Glass and all-all</a></li>
<li><a href="../433880/index.html">Life hacks for developers: efficient use of SQ (Source Qualifier) ‚Äã‚Äãin the Informatica Power Center</a></li>
<li><a href="../433884/index.html">Legal aspects of video surveillance: how to avoid problems with the law</a></li>
<li><a href="../433886/index.html">Python machine learning with interactive Jupyter demos</a></li>
<li><a href="../433888/index.html">Application of lithium-ion batteries in single-phase UPS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>