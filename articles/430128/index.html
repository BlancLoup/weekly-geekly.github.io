<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Development through testing: improving skills</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Testing is an important skill that every developer must possess. However, some do it reluctantly. 

 Each of us came across a developer who argued tha...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Development through testing: improving skills</h1><div class="post__text post__text-html js-mediator-article">  Testing is an important skill that every developer must possess.  However, some do it reluctantly. <br><br>  Each of us came across a developer who argued that tests are useless, they require too much effort, and indeed his code is so excellent that no tests are needed.  Do not believe.  Testing is extremely important. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ab4/edf/d25/ab4edfd25cd910ea1823d5e0324ae042.jpg" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Tests make your code more stable and reduce the number of bugs.  It seems to you that this is not the case, because you know every bit of your code.  After all, you wrote it, why else tests? <br><br>  Suppose you are creating an application for the weather.  You wrote the code a few days or weeks, so you know the code inside and out. <br><a name="habracut"></a><br>  Now imagine that you have finished work on the application and will return to it in a few months.  You will not remember every detail of the old code.  You change it ... and damn it ... something broke.  How do you fix this?  Look at each file created and set it up so that it works again?  Maybe it will.  But changing this file will break something else. <br><br>  Take another example.  After several months of hard work, you finally got the position you have long wanted!  You join a team and start creating something.  You work with other developers code and vice versa.  And one day everything breaks down.  If the team did not integrate the tests into your application, I do not envy you. <br><br>  Each team must write tests when it creates software or applications.  You do not want to be a person who does not know how to test? <br><br>  Yes, writing tests takes time.  Yes, at first it is difficult.  Yes, creating applications is more interesting.  But tests are important and save time if they are correctly implemented. <br><br>  My goal today is to improve testing skills.  We will look at unit testing and development through testing with Jest (a JavaScript testing tool).  Of course, there are other testing tools that you can use, such as Mocha and Chai. <br><br>  <b>Let's start!</b> <br><br><h3>  Unit testing </h3><br>  When you decide to test an application, you encounter various types of testing: unit testing (unit), integration tests, and functional tests.  Let's stop on modular tests. <br><br>  Functional and integration tests are just as important, but they are more difficult to set up and implement than unit tests.  In a nutshell, a unit test consists of testing small parts of your code: functions, class methods, etc. You input data and confirm that you have received the expected result. <br><br>  <i>Advantages of unit testing:</i> <br><br><ul><li>  Makes code more stable; </li><li>  Facilitates changes in the implementation of a function without changing its behavior; </li><li>  Documents your code.  You will soon understand why. </li><li>  Makes you do the right design.  Indeed, poorly developed code is often more difficult to test. </li></ul><br>  <b>Testing Development (TDD)</b> <br><br>  To understand and use development through testing, remember these 2 rules: <br><br><ol><li>  Write a test that fails before writing code. </li><li>  Then write the code that can pass the test. </li></ol><br>  When we use TDD, we are talking about the ‚Äúred, green, refactor‚Äù cycle. <br><br>  Red: you write a failed test without writing code. <br><br>  Green: write the simplest code that can pass the test.  Even if the code seems to you the most stupid. <br><br>  Refactor: code refactoring, if necessary.  Do not worry if you change the code and your unit tests break if something goes wrong. <br><br><h3>  Structuring a test file </h3><br>  Jest provides functions for structuring tests: <br><br>  <i>describe is</i> used to group your tests and describe the behavior of your function / module / class.  It takes two parameters.  The first is a string describing your group.  The second is a callback function in which you have test examples or hook functions. <br><br>  <i>it or test:</i> your unit test.  Parameters are the same as with describe.  Must be descriptive.  The naming of the test is up to you, but you can start with "should". <br><br>  <i>beforeAll (afterAll): the</i> hook function runs all tests before (and after).  Accepts one parameter, which is a function that you will run before (and after) all tests. <br><br>  <i>beforeEach (afterEach):</i> hook function that is executed before (and after) each test.  It takes one parameter, which is a function that you will run before (and after) each test. <br><br>  Before you write any test, you should know the following: <br><br>  You can skip the test using <i>.skip</i> on <i>describe</i> and <i>it</i> : <i>it.skip (...)</i> or <i>describe.skip (...)</i> .  Using <i>.skip</i> , you tell Jest to ignore a test or group. <br><br>  You can choose exactly the tests you want to run using <i>.only</i> on <i>describe</i> and <i>it</i> : <i>it.only (...)</i> or <i>describe.only (...)</i> .  This is useful if you have a lot of tests and you want to focus only on one thing or you want to ‚Äúdebug‚Äù your tests. <br><br><h3>  Jest setting </h3><br>  In order to show you the testing functions that we discussed above, we need to configure Jest.  It is very simple. <br><br>  You need only Node.js and npm or Yarn.  Make sure you are using the latest version of Node.js, since we will be using ES6.  Create a new directory and initialize it. <br><br><pre><code class="plaintext hljs">mkdir test-example &amp;&amp; cd test-example npm init -y # OR yarn init -y</code> </pre> <br>  -y answers ‚Äúyes‚Äù to all questions npm or yarn.  He had to create a very simple package.json file. <br><br>  Then add the <i>Jest</i> to the development environment. <br><br><pre> <code class="plaintext hljs">yarn add jest --dev</code> </pre> <br>  Then add the following script to your <i>package.json</i> : <br><br><pre> <code class="plaintext hljs">"scripts": { "test": "jest" }</code> </pre> <br>  <i>yarn test</i> will run your test files in the directory.  By default, the Jest recognizes files that are inside the __tests__ directory, or files that end in .spec.js, or .test.js. <br><br>  That's all.  You are ready to write the first test. <br><br><h3>  Matchers </h3><br>  When you check something, you need an input and an expected result.  This is why Jest provides samples for checking our values: <br><br><pre> <code class="plaintext hljs">expect(input).matcher(output)</code> </pre> <br>  Jest has many samples, here is the most important: <br><br>  toBe: compares strict equality (===). <br><br><pre> <code class="plaintext hljs">expect(1 + 1).toBe(2) let testsAreEssential = true expect(testAreEssential).toBe(true)</code> </pre> <br>  toEqual: compares values ‚Äã‚Äãbetween two variables, arrays or objects. <br><br><pre> <code class="plaintext hljs">let arr = [1, 2] arr.push(3) expect(arr).toEqual([1, 2, 3]) let x= 1 x++ expect(x).toEqual(2)</code> </pre> <br>  toBeTruthy (toBeFalsy): indicates whether the value is true (or false). <br><br><pre> <code class="plaintext hljs">expect(null).toBeFalsy() expect(undefined).toBeFalsy() expect(false).toBeFalsy() expect("Hello world").toBeTruthy() expect({foo: 'bar'}).toBeTruthy()</code> </pre> <br>  toContain: checks if the array contains an element. <br><br><pre> <code class="plaintext hljs">expect(['Apple', 'Banana', 'Strawberry']).toContain('Apple')</code> </pre> <br>  toThrow: checks if the function causes an error. <br><br><pre> <code class="plaintext hljs">function connect () { throw new ConnectionError() } expect(connect).toThrow(ConnectionError)</code> </pre> <br><h3>  First tests </h3><br>  Now we are going to write our first test and play with our functions.  First, create an example.spec.js file in your directory and paste in the following: <br><br><pre> <code class="plaintext hljs">describe('Example', () =&gt; { beforeAll(() =&gt; { console.log('running before all tests') }) afterAll(() =&gt; { console.log('running after all tests') }) beforeEach(() =&gt; { console.log('running before each test') }) afterEach(() =&gt; { console.log('running after each test') }) it('Should do something', () =&gt; { console.log('first test') }) it('Should do something else', () =&gt; { console.log('second test') }) })</code> </pre> <br>  Please note that we do not need to import all the functions that we use.  They are already provided by Jest. <br><br>  Run <i>yarn test</i> : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9dc/1a1/a75/9dc1a1a75508b0237c06dcf259895ba2.png" alt="image"><br><br>  Since you do not have statements in the tests, they will pass.  Have you seen different console.log instructions?  You should understand better how your functions and test cases work. <br><br>  Now remove all hook functions and add <i>.skip</i> to the first test: <br><br><pre> <code class="plaintext hljs">describe('Example', () =&gt; { it.skip('Should do something', () =&gt; { console.log('first test') }) it('Should do something else', () =&gt; { console.log('second test') }) })</code> </pre> <br>  Run <i>yarn test</i> again: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b84/838/421/b848384216694e15463eb07d0a19864a.png" alt="image"><br><br>  It's okay if the first test will not work. <br><br>  Add a third test and use <i>.only</i> : <br><br><pre> <code class="plaintext hljs">describe('Example', () =&gt; { it('Should do something', () =&gt; { console.log('first test') }) it('Should do something else', () =&gt; { console.log('second test') }) it.only('Should do that', () =&gt; { console.log('third test') }) })</code> </pre> <br>  <i>Run the yarn test again</i> : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bbe/7e7/4ba/bbe7e74ba45c7e52efafa9242f3bbbca.png" alt="image"><br><br>  In the second part of the article, we will make a simple implementation of the stack in JavaScript using TDD. </div><p>Source: <a href="https://habr.com/ru/post/430128/">https://habr.com/ru/post/430128/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../430116/index.html">Computers write prose, but still give way to people. Why?</a></li>
<li><a href="../430118/index.html">Unity3D: Modifying the delegate of an iOS application</a></li>
<li><a href="../430120/index.html">Tame the beast. What did we encounter when developing an application for keeping a personal journal on React Native?</a></li>
<li><a href="../430122/index.html">Workaholism is a painful condition that is not customary to talk about</a></li>
<li><a href="../430126/index.html">Another list of projects on what to practice</a></li>
<li><a href="../430132/index.html">What we learned about Intel ME security in recent years: 7 facts about the mysterious subsystem</a></li>
<li><a href="../430134/index.html">Trading robot optimization algorithms: an effective way to trade a million in hindsight</a></li>
<li><a href="../430136/index.html">How Starlink will launch - satellite Internet from Ilona Mask</a></li>
<li><a href="../430138/index.html">Optimizing the trading robot: a genetic algorithm</a></li>
<li><a href="../430140/index.html">Five reasons for SEO failure. Analysis of unsuccessful promotion experience with examples</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>