<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>learnopengl. Lesson 1.2 - Creating a window</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the last lesson we figured out what OpenGL is. In this tutorial, we‚Äôll talk about the reason why GLFW, GLEW, and CMake are needed, and also look at...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>learnopengl. Lesson 1.2 - Creating a window</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/web/c9e/9b2/a3b/c9e9b2a3baf749ab8e2b385c6d93d966.png" align="left" width="300">  In the last lesson we figured out what OpenGL is.  In this tutorial, we‚Äôll talk about the reason why GLFW, GLEW, and CMake are needed, and also look at how to use them.  And also let's refresh in memory the difference between static and dynamic linking. <br><br>  Interested please under the cat. <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Content</b> <div class="spoiler_text">  Part 1. Start <br><br><ol><li>  <a href="https://habrahabr.ru/post/310790/">Opengl</a> </li><li>  <a href="https://habrahabr.ru/post/311198/">Creating a window</a> </li><li>  <a href="https://habrahabr.ru/post/311234/">Hello window</a> </li><li>  <a href="https://habrahabr.ru/post/311808/">Hello triangle</a> </li><li>  <a href="https://habrahabr.ru/post/313380/">Shaders</a> </li><li>  <a href="https://habrahabr.ru/post/315294/">Textures</a> </li><li>  <a href="https://habrahabr.ru/post/319144/">Transformations</a> </li><li>  <a href="https://habrahabr.ru/post/324968/">Coordinate systems</a> </li><li>  <a href="https://habrahabr.ru/post/327604/">Camera</a> </li></ol><br>  Part 2. Basic lighting 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li>  <a href="https://habrahabr.ru/post/329592/">Colors</a> </li><li>  <a href="https://habrahabr.ru/post/333932/">Lighting Basics</a> </li><li>  <a href="https://habrahabr.ru/post/336166/">Materials</a> </li><li>  <a href="https://habrahabr.ru/post/337550/">Texture Cards</a> </li><li>  <a href="https://habrahabr.ru/post/337642/">Sources of light</a> </li><li>  <a href="https://habrahabr.ru/post/338254/">Multiple light sources</a> </li></ol><br>  Part 3. Loading 3D Models <br><br><ol><li>  <a href="https://habrahabr.ru/post/338436/">Assimp library</a> </li><li>  <a href="https://habrahabr.ru/post/338436/">Mesh mesh class</a> </li><li>  <a href="https://habrahabr.ru/post/338998/">3D model class</a> </li></ol><br>  Part 4. OpenGL advanced features <br><br><ol><li>  <a href="https://habrahabr.ru/post/342610/">Depth test</a> </li><li>  <a href="https://habrahabr.ru/post/344238/">Stencil test</a> </li><li>  <a href="https://habrahabr.ru/post/343096/">Mixing colors</a> </li><li>  <a href="https://habrahabr.ru/post/346964/">Face clipping</a> </li><li>  <a href="https://habrahabr.ru/post/347354/">Frame buffer</a> </li><li>  <a href="https://habrahabr.ru/post/347750/">Cubic cards</a> </li><li>  <a href="https://habrahabr.ru/post/350008/">Advanced data handling</a> </li><li>  <a href="https://habrahabr.ru/post/350156/">Advanced GLSL</a> </li><li>  <a href="https://habrahabr.ru/post/350782/">Geometric shader</a> </li><li>  <a href="https://habrahabr.ru/post/352962/">Instancing</a> </li><li>  <a href="https://habrahabr.ru/post/351706/">Smoothing</a> </li></ol><br>  Part 5. Advanced Lighting <br><br><ol><li>  <a href="https://habrahabr.ru/post/353054/">Advanced lighting.</a>  <a href="https://habrahabr.ru/post/353054/">Model Blinna-Phong.</a> </li><li>  <a href="https://habrahabr.ru/post/353632/">Gamma Correction</a> </li><li>  <a href="https://habrahabr.ru/post/353956/">Shadow maps</a> </li><li>  <a href="https://habr.com/post/354208/">Omnidirectional shadow maps</a> </li></ol><br></div></div><br><h1>  Part 1.2 - Creating a window </h1><br>  Before we start creating stunning graphics, we need to create a context and an application window in which we will draw these graphics.  But, unfortunately, these operations are specific to each operating system and OpenGL tries its best to abstract from these operations.  This means that we will have to create the window, define the context and work with user input. <br><br><h2>  GLFW </h2><br>  GLFW is a library written in C that is specifically aimed at providing OpenGL with the most essential content to draw to the screen.  It allows us to create a context, define window parameters and work with user input, and that‚Äôs all it needs right now. <br><br>  Basically, in this and the next lesson, we will make GLFW work normally, check the creation of the OpenGL context and draw the window in which we will draw the graphics.  This lesson will tell you step by step about building and linking the GLFW library.  For this tutorial, we will use Microsoft Visual Studio 2012 (note that the process will be slightly different for other VS versions).  If you do not use VS - then do not worry, this process is very similar for all IDEs. <br><br><h3>  Build GLFW </h3><br>  GLFW can be downloaded from the download <a href="http://www.glfw.org/download.html">page of the</a> official site.  GLFW comes with precompiled binaries and header files for VS, but for the sake of completeness, we will compile the GLFW ourselves.  So let's download the source package. <br><br><blockquote>  If you are using precompiled binaries - make sure that you have downloaded the 32 bit version, and not the 64 bit version.  (If you do not know what the difference is).  Since the 64 bit version generates a rather strange behavior for most readers. </blockquote><br>  After you download the package - unzip it.  We are interested in the following elements: <br><br><ul><li>  Compilation result </li><li>  Folder <b>include</b> </li></ul><br>  Building a library from source code ensures that the resulting library will work perfectly on your CPU / OS, which is not the case with the precompiled libraries that are supplied (sometimes they are simply not available for your system).  The main problem of providing source code to the world is that not everyone uses the same IDE to develop their application, which means that Project files may simply be incompatible with other IDEs.  And because of this, people have to collect their own projects with their hands, which is obviously not very convenient.  Specifically, in order to avoid this problem, CMake was invented. <br><br><h3>  CMake </h3><br>  CMake is a tool for generating Project / Solution files for an IDE selected by a user (Visual Studio, Code :: Blocks, Eclipse) from a set of source codes and CMake scripts.  This configuration allows Visual Studio 2012 to generate project files so that we can easily build the library.  First we need to download CMake, you can do it on <a href="http://www.cmake.org/cmake/resources/software.html">the download page</a> .  I am using Win32 installer. <br><br>  Once CMake is installed, you can choose to launch CMake from the console or as a graphical application.  Since we try not to overload the lessons, we will choose a graphical application.  CMake requires you to specify the source code directory and the folder where the result will be written as binary files.  In the quality of the source code directory, we specify the root folder of the unpacked GLFW package with the source code, and as the folder for binary files, we specify the new directory <i>&lt;build</i> . <br><br><img src="https://habrastorage.org/files/c6e/e02/104/c6ee0210443c4119b4b91dba6678dd03.png"><br><br>  After installing the required directories, click <b>Configure</b> , so CMake would read the required settings and source code.  Then we need to choose a generator for the project.  Since we are going to use Visual Studio 2012 we select Visual Studio 11 (Visual Studio 2012 is also known as Visual Studio 11).  Next CMake will display the possible assembly settings, you can leave them unchanged by clicking <b>Configure</b> again to save them.  After saving the settings, we can proceed to the generation of the project, to do this, click on <b>Generate</b> and the project files will be created in the <b>build</b> folder. <br><br><h3>  Compilation </h3><br>  The <b>GLFW.sln</b> file appeared in the <b>build</b> folder, open it with Visual Studio.  CMake had to generate a project with all the required settings, so just start the build by clicking on the <b>Build Solution</b> and as a result we get <b>glfw3.lib</b> (we are using version 3) in the <b>src / Debug</b> folder, <br><br>  After the library has been generated, you need to make sure that the IDE knows where to look for the library and header files.  There are 2 ways to do this: <br><br><ol><li>  We search for the <b>/ lib</b> and <b>/ include</b> folders of the IDE or Compiler and add the <b>include</b> folder and <b>lib</b> from GLFW.  This will work, but it's better not to do that.  This method is difficult to track and you will lose all files when you reinstall or change the compiler / IDE. <br><br></li><li>  The recommended way is to create a set of directories containing all the header files and third-party libraries that you could refer to when using your IDE or Compiler.  Personally, I use the same folder containing the <b>Libs</b> and <b>Include</b> folders where I store all my header files and libraries for OpenGL projects.  Now all my third-party libraries are in one place (and easily moved between different PCs).  The only drawback is the need for each new project to specify the location of this folder. </li></ol><br>  Upon completion of your chosen action, you can proceed to creating our first OpenGL project with GLFW. <br><br><h2>  Our first project </h2><br>  First, let's open Visual Studio and create a new project.  Select Visual C ++ and Empty Project (don't forget to give the project an acceptable name).  We now have a workspace to create our first application using OpenGL. <br><br><h3>  Linking </h3><br>  To use GLFW, we also need to associate it with our project.  This is done by indicating that we want to use <b>glfw3.lib</b> in the linker settings, but our project still doesn‚Äôt know where to look for <b>glfw3.lib</b> (if you didn‚Äôt select option 1 while solving the problem with the location of the library files), respectively, we need to add these directories in the project. <br><br>  We can add those directories, for this go to <b>VC ++ Directories</b> , as shown in the image below: <br><br><img src="https://habrastorage.org/files/d72/d0d/51e/d72d0d51e34449b6ab637c7bcdc7f402.png"><br><br>  And from there you can add your own directories so that the project knows where to look for the required files.  This can be done manually, simply by inserting the path into the text field, or by clicking on <b>Edit ...</b> where you can add values ‚Äã‚Äãin a special window. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/ff5/707/86b/ff570786b59e408fa6855f35e442c1d9.png"></div><br>  Here you can add as many directories as you like, and the IDE will also search for the required files there.  Now that the <b>Include</b> folder is listed for the environment, you can find all the required GLFW header files in &lt;GLFW / ..&gt;.  The same applies to the library directory. <br><br>  And after Visual Studio found out where to look for the required libraries, we can finally link GLFW and our project: <br><br><img src="https://habrastorage.org/files/789/921/866/78992186600d4ee5a9f1979a7ef5292d.png"><br><br>  Here you need to specify the name of the link library, in our case it is <b>glfw3.lib</b> and we add it to the <b>Additional Dependencies</b> field (you can also do this by changing your hands or using the <b>&lt;Edit ...&gt;</b> button) and now GLFW will link to the project during compilation.  You also need to specify the OpenGL library, but this process is different for different operating systems. <br><br><h3>  OpenGL library for Windows </h3><br>  If you are using Windows, the library called <b>opengl32.lib</b> comes with the Microsoft SDK, which is installed by default when you install Visual Studio.  Since in this tutorial we already use Visual Studio - here it will be enough just to add <b>opengl32.lib</b> to the linker settings. <br><br><h3>  OpenGL library for Linux </h3><br>  On Linux systems, you need to use the <b>libGL.so</b> library, using the <b>-lGL</b> flag in the linker settings.  If you can not find this library, then you probably need to put Mesa, NVidia or AMD dev packages, but I will not go into details, since it is very specific for the platform (plus I am not a Linux expert). <br><br>  At the end of adding GLFW and OpenGL libraries to the linker settings, you can connect GLFW as follows: <br><br><pre><code class="hljs cpp"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;GLFW\glfw3.h&gt;</span></span></span></span></code> </pre> <br>  This is the final stage of installing and configuring OpenGL. <br><br><h2>  GLEW </h2><br>  But we haven't finished setting up OpenGL.  Something else needs to be done.  Since OpenGL is only a specification, the implementation falls on the shoulders of video card developers.  For this reason, since there are many implementations of OpenGL, the actual location of OpenGL functions is not available at compile time and must be obtained at run time.  In fact, getting the addresses of functions falls on the programmer‚Äôs shoulders.  The process of obtaining addresses specific to each platform, for Windows, it looks like this: <br><br><pre> <code class="hljs vhdl">//    typedef void (*GL_GENBUFFERS) (GLsizei, GLuint*); //           GL_GENBUFFERS glGenBuffers = (GL_GENBUFFERS)wglGetProcAddress(<span class="hljs-string"><span class="hljs-string">"glGenBuffers"</span></span>); //        GLuint <span class="hljs-keyword"><span class="hljs-keyword">buffer</span></span>; glGenBuffers(<span class="hljs-number"><span class="hljs-number">1</span></span>, &amp;<span class="hljs-keyword"><span class="hljs-keyword">buffer</span></span>);</code> </pre><br>  As you can see, the code looks rather confusing, and the need to produce an address for each OpenGL function makes this process just painful.  But fortunately there are libraries that implement this dynamic linking and one of the most popular libraries is <b>GLEW</b> <br><br><h3>  Building and Linking GLEW </h3><br>  GLEW stands for OpenGL Extension Wrangler Library and manages all the cumbersome work mentioned above.  Since GLEW is also a library, we will again have to assemble it and link it with our project.  GLEW can be downloaded from the <a href="http://glew.sourceforge.net/index.html">official page</a> , where you will find both precompiled libraries and the source code.  And again, I repeat: if you are not sure what bitiness to use, use the 32 bit version. <br><br>  We will use the <i>static</i> version of GLEW, which is called <b>glew32s.lib</b> (note the `s` prefix).  Therefore, add it to your folder with libraries, and also add header files to your folder with header files.  Now we can link GLEW to the project by adding <b>glew32s.lib</b> to the linker settings in Visual Studio.  Notice that GLFW3 is built by default as a static library. <br><br><blockquote>  <b>Static</b> linking means that the library will be integrated with the executable file at compile time.  The advantage of this approach is that you do not need to keep track of additional files besides the executable file.  The disadvantages of this approach are that the executable file grows in size and that when updating the library you have to recompile the executable file. <br><br>  <b>Dynamic</b> linking is done using .dll and .so files, splitting the library code and application code, reducing the size of the executable file and simplifying updating the library.  The disadvantage of this approach is the fact that you have to release the DLL files along with the final application. </blockquote><br>  If you want to use GLEW as a static library, then before connecting GLEW you should set the preprocessor variable <b>GLEW_STATIC</b> . <br><br><pre> <code class="hljs cpp"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> GLEW_STATIC #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;GL/glew.h&gt;</span></span></span></span></code> </pre><br>  If you want dynamic linking, then you can omit the GLEW_STATIC preprocessor variable task.  Remember that if you use dynamic linking then you will have to copy the .DLL file to the folder with the executable file. <br><br><blockquote>  For Linux users compiling a project using GCC in an assembly, the following keys can help: <br><br>  -lGLEW -lglfw3 -lGL -lX11 -lpthread -lXrandr -lXi. <br><br>  Incorrect use of these keys can lead to a lot of undefined behavior. <br></blockquote><br>  Now that we have finally compiled and linked GLFW and GLEW, we are all set for the next lesson in which we will discuss how to use GLFW and GLEW to set up an OpenGL context and create a window.  Make sure that your directories with header files and library files are correct and that there are no errors in the library names in the linker settings.  If you are stuck - check the comments on the source article or other sources, perhaps you made some specific error. <br><br><h2>  Additional resources </h2><br><ul><li>  <a href="http://www.opengl-tutorial.org/miscellaneous/building-your-own-c-application/">Build applications</a> : provides detailed information about the process of linking and compiling an application with a large number of different possible errors; </li><li>  <a href="http://wiki.codeblocks.org/index.php%3Ftitle%3DUsing_GLFW_with_Code::Blocks">GLFW with Code :: Blocks</a> : build GLFW to Code :: Blocks IDE; </li><li>  <a href="http://www.cmake.org/runningcmake/">Starting CMake</a> : a small lesson about running CMake under Windows and Linux; </li><li>  <a href="http://learnopengl.com/demo/autotools_tutorial.txt">Writing a build system for Linux</a> : a lesson on autotools from Wouter Verholds describing the process of writing a build system in Linux specially configured for these lessons; </li><li>  <a href="https://github.com/Polytonic/Glitter">Polytonic / Glitter</a> : a simple template project that comes pre-configured with all the required libraries;  ideal if you want to see an example of a fully working LearnOpenGL project. </li></ul></div><p>Source: <a href="https://habr.com/ru/post/311198/">https://habr.com/ru/post/311198/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../311188/index.html">FSTEC: firewall requirements</a></li>
<li><a href="../311190/index.html">Innopolis University will help prepare IT professionals for free</a></li>
<li><a href="../311192/index.html">The Game of Java: Java Conference in Kiev, October 14-15, 2016</a></li>
<li><a href="../311194/index.html">10 career mistakes I regret</a></li>
<li><a href="../311196/index.html">Battle of droids and jedi on cellular automaton</a></li>
<li><a href="../311200/index.html">Format preserving encryption or how to correctly encrypt credit card numbers</a></li>
<li><a href="../311202/index.html">The best vacancies at My Circle for the week, September 12-18</a></li>
<li><a href="../311204/index.html">Mobile user behavior scenarios have pushed Google AdWords to introduce end-to-end remarketing</a></li>
<li><a href="../311206/index.html">Launching a payment aggregator or e-wallet: features of Russian legislation and success secrets</a></li>
<li><a href="../311208/index.html">Microservices: please do not need</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>