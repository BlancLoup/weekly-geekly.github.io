<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Organization of musical accompaniment of the trading hall</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good afternoon, evening or night, it all depends on the time of day in which you happened to read my article. 

 In connection with the opening of the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Organization of musical accompaniment of the trading hall</h1><div class="post__text post__text-html js-mediator-article">  Good afternoon, evening or night, it all depends on the time of day in which you happened to read my article. <br><br>  In connection with the opening of the sales area, the task was set to organize background music in the sales area, namely: <br><br>  - Broadcast from the main office of the prepared music; <br>  - Management only from the central office, without access by the staff of the sales area; <br>  - Periodic reproduction of advertising (requires a daily change of commercials; <br>  - Work only during the opening hours of the trading hall; <br>  - Without the purchase of additional equipment and software. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      What we have: <br><br>  - Container LXC Ubuntu Server 16.04 (Memory 1Gb, HDD 32 Gb); <br>  - VPN network with a trading floor; <br>  - Old computer (Celeron 800, Memory 256 Mb, WinXP): <br>  - An audio system with an amplifier (leased) was prepared. <br><br>  For the basis of the article were taken: <br><br>  - <a href="https://habrahabr.ru/post/129460/">Online radio do it yourself</a> ; <br>  - <a href="https://geektimes.ru/post/256834/">Control of the radio through the browser</a> ; <br>  - <a href="https://habrahabr.ru/post/220123/">Internet radio with a host of leading from different cities and calls live</a> ; <br>  - <a href="https://habrahabr.ru/post/156591/">Internet radio station on Liquidsoap + IceCast</a> . <br><a name="habracut"></a><br>  It was originally planned to do everything on the basis of <a href="https://www.sourcefabric.org/en/airtime/">AirTime</a> , but since the Open source project has not been abandoned for 3 years and the maximum that could be put on Ubuntu server 14.04, I had to look for another product, at that moment the search engine issued fork AirTime, namely <a href="http://libretime.org/">LibreTime</a> . <br><br>  The installation process is trivial and requires a minimum of actions, namely: <br>  Download the source and set: <br><br><pre><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">git</span></span> clone https://github.com/libretime/libretime.git cd libretime sudo ./install</code> </pre> <br>  Immediately about the nuances: <br><br>  - While there are no finished packages, but the development team is planning to release them; <br>  - When installing, you can use the keys, then the whole process will go without participation, the keys can be recognized by the command <code>sudo ./install --help</code> ; <br>  - In the active mode, be sure to manually specify the keys <code>y</code> or <code>n</code> , the register is required; <br>  - After the initial configuration, which is done via the web interface, it is necessary to reload linux, otherwise you cannot add files to the library, or rather, they will be uploaded to the server but will not be displayed; <br>  - I use 3 streams with different bitrates, for this in icecast2 the sources limit streams were increased, in the file icecast.xml. <br><br>  The interface is pretty clear, besides Russified.  The main page (data from the test bench, a web stream is used for the location of the local library, the admin login section is also removed): <br><br><img src="https://habrastorage.org/webt/_k/lx/dc/_klxdch5ju_jobkaygvm49tn_j4.jpeg"><br><br>  Login page: <br><br><img src="https://habrastorage.org/webt/bs/4q/4x/bs4q4xdsermwsvcnlyvc2r-fmes.jpeg"><br><br>  Desktop: <br><br><img src="https://habrastorage.org/webt/ak/6j/gg/ak6jggdcmnwiequfdifkhukpara.jpeg"><br><br>  My setup example: <br><br><img src="https://habrastorage.org/webt/j_/i5/ii/j_i5iizryxkyxr8yohva8nhf7sw.jpeg"><br><br>  In the sales area, a computer is connected to the amplifier and a broadcast from the central office is launched on it via VLC.  In the future, replace this case with a raspberry pi, and configure it so that if the connection with the central raspberry is lost, it loses the workpiece, and after the connection with the server is restored, it continues to broadcast the finished program. <br><br>  As a result, we have: <br><br>  - Trading room with music; <br>  - The staff of the sales area does not have access to music; <br>  - In the central office through the web interface of LibreTime, broadcast programs are configured; <br>  - The responsible person can change schedules. <br><br>  In perspective: <br><br>  - Replacing the old computer with raspberry pi; <br>  - User authentication based on Active Directory (this feature is provided in LibreTime). <br><br>  PS The fact that the decision is the most correct and so it is necessary for everyone to do, I do not pretend.  Just sharing one of the solutions.  Since the system is for internal use only, they did not make a ready-made solution. <br><br>  PS 2 We have a server located in the DMZ zone, access to the web interface via nginx proxy, while accessing only from certain subnets. <br><br>  PS 3 To someone of you, it may seem that my decision is not right, then you will be right in part, this decision is only for our company.  I will gladly read your decisions, maybe I will get something for myself.  So I wait for your publication with the "right decisions". </div><p>Source: <a href="https://habr.com/ru/post/345266/">https://habr.com/ru/post/345266/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../345256/index.html">‚ÄúVirtual University‚Äù: What VR-projects are being developed at ITMO University</a></li>
<li><a href="../345258/index.html">Telecommunications operators of the Russian Federation. 2017. Some Analytics</a></li>
<li><a href="../345260/index.html">Year of the bear. How Fancy Bear Spent 2017 Year</a></li>
<li><a href="../345262/index.html">How does it feel to create a game for Game Boy in 2017</a></li>
<li><a href="../345264/index.html">The effectiveness of advertising formats and networks in 2017: an analysis of 69 billion advertising hits</a></li>
<li><a href="../345268/index.html">What to recognize on mobile platforms?</a></li>
<li><a href="../345270/index.html">Networks for the smallest. Part fourteen. Package path</a></li>
<li><a href="../345274/index.html">How I wrote my own ERP system and what came of it</a></li>
<li><a href="../345276/index.html">One ordinary funny monday</a></li>
<li><a href="../345278/index.html">Implementing Search Using RxJava</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>