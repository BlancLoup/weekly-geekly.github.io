<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>About microcontrollers</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="About 55% of the processors sold in the world account for 8-bit microcontrollers. More than 4 billion 8-bit microcontrollers were sold in 2006. They a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>About microcontrollers</h1><div class="post__text post__text-html js-mediator-article">  About 55% of the processors sold in the world account for 8-bit microcontrollers.  More than 4 billion 8-bit microcontrollers were sold in 2006. They are installed in microwaves, washing machines, music centers ... At the same time, they are single-chip computers, with their processor, memory, I / O ports.  In the article I will try to briefly explain what kind of animals they are and how they are tamed. <br><a name="habracut"></a><br>  The topic is extensive and rather suitable for a multivolume book, if everything is disassembled, so the article will contain intentional simplifications and omissions of all sorts of subtleties.  I ask you not to judge strictly, I am far from professional in this topic, and this is my first article on Habr√©.  If posted to the wrong blog, please move to the desired one. <br><br>  A microcontroller is a single-chip computer.  In 1971, they invented to place the entire processor strapping (RAM, port controllers, ROM, etc.) on a single chip.  In 1980 intel already released the first microcontroller.  To date, the microcontroller chip contains a processor, flash memory for programs with a capacity of 1K - 256K;  32 B - 8KB SRAM (RAM);  64 B - 4KB EEPROM.  Clock frequency 1 - 16 MHz.  Of course, the numbers are only approximate, it all depends on the manufacturer and model.  Thus, the microcontroller has a Harvard architecture, i.e.  Separate memory data and programs. <br><br>  Naturally, without holivar not done here.  In the market, approximately 30% each is occupied by controllers from different manufacturers and architectures.  The old MCS-51 (8051) family, the PIC family from microchip and the AVR family from Atmel.  We do not consider any specialized microcontrollers.  (By the way, there is even ours, the domestic microcontroller KR1878BE1 (An15E03) from the Angstrom company, only for it the military and completed geeks write and develop on it, since there is neither developed support nor tools).  In those forums that I dwell, atmel microcontrollers are overwhelmingly used, so the further narration will be mostly about them.  Globally, they do not differ from PIC and others, the differences are only in parameters (speed, number of commands, memory, presence of peripherals ...). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Reasons for using microcontrollers. </h5><br>  Despite the fact that the microcontroller device is quite complicated, their use greatly simplifies the development of electronic devices.  Hardware circuit solutions are transferred to the program code plane.  The relay in the automation cabinet is replaced by a string on C.  This is achieved enormous flexibility, because most microcontrollers can be reflashed without removing from the board.  The alarm clock with the function of switching on the load (for example, a kettle) at a specified time can be hardware exactly the same as the microwave control unit, only the programs will differ.  It is because of this, when the manufacturer cannot afford to develop a specialized chip, he sets the entire logic of the program in the form of a program and sews it into the microcontroller. <br><br><h5>  What is the microcontroller programmed on? </h5><br>  Historically, the main language - assembler.  In particular, KR1878BE1 is programmed only in assembler.  For other microcontrollers, there are compilers for the C language.  For atmelovsky microcontrollers there is an open source WinAVR compiler (gcc port).  There is also a compiler for Bascom AVR BASIC, and even for Forth.  Initially, the architecture of AVR microcontrollers was optimized to ensure that programs written in C run faster. <br><br>  Consider an example. <br>  Let's take the ATMEGA8 microcontroller and look at what he can with his example. <br>  For 28 rubles.  (wholesale) / 41 rub.  (rozn) we get a chip that contains: <br>  ‚Ä¢ 8-bit RISC processor, 130 commands, most of which are executed in 1 clock cycle, 32 general-purpose registers.  Performance up to 16 MIPS at 16 MHz. <br>  ‚Ä¢ 8K flash memory for programs, 512 bytes of EEPROM memory, 1K SRAM <br>  ‚Ä¢ Two 8-bit and one 16-bit timer (allow you to generate pulses of a specified duration / count the pulses autonomously, without distracting the CPU) <br>  ‚Ä¢ 3 PWM channels <br>  ‚Ä¢ 8 channel ADC <br>  ‚Ä¢ Hardware module Two Wire Interface (I2C clone) <br>  ‚Ä¢ USART module <br>  ‚Ä¢ Analog comparator. <br>  ‚Ä¢ 23 I / O lines <br>  All details are described in the datasheet for this microcontroller: <a href="http://www.atmel.com/dyn/resources/prod_documents/doc2486.pdf">www.atmel.com/dyn/resources/prod_documents/doc2486.pdf</a> (308 pages, Eng.).  Among those produced by Atmel, this is not the weakest or the coolest microcontroller. <br>  Since the number of legs in a microcircuit is limited, almost all have 2 functions each, which can be switched by software. <br>  I / O lines are combined in groups of 8 into ports called PORTA, PORTB, etc.  Port and embedded peripherals are controlled by writing and reading data from special registers.  So for example, in order to set a high logic level (+5 V) on the third line of port A, you need to set the third bit in the PORTA register like this: <br>  PORTA | = (1 &lt;&lt; 3); <br>  And in order for example to measure the signal level at 1 output of the ADC, you need: <br><br> <code>ADCSRA |= (1&lt;&lt;6); //  ADSC     <br> //    13  <br> Result = ADCW; //    .</code> <br> <br>  The work with the rest of the microcontroller modules (USART, TWI, timers) is about the same - set the necessary bits to configure them, and pick up / write data in special registers. <br><br>  The microcontroller has an advanced interrupt system.  In order not to load the processor with a constant state check (whether the ADC conversion has completed, whether the timer counter has reached the required value, whether a signal has arrived at the port), interrupts are activated for the corresponding events and interrupt handlers are written. <br>  A microcontroller program is an endless loop.  For example, a program that will flash an LED connected to the 3 leg of port A: <br><br> <code>#include &lt;delay.h&gt; <br> void main (void) <br> { <br> while(1) <br> { <br> PORTA |= (1&lt;&lt;3); //  <br> delay_ms(100); <br> PORTA &amp;= ~(1&lt;&lt;3); <br> delay_ms(100); <br> }; <br> };</code> <br> <br>  Thus, it is clear that there is nothing difficult in microcontrollers, and almost everyone can, if they wish, make the necessary gadgets for themselves, such as a watch-shelf, published recently in habrahabr.  Also, I recently saw how the Arduino-based platform (the same microcontroller only soldered on the board and a bunch of terminals for connecting an external load) made a doorbell working with twitter (http://rooreynolds.com/2008/05/14/hacking-the -doorbell /) Due to the fact that enthusiasts have created libraries for working with common nodes (LCD screens, thermometers ...), the time and complexity of development are greatly reduced.  In the next article I will show how to make an electronic clock on a microcontroller in 1.5 days. </div><p>Source: <a href="https://habr.com/ru/post/37764/">https://habr.com/ru/post/37764/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../37760/index.html">Yandex.Maps updated</a></li>
<li><a href="../377603/index.html">Russian banks must register customers' smartphones and computers</a></li>
<li><a href="../37761/index.html">IPhone Hologram</a></li>
<li><a href="../37762/index.html">Registration on Habr√©</a></li>
<li><a href="../37763/index.html">Why do you need math?</a></li>
<li><a href="../37766/index.html">html omnicomplete</a></li>
<li><a href="../377663/index.html">SpaceX: no one laughs when we talk about the colonization of Mars</a></li>
<li><a href="../37767/index.html">Do not tell the customer a mobile phone number!</a></li>
<li><a href="../377673/index.html">The study of the phenomenon of "color hearing" showed that most of these people "see" the letters of the same color</a></li>
<li><a href="../37769/index.html">Social networks make friends with games</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>