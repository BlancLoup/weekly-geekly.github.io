<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Not a flux</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I'll tell you about another interpretation of Flux, or rather about a new approach in the development of interfaces - Not a Flux. The reader is suppos...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Not a flux</h1><div class="post__text post__text-html js-mediator-article">  I'll tell you about another interpretation of Flux, or rather about a new approach in the development of interfaces - Not a Flux.  The reader is supposed to at least read the Flux documentation. <br><br><img src="https://habrastorage.org/files/347/fbd/883/347fbd8832e24e88873c653f45041eea.jpg" width="400"><br><a name="habracut"></a><br><h2>  First about flux </h2><br>  What is Flux?  In short: this is not even a pattern, it is more a way of organizing the architecture of an application.  Consists of store, dispatcher, view.  A special feature of Flux is the unidirectional communication between system components through actions. <br><br><img src="https://habrastorage.org/files/568/e7e/de6/568e7ede69044cbda6848e218cb622d2.png" width="800">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Let's take a closer look at FLUX from react and MVC. <br><br>  According to the philosophy of react, allocate the <a href="https://facebook.github.io/flux/docs/overview.html">controller view and view</a> . <br><br>  The controller view is the parent for the other view, which is responsible for the logic of drawing its children, receives data from the model and gives them to children in props.  At the same time, Facebook engineers say that there is no controller in Flux.  Ummm ... then who draws the view, who determines which view you want to display?  Doesn't the Controller view do this? <br><br>  In the MVC model, this is the controller that communicates with the model, receives data from it, and draws the view.  In other words, the controller is an interlayer that works with data from the model, transmits them to twist and draws specific views, at a specific point in time, depending on external conditions.  Which also corresponds to the philosophy of <a href="https://facebook.github.io/react/docs/multiple-components.html">separation into components</a> .  We will not talk about those stupid controllers who do all the work or about those stupid views that also know about the model. <br><br>  Stateless View or just VIew, what is it?  In the new react, it became possible to create them even easier by declaring a regular function in a module, which returns the jsx template, i.e  in the mvc model, this is V (view).  They are called <a href="https://facebook.github.io/react/blog/2015/10/07/react-v0.14.html">stateless functional components</a> . <br><br>  In turn, I get the data model in the props with which this View works, a kind of View Model, i.e.  specially prepared data that is needed for a specific View. <br><br>  Flux works with data through a central repository called Store.  In turn, this is the M (Model) in the MVC pattern.  The difference is that the model knows about the dispatcher, but about this a little later and at the same time the Store is the central repository for everything and everyone, and also contains a certain state application.  And also, Facebook engineers say the Store contains logic, but which one? <br><br>  Thus, the controller function in MVC was blurred between the controller view and the <a href="https://facebook.github.io/flux/docs/overview.html">Store</a> .  Who worked with Backbone or with other frameworks, most likely faced with the problem of the need to store the state of the application.  This problem can be solved in different ways, but in most cases either the main controller, or urls, or localStorage were responsible for this. <br><br>  How do the children view, can signal the parent about the changes occurring in it and the actions that the user performs?  Signaling can be implemented in two ways: <br><br><ol><li>  via callbacks, passing them through <a href="https://facebook.github.io/react/docs/transferring-props.html">props</a> and calling <a href="https://facebook.github.io/react/tips/communicate-between-components.html">events</a> , for example, onChange.  This strategy is well suited for the development of individual reusable interface components: buttons, selects, autocomplete, and so on. </li><li>  using the <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D0%25BE%25D1%2581%25D1%2580%25D0%25B5%25D0%25B4%25D0%25BD%25D0%25B8%25D0%25BA_(%25D1%2588%25D0%25B0%25D0%25B1%25D0%25BB%25D0%25BE%25D0%25BD_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B5%25D0%25BA%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F)">Mediator</a> pattern via events, which in the reactor were called actions.  Yes, it is mediator in the <a href="https://ru.wikipedia.org/wiki/%25D0%2598%25D0%25B7%25D0%25B4%25D0%25B0%25D1%2582%25D0%25B5%25D0%25BB%25D1%258C-%25D0%25BF%25D0%25BE%25D0%25B4%25D0%25BF%25D0%25B8%25D1%2581%25D1%2587%25D0%25B8%25D0%25BA_(%25D1%2588%25D0%25B0%25D0%25B1%25D0%25BB%25D0%25BE%25D0%25BD_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B5%25D0%25BA%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F)">pub-sub</a> pattern that serves as a kind of pipe, where a lot of events pour in, and listeners can subscribe to the necessary events and work with them.  In FLUX, this is called the <a href="https://facebook.github.io/flux/docs/overview.html">Dispatcher</a> . </li></ol><br><h2>  About Actions </h2><br>  <a href="https://facebook.github.io/flux/docs/overview.html">Action</a> according to the philosophy of react consists of the name of this action and the data itself, which in turn resembles the usual event object in the pub-sub. <br><br><h2>  Now to practice </h2><br>  Consider a typical <a href="https://facebook.github.io/flux/docs/todo-list.html">TODO</a> example on a Flux site.  It clearly shows that the <a href="https://facebook.github.io/flux/docs/todo-list.html">controller</a> is allocated, which coordinates all the actions taking place in the dispatcher, climbs to the store at the right moment (model), more precisely subscribes to events, receives data from it, again through pub-sub events and throws them to the right descendants through props .  The only thing that is not clear is why should a regular button know about the Dispatcher and signal its actions?  How can I reuse this button in other views?  Much more flexible, it would be to use callback, and already in the parent View throw something in the Dispatcher. <br><br>  So what is Flux?  Flux is nothing more than a combination of the MVC / MVVM code structure pattern and the Mediator interaction pattern.  The fact that this connection is unidirectional is so clear why the descendants of the controller should be aware of the model, otherwise they cannot be reused elsewhere. <br><br><h2>  Life example </h2><br>  In the next article I will talk about the application of Not a Flux method in a real project to react. <br><br><h2>  PS </h2><br>  I suggest everyone who considers Flux to be new and is searching the Internet for various articles about Flux, like Flux for stupids, to use a completely new pattern, Not a Flux, consisting of two components: Brain and Design patterns. <br><br>  Which of these can be concluded?  In my opinion, one should not study flux and how to successfully use it in react applications, but study the basic patterns that are fundamental in software development, for example, structural patterns, interaction patterns, object creation patterns (factories), etc. Flux is just An example of how knowing these patterns can be an interaction between the components and an application. <br><br>  Criticism of the case and pointing out inaccuracies is welcome. <br><br><h2>  Literature </h2><br>  Who cares, I recommend to read a couple of books (you know where to find the links), if someone has not read them: <br><br><ul><li>  Learn Javascript Design Patterns by Addy Osmani </li><li>  Javascript Patterns by Stoyan Stefanov </li><li>  About <a href="https://facebook.github.io/react/">ReactJS</a> </li><li>  O <a href="https://facebook.github.io/flux/">Flux</a> </li></ul><br>  * All pictures are taken on the Internet </div><p>Source: <a href="https://habr.com/ru/post/270193/">https://habr.com/ru/post/270193/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../270181/index.html">Android and iOS applications send user data to third parties much more often than is commonly believed.</a></li>
<li><a href="../270185/index.html">CLion 1.2: even more features and benefits</a></li>
<li><a href="../270187/index.html">Build your own failover cloud based on OpenNebula with Ceph, MariaDB Galera Cluster and OpenvSwitch</a></li>
<li><a href="../270189/index.html">[Translation] Working with files in the programming language D</a></li>
<li><a href="../270191/index.html">On the thirtieth anniversary of the first C ++ compiler: look for errors in Cfront</a></li>
<li><a href="../270195/index.html">The book "The Perfect Programmer. How to become a software development professional?</a></li>
<li><a href="../270197/index.html">SAP - ABAP. Modifying a summary line in the ALV grid</a></li>
<li><a href="../270199/index.html">Translation agreement with Apple Developer Program License Agreement</a></li>
<li><a href="../270201/index.html">Solving the problem of credit scoring in the studio Microsoft Azure Machine Learning</a></li>
<li><a href="../270203/index.html">Snom C520 and C52 - space design and wide opportunities</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>