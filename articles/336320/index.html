<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Linux redirection</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="If you are already familiar with the basics of the terminal, you may already be ready to combine the learned commands. Sometimes it is enough to execu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Linux redirection</h1><div class="post__text post__text-html js-mediator-article">  If you are already familiar with the basics of the terminal, you may already be ready to combine the learned commands.  Sometimes it is enough to execute shell commands one by one to solve a certain task, but in some cases it is too tedious and irrational to enter a command by command.  In a situation like this, some special characters like angle brackets will be useful to us. <br><br> <a href="https://habrahabr.ru/company/ruvds/blog/336320/"><img src="https://habrastorage.org/web/c1a/b80/66b/c1ab8066b930473e8d663e467a787287.jpg"></a> <br><br>  For the shell, the linux command interpreter, these extra characters are not a waste of space on the screen.  They are powerful teams that can tie together different pieces of information, share what was previously solid, and do much more.  One of the simplest, and, at the same time, powerful and widely used shell capabilities is redirecting standard I / O streams. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Three standard I / O streams</font> </h2><br>  In order to understand what we are going to talk about here, it is important to know where the data comes from, which can be redirected, and where they are going.  There are three standard input / output streams for Linux. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The first is the standard input stream.  In the system, this is stream # 0 (as in computers, the score usually starts from zero).  Thread numbers are also called descriptors.  This stream represents some information transmitted to the terminal, in particular, instructions that are passed to the shell for execution.  Typically, the data in this stream fall during user input from the keyboard. <br><br>  The second stream is the standard output stream (standard output), it is assigned the number 1. This is the data stream that the shell displays after performing some actions.  Typically, these data fall into the same terminal window, where the command that caused their appearance was entered. <br><br>  And, finally, the third stream is the standard error stream (standard error), it has descriptor 2. This stream is similar to the standard output stream, since usually what gets into it is on the terminal screen.  However, it is, in its essence, different from the standard output, as a result, these streams, if desired, can be controlled separately.  This is useful, for example, in the following situation.  There is a team that processes a large amount of data, performing a complex and error-prone operation.  It is necessary that the useful data that this command generates do not mix with error messages.  This is realized through the separate redirection of output streams and errors. <br><br>  As you have probably already guessed, input / output redirection means working with the streams described above and redirecting data to where the programmer needs.  This is done using the characters <code>&gt;</code> and <code>&lt;</code> in various combinations, the use of which depends on where, in the end, the data should be redirected. <br><br><h2>  <font color="#3AC1EF">Standard Output Stream Redirection</font> </h2><br>  Suppose you want to create a file on which the current date and time will be recorded.  The matter simplifies the fact that there is a command, successfully named <code>date</code> , which returns what we need.  Usually commands output data to standard output.  In order for this data to appear in the file, you need to add the <code>&gt;</code> character after the command, before the name of the target file.  Before and after <code>&gt;</code> you must put a space. <br><br>  When using redirection, any file specified after <code>&gt;</code> will be overwritten.  If there is nothing valuable in the file and its contents can be lost, it is acceptable to use an existing file in our design.  Usually it is better to use in this case the name of a file that does not exist yet.  This file will be created after the command is executed.  <code>date.txt</code> it <code>date.txt</code> .  File extension after the dot usually does not play a special role, but extensions help maintain order.  So, here is our team: <br><br><pre> <code class="hljs pgsql">$ <span class="hljs-type"><span class="hljs-type">date</span></span> &gt; <span class="hljs-type"><span class="hljs-type">date</span></span>.txt</code> </pre> <br>  This is not to say that by itself this team is incredibly useful, however, based on it, we can already do something more interesting.  Let's say you want to find out how the routes of your traffic, going through the Internet to a certain end point, change, daily recording the corresponding data.  In solving this problem, the <code>traceroute</code> command will help, which provides details about the route of traffic between our computer and the end point specified when the command is called as a URL.  Data includes information about all routers through which traffic passes. <br><br>  Since we already have a date file, it will be quite justified to simply attach the data received from <code>traceroute</code> to this file.  In order to do this, you need to use two characters <code>&gt;</code> , put one after another.  As a result, a new command that redirects the output to the file, but does not overwrite it, but adds new data after the old one, will look like this: <br><br><pre> <code class="hljs ruby">$ traceroute google.com <span class="hljs-meta"><span class="hljs-meta">&gt;&gt; </span></span>date.txt</code> </pre> <br>  Now we just have to change the file name to something more meaningful, using the <code>mv</code> command, which, as the first argument, passes the original file name, and as the second, the new one: <br><br><pre> <code class="hljs pgsql">$ mv <span class="hljs-type"><span class="hljs-type">date</span></span>.txt trace1.txt</code> </pre> <br><h2>  <font color="#3AC1EF">Redirect Standard Input Stream</font> </h2><br>  Using the <code>&lt;</code> sign instead of <code>&gt;</code> we can redirect the standard input, replacing it with the contents of the file. <br><br>  Suppose there are two files: <code>list1.txt</code> and <code>list2.txt</code> , each of which contains an unsorted list of strings.  Each of the lists has unique elements for it, but some of the elements of the list are the same.  We can find the rows that are in both the first and second lists, using the command <code>comm</code> , but before using it, the lists must be sorted. <br><br>  There is a <code>sort</code> command that returns a sorted list to the terminal without saving the sorted data to the file from which it was taken.  You can send a sorted version of each list to a new file using the <code>&gt;</code> command, and then use the <code>comm</code> command.  However, this approach will require at least two commands, although the same can be done on one line without creating unnecessary files. <br><br>  So we can use the <code>&lt;</code> command to redirect the sorted version of each file to the <code>comm</code> command.  Here's what we got: <br><br><pre> <code class="hljs swift">$ comm &lt;(<span class="hljs-built_in"><span class="hljs-built_in">sort</span></span> list1.txt) &lt;(<span class="hljs-built_in"><span class="hljs-built_in">sort</span></span> list2.txt)</code> </pre> <br>  Parentheses here have the same meaning as in mathematics.  The shell first processes the commands in brackets, and then everything else.  In our example, we first sort the lines from the files, and then what we get is passed to the command <code>comm</code> , which then displays the result of the list comparison. <br><br><h2>  <font color="#3AC1EF">Standard Error Redirection</font> </h2><br>  And finally, let's talk about redirecting the standard error stream.  This may be necessary, for example, to create log files with errors or to merge error messages and data returned by some data commands in one file. <br><br>  For example, what if you need to search the entire system for information about wireless interfaces that are available to users who do not have superuser rights?  In order to do this, you can use the powerful <code>find</code> . <br><br>  Usually, when an ordinary user runs the <code>find</code> throughout the system, it displays both useful data and errors to the terminal.  At the same time, the latter are usually larger than the first ones, which complicates the finding of what is needed in the command output.  Solving this problem is quite simple: just redirect the standard error stream to a file using the command 2&gt; (recall, 2 is a descriptor for the standard error stream).  As a result, the screen will only get what the command sends to the standard output: <br><br><pre> <code class="hljs swift">$ <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> / -name wireless <span class="hljs-number"><span class="hljs-number">2</span></span>&gt; denied.txt</code> </pre> <br>  What if you need to save the results of the team in a separate file without mixing this data with error information?  Since streams can be redirected independently of each other, at the end of our construction, we can add the command to redirect the standard output stream to a file: <br><br><pre> <code class="hljs pgsql">$ find / -<span class="hljs-type"><span class="hljs-type">name</span></span> wireless <span class="hljs-number"><span class="hljs-number">2</span></span>&gt; denied.txt &gt; <span class="hljs-built_in"><span class="hljs-built_in">found</span></span>.txt</code> </pre> <br>  Note that the first angle bracket comes with a number - <code>2&gt;</code> , and the second without it.  This is because the standard output has a descriptor of 1, and the <code>&gt;</code> command implies redirection of the standard output if the descriptor number is not specified. <br><br>  And finally, if you want everything that the command displays to be in one file, you can redirect both streams to the same place using the <code>&amp;&gt;</code> command: <br><br><pre> <code class="hljs swift">$ <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> / -name wireless &amp;&gt; results.txt</code> </pre> <br><h2>  <font color="#3AC1EF">Results</font> </h2><br>  Here we have analyzed only the basics of the thread redirection mechanism in the Linux command line interpreter, but even the little that you learned today gives you almost unlimited possibilities.  And, by the way, like everything else regarding the work in the terminal, mastering the redirection of flows requires practice.  Therefore, we recommend that you start your own experiments with <code>&gt;</code> and <code>&lt;</code> . <br><br>  Dear readers!  Do you know some interesting examples of using redirection of streams in Linux, which will help beginners to better master this technique of working in the terminal? </div><p>Source: <a href="https://habr.com/ru/post/336320/">https://habr.com/ru/post/336320/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../336310/index.html">Install and configure the main scene in MajorDoMo</a></li>
<li><a href="../336312/index.html">Good bad monkey patching</a></li>
<li><a href="../336314/index.html">We consider the tasks of the hackathon from Promsvyazbank. Why can a hackathon?</a></li>
<li><a href="../336316/index.html">Basics of contractual work in IT: contractors and employees</a></li>
<li><a href="../336318/index.html">Automatic sales funnels: technical implementation</a></li>
<li><a href="../336326/index.html">How complex automation can help if you have a small business</a></li>
<li><a href="../336328/index.html">Creating a quiz on Vue.js</a></li>
<li><a href="../336330/index.html">Game of God, or how I wrote "Wolf Island"</a></li>
<li><a href="../336332/index.html">Fish, fish: how to use the "data lake" in the bank. VTB experience</a></li>
<li><a href="../336334/index.html">Paraquire, or Stop Trusting Libraries</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>