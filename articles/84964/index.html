<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>#ifdef in PHP</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In my project I needed to build different versions of the sources. And so that different pieces of code would be placed in different assemblies. If-el...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>#ifdef in PHP</h1><div class="post__text post__text-html js-mediator-article">  In my <a href="http://elfet.ru/elfchat/">project</a> I needed to build different versions of the sources.  And so that different pieces of code would be placed in different assemblies.  If-else did not suit me here, because it was necessary that the code either entered or did not enter the assembly exactly. <br><a name="habracut"></a><br><h4>  Decision </h4><br>  So I decided to use # ifdef / # endif directives.  To implement them, I created a small C # program that processes these directives.  In the program you need to specify the source file or folder, and the folder where you want to place the finished result.  Only php files are processed for directives, the rest are simply copied. <br><div style="text-align:center;"><img src="http://img638.imageshack.us/img638/1738/phpifdef.jpg" alt="PHP Ifdef Collector PrintScreen"></div><br><br><h4>  Work program </h4><br>  The program has a global array defined, which is created from the third field ("Defines (comma separated)").  This array can be supplemented with the "#define TEXT" directive in php code. <br>  The program can handle the following directives: "#ifdef TEXT", "#ifndef TEXT".  The first includes the code if the directive is defined, the second includes if not defined.  These directives must have closing "#endif". <br>  The same program can handle "#else" and nesting of these directives. <br><br><h4>  Conclusion </h4><br>  Since in php the ‚Äú#‚Äù symbol defines a comment, the code can be executed without cutting out these directives. <br>  However, if you use "#ifdef - #else - #endif" with code that performs various actions with the same data, you need to comment out one of these actions in order to execute it without cutting out directives like this: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <code>&lt;?php <br> #ifdef COPY <br> <br> $chat_page = new View('copy'); <br> $chat_page-&gt;SetVars(array('copyright' =&gt; $this-&gt;Copyright())); <br> $this-&gt;html = $chat_page-&gt;Get(); <br> $this-&gt;Display(); <br> <br> /*#else <br> <br> $this-&gt;html = View('no_copy')::Call(); <br> $this-&gt;Display(); <br> <br> */#endif <br> ?&gt; <br></code> <br><br>  Download the program here: <a href="">phpifdef.googlecode.com/files/Php%20Ifdef%20Collector.exe</a> <br>  Program sources here: <a href="http://code.google.com/p/phpifdef/">code.google.com/p/phpifdef</a> </div><p>Source: <a href="https://habr.com/ru/post/84964/">https://habr.com/ru/post/84964/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../84950/index.html">About the accuracy of maps, Google, NAVTEQ and "freebies"</a></li>
<li><a href="../84956/index.html">Sony Ericsson X10 Mini video in Russian</a></li>
<li><a href="../84957/index.html">Patch rootkit is not a friend!</a></li>
<li><a href="../84958/index.html">Riot policeman cordoned off the Tsaritsyn radio market. Looking for pornography and counterfeit</a></li>
<li><a href="../84963/index.html">Attention: a paper mailing with a fraudulent use of the name of Google!</a></li>
<li><a href="../84966/index.html">Is it possible to create your own "Silicon Valley" in Russia?</a></li>
<li><a href="../84967/index.html">The first ad for Windows Phone 7 Series</a></li>
<li><a href="../84968/index.html">Config exim.conf for DirectAdmin</a></li>
<li><a href="../84969/index.html">Samsung R480 - in search of compact power</a></li>
<li><a href="../84973/index.html">Caution. Online store "Card Systems" scammers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>