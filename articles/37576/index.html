<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Polymorphism for beginners</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Polymorphism is one of the three main paradigms of the PLO. In short, polymorphism is the ability of an object to use the methods of a derived class t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Polymorphism for beginners</h1><div class="post__text post__text-html js-mediator-article">  Polymorphism is one of the three main paradigms of the PLO.  In short, polymorphism is the ability of an object to use the methods of a derived class that does not exist at the time of creating the base class.  For those who are not well versed in the PLO, it probably sounds difficult.  Therefore, consider the use of polymorphism by example. <br><a name="habracut"></a><br><h2>  Formulation of the problem </h2><br>  Suppose the site needs three types of publications - news, announcements and articles.  In some ways they are similar - they all have a headline and text, news and announcements have a date.  In some ways they are different - articles have authors, news have sources, and ads have a date after which it becomes irrelevant. <br><br>  The simplest options that come to mind are to write three separate classes and work with them.  Or write one class in which all the properties inherent in all three types of publications will be, and only the necessary ones will be used.  But after all, for different types, similar in logic methods should work in different ways.  Doing several methods of the same type for different types (get_news, get_announcements, get_articles) is completely illiterate.  This is where polymorphism helps. <br><br><h2>  Abstract class </h2><br>  Roughly speaking, this is a class template.  It implements the functionality only at the level at which it is known at the moment.  Derived classes complement it.  But, it's time to move from theory to practice.  At once I will make a reservation, a primitive example with minimal functionality is considered.  All explanations are in the comments in the code. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <code><font color="#007700">abstract class</font> <font color="#0000BB">Publication <br></font> <font color="#007700">{ <br></font> <font color="#FF8000">// ,       <br></font> <font color="#007700">protected</font> <font color="#0000BB">$table</font> <font color="#007700">; <br> <br></font> <font color="#FF8000">//     <br></font> <font color="#007700">protected</font> <font color="#0000BB">$properties</font> <font color="#007700">= array(); <br> <br></font> <font color="#FF8000">//  <br></font> <font color="#007700">public function</font> <font color="#0000BB">__construct</font> <font color="#007700">(</font> <font color="#0000BB">$id</font> <font color="#007700">) <br> { <br></font> <font color="#FF8000">//  ,   ,        <br></font> <font color="#0000BB">$result</font> <font color="#007700">=</font> <font color="#0000BB">mysql_query</font> <font color="#007700">(</font> <font color="#DD0000">'SELECT * FROM `'</font> <font color="#007700">.</font> <font color="#0000BB">$this</font> <font color="#007700">-&gt;</font> <font color="#0000BB">table</font> <font color="#007700">.</font> <font color="#DD0000">'` WHERE `id`="'</font> <font color="#007700">.</font> <font color="#0000BB">$id</font> <font color="#007700">.</font> <font color="#DD0000">'" LIMIT 1'</font> <font color="#007700">); <br></font> <font color="#FF8000">//    ,     <br></font> <font color="#0000BB">$this</font> <font color="#007700">-&gt;</font> <font color="#0000BB">properties</font> <font color="#007700">=</font> <font color="#0000BB">mysql_fetch_assoc</font> <font color="#007700">(</font> <font color="#0000BB">$result</font> <font color="#007700">); <br> } <br> <br></font> <font color="#FF8000">// ,     ,    <br></font> <font color="#007700">public function</font> <font color="#0000BB">get_property</font> <font color="#007700">(</font> <font color="#0000BB">$name</font> <font color="#007700">) <br> { <br> if (isset(</font> <font color="#0000BB">$this</font> <font color="#007700">-&gt;</font> <font color="#0000BB">properties</font> <font color="#007700">[</font> <font color="#0000BB">$name</font> <font color="#007700">])) <br> return</font> <font color="#0000BB">$this</font> <font color="#007700">-&gt;</font> <font color="#0000BB">properties</font> <font color="#007700">[</font> <font color="#0000BB">$name</font> <font color="#007700">]; <br> <br> return</font> <font color="#0000BB">false</font> <font color="#007700">; <br> } <br> <br></font> <font color="#FF8000">// ,     ,    <br></font> <font color="#007700">public function</font> <font color="#0000BB">set_property</font> <font color="#007700">(</font> <font color="#0000BB">$name</font> <font color="#007700">,</font> <font color="#0000BB">$value</font> <font color="#007700">) <br> { <br> if (!isset(</font> <font color="#0000BB">$this</font> <font color="#007700">-&gt;</font> <font color="#0000BB">properties</font> <font color="#007700">[</font> <font color="#0000BB">$name</font> <font color="#007700">])) <br> return</font> <font color="#0000BB">false</font> <font color="#007700">; <br> <br></font> <font color="#0000BB">$this</font> <font color="#007700">-&gt;</font> <font color="#0000BB">properties</font> <font color="#007700">[</font> <font color="#0000BB">$name</font> <font color="#007700">] =</font> <font color="#0000BB">$value</font> <font color="#007700">; <br> <br> return</font> <font color="#0000BB">$value</font> <font color="#007700">; <br> } <br> <br></font> <font color="#FF8000">//      ,    ,    ,      <br></font> <font color="#007700">abstract public function</font> <font color="#0000BB">do_print</font> <font color="#007700">(); <br> }</font></code> <br> <br><h2>  Derived classes </h2><br>  Now you can proceed to the creation of derived classes that implement the missing functionality. <br><br> <code><font color="#007700">class</font> <font color="#0000BB">News</font> <font color="#007700">extends</font> <font color="#0000BB">Publication <br></font> <font color="#007700">{ <br></font> <font color="#FF8000">//   ,     <br></font> <font color="#007700">public function</font> <font color="#0000BB">__construct</font> <font color="#007700">(</font> <font color="#0000BB">$id</font> <font color="#007700">) <br> { <br></font> <font color="#FF8000">//   ,       <br></font> <font color="#0000BB">$this</font> <font color="#007700">-&gt;</font> <font color="#0000BB">table</font> <font color="#007700">=</font> <font color="#DD0000">'news_table'</font> <font color="#007700">; <br></font> <font color="#FF8000">//     <br></font> <font color="#0000BB">parent</font> <font color="#007700">::</font> <font color="#0000BB">__construct</font> <font color="#007700">(</font> <font color="#0000BB">$id</font> <font color="#007700">); <br> } <br> <br></font> <font color="#FF8000">//     <br></font> <font color="#007700">public function</font> <font color="#0000BB">do_print</font> <font color="#007700">() <br> { <br> echo</font> <font color="#0000BB">$this</font> <font color="#007700">-&gt;</font> <font color="#0000BB">properties</font> <font color="#007700">[</font> <font color="#DD0000">'title'</font> <font color="#007700">]; <br> echo</font> <font color="#DD0000">'&lt;br /&gt;&lt;br /&gt;'</font> <font color="#007700">; <br> echo</font> <font color="#0000BB">$this</font> <font color="#007700">-&gt;</font> <font color="#0000BB">properties</font> <font color="#007700">[</font> <font color="#DD0000">'text'</font> <font color="#007700">]; <br> echo</font> <font color="#DD0000">'&lt;br /&gt;: '</font> <font color="#007700">.</font> <font color="#0000BB">$this</font> <font color="#007700">-&gt;</font> <font color="#0000BB">properties</font> <font color="#007700">[</font> <font color="#DD0000">'source'</font> <font color="#007700">]; <br> } <br> } <br> <br> class</font> <font color="#0000BB">Announcement</font> <font color="#007700">extends</font> <font color="#0000BB">Publication <br></font> <font color="#007700">{ <br></font> <font color="#FF8000">//   ,     <br></font> <font color="#007700">public function</font> <font color="#0000BB">__construct</font> <font color="#007700">(</font> <font color="#0000BB">$id</font> <font color="#007700">) <br> { <br></font> <font color="#FF8000">//   ,       <br></font> <font color="#0000BB">$this</font> <font color="#007700">-&gt;</font> <font color="#0000BB">table</font> <font color="#007700">=</font> <font color="#DD0000">'announcements_table'</font> <font color="#007700">; <br></font> <font color="#FF8000">//     <br></font> <font color="#0000BB">parent</font> <font color="#007700">::</font> <font color="#0000BB">__construct</font> <font color="#007700">(</font> <font color="#0000BB">$id</font> <font color="#007700">); <br> } <br> <br></font> <font color="#FF8000">//     <br></font> <font color="#007700">public function</font> <font color="#0000BB">do_print</font> <font color="#007700">() <br> { <br> echo</font> <font color="#0000BB">$this</font> <font color="#007700">-&gt;</font> <font color="#0000BB">properties</font> <font color="#007700">[</font> <font color="#DD0000">'title'</font> <font color="#007700">]; <br> echo</font> <font color="#DD0000">'&lt;br /&gt;!    '</font> <font color="#007700">.</font> <font color="#0000BB">$this</font> <font color="#007700">-&gt;</font> <font color="#0000BB">properties</font> <font color="#007700">[</font> <font color="#DD0000">'end_date'</font> <font color="#007700">]; <br> echo</font> <font color="#DD0000">'&lt;br /&gt;&lt;br /&gt;'</font> <font color="#007700">.</font> <font color="#0000BB">$this</font> <font color="#007700">-&gt;</font> <font color="#0000BB">properties</font> <font color="#007700">[</font> <font color="#DD0000">'text'</font> <font color="#007700">]; <br> } <br> } <br> <br> class</font> <font color="#0000BB">Article</font> <font color="#007700">extends</font> <font color="#0000BB">Publication <br></font> <font color="#007700">{ <br></font> <font color="#FF8000">//   ,     <br></font> <font color="#007700">public function</font> <font color="#0000BB">__construct</font> <font color="#007700">(</font> <font color="#0000BB">$id</font> <font color="#007700">) <br> { <br></font> <font color="#FF8000">//   ,       <br></font> <font color="#0000BB">$this</font> <font color="#007700">-&gt;</font> <font color="#0000BB">table</font> <font color="#007700">=</font> <font color="#DD0000">'articles_table'</font> <font color="#007700">; <br></font> <font color="#FF8000">//     <br></font> <font color="#0000BB">parent</font> <font color="#007700">::</font> <font color="#0000BB">__construct</font> <font color="#007700">(</font> <font color="#0000BB">$id</font> <font color="#007700">); <br> } <br> <br></font> <font color="#FF8000">//     <br></font> <font color="#007700">public function</font> <font color="#0000BB">do_print</font> <font color="#007700">() <br> { <br> echo</font> <font color="#0000BB">$this</font> <font color="#007700">-&gt;</font> <font color="#0000BB">properties</font> <font color="#007700">[</font> <font color="#DD0000">'title'</font> <font color="#007700">]; <br> echo</font> <font color="#DD0000">'&lt;br /&gt;&lt;br /&gt;'</font> <font color="#007700">; <br> echo</font> <font color="#0000BB">$this</font> <font color="#007700">-&gt;</font> <font color="#0000BB">properties</font> <font color="#007700">[</font> <font color="#DD0000">'text'</font> <font color="#007700">]; <br> echo</font> <font color="#DD0000">'&lt;br /&gt;&amp;copy; '</font> <font color="#007700">.</font> <font color="#0000BB">$this</font> <font color="#007700">-&gt;</font> <font color="#0000BB">properties</font> <font color="#007700">[</font> <font color="#DD0000">'author'</font> <font color="#007700">]; <br> } <br> }</font></code> <br> <br><h2>  Now about using </h2><br>  The bottom line is that the same code is used for objects of different classes. <br><br> <code><font color="#FF8000">//    ,   Publication <br></font> <font color="#0000BB">$publications</font> <font color="#007700">[] = new</font> <font color="#0000BB">News</font> <font color="#007700">(</font> <font color="#0000BB">$news_id</font> <font color="#007700">); <br></font> <font color="#0000BB">$publications</font> <font color="#007700">[] = new</font> <font color="#0000BB">Announcement</font> <font color="#007700">(</font> <font color="#0000BB">$announcement_id</font> <font color="#007700">); <br></font> <font color="#0000BB">$publications</font> <font color="#007700">[] = new</font> <font color="#0000BB">Article</font> <font color="#007700">(</font> <font color="#0000BB">$article_id</font> <font color="#007700">); <br> <br> foreach (</font> <font color="#0000BB">$publications</font> <font color="#007700">as</font> <font color="#0000BB">$publication</font> <font color="#007700">) { <br></font> <font color="#FF8000">//      Publication <br></font> <font color="#007700">if (</font> <font color="#0000BB">$publication</font> <font color="#007700">instanceof</font> <font color="#0000BB">Publication</font> <font color="#007700">) { <br></font> <font color="#FF8000">//    <br></font> <font color="#0000BB">$publication</font> <font color="#007700">-&gt;</font> <font color="#0000BB">do_print</font> <font color="#007700">(); <br> } else { <br></font> <font color="#FF8000">//     <br></font> <font color="#007700">} <br> }</font></code> <br> <br>  That's all.  With a flick of the wrist, the pants turn into elegant shorts :-). <br><br>  The main benefit of polymorphism is the ease with which you can create new classes that ‚Äúbehave‚Äù in a similar way, which, in turn, allows us to achieve extensibility and modifiability.  The article shows only a primitive example, but even it shows how the use of abstractions can facilitate development.  We can work with the news exactly as with ads or articles, and we don‚Äôt even have to know what we are working with!  In real, much more complex applications, this benefit is even more tangible. <br><br><h2>  A bit of theory </h2><ul><li>  Methods that require overriding are called abstract.  It is logical that if a class contains at least one abstract method, then it is also abstract. </li><li>  Obviously, it is impossible to create an object of an abstract class, otherwise it would not be abstract. </li><li>  The derived class has properties and methods that belong to the base class, and, in addition, it can have its own methods and properties. </li><li>  A method that is redefined in a derived class is called virtual.  There is no information about this method in the base abstract class. </li><li>  The essence of abstraction is to define a method in the place where there is the most complete information about how it should work. </li></ul><br>  <b>UPD:</b> about sql-inj and MVC violation - gentlemen, this is just an example, and an example on polymorphism, in which I do not consider it necessary to pay attention to these things.  This is a topic for very different articles. <br><br>  <a href="http://s-a-p.in/interactive/theme/polymorphism-for-beginners">Original on my site</a> </div><p>Source: <a href="https://habr.com/ru/post/37576/">https://habr.com/ru/post/37576/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../375749/index.html">Roscosmos is dead. Long live Roscosmos</a></li>
<li><a href="../37575/index.html">Cross Domain Cookies</a></li>
<li><a href="../375751/index.html">The WhatsApp web version is launched.</a></li>
<li><a href="../375757/index.html">ICam HD Cloud Video Camera: security system, baby monitor and convenient means of communication</a></li>
<li><a href="../375759/index.html">Automakers fake engine sounds</a></li>
<li><a href="../375765/index.html">GRE Subject Test</a></li>
<li><a href="../375769/index.html">Does the crowded video game market need publishers again?</a></li>
<li><a href="../375771/index.html">Perovskite film can increase the efficiency of solar panels by 50%</a></li>
<li><a href="../375773/index.html">Beautiful video from TV Roscosmos</a></li>
<li><a href="../375775/index.html">The deputy head of the Rosobrnadzor proposed to ban Wikipedia in the Russian Federation or ‚Äúofficials are joking‚Äù</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>