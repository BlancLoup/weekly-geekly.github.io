<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Report from SQA Days - Automation testing: discarding too much and checking the essence</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We give the report of khroliz Igor Hrol, Wargaming company, Minsk, from the conference SQA Days 15. 

 Video report: 
 vimeo.com/93944414 

 Presentat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Report from SQA Days - Automation testing: discarding too much and checking the essence</h1><div class="post__text post__text-html js-mediator-article"> We <a href="https://habrahabr.ru/users/khroliz/" class="user_link">give the</a> <a href="http://sqadays.com/ru/talk/19552">report of</a> <a href="https://habrahabr.ru/users/khroliz/" class="user_link">khroliz</a> Igor Hrol, Wargaming company, Minsk, from the conference SQA Days 15. <br><br>  Video report: <br>  <a href="https://vimeo.com/93944414">vimeo.com/93944414</a> <br><br>  Presentation: <br>  <a href="http://www.slideshare.net/slideshow/embed_code/33725306">www.slideshare.net/slideshow/embed_code/33725306#</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I have been working in this industry for 8 years and I believe that we have problems) <br><br>  First of all, testing is considered an uninteresting profession.  What follows from this?  Inexperienced people come to the industry, or not enough qualified.  Difficult work, because  inexperienced people, no one to do.  And it turns out that we are doing a simple job.  And since  we do simple work, then we pay little, because  We don‚Äôt bring as much business as we would like.  And the circle closes. <br><br><img src="https://habrastorage.org/files/09c/b53/254/09cb532548d24ce9941e2a617ac66859.jpg"><br><br><a name="habracut"></a><br>  As a result, if talented people get into testing, then by chance.  And then they still go into development.  That is, testing is considered a simple and uninteresting IT profession, and the quality of testing leaves much to be desired. <br><br>  First of all, I urge you to remember: Who are we?  Software testing engineer.  Engineers.  That is, we are not called testers, testers, etc., we are engineers.  And I think that the situation can be changed by engineers with their technical skills, their approaches. <br><br>  I would like to note that our work is more complicated than it seems at first glance.  I'm talking about testing now, but for me testing and automation have merged into one, because I believe that automation should be the main tool of the tester. <br><br>  The name plays a role. <br>  ‚Ä¢ Test automation (we do something with our hands, and we automate it) <br>  ‚Ä¢ Automatic testing (what does he want us to do business? So that testing goes on its own, automatically, and we looked at the logs and so on. The goal is not to automate testing, but to make testing automatic) <br>  ‚Ä¢ Effective automated testing. <br><br>  Consider an abstract project in a vacuum. <br>  This is a model; it describes the life situation in some measure of approximation. <br>  We have 5 modules.  In the first, you need to test 5 options, in the second - 8, and the third - 2 options, etc.  In total, 800 tests should be conducted to make sure that everything works. <br><br><img src="https://habrastorage.org/files/5d4/7ec/c20/5d47ecc20f9241229fc47e8376d9f1fb.jpg"><br><br>  Change the numbers to V: V1 * V2 * V3 * ... * Vn As a result, Vn is the average complexity of the module.  What is Vn?  Mathematical complexity and exponent.  Everything is built on the fact that a problem with such complexity is solved very badly. <br>  Exponential complexity.  See graph. <br><br><img src="https://habrastorage.org/files/d70/3d6/d07/d703d6d074ce4bfc8b58e9eb7c457c61.jpg"><br><br>  The green graph, which for a long time holds below the others, but at some point goes up rapidly.  And when we test with the black box method, when we try to sort through all the options, we get that the black box (the complexity of such testing) is exponential complexity.  We have a lot of autotests that work for hours, what do we do next?  Run them in parallel.  We divide this complexity by a constant.  We have the same exponent, but a slightly reduced constant.  That is, it does not solve the problem. <br><br><img src="https://habrastorage.org/files/c38/7e0/921/c387e092151d4a98977cd4d07dae3564.jpg"><br><br>  Divide and rule <br><br>  Let's look at our task from the other side. <br>  We had 26 tests (if we test each module separately).  But you will say that we need to make sure that all this works together.  Well, let's test each connection with a separate test case and run some cross-cutting scenario.  It turned out 31 test.  As a result, we change the exponential complexity to linear.  And the problem becomes effectively solved.  That is, if we poorly tested, and hired 10 more testers, then we simply parallelized by 10, and if we changed the very complexity of the task, then we should not increase the resources required for testing so much. <br><br>  If we have a certain abstract system, which has one option, and at the end - 10, if we multiply, then we have 10 test cases, and totally - 14. And plus more connections, check - 19. But the tests have become easier.  Instead of one long test, we write 10 small ones.  That is, in fact, the complexity of the tests is still simplified. <br><br><img src="https://habrastorage.org/files/ae3/919/87b/ae391987b832484f8a659aff084c4458.jpg"><br><br>  ‚ÄúPyramid‚Äù automation. <br><br>  If we do not build our tests on this ‚Äúpyramid‚Äù, we will get the exponential complexity of our task, our testing.  The smallest task decomposition module is separate classes, separate methods.  The main thing is the decomposition of tasks.  If it is monosyllabic, then we get multiplication, if not, then we get addition, and in the long run it will be better. <br><br>  Testing is not so simple.  Because in order to carry out such a decomposition of one black box into many smaller ones, it is necessary to sort it out to the end, right down to the lowest levels, in the technological stand in which you develop.  Those.  one must have qualifications commensurate with the qualifications of the developer.  Without this, we run into an exhibitor, we do not do our work qualitatively better.  Accordingly, it is necessary to learn, and due to this, it seems to me that our work is not as simple as it seems. <br><br><img src="https://habrastorage.org/files/e61/75d/39c/e6175d39c93e42888a3e91d3ea5848ff.jpg"><br><br>  The project of life. <br>  Siebel, Oracle is a tough enterprise solution, it was a project on customization, on the introduction of mobile operator solutions based on Siebel technologies.  Before I joined the project, the tests were written on QTP.  They were such a structure: there was an internal API, and the tests go, click on the buttons, in the middle there is a black box, and there is a database at the bottom.  A pretty typical picture. <br><br><img src="https://habrastorage.org/files/455/3f6/a69/4553f6a69f804409828c0d0bbf26fa39.jpg"><br><br>  As a result: tests are long, tests are unstable.  The task came: to optimize the preconditions that are made for hours. <br><br>  I wrote a script in java, which sends a GET request, parses XML, looks at XML, sends another GET request, etc.  Tests began to work for 20 minutes and began to parallel well. <br><br>  As a result of abandoning the browser, tests began to work faster, there were no problems with synchronization, tests became more reliable and easy to run in parallel.  Of the minuses: you can not see how the tests work;  no confidence, and a higher entry threshold. <br><br>  The question ‚Äúnot visible‚Äù was decided as in the old joke: ‚ÄúDo you want to go or go?‚Äù Do you want to look at the tests, or do you need to test it?  Those.  here is the question: do we want automatic testing or automate testing? <br><br>  Solution structure: Java + TestNG + Maven + HttpClient.  Put several levels of abstractions in order not to work directly, not to write queries, but to work with entities that are specific to Siebel. <br><br><img src="https://habrastorage.org/files/114/8b0/596/1148b059608546c9b86cb16110719396.jpg"><br><br>  But it turned out that the browser did not leave, and part of the logic was implemented in the browser itself.  Those.  part of the logic was on the server, and part of the logic was in the browser.  Therefore, Selenium appeared.  But knowing that the browser is long, unstable and fragile, we did it carefully.  It was launched only when a browser is really needed, when logic appears in the test case, which is implemented in the browser and which we want to check (about 3% of scripts).  A headless session is also used with browserless interaction. <br><br>  Then decompose this problem into some pieces.  It turned out that the layout of the browser is generated by Siebel himself.  And it doesn‚Äôt matter to us that pressing the button is real, because it‚Äôs already developed in Siebel, it‚Äôs tested in Siebel, we just have to drop the extra and test only what we did. <br>  It turned out that to develop browser logic there is an API (of. Oracle documentation): if you want to do something in the UI, call this method. <br><br><img src="https://habrastorage.org/files/c4c/dcf/29e/c4cdcf29e88d4dfba57d12ca12d66d09.jpg"><br><br>  Database. <br>  This is the fastest way to work with the system, but it‚Äôs better not to write directly there (but this was the specificity of our project).  We made some changes in the database through special verified stored procedures, and this is well suited for inspections. <br><br>  Web services <br>  JAX-WS is a protocol in Java for working with a web service.  Instead of testing our Siebel in the context of all other systems, we silenced all external interactions, and when we had to check that something was leaving Siebel, we looked at it not on any external systems, but on stubs.  We also sent java requests for web services to check outgoing information. <br><br>  Our server consists of two parts: a web server and an application server.  The Web server is responsible for the layout and sending of responses, and the Application server for the application logic.  And there is access to the logic through Java Data Bean. And through it, we got a complete programming interface for creating application logic in Siebel from Java. <br><br>  Performance tests <br>  Since  Our tests are written in java, because  they are well parallelized, we can simply ‚Äúpitch‚Äù our tests on the JMeter, and in essence load the system with functional tests.  Also tests were supported along with support for functional tests.  Those.  if new versions of scripts were needed for the new build, we still need to update these scripts for functional tests. <br><br><img src="https://habrastorage.org/files/748/156/23c/74815623c0dd4f11a7b57c85b28328fd.jpg"><br><br>  We figured out how our technology stack works, understand the interaction options, and we understood that the lower we go, the more quickly and reliably. <br>  As a result, we received: <br>  ‚Ä¢ quick tests <br>  ‚Ä¢ predictable results that scale easily <br>  ‚Ä¢ ability to interact with Siebel at any level <br><br>  I would not like my report to be taken as an instruction: ‚ÄúHow to work with Siebel‚Äú.  I would like you to look at your technology stack and see what is ‚Äúunder the hood‚Äù because  This makes our work better and more interesting. <br>  A look at testing from the implementation of the system allows you to: <br>  ‚Ä¢ reduce the complexity of the testing task itself <br>  ‚Ä¢ reduce the complexity and length of scripts <br>  ‚Ä¢ increase speed and stability <br>  ‚Ä¢ find new areas for auto tests </div><p>Source: <a href="https://habr.com/ru/post/241772/">https://habr.com/ru/post/241772/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../241760/index.html">We make simple lighting in a 2D game. Detailed C # and XNA examples for beginners</a></li>
<li><a href="../241764/index.html">The course of pixel art 2</a></li>
<li><a href="../241766/index.html">markdown-it - markdown / CommonMark parser on steroids</a></li>
<li><a href="../241768/index.html">3 moderation outsourcing options you need to know</a></li>
<li><a href="../241770/index.html">3 obvious ways to get into the tips of search engines</a></li>
<li><a href="../241774/index.html">Interactive site with post-hawk? Easy!</a></li>
<li><a href="../241776/index.html">Expressive JavaScript: E-Life Project</a></li>
<li><a href="../241778/index.html">How we did the school of mobile developers in Saransk</a></li>
<li><a href="../241784/index.html">Incompatibility between the String.split method in Java 8 and Java 7</a></li>
<li><a href="../241788/index.html">Subtleties nodejs. Part I: the notorious app.js</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>