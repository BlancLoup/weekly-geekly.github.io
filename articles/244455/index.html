<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We write a simple encyclopedia on the Slim Framework</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this post we will look at the process of creating a very simple electronic encyclopedia using the Slim Framework. Suppose you have a database table...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We write a simple encyclopedia on the Slim Framework</h1><div class="post__text post__text-html js-mediator-article">  In this post we will look at the process of creating a very simple electronic encyclopedia using the Slim Framework.  Suppose you have a database table that contains a huge number of encyclopedic notes and articles.  We need to show the user the corresponding note in a beautiful template. <br><br>  Maybe our encyclopedia contains answers to frequently asked questions about cars, and maybe this is a medical reference book.  Not the bottom line.  The main thing is that we do not need CRUD, since another system will be responsible for filling the database table.  But we are very important stability, speed and ease of support for this simple application. <br><br>  Such an encyclopedia can be very easily created using other frameworks and CMS, but I will try to use the Slim microform.  Why?  It's very simple: this note is designed for a novice programmer who wants to start learning the Slim Framework. <br><a name="habracut"></a><br>  Let's start writing the code.  The only task of the encyclopedia is to display the contents in a beautiful template.  This ascetic functionality is similar to the help system API.  Let's start with the implementation of the model and everything connected with it.  The unique name of the page will be the only argument that will be needed by the method mentioned in the interface: <br><pre><code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IPortal</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getContentByAlias</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($alias)</span></span></span></span>; }</code> </pre> <br>  Next, you need to implement a class that contains the ‚ÄúgetContentByAlias‚Äù method.  Since the note is intended for a novice reader level, I will specifically remind you to impose an index on the ‚Äúalias‚Äù column.  With a large number of materials in the encyclopedia, the index (it will be searched) will increase the speed of the database server.  We will not touch upon such issues as caching (for example, memcached or using nginx tools), since this is a separate and very large topic.  But about the basic security requirements, it makes sense to mention: transfer the responsibility for screening to the driver, for example, in this way: <br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Portal</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IPortal</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $_pdo; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $_sqlGetContentByAlias = <span class="hljs-string"><span class="hljs-string">'SELECT `title`, `content` FROM `pages` WHERE `alias` = ? LIMIT 1;'</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * Constructor */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($_pdo)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_pdo = $_pdo; } <span class="hljs-comment"><span class="hljs-comment">/** * Get content by alias */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getContentByAlias</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($alias)</span></span></span><span class="hljs-function"> </span></span>{ $stm = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_pdo-&gt;prepare(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_sqlGetContentByAlias); $stm-&gt;bindParam(<span class="hljs-number"><span class="hljs-number">1</span></span>, $alias, PDO::PARAM_STR); $stm-&gt;execute(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $stm-&gt;fetch(); } }</code> </pre><br>  Please note that in the request I explicitly indicated to MySQL subsystems that I need only one record (‚ÄúLIMIT 1‚Äù), and received data using ‚Äúfetch‚Äù, i.e.  only one entry.  I use PDO, and I transfer connection through the designer of a class.  Since the Slim Framework does not contain built-in capabilities for working with databases (unlike my favorite Laravel and Yii 2.0), we will have to write another small class.  As you have noticed, we will need Singleton, which will allow us to get the much needed connection to the database.  In my subjective opinion, the appropriate method of implementation is as follows: <br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Connect</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> $_instance; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $_pdo; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $_pdoUrl = <span class="hljs-string"><span class="hljs-string">'mysql:host=localhost;dbname=kalinin;charset=utf8'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $_pdoUser = <span class="hljs-string"><span class="hljs-string">'root'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $_pdoPassword = <span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $_pdoPrm = [PDO::ATTR_DEFAULT_FETCH_MODE =&gt; PDO::FETCH_ASSOC]; <span class="hljs-comment"><span class="hljs-comment">/** * Constructor */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_pdo = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PDO(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_pdoUrl, <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_pdoUser, <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_pdoPassword, <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_pdoPrm); } <span class="hljs-comment"><span class="hljs-comment">/** * Singleton */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__clone</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__wakeup</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getInstance</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::$_instance === <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::$_instance = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::$_instance; } <span class="hljs-comment"><span class="hljs-comment">/** * Get connection */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getConnection</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_pdo; } }</code> </pre><br>  So it is time to implement the factory itself.  It is highly likely that such an electronic encyclopedia will not develop (in the sense of a new functional), however, the probability is not zero at all, therefore, it is necessary to foresee the possibility to refine and develop the project at the very initial design stage.  The implementation of the factory turned out to be this: <br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'./app/models/iportal.php'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'./app/models/portal.php'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'./db/connect.php'</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Factory</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($type)</span></span></span><span class="hljs-function"> </span></span>{ $connection = Connect::getInstance()-&gt;getConnection(); <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> ($type) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"simple"</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Portal($connection); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } }</code> </pre><br>  I have not forgotten anything?  Oh yes.  Where is Slim?  First of all, we need to connect the files necessary for our simple application - a very ascetic electronic encyclopedia.  At this stage we will indicate in the settings the ‚Äúdebug‚Äù mode: <br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'Slim/Slim.php'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'./app/models/factory.php'</span></span>; \Slim\Slim::registerAutoloader(); $app = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> \Slim\Slim(); $app-&gt;config(<span class="hljs-string"><span class="hljs-string">'debug'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); $app-&gt;config([<span class="hljs-string"><span class="hljs-string">'templates.path'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'./app/views/'</span></span>]); $conf[<span class="hljs-string"><span class="hljs-string">'url'</span></span>] = <span class="hljs-string"><span class="hljs-string">'http://127.0.0.1:8098/'</span></span>;</code> </pre><br>  Remember that we have to show the content in the template depending on the page alias?  By means of the second argument of the "render" method, data is transferred to the view (View in the MVC pattern).  We also had the requirement to redirect the user to the main page in case there is no record in the database.  The ‚Äúredirect‚Äù method solves this problem.  With the use of "use" we pass into the scope of an anonymous function (closure or lambda function appeared in PHP since version 5.3) the required arrays and other variables.  Let's try: <br><pre> <code class="php hljs">$app-&gt;get(<span class="hljs-string"><span class="hljs-string">'/kalinin/:alias'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($alias)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">use</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($app, $conf)</span></span></span><span class="hljs-function"> </span></span>{ $model = Factory::create(<span class="hljs-string"><span class="hljs-string">"simple"</span></span>); $content = $model-&gt;getContentByAlias($alias); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">empty</span></span>($content)) { $app-&gt;redirect($conf[<span class="hljs-string"><span class="hljs-string">'url'</span></span>], <span class="hljs-number"><span class="hljs-number">301</span></span>); } $app-&gt;render(<span class="hljs-string"><span class="hljs-string">'page.php'</span></span>, $content); });</code> </pre><br>  In cases where the presentation is static content, it is sufficient to use the following implementation: <br><pre> <code class="php hljs">$app-&gt;get(<span class="hljs-string"><span class="hljs-string">'/'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">use</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($app)</span></span></span><span class="hljs-function"> </span></span>{ $app-&gt;render(<span class="hljs-string"><span class="hljs-string">'main.php'</span></span>); });</code> </pre><br>  Let's think about the sad.  Errors can happen, which means we must definitely consider the behavior of the electronic encyclopedia in such situations.  As the ancient sages said: ‚Äúthe programmer is not alive with a single XDEBUG,‚Äù which means: ‚Äúin real projects it makes sense to log some errors in detail‚Äù.  According to the recommendations of the search engines, it is necessary to issue the 404th error code in an unsuccessful attempt to find the page, however, in this example, in case of any errors, I will simply redirect the user to the main page.  To work with errors, use the following two closures (for example, I just have a redirect with the 301st response code): <br><pre> <code class="php hljs">$app-&gt;notFound(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">use</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($app, $conf)</span></span></span><span class="hljs-function"> </span></span>{ $app-&gt;redirect($conf[<span class="hljs-string"><span class="hljs-string">'url'</span></span>], <span class="hljs-number"><span class="hljs-number">301</span></span>); }); $app-&gt;error(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(\Exception $e)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">use</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($app, $conf)</span></span></span><span class="hljs-function"> </span></span>{ $app-&gt;redirect($conf[<span class="hljs-string"><span class="hljs-string">'url'</span></span>], <span class="hljs-number"><span class="hljs-number">301</span></span>); });</code> </pre><br>  Everything is ready, it remains only to call the "run" method: <br><pre> <code class="php hljs">$app-&gt;run();</code> </pre><br>  Simply?  Good documentation will help you understand all the features of the Slim Framework.  Of course, I described only one of the possible approaches.  The need to use one or another framework is determined by the programmer on his own (or by a group of developers at a meeting). </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/244455/">https://habr.com/ru/post/244455/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../244443/index.html">Running applications in the Android Virtual Device on a remote Linux server</a></li>
<li><a href="../244445/index.html">Registration of a tax-free company in Estonia</a></li>
<li><a href="../244447/index.html">84% of WordPress sites can be hacked: what next?</a></li>
<li><a href="../244449/index.html">Sync, share & secure - three in one with Acronis Access 7</a></li>
<li><a href="../244451/index.html">Resources for learning Wolfram Language (Mathematica) in Russian</a></li>
<li><a href="../244457/index.html">Modifying the source code of an android application using an apk file</a></li>
<li><a href="../244461/index.html">Research of virtual servers with SSD disks</a></li>
<li><a href="../244465/index.html">AccountLogic 1.0</a></li>
<li><a href="../244467/index.html">Stealer on C #. We did it in 9 KB executable file</a></li>
<li><a href="../244471/index.html">Winners of the Tizen App Challenge</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>