<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Logging as a way to debug code</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Why is it so important to prevent yourself from debugging with your hands? 

 When you are debugging a program, without realizing it, you think that i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Logging as a way to debug code</h1><div class="post__text post__text-html js-mediator-article">  Why is <b>it</b> so <b>important</b> to prevent yourself from debugging with your hands? <br><br>  When you are debugging a program, without realizing it, you think that in one debugging session you will correct all the problems that have arisen as part of this task.  But our short-sightedness does not want to believe that in fact there is not one problem, but several.  And in one debugging session it will not be possible to solve all these problems. <br><br>  Therefore, you will need to run this code several times in debug mode, spending debugging hours on the same piece of code.  And it's only you who spent so much time on this part of the program.  Each team member who is ‚Äúlucky enough‚Äù to work with this code will be forced to live the same story that you have lived. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I'm not talking about the fact that people in teams change, teams change and so on.  Man-hours go for the same thing.  Stop doing it.  I'm serious.  Take responsibility for others.  Help them not to experience the same part of your life. <br><a name="habracut"></a><br><h2>  Problem: Difficult to debug compound code </h2><br>  Possible problem solving algorithm: <br><br><ol><li>  Split into separate parts </li><li>  We throw out debugging, we simply prohibit to use the Debug mode. </li><li>  We analyze individual parts (we invent non-valid situations for them, boundary cases) </li><li>  We write tests for each separate part of the whole algorithm. </li><li>  In tests, sometimes you have to recognize intermediate data, but ... <br>  Debugging is more inaccessible to us, therefore we stick Trace into those parts where there is a suspicion of incorrect execution of the algorithm. </li><li>  By tracing you need to understand the cause of the problem. </li><li>  If it is not clear, then most often either it is worthwhile to write another test, or perform a trace one step earlier. </li></ol><br>  The solution is automated testing using logging.  You write tests for all (or almost all) situations that lead to problems.  Plus, if there is a need for debugging, then you trace until you understand the problem. <br><br>  Thus, you save other people from debugging this code, because  if a problem arises, the person will look at your logs and understand the reason.  Only important sections of the algorithm are logged. <br><br>  Let's see an example.  You know that individually all interface implementations work (because tests are written to prove this).  But when interacting all together, incorrect behavior occurs.  What you need?  You need to log responses from the "correct" interfaces: <br><br><pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Register</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(User user)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//       , // ..      var isExists = _userRepository.IsUserExists(user); if (isExists) { throw new InvalidOperationException($"User already exists: {user}"); } //       , // ..       var roleInOtherService = _removeService.GetRole(user); _log.Trace($"Remote role: {roleInOtherService}") switch (roleInOtherService) { case "...": break; ... } //    ,     //    -  , //        foreach (var privilege in Privileges) { var isSuccess = _privilegeRemoteService.Grant(user, privilege); if (isSuccess) { _log.Trace($"Add privilege: {privilege} to User: {user}"); } else { _log.Trace($"Privilege: {privilege} not added to User: {user}"); } } ... }</span></span></code> </pre> <br>  This example shows how we trace certain parts of the algorithm in order to be able to fix one or another stage of its execution.  Looking at the logs, it becomes clear what is the reason.  In real life, this whole algorithm would be worth breaking up into separate methods, but the essence does not change. <br><br>  All this at times speeds up writing code.  You do not need to run through the loop with F10 in order to understand which iteration of the loop the problem occurred.  Just log in the state of the objects you need under certain conditions at a certain iteration of the cycle. <br><br>  In the end, you leave important logs and delete side logs, for example, where you learned the state of the object at a certain iteration of the cycle.  Such logs will not help your colleagues, because  you, most likely, already understood the problem of an incorrect algorithm and corrected it.  If not, keep developing in your thread until you find the reason and fix the problem.  But logs that record important results from the execution of other algorithms will be needed by all.  Therefore, they should be left. <br><br>  What if we don't need this garbage?  In this case, perform tracing only within the framework of debugging, and then clean up after yourself. <br><br><table><tbody><tr><th>  pros </th><th>  Minuses </th></tr><tr><td>  It is possible to trace the execution of the algorithm without debugging. </td><td>  You have to write the trace code. </td></tr><tr><td>  In production, logs will sometimes collect the necessary data. </td><td>  In production, logs will sometimes collect unnecessary data. </td></tr><tr><td>  Debugging time is reduced, because  you often run the code and immediately see the results of its execution (all at a glance) </td><td>  You need to clean up after you.  This sometimes leads to re-writing the trace code. </td></tr><tr><td>  Colleagues can track the execution of the algorithm by logs </td><td>  Colleagues have to look not only at the algorithm itself, but also at the trace of its execution. </td></tr><tr><td>  Logging is the only way to debug non-deterministic scripts (for example, multithreading or networking) </td><td>  Production decreases performance due to I / O and CPU operations. </td></tr></tbody></table><br>  Finally I would like to say this: think with your head.  No need to jump from one extreme to another.  Sometimes debugging with your hands really quickly solves the problem here and now.  But as soon as you noticed that something quickly, here and now it does not work, it's time to switch to another mode. </div><p>Source: <a href="https://habr.com/ru/post/354962/">https://habr.com/ru/post/354962/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../354950/index.html">Two accelerometers, dish sponge and four nuts</a></li>
<li><a href="../354954/index.html">JavaFx, a simple COM port terminal</a></li>
<li><a href="../354956/index.html">VPN for a beer?</a></li>
<li><a href="../354958/index.html">One year in Figme. On the pros and cons of the design tool is subjective</a></li>
<li><a href="../354960/index.html">Extensions for VS Code and JavaScript programming</a></li>
<li><a href="../354964/index.html">Richard Hamming: Chapter 16. Digital Filters - 3</a></li>
<li><a href="../354966/index.html">Effective online quality assessment in the development of web services. Yandex lecture</a></li>
<li><a href="../354968/index.html">We are looking for cycles on the Lorenz attractor in the Maxima package.</a></li>
<li><a href="../354970/index.html">Splunk Distributed Search. Or how to build an indexer cluster on Splunk?</a></li>
<li><a href="../354972/index.html">Qt News, June 2017 - May 2018</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>