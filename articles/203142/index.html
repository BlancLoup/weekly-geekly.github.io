<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Digital Video Surveillance System 2. DVR, software and load testing</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article, like the previous one (Digital Video Surveillance System. Expensive but pleasant) , is rather a cursory description of the project insta...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Digital Video Surveillance System 2. DVR, software and load testing</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/50d/53a/d22/50d53ad226fb34e27524efdfd5f1310e.jpg"><br><br>  This article, like the previous one <a href="http://habrahabr.ru/post/202760/">(Digital Video Surveillance System. Expensive but pleasant)</a> , is rather a cursory description of the project installation.  Here we look at the software attached to the equipment.  We will carry out load testing of switches and DVR. <a name="habracut"></a><br><br><h5>  <b>IP Camera POWERTONE street 1.3Mp with IR illumination, WDR, PoE, 2.8mm</b> </h5><br><img src="https://habrastorage.org/getpro/habr/post_images/811/a5b/ffd/811a5bffd5113f3fe25791256b4fac53.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      First, consider the software from the 1.3 megapixel POWERTONE camera (according to the father KEDACOM LC210 HD IR Waterproof IP Camera). <br>  Judging from the instructions, the software for management and settings to be in the camera itself, and when accessing via the browser, should offer to download it.  40 minutes of dancing with a tambourine failed, the camera stubbornly betrayed 404. <br>  I didn‚Äôt find the POWERTON official website.  Our camera was mentioned on the <a href="http://www.kedacom.com/en/hdipc/20130408/3621.html">KEDACOM</a> website, but there are no necessary programs in the Download section <a href="http://www.kedacom.com/en/hdipc/20130408/3621.html">either</a> .  We found the necessary firmware and programs on NAG (it was necessary to first look there, this is my mistake). <br><br>  Let's start setting up cameras.  After a quick acquaintance with the manual, it turns out that by default the cameras are trying to get an ip from the DHCP server.  It pleases, greatly simplifies the initial setup.  Immediately you should reserve the received ip for the cameras on the server.  For those who do not have a DHCP server on the network, the IPCSearch program will help. <br><br><h6>  ‚ñåProgram for initial IPCSearch setup. </h6><br>  Run and see how all connected cameras appear in the window.  Here we will be able to see the assigned ip, firmware versions, mac-addresses and uptime. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fc5/8b3/51a/fc58b351aad76e9d49d7c6e57bc085d4.jpg"><br><div class="spoiler">  <b class="spoiler_title">More about IPCSearch features</b> <div class="spoiler_text">  The Upgrade feature provides the ability to upload firmware at once to all the cameras found. <br><img src="https://habrastorage.org/getpro/habr/post_images/e9b/6fd/6e2/e9b6fd6e2251e3122a9ce26c73a8eed5.jpg"><br>  When you click on the camera in the main window, a window for manually setting the IP address opens, just for those who do not have DHCP. <br><img src="https://habrastorage.org/getpro/habr/post_images/3cf/fb8/691/3cffb8691e3c95786d2c650886875651.jpg"><br></div></div><br><h6>  ‚ñåProgram to configure the IPCCtrl camera </h6><br>  Program for more detailed configuration of the camera.  Here it is necessary to configure the maximum number of parameters. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/09f/6ad/550/09f6ad55010f509dcf00d7ede95c1a2a.jpg"><br><br>  I'll run a little forward.  <u><b>Do not trust the setting of the output image, motion detection, reboots and tasks to the DVR.</b></u>  You should not load the already not the most powerful piece of hardware with additional tasks, as long as the resources of the camera itself are abundant.  Only in cases when the camera and the DVR are not at all friendly, only then it is worth transferring the processing to the receiving party. <br><br><div class="spoiler">  <b class="spoiler_title">Screenshots (PTZ, Motion Detection, Stream Setup)</b> <div class="spoiler_text">  Configure the main codec.  Below you can configure the second stream, for example, for transmission to the guard post, which requires much less computing power. <br>  <i>One of 19 cameras had a glitch with a change in the number of frames.</i>  <i>The default is 24, but if you try to change it to a smaller value, the camera went into reboot and restored after 3 minutes with the old values.</i>  <i>The error was defeated by re-flashing the camera.</i> <br><img src="https://habrastorage.org/getpro/habr/post_images/c71/cab/967/c71cab967e74556b1a54387c9319a1a4.jpg"><br><br>  Camera settings window.  If a regular camera, you can adjust the white balance, contrast, etc.  If the camera has a PTZ function, it can be fun to twist around and set up a tour (automatic bypass of pre-defined zones). <br><img src="https://habrastorage.org/getpro/habr/post_images/37f/703/fc5/37f703fc551fc17fdb351ade00ec82eb.jpg"><br><br>  Configure motion detection and sensitivity zones.  A zone is a rectangle (1x1, 1x3, 3x3, etc.).  In total, this camera supports 4 zones.  For example, if your zone is similar to the letter ‚ÄúG‚Äù, these are 2 zones, ‚ÄúE‚Äù is already 4 zones. <br><img src="https://habrastorage.org/getpro/habr/post_images/042/766/576/04276657688891cb955d9f20726aecbf.jpg"><br></div></div><br><h6>  ‚ñåProgram for watching localrecplayer videos </h6><br>  Nothing special is different.  Just viewing, <b>without the</b> possibility of decoding to another format. <br><br><h5>  <b>IP camera SNR dome 3.0Mp with IR illumination, 3.3-12mm, PoE, vandal proof</b> </h5><br><br><img src="https://habrastorage.org/getpro/habr/post_images/b05/9de/702/b059de7027315915dcf3e1ae33314d2b.jpg"><br>  Further.  Dome camera 3.0 megapixels produced by SNR (SNR-CI-DD3.0I, is also without IR illumination and is 1000 rubles cheaper than SNR-CI-DD3.0). <br><br><h6>  ‚ñåConfigTool.  The program for searching and minimum configuration of connected cameras. </h6><br>  Fundamentally no different from IPCCtrl.  Also can change ip and update firmware.  I want to note that by default, the SNR dome cameras are assigned static addresses (192.168.1.108).  It is necessary to immediately install the function of receiving ip from the DHCP server for each camera. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b42/19f/3a4/b4219f3a405bba2f891b8e16b9f1bd72.jpg"><br><br>  Further configuration goes through the web-muzzle. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b5a/b44/fd6/b5ab44fd6fdd18ff4689338b2c207e18.jpg"><br><br>  Everything is similar to the previous camera.  The only subtlety, by default, this camera has an automatic reboot every day at 2 am, but this option can be turned off. <br><br><h5>  <b>IP Camera POWERTONE street 2.0Mp, WDR, with IR illumination, 3.3-12mm, PoE, with a bracket</b> </h5><br><br><img src="https://habrastorage.org/getpro/habr/post_images/941/066/7f5/9410667f590180d09c98841f87a9edcb.png"><br>  Another camera from POWERTON.  2 megapixels.  Again, there is no information about these cameras on the Internet, only on NAG. <br>  By default, the static ip-address is set, so you will have to configure the cameras by connecting to the switch one by one (otherwise they don‚Äôt want to let them on the web-face). <br><br><h6>  ‚ñåIPCTools </h6><br><img src="https://habrastorage.org/getpro/habr/post_images/828/d1a/0e1/828d1a0e1a3d62ed5b6cee34b297105c.jpg"><br><div class="spoiler">  <b class="spoiler_title">Upgrade, codec setup, etc.</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/c60/8f1/e6d/c608f1e6d40bfeb939fdf0ef076ddde6.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/21c/e2d/4a7/21ce2d4a739a57bc14e54ba4bd76bd98.jpg"><br><img src="https://habrastorage.org/getpro/habr/post_images/825/c9e/98e/825c9e98eedb5eb53653462a8ff0d110.jpg"><br><img src="https://habrastorage.org/getpro/habr/post_images/1e9/bfb/3c5/1e9bfb3c5de491ab3fac00e229d07adc.jpg"><br><img src="https://habrastorage.org/getpro/habr/post_images/194/5ea/a97/1945eaa970c9b19c814ac6450ba00ec4.jpg"></div></div><br>  All the program is good.  On all cameras, you can immediately change the codec settings, synchronize the time, roll the firmware.  But there are two drawbacks. <br>  1) You can not immediately configure the camera to receive ip from the DHCP server (for this you have to get into the web-face and change the setting there). <br>  2) The setup of the program is on disk, I did not find this program on the Internet. <br><br><h5>  <b>DVR software</b> </h5><br><img src="https://habrastorage.org/getpro/habr/post_images/a59/48e/404/a5948e404d396c495ffb2e4d5463538c.jpg"><br><br>  Well and on tasty, software from the video recorder of network SNR to 16 IP cameras.  D1 / 400fps, 720p / 200fps, 1080p / 100fps, 8HDD.  Everything is wonderful here.  Quite a lot of settings of all kinds.  By connecting the DVR, you can change its settings and at the same time the settings of the cameras connected to it.  You can set the option that when you start Windows, the program itself started and logged in to the necessary DVRs. <br>  With all the settings have not yet managed to figure out, but a quick look very pleased. <br><div class="spoiler">  <b class="spoiler_title">More screenshots</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/bdf/6fb/7c6/bdf6fb7c657f31418b1e5432a6d082f9.jpg"><br><img src="https://habrastorage.org/getpro/habr/post_images/bff/435/fe5/bff435fe55ab4e38d5bf11d550a98be2.jpg"><br><img src="https://habrastorage.org/getpro/habr/post_images/e0b/239/6f0/e0b2396f0b3d9aca5d9a2381a49f6dac.jpg"><br></div></div><br><br>  We briefly summarize and derive the ideal software formula: <br>  1) Work with ONVIF. <br>  2) Centralized configuration of camera parameters.  (static / dynamic ip, update version, configure codec) <br>  3) Video converter in different formats. <br><br><h4>  Stress Testing. </h4><br>  <b>DVR</b> <br>  Given: <br>  16 ip cameras.  704 * 400.  12 fps.  Cameras rented the ceiling. <br>  Total: <br>  18 hours of recording = 900 megabytes.  Incoming traffic 37 Mb / s. <br>  Note: <br>  As I mentioned earlier, the cameras need to be configured before connecting to the recorder.  For a long time I could not understand why after connecting 10 cameras, 11 continued to fall off stubbornly.  The DVR simply did not have enough resources to digest the camera with a resolution of 2048 √ó 1536. <br><br>  <b>SNR switches</b> <br>  Given: <br>  8 ip-cameras all on PoE.  2048 √ó 1536.  18 fps <br>  Total: <br>  CPU load 87-92% <br>  Memory 76% <br>  Notes: <br>  Worthy pulled out three megapixel cameras. <br><br>  <b>Cisco SG300-52</b> <br>  Given: <br>  41 ip camera.  704 * 400.  12 fps <br>  Total: <br>  CPU load 24-29% <br>  Notes: <br>  There is nothing to talk about, for a cat it is not a load. <br><br>  <b>PC with installed DVR program</b> <br>  Given: <br>  13 ip cameras.  704 * 400.  12 fps <br>  AMD Athlon II P340 Dual-Core 2.20 GHz CPU <br>  6 GB of RAM <br>  Total: <br>  CPU load 51-77% <br>  From the opera, the program bit off 389 MB <br>  Notes: <br>  To display 40-50 cameras, a good PC configuration is required. <br><br>  Examples of video and installation of the application on a smartphone will have to be postponed to the next article (if it interests someone).  I see no reason to show examples of videos with a stunning acting game of my office ceiling.  As soon as we finish installing the cameras, I will show examples of day and night shooting. <br><br>  ps  For errors, as usual in PM. <br><br>  Thanks for attention. </div><p>Source: <a href="https://habr.com/ru/post/203142/">https://habr.com/ru/post/203142/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../203126/index.html">Netwrix Auditor: we know what you did last night</a></li>
<li><a href="../203134/index.html">Updates to the Nokia Imaging SDK and Nokia Music API</a></li>
<li><a href="../203136/index.html">Computer vision. Lecture for the Small ShAD Yandex</a></li>
<li><a href="../203138/index.html">How to create an orc: a brief instruction</a></li>
<li><a href="../203140/index.html">Highscreen Black Box Connect review: If you cross the DVR with an IP camera</a></li>
<li><a href="../203144/index.html">Google launched Project Link: fiber optic networking project in developing regions</a></li>
<li><a href="../203146/index.html">Distributing servers: voting</a></li>
<li><a href="../203148/index.html">Space Station celebrates its 15th anniversary</a></li>
<li><a href="../203154/index.html">Meet: Node.js Tools for Visual Studio</a></li>
<li><a href="../203156/index.html">Generator of visual interfaces with genetic algorithm to help designers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>