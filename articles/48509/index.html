<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Gnome Power Manager: hibernation via s2disk</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, I wanted to use such a convenient feature in Ubuntu as hibernation, but instead of the desired sleep mode I received only a tightly hung sys...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Gnome Power Manager: hibernation via s2disk</h1><div class="post__text post__text-html js-mediator-article">  Recently, I wanted to use such a convenient feature in Ubuntu as hibernation, but instead of the desired sleep mode I received only a tightly hung system.  When trying to figure out, it was only possible to find out that the problem is far from unique and ‚Äúwill be fixed in the foreseeable future.‚Äù  After a brief googling and reading the forums, it was decided to use the capabilities of the s2disk application from the uswsusp package, and use it as transparently as possible ... <br><a name="habracut"></a><br>  To begin, we will need a swap section (during the experiments with the swap file we could not get the desired result), <br>  find out if there is such a section and where we can look for it like this: <br><blockquote>  swapon -s </blockquote><br>  in the output of which we will see something like: <br><blockquote>  / dev / sda2 partition 10482404 181280 - </blockquote><br>  If the swap partition is found successfully, proceed to the installation: <br><blockquote>  sudo apt-get install uswsusp </blockquote><br>  As practice has shown, uswsusp wonderfully determines the parameters of the environment, but it will be useful to make sure that the settings are correct.  For this, we open the <u>/etc/uswsusp.conf</u> config with root privileges with our favorite editor and carefully look at: <ul><li>  the ‚Äúresume device‚Äù parameter, should point to the swap-section (which we saw at the very beginning) </li><li>  ‚Äúshutdown method‚Äù parameter, specifies the action taken after recording a snapshot, by default of ‚Äúplatform‚Äù </li></ul><br>  Actually there is nothing more to customize, all the default settings are set as it should.  Now is the time to test performance: <br><blockquote>  sudo s2disk </blockquote><br>  If there were no surprises and the computer successfully ‚Äúfell asleep‚Äù, then skip the next step.  I also had to face a reboot after taking a snapshot.  As a result of reading the mana, we managed to find out that if we set any non-reserved value, then we force the power off, which we will do by specifying any value you like in the <u>/etc/uswsusp.conf</u> config, for example: <br><blockquote>  shutdown method = poweroff </blockquote><br>  Now let's get to the most important thing - let Gnome Power Manager use the already configured s2disk instead of the built-in hibernation function.  To do this, we need to edit the script at <u>/ usr / lib / hal / scripts / hal-system-power-hibernate</u> and bring it to the following form: <br><blockquote>  #! / bin / sh <br>  s2disk </blockquote><br>  Now your darling will peacefully ‚Äúfall asleep‚Äù when you press the ‚ÄúSleep mode‚Äù button in the computer shutdown window with all conveniences: fading the screen and fading the screen when waking up =) <br><br>  PS We take into account the comments - all of the above was done on the workstation with 1526 MB of RAM.  The size of the swap partition was first 310Mb, then 10GB. </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/48509/">https://habr.com/ru/post/48509/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../48498/index.html">How to quickly start and effectively continue to write the extension for the fox</a></li>
<li><a href="../48499/index.html">Question: What should be the translation of technical documentation and terms in it?</a></li>
<li><a href="../48502/index.html">Keynote speaker</a></li>
<li><a href="../48504/index.html">Design Review vs Design by Committee</a></li>
<li><a href="../48505/index.html">Who needs a new Mac mini? No one!</a></li>
<li><a href="../48510/index.html">LendMoney.Ru - online loans in WebMoney</a></li>
<li><a href="../48512/index.html">Caution: statistical misinformation</a></li>
<li><a href="../48514/index.html">Impressive "scientific" experiments at home + competition for Habralubiteley from SmartVideos.ru</a></li>
<li><a href="../48515/index.html">Ruby on Rails take the first step</a></li>
<li><a href="../48516/index.html">(a) Slideshow Wordpress Plugin</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>