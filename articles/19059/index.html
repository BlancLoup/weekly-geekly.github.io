<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Layout experience for a Pocket PC with an example</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Not so long ago, I launched a small project designed to help ‚Äúmobile‚Äù people to unite, chat on the forum, change thoughts on habra-like blogs and so o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Layout experience for a Pocket PC with an example</h1><div class="post__text post__text-html js-mediator-article"> Not so long ago, I launched a small project designed to help ‚Äúmobile‚Äù people to unite, chat on the forum, change thoughts on habra-like blogs and so on.  However, as it was correctly noted in the comments, the project is supposedly ‚Äúmobile‚Äù, and from mobile devices it looks crap, despite the valid xhtml layout and so on.  ‚ÄúDamn it,‚Äù I thought, turned on my FS loox n560 and began to slowly override the templates for the pda version. <br>  At first, I thought about getting by with ‚Äúhandheld.css‚Äù and writing PDA-oriented styles, as I usually do for ‚Äúprinted‚Äù versions.  But I quickly realized that not all problems can be solved using CSS.  Moreover, the principle of constructing the same "printed" pages is usually reduced to: "It is hidden, it is hidden, it is transferred here, it is there, and it is also hidden."  Nevertheless, we are dealing with mobile devices and loading extra traffic in order not to display it in a stupid way ... As a result, I came to the conclusion that not only CSS styles should be rewritten, but templates should be restructured.  I started with a smaller and simpler project to practice ... <a name="habracut"></a><br>  Just in the ToDo sheet of one of my other projects, the ‚ÄúPDA version‚Äù line has been gathering dust for a long time; the project is not very popular, but less well-known.  It was just simple and relatively small, and I began with it.  For those who do not know, <a href="http://www.basher.ru/">basher.ru</a> is an aggregator of quotes from all sorts of different quote <a href="http://www.basher.ru/">books</a> + has its own database of quotes.  Recently, he also collects funny qip statuses.  A certain text-humorous portal. <br>  In my hands I had a Fujitsu-Siemens LOOX N560, with 640x480 resolution, WM 5.0 on board with standard IE Mobile included.  Wrote a condition: <br><br>  <i>"(Isset ($ _ SERVER ['HTTP_UA_OS']) &amp;&amp; preg_match ('/ windows ce / i', $ _SERVER ['HTTP_UA_OS']) &amp;&amp; preg_match ('/ windows ce / i', $ _SERVER ['HTTP_USER_AGENT']) ) ||</i>  <i>preg_match ('/ iphone / i', $ _SERVER ['HTTP_USER_AGENT']) ¬ª</i> <br><br>  for Pocket templates and went to the dance ... In the end, it turned out something like this: <br><img src="http://www.draftcopy.ru/img/mobile/full.jpg"><br>  So, let's get started ... The main advantage of portable devices is also a big pitfall for developers =) a small screen breaks many of the usual techniques and styles of layout.  For example, the diig-like menu, which took several days to create, in the pda-version only looks like 2 selections = (even a shame. But almost all navigation of any site will eventually converge to select.) But on the other hand, on mobile devices it's really comfortable =))) <br>  And you can almost immediately forget about the "columnar" design.  Here it is only single-carved, it is difficult to imagine a 2 or 3 column and this is normal.  Although in reality everything is a bit simpler than it might seem.  For example, in my case, it all came down to replacing: <br> <code>#content{ <br> width:80%; <br> } <br> #right{ <br> width:20%; <br> }</code> <br>  on: <br> <code>#content{ <br> width:100%; <br> } <br> #right{ <br> width:100%; <br> margin-top:10px; <br> }</code> <br>  Or something like that.  Although, of course, I cut down most of the menus for the pocket template.  More often, they just occupy the void in the browser, but they interfere with the packet.  As I said above, we remove them not using display: none; but physically cutting them from the template. <br>  It was a pleasant surprise to see a sheetie, almost without touching either the layout or the styles: <br><img src="http://www.draftcopy.ru/img/mobile/2.jpg"><br>  Poke - even works.  The next step was JS ... <br>  JS turned out to be the main underwater rock.  For example, on my system that I described above, I can get the parents of an element, children, have access to styles, besides the attribute ‚Äúid‚Äù, but not to className = (And the whole JS on <a href="http://www.basher.ru/">basher</a> `s is built on reading / assigning It is this attribute. In mobile IE, there is even an XmlHttp object, but there is no className. In the <a href="http://blogs.msdn.com/iemobile/">mobile donkey development blog,</a> I found ‚Äúproud‚Äù mentions in some posts, such as: ‚Äúnew methods were added to JS‚Äù, ‚Äã‚Äãamong which was className. But apparently, my system is too old, that is, along the way, it is enough just to update the axis on the PDA, but on the other  I don‚Äôt know how to do it and why and people like me are not enough, all of them are forced to update OSes when they visit the site? <br>  Unfortunately, I haven‚Äôt yet implemented voting on AJAX, just for the above reasons - there was not enough time.  Perhaps in the week there will be time after work and I will finish it, however, at the moment, the ‚Äúmobility‚Äù of the service is seriously questioned.  He gained a mobile layout, he retained all his functionality, but I do not think there are many people who are ready to ‚Äúvote‚Äù for quotes and each time wait for the page reload = ( <br><img src="http://www.draftcopy.ru/img/mobile/3.jpg"><br>  Ideally, of course, to make not just the AJAX poll, but also to provide for possible interruption of the connection.  A man rides on a bus or a minibus, he votes for a quote, goes down the subway, continues to check the page and vote, and the connection is gone ... Until it only comes to mind to check the status of the AJAX request and when it timed out go to any other village to read these same cookies.  However, this is not the task today. <br>  In general, it was quite interesting to impose a mobile device, although it is unusually difficult.  It‚Äôs difficult because, for the time being, I don‚Äôt imagine how to properly position the navigation, other service elements on a small screen, how to separate them from standard elements ‚Äî content and so on.  If you have any thoughts, ideas or living examples - throw in the comments.  It will also be very interesting to see how the mobile version of the tower looks on smaller devices (I have 640x480, I don‚Äôt even know, unfortunately or fortunately), on the iPhone and others.  If anyone has a similar opportunity - lay out screenshots in the comments, or throw them to me at email: <a href="">webmaster@basher.ru</a> .  In general - I will be glad to any help in this matter.  After a couple of weeks I promise to report and write in more detail about the features of the layout for mobile devices. <br>  Enjoy your turnings! </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/19059/">https://habr.com/ru/post/19059/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../190566/index.html">HHVM: testing performance and compatibility with Joomla, Bitrix and Wordpress</a></li>
<li><a href="../190572/index.html">The process of developing and rolling out releases in Badoo. Automatic testing. Developer Environment</a></li>
<li><a href="../190580/index.html">Studio Trailers returned to Habr</a></li>
<li><a href="../190582/index.html">Moscow, September 12, Windows Camp - come, it will be interesting!</a></li>
<li><a href="../190584/index.html">The whole truth about the UTF-8 flag</a></li>
<li><a href="../190592/index.html">Dell Latitude 10: Tablet or PC?</a></li>
<li><a href="../190594/index.html">The State Duma agreed to consider a petition against the anti-piracy law</a></li>
<li><a href="../190596/index.html">Notch stops developing 0x10c</a></li>
<li><a href="../190598/index.html">Switch from Flex to Android</a></li>
<li><a href="../190600/index.html">Ilya Massukh‚Äôs reply (FID, ROI) to an open letter on the petition to cancel 187-–§–ó</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>