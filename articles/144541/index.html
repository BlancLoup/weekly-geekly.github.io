<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Ferra.ru: how we made our reader of news and articles for Android</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! It so happened that I work at Ferra.ru. Yesterday we released our application for Android, but I still do not let go of overwhelming desire to ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Ferra.ru: how we made our reader of news and articles for Android</h1><div class="post__text post__text-html js-mediator-article">  Hello!  It so happened that I work at Ferra.ru.  Yesterday we released our application for Android, but I still do <s>not let go of</s> overwhelming desire to share their joy.  I think ‚ÄúI am PR‚Äù for this purpose will suit in the best way.  We did it for a long time, many times reworked.  But we liked what we <a href="https://play.google.com/store/apps/details%3Fid%3Dru.ferra">put on Google Play</a> , although, of course, we wanted more.  But for a start - just right. <br><img src="https://habrastorage.org/storage2/fa7/b7a/37b/fa7b7a37b2858dc7575c83d55439a01e.jpg"><br><a name="habracut"></a><br>  First of all I will answer the question: why?  It is clear that there is no problem to read us via RSS.  We have a separate feed of articles and even a <a href="http://www.ferra.ru/site/export/">news feed designer</a> - there you can select individual sections.  But RSS is a specific thing.  We know about it, you know about it, and the masses of the people do not know.  And the statistics of site visits by platforms / browsers confirms this.  Plus, functions like commenting are conceived, which the RSS reader will not pull in principle.  Anyway, specialized - better than universal. <br><br>  The design turned out to be minimalistic: two tabs - under the news and under the article.  The first are shown in a simple list with headings and text fragments.  The articles are smarter: they are shown in horizontal lists for each section, with tiny pictures. <br><img src="https://habrastorage.org/storage2/377/f22/74a/377f2274ab1f64000a099ec66082ae17.jpg"><br>  You can switch between adjacent materials with a swipe; you do not need to hook through the list.  This idea, it seems, came to us independently, but, as it turned out later, this technique is common.  Great minds think alike :) <br><br>  Now to the technical details.  Our application is mobile, and these users have one main feature: slow and sometimes expensive Internet.  So I had to think about how not to drive through the air too much.  The problem, by the way, was interesting! 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Let's start with the fact that all the images are scaled on the server side.  The client transmits the width of the terminal screen and receives images of the desired size.  This is the main measure, and it allowed to cut off traffic in two or three times.  Pictures are loaded when the material is opened and cached for later. <br><br>  Our articles are voluminous, and even bare letters would have eaten a megabyte or two in one update.  Well, who needs this senseless cruelty? .. In general, we have made a separate RSS feed of articles that includes only headlines and URLs (they play the role of ID) of the last ten articles from each section.  The client receives them, looks at what he does not have yet, and then turns to a separate script that issues the full text of a specific article in the RSS format, giving him the ID of the desired article.  How many new articles appeared - so many times will appeal. <br><br>  In general, we need feedback, criticism, affection, beating and, if possible, advice on how to do better :) So far, of the optimization possibilities, only a request for all fresh articles comes in one fell swoop in order not to rape a long-ping connection. <br><br>  <b><a href="https://play.google.com/store/apps/details%3Fid%3Dru.ferra">Ferra.ru on Google Play</a></b> </div><p>Source: <a href="https://habr.com/ru/post/144541/">https://habr.com/ru/post/144541/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../144535/index.html">Using the Google Speech API to manage your computer</a></li>
<li><a href="../144536/index.html">Bank St. Petersburg has released an online bank for Android</a></li>
<li><a href="../144537/index.html">QR codes on beer glasses</a></li>
<li><a href="../144538/index.html">Free Visual Studio 11 will only work with Metro UI</a></li>
<li><a href="../144540/index.html">Programming for everyone: a new literacy standard</a></li>
<li><a href="../144544/index.html">finalize and finalizer</a></li>
<li><a href="../144545/index.html">Intel 7th Series Chipsets - A Comparative Overview</a></li>
<li><a href="../144547/index.html">Determination of Bluetooth connectivity for Android</a></li>
<li><a href="../144548/index.html">Bump - a natural interface with simple tools</a></li>
<li><a href="../144550/index.html">Home Agent: news, realities and prospects</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>