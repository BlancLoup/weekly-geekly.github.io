<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>WebMarkupMin: Minimize KnockoutJS and AngularJS views</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Starting from version 0.9.0, WebMarkupMin supports minimization of KnockoutJS (hereafter simply Knockout) and AngularJS (hereafter simply Angular) vie...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>WebMarkupMin: Minimize KnockoutJS and AngularJS views</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/92e/c01/a2d/92ec01a2d0d854e9735cb73d744bef19.png" width="600" height="100" alt="WebMarkupMin, KnockoutJS and AngularJS logos"><br>  Starting from version 0.9.0, <a href="http://webmarkupmin.codeplex.com/">WebMarkupMin</a> supports minimization of <a href="http://knockoutjs.com/">KnockoutJS</a> (hereafter simply Knockout) and <a href="http://angularjs.org/">AngularJS</a> (hereafter simply Angular) views.  Many of you may ask the question: "Why is Knockout and Angular, not <a href="http://mustache.github.io/">Mustache</a> or <a href="http://underscorejs.org/">Underscore</a> ?"  This choice was made for the following reasons: <br><ol><li> <strong>DOM based templates.</strong>  The template engines built into Knockout and Angular are based on DOM-based templates (DOM-based templates), and not on string-based templates like Mustache and Underscore.  The code of such templates does not contain software inserts (for example, <code>{{‚Ä¶}}</code> or <code>&lt;%‚Ä¶%&gt;</code> ) outside the text content of elements (tags) and attribute values, which allows minimizing it as regular HTML. </li><li>  <strong>Popularity among .NET developers.</strong>  Knockout was originally created for .NET developers to allow them to transfer their experience in developing MVVM applications from WPF and Silverlight to a regular web.  As for Angular, it doesn‚Äôt need any introduction at all and its popularity among web developers in general beats all possible records.  In addition, the popularity of these libraries among .NET-developers contributed to a huge number of articles of the evangelist Microsoft <a href="http://www.johnpapa.net/about/">John Pope</a> . </li><li>  <strong>High compression efficiency for binding expressions.</strong>  The binding expressions in Knockout and Angular are actually simple JavaScript code or objects in JSON format that can be compressed with the JS minimizer. </li></ol><br><a name="habracut"></a><br><h2>  New configuration properties </h2><br>  By default, the minimization of views is disabled, and to enable it, you need to change the values ‚Äã‚Äãof the following properties of the <code>HtmlMinificationSettings</code> class: <br><table><tbody><tr><th>  Property </th><th>  Data type </th><th>  Default value </th><th>  Description </th></tr><tr><td> <code>ProcessableScriptTypeList</code> </td> <td>  Line </td><td>  Empty line </td><td>  Contains a comma-separated list of <code>script</code> tag types (for example, <code>text/html,text/ng-template</code> ), the contents of which must be processed by the HTML minimizer. </td></tr><tr><td> <code>MinifyKnockoutBindingExpressions</code> </td> <td>  Boolean </td><td> <code>false</code> </td> <td>  The flag responsible for minimizing the Knockout bindings in the <code>data-bind</code> attributes and containerless comments. </td></tr><tr><td> <code>MinifyAngularBindingExpressions</code> </td> <td>  Boolean </td><td> <code>false</code> </td> <td>  The flag responsible for minimizing Angular binding expressions in Mustache-like tags ( <code>{{ }}</code> ) and directives. </td></tr><tr><td> <code>CustomAngularDirectiveList</code> </td> <td>  Line </td><td>  Empty line </td><td>  Contains a comma-separated list of custom Angular directives (for example, <code>myDir,btfCarousel</code> ) that contain binding expressions.  If the value of the <code>MinifyAngularBindingExpressions</code> property is <code>true</code> , then the expressions in the user directives will be minimized. </td></tr></tbody></table>  Consider each property in more detail: <br><br><h3>  ProcessableScriptTypeList </h3><br>  Prior to version 0.9.0, <code>script</code> tags that do not contain JavaScript code were simply ignored by the HTML minimizer.  This was done because these tags can contain anything from VBScript code to Handlebars templates.  But at the same time, if the <code>script</code> tag contains the code of the DOM template, then it would be worth letting it through the HTML minimizer.  Therefore, users were given the opportunity to determine the list of acceptable content types themselves. <br><br>  Returning to the topic of the article, I will give a few examples: <br><ol><li>  If you want to minimize the Knockout views, then the <code>ProcessableScriptTypeList</code> property <code>ProcessableScriptTypeList</code> be set to a value equal to <code>text/html</code> . </li><li>  If we are dealing with Angular views, then <code>text/ng-template</code> . </li><li>  If the project uses two libraries at once, then you need to list the content types separated by commas: <code>text/html,text/ng-template</code> . </li></ol><br>  You also need to understand that we are not limited only to Knockout and Angular, theoretically we have the ability to minimize any DOM-based template (for example, we can specify the <code>text/x-kendo-tmpl</code> content type for <a href="http://docs.telerik.com/kendo-ui/framework/mvvm/overview">Kendo MVVM</a> views, which differ little from Knockout ). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  MinifyKnockoutBindingExpressions </h3><br>  Usually when I talk about WebMarkupMin, then as an example I cite the code for the <code>shell.html</code> file from the demo project <a href="">HotTowel</a> : <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--ko compose: {view: 'nav'} --&gt;</span></span><span class="hljs-comment"><span class="hljs-comment">&lt;!--/ko--&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"main container-fluid"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--ko compose: {model: router.activeItem, afterCompose: router.afterCompose, transition: 'entrance'} --&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--/ko--&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">footer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--ko compose: {view: 'footer'} --&gt;</span></span><span class="hljs-comment"><span class="hljs-comment">&lt;!--/ko--&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">footer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  After minimization, this code takes the following form: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-comment"><span class="hljs-comment">&lt;!--ko compose: {view: 'nav'}--&gt;</span></span><span class="hljs-comment"><span class="hljs-comment">&lt;!--/ko--&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"main container-fluid"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-comment"><span class="hljs-comment">&lt;!--ko compose: {model: router.activeItem, afterCompose: router.afterCompose, transition: 'entrance'}--&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--/ko--&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">footer</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-comment"><span class="hljs-comment">&lt;!--ko compose: {view: 'footer'}--&gt;</span></span><span class="hljs-comment"><span class="hljs-comment">&lt;!--/ko--&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">footer</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  It immediately catches the eye that the binding expressions (hereafter just expressions) in containerless comments (the so-called <em>containerless control flow syntax</em> ) contain too many whitespace characters and would be worth minimizing them. <br><br>  Take for example the expression <code>compose: {view: 'nav'}</code> , which, in its essence, is an object in JSON format without external curly braces.  We can wrap it in braces: <code>{compose: {view: 'nav'}}</code> , and process it with a JS minimizer.  Then remove the external curly brackets from the minimized code and return it to containerless comment. <br><br>  If the <code>MinifyKnockoutBindingExpressions</code> property <code>MinifyKnockoutBindingExpressions</code> set to <code>true</code> , then all the actions described above will be applied to the expressions.  For these purposes, <code>CrockfordJsMinifier</code> is always used as a JS minimizer, because only it can correctly minimize JSON code ( <code>MsAjaxJsMinifier</code> and <code>YuiJsMinifier</code> not suitable for this purpose). <br><br>  With the new settings we get the following code: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-comment"><span class="hljs-comment">&lt;!--ko compose:{view:'nav'}--&gt;</span></span><span class="hljs-comment"><span class="hljs-comment">&lt;!--/ko--&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"main container-fluid"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-comment"><span class="hljs-comment">&lt;!--ko compose:{model:router.activeItem,afterCompose:router.afterCompose,transition:'entrance'}--&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--/ko--&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">footer</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-comment"><span class="hljs-comment">&lt;!--ko compose:{view:'footer'}--&gt;</span></span><span class="hljs-comment"><span class="hljs-comment">&lt;!--/ko--&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">footer</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  The same actions are performed with <code>data-bind</code> attributes.  For example, we have the following code: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-bind</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text: price() &gt; 50 ? 'expensive' : 'cheap'"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  After minimization, it will look like this: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-bind</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text:price()&gt;50?'expensive':'cheap'"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h3>  MinifyAngularBindingExpressions </h3><br>  According to the <a href="http://docs.angularjs.org/guide/expression">documentation</a> , Angular expressions are JavaScript-like code fragments.  However, they can be minimized with <code>CrockfordJsMinifier</code> .  The only problem was only one-time binding expressions (starting with <code>::</code> .  The original JSMin always removed the whitespace before it, but after making small changes to the <code>CrockfordJsMinifier</code> code, the problem was fixed. <br><br>  In Angular, expressions can be contained in Mustache-like tags ( <code>{{ }}</code> ) and directives. <br><br>  In turn, Mustache-like tags may be in the text content of the elements: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">strong</span></span></span><span class="hljs-tag">&gt;</span></span>Price:<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">strong</span></span></span><span class="hljs-tag">&gt;</span></span> {{ 3 * 10 | currency }}</code> </pre> <br>  and in attribute values: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/Content/images/icons/{{ iconName + '.png' }}"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Accordingly, if the <code>MinifyAngularBindingExpressions</code> property <code>MinifyAngularBindingExpressions</code> set to <code>true</code> , then we will get the following results: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">strong</span></span></span><span class="hljs-tag">&gt;</span></span>Price:<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">strong</span></span></span><span class="hljs-tag">&gt;</span></span> {{3*10|currency}}</code> </pre>  and <pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/Content/images/icons/{{iconName+'.png'}}"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  With directives, the situation is much more complicated.  In the template code, directives can be represented in 4 ways: <br><ol><li>  In the form of elements </li><li>  In the form of attributes </li><li>  As the contents of <code>class</code> attributes </li><li>  In the form of comments </li></ol><br>  The names of the directives may also have different spellings.  For example, for the <code>ngBind</code> directive there are the following options: <br><ul><li> <code>ng-bind</code> </li> <li> <code>ng:bind</code> </li> <li> <code>ng_bind</code> </li> <li> <code>x-ng-bind</code> </li> <li> <code>data-ng-bind</code> </li> </ul><br>  All these features are taken into account when minimizing. <br><br>  In addition, not all directives contain expressions.  Some directives may also contain: patterns, simple values, or nothing at all.  In order to separate directives that contain expressions from other directives, the following list is used: <code>ngController</code> , <code>ngCopy</code> , <code>ngCut</code> , <code>ngDblclick</code> , <code>ngDisabled</code> , <code>ngFocus</code> , <code>ngHide</code> , <code>ngIf</code> <code>ngInit</code> , <code>ngKeydown</code> , <code>ngKeypress</code> , <code>ngKeyup</code> , <code>ngModelOptions</code> , <code>ngMousedown</code> , <code>ngMouseenter</code> , <code>ngMouseleave</code> , <code>ngMousemove</code> <br><br><h4>  Items </h4><br>  The HTML minimizer processes only one directive element - <code>ngPluralize</code> .  More specifically, expressions in the <code>count</code> and <code>when</code> attributes are minimized. <br><br>  Suppose we have the following code: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ng-pluralize</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">count</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" personCount "</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">when</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{ '0': 'Nobody is viewing.', 'one': '1 person is viewing.', 'other': '{} people are viewing.' }"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ng-pluralize</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  After minimization, it will look like this: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ng-pluralize</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">count</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"personCount"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">when</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{'0':'Nobody is viewing.','one':'1 person is viewing.','other':'{} people are viewing.'}"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ng-pluralize</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h4>  Attributes </h4><br>  Minimizing expressions in attribute directives in Angular is even easier than minimizing the contents of the <code>data-bind</code> attributes in Knockout, because here you don‚Äôt need to think about external curly braces. <br><br>  Consider minimizing expressions in attribute directives <code>ngRepeat</code> directive as an <code>ngRepeat</code> : <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-repeat</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"customer in customers | filter:nameText | orderBy:'name'"</span></span></span><span class="hljs-tag">&gt;</span></span> {{customer.name}} - {{customer.city}} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Despite the fact that the attribute contains ‚Äúincorrect‚Äù code (from the JavaScript point of view), the minimization is still successful: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-repeat</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"customer in customers|filter:nameText|orderBy:'name'"</span></span></span><span class="hljs-tag">&gt;</span></span>{{customer.name}} - {{customer.city}}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h4>  Classes </h4><br>  The main difference between class directives and attribute directives is that the <code>class</code> attribute can contain several directives at once: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ng-bind: name; ng-cloak; ng-style: { 'background-color': 'lime' };"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  This problem was solved: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ng-bind:name;ng-cloak;ng-style:{'background-color':'lime'}"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h4>  Comments </h4><br>  Unfortunately, in Angular there is not a single built-in directive that could be represented as a comment.  Therefore, we will consider a slightly contrived example, where the user directive <code>myDir</code> will be used as a comment directive: <br><br><pre> <code class="html hljs xml"><span class="hljs-comment"><span class="hljs-comment">&lt;!-- directive: my-dir 1 + 1 --&gt;</span></span></code> </pre> <br>  After minimization, we get the following code: <br><br><pre> <code class="html hljs xml"><span class="hljs-comment"><span class="hljs-comment">&lt;!--directive:my-dir 1+1--&gt;</span></span></code> </pre> <br><h3>  CustomAngularDirectiveList </h3><br>  Since Angular has the ability to create its own directives, users have been given the opportunity to add the names of these directives to a special list.  Custom directives specified in the <code>CustomAngularDirectiveList</code> property will be processed by the minimizer as well as built-in Angular directives. <br><br><h2>  Web Essentials 2013 Support </h2><br>  If you store your views in separate HTML files, then the standard ASP.NET extensions that come with WebMarkupMin will be of little use.  In this case, you need a fundamentally different tool that will minimize the HTML files at the project build stage.  At the moment there is only one such tool - this is the VS-extension <a href="http://vswebessentials.com/">Web Essentials 2013</a> . <br><br>  The latest stable version of Web Essentials 2013 (version 2.3) supports the old version of WebMarkupMin (version 0.8.21).  Therefore, you will need to install the nightly assembly of Web Essentials 2013 (there is <a href="http://vswebessentials.com/download">an installation guide</a> on the expansion site). <br><br>  The last, at the time of writing, the nightly build (version 2.3.4.1) supports WebMarkupMin 0.9.3 and allows you to configure all the considered configuration properties: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5b0/8e0/a2f/5b08e0a2fc0997071ba4f9319bcb62d5.png" width="758" height="441" alt="HTML minimization settings in Web Essentials 2013 (version 2.3.4.1)"><br><br><h2>  Links </h2><br><ol><li>  <a href="http://webmarkupmin.codeplex.com/">WebMarkupMin</a> project <a href="http://webmarkupmin.codeplex.com/">page</a> on CodePlex </li><li>  Article <a href="http://habrahabr.ru/post/178081/">"WebMarkupMin HTML Minifier - modern HTML minimizer for the .NET platform"</a> </li><li>  The official site of the VS-extensions <a href="http://vswebessentials.com/">Web Essentials</a> </li><li>  Article <a href="http://habrahabr.ru/post/199206/">"HTML minimization in Web Essentials 2013"</a> </li><li>  Article <a href="http://habrahabr.ru/post/238741/">"HTML minimization in Web Essentials 2013: What has changed over the year?"</a> </li></ol><br>  <strong>UPD1:</strong> October 17 released a <a href="">stable version of Web Essentials 2013</a> (version 2.4), which supports all the presented functionality. <br><habracut></habracut></div><p>Source: <a href="https://habr.com/ru/post/239025/">https://habr.com/ru/post/239025/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../239009/index.html">Two special models for splitting numbers</a></li>
<li><a href="../239011/index.html">Testing Effort Planning - Report from SQA Days 15</a></li>
<li><a href="../239013/index.html">Caesar III: game loop</a></li>
<li><a href="../239015/index.html">New Ruby Books</a></li>
<li><a href="../239023/index.html">The FLIR One: What can a thermal imager for a phone?</a></li>
<li><a href="../239027/index.html">Lumia SensorCore SDK: new opportunities for developing mobile applications. Part 2: Creating the Application</a></li>
<li><a href="../239029/index.html">Placebo-buttons in everyday life and in web design</a></li>
<li><a href="../239031/index.html">There is a version of Popcorn Time for iOS</a></li>
<li><a href="../239033/index.html">KolibriOS Digest # 7: how we spent the winter winter</a></li>
<li><a href="../239035/index.html">WoodyMac - the wooden constructor of the future</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>