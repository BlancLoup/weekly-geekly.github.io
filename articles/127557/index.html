<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Helios Kernel (convenient include in Javascript)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello World, 

 It all started with a simple idea: I wanted to, so that I could write something like in the header of the script 



include( "path/to...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Helios Kernel (convenient include in Javascript)</h1><div class="post__text post__text-html js-mediator-article">  Hello World, <br><br>  It all started with a simple idea: I wanted to, so that I could write something like in the header of the script <br><br><pre><code class="javascript hljs">include( <span class="hljs-string"><span class="hljs-string">"path/to/someLibrary.js"</span></span> );</code> </pre> <br>  and below use objects declared in the script <b>someLibrary.js</b> .  So the library appeared <a href="http://home.gna.org/helios/kernel/"><img src="https://habrastorage.org/getpro/habr/post_images/b72/33e/0e7/b7233e0e75492a8b15cbe32937744f11.png"></a>  <a href="http://home.gna.org/helios/kernel/">Helios Kernel</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br>  This library defines the <b>include ()</b> function, tracks dependencies between files, and ensures that the required sources are initialized before the code using them is called. <br><br>  As a result, each script looks like this: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//    include( "path/to/someLibrary.js" ); include( "path/to/someOtherLibrary.js" ); function init() { //   -   ,   //  ,   ,    someLibrary.doSomething(); var mySomething = new someLibrary.Something(); someOtherLibrary.doSomethingElse(); }</span></span></code> </pre><br>  All scripts, the path to which is passed as a parameter for <b>include ()</b> , must have the same structure, that is, their code must be inside the <b>init ()</b> function, and they can have their own dependencies declared via <b>include ()</b> .  Helios Kernel enables the required scripts, and initializes them in the correct order. <br><br><hr>  <b>Update</b> <a name="Update"></a>  : It will probably be appropriate to explain here how this library differs from a dozen other libraries for downloading scripts.  Helios Kernel provides the same approach to defining dependencies between modules as used in many other programming languages ‚Äã‚Äãand is usually available out of the box there - this is the ability to determine dependencies of a module in the header of the module itself.  That is, now, if you need to load a module, you don‚Äôt need to worry about preloading other modules that it needs to work.  Specifying module dependencies is a task for the author of the module, and not for its users.  The user simply reports that he needs a module, and the Helios Kernel library itself loads the necessary dependencies and initializes them in the appropriate order. <br><hr><br>  I tried to make this library as simple as possible (in terms of functionality).  It also contains some useful pieces that naturally complement it. <br><br>  The library declares two more useful functions: <b>kernel.require ()</b> and <b>kernel.release ()</b> , which can be used to dynamically load and unload the necessary scripts (along with all dependencies) in runtime.  It looks like this: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//   -  //       AppController.prototype.doSomethingHandler = function() { //     this.magicLibraryTicket = kernel.require( "path/to/magicLibrary.js", function() { //       , //      magicLibrary.doSomething(); } ); }</span></span></code> </pre><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//     , , //        AppController.prototype.stopSomethingHandler = function() { //       magicLibrary.stopDoingSomething(); //  ,     kernel.release( this.magicLibraryTicket ); }</span></span></code> </pre><br>  These two functions ( <b>kernel.require ()</b> and <b>kernel.release ()</b> ) inform the library that a script was needed (or that a script is no longer required).  The library itself decides that when it is necessary to load and unload ‚Äî if, for example, a script is used in another place, it will not be unloaded on request of <b>kernel.release ()</b> . <br><br>  In addition, Helios Kernel is able to handle all sorts of strange situations.  For example: the <b>kernel.require ()</b> function has a third optional parameter (in addition to the script path that needs to be loaded, and the callback that needs to be called when this script is loaded).  This third parameter is another callback, which is called in case of an error when loading the script (if, for example, there were problems with the network, or a cyclic dependency was discovered).  The path of the script that failed to load is passed as the only argument when calling this callback. <br><br>  The Helios Kernel library also has a handy function <b>getStatistics ()</b> , which provides detailed information about the status of loaded scripts.  This function can be used to inform the user about the boot process using any indicator in the interface. <br><br>  See the documentation for more details (290 kb): <a href="http://home.gna.org/helios/kernel/helios-kernel-0.9-guide.pdf">helios-kernel-0.9-guide.pdf</a> <br>  Download the library here (8 kb): <a href="">helios-kernel-0.9.tar.gz</a> <br>  The home page of the project is here: <a href="http://home.gna.org/helios/kernel/">home.gna.org/helios/kernel</a> (although, it says about the same thing, only briefly in English). <br><br><h4>  Prehistory </h4><br>  Two years ago I posted this note here: <a href="http://habrahabr.ru/blogs/personal/68291/">Helios Javascript Framework</a> .  In it, I told that I am planning to make a whole web application development framework, and showed <a href="http://home.gna.org/helios/helioscalc/">me a demo with a glamor calculator</a> .  This simple demo contains quite a lot of code - in fact, the widget library is implemented there.  But for wide use these developments were of little use.  I wanted to see how it would work as quickly as possible, so everything was written in haste, and I even scored on the code documentation.  However, the documentation is not needed there: it was what is called proof of concept, and my first attempt to write a library for widgets (therefore, it is very terrible). <br><br>  As planned, the Helios Framework consists of a set of libraries that run on top of the main library, resolving dependencies between scripts.  Therefore, the Helios Kernel library has such a ‚Äúpretentious‚Äù name - I hope I have enough time and will to add and once to release the whole framework, with libs and widgets. <br><br>  In that demo with a calculator, there was also a Helios Kernel, which provided basic functionality for the <b>include ()</b> function and loaded the necessary dependencies.  But that kernel was also terrible and primitive, as was the widget library.  In general, I decided that the experiment with the framework is successful, and I need to come to grips with it.  And he began to write the core, but thoughtfully, for people and with the documentation. <br><br>  For me, this project is something of an antipode to what I do for work.  There is no budget, customer with your wishes, deadlines and restrictions.  Sometimes I haven‚Äôt been working on the project for months, and sometimes I figured the opposite with ducks all the time.  A couple of times it was like this that I had an idea that everything can be done completely differently, and then it will work better / faster, and I did it - I copied everything from scratch.  And this went on until I brought the Helios Kernel into some ‚Äúperfect‚Äù state (in my opinion).  Well, you can see the result above. <br><br>  Now I will think what to code next.  I hope my next report will be earlier than in two years :-) </div><p>Source: <a href="https://habr.com/ru/post/127557/">https://habr.com/ru/post/127557/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../127552/index.html">Build custom firmware OpenWRT</a></li>
<li><a href="../127553/index.html">Qt SDK v1.1.3 release</a></li>
<li><a href="../127554/index.html">Freedom Day in Omsk</a></li>
<li><a href="../127555/index.html">Qt Creator 2.3.0 Release</a></li>
<li><a href="../127556/index.html">Another Monad Guide (part 1: basics)</a></li>
<li><a href="../127558/index.html">Launch Skype without the annoying Main Page</a></li>
<li><a href="../127560/index.html">IFA 2011, day 2: Samsung Galaxy Note, NX200, MV800 and Lenovo U300s</a></li>
<li><a href="../127561/index.html">Jquery 1.6.3 released</a></li>
<li><a href="../127562/index.html">phpBB Constructor - its own phpBB build for everyone</a></li>
<li><a href="../127564/index.html">IBM bought Algorithmics</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>