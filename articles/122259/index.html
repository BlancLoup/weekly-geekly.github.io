<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Haskell Quest Tutorial - Glade</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Clearing 
 It is a small forest path. 

 Content: 
 Greeting 
 Part 1 - The Threshold 
 Part 2 - Forest 
 Part 3 - Polyana 
 Part 4 - View of the cany...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Haskell Quest Tutorial - Glade</h1><div class="post__text post__text-html js-mediator-article"><blockquote>  Clearing <br>  It is a small forest path. </blockquote><br><br>  Content: <br>  <a href="http://habrahabr.ru/blogs/Haskell/120590/">Greeting</a> <br>  <a href="http://habrahabr.ru/blogs/Haskell/120759/">Part 1 - The Threshold</a> <br>  <a href="http://habrahabr.ru/blogs/Haskell/121189/">Part 2 - Forest</a> <br>  <a href="http://habrahabr.ru/blogs/Haskell/122259/">Part 3 - Polyana</a> <br>  <a href="http://habrahabr.ru/blogs/Haskell/122788/">Part 4 - View of the canyon</a> <br>  <a href="http://habrahabr.ru/blogs/Haskell/123422/">Part 5 - Hall</a> <br><br>  Part 3, <br>  in which we will learn magic with ADT and learn the magic transducers Show and Read. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In the last part, we invented various describeLocation options, and at the end we created three algebraic types - Location, Direction, Action.  I mentioned the magic and amazing possibilities of ADT, but said that we will consider them later.  We just inherited our types from <i>the type</i> class Eq, in which the operations "==" and "/ =" lie, and now ... <br><a name="habracut"></a><br>  Do you want miracles?  Well ... Let's look again at the Location type: <br><br><blockquote>  <font color="#06c">data</font> Location <font color="#66cc66">=</font> <br>  Home <br>  <font color="#339933">|</font>  Friend'sYard <br>  <font color="#339933">|</font>  Garden <br>  <font color="#339933">|</font>  OtherRoom <font color="#5d478b">- Added new constructor.</font> <br>  <font color="#06c">deriving</font> <font>(</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">Eq</a></font> <font>)</font> <br><br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> Home <font color="#339933">/ =</font> Friend'sYard <br>  True <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> Home <font color="#339933">==</font> OtherRoom <br>  False </blockquote><br><br>  Very good!  In the first part, we learned that there is a show function that translates something into a string.  Let's try: <br><br>  * Main&gt; show Home <br><br><blockquote>  <font color="#339933">&lt;</font> interactive <font color="#339933">&gt;</font> : <font color="red">1</font> : <font color="red">1</font> : <br>  No <font color="#06c">instance</font> for <font>(</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">Show</a></font> Location <font>)</font> <br>  arising from a use <font color="#06c">of</font> ' <font>show</font> ' <br>  Possible fix: add an <font color="#06c">instance</font> declaration for <font>(</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">Show</a></font> Location <font>)</font> <br>  In the expression: <font>show</font> Home <br>  In this equation for 'it': it <font color="#66cc66">=</font> <font>show</font> Home </blockquote><br><br>  It did not work ... We have already encountered a similar error at the end of the second part.  There we tried to compare two constructors, but nothing came of it, because ghci did not know how to compare them.  We solved the problem by adding a ‚Äúderiving (Eq)‚Äù spell at the end of the Location type, and got the ‚Äúfactory‚Äù comparison function "==".  Can we do something like this to get the show function?  We can!  It is enough to inherit <i>the</i> Show <i>type class</i> : <br><br><blockquote>  <font color="#06c">data</font> Location <font color="#66cc66">=</font> <br>  Home <br>  <font color="#339933">|</font>  Friend'sYard <br>  <font color="#339933">|</font>  Garden <br>  <font color="#339933">|</font>  OtherRoom <br>  <font color="#06c">deriving</font> <font>(</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">Eq</a></font> <font color="#339933">,</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">Show</a></font> <font>)</font> <br><br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> : r <br>  <font>[</font> <font color="red">1</font> <font color="#06c">of</font> <font color="red">1</font> <font>]</font> Compiling Main <font>(</font> H: \ Haskell \ QuestTutorial \ Quest \ QuestMain <font color="#339933">.</font> Hs <font color="#339933">,</font> interpreted <font>)</font> <br>  Ok <font color="#339933">,</font> modules loaded: Main <font color="#339933">.</font> <br><br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font>show</font> Home <br>  <i><font color="#808080">"Home"</font></i> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <i><font color="#808080">"Current location name:"</font></i> <font color="#339933">++</font> <font>show</font> Home <font color="#339933">++</font> <i><font color="#808080">"."</font></i> <br>  <i><font color="#808080">‚ÄúCurrent location name: Home.‚Äù</font></i> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font>show</font> Friend'sYard <br>  <i><font color="#808080">"Friend'sYard"</font></i> </blockquote><br><br>  How can this be used?  Oh, in a variety of ways.  Let's improve the describeLocation function now.  Rewrite the last alternative (" <a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">otherwise</a> "): <br><br><blockquote>  describeLocation <font color="#339933">::</font> Location <font color="#66cc66">-&gt;</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">String</a></font> <br>  describeLocation loc <font color="#66cc66">=</font> <font color="#06c">case</font> loc <font color="#06c">of</font> <br>  Home <font color="#66cc66">-&gt;</font> <i><font color="#808080">"You are standing in the middle of the wooden table."</font></i> <br>  Friend'sYard <font color="#66cc66">-&gt;</font> <i><font color="#808080">‚ÄúYou</font></i> ‚Äôve been <i><font color="#808080">behind a small wooden fence.‚Äù</font></i> <br>  Garden <font color="#66cc66">-&gt;</font> <i><font color="#808080">‚ÄúYou are in the garden.</font></i>  <i><font color="#808080">Garden looks very well: clean, tonsured, cool and wet. "</font></i> <br>  <font><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">otherwise</a></font> <font color="#66cc66">-&gt;</font> <i><font color="#808080">"No description available for location with name"</font></i> <font color="#339933">++</font> <font>show</font> loc <font color="#339933">++</font> <i><font color="#808080">"."</font></i> </blockquote><br><br>  And now, without resorting to ghci, tell me: what happens if you call "describeLocation OtherRoom"?  Watch where the OtherRoom constructor will go, how the case will work, which of the options will be chosen, and what line this option will return.  Is it done?  Check yourself: <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> describeLocation OtherRoom <br>  <i><font color="#808080">‚ÄúNo description available for location with name OtherRoom.‚Äù</font></i> </blockquote><br><br>  I, unfortunately, do not have pies for you;  but if you guessed correctly, you can be proud of yourself.  You just took a show function from the Show <i>type class</i> and converted the constructor to a string.  Handsomely?  Yes, I think so.  Try, for example, in C ++ it is just as easy to convert an element of an enumeration into a string ... <br><br>  The show function is very useful.  Inherit from the Show type <i>class the</i> Action and Direction types.  I promise you will not lose! <br><br><blockquote><blockquote>  Type constructors, such as Home, Friend'sYard or Garden, are in fact special features that are allowed to begin with a capital letter.  And since these are functions, they have a type.  What will the ": type Home" command give?  It's elementary, Watson. <br><br>  * Main&gt;: type Home <br>  Home :: Location </blockquote></blockquote><br><br>  You know, something doesn't suit me here.  Look at the quotes from Zork at the beginning of each of the parts: the location name is first displayed there, and then - from the new line - the description.  Let's rewrite the describeLocation function ... Yes, yes, again, don't moan like that! .. I want the location name to appear before its description.  The solution "in the forehead": I just implemented the location name in the text string. <br><br><blockquote>  describeLocation loc <font color="#66cc66">=</font> <font color="#06c">case</font> loc <font color="#06c">of</font> <br>  Home <font color="#66cc66">-&gt;</font> <i><font color="#808080">"Home <font>\</font> " You are in the middle of the wooden table.</font></i> <br>  'S <i><font color="#808080">'s Y Friend Y&gt;&gt;&gt;&gt;&gt;&gt;&gt;</font></i> <br>  Garden <font color="#66cc66">-&gt;</font> <i><font color="#808080">‚ÄúGarden <font>\ n</font> You are in the garden.</font></i>  <i><font color="#808080">Garden looks very well: clean, tonsured, cool and wet. "</font></i> <br>  <font><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">otherwise</a></font> <font color="#66cc66">-&gt;</font> <i><font color="#808080">"No description available for location with name"</font></i> <font color="#339933">++</font> <font>show</font> loc <font color="#339933">++</font> <i><font color="#808080">"."</font></i> </blockquote><br><br>  Work, of course, will be.  If you want to pollute the description, please.  I don't want to.  Option number two: <br><br><blockquote>  describeLocation loc <font color="#66cc66">=</font> <font color="#06c">case</font> loc <font color="#06c">of</font> <br>  Home <font color="#66cc66">-&gt;</font> <font>Show</font> Loc <font color="#339933">++</font> <i><font color="#808080">" <font>\ n</font> "</font></i> <font color="#339933">++</font> <i><font color="#808080">"You are standing at the wooden table."</font></i> <br>  'S behind <i><font color="#808080"><font>¬´</font> ¬´</font></i> <i><font color="#808080">¬´¬´ ¬´¬´ ¬´¬´ ¬´¬´ ¬´¬´ ¬´¬´ ¬´¬´ ¬´¬´ ¬´¬´ ¬´</font></i> <br>  Garden <font color="#66cc66">-&gt;</font> <font>show</font> loc <font color="#339933">++</font> <i><font color="#808080">" <font>\ n</font> "</font></i> <font color="#339933">++</font> <i><font color="#808080">‚ÄúYou are in the garden.</font></i>  <i><font color="#808080">Garden looks very well: clean, tonsured, cool and wet. "</font></i> <br>  <font><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">otherwise</a></font> <font color="#66cc66">-&gt;</font> <i><font color="#808080">"No description available for location with name"</font></i> <font color="#339933">++</font> <font>show</font> loc <font color="#339933">++</font> <i><font color="#808080">"."</font></i> </blockquote><br><br>  Already better, although it adds a lot of work with all these pluses ... And to repeat - a bad form ... There is a simpler and more elegant way!  Watch your hands: <br><br><blockquote>  describeLocation loc <font color="#66cc66">=</font> <font>show</font> loc <font color="#339933">++</font> <i><font color="#808080">" <font>\ n</font> "</font></i> <font color="#339933">++</font> <br>  <font color="#06c">case</font> loc <font color="#06c">of</font> <br>  Home <font color="#66cc66">-&gt;</font> <i><font color="#808080">"You are standing in the middle of the wooden table."</font></i> <br>  Friend'sYard <font color="#66cc66">-&gt;</font> <i><font color="#808080">‚ÄúYou</font></i> ‚Äôve been <i><font color="#808080">behind a small wooden fence.‚Äù</font></i> <br>  Garden <font color="#66cc66">-&gt;</font> <i><font color="#808080">‚ÄúYou are in the garden.</font></i>  <i><font color="#808080">Garden looks very well: clean, tonsured, cool and wet. "</font></i> <br>  <font><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">otherwise</a></font> <font color="#66cc66">-&gt;</font> <i><font color="#808080">"No description available for location with name"</font></i> <font color="#339933">++</font> <font>show</font> loc <font color="#339933">++</font> <i><font color="#808080">"."</font></i> </blockquote><br><br>  The trick is that a case construct is one big expression, from the word "case" to the end of the last alternative.  We can embed case inside other expressions.  In our case, case always returns a string, which means we can add it to another string.  The code becomes more readable, slimmer and more beautiful.  If you test all three options, you will see that they give out what you need. <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> describeLocation Home <br>  <i><font color="#808080">"You are standing in the middle of the wooden table."</font></i> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font>putStrLn</font> <font>(</font> describeLocation Home <font>)</font> <br>  Home <br>  You are standing <font color="#06c">in</font> the middle of the wooden table <font color="#339933">.</font> </blockquote><br><br><blockquote><blockquote>  The case design is definitely good.  There are, however, cases when it is inconvenient.  If you solved problem # 2 from the first part, you can already guess what I mean.  I recall that there it was necessary to implement the following function for some x and a: <br><br><pre>  |  ln (abs (sin (x))) if x&gt; 5
 y = |  x ^ 2 + a ^ 2 if x &lt;= 5 and a &lt;= 3
     |  x / a + 7.8 * a, if x &lt;= 5 and a&gt; 3 </pre><br><br>  Function as a function, in mathematics such darkness.  But try implementing it in Haskell with an if-then-else or case: <br><br><blockquote>  y x a <font color="#66cc66">=</font> <font color="#06c">if</font> x <font color="#339933">&gt;</font> <font color="red">5</font> <br>  <font color="#06c">then</font> <font>log</font> <font>(</font> <font>abs</font> <font>(</font> <font>sin</font> <font>(</font> x <font>)</font> <font>)</font> <font>)</font> <br>  <font color="#06c">else</font> <br>  <font color="#06c">if</font> x <font color="#339933">&lt;=</font> <font color="red">5</font> <font color="#339933">&amp;&amp;</font> a <font color="#339933">&lt;=</font> <font color="red">3</font> <br>  <font color="#06c">then</font> x <font color="#339933">^</font> <font color="red">2</font> <font color="#339933">+</font> a <font color="#339933">^</font> <font color="red">2</font> <br>  <font color="#06c">else</font> x <font color="#339933">/</font> a <font color="#339933">+</font> <font color="red">7.8</font> <font color="#339933">*</font> a <br><br>  y 'x a <font color="#66cc66">=</font> <font color="#06c">case</font> x <font color="#339933">&gt;</font> <font color="red">5</font> <font color="#06c">of</font> <br>  True <font color="#66cc66">-&gt;</font> <font>log</font> <font>(</font> <font>abs</font> <font>(</font> <font>sin</font> <font>(</font> x <font>)</font> <font>)</font> <font>)</font> <br>  False <font color="#66cc66">-&gt;</font> <font color="#06c">case</font> x <font color="#339933">&lt;=</font> <font color="red">5</font> <font color="#339933">&amp;&amp;</font> a <font color="#339933">&lt;=</font> <font color="red">3</font> <font color="#06c">of</font> <br>  True <font color="#66cc66">-&gt;</font> x <font color="#339933">^</font> <font color="red">2</font> <font color="#339933">+</font> a <font color="#339933">^</font> <font color="red">2</font> <br>  False <font color="#66cc66">-&gt;</font> x <font color="#339933">/</font> a <font color="#339933">+</font> <font color="red">7.8</font> <font color="#339933">*</font> a </blockquote><br><br>  The function is difficult to read due to several levels of nesting.  Can it not be otherwise? .. Well, of course!  Security expressions!  And the Haskell function becomes similar to the function in mathematics.  See: <br><br><blockquote>  y '' x a <font color="#339933">|</font>  x <font color="#339933">&gt;</font> <font color="red">5</font> <font color="#66cc66">=</font> <font>log</font> <font>(</font> <font>abs</font> <font>(</font> <font>sin</font> <font>(</font> x <font>)</font> <font>)</font> <font>)</font> <br>  y '' x a <font color="#339933">|</font>  x <font color="#339933">&lt;=</font> <font color="red">5</font> <font color="#339933">&amp;&amp;</font> a <font color="#339933">&lt;=</font> <font color="red">3</font> <font color="#66cc66">=</font> x <font color="#339933">^</font> <font color="red">2</font> <font color="#339933">+</font> a <font color="#339933">^</font> <font color="red">2</font> <br>  y '' x a <font color="#339933">|</font>  <font><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">otherwise</a></font> <font color="#66cc66">=</font> x <font color="#339933">/</font> a <font color="#339933">+</font> <font color="red">7.8</font> <font color="#339933">*</font> a <br><br>  <font color="#5d478b">- Or the same:</font> <br><br>  y '' x a <font color="#339933">|</font>  x <font color="#339933">&gt;</font> <font color="red">5</font> <font color="#66cc66">=</font> <font>log</font> <font>(</font> <font>abs</font> <font>(</font> <font>sin</font> <font>(</font> x <font>)</font> <font>)</font> <font>)</font> <br>  <font color="#339933">|</font>  x <font color="#339933">&lt;=</font> <font color="red">5</font> <font color="#339933">&amp;&amp;</font> a <font color="#339933">&lt;=</font> <font color="red">3</font> <font color="#66cc66">=</font> x <font color="#339933">^</font> <font color="red">2</font> <font color="#339933">+</font> a <font color="#339933">^</font> <font color="red">2</font> <br>  <font color="#339933">|</font>  <font><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">otherwise</a></font> <font color="#66cc66">=</font> x <font color="#339933">/</font> a <font color="#339933">+</font> <font color="red">7.8</font> <font color="#339933">*</font> a </blockquote><br><br>  It is easy to understand that the function takes the form "log (abs (sin (x)))" if x is greater than five.  Guard expression (guard) is an expression between the characters "|"  and "=".  For security expressions, the same laws apply as for alternatives to the case-construction: the set of expressions must be complete, and <a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">otherwise it</a> always works. </blockquote></blockquote><br><br>  But let's get back to designing the game.  In any game there is a code where event handlers are called again and again, graphics, physics, AI are calculated.  Our game is easier.  The user enters a command from the keyboard - and something happens, then he re-enters the command, and again something happens, and so on.  There will be about the following algorithm: <br><br>  0. We explain the gaming environment: <br>  - display the description of the current location; <br>  - display the description of objects in the location. <br>  1. We are waiting for the team from the player as a string. <br>  2. We are trying to recognize the command. <br>  3a  If the command is recognized: <br>  - we execute it; <br>  - back to point 0. <br>  3b.  If the command is not recognized: <br>  - give a message about it; <br>  - back to paragraph 1. <br><br>  Half point 0 is ready: this is the function ‚ÄúdescribeLocation‚Äù.  We do not have objects yet, we will add them later.  So, go to step 1. How to get input from the keyboard?  In the first part, I talked about the function putStrLn, which prints a string in a real console;  time to get acquainted with the opposite function - getLine.  Consider the following spell: <br><br><blockquote>  run <font color="#66cc66">=</font> <br>  <font color="#06c">do</font> <br>  x <font color="#339933">&lt;-</font> <font>getLine</font> <br>  <font>putStrLn</font> x </blockquote><br><br>  It's time to upgrade your Literacy and Eagle Eye skills!  What happens in the run function?  A few simple steps.  We are waiting for a string from the keyboard (getLine);  This string is associated with x;  print x in a real console.  And in order to link actions in a chain, the ‚Äúdo‚Äù keyword is used - this is a feature of the Haskell language.  And now we will test: <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> run <br>  Hello <font color="#339933">!</font>  <font color="#5d478b">- What I introduced</font> <br>  Hello <font color="#339933">!</font>  <font color="#5d478b">- What the putStrLn function printed</font> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> run <br>  kjljfs <br>  kjljfs </blockquote><br><br>  Once again: the getLine function asks for a string.  The string is associated with the variable x, and in the next step, the function putStrLn prints x.  Let's clarify by adding the "Enter command:" prompt before entering a line.  Let the user see what they want from him. <br><br><blockquote>  run <font color="#66cc66">=</font> <font color="#06c">do</font> <br>  <font>putStr</font> <i><font color="#808080">"Enter command:"</font></i> <br>  x <font color="#339933">&lt;-</font> <font>getLine</font> <br>  <font>putStrLn</font> x <br><br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> run <br>  Enter command: Look <br>  Look </blockquote><br><br>  I used the function putStr: it prints something, but the cursor on a new line does not translate.  In general, here is a complete analogy with Pascal: writeLn &lt;=&gt; putStrLn, write &lt;=&gt; putStr. <br><br><blockquote><blockquote> You, of course, noticed that I wrote "we connect with x", but not "we appropriate x".  There is no assignment in Haskell, which is why the arrow ("&lt;-") is there, and not the assignment mark ("=", ": =").  The arrow shows where we take the result and what we associate it with.  There is a significant difference between assignment and binding with far-reaching consequences.  But as long as we do not use these effects, then we should not worry. </blockquote></blockquote><br><br>  Now we need to execute the command entered by the user.  To do this, we will invent a simple function ‚ÄúevalAction‚Äù and call it from run: <br><br><blockquote>  evalAction <font color="#339933">::</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">String</a></font> <font color="#66cc66">-&gt;</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">String</a></font> <br>  evalAction strAct <font color="#66cc66">=</font> <i><font color="#808080">"Action:"</font></i> <font color="#339933">++</font> strAct <font color="#339933">++</font> <i><font color="#808080">"!"</font></i> <br><br>  run <font color="#66cc66">=</font> <font color="#06c">do</font> <br>  <font>putStr</font> <i><font color="#808080">"Enter command:"</font></i> <br>  x <font color="#339933">&lt;-</font> <font>getLine</font> <br>  <font>putStrLn</font> <font>(</font> evalAction x <font>)</font> <br><br>  <font color="#5d478b">- We are testing:</font> <br><br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> run <br>  Enter command: Look <br>  <i><font color="#808080">‚ÄúAction: Look!‚Äù</font></i> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> run <br>  Enter command: Quit <br>  <i><font color="#808080">‚ÄúAction: Quit!‚Äù</font></i> </blockquote><br><br>  Ho ho!  Our preparation, without a doubt, works!  Only here evalAction accepts a string, not a special Action type.  Because of this, we can pass into the function any abracadabra. <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> run <br>  Enter command: lubaya <font color="#339933">_</font> abrakadabra <br>  <i><font color="#808080">‚ÄúAction: lubaya_abrakadabra!‚Äù</font></i> </blockquote><br><br>  We are misled.  There is no action such as lubaya_abrakadabra ... We have somehow done the trick with replacing the string with the Location in the describeLocation function.  What if we repeat it here?  Replace the line with Action: <br><br><blockquote>  evalAction <font color="#339933">::</font> Action <font color="#66cc66">-&gt;</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">String</a></font> <br>  evalAction act <font color="#66cc66">=</font> <i><font color="#808080">"Action:"</font></i> <font color="#339933">++</font> <font>show</font> act <font color="#339933">++</font> <i><font color="#808080">"!"</font></i> <br><br>  run <font color="#66cc66">=</font> <font color="#06c">do</font> <br>  <font>putStr</font> <i><font color="#808080">"Enter command:"</font></i> <br>  x <font color="#339933">&lt;-</font> <font>getLine</font> <br>  <font>putStrLn</font> <font>(</font> evalAction x <font>)</font> </blockquote><br><br>  It seems that evalAction looks good: you cannot convey abracadabra in principle, and the constructor will be processed by anyone, albeit in a primitive way.  But this code is a bit problematic: it will not compile. <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> : r <br>  <font>[</font> <font color="red">1</font> <font color="#06c">of</font> <font color="red">1</font> <font>]</font> Compiling Main <font>(</font> H: \ Haskell \ QuestTutorial \ Quest \ QuestMain <font color="#339933">.</font> Hs <font color="#339933">,</font> interpreted <font>)</font> <br><br>  H: \ Haskell \ QuestTutorial \ Quest \ QuestMain <font color="#339933">.</font>  hs: <font color="red">46</font> : <font color="red">38</font> : <br>  Couldn't match expected <font color="#06c">type</font> 'Action' with actual <font color="#06c">type</font> ' <font>[</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">Char</a></font> <font>]</font> ' <br>  Expected <font color="#06c">type</font> : Action <br>  Actual <font color="#06c">type</font> : <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">String</a></font> <br>  In the first argument <font color="#06c">of</font> 'evalAction' <font color="#339933">,</font> namely 'x' <br>  In the first argument <font color="#06c">of</font> ' <font>putStrLn</font> ' <font color="#339933">,</font> namely ' <font>(</font> evalAction x <font>)</font> ' <br>  Failed <font color="#339933">,</font> modules loaded: none <font color="#339933">.</font> </blockquote><br><br>  GHCi tells us that the types do not match.  The evalAction function wants an Action type, not a String at all.  We made a mistake here: ‚ÄúputStrLn (evalAction x)‚Äù.  Heh ... But this idea was good! .. <br><br><blockquote><blockquote>  When programming in Haskell, you will often see typing errors.  There is nothing wrong with that;  it says in them where the discrepancy is, what was expected to receive (Expected type), and what they actually received (Actual type).  It is impossible to compile the wrong code.  With a large refactoring, up to several dozens of errors can occur, or even more, and you will have to fix them all, one, another, the third ... When the errors finally disappear, the code with a high probability will work exactly as you expect.  And this, I tell you, is very, very cool! </blockquote></blockquote><br><br>  To get an Action type constructor from the ‚Äúx‚Äù line, there are several solutions.  To begin with, let's try to come up with the convertStringToAction function.  Question on the "top three": what will be the type of the function that converts a String into an Action?  It is obvious! <br><br><blockquote>  convertStringToAction <font color="#339933">::</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">String</a></font> <font color="#66cc66">-&gt;</font> Action </blockquote><br><br>  The easiest way is to use case.  In the last alternative, we will re-insure and return Quit, if suddenly something. <br><br><blockquote>  convertStringToAction <font color="#339933">::</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">String</a></font> <font color="#66cc66">-&gt;</font> Action <br>  convertStringToAction str <font color="#66cc66">=</font> <font color="#06c">case</font> str <font color="#06c">of</font> <br>  <i><font color="#808080">‚ÄúLook‚Äù</font></i> <font color="#66cc66">-&gt;</font> Look <br>  <i><font color="#808080">"New"</font></i> <font color="#66cc66">-&gt;</font> New <br>  <font><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">otherwise</a></font> <font color="#66cc66">-&gt;</font> Quit </blockquote><br><br>  It is best to insert it when calling evalAction in the run function.  Like this: <br><br><blockquote>  <font color="#5d478b">- We process the action.</font> <br>  evalAction <font color="#339933">::</font> Action <font color="#66cc66">-&gt;</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">String</a></font> <br>  evalAction act <font color="#66cc66">=</font> <i><font color="#808080">"Action:"</font></i> <font color="#339933">++</font> <font>show</font> act <font color="#339933">++</font> <i><font color="#808080">"!"</font></i> <br><br>  <font color="#5d478b">- Convert a string to Action</font> <br>  convertStringToAction <font color="#339933">::</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">String</a></font> <font color="#66cc66">-&gt;</font> Action <br>  convertStringToAction str <font color="#66cc66">=</font> <font color="#06c">case</font> str <font color="#06c">of</font> <br>  <i><font color="#808080">‚ÄúLook‚Äù</font></i> <font color="#66cc66">-&gt;</font> Look <br>  <i><font color="#808080">"New"</font></i> <font color="#66cc66">-&gt;</font> New <br>  <font><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">otherwise</a></font> <font color="#66cc66">-&gt;</font> Quit <br><br>  <font color="#5d478b">- We receive input from the keyboard, convert it into action, call the handler, display the result.</font> <br>  run <font color="#66cc66">=</font> <font color="#06c">do</font> <br>  <font>putStr</font> <i><font color="#808080">"Enter command:"</font></i> <br>  x <font color="#339933">&lt;-</font> <font>getLine</font> <br>  <font>putStrLn</font> <font>(</font> evalAction <font>(</font> convertStringToAction x <font>)</font> <font>)</font> </blockquote><br><br>  And now let's check: <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> : r <br>  <font>[</font> <font color="red">1</font> <font color="#06c">of</font> <font color="red">1</font> <font>]</font> Compiling Main <font>(</font> H: \ Haskell \ QuestTutorial \ Quest \ QuestMain <font color="#339933">.</font> Hs <font color="#339933">,</font> interpreted <font>)</font> <br>  Ok <font color="#339933">,</font> modules loaded: Main <font color="#339933">.</font> <br><br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> run <br>  Enter command: Look <br>  Action: Look <font color="#339933">!</font> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> run <br>  Enter command: dfdf <br>  Action: Quit <font color="#339933">!</font> </blockquote><br><br>  Well, this is a victory!  Now the evalAction function does not work with a string, but with an Action.  Everything is good, but ... Do you see how much work is ahead when we want to add another command besides Look?  We have ten of them in type: Look, Go, Inventory, Take, Drop, Investigate, Quit, Save, Load, New, - and others may appear.  And what, again and again to expand the case-construction of the function convertStringToAction?  I do not really want ... <br><br><blockquote><blockquote>  By the way, food for thought: two more ways to write the function convertStringToAction.  Theses, without explanation. <br><br><blockquote>  <font color="#5d478b">- Security expressions (guards)</font> <br>  convertStringToAction ' <font color="#339933">::</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">String</a></font> <font color="#66cc66">-&gt;</font> Action <br>  convertStringToAction 'str <font color="#339933">|</font>  str <font color="#339933">==</font> <i><font color="#808080">"Look"</font></i> <font color="#66cc66">=</font> Look <br>  <font color="#339933">|</font>  str <font color="#339933">==</font> <i><font color="#808080">"New"</font></i> <font color="#66cc66">=</font> New <br>  <font color="#339933">|</font>  <font><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">otherwise</a></font> <font color="#66cc66">=</font> Quit <br><br>  <font color="#5d478b">- Pattern matching (pattern matching)</font> <br>  convertStringToAction '' <font color="#339933">::</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">String</a></font> <font color="#66cc66">-&gt;</font> Action <br>  convertStringToAction '' <i><font color="#808080">"Look"</font></i> <font color="#66cc66">=</font> Look <br>  convertStringToAction '' <i><font color="#808080">"New"</font></i> <font color="#66cc66">=</font> New <br>  convertStringToAction '' <font color="#339933">_</font> <font color="#66cc66">=</font> Quit <br><br>  <font color="#5d478b">- Check in ghci</font> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> convertStringToAction ' <i><font color="#808080">"New"</font></i> <br>  New <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> convertStringToAction '' <i><font color="#808080">"New"</font></i> <br>  New </blockquote></blockquote></blockquote><br><br>  ‚ÄúAnd what, again and again to expand the case-construction of the function convertStringToAction?  I don‚Äôt really want to ... ‚Äù- what kind of despair? .. Haskell is a lazy language, and a real programmer should also be lazy not to write extra code where it is not needed.  Do not want to expand the case?  Do not need!  What will we do?  Get ready!  We are learning a new spell!  Write down: " <i>class of types</i> Read, in which functions read and reads lie".  We inherit all our ADT types from Read and see what it will lead to. <br><br><blockquote>  <font color="#06c">data</font> Location <font color="#66cc66">=</font> <br>  Home <br>  <font color="#339933">...</font> <br>  <font color="#06c">deriving</font> <font>(</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">Eq</a></font> <font color="#339933">,</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">Show</a></font> <font color="#339933">,</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">Read</a></font> <font>)</font> <br><br>  <font color="#06c">data</font> direction <font color="#66cc66">=</font> <br>  North <br>  <font color="#339933">...</font> <br>  <font color="#06c">deriving</font> <font>(</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">Eq</a></font> <font color="#339933">,</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">Show</a></font> <font color="#339933">,</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">Read</a></font> <font>)</font> <br><br>  <font color="#06c">data</font> Action <font color="#66cc66">=</font> <br>  Look <br>  <font color="#339933">...</font> <br>  <font color="#06c">deriving</font> <font>(</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">Eq</a></font> <font color="#339933">,</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">Show</a></font> <font color="#339933">,</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">Read</a></font> <font>)</font> </blockquote><br><br>  To get a feel for the read function, let's play a little in ghci.  Two examples for comparison: <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> describeLocation Home <br>  <i><font color="#808080">"You are standing in the middle of the wooden table."</font></i> <br><br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> describeLocation <font>(</font> <font>read</font> <i><font color="#808080">"Home"</font></i> <font>)</font> <br>  <i><font color="#808080">"You are standing in the middle of the wooden table."</font></i> </blockquote><br><br>  What conclusion can be made?  The describeLocation function has not changed, it still needs the Location type.  In the first example, we pass the constructor, and in the second, we get it from the string ‚ÄúHome‚Äù. <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> describeLocation <font>(</font> <font>read</font> <font>(</font> <font>show</font> Home <font>)</font> <font>)</font> <br>  <i><font color="#808080">"You are standing in the middle of the wooden table."</font></i> </blockquote><br><br>  The read function takes a string and tries to parse it to the type that is needed in this place.  Where does read know about types?  He takes them from the surrounding expressions.  In this case, he sees that (read "Home") is a parameter of the describeLocation function, and the type of the parameter is strictly set.  There are cases when the type to take nowhere, but very rarely.  A simple example: if you call 'read' Home 'in ghci, the compiler will not understand us: <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font>read</font> <i><font color="#808080">"Home"</font></i> <br><br>  <font color="#339933">&lt;</font> interactive <font color="#339933">&gt;</font> : <font color="red">1</font> : <font color="red">1</font> : <br>  Ambiguous <font color="#06c">type</font> variable 'a0' <font color="#06c">in</font> the constraint: <br>  <font>(</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">Read</a></font> a0 <font>)</font> arising from a use <font color="#06c">of</font> ' <font>read</font> ' <br>  Possible fix: add a <font color="#06c">type</font> signature that fixes these <font color="#06c">type</font> variable <font>(</font> s <font>)</font> <br>  In the expression: <font>read</font> <i><font color="#808080">"Home"</font></i> <br>  In an equation for 'it': it <font color="#66cc66">=</font> <font>read</font> <i><font color="#808080">"Home"</font></i> </blockquote><br><br>  But we can help him by explicitly specifying the type using a special notation: <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font>read</font> <i><font color="#808080">"Home"</font></i> <font color="#339933">::</font> Location <br>  Home <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font>read</font> <i><font color="#808080">"5.5"</font></i> <font color="#339933">::</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">Float</a></font> <br>  <font color="red">5.5</font> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font>read</font> <i><font color="#808080">"True"</font></i> <font color="#339933">::</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">Bool</a></font> </blockquote><br><br>  Magic, isn't it?  Introducing read into the convertStringToAction function, we get a shorter and more functional code. <br><br><blockquote>  <font color="#5d478b">- We process the action.</font> <br>  evalAction <font color="#339933">::</font> Action <font color="#66cc66">-&gt;</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">String</a></font> <br>  evalAction act <font color="#66cc66">=</font> <i><font color="#808080">"Action:"</font></i> <font color="#339933">++</font> <font>show</font> act <font color="#339933">++</font> <i><font color="#808080">"!"</font></i> <br><br>  <font color="#5d478b">- Convert a string to Action</font> <br>  convertStringToAction <font color="#339933">::</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">String</a></font> <font color="#66cc66">-&gt;</font> Action <br>  convertStringToAction str <font color="#66cc66">=</font> <font>read</font> str <br><br>  <font color="#5d478b">- We receive input from the keyboard, convert it into action, call the handler, display the result.</font> <br>  run <font color="#66cc66">=</font> <font color="#06c">do</font> <br>  <font>putStr</font> <i><font color="#808080">"Enter command:"</font></i> <br>  x <font color="#339933">&lt;-</font> <font>getLine</font> <br>  <font>putStrLn</font> <font>(</font> evalAction <font>(</font> convertStringToAction x <font>)</font> <font>)</font> <br><br>  <font color="#5d478b">- Check in ghci:</font> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> run <br>  Enter command: Look <br>  Action: Look <font color="#339933">!</font> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> run <br>  Enter command: Quit <br>  Action: Quit <font color="#339933">!</font> </blockquote><br><br>  Unfortunately, read has one major drawback: if we pass on the abracadabra, we will get an exception, and the program will end. <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> run <br>  Enter command: abrakadabra <br>  Action: <font color="#339933">***</font> Exception: <font>Prelude</font> <font color="#339933">.</font>  <font>read</font> : no parse </blockquote><br><br>  Dont be upset!  We have a more secure reads function.  Of course, I will show you how to use it, but I will leave explanations for the future.  And today - "Action: Quit!".  Rest and learn spells. <br><br><blockquote>  convertStringToAction <font color="#339933">::</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">String</a></font> <font color="#66cc66">-&gt;</font> Action <br>  convertStringToAction str <font color="#66cc66">=</font> <font color="#06c">case</font> <font>reads</font> str <font color="#06c">of</font> <br>  <font>[</font> <font>(</font> x <font color="#339933">,</font> <font color="#339933">_</font> <font>)</font> <font>]</font> <font color="#66cc66">-&gt;</font> x <br>  <font color="#339933">_</font> <font color="#66cc66">-&gt;</font> Quit <br><br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> run <br>  Enter command: abrakadabra <br>  Action: Quit <font color="#339933">!</font> </blockquote><br><br><blockquote><blockquote>  Tasks for fixing. <br><br>  1. Objects of the quest and action Investigate. <br>  - Make an ‚ÄúObject‚Äù ADT, add any objects there. <br>  - Create a function describeObject, which gives a description of the object. <br>  - Create an investigate function that queries the user for the name of the object and displays a description of this object. <br><br>  2. The program "Dumb calculator." <br>  There are integer operations "Add", "Subtract" and "Multiply". <br>  Write a program that requires the user to integer1, then requires an integer operation, then requires an integer2.  When this is all received, the program must perform the corresponding operation on the numbers and output the result. </blockquote></blockquote><br><br>  <a href="https://github.com/graninas/Quest-Tutorial-Code/archives/a59bdf33870acea6c153b0105dd9de173d5c5f6e">Sources to this part</a> . <br><br>  Table of contents, list of references and additional information can be found in the <a href="http://habrahabr.ru/blogs/Haskell/120590/">"Welcome"</a> </div><p>Source: <a href="https://habr.com/ru/post/122259/">https://habr.com/ru/post/122259/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../122251/index.html">Nielsen Company Report: US Mobile Traffic Consumption</a></li>
<li><a href="../122252/index.html">How is your testing process?</a></li>
<li><a href="../122255/index.html">Lecture "The Demoscene Today: Computer Art in Real Time"</a></li>
<li><a href="../122257/index.html">Domain Google.ua did not belong to Google</a></li>
<li><a href="../122258/index.html">Blackberry Playbook - almost officially</a></li>
<li><a href="../122260/index.html">Experienced trivia-6, or ‚ÄúAccounting and control of the printer Ivan Fedorov‚Äù</a></li>
<li><a href="../122261/index.html">Haiku OS has just been released - R1 / Alpha 3</a></li>
<li><a href="../122262/index.html">The Pentagon wants to get a simulator "cyberwar" to conduct exercises</a></li>
<li><a href="../122263/index.html">Records Startup Weekend</a></li>
<li><a href="../122265/index.html">Overview of the new Nokia N9 smartphone</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>