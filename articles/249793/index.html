<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Unconventional review of AngularJS</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! 

 Many people liked our past translation of the non-traditional review React , and, of course, people began to compare React with the popul...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Unconventional review of AngularJS</h1><div class="post__text post__text-html js-mediator-article">  Hi, Habr! <br><br>  Many people liked our past translation of the <a href="http://habrahabr.ru/company/hexlet/blog/249579/">non-traditional review React</a> , and, of course, people began to compare React with the popular AngularJS.  Today we publish a translation of the article ‚ÄúAn Unconventional Review of AngularJS‚Äù by the same author (James Shor, the lead project of Let's Code: Test-Driven JavaScript).  Angular fans, please keep calm. <br><br><img src="https://habrastorage.org/files/5ee/01a/c9c/5ee01ac9cc714859a19c5e796b1242ae.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      AngularJS is all I expect from the framework.  And this is not good. <br><br>  In November, December and January, I reviewed AngularJS for the ‚Äúfront-end frameworks‚Äù series as part of the Let's Code JavaScript project.  In total, I spent 40 hours studying, programming and solving problems.  As usual, my goal was to learn AngularJS by creating an <a href="https://github.com/jamesshore/lab13_angularjs">application</a> . <br><br>  <a href="https://angularjs.org/">Angular</a> is probably the most popular front-end framework right now.  It is developed by a team from Google, which immediately inspires confidence.  It is so popular that it is included in the acronym.  Angular is part of the so-called <a href="http://mean.io/">MEAN stack</a> : MongoDB, Express, AngularJS, Node.JS.  The most advanced technology. <br><br>  Angular describes itself as a tool for improving CTML.  It allows you to extend CTML with new definitions ‚Äî directives ‚Äî that turn a static CTML document into a dynamic template.  Directives can be attributes or tags (or even comments or classes, but this is not a completely ordinary story), and they turn a static CTML document into something living and breathing, at first glance, without adding JavaScript. <a name="habracut"></a><br><br>  The best example is the famous two-way binding.  The HTML template can contain variables, like most template languages, but in the case of Angular, your page is automatically updated with each variable update. <br><br>  For example, in the <a href="https://github.com/jamesshore/lab13_angularjs">application</a> that I wrote for the review, there is a table that changes when the configuration fields change.  Here is a code snippet that renders a row of a table.  Notice, there is no work with events or state monitoring ... Just a template that describes cells in a row.  Angular does everything automatically. <br><br><pre><code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// Copyright (c) 2014-2015 Titanium IT LLC. All rights reserved. For license, see "README" or "LICENSE" file. (function() { "use strict"; var StockMarketCell = require("./stock_market_cell.js"); var stockMarketRow = module.exports = angular.module("stockMarketRow", [StockMarketCell.name]); stockMarketRow.directive("stockMarketRow", function() { return { restrict: "A", transclude: false, scope: { value: "=" }, template: '&lt;tr&gt;' + '&lt;td stock-market-cell value="value.year()"&gt;&lt;/td&gt;' + '&lt;td stock-market-cell value="value.startingBalance()"&gt;&lt;/td&gt;' + '&lt;td stock-market-cell value="value.startingCostBasis()"&gt;&lt;/td&gt;' + '&lt;td stock-market-cell value="value.totalSellOrders().flipSign()"&gt;&lt;/td&gt;' + '&lt;td stock-market-cell value="value.capitalGainsTaxIncurred().flipSign()"&gt;&lt;/td&gt;' + '&lt;td stock-market-cell value="value.growth()"&gt;&lt;/td&gt;' + '&lt;td stock-market-cell value="value.endingBalance()"&gt;&lt;/td&gt;' + '&lt;/tr&gt;', replace: true }; }); })();</span></span></code> </pre> <br>  Magic. <br><br>  With such examples, it is easy to understand why Angular has become so popular.  With him, hard problems seem trivial.  But will he stand the test of time? <br><br><h4>  Unconventional review </h4><br>  Too many frameworks are trapped: it‚Äôs easy to start with them, which is very cool, but later it‚Äôs very difficult to maintain and extend your code.  This is not very cool. <br><br>  So when I review the framework, I don‚Äôt look at the usual criteria for performance, popularity or size.  No, I want to know the answer to one important question: <br><br>  <i>Over the next 5-10 years, when will I support my product, will this code bring more benefit or suffering?</i> <br><br>  Most frameworks are designed in such a way that they save time on the initial creation of a product.  But these costs are trivial compared to the cost of supporting your application for several years.  Before recommending a framework, I need to know that it will stand the test of time.  Will it grow and change with me?  Or will I find myself in the shackles of a barely fit Legacy after three years? <br><br>  I look at five common dangers. <br><br>  <b>1. Closure (in-lock).</b>  When I decide to switch to a new or better framework (or library), how difficult will it be to switch? <br><br>  <b>2. Hard architecture (Opinionated Architecture).</b>  Can I solve problems in the way my application needs, or should I obey certain ideas developed by the authors of the framework? <br><br>  <b>3. Adverse complexity (Accidental Complexity).</b>  Do I spend time solving my problem or struggling with the framework? <br><br>  <b>4. Testing.</b>  Can I just test my code using standard tools and without much hassle with mock objects? <br><br>  <b>5. Server-side Rendering.</b>  Will people wait for JavaScript to see something useful?  Will I have to <a href="http://sorcery.smugmug.com/2013/12/17/using-phantomjs-at-scale/">dance with a tambourine</a> to make the search engines index my site? <br><br>  I rated Angular in each category with a (aiii!), (Buee!), Or ‚öá (neither there nor here). <br><br><h4>  1. Closure - (bueee!) </h4><br>  No questions asked: Angular locks you in its frames.  You specify an interface with specific Angular-directives, in specific Angular-templates, using specific Angular-definitions and code.  There is no way to abstract from it.  If you decide to switch - you will rewrite everything from scratch. <br><br>  This is a common practice.  So ordinary that it usually gives a reason to put a meh-face "neither there nor here."  But Angular tried to earn it "buee". <br><br>  First, Angular wants to be the master of all your client code.  If you are writing an application with Angular, this means that you must use Angular-specific validations, write business logic in the form of Angular-specific services, and connect to the back-end through Angular-specific services. <br><br>  Secondly, the Angular team gives us to understand that the cost of support for them is not a priority.  Support for IE 8 was lost in Angular 1.3. Angular 2 was heavily rewritten, forgetting a few key concepts of the current version.  This will likely cause the entire application to be rewritten. <br><br>  I repeat: your entire front-end is locked, and even if you don‚Äôt change anything, you will most likely have to rewrite something.  Rewriting is a terrible idea.  You will spend a lot of money and time to repeat what you already have.  A framework whose roadmap has the idea to ‚Äúrewrite the application‚Äù is unacceptable. <br><br><h4>  2. Hard architecture - ‚öá (neither there nor here) </h4><br>  Angular wants you to build your application in a specific format, but does not do so very explicitly.  It is rather a "passive-aggressive architecture." <br><br>  Tough architecture is a good idea in the short term, bad in the long term.  In the short term, a rigid framework allows you to start quickly, without thinking about the structure of the application.  But in the long run, too-rigid architecture limits the possibilities.  As your requirements grow, the standards of the framework begin to get in the way of you more and more. <br><br>  Angular's passive-aggressive architecture includes the worst of both worlds.  It makes assumptions about the design of your application, but it does not help you understand these assumptions.  I'm not sure that I understand it even now, but this is what I managed to get: <br><br>  <i>‚ÄúAt a fundamental level, Angular believes that you are using stateless" service "objects for logic and simple objects for data structures (objects without methods) to maintain state.</i>  <i>Services are essentially global variables;</i>  <i>Most functions can use any service, referring to them by a special name.</i>  <i>Data structures are stored in $ scope, they are associated with templates and directives.</i>  <i>Data structure objects are managed by ‚Äúcontrollers‚Äù (‚Äúglue‚Äù associated with patterns and directives) and services. ‚Äù</i> <br><br>  I'm not a fan of this architecture.  Separating the state from the logic, Angular breaks the encapsulation and shares closely related concepts.  Instead of putting the logic next to the data with which it works, Angular wants you to spread the logic throughout the application.  There is a risk of ‚Äú <a href="http://silkandspinach.net/2009/07/24/reflections-on-shotgun-surgery/">operating a shotgun victim</a> ‚Äù: any change results in a bunch of minor fixes. <br><br>  The <a href="https://github.com/angular/angular-phonecat">tutorial</a> application demonstrates this problem.  The application displays a list of smartphones, and ‚Äúphone‚Äù objects are a key concept.  Ideally, a change in the internal structure of the phone object should not affect anything.  But they are just <a href="">objects with data</a> , so changing them will entail changes in other parts of the application: <a href="https://github.com/angular/angular-phonecat/blob/master/app/partials/phone-list.html">the</a> phone <a href="https://github.com/angular/angular-phonecat/blob/master/app/partials/phone-list.html">list output pattern,</a> phone <a href="https://github.com/angular/angular-phonecat/blob/master/app/partials/phone-detail.html">information output pattern</a> , and <a href="">both controllers</a> for these patterns. <br><br>  I prefer rich domain objects that contain state and business logic.  So I can make changes without breaking anything.  For my example application, I used a <a href="https://github.com/jamesshore/lab13_angularjs/tree/master/src/client/domain">rich domain layer</a> that relies on an <a href="https://github.com/jamesshore/lab13_angularjs/tree/master/src/client/values">immutable object</a> with a value.  Angular's passive-aggressive architecture does not support this approach ‚Äî sometimes I had to <a href="">deform</a> my code to satisfy Angular's assumptions, but this was not an absolutely impossible task.  Could be worse. <br><br><h4>  3. Side complexity - (buee!) </h4><br>  Angular is famous for its steep learning curve and poor documentation.  I think these are symptoms of a larger problem.  This is not a documentation problem, this is an Angular problem.  He just has a bad design.  Here are just a few flaws that I noticed: <br><br>  Leaky abstractions.  To use Angular in a non-trivial project, you will have to go deep and understand how it works under the hood.  You will have to understand scopes and how they work within the framework of prototype inheritance: digest loop;  $ watch, $ watchCollection, and $ apply;  and a bunch of other things. <br><br>  Magic Strings is an attempt to circumvent the poor unity of design.  Often you will have pieces of code that are related to each other, but are in different files. <br><br>  Incomprehensible characters everywhere.  In Angular there are several tiny languages ‚Äã‚Äãthat will have to be inserted into strings in your application.  Get ready to learn the difference between "=", "&amp;", "= *", and "@";  ‚ÄúE‚Äù, ‚ÄúA‚Äù, and ‚ÄúEA‚Äù;  operator "|";  and other hieroglyphs. <br><br>  Elusive incompatible differences.  Problems can be solved in several ways, each path has minor but important incompatibilities.  For example, how you create a controller will affect the syntax in the template and the way the variables are stored in $ scope. <br><br>  Tendency to quiet file.  It is easy to make a mistake, do something wrong and get no indication of the cause.  Wrote ‚ÄúE‚Äù where you should write ‚ÄúA‚Äù?  The application just stopped working. <br><br>  When I <a href="http://habrahabr.ru/company/hexlet/blog/249579/">wrote</a> the same application for the first time on the React, it took me 28¬æ hours.  I wrote the same application on Angular for 39¬Ω hours, despite the fact that I could use part of the code from the first attempt on React.  Ten o'clock on top.  The reason is the excessive complexity of Angular. <br><br><h4>  4. Testing - ‚öá (neither there nor here) </h4><br>  Angular considers testing very important.  One of its main features - dependency injection (dependency injection) is made specifically to simplify testing. <br><br>  Given this trick, I was surprised at how bad things are with testing in Angular.  It focuses on the logic of testing in controllers and services, but gives almost nothing to test the behavior of the user interface.  There is no support for simulating browser events and there is no way to unit-test HTML templates.  Custom directives can be tested, but testing a directive, within which there is another directive, is <a href="">scary</a> . <br><br>  Angular focuses on the power of unit testing for business logic.  But the only reason is that the architecture itself provokes to place business logic in the UI (in particular, in controllers and services).  Good architecture would put business logic in UI-independent objects. <br><br>  Many aspects of Angular are felt as plasters over self-cut cuts. <br><br>  By removing the business logic, as was the case with my application, it remains only to test how Angular renders CTML and reacts to events, and Angular did not support my desire to do so.  The Angular team advises using a specially made end-to-end framework for testing <a href="http://angular.github.io/protractor/">Protractor</a> . <br><br>  End-to-end tests are slow and fragile.  Their number should be <a href="http://martinfowler.com/bliki/TestPyramid.html">minimized</a> , and not rely on them as the central idea of ‚Äã‚Äãa testing strategy.  Fortunately, by placing the UI of my application in custom directives, I was able to unit-test Angular.  So he earned a neutral face here ‚Äúneither there nor here,‚Äù but if you look closely, you can see one small tear on it. <br><br><h4>  5. Server Render - (Bueee!) </h4><br>  AngularJS is not designed to work on the server.  No surprises, but it is worth considering. <br><br>  <b>Bottom line: avoid it.</b> <br><br>  Working with Angular is a torment.  Each step is a new feature or test, and by the end of my review it really got me.  Perhaps if I did everything as Angular wants, rather than trying to implement my design, it would be easier for me, but my goal was to explore the possibilities of supporting the project in the long run, rather than do everything as quickly as possible. <br><br>  And in this respect, everything is bad.  Angular is a complex framework, and it has grown into something weird.  It is popular, but not good, and I suspect that it will quickly be forgotten when better alternatives appear.  Angular 2 is already on the horizon, so by taking Angular today, you are sentencing yourself (most likely) to rewriting the application after a couple of years.  And although future versions may correct these shortcomings, today's Angular is a poor choice.  Avoid it. </div><p>Source: <a href="https://habr.com/ru/post/249793/">https://habr.com/ru/post/249793/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../249783/index.html">Some interesting and useful things for web developer # 38</a></li>
<li><a href="../249785/index.html">PARI / GP: finite field calculations. Part 1</a></li>
<li><a href="../249787/index.html">Less is better, but better: airFiber 5X is a new generation of radio channels, or Lutz * for your radio route is now in retail</a></li>
<li><a href="../249789/index.html">How we built the data center alarm system</a></li>
<li><a href="../249791/index.html">Behind the Scenes of Skyforge Closed Beta</a></li>
<li><a href="../249795/index.html">The Five-Minute JavaScript Podcast, Issue 2</a></li>
<li><a href="../249797/index.html">Hi, Habravchane</a></li>
<li><a href="../249799/index.html">10 interesting facts about CDN and site speed</a></li>
<li><a href="../249803/index.html">Mines in Haskell and Gloss: Rapid Prototyping Interactive Graphics</a></li>
<li><a href="../249805/index.html">How to create a game without programming skills</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>