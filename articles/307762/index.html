<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Refactoring - power hidden in quality code</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Refactoring is an extremely important part of the development process. Writing the code ‚Äúthat works‚Äù is not the key to a productive application. Refac...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Refactoring - power hidden in quality code</h1><div class="post__text post__text-html js-mediator-article">  Refactoring is an extremely important part of the development process.  Writing the code ‚Äúthat works‚Äù is not the key to a productive application.  Refactoring makes it possible to bring the code into the proper form, which will further allow this code to be easily read, reused, maintained and expanded the system itself. <br><br><h3>  Design </h3><br>  The beginning of a good code is always design.  Programmers who do not know how to calm the passion for writing code, thus omitting the design, usually write quickly, but not qualitatively.  I know this because I myself had the same problem.  Design provides an opportunity to look at the system, which is still not actually present, to think over the correct structure of the application and data, see the subtleties, risks, think about performance and security.  In this case, design is not only the prerogative of the start of the project.  Design is an integral part when developing any ‚ÄúFeature‚Äù. <br><a name="habracut"></a><br>  You can start designing very easily.  Always keep a notebook and several colors of pens in your workplace.  Before writing the code, draw a diagram - how the application will work as a whole, UML class diagram (think as much as possible with the minimum number of classes, achieve maximum results), database structure (optimize the database before it is created, think what queries you should have will run to your database, think over the indices, of course, normalize your data model). <br><br>  For the same purpose, a simple program for designing <a href="http://staruml.io/">starUML will do</a> .  Its disadvantage is that it is impossible to establish the power of relations normally (multiplicity), but the interface itself is very convenient. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      It is necessary to design even so that later you do not have to refactor structural errors, and even worse to rewrite the entire module at all. <br><br>  A few principles that you need to know when designing your ‚ÄúFeature‚Äù classes: <br><br>  <b>1.</b> <u>SOLID</u> (single responsibility, open-closed, Liskov substitution, interface segregation and dependency inversion) <br><br>  This is the foundation of class design.  If you are not familiar with SOLID, <a href="https://ru.wikipedia.org/wiki/SOLID_(%25D0%25BE%25D0%25B1%25D1%258A%25D0%25B5%25D0%25BA%25D1%2582%25D0%25BD%25D0%25BE-%25D0%25BE%25D1%2580%25D0%25B8%25D0%25B5%25D0%25BD%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5)">you can find it here</a> . <br><br>  <b>2.</b> <u>DRY</u> (do not repeat yourself) <br><br>  Repeated functionality makes the application cumbersome, and its support is more expensive and inconvenient.  This applies to both modules and small code fragments. <br><br>  For example: <br><br>  - Instead of using three lines of code in several places, you can put them in a function and use just one line of code - a function call. <br><br>  - Instead of using the progress50 () function, it is better to use a more abstract progress ($ percent). <br><br>  - Prefer external dependencies between modules, internal (DI), which makes the module more flexible and allows you to use it in several places. <br><br>  <b>3.</b> <u>KISS</u> (keep it simple, stup ...) <br><br>  The simpler your solution for a complex task, the more perfect it is, just as this rule works in the opposite direction.  To learn how to make simple decisions, you need to learn how to divide your task into very small subtasks.  Moving from smaller to bigger.  Subsequently, we get the result of a complex task. <br><br>  For example: <br><br>  You need to write a class to generate an Excel report from your database.  You need to divide the entire report into parts: setting table headers, outputting statistical data to a document, outputting a document footer, creating a chart.  Some parts of the functionality can be taken out into separate classes, which will make it possible to reuse them. <br><br><h3>  Code style </h3><br>  Code style refactoring does not affect application performance at all.  However, it gives an advantage to its readability and support.  Another programmer should easily read your code, without understanding the implementation of details, and this, of course, saves time and money. <br><br>  Standard style code (and not only) PSR (PHP Standards Recommendations), <a href="http://www.php-fig.org/psr/">here you can find</a> .  The content is in English, as English makes it clearer to understand the degree of application of one or another rule (‚ÄúMUST‚Äù, ‚ÄúMUST NOT‚Äù, ‚ÄúREQUIRED‚Äù, ‚ÄúSHALL‚Äù, ‚ÄúSHALL NOT‚Äù, ‚ÄúSHOULD‚Äù, ‚ÄúSHOULD NOT‚Äù, "RECOMMENDED", "MAY", and "OPTIONAL"). <br><br>  <i>A few comments that the author found important</i> : <br><br>  <b>1.</b> Check out PHPDOC for writing comments on your code. <br><br>  <b>2. The</b> best comment is a properly named class, method, parameter, or variable. <br><br>  <b>3.</b> Use the PHPMD, PHPCS utilities, their use is wider than just to identify inconsistencies in the style of the code.  Here is the documentation: <a href="https://phpmd.org/">PHPMD</a> , <a href="https://www.squizlabs.com/php-codesniffer">PHPCS</a> . <br><br>  <b>4.</b> Use an advanced IDE. <br><br><h3>  Pure refactoring </h3><br>  Very simple axiom - only the code that has undergone refactoring should fall on the production.  Sometimes after development, you yourself do refactoring, which is not even bad (for example, development through testing generally includes refactoring, as an obligatory step, since the ‚Äúworking code‚Äù is originally written, and then ‚Äúclean‚Äù), but in order to the code was really high-quality, it must pass a code-review by another programmer.  If the project allows you to allocate time to check the code, then on such a project you will learn to write code cleaner and cleaner, which later will lead to automatic writing of high-quality code. <br><br>  I remember working for one company, and checking my code was done by a person who could not always restrain his emotions, which is why everyone heard about my non-clean code in open space.  Therefore, I had to learn to write high-quality code very quickly to avoid such cases. <br><br>  Let's return to the topic.  In this part of the article I would like to give some practical approaches to refactoring, which I use myself. <br><br>  <b>1.</b> Long methods (it is better to divide the functionality into several methods). <br><br>  <b>2.</b> Bulky classes (your class must perform one functional task on your system). <br><br>  <b>3.</b> Unclear class structure (methods in chaotic order, constructor in the middle of a class, instead of constants ‚Äî magic values ‚Äã‚Äãin the code ‚Äî the class should easily reflect what it does in the correct sequence). <br><br>  <b>4.</b> Too many parameters in the method (some calculations can be made inside the method, using internal constants, values ‚Äã‚Äãobtained from attributes and getters). <br><br>  <b>5.</b> Classes containing the same variables and methods.  The problem can be solved through the creation of an additional class). <br><br>  <b>6.</b> Difficult to read IF (expression can be put into a separate variable and divided into logical parts, which can also be put into variables, if there are a lot of checks for null, then it is best to use NullObject - the number of checks will be significantly reduced). <br><br>  <b>7.</b> Bulky SWITH (take out in a separate method). <br><br>  <b>8.</b> The use of inheritance due to the same methods and properties, in different entities in essence (the cat and the chair have legs, but they cannot be grouped into the category ‚Äúanimals‚Äù). <br><br>  <b>9.</b> Too many small classes to perform a single task, which are then harder to maintain. <br><br>  <b>10.</b> Too complex functionality in one class, which can be divided into several classes. <br><br>  <b>11.</b> The class does too little to keep it in the system. <br><br>  <b>12.</b> ‚ÄúDead Code‚Äù - it should be deleted. <br><br>  <b>13.</b> The unused structures of the classes that you designed for the future, but they were not useful - these are better to delete. <br><br>  <b>14.</b> Class methods are used more in another class, but are not used at all or less often (it is worth moving the method to the class where it is more used). <br><br>  <b>15. The</b> call chain is too long ($ a-&gt; b () -&gt; c () -&gt; d () -&gt; e ()), in this case it is worth creating additional methods. <br><br>  <b>16. A</b> class containing only one method that creates another class.  (This class should be used wisely, for example, for the Proxy pattern, otherwise this class only increases the time and resource to support the project). <br><br>  <b>17.</b> Too many actions in the constructor.  (The constructor should only set properties of the class, if other classes are created in the constructor, some calculations occur, this makes it difficult to understand, you have to understand the implementation. To create an object and perform some actions, add the create static method ($ param1, ...), which will create an instance of the class with additional actions on it, this method can be called more appropriate for what it will still do). <br><br><h3>  Bibliography </h3><br>  ¬ª <a href="https://sourcemaking.com/refactoring">Source Making</a> <br>  ¬ª <a href="http://www.php-fig.org/psr/">PSR</a> <br>  ¬ª <a href="https://ru.wikipedia.org/wiki/UML">UML</a> </div><p>Source: <a href="https://habr.com/ru/post/307762/">https://habr.com/ru/post/307762/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../307752/index.html">New flash storage for Big Data from IBM: Deep Flash 150</a></li>
<li><a href="../307754/index.html">Appcelerator Releases Hyperloop</a></li>
<li><a href="../307756/index.html">Container Virtualization: Standards Coming Soon</a></li>
<li><a href="../307758/index.html">Restore from backup using Veeam Agent for Linux</a></li>
<li><a href="../307760/index.html">How to plan and evaluate projects in Agile?</a></li>
<li><a href="../307764/index.html">Mitap Haskell programmers at Kaspersky Lab (in the sense of - waiting)</a></li>
<li><a href="../307766/index.html">Adobe AIR + Starling + rasterizing vector graphics</a></li>
<li><a href="../307768/index.html">The tale of virtualization-clustering and storage Fujitsu</a></li>
<li><a href="../307770/index.html">Secrets of cloud PBX: a few words about recording conversations</a></li>
<li><a href="../307774/index.html">Android application traffic analysis: certificate pinning bypass without reverse engineering</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>