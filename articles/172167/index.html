<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Wheelbarrow Bond, or Virturilka taxis!</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="- Women are always impressed by the extreme. Either too big or too small. ... 
 Alex Exler, "Prince Igor's Aria, or Ours in Turkey" 

 Anticipating th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Wheelbarrow Bond, or Virturilka taxis!</h1><div class="post__text post__text-html js-mediator-article"><h5>  - Women are always impressed by the extreme.  Either too big or too small.  ... <br>  Alex Exler, "Prince Igor's Aria, or Ours in Turkey" </h5><br><br>  Anticipating the "when is the circulation?" Questions, I report.  Virtuillare in circulation form is 99% ready, it remains to make samples and check it alive.  This will take a week or two, after which we are ready for circulation.  Just come to us a lot of accusations in what we have done a couple of publications and disappeared.  The number of copies was increased to 5,000, because there were 2,000 pre-orders.  Pre-order is <a href="http://virt2real.ru/predzakaz">still open</a> until the end of the month. <br><br><h4>  Well, now on topic </h4><br>  After our long-time experiments with <a href="http://habrahabr.ru/post/119000/">races on small cars</a> (remotely, through the Internet) we decided to try to drive on something more.  Were tested different trucks, tracked and wheeled.  But it did not leave the feeling that this is something wrong.  This sensation gradually led to the idea that you are not putting a small thing and you need to make a machine on a scale of 1: 1 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/d29/169/3ee/d291693ee0aecc3ef5eeafc8875b559a.jpg"><br><br><a name="habracut"></a><br><br>  For this was purchased old dead pepelats.  By the will of fate and the search algorithm avto.ru by filters "price" and "automatic transmission" it turned out to be Opel Vectra 2.0l with automatic transmission, 1990 model year.  Completion for the time top (GUR, condo, ABS, powered, and other delights).  But most of the charms of the time is practically not functioning.  The main thing is that the engine is working and the box, though half dead, but also depicts the appearance of efficiency.  Opel was relocated to the glorious city of Shchyokino (Tula region), as the chief mechanic lives there and there is a garage not far from the house.  One problem is that in Shchekino they do not clean the roads from snow (in general), so the problem is to find a place where you can try a wheelbarrow. <br><br>  The idea was to put a smart controller on the machine (of course, <a href="http://habrahabr.ru/company/virt2real/blog/156491/">our Virturilka</a> ), to connect a camera.  And control Opel, not sitting behind the wheel.  From phone, tablet, computer - no difference.  Ideally, to make control, as in micro-racing, via the Internet.  Of course, there are many problems (delay and all that), but if you limit the speed of movement, it‚Äôs quite possible to steer remotely. <br><br>  To begin with, they decided to limit control from the tablet.  Just the third iPad is at hand and there is a developer certificate :-) <br><br>  Connecting directly to the box selector (or whatever it is properly called), as well as deliberately didn‚Äôt consciously make to the steering rack and the brake booster - they wanted to make a universal system.  So that you can rearrange to any car (if only the automatic transmission was) with a minimum of intervention. <br><br>  We tried several variants of motor gearboxes, eventually we found a suitable drive for the steering wheel and the actuator for the brake.  The automatic transmission handle pulls the usual (albeit, powerful, 33 kg / cm) serv.  It was difficult to weld a structure that would hold all these motors.  But in the end, our mechanic Oleg (he is Uncle Vasya) cooked everything and it was time to connect the electronics. <br><br>  Electronics is the simplest.  The virt2real (virtual) controller accepts a Wi-Fi connection (Soft-AP), controls, using its hardware PWM, two powerful power regulators of collector engines and two servos (on gas and on the handle of the box).  In the extreme positions of the brake pedal, there are limit switches to prevent the pedal from breaking out (the actuator is very powerful, with a margin).  They started to make a radar, for detecting obstacles, based on the usual Chinese ultrasonic rangefinder.  On the knee they collected it, checked it, but did not install it in the first tests.  Also, the digital camera module (ov7675) is installed on the Opel, this is a heading camera - the picture from it goes to the tablet in rltime. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a83/2cb/4b5/a832cb4b50c6a9cacd036977048292b7.jpg"><br><br>  The software part is also simple to the obscene.  On the virtualka NodeJS is spinning, which, sobssno, and runs all.  Noda taxis (literally)!  :-) Out of respect for the erlangers, we also have erlang on the virtualka, but I am inexperienced in it, so I didn‚Äôt spend time on it.  Nody enough with interest. <br><br>  The application for iPad is written in Flex, since I have not yet mastered native iOS programming.  Video from the camera is either MJPEG or H264 via RTMP (there is a full-fledged RTMP server on board, crtmpd). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bf1/675/93c/bf167593cd9795dc8767bec0a2d93bff.jpg"><br><br>  That's basically it.  After field testing near the garages revealed a number of design flaws.  Steering wheel slowly turns - this is due to half the voltage on the motor.  Motor 24-volt, and powered by 12V.  I will change the regulation - it will be quick to turn.  The brake is also unpleasantly slowly pressed - it is necessary to move the lever closer to the pedal base, the distance will be five times shorter, it will be pressed for half a second.  There are no complaints about the gear shift drive, there are no complaints about the gas either - everything plows flawlessly. <br><br>  The most unpleasant test results were that it was not good to conduct tests in the winter.  For it is cold.  Even with a small minus in the wind, the hands instantly go numb, you do not feel whether you clicked on the screen or not.  With gloves that can affect the capacitive screen, it may be better, but it's still cold.  And bad when the snow falls - the tablet screen immediately gets wet, pressing blunt. <br><br>  In general, it is very inconvenient to manage from a tablet.  For normal control you need a tactile connection - better than an ordinary joystick or gamepad.  And it is better - a simulator wheel with pedals (this is exactly what I'm doing at the moment, the next pokatushki will be with the steering wheel). <br><br>  We will test the control through the Internet, when we find a suitable spacious field.  3G will not work, you need Yota to be caught on the field :-) So, slowly, we are looking for a place to go there when it gets warmer on the street.  And if you are lucky and find a hangar (as in a recent video about testing Audi with paintball guns), then at least we‚Äôll go straight to testing.  It does not matter in Shchekino, in Tula or Moscow.  If suddenly you have a suitable room - well in the comments!  :-) <br><br>  The working title of the project is the James Bond Wheelbarrow.  In my head it was postponed as in some part Pierce Brosnan drove the machine from a mobile phone, and the name appeared in honor of this.  But a little later, a friend advised me to name the Opel Virta (in honor of virt2real).  I liked the name and left it. <br><br>  In general, the first tests conducted around the garages.  It's pretty tight there, so you had to steer carefully so as not to break the Opel ahead of time.  Driving a real machine from a tablet is sooooo unusual, so it was scary to get on very fast.  Of course, the low-speed ride does not look spectacular at all on the video, so the next day there was an agreement with the Tula driving school so that we were allowed to drive on their circuit.  But at the end of the round test, there was a ‚Äúguys, exile‚Äù Sanya - the cooling system pipe broke.  It was not possible to quickly repair it, so the spectacular drift in the snow had to be postponed for the time being.  Very disappointing, of course, but I had to mount a video from the material that I had time to shoot. <br><br>  And most importantly - they tested in practice one more variant of the potential use of a virtuilla.  Many plans for further type Opel, I hope he does not die ahead of time.  Add a bunch of sensors, maybe autonomous pepelats work. <br><br><h4>  Thank you for mastering so many letters.  Now let me show you what we got for the video. </h4><br><br>  The main official video of the second test: <br><iframe src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://player.vimeo.com/video/61455217&amp;xid=25657,15700022,15700186,15700190,15700253,15700256&amp;usg=ALkJrhifmT4d-qChUIXuQOy-hjxvkw9EBQ" width="560" height="315" frameborder="0" title="Opel Virta (Opel Virta), the second street testing (under the tune)" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe><br><br>  Detailed video of the second test: <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/fBhaq8WBjT8%3Ffeature%3Doembed&amp;xid=25657,15700022,15700186,15700190,15700253,15700256&amp;usg=ALkJrhhbOEV_Vk-RICT21uUbM7htkYSoSA" frameborder="0" allowfullscreen=""></iframe><br><br>  Well, for the completeness of the material - video from the first test.  Carefully, there is obscene language.  Sanya's friend didn‚Äôt keep his feelings too much :-) <br>  Almost everything broke here, only gas remained from the tablet. <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/-4o4D36rWAQ%3Ffeature%3Doembed&amp;xid=25657,15700022,15700186,15700190,15700253,15700256&amp;usg=ALkJrhjMOOiv7E87FOCgF6FOyKIcPMwBmg" frameborder="0" allowfullscreen=""></iframe><br><br>  PS Of course, the idea of ‚Äã‚Äãremote control of the car is not new.  Offhand, there are such projects: <br>  Automatic gazelle on Arduino <a href="http://habrahabr.ru/post/150667/">habrahabr.ru/post/150667</a> <br>  Car-robot of the NAMT team at Robokross-2012 <a href="http://habrahabr.ru/post/154017/">habrahabr.ru/en/post/154017</a> <br><br>  I PHONE THAT CONTROLS A REAL CAR <br>  <a href="http://www.youtube.com/watch%3Ffeature%3Dplayer_embedded%26v%3DxM4rltoxqM0">www.youtube.com/watch?feature=player_embedded&amp;v=xM4rltoxqM0</a> <br><br>  iDriver - iPhone remote controlled car <br>  <a href="http://www.youtube.com/watch%3Ffeature%3Dplayer_embedded%26v%3DoHDwKT564Kk">www.youtube.com/watch?feature=player_embedded&amp;v=oHDwKT564Kk</a> <br><br>  BrainDriver - a mind controlled car <br>  <a href="http://www.youtube.com/watch%3Fv%3DiDV_62QoHjY%26feature%3Dplayer_embedded">www.youtube.com/watch?v=iDV_62QoHjY&amp;feature=player_embedded</a> <br><br>  Audi showed off its autopilot at CES2013 <br>  <a href="http://www.youtube.com/watch%3Fv%3DrgN8MOrss40%26feature%3Dplayer_embedded">www.youtube.com/watch?v=rgN8MOrss40&amp;feature=player_embedded</a> <br><br>  BMW parking <br>  <a href="http://www.youtube.com/watch%3Fv%3DePBIztPb2HM%26feature%3Dplayer_embedded">www.youtube.com/watch?v=ePBIztPb2HM&amp;feature=player_embedded</a> <br><br>  ‚Ä¶ and many others.  But it's one thing to look at other people's projects and another thing to do it yourself :-) <br><br>  PPS Team of testers in full composition <br><br><img src="https://habrastorage.org/getpro/habr/post_images/424/560/254/424560254df0c7f81301eda1c74a5738.jpg"><br><br>  UPD&gt; as a small addition - a kind of PoC (proof of concept) ideas for a spectacular demonstration. <br><br>  Opel drives up to the audience.  Drove out, holding the steering wheel.  Real wheel Opel.  Twists the steering wheel - Opel wheels turn.  Tilts the steering wheel - the car goes or, accordingly, brakes.  The prototype is here.  True, while mounted on the plate, because the steering wheel was still busy :-) Already checked - it works, but I still haven't managed to mount the steering wheel. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/qIJ9PenDMp8%3Ffeature%3Doembed&amp;xid=25657,15700022,15700186,15700190,15700253,15700256&amp;usg=ALkJrhjIKOhI0B60EnI8WFeVaU4cDJ7srQ" frameborder="0" allowfullscreen=""></iframe><h4>  Completely forgot </h4><br>  mention a practical point.  Virturilka lay in the garage for two days, at night the temperature was -20.  There are no consequences.  Then two more times for several hours I worked in the frost at minus 15 degrees - normal flight.  So, you can say, checked a slightly extreme version of the application. <br><br>  UPD&gt; Summer Trials <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/ZATytcOLM3Q%3Ffeature%3Doembed&amp;xid=25657,15700022,15700186,15700190,15700253,15700256&amp;usg=ALkJrhhF-sJwur_7ERFFmcmbglpc2JUSKA" frameborder="0" allowfullscreen=""></iframe><br></div><p>Source: <a href="https://habr.com/ru/post/172167/">https://habr.com/ru/post/172167/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../172155/index.html">How to start working on Elance.com. Short recommendations to the system administrator and not only</a></li>
<li><a href="../172159/index.html">A series of posters about scientists and their discoveries</a></li>
<li><a href="../172161/index.html">Are you ready to receive a salary in Bitcoin?</a></li>
<li><a href="../172163/index.html">A look at the HTC One: benchmarks and camera test</a></li>
<li><a href="../172165/index.html">Reflected XSS on the Pentagon subdomain (and what it led to)</a></li>
<li><a href="../172177/index.html">Database architecture: unification (for example, ERP)</a></li>
<li><a href="../172183/index.html">Pirate Bay advertising on billboard in Serbia</a></li>
<li><a href="../172185/index.html">Where is my robot?</a></li>
<li><a href="../172187/index.html">Hierarchical models in Qt</a></li>
<li><a href="../172193/index.html">Professional Doctorate in Engineering in the Netherlands</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>