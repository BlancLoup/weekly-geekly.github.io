<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>VM VmWare Workstation performance on a separate hard disk</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Prehistory 
 Being engaged in the development and testing of software, incl. at home, you have to deploy a virtual environment and install specialized...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>VM VmWare Workstation performance on a separate hard disk</h1><div class="post__text post__text-html js-mediator-article"><h4>  Prehistory </h4><br>  Being engaged in the development and testing of software, incl.  at home, you have to deploy a virtual environment and install specialized software such as: development environments, database servers, applications, etc. Up to the deployment of a full-fledged test environment.  In my case, I have a whole AD domain with <s>Blackjack</s> clients with different operating systems, databases, firewalls, IIS, etc.  Of course, in the case of a single-user load, there are no problems and hangs, you can wait a few seconds in most cases.  But in some cases, the decline in performance has already overwhelmed me, in particular, when working in Visual Studio. <br><br><h4>  Idea </h4><br>  Having <s>fun</s> Working with VmWare Workstation for many years, remembered that when creating a VM, you can select an individual hard drive for data storage: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6c7/e22/c10/6c7e22c1051d29dcc88bb3d902413f5f.jpg" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      A quick search on the network did not give accurate quantitative estimates of productivity gains.  Only general recommendations: that ‚Äúprobably will work faster‚Äù and depend on the specific hardware, types of tests and work in the VM.  I decided to try to deploy VMs of Windows 2012R2 there and carry out tests of the speed of working with the disk myself, and also calculate the speed of loading VM with the launch of Visual Studio 2013 and the opening of the project in it.  And for completeness, to expand the types of testing - to carry out similar measurements when the VM is located on the home network storage and in different virtual machines (VmWare and Virtual Box).  Suddenly there will be outstanding results somewhere? <br><a name="habracut"></a><br><h4>  Testing </h4><br><h5>  Testing Kits </h5><br>  So, you need to check the following tests: <br><br><ul><li>  Crystaldiskmark </li><li>  VM startup time with project opening in Visual Studio </li></ul><br>  Combining this with 5 types of VM types and configurations (VmWare and VirtualBox locally and over the network, VmWare on a separate disk), we get 10 tests.  Virtual BOX <s>is</s> not yet able to work with individual disks / partitions. <br><br><h5>  Hardware environment </h5><br>  Host machine: <br><br>  Windows 8.1; <br>  VmWare Workstation 10.0.6; <br>  Virtual BOX 5.0.16; <br>  Intel Core i7 4core; <br>  MB Asus P6X58D-E; <br>  24 Gb RAM; <br>  HDD: 256 Gb SSD for OS; <br>  HDD for VM: Segate Barracuda ST3250318AS, SATA-II, 8Mb, 7200rpm. <br><br>  Network storage: <br><br>  Windows 2012R2; <br>  Intel Core i3 2core; <br>  MB Asus P8H61-I; <br>  4 Gb RAM; <br>  HDD Seagate Constellation ES ST1000NM0011 SATA-III, 64 MB, 7200rpm. <br><br>  Network controllers embedded in MB are used, the network between the machines is 1 Gbit / s.  The disks on the host machine and in the repository are different, this of course can affect the results.  But launching over the network here is not the main goal, so I did not turn the disks between the host machine and the network storage. <br><br>  OS in all VM is installed from scratch, installs tools from VM, Visual Studio.  is copied to the VM and the Visual Studio project opens once.  At a subsequent reboot, indicators are measured. <br><br>  In cases of VMDK and VDI files, I didn‚Äôt split into several files; the entire VM is stored in one file. <br><br><h4>  results </h4><br>  WmWare Workstation, VMDK on local disk (left) and network storage (right): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/20f/6e2/d24/20f6e2d24672a9727f132e4343b8f474.jpg" alt="image"><br><br>  Virtual BOX, VDI on the local disk (left) and in the network storage (right): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0a2/ebc/616/0a2ebc6162e88a10fa283595867c0f7d.jpg" alt="image"><br><br>  And the long-awaited dimension, the VmWare machine using a whole separate disk: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4fa/897/2ce/4fa8972ced0fc961b804337f1efbdffd.jpg" alt="image"><br><br>  As you can see, it practically does not differ from launching a VM with a VMDK file on the same disk.  Those.  There is no noticeable increase, all within the framework of the error.  And what about the time of launching VM data, opening the project in Visual Studio 2013 and opening the file for editing in it?  Under the project, I took a small ASP.NET site with a size of 13 MB, 161 files.  Opened default.aspx from the site root. <br><table><tbody><tr><td>  Test </td><td>  VmWare LocalVMDK </td><td>  VmWare separate drive </td><td>  VmWare online </td><td>  VirtualBOX LocalVDI </td><td>  VirtualBOX over the network </td></tr><tr><td>  Run VM with VS, min: s </td><td>  <b>2:15</b> </td><td>  <b>1:57</b> </td><td>  1:55 </td><td>  1:54 </td><td>  2:22 </td></tr></tbody></table><br>  As you can see, there is a small gain in speed when using a separate disk (bold).  The scatter in the readings on other tests and their gain compared to a single disk cannot be explained without a more coherent environment (at least it is necessary to twist the disks). <br><br>  The question also arose: how can the SSD drive in the host machine influence the results?  After all, the VM settings themselves I put on it.  And there when the OS is running, the VMEM file is 2 GB in size. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f33/dbb/787/f33dbb7878abb5c9afd544c4bd6b626d.jpg" alt="image"><br><br>  I watched SSD calls with VM settings and this VMEM file while the VM was working with a separate drive.  Well, it seems like there are no calls to the SSD, 0-1% of the disk load.  Here is an example - the moment of installation of such a VM.  Drive D is used under the ceiling, SSD is not used: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f9a/698/814/f9a698814ab735314fd153011c80b452.jpg" alt="image"><br><br>  Still, I decided to leave the SSD and save the VM and VMEM settings <b>on the same disk</b> as the VMDK.  So that this disk took on board the entire VM with giblets.  When creating a VM and selecting a separate disk, it is possible to use not a whole disk but the <b>Use individual partition</b> on this disk.  I split the disk into 2 parts, a little (30 GB) allocated a subsection for storing the VM settings, and the rest of the RAW section was given to the VM: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a11/5cb/235/a115cb235edeb3df73355a383ba3315f.jpg" alt="image"><br><br>  VM is created normally, settings are saved to the visible section in the host OS.  But when it comes to writing data to a section entirely devoted to the VM, an error occurs that it is impossible to write to it and the VM shuts down.  Unfortunately, we failed to defeat this error, what is not clear. <br><br><h5>  Visual sensations </h5><br>  The numbers are not visible, but the response time of the interface is much higher than when working with VMDK / VDI on the same disk or network. <br><br><h4>  findings </h4><br>  Although the effect of the CrystalDisk measurements and the start time is insignificant, the visual sensations from working in a VM hosted on a separate physical disk are noticeable.  There are no ‚Äúbrakes‚Äù, it works like on a host machine.  In full screen mode, you can not notice the difference. </div><p>Source: <a href="https://habr.com/ru/post/279239/">https://habr.com/ru/post/279239/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../279227/index.html">PCI DSS Certification: What it is and what it is eaten with</a></li>
<li><a href="../279229/index.html">Few of the containers</a></li>
<li><a href="../279231/index.html">The story of the development of Cosmos on Unity</a></li>
<li><a href="../279233/index.html">Unlimited nesting and URL section tree</a></li>
<li><a href="../279237/index.html">Stack of mean. Usage example</a></li>
<li><a href="../279241/index.html">Vanivar Bush: ‚ÄúAs We May Think‚Äù (As We May Think)</a></li>
<li><a href="../279243/index.html">Adobe Experience Design CC released (formerly Project Comet)</a></li>
<li><a href="../279245/index.html">Intelligent active noise canceling server cabinet</a></li>
<li><a href="../279247/index.html">BDRA - Modern Architecture for Big Data Analytics</a></li>
<li><a href="../279249/index.html">Text tutorial on React.js and Redux in Russian</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>