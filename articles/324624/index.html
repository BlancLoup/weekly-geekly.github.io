<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Why in the mobile development team appeared safe running Windows 10</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! I want to tell you how we did the automatic issuance of 70 mobile test devices, and stopped wondering "who has the pink iPhone 6". 


 Previous...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Why in the mobile development team appeared safe running Windows 10</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/web/1b5/23f/a89/1b523fa8983746478a1e3d093dc97173.png" alt="image alt text"></p><br><p>  Hello!  I want to tell you how we did the automatic issuance of 70 mobile test devices, and stopped wondering "who has the pink iPhone 6". </p><br><p>  Previously, the test gadget had to be searched for in a notebook or electronic document, which is long and inconvenient.  But we defeated the problem with the help of the application and a special cabinet with devices that has been successfully working for some time in the mobile development team.  So it's time to share the recipe.  Under the cut all the details and links to GitHub. <a name="habracut"></a></p><br><p>  A little introductory: all devices are assigned to testers from the mobile development team.  Now we have about 70 devices, their number is growing in proportion to the activity of manufacturers. </p><br><h1 id="avtomaticheskiy-uchet-i-nichego-lichnogo">  Automatic accounting and nothing personal </h1><br><p>  All test devices are now located on DIY racks in the cabinet.  Each smartphone or tablet has its own numbered place and its charging cable.  For accounting, the Windows 10 application is used on a tablet with a skip scanner connected. </p><br><p>  In order to take / give the device you need: </p><br><ul><li><p>  attach a badge to the reader <br><img src="https://habrastorage.org/files/76f/040/0ef/76f0400efd4e4e74ade501e1539118e4.png" alt="image alt text"></p><br></li><li>  scan the QR code on the right devices <br><img src="https://habrastorage.org/files/dd7/a66/e0f/dd7a66e0f06a4651a52a3fc03714c448.png" alt="image alt text"></li></ul><br><p>  After that, the gadget is assigned to the employee or detached from him in the case of delivery. </p><br><p>  Convenient search for the desired smartphone - as a bonus. </p><br><p><img src="https://habrastorage.org/files/328/b46/dae/328b46dae3344fc283ee5f6172906157.png" alt="image alt text"></p><br><p>  Thanks to the application, each employee can take the devices on their own, and we get up to date usage statistics.  So it is easier to understand the workload of the stand and make a plan for the procurement of new devices. </p><br><p><img src="https://habrastorage.org/files/590/c60/3c9/590c603c9f734a9db0a20fa76dd0d2cb.jpg" alt="image alt text"></p><br><p>  <em>The latest version of the stand.</em> </p><br><p>  Of course, this was not always the case, and some year ago there was no automation and technical beauty in our pool of test devices. </p><br><h1 id="davnym-davno-v-dalekoy-dalekoy-galaktike">  Once upon a time, in a galaxy far far away ... </h1><br><p>  When the testing department was incomparably smaller, we had a notebook for self-recording: who took what for the test and when.  The gadgets themselves were stored in a regular three-drawer cabinet ‚Äî one per platform.  This, in fact, the order and ended. </p><br><p><img src="https://habrastorage.org/files/497/5da/d3e/4975dad3e0c84b0c881f114ba62cafc6.jpg" alt="image alt text"><br>  <em>Photoconstruction of old days.</em> </p><br><p>  <strong>Plus:</strong> accounting did not require any gestures from mobile development. </p><br><p>  <strong>Minus: it is</strong> inconvenient to see how many devices are in the hands of colleagues, have you forgotten to return something. </p><br><p>  Over time, devices and employees became more and more, and the usual notebook could no longer adequately respond to the challenges of the time and needs of testers.  Therefore, it was digitized and transferred to a page in Confluence, where the real dictatorship of the tester proletariat began.  If you want to take this smartphone, first find a free tester who will issue everything.  In addition, each tester always has ‚ÄúRelease is coming!‚Äù, And here they are also distracting. </p><br><p>  But even if it was possible to find a person, the quest did not end.  Often it turned out that the desired gadget is discharged or already busy.  But if it was lucky here, the tester would add an employee‚Äôs full name to the Confluence page in front of the devices taken. </p><br><p>  <strong>Plus:</strong> you can easily understand how many devices are used by colleagues from other departments. </p><br><p>  <strong>Less:</strong> Testers spent too much time on such minor tasks as receiving and issuing and recording the status of each device. </p><br><p>  But we are a dynamically developing company, so the stand with gadgets also received a dynamic development. </p><br><h1 id="nachinaem-stroyku">  We are starting construction </h1><br><p>  What questions we wanted to solve: </p><br><ul><li><p>  all devices must be constantly charged, and the charge itself should not take more than a couple of hours; </p><br></li><li><p>  Gadgets must be placed so that they are easy to take and return to their place without creating a jumble of wires and mess. </p><br></li><li>  The presence / absence of the device must be taken into account automatically. </li></ul><br><p>  <strong>Immediately, I note that the solution described in the article implies full confidence in the employee.</strong>  <strong>That is, we did not set ourselves the task of somehow additionally protecting ourselves from theft or substitution</strong> . </p><br><h2 id="problema-1--zaryadka">  Problem # 1 - charging </h2><br><p>  Ordinary USB hubs and hubs are not suitable for this purpose, because they have only 1-2 ports that can more or less normally charge devices.  A separate plug for each device - ugly and uncomfortable. </p><br><p>  But then, by the way, I found a suitable Anker production unit: </p><br><p><img src="https://habrastorage.org/files/f4d/57a/a33/f4d57aa331de45d3974e5f0ae460b6e8.jpg" alt="image alt text"></p><br><p>  This black bar allows you to simultaneously charge up to ten devices with a power of ~ 1.2A each, and the form factor is ideal for the location of such gizmos on the shelves.  For example, on one of them we have 30 phones charging. </p><br><h2 id="problema-2--vsemu-svoe-mesto">  Problem # 2 - everything has its place </h2><br><p>  For a convenient arrangement, we ordered an iron cabinet with blinds doors ‚Äú <strong>DiKom **</strong> KD-144 <strong>**‚Äù</strong> : it is locked, the doors-blinds do not interfere with anyone in the open state, and the small gaps between the shelves and walls allow us to conduct wires for charging  It remains only to drill a small hole in the back wall for the extension cord. </p><br><p>  But just putting the devices on the shelves is guaranteed to get a mess on the very first day, so for each of them you need to make a separate rack. </p><br><p>  Successful racks turned out from a penoplex - it is rather dense, easily cut with a clerical knife and widely available.  The first version of the rack successfully served a year and did not lose its properties. </p><br><p>  <strong>Tip:</strong> it is better to buy penoplex 3 cm wide, then it is suitable for both phones and tablets. </p><br><p>  What eventually happened: </p><br><p><img src="https://habrastorage.org/files/3c3/31e/73f/3c331e73f8ed4499b8344964c6e3d2a8.jpg" alt="image alt text"><br>  <em>Neat rows of smartphones, each on the charge, there is no tangle of wires.</em> </p><br><p><img src="https://habrastorage.org/files/e4a/700/096/e4a7000969ca4cfe9142c3f6b45f8950.jpg" alt="image alt text"></p><br><p>  Very soon, each device will have its own wire - we have already ordered them.  And for the final fenshui, these clips with double-sided tape on the site came in handy: </p><br><p><img src="https://habrastorage.org/files/d14/550/746/d145507469614dcbbad8e0a53f001488.png" alt="image alt text"><br>  <em>It is easiest to order them all at the Chinese trading floor.</em> </p><br><p>  As for the plans for improvement, a more solid design of the racks comes to mind, since initially we considered the penoplex as a temporary solution.  <strong>If you have experience in creating such structures - please share in the comments.</strong> </p><br><h2 id="problema-3-organizacionno-uchetnaya">  Problem # 3, organizational accounting </h2><br><p>  We have divided this task into three subtasks: </p><br><ol><li><p>  <strong>Identification of an employee using his badge</strong> .  For this we bought a reader for passes: ST-CE01EM.  The principle of the reader is simple: we connect it via USB to a laptop (the reader also works with Android devices via an OTG adapter), open a notebook, attach a badge, and the pass number is entered character-by-character.  We can determine the user by entering his data into the database or through the API. </p><br></li><li><p>  <strong>Device identification</strong>  For the pilot version, we chose QR codes due to the speed of implementation.  It is enough to print and paste a QR code with the device identifier for each device. <br>  But QR codes in the process of use revealed several shortcomings.  In our application, the user reads the code using the front camera of the tablet and may not notice the message that the device is added to the ‚Äúbasket‚Äù if it covers the screen with his hand.  Our closet with mobile phones also stands near the window, so in the morning it can be difficult to scan QR codes if you do not pull the blinds beforehand.  Therefore, now we are moving from QR codes to RFID tags with a sticky base - instead of scanning the code, it will suffice to attach the device to the pass scanner. </p><br></li><li>  <strong>Committing changes</strong> using a Windows 10 application in C #. </li></ol><br><p>  A UWP application runs on phones, tablets and a PC with Windows 10. By the way, we are planning to make a separate post about developing UWP applications for Windows 10.  <strong>If this topic is also interesting for you - write in the comments.</strong> </p><br><h1 id="kak-perestat-boyatsya-i-nachat-polzovatsya">  How to stop being afraid and start using </h1><br><p>  All this sounds beautiful and looks, but surely many will want to repeat some elements of our stand, so as not to reinvent the wheel - for example, colleagues from another service are already using our solution in a similar situation.  In general, welcome to <a href="https://github.com/yandex-money/yandex-money-teststand-accounting">the Yandex.Money repository on GitHub</a> . </p><br><p>  First of all, you need to make a fork on GitHub and build the project in Visual Studio 2017. Then you need to find a PC to start the application and a skip scanner, and also fill out the employee base. </p><br><h2 id="neobhodimoe-oborudovanie">  Necessary equipment </h2><br><ul><li><p>  <strong>skip reader</strong> - for example, <a href="http://www.smartec-security.ru/news/usb-card-reader.htm">ST-CE010EM</a> .  The main thing is that the device simulates a set of keys on the keyboard.  To test, connect the reader to the computer, open the notepad and attach the pass to the reader.  The pass number should appear character by character. <br>  The application expects a 10-character skip length by default: 000 + PASSAGE NUMBER, for example, 0001234567. If during skip scanning you do not have zeros at the beginning, you can reprogram the reader or edit the badge number parameters in MainViewModel.cs. </p><br></li><li>  PC with Windows 10. It is more convenient to use a tablet or all-in-one device with a touchscreen. </li></ul><br><h2 id="napolnenie-bazy-dannyh">  Filling the database </h2><br><p>  The application database in the sqlite format is stored in the root of the TestStand project. </p><br><h3 id="zapolnyaem-devices">  Filling Devices </h3><br><p>  Next, <strong>bold</strong> highlighted required fields in the table, the rest can be filled as needed.  The fields not listed here are not necessary to change - they will be filled in automatically: </p><br><ul><li><p>  <strong>Id - device number</strong> (QR code contains just the device id); </p><br></li><li><p>  <strong>Model</strong> - gadget model; </p><br></li><li><p>  Family - device family: iOS / Android / Windows; </p><br></li><li><p>  OsVersion - operating system version; </p><br></li><li><p>  Type - device type (Phone / Tablet / Wearable); </p><br></li><li><p>  ScreenSize - screen size; </p><br></li><li><p>  ScreenResolution - screen resolution; </p><br></li><li><p>  IsContactlessPaymentsSupported - whether contactless payments are supported on the phone (0/1); </p><br></li><li>  PhoneNumber - phone number if it has a sim card. </li></ul><br><h3 id="zapolnyaem-employee">  Fill in Employee </h3><br><p> If you have the opportunity to receive data on the pass through the API, you can write an extension for the application.  <a href="https://habrahabr.ru/post/307116">Vadim Novoseltsev</a> has already <a href="https://habrahabr.ru/post/307116">written</a> about extensions in detail <a href="https://habrahabr.ru/post/307116">in his article</a> , for which he thanks a lot! </p><br><p>  In our application, work with extensions is carried out through ExtensionsService.cs.  The extension itself is used in EmployeeService.cs (default name: com.extensions.yamoney.teststand): </p><br><ul><li><p>  <strong>BadgeId - badge number</strong> ; </p><br></li><li><p>  <strong>FirstName - name of the employee</strong> ; </p><br></li><li>  Login - employee's login, mail is sent to it (login@domen.com).  Sending mail is configured in EmailNotificationService.cs. </li></ul><br><p>  But if you have no such possibility, then you can fill in the table manually. </p><br><h2 id="pechataem-qr-kody">  We are printing QR codes </h2><br><p>  The QR code should contain the device ID from the Devices table.  Generate the code itself <a href="http://ru.qr-code-generator.com/">can be online</a> , or pick one of the many utilities.  Glue codes on gadgets - and you can use. </p><br><p><img src="https://habrastorage.org/files/ead/e10/6f7/eade106f7f444164a180cee6cc057804.jpg" alt="image alt text"></p><br><h1 id="i-vot-proshel-mesyac">  And a month has passed </h1><br><p>  The application has been working in test mode for about a month, and the improvements in the work are noticeable to the naked eye.  For example, more devices appeared in the booth - it seems to me that this is due to the fact that there is no need to keep the devices at home for several days.  Easier and safer to return the gadget to the stand and take it in the morning again.  But I want to believe that colleagues simply like to use the application. </p><br><p>  The main advantage is that now we don‚Äôt waste time registering the devices themselves, but on the basis of the statistics obtained we can: </p><br><ol><li><p>  See the load on the test bench.  We understand which devices are most often used in other teams: with which OS and screen diagonals. </p><br></li><li><p>  Maintain the current range of test devices.  From item 1, we have a rationale for the purchase of new devices. </p><br></li><li>  Collect detailed information about the use of each device, to always know who and when took the device, as well as to see its entire history of use.  If the device is back with physical defects, then we can immediately understand whose hands it is. </li></ol><br><p>  There are a lot of plans to improve the stand in my head: for example, to make a physical blocking of devices or sound notification of a device being taken without authorization.  I also want to try out the new technology of scanning the retina in the new Surface, as an alternative to passes. </p><br><p>  <strong>If you have your own thoughts and know-how on organizing a stand for issuing devices or other equipment - be sure to tell us in the comments.</strong> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/324624/">https://habr.com/ru/post/324624/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../324612/index.html">How we started to develop our own project management system and what came out of it</a></li>
<li><a href="../324616/index.html">Position-independent code (PIC) in x64 shared libraries</a></li>
<li><a href="../324618/index.html">Encrypted mail services: what to choose?</a></li>
<li><a href="../324620/index.html">We make a more or less universal calculator of services for the site.</a></li>
<li><a href="../324622/index.html">Data Science Weekend Review</a></li>
<li><a href="../324626/index.html">About biology, mega constructions and magical animals</a></li>
<li><a href="../324628/index.html">Schr√∂dinger data center</a></li>
<li><a href="../324632/index.html">On the market, a cow man sold (computational solution)</a></li>
<li><a href="../324634/index.html">Visa has allowed banks to charge an additional fee from a client for withdrawing cash at ‚Äúforeign‚Äù ATMs.</a></li>
<li><a href="../324636/index.html">UX for application localization: a developer's guide</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>