<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Code Integrity Protection with PGP. Part 1. Basic concepts and tools</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="If you are writing code that goes into publicly accessible repositories, PGP may be useful. In this series of articles, the translation of the first o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Code Integrity Protection with PGP. Part 1. Basic concepts and tools</h1><div class="post__text post__text-html js-mediator-article">  If you are writing code that goes into publicly accessible repositories, PGP may be useful.  In this series of articles, the translation of the first of which we publish today, will address the use of PGP to ensure the integrity of the software code.  These materials are mainly aimed at free software developers, although the principles outlined here are applicable in all situations where development is carried out by distributed programming teams. <br><br> <a href="https://habrahabr.ru/company/ruvds/blog/349618/"><img src="https://habrastorage.org/webt/0b/9p/zs/0b9pzs7em1xaotipaikwvw6cwyc.jpeg"></a> <br><br>  The following topics will be covered here: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  The basics of PGP and recommendations for working with the appropriate software. <br></li><li>  Using PGP with Git. <br></li><li>  Protection of a developer account. <br></li></ul><a name="habracut"></a><br><h2>  <font color="#3AC1EF">On the structure of materials</font> </h2><br>  Each section of this series of materials is divided into two parts: <br><br><ol><li>  A checklist that can be adapted to the needs of a specific project. <br></li><li>  Explanations, revealing the essence of the elements of the checklist, as well as instructions for working with programs. <br></li></ol><br><h2>  <font color="#3AC1EF">Checklist Features</font> </h2><br>  Items in each of the checklists include information about the level of priority of a particular item.  We hope this will help you in making decisions on the use of the proposed recommendations. <br><br><ul><li>  Elements that are assigned priority "important" should be given special attention.  If recommendations from ‚Äúimportant‚Äù points are not implemented, it will mean a high risk of problems with the code being included in the project. <br></li><li>  Items with a ‚Äúrecommended‚Äù priority contain recommendations that are useful to implement to improve the overall level of security.  Their implementation may affect the interaction of the programmer with his work environment, it may require the acquisition of new habits or abandonment of old ones. <br></li></ul><br>  Remember that all the lists listed here are only recommendations.  If you feel that the prioritization levels do not reflect the security features of your project, you should adapt them to your needs. <br><br><h2>  <font color="#3AC1EF">Basic PGP Concepts and Tools</font> </h2><br><h3>  <font color="#3AC1EF">‚ñç Checklist</font> </h3><br>  Here are the topics in which you need to navigate after successfully mastering the material in this section: <br><br><ol><li>  The role of PGP in the development of free software (Important). <br></li><li>  Basics of public key cryptography (Important). <br></li><li>  Differences between encrypting and signing materials (Important). <br></li><li>  PGP key identification data (Important). <br></li><li>  The authenticity of the PGP keys (Important). <br></li><li>  Installing the GnuPG utilities (version 2.x) (Important). <br></li></ol><br><h3>  <font color="#3AC1EF">‚ñç Explanations</font> </h3><br>  The open source community has long relied on PGP to ensure the authenticity and integrity of the software being developed.  You may not know about this, but whether you are working in a Linux, Mac or Windows environment, you have already used PGP to ensure the integrity of your computing environment. <br><br><ul><li>  Linux distributions use PGP to ensure that binary or source packages are immutable from the moment they are created to the moment they are installed by the end user. <br></li><li>  Free software projects typically offer separate PGP signatures for released software archives, so projects that rely on them can verify the integrity of downloaded releases before integrating them into their own distributions. <br></li><li>  Free software projects typically rely on PGP signatures in the code itself to track the origin and ensure the integrity of the code contributed to the project by its developers. <br></li></ul><br>  This is very similar to the developer certificate and code signing mechanisms used by programmers working on closed source platforms.  In fact, the basic concepts underlying these two technologies overlap.  They differ mainly in technical implementation details and how they delegate trust.  PGP does not rely on a centralized certification service; instead, this system allows users to independently assign a level of trust to each certificate. <br><br>  Our goal is to help you control the origin of the code that enters your project and track its integrity with PGP.  You can do this by following the recommendations for working with PGP and having learned the basic rules of safety. <br><br><h3>  <font color="#3AC1EF">PG PGP Job Overview</font> </h3><br>  You do not need to know all the details about how PGP works.  To successfully use this technology, it is enough to understand its basic concepts.  PGP uses public key cryptography.  Using cryptographic methods, for example, plain text can be converted to encrypted text.  This process requires two different keys: <br><br><ul><li>  The public key, which is known to all. <br></li><li>  The private key, which is known only to the owner. <br></li></ul><br><h3>  <font color="#3AC1EF">‚ñç Encryption</font> </h3><br>  For encryption, PGP uses the public key of the person for whom the encrypted material is intended.  During encryption, a message is created that can only be decrypted using the corresponding private key belonging to the recipient of the message. <br><br>  The encryption process looks like this: <br><br><ol><li>  The sender creates a random encryption key (session key). <br></li><li>  The sender encrypts the message contents using this session key (using a symmetric cipher). <br></li><li>  The sender encrypts the session key using the recipient's PGP public key. <br></li><li>  The sender sends the encrypted data and the encrypted session key to the receiver. <br></li></ol><br>  To decrypt an encrypted message, the following actions are taken: <br><br><ol><li>  The receiver decrypts the session key using its PGP private key. <br></li><li>  The recipient uses the session key to decrypt the content of the message. <br></li></ol><br><h3>  <font color="#3AC1EF">‚ñç Signing</font> </h3><br>  To sign data, PGP public and private keys are used in the opposite way: <br><br><ol><li>  The signer generates a checksum hash of some data. <br></li><li>  The signer uses her own private key to encrypt this checksum. <br></li><li>  The signer provides the encrypted checksum along with the data. <br></li></ol><br>  To verify the signature, perform the following actions: <br><br><ol><li>  The reviewer generates its own checksum data. <br></li><li>  The verifier uses the signer's public key to decrypt the provided checksum. <br></li><li>  If the checksums match, the integrity of the content is confirmed. <br></li></ol><br><h3>  <font color="#3AC1EF">‚ñç Sharing encryption and signing</font> </h3><br>  Often, encrypted messages are also signed using the sender's own PGP key.  This approach should always be used when encrypted messages are exchanged, since encryption without authentication does not make much sense (perhaps, anonymity in such things is needed only by secret agents and those who make certain information in the public domain). <br><br><h3>  <font color="#3AC1EF"> Key identification data</font> </h3><br>  Each PGP key must be associated with the identity of the key owner.  Usually this is the full name of the person and the email address in the following format: <br><br><pre><code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">Alice</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Engineer</span></span> &lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">alice</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.engineer</span></span>@<span class="hljs-keyword"><span class="hljs-keyword">example</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">com</span></span>&gt;</code> </pre> <br>  Sometimes credentials also contain comments, given in brackets, intended to inform the end user about the specific key: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">Bob</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Designer</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">obsolete</span></span> 1024<span class="hljs-selector-tag"><span class="hljs-selector-tag">-bit</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">key</span></span>) &lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">bob</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.designer</span></span>@<span class="hljs-keyword"><span class="hljs-keyword">example</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">com</span></span>&gt;</code> </pre> <br>  Since people, owners of keys, can play many professional and personal roles, several sets of identification data can be present in the same key: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">Alice</span></span> Engineer &lt;alice.engineer<span class="hljs-variable"><span class="hljs-variable">@example</span></span>.com&gt; Alice Engineer &lt;aengineer<span class="hljs-variable"><span class="hljs-variable">@personalmail</span></span>.example.org&gt; Alice Engineer &lt;webmaster<span class="hljs-variable"><span class="hljs-variable">@girlswhocode</span></span>.example.net&gt;</code> </pre> <br>  When multiple sets of credentials are used, one of them is marked as primary, to simplify the search for the key. <br><br><h3>  <font color="#3AC1EF">‚ñç Key authenticity</font> </h3><br>  In order to be able to use someone's public key for encryption or verification, you need to make sure that he really belongs to this person (Alice in this case), and not to the scammer (let the cheater be called Eve).  In PGP, this is called key authenticity: <br><br><ul><li>  The complete authenticity of the key means that there is a very high level of confidence that this key belongs to Alice. <br></li><li>  The key validity of the key means that we are to some extent sure that the key belongs to Alice. <br></li><li>  The unknown key authenticity means that we absolutely have no confidence that this key belongs to Alice. <br></li></ul><br><h3>  <font color="#3AC1EF">‚ñçNetwork of trust and the mechanism of "trust in the first use"</font> </h3><br>  PGP includes a mechanism for delegating trust, known as the Web of Trust, WOT.  At its core, this is an attempt to replace the need for centralized certification services such as those used in HTTPS / TLS.  With this approach, the user makes decisions about who you can trust. <br><br>  Unfortunately, very few people understand how the trust network works, and even fewer people care about this technology.  And although trust networks remain an important aspect of the OpenPGP specification, existing versions of GnuPG (2.2 and higher) implemented an alternative approach, represented by the Trust on First Use (TOFU) mechanism. <br><br>  TOFU can be compared with SSH.  When you connect to a remote system for the first time using SSH, your system remembers the fingerprint of its key.  If the key changes, the SSH client informs you of this and rejects the connection, prompting you to decide whether you trust the changed key or not. <br><br>  The TOFU mechanism works in a similar way.  When you first import someone's PGP key, it is considered trustworthy.  If, after this, GnuPG encounters a new key with the same identification data, then both keys will be marked as invalid and you will have to decide for yourself which one should be saved. <br><br>  In this tutorial, we will use the TOFU trust model. <br><br><h3>  <font color="#3AC1EF">‚ñçAbout terminology</font> </h3><br>  Here we would like to note the importance of understanding the differences between terms such as PGP, OpenPGP, GnuPG and gpg: <br><br><ul><li>  PGP (Pretty Good Privacy) is the name of a commercial program released in 1991. <br></li><li>  OpenPGP is an IETF standard compatible with PGP. <br></li><li>  GnuPG (Gnu Privacy Guard) is free software that implements the OpenPGP standard. <br></li><li>  The command line tool for GnuPG is called gpg. <br></li></ul><br>  Today, the term PGP is almost universally used in the sense of ‚ÄúOpenPGP standard‚Äù rather than as a program name, and thus PGP and OpenPGP are interchangeable.  The terms GnuPG and gpg should be used only when referring to specific tools, not standards and other concepts with which we operate.  For example: <br><br><ul><li>  PGP key (not GnuPG or GPG) <br></li><li>  PGP Signature (not GnuPG or GPG) <br></li><li>  PGP Key Server (not GnuPG or GPG) <br></li></ul><br>  Understanding these differences should help you communicate with other PGP users. <br><br><h3>  <font color="#3AC1EF">‚ñçInstall GnuPG</font> </h3><br>  If you are using Linux, this means that GnuPG software is already installed on your system.  On a Mac, you need to install <a href="https://gpgtools.org/">GPG-Suite</a> , or use the <code>brew install gnupg2</code> .  If you are a Windows user, then <a href="https://www.gpg4win.org/">GPG4Win</a> will suit <a href="https://www.gpg4win.org/">you</a> , and you will probably need to change some of the commands in this guide.  If you use a Unix-like environment in Windows, you will not have to change commands.  If you use any other platforms, then you will need to choose the appropriate implementation of GnuPG yourself. <br><br><h3>  <font color="#3AC1EF">‚ñçGnuPG versions 1 and 2</font> </h3><br>  Both GnuPG v.1 and GnuPG v.2 implement the same standard, but they provide incompatible libraries and command line tools, with the result that many distributions come with both obsolete version 1 and newer version 2. You need to make sure That you always use GnuPG v.2. <br><br>  First, to find out which version of GnuPG is hiding on your system under the name <code>gpg</code> , run the following command: <br><br><pre> <code class="hljs pgsql">$ gpg <span class="hljs-comment"><span class="hljs-comment">--version | head -n1</span></span></code> </pre> <br>  If you see something like <code>gpg (GnuPG) 1.4.x</code> , it means that with the command <code>gpg</code> GnuPG v.1 is invoked.  In this case, <code>gpg2</code> command: <br><br><pre> <code class="hljs pgsql">$ gpg2 <span class="hljs-comment"><span class="hljs-comment">--version | head -n1</span></span></code> </pre> <br>  If you see something like <code>gpg (GnuPG) 2.xx</code> , then everything is fine.  Here we assume that you have GnuPG version 2.2 or later.  If you are using GnuPG version 2.0, some of the commands that will be listed here will not work, so you should consider installing the latest version 2.2 of GnuPG. <br><br><h3>  <font color="#3AC1EF">‚ñçA pseudonym for GnuPG v.2</font> </h3><br>  If you have both the <code>gpg</code> command and the <code>gpg2</code> command on your system, it would be good to set everything up so that the <code>gpg</code> command <code>gpg</code> GnuPG v.2, and not the old software version.  You can do this by creating a nickname: <br><br><pre> <code class="hljs ruby">$ <span class="hljs-keyword"><span class="hljs-keyword">alias</span></span> gpg=gpg2</code> </pre> <br>  This command can be placed in <code>.bashrc</code> in order for the GnuPG v.2 program to respond to the <code>gpg</code> command. <br><br><h2>  <font color="#3AC1EF">Results</font> </h2><br>  Here we talked about the basics of PGP, which must be owned in order to successfully use PGP in code protection.  Next time we will talk about creating and protecting PGP keys. <br><br>  <b>Dear readers!</b>  Do you use PGP to protect the code of your software projects? <br><br> <a href="https://ruvds.com/ru-rub/"><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div><p>Source: <a href="https://habr.com/ru/post/349618/">https://habr.com/ru/post/349618/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../349602/index.html">Flags in function arguments</a></li>
<li><a href="../349604/index.html">Flask Mega-Tutorial, Part XII: Dates and Times (Edition 2018)</a></li>
<li><a href="../349610/index.html">DevOps was invented by developers so that admins work more</a></li>
<li><a href="../349612/index.html">UX Cinema - Emotions. The senses. Interview</a></li>
<li><a href="../349616/index.html">How-to: change of the main domain in the G Suite for the entire company and with the preservation of all data</a></li>
<li><a href="../349620/index.html">Fill holes in the application server 1C and around</a></li>
<li><a href="../349622/index.html">Five reasons to like Flutter.</a></li>
<li><a href="../349624/index.html">Python, Delphi and C ++ through the eyes of a scientist</a></li>
<li><a href="../349626/index.html">From small to large: How to choose a trade scales for the store</a></li>
<li><a href="../349628/index.html">Nvidia shares rose by 1150% over three years: why is this not the limit</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>