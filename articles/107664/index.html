<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Test C compilers for Windows</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="After numerous disputes on the topic ‚ÄúWhich compiler generates code better,‚Äù an idea appeared to carry out the test itself. The main purpose of the te...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Test C compilers for Windows</h1><div class="post__text post__text-html js-mediator-article">  After numerous disputes on the topic ‚ÄúWhich compiler generates code better,‚Äù an idea appeared to carry out the test itself.  The main purpose of the test was to check the speed of the program with speed optimization.  Test result: arithmetic average time of test function execution in milliseconds (1/1000 s).  those.  less is better. <br><br>  <b>Participated in testing:</b> <ul><li>  Intel C ++ Compiler Pro 11.1.054; </li><li>  GCC 4.5.0 (MinGW); </li><li>  MS C / C ++ Compiler 15.00.21022.08 (VS 2008); </li><li>  CodeGear C ++ Builder 11.0 (C ++ Builder 2007); </li><li>  Tiny C Compiler 0.9.25. </li></ul><a name="habracut"></a>  <b>Iron for dough:</b> <ul><li>  Computer: CPU Intel E5200 (2-core) 2.5 GHz + 2 GB of RAM; </li><li>  Laptop: CPU AMD Athlon QL-62 (2-core) 2 GHz + 3 GB of RAM. </li></ul>  <b>OS for test:</b> <br><br>  MS Windows XP SP3 Eng x32 on a laptop and on a computer (the same SP3 was installed from the same disk). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Compilation options:</b> <ol><li>  Any optimization is disabled; </li><li>  All possible optimization is included. </li></ol>  <b>Restrictions on testing:</b> <ul><li>  The source code of the test program does not change depending on the compiler; </li><li>  The test function does not use the system functions, i.e.  only computational operations, all functions associated with calling system functions are called before and after the time measurement; </li><li>  Parallel libraries of the OpenMP type are not used; </li><li>  Calculations are performed in only one thread; </li><li>  The computer is not loaded by any other programs anymore, only running Windows + Notepad + test program; </li><li>  For tests not used VCL, MFC, CLR, ATL; </li><li>  The program code was compiled as C code, not C ++; </li><li> For Tiny C Compiler, only 1 compilation option was used, because it does not support code-level optimization.  From the documentation: <code>        ,          ,     .    ,            .</code> <code>        ,          ,     .    ,            .</code> </li></ul>  <b>Testing Method:</b> <ol><li>  Memory allocation for buffers; </li><li>  Getting UserTime of the current thread via GetThreadTimes; </li><li>  Execution of the test function; </li><li>  Getting UserTime of the current thread via GetThreadTimes; </li><li>  Reception of a difference in time with an accuracy of milliseconds (1/1000 sec.); </li><li>  Repeat the last 4 actions 10 times; </li><li>  Calculation of the arithmetic mean time. </li></ol>  <b>Algorithm of computing function:</b> <ol><li>  Initialization of the key sequence for the RC4 encryption algorithm; </li><li>  Initialization of the key sequence for the AES-128 encryption algorithm; </li><li>  Filling the first test buffer with data obtained from the RC4 generator; </li><li>  Calculate CRC32 for the first test buffer; </li><li>  Encryption of the first test buffer by the AES-128 algorithm, in blocks of 128 bits, with the result placed in the second test buffer; </li><li>  Filling the first test buffer with data obtained from the RC4 generator, i.e.  initial data is completely erased; </li><li>  Decryption of the second test buffer with placing the result in the first test buffer; </li><li>  CRC32 count for decrypted first test buffer; </li><li>  CRC comparison before encryption and after. </li></ol>  <b>Test parameters:</b> <ul><li>  The number of data for encryption is 1600 kilobytes (102400 blocks); </li><li>  The number of test iterations for calculating the arithmetic average time is 10. </li></ul>  <b>Test results:</b> <br>  <b>Intel C ++ Compiler Pro 11.1.054</b> <ul><li>  Laptop without optimization: 6301 ms; </li><li>  Optimized laptop: 971 ms; </li><li>  Computer without optimization: 4541 ms; </li><li>  Computer optimized: 867 ms. </li></ul>  <b>GCC 4.5.0 (MinGW)</b> <ul><li>  Laptop without optimization: 6568 ms; </li><li>  Optimized laptop: 1691 ms; </li><li>  Computer without optimization: 4979 ms; </li><li>  Computer optimized: 1521 ms. </li></ul>  <b>MS C / C ++ Compiler 15.00.21022.08 (VS 2008)</b> <ul><li>  Laptop without optimization: 5149 ms; </li><li>  Optimized laptop: 1574 ms; </li><li>  Computer without optimization: 3740 ms; </li><li>  Computer with optimization: 1290 ms. </li></ul>  <b>CodeGear C ++ Builder 11.0 (C ++ Builder 2007)</b> <ul><li>  Laptop without optimization: 4982 ms; </li><li>  Optimized laptop: 3854 ms; </li><li>  Computer without optimization: 4006 ms; </li><li>  Computer with optimization: 3185 ms. </li></ul>  <b>Tiny C Compiler 0.9.25</b> <ul><li>  Laptop: 6275 ms; </li><li>  Computer: 4606 ms. </li></ul>  More clearly: Code execution timeline: <img src="http://slesh.name/uploads/compiler_test.png" alt="image">  Graph of the speed of code execution relative to the test leader (test leader - 100%) <img src="http://slesh.name/uploads/compiler_test2.png" alt="image"><br><br>  <b>Results:</b> <br>  According to the results of testing for speed optimization, compilers occupy the following places: <ol><li>  Intel C ++ Compiler Pro 11.1.054; </li><li>  MS C / C ++ Compiler 15.00.21022.08 (VS 2008); </li><li>  GCC 4.5.0 (MinGW); </li><li>  CodeGear C ++ Builder 11.0 (C ++ Builder 2007); </li><li>  Tiny C Compiler 0.9.25. </li></ol>  As you can see, the guys from Intel did a good job (32% of the code worked faster than the nearest opponent) and their code has excellent optimization, regardless of whether it runs on an Intel or AMD processor. <br><br>  At the same time, C ++ Builder showed itself not with the best side (2 times behind), which indicates a slightly different specificity of its application. <br><br>  Well, about Tiny C Compiler 0.9.25 and there can be no talk, because it doesn‚Äôt support conversion optimization at all, and it turns out that the speed of the program is on par with other compilers without optimization when compiling. <br><br>  Of course, C ++ Builder turned out to be a bit old because I didn‚Äôt find a more recent version.  Although it seems to me, there is little that has changed in this regard. <br><br>  <b>Conclusion</b> <br>  According to the results of testing, it is impossible to judge about the compiler, that it is good or bad, because everyone has his own application, and you can only talk about which one of them is suitable for creating software products related to computational operations. </div><p>Source: <a href="https://habr.com/ru/post/107664/">https://habr.com/ru/post/107664/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../107658/index.html">Mobile Firefox (aka Fennec) Reaches Version 4.0 Beta 2</a></li>
<li><a href="../107660/index.html">Has it become more convenient for you to read Habr, after the appearance of restrictions on the length of articles,% username%?</a></li>
<li><a href="../107661/index.html">For large-scale introduction of biofuels from algae need at least 10 years of scale</a></li>
<li><a href="../107662/index.html">Agile methodology turns 10 years old</a></li>
<li><a href="../107663/index.html">New clone species</a></li>
<li><a href="../107665/index.html">Google Corporation is planning a number of major purchases.</a></li>
<li><a href="../107668/index.html">How to connect two asterisk servers (part one. SIP)</a></li>
<li><a href="../107670/index.html">Do I need to spend time designing?</a></li>
<li><a href="../107672/index.html">Steve Ballmer gave a lecture to Ukrainian students</a></li>
<li><a href="../107673/index.html">Hack Kinect, serve Open Source and get $ 2000. The winner is already there</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>