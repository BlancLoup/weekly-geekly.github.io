<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>GUI, not GUI - or how to enable and disable the GUI in Windows Server 2012</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When the very first Server Core version appeared, many administrators avoided it for the reason that they could use the command line features exclusiv...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>GUI, not GUI - or how to enable and disable the GUI in Windows Server 2012</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/548/cc9/315/548cc9315e4597cb12c6e7d1468bf70d.png"><br><br>  When the very first Server Core version appeared, many administrators avoided it for the reason that they could use the command line features exclusively, and this is not always convenient.  However, the situation has changed in <a href="http://technet.microsoft.com/ru-ru/evalcenter/hh670538.aspx">Windows Server 2012</a> , it is now possible to use the hybrid mode, i.e.  It is possible to disable or enable the graphical interface. <br><a name="habracut"></a><br><br><h1>  Disable GUI </h1>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In Windows Server 2012, the GUI followed the example of a common architecture for managing the operating system and operating system and became a feature.  This in its own makes the process of deleting a graphical interface to the point of impossibility.  First you need to start the ‚ÄúServer Manager‚Äù. <br><br><img src="https://habrastorage.org/storage2/76d/351/f25/76d351f25436c57301234565f9153d92.png"><br><br>  Click ‚ÄúManage‚Äù and then select ‚ÄúRemove Roles or Features‚Äù from the menu. <br><br><img src="https://habrastorage.org/storage2/3f2/173/0f6/3f21730f6fb59e328e0c5065494b8ad4.png"><br><br>  Next, click ‚ÄúNext‚Äù to skip the preliminary items of the setup wizard, then select the server you need from the available pool (in our case, this is the DC1 server) and click ‚ÄúNext‚Äù. <br><br><img src="https://habrastorage.org/storage2/165/8cc/9de/1658cc9decaefe1cfff9ba36041274f5.png"><br><br>  Since the GUI is not a role, click ‚ÄúNext‚Äù to skip the master roles and go to the next section. <br><br><img src="https://habrastorage.org/storage2/d36/545/faf/d36545fafda49a40d5d7800e1aeb6a5c.png"><br><br>  When you get to the feature wizard, you will need to uncheck the ‚ÄúUser Interfaces and Infrastructure‚Äù checkbox, and then click ‚ÄúNext‚Äù. <br><br><img src="https://habrastorage.org/storage2/4a4/d01/87a/4a4d0187ac7863dcf80ac106e9f31727.png"><br><br>  Check the ‚ÄúRestart Destination Server‚Äù and click ‚ÄúRemove‚Äù. <br><br><img src="https://habrastorage.org/storage2/c0f/bca/49c/c0fbca49c2b198cf45560f380d736a68.png"><br><br>  After this action the GUI will be deleted. <br><br><img src="https://habrastorage.org/storage2/642/164/97b/64216497ba3b670f6d6aad772adf535c.png"><br><br>  After deleting all the necessary data, the server will automatically restart. <br><br><img src="https://habrastorage.org/storage2/f66/eda/de9/f66edade93a83cdc271efac479ebb86c.png"><br><br>  After the server is restarted and you are logged in - from now on you can only use the command line to interact with the server. <br><br><img src="https://habrastorage.org/storage2/e61/a1a/2c8/e61a1a2c8b451cf94fe24fa802b0a80b.png"><br><br><h1>  Enable GUI </h1><br><br>  After we successfully deleted the GUI, it would be very nice to know how to get it back after all.  To do this, we use the ‚ÄúSConfig‚Äù utility - so just type ‚Äúsconfig‚Äù on the command line and press Enter. <br><br><img src="https://habrastorage.org/storage2/749/1d3/439/7491d34394fd94053e830bcb32b9abd9.png"><br><br>  At the very bottom of the screen you can see menu item 12, which is just responsible for restoring the graphical interface - all we have to do is type 12 and press "Enter". <br><br><img src="https://habrastorage.org/storage2/b36/a51/6ec/b36a516ec9801cb350073e1d2cb9bec0.png"><br><br>  A notification will appear on the screen that if the GUI is enabled, a server restart will be required - feel free to click ‚ÄúYes‚Äù to complete the restore operation of the graphical interface. <br><br><img src="https://habrastorage.org/storage2/6a9/288/829/6a928882939be4100530190693a55d53.png"><br><br>  After that, run DISM, which will add the necessary files to activate the graphical shell. <br><br><img src="https://habrastorage.org/storage2/b45/965/d29/b45965d29a31bab4ef04c2e25a0896ed.png"><br><br>  After completing the above process, you will be prompted to restart the server, type "y" and click to restart. <br><br><h1>  Disable GUI with PowerShell </h1><br><br>  We can also carry out all of the above operations, both for deleting and returning the GUI, much faster if we use PowerShell commands.  To do this, open the ‚ÄúServer Manager‚Äù, click on ‚ÄúTools‚Äù and start PowerShell. <br><br><img src="https://habrastorage.org/storage2/f2d/3c8/21d/f2d3c821d67a0a0b301c272906608c9c.png"><br><br>  To remove a GUI, we use the Remove-WindowsFeature cmdlet: <br><br>  <i>Remove-Windows Server-Gui-Shell, Server-Gui-Mgmt-Infra</i> <br><br>  In turn, Remove-WindowsFeature is just an alias of a command, which means we can also use the following commands: <br><br>  <i>Uninstall-WindowsFeature Server-Gui-Shell, Server-Gui-Mgmt-Infra</i> <br><br><img src="https://habrastorage.org/storage2/287/acf/cb2/287acfcb2a094d441f9e286a733a9782.png"><br><br>  After entering the command and pressing the ‚ÄúEnter‚Äù key, the procedure of deleting the graphic interface will begin. <br><br><img src="https://habrastorage.org/storage2/789/bc9/06a/789bc906ae4119d67d33f8fe5a21d776.png"><br><br>  After the operation of deleting binaries is completed, it will be necessary to reboot in order for the changes to take effect.  Type the following command and press "Enter": <br><br>  <i>Shutdown ‚Äìr -t 0</i> <br><br><img src="https://habrastorage.org/storage2/28e/8e1/733/28e8e1733544b481e95cd4beba3fa16d.png"><br><br>  After a reboot, only the command line will be available for operation. <br><br><img src="https://habrastorage.org/storage2/ef2/526/557/ef25265578b1876666534575964e2f3b.png"><br><br><h1>  Enabling GUI with PowerShell </h1><br><br>  The first thing we need to do is get into PowerShell, type in PowerShell from the command line, and press "Enter." <br><br><img src="https://habrastorage.org/storage2/df7/c0a/28a/df7c0a28aa2d299f4ff875e0b1572127.png"><br><br>  Now we need the Add-WindowsFeature cmdlet to get the GUI back: <br><br>  <i>Add-WindowsFeature Server-Gui-Shell, Server-Gui-Mgmt-Infra</i> <br><br>  This is also an alias for the following commands: <br><br>  <i>Install-Windows Server-Gui-Shell, Server-Gui-Mgmt-Infra</i> <br><br><img src="https://habrastorage.org/storage2/96f/651/739/96f65173902f0284e045a2c7650215ec.png"><br><br>  After completing the procedure for adding components, you must restart the server using the shutdown command: <br><br>  <i>Shutdown ‚Äìr -t 0</i> <br><br><img src="https://habrastorage.org/storage2/82b/12e/1a3/82b12e1a332abdb2ab67d3646c02878e.png"><br><br>  After the server restarts, the graphical interface will be available again. <br><br>  PS&gt; Download Windows Server 2012 RC <a href="http://technet.microsoft.com/ru-ru/evalcenter/hh670538.aspx">here</a> . <br><br>  Respectfully, <br>  George A. Gadzhiev <br>  Information Infrastructure Expert, <br>  Microsoft <br><habracut></habracut></div><p>Source: <a href="https://habr.com/ru/post/147930/">https://habr.com/ru/post/147930/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../147924/index.html">Law 89417-6 in action or initiative of telecom operators?</a></li>
<li><a href="../147925/index.html">Valve launched the Steam and Left 4 Dead 2 development team blog for Linux</a></li>
<li><a href="../147927/index.html">I don't know OOP</a></li>
<li><a href="../147929/index.html">Microsoft introduced Office 2013 Customer Preview</a></li>
<li><a href="../14793/index.html">Hot topic: Windows vs Linux</a></li>
<li><a href="../147932/index.html">InterSystems Database Mirroring. Creating and testing mirrors. Part 1</a></li>
<li><a href="../147934/index.html">Metro Design Summer School Records</a></li>
<li><a href="../147936/index.html">Materials for learning SharePoint 2013 Preview</a></li>
<li><a href="../147937/index.html">Math for rogues</a></li>
<li><a href="../147938/index.html">How I watched a streaming torrent video from a computer on an Android tablet</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>