<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Installing Ubuntu Jaunty on the Nokia N800 / N810</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 I bring to your attention the translation of this installation guide for Ubuntu Jaunty on the Nokia N800 / N810. 
 What works: 


- Dsm...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Installing Ubuntu Jaunty on the Nokia N800 / N810</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/993/023/ae2/993023ae2bd340e6b0148834ee961d34.jpg" alt="image"><br><h4>  Introduction </h4><br>  I bring to your attention the translation of <a href="http://www.internettablettalk.com/forums/showthread.php%3Ft%3D25975">this</a> installation guide for Ubuntu Jaunty on the Nokia N800 / N810. <br>  What works: <br><ul><li>  Dsme </li><li>  Hal (partial) </li><li>  Screen diming </li><li>  Xserver-xorg </li><li>  Simple Compiz Effects </li><li>  Power management </li><li>  Usbnet emergency talend </li><li>  Powersave </li><li>  Bluetooth </li><li>  Right click </li><li>  Wireless network </li><li>  keymapping (hardware keys and virtual keyboard) </li></ul><br>  Details under the cut. <br><a name="habracut"></a><br>  What does not work: <br><ul><li>  Usplash (does not start, maybe our kernel does not support it?) </li><li>  Sound (closed source) </li></ul><br>  The installation process will require the following: <br><ul><li>  easyroot / rootsh / becomeroot </li><li>  debootstrap </li><li>  basic command line knowledge </li><li>  e2fsprogs </li><li>  2-4GB mmc card - 4 GB + if you plan to install ubuntu-desktop. </li><li>  Bootmenu form deblet </li><li>  binutils </li></ul><br><h4>  Step One: Preparing a Memory Card </h4><br>  To do this, perform the following in the terminal as root (I use 4GB mmc with 356mb fat16 partition and 3.6gb for linux83 - our root partition) <br><br> <code>umount /dev/mmcblk0p1 <br> sfdisk -uM /dev/mmcblk0 <br> 356,6 <br> ,,L <br> ,, <br> ,, <br></code> <br><br><h4>  Step Two: Formatting Partitions </h4><br> <code>umount /dev/mmcblk0p1 <br> mkdosfs /dev/mmcblk0p1 <br> mkfs.ext3 /dev/mmcblk0p2 <br></code> <br><h4>  Step Three: Transition to a Newly Installed System </h4><br>  Create a directory where we will install the system: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <code>mkdir -p /mnt/jaunty</code> <br> <br>  Next, download the <a href="http://www.internettablettalk.com/forums/attachment.php%3Fs%3Db12cfb27ec51cd35fe0e167b9b58f50f%26attachmentid%3D2990%26d%3D1231087448">bootstrap-script.tar.gz script</a> , remove the <code>rm -f /usr/share/debootstrap/scripts/jaunty</code> symlink, and unpack our script into <code>/usr/share/debootstrap/scripts</code> as root. <br><br>  Next, we need to add md5sum to our / bin directory for debootstrap to work properly.  Download <a href="http://www.internettablettalk.com/forums/attachment.php%3Fs%3Db12cfb27ec51cd35fe0e167b9b58f50f%26attachmentid%3D3015%26d%3D1231986639">md5sum</a> and unpack it in / bin as root. <br><br>  Next, we mount our ubuntu partition in / mnt / jaunty and start the installation (this can take a long time): <br><br> <code><a href="http://ports.ubuntu.com/"></a> insmod /mnt/initfs/lib/modules/`uname -r`/mbcache.ko <br> insmod /mnt/initfs/lib/modules/`uname -r`/ext2.ko <br> insmod /mnt/initfs/lib/modules/`uname -r`/jbd.ko <br> insmod /mnt/initfs/lib/modules/`uname -r`/ext3.ko <br> mount /dev/mmcblk0p2 /mnt/jaunty -o noatime <br> debootstrap --include="language-pack-en,language-pack-en-base,dmsetup,cryptsetup,hashalot,nano,sudo" --components=main,multiverse,universe,restricted --verbose --arch=armel jaunty /mnt/jaunty ports.ubuntu.com /usr/share/debootstrap/scripts/jaunty</code> <br> <br>  And finally, chroot to the installed system and create console devices: <br><br> <code>mount /proc /mnt/jaunty/proc <br> mount /sys /mnt/jaunty/sys <br> chroot /mnt/jaunty <br> cd /dev; /sbin/MAKEDEV fb0 fb1 fb2 fb3 fb4 fb5 fb6 fb7 <br> exit</code> <br> <br><h4>  Step Four: Preparing the Base System for Booting </h4><br>  We mount the necessary directories: <br><br> <code>mount /dev /mnt/jaunty/dev <br> mount /dev/pts /mnt/jaunty/dev/pts <br> mount /tmp /mnt/jaunty/tmp <br> chroot /mnt/jaunty <br> export LC_ALL=C</code> <br> <br>  Add the root password: <br><br> <code>passwd root</code> <br> <br>  Set up the repository by changing the /etc/apt/sorces.lst file: <br><br> <code>#Ubuntu jaunty alpha <br> deb http://ports.ubuntu.com jaunty main restricted universe multiverse <br> deb-src http://ports.ubuntu.com jaunty main restricted universe multiverse <br> <br> #Mer alpha <br> deb http://repository.mer.tspre.org/ alpha contrib main non-free <br> deb-src http://repository.mer.tspre.org/ alpha contrib main non-free <br> <br> #Deblet sid <br> deb http://packages.tspre.org/ sid main contrib non-free <br> deb-src http://packages.tspre.org/ sid main contrib non-free <br> <br> #Ubuntu N8x0 <br> deb http://www.bman.maemobox.org/repository alpha contrib main non-free <br> deb-src http://www.bman.maemobox.org/repository alpha contrib main non-free</code> <br> <br><h5>  Next, configure apt-get: </h5><br> <code>touch /etc/apt/preferences</code> <br> <br>  Add the following to / etc / apt / preferences: <br><br> <code>Package: * <br> Pin: release a=jaunty <br> Pin-Priority: 900 <br> <br> Package: * <br> Pin: release a=alpha <br> Pin-Priority: 340 <br> <br> Package: * <br> Pin: release a=sid <br> Pin-Priority: 300</code> <br> <br><h5>  Install the base system: </h5><br> <code>wget http://packages.tspre.org/repo.key <br> apt-key add repo.key <br> apt-get update <br> apt-get -t alpha install cx3110x-module cx3110x-umac-module ke-recv-l10n-public kernel-diablo-modules-fbcon kernel-diablo mce-dummy nokia-n8x0-firmware nokia-tablets-pointercal omap-fb-console omap-fb-tools usbnet-emergency-telnetd utelnetd xresponse-visualize tablet-wireless xserver-xorg-video-omapfb synaptic aptitude console-tools <br> apt-get install ubuntu-rescue-menu ubuntu-omap-fb-splash nit-bootmenu-compat <br> apt-get install xserver-xorg-input-tslib=0.0.5-1mer7 <br> apt-get remove xserver-xorg-input-all xserver-xorg-input-synaptics <br></code> <br><br>  Install the <a href="http://www.internettablettalk.com/forums/attachment.php%3Fs%3Db12cfb27ec51cd35fe0e167b9b58f50f%26attachmentid%3D3008%26d%3D1231608511">boottime.kmap.gz</a> file for the keyboard: <br><br> <code>cp /path/to/boottime.kmap.gz /mnt/jaunty/etc/</code> <br> <br>  Next, edit a number of files: <br><br>  <b>/etc/X11/xorg.conf</b> <br><br> <code># xorg.conf (X.Org X Window System server configuration file) <br> # <br> # This file was generated by dexconf, the Debian X Configuration tool, using <br> # values from the debconf database. <br> # <br> # Edit this file with caution, and see the xorg.conf manual page. <br> # (Type "man xorg.conf" at the shell prompt.) <br> # <br> # This file is automatically updated on xserver-xorg package upgrades *only* <br> # if it has not been modified since the last upgrade of the xserver-xorg <br> # package. <br> # <br> # If you have edited this file but would like it to be automatically updated <br> # again, run the following command: <br> # sudo dpkg-reconfigure -phigh xserver-xorg <br> <br> Section "InputDevice" <br> Identifier "Generic Keyboard" <br> Driver "kbd" <br> Option "XkbRules" "xorg" <br> Option "XkbModel" "pc104" <br> Option "XkbLayout" "us" <br> EndSection <br> <br> Section "InputDevice" <br> Identifier "tslib" <br> Driver "tslib" <br> Option "ScreenNumber" "0" <br> Option "Width" "800" <br> Option "Height" "480" <br> Option "Rotate" "NONE" <br> Option "TslibDevice" "/dev/input/event3" <br> Option "CorePointer" <br> EndSection <br> <br> Section "Device" <br> Identifier "Configured Video Device" <br> # Option "UseFBDev" "true" <br> Driver "omapfb" <br> Option "fb" "/dev/fb0" <br> EndSection <br> <br> Section "Monitor" <br> Identifier "Configured Monitor" <br> EndSection <br> <br> Section "Screen" <br> Identifier "Default Screen" <br> Monitor "Configured Monitor" <br> EndSection</code> <br> <br>  <b>/etc/rc.local</b> <br><br> <code>#!/bin/sh -e <br> # <br> # rc.local <br> # <br> # This script is executed at the end of each multiuser runlevel. <br> # Make sure that the script will "exit 0" on success or any other <br> # value on error. <br> # <br> # In order to enable or disable this script just change the execution <br> # bits. <br> # <br> # By default this script does nothing. <br> /sbin/fb_update_mode auto <br> exit 0</code> <br> <br>  <b>/ etc / fstab</b> <br><br> <code>rootfs / rootfs defaults,errors=remount-ro,noatime,nodiratime 0 1 <br> proc /proc proc defaults 0 0 <br> /dev/mtdblock4 /mnt/rootfs jffs2 defaults 0 0 <br> /dev/mmcblk0p1 swap swap defaults 0 0 <br> /dev/mmcblk1p1 /media/mmc1 vfat defaults 0 0</code> <br> <br>  / <b>etc / X11 / Xwrapper.config</b> <br><br> <code># Xwrapper.config (Debian X Window System server wrapper configuration file) <br> # <br> # This file was generated by the post-installation script of the x11-common <br> # package using values from the debconf database. <br> # <br> # See the Xwrapper.config(5) manual page for more information. <br> # <br> # This file is automatically updated on upgrades of the x11-common package <br> # *only* if it has not been modified since the last upgrade of that package. <br> # <br> # If you have edited this file but would like it to be automatically updated <br> # again, run the following command as root: <br> # dpkg-reconfigure x11-common <br> allowed_users=anybody <br> nice_value=-1</code> <br> <br>  In the <b>/etc/init.d/hwclock.sh</b> file, <code>HWCLOCKPARS=</code> change to <code>HWCLOCKPARS="--directisa"</code> and add this to <b>/ etc / default / rcS</b> : <br><br> <code>echo 'HWCLOCKPARS=--directisa' &gt;&gt; /etc/default/rcS</code> <br> <br>  Reduce load time: <br><br> <code>apt-get install insserv <br> echo 'CONCURRENCY=shell' &gt;&gt; /etc/default/rcS</code> <br> <br>  If you are not interested in installing ubuntu-desktop, then you can do the following and go directly to step 7. <br><br> <code>exit <br> exit <br> umount /mnt/jaunty/dev/pts <br> umount /mnt/jaunty/dev <br> umount /mnt/jaunty/proc <br> umount /mnt/jaunty/sys <br> umount /mnt/jaunty/tmp <br> fuser -m /mnt/jaunty -k <br> umount /mnt/jaunty</code> <br> <br><h4>  Step Five: Install ubuntu-desktop </h4><br>  Do the following in a terminal, it may take several hours: <br><br> <code>apt-get install ubuntu-desktop matchbox-keyboard <br> apt-get clean</code> <br> <br>  Correct the /etc/gdm/gdm.conf-costom file for an automatic login: <br><br> <code>[daemon] <br> # Automatic login, if true the first attached screen will automatically logged <br> # in as user as set with AutomaticLogin key. <br> AutomaticLoginEnable=true <br> AutomaticLogin=user</code> <br> <br><h4>  Step Six: Activate the paging file </h4><br>  Perform the following in the terminal: <br><br> <code>mkswap /dev/mmcblk1p3</code> <br> <br>  Add the following line to <b>/ etc / fstab</b> : <br><br> <code>/dev/mmcblk1p3 swap swap defaults 0 0</code> <br> <br><h4>  Step Seven: Creating the boot menu </h4><br><br>  Create the file <b>/etc/bootmenu.d/ubuntu.item</b> and add the following (in the case of the Ubuntu section in / dev / mmcblk0p2): <br><br> <code>ITEM_NAME="Ubuntu on mmcblk0p2" <br> ITEM_ID="Ubuntu on mmcblk0p2" <br> ITEM_DEVICE="mmcblk0p2" <br> ITEM_MODULES="mbcache jbd ext3" <br> ITEM_FSTYPE="ext3" <br> ITEM_FSOPTIONS="noatime,ro" <br> ITEM_LINUXRC="linuxrc"</code> <br> <br>  And run the following command in the terminal: <br><br> <code>refresh_bootmenu.d</code> <br> <br>  <b>That's it, now you have installed Ubuntu Jaunty!</b> <br>  Screenshots can be viewed <a href="http://www.bman.maemobox.org/projects/ubuntu-n8x0/screenshots/gallery.html">here</a> . </div><p>Source: <a href="https://habr.com/ru/post/54487/">https://habr.com/ru/post/54487/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../54480/index.html">Options for using hard links in Windows</a></li>
<li><a href="../54481/index.html">Criticism: "Configuring Firefox: remove hangs and devour memory"</a></li>
<li><a href="../54482/index.html">Burn calories without leaving your computer.</a></li>
<li><a href="../54483/index.html">Blackberry vs. Apple: simple facts</a></li>
<li><a href="../54485/index.html">Silverlight Workshop: Getting Started with the Composite Application Library</a></li>
<li><a href="../54489/index.html">5 Decision making styles in design. Which to choose?</a></li>
<li><a href="../54491/index.html">The Linux Foundation introduced functionality for Linux.com</a></li>
<li><a href="../54497/index.html">ISS need lasers</a></li>
<li><a href="../54498/index.html">The current rules of Habrakhabr pushes to puppelling, the situation should be straightened</a></li>
<li><a href="../54500/index.html">Amazon EC2 Reserved Instances: VDS equivalent for $ 22 per month with an installation fee of $ 500.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>