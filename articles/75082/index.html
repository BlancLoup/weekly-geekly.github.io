<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>PHPTAL Template Engine</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This template engine has an approach that differs from other types of template engines. And it can not but interest.  At the request of PHPTAL, Habr p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>PHPTAL Template Engine</h1><div class="post__text post__text-html js-mediator-article">  This template engine has an approach that differs from other types of template engines.  And it can not but interest. <blockquote>  At the request of PHPTAL, Habr provides only one <a href="http://habrahabr.ru/blogs/php/31203/">link</a> , </blockquote>  TAL is the Attributive Pattern Language.  It is called that because language commands are attributes of tags. <a name="habracut"></a><h4>  Native template logic </h4>  In native templates, PHP or some other language is taken as a basis, and HTML is obtained as a result of its work. <blockquote><ol><li> <code><font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">table</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;?</font> <font color="#800000">foreach</font> ($ <font color="#ff0000">myarray</font> <font color="#ff0000">as</font> $ <font color="#ff0000">myitem</font> ) <font color="#ff0000">:</font> ? <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">tr</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">td</font> <font color="#0000ff">&gt;&lt;?</font> =$myitem? <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">td</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;?</font> <font color="#800000">endforeach</font> ;? <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">table</font> <font color="#0000ff">&gt;</font></font></code> </li> <li> <code><font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">table</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;?</font> <font color="#800000">foreach</font> ($ <font color="#ff0000">myarray</font> <font color="#ff0000">as</font> $ <font color="#ff0000">myitem</font> ) <font color="#ff0000">:</font> ? <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">tr</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">td</font> <font color="#0000ff">&gt;&lt;?</font> =$myitem? <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">td</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;?</font> <font color="#800000">endforeach</font> ;? <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">table</font> <font color="#0000ff">&gt;</font></font></code> </li> <li> <code><font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">table</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;?</font> <font color="#800000">foreach</font> ($ <font color="#ff0000">myarray</font> <font color="#ff0000">as</font> $ <font color="#ff0000">myitem</font> ) <font color="#ff0000">:</font> ? <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">tr</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">td</font> <font color="#0000ff">&gt;&lt;?</font> =$myitem? <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">td</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;?</font> <font color="#800000">endforeach</font> ;? <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">table</font> <font color="#0000ff">&gt;</font></font></code> </li> <li> <code><font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">table</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;?</font> <font color="#800000">foreach</font> ($ <font color="#ff0000">myarray</font> <font color="#ff0000">as</font> $ <font color="#ff0000">myitem</font> ) <font color="#ff0000">:</font> ? <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">tr</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">td</font> <font color="#0000ff">&gt;&lt;?</font> =$myitem? <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">td</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;?</font> <font color="#800000">endforeach</font> ;? <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">table</font> <font color="#0000ff">&gt;</font></font></code> </li> <li> <code><font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">table</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;?</font> <font color="#800000">foreach</font> ($ <font color="#ff0000">myarray</font> <font color="#ff0000">as</font> $ <font color="#ff0000">myitem</font> ) <font color="#ff0000">:</font> ? <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">tr</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">td</font> <font color="#0000ff">&gt;&lt;?</font> =$myitem? <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">td</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;?</font> <font color="#800000">endforeach</font> ;? <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;/</font> <font color="#800000">table</font> <font color="#0000ff">&gt;</font></font></code> </li> </ol></blockquote>  HTML is lost somewhere in the wilds of the language.  This is all badly readable.  May produce difficult to detect errors.  For example such <blockquote><ol><li>  <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#0000ff">&gt; &lt;?</font>  <font color="#800000">php</font> <font color="#ff0000">if</font> ($ <font color="#ff0000">flag</font> ):?  <font color="#0000ff">&gt;</font> text <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt; &lt;?</font>  <font color="#800000">endif</font> ;  <font color="#0000ff">&gt;</font> </li></ol></blockquote>  By the way, because Smarti was so widely spread that it does not change the logic of PHP, but simply simplifies the syntax a little. <h4>  TAL logic </h4>  Here is the same example loop written in PHPTAL <blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">&lt;</font> <font color="#800000">table</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">tr</font> <font color="#ff0000">tal: repeat</font> <font color="#0000ff">= "myitem myarray"</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">td</font> <font color="#ff0000">tal: content</font> <font color="#0000ff">= "myitem"</font> <font color="#0000ff">&gt;</font> Text to be replaced by the value of myitem <font color="#0000ff">&lt;/</font> <font color="#800000">td</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">td</font> <font color="#ff0000">tal: replace</font> <font color="#0000ff">= ""</font> <font color="#0000ff">&gt;</font> Example 1 <font color="#0000ff">&lt;/</font> <font color="#800000">td</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">td</font> <font color="#ff0000">tal: replace</font> <font color="#0000ff">= ""</font> <font color="#0000ff">&gt;</font> Example 2 <font color="#0000ff">&lt;/</font> <font color="#800000">td</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">td</font> <font color="#ff0000">tal: replace</font> <font color="#0000ff">= ""</font> <font color="#0000ff">&gt;</font> Example 3 <font color="#0000ff">&lt;/</font> <font color="#800000">td</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">tr</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">table</font> <font color="#0000ff">&gt;</font> </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote>  Its advantages: <ul><li>  Such a template will be correctly displayed in the browser with examples of "Example 1", "Example 2" and "Example 3", so you can demonstrate it to the client even at the stage when the code necessary to get the values ‚Äã‚Äãof 'myarray' does not exist yet. </li><li>  Very short code, much more convenient than using native and smart templates. </li><li>  We write all the code directly in the template, it is not necessary to create an additional file with logic, such as in block template engines or if you will write separate functions, and then simply embed variables into HTML. </li></ul>  With this approach, you work with HTML tags.  You indicate which tag should repeat several times in a loop, and which tag should display information. <h5>  TAL Namespace </h5>  In the order they are processed by the template engine: <ol><li>  tal: define - This attribute declares one or more variables that can then be used in a template. </li><li>  tal: condition - The tag and its contents will be displayed only when the condition is met. </li><li>  tal: repeat - This attribute is used to loop over the enumerated data. </li><li>  tal: replace - Using this attribute, you can replace the entire element (including the opening and closing tags) with the specified string, or empty if the value is not specified. </li><li>  tal: content - The value of this attribute will become the text inside the tag. </li><li>  tal: attributes - With tal: attributes, you can set tag attribute values ‚Äã‚Äãon the fly. </li><li>  tal: omit-tag - This attribute will cause the PHPTAL parser to ignore the element's opening and closing tags and display only its contents. </li></ol><h5>  METAL namespace (macros) </h5>  At their core, macros are regular templates that can be repeatedly inserted into other templates. <ol><li>  metal: define-macro - This attribute declares a macro </li><li>  metal: use-macro - This attribute causes the macro and includes the result of its execution in the current template in the place where it was called </li><li>  metal: define-slot - This attribute must be declared inside a tag that declares a macro (metal: define-macro). </li><li>  metal: fill-slot - This attribute can only be used inside an element with metal: use-macro. </li></ol>  Macros - based on them, include and inheritance is implemented <h5>  PHPTALES </h5>  Expression syntax  allows, for example, to write php code inside attributes <blockquote>  tal: content = "php: strtolower ($ value)" </blockquote><ol><li>  path: - is used by default.  example: tal: content = "data / user / name" </li><li>  string: - the value is parsed as a string.  example: tal: replace = "string: this is a $$ 100 page" </li><li>  not: - used only in tal: condition </li><li>  exists: - analog php isset () </li><li>  php: - php syntax </li></ol><br><h5>  Namespace I18N (internalization) </h5>  A tool for creating multilingual templates <ol><li>  i18n: translate - This attribute identifies the text to be translated using the translation system built into PHPTAL. </li><li>  i18n: attributes - Specifies which attributes should be translated. </li><li>  i18n: name - You can dynamically add variable values ‚Äã‚Äãto the translation itself. </li></ol><h5>  Empowering PHPTAL </h5>  PHPTAL allows a programmer to add <a href="http://phptal.org/manual/ru/split/trigger-interface.html">triggers</a> , <a href="http://phptal.org/manual/ru/split/filter-interface.html">filters</a> , <a href="http://phptal.org/manual/ru/split/custom-modifiers.html">phptales to it</a> , and also simply transfer objects to it, which methods are then called in a template. This opens up huge opportunities for extending the template engine, as well as the possibility of embedding it into your framework. <blockquote>  Links to primary sources: <a href="http://phptal.org/">official site</a> |  <a href="http://phptal.org/manual/ru/split/">Russian translation of documentation</a> </blockquote></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/75082/">https://habr.com/ru/post/75082/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../75075/index.html">PNG in the subject of Yandex</a></li>
<li><a href="../75077/index.html">Post about the monitor off</a></li>
<li><a href="../75078/index.html">To marketers and businessmen on Habr√©: Invitation</a></li>
<li><a href="../75079/index.html">Exit Sidux 2009-03</a></li>
<li><a href="../75080/index.html">Video lectures on computer graphics from MarGTU - now on the Internet!</a></li>
<li><a href="../75083/index.html">Undergrounds gamers</a></li>
<li><a href="../75086/index.html">Compaq Mini 110c Netbook Review</a></li>
<li><a href="../75090/index.html">We distribute the rights to start / stop services under Windows</a></li>
<li><a href="../75092/index.html">The principle of operation of the Hubble optical telescope</a></li>
<li><a href="../75093/index.html">Safari 4.0.3 vs 4.0.4</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>