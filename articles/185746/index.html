<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Heavy FPV-quadcopter - continued: APM 2.5 and active camera mount</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Part one - in which I invented and built my quadrocopter. 

 I continue the story about my quadrocopter. Since the publication of the first article, I...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Heavy FPV-quadcopter - continued: APM 2.5 and active camera mount</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/a56/085/693/a56085693b7d1e1d2ed216b5018f8be8.jpg"><br><br>  <i><a href="http://habrahabr.ru/post/178509/">Part one</a> - in which I invented and built my quadrocopter.</i> <br><br>  I continue the story about my quadrocopter.  Since the publication of the first article, I flew a lot of hours, and did a lot of modifications on the copter.  It will take a long time, and of little interest, to tell all the small details.  Therefore, I limit myself to the main changes, namely: <ul><li>  The new flight controller, the unpretentious Crius MultiWii SE shawl, was replaced by the new ArduPilot Mega 2.5, dramatically improving flight performance and adding a number of advanced features to the copter. </li><li>  The active gimbal for the camera - GoPro is now not rigidly fixed, but installed on a stabilizing gimbal that holds it in a horizontal position at any position of the copter. </li><li>  New engines - due to the increased weight of the copter (as well as the sudden death of one of the old engines), new, more powerful and significantly higher-quality engines were installed. </li><li>  Separate FPV camera - GoPro is now used only for recording, a separate rigidly mounted camera is used for flight through the video glasses. </li></ul><br>  But first things first‚Ä¶ <br><a name="habracut"></a><br><h4>  ArduPilot Mega 2.5 </h4><br>  So, the first new thing is a new flight controller APM 2.5.  How does it differ from the previously used Crius MultiWii SE? <br><table><tbody><tr><th></th><th>  ArduPilot Mega 2.5 <br><img src="https://habrastorage.org/getpro/habr/post_images/bb0/268/b48/bb0268b481c3055063a817bfc99974cd.jpg" alt="image"></th><th>  Crius MultiWii SE <br><img src="https://habrastorage.org/getpro/habr/post_images/310/b00/cbe/310b00cbed36b8484acef40b036e72f5.jpg" alt="image"></th></tr><tr><td>  CPU: </td><td>  Atmel atmega2560 </td><td>  Atmel atmega328p </td></tr><tr><td>  Gyroscope, accelerometer: </td><td>  Invensense MPU-6000 </td><td>  Invensense ITG-3205 <br>  Bosch BMA180 </td></tr><tr><td>  Barometer: </td><td>  Measurement Specialties MS5611-01BA03 </td><td>  Bosch BMP-085 </td></tr><tr><td>  Magnetometer: </td><td colspan="2">  Honeywell HMC5883L-TR </td></tr><tr><td>  GPS: </td><td>  Direct sensor connection via serial port </td><td>  Sensor connection via additional controller and I <sup>2</sup> C bus </td></tr><tr><td>  PC connection: </td><td>  USB <br>  Telemetry via radio modem (433 MHz) </td><td>  USB via separate FTDI adapter <br>  Bluetooth telemetry </td></tr><tr><td>  Built-in memory: </td><td>  4 MB for recording GPS logs and other telemetry </td><td>  - </td></tr></tbody></table>  In short, the APM 2.5 has a more powerful processor, more accurate sensors, more accurate GPS (due to processing data on the main CPU) and more long-range telemetry.  What it allows to achieve: <ul><li>  Hold position and height to within half a meter (using GPS data along with inertial navigation) </li><li>  Automatic return to the point of departure and landing (at a signal from the D / U, either when the signal is lost or the batteries are low) </li><li>  Limit the maximum flight altitude and the area over which you are allowed to fly </li><li>  Automatic navigation at specified points - the flight plan is compiled using the PO Mission Planner, and the cruiser is sent to autonomous navigation.  Remote control from a PC via 433 MHz radio telemetry is possible. </li></ul><br>  Due to more accurate sensors and more advanced stabilization algorithms, the driver felt to fly on a much more stable order than under the control of MultiWii.  And the function of autonomous return to the base gives peace of mind when flying through FPV - video loss is no longer deadly, just turn on RTH (Return To Home) and wait until either the copter arrives home and lands or returns to a stable video link.  When the signal is lost, the D / U RTH turns on automatically. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Active suspension and FPV camera </h4><br>  For a good video, a rigidly fixed camera is not suitable - stabilization is needed, keeping the camera in a horizontal position, regardless of the position of the driver.  Suspensions for such stabilization, there are two types: <br><br><ul><li>  <b>Suspensions on servos: a</b> common solution of past years.  Usual servos from the model area are used, the flight controller manages them, since he has information about roll and pitch. <br>  <i>Advantages:</i> simple and inexpensive. <br>  <i>Disadvantages:</i> poor stabilization.  The resolution and response speed of the servos are insufficient to compensate for the movement of the copter without any visible delay. </li><li>  <b>Suspensions on brushless motors:</b> gained distribution somewhere in the last year.  Brushless motors rewound to create a high holding moment, controlled by a separate controller with a camera position sensor, are used. <br>  <i>Advantages:</i> almost perfect stabilization, with sufficiently powerful motors and a perfectly tuned controller, there is no visible movement of the camera at all. <br>  <i>Disadvantages:</i> expensive, quite difficult to set up, hard. </li></ul><br>  For me, the advantage of the brushless suspension outweighed all the flaws, and I decided to make my own: in the end, I had already assembled the kopter from scratch, not to stop there.  At the same time, I decided to integrate a mount for an additional camera into the gimbal: fly through FPV is still nicer through a rigidly fixed camera (otherwise the position of the copter is not visible), plus specialized FPV cameras have a number of advantages to GoPro: they give a signal without delay and do much better complex lighting (when flying against the sun, for example).  The following components were purchased: <br><br><ul><li>  Controller: Martinez v3.1 (‚Ç¨ 50) </li><li>  Motors: RCTimer HP2212 70T (2x $ 17.99) </li><li>  FPV camera: Sony Super HAD 600TVL (‚Ç¨ 40) </li></ul><br>  The Martinez controller runs on open source software ( <a href="https://code.google.com/p/brushless-gimbal/">BruGi</a> ), it is developed by several people on my local <a href="http://fpv-community.de/forum.php">FPV forum</a> .  The alternative is the well-known controller Alexei Moskalenko ( <a href="http://www.simplebgc.com/">Alexmos SimpleBGC</a> ).  It costs, however, more than twice as expensive, and in terms of stabilization quality, the latest versions of BruGi are already at an absolutely comparable level. <br><br>  I developed the mechanics for the suspension on my own, and as with the frame for the copter itself, I asked a good friend to cut it to me on a milling machine from fiberglass.  While a comrade was preparing my details, another colleague from the forum volunteered to make a 3D model and render: <br><br><img src="https://habrastorage.org/storage2/64a/5a1/a2d/64a5a1a2d4429a6b67d1f2ed3a6e74da.jpg"><br><br>  The assembly process, as well as the first flight after many hours of setting the controller PID parameters: <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/oMAZ0BG4qTU%3Ffeature%3Doembed&amp;xid=17259,15700002,15700022,15700186,15700191,15700253&amp;usg=ALkJrhiv7Biz6L9YxV17X_iVISm_ej_gEw" frameborder="0" allowfullscreen=""></iframe><br><br><h4>  All the rest </h4><br><br>  Due to the increased weight of the copter after installing the suspension (before: 1950, after: 2140g), and also due to the sudden death of one of the old engines (in flight ... fortunately, the flight was at a low altitude above the field with meter-high grass - the fall was not injured), new engines were purchased and installed. <br><br><img src="https://habrastorage.org/storage2/c80/c09/711/c80c09711689eedce67b4773688a2ee9.jpg"><br>  <i>Before: <b>Turnigy NTM 28-30 750kv</b> .</i>  <i>With Graupner E-Prop 11x5 and 4S battery: 1kg</i> <br><br><img src="https://habrastorage.org/storage2/690/4fe/30a/6904fe30ace0ae65c9ee100fc17d245a.jpg"><br>  <i>After: <b>Tiger Motor MT2216-11 900kv</b> .</i>  <i>With Graupner E-Prop 11x5 and 4S battery: 1.2kg</i> <br><br>  Tiger Motor engines are significantly more expensive than NTM Hobbykings (‚Ç¨ 36.50 versus ‚Ç¨ 18), but at the same time significantly higher quality.  Japanese bearings used in them live much longer than cheap Chinese ones in NTM motors.  All four engines I bought were perfectly balanced and work without vibrations in the full rpm range - of the four NTMs, three were fairly well balanced, but the fourth was clearly crooked and gave fairly strong vibrations. <br><br>  Also, since the heavy camera mount shifted the center of gravity of the copter forward, the battery had to be moved further back.  This had a negative effect on flight performance: the copter became significantly more inert along the pitch axis than along the roll axis.  Usually, the PID parameters of the flight controller are matched equally for both axes, since most of the copters are symmetrical;  I also had to manually select new parameters separately for both axes in order to achieve a fairly stable flight without vibrations and other undesirable effects. <br><br>  General view of the copter with all the updates: <br><br><img src="https://habrastorage.org/storage2/7c9/a18/e61/7c9a18e612df0f36afaf72de7dfd6bc1.jpg"><br><br>  <i>To be continued...</i> </div><p>Source: <a href="https://habr.com/ru/post/185746/">https://habr.com/ru/post/185746/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../185726/index.html">Announcement of a series of articles on setting up a Communigate Pro server. Server installation</a></li>
<li><a href="../185736/index.html">The digest of news from the world of mobile development for the last week ‚Ññ19 (July 1 - 7, 2013)</a></li>
<li><a href="../185738/index.html">Nanosoft: we are talking about nanoCAD</a></li>
<li><a href="../185740/index.html">To begin with we will implement Continuous Integration in a brain</a></li>
<li><a href="../185744/index.html">"Vkontakte" began to negotiate with the owners</a></li>
<li><a href="../185750/index.html">jQuery plugin for using SVG graphics. Part 1</a></li>
<li><a href="../185752/index.html">Biryulki and Gugloservis</a></li>
<li><a href="../185754/index.html">Unlocking AES-NI on Lenovo U310</a></li>
<li><a href="../185756/index.html">4K video of Saturn and its satellites</a></li>
<li><a href="../185760/index.html">Infinite non-repeating textures using Van's mosaic</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>