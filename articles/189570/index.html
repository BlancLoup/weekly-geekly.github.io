<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Make beautiful input [type = file] for responsive site</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Many copies of front-end developers have already been broken about the problem of styling the input field input [type = file] . The essence of the pro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Make beautiful input [type = file] for responsive site</h1><div class="post__text post__text-html js-mediator-article">  Many copies of front-end developers have already been broken about the problem of styling the input field <b>input [type = file]</b> .  The essence of the problem lies in the fact that in <a href="http://www.w3.org/html/wg/drafts/html/master/forms.html">the HTML specification</a> there are no strict rules that establish how the browser should display this element.  Moreover, for <b>input [type = file],</b> there are no attributes that would allow to change its appearance, using CSS styles, you can only change the appearance of its border and font, and using JavaScript, for security reasons, you cannot simulate a click on this element. which would cause a system window to select a file <sup><b>*</b></sup> .  But what to do when a customer wants an adaptive website with beautiful stylized forms, in which this input field cannot be dispensed with? <br><br>  <sup><b>*</b></sup> - at the time of this writing, I still didn‚Äôt know that in all modern browsers, the imitation of a click on <b>input [type = file]</b> already causes the system file selection window.  Many thanks to <a href="https://habrahabr.ru/users/lutov/" class="user_link">lutov</a> for a <a href="http://habrahabr.ru/post/189570/">valuable comment</a> with a link to the working example from <a href="https://habrahabr.ru/users/pagefest/" class="user_link">Pagefest</a> ! <br><a name="habracut"></a><br><h3>  Ways to solve the field styling problem </h3><br>  During the time that this problem exists (and it exists for a very long time), several ways were found to solve it.  In total there are five: <br><br><h5>  Method number 1 (the most common) </h5>  Convince the customer that you can live with standard <b>input [type = file]</b> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Method number 2 </h5>  Write / use a ready file uploader in a flash / java applet.  Used, for example, on <a href="http://habrastorage.org/">habrastorage.org</a> <br><br><h5>  Method number 3 (will be discussed in the article) </h5>  Using CSS, ‚Äúmask‚Äù the standard <b>input [type = file]</b> , make it completely transparent and place the stylized fake field in place, so that the click on the latter will click on the standard one and, as a result, open the system window for selecting the file. <br><br><h5>  Method number 4 <sup><b>new!</b></sup>  (will be discussed in the article) </h5>  Put the transparent <b>input [type = file]</b> inside the label element, along with arbitrary stylized inline elements (except for input, button, select and textarea, of course).  Clicking on the label will automatically lead to a click and on the hidden field to select the file.  Thank you <a href="https://habrahabr.ru/users/lampa/" class="user_link">lampa</a> for a <a href="http://habrahabr.ru/post/189570/">valuable comment</a> ! <br><br><h5>  Method number 5 <sup><b>new!</b></sup>  (will be discussed in the article) </h5>  To use imitation of click on hidden <b>input [type = file] by</b> means of JavaScript.  Yes, it already works in all modern browsers.  Thanks again <a href="https://habrahabr.ru/users/lutov/" class="user_link">lutov</a> for a <a href="http://habrahabr.ru/post/189570/">valuable comment</a> ! <br>  <b>UPD: Attention</b> , this method is not applicable for Internet Explorer!  Despite the fact that the file is selected in a hidden <b>input [type = file]</b> , when the form is submitted, the value of the latter will be ‚Äúreset‚Äù.  Thank you <a href="https://habrahabr.ru/users/leonidfrolov/" class="user_link">LeonidFrolov</a> for a <a href="http://habrahabr.ru/post/189570/">valuable comment</a> ! <br><br>  All the last four ways, of course, have their drawbacks.  A significant drawback of the Flash / Java solution is that its work requires the appropriate plug-ins, which may not be available in the user's browser.  The big drawback of the ‚Äúmasking‚Äù solution is that for its implementation it is necessary to use hacks (it will be discussed below), and also because it is meaningless without the use of JavaScript (after all, you need to somehow distinguish between the ‚Äúfile not selected‚Äù states) and the ‚Äúfile is selected‚Äù for the stylized fake field, which is impossible to do in one CSS).  The decision on JavaScript, in general, would be very good, but, as it turned out in practice, it is not supported by Internet Explorer, as mentioned above.  The minus of the label solution is the same use of JavaScript, however, it is much better than the ‚Äúmasking‚Äù method and should, in my opinion, be used now to solve this acute problem. <br><br><h3>  Bicycle scheme </h3><br>  The key task was to create a ‚Äúrubber‚Äù <b>input [type = file]</b> , which on the screens of mobile devices would be a simple button to select a file (the name of the selected file is displayed on it), and on wide screens it would look like the usual text field + button that can drag on the entire width of the window: <br><br><img src="https://habrastorage.org/storage2/d5c/5a6/e22/d5c5a6e22d148120565fedfff688b853.png"><br>  <i>Schematic view of the element on mobile devices</i> <br><img src="https://habrastorage.org/storage2/20a/849/dc2/20a849dc29b70bb644201aad8dd81a12.png"><br>  <i>Schematic view of the element on desktop devices</i> <br><br>  The article will discuss the last three ways to style the file selection field.  Thus, taking into account the scheme specified above, the initial layout for the ‚Äúmasking‚Äù method No. 3 will have the following form (the order of the child elements is important!): <br><br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"file_upload"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"file"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  Possible layout for the method using the label element: <br><pre> <code class="html hljs xml"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"file_upload"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mark</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mark</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"file"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  Possible layout for the JavaScript solution (it is the same as the ‚Äúmasking‚Äù method): <br><pre> <code class="html hljs xml"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"file_upload"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"file"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br><h3>  ‚ÄúPull, Piglet!‚Äù Or styles for ‚Äúcamouflage‚Äù mode </h3><br>  So that the reader does not have the wrong impression that each value of CSS properties used in the article is of great importance (the so-called ‚Äúmagic numbers‚Äù), we will agree to mark those that can be easily modified to fit your needs with a comment <br><br> <code>/* example */</code> <br> <br>  Agreed?  Fine!  Let's start to stylize our fake file selection field with its ‚Äúwrapper‚Äù - div <b>.file_upload</b> : <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.file_upload</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: relative; <span class="hljs-attribute"><span class="hljs-attribute">overflow</span></span>: hidden; <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">1em</span></span>; <span class="hljs-comment"><span class="hljs-comment">/* example */</span></span> <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">2em</span></span>; <span class="hljs-comment"><span class="hljs-comment">/* example */</span></span> <span class="hljs-attribute"><span class="hljs-attribute">line-height</span></span>: <span class="hljs-number"><span class="hljs-number">2em</span></span> <span class="hljs-comment"><span class="hljs-comment">/* the same as height */</span></span> }</code> </pre><br>  - the <code>position</code> property is set so that relative to the div <b>.file_upload</b> it is possible to absolutely position its child elements, and the <code>overflow</code> property - to hide everything that for some reason does not fit into our wrapper (and there is such a wrapper, but this later).  On wide screens, our beautiful field and button should be displayed in one line - let's set a fixed width and float: right for the last, and a small internal indent for the first: <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.file_upload</span></span> &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">button</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">float</span></span>: right; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">8em</span></span>; <span class="hljs-comment"><span class="hljs-comment">/* example */</span></span> <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">100%</span></span> } <span class="hljs-selector-class"><span class="hljs-selector-class">.file_upload</span></span> &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">div</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">padding-left</span></span>: <span class="hljs-number"><span class="hljs-number">1em</span></span> <span class="hljs-comment"><span class="hljs-comment">/* example */</span></span> }</code> </pre><br>  Since we want to hide the text field on mobile devices, and there is only one file selection button, you need to set the <b>media query</b> : <br><pre> <code class="css hljs">@<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> only screen and ( max-width: <span class="hljs-number"><span class="hljs-number">500px</span></span> ){ <span class="hljs-comment"><span class="hljs-comment">/* example */</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.file_upload</span></span> &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">div</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: none } <span class="hljs-selector-class"><span class="hljs-selector-class">.file_upload</span></span> &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">button</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">100%</span></span> } }</code> </pre><br>  And now - the most fun in this method!  It is necessary to make the standard <b>input [type = file]</b> completely transparent, and stretch it to stretch it to the size of the "wrapper" div <b>.file_upload</b> .  To implement the latter, apply the hack in the form of absolute positioning and the CSS 3 <code>transform</code> property, with which we will increase the element, for example, by 20 times (yes, this is the most usual ‚Äúmagic number‚Äù): <br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.file_upload</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">input</span></span><span class="hljs-selector-attr"><span class="hljs-selector-attr">[type=file]</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: absolute; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">top</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">100%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">100%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">transform</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">scale</span></span>(20); <span class="hljs-attribute"><span class="hljs-attribute">letter-spacing</span></span>: <span class="hljs-number"><span class="hljs-number">10em</span></span>; <span class="hljs-comment"><span class="hljs-comment">/* IE 9 fix */</span></span> <span class="hljs-attribute"><span class="hljs-attribute">-ms-transform</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">scale</span></span>(20); <span class="hljs-comment"><span class="hljs-comment">/* IE 9 fix */</span></span> <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">cursor</span></span>: pointer }</code> </pre><br>  As you can see from the above CSS fragment, IE 9 required additional crutches.  This is due to the fact that when you click on a text field, this browser does not call up the system file selection window, but kindly offers to ‚Äúerase‚Äù the name of the already selected one, which is symbolized by a flashing text cursor.  Therefore, it additionally sets a huge spacing between letters, which increases the button of the element to the size of the div <b>.file_upload</b> .  I also note that the z-index is not indicated in this case, since  the element is the last ‚Äúdescendant‚Äù in the markup selected from the very beginning. <br><br>  Using the example of the FireFox desktop browser, our custom file selection field for different window sizes now looks like this: <br><br><img src="https://habrastorage.org/storage2/1e6/960/9ee/1e69609eea9e2a2a9f904b2aeaaec9f2.png"><br><img src="https://habrastorage.org/storage2/058/c6f/2ee/058c6f2ee522c1242e76b26e20b74004.png"><br><br><h3>  ‚ÄúAll ingenious is easy!‚Äù Or styles for a method using a label </h3><br>  The main styles applied to the text field and the button for this method are similar to those already discussed above: <br><br><pre> <code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.file_upload</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: block; <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: relative; <span class="hljs-attribute"><span class="hljs-attribute">overflow</span></span>: hidden; <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">1em</span></span>; <span class="hljs-comment"><span class="hljs-comment">/* example */</span></span> <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">2em</span></span>; <span class="hljs-comment"><span class="hljs-comment">/* example */</span></span> <span class="hljs-attribute"><span class="hljs-attribute">line-height</span></span>: <span class="hljs-number"><span class="hljs-number">2em</span></span> <span class="hljs-comment"><span class="hljs-comment">/* the same as height */</span></span> } <span class="hljs-selector-class"><span class="hljs-selector-class">.file_upload</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.button</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.file_upload</span></span> &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">mark</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: block; <span class="hljs-attribute"><span class="hljs-attribute">cursor</span></span>: pointer <span class="hljs-comment"><span class="hljs-comment">/* example */</span></span> } <span class="hljs-selector-class"><span class="hljs-selector-class">.file_upload</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.button</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">float</span></span>: right; <span class="hljs-attribute"><span class="hljs-attribute">box-sizing</span></span>: border-box; <span class="hljs-attribute"><span class="hljs-attribute">-moz-box-sizing</span></span>: border-box; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">8em</span></span>; <span class="hljs-comment"><span class="hljs-comment">/* example */</span></span> <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">100%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">text-align</span></span>: center <span class="hljs-comment"><span class="hljs-comment">/* example */</span></span> } <span class="hljs-selector-class"><span class="hljs-selector-class">.file_upload</span></span> &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">mark</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: transparent; <span class="hljs-comment"><span class="hljs-comment">/* example */</span></span> <span class="hljs-attribute"><span class="hljs-attribute">padding-left</span></span>: <span class="hljs-number"><span class="hljs-number">1em</span></span> <span class="hljs-comment"><span class="hljs-comment">/* example */</span></span> }</code> </pre><br>  However, now there is no need to use the hack with the "stretching" of the transparent <b>input [type = file]</b> : <br><br><pre> <code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.file_upload</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">input</span></span><span class="hljs-selector-attr"><span class="hljs-selector-attr">[type=file]</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: absolute; <span class="hljs-attribute"><span class="hljs-attribute">top</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> }</code> </pre><br><br><h3>  ‚ÄúHow does it work?‚Äù Or styles for a JavaScript solution </h3><br>  Since the initial layout for this method was chosen the same as in the ‚Äúcamouflage‚Äù, the styles for the button and the text field for both methods also coincide (except, perhaps, the <code>cursor: pointer</code> properties, which, in this case, will be applied to button and text box).  The <b>input [type = file]</b> style can be the same as that used in the method with the use of the label element, but it is better to use <code>visibility</code> instead of the <code>opacity</code> property: <br><br><pre> <code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.file_upload</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">input</span></span><span class="hljs-selector-attr"><span class="hljs-selector-attr">[type=file]</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: absolute; <span class="hljs-attribute"><span class="hljs-attribute">top</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">visibility</span></span>: hidden }</code> </pre><br><br><h3>  Need more styles! </h3><br>  Of course, in such a primitive form, the file selection field is unlikely to suit anyone, so add additional styles that make the file select button, say, purple, add shadows, etc.  Do not forget to add your own style for the button, when the cursor is over it, the style for the pressed button, and also add a style for the whole element when the focus is on it (to be applied using JavaScript): <br><br><pre> <code class="css hljs"><span class="hljs-comment"><span class="hljs-comment">/* Making it beautiful */</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.file_upload</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">border</span></span>: <span class="hljs-number"><span class="hljs-number">1px</span></span> solid <span class="hljs-number"><span class="hljs-number">#ccc</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border-radius</span></span>: <span class="hljs-number"><span class="hljs-number">3px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">box-shadow</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5px</span></span> <span class="hljs-built_in"><span class="hljs-built_in">rgba</span></span>(0,0,0,0.1); <span class="hljs-attribute"><span class="hljs-attribute">transition</span></span>: box-shadow <span class="hljs-number"><span class="hljs-number">0.1s</span></span> linear } <span class="hljs-selector-class"><span class="hljs-selector-class">.file_upload</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.focus</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">box-shadow</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5px</span></span> <span class="hljs-built_in"><span class="hljs-built_in">rgba</span></span>(0,30,255,0.4) } <span class="hljs-selector-class"><span class="hljs-selector-class">.file_upload</span></span> &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">button</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-number"><span class="hljs-number">#7300df</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">transition</span></span>: background <span class="hljs-number"><span class="hljs-number">0.2s</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border</span></span>: <span class="hljs-number"><span class="hljs-number">1px</span></span> solid <span class="hljs-built_in"><span class="hljs-built_in">rgba</span></span>(0,0,0,0.1); <span class="hljs-attribute"><span class="hljs-attribute">border-color</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">rgba</span></span>(0,0,0,0.1) <span class="hljs-built_in"><span class="hljs-built_in">rgba</span></span>(0,0,0,0.1) <span class="hljs-built_in"><span class="hljs-built_in">rgba</span></span>(0,0,0,0.25); <span class="hljs-attribute"><span class="hljs-attribute">border-radius</span></span>: <span class="hljs-number"><span class="hljs-number">2px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">box-shadow</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1px</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">rgba</span></span>(255, 255, 255, 0.2) inset, <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1px</span></span> <span class="hljs-number"><span class="hljs-number">2px</span></span> <span class="hljs-built_in"><span class="hljs-built_in">rgba</span></span>(0, 0, 0, 0.05); <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: <span class="hljs-number"><span class="hljs-number">#fff</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">text-shadow</span></span>: <span class="hljs-number"><span class="hljs-number">#6200bd</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> -<span class="hljs-number"><span class="hljs-number">1px</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">overflow</span></span>: hidden; <span class="hljs-attribute"><span class="hljs-attribute">white-space</span></span>: nowrap; <span class="hljs-attribute"><span class="hljs-attribute">text-overflow</span></span>: ellipsis } <span class="hljs-selector-class"><span class="hljs-selector-class">.file_upload</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:hover</span></span> &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">button</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-number"><span class="hljs-number">#6200bd</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">text-shadow</span></span>: <span class="hljs-number"><span class="hljs-number">#5d00b3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> -<span class="hljs-number"><span class="hljs-number">1px</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> } <span class="hljs-selector-class"><span class="hljs-selector-class">.file_upload</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:active</span></span> &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">button</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-number"><span class="hljs-number">#5d00b3</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">box-shadow</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">3px</span></span> <span class="hljs-built_in"><span class="hljs-built_in">rgba</span></span>(0,0,0,0.3) inset }</code> </pre><br><br>  Now our file selection field looks like this: <br><br><img src="https://habrastorage.org/storage2/286/9be/93b/2869be93ba2e5730f928173bd56f156c.png"><br><img src="https://habrastorage.org/storage2/d96/175/184/d96175184184781ba35957a496d01392.png"><br><br><h3>  Need more crutches! </h3><br>  Since we make a full field for file selection, we need to ensure that it can be comfortably filled from the keyboard (for the ‚Äúmasking‚Äù method, the focus is now first set on the stylized button, and then on the hidden <b>input [type = file]</b> , which does not visually manifest).  For this, of course, use JavaScript.  In order not to write a lot of code, I allow myself to use the popular jQuery library.  Then, for the "camouflage" method: <br><br><pre> <code class="javascript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> wrapper = $( <span class="hljs-string"><span class="hljs-string">".file_upload"</span></span> ), inp = wrapper.find( <span class="hljs-string"><span class="hljs-string">"input"</span></span> ), btn = wrapper.find( <span class="hljs-string"><span class="hljs-string">"button"</span></span> ), lbl = wrapper.find( <span class="hljs-string"><span class="hljs-string">"div"</span></span> ); btn.focus(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ inp.focus() }); <span class="hljs-comment"><span class="hljs-comment">// Crutches for the :focus style: inp.focus(function(){ wrapper.addClass( "focus" ); }).blur(function(){ wrapper.removeClass( "focus" ); });</span></span></code> </pre><br>  For the method using the label, you can remove a section of code that is responsible for the forced transfer of focus from the button to <b>input [type = file]</b> (since we do not have a button at all, but a span). <br><br>  For a method whose essence is to simulate a click on <b>input [type = file]</b> , you need to add this simulation itself: <br><br><pre> <code class="javascript hljs"> <span class="hljs-comment"><span class="hljs-comment">// Yep, it works! btn.add( lbl ).click(function(){ inp.click(); });</span></span></code> </pre>  and also correct the code for setting the <b>.focus</b> class, after removing the fragment responsible for the forced transfer of focus: <br><pre> <code class="javascript hljs"> <span class="hljs-comment"><span class="hljs-comment">// Crutches for the :focus style: btn.focus(function(){ wrapper.addClass( "focus" ); }).blur(function(){ wrapper.removeClass( "focus" ); });</span></span></code> </pre><br><br>  The input field has so far remained ‚Äúdead‚Äù - when choosing a file, the name of the latter was not displayed anywhere.  The time has come to fix this: <br><br><pre> <code class="javascript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> file_api = ( <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.File &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.FileReader &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.FileList &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.Blob ) ? <span class="hljs-literal"><span class="hljs-literal">true</span></span> : <span class="hljs-literal"><span class="hljs-literal">false</span></span>; inp.change(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> file_name; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( file_api &amp;&amp; inp[ <span class="hljs-number"><span class="hljs-number">0</span></span> ].files[ <span class="hljs-number"><span class="hljs-number">0</span></span> ] ) file_name = inp[ <span class="hljs-number"><span class="hljs-number">0</span></span> ].files[ <span class="hljs-number"><span class="hljs-number">0</span></span> ].name; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> file_name = inp.val().replace( <span class="hljs-string"><span class="hljs-string">"C:\\fakepath\\"</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( ! file_name.length ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( lbl.is( <span class="hljs-string"><span class="hljs-string">":visible"</span></span> ) ){ lbl.text( file_name ); btn.text( <span class="hljs-string"><span class="hljs-string">""</span></span> ); }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span> btn.text( file_name ); }).change();</code> </pre><br>  - if the browser supports File API, then the file name is determined using it, otherwise it is cut from the value of the hidden <b>input [type = file]</b> .  For mobile devices, when an item is a single button, the name of the selected file is displayed on it. <br><br>  It would seem that all that is required is already written.  But figushki!  If you select a file using the ‚Äúmobile‚Äù field, and then increase the window size and transfer the element to the ‚Äúdesktop‚Äù, then the ‚ÄúFile not selected‚Äù will remain in the text field - you need to update the element each time the window is resized: <br><pre> <code class="javascript hljs">$( <span class="hljs-built_in"><span class="hljs-built_in">window</span></span> ).resize(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ $( <span class="hljs-string"><span class="hljs-string">".file_upload input"</span></span> ).triggerHandler( <span class="hljs-string"><span class="hljs-string">"change"</span></span> ); });</code> </pre><br><br><h3>  And what did we get in the end? </h3><br>  The resulting stylized file selection field was successfully tested for all three methods in the following browsers: <br><br><ul><li>  FireFox 22.0 (Linux, Windows) </li><li>  Opera 12.16 (Linux, Windows) </li><li>  Internet Explorer 9 </li><li>  Chromium 27.0 (Linux) </li><li>  Apple Safari (iOS 6.3.1) </li><li>  Android browser (Android 2.3.6) </li><li>  Android FireFox </li></ul><br><br>  Of the advantages of all the approaches considered in the article are the following main ones: <br><br><ul><li>  Flash is not used. </li><li>  The element can be easily styled with CSS using modern technologies of responsive design. </li><li>  The field can be filled with the keyboard. </li></ul><br><br>  Of the main disadvantages: <br><br><ul><li>  The need to use javascript (applies to all methods). </li><li>  Using CSS hacks for ‚Äúmasking‚Äù mode. </li><li>  The need to write additional crutches for the field with the <b>multiple</b> attribute (applies to all methods). </li><li>  Non-cross-browser compatibility - all methods lack IE 8 support, and you also need to use ‚Äúbrowser-based‚Äù CSS properties to support the rest of the ‚Äúoldies‚Äù. </li><li>  The JavaScript solution is not supported by all versions of Internet Explorer, as well as by some old versions of other popular browsers (although almost no one uses them anymore). </li></ul><br><br>  Which of the two two elegant ways to create stylized <b>input [type = file]</b> to choose for everyday use is up to you.  My choice is the label method (although it has a non-semantic layout). <br><br>  Working examples of all three methods can be found at CodePen: <br><br>  <a href="http://codepen.io/dif/pen/izwfh">"Camouflage" method</a> <br>  <a href="http://codepen.io/dif/pen/neodc">Method using label</a> <br>  <a href="http://codepen.io/dif/pen/dcqxk">Method with a simulated click on JavaScript</a> </div><p>Source: <a href="https://habr.com/ru/post/189570/">https://habr.com/ru/post/189570/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../189560/index.html">Social engineering: an educational program about an attack method that never becomes obsolete</a></li>
<li><a href="../189562/index.html">LG Optimus F5 - LTE in the middle segment</a></li>
<li><a href="../189564/index.html">Install any Linux distribution on Digital Ocean</a></li>
<li><a href="../189566/index.html">From the basement of the secret laboratory of the PVS-Studio developers ...</a></li>
<li><a href="../189568/index.html">Privilege to the countable projectile, issued to the music teacher Kummer on March 29, 1847 for 10 years</a></li>
<li><a href="../189574/index.html">Oracle data access methods</a></li>
<li><a href="../189576/index.html">10 reasons why your project should use the Dojo Toolkit</a></li>
<li><a href="../189578/index.html">Microsoft released another set of updates, August 2013</a></li>
<li><a href="../189580/index.html">dotPeek 1.1: JetBrains free decompiler update</a></li>
<li><a href="../189582/index.html">Simple but effective technique for working with SQL comment blocks</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>