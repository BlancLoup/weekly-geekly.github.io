<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Hybrid Memory Cube (HMC): what it is and how to connect it to FPGA</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the photo: The SKARAB platform for digital data processing from the MeerKAT telescope. Due to the HMC technology, each of the 64 telescope antennas...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Hybrid Memory Cube (HMC): what it is and how to connect it to FPGA</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/web/647/8a1/217/6478a1217734490b9cddc17aecfadc12.jpg"><br>  <sub>In the photo: The SKARAB platform for digital data processing from the MeerKAT telescope.</sub>  <sub>Due to the HMC technology, each of the 64 telescope antennas can transmit data to the platform at a speed of 40 Gbps</sub> <br><br>  Waiting for the new DDR5 SDRAM memory standard, which will appear next year, we are exploring alternative technologies.  In this article, we examine the HMC memory (Hybrid Memory Cube), which provides a 15-fold increase in performance with 70% savings in power consumption per bit compared to DDR3 DRAM. <br><br>  While DDR4 and DDR5 represent an evolution of the standard, HMC is a revolutionary technology that can change the market not only in the field of specialized high-performance computing, but also in consumer electronics, such as tablets and graphics cards, where form factor is important. energy efficiency and throughput. <br><a name="habracut"></a><br><h2>  HMC Architecture and Device </h2><br>  HMC - short for Hybrid Memory Cube - is a hybrid memory cube.  Physically, the chip consists of several layers connected by silicon transitional ones using the TSV technology.  The upper layers are DRAM-memory crystals, the lower layer is the controller that controls the transfer of data. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The internal structure of the HMC chip: <br><br><img src="https://habrastorage.org/web/3fe/ce1/666/3fece1666c6a488a9cbb9f2bef31b020.png"><br><br>  HMC is used where speed is needed, as well as a small number of chips for the required amount of memory.  HMC chips can be combined into a consistent chain - up to 8 pieces.  Chips are available in capacities of 2 and 4 GB.  Data is transmitted via serial interfaces at a speed of 15 Gbit / s per line;  total lines can be from 32 to 64. Thus, the theoretical bandwidth can reach 240 Gbit / s, but it is limited by the bandwidth of a DRAM chip at 160 Gbit / s. <br><br>  The table below shows the consumption per bit of data: <br><br><img src="https://habrastorage.org/web/cbf/980/eed/cbf980eeda5c4b25b14b1a8f460f5f67.png"><br>  <i>HMC Comparison Chart, DDR4 (first generation, 4 + 1 memory configuration)</i> <br><br>  In addition to the HMC, there are several similar directions from other development companies. <br><br><ol><li>  <b>Bandwidth Engine (BE) from MoSys</b> - a chip designed to replace QDR-memory, works like SRAM.  Uses serial transceivers at speeds up to 16 Gbps.  The purpose of this type of memory is a low latency buffer for storing packet headers or look-up tables instead of storing whole packets. <br><br></li><li>  <b>Ternary Content Addressable Memory (TCAM)</b> - a special high-speed memory, used in routers and network switches, has a high price.  High performance achieved due to high power consumption.  Data transfer is carried out in parallel. <br><br></li><li>  <b>High Bandwidth Memory (HBM)</b> is a type of memory developed by Samsung.  It is not available in the form of chips: if the user wants to use this memory, he must contact the company to make a silicon substrate for him and integrate it into the user's chip.  This memory is similar to DDR and does not use serial transceivers for data transmission. </li></ol><br><h2>  HMC connection examples </h2><br>  Physically, data is transmitted to the HMC sequentially over a SerDes interface at a speed of 15 Gbit / s.  Soon there will be chips with a speed of 30 Gbit / s.  16 lines are combined into one logical channel.  The channel can operate both in the full-channel mode and in the half-channel (8 lines are used).  Usually HMCs are available with 2 or 4 channels.  Each channel can be both master and intermediate.  Intermediate modes are used when it is necessary to combine several chips in a chain.  The processor must configure each HMC chip. <br><br>  An example of combining HMC chips in a chain: <br><br><img src="https://habrastorage.org/web/e7d/73d/eea/e7d73deea3704484af43b769ca5819cb.png"><br><img src="https://habrastorage.org/web/ac8/396/760/ac83967603e94ac8b0ed2fcb56f042e3.png"><br>  An example of combining HMC chips with a star, with the possibility of multi-host mode: <br><br><img src="https://habrastorage.org/web/e93/59b/202/e9359b2028174a97b773751b91c1eab7.png"><br><br><h2>  Transmission of data over a logical channel </h2><br>  Channel transfer structure: <br><br><img src="https://habrastorage.org/web/584/4ca/c6b/5844cac6b04f45b7bff2b302a94893be.png"><br><br>  Commands and data are transmitted in both directions using a packet protocol.  Packages are made up of groups of 128 bits long, called FLIT.  They are transmitted sequentially through the physical lines and then collected at the receiving side. <br><br>  Three levels of package service: <br><br><ol><li>  The physical layer provides reception, transmission, serialization and deserialization of data. </li><li>  The link layer provides low-level packet tracking. </li><li>  The transport layer determines the fields, packet headers, checks the integrity of the packets and the communication channel. </li></ol><br>  Organization of 128 bit FLIT transmission via physical lines in various modes: <br><br>  1. Distribution of FLIT-package along the lines in full configuration (16 lines) <br><br><img src="https://habrastorage.org/web/fcb/565/c64/fcb565c647574a7aaaa1aba93481285a.png"><br><br>  2. Distribution of FLIT-package lines in half configuration (8 lines) <br><br><img src="https://habrastorage.org/web/361/8a4/ec8/3618a4ec8701421eb3d337ee2a5df1b1.png"><br><br><h2>  Memory addressing </h2><br>  The packet header contains 34 address bits, including a bank, a DRAM address.  The current configuration allows you to address a maximum of 4 GB for a single chip, with the upper 2 bits being ignored, they are reserved for the future.  Reading and writing data occurs with 16-byte granulation.  The block size can be set to 16, 32, 64, 128 bytes. <br><br>  HMC Addressing: <br><br><img src="https://habrastorage.org/web/895/dee/cdc/895deecdcf7e493399215448cf30179b.png"><br><br>  More details on these commands can be found in the HMC specification on the <a href="http://www.hybridmemorycube.org/download20/">Micron</a> website. <br><br><h2>  Typical HMC connection to Xilinx Virtex Ultrascale FPGA and power requirements </h2><br>  Memory is connected to the FPGA via GTX transceivers.  You can use from 8 transceivers and up to 16 within one channel.  There may be 4 such channels. To properly connect to FPGA transceivers, you need to follow a few rules: <br><br><ul><li>  Transceivers within the channel must go in a row, it is not allowed to jump over the transceivers. </li><li>  For SSI (Stacked Silicon Interconnect) devices, the transceivers must be in the same SLR </li><li>  FPGA banks must go in a row, not allowed to jump through the banks </li></ul><br>  Typical connection to FPGA, two channels in full mode: <br><img src="https://habrastorage.org/web/948/cfd/561/948cfd561782456da343a9f0e2b6bd4a.png"><br><br>  For a deeper study of this topic, you can go to the website of the consortium of developers of technology HMC - <a href="http://www.hybridmemorycube.org/">hybridmemorycube.org</a> , where the latest HMC version 2.1 specification is published. </div><p>Source: <a href="https://habr.com/ru/post/333556/">https://habr.com/ru/post/333556/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../333544/index.html">How To Make Progressive Web Apps: A Beginner's Guide</a></li>
<li><a href="../333546/index.html">Translation of the Appium Essentials book. Chapter 6</a></li>
<li><a href="../333548/index.html">Testing the Mobile Delphi Application Database</a></li>
<li><a href="../333552/index.html">You don't know a damn thing in colors</a></li>
<li><a href="../333554/index.html">QML: how easy it is to get T-shirts in machine learning competitions for mail.ru</a></li>
<li><a href="../333558/index.html">Features of the national SMS authorization</a></li>
<li><a href="../333560/index.html">Cisco Meeting Server - now all video conferencing from one place</a></li>
<li><a href="../333562/index.html">Cash gap: the main reason for closing stores with beginners</a></li>
<li><a href="../333564/index.html">Disable any items from our DOM tree using MutationObserver</a></li>
<li><a href="../333566/index.html">Telephone technical support - as we began to greet the customer by name</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>