<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>AmbilightUSB</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, strangers! 

 Project update Lightpack: Bleed and open 

 This story is about how to make a super mega cheap and simple ambilight backlight for yo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>AmbilightUSB</h1><div class="post__text post__text-html js-mediator-article"><h2>  Hi, strangers! </h2><br><br>  Project update <a href="http://habrahabr.ru/blogs/DIY/114291/">Lightpack: Bleed and open</a> <br><br>  This story is about how to make a super mega cheap and simple ambilight backlight for your computer.  The ATtiny44 microcontroller will act as a conductor, and 4 RGB LEDs will play the role of an orchestra. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Several pictures in order to arouse interest: <br><br> <a href=""><img src="https://habrastorage.org/storage/habraeffect/d9/a7/d9a7fabe44841eb7f54ef13240660b8c.jpg"></a> <a href=""><img src="https://habrastorage.org/storage/habraeffect/69/35/69356918f4f5a2e6b83c57cdc7b88525.jpg"></a> <br><br>  Too lazy to read: a <a href="http://brunql.github.com/ambilight/" title="http://brunql.github.com/ambilight/">full description in the "pictures"</a> (= <br>  UPDATE: Added video <a href="http://www.youtube.com/watch%3Fv%3Dtdp1QeS_JCg">http://www.youtube.com/watch?v=tdp1QeS_JCg</a> <br>  UPDATE2: clarified the name of the used microcontroller in the parts list (ATTINY44-20SSU) <br>  UPDATE3: added fyuzy (wildly sorry that I forgot about them) <br>  UPDATE4: fixed schematic diagram (v2.1.3) <br><br><a name="habracut"></a><br><br>  The writer is not very good of me, so let's get straight to the point: <br><br><h2>  <b>Parts List</b> </h2><br><table border="1" cellpadding="3"><tbody><tr><td>  <b>Component</b> </td><td>  <b>Body / Size</b> </td><td>  <b>amount</b> </td></tr><tr><td>  ATTINY44-20SSU <br></td><td>  SOIC </td><td>  one </td></tr><tr><td>  74HC595 <br></td><td>  SOIC </td><td>  2 </td></tr><tr><td>  RGB LED <br></td><td>  SMD 5x5mm </td><td>  four </td></tr><tr><td>  Resistor 10k <br></td><td>  0805 </td><td>  one </td></tr><tr><td>  Resistor 1.5k <br></td><td>  0805 <br></td><td>  one </td></tr><tr><td>  Resistor 100R <br></td><td>  0805 <br></td><td>  12 </td></tr><tr><td>  Resistor 68R <br></td><td>  0805 <br></td><td>  2 </td></tr><tr><td>  Resistor 0R </td><td>  1206 </td><td>  one </td></tr><tr><td>  Cap tantalum 4.7uF </td><td>  1206 </td><td>  one </td></tr><tr><td>  Cap ceramic 20pF </td><td>  0805 </td><td>  2 </td></tr><tr><td>  Quartz 12Mhz </td><td>  <a href="http://www.google.ru/images%3Fhl%3Dru%26amp%3Bnewwindow%3D1%26amp%3Bbiw%3D1280%26amp%3Bbih%3D688%26amp%3Btbs%3Disch:1%26amp%3Bsa%3D1%26amp%3Bq%3DHC-49/US%26amp%3Baq%3Df%26amp%3Baqi%3D%26amp%3Baql%3D%26amp%3Boq%3D%26amp%3Bgs_rfai%3D" title="Google image search">HC-49 / US</a> </td><td>  one </td></tr><tr><td>  Zener diode 3.6V <br></td><td>  MiniMELF (1206) </td><td>  2 </td></tr><tr><td>  MiniUSB </td><td>  <a href="http://www.google.ru/images%3Fhl%3Dru%26amp%3Bnewwindow%3D1%26amp%3Bbiw%3D1280%26amp%3Bbih%3D688%26amp%3Btbs%3Disch:1%26amp%3Bsa%3D1%26amp%3Bq%3DminiUSB%2BType%2BB%26amp%3Baq%3Df%26amp%3Baqi%3D%26amp%3Baql%3D%26amp%3Boq%3D%26amp%3Bgs_rfai%3D" title="Google image search">Type B</a> (SMD) <br></td><td>  one </td></tr><tr><td>  PLS-40S <br></td><td>  Dip </td><td>  one </td></tr><tr><td>  Plume </td><td>  ~ 0.3 m </td><td>  5 wires <br></td></tr><tr><td>  Glass fiber </td><td>  ~ 160x80 mm <br></td><td>  one </td></tr><tr><td>  Double sided tape </td><td>  fat <br></td><td>  one </td></tr></tbody></table><br>  <b>Total:</b> not more than 500 rubles. <br><br>  The device is glued to the laptop with double-sided tape: <br><img src="https://habrastorage.org/storage/habraeffect/92/2d/922d5ee274eaf57c424230fd6bde5e00.gif"><br>  Probably not ice, but it completely suits me, keeps dead, usb can be connected, disconnected without holding the board.  If you peel off, remain stains that are easy to <s>polish with emery cloth</s> erased with wet wipes.  In general, they do not bother me, the size of the boards allows you to not soared about this. <br><br> <a href=""><img src="https://habrastorage.org/storage/habraeffect/d1/b3/d1b3136618af3f9d423d1c121db994fa.jpg"></a> <a href=""><img src="https://habrastorage.org/storage/habraeffect/33/d2/33d22ac738c03156c1f9af4541a21a2d.jpg"></a> <br><br>  The microcontroller is connected to the computer via USB.  The foundation of the project is <a href="http://www.obdev.at/products/vusb/index.html" title="Objective Development Software GmbH">obdev</a> V-USB <a href="http://www.obdev.at/products/vusb/index.html" title="Objective Development Software GmbH">library</a> .  The first thing that was tested, tested and immediately worked is v-usb / examples / hid-data.  HID works everywhere, drivers are standard, working with this class of USB devices is very simple.  Moreover, we have already done all the work for us, in the example of hid-data you can find the files hiddata.c and hiddata.h.  They implemented a standard interface for working with USB HID for windows (win api) and unix (libusb). <br><br>  Soft captures 4 areas of the screen, converts to 4 points and sends to the device, breaking into color components Red, Green, Blue.  Everything within C ++, Qt and USB HID. <br><br> <a href=""><img src="https://habrastorage.org/storage/habraeffect/4f/82/4f82f57d2f2a1a11ace509ea5d5c09b5.png" width="800"></a> <br><br><br>  We make the <a href="" title="https://github.com/downloads/brunql/AmbilightUSB/AmbilightUSB.lay">AmbilightUSB.lay</a> board (the current version is hw v2.1), soldered. <br>  Fusion flashing: <br> <code>avrdude -pt44 -cusbasp -u -Ulfuse:w:0xee:m -Uhfuse:w:0xdf:m -Uefuse:w:0xff:m <br></code> <br>  And fill the firmware <a href="" title="https://github.com/downloads/brunql/AmbilightUSB/AmbilightUSB_v2.8.hex">AmbilightUSB_v2.8.hex</a> <br> <code>avrdude -pt44 -cusbasp -u -Uflash:w:AmbilightUSB_v2.8.hex:a <br></code> <br>  Connect with USB cable A to miniUSB B: <br><img src="https://habrastorage.org/storage/habraeffect/a5/f0/a5f0f52dcbe67e43b8c39692e1312f39.jpg"><br>  Excellent iron is ready! <br><br><h2>  <b>Installation, software setup</b> </h2><br>  If we use Win32 (Windows XP), we add Qt, gcc, mingw ( <a href="" title="Libs_Win32.zip">download</a> ) and the latest version of the software ( <a href="" title="Windows AmbilightUSB_v2.7.7.exe (x86)">AmbilightUSB_v2.7.7.exe</a> ) in one folder.  Run and rejoice (= <br><br>  For Ubuntu x86_64: <br>  1) Download <a href="" title="Linux AmbilightUSB_v2.7.7 (x86_64)">AmbilightUSB_v2.7.7</a> <br>  2) Check / <code>$ sudo apt-get install libqt4-gui</code> Qt4: <code>$ sudo apt-get install libqt4-gui</code> <br>  3) Run: <code>./AmbilightUSB_v2.7.7</code> <br><br>  <i>Latest versions are available in <a href="https://github.com/brunql/AmbilightUSB/downloads">downloads</a> .</i> <br><br>  The application immediately after launch minimizes to tray: <br><br><img src="https://habrastorage.org/storage/habraeffect/d8/f7/d8f7e1c6c5b6bd951ee95bcdc5702206.jpg"><br><br>  Double-click on the icon in the notification area toggles the state <code>on/off</code> . <br><br>  Tested on Ubuntu 10.04 (x86_64) and on Windows XP (x86): <br><br> <a href=""><img src="https://habrastorage.org/storage/habraeffect/9d/e8/9de8c7cbe5dc27c0447b117c56c43ce2.png"></a> <br><br>  The width and height of the captured areas is very easy to adjust, you can adjust to the resolution of the film.  By the way, I immediately answer the question ‚ÄúWhy are there no LEDs on top?‚Äù, All films are mostly widescreen and the top of the screen is dark, so I thought that this was not necessary.  True, if you really want, you can relatively easily add shift registers and LEDs.  With iron, everything is simple, but the firmware and software will have to be finished =) <br><br> <a href=""><img src="https://habrastorage.org/storage/habraeffect/38/28/38283d35ab489d21d6bdcf0649da800f.jpg"></a> <br><br>  <font><b>Building from sources (Qt4, gcc)</b></font> <br><br>  0) Check / install Qt4 <br> <code>$ sudo apt-get install libqt4-dev</code> <br> <code>$ sudo apt-get install libqt4-gui</code> <br>  1) Download source from github: <br>  Latest version from repository: <a href="https://github.com/brunql/AmbilightUSB/tarball/master" title="https://github.com/brunql/AmbilightUSB/tarball/master">tar.gz</a> or <a href="https://github.com/brunql/AmbilightUSB/zipball/master" title="https://github.com/brunql/AmbilightUSB/zipball/master">zip</a> <br>  Or the entire project tree: <code>$ git clone git@github.com:brunql/AmbilightUSB.git</code> <br>  2) Extract the tar.gz or zip archive: <br> <code>tar xzvf brunql-AmbilightUSB-v*.tar.gz</code> <br> <code>unzip brunql-AmbilightUSB-v*.zip</code> <br>  3) Build: <br> <code>$ cd {path/to/AmbilightUSB}/Software/</code> <br> <code>$ ./update_locales.sh</code> <br> <code>$ qmake AmbilightUSB.pro</code> <br> <code>$ make</code> <br>  4) Run! <br> <code>$ ./build/AmbilightUSB</code> <br> <br>  Logs are written to the following files: <br> <code>Linux: ${HOME}/.AmbilightUSB.log</code> <br> <code>Windows: C:\Documents and Settings\UserName\.AmbilightUSB.log</code> <br> <br>  Settings are saved here: <br> <code>Linux: ${HOME}/.config/brunql.dev/AmbilightUSB.ini</code> <br> <code>Windows: C:\Documents and Settings\UserName\Application Data\brunql.dev\AmbilightUSB.ini</code> <br> <br>  To reset the settings in default, simply delete the <code>AmbilightUSB.ini</code> file. <br><br>  Interface: <code>English, Russian</code> <br><br>  <b>Sources on</b> <a href="http://github.com/brunql/AmbilightUSB">GitHub</a> , all sorts of things in <a href="http://github.com/brunql/AmbilightUSB/downloads">downloads</a> . <br><br><br><h2>  <b>Similar projects</b> </h2><br>  <a href="http://www.compcar.ru/forum/showthread.php%3Ft%3D5869">Ardulight</a> Background Illumination Ambilight TV <br>  MoMoLight: <a href="http://www.youtube.com/watch%3Fv%3DuiihSdo4KDY">YouTube</a> and <a href="http://divxstation.com/article.asp%3FaId%3D151">description</a> . <br>  <a href="http://www.ambilight4pc.com/">Ambilight 4PC</a> <br>  On habre: <a href="http://habrahabr.ru/blogs/DIY/86726/">How I wanted to do Ambilight for a mobile phone and what came of it</a> <br><br>  Thanks for karma habrauser: <a href="http://toseter.habrahabr.ru/">Toseter</a> , <a href="http://etc.habrahabr.ru/">etc</a> , <a href="http://crac.habrahabr.ru/">crac</a> , <a href="http://shpankov.habrahabr.ru/">Shpankov</a> , <a href="http://habrahabr.ru/">UFO</a> <br><br>  <i>Please send all ochepyatki in a personal or e-mail: mike.shatohin [at] gmail.com</i> <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/tdp1QeS_JCg%3Ffeature%3Doembed&amp;xid=25657,15700022,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhiCbZpb7Fe8-bg5j_NuKvJ1MzoE8A" frameborder="0" allowfullscreen=""></iframe></div><p>Source: <a href="https://habr.com/ru/post/100085/">https://habr.com/ru/post/100085/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../100077/index.html">Solar drone set a new record - 2 weeks in the air</a></li>
<li><a href="../100078/index.html">Definition of IP geography - are there accurate services?</a></li>
<li><a href="../100080/index.html">IPad Emulator</a></li>
<li><a href="../100081/index.html">Maintaining a balance between functionality and compatibility when developing an application</a></li>
<li><a href="../100084/index.html">Interesting board for ASUS HTPC</a></li>
<li><a href="../100086/index.html">Share - the first ever open source repository</a></li>
<li><a href="../100087/index.html">Efika mx</a></li>
<li><a href="../100089/index.html">Web store</a></li>
<li><a href="../100091/index.html">The teaser of the fourth "Pirates" leaked to YouTube</a></li>
<li><a href="../100092/index.html">Your mind is a crime scene</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>