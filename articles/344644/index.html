<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Dynamic sound on destructible levels of Rainbow Six: Siege</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, my name is Louis Philippe Dion, I‚Äôm Chief Sound Engineer of Rainbow Six: Siege and have been working at Ubisoft for seven years. Before Siege, I w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Dynamic sound on destructible levels of Rainbow Six: Siege</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b0f/5b4/a69/b0f5b4a69c5696bbce8cac4fad50bc49.jpg"></div><br>  Hi, my name is Louis Philippe Dion, I‚Äôm Chief Sound Engineer of <em>Rainbow Six: Siege</em> and have been working at Ubisoft for seven years.  Before <em>Siege,</em> I worked on sound in games such as <em>Prince of Persia</em> and <em>Splinter Cell</em> .  I was also the production manager for my own Ubisoft sound engine. <br><br>  Before coming to the gaming industry, I worked as a sound engineer for several TV shows and films.  For as long as I can remember, as a hobby, I wrote music and became addicted to synthesizers, guitars and practically everything that can make a sound. <br><br>  I was very interested in the technical aspects of sound, so I was very glad that I was in the gaming industry.  I felt that, in contrast to the well-established film and television industry, games provide far more opportunities for innovation and technical breakthroughs.  We are just beginning to unleash the potential of interactive sound, real-time information and new algorithms, and I can't wait to find out what awaits us in the future. <br><a name="habracut"></a><br><iframe width="560" height="315" src="https://www.youtube.com/embed/ti6ZWRSiqpQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h1>  Dynamic sound propagation in destructible environments </h1><br>  In general, there are three main concepts in the physics of sound propagation: reflection (when sound is reflected from surfaces);  absorption (when sound passes through a wall, but it absorbs some frequencies along the way; diffraction (when sound bends around objects). You can hear all these phenomena in everyday life. Many other factors are important in localizing the sounds of the real world, but I will consider physics only in terms of distribution and tell you how we managed to simulate it. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <em>Siege's</em> main innovation was the more sophisticated use of diffraction, which we call blocking.  By strategically placing a lot of points on the map, called distribution nodes, we could calculate the least expensive sound propagation paths between the listener and the source.  Distribution costs depend on many factors, namely: the length of the path, the sum of its angles and the fine, which is assigned in accordance with the level of destruction of the respective distribution nodes. <br><br>  For example, if the wall is intact, then the distribution nodes inside the wall are inaccessible for the algorithm (a fine with an infinite value).  However, if there is a hole in it, then the nearest nodes will be available to select the propagation path, and may allow the sound to pass if a sufficiently large area is involved.  Then we virtually change the position of the sound to reflect the direction of the paths, rather than the true position of the sound source, which simulates diffraction. <br><br>  We also use several strategies to simulate absorption, which we call occlusion.  Depending on the source, we either reproduce a pre-rendered simulation of a blocked sound (for example, the sounds of footsteps coming from the ceiling) or reproduce the same source on a straight path with real-time filtering.  Since the second option creates a greater load on the processor, it is mainly used for weapons.  As in real life, the player can simultaneously hear both the blocked and absorbed versions of the sound, so we combine these features to give him more information about the location of the sound source. <br><br>  Finally, for the reflection, which we call reverberation in the game, we decided to use an impulse response reverb handler.  This type of reverb "sampled" the acoustics of a real room and then reproduced through them our game sounds.  In my opinion, this method is much more perfect than traditional parametric reverberation, at least for simulations.  The only drawback is that due to processor limitations we cannot use it often.  To cope with this limitation, we ‚Äúbaked‚Äù the weapon's reverberation and reproduced it at the location of the weapon.  This allowed the player to use the weapon's reverb positioning to determine his location. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b0f/5b4/a69/b0f5b4a69c5696bbce8cac4fad50bc49.jpg"></div><br><h1>  What for? </h1><br>  In the production of the game, destructible environments have become one of the most difficult problems in the distribution of sound.  Distributing sounds along the shortest paths is one thing, but when the level itself changes during the game, it is completely different.  We have never had to solve such problems.  Not only in terms of sound quality, but also in terms of processor performance, the task was rather complicated.  We placed many nodes on destructible surfaces and these nodes remained closed until destruction occurred.  We performed many iterations with different details in order to find the perfect balance between accuracy and performance. <br><br>  Another interesting detail: sound propagation modifications are not one-sided - the nodes can go from closed to open, and vice versa from open to closed.  Using barricades and wall reinforcement, players can change potential sound paths, and the algorithm recalculates new paths in real time.  Such barriers (barricades, wall fortifications, etc.) do not have to close the distribution nodes completely;  Depending on the properties of materials (for example, wood, glass, concrete, etc.) they can add a certain ‚Äúpenalty‚Äù when sound passes through them.  For example, wooden and metal barricades have different sound obstruction parameters.  That is, depending on the materials used, the sound may be less or more muffled. <br><br>  In addition, given the high level of degradability and bullet penetration into <em>Siege</em> , it would be disastrous if we relied only on occlusion without blocking.  Occlusion would become a large ‚Äúwall hack‚Äù.  For example, if you are a Defender, then you only need to reinforce as many walls as possible, and wait until you hear the Attackers pass next to the unfortified walls to start shooting at them - the Attackers will not understand where they were attacked from.  We strive to be as accurate as possible, but the simulation of "real-world physics" adds certain moments of guessing to the game.  Of course, such situations can be annoying, but it happens in the real world. <br><br>  Needless to say, we will constantly improve the algorithm.  We like to read the posts of Reddit players, which explain why in some situations the sound propagation seems to be dishonest to them;  for us it is an invaluable source of information that we will definitely consider in the future. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f1a/e09/41c/f1ae0941c79cd299b662676b55c3b44c.jpg"></div><br>  <strong>Map <em>Hereford</em> of Rainbow Six: Siege.</strong> <br><br><h2>  We listen to the actions of the players </h2><br>  Silence and inaction are an important part of our game: even in relatively short rounds for three minutes, the main task of the player is to listen.  Therefore, when we started the development process, we thought that from the point of view of the sound environment, the levels can be a bit boring.  Waiting for enemies inside the bedroom of an ordinary house is much more depressing than being in the middle of a battlefield or in space, right? <br><br>  At that moment, the game did not have all the gadgets, navigation, and weapon sounds, and the sound propagation mechanism was in the early stages of development.  But when we started to put together all the pieces of the puzzle, we realized that we get something much more than artificially injected tension.  The threat you hear is real, and it approaches you.  We limited ourselves to the layers of the sound of the surrounding world, and this helped us add tension to the action, and also gave us much more opportunities to transfer accurate information to the players. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/983/72d/f07/98372df074dfc32a916dffe35359e2cb.jpg"></div><br>  <strong><em>Distribute sound on the map of Hereford.</em></strong> <br><br>  We paid special attention to realism and the amount of detail in the navigation sound system so that the player could get more information by simply listening to other players moving around the map: listening to navigation sounds, you can determine the weight, armor and speed of the operators. <br><br>  We were also very attentive to the use of gadgets - charges for breakthroughs, barricades and other devices, so that they give a good idea of ‚Äã‚Äãwhat is happening to players collecting information on the basis of sound. <br><br>  Navigation sounds from the first person are also mixed quite loud.  We did this for two reasons: firstly, it makes the player understand that he creates a rather strong noise that reveals his position, and secondly, the player understands that in order to detect the other players he needs to move more slowly.  This is the foundation of <em>Siege</em> sound design - if you move slowly and listen to the surrounding sounds, you get more information and act more efficiently. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/742/1ff/89a/7421ff89afabe98c8512bd9d2eca703d.jpg"></div><br>  <strong><em>Nods of sound propagation close up.</em></strong> <br><br><h2>  Result </h2><br>  From the very beginning of the project, we sought to make the main feeling of the player tension.  At some point we added music and artifacts to increase tension, but, as I said above, the best element for creating this feeling was the sounds of other players that you cannot see.  Therefore, we have removed all the "artificial" atmosphere-boosting sounds to focus on the most important: the sounds created by the players. <br><br>  Today, in retrospect, this seems obvious, but as it seems to me, few games abandon the classic stress-generating sounds.  Rejecting artificial sounds, we, in my opinion, gave <em>Siege</em> its own individuality in terms of sound, which is just interesting to listen to, and moreover - it greatly influences the gameplay. </div><p>Source: <a href="https://habr.com/ru/post/344644/">https://habr.com/ru/post/344644/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../344632/index.html">SOC for beginners. How to organize monitoring of incidents and response to attacks in the 24x7 mode</a></li>
<li><a href="../344634/index.html">ATOL Online Online Cash Desk Service: API and CMS Integration</a></li>
<li><a href="../344638/index.html">Corona SDK - Crush Crush Game</a></li>
<li><a href="../344640/index.html">Mail for Good: how the community of programmers helps NGOs</a></li>
<li><a href="../344642/index.html">Something is wrong with the IDS signature</a></li>
<li><a href="../344648/index.html">Born to intercept traffic</a></li>
<li><a href="../344650/index.html">This is Sparta</a></li>
<li><a href="../344652/index.html">How to clean the onions, or why software development is out of control</a></li>
<li><a href="../344654/index.html">Building a business analysis process in projects for the development of BI-applications with advanced visualization</a></li>
<li><a href="../344656/index.html">Representing functions as a service - OpenFaaS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>