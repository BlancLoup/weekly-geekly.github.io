<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>A dozen Linux tricks that really save a lot of time</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="One evening, re-reading Jeffrey Fridle , I realized that even with all the available documentation, there are many tricks tailored for themselves. All...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>A dozen Linux tricks that really save a lot of time</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img width="90%" src="https://habrastorage.org/webt/59/eb/8e/59eb8efd1c86a717826230.png" alt="image"></div><br>  One evening, re-reading <a href="https://scanlibs.com/regulyarnyie-vyirazheniya-3-e-izdanie/">Jeffrey Fridle</a> , I realized that even with all the available documentation, there are many tricks tailored for themselves.  All people are too different.  And the techniques that are obvious to some may not be obvious to others and look like some kind of magic to others.  By the way, I already described several similar moments <a href="https://habrahabr.ru/post/339246/">here</a> . <br><br>  The command line for the administrator or user is not only a tool with which you can do everything, but also a tool that is customized for your beloved person indefinitely.  Recently I ran a translation on the topic of convenient receptions in the CLI.  But I got the impression that the translator himself did not use much advice, which is why important nuances could be missed. <br><br>  Under the cut - a dozen command line techniques - from personal experience. <br><a name="habracut"></a><br>  A small digression - in real life, I use a variety of techniques in which the names of real servers or users may accidentally meet, which may fall under the NDA, so I couldn‚Äôt save and paste and specially rewrote and simplified all the examples in the article as much as possible - and if you think that some method in this context is completely useless - perhaps this is precisely the reason.  But in any case, share your ideas in the comments! 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  1. Splitting a string with variable expansions </h4><br>  Often use cut or even awk to simply get the value of a single column. <br>  If you want to take the first characters in the string, use $ {VARIABLE: 0: 5}. <br><br>  But there is a very powerful tool that allows you to manipulate strings with #, ##,% and %% (bash variable expansions) - with their help, you can cut off the unnecessary by the pattern from any side. <br>  The example below shows how from the string ‚Äúusername: homedir: shell‚Äù you can get only the third column (shell) using cut or using variable expansions (we use the <u>*:</u> mask and the ## command, which means cutting all characters to the last found colon): <br><br><pre><code class="bash hljs">$ STRING=<span class="hljs-string"><span class="hljs-string">"username:homedir:shell"</span></span>

$ <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$STRING</span></span></span><span class="hljs-string">"</span></span>|cut -d <span class="hljs-string"><span class="hljs-string">":"</span></span> -f 3
shell
$ <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${STRING##*:}</span></span></span><span class="hljs-string">"</span></span>
shell</code></pre><br>
       (cut),     ,     .       bash-  windows,    ,     <u></u>.<br>
<br>
    Ubuntu ‚Äî      1000 <br>
<br>
<pre><code class="bash hljs">$ cat test.sh
<span class="hljs-meta"><span class="hljs-meta">#!/usr/bin/env bash
</span></span>
STRING=<span class="hljs-string"><span class="hljs-string">"Name:Date:Shell"</span></span>

<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"using cut"</span></span>
time <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> A <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> {1..1000}
<span class="hljs-keyword"><span class="hljs-keyword">do</span></span>
  cut -d <span class="hljs-string"><span class="hljs-string">":"</span></span> -f 3 &gt; /dev/null &lt;&lt;&lt;<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$STRING</span></span></span><span class="hljs-string">"</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">done</span></span>

<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"using ##"</span></span>
time <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> A <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> {1..1000}
<span class="hljs-keyword"><span class="hljs-keyword">do</span></span>
 <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${STRING##*:}</span></span></span><span class="hljs-string">"</span></span> &gt; /dev/null
<span class="hljs-keyword"><span class="hljs-keyword">done</span></span>
</code></pre><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="bash hljs">$ ./test.sh
using cut

real    0m0.950s
user    0m0.012s
sys     0m0.232s
using <span class="hljs-comment"><span class="hljs-comment">##</span></span>

real    0m0.011s
user    0m0.008s
sys     0m0.004s
</code></pre></div></div> ‚Äî    !<br>
<br>
,   ‚Äî  .        .        .   cut     /etc/passwd.     ##,       read. ,     ?<br>
<br>
<pre><code class="bash hljs">$ cat test.sh
<span class="hljs-meta"><span class="hljs-meta">#!/usr/bin/env bash
</span></span>
<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"using cut"</span></span>
time <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> count <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> {1..1000}
<span class="hljs-keyword"><span class="hljs-keyword">do</span></span>
  cut -d <span class="hljs-string"><span class="hljs-string">":"</span></span> -f 7 &lt;/etc/passwd &gt; /dev/null
<span class="hljs-keyword"><span class="hljs-keyword">done</span></span>

<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"using ##"</span></span>
time <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> count <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> {1..1000}
<span class="hljs-keyword"><span class="hljs-keyword">do</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-built_in"><span class="hljs-built_in">read</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">do</span></span>
    <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${REPLY##*:}</span></span></span><span class="hljs-string">"</span></span> &gt; /dev/null
  <span class="hljs-keyword"><span class="hljs-keyword">done</span></span> &lt;/etc/passwd
<span class="hljs-keyword"><span class="hljs-keyword">done</span></span>

</code></pre><div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="bash hljs">$ ./test.sh
$ ./test.sh
using cut

real    0m0.827s
user    0m0.004s
sys     0m0.208s
using <span class="hljs-comment"><span class="hljs-comment">##</span></span>

real    0m0.613s
user    0m0.436s
sys     0m0.172s
</code></pre>  =)</div></div><br>
<br>
  :<br>
<pre><code class="bash hljs">$ VAR=<span class="hljs-string"><span class="hljs-string">"myClassName = helloClass"</span></span>
$ <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-variable"><span class="hljs-variable">${VAR##*= }</span></span>
helloClass
</code></pre><br>
<br>
<pre><code class="bash hljs">$ VAR=<span class="hljs-string"><span class="hljs-string">"Hello my friend (enemy)"</span></span>
$ TEMP=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${VAR##*\(}</span></span></span><span class="hljs-string">"</span></span>
$ <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${TEMP%\)}</span></span></span><span class="hljs-string">"</span></span>
enemy
</code></pre><br>
<br>
<h4>2.   bash   TAB</h4><br>
 bash-completion       ,      /etc/bash.bashrc  /etc/profile.d/bash_completion.sh,        .     TAB ‚Äî      ,       .<br>
  ,     ,      ,           ,    ,  ,      ,      ,   <a href="https://habrahabr.ru/post/115886/"> </a>     .    .<br>
    PATH,       ‚Äî      .profile  .bashrc.<br>
 *nix   lowercase    ,         uppercase ‚Äî   <s>     </s>     :<br>
<br>
<pre><code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">alias</span></span> TAsteriskLog=<span class="hljs-string"><span class="hljs-string">"tail -f /var/log/asteriks.log"</span></span>
$ <span class="hljs-built_in"><span class="hljs-built_in">alias</span></span> TMailLog=<span class="hljs-string"><span class="hljs-string">"tail -f /var/log/mail.log"</span></span>
$ TA[tab]steriksLog
$ TM[tab]ailLog</code></pre><br>
<br>
<h4>3.   bash   TAB ‚Äî 2</h4><br>
   ,        $HOME/bin.<br>
   .<br>
     PATH,      .<br>
  LastLogin  .profile (   .profile):<br>
<br>
<pre><code class="bash hljs"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> LastLogin {
  STRING=$(last | head -n 1 | tr -s <span class="hljs-string"><span class="hljs-string">" "</span></span> <span class="hljs-string"><span class="hljs-string">" "</span></span>)
  USER=$(<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$STRING</span></span></span><span class="hljs-string">"</span></span>|cut -d <span class="hljs-string"><span class="hljs-string">" "</span></span> -f 1)
  IP=$(<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$STRING</span></span></span><span class="hljs-string">"</span></span>|cut -d <span class="hljs-string"><span class="hljs-string">" "</span></span> -f 3)
  SHELL=$( grep <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$USER</span></span></span><span class="hljs-string">"</span></span> /etc/passwd | cut -d <span class="hljs-string"><span class="hljs-string">":"</span></span> -f 7)
  <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"User: </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$USER</span></span></span><span class="hljs-string">, IP: </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$IP</span></span></span><span class="hljs-string">, SHELL=</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$SHELL</span></span></span><span class="hljs-string">"</span></span>
}</code></pre><br>
<i>(      ,     ,     ,         alias)</i><br>
  :<br>
<br>
<pre><code class="bash hljs">$ L[tab]astLogin
User: saboteur, IP: 10.0.2.2, SHELL=/bin/bash</code></pre><br>
<h4>4. Sensitive data</h4><br>
    ,     bash history,          ,       ‚Äî   , <i>echo ¬´hello 2¬ª</i>    :<br>
<br>
<pre><code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"hello"</span></span>
hello
$ <span class="hljs-built_in"><span class="hljs-built_in">history</span></span> 2
 2011  <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"hello"</span></span>
 2012  <span class="hljs-built_in"><span class="hljs-built_in">history</span></span> 2
$  <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"my password secretmegakey"</span></span>
my password secretmegakey
$ <span class="hljs-built_in"><span class="hljs-built_in">history</span></span> 2
 2011  <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"hello"</span></span>
 2012  <span class="hljs-built_in"><span class="hljs-built_in">history</span></span> 2</code></pre><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text">     :<br>
export HISTCONTROL=ignoreboth</div></div><br>
<br>
 ,      git     ansible,   external bash file       ,   600,   .gitignore        ,       source:<br>
<br>
<pre><code class="bash hljs">secret.sh
PASSWORD=LOVESEXGOD

myapp.sh
. ~/secret.sh
sqlplus -l user/<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$PASSWORD</span></span></span><span class="hljs-string">"</span></span>@database:port/sid @mysqfile.sql</code></pre><br>
<br>
    ‚Äî   <a href="https://habrahabr.ru/users/tanriol/" class="user_link">Tanriol</a>,        ,        ,  ,         .<br>
,  ssh   ,        .   wget ‚Äî   --password,        ,          wget,   .<br>
<br>
     ‚Äî   ( ,      ,   SQL)  openssl   .<br>
openssl    ,         .    :<br>
<br>
 secret.key    :<br>
<br>
<pre><code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"secretpassword"</span></span> &gt; secret.key; chmod 600 secret.key</code></pre><br>
    aes-256-cbc, c   :<br>
<br>
<pre><code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"string_to_encrypt"</span></span> | openssl enc -pass file:secret.key -e -aes-256-cbc -a
U2FsdGVkX194R0GmFKCL/krYCugS655yLhf8aQyKNcUnBs30AE5lHN5MXPjjSFML</code></pre><br>
           -,     .git ‚Äî  secret.key    .<br>
         ,    -e  -d:<br>
<br>
<pre><code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">'U2FsdGVkX194R0GmFKCL/krYCugS655yLhf8aQyKNcUnBs30AE5lHN5MXPjjSFML'</span></span> | openssl enc -pass file:secret.key -d -aes-256-cbc -a
string_to_encrypt</code></pre><br>
 ,        ,   ,          secret.key    .<br>
<br>
<h4>5.    grep</h4><br>
   - <br>
<br>
<pre><code class="bash hljs">tail -f application.log | grep -i error</code></pre><br>
  <br>
<br>
<pre><code class="bash hljs">tail -f application.log | grep -i -P <span class="hljs-string"><span class="hljs-string">"(error|warning|failure)"</span></span></code></pre><br>
     -v,    ‚Äî ,     ‚Äî        ,     exception   ,        (  ,    info,   ):<br>
<br>
<pre><code class="bash hljs">tail -f application.log | grep -v -i <span class="hljs-string"><span class="hljs-string">"info"</span></span></code></pre><br>
 :<br>
<br>
   -P,     grep  basic regular expression,   PCRE,      ,      .<br>
<br>
       "--line-buffered", "-i".<br>
<br>
    ,    --only-matching,    .          .       grep,    //   .<br>
<br>
<h4>6.    </h4><br>
  ,        ,    ,   *nix,        ,   iNode.<br>
     ,          ,     ,         (   ). ,      ,     .<br>
<i>(     ,      ,       )</i><br>
<br>
       ( ,   ):<br>
<br>
<pre><code class="bash hljs">&gt; application.log</code></pre><br>
  (     ):<br>
<br>
<pre><code class="bash hljs">truncate --size=1M application.log</code></pre><br>
    ,  ,      ,       .<br>
<br>
    ,   1000 :<br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$(tail -n 1000 application.log)</span></span></span><span class="hljs-string">"</span></span> &gt; application.log</code></pre><br>
 <a href="https://habrahabr.ru/users/himura/" class="user_link">Himura</a>  .<br>
<i>P.S.          ‚Äî       - , , log4j,     rotatelogs.</i><br>
<br>
<h4>7. watch   !</h4><br>
 ,   - . ,    ( who   ),  -   ftp  ( ls  ).<br>
<br>
 <br>
<br>
<pre><code class="bash hljs">watch &lt;&gt;</code></pre><br>
 ,     2    ,    Ctrl+C.       .<br>
 ,     <br>
<br>
<h4>8.   bash</h4><br>
     ,   :<br>
<br>
<pre><code class="bash hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> srv <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> 1 2 3; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"server</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${srv}</span></span></span><span class="hljs-string">"</span></span>;<span class="hljs-keyword"><span class="hljs-keyword">done</span></span>
server1
server2
server3</code></pre><br>
  :<br>
<br>
<pre><code class="bash hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> srv <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> server{1..3}; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$srv</span></span></span><span class="hljs-string">"</span></span>;<span class="hljs-keyword"><span class="hljs-keyword">done</span></span>
server1
server2
server3</code></pre><br>
     seq,   .    :<br>
<br>
<pre><code class="bash hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> srv <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> $(seq -w 1 10); <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"server</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${srv}</span></span></span><span class="hljs-string">"</span></span>;<span class="hljs-keyword"><span class="hljs-keyword">done</span></span>
server01
server02
server03
server04
server05
server06
server07
server08
server09
server10</code></pre><br>
        ,     .        basename:<br>
<br>
<pre><code class="bash hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> file <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> *.txt; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> name=$(basename <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$file</span></span></span><span class="hljs-string">"</span></span> .txt);mv <span class="hljs-variable"><span class="hljs-variable">$name</span></span>{.txt,.lst}; <span class="hljs-keyword"><span class="hljs-keyword">done</span></span></code></pre><br>
   ,   %:<br>
<br>
<pre><code class="bash hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> file <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> *.txt; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> mv <span class="hljs-variable"><span class="hljs-variable">${file%.txt}</span></span>{.txt,.lst}; <span class="hljs-keyword"><span class="hljs-keyword">done</span></span></code></pre><br>
      ¬´rename¬ª<br>
<br>
         java :<br>
<pre><code class="bash hljs">mkdir -p project/src/{main,<span class="hljs-built_in"><span class="hljs-built_in">test</span></span>}/{java,resources}</code></pre><br>
<div class="spoiler"><b class="spoiler_title"></b><div class="spoiler_text"><pre><code class="python hljs">project/
   !--- src/
        |--- main/
        |    |-- java/
        |    !-- resources/
        !--- test/
             |-- java/
             !-- resources/</code></pre></div></div><br>
<br>
<h4>9. tail,     </h4><br>
  multitail,       .     - ,       .<br>
<br>
        tail:<br>
<br>
<pre><code class="bash hljs">tail -f /var/logs/*.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span></code></pre><br>
,       ¬´tail -f¬ª.<br>
,   ,    ,   ,        tail -f.     <s>-</s>           .<br>
  ,   ¬´tail -f¬ª,        .   ,  ,   .<br>
<br>
   ,   PID    PID ,    tail   :<br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">alias</span></span> TFapplog=<span class="hljs-string"><span class="hljs-string">'tail -f --pid=$(cat /opt/app/tmp/app.pid) /opt/app/logs/app.log'</span></span></code></pre><br>
      .     ,    tail,      .<br>
<br>
<h4>10.    </h4><br>
  dd<br>
<br>
<pre><code class="bash hljs">dd <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>=/dev/zero of=out.txt bs=1M count=10</code></pre><br>
    fallocate:<br>
<br>
<pre><code class="bash hljs">fallocate -l 10M file.txt</code></pre><br>
  ,     (xfs, ext4, Btrfs...),     ,    dd.<br>
<br>
<h4>11. xargs</h4><br>
  ,  ,      .<br>
 ‚Äî        .<br>
<br>
        -n:<br>
<br>
<pre><code class="bash hljs">$ <span class="hljs-comment"><span class="hljs-comment">#    5 </span></span>
<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> string <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> string{1..5}; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-variable"><span class="hljs-variable">$string</span></span> &gt;&gt; file.lst; <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>
$ cat file.lst
string1
string2
string3
string4
string5
saboteur@ubuntu:~$ cat file.lst | xargs -n 2
string1 string2
string3 string4
string5</code></pre><br>
 ‚Äî     ,        .      ,    xargs   ,     2 :<br>
<br>
<pre><code class="bash hljs">cat file | xargs -n 2 -P 3</code></pre><br>
       ,     nproc,         :<br>
<br>
<pre><code class="bash hljs">cat file | xargs -n 2 -P $(nproc)</code></pre><br>
<h4>12. sleep? while? read!</h4><br>
 sleep    while,   read,      ,      :<br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">read</span></span> -p <span class="hljs-string"><span class="hljs-string">"Press any key to continue "</span></span> -n 1</code></pre><br>
  ,          :<br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">read</span></span> -p <span class="hljs-string"><span class="hljs-string">"Press any key to continue (autocontinue in 30 seconds) "</span></span> -t 30 -n 1</code></pre><br>
     :<br>
<br>
<pre><code class="bash hljs">REPLY=<span class="hljs-string"><span class="hljs-string">""</span></span>
until [ <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$REPLY</span></span></span><span class="hljs-string">"</span></span> = <span class="hljs-string"><span class="hljs-string">"y"</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span>
  <span class="hljs-comment"><span class="hljs-comment"># executing some command</span></span>
  <span class="hljs-built_in"><span class="hljs-built_in">read</span></span> <span class="hljs-string"><span class="hljs-string">"Press 'y' to continue or 'n' to break, any other key to repeat this step"</span></span> -n 1
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$REPLY</span></span></span><span class="hljs-string">"</span></span> = <span class="hljs-string"><span class="hljs-string">'n'</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span> 1; <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">done</span></span>
</code></pre><br>
   ,       .<br>
  ‚Äî        !<br>
<br>
P.S. Update:<br>
1.      ‚Äî  !<br>
2. ``   $() ‚Äî  !<br>
3.   ,    .<br>
<br>
,     ‚Äî    ,       =),   +  : <a href="https://habrahabr.ru/users/khim/" class="user_link">khim</a>, <a href="https://habrahabr.ru/users/tanriol/" class="user_link">Tanriol</a>, <a href="https://habrahabr.ru/users/himura/" class="user_link">Himura</a>, <a href="https://habrahabr.ru/users/bolk/" class="user_link">bolk</a>, <a href="https://habrahabr.ru/users/firegurafiku/" class="user_link">firegurafiku</a>,   <a href="https://habrahabr.ru/users/dangerous3/" class="user_link">dangerous3</a>, <a href="https://habrahabr.ru/users/rpg/" class="user_link">RPG</a>, <a href="https://habrahabr.ru/users/alexhha/" class="user_link">ALexhha</a>, <a href="https://habrahabr.ru/users/iryston/" class="user_link">IRyston</a>, <a href="https://habrahabr.ru/users/mcaaron/" class="user_link">McAaron</a></div><p>Source: <a href="https://habr.com/ru/post/340544/">https://habr.com/ru/post/340544/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../340530/index.html">Modern Web-platform: how to relax and have fun? A practical guide, part 1</a></li>
<li><a href="../340534/index.html">ROS, ELM and Bug</a></li>
<li><a href="../340536/index.html">Tired of writing PropertyDrawer in Unity? There is a better way</a></li>
<li><a href="../340538/index.html">UFADEVCONF 2017 Conference Overview</a></li>
<li><a href="../340540/index.html">Russian AI Cup 2017 - to all fans of StarCraft and C & C is dedicated</a></li>
<li><a href="../340550/index.html">Code review humanly (part 1)</a></li>
<li><a href="../340552/index.html">How we updated the search tips in Yandex and found the correct metric for them</a></li>
<li><a href="../340554/index.html">Determination of the stability of automatic control systems for industrial robots</a></li>
<li><a href="../340556/index.html">First TypeScript Demo</a></li>
<li><a href="../340558/index.html">Why do you need to stop using git rebase</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>