<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Collection of tips and facts on optimizing PHP scripts</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article has long been worth rewriting (too much "saving on matches"), but hands do not reach. Let them weigh and remind us how stupid we are in o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Collection of tips and facts on optimizing PHP scripts</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/3b0/38e/9ef/3b038e9efbc5cfff6fa86727117d06a1.jpg" alt="image" align="left">  <b>This article has long been worth rewriting (too much "saving on matches"), but hands do not reach.</b>  <b>Let them weigh and remind us how stupid we are in our youth.</b> <br>  One of the main criteria for the success of any online resource is the speed of its work and every year users become more and more demanding according to this criterion.  Optimizing the work of php-skips is one of the methods to ensure the speed of the system. <br>  In this article I would like to present to the public my collection of tips and facts on optimizing scripts.  The collection was going to me for a long time, based on several sources and personal experiments. <br><a name="habracut"></a>  Why a collection of tips and facts, and not hard and fast rules?  Because, as I was convinced, there is no ‚Äúabsolutely correct optimization‚Äù.  Many techniques and rules are contradictory and it is impossible to fulfill them all.  You have to choose a set of methods that are acceptable to use without compromising safety and convenience.  I took a recommendatory position and therefore I have tips and facts that you can or may not follow. <br>  To avoid confusion, I divided all the tips and facts into 3 groups: <br><ul><li>  Optimization at the level of logic and organization of the application </li><li>  Code optimization </li><li>  Useless optimization </li></ul><br>  Groups are conditionally highlighted and some items can be attributed to several of them at once.  The numbers are for an average server (LAMP).  The article does not address issues related to the effectiveness of various third-party technologies and frameworks, as this is a topic for separate discussions. <br><br><h4>  Optimization at the level of logic and organization of the application </h4><br>  Many of the tips and facts related to this optimization group are very significant and give a very big gain in time. <br><ul><li><b>      (<code>xdebug</code>)    (<code>firebug</code>),      </b><br>
 ,     ,   ,           . </li>
<li><b>,     ,     </b><br>
        . </li>
<li><b>   </b><br>
     ,         .   ,      .</li>
<li><b>¬´ ¬ª           PHP</b><br>
      ,     ,          PHP.</li>
<li><b>   html ,    php</b><br>
       1 ,          PHP .</li>
<li><b>  ()    </b><br>
    2   0.001 .              .</li>
<li><b>    <code>require_once</code>  <code>include_once</code></b><br>
         ,      <code>require</code>  <code>include</code>.</li>
<li><b>  ,   ,         4   ,        <code>include.</code></b></li>
<li><b>      </b><br>
  ,       ,       .           JS     (select).</li>
<li><b>   DOM      </b><br>
           .     :        ,    DOM  JS .         .</li>
<li><b>,    AJAX,  ,  ,    </b><br>
         .      AJAX  2-3  . <i>:</i> AJAX           , ,   . </li>
<li><b>  post-   -,   </b><br>
     ,    .       ,   AJAX.</li>
<li><b>    ,   </b><br>
        .   ,         ,       . <i>:</i>     ,     ,      .</li>
<li><b>      </b><br>
   ,          ,         .   ,     0.002 .</li>
<li><b>          </b><br>
         .     0.002 . <i>:</i>        .          .</li>
<li><b>     ,    </b><br>
       ( ,    .)   ,    , .</li>
<li><b>     ,     PHP     </b><br>
   ,       PHP      (   ).        ( ,    .)      .</li>
<li><b>             ,        </b><br>
     :             ,       .            . <i>:</i>              .</li>
<li><b> ,   ,   memcached</b><br>
     . <i>:</i>     ,         .</li>
<li><b>   ( ) ,     , ,   </b><br>
 ¬´¬ª  .  ,  PHP           .</li>
<li><b>   ,    </b><br>
   -   .</li>
</ul><br>
<h4> </h4><br>
            ,           .<br>
<ul>
<li><b><code>echo</code>  <code>print</code>  ,  <code>printf</code></b><br>
        .   ,  <code>printf</code>              . <code>printf</code>     ,   . </li>
<li><b><code>echo $var."text"</code> ,  <code>echo "$var text"</code></b><br>
  ,   PHP        .        PHP    .</li>
<li><b><code>echo 'a'</code> ,  <code>echo "a"</code>    </b><br>
  ,      PHP   .         . </li>
<li><b><code>echo 'a','b'</code> ,  <code>echo 'a'.'b'</code></b><br>
    ,   .   ,       .         . <i>:</i>      echo,        .</li>
<li><b><code>$return='a'; $return.='b'; echo $return;</code> ,  <code>echo 'a'; echo 'b';</code></b><br>
  ,       .         . </li>
<li><b><code>ob_start(); echo 'a'; echo 'b'; ob_end_flush();</code> ,  <code>$return='a'; $return.='b'; echo $return;</code></b><br>
  ,        .         . <i>:</i>   ,     AJAX,            . </li>
<li><b> ¬´ ¬ª  <code>?&gt; a b &lt;?php</code> ,  <code>&lt;?php echo 'a'; echo 'b'; ?&gt;</code></b><br>
  (  )  ,    PHP.     .         .</li>
<li><b><code>readfile</code> ,  <code>file_get_contents</code>, <code>file_get_contents</code> ,  <code>require</code>,  <code>require</code> ,  <code>include</code>       </b><br>
       0.001  <code>readfile</code>  0.002  <code>include</code>. </li>
<li><b><code>require</code> ,  <code>include</code>   </b><br>
<i>:</i>   ,       ,   <code>include</code>, .. <code>require</code>   .</li>
<li><b><code>if (...) {...} else if (...) {}</code> ,  <code>switch</code></b><br>
    .</li>
<li><b><code>if (...) {...} else if (...) {}</code> ,  <code>if (...) {...}; if (...) {};</code></b><br>
      .   <code>else if</code> ,   ,      ¬´¬ª . </li>
<li><b>     <code>if (...) {...} else if (...) {}</code>     </b><br>
    ,     .     ,       .</li>
<li><b><code>x = sizeOf($array); for($i = 0; $i &lt; x; ++$i) {...}</code> ,  <code>for($i = 0; $i &lt; sizeOf($array); ++$i) {...}</code></b><br>
  ,      sizeOf     .        . </li>
<li><b><code>x = sizeOf($array); for($i = 0; $i &lt; x; ++$i) {...}</code> ,  <code>foreach($arr as $value) {...}</code>    </b><br>
        . </li>
<li><b><code>preg _replace</code> ,  <code>ereg_replace</code>, <code>str_replace</code> ,  <code>preg_replace</code>,  <code>strtr</code> ,  <code>str_replace</code></b><br>
            .</li>
<li><b>    ,   </b><br>
    .</li>
<li><b>   -   .</b></li>
<li><b>     <code>@</code></b><br>
      ,         ,     . </li>
<li><b><code>if (isset($str{5})) {...}</code> ,  <code>if (strlen($str)&gt;4){...}</code></b><br>
  ,        <code>strlen</code>     <code>isset</code>. </li>
<li><b><code>0.5</code> ,  <code>1/2</code></b><br>
  ,       . </li>
<li><b><code>return</code> ,  <code>global</code>      </b><br>
  ,       . </li>
<li><b><code>$row['id']</code> ,  <code>$row[id]</code></b><br>
    7 . </li>
<li><b><code>$_SERVER[‚ÄôREQUEST_TIME‚Äô]</code> ,  <code>time()</code>     </b><br>
  ,       . </li>
<li><b><code>if ($var===null) {...}</code> ,  <code>if (is_null($var)) {...}</code></b><br>
  ,       .</li>
<li><b><code>++i</code> , <code> i++</code>, <code>--i</code> ,  <code>i--</code></b><br>
    PHP.     0.000001,         ,     .</li>
<li><b>   <code>i=0; ++i;</code> ,    <code>++i</code></b><br>
    0.000001 ,  -       . </li>
<li><b> ¬´¬ª  ,   </b><br>
   ‚Äì    .</li>
<li><b>    ,   , ,  2 </b><br>
      0.000001 ,  -         . </li>
<li><b>    ,   ,        </b><br>
         ,    . </li>
</ul><br>
<h4> </h4><br>
             (   0.000001 ).   ,      .    ¬´¬ª   ,            .<br>
<ul>
<li><b><code>echo</code> ,  <code>print</code></b></li>
<li><b><code>include(' ')</code> ,  <code>include(' ')</code></b></li>
<li><b><code>sizeOf</code> ,  <code>count</code></b></li>
<li><b><code>foreach ($arr as $key =&gt; $value) {...}</code> ,  <code>reset ($arr); while (list($key, $value) = each ($arr)) {...}</code>   </b></li>
<li><b>   ,  ,        </b><br>
      ,     (¬´¬ª)   . </li>
<li><b>    ,     </b><br>
     .   ,     (¬´¬ª)   .</li>
<li><b>     ,    </b><br>
  .</li>
</ul><br>
,   ,                .  ,                  .<br>
<br>
     :<br>
<a href="http://habrahabr.ru/blogs/php/22799/">40     PHP-</a>, <br>
<a href="http://habrahabr.ru/blogs/webdev/11553/">  PHP-</a>, <br>
<a href="http://www.insight-it.ru/programmirovanie/php/na-puti-k-idealu/">   </a></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/112474/">https://habr.com/ru/post/112474/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../112467/index.html">Give me the iron! Part 2</a></li>
<li><a href="../112468/index.html">Clean SEO. rest in peace</a></li>
<li><a href="../112469/index.html">Hosting 3D Viewpot Models</a></li>
<li><a href="../112470/index.html">British providers are going to make pay for warnings of users about copyright infringement</a></li>
<li><a href="../112472/index.html">Meet FIDOSlax Linux - an operating system with integrated hypertext Fidonet support</a></li>
<li><a href="../112475/index.html">TV advertising of popular sites of the early 90s and the fate of old players. Part 1</a></li>
<li><a href="../112477/index.html">Official update scans Notion Ink Adam</a></li>
<li><a href="../112478/index.html">Droider Chart. Release 36</a></li>
<li><a href="../112480/index.html">Zen-mani - automatic accounting of personal finances</a></li>
<li><a href="../112482/index.html">Getting rid of the new Winlock ªer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>