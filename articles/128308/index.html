<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Binary Clock Widget for Awesome</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="How I came to such a life 
 It all started with the transition to a new job. Although, no ... It all started with Marla from an image with a miracle c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Binary Clock Widget for Awesome</h1><div class="post__text post__text-html js-mediator-article"><h5>  <b>How I came to such a life</b> </h5><br>  It all started with the transition to a new job.  Although, no ... It all started <s>with Marla</s> from an image with a miracle clock that was accidentally seen somewhere.  I was interested in this image, I turned to Wikipedia, and discovered such a wonderful thing as a binary clock ( <a href="http://en.wikipedia.org/wiki/Binary_clock">Binary-coded decimal clocks</a> ), after which I then studied Java in my spare time, so imbued with this concept of displaying time that even wrote a simple application with a binary clock.  As time went on, the application was forgotten long ago, the binary clock temporarily fell out of my sight and cozily settled in the attic of memory.  But then a series of events shook up this attic, and the thought of binary clocks again went to the processing brain. <br><a name="habracut"></a><br>  The main event was the change of work, and the change of 17-inch monitor to 23-inch that followed with it.  After a couple of weeks of work, it became absolutely clear that Gnome, which I have been using for several years, does not allow to fully use all of the available desktop space (1920 * 1080, and it was frightening to think about this resolution on the monitor 10 years ago).  Figuring to arrange windows is rather inconvenient, and the specifics of the work of the system administrator in my organization implies the simultaneous opening and parallel use of at least a console, browser, messenger, as well as heaps of applications that change depending on the context of activities such as rdesktop or vncviewer. <br><br>  Just at that moment, I once again came across the mention of tile desktop managers, and decided to try this method of working space organization.  And about a miracle - it turned out to be very convenient.  Having tried several WM, I opted for <a href="http://awesome.naquadah.org/"><b>awesome</b></a> .  After a couple of days of use, I was convinced that this particular type of WM is the best for me to work with, and awesome is a worthy representative of this type, and began to explore the possibility of customizing my desktop.  Luckily, since the third version of Awesome, the <a href="http://www.lua.ru/">Lua</a> script is used for configuration, which allows you to write widgets directly in the config file.  Studying the widgets available on the Awesome website from users, I came across an <a href="https://awesome.naquadah.org/wiki/Analog_Gages">analog clock widget</a> , and a quick look at the code for this widget showed me a great opportunity to implement a thing I‚Äôve been interested in for a long time - a binary clock, instead of the standard text for awesome text.  All that is needed for this is the ability to draw the image with the tools of Awesome itself, so the widget does not depend on external components. <br><br> <code>image:draw_rectangle(x,y,w,h)</code> <br> <br>  Of course, I have never used the Lua language before, but the task seemed rather trivial, so I got to work. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  <b>So let's go</b> </h5><br>  Open the file we need in a text editor: <br><br> <code>$vim ~/.config/awesome/rc.lua</code> <br> <br>  We are looking for an existing ad text clock widget <br><br><blockquote>  mytextclock <font color="#66cc66">=</font> awful.widget.textclock <font color="#66cc66">(</font> <font color="#66cc66">{</font> align <font color="#66cc66">=</font> <font color="#ff0000">"right"</font> <font color="#66cc66">}</font> <font color="#66cc66">)</font> </blockquote><br><br>  And we begin to "create": <br><br><blockquote>  binaryclock <font color="#66cc66">=</font> <font color="#66cc66">{</font> <font color="#66cc66">}</font> <br>  binaryclock.widget <font color="#66cc66">=</font> widget <font color="#66cc66">(</font> <font color="#66cc66">{</font> <font color="#b1b100">type</font> <font color="#66cc66">=</font> <font color="#ff0000">"imagebox"</font> <font color="#66cc66">}</font> <font color="#66cc66">)</font> <br>  binaryclock.w <font color="#66cc66">=</font> <font color="#cc66cc">51</font> <font color="#808080">--width</font> <br>  binaryclock.h <font color="#66cc66">=</font> <font color="#cc66cc">24</font> <font color="#808080">--height (better to be a multiple of 6)</font> <br>  <font color="#808080">--dont forget that awesome resizes our wibox's height with clocks to fit</font> <br>  binaryclock.show_sec <font color="#66cc66">=</font> <font color="#b1b100">true</font> <font color="#808080">--must we show seconds?</font> <br>  binaryclock.color_active <font color="#66cc66">=</font> beautiful.bg_focus - <font color="#808080">active dot color</font> <br>  binaryclock.color_bg <font color="#66cc66">=</font> beautiful.bg_normal <font color="#808080">--background color</font> <br>  binaryclock.color_inactive <font color="#66cc66">=</font> beautiful.fg_focus <font color="#808080">--inactive dot color</font> <br>  binaryclock.dotsize <font color="#66cc66">=</font> <font color="#b1b100">math.floor</font> <font color="#66cc66">(</font> binaryclock.h <font color="#66cc66">/</font> <font color="#cc66cc">6</font> <font color="#66cc66">)</font> <font color="#808080">--dot size</font> <br>  binaryclock.step <font color="#66cc66">=</font> <font color="#b1b100">math.floor</font> <font color="#66cc66">(</font> binaryclock.dotsize <font color="#66cc66">/</font> <font color="#cc66cc">2</font> <font color="#66cc66">)</font> <font color="#808080">--whitespace between dots</font> <br>  binaryclock.widget.image <font color="#66cc66">=</font> image.argb32 <font color="#66cc66">(</font> binaryclock.w, binaryclock.h, <font color="#b1b100">nil</font> <font color="#66cc66">)</font> <font color="#808080">--create image</font> <br>  <font color="#b1b100">if</font> <font color="#66cc66">(</font> binaryclock.show_sec <font color="#66cc66">)</font> <font color="#b1b100">then</font> binaryclock.timeout <font color="#66cc66">=</font> <font color="#cc66cc">1</font> <font color="#b1b100">else</font> binaryclock.timeout <font color="#66cc66">=</font> <font color="#cc66cc">20</font> <font color="#b1b100">end</font> </blockquote><br><br>  As you can see, all the widget settings are set here, and all the basic size calculations are done right there. <br>  Then I used a ready-made solution for the Lua language, which allows converting numbers in decimal to any other: <br><blockquote>  binaryclock.DEC_BIN <font color="#66cc66">=</font> <font color="#b1b100">function</font> <font color="#66cc66">(</font> IN <font color="#66cc66">)</font> <font color="#808080">--thanx to Lostgallifreyan (http://lua-users.org/lists/lua-l/2004-09/msg00054.html)</font> <br>  <font color="#b1b100">local</font> B, K, OUT, I, D <font color="#66cc66">=</font> <font color="#cc66cc">2</font> , <font color="#ff0000">"01"</font> , <font color="#ff0000">""</font> , <font color="#cc66cc">0</font> <br>  <font color="#b1b100">while</font> IN <font color="#66cc66">&gt;</font> <font color="#cc66cc">0</font> <font color="#b1b100">do</font> <br>  I <font color="#66cc66">=</font> I + <font color="#cc66cc">1</font> <br>  IN, D <font color="#66cc66">=</font> <font color="#b1b100">math.floor</font> <font color="#66cc66">(</font> IN <font color="#66cc66">/</font> B <font color="#66cc66">)</font> , <font color="#b1b100">math.mod</font> <font color="#66cc66">(</font> IN, B <font color="#66cc66">)</font> + <font color="#cc66cc">1</font> <br>  OUT <font color="#66cc66">=</font> <font color="#b1b100">string.sub</font> <font color="#66cc66">(</font> K, D, D <font color="#66cc66">)</font> ..OUT <br>  <font color="#b1b100">end</font> <br>  <font color="#b1b100">return</font> OUT <br>  <font color="#b1b100">end</font> </blockquote><br><br>  Now let's declare the function that draws the points- ‚Äúdiodes‚Äù of the clock, according to the number itself. <br><blockquote>  binaryclock.paintdot <font color="#66cc66">=</font> <font color="#b1b100">function</font> <font color="#66cc66">(</font> val, shift, limit <font color="#66cc66">)</font> <br>  <font color="#b1b100">local</font> binval <font color="#66cc66">=</font> binaryclock.DEC_BIN <font color="#66cc66">(</font> val <font color="#66cc66">)</font> <br>  <font color="#b1b100">local</font> l <font color="#66cc66">=</font> <font color="#b1b100">string.len</font> <font color="#66cc66">(</font> binval <font color="#66cc66">)</font> <br>  <font color="#b1b100">local</font> height <font color="#66cc66">=</font> <font color="#cc66cc">0</font> <font color="#808080">--height adjustment</font> <br>  <font color="#b1b100">if</font> <font color="#66cc66">(</font> l <font color="#66cc66">&lt;</font> limit <font color="#66cc66">)</font> <font color="#b1b100">then</font> <br>  <font color="#b1b100">for</font> i <font color="#66cc66">=</font> <font color="#cc66cc">1</font> , limit - l <font color="#b1b100">do</font> binval <font color="#66cc66">=</font> <font color="#ff0000">"0"</font> .. binval <font color="#b1b100">end</font> <br>  <font color="#b1b100">end</font> <br>  <font color="#b1b100">for</font> i <font color="#66cc66">=</font> <font color="#cc66cc">0</font> , limit- <font color="#cc66cc">1</font> <font color="#b1b100">do</font> <br>  <font color="#b1b100">if</font> <font color="#66cc66">(</font> <font color="#b1b100">string.sub</font> <font color="#66cc66">(</font> binval, limit-i, limit-i <font color="#66cc66">)</font> <font color="#66cc66">==</font> <font color="#ff0000">"1"</font> <font color="#66cc66">)</font> <font color="#b1b100">then</font> <br>  binaryclock.widget.image: draw_rectangle <font color="#66cc66">(</font> shift, binaryclock.h - binaryclock.dotsize - height, binaryclock.dotsize, binaryclock.dotsize, <font color="#b1b100">true</font> , binaryclock.color_active <font color="#66cc66">)</font> <br>  <font color="#b1b100">else</font> <br>  binaryclock.widget.image: draw_rectangle <font color="#66cc66">(</font> shift, binaryclock.h - binaryclock.dotsize - height, binaryclock.dotsize, binaryclock.dotsize, <font color="#b1b100">true</font> , binaryclock.color_inactive <font color="#66cc66">)</font> <br>  <font color="#b1b100">end</font> <br>  height <font color="#66cc66">=</font> height + binaryclock.dotsize + binaryclock.step <br>  <font color="#b1b100">end</font> <br>  <font color="#b1b100">end</font> </blockquote><br><br>  And finally, the main function that paints our watch: <br><br><blockquote>  binaryclock.drawclock <font color="#66cc66">=</font> <font color="#b1b100">function</font> <font color="#66cc66">(</font> <font color="#66cc66">)</font> <font color="#808080">--get time and send digits to paintdot ()</font> <br>  binaryclock.widget.image: draw_rectangle <font color="#66cc66">(</font> <font color="#cc66cc">0</font> , <font color="#cc66cc">0</font> , binaryclock.w, binaryclock.h, <font color="#b1b100">true</font> , binaryclock.color_bg <font color="#66cc66">)</font> <font color="#808080">--fill background</font> <br>  <font color="#b1b100">local</font> t <font color="#66cc66">=</font> <font color="#b1b100">os.date</font> <font color="#66cc66">(</font> <font color="#ff0000">"* t"</font> <font color="#66cc66">)</font> <br>  <font color="#b1b100">local</font> hour <font color="#66cc66">=</font> t.hour <br>  <font color="#b1b100">if</font> <font color="#66cc66">(</font> <font color="#b1b100">string.len</font> <font color="#66cc66">(</font> hour <font color="#66cc66">)</font> <font color="#66cc66">==</font> <font color="#cc66cc">1</font> <font color="#66cc66">)</font> <font color="#b1b100">then</font> <br>  hour <font color="#66cc66">=</font> <font color="#ff0000">"0"</font> .. t.hour <br>  <font color="#b1b100">end</font> <br>  <font color="#b1b100">local</font> <font color="#b1b100">min</font> <font color="#66cc66">=</font> t.  <font color="#b1b100">min</font> <br>  <font color="#b1b100">if</font> <font color="#66cc66">(</font> <font color="#b1b100">string.len</font> <font color="#66cc66">(</font> <font color="#b1b100">min</font> <font color="#66cc66">)</font> <font color="#66cc66">==</font> <font color="#cc66cc">1</font> <font color="#66cc66">)</font> <font color="#b1b100">then</font> <br>  <font color="#b1b100">min</font> <font color="#66cc66">=</font> <font color="#ff0000">"0"</font> .. t.  <font color="#b1b100">min</font> <br>  <font color="#b1b100">end</font> <br>  <font color="#b1b100">local</font> sec <font color="#66cc66">=</font> t.sec <br>  <font color="#b1b100">if</font> <font color="#66cc66">(</font> <font color="#b1b100">string.len</font> <font color="#66cc66">(</font> sec <font color="#66cc66">)</font> <font color="#66cc66">==</font> <font color="#cc66cc">1</font> <font color="#66cc66">)</font> <font color="#b1b100">then</font> <br>  sec <font color="#66cc66">=</font> <font color="#ff0000">"0"</font> .. t.sec <br>  <font color="#b1b100">end</font> <br>  <font color="#b1b100">local</font> col_count <font color="#66cc66">=</font> <font color="#cc66cc">6</font> <br>  <font color="#b1b100">if</font> <font color="#66cc66">(</font> <font color="#b1b100">not</font> binaryclock.show_sec <font color="#66cc66">)</font> <font color="#b1b100">then</font> col_count <font color="#66cc66">=</font> <font color="#cc66cc">4</font> <font color="#b1b100">end</font> <br>  <font color="#b1b100">local</font> step <font color="#66cc66">=</font> <font color="#b1b100">math.floor</font> <font color="#66cc66">(</font> <font color="#66cc66">(</font> binaryclock.w - col_count <font color="#66cc66">*</font> binaryclock.dotsize <font color="#66cc66">)</font> <font color="#66cc66">/</font> <font color="#cc66cc">8</font> <font color="#66cc66">)</font> <font color="#808080">--calc horizontal whitespace between cols</font> <br>  binaryclock.paintdot <font color="#66cc66">(</font> <font color="#cc66cc">0</font> + <font color="#b1b100">string.sub</font> <font color="#66cc66">(</font> hour, <font color="#cc66cc">1</font> , <font color="#cc66cc">1</font> <font color="#66cc66">)</font> , step, <font color="#cc66cc">2</font> <font color="#66cc66">)</font> <br>  binaryclock.paintdot <font color="#66cc66">(</font> <font color="#cc66cc">0</font> + <font color="#b1b100">string.sub</font> <font color="#66cc66">(</font> hour, <font color="#cc66cc">2</font> , <font color="#cc66cc">2</font> <font color="#66cc66">)</font> , binaryclock.dotsize + <font color="#cc66cc">2</font> <font color="#66cc66">*</font> step, <font color="#cc66cc">4</font> <font color="#66cc66">)</font> <br>  binaryclock.paintdot <font color="#66cc66">(</font> <font color="#cc66cc">0</font> + <font color="#b1b100">string.sub</font> <font color="#66cc66">(</font> <font color="#b1b100">min</font> , <font color="#cc66cc">1</font> , <font color="#cc66cc">1</font> <font color="#66cc66">)</font> , binaryclock.dotsize <font color="#66cc66">*</font> <font color="#cc66cc">2</font> + <font color="#cc66cc">4</font> <font color="#66cc66">*</font> step, <font color="#cc66cc">3</font> <font color="#66cc66">)</font> <br>  binaryclock.paintdot <font color="#66cc66">(</font> <font color="#cc66cc">0</font> + <font color="#b1b100">string.sub</font> <font color="#66cc66">(</font> <font color="#b1b100">min</font> , <font color="#cc66cc">2</font> , <font color="#cc66cc">2</font> <font color="#66cc66">)</font> , binaryclock.dotsize <font color="#66cc66">*</font> <font color="#cc66cc">3</font> + <font color="#cc66cc">5</font> <font color="#66cc66">*</font> step, <font color="#cc66cc">4</font> <font color="#66cc66">)</font> <br>  <font color="#b1b100">if</font> <font color="#66cc66">(</font> binaryclock.show_sec <font color="#66cc66">)</font> <font color="#b1b100">then</font> <br>  binaryclock.paintdot <font color="#66cc66">(</font> <font color="#cc66cc">0</font> + <font color="#b1b100">string.sub</font> <font color="#66cc66">(</font> sec, <font color="#cc66cc">1</font> , <font color="#cc66cc">1</font> <font color="#66cc66">)</font> , binaryclock.dotsize <font color="#66cc66">*</font> <font color="#cc66cc">4</font> + <font color="#cc66cc">7</font> <font color="#66cc66">*</font> step, <font color="#cc66cc">3</font> <font color="#66cc66">)</font> <br>  binaryclock.paintdot <font color="#66cc66">(</font> <font color="#cc66cc">0</font> + <font color="#b1b100">string.sub</font> <font color="#66cc66">(</font> sec, <font color="#cc66cc">2</font> , <font color="#cc66cc">2</font> <font color="#66cc66">)</font> , binaryclock.dotsize <font color="#66cc66">*</font> <font color="#cc66cc">5</font> + <font color="#cc66cc">8</font> <font color="#66cc66">*</font> step, <font color="#cc66cc">4</font> <font color="#66cc66">)</font> <br>  <font color="#b1b100">end</font> <br>  binaryclock.widget.image <font color="#66cc66">=</font> binaryclock.widget.image <br>  <font color="#b1b100">end</font> </blockquote><br><br>  Of course, not the most elegant solution, but it works. <br>  We only need to set the update timer: <br><br><blockquote>  binarytimer <font color="#66cc66">=</font> timer <font color="#66cc66">{</font> timeout <font color="#66cc66">=</font> binaryclock.timeout <font color="#66cc66">}</font> <font color="#808080">--register timer</font> <br>  binarytimer: add_signal <font color="#66cc66">(</font> <font color="#ff0000">"timeout"</font> , <font color="#b1b100">function</font> <font color="#66cc66">(</font> <font color="#66cc66">)</font> <br>  binaryclock.drawclock <font color="#66cc66">(</font> <font color="#66cc66">)</font> <br>  <font color="#b1b100">end</font> <font color="#66cc66">)</font> <br>  binarytimer: start <font color="#66cc66">(</font> <font color="#66cc66">)</font> <font color="#808080">--start timer</font> </blockquote><br><br>  and place our widget on the panel (vibox): <br><blockquote>  mywibox <font color="#66cc66">[</font> s <font color="#66cc66">]</font> .widgets <font color="#66cc66">=</font> <font color="#66cc66">{</font> <br>  <font color="#808080">--widgets</font> <br>  binaryclock.widget, <br>  <font color="#808080">--widgets again</font> <br>  layout <font color="#66cc66">=</font> awful.widget.layout.horizontal.rightleft <br>  <font color="#66cc66">}</font> </blockquote><br><br>  Although for greater beauty (and the normal size of the clock on a Full-HD screen), I still had to change the height of the panel: <br><blockquote>  mywibox <font color="#66cc66">[</font> s <font color="#66cc66">]</font> <font color="#66cc66">=</font> awful.wibox <font color="#66cc66">(</font> <font color="#66cc66">{</font> position <font color="#66cc66">=</font> <font color="#ff0000">"top"</font> , screen <font color="#66cc66">=</font> s, height <font color="#66cc66">=</font> <font color="#ff0000">"22"</font> <font color="#66cc66">}</font> <font color="#66cc66">)</font> </blockquote><br><br>  Do not be surprised at the height of the panel at 22px, with the height of the widget at 24. Awesome scales the images in the panel, but for some reason, when the height of the panel is 24px, the Pidgin tray icon behaves very peculiarly, flashes, and is generally capricious. <br>  The work is finished, you can evaluate the result by restarting awesome wonderful combo Mod4 + Ctrl + r. <br><br><h5>  <b>And what is the result?</b> </h5><br>  You can evaluate the result of my work in the screenshot: <br><img src="https://habrastorage.org/storage1/6270d616/5d7937a9/cfa141dd/31e702a7.png"><br>  A couple of days of writing code at lunchtime - and the binary clock flashed safely, showing the time in the awesome panel, and I was enriched with knowledge of the Lua language, and decorated my virtual workspace.  Awesome, by the way, also showed its suitability for use on my 11-inch laptop, allowing me to almost completely abandon the use of the touchpad / trackpad, and increase the overall responsiveness of the laptop. <br><br>  PS The widget code <s>will soon be</s> published by me on the Awesome wiki at the following <a href="https://awesome.naquadah.org/wiki/Binary_Clock_widget">address</a> .  Used for writing awesome v3.4.10 (Exploder). </div><p>Source: <a href="https://habr.com/ru/post/128308/">https://habr.com/ru/post/128308/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../128300/index.html">Video Card Repair</a></li>
<li><a href="../128301/index.html">An example of a practical project using NetApp FAS2040A</a></li>
<li><a href="../128304/index.html">BUILD Conference - Live Webcast Today!</a></li>
<li><a href="../128305/index.html">Wacom announced a new professional interactive display Cintiq 24HD</a></li>
<li><a href="../128307/index.html">Chrome history API - Epic Fail</a></li>
<li><a href="../128309/index.html">Bug Philosophy - Error Description</a></li>
<li><a href="../128310/index.html">Startup Weekend is one year old</a></li>
<li><a href="../128311/index.html">Droider Chart. Issue 69, explosive</a></li>
<li><a href="../128312/index.html">When You Overpromise and Under Deliver, You've "Junipered"</a></li>
<li><a href="../128313/index.html">Happy programmer!</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>