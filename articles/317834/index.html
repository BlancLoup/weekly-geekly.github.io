<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>History of one bot</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! For the last 4 months I have been busy developing a non-commercial bot for Telegram. Now, from one to four hundred people play it every day, an...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>History of one bot</h1><div class="post__text post__text-html js-mediator-article"><p>  Hello!  For the last 4 months I have been busy developing a non-commercial <a href="http://telegram.me/rog_bot">bot</a> for Telegram.  Now, from one to four hundred people play it every day, and for me it is a great success.  If you are interested in the history of development, then I ask for cat. </p><br><p><img src="https://habrastorage.org/files/18b/78e/881/18b78e8819914b99a4cc3c3c06d2b729.png"></p><a name="habracut"></a><br><h3 id="nachalo">  Start </h3><br><p>  A little about the circumstances that pushed me to it.  Playing in <a href="http://telegram.me/godnotbot">@godnotbot</a> (by the way, I recommend) I wanted to create my text walker with dungeons and dragons. </p><br><p>  Having decided that this would be a textual RPG in a Telegram, I thought about what would be inside this RPG.  And inside was a solution that was similar to a suit - random rooms or situations.  Click on the button, get a new room.  In addition, there were gods who gave various bonuses for prayers and were angry when they left them for another faith.  And also, a shop selling all kinds of junk facilitating your path to inevitable death. </p><br><p>  With the concept figured out, now it was necessary to do.  For development, I chose Python.  Why?  And why not - there are already a lot of bots written on it, and the language is pleasant. </p><br><h3 id="zavyazka">  Outset </h3><br><p>  As a result, a simple bot with a little more than a dozen rooms was born.  The bot itself can now always be found <a href="http://telegram.me/rog_bot">here</a> .  The brainchild was shown to all his friends and his story almost ended.  The game was saved from oblivion by a sudden thought: it would be nice to show someone else. </p><br><p>  From a <a href="http://vk.com/seryiza">friend I</a> took a ride VPS, configured the settings, and launched the bot in an infinite loop.  After that, he quickly formed a group in VK and wrote a post on Picaba.  Without knowing it, as I was explained later, I chose time for the post so well that I caught my entire audience and on the first day <em>3,000</em> people came to get acquainted with the bot.  It was cool.  But then there were problems. </p><br><h4 id="situaciya-pervaya">  Situation one </h4><br><p>  Telegram will not allow you to send a lot of messages.  But ‚Äúmany‚Äù are different for everyone.  There are restrictions on messages per minute in private chat, group, on the total number of messages per day, per second in all chats.  How it works is accurate and the exact numbers are unknown.  Yes, the <a href="https://core.telegram.org/bots/faq">site</a> has three paragraphs about it, but in fact it all comes down to what there are limits, you can break them, but no one knows what will happen then.  Therefore, I set a limit on sending 30 messages per second and all the errors are gone.  But during rush hours, users sometimes had to wait for their messages for more than ten seconds. </p><br><p>  Posted in support that can not tolerate it.  A few days later they said that you need to write to the support of the bots.  Support by bots, a few days later, a verdict: live with it, do nothing.  We also recommended using inline buttons, but this option did not suit me - then the message history will be lost.  As a result, I had to stay at thirty messages per second and stop there. </p><br><h4 id="situaciya-vtoraya">  Situation two </h4><br><p>  The project was completely open (and remains so still! <a href="https://github.com/yegorf1/RogueBot">Here is the source code</a> ) and it played an important role in the development of the project - people began to help: send their ideas, edit the code, draw for the bot.  And most importantly, several volunteers have appeared, who have been constantly helping with the bot so far.  These are <a href="http://telegram.me/thekiba">Andrei</a> , <a href="http://telegram.me/angrybuddhist">Vladislav</a> and <a href="http://telegram.me/KaneNOD">Alexey</a> (I would also like to point out <a href="http://telegram.me/ArSTONcaS">Eric</a> , he also always helped me with the bot, though not at the same place as everyone else did (:). And a little later for the whole game my own sticker was drawn ( Thanks to <a href="http://telegram.me/Rayon17">Alexey</a> for this work). </p><br><p>  This paragraph, I want to note that if you are not greedy and are not afraid of theft of the code, you can ask for help from your own community and, most likely, they will help you.  And if you think that your code is needed by someone, don‚Äôt worry, you will gain a larger audience than the people who stole the code from you (although it may be unlucky and everything will go awry, but this means that you‚Äôve turned something off there, or a thief invests a lot of money in clones. But the idea will always be stolen from you). </p><br><h3 id="syuzhet">  Plot </h3><br><p>  Lots of ideas, there are users, the process goes, what's next?  Then we think about the transfer of their product to self-sufficiency.  Without hesitation, I organized voluntary donations on Yandex.Money and, actually, the bot still lives on this money, and it warms the soul. </p><br><p>  In November, the support came in contact, recalling the restrictions on the number of messages and offered to partially remove them, as an exception to the popular bot.  Now we can <em>instantly</em> respond bypassing the restrictions (if the Telegram team wishes, it can always return them to us).  We removed the queue mode in the code, but later found that the restrictions have not gone away.  Support responded that instantly you can only reply with short messages, that is, less than 500 characters.  Sadly, the rules are not dictated by us. </p><br><p>  And right now, together with the community, we are translating the bot into English.  There are over 1,800 phrases, some of which are long and some cannot be simply translated.  For example: "FOR VDV!".  Now the game is fully translated and is at the editor to correct. </p><br><h3 id="razvyazka">  Decoupling </h3><br><p>  What did I want?  Tectic RPG in the telegraph.  What did I get?  The bot, which every week plays a thousand people, in which time is killed in traffic jams, and 4 months of development with cheerful people, as well as interesting acquaintances.  In the meantime, we are preparing for the translation, release of the bot to the web and the introduction of a large-scale multiplayer system (: </p><br><p>  What will come of it?  Who knows‚Ä¶ </p><br><p>  If you are interested in this topic, then the next post will describe the problems in the development itself and on the mechanisms of the game (you can ask questions for the next post, if there are any).  The bot itself can be found <a href="http://telegram.me/rog_bot">here</a> . </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/317834/">https://habr.com/ru/post/317834/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../317818/index.html">Information Security Exam Task</a></li>
<li><a href="../317820/index.html">Automation of business processes. Part 2. Adaptive BPM</a></li>
<li><a href="../317822/index.html">VulnHub Parsing HackDay: Albania</a></li>
<li><a href="../317824/index.html">Palette generator for mobile games</a></li>
<li><a href="../317828/index.html">Multilanguage widget in YII2 without using a database</a></li>
<li><a href="../317836/index.html">10 reasons why your data project will fail</a></li>
<li><a href="../317840/index.html">Not a single temperature: humidity in the data center</a></li>
<li><a href="../317844/index.html">We put new trends in the IT infrastructure on the shelves: what is scale-out, web-scale, hyperconvergence</a></li>
<li><a href="../317848/index.html">Creation and configuration of Analyzed Result based on Analysis Template in HPE Performance Center</a></li>
<li><a href="../317850/index.html">The perfect programmer. Part 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>