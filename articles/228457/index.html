<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Universal web GUI for arbitrary RESTful services</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In many companies, like mine, there are many projects and products. And products have web interfaces to somehow manipulate these products. In our case...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Universal web GUI for arbitrary RESTful services</h1><div class="post__text post__text-html js-mediator-article">  In many companies, like mine, there are many projects and products.  And products have web interfaces to somehow manipulate these products.  In our case, these are unpretentious RESTful web services, and on top of them are even more unpretentious web pages with tins and buttons.  All these web pages are so similar to each other that there was an idea to write a unified product that would ask the server about the supported services and get a full description of the parameters for these services so that you could draw those simple little forms.  That is, web services should describe themselves, quite exhaustively, so that our client can build a GUI for them, and nothing would have to be done by hand.  Just such a picture is googled by the request "REST": <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2ad/367/f36/2ad367f367a3b99451af65d954890551.jpg"><br><a name="habracut"></a><br>  Immediately found such a technology as <a href="http://www.w3.org/Submission/wadl/">WADL</a> - Web Application Description Language.  But this is XML, I didn‚Äôt want to mess with it in javascript, python and perl.  Its more lightweight JSON equivalent - <a href="http://jsdl.codeplex.com/">JSDL</a> - JSON Service Description Language was chosen. <br><br><h3>  Service Requirements </h3>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      It turned out that the JSDL (as well as the WADL) does not fit all the information needed to form full-fledged formulators, and a number of additional agreements with web services should be established: <br><ul><li> First you need to get a list of services, and how they are called.  The concept of service (in terms of JSDL or WADL) here corresponds to the entity being manipulated (resource in REST terms).  A service has a set of operations that JSDL describes.  Therefore, there may be several services (and usually there are), and they can be combined into groups for convenience of display.  Therefore, first of all, our client requests the <code>GET /service_groups</code> URL and gets a JSON of the form <br><pre> <code class="javascript hljs">[ { <span class="hljs-string"><span class="hljs-string">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Manipulate resource1"</span></span>, <span class="hljs-string"><span class="hljs-string">"services"</span></span>: [<span class="hljs-string"><span class="hljs-string">"resource1"</span></span>] }, { <span class="hljs-string"><span class="hljs-string">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Manipulate resource2 and its statistics"</span></span>, <span class="hljs-string"><span class="hljs-string">"services"</span></span>: [<span class="hljs-string"><span class="hljs-string">"resource2"</span></span>, <span class="hljs-string"><span class="hljs-string">"resource2_stat"</span></span>] } ]</code> </pre><br></li><li>  Next, you need to get JSDL for all these services.  It can be done on request for each service, but for convenience, it was also implemented to get all the objects in one <code>GET /jsdls</code> .  Get JSON view <br><pre> <code class="javascript hljs">[[<span class="hljs-string"><span class="hljs-string">"resource1"</span></span>, {...object...}], [<span class="hljs-string"><span class="hljs-string">"resource2"</span></span>, {...object...}], [<span class="hljs-string"><span class="hljs-string">"resource2_stat"</span></span>, {...object...}]]</code> </pre><br>  where <code>object</code> is the JSDL description of the service (operations, their parameters, etc.). <br></li><li>  It would seem that all.  But not all.  Our client is just an html file that can be accessed from an arbitrary domain, or without a domain at all if we set the browser directly on it.  Next, we enter the root URL of our RESTful API into the form, and requests are made there that are cross-domain.  And we inevitably face <a href="http://en.wikipedia.org/wiki/Same-origin_policy">security</a> .  If we could restrict ourselves to GET requests, it would be possible to use <a href="http://en.wikipedia.org/wiki/JSONP">JSONP</a> , but this would also impose additional requirements on the RESTful API itself. <br>  Instead, the server must support the OPTIONS method, which few people know about and which is practically not used, although the browser implicitly makes such a request for cross-domain ajax calls.  The <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html">RFC</a> about this method is written in my opinion rather vague.  In practice, the server should issue the Allow header for this request: <br> <code>Allow: HEAD,GET,PUT,POST,DELETE,OPTIONS</code> <br>  In addition, for each request you need to send the type headers: <br> <code>Access-Control-Allow-Origin: *</code> <br> <code>Access-Control-Allow-Headers: content-type,X-Requested-With</code> <br> <code>Access-Control-Allow-Methods: HEAD,GET,PUT,POST,DELETE,OPTIONS</code> <br>  Then the browser is satisfied. <br></li></ul><br><br><h3>  Validating JSDL </h3><br>  Our client validates incoming JSON objects from the server in accordance with the JSDL scheme described using the <a href="http://json-schema.org/">JSON Schema</a> .  We just took the <a href="">JSDL scheme</a> , the <a href="http://json-schema.org/draft-04/schema">JSONa metascheme</a> , and the first validator from the proposed ones, <a href="http://geraintluff.github.io/tv4/">this one</a> .  The metascheme is needed, because the parameter in JSDL is a schema and is described by a metasheme, which we have expanded a bit, as indicated below.  I hope it is clear (for me personally, not always). <br><br><h3>  Extend JSDL </h3><br>  Unfortunately, using standard JSDL, it is still not possible to fully express our forms. <br>  The parameter scheme lacked the following means of expression: <br><ol><li>  The parameter needs a name.  It must be set. </li><li>  The parameter is transmitted to the server in different ways: <br><ul><li>  In the URL, after the resource: <code>api.com/resource1/paramvalue1/paramvalue2</code> </li><li>  In the query string (if GET) or in the request body: <code>api.com/resource1?param1=value1&amp;param2=value2</code> </li><li>  In the request body, in one piece, without forming a key-value pair.  Specific case, but occurs </li></ul></li><li>  For which parameters of the string type do you need textarea and which text input is enough? </li></ol><br><br>  To solve these problems, the JSDL parameter description scheme (that metascheme) had to be expanded as follows: <br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//  name ParamJSONSchema["properties"]["name"] = { "type": "string" } //  passing -    ParamJSONSchema["properties"]["passing"] = { "type": "string", "default": "keyvalue", "enum": ["keyvalue", "positional", "raw"] } //    multistring   textarea ParamJSONSchema["definitions"]["simpleTypes"]["enum"].push("multistring");</span></span></code> </pre><br><br>  Now there is all the data to draw a request box and correctly send its contents to the service.  The result is displayed on the page. <br><br>  The project itself lies <a href="https://github.com/nifigase/restgui">on the githaba</a> and can be used to implement a single web interface to the services in your company, for example. </div><p>Source: <a href="https://habr.com/ru/post/228457/">https://habr.com/ru/post/228457/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../228447/index.html">Visualization of transatlantic flights in 24 hours</a></li>
<li><a href="../228449/index.html">The smartphone can read the password from the screen from the reflection in your eyes, as well as fingerprints</a></li>
<li><a href="../228451/index.html">The bot for the news feed went to work</a></li>
<li><a href="../228453/index.html">Microsoft, by a court decision, took over the management of the domains of the popular No-IP DDNS service, but was unable to maintain it in working condition.</a></li>
<li><a href="../228455/index.html">Some benchmark performance of network frameworks</a></li>
<li><a href="../228461/index.html">Vkontakte launched unpromising mobile gaming platform?</a></li>
<li><a href="../228463/index.html">Digest photo news # 6: the best materials of the end of June</a></li>
<li><a href="../228465/index.html">Through the eyes of Moscow subscribers. Rating of mobile operators for the 2nd quarter in dynamics</a></li>
<li><a href="../228469/index.html">Computing Graphs, Speculative Locks and Arenas for Tasks at Intel¬Æ Threading Building Blocks (continued)</a></li>
<li><a href="../228477/index.html">Cluster analysis (for example, consumer segmentation) Part 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>