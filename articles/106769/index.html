<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Personal data of conference participants in complete safety</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="See the picture on the left, or how I participated in CityCamp , even without going to St. Petersburg. 

 And if not joking, I‚Äôll tell you how it took...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Personal data of conference participants in complete safety</h1><div class="post__text post__text-html js-mediator-article"> <a href="http://www.amazon.com/Webmastering-Dummies-Daniel-Tauber/dp/076450777X"><img src="https://habrastorage.org/getpro/habr/post_images/e8c/78c/254/e8c78c254b69fa2cb1d6ac832f83b8bc.jpg" align="left"></a>  See the picture on the left, or how I participated in <a href="http://citycamp.tv/">CityCamp</a> , even without going to <a href="http://citycamp.tv/">St.</a> Petersburg. <br><br>  And if not joking, I‚Äôll tell you how it took me a simple honest programmer just a couple of minutes of free time to get access to personal data (email addresses, information about work place and position, cell phone numbers, etc.) of CityCamp conference participants and <a href="http://myrange.ru/events">11 others</a> . <br><br>  Caution traffic. <br><a name="habracut"></a><br><h1>  Prehistory </h1>  Late Saturday evening, before going to bed, <a href="https://habrahabr.ru/users/gruznov/" class="user_link">Gruznov</a> and <a href="https://habrahabr.ru/users/gruznov/" class="user_link">I</a> decided to discuss some of the cases on Skype, and besides, I wanted him to tell me about the cityscape, which he visited during the day.  In addition, the conversation turned to the developers with whom he met at the conference, and their startup.  And their activity consists in creating a system for deploying Internet resources for events like a citycamp. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Having received the link and 4-letter-digital access code from his account, I was able to see what their system is.  In general, this is something like a mini-contact for conference participants and everything is pretty dull.  The icons are clearly from free stocks, the interface does not shine, a full and persistent feeling of "assembling on the knee."  Looking ahead, I would say that no matter how it seemed at first glance, a whole team of developers worked on this project, it seems that they even have their own office.  This is not a schoolboy you did!  Although some students would probably do better.  In general, good fun ... =) <br><br><h1>  Closer to the point </h1>  First of all, like any curious developer, I wanted to know what it was done with.  Mikhail unfortunately did not have such information, so I first looked at the headers of the web server's response (you never know) and looked in html: <br><img src="https://habrastorage.org/storage/habraeffect/d2/77/d27782c51ef3a3a2b2a89122a5c71957.png"><br>  Wow, 17 tsesesok ... =) Well, let's say it is excusable for beta.  It also turned out that the center tag is again in fashion, writing at least some short html 5 doctyp is not fashionable, and you can write &lt;style&gt; bla-bla &lt;/ style&gt; directly into body.  On directives, which, in theory, should be in the headers of the web server, but turned out to be in html in the browser, and the rest of the horrors, so close my eyes. <br><br>  Then I suddenly wanted to look at the 404 error and I, having entered the habrokadabru in the address bar of the browser, turned out to be ... where would you think?  For some reason, on the login page with which I started: <br><img src="https://habrastorage.org/storage/habraeffect/1e/6e/1e6e4b6e935acad992daa078a3625aa6.png"><br><br>  Then something just started to shake and twitch eyes.  This is not just an activation code!  What I initially did not pay attention to.  All conference participants log into their accounts with the help of four letters with dials. <br><br><h1>  Feint ears </h1> Immediately, I found that the case of letters does not matter.  I did not even hope to have any protection for the login frequency and the counter of unsuccessful attempts.  And this was not.  I shared my thoughts with Michael and we quickly estimated the number of possible combinations and the roughly maximal time of the most primitive http-brute-force to their full brute force.  They laughed, and decided that tomorrow Mikhail would have a good excuse for a report, and I would vividly demonstrate that no one was in danger. <br><br>  Then I opened firebug, but something started to get buggy with me after the update, then I just looked at the form code and realized that probably our friends not only couldn‚Äôt make up, but didn‚Äôt distinguish get from post.  Although the form sent post requests, however, the address of the form <a href="http://myrange.ru/login%3Fcode%3Dfuck">myrange.ru/login?code=fuck</a> was also a success. <br><br>  We agreed that at night I will receive the entire list of logins and in the morning I will drop him a report.  Wishing good night got down to business.  Everything was crazy and trivial.  In case of successful authentication, the server returned the 302nd redirect to the profile page, otherwise the 200th code with the login form. <br><br>  I opened the editor, and lightly curled mana on the curl after a minute, the result: <br><pre> <code class="hljs delphi">#!/bin/bash <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-comment"><span class="hljs-comment">{{a..z}</span></span>,<span class="hljs-comment"><span class="hljs-comment">{0..9}</span></span>}<span class="hljs-comment"><span class="hljs-comment">{{a..z}</span></span>,<span class="hljs-comment"><span class="hljs-comment">{0..9}</span></span>}<span class="hljs-comment"><span class="hljs-comment">{{a..z}</span></span>,<span class="hljs-comment"><span class="hljs-comment">{0..9}</span></span>}<span class="hljs-comment"><span class="hljs-comment">{{a..z}</span></span>,<span class="hljs-comment"><span class="hljs-comment">{0..9}</span></span>}; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> curl -I --<span class="hljs-keyword"><span class="hljs-keyword">write</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">out</span></span> %<span class="hljs-comment"><span class="hljs-comment">{http_code}</span></span> --silent --output /dev/null http:<span class="hljs-comment"><span class="hljs-comment">//myrange.ru/login?code=$w; echo " $w"; done</span></span></code> </pre>  saved as brute.sh, and then launched (setting the executable flag in this case would be superfluous, and the home section is mounted with noexec): <br> <code>$ sh brut.sh &gt; brut.txt</code> <br> <br>  It was possible to observe: <br> <code>$ tail -f brut.txt</code> <br>  how quickly the records of the form crawled: <br> <code>... <br> 200 abc0 <br> 200 abc1 <br> 302 abc2 <br> 200 abc3 <br> ... <br></code> <br>  The first 5 logins were received in a minute.  Further, this number is growing rapidly. <br> <code>$ grep 302 brut.txt | wc -l <br> 336</code> <br>  A sample check showed that everything works: <br><img src="https://habrastorage.org/storage/habraeffect/a6/c1/a6c1f8b234d8e3aaaa3fd8632beccaf3.png"><br>  and I'm adding the volume to the speakers and turning on the admin clock <br> <code>$ sleep 5h &amp;&amp; cat /dev/urandom &gt;&gt; /dev/dsp</code> <br>  went to sleep. <br><br>  I woke up after the Skype call, Michael got up earlier.  I was surprised to find that brutal had not yet come to an end.  The reason for this was immediately revealed.  After ~ 200,000 head requests to their server for more than 5 hours (only 10 per second), their entire site began to work at a snail's pace.  I stopped the brute, but the situation did not improve, another half an hour probably the pages opened for several minutes, then the situation slowly began to improve, but finally it did not get better. <br><br>  I then tried it for the sake of experiment and brute went like this: 10 requests quickly, then a 4-5 second pause, three quickly, and a 4-5 pause, then repeated.  Whether the admin on the server did something, but it is unlikely, it is not clear, if he watched at least the logs, then why didn‚Äôt he immediately ban my aypishnik, stopping the ugliness?  Either ... so again I wondered what it was working on.  They obviously have somewhere there is a memory leak or open connections, something like that. <br><br><h1>  Results </h1>  There was no point to continue brutating further, Mikhail was about to leave, and I quickly threw him what happened: <br> <code>$ grep 302 brut.txt | cut -d ' ' -f2 &gt; brut.sep.txt</code> <br> <br>  I also expressed a desire to write an article on Habr, perhaps for someone else this will be a lesson.  We agreed that he would tell the developers to turn off all the nafig and let me know.  Then I can post it. <br><br>  But I never allowed my main curiosity, and therefore I wanted to walk around the site a little more.  But they are going to sell it: <br><img src="https://habrastorage.org/storage/habraeffect/29/a3/29a3821829116ba87027239f0bc2cc2b.png"><br><br>  Happiness and satisfaction came quickly, completely unexpectedly, at some banal operation (switching from profile to a list of participants) received: <br><img src="https://habrastorage.org/storage/habraeffect/a9/f6/a9f6a76d3ab3b4c69302fb3c699eae62.png"><br>  I did not have time to rejoice, as the next step I received: <br><img src="https://habrastorage.org/storage/habraeffect/96/d7/96d7acbd1de644528e3a4bf8f48516ec.png"><br><br>  You guys are not ohreneli?  This production is already working in real life on real users, what the hell is the traces?  There, as I understand it, you have a team of at least four people (sorry if I am mistaken), but didn‚Äôt it even occur to your designer that a four-character access code is a go-open?  I do not know how you will get out now, perhaps you will put at least a trivial captcha?  It‚Äôs so simple, a few minutes of competent coder time, there are ready-made solutions.  No protection, but at least this post would not exist.  I am not a hacker (in the Russian sense of the word), a simple programmer.  If writing a brute-script required captcha recognition and took longer than a couple of minutes, I would not spend on this nonsense of my time.  Although, I am afraid the general situation is as follows, and if I had a closer look, I would have found a number of through holes. <br><br>  But all this is simply not in any gate intermeddle.  I even collect Gentoo with <a href="http://www.gentoo.org/proj/en/hardened/">Hardened patches</a> for projects, and here it is.  This is the basics!  What, what, innovations, conferences, startups?  And this is not a beta, this is some kind of early alpha, I would even say, this is a prototype. <br><br>  Draw your own conclusions. <br><br>  ps This morning, after the opening of the campaign, all interested parties were informed and warned.  It took several hours.  I was given the go-ahead to post, and it seems that they are not going to turn off this login form at all, they say so, but let it be so. <br><br>  pps From the beginning to the end you are dealing with a piece of art.  The events described in it may have only partial similarities with reality, which is accidental.  And the persons mentioned are fictional heroes, any coincidences with real people are nothing more than an accident.  The narration is conducted on behalf of a third person. <br><br>  <b>UPD:</b> Reaction <a href="http://habrahabr.ru/blogs/infosecurity/106769/">followed</a> .  Well, the answer is decent, nice.  Sorry for the excessive sarcasm and ridicule in the topic, but I hope it will serve as another lesson for the future. <br><br>  <b>UPD2: Fixed the</b> <a href="http://habrahabr.ru/blogs/infosecurity/106769/">problem, access to the site is restored.</a> </div><p>Source: <a href="https://habr.com/ru/post/106769/">https://habr.com/ru/post/106769/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../106755/index.html">Accommodation in St. Petersburg for habracheloveka</a></li>
<li><a href="../106756/index.html">30 kopecks for Mikhalkov</a></li>
<li><a href="../106759/index.html">Payment system in Russian or is it worth to trust your money Z-payment</a></li>
<li><a href="../106762/index.html">Using MEF (Managed Extensibility Framework) for developing Asp.Net WebForms applications</a></li>
<li><a href="../106765/index.html">Apple Developers Community Spb</a></li>
<li><a href="../106770/index.html">Donate simulation in online game</a></li>
<li><a href="../106774/index.html">Work day for 3 hours. Analysis and sorting of information</a></li>
<li><a href="../106776/index.html">Switching hours to winter time: economy, health or ...?</a></li>
<li><a href="../106777/index.html">We invent complex and easy-to-remember passwords.</a></li>
<li><a href="../106778/index.html">Scratch and visual programming Arduino</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>