<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Programming language J. Amateur look. Part 4. Boxes and cycles. Conclusion</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Previous article in the Cycle Programming Language J. Amateur Look. Part 3. Arrays 

 1. Boxes 

 We have already encountered the fact that the noun i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Programming language J. Amateur look. Part 4. Boxes and cycles. Conclusion</h1><div class="post__text post__text-html js-mediator-article">  <i>Previous article in the Cycle <a href="http://habrahabr.ru/post/198228/">Programming Language J. Amateur Look.</a></i>  <i><a href="http://habrahabr.ru/post/198228/">Part 3. Arrays</a></i> <br><br><h2>  1. Boxes </h2><br><br>  We have already encountered the fact that the noun in J is an array.  Even over single constant values, vector operations are allowed.  In aggregate, all this constitutes a convenient vector homogeneous programming environment. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      However, it is obvious that arrays have their limitations.  Due to the fact that in J the default is only rectangular arrays, it is not possible to create so-called standard means.  jagged arrays  In addition, for lists consisting of disparate elements, arrays are also not suitable. <br><a name="habracut"></a><br><br>  To solve these problems, J provides the means to create and use heterogeneous sequences - boxes.  A box is a kind of container that can hold an arbitrary element.  An array of boxes is, respectively, a kind of array of elements of type (void *).  Therefore, for example, the first element of a boxed sequence can be a one-dimensional array, the second is a number, and the third is a matrix of integers. <br><br>  In order to create a box, you must call the monad verb "&lt;" to extract ("open") the elements out of the box - the monad verb "&gt;": <br><br><pre><code class="matlab hljs">]x =. &lt;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> +-----+ |<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>| +-----+</code> </pre> <br><br>  The box itself is drawn in ASCII graphics.  Now we extract the value of the box: <br><br><pre> <code class="matlab hljs"> &gt;x <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre><br><br>  In order to add several elements to the box, the verb ‚Äú;‚Äù is intended, which links the elements into a sequence of boxes: <br><br><pre> <code class="matlab hljs"> <span class="hljs-number"><span class="hljs-number">1</span></span>;<span class="hljs-number"><span class="hljs-number">2</span></span>;<span class="hljs-number"><span class="hljs-number">2</span></span> +-+-+-+ |<span class="hljs-number"><span class="hljs-number">1</span></span>|<span class="hljs-number"><span class="hljs-number">2</span></span>|<span class="hljs-number"><span class="hljs-number">2</span></span>| +-+-+-+ (<span class="hljs-built_in"><span class="hljs-built_in">i</span></span><span class="hljs-number"><span class="hljs-number">.10</span></span>) ; <span class="hljs-number"><span class="hljs-number">42</span></span> ; (<span class="hljs-built_in"><span class="hljs-built_in">i</span></span>. <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>) +-------------------+--+-----+ |<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span>|<span class="hljs-number"><span class="hljs-number">42</span></span>|<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>| | | |<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>| +-------------------+--+-----+</code> </pre><br><br>  To enumerate the elements of such a boxed sequence, we can use parts of speech already known to us.  For example, the adverb "between": <br><br><pre> <code class="matlab hljs"> ;/ <span class="hljs-built_in"><span class="hljs-built_in">i</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span> +-+-+-+ |<span class="hljs-number"><span class="hljs-number">0</span></span>|<span class="hljs-number"><span class="hljs-number">1</span></span>|<span class="hljs-number"><span class="hljs-number">2</span></span>| +-+-+-+</code> </pre><br><br>  Or composition of verbs: <br><br><pre> <code class="matlab hljs"> (#@&gt;)<span class="hljs-string"><span class="hljs-string">"0 (1 2 3; 2; 3 4) NB.     ( = 0)    3 1 2</span></span></code> </pre><br><br>  Next, we use the verb "{" to extract the second element of the box: <br><br><pre> <code class="matlab hljs"> <span class="hljs-number"><span class="hljs-number">1</span></span> { ;/<span class="hljs-built_in"><span class="hljs-built_in">i</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span> +-+ |<span class="hljs-number"><span class="hljs-number">1</span></span>| +-+</code> </pre><br><br>  In this example, you should pay attention to the following point: the index reference returns the boxed element of the array, without automatically unpacking it. <br><br>  From the previous expression, we can conclude that if we want to apply a verb to each element of the box, each time the verb will take an operand wrapped in a noun box.  In order to ‚Äúpull out‚Äù an element from the array at each request, and after the action ‚Äúthrust‚Äù the result back into the box, you can use the ‚Äú&amp;.‚Äù Union already known to us. <br><br>  The conjunction "&amp;." Applies the right verb to the operand, and the left verb is applied to the result.  Then, the verb opposite to the right verb is applied to the result.  Thus, we actually repeated the algorithm described in the paragraph above.  We use this scheme to double each box item. <br><br><pre> <code class="matlab hljs"> (+: &amp;. &gt;) ;/ <span class="hljs-built_in"><span class="hljs-built_in">i</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span> +-+-+-+ |<span class="hljs-number"><span class="hljs-number">0</span></span>|<span class="hljs-number"><span class="hljs-number">2</span></span>|<span class="hljs-number"><span class="hljs-number">4</span></span>| +-+-+-+</code> </pre><br><br>  Due to the fact that the expression &amp;.&gt; Is used quite often, it is by default associated with the symbol each: <br><br><pre> <code class="matlab hljs"> each &amp;.&gt; (+: each) ;/ <span class="hljs-built_in"><span class="hljs-built_in">i</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span> +-+-+-+ |<span class="hljs-number"><span class="hljs-number">0</span></span>|<span class="hljs-number"><span class="hljs-number">2</span></span>|<span class="hljs-number"><span class="hljs-number">4</span></span>| +-+-+-+</code> </pre><br><br>  Note that in the data processing speed of the box, they are significantly (up to 3 orders of magnitude!) Behind the numerical arrays. <br><br><h2>  2. Definition of multi-line verbs </h2><br><br><blockquote>  <em>‚ÄúWhat do you need to create an elegant programming language?‚Äù.</em> <em><br></em>  <em>Iverson: ‚ÄúThe secret is to do what you expect from him.‚Äù</em> <em><br></em>  <em>Fred Brooks, A Celebration of Kenneth Iverson, 2004-11-30</em> </blockquote><br><br>  It is not always possible to represent the verb in a tacit form.  For this, there are special constructions in J, which we will call imperative.  First of all, these are the operations ‚Äú3:‚Äù and ‚Äú4:‚Äù (do not confuse with constant verbs ‚Äú3:‚Äù and ‚Äú4:‚Äù).  The default right operand is called ‚Äúy‚Äù, the left ‚Äúx‚Äù.  For example: <br><br><pre> <code class="matlab hljs"> v1 =: <span class="hljs-number"><span class="hljs-number">3</span></span> : <span class="hljs-string"><span class="hljs-string">'- y'</span></span> NB.  v2 =: <span class="hljs-number"><span class="hljs-number">4</span></span> : <span class="hljs-string"><span class="hljs-string">'x + y'</span></span> NB. </code> </pre><br><br>  If you feel that your imperative definition can be written in tacit form as well, but you don‚Äôt know how, then you can use the remarkable standard verb transformation: <br><br><pre> <code class="matlab hljs"> <span class="hljs-number"><span class="hljs-number">13</span></span> : <span class="hljs-string"><span class="hljs-string">'x + y'</span></span> + <span class="hljs-number"><span class="hljs-number">13</span></span> : <span class="hljs-string"><span class="hljs-string">'x - (y + 1)'</span></span> [ - <span class="hljs-number"><span class="hljs-number">1</span></span> + ]</code> </pre><br><br>  For the construction of multi-line verbs similar constructions are used.  And, as in most functional languages, the last calculated value is returned and therefore no analogue of the return operator is required.  In multiline verbs, you can also use local variables ‚Äî they are defined using the ‚Äú=.‚Äù Operation.  The symbol of the end of the definition of the verb is the symbol ")" <br><br><pre> <code class="matlab hljs"> v =: <span class="hljs-number"><span class="hljs-number">4</span></span> : <span class="hljs-number"><span class="hljs-number">0</span></span> NB.  z =. y + <span class="hljs-number"><span class="hljs-number">1</span></span> NB.  <span class="hljs-string"><span class="hljs-string">"z =: ..."</span></span>     z x - z ) NB.  ,    . <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> v <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre><br><br>  J also has special constructions for checking conditions (.if), cycles (.while) and some others.  For more information, please refer to the documentation. <br><br><h2>  3. Recursion </h2><br><br>  The recursive quick sort function was shown in the introduction.  Let's look at another example.  We write in Python a simple function for determining the length of a sequence as if there is no built-in such function. <br><br><pre> <code class="matlab hljs">def len(xs): <span class="hljs-string"><span class="hljs-string">"""&gt;&gt;&gt; len([1,2,3]) 3"""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> xs == []: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>+len(xs[<span class="hljs-number"><span class="hljs-number">1</span></span>:])</code> </pre><br><br>  In order to write in J a recursive function of calculating the length of a vector, we will have to introduce an additional verb-predicate to determine whether a noun is a sequence with at least one element.  Let's call this predicate isa from the phrase ‚Äúis array‚Äù.  Let's write at the beginning an example of using this verb: <br><br><pre> <code class="matlab hljs"> isa <span class="hljs-number"><span class="hljs-number">1</span></span> NB.  <span class="hljs-number"><span class="hljs-number">0</span></span> isa <span class="hljs-built_in"><span class="hljs-built_in">i</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> NB.  <span class="hljs-number"><span class="hljs-number">0</span></span> isa <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> NB.  <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre><br><br>  We will determine whether the operand is a vector of length more than 1, through the verb of extraction from the element vector at a certain position.  This is the verb "{" <br><br><pre> <code class="matlab hljs"> isa =: ((<span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>&amp;{) :: <span class="hljs-number"><span class="hljs-number">0</span></span>:) : [:</code> </pre><br><br>  Thus, if the expression "1 &amp; {" works correctly, then we assume that the operand is an array with a length greater than 1. Otherwise, we return false (zero).  We also added to the definition a ban on the dyadic call of a verb. <br><br>  In order to simulate a condition check, we use the union @., Which calls the verb out of the box at the position defined by the right operand.  Those. <br><br><pre> <code class="matlab hljs"> <span class="hljs-number"><span class="hljs-number">3</span></span>:`<span class="hljs-number"><span class="hljs-number">4</span></span>: @. <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>:`<span class="hljs-number"><span class="hljs-number">4</span></span>: @. <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>:</code> </pre><br><br>  We need to return length = 1 if the right operand is a vector of length = 1, i.e.  if the predicate isa on this noun returns 0. <br><br><pre> <code class="matlab hljs"> len =: <span class="hljs-number"><span class="hljs-number">1</span></span>:`(.....) @. isa</code> </pre><br><br>  At the place of the ellipsis, we must implement a recursive call to calculate the length for the tail of the transmitted sequence.  We use the fact that the recursive call in J is implemented by the verb "$:".  So  will get <br><br><pre> <code class="matlab hljs"> len =: <span class="hljs-number"><span class="hljs-number">1</span></span>:`(&gt;:@$:@}.) @. isa len <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> len <span class="hljs-number"><span class="hljs-number">17</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre><br><br>  The next step is to rewrite our verb so that the recursive call becomes tail.  To do this, we will store the accumulated value in the left operand, and the verb, therefore, becomes dyadny: <br><br><pre> <code class="matlab hljs"> len2 =: [`((&gt;:@[) $: (}.@])) @. (isa@]) <span class="hljs-number"><span class="hljs-number">1</span></span> len2 <span class="hljs-built_in"><span class="hljs-built_in">i</span></span><span class="hljs-number"><span class="hljs-number">.7</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span></code> </pre><br><br>  Definition of the verb looks quite unappetizing, and in fact it is.  We illustrate the algorithm of the verb len2 with an example in Python: <br><br><pre> <code class="matlab hljs">def len2(acc,xs): <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> xs == []: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> acc <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> len2(acc+<span class="hljs-number"><span class="hljs-number">1</span></span>, xs[<span class="hljs-number"><span class="hljs-number">1</span></span>:])</code> </pre><br><br>  It is interesting to compare the speed of the code written by us.  To do this, we use the verb ‚Äú6!: 2‚Äù, which executes its right operand as many times as it is indicated in the left operand and returns the average operation time of each run in seconds. <br><br><pre> <code class="matlab hljs"> time =: <span class="hljs-number"><span class="hljs-number">6</span></span>!:<span class="hljs-number"><span class="hljs-number">2</span></span> x =: <span class="hljs-built_in"><span class="hljs-built_in">i</span></span><span class="hljs-number"><span class="hljs-number">.1000</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> time <span class="hljs-string"><span class="hljs-string">'len x'</span></span> NB.   <span class="hljs-number"><span class="hljs-number">0.00614873</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> time <span class="hljs-string"><span class="hljs-string">'1 len2 x'</span></span> NB.     <span class="hljs-number"><span class="hljs-number">0.00553225</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> time <span class="hljs-string"><span class="hljs-string">'# x'</span></span> NB.      <span class="hljs-number"><span class="hljs-number">1.67641</span></span>e_6</code> </pre><br><br>  As you can see, in this case, the use of built-in J tools is 3 orders of magnitude faster than our independent implementations.  In addition, J has a limit on the depth of recursion and there is no tail recursion optimization. <br><br>  It should be noted that the use of such recursive expressions is recommended only for training and in case of emergency. <br><br><h2>  4. Namespaces </h2><br><br>  We will not dwell on the use of the object-oriented approach to programming in J.  If we are interested, we say that there is support for OOP in J.  Read more, for example, in "Learning J". <br><br>  Note, however, that J has special constructs for using namespaces that have syntax similar to OOP tools. <br><br>  The beginning of a new namespace should begin with the expression: <br><br><pre> <code class="matlab hljs"> cocurrent <span class="hljs-string"><span class="hljs-string">'name'</span></span></code> </pre><br><br>  Where in quotes you need to write the name of the namespace, which will become current.  The default namespace is ' <code>base</code> '.  Therefore, as soon as the code block in the namespace is complete, you must return to the default scope using the expression: <br><br><pre> <code class="matlab hljs"> cocurrent <span class="hljs-string"><span class="hljs-string">'base'</span></span></code> </pre><br><br>  When referring to encapsulated members of the namespace, you must add the suffix _name_ to each element, where ‚Äúname‚Äù is the name of the namespace.  It is recommended to name the namespace in uppercase.  Let's give a clear example: <br><pre> <code class="matlab hljs"> cocurrent <span class="hljs-string"><span class="hljs-string">'INNER'</span></span> rate =: <span class="hljs-number"><span class="hljs-number">10</span></span> v =: <span class="hljs-number"><span class="hljs-number">3</span></span> : <span class="hljs-string"><span class="hljs-string">'rate + y'</span></span> cocurrent <span class="hljs-string"><span class="hljs-string">'base'</span></span> v_INNER_ <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> rate_INNER_ =: <span class="hljs-number"><span class="hljs-number">1</span></span> v_INNER_ <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre><br><br><h2>  5. Example </h2><br><br>  In the conclusion of the section we give one textbook example - the verb quick sort.  Sorting Hoare by J can be written as follows: <br><br><pre> <code class="matlab hljs"> sel=: <span class="hljs-number"><span class="hljs-number">1</span></span> : <span class="hljs-string"><span class="hljs-string">'x # ['</span></span> quicksort=: <span class="hljs-number"><span class="hljs-number">3</span></span> : <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>. <span class="hljs-number"><span class="hljs-number">1</span></span> &gt;: #y do. y <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>. (quicksort y &lt;sel e),(y =sel e),quicksort y &gt;sel e=.y{~?#y <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>. )</code> </pre><br><br>  Consider the definition line by line: <br><ul><li>  1 line.  We first dwell on the auxiliary sel expression defined on the first line of our example.  First, we note that type expressions <br><br><pre> <code class="matlab hljs"> <span class="hljs-number"><span class="hljs-number">1</span></span> : <span class="hljs-string"><span class="hljs-string">''</span></span></code> </pre><br><br>  indicate that the expression in quotes is an adverb.  Recall that by adverb we mean a special construction that modifies the behavior of the verb, with which this adverb is used.  In this case, sel adverb copies (verb ‚Äú#‚Äù) from the left operand (verb ‚Äú[‚Äù) those elements that are specified in ‚Äúx‚Äù. <br><br></li><li>  2 line.  The very definition of a quick sort verb begins with a 3: 0 expression, which means that this verb has only one argument. </li><li>  3 line.  The next line checks if 1 is greater than or equal to ("&gt;:") the length ("#") of the operand, then the value of this operand is returned, because  no sorting required. </li><li>  4-6 line.  Otherwise, the results (of the verb ‚Äú,‚Äù) of the 3 quicksort recursive calls in the array are combined.  Moreover, the first are those elements that are smaller than the randomly chosen element ‚Äúe‚Äù, then there are elements equal to ‚Äúe‚Äù, then elements that are larger ‚Äúe‚Äù.  At the end of the expression is determined by the value of "e".  Moreover, ‚Äú{‚Äù means the choice of an element at a random (‚Äú?‚Äù) Position in the segment 0 ... length of the operand (‚Äú#y‚Äù). </li><li>  7 line.  Completion of the definition of the verb. </li></ul><br><br>  As we have shown earlier, quick sorting can be written in one line: <br><br><pre> <code class="matlab hljs"> quicksort=: (($:@(&lt;#[) , (=#[) , $:@(&gt;#[)) ({~ ?@#)) ^: (<span class="hljs-number"><span class="hljs-number">1</span></span>&lt;#)</code> </pre><br><br>  Recall that "$:" means a recursive call of a verb, and the expression "@" defines a sequential calculation of verbs. <br><br><h2>  6. Tips </h2><br><blockquote>  <em>Want to know the secret of how to write good articles?</em>  <em>Write 500 articles.</em> <em><br></em>  <em>Roger Hui, "Remembering Ken Iverson", 2004</em> </blockquote><br><ul><li>  Remember that the source code is read much more often than they write.  For J this is especially true. </li><li>  Let's take meaningful verbs.  Do not use names like v1, v2, etc. </li><li>  Be sure to write comments for each verb with an example of a verb call. </li><li>  Be sure to write unit tests. </li><li>  Put spaces and brackets in tacit verbs even where they are optional.  The expressions ‚Äú+ /: + *: ~ 1:‚Äù and ‚Äú+ /: (+ *: ~ 1 :)‚Äù are calculated in the same way, but the latter is easier to read. </li></ul><br><br>  It should be noted here that the code of guru programmers in J often violates all the above recommendations. <br><br><ul><li>  Keep in mind that the verb may not be called the way you intended it: provide for both monadic and dyadic call.  J error messages are not very informative. </li><li>  Make compact definitions of verbs.  Two verbs with a length of 20 characters are easier to read by a person than a single verb with a length of 40 characters. </li><li>  If the verb calculates a ‚Äúbook‚Äù mathematical formula, then write it in tacit form only if it significantly increases the efficiency of calculations.  In other cases, write with explicit indication of the operands. </li><li>  Use cyclic imperative and recursive constructions only when necessary.  Although they sometimes make it easier to read the program, they are very slow.  Use adverbs "/", "\" and the like. </li><li>  Consider defining all files as OOP modules. </li><li>  If possible, do not use global variables. </li><li>  Read the book ‚ÄúJ for C programmers‚Äù.  Pay special attention to the chapters called "Loopless code". </li></ul><br><h2>  7. What to read next </h2><br><blockquote>  <em>Never give more than one explanation to what is happening - the latter will always be correct.</em> <em><br></em>  <em>Kenneth Iverson.</em> </blockquote><br><ul><li>  <a href="http://vector.org.uk/" title="http://vector.org.uk">http://vector.org.uk</a> is a very solid magazine from the British APL Association.  The articles are mainly about the APL language, but there are many articles on the languages ‚Äã‚ÄãJ, Q, K. Everything can be downloaded in electronic form.  Highly recommended. </li><li>  <a href="http://nsl.com/" title="http://nsl.com">http://nsl.com</a> - site name stands for ‚Äúno stinking loops‚Äù.  The site has many examples of varying degrees of complexity.  Mainly in K. There is, for example, the implementation of the lazy subset of the language K on K. itself. </li><li>  <a href="http://www.jsoftware.com/jwiki/Links" title="http://www.jsoftware.com/jwiki/Links">http://www.jsoftware.com/jwiki/Links</a> - a collection of links to useful resources on the language J. </li><li>  <a href="http://jsoftware.com/forums.htm" title="http://jsoftware.com/forums.htm">http://jsoftware.com/forums.htm</a> - a list of J. mailing lists (activity is quite high - for example, in the main section of "Programming" an average of 8-12 messages per day). </li><li>  <a href="http://www.jsoftware.com/jwiki/Essays" title="http://www.jsoftware.com/jwiki/Essays">http://www.jsoftware.com/jwiki/Essays</a> - do not forget about this ‚Äúinexhaustible source of wisdom‚Äù - a collection of articles and examples with comments.  Among the essays can be found, for example, 30-line sudoku solver. </li></ul><br><h2>  Instead of conclusion </h2><br><br><blockquote>  <em>I once told Ken, "You know, Ken, you are my favorite designer of programming languages, and Don Knuth is my favorite programmer."</em>  <em>Ken immediately asked, ‚ÄúWhat's wrong with my programming?‚Äù</em> <em><br></em>  <em>- Joey Tuttle, A Celebration of Kenneth Iverson, 2004-11-30</em> </blockquote><br><br></div><p>Source: <a href="https://habr.com/ru/post/198230/">https://habr.com/ru/post/198230/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../198216/index.html">The digest of interesting materials from the world of web development and IT for the last week No. 79 (October 13 - 19, 2013)</a></li>
<li><a href="../198218/index.html">Following the D-Link Vulnerability: Backdoor Detected in Tenda and Medialink Wireless Routers</a></li>
<li><a href="../198220/index.html">Why do copyright holders have to live on donations?</a></li>
<li><a href="../198224/index.html">ETL process using web services in Integration Services 2012</a></li>
<li><a href="../198228/index.html">Programming language J. Amateur look. Part 3. Arrays</a></li>
<li><a href="../198232/index.html">Apogee: Man Orchestra and Online Game Publisher 1987</a></li>
<li><a href="../198234/index.html">The digest of news from the world of mobile development for the last week ‚Ññ29 (October 14‚Äì20, 2013)</a></li>
<li><a href="../198236/index.html">Facebook CSRF closed vulnerability</a></li>
<li><a href="../198238/index.html">Overview of the new features of C ++ 14: Part 2</a></li>
<li><a href="../198242/index.html">Core Data for iOS. Chapter 4 Theoretical part</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>