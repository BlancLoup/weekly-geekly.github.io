<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Another smart home, in several parts. Decorative lighting</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Usually, the smart home begins (and very often ends too) with the control light bulb. Then there are bluetooth sockets, temperature sensors with WiFi,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Another smart home, in several parts. Decorative lighting</h1><div class="post__text post__text-html js-mediator-article">  Usually, the smart home begins (and very often ends too) with the control light bulb.  Then there are bluetooth sockets, temperature sensors with WiFi, but light bulbs are the very first. <br><br>  Well, I already know how to control ordinary light bulbs, I need to master LEDs. <br><br><img src="https://habrastorage.org/files/581/ac5/117/581ac51173a442449879cc51c343f53a.jpg" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Getting started. <br><a name="habracut"></a><br><h3>  LED Strip Light </h3><br>  With it, everything is very simple, three colors, 12 volts and software PWM.  You can add a fourth channel for white tape, yet RGB LEDs do not give such white light as individual white LEDs. <br><br>  Putting the controller. <br><br>  4 channels with six-bit program PWM, front panel control - one variable resistor sets the chromaticity in the HSV space, the second one - brightness and saturation.  The buttons can turn on effects, or discretely switch the color or brightness of the white channel.  It is possible to connect to the network either by wire (RS485) or wirelessly (WiFi). <br><br><img src="https://habrastorage.org/files/402/6d2/d0f/4026d2d0f70244b7ab4052a5c9336e21.jpg" alt="image"><br><br>  Install into place, add power supply, glue tape <br><br><img src="https://habrastorage.org/files/d40/fcd/93b/d40fcd93b44d4d3ab2d3446c5770ad22.jpg" alt="image"><br><br>  And we get from the usual coffee table - an unusual <br><br><img src="https://habrastorage.org/files/ec3/edb/a35/ec3edba351d54344964bce303ff5a4e0.jpg" alt="image"><br><br>  What can this controller?  Set colors in RGBW or HSV space, 4 presets, 4 timers, sleep and wake timer, 8 effects with speed control. <br><br>  But the tape is a tape, not everywhere it can be applied, therefore it was decided to make controlled lights. <br><br><h3>  LED controlled lights </h3><br>  The simplest option for addressable independent luminaires is a three-wire connection, two wires for power and one for control.  But why pull one extra wire?  There are two solutions for transmitting information over the power wires ‚Äî add a modulated RF (more complex solution) or interrupt the voltage (simpler).  I stopped at the second.  The scheme of the transmitting part: <br><br><img src="https://habrastorage.org/files/994/44b/49a/99444b49aa424a938367648d81aa5e7e.png" alt="image"><br><br>  In the normal mode, the power is supplied to the line through Q2, when transmitting commands, the power lead is shorted to ground by the transistor Q1.  The transmission speed is 2400 baud, the length of the parcel is 8 bytes, the pre-optimus, the address of the luminaire, the command with parameters and the checksum.  Logically it is possible to connect up to 250 devices, but, taking into account the fact that, depending on the type of LEDs, the current consumption can be up to 500 mA per luminaire - then 250 is with a large margin.  Perhaps group control of lamps, for which the address is allocated Broadcast. <br><br>  Diagram of the receiving part (and the whole lamp) <br><br><img src="https://habrastorage.org/files/0c3/846/30f/0c384630f068451f9c06f65d40c627ee.png" alt="image"><br><br>  At the entrance there is a diode bridge, so as not to think about polarity, then a stabilizer and a microcontroller.  The USART input is connected through the R2-R3-R4 divider.  In this embodiment, there is an unpleasant moment - the flickering of the LEDs during transmission, but this can be solved by installing a larger capacity and transferring the power point of the LEDs after D4. <br><br>  The construct can be anything, I will show one of the options - a board in the form of a split ring <br><br><img src="https://habrastorage.org/files/4b6/d4f/a70/4b6d4fa70b184f54b2cbdccd4279881f.jpg" alt="image"><br><br>  What can be done with a similar lamp?  For example, from the usual garden lantern <br><br><img src="https://habrastorage.org/files/471/661/697/47166169765744fcaf859f8afbac92ec.jpg" alt="image"><br><br>  make an unusual <br><br><img src="https://habrastorage.org/files/d41/2b0/cbf/d412b0cbf5fd4686a0642f13bf68bd3e.jpg" alt="image"><br><br>  Or, for example, from ordinary wood <br><br><img src="https://habrastorage.org/files/af4/829/f7d/af4829f7d8aa4499998421a5544c03b7.jpg" alt="image"><br><br>  do the unusual <br><br><img src="https://habrastorage.org/files/176/6b2/a85/1766b2a85fab48eba93010cec9b6533d.jpg" alt="image"><br><br>  And you can from the usual decorative fountain <br><br><img src="https://habrastorage.org/files/d85/f28/d7c/d85f28d7cead4e91b057ce176415aa89.jpg" alt="image"><br><br>  make an unusual <br><br><img src="https://habrastorage.org/files/282/e31/a35/282e31a3564643e79bc118cef91c938f.jpg" alt="image"><br><br>  A web-based control is available, where you can set color and brightness both in HSV space and individually for each channel, save and set presets, effects, sleep and wake-up timers, and so on. <br><br><img src="https://habrastorage.org/files/6ee/f85/8a3/6eef858a3d8d4724b1c4cf092be6f7dc.png" alt="image"><br><br>  Also there is a tab in the application for hours <br><br><img src="https://habrastorage.org/files/a9a/ae0/502/a9aae05025b4418c914394608dbe11aa.png" alt="image"><br><br>  There is a variant of luminaires without a central controller, with a WiFi module, but still it‚Äôs impossible to call them wireless.  Yes, and there are doubts about the performance of WiFi under water. <br><br>  Links to previous parts: <br><ol><li>  <a href="https://geektimes.ru/post/255466/">Another smart home, in three parts.</a>  <a href="https://geektimes.ru/post/255466/">Part one, iron.</a> </li><li>  <a href="https://geektimes.ru/post/255476/">Another smart home, in three parts.</a>  <a href="https://geektimes.ru/post/255476/">Part two, software and server.</a> </li><li>  <a href="https://habrahabr.ru/post/261551/">Another smart home, in three parts.</a>  <a href="https://habrahabr.ru/post/261551/">Part Three, User Interface</a> </li><li>  <a href="https://geektimes.ru/post/266274/">Another smart home.</a>  <a href="https://geektimes.ru/post/266274/">Part Four - connect the intercom</a> </li><li>  <a href="https://geektimes.ru/post/267750/">Another smart home.</a>  <a href="https://geektimes.ru/post/267750/">Part Five - Big Red Button.</a> </li><li>  <a href="https://geektimes.ru/post/279366/">Another smart home, in several parts.</a>  <a href="https://geektimes.ru/post/279366/">Weather station from scrap materials.</a> </li></ol></div><p>Source: <a href="https://habr.com/ru/post/397643/">https://habr.com/ru/post/397643/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../397631/index.html">Dyson Sphere - what is it for? Part III: Using the Dyson Ring and Individual Elements</a></li>
<li><a href="../397633/index.html">Microsoft has united biologists and programmers to fight cancer</a></li>
<li><a href="../397635/index.html">Hi-Fi Bar: Cowon PLENUE S Audio Player</a></li>
<li><a href="../397639/index.html">Emergency Radiation Medicines</a></li>
<li><a href="../397641/index.html">Working with Hall Effect Current Sensors: ACS758</a></li>
<li><a href="../397645/index.html">Geohot announced the "hacker" autopilot for $ 999</a></li>
<li><a href="../397647/index.html">EQ-Radio: a system for determining human emotions using a wireless signal</a></li>
<li><a href="../397649/index.html">Launch of the Chinese space station "Tyangun-2" [text translation completed]</a></li>
<li><a href="../397651/index.html">The cost of the components of the iPhone 7 is estimated at 219 dollars</a></li>
<li><a href="../397653/index.html">Calculations are published for the theory of the origin of the Mordor spot at the north pole of Charon</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>