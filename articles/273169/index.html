<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Pebble: Timeline - Inside View</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="And on the street of the owners of the ‚Äúclassic‚Äù Pebble there was a holiday - the closed (by subscription) beta-testing of the Timeline firmware began...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Pebble: Timeline - Inside View</h1><div class="post__text post__text-html js-mediator-article"><img align="left" src="https://habrastorage.org/files/d9d/d00/d6b/d9dd00d6ba8649e2b531e03d40fade8d.png">  And on the street of the owners of the ‚Äúclassic‚Äù Pebble there was a holiday - the closed (by subscription) beta-testing of the Timeline firmware began (which, by the way, was promised back in August).  I invite you under the cat to find out what the Timeline is, which is initially available to Pebble Time users and will soon delight (or not) all Pebble owners. <br><a name="habracut"></a><br>  Further, very little code and a lot of words from the official documentation <a href="https://habr.com/ru/post/273169/">[1]</a> . <br><br><a name="contents"></a><h2>  Content </h2><br>  <a href="https://habr.com/ru/post/273169/">1. What is Timeline?</a> <br>  <a href="https://habr.com/ru/post/273169/">2. Receive messages</a> <br>  <a href="https://habr.com/ru/post/273169/">3. Sending messages</a> <br>  <a href="https://habr.com/ru/post/273169/">4. How Pin is arranged</a> <br>  <a href="https://habr.com/ru/post/273169/">5. Own timeline for "lazy"</a> <br>  <a href="https://habr.com/ru/post/273169/">6. Limitations of use</a> <br><br><a name="contents1"></a><br><h2>  1. What is Timeline? </h2><br>  Timeline is a new Pebble interface element, available since firmware version 3.0. <br>  It is a time-ordered tape of messages / notifications / reminders.  Past elements from the active list are accessed by pressing the physical button ‚ÄúUp‚Äù, future events under the button ‚ÄúDown‚Äù.  The idea itself is very similar to the well-known push notifications. <br>  Out of the box, local messages and notifications from the calendar and the weather from the Pebble mobile app fall into the tape. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The main element of this interface is the Pin - JSON object, with the information necessary for display. <br><br>  The work of Timeline is tied to a public web API <a href="https://habr.com/ru/post/273169/">[6]</a> . <br><br>  I duplicate the architecture from the documentation: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/197/812/0f3/1978120f3963da47dd747480c228d9a3.png" alt="image"><br><br>  Those.  developer to organize your mailing need: <br><ul><li>  in the logic of your watchapp, to provide a mechanism for users to subscribe to the newsletter; <br></li><li>  set up a backend for sending pins. <br></li></ul><br>  And the user, so that ‚Äúcustom‚Äù messages should come to the clock: <br><ul><li>  install a watchapp on the watch for which the developer has enabled the Timeline interface; <br></li><li>  allow the mobile application for this watchapp to receive pins and notifications. <br></li></ul><br>  Further, in more detail about how the messages are arranged, what is needed for sending and receiving them, which the developer will have to take care of. <br>  <a href="https://habr.com/ru/post/273169/">to content</a> <br><br><a name="contents2"></a><br><h2>  2. Receive messages </h2><br><h3>  2.1.  Recipient identification </h3><br>  Two approaches are used to determine the message recipient: <br><ul><li>  individual mailing - using a token obtained on the basis of a unique bundle of the user / watchapp; <br></li><li>  mass mailing - using the API key associated with watchapp and the mechanism for subscribing to a named mailing list. <br></li></ul><br>  Both that and another becomes by means of the API implemented in Pebblekit JS <a href="https://habr.com/ru/post/273169/">[4]</a> . <br><br><h3>  2.2.  Getting user token </h3><br>  To get the Timeline token you need to use the following function: <br><pre><code class="javascript hljs">Pebble.getTimelineToken( <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">token</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'My timeline token is '</span></span> + token); }, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Error getting timeline token: '</span></span> + error); } );</code> </pre> <br>  This token is necessary to ‚Äúknow‚Äù the backend for address marshutization of messages. <br><br><h3>  2.3.  Subscribe to a topic </h3><br>  If the planned mailing provides for the possibility of grouping messages, then it is logical to implement a subscription management mechanism in watchapp. <br><br>  In a simple version, a subscription to a specific topic, in this case ‚ÄúaTopic‚Äù will look like: <br><pre> <code class="javascript hljs">Pebble.timelineSubscribe(<span class="hljs-string"><span class="hljs-string">'aTopic'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Subscribed to aTopic'</span></span>); }, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">errorString</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Error subscribing to topic: '</span></span> + errorString); } );</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Other operations with subscriptions</b> <div class="spoiler_text">  Unsubscribe from ‚ÄúaTopic‚Äù topic: <br><pre> <code class="javascript hljs">Pebble.timelineUnsubscribe(<span class="hljs-string"><span class="hljs-string">'aTopic'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Unsubscribed from aTopic'</span></span>); }, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">errorString</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Error unsubscribing from topic: '</span></span> + errorString); } );</code> </pre><br><br>  Get a list of current subscriptions: <br><pre> <code class="javascript hljs">Pebble.timelineSubscriptions( <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">topics</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Subscribed to '</span></span> + topics.join(<span class="hljs-string"><span class="hljs-string">', '</span></span>)); }, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">errorString</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Error getting subscriptions: '</span></span> + errorString); } );</code> </pre><br></div></div><br>  <a href="https://habr.com/ru/post/273169/">to content</a> <br><br><a name="contents3"></a><br><h2>  3. Sending messages </h2><br>  How does the backend, which will send messages?  And here is a very good news, this part in no way relates to the Pebble infrastructure and can be implemented completely arbitrarily, in any programming language and on any convenient platform. <br><br>  The main thing is to be able to HTTPS requests to the Pebble timeline web API <a href="https://habr.com/ru/post/273169/">[6]</a> .  In the official documentation, examples for exceptional clarity are generally made by curl. <br><br>  In general, a request to the API looks like: <br><pre> <code class="bash hljs">$ curl -X PUT https://timeline-api.getpebble.com/v1/user/pins/unique-pin-id \ --header <span class="hljs-string"><span class="hljs-string">"Content-Type: application/json"</span></span> \ --header <span class="hljs-string"><span class="hljs-string">"X-User-Token: a70b23d3820e9ee640aeb590fdf03a56"</span></span> \ -d @pin.json</code> </pre><br><br><h3>  3.1.  Individual mailing </h3><br>  URI: <br><pre> <code class="bash hljs">https://timeline-api.getpebble.com/v1/user/pins/</code> </pre><br><br>  Pin creation: <br><pre> <code class="bash hljs">$ curl -X PUT https://timeline-api.getpebble.com/v1/user/pins/unique-pin-id \ --header <span class="hljs-string"><span class="hljs-string">"Content-Type: application/json"</span></span> \ --header <span class="hljs-string"><span class="hljs-string">"X-User-Token: a70b23d3820e9ee640aeb590fdf03a56"</span></span> \ -d @pin.json</code> </pre><br><br>  Here <br>  <b>unique-pin-id</b> - unique text (64-character) message identifier; <br>  <b>X-User-Token</b> is the same user token for which the message will be addressed, it must be generated in the watchapp and received either automatically or force the user to transfer to the backend; <br>  <b>pin.json</b> - a text file with a JSON description of the message. <br><br>  Pin removal: <br><pre> <code class="bash hljs">$ curl -X DELETE https://timeline-api.getpebble.com/v1/user/pins/unique-pin-id \ --header <span class="hljs-string"><span class="hljs-string">"Content-Type: application/json"</span></span> \ --header <span class="hljs-string"><span class="hljs-string">"X-User-Token: a70b23d3820e9ee640aeb590fdf03a56"</span></span></code> </pre><br><br>  Sending a request to create a pin with the same id does not duplicate, but replaces the message on the clock. <br><br><h3>  3.2.  Mass mailing </h3><br>  URI: <br><pre> <code class="bash hljs">https://timeline-api.getpebble.com/v1/shared/pins/</code> </pre><br><br>  Pin creation: <br><pre> <code class="bash hljs">$ curl -X PUT https://timeline-api.getpebble.com/v1/shared/pins/unique-pin-id \ --header <span class="hljs-string"><span class="hljs-string">"Content-Type: application/json"</span></span> \ --header <span class="hljs-string"><span class="hljs-string">"X-API-Key: fbbd2e4c5a8e1dbef2b00b97bf83bdc9"</span></span> \ --header <span class="hljs-string"><span class="hljs-string">"X-Pin-Topics: all,aTopic,bTopic"</span></span> \ -d @pin.json</code> </pre><br><br>  Here <br>  <b>The X-API-Key</b> is the watchapp's key by which recipients are defined, created when the developer adds the application on dev-portal and permits for the Timeline application (NB Application publishing is not necessary, the main thing is that the watchapp is added with a unique UUID); <br>  <b>X-Pin-Topics</b> - a list of topics whose subscribers will receive a message. <br><br>  Pin removal: <br><pre> <code class="bash hljs">$ curl -X DELETE https://timeline-api.getpebble.com/v1/shared/pins/unique-pin-id \ --header <span class="hljs-string"><span class="hljs-string">"Content-Type: application/json"</span></span> \ --header <span class="hljs-string"><span class="hljs-string">"X-API-Key: fbbd2e4c5a8e1dbef2b00b97bf83bdc9"</span></span></code> </pre><br><br><h3>  3.3.  Server responses </h3><br>  As befits any decent web API, all our requests are answered in response. <br>  If everything is fine, then we get code 200 with the contents of ‚ÄúOK‚Äù. <br>  If something is wrong, then the response code will be from the list 400, 403, 410, 429, 503, and in the body of the answer there will be a decryption of the error. <br>  Separately, you should pay attention to the headers, which the server returns, in the <b>x-ratelimit-percent</b> parameter there will be a percentage of using the message limit, and in <b>retry-after</b> after how many (in seconds) you can start repeating requests to the server when the limit is exceeded. <br>  <a href="https://habr.com/ru/post/273169/">to content</a> <br><br><a name="contents4"></a><br><h2>  4. How Pin is arranged </h2><br>  We have reached the moment when we know how to send and how to receive, and we need to figure out what to send.  For detailed study there is nothing better than official documentation <a href="https://habr.com/ru/post/273169/">[3]</a> . <br><br>  I will tell briefly what pin'y consist of. <br><br>  An example of a minimum pin: <br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"unique-pin-id-1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"time"</span></span>: <span class="hljs-string"><span class="hljs-string">"2015-12-15T18:00:00Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"layout"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"genericPin"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Just pin"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"tinyIcon"</span></span>: <span class="hljs-string"><span class="hljs-string">"system://images/NOTIFICATION_FLAG"</span></span> } }</code> </pre><br><br>  And so, each pin must have: <br>  <b>id</b> - identifier defined by the "mailer"; <br>  <b>time</b> - pin'a presentation time in ISO 8601; <br>  <b>layout</b> is an object that describes pin mapping. <br><br>  Learn more about the <b>layout</b> object: <br>  <b>type</b> - type, 4 types are provided - generic, calendar, sports, weather, as is clear from the names, generic - general purpose, and the rest have a set of additional parameters for customization (for example, displaying a sports match account for sports); <br>  <b>tinyIcon</b> - URI to display a predefined icon in the message. <br><br>  You can also add the following objects to the pin: <br>  <b>createNotification</b> and <b>updateNotification</b> - for notification by an alert before creating a pin in the timeline; <br>  <b>reminders</b> - to notify in advance about the event in timeline; <br>  <b>actions</b> - for interactivity, you can customize actions depending on the user's choice. <br>  <a href="https://habr.com/ru/post/273169/">to content</a> <br><br><a name="contents5"></a><br><h2>  5. Own timeline for "lazy" </h2><br>  Here I called ‚Äúlazy‚Äù those who can do anything except programming under Pebble and at the same time want their newsletter to the Timeline. <br>  Is it possible?  And easy ... <br><br>  We believe that the backend is already there, configured and regularly trying to send something through the web API.  It remains to learn only to listen to him. <br><br>  How-to in 4 steps: <br><br>  Step 1. We write a small application on Cloudpebble <br><br>  Create a new project with the type of ‚ÄúPebble.js (beta)‚Äù <br><br>  In app.js, we change the code to your own: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> UI = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'ui'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> myToken; Pebble.getTimelineToken( <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">token</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'My timeline token is '</span></span> + token); myToken = token; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tokenDisplay = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> UI.Card({ <span class="hljs-attr"><span class="hljs-attr">subtitle</span></span>: <span class="hljs-string"><span class="hljs-string">'Timeline Token'</span></span>, <span class="hljs-attr"><span class="hljs-attr">body</span></span>: myToken }); tokenDisplay.show(); }, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Error getting timeline token: '</span></span> + error); } );</code> </pre><br>  Compile the application and go to the second step. <br><br>  Step 2. Add the application to the Developer portal <br><br>  By the button ‚ÄúGET PBW‚Äù we save our small application from Cloudpebble. <br>  Go to the developer portal and add the application "Add a Watchapp": think up the name and click "Create". <br>  Through "Add a release" add previously downloaded pbw. <br>  Allow the timeline "Enable timeline". <br>  In ‚ÄúManage timeine settings‚Äù we find our API Key and proceed to step 3. <br><br>  Step 3. Get user token <br><br>  Go back to Cloudpebble. <br>  Run the application in the emulator and voila - on the emulator screen and in the application logs Timeline user-token is the most!  Add it to the backend. <br><br>  Step 4. Put the application on the clock <br><br>  Without leaving Cloudpebble, install the watchapp on your watch and, remember, it is completely unnecessary to run it, well, if you just remind yourself of the user-token. <br><br>  Profit. <br>  <a href="https://habr.com/ru/post/273169/">to content</a> <br><br><a name="contents6"></a><br><h2>  6. Limitations of use </h2><br><br>  When sending by API key - 5000 requests per minute for one key. <br>  When sending by user token - 300 requests for 15 minutes per one token. <br><br>  Also, the developers estimate the delivery time of a message up to the user's hours to 15 minutes, so they do not recommend using the Timeline for realtime messages, although the actual delivery time is still significantly less - a few seconds. <br><br>  All good news in Timeline! <br>  <a href="https://habr.com/ru/post/273169/">to content</a> <br><br><a name="Anchor1"></a>  <a href="https://developer.getpebble.com/guides/timeline/">1. Pebble Timeline Integration // Pebble Developers</a> <br><a name="Anchor2"></a>  <a href="https://developer.getpebble.com/guides/timeline/timeline-architecture/">2. Timeline Architecture // Pebble Developers</a> <br><a name="Anchor3"></a>  <a href="https://developer.getpebble.com/guides/timeline/pin-structure/">3. Understanding Timeline Pins // Pebble Developers</a> <br><a name="Anchor4"></a>  <a href="https://developer.getpebble.com/guides/timeline/timeline-js/">4. Subscribing to the Timeline // Pebble Developers</a> <br><a name="Anchor5"></a>  <a href="https://developer.getpebble.com/guides/timeline/timeline-enabling/">5. Enabling the Timeline // Pebble Developers</a> <br><a name="Anchor6"></a>  <a href="https://developer.getpebble.com/guides/timeline/timeline-public/">6. Pushing Data to the Timeline // Pebble Developers</a> <br><a name="Anchor7"></a>  <a href="https://developer.getpebble.com/guides/timeline/timeline-libraries/">7. Libraries for Pebble Timeline // Pebble Developers</a> </div><p>Source: <a href="https://habr.com/ru/post/273169/">https://habr.com/ru/post/273169/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../273159/index.html">Non-local image smoothing algorithm</a></li>
<li><a href="../273161/index.html">Xamarin and Xamarin.Forms - cactus in chocolate. Part 2</a></li>
<li><a href="../273163/index.html">Conference for developers Top & Featured in Moscow on December 17</a></li>
<li><a href="../273165/index.html">Winter internship for developers at Redmadrobot</a></li>
<li><a href="../273167/index.html">How do postgreSQL security_barrier views work</a></li>
<li><a href="../273171/index.html">Results of 2015: web development</a></li>
<li><a href="../273173/index.html">Server "second-hand" as an anti-crisis solution</a></li>
<li><a href="../273175/index.html">Usability of trading terminals: UX-trends of mobile and desktop applications for trading on the stock exchange</a></li>
<li><a href="../273177/index.html">How to work with timestamps in PostgreSQL?</a></li>
<li><a href="../273179/index.html">Atlassian Plugins: Diving into Active Objects and Plugin Settings</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>