<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Why you should never say "never"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This publication of my little bit more than fully responds to the translation of the article ‚ÄúWhy You Should Never Use MongoDB . ‚Äù The article, which,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Why you should never say "never"</h1><div class="post__text post__text-html js-mediator-article">  This publication of my little bit more than fully responds to the translation of the article <a href="http://habrahabr.ru/post/231213/">‚ÄúWhy You Should Never Use MongoDB</a> . <a href="http://habrahabr.ru/post/231213/">‚Äù</a>  The article, which, in fact, recommends staying away from MongoDB, is the most unsubscribed in the hub.  And that sounds like a sentence.  Therefore, it is logical to either close the hub and never read it again, or write an even more rating refutation.  Of course, I chose the second option, risking my rating and karma (due to extreme holivarity in the comments). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/261/a18/f3c/261a18f3c5e0aaae7f2511b352806b50.jpg" alt="image"><blockquote>  Self-irony picture </blockquote><br><a name="habracut"></a><br><h4>  Database selection </h4><br>  Referring to authoritative sources "some claim" and "others say", the author justifies his choice of database.  Maybe I want too much, but it would be great to wrap up these ‚Äúsources‚Äù with links to official recommendations from the developers of the mentioned databases. <br><br><blockquote>  But what are the alternatives?  Some argue that graph databases are best suited, but I will not consider them, since they are too niche for mass projects.  Others say that documentary data is ideal for social data, and they are fairly mainstream for real use.  Let's take a look at why people think that MongoDB is much better suited for social data than PostgreSQL. </blockquote>  The statement that <b>graph databases are</b> <i>too niche (???)</i> for <i>mass projects (???)</i> working with <b>social graphs</b> is very difficult to justify even with the most authoritative source.  From my own experience, I can say that graph bases, despite their name, work fine with graphs (including social graphs).  Of course, you should not take graph databases as the main data repository.  For these purposes, such tools as MySQL, MongoDB, Postgres, etc. remain indispensable.  Similarly, when we need, for example, full-text search, we use Sphinx in conjunction with the main data repository, rather than making a painful choice between it, Redis and MariaDB. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Data modeling </h4><br>  To learn how to properly model data in MongoDB, you can read in the <a href="http://docs.mongodb.org/master/MongoDB-data-models-guide.pdf">official manual</a> .  Usually, it is desirable to do this before you subscribe to the project and authoritatively propose architectural solutions and tools for their implementation.  Yes, even if there are 40 pages in the document - you still need to read.  Otherwise, you can easily overwhelm a project with an inept choice or inept use of good tools.  And to write large articles with funny pictures that the compote is awkward with a fork. <br><br><blockquote>  We could also model this data as a set of nested objects (a set of key-value pairs).  A lot of information about a particular series is one big structure of nested key-value sets.  Inside the series, there are many seasons, each of which is also an object (a set of key-value pairs).  Within each season, an array of episodes, each of which represents an object, and so on.  So in MongoDB model the data.  Each series is a document that contains all the information about one series. <br><br>  The show has a name and an array of seasons.  Each season - an object with metadata and an array of episodes.  In turn, each episode has metadata and arrays of reviews and actors. </blockquote>  If Sarah had read the data modeling guide in MongoDB, then she would know that in this database one can work with more than one data model.  But actually, I have one very simple question: did the author ever hold a calculator in her hands?  About Google and Wikipedia will not even ask.  What is it for me?  Let's google the longest series.  This masterpiece, entitled <a href="https://ru.wikipedia.org/wiki/%25D0%259D%25D0%25B0%25D0%25BF%25D1%2580%25D0%25B0%25D0%25B2%25D0%25BB%25D1%258F%25D1%258E%25D1%2589%25D0%25B8%25D0%25B9_%25D1%2581%25D0%25B2%25D0%25B5%25D1%2582">Guiding Light</a> , contains <b>18.262 series of</b> diversity and philosophy.  In its background, <a href="https://ru.wikipedia.org/wiki/%25D0%25A1%25D0%25B0%25D0%25BD%25D1%2582%25D0%25B0-%25D0%2591%25D0%25B0%25D1%2580%25D0%25B1%25D0%25B0%25D1%2580%25D0%25B0_(%25D1%2582%25D0%25B5%25D0%25BB%25D0%25B5%25D1%2581%25D0%25B5%25D1%2580%25D0%25B8%25D0%25B0%25D0%25BB)">Santa Barbara,</a> with its 2.137 series, is a white dwarf in the starry sky of cinema.  But this is all the lyrics.  Now I‚Äôm getting bored again, and I assert that before you make a database choice authoritatively, you must not only become familiar with the recommended data storage models, but also with the <a href="http://docs.mongodb.org/manual/reference/limits/">limitations of</a> this database.  One of these limitations is the maximum document size, which cannot exceed <b>16 MB</b> .  And now we take in hand a calculator, hold the power and make a magic calculation, which I read in the book of spells DBA Architect: <br><br><pre><code class="php">16  / 18.262  = 876 //   
</code></pre><br>
       .         ,     !            ,  (!!!)     . , ,       ?  ,     ,      . <br>
<habracut text="    "><br>
C  ,    -  .<br>
<blockquote> ,          Diaspora,        .          ,               . </blockquote>      ,              .        ,     .   ¬´best practice¬ª   Diaspora,    <a href="http://www.ibtimes.com/diaspora-co-founder-ilya-zhitomirskiy-dead-how-did-he-die-why-370168"></a>  ,       .     ,       <a href="http://docs.mongodb.org/manual/reference/database-references/"> </a>?          ,    , .                 .      Skype     ,         ,       .  !       ,   ?<br>
<br>
   ,          .      ,         ,  <a href="http://habrahabr.ru/post/139643/">Aggregation Framework</a>. , ,       ,    ,       <i>Sisi</i>:<br>
<br>
<pre><code class="javascript">db.actors.aggregate( [
   { $match : { name: "Sisi" } }
   { $group : { _id : "$movieId", count: { $sum : 1 } } },
   { $group : { _id : null, avgMovieCount : { $avg : "$count" } } }
] )</code></pre><br>
     ,     .                <a href="https://spring.io/blog/2013/12/04/what-s-new-in-spring-data-mongodb-1-4-m1"></a> <a href="http://www.yiiframework.com/doc-2.0/yii-mongodb-activerecord.html">MongoDB ORM</a>  <a href="https://github.com/learnboost/mongoose">ODM</a>.      ,         (lazy loading).        ,      ,     <a href="http://docs.mongodb.org/manual/tutorial/map-reduce-examples/">MapReduce</a>.     ,          .<br>
<blockquote>         MongoDB.        ,       .               .           ,     . </blockquote>   Web 3.0,         ,                .    ,        ,    .        .<br>
<blockquote>.     ?<br>
<br>
.      ,      :   .         ,    .     ,   , ,   .</blockquote>  ,      .   ,  <a href="https://www.mongodb.com/presentations/socialite-open-source-status-feed-part-3-scaling-data-feed">  </a>,   ,        ,       .   ,       ‚Äî    ,       .         <a href="http://habrahabr.ru/post/242593/"></a>.<br>
<br>
<h4> </h4><br>
  ,                   MongoDB.<br>
<br>
   <a href="http://habrahabr.ru/users/cleg/" class="user_link">cleg</a>:<br>
<blockquote>    ¬´ ¬ª        : <br>
‚Äî        <br>
‚Äî        <br>
‚Äî     <br>
<br>
   ,  -    ‚Äî    </blockquote>  ?  ?    ,      ?     ?     ,     ,     ¬´¬ª.    <a href="http://www.technorms.com/21444/recover-deleted-facebook-message"></a>  <a href="http://mashable.com/2011/10/21/facebook-deleted-data-fine/"></a> <a href="http://habrahabr.ru/post/125279/"></a> <a href="http://geektimes.ru/post/115540/"></a>.  ,   ,      ,        ,     .     -   ,      .   ,              .      , -,  ,  - ,     MySQL,   ,    ,     <a href="https://bugs.mysql.com/bug.php%3Fid%3D63537"> </a> <a href="http://bugs.mysql.com/bug.php%3Fid%3D71691"></a>,   .<br>
<br>
   <a href="http://habrahabr.ru/users/gandjustas/" class="user_link">gandjustas</a>:<br>
<blockquote>  .       (),         .      ‚Äî  ,      .     ‚Äî      . <br>
<br>
   ?   .</blockquote>  .                .      schemaless,  ,  .     ‚Äî   . ,       ‚Äî            ,   .       . ,           ,   ‚Äî      100 ? MongoDB       ,         .   ,   schemaless. MongoDB           . .<br>
<br>
<h4></h4><br>
     ,        ,     .    <b></b>  <b></b> .          best practice.     .      .</habracut></div><p>Source: <a href="https://habr.com/ru/post/243431/">https://habr.com/ru/post/243431/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../243421/index.html">Print from Google Apps Script</a></li>
<li><a href="../243423/index.html">New IBM Global Entrepreneurship Program Accelerates Cloud Development</a></li>
<li><a href="../243425/index.html">Compact RSA implementation for embedded applications</a></li>
<li><a href="../243427/index.html">[TRANSFER] JSON Web Token-based authentication in Django and AngularJS: part one</a></li>
<li><a href="../243429/index.html">Autostarting Node.js application on CentOS 6.2</a></li>
<li><a href="../243433/index.html">How we tested the dependence of LTE speed on S1 parameters</a></li>
<li><a href="../243437/index.html">C ++ code refactoring in Visual Studio 2015</a></li>
<li><a href="../243439/index.html">Document life cycle in professional help system. A little fabulous post about how a pile of paper turns into a system</a></li>
<li><a href="../243441/index.html">Kiev Speakers' Corner with Moti Granovsky: "Intelligence to the masses: BI today & in the future", November 26</a></li>
<li><a href="../243447/index.html">Increasing network device performance: fast path technology in Marvell Kirkwood processors</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>