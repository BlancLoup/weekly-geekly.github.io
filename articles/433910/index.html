<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Thoughts on Rust 2019</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Colleagues, good evening everyone! 

 We are pleased to offer you a translation of a truly programmatic article from Raf Levin , whose titanic work on...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Thoughts on Rust 2019</h1><div class="post__text post__text-html js-mediator-article"> Colleagues, good evening everyone! <br><br>  We are pleased to offer you a translation of a truly programmatic article from <a href="https://github.com/raphlinus">Raf Levin</a> , whose titanic work on the development of the Rust language evokes respect and reverence: <br><br><img src="https://habrastorage.org/webt/je/yt/3m/jeyt3m5cfmarrq_odmzjjdpxsmm.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Without false modesty and without hatefulness, the author substantively and enthusiastically responded to the call of the Rust community, published by reference at the beginning of this article.  Hopefully, it turned out interesting and life-affirming. <br><a name="habracut"></a><br><br>  Recently, the Rust Core Team <a href="https://blog.rust-lang.org/2018/12/06/call-for-rust-2019-roadmap-blogposts.html">offered to write articles</a> with opinions on how Rust should evolve in 2019.  Here is my opinion. <br><br>  <b>Maturation life cycle</b> <br><br>  In this article I will look at the life cycle of ripening in a very simplified form.  Let it consist of only three stages: research, development, polishing.  Different elements of Rust differ in different degrees of maturity.  It is important to take this into account when trying to accurately characterize the current stage of language development, and ideally bring it to the next stage.  For example, it seems to me that the language is basically in the ‚Äúgrinding‚Äù stage.  If you persist in the fact that the ‚Äúresearch‚Äù stage has not yet been completed, then the language can be enriched with dependent types, <a href="http://smallcultfollowing.com/babysteps/blog/2015/10/08/virtual-structs-part-4-extended-enums-and-thin-traits/">virtual structures</a> , etc., which would be interesting, but counterproductive.  The reverse is also true: we cannot precisely formulate what we lack in the graphical user interface, therefore, premature attempts to bring these searches to a standard solution are likely to result in non-optimal results. <br><br>  Many mature products are interspersed with releases, some of which are devoted to running in new features, and others - their stabilization.  Such, for example, is Intel's tick-tock system.  Versions of Android Kit Kat and Marshmallow were stable, and at the same time Lollipop was actively shoveling).  In 2018, Rust was enriched with many new features, so I believe that the time has come for the stabilization phase.  In this I agree with <a href="https://www.jonathanturner.org/2018/12/the-fallow-year.html">Jonathan Turner</a> , as well as with many others. <br><br>  <b>Rust language</b> <br><br>  I think that, by and large, the Rust language is ready.  It seems that the community has reached agreement on the need to "land" those features that are still "on the fly" (under development): talking about async / await, const generics, and the interpreter (which will probably provide us with <a href="https://github.com/rust-lang/rust/issues/44265">generalized associated types</a> ).  However, I think that beyond this we should not be overly zealous with filling the pipeline with new features. <br><br>  Changes cost money.  As of 2018, Rust has written two excellent books, but both are already slightly out of date.  The conventions for the qualified paths are different in them, now we use <code>dyn Trait</code> , etc.  The more dynamic the changes, the greater the inconvenience for users. <br><br>  There are many factors that limit the success of Rust;  I do not think that most of these shortcomings are inherent in the language itself. <br><br>  <b>Rigging</b> <br><br>  Rust gear could be much better.  I experimented with RLS, but I always returned to the usual text editor and command line cycle (to be honest, I haven‚Äôt done such experiments lately).  I think in the long run, it is required to significantly refine the Rust toolkit in order to at least ease the learning curve.  I have some ideas (I hope there will be time to explain them in more detail) about a more greenhouse language, the realizability of which I am not sure about, where there would be no clear distinction between meaning and reference to it, meaning could be used after the move, etc. .  In principle, such a language would allow the string to be treated as a number.  The server accepts programs written in this language, quickly corrects them and converts them into a full-featured Rust. <br><br>  Naturally, RLS only half corresponds to this, users interact with it through the editor.  Working with <a href="https://xi-editor.io/">xi-editor is</a> convenient, although it usually takes some guidance and support.  This work was undertaken by a community led by <a href="https://github.com/cmyr">Colin Roflz</a> , and I was just happy to see how this editor is improving (he has already become my main).  It provides support for the language server, as well as new features, such as the general annotation mechanism, will be significantly improved in 2019. <br><br>  <b>Library ecosystem</b> <br><br>  The hottest job is now in full swing in creating libraries for Rust.  Below I will list the things that I plan to do myself. <br><br>  One of the topics I would like to raise is ‚Äúcoherence‚Äù, which, in my opinion, is one of the most valuable features of Rust, along with the <a href="http://aturon.github.io/2017/02/06/specialization-and-coherence/">technical component of its type system</a> .  Many of the components of the ‚Äúgame engine‚Äù within C ++ are a carefully prepared collection of libraries that interact well with each other.  But in Rust, many such things happen organically.  Containers are really usually sharpened for use in bundles, and if you correctly use such things as <code>into</code> , then everything is all the more adjusted.  A particularly convincing example of the second kind is <a href="https://github.com/kvark/mint">mint</a> , which ensures the interoperability of many mathematical containers, even though they do not match the conventions used to define vector types, etc. <br><br>  <b>SIMD</b> <br><br>  I think SIMD libraries are still at the research stage.  There are a number of <a href="https://github.com/jackmott/simdeez">wrapper</a> libraries, each of which offers a slightly different perspective and a different series of compromises: <a href="https://github.com/jackmott/simdeez">simdeez</a> , <a href="https://github.com/rust-lang-nursery/packed_simd">packed_simd</a> , <a href="https://github.com/AdamNiederer/faster">faster</a> and, of course, my own <a href="https://raphlinus.github.io/rust/simd/2018/10/19/fearless-simd.html">fearless_simd</a> .  These trade-offs are far from unconditional, because some users will need to squeeze out all the performance from the language to the last drop, and if you suffer from such extremes, you will have to resort to the best instructions for specific processors.  Others will appreciate portability and security. <br><br>  One of the most important aspects of SIMD is that much more work has to be done in the compiler, largely for the sake of interoperability with the AVX-512 and non-x86 SIMD architectures.  It is also possible that wrapper libraries require some changes at the language level in order to work as comfortably as possible;  so, at the moment, embedding and <code>cfg(target_feature = ...)</code> interact badly.  In my opinion, this is another question that requires research.  It is interesting to understand how far we can go without additional support at the language level, and what opportunities will help to fundamentally improve the usability of working with it? <br><br>  <b>Audio</b> <br><br>  There are convenient low-level audio containers, among which <a href="https://github.com/tomaka/cpal">cpal</a> should be especially noted.  However, with it there may be difficulties at the level of performance (the container does not always use the real-time stream), some possibilities.  It is necessary to find the best way: either to refine cpal, or to develop a new container, which would allow to correct specific problems.  For this, in particular, you need to carefully look at the C ++ libraries, for example, <a href="https://www.music.mcgill.ca/~gary/rtaudio/">RtAudio</a> , which solves these problems well. <br><br>  For higher level audio synthesis, I have big plans for <a href="https://synthesize.rs/">synthesize-rs</a> .  This option is not suitable for everyone, but I think this is a good basis for a variety of synthesis techniques and audio effects.  It seems that today this area of ‚Äã‚Äãwork is somewhere between the stages of research and development. <br><br>  To follow this work, check out <a href="https://xi.zulipchat.com/login/">the #synthesizer stream</a> in our Zulip chat.  In November, I gave a lecture on this, on the basis of which I soon plan to write a post. <br><br>  <b>GUI</b> <br><br>  Currently, graphical user interfaces are one of the weakest points of Rust.  I think in 2019 we will see in the Rust community a lot of articles on this topic. <br>  Personally, it seems to me that Rastov GUIs should now be attributed to the ‚Äúresearch‚Äù phase.  Many alternative approaches are being worked out, and so far there is no consensus about which one is the best.  How active should 2D-graphics and other user interface primitives be used in the system architecture, or should we implement this entire stack ourselves?  Is it necessary to deploy to the web (using wasm)?  Should the whole programming process be perceived as ‚ÄúRust-native‚Äù, or should it be better adapted to conventions established in some mature GUI?  Does the Rust community have enough resources to create a new GUI toolkit, and if so, is it worth it? <br><br>  I started the <a href="https://github.com/xi-editor/druid">Druid</a> project to make a GUI for my synthesizer and game, but this project is an exploratory one.  It presents my point of view, my answers to all the questions formulated above, and, in my opinion, this project is developing well.  But, again, this is a research project, and it would be very foolish at this stage to implement it in other projects. <br><br>  In addition, a number of other GUI development projects are underway.  In my opinion, the most promising of these is <a href="https://github.com/maps4print/azul">Azul</a> , since I like WebRender as the basis for building a GUI.  Another very promising project is <a href="https://github.com/redox-os/orbtk">OrbTK</a> , made on the basis of Redox, but cross-platform and really advanced.  Much can be learned from the examples of <a href="https://github.com/PistonDevelopers/conrod">Conrod</a> , <a href="https://github.com/ggez/ggez">ggez</a> , as well as the wrappers of tools from other languages. <br><br>  Not surprisingly, the most vigorous GUI development work in Rust is closely related to games, and it seems to me that this is good.  Innovation is better acclimatized in the gaming segment, and the need for mature tools is not so urgent here.  But, as soon as an excellent approach to the implementation of the GUI in Rust appears, I think it will find the widest application.  Also note that my Druid originated on the basis of the GUI-level from the <a href="https://github.com/xi-editor/xi-win">xi client editor for Windows</a> . <br><br>  <b>Markup</b> <br><br>  The <a href="https://github.com/raphlinus/pulldown-cmark">pulldown-cmark library is</a> used quite well, in particular, for rustdoc, but in some respects it is a bit tired.  Its evolution does not keep pace with the development of the CommonMark specification.  One of the reasons why it is a little stuck is related to the parsing algorithm;  I already have an idea how to write a new algorithm for this purpose, much better than before;  but I have not worked out the details yet.  Recently, I <a href="https://github.com/raphlinus/pulldown-cmark/issues/154">returned to this work</a> again and am preparing to release an algorithm.  When the <code>new_algo</code> branch <code>new_algo</code> added to the master, I think the community should take up its further development, enrich it with new features.  I‚Äôm thinking about full GFM compatibility, math and maybe something else like that. <br><br>  Thanks to everyone in the Rust community for finalizing the language that I enjoy living with. </div><p>Source: <a href="https://habr.com/ru/post/433910/">https://habr.com/ru/post/433910/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../433900/index.html">ICQ is dead. Long live ICQ?</a></li>
<li><a href="../433902/index.html">Repetition for the programmer: why it is important to solve similar problems</a></li>
<li><a href="../433904/index.html">Jira DataCenter - what is it? How does it work? How to deploy?</a></li>
<li><a href="../433906/index.html">Problems using NtQuerySystemInformation with undocumented arguments</a></li>
<li><a href="../433908/index.html">Tetris on C # in 100 lines</a></li>
<li><a href="../433912/index.html">Want to attract the best engineers? Open code</a></li>
<li><a href="../433916/index.html">Go Community in Kazan and our meetings</a></li>
<li><a href="../433918/index.html">Why is the web so complicated?</a></li>
<li><a href="../433920/index.html">Chinese polysilicon giant increases power</a></li>
<li><a href="../433922/index.html">Intensive by Kubernetes: about the work of support</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>