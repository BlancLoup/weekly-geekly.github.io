<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Resist adding new libraries to your project.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="So, you needed to implement the X functionality in the project. Software theorists at this point say that for this you need to take the already existi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Resist adding new libraries to your project.</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/ba4/f4c/02a/ba4f4c02abf4804e022de248dba9e84a.png" alt="What we build a house to build" align="left">  So, you needed to implement the X functionality in the project. Software theorists at this point say that for this you need to take the already existing library Y and use it to implement the things you need. <br><br>  Actually, this is a classic approach to software development - the reuse of their own or others' developments (third-party libraries).  And it is in this way that most programmers move. <br><br>  However, theorists in articles and books forget to mention what hell the support of several dozen third-party libraries living in your project turns into, say 10 years later. <br><a name="habracut"></a><br>  I recommend strongly resisting the addition of each new library to the project.  But please understand me correctly.  I don‚Äôt say that you don‚Äôt need to use libraries and write everything yourself.  This is simply stupid.  However, often a new library is added to a project at the whim of a single developer, with the goal of using some small little thing in it.  Add a new library is not difficult.  Only then the whole team will have to bear the burden of its support for many years. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Observing the development of some large projects, I can list a number of problems with a large number of third-party libraries.  Probably, I will list by no means all the problems, but even the following list should make you think: <ol><li>  Adding new libraries quickly increases the size of the project.  In our era of fast Internet and large SSD drives, this is not a significant problem.  However, when the project starts to be downloaded from the version control system not in 1 minute, but in 10 minutes, this is already unpleasant. </li><li>  Even if you use 1% of the library's capabilities, as a rule, it will be included in the project as a whole.  As a result, if libraries are used as ready-made modules (for example, DLL), the size of the distribution kit grows very quickly.  If you use libraries as source code, the compilation time increases significantly. </li><li>  Complicated infrastructure associated with the compilation of the project.  Some libraries require additional components.  A simple example: assembly requires the presence of Python.  As a result, after some time to build a project, you need to first grow a whole garden of support programs on your computer.  The probability that something will stop working increases.  It is difficult to explain, it must be felt.  In large projects, that one thing another constantly ‚Äúfalls off‚Äù and one must constantly make an effort to make everything work and compile. </li><li>  If you care about vulnerabilities, you should regularly update third-party libraries.  It is advantageous for attackers to study the code of libraries in order to find vulnerabilities.  First, many libraries are open, and second, by finding a hole in one of the libraries, you can get a master key at once to many applications where this library is used. </li><li>  You will have problems moving to a new version of the compiler.  There will definitely be several libraries that will not rush to adapt to the new compiler.  And you will have to wait or make some development in the library yourself. </li><li>  You will have problems switching to another compiler.  For example, you use Visual C ++, and you want to use Intel C ++.  Be sure there are a couple of libraries with which something goes wrong. </li><li>  You will have problems moving to another platform.  Not even necessarily on a ‚Äúvery different platform‚Äù.  It is enough to want to turn the Win32 application into Win64.  You will have all the same problems.  Several libraries will not be ready for this and it will be unclear what to do with them.  The situation is especially unpleasant when the library is abandoned and no longer develops. </li><li>  Sooner or later, if you use a lot of C-libraries, where the types are not in the namespace, your names start to intersect.  This leads to compilation errors or hidden errors.  For example, it starts using a constant not from the enum from which you planned. </li><li>  If a project uses many libraries, adding one more does not look like something harmful.  You can draw an analogy with the <a href="https://ru.wikipedia.org/wiki/%25D0%25A2%25D0%25B5%25D0%25BE%25D1%2580%25D0%25B8%25D1%258F_%25D1%2580%25D0%25B0%25D0%25B7%25D0%25B1%25D0%25B8%25D1%2582%25D1%258B%25D1%2585_%25D0%25BE%25D0%25BA%25D0%25BE%25D0%25BD">theory of broken windows</a> .  As a result, the growth of the project becomes uncontrollable. </li><li>  There are a lot of other negative points about which I do not remember and do not know.  But in any case, additional libraries very quickly increase the complexity of project support.  This difficulty can manifest itself in the most unexpected places. </li></ol><br>  I stress once again.  I do not urge you to abandon the use of third-party libraries.  If the program you need to work with images in PNG format, then you need to take the library LibPNG and not reinvent the wheel. <br><br>  But even working with PNG, you need to stop and think.  Do you need a library?  What operations need to be performed with images?  Perhaps, if the whole task comes down to saving some image in a * .png file, you can get by with system functions.  For example, if you have a Windows application, then <a href="https://msdn.microsoft.com/en-us/library/ee719654">WIC</a> will help you.  And if you already use the MFC library, you don‚Äôt need to complicate the code at all, because there is a CImag class (see the <a href="http://stackoverflow.com/questions/366768/convert-bitmap-to-png-in-memory-in-c-win32">discussion</a> on the StackOverflow website).  Minus one library - great! <br><br>  I will give an example from my own practice.  In the process of developing the PVS-Studio analyzer, a couple of diagnostics required the use of simple regular expressions.  In general, I am convinced that regular expressions have no place in static analysis.  This is a very ineffective approach.  I even wrote <a href="http://www.viva64.com/ru/b/0087/">an article</a> on this topic.  However, sometimes you need to find something in a string using a regular expression. <br><br>  It would be possible to ‚Äútie‚Äù some of the existing libraries.  It was clear that all of them would be redundant, but regular expressions are still needed, and some decision had to be made. <br><br>  Quite by chance, at that very moment I was reading the book ‚ÄúBeautiful Code‚Äù (ISBN 9780596510046).  This book is about simple and elegant solutions.  And in it, I met an extremely simple implementation of regular expressions.  Literally a few dozen lines.  And that's it! <br><br>  I took this implementation from the book and started using it in PVS-Studio.  And you know what?  Until now, the possibilities of this implementation are enough for us.  We just don‚Äôt need any complex regular expressions. <br><br>  Total.  Instead of some additional library appearing in the project, about half an hour was spent on writing the necessary functionality.  The desire to use the library ‚Äúfor all occasions‚Äù was suppressed.  And it turned out it was the right decision.  This is confirmed by the fact that for several years this very functionality ‚Äúfor all cases‚Äù was not needed. <br><br>  This case finally convinced me that we should, if possible, look for simple solutions.  Whenever possible, abandoning libraries makes the project simpler. <br><br>  It may be interesting for readers to find out what kind of code this is for searching regular expressions.  I will reprint it from the book. <br><br>  See how elegant.  This code was slightly modified by me when integrating into PVS-Studio, but its essence has not changed. <br><div class="spoiler">  <b class="spoiler_title">Code from the book</b> <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//   . // c    "" // .()     // ^     // $     // *        //   int matchhere(char *regexp, char *text); int matchstar(int c, char *regexp, char *text); // match:        int match(char *regexp, char *text) { if (regexp[0] == '^') return matchhere(regexp+1, text); do { /*      */ if (matchhere(regexp, text)) return 1; } while (*text++ != '\0'); return 0; } // matchhere:        int matchhere(char *regexp, char *text) { if (regexp[0] == '\0') return 1; if (regexp[1] == '*') return matchstar(regexp[0], regexp+2, text); if (regexp[0] == '$' &amp;&amp; regexp[1] == '\0') return *text == '\0'; if (*text!='\0' &amp;&amp; (regexp[0]=='.' || regexp[0]==*text)) return matchhere(regexp+1, text+1); return 0; } // matchstar:     *    int matchstar(int c, char *regexp, char *text) { do { /*  *       */ if (matchhere(regexp, text)) return 1; } while (*text != '\0' &amp;&amp; (*text++ == c || c == '.')); return 0; }</span></span></code> </pre> <br></div></div><br><br>  <b>Recommendation.</b>  Resist adding new libraries to your project.  It is necessary to add only when, when it is obvious that one cannot do without a library. <br><br>  Here are some possible maneuvers: <ol><li>  Perhaps the required functionality is already provided by your system's API or one of the libraries already in use.  Explore this question. </li><li>  If you plan to use a very small piece of functionality from the library, then it makes sense to implement it yourself.  The argument "it is better to connect the library, then suddenly something else is needed" is no good.  Almost always from this library in the future nothing else will be used.  Programmers are too addicted to universality, which is not really needed. </li><li>  If there are several libraries to solve the problem, then choose the simplest one that meets the requirements.  As I wrote above, chase away the thoughts "just in case, take the library more abruptly." </li><li>  Before you start adding a library, just wait and think.  Have some tea, get distracted, discuss the problem with your colleagues.  Perhaps in the process it turns out that it is possible to solve the problem in a completely different way, without resorting to the help of third-party libraries. </li></ol><br>  PS Many told here will not like.  For example, what I recommend using is not a portable universal library, but let's say WinAPI.  There will be objections to this, based on the fact that we thereby tie the project to one operating system.  And then it will be very difficult to make the program portable.  I disagree with that.  Often the idea of ‚Äã‚Äã‚Äúlater transferring the operating system to a friend‚Äù lives only in the developer‚Äôs head.  In fact, such a task in general can never be set by management.  Or the project will be "bent" because of the excessive complexity and universality, even before the moment of popularity and the need for porting.  Plus, do not forget point (7) in the list of problems given above. </div><p>Source: <a href="https://habr.com/ru/post/275159/">https://habr.com/ru/post/275159/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../275145/index.html">About React Native</a></li>
<li><a href="../275151/index.html">Weak links in PHP 7</a></li>
<li><a href="../275153/index.html">DeepHack.Q & A Starts - International Hackathon for Deep Learning and Machine Intelligence</a></li>
<li><a href="../275155/index.html">HotSpot using Cisco WLC5508, FreeRadius, MySQL and Easyhotspot</a></li>
<li><a href="../275157/index.html">Rust 1.5: Cargo with blackjack</a></li>
<li><a href="../275161/index.html">Hacking bank cards, cars and instant messengers and other features of education at the best magistracy in the Netherlands</a></li>
<li><a href="../275163/index.html">IaaS useful digest</a></li>
<li><a href="../275165/index.html">Safe doors, or continue to design ACS TP</a></li>
<li><a href="../275167/index.html">Intelligence agencies allegedly exploited Juniper vulnerabilities</a></li>
<li><a href="../275169/index.html">Algorithmic Trading: Finding an Efficient Data Processing Method Using FPGA</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>