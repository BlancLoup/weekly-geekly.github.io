<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Jira customization for your needs. Perfect flow and perfect ticket</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="If you work in an IT company, then most likely your processes are built around the well-known Atlassian product - Jira. There are many task trackers o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Jira customization for your needs. Perfect flow and perfect ticket</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/webt/ff/9x/b7/ff9xb7hgirmgmbwdt1an6w-pzpa.png"></div><br>  If you work in an IT company, then most likely your processes are built around the well-known Atlassian product - Jira.  There are many task trackers on the market for solving the same problems, including open-source solutions (Trac, Redmine, Bugzilla), but perhaps it is Jira that is most widely used today. <br><br>  My name is Dmitry Semenikhin, I am a Timlid in the company of Badoo.  In a small series of articles, I will tell you exactly how we use Jira, how we set it up for our processes, what was ‚Äúscrewed‚Äù on top and how we turned the issue-tracker into a single communication center for the task and simplified our lives.  In this article, you will see our flow from the inside, learn how you can ‚Äútwist‚Äù your Jira, and read about the additional features of the tool that you might not have known. <br><br>  The article focuses primarily on those who are already using Jira, but may be experiencing difficulties with the integration of its standard capabilities into existing processes in the company.  Also, the article may be useful for companies that use other task trackers, but are faced with some limitations and are thinking about changing the solution.  The article is not built on the principle of "problem - solution", in it I describe the existing tools and features built by us around Jira, as well as the technologies that we used to implement them. <br><a name="habracut"></a><br><h1>  Additional features Jira </h1><br>  To make the subsequent text more understandable, let's look at what tools Jira provides to us for implementing non-standard requests - those that go beyond the standard Jira functionality. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  REST API </h3><br>  In general, an API command call is an HTTP request to an API URL specifying the method (GET, PUT, POST and DELETE), the command and the request body.  The request body as well as the API response are in JSON format.  An example request that returns a JSON representation of the ticket: <br><br><pre><code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">GET</span></span> /rest/api/latest/issue/{ticket_number}</code> </pre> <br>  Using the API, you can, using scripts in any programming language: <br><br><ul><li>  create tickets; <br></li><li>  modify any ticket properties (built-in and custom); <br></li><li>  write comments; <br></li><li>  using JQL (built-in query language) to receive any ticket lists; <br></li><li>  and much more. <br></li></ul><br>  Detailed API documentation is provided <a href="https://docs.atlassian.com/software/jira/docs/api/REST/7.12.0/">here</a> . <br><br>  We wrote our own high-level Jira API client in PHP that implements all the commands we need.  Here is an example of commands for working with comments: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addComment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($issue_key, $comment)</span></span></span><span class="hljs-function"> </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_post(<span class="hljs-string"><span class="hljs-string">"issue/{$issue_key}/comment"</span></span>, [<span class="hljs-string"><span class="hljs-string">'body'</span></span> =&gt; $comment]); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateComment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($issue_key, $comment_id, $new_text)</span></span></span><span class="hljs-function"> </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_put(<span class="hljs-string"><span class="hljs-string">"issue/{$issue_key}/comment/{$comment_id}"</span></span>, [<span class="hljs-string"><span class="hljs-string">'body'</span></span> =&gt; $new_text]); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">deleteComment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($issue_key, $comment_id)</span></span></span><span class="hljs-function"> </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_delete(<span class="hljs-string"><span class="hljs-string">"issue/{$issue_key}/comment/{$comment_id}"</span></span>); }</code> </pre><br><h3>  Webhooks </h3><br>  Using the webhook, you can customize the call to an external callback function on your host for various events in Jira.  At the same time, you can configure as many such rules as you like so that different URLs will be ‚Äútwitched‚Äù for different events and for tickets that correspond to the filter specified in the webhook.  The webhooks configuration interface is available to the Jira administrator. <br><br>  As a result, you can create rules like this: <br><br>  <b>Name</b> : ‚ÄúSRV - New Feature created / updated‚Äù <br>  <b>URL</b> : <a href="http://www.myremoteapp.com/webhookreceiver">www.myremoteapp.com/webhookreceiver</a> <br>  <b>Scope</b> : Project = SRV AND type in ('New Feature') <br>  <b>Events</b> : Issue Updated, Issue Created <br><br>  In this example, the specified URL will be called for the events of creating and changing tickets corresponding to the <i>Scope</i> filter.  In this case, the body of the request will contain all the necessary information about what exactly has changed and what event has occurred. <br><br>  It is important to understand that Jira does not guarantee that your event will be delivered.  If the external URL did not answer or answered with an error, it will not be seen anywhere (except for logs, perhaps).  Therefore, the webhook event handler should be as reliable as possible.  For example, events can be put in a queue and try to process until it is successful.  This will help solve problems with temporarily unavailable services, for example, any external database necessary for proper event handling. <br><br>  Detailed webhooks documentation is provided <a href="https://developer.atlassian.com/server/jira/platform/webhooks/">here</a> . <br><br><h3>  ScriptRunner </h3><br>  This is a plugin for Jira, a very powerful tool that allows you to customize a lot in Jira (including it can replace webhooks).  To use this plugin requires knowledge of Groovy.  The main advantage of the tool for us is that you can embed custom logic online in the flow.  The code of your script will be executed immediately in the Jira environment in response to a specific action.  For example, you can make your button in the ticket interface, clicking on which will create tickets associated with the current task or run unit tests for this task.  And if something goes wrong, you, as a user, will immediately find out about it. <br><br>  Those interested can read the <a href="https://scriptrunner.adaptavist.com/latest/jira/quickstart.html">documentation</a> . <br><br><h1>  Flow: what is hidden under the hood </h1><br>  And now how we apply additional features of Jira in our projects.  Consider this in the context of passing our typical flow ticket from creation to closing.  At the same time about the flow itself will tell. <br><br><h3>  Open / backlog </h3><br>  So, first the ticket gets into the backlog of new tickets with the <b>Open</b> status.  Then the component lead, after seeing the new ticket on its dashboard, decides whether to assign a ticket to the developer right now or send it to the backlog of known tickets ( <b>Backlog</b> status) to assign it later when a free developer appears and higher priority tickets are closed.  This may seem strange, since it seems logical to do the opposite: create tickets in the <i>Backlog</i> status, and then transfer them to the Open status.  But this scheme has taken root in our country.  It allows you to easily configure filters to reduce the time taken to decide on new tickets.  An example of a JQL filter that shows new tasks for a lead: <br><br> <code>Project = SRV AND assignee is EMPTY AND status in (Open)</code> <br> <br><h3>  In progress </h3><br><div class="spoiler">  <b class="spoiler_title">Technical nuances of working with Git</b> <div class="spoiler_text">  It should be noted that our work on each task is carried out in a separate Git-branch.  As for this, we have an agreement that the name of the branch at the beginning must contain the ticket number.  For example, <i>SRV-123_new_super_feature</i> .  Also, comments to each commit in a branch must contain a ticket number in the format [SRV-123]: {comment}.  We need such a format, for example, to correctly remove a ‚Äúbad‚Äù task from a build.  How this is done is described in detail in the <a href="https://habr.com/company/badoo/blog/193258/">article</a> . <br><br>  These requirements are controlled by git-hooks.  For example, here is the contents of prepare-commit-msg, which prepares a comment for the commit by getting the ticket number from the name of the current branch: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash b=`git symbolic-ref HEAD| sed -e 's|^refs/heads/||' | sed -e 's|_.*||'` c=`cat $1` if [ -n "$b" ] &amp;&amp; [[ "$c" != "[$b]:"* ]] then echo "[$b]: $c" &gt; $1 fi</span></span></code> </pre><br>  If a commit with a ‚Äúwrong‚Äù comment is attempted to be launched, such a push will be rejected.  Also, an attempt to push a branch without a ticket number at the beginning will be rejected. <br></div></div><br>  When the ticket gets on the developer, first of all it is decomposed.  The result of the decomposition is the developer's idea of ‚Äã‚Äãhow to solve the problem and how long the solution will take.  After all the main details have been clarified, the ticket is transferred to the <b>In Progress</b> status, and the developer starts writing code. <br><br>  We have decided to set the due date task at the moment when it is transferred to the In Progress status.  If the developer did not do this, he will receive a reminder in the corporate HipChat messenger.  Special script every two hours: <br><br><ul><li>  selects tickets in the status of progress with the empty field due date ( <i>project = SRV AND status = 'In Progress' AND duedate is EMPTY</i> ) using the REST API Jira; <br></li><li>  selects incomplete tickets with due date older than the current date ( <i>project = SRV AND status = 'In Progress'</i> <i>AND duedate not EMPTY AND duedate &lt;now ()</i> ); <br></li><li>  for each ticket, learns the developer by reading the corresponding field in the ticket, as well as the lead of the developer; <br></li><li>  groups tickets by developers and leads and sends reminders to HipChat using its API. <br></li></ul><br>  Having made all the necessary commits, the developer pushes the thread into a common turnip.  In this case, Git-hook post-receive is triggered, which makes a lot of interesting things: <br><br><ul><li>  the name of the git branch, as well as comments to commits are checked for compliance with our rules; <br></li><li>  it is checked that the ticket with which the branch is associated is not closed (it is impossible to push a new code into closed tickets); <br></li><li>  checked syntax of modified PHP files (PHP -l <i>file_name.php</i> ); <br></li><li>  formatting is checked; <br></li><li>  if the ticket into which the branch is pushing is in the <i>Open</i> status, then it is automatically transferred to the <i>In Progress</i> status; <br></li><li>  the ticket is attached to the branch, the corresponding entry is made in the custom field of the <i>Commits</i> ticket using the Jira API.  It looks like this: <br></li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sn/yt/-u/snyt-ud30nzzbgr4seaehcccnme.png"></div><br>  ( <i>branchdiff</i> is a link to a branch with a head from which the current branch originated, in our tool review of the <a href="https://habr.com/company/badoo/blog/354856/">Codeisok</a> code); <br><br><ul><li>  A comment is created in the ticket with all commits in this push. <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5p/np/28/5pnp284b9eobeeyafn3hfjgcimu.png"></div><br>  <i>(Aida is the conditional name of our automation complex for working with Jira, Git and not only. It is from this name that automatic comments appear on the ticket. We wrote more about Aida in the <a href="https://habr.com/company/badoo/blog/169417/">article</a> ).</i> <br>  Clicking on the commit hash opens the diff from the previous revision of the branch (how it looks about, show below); <br></li><li>  It checks whether there are any files in the branch for which translation into supported languages ‚Äã‚Äã(for example, web page templates) may be required, and if there are any, then the custom field Lexems is set to New \ Changed.  This ensures that the ticket does not leave for production without complete translation; <br></li><li>  The name of the employee who is pushing the branch is added to the list of developers (custom field of the <i>Developers</i> ticket). <br></li></ul><br><h3>  On review </h3><br>  Having written the code and independently making sure that all the requirements for the task are met, and the tests are not broken, the developer assigns a ticket to the reviewer ( <b>On Review</b> status).  Usually the developer himself decides who will review his ticket.  Most likely, it will be another developer who perfectly understands the necessary part of the code.  The review is performed using the <a href="https://habr.com/company/badoo/blog/354856/">Codeisok</a> tool, which opens immediately with the necessary diff by clicking on the link <i>branchdiff</i> in the field of the <i>Commits</i> ticket or on the link in the form of a hash of the commit in the comments. <br><br>  The reviewer sees something like this: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ty/eg/ti/tyegti15pqhzbdgiebcw1evm8pi.png"></div><br>  Having completed the review, the reviewer clicks the <i>Finish</i> button, and, among other things, at this moment the following occurs: <br><br><ul><li>  using the JIra API, a comment is created in the ticket with the comments of the reviewer in the context of the code.  It looks like this: <br></li></ul><br><img src="https://habrastorage.org/webt/0k/n6/ka/0kn6kaydki4umhdxzmjebixy6eu.png"><br><ul><li>  if there were remarks to the code and the reviewer decided to re-open the ticket, then the developer will receive a notification about this in HipChat (this is done using the webhook rule that triggers the re-discovery); <br></li><li>  The <i>Reviewers</i> ticket field is filled. <br></li></ul><br><h3>  Resolved </h3><br>  Further, if the review was successful, the ticket is sent to the backlog of QA-engineers in the <b>Resolved</b> status.  But along with this, using the webhook on the resolved event in the background, automatic tests are run on the code of the branch.  After a few minutes, a new comment will appear in the ticket, which will report on the test results. <br><br><img src="https://habrastorage.org/webt/um/ff/cc/umffccnuyujwg3ypdz3scdcrrou.png"><br><br>  Also, at any time, you can manually initiate a rerun of tests by clicking the special button Run unit tests in the ticket menu.  After a successful run, a new comment will appear in the ticket, similar to the previous one. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tt/sk/65/ttsk65fr3egs9fbjpa7v6pbdzta.png"></div><br>  In fact, this button is one of the additional task statuses in the Jira workflow, translation into which triggers the triggering of the Groovy script for the ScriptRunner plugin.  The script calls the external URL that initiates the test run, and if the URL responds successfully, the ticket returns to its previous status (in our case, <i>Resolved</i> ). <br><br><h3>  In Shot / In Shot - OK </h3><br>  The task is first tested in a devel environment.  If everything is good, a shot is created (for example, by clicking on the <i>Create shot</i> link in the <i>Commits</i> field) - a directory on a dedicated server into which changes from the ticket copied with the current master are copied.  The server works with production data: the bases and services are the same as those that serve real users.  Thus, the tester can open a web site or connect to a shot using a mobile client and ‚Äúisolate‚Äù check the feature in the production environment.  ‚ÄúIsolated‚Äù means that no other code / functionality other than the new one from the branch and the current master is executed.  Therefore, this stage of testing is perhaps the main one, since it allows the QA-engineer to most reliably find the problem directly in the test task. <br><br>  Access to the resources of the shot is carried out by special URLs that are generated in the script for creating a shot and are placed in the ticket header using the Jira API.  As a result, we see links to the site, admin panel, logs, and other tools that are executed in a shot environment: <br><br><img src="https://habrastorage.org/webt/kf/yk/e_/kfyke_qa3yjtezpyqx0-edwghfw.png"><br><br>  Also at the moment of generating the shots, a script is launched that analyzes the contents of the modified files and creates requests for the translation of the found new lexemes.  After the translation is completed, the value of the <i>Lexems</i> field changes to Done and the ticket can be added to the build. <br><br>  If the test was successful, then the ticket is transferred to the status <b>In Shot - OK.</b> <br><br><h3>  In Build / In Build - OK </h3><br>  We post the code twice a day - in the morning and in the evening.  To do this, create a special build-branch, which will eventually be merged with the master and laid out "into battle". <br><br>  At the time of building a build branch, a special script receives a list of tickets in the status <i>In Shot - OK</i> using a JQL request and tries to lock them into the build branch when all of the following conditions are met: <br><br><ul><li>  the transfer for the ticket has been completed or nothing needs to be translated ( <i>Lexems in ('No', 'Done')</i> ); <br></li><li>  the developer is present at the workplace (the automatic merge system checks on the internal database if the developer is not on vacation or on sick leave, and if so, the ticket can be frozen only manually by release engineers or another responsible developer, which is specified in the special field of <i>Developer</i> ; the lead of the absent developer in this case receives a notification that the ticket cannot be automatically added to the build); <br></li><li>  the ticket does not have the <i>Up in Build</i> checkbox set to the value of <i>by Developer</i> (this is a special custom field of the ticket, which allows the developer to determine for himself when the ticket gets into the build); <br></li><li>  A ticket branch does not depend on another branch that has not yet entered master or the current build.  We do our best to avoid this situation, but sometimes this happens when the developer creates his branch not from the master, but from the branch of another ticket, or when he sticks to someone else's branch.  This can be done by accident, so we decided that additional protection would not hurt. <br></li></ul><br>  It should be noted that automatic merging may not occur due to a merge conflict.  In this case, the ticket is automatically transferred to the <b>Reopen</b> status and assigned to the developer, about which he immediately receives a notification in HipChat, and a corresponding message is added to the comment of the ticket.  After resolving the conflict, the ticket is returned to the build. <br><br>  If everything is fine and the ticket branch is frozen in the build, the ticket is automatically transferred to the <b>In Build</b> status, and the name of the build is written in the custom field of the <i>Build_Name</i> ticket. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/te/bl/cq/teblcqsgvc0tgn82svazpssgmii.png"></div><br>  Further, using this value, it is easy to get a list of tickets that have been posted with each build.  For example, to look for someone to blame if something went wrong. <br><br>  At the next stage, QA-engineers additionally check whether the task code works correctly in conjunction with other tasks in the build.  If all is well, the ticket is manually set to <b>In Build - OK.</b> <br><br><h3>  On Production / On Production - OK / Closed </h3><br>  Next, the whole test suite (Unit, integration, Selenium-, etc.) is run through the build.  If everything is good, the build is installed in the master, and the code is laid out on the production.  The ticket is transferred to the <b>On Production</b> status <b>.</b> <br><br>  Next, the developer (or customer) makes sure that the feature on the production works correctly, and sets the <b>On Production - OK</b> status to the ticket <b>.</b> <br><br>  Two weeks later, tickets in the <i>On Production - OK</i> status are automatically transferred to the <b>Closed</b> status, if someone has not done it manually before. <br><br>  Also worth mentioning are additional statuses in which the ticket can be located: <br><br><ul><li>  <b>Requirements</b> - when it is not possible to promptly receive from the customer the necessary clarifications on the task, and without them further work on the ticket is impossible, the ticket is transferred to this status and is assigned to the person who must give explanations; <br></li><li>  <b>Suspended</b> - if the work on the ticket is suspended, for example, if the developer is blocked by the tasks of an adjacent team or was forced to switch to a more urgent task; <br></li><li>  <b>Reopened</b> - the task can be rediscovered by the developer after the review, after testing, after an unsuccessful attempt to merge the branch with master. <br></li></ul><br>  As a result, the simplified scheme of our workflow looks like this: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/-m/cd/ue/-mcduen0-daw39ykqjhvp4rvdka.png"></div><br><h1>  Ticket - task communication center </h1><br>  As a result of passing through the flow, its cap takes on the form: <br><br><img src="https://habrastorage.org/webt/c7/4t/qp/c74tqp2l7smg9unpuxpgzw3fhxo.png"><br><br>  What is more interesting here that we have customized for myself and what I have not yet mentioned? <br><br><ul><li>  <i>Component</i> - used for clustering a ticket within a large department.  Different subgroups are responsible for different components and, accordingly, only tasks by their components are seen on their dashboards.  For example, I can list all open bugs by component of my team with such a query: <br><br><pre> <code class="php hljs">Project = SRV <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> type = Bug <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> status = Open <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> component in componentsLeadByUser(d.semenihin)</code> </pre> <br></li><li>  <i>Review</i> - Do I need a review code?  Default is needed.  If the field value is set to <i>No, the</i> ticket will immediately fall into the <i>Resolved</i> status <i>.</i> <i><br></i> <br>  QA - Do you need a test by the tester?  Default is needed.  If the field value is set to <i>No, the</i> ticket will immediately fall into the status of <i>In Shot - OK.</i> <i><br></i> <br>  Sprint - in our case, relevant only for tasks with the type New Feature, a plan for which we draw up in advance for a week. <br></li><li>  <i>Due date</i> - the definition by the developer of the date when the ticket will be in production.  Exhibited before starting work on the task. <br></li><li>  <i>Situation</i> - in fact, a brief log with a brief description of the current status of the task.  For example, <i>‚Äú20/08 Waiting for translations‚Äù</i> , <i>‚Äú21/08. Require clarification from the customer on issue X‚Äù</i> .  It helps to see a brief summary of the task in the list of other tasks. <br></li><li>  <i>Msg4QA</i> - information for QA-engineers, which the developer shares to simplify the testing process <br></li></ul><br>  We try to keep the discussion of controversial issues with the task designer in the comments of the ticket, and not to ‚Äúsmear‚Äù important clarifications by mail and instant messengers.  If the discussion did take place ‚Äúon the side,‚Äù it is highly desirable to copy what was agreed to in the ticket. <br><br>  In addition to the "human" texts, as I mentioned above, in the commentary a lot of things are written automatically using the API: <br><br><ul><li>  commits; <br></li><li>  review results; <br></li><li>  test run results. <br></li></ul><br>  Sometimes automatic comments can interfere, for example, with product managers.  Therefore, we made a simple JS script that adds a button to the Jira interface and allows you to minimize all automatic comments, leaving only ‚Äúhuman‚Äù ones.  As a result, folded automatic comments look compact. <br><br><img src="https://habrastorage.org/webt/nx/_-/jh/nx_-jh1r3hxzby1j1ue7itohe0e.png"><br><br><div class="spoiler">  <b class="spoiler_title">JS-code of the script that we have embedded in the ticket template</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.addEventListener(<span class="hljs-string"><span class="hljs-string">'load'</span></span>, () =&gt; {   <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> $ = <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.jQuery;   <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> botsAttrMatch = [       <span class="hljs-string"><span class="hljs-string">'aida'</span></span>,       <span class="hljs-string"><span class="hljs-string">'itops.api'</span></span>   ].map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">bot</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-string"><span class="hljs-string">`[rel="</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${bot}</span></span></span><span class="hljs-string">"]`</span></span>).join(<span class="hljs-string"><span class="hljs-string">','</span></span>);   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!$) {       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>;   }   <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> AIDA_COLLAPSE_KEY = <span class="hljs-string"><span class="hljs-string">'aida-collapsed'</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> COMMENT_SELECTOR = <span class="hljs-string"><span class="hljs-string">'.issue-data-block.activity-comment.twixi-block'</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> JiraImprovements = {       init() {           <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addButtons();           <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleAidaCollapsing();           <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleCommentExpansion();           <span class="hljs-comment"><span class="hljs-comment">// Handle toggle button and aida collapsing and put it on a loop           // to handle unexpected JIRA behaviour           const self = this;           setInterval(function () {               self.addButtons();               self.handleAidaCollapsing();           }, 2000);           addCss(`               #badoo-toggle-bots {                   background: #fff2c9;                   color: #594300;                   border-radius: 0 3px 0 0;                   margin-top: 3px;                   display: inline-block;               }           `);       },       addButtons() {           // Do we already have the button?           if ($('#badoo-toggle-bots').length &gt; 0) {               return;           }           // const headerOps = $('ul#opsbar-opsbar-operations');           const jiraHeader = $('#issue-tabs');           // Only add it in ticket state           if (jiraHeader.length &gt; 0) {               const li = $('&lt;a id="badoo-toggle-bots" class="aui-button aui-button-primary aui-style" href="/"&gt;Collapse Bots&lt;/a&gt;');               li.on('click', this.toggleAidaCollapsing.bind(this));               jiraHeader.append(li);           }       },       toggleAidaCollapsing(e) {           e.preventDefault();           const isCollapsed = localStorage.getItem(AIDA_COLLAPSE_KEY) === 'true';           localStorage.setItem(AIDA_COLLAPSE_KEY, !isCollapsed);           this.handleAidaCollapsing();       },       handleAidaCollapsing() {           const isCollapsed = localStorage.getItem(AIDA_COLLAPSE_KEY) === 'true';           const aidaComments = $(COMMENT_SELECTOR).has(botsAttrMatch).not('.manual-toggle');           if (isCollapsed) {               aidaComments.removeClass('expanded').addClass('collapsed');               $('#badoo-toggle-bots').text('Show Bots');           }           else {               aidaComments.removeClass('collapsed').addClass('expanded');               $('#badoo-toggle-bots').text('Collapse Bots');           }       },       handleCommentExpansion() {           $(document.body).delegate('a.collapsed-comments', 'click', function () {               const self = this; // eslint-disable-line no-invalid-this               let triesLeft = 100;               const interval = setInterval(() =&gt; {                   if (--triesLeft &lt; 0 || self.offsetHeight === 0) {                       clearInterval(interval);                   }                   // Element has been removed from DOM. ie new jira comments have been added                   if (self.offsetHeight === 0) {                       JiraImprovements.handleAidaCollapsing();                   }               }, 100);           });           $(document.body).delegate(COMMENT_SELECTOR, 'click', function () {               $(this).addClass('manual-toggle');// eslint-disable-line no-invalid-this           });       }   };   JiraImprovements.init();   function addCss(cssText) {       const style = document.createElement('style');       style.type = 'text/css';       if (style.styleSheet) {           style.styleSheet.cssText = cssText;       }       else {           style.appendChild(document.createTextNode(cssText));       }       document.head.appendChild(style);   } });</span></span></code> </pre><br></div></div><br><h1>  What else? </h1><br>    API  webhooks Jira    : <br><br><ul><li>    HipChat,      -   (    ); <br></li><li>    HipChat            (    ,    ); <br></li><li>              (  )    (          ;        ); <br></li><li>       ;        ,       ; <br></li><li>         In progress  ; <br></li><li>   ,   ¬´¬ª    (, On Review),      ; <br></li><li>                 ,      Jira     (, ¬´d.semenihin (Day off)¬ª).   . <br></li></ul><br><h1>  </h1><br> Jira ‚Äî  ,        ,     . ,  ,      .    Jira         ,          . <br><br>            ‚Äî   .       Jira     ,          Jira. , -      . <br><br>  Thanks for attention! </div><p>Source: <a href="https://habr.com/ru/post/424655/">https://habr.com/ru/post/424655/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../424645/index.html">How we did the most massive internal survey in the bank</a></li>
<li><a href="../424647/index.html">The worst chart in the world</a></li>
<li><a href="../424649/index.html">Java vs GO. Testing a large number of users</a></li>
<li><a href="../424651/index.html">What is ZFS? And why are people crazy about her?</a></li>
<li><a href="../424653/index.html">Welcome to Voronezh Game Dev Meetup</a></li>
<li><a href="../424657/index.html">[Translate] Fix or kill automatically installed javascript?</a></li>
<li><a href="../424659/index.html">General office privilege - natural light</a></li>
<li><a href="../424661/index.html">Small Earth satellites contain the potential for amazing scientific and commercial opportunities.</a></li>
<li><a href="../424663/index.html">What skills will developers need in the future?</a></li>
<li><a href="../424667/index.html">How to make video cards or why those who criticize the 20X0 series of video cards are not quite right</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>