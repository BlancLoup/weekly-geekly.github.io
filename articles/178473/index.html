<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>edn: extensible data notation</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article I want to tell about edn. edn is a data format derived from the clojure language. It is similar to JSON, but provides some features no...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>edn: extensible data notation</h1><div class="post__text post__text-html js-mediator-article">  In this article I want to tell about edn.  edn is a data format derived from the clojure language.  It is similar to JSON, but provides some features not found in JSON.  The features of edn are described below.  Example for priming: <br><br><pre><code class="hljs json">{:name <span class="hljs-string"><span class="hljs-string">"edn"</span></span> :implementations #{<span class="hljs-attr"><span class="hljs-attr">"clojure"</span></span> <span class="hljs-attr"><span class="hljs-attr">"java"</span></span> <span class="hljs-attr"><span class="hljs-attr">"ruby"</span></span> <span class="hljs-attr"><span class="hljs-attr">"python"</span></span> <span class="hljs-attr"><span class="hljs-attr">"c"</span></span> <span class="hljs-attr"><span class="hljs-attr">"javascript"</span></span> <span class="hljs-attr"><span class="hljs-attr">"haskell"</span></span> <span class="hljs-attr"><span class="hljs-attr">"erlang"</span></span>} :related <span class="hljs-string"><span class="hljs-string">"clojure"</span></span> :encoding :UTF<span class="hljs-number"><span class="hljs-number">-8</span></span>}</code> </pre> <br><a name="habracut"></a><br><h6>  Appearance </h6><br>  The history of the appearance of edn is similar to the appearance of JSON: a programming language first appeared, and then a subset was selected from it and began to be used as a data format.  If for JSON the progenitor language is JavaScript, then for edn is Clojure. <br><br>  As I said earlier, edn and JSON are very similar, and considering that JSON is now the most famous, simple and popular data format, I will talk about edn through its differences from JSON. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In edn, all simple types that are present in JSON are supported: strings, numbers, booleans.  There are also new ones: <br><br><h6>  nil </h6><br>  The zero value in edn is <code>nil</code> .  JSON uses <code>null</code> . <br><br><h6>  characters </h6><br>  edn supports characters to indicate individual characters.  They begin with a backslash: <code>\e</code> , <code>\d</code> , <code>\n</code> .  You can use the format UTF8: <code>\u2603</code> .  Special characters are written in full: <code>\newline</code> , <code>\return</code> , <code>\space</code> , <code>\tab</code> . <br>  In JSON, individual characters are usually represented as a string of length 1. <br>  I do not call signs as symbols, because in edn there is a separate type of symbol, which will be described below. <br><br><h6>  key characters (keywords) </h6><br>  I find it difficult to formulate what are the key characters.  I would say that this is a mixture of strings with enumerations.  It is convenient to use them when there is a finite fixed set of possible values.  These values ‚Äã‚Äãcan be set by keywords.  It is also customary to use key symbols as keys of mappings.  Key characters begin with a colon:: <code>:name</code> <code>:lastname</code> <code>:female</code> <code>:lastname</code> <code>:green</code> .  Those who worked with Ruby should recognize symbols in them, similar types are present in other languages, for example common lisp. <br><br>  An example of using keywords in the display and comparison with the JSON version: <br><br><table><tbody><tr><td>  edn </td><td>  Json </td></tr><tr><td><pre> <code class="hljs ruby">{<span class="hljs-symbol"><span class="hljs-symbol">:name</span></span> <span class="hljs-string"><span class="hljs-string">"Jack"</span></span> <span class="hljs-symbol"><span class="hljs-symbol">:lastname</span></span> <span class="hljs-string"><span class="hljs-string">"Brown"</span></span> <span class="hljs-symbol"><span class="hljs-symbol">:gender</span></span> <span class="hljs-symbol"><span class="hljs-symbol">:male</span></span>}</code> </pre><br></td><td><pre> <code class="hljs json">{<span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Jack"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"lastname"</span></span>: <span class="hljs-string"><span class="hljs-string">"Brown"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"gender"</span></span>: <span class="hljs-string"><span class="hljs-string">"male"</span></span>}</code> </pre><br></td></tr></tbody></table><br><br><h6>  numbers </h6><br>  edn separates 2 types of numbers: integers and real.  It also supports numbers of arbitrary length using the suffix <code>N</code> for integers and <code>M</code> for real ones: <br><br><pre> <code class="hljs json">[<span class="hljs-number"><span class="hljs-number">12345678891231231231232133</span></span>N, <span class="hljs-number"><span class="hljs-number">123.123123123123123213213</span></span>M]</code> </pre><br><br><h6>  of vector </h6><br>  A JSON array in edn is called a vector: a sequence of values ‚Äã‚Äãfor which a random access operation is supported.  Unlike JSON, elements should not be separated by commas.  They can be omitted: <br><br><pre> <code class="hljs json">[<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-string"><span class="hljs-string">"Hello"</span></span> <span class="hljs-string"><span class="hljs-string">"World"</span></span>]</code> </pre><br><br><h6>  mappings </h6><br>  In JSON, they are called objects.  In edn, the key is not separated from the value by a colon (the colon is an error).  Commas can also be omitted.  The keys can be any other type, for example, numbers or keywords: <br><br><pre> <code class="hljs ruby">{<span class="hljs-symbol"><span class="hljs-symbol">:name</span></span> <span class="hljs-string"><span class="hljs-string">"Jack"</span></span> <span class="hljs-symbol"><span class="hljs-symbol">:lastname</span></span> <span class="hljs-string"><span class="hljs-string">"Brown"</span></span> <span class="hljs-symbol"><span class="hljs-symbol">:gender</span></span> <span class="hljs-symbol"><span class="hljs-symbol">:male</span></span> <span class="hljs-number"><span class="hljs-number">42</span></span> <span class="hljs-number"><span class="hljs-number">54</span></span>}</code> </pre> <br><br>  Here is the mapping with the keys <code>:name</code> <code>:lastname</code> <code>:gender</code> and <code>42</code> , the values ‚Äã‚Äãare respectively <code>"Jack"</code> , <code>"Brown"</code> <code>:lastname</code> <code>:male</code> , <code>54</code> . <br><br><h6>  sets </h6><br>  edn supports the data type set.  It is given in the format <code>#{val1 val2 val3}</code> .  The order in the set is not important and the parsers do not guarantee any particular order.  In principle, parsers should convert to a standard for a programming language type, for example, <code>HashSet</code> for java, <code>PersistentHashSet</code> for clojure, and similarly for other languages.  And in these data types, no order is guaranteed.  Example: let's set a very useful display containing the seasons and 3 colors: <br><br><pre> <code class="hljs ruby">{<span class="hljs-symbol"><span class="hljs-symbol">:seasons</span></span> <span class="hljs-comment"><span class="hljs-comment">#{:winter :spring :summer :autumn} :colors #{[255 0 0] [0 255 0] [0 0 255]}}</span></span></code> </pre><br><br><h6>  lists </h6><br>  edn except vector supports lists.  The list differs from the vector in that there is no random access.  Although this is already a matter of the parser into which real type it converts the list.  It is generally difficult to think of when it may be more convenient to use a list, and not a vector.  So the vector is overwhelmingly used.  Example list: <br><br><pre> <code class="hljs lisp">(<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>)</code> </pre><br><br><h6>  symbols </h6><br>  In clojure, symbols are used to refer to variables.  Those.  similar to identifiers in common programming languages: <code>a</code> , <code>b</code> , <code>i</code> , <code>hello</code> , <code>persons</code> .  The symbol of several words can be separated by a hyphen: <code>prime-numbers</code> , <code>visited-nodes</code> .  In addition to numbers and letters, they may contain the following characters:. <code>. * + ! - _ ? $ % &amp; =</code>  <code>. * + ! - _ ? $ % &amp; =</code> .  It's hard for me to think of a way to use symbols in edn, when there are lines and key characters.  It already depends on your imagination.  In <a href="http://www.datomic.com/%26ei%3DIJl_UfzjGKqk4gSVr4DIBg%26usg%3DAFQjCNE6KPjgLbKWxszPer_U29XZeOZCgA%26sig2%3DdUhj4zth-XSZtbmuU75ZRQ">datomic,</a> they are used to send requests, for example: <br><br><pre> <code class="hljs ruby">[<span class="hljs-symbol"><span class="hljs-symbol">:find</span></span> <span class="hljs-string"><span class="hljs-string">?x</span></span> <span class="hljs-symbol"><span class="hljs-symbol">:where</span></span> [<span class="hljs-string"><span class="hljs-string">?x</span></span> <span class="hljs-symbol"><span class="hljs-symbol">:foo</span></span>]]</code> </pre>  <code>?x</code> is a symbol. <br><br><h6>  tagged elements </h6><br>  edn supports the possibility of extensions using tags.  Tag is an identifier that begins with <code>#</code> , followed by the symbol: <code>#inst</code> , <code>#uuid</code> , <code>#myapp/Person</code> .  The peculiarity of such elements is that the parser, when it encounters such an element, reads it and the element following it, passes it to a special handler, which must convert the input arguments to the desired type and return.  Examples: <br><br><pre> <code class="hljs objectivec"><span class="hljs-meta"><span class="hljs-meta">#myapp/Person {:first </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Fred"</span></span></span><span class="hljs-meta"> :last </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Mertz"</span></span></span><span class="hljs-meta">}</span></span></code> </pre><br>  Here the handler of the tag <code>#myapp/Person</code> must be registered in the parser, which accepts the mapping and converts it into an object of the class <code>myapp.Person</code> (if there are classes in the language), or something similar. <br><br><pre> <code class="hljs css"><span class="hljs-selector-id"><span class="hljs-selector-id">#inst</span></span> "1985<span class="hljs-selector-tag"><span class="hljs-selector-tag">-04-12T23</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:20</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:50.52Z"</span></span></code> </pre><br>  The handler accepts a string in <a href="http://www.ietf.org/rfc/rfc3339.txt">RFC-3339</a> format and converts it to the appropriate date. <br><br><pre> <code class="hljs objectivec"><span class="hljs-meta"><span class="hljs-meta">#uuid </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"f81d4fae-7dec-11d0-a765-00a0c91e6bf6"</span></span></span></span></code> </pre><br>  The handler converts the UUID string to the corresponding object. <br><br>  The last 2 tags are inline and must work out of the box.  There is also a limitation that custom tags should always have a namespace at the beginning, as in the case of <code>#myapp/Person</code> : here <code>myapp</code> is the namespace.  Tags without namespace (for example <code>#inst</code> , <code>#uuid</code> ) are reserved for standard handlers. <br><br><h6>  comments </h6><br>  Used for comments <code>;</code>  .  With it you can comment out the line: <br><pre> <code class="hljs ruby">{ <span class="hljs-symbol"><span class="hljs-symbol">:red</span></span> [<span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>] ; Red <span class="hljs-number"><span class="hljs-number">255</span></span>, green <span class="hljs-number"><span class="hljs-number">0</span></span>, blue <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-symbol"><span class="hljs-symbol">:orange</span></span> [<span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">127</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>] ; Red <span class="hljs-number"><span class="hljs-number">255</span></span>, green <span class="hljs-number"><span class="hljs-number">127</span></span>, blue <span class="hljs-number"><span class="hljs-number">0</span></span> }</code> </pre><br><h6>  A more complete example edn </h6><br>  Here is an example of a list of all users who visited the resource over the past couple of days.  An example is contrived and its purpose is to demonstrate edn again: <br><br><pre> <code class="hljs json">[{:name <span class="hljs-string"><span class="hljs-string">"Jack"</span></span> :lastname <span class="hljs-string"><span class="hljs-string">"Brown"</span></span> :roles #{:admin :operator} :last-visited #inst <span class="hljs-string"><span class="hljs-string">"2013-04-12T23:20:50.52Z"</span></span> :id #uuid <span class="hljs-string"><span class="hljs-string">"f81d4fae-7dec-11d0-a765-00a0c91e6bf6"</span></span>} {:name <span class="hljs-string"><span class="hljs-string">"John"</span></span> :lastname <span class="hljs-string"><span class="hljs-string">"Black"</span></span> :roles #{:user} :last-visited #inst <span class="hljs-string"><span class="hljs-string">"2013-04-12T20:20:50.52Z"</span></span> :id #uuid <span class="hljs-string"><span class="hljs-string">"b371b600-b175-11e2-9e96-0800200c9a66"</span></span>}]</code> </pre><br><br><h6>  When to use </h6><br>  This is a subjective question.  All the above features can be implemented in JSON by introducing your own constructs, but this requires more complex logic to convert to / from JSON.  In edn, they are out of the box, which is very convenient.  If you are working with clojure, then edn is the natural choice.  You may also be tired of boring JSON and would like to work with a more flexible and customizable format, in which the tags can help.  The presence of a ‚Äústandard‚Äù type for a date is also a nice feature.  You could say that edn is JSON on steroids. <br><br><h6>  Links </h6><br>  The official format description: <a href="https://github.com/edn-format/edn">github.com/edn-format/edn</a> <br>  Implementations for java, ruby, python, javascript, haskell and other languages: <a href="https://github.com/edn-format/edn/wiki/Implementations">github.com/edn-format/edn/wiki/Implementations</a> <br>  Hacker News Talk: <a href="https://news.ycombinator.com/item%3Fid%3D4487462">news.ycombinator.com/item?id=4487462</a> They just swear about "Why edn, if there is JSON?" </div><p>Source: <a href="https://habr.com/ru/post/178473/">https://habr.com/ru/post/178473/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../178459/index.html">Report from InterSystems Global Summit 2013</a></li>
<li><a href="../178461/index.html">REG.RU presents ‚Äúflexible‚Äù hosting from Jelastic to Russian users</a></li>
<li><a href="../178463/index.html">Starter "from scratch", my experience, success stories</a></li>
<li><a href="../178467/index.html">Calls within the organization from the Corporate Portal</a></li>
<li><a href="../178469/index.html">Sending letters in HTML format with pictures</a></li>
<li><a href="../178475/index.html">Becoming an analyst</a></li>
<li><a href="../178477/index.html">Overview of the restrictions imposed on exceptions, for example, inheritance and interface implementation</a></li>
<li><a href="../178481/index.html">A quick way to create an installer for a Java program</a></li>
<li><a href="../178483/index.html">Is there life in the world of PostPC? Part 3: having fun with iOS</a></li>
<li><a href="../178487/index.html">Game editor for platformer - post-mortem</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>