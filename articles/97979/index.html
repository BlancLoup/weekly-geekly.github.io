<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Convenient markers for jGmap google maps</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article is a prequel of the article on the grouping of markers , because as you know, in order to group something unnecessary, you must first dis...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Convenient markers for jGmap google maps</h1><div class="post__text post__text-html js-mediator-article">  This article is a prequel of the article on the <a href="http://habrahabr.ru/blogs/webdev/93723/">grouping of markers</a> , because as you know, in order to group something unnecessary, you must first display something unnecessary;) <br><br><img src="http://img38.imageshack.us/img38/764/map3spngban.png" alt="image"><br><br>  The plugin allows you to display many markers on the map with custom icons and information windows, group (optional).  It is also possible to specify the target input that will be used for geocoding, drag the marker to manually adjust the results and track their change. <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Prehistory </h4><br>  The task was to give the user the opportunity to mark their objects on the map, and to make this process as pleasant as possible - to use Google geocoding.  You can do it from scratch, but it is preferable to find a ready-made version.  Under the 3rd version of Api, similar things were searched with tangible squeaking, but after a while the <a href="http://github.com/tristandunn/jquery-auto-geocoder">plugin</a> was found, which later became the basis of jGmap.  He geocoded well, but nothing more, and you still need the possibility of manual adjustment of the results. <br><br><h4>  I am being deformed </h4><br>  Next, imagine a situation: the user comes to edit the object created earlier - do not geocode it again, especially if it was changed manually?  Then I wrote a functional for manual adjustment of the results of geocoding and marker display.  It turned out, in principle, not bad - we are looking for, correcting, displaying.  To display the general list of objects, quite significant changes were made: first of all, the display of a real array of markers (and not just an single instance), a bunch of markermanager for grouping, customization of icons and information windows. <br><br><h4>  And where is the logic </h4><br>  All this was still called an auto-geocoder and behaved accordingly: it clung to the text input, asked the css-class for the diva with the future map, position (before / after input) and so on.  It was only obvious that this is no longer a geocoding plugin.  A few frauds - and the plugin took the present form. <br><br><h4>  How to use </h4><br>  JQuery version 1.3.2 and higher is required for the plugin to work, this is due to incorrect processing of selectors in lower versions.  And although at one time there was a hack for compatibility with 1.3.0, I chose to give it up. <br><br>  The best documentation is an example of use: <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">$( <font color="#0000ff">document</font> ).ready( <font color="#0000ff">function</font> (){ <br> $( <font color="#A31515">"#search-map"</font> ).Gmap({ <br> <font color="#008000">//,    </font> <br> show_points: { <br> lat: <font color="#A31515">"lat"</font> , <font color="#008000">//name     , &lt;input type="hidden" name="lat[0]" /&gt;</font> <br> lng: <font color="#A31515">"lng"</font> , <font color="#008000">// lat</font> <br> infowindow: <font color="#A31515">"infowindow"</font> , <font color="#008000">// lat</font> <br> <br> <font color="#008000">//   ,   </font> <br> marker: { <br> icon: <font color="#A31515">"icon"</font> , <font color="#008000">//name       &lt;input type="hidden" name="icon[1]" value="/img/caution.png" /&gt;</font> <br> shadow: <font color="#A31515">"shadow"</font> <font color="#008000">// marker.icon</font> <br> }, <br> <br> <font color="#008000">//  API v3  </font> <br> infowindow_options: { <br> disableAutoPan: <font color="#0000ff">true</font> <br> }, <br> <br> autofit: <font color="#0000ff">true</font> , <font color="#008000">//         ,      </font> <br> <br> <font color="#008000">//   ,   </font> <br> icon:{ <br> src: <font color="#A31515">"http://maps.google.com/mapfiles/ms/micons/purple.png"</font> , <br> shadow: <font color="#A31515">"http://maps.google.com/mapfiles/ms/micons/pushpin_shadow.png"</font> <br> }, <br> <br> <font color="#008000">//  </font> <br> group_markers: <font color="#0000ff">true</font> , <br> <br> <font color="#008000">//  markermanager </font> <br> markermanager_options:{ <br> icon: { <br> src: <font color="#A31515">"http://maps.google.com/mapfiles/ms/micons/partly_cloudy.png"</font> , <br> shadow: <font color="#A31515">"http://maps.google.com/mapfiles/ms/micons/partly_cloudy.shadow.png"</font> <br> }, <br> cell: { <br> width: 48, <br> height: 96 <br> } <br> } <br> }, <br> <br> <font color="#008000">// </font> <br> geocoder: { <br> <font color="#008000">// ,    ,  id ,           innerHtml</font> <br> clarification: <font color="#A31515">""</font> , <br> <br> <font color="#008000">//id ,    </font> <br> target: <font color="#A31515">"search_id"</font> , <br> <br> <font color="#008000">//  </font> <br> bounds: {sw: [37, 40], ne: [80, 140]}, <br> <br> <font color="#008000">//  </font> <br> country: <font color="#A31515">"RU"</font> , <br> <br> <font color="#008000">//  </font> <br> language: <font color="#A31515">"ru"</font> , <br> <br> <font color="#008000">//      </font> <br> success: { <br> zoom : 8 <br> }, <br> <br> <font color="#008000">// ,   - onkeyup  onchange</font> <br> auto: <font color="#A31515">"onkeyup"</font> , <br> <br> <font color="#008000">//  ,    {auto: onkeyup}</font> <br> delay: 3000, <br> <br> <font color="#008000">//   </font> <br> icon: { <br> src: <font color="#A31515">"http://maps.google.com/mapfiles/ms/micons/question.png"</font> , <br> shadow: <font color="#A31515">"http://maps.google.com/mapfiles/ms/micons/question.shadow.png"</font> <br> }, <br> <br> <font color="#008000">//id       - , , .</font> <br> track_coordinates:{ <br> lat: <font color="#A31515">"lat"</font> , <br> lng: <font color="#A31515">"lng"</font> , <br> accuracy: <font color="#A31515">"accuracy"</font> , <br> infowindow: <font color="#A31515">"   ..."</font> , <font color="#008000">//     </font> <br> <br> <font color="#008000">//  API v3  </font> <br> marker_options: { <br> draggable: <font color="#0000ff">true</font> <br> } <br> } <br> }, <br> <br> <font color="#008000">//      API v3 </font> <br> initial:{ <br> draggable: <font color="#0000ff">true</font> , <br> zoom: 5, <br> center: [58, 35], <br> mapTypeControl : <font color="#0000ff">true</font> , <br> scaleControl: <font color="#0000ff">true</font> , <br> min_zoom: 20 <font color="#008000">//   </font> <br> } <br> }); <br> });</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br><h4>  Conclusion </h4><br>  This is what manual geocoding results look like. <br><img src="https://habrastorage.org/getpro/habr/post_images/5de/0a4/3ec/5de0a43ec1df8155d72d7e0efb26da1a.png" alt="image"><br><br>  <a href="http://inline-ltd.ru/jgmap.html">Demo</a> <br>  <a href="http://code.google.com/p/jgmap/">Sources</a> <br><br>  <b>upd</b> Thank you, transferred to Web development <br>  <b>upd2</b> Removed the wrong shadows </div><p>Source: <a href="https://habr.com/ru/post/97979/">https://habr.com/ru/post/97979/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../97971/index.html">Like-minded Developer Resource for Google App Engine</a></li>
<li><a href="../97972/index.html">Ball gearbox</a></li>
<li><a href="../97974/index.html">Usability is not a hindrance to design</a></li>
<li><a href="../97976/index.html">How do you feel about dust in the workplace (keyboard, monitor)?</a></li>
<li><a href="../97977/index.html">Sending SMS from a PHP script or command line</a></li>
<li><a href="../97980/index.html">eLearnExpo 2010: it was interesting!</a></li>
<li><a href="../97982/index.html">Two new four-processor ProLiant DL</a></li>
<li><a href="../97983/index.html">Nokia N8: First Impression</a></li>
<li><a href="../97984/index.html">The electronics industry is responsible for the war in the Congo</a></li>
<li><a href="../97987/index.html">VikiGid - Android Encyclopedia of Sights of Ukraine</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>