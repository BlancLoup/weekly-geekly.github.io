<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What are they scolding Golang for and how to fight it?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="After writing a few projects on Go, I looked back. I looked at the language, at its pros and cons. In this article I would like to talk about what Go ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What are they scolding Golang for and how to fight it?</h1><div class="post__text post__text-html js-mediator-article">  After writing a few projects on Go, I looked back.  I looked at the language, at its pros and cons.  In this article I would like to talk about what Go is criticized for.  Of course, it will be about the absence of OOP as such, overloading of methods and functions, generalized programming and exceptions.  Does it really cause so many problems?  Or is this a development approach problem?  I will share my experience solving these issues. <br><a name="habracut"></a><br><h3>  Problematics </h3><br>  I started to program on Go after Java and PHP.  And now I will tell you why. <br><br>  Java cool stuff.  It has a nice syntax.  Many large projects use it in battle.  Everything would be cool if not a JVM.  In order to deploy a serious Java application, you will need a wheelbarrow with a lot of RAM.  And this is absolutely not suitable for startups (in my case). <br><br>  In turn, in PHP, with each request, the application is initialized again, there is no multithreading out of the box, performance is lower. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Every programming language, and every technology, has its weak points.  You always have to sacrifice something - performance, system resources, development complexity. <br><br>  Go in this regard is no exception.  Giving out good performance and economical use of resources, the language requires a special approach from the developer.  If to approach development of applications on Go, as on Java, then difficulties really will arise.  We are confronted with the absence of such usual things as OOP, overloading of methods and functions, generalized programming, as well as exceptions. <br><br>  When there are no usual solutions, they are replaced by new, but no less effective ones: a flexible type system, interfaces, separation of data and behavior.  Now I will demonstrate everything with examples. <br><br><h3>  Overloading methods and functions </h3><br>  There is no overload of methods and functions in Go.  It is proposed to simply give different names to methods and functions. <br><br><pre><code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SearchInts</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a []</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">, x </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SearchStrings</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a []</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">, x </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bool</span></span></span></span></code> </pre> <br>  A different approach is the use of interfaces.  For example, create an interface and a function to search for: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Slice <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> { Len() <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Get(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span>{} } Search(slice Slice, x <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span>{}) <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span></code> </pre><br>  Now it‚Äôs enough to create two types: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Ints []<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Strings []<span class="hljs-keyword"><span class="hljs-keyword">string</span></span></code> </pre><br>  And implement the interface in each of the types.  After that, you can use the search and the lines and numbers: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> strings Strings = []<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>{<span class="hljs-string"><span class="hljs-string">"one"</span></span>, <span class="hljs-string"><span class="hljs-string">"two"</span></span>, <span class="hljs-string"><span class="hljs-string">"three"</span></span>} fmt.Println(Search(strings, <span class="hljs-string"><span class="hljs-string">"one"</span></span>)) <span class="hljs-comment"><span class="hljs-comment">// true fmt.Println(Search(strings, "four")) // false var ints Ints = []int{0, 1, 2, 3, 4, 5} fmt.Println(Search(ints, 0)) // true fmt.Println(Search(ints, 10)) // false</span></span></code> </pre><br><h3>  OOP </h3><br>  In Go, there is no PLO to which we are so used.  OOP in Go is essentially type embedding with the ability to overload parent methods with descendant methods.  Example: <br><br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">//  type A struct {} //      func (a *A) CallFirst() { fmt.Println("A CallFirst") } //  type B struct { A } //     func (b *B) CallFirst() { fmt.Println("B CallFirst") } a := new(A) a.CallFirst() // "A CallFirst" b := new(B) b.CallFirst() // "B CallFirst"</span></span></code> </pre><br>  In this case, everything works as it should.  What to do if we need the implementation of a method in the parent type, whose work depends on the methods overridden in the descendant?  We add a method with complex logic and several methods for overriding to the parent type: <br><br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">//     func (a *A) CallSecond() { fmt.Println(a.GetName(), a.GetMessage()) } //      func (a *A) GetName() string { return "A" } //      func (a *A) GetMessage() string { return "CallSecond" } //     func (b *B) GetName() string { return "B" } a.CallSecond() // ‚ÄúA CallSecond‚Äù b.CallSecond() // ‚ÄúA CallSecond‚Äù,   ‚ÄúB CallSecond‚Äù</span></span></code> </pre><br>  I chose this solution for myself - we create and implement an interface for the parent and the descendant.  When calling a complex method, we pass a link to the interface both in the parent and in the descendant: <br><br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">//   type SuperType interface { GetName() string GetMessage() string CallSecond() } //     func (a *A) allSecond(s SuperType) { fmt.Println(s.GetName(), s.GetMessage()) } //      func (a *A) CallSecond() { a.callSecond(a) } //     func (b *B) CallSecond() { b.callSecond(b) } a.CallSecond() // ‚ÄúA CallSecond‚Äù b.CallSecond() // ‚ÄúB CallSecond‚Äù</span></span></code> </pre><br>  You may be that this is not quite elegant, but we avoid duplicating logic.  In addition, interfaces will be needed when a method or function takes a generic type as an argument: <br><br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">//     type C struct { A } func (c *C) GetName() string { return "C" } func (c *C) CallSecond() { c.callSecond(c) } // ,     A, B  C func DoSomething(a *A) { a.CallSecond() } DoSomething(a) DoSomething(b) // ,    DoSomething(c) // ,   </span></span></code> </pre><br>  We will remake the DoSomething function so that it accepts the interface: <br><br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// ,     A, B  C func DoSomething(s SuperType) { s.CallSecond() } DoSomething(a) // ‚ÄúA CallSecond‚Äù DoSomething(b) // ‚ÄúB CallSecond‚Äù DoSomething(c) // ‚ÄúC CallSecond‚Äù</span></span></code> </pre><br>  In this way, we separate the data from the behavior, which is good practice. <br><br><h3>  Generalized programming </h3><br>  In Go, there is still generalized programming and this interface {}.  Again, this is unusual, because  no syntax sugar like in java. <br><br><pre> <code class="java hljs">ArrayList&lt;String&gt; list = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); String str = list.get(<span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre><br>  What do we get in Go? <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> List []<span class="hljs-keyword"><span class="hljs-keyword">interface</span></span>{} list := List{<span class="hljs-string"><span class="hljs-string">"one"</span></span>, <span class="hljs-string"><span class="hljs-string">"two"</span></span>, <span class="hljs-string"><span class="hljs-string">"three"</span></span>} str := list[<span class="hljs-number"><span class="hljs-number">0</span></span>].(<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>)</code> </pre><br>  In my opinion the difference is not great!  If you use interfaces, you can avoid explicit type conversions.  I will give an example: <br><br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">//   type Getter interface { GetId() int } type Setter interface { SetId(int) } //   type Identifier interface { Getter Setter } //    type List []Identifier</span></span></code> </pre><br>  Add a few types that will implement the Identifier and functions that will work with interfaces. <br><br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">//  Identifier type User struct { id int } //  Identifier type Post struct { id int } func assign(setter Setter, i int) func print(getter Getter)</span></span></code> </pre><br>  Now we can loop through the array without explicitly casting <br><br><pre> <code class="go hljs">list := List{<span class="hljs-built_in"><span class="hljs-built_in">new</span></span>(User), <span class="hljs-built_in"><span class="hljs-built_in">new</span></span>(User), <span class="hljs-built_in"><span class="hljs-built_in">new</span></span>(Post), <span class="hljs-built_in"><span class="hljs-built_in">new</span></span>(Post), <span class="hljs-built_in"><span class="hljs-built_in">new</span></span>(Post)} <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i, item := <span class="hljs-keyword"><span class="hljs-keyword">range</span></span> list { assign(item, i) <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(item) }</code> </pre><br><h3>  Error processing </h3><br>  The try / catch block is not in the language; instead, methods and functions should return an error.  Someone thinks this is a lack of language, someone is not.  There are people who basically do not use try / catch, because  This is a slow block.  As a rule, standard error handling is enough: <br><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Print</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(str </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">error</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">if</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Print</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(str)</span></span></span><span class="hljs-function"> == </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">nil</span></span></span></span> { <span class="hljs-comment"><span class="hljs-comment">//     } else { //  }</span></span></code> </pre><br>  If you need complex error handling, as in a try / catch block, you can use the following technique: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> err := Print(str); err.(<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> *MissingError: <span class="hljs-comment"><span class="hljs-comment">//   case *WrongError: //   default: //     }</span></span></code> </pre><br>  Thus, using the switch construction, you can minimize the lack of try / catch. <br><br><h3>  Summing up </h3><br>  So, does a language really have such serious problems?  I think no!  This is a matter of habit!  For me, Go is the best solution when you need to write a system utility, a network daemon, or a web application that can handle tens of thousands of requests per second.  Go is young, but very promising, well solves his problems.  Go offers a new approach to which you need to get used to, take root in it, to feel comfortable.  I already did it, I advise you too! <br><br>  PS: the full code of examples is available <a href="https://github.com/byorty/tricks">here</a> . </div><p>Source: <a href="https://habr.com/ru/post/282588/">https://habr.com/ru/post/282588/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../282576/index.html">The book "Font and Design. Modern typography</a></li>
<li><a href="../282578/index.html">Mobx - managing the status of your application</a></li>
<li><a href="../282580/index.html">Installing CrashPlan in the Docker container on Synology NAS</a></li>
<li><a href="../282584/index.html">Use Webpack instead of Sprockets in Ruby on Rails</a></li>
<li><a href="../282586/index.html">Non-visual methods to protect the site from spam. Part 1. Statistics</a></li>
<li><a href="../282590/index.html">Rendering drops with transparency and reflections on OpenGL</a></li>
<li><a href="../282592/index.html">Perl plugin version 1.5 released for IntelliJ IDEA</a></li>
<li><a href="../282600/index.html">Autonomous ftp-client with resume files</a></li>
<li><a href="../282602/index.html">(Why) Mail.Ru Mail includes strict DMARC</a></li>
<li><a href="../282604/index.html">Blast Wave in Unity3D (displacement shader)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>