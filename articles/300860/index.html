<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Acceleration of automation of web-interface testing through the use of Python and Selenide</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="One of the tasks of the company RTL-Service, which develops local positioning systems with high accuracy and provides voice communication over an encr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Acceleration of automation of web-interface testing through the use of Python and Selenide</h1><div class="post__text post__text-html js-mediator-article">  One of the tasks of the company RTL-Service, which develops local positioning systems with high accuracy and provides voice communication over an encrypted channel, is to develop a web client: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0b2/bfa/2d6/0b2bfa2d64070643b6513b180df35152.jpg"><a name="habracut"></a><br><br>  In connection with the constant development of the web client (optimization, the emergence of additional functions), the task of minimizing the time spent by the tester and the developer of autotests is particularly relevant.  The following is an experience of accelerating the development of UI tests by applying for this Selenide and Python employees of our testing department. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Selenide seems to have obvious advantages.  First, Selenide is the top software level of Selenium Webdriver, allowing to reduce the time for performing standard Selenium operations and, as a result, speed up writing and support of autotests.  Secondly, in our case, Selenium tests were written in Java, which led to the choice of a software platform in the same language. <br><br>  Among other things, Selenide ‚Äúout of the box‚Äù has a number of such useful features as: autoscreens of failed tests, the ability to load into one line or download a file, quick deployment of the test environment (one line open (‚Äúhttp://rtlservice.com/‚Äù)) and many others.  At the end of the test, an error will appear in the console like the following: <br><pre><code class="java hljs">Element should not be exist {By.name: infoEdit} Element: <span class="hljs-string"><span class="hljs-string">'&lt;div class="icon btn size-2" name="infoEdit" title=""&gt;&lt;/div&gt;'</span></span> Screenshot: file:<span class="hljs-comment"><span class="hljs-comment">//build/reports/tests/1458565041545.0.png</span></span></code> </pre> <br>  and full stack track as usual. <br>  In this case, 1458565041545.0.png and there is a screenshot of the browser window where you can see the exact location of the problem. <br><br>  Since the main browser for our system is Chrome, where the main scripts are tested on Debian 7, in the first stage you may encounter the problem of initializing the web driver.  After the test was performed on different systems by our employees, it was concluded that this problem relates more to the operating system than to the platform itself.  To eliminate this problem, an instance of RemoteWebDriver was created in the initialization code using chromedriver and passed via the static setWebDriver method to Selenide.  To implement this method, the following sequence of actions was observed: <br>  1. Installing chromedriver. <br>  2. Running chromedriver is not under sudo.  By default, it starts at 127.0.0.1:9515. <br>  3. Creating a driver through the <a href="https://habrahabr.ru/users/before/" class="user_link">before</a> annotation: <br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Before</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">openBrowser</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ driver = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RemoteWebDriver(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> URL(<span class="hljs-string"><span class="hljs-string">"http://127.0.0.1:9515"</span></span>), DesiredCapabilities.chrome()); WebDriverRunner.setWebDriver(driver); driver.manage().window().maximize(); <span class="hljs-comment"><span class="hljs-comment">//     }</span></span></code> </pre> <br>  In addition, another significant advantage of using Selenide is the availability of advanced methods for managing the elements themselves in the DOM.  If, for example, in Selenium everything comes down to the click () method with checking for an isSelected () element, then Selenide has the ability to select checkboxes / radio buttons or lists. <br>  For example, in our project OpenLayers is used, so for more convenient work with layers (enable / disable) in Selenide you can make a rather laconic design that will remove the selection from all checkboxes: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (SelenideElement checkBox : $$(By.tagName(<span class="hljs-string"><span class="hljs-string">"input"</span></span>)).filterBy(Condition.hasAttribute(<span class="hljs-string"><span class="hljs-string">"type"</span></span>, <span class="hljs-string"><span class="hljs-string">"checkbox"</span></span>))) { checkBox.setSelected(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); }</code> </pre><br><img src="https://habrastorage.org/getpro/habr/post_images/0cd/c16/e64/0cdc16e645b35fab61919e7cffe5bcbb.jpg" alt="image"><br>  An equally important point is the use of "smart expectations".  ‚ÄúSmart expectations‚Äù is a simpler code for reading without WebDriverWait cluttering up or waiting through Thread.sleep with the timing of the appearance of the element on the eye. <br>  In the case of Selenide, it suffices to write: <br><br><pre> <code class="java hljs">$(By.id(<span class="hljs-string"><span class="hljs-string">"select-map-div"</span></span>)).waitUntil(Condition.visible, <span class="hljs-number"><span class="hljs-number">5000</span></span>);</code> </pre> <br><br>  where 5000 is the time in milliseconds during which Selenide will wait for the element to appear. <br>  To the note: if you are sure that the element will appear in the interval of up to 4 seconds, then it is enough to use only the method of should.  In this case, Selenide will wait 4 seconds before an error is displayed.  Of course, this time can be changed in the configuration. <br><br>  Thus, on such nuances, Selenide allows you to save a lot of time both on writing tests and on their support, at least when using the more obvious construction of should compared to assertions. <br>  You can learn more about the features of Selenide in the article of the developer of this tool ( <a href="https://habrahabr.ru/post/274071/">https://habrahabr.ru/post/274071/</a> ). <br><br>  The second important detail in accelerating the development of tests is the use of Python, which adds flexibility to tests and is used to quickly develop additional tools that make life easier for testers. <br>  Python enhances test flexibility with its interpretability, which allows you to work with a periodically changing API.  That is, simply by invoking a Python script from Java, you can always get actual data without making changes to the test code, be it events, location, maps, or something else. <br><br>  In addition, it is possible to sample from the database to obtain the necessary data in the process of updating the structure of this database from version to version.  In our case, this is used to obtain device numbers and further calls to them from the tests themselves. <br><br>  This item also implies the ability to use both virtual and real devices in the testing process, replacing the sample from the database with an array of MAC addresses of the necessary devices and running the test (sometimes this can also reveal problems in the device firmware). <br><br>  It is noteworthy that Python also writes scripts to various internal programs for manual testing, providing a more interactive shell.  Undoubtedly, bash can be used for this, but, subjectively, Python has a lower entry threshold and, if there are any problems, the script will be easier to fix on it. <br><br>  Thus, on the one hand, with the use of Selenide, we were able to increase the speed of developing autotests by 30% and greatly facilitate their support, and, on the other, with the help of Python, we managed to achieve flexibility of tests in a dynamically changing system. <br><br>  Authors: Nikolay Fedorov, Nikolay Smirnov </div><p>Source: <a href="https://habr.com/ru/post/300860/">https://habr.com/ru/post/300860/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../300846/index.html">String.raw: some features and limitations</a></li>
<li><a href="../300848/index.html">As behind a stone wall: the story of Qihoo 360 Total Security and opportunities in the Russian market</a></li>
<li><a href="../300850/index.html">Panamanian documents. From the world by thread</a></li>
<li><a href="../300854/index.html">Who do corporations want?</a></li>
<li><a href="../300858/index.html">E / M Commerce Day - grocery conference on electronic and mobile commerce</a></li>
<li><a href="../300862/index.html">Color palette from the masters of painting: Color Lisa</a></li>
<li><a href="../300864/index.html">Specialization in algorithms and data structures from Yandex, HSE, UC San Diego and CSC</a></li>
<li><a href="../300868/index.html">Apple removed System and Security Info from the App Store</a></li>
<li><a href="../300872/index.html">Chatbots: mass hysteria</a></li>
<li><a href="../300874/index.html">uDev tech events: Kharkov, May 25. Development of high load systems</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>