<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating FireFox Starter Extensions</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article provides step-by-step instructions on how to develop the simplest extension for FireFox. 
 This is a partial translation of the original ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating FireFox Starter Extensions</h1><div class="post__text post__text-html js-mediator-article">  This article provides step-by-step instructions on how to develop the simplest extension for FireFox. <br>  This is a partial translation of the original <a href="https://developer.mozilla.org/en/Building_an_Extension">article</a> . <br><br>  This is not my article, but my friend (his story: templar8@gmail.com).  <s>He really wants to get on Habr.</s>  <s>I myself do not have enough karma for invite.</s> <br><a name="habracut"></a><br><h2>  Introduction </h2><br>  This guide is a step-by-step instruction on how to create the simplest extension.  We will try to add another small panel with the phrase ‚ÄúHello, World!‚Äù To the status bar. <br><br><h2>  Environment preparation </h2><br>  Extensions are packaged and distributed as zip-files or packages with the extension XPI. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Here is an example of a typical internal XPI file structure: <br><br> <code>exampleExt.xpi: <br> /install.rdf <br> /components/* <br> /components/cmdline.js <br> /defaults/ <br> /defaults/preferences/*.js <br> /plugins/* <br> /chrome.manifest <br> /chrome/icons/default/* <br> /chrome/ <br> /chrome/content/ <br></code> <br>  We need to create a directory structure similar to this.  First, create a root extension directory (for example, <code>C:\extensions\my_extension\</code> or <code>~/extensions/my_extension/</code> ).  Inside this directory, create a <code>chrome</code> directory in which to create a <code>content</code> directory. <br><br>  In the <strong>root</strong> directory of the extension, create two empty text files with the names <code>chrome.manifest</code> and <code>install.rdf</code> .  The result should be a directory structure of the following form: <br><br> <code>&lt;ext path&gt;\ <br> install.rdf <br> chrome.manifest <br> chrome\ <br> content\ <br></code> <br>  Additional information on setting up the environment can be found <a href="https://developer.mozilla.org/en/Setting_up_extension_development_environment">here</a> . <br><br><h2>  Installation script </h2><br>  Open the <a href="https://developer.mozilla.org/en/Install_Manifests">install.rdf</a> file and add the following text to it: <br><br><blockquote> <code><a href="http://www.example.com/"></a> <a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">&lt;?</font>  <font color="#800000">xml</font> <font color="#ff0000">version</font> <font color="#0000ff">= "1.0"</font> ?  <font color="#0000ff">&gt;</font> </li><li></li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">RDF</font> <font color="#ff0000">xmlns</font> <font color="#0000ff">= "http://www.w3.org/1999/02/22-rdf-syntax-ns#"</font> </li><li>  <font color="#ff0000">xmlns: em</font> <font color="#0000ff">= "http://www.mozilla.org/2004/em-rdf#"</font> <font color="#0000ff">&gt;</font> </li><li></li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Description</font> <font color="#ff0000">about</font> <font color="#0000ff">= "urn: mozilla: install-manifest"</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">em: id</font> <font color="#0000ff">&gt;</font> sample@example.net <font color="#0000ff">&lt;/</font> <font color="#800000">em: id</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">em: version</font> <font color="#0000ff">&gt;</font> 1.0 <font color="#0000ff">&lt;/</font> <font color="#800000">em: version</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">em: type</font> <font color="#0000ff">&gt;</font> 2 <font color="#0000ff">&lt;/</font> <font color="#800000">em: type</font> <font color="#0000ff">&gt;</font> </li><li></li><li>  <font>&lt;! - Target Application this extension can install into,</font> </li><li>  <font>with minimum and maximum supported versions.</font>  <font>-&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">em: targetApplication</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Description</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">em: id</font> <font color="#0000ff">&gt;</font> {ec8030f7-c20a-464f-9b0e-13a3a9e97384} <font color="#0000ff">&lt;/</font> <font color="#800000">em: id</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">em: minVersion</font> <font color="#0000ff">&gt;</font> 1.5 <font color="#0000ff">&lt;/</font> <font color="#800000">em: minVersion</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">em: maxVersion</font> <font color="#0000ff">&gt;</font> 3.0. * <font color="#0000ff">&lt;/</font> <font color="#800000">em: maxVersion</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Description</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">em: targetApplication</font> <font color="#0000ff">&gt;</font> </li><li></li><li>  <font>&lt;! - Front End MetaData -&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">em: name</font> <font color="#0000ff">&gt;</font> sample <font color="#0000ff">&lt;/</font> <font color="#800000">em: name</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">em: description</font> <font color="#0000ff">&gt;</font> A test extension <font color="#0000ff">&lt;/</font> <font color="#800000">em: description</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">em: creator</font> <font color="#0000ff">&gt;</font> Your Name Here <font color="#0000ff">&lt;/</font> <font color="#800000">em: creator</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">em: homepageURL</font> <font color="#0000ff">&gt;</font> www.example.com <font color="#0000ff">&lt;/</font> <font color="#800000">em: homepageURL</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Description</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Rdf</font> <font color="#0000ff">&gt;</font> </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br><ul><li>  sample@example.net is the extension ID.  This value is written in the email address format and is required to identify the extension (it should not be your email address).  Make it unique.  You can also use the GUID.  NOTE: Although this parameter is written in the email address format, it does not have to be valid.  (example.example.example) <br></li><li>  The <code>&lt;em:type&gt;2&lt;/em:type&gt;</code> - 2 parameter indicates that this will be an extension.  For example, for design themes, this value should be set to 4 (all type codes can be found <a href="https://developer.mozilla.org/en/Install_Manifests">here</a> ). <br></li><li>  <strong>{ec8030f7-c20a-464f-9b0e-13a3a9e97384}</strong> - ID of Firefox (note. Lane - apparently, for Thunderbird will be a different value). <br></li><li>  <strong>1.5</strong> - the number of the minimum required for the expansion version of Firefox.  Never use the * symbol to indicate minVersion, this can lead to unexpected results. <br></li><li>  <strong>3.0. *</strong> - the maximum version number of Firefox with which the extension will work.  This value should be no newer than the latest version of the browser at the moment!  In this case, ‚Äú3.0. *‚Äù Indicates that the extension will work with Firefox 3.0 and versions 3.0.x. <br></li></ul><br>  (If you received a message that install.rdf is incorrect, it would be useful to download this file in Firefox (File-&gt; Open file ...), after which the browser will show you xml errors. In my case there was a space before "&lt;xml") <br><br>  Extensions created to work with Firefox 2.0.0.x, you need to specify as the maximum version of "2.0.0. *".  For extensions created for working with Firefox 1.5.0.x - "1.5.0. *". <br><br>  A list of required and optional parameters of the installation script can be found <a href="https://developer.mozilla.org/en/Install_Manifests">here</a> . <br><br>  Save the file. <br><br><h2>  Browser extension using XUL </h2><br>  The Firefox user interface is written using XUL and JavaScript.  <a href="https://developer.mozilla.org/en/XUL">XUL</a> is an XML subtype that allows you to create user interface elements, such as buttons, menus, control panels, trees, and so on.  All user actions are processed using JavaScript. <br><br>  To "expand" the browser, we modify individual parts of the Firefox user interface by adding or modifying widgets (controls).  We add widgets by adding new XUL DOM elements to the browser window and control their behavior using scripts and event handling. <br><br>  The browser interface is defined in <code>browser.xul</code> ( <code>$FIREFOX_INSTALL_DIR/chrome/browser.jar</code> contains <code>content/browser/browser.xul</code> ) In <code>browser.xul</code> we can find a description of a status bar that looks something like this: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">&lt;</font> <font color="#800000">statusbar</font> <font color="#ff0000">id</font> <font color="#0000ff">= "status-bar"</font> <font color="#0000ff">&gt;</font> </li><li>  ... <font color="#0000ff">&lt;</font> <font color="#800000">statusbarpanel</font> <font color="#0000ff">&gt;</font> ... </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">statusbar</font> <font color="#0000ff">&gt;</font> </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br>  <code>&lt;statusbar id="status-bar"&gt;</code> is the ‚Äútie point‚Äù of the XUL layer. <br><br><h2>  XUL layers </h2><br>  XUL layers are a way to add widgets to a XUL document.  A XUL layer is a .xul file that defines XUL fragments that describe tie points in a ‚Äúmain‚Äù document.  These fragments can point to widgets that will be added, deleted, or changed. <br><br><h3>  Sample XUL Layer Document </h3><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">&lt;?</font>  <font color="#800000">xml</font> <font color="#ff0000">version</font> <font color="#0000ff">= "1.0"</font> ?  <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">overlay</font> <font color="#ff0000">id</font> <font color="#0000ff">= "sample"</font> </li><li>  <font color="#ff0000">xmlns</font> <font color="#0000ff">= "http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">statusbar</font> <font color="#ff0000">id</font> <font color="#0000ff">= "status-bar"</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">statusbarpanel</font> <font color="#ff0000">id</font> <font color="#0000ff">= "my-panel"</font> <font color="#ff0000">label</font> <font color="#0000ff">= "Hello, World"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">statusbar</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">overlay</font> <font color="#0000ff">&gt;</font> </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br>  The <code>&lt;statusbar&gt;</code> with an id equal to ‚Äú <code><strong>status-bar</strong></code> ‚Äù indicates the browser widget to which we want to add our element. <br><br>  The <code>&lt;statusbarpanel&gt;</code> is a new widget that we want to add. <br><br>  Save this code in the <code><strong>sample.xul</strong></code> file <code><strong>sample.xul</strong></code> the <code>chrome/content</code> directory. <br><br><h2>  Chrome URIs </h2><br>  XUL files are part of the so-called.  ‚Äú <a href="https://developer.mozilla.org/en/Chrome_Registration">Chrome Packages</a> ‚Äù are packages of user interface elements loaded via the <code>chrome://</code> URI.  Instead of loading the interface using <code>file://</code> URIs (especially Firefox‚Äôs location may vary depending on the platform and systems), Mozilla‚Äôs developers decided to create a new URI type, using which all installed applications will have access to XUL content. <br><br>  The URI for the browser window is <code>chrome://browser/content/browser.xul</code> .  Try entering this URL in the Firefox address bar. <br><br>  Chrome URI consists of several parts: <br><br><ul><li>  The 1st is the protocol ( <code>chrome</code> ), which tells the Firefox network library that this is a Chrome URI. <br></li><li>  The 2nd is the package name (in this example, <code>browser</code> ), which points to a set of user interface components.  For your application, this part must be unique, in order to avoid conflicts with other extensions. <br></li><li>  3rd - the type of data requested.  There are three types: <code>content</code> (XUL, JavaScript, XBL links and other components of the user interface of an application), <code>locale</code> (DTDs, .properties files, which may contain other files containing user interface localization lines) and <code>skin</code> (CSS and theme images) . <br></li><li>  The last part is the path to the downloaded file. <br></li></ul><br>  For example, <code>chrome://foo/skin/bar.png</code> loads the file <code>bar.png</code> from the skin section of the <code>foo</code> theme. <br><br>  When you download something using the Chrome URI, Firefox uses the Chrome Registry (Chrome Registry) to convert this URI to the actual file path on disk (or in JAR archives). <br><br><h2>  Create Chrome Manifest </h2><br>  For more information on Chrome Manifest and all of its properties, refer to the <a href="https://developer.mozilla.org/en/Chrome_Registration">reference guide</a> . <br><br>  Open the <strong>chrome.manifest</strong> file that was created in the root directory of your extension.  Add the following code: <br><br> <code>content     sample     chrome/content/ <br></code> <br>  ( <strong>Do not forget about the closing slash, ‚Äú/‚Äù!</strong> Without it, the package will not be registered.) <br><br>  Let's sort each element: <br><ol><li>  chrome package type </li><li>  chrome package name (must be written in lower case, because Firefox / Thunderbird in version 2 and earlier do not support mixed case names - <a href="https://bugzilla.mozilla.org/show_bug.cgi%3Fid%3D132183">bug 132183</a> ) <br></li><li>  placing chrome package files </li></ol><br>  This means that the <strong>sample</strong> package files are located in the <code>chrome/content</code> directory relative to the location of the <code>chrome.manifest</code> file. <br><br>  Please note that the content, localization and skin files must be inside the content, locale and skin directories of the chrome subdirectory, respectively. <br><br>  Save the file.  Now, when you launch Firefox with your extension (how to do this will be described below), the chrome package will be registered. <br><br><h2>  Register layer </h2><br>  Now you need to associate your layer with the browser window.  To do this, add the following lines to the <code>chrome.manifest</code> file: <br><br> <code>overlay chrome://browser/content/browser.xul chrome://sample/content/sample.xul <br></code> <br>  These two lines tell Firefox to link <code>sample.xul</code> and <code>browser.xul</code> while <code>browser.xul</code> loading. <br><br><h2>  Testing </h2><br>  First, we need to tell Firefox about our extension.  At the development stage for Firefox version 2 and higher, you can specify where to get the new extension, and the browser will load it after each restart. <br><br><ol><li>  Go to your <a href="http://kb.mozillazine.org/Profile_folder">home directory</a> , and then to the directory containing the Firefox profile you are going to work with (for example, <code>Firefox/Profiles/&lt;profile_id&gt;.default/</code> ). <br></li><li>  Go to the <code>extensions/</code> directory, if it does not exist, create one. <br></li><li>  Create a text file and place in it the full path to the directory with your extension (for example, <code>C:\extensions\my_extension\</code> or <code>~/extensions/my_extension/</code> ).  Windows users should be aware of the direction of the slash, be sure to add the closing slash and remove all trailing spaces. <br></li><li>  Save the file with the extension id as its name (for example, sample@example.net).  No file extension. <br></li></ol><br>  Now everything is ready for testing. <br><br>  Launch Firefox.  Firefox on the text link itself will find a directory with your extension and install it.  After launching the browser, you will see the inscription ‚ÄúHello, World!‚Äù On the right side of the status bar. <br><br>  You can make some changes to the .xul file, restart Firefox, and immediately see the result. <br><br><h2>  Build Package </h2><br>  Now that the extension is working, you can create a package for distribution and installation. <br><br>  <strong>Zip the contents of the</strong> directory with your extension (not the extension directory itself) with the zip archiver and change the extension of the archive from .zip to .xpi. <br><br>  If you are the happy owner of Extension Builder, it can do all the dirty work for you (Tools -&gt; Extension Developer -&gt; Extension Builder).  Just go to the directory with your extension and click the Build Extension button.  This extension has a lot of tools to facilitate development. <br><br>  Now upload the resulting .xpi file to your server and make sure its type is set to <code>application/x-xpinstall</code> .  After that, you can download and install the extension. <br></div><p>Source: <a href="https://habr.com/ru/post/71839/">https://habr.com/ru/post/71839/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../71832/index.html">Maltitach in Ubunt 9.10</a></li>
<li><a href="../71833/index.html">TeamWox is getting even closer for business!</a></li>
<li><a href="../71834/index.html">Friendly error message</a></li>
<li><a href="../71835/index.html">CSS3: Forever and ever!</a></li>
<li><a href="../71836/index.html">What OS you choose if Windows and all the software under it will be free?</a></li>
<li><a href="../71841/index.html">Help remember the name of the service</a></li>
<li><a href="../71843/index.html">A little bit about the trends of site design</a></li>
<li><a href="../71844/index.html">Don't let your robot talk to strangers.</a></li>
<li><a href="../71845/index.html">Winning cut text in HTML select</a></li>
<li><a href="../71847/index.html">Online store BeCompact offers a test drive</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>