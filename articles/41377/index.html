<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>C # Acceptance</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The multifaceted Sherlock Holmes and Erast Fandorin, the ideal aristocrat, honored the deductive method very much and both achieved amazing success in...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>C # Acceptance</h1><div class="post__text post__text-html js-mediator-article">  The multifaceted Sherlock Holmes and Erast Fandorin, the ideal aristocrat, honored the deductive method very much and both achieved amazing success in its application.  ‚ÄúDrop all the impossible, what remains, and will be the answer, no matter how incredible it may seem,‚Äù said Sir Arthur Conan Doyle in the mouth of his hero. <br><br>  However, the science of reasoning does not end on deductive reasoning - we should not forget about induction.  About it and about the approximate matters and will treat this treatise. <br><a name="habracut"></a><br><h2>  Duck test </h2><br>  Induction is a process of logical reasoning based on the transition from particular to general provisions.  The famous "duck test" is a prime example of such a process: <br><br><blockquote>  If it walks like a duck and quacks <br>  (If something walks like a duck and quacks like a duck, then it's a duck) </blockquote>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      As applied to programming languages ‚Äã‚Äã- in particular, to object-oriented ones, the ‚Äúduck test‚Äù acquires a special meaning.  In dynamically typed languages, the semantics of using an object is determined by the current set of its methods and properties.  For example, in a statically typed language that does not support utilization, you can create a function that takes a <code>Duck</code> object as a parameter and calls the object's <code>Quack</code> and <code>Walk</code> methods.  In the same utipizirovannom (and, as a result, in dynamically typed) language, a similar function can take as a parameter some abstract object and try to call the same methods in it (perhaps, checking their presence).  In a statically typed language, this behavior can be achieved using inheritance and interface implementations, but this will be an expression of the <em>is-a</em> form, unlike <em>has-a</em> in dynamic languages. <br><br>  Briefly explaining what is the utilization and why it is not available in statically typed languages, I will now slightly refute myself.  For some, it may not be a revelation, but nonetheless.  Some kind of duck typing is in C #.  That's about it now in more detail. <br><br><h2>  foreach </h2><br>  Syntactic sugar may be a little sweeter than it seems at first glance.  In particular, this concerns the <code>foreach</code> operator.  Most textbooks say that to support <code>foreach</code> semantics in a class, the <code>System.Collections.IEnumerable</code> interface must be implemented (explicitly or implicitly).  In fact, this is not a completely valid statement - if we talk about C #, then the mentioned interface is completely optional to implement. <br><br>  If you open the C # Language Specification and look at section 8.8.4, you can see the following: <br><br><blockquote>  It is a collection of the type of the iteration variable.  If expression has the value of a <code>null</code> , a <code>System.NullReferenceException</code> is thrown. <br>  It can be used to make it out of the following criteria: <br><ul><li>  <code>C</code> contains a public instance method for the signature of the following text. </li><li>  <code>E</code> contains a public instance method with the signature <code>MoveNext()</code> and the return type <code>bool</code> . </li><li>  The current instance of the current value.  This is the type of the collection type. </li></ul></blockquote><br>  Thus, the following code will perfectly compile and output to the console what it is supposed to do: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">using</font> System; <br> <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <br> <br> <font color="#0000ff">namespace</font> DuckTyping <br> { <br> <font color="#0000ff">class</font> Collection <br> { <br> <font color="#0000ff">public</font> Enumerator GetEnumerator() <br> { <br> <font color="#0000ff">return</font> <font color="#0000ff">new</font> Enumerator(); <br> } <br> } <br> <br> <font color="#0000ff">class</font> Enumerator <br> { <br> <font color="#0000ff">private</font> <font color="#0000ff">bool</font> moveNext = <font color="#0000ff">true</font> ; <br> <br> <font color="#0000ff">public</font> <font color="#0000ff">object</font> Current <br> { <br> <font color="#0000ff">get</font> { <font color="#0000ff">return</font> <font color="#A31515">"Enumerator.Current"</font> ; } <br> } <br> <br> <font color="#0000ff">public</font> <font color="#0000ff">bool</font> MoveNext() <br> { <br> <font color="#0000ff">if</font> (!moveNext) <br> <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; <br> <br> moveNext = <font color="#0000ff">false</font> ; <br> <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; <br> } <br> } <br> <br> <font color="#0000ff">class</font> Program <br> { <br> <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main() <br> { <br> <font color="#0000ff">foreach</font> ( <font color="#0000ff">object</font> o <font color="#0000ff">in</font> <font color="#0000ff">new</font> Collection()) <br> <font color="#2B91AF">Console</font> .WriteLine(o); <br> } <br> } <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Trifle, I'm nice. <br><br><h2>  Collection Initializers </h2><br>  Pretty nice innovation C # 3.0.  I recall: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">var</font> digits = <font color="#0000ff">new</font> <font color="#2B91AF">List</font> &lt; <font color="#0000ff">int</font> &gt; { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 };</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  All anything, but it remains to define the term "Collection".  And with this there are problems. <br><br>  The <code>System.Collections.ICollection</code> interface prior to .NET 2.0 was a completely stupid creation.  In 2.0, it was repaired: <code>System.Collections.Generic.ICollection&lt;T&gt;</code> allows you to add and remove elements, traverse the <code>foreach</code> mentioned above and find out the number of elements in the collection. <br><br>  It would seem that a solution was found: any class that implements the <code>ICollection&lt;T&gt;</code> will be called a collection.  But it was not there - practically no one implements it.  Of the thousands of classes. NET BCL, only a few dozen can boast that they have a publicly accessible constructor without parameters and can be brought to <code>ICollection&lt;T&gt;</code> . <br><br>  Nobody thought of giving up in the C # Design Group.  It was decided to use the already well-proven Pattern-based syntax - namely, to call the <code>Add()</code> method, if it exists at all.  Now the requirements for the collection from the point of view of the Collection Initializer are the following: the implementation of <code>IEnumerable</code> and the presence of at least one public method <code>Add()</code> . <br><br>  The item "the presence of at least one ..." requires a little explanation.  The list of elements enclosed in braces is not a ‚Äúlist of elements to add‚Äù - this is ‚Äúa list of arguments for <code>Add()</code> methods‚Äù.  The argument list can thus be heterogeneous.  In other words, having such a class: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> Plurals : IDictionary&lt; <font color="#0000ff">string</font> , <font color="#0000ff">string</font> &gt; <br> { <br> <font color="#0000ff">public</font> <font color="#0000ff">void</font> Add( <font color="#0000ff">string</font> singular, <font color="#0000ff">string</font> plural); <br> <font color="#0000ff">public</font> <font color="#0000ff">void</font> Add( <font color="#0000ff">string</font> singular); <br> <font color="#0000ff">public</font> <font color="#0000ff">void</font> Add(KeyValuePair&lt; <font color="#0000ff">string</font> , <font color="#0000ff">string</font> &gt; pair); <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  The following initializer will be completely legal: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">var</font> myPlurals = <font color="#0000ff">new</font> Plurals{ ‚Äúcollection‚Äù, { ‚Äúquery‚Äù, ‚Äúqueries‚Äù }, <font color="#0000ff">new</font> KeyValuePair(‚Äúchild‚Äù, ‚Äúchildren‚Äù) };</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Since overload resolution is performed separately for each element from the initialization list is performed separately, all three methods will be involved. <br><br><h2>  Instead of conclusion </h2><br>  Sherlock Holmes, Erast Petrovich and your humble servant bow down.  I hope it was interesting. <br><br>  Thank you <a title="The Mellow Musings of Dr. T" href="http://blogs.msdn.com/madst/">Dr.</a>  <a title="The Mellow Musings of Dr. T" href="http://blogs.msdn.com/madst/">T</a> for food for thought. </div><p>Source: <a href="https://habr.com/ru/post/41377/">https://habr.com/ru/post/41377/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../41370/index.html">The latest Yandex Cup</a></li>
<li><a href="../41371/index.html">Global distribution of FPP-prizes!</a></li>
<li><a href="../41372/index.html">Targus Mac Accessory Kit</a></li>
<li><a href="../41374/index.html">Nearly two-thirds of humanity with mobile</a></li>
<li><a href="../41375/index.html">Skype 4.0 Beta 2 for Windows - criticism was not in vain</a></li>
<li><a href="../41379/index.html">Baltimore is completely covered by a WiMax network</a></li>
<li><a href="../41383/index.html">Top4Top still closed?</a></li>
<li><a href="../41384/index.html">Insert last slash.</a></li>
<li><a href="../41385/index.html">What is your main browser, username?</a></li>
<li><a href="../41386/index.html">Color taskbar in Windows Vista</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>