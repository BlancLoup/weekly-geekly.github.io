<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Capacity management is another problem.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It's great when your IT brainchild is faced with a growth in revenue, users, CTR, processed documents, loan applications, number of branches and other...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Capacity management is another problem.</h1><div class="post__text post__text-html js-mediator-article">  It's great when your IT brainchild is faced with a growth in revenue, users, CTR, processed documents, loan applications, number of branches and other nicely scratching things.  All these things are called business drivers, which in the right situation correlate with the load on the IT infrastructure located under your service.  Proper capacity planning will protect you from epic fails on Black Friday (so that it does not become really black;)) and your budget on all other days.  Today we will talk not about the power management process itself, but about the technical side of the issue.  I‚Äôll tell you what reports can be used to estimate trends and build correlation matrices.  Let's briefly tell what experience we have saved, and ask all the questions in the comments or a personal message.  Go! <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cc6/e4f/b79/cc6e4fb79318d1690e1132b7e784e21d.png" width="624" title="cost_risk_balance" alt="cost_risk_balance"></div><br><a name="habracut"></a><br><br>  <b>The first assessment method is time analysis.</b>  By itself, it is of several types. <br><br>  1. Performance over time (PTA - Performance vs Time analysis) - shows the values ‚Äã‚Äãof one or more performance metrics for a selected time interval.  You can also visualize several metrics belonging to different systems at different scales. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The main objectives of this type of analysis are: <br><br><ul><li>  identifying the most critical resources for later use in a ‚Äúwhat-if‚Äù analysis; </li><li>  creating threshold (baseline) performance levels for systems based on historical data for: <br><ul><li>  checking or changing time intervals to be used in further analysis, </li><li>  trend analysis (linear, moving averages), </li><li>  detection of typical behavior (daily, weekly, monthly); </li></ul></li><li>  determination of peak loads; </li><li>  definitions of repetitive bursts and their values. </li></ul><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e02/ce1/f11/e02ce1f11ed45a809c0bbbe08e27fb05.jpg" width="579" title="pta_analyse" alt="pta_analyse"></div><br>  <i>An example of a time analysis with visualization of 3 metrics - CPU, RAM and disk memory loads</i> <br><br>  2. Time load (LTA - Load vs Time analysis) - shows the behavior of one or several business metrics in the selected time interval.  An example is the number of transactions over a specific period of time. <br><br>  LTA main tasks: <br><br><ul><li>  analyze and select business metrics based on the following criteria: <br><ul><li>  significance of applications </li><li>  dependence between business metrics; </li></ul><br></li><li>  checking or changing time intervals to be used in further analysis; </li><li>  trend analysis (linear, moving averages); </li><li>  detection of typical behavior (daily, weekly, monthly), possible load peaks when performing periodic tasks; </li><li>  definition of repeating bursts and their values; </li><li>  determining business metrics thresholds for calculating averages and variance. </li></ul><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cdd/e2e/dbc/cdde2edbcbf433db12cdc64f70d930d3.jpg" width="538" title="pta_analyse_business_metrics" alt="pta_analyse_business_metrics"></div><br>  <i>Sample business metrics analysis</i> <br><br>  3. Configuration analysis (CA) - shows the historical configuration values ‚Äã‚Äãof the end servers, etc.  for the selected time period. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7a8/204/aec/7a8204aecfc1618e3b985e0aef20e367.jpg" width="628" title="pta_analyse_infrastructure" alt="pta_analyse_infrastructure"></div><br>  <i>An example of a temporary analysis of hardware configurations</i> <br><br>  <b>The second assessment method is correlation analysis.</b> <br><br>  When analyzing data, links are created between business drivers and technological resources in accordance with the correlation coefficient.  The correlation coefficient is such a beast that shows the degree of interconnection of two metrics and can take values ‚Äã‚Äãfrom -100% (complete inverse relationship) to + 100% (complete direct dependence).  A value of 0 (and close to it) indicates no dependence between a pair of metrics. <br><br>  When building a report, correlation analysis is used to build correlation maps and business metrics maps.  Business metrics cards are a key component in building a report, reflecting the dependence of business indicators and the resources used.  For example, in the figure below, the business metrics (the number of requests from the web client and the number of sent messages to the web client) depend on the application server resources and the DBMS on which the application is running. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/da2/c7f/365/da2c7f365ce2ed368550dbfd33004d38.jpg" width="498" title="depending_metrics" alt="depending_metrics"></div><br>  <i>Metrics dependency example</i> <br><br>  Based on this information, business metric cards are configured for subsequent performance analysis by business load. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3c4/37a/389/3c437a389a4542dde14c166b7c5cf8ea.jpg" width="616" title="business_metrics_map" alt="business_metrics_map"></div><br>  <i>Sample business metrics card</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e94/14d/70f/e9414d70f669eb31b405c69ffbe7420d.jpg" width="627" title="metrics_correlation" alt="metrics_correlation"></div><br>  <i>Calculation of correlation of values ‚Äã‚Äãof performance parameters and business metrics</i> <br><br>  As a result, the degree of utilization of specific resources on specific servers by business metrics is revealed: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bda/c36/0ef/bdac360efecbbbc67500c802bba89215.jpg" width="628" title="resource_load" alt="resource_load"></div><br>  <i>Resource utilization load by business metrics</i> <br><br>  The obtained data allows you to visually reflect the dependence of business metrics on the allocated resources and to determine saturation points, etc .: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3a2/9ef/fbc/3a29effbc3550a25eb12f1f66a005b9e.jpg" width="565" title="PLA" alt="PLA"></div><br>  <i>Dependence and saturation point of the total number of requests in the business system to CPU load</i> <br><br>  Also, correlation analysis is used to compare any pairs of metrics in the system.  These can be either business metrics or performance metrics: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d82/673/b0e/d82673b0ed7b82356e87cf3fbffa1c15.jpg" width="457" title="LLA" alt="LLA"></div><br>  <i>An example of comparing two business metrics (the number of visits to the site against the number of pages viewed</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/aad/191/978/aad19197801fa4a37f4d4da1e9fab356.jpg" width="627" title="comparison" alt="comparison"></div><br>  <i>Performance Metrics Comparison Example</i> <br><br>  <b>And finally, the third type of assessment - the calculation of trends.</b> <br><br>  The future behavior prediction model (trend calculation) is used to determine future values ‚Äã‚Äãand the dynamics of changes in one or more performance indicators (or business metrics) from historical data. <br><br>  The figure below shows the model of the possible use of this mechanism.  The system loaded historical data on the download of the outgoing communication channel.  For this parameter, a threshold value is set - 70% of the channel load from the maximum possible.  Using the extrapolation mechanism, the trend of the parameter growth dynamics is automatically built up and the saturation time (reaching the threshold value) is determined - less than 1 calendar month. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1cb/7e8/959/1cb7e8959229fa3c70d91e654b1ba53e.jpg" width="460" title="trend_calculation" alt="trend_calculation"></div><br>  <i>An example of using trend calculation to determine saturation time</i> <br><br>  Such a tool is also used to conduct ‚Äúwhat-if‚Äù analysis.  For example, the following is a variant of the scenario for calculating the increase in total disk space.  The graph in green shows the allocated volume and the point of increasing disk space (mid-March).  Blue is a graph of disk space usage.  Thus, the constructed trend and ‚Äúwhat-if‚Äù analysis (disc addition) show that the saturation point will not come until the end of the year. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cd6/83b/0e2/cd683b0e23a25168f61e813f9e62a5ae.jpg" width="557" title="what_if" alt="what_if"></div><br>  <i>Option scenario for calculating the increase in total disk space</i> <br><br>  ‚ÄúWhat-if‚Äù analysis is also used to calculate the performance of the IT infrastructure, depending on the changing values ‚Äã‚Äãof business metrics. <br><br>  The figure below shows an example of calculating the maximum possible indicators for entering the system and the number of orders sent.  The first part of the table contains business metrics (Visits, Orders Received) and their current values ‚Äã‚Äã(30,000 visits per hour and 1,000 orders).  The Target column indicates the checked values ‚Äã‚Äãof the parameters (120 000 and 5 000).  As a result, you can calculate the maximum load on the infrastructure (61 500 and 2 400 respectively), and you can also see the point of failure - CPU performance (red dot on the table below). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6ca/659/1a5/6ca6591a5900cec4b04afcf8e11afbb8.jpg" width="597" title="point_of_failure" alt="point_of_failure"></div><br>  <i>An example of calculating the maximum possible indicators of visits to the system and the number of orders sent</i> <br><br>  Thus, it is possible to determine the maximum capacity of the infrastructure, determine the bottlenecks and make a timely decision on the modernization. <br><br>  Please contact us with questions in the comments.  And if the task requires a slightly more thoughtful approach, <a href="http://www.jet.msk.su/services/upravlenie-it-uslugami-i-it-infrastrukturoy/%3Futm_source%3Dhabr%26utm_content%3D327282">our consulting - he</a> , like the May holidays - will always please you. <br><br>  At the end of the post there are a couple of polls, it will be great if you can spend a couple of tens of seconds on them.  Thank! <br><br>  The author of the article: <b>Anton Kasimov</b> , architect of control systems, Jet Infosystems. </div><p>Source: <a href="https://habr.com/ru/post/327282/">https://habr.com/ru/post/327282/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../327270/index.html">Hacksplaining - an online course on web vulnerabilities</a></li>
<li><a href="../327272/index.html">‚ÄúCryptography in blockchains‚Äù: about hash functions, keys and digital signatures</a></li>
<li><a href="../327274/index.html">Development of an accelerated BBC News homepage</a></li>
<li><a href="../327276/index.html">Open access to HighLoad ++ video over the past five years</a></li>
<li><a href="../327280/index.html">Sending voice messages VKontakte using VK API</a></li>
<li><a href="../327284/index.html">New mobile banking on Google Play - now disguised as a flashlight application</a></li>
<li><a href="../327288/index.html">Discussing "The operating systems of the future for the Internet of things": come - it will be interesting</a></li>
<li><a href="../327290/index.html">YUBITSEC CTF: Learn reverse or +925 rating points in a few minutes</a></li>
<li><a href="../327292/index.html">Testing parallel processes</a></li>
<li><a href="../327294/index.html">What the front-end developer should be able to do</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>