<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Home Mac Server</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wandering through the internet, I came across an article that I wanted to share with you. 
 So: 

 Introduction. 
 This article is not a guide, is not...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Home Mac Server</h1><div class="post__text post__text-html js-mediator-article">  Wandering through the internet, I came across an article that I wanted to share with you. <br>  So: <br><br>  <strong>Introduction.</strong> <br>  This article is not a guide, is not a manual or manual.  This article is intended to give a general idea of ‚Äã‚Äãwhat can be done with straight arms, a little ambition and perseverance.  In it, in this article I will restore the chronology of events and actions that I committed, as a result of which this article turned out. <br><a name="habracut"></a><br>  <strong>Idea.</strong> <br>  I wanted to have my own personal home server.  My Powerbook G4, with an 80Gb hard drive every day filled to capacity, and constantly had to delete something, always sacrifice something to make room for other information that was more necessary and in demand at the moment.  On the other hand, the information that was deleted was also important and could be needed in the future.  I didn‚Äôt want to write it to discs, I didn‚Äôt want to buy external hard drives either, for reasons that will become clear to the reader below. <br><br>  I wanted the server to always work, access to it from anywhere in the world.  So that it becomes a kind of continuation of my laptop, and sitting at home, it was possible to work with it via Wi-Fi via the AirPort Extreme Base Station, and somewhere ‚Äúon the road‚Äù from any device that has Internet access, whether it is a handheld computer or cellular telephone. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Having a server at home is a blasphemy.  Firstly, it is fire-dangerous;  secondly, it can produce too much noise, and even if you remove it, for example, in a cupboard, it is still unsafe not only for the apartment, but also for him - normal cooling in a confined space will become impossible. <br><br>  It was decided to locate the server on the floor site. <br><br>  Advantages of such a decision: <br>  It is always cool on the site, which means that normal cooling will not be a problem. <br>  It is safe, because if a short circuit occurs and the server suddenly lights up, it will happen all the same on the site and will not harm the apartment <br>  The total absence of noise in the apartment, the absence of an additional source of heat in it <br><br>  Minuses: <br>  The server can simply be stolen, which means that it is necessary to think over the security system for it. <br><br>  <strong>Model selection.</strong> <br>  As a basis for building a server, I purchased a Powermac G4 (model ‚ÄúAGP‚Äù) with a PowerPC G4 400Mhz processor, 1Gb of RAM, a DVD-RW drive, a ZIP drive, a 16 megabyte video card, a 60 Gb hard drive and unnecessary me SCSI controller. <br><br><img src="https://habrastorage.org/getpro/habr/olpictures/bcb/dbe/9db/bcbdbe9dbf2a74fc446c375735f47e5f.jpg" width="371" height="500" hspace="10" vspace="10"><br><br>  I chose Mac OS X Tiger Server as the operating system, but we'll talk about it and some details regarding the system and PowerMac G4 later, but for now let's move on to the ‚Äúhard‚Äù part of the article. <br><br>  <strong>Preparing the box.</strong> <br>  To place the server on the driveway, you need to come up with a box.  Having walked around the shops like ‚ÄúElectrics‚Äù or ‚ÄúEverything connected with electricity‚Äù, I came to the conclusion that what these comrades sell is suitable for storing in them perhaps potatoes, which you should not lose if there are thieves and all sorts of ... bad people.  For these boxes, sellers want as much as five thousand rubles.  Even a child can break such a box by bending the wall with a key.  So I decided to make the box myself.  I bought some sheet metal in the nearest market, sketched a sketch of a drawer and gave it to the department of welding production at one of the universities of the city. <br><br>  The box turned out to be tough and durable.  Not in any comparison with the store.  The sizes were specially chosen with a small margin so that the server case was spacious, because besides the server itself, there will be several other devices in the box, which we will discuss below. <br><br><img src="https://habrastorage.org/getpro/habr/olpictures/4cc/2ca/3d8/4cc2ca3d8690ced1e69c047a1b6a68ed.jpg" width="375" height="500" hspace="10" vspace="10"><br><br>  First of all, for such a box you need to think about the cooling system.  It is required that the air inside it is not hot and constantly driven off.  On the right wall of the box, there were multiple holes made under a large fan that would suck fresh air into the box.  On the back wall are exactly the same, but under a smaller fan, which will be located, firstly, clearly opposite the fan installed in the server's power supply unit, and secondly, it will become an additional heat suction from this zone.  Holes were also made on the upper wall of the box. <br><br>  After all the technological holes were ready, I proceeded to paint the box.  Since the box does not carry an object of art of particular beauty, I bought the cheapest paint, brush, roller and solvent.  In order not to delay with painting it is better to use nitro paint. <br><br><img src="https://habrastorage.org/getpro/habr/olpictures/feb/d5a/308/febd5a308b65fc34cc5acc87e73b2f5a.jpg" width="375" height="500" hspace="10" vspace="10"><br><br>  After painting and finishing the box to a finished look, I proceeded to the placement of the cooling system.  To exclude vibrations from the fans touching the metal case of the box, it is necessary to use a rubber seal on a sticky basis, which is glued around the perimeter of the contacting surface: <br><br><img src="https://habrastorage.org/getpro/habr/olpictures/754/f79/a90/754f79a90932f97dfd8fd1b64aa33d24.jpg" width="450" height="337" hspace="10" vspace="10"><br><br>  After preparing the box, I proceeded to install it.  For him, not the best place was chosen - near the garbage disposal, but it turned out to be the only correct tactical point of view.  The box does not attract the attention of ‚Äúrandom visitors‚Äù of the site.  All communications have been summed up in advance.  Unfortunately, I can‚Äôt tell you what the wires were and where they came from, but the ideal option is to shave the walls, lay the wires and put on them.  It is also necessary to install a circuit breaker during the power supply phase, which, in case of emergency overcurrent, will turn off the power to the server and, thus, it will be possible to avoid big troubles. <br><br>  The box was fixed at six points on the anchor construction bolts at the top of the wall, closer to the ceiling.  It is difficult to break it off (there is no reception against scrap?).  It is better to use the lock without protruding parts in order to exclude the possibility of cutting it. <br><br><img src="https://habrastorage.org/getpro/habr/olpictures/f23/37e/f1e/f2337ef1e84ff7a19e00706ca3fc6f35.jpg" width="375" height="500" hspace="10" vspace="10"><br><br>  <strong>Box security system.</strong> <br>  This is a very important point.  We came up with our own alarm system, but, unfortunately, I cannot tell the principle of its operation for obvious reasons.  But there are some parameters that must be considered if the reader wants to come up with his own alarm: <br>  If the door is opened illegally (burglary), the alarm should be triggered. When the door is closed, the alarm is not difficult to switch off and continue to emit an alarm until it is turned off by a special button, which is better hidden in another apartment or inaccessible to others. <br>  The alarm should show its current status;  what mode it is in. <br><br>  In the figure above, next to the fan, we see two holes into which, later, two LEDs were installed - white and red flickering.  A white LED indicates that the alarm is working, and a red LED indicates that the alarm is in armed mode. <br><br>  The simplest option would be to use the most primitive car alarm.  Even these have in their arsenal door opening sensors and a pair of shock sensors <br><br>  I called my alarm iGuard. <br><br><img src="https://habrastorage.org/getpro/habr/olpictures/d01/57b/679/d0157b6792fcc3584efc5fe883f6e55c.jpg" width="450" height="337" hspace="10" vspace="10"><br><br>  <strong>Preparation of the system unit, equipment purchase.</strong> <br>  In this part we will talk about the necessary upgrade PowerMac G4.  Unfortunately, this model has a very big minus.  When you connect a hard drive, say 200Gb via a standard IDE channel, the system will not see more than 128 Gb of information, and indeed, the ATA bus leaves much to be desired - this is just Ultra ATA / 66.  In nature, there is a driver that allows you to fool the system, and thus connect larger hard drives, but it has a number of significant flaws, which I will not talk about.  Let me just say that after installing this driver and connecting the Seagate Barracuda hard drive to it at 200Gb, the download speed from it was disgusting.  Anyway, IDE-bus - this is the last century. <br><br>  I went to the Other World Computing store, where I picked up a wonderful SIIG Serial ATA 4 Channel PCI-M card, which has four Serial ATA ports.  This will allow you to connect the latest and highest-speed hard drives of any capacity.  Delivery from the United States did not cost much, and a week later I had the card. <br><br><img src="https://habrastorage.org/getpro/habr/olpictures/816/fde/680/816fde680ad88013afdb4cd3351915a5.jpg" width="375" height="500" hspace="10" vspace="10"><br><br>  At the same time, two top winchesters from Seagate with a capacity of 400 Gb were purchased.  Thus, the total amount of our server has increased to 800 Gb, which is quite good for a start.  In the future, if we calculate the number of free PCI ports, purchase more such cards, think over the power and cooling system, the total volume may increase to 13 terabytes. <br><br>  I fixed one hard drive inside the case in a special basket, and the other in the compartment where the DVD-RW and ZIP drives were installed.  The second hard drive does not have a mount and is installed on a rubber cushion, which was created from a compactor, which can be viewed above in this article.  This made it possible to separate heat sources from each other and reduce vibrations.  Also, additional cooling was provided for each hard drive, there are now a lot of those on sale. <br><br><img src="https://habrastorage.org/getpro/habr/olpictures/86e/648/27f/86e64827f7d4c0ecc4a82d5721d50169.jpg" width="375" height="500" hspace="10" vspace="10"><br><br>  <strong>The appearance of the box, the results of the ‚Äúheavy part‚Äù.</strong> <br>  Here's what I got as a result: <br><br><img src="https://habrastorage.org/getpro/habr/olpictures/db2/2d5/360/db22d5360cccc58024bac140880a5e20.jpg" width="328" height="506" hspace="10" vspace="10"><br><br><img src="https://habrastorage.org/getpro/habr/olpictures/8de/174/ea8/8de174ea8b3c7a095bc481976e1a0aa4.jpg" width="422" height="600" hspace="10" vspace="10"><br><br>  <strong>Setting up a Mac OS X Server system, general principles of a server on a local network and the Internet.</strong> <br>  Of course, I chose Mac OS X Tiger Server as the operating system. <br><br>  The server is connected to the local network, as well as to the Internet through PPPoE.  My provider assigned me a real IP, thanks to which the server was accessible from anywhere in the world. <br><br>  Thanks to the wonderful Remote Desktop program, all system setting operations can be performed directly from a laptop, seeing the server screen on its screen: <br><br><img src="https://habrastorage.org/getpro/habr/olpictures/98a/a52/eac/98aa52eace0d0e916b514087d83d6450.jpg" width="450" height="302" hspace="10" vspace="10"><br><br>  On my server, I configured first of all, of course, the Apple File Protocol.  It allows you to connect to the server and work with files directly through the Finder, as if these files are located on your hard drive.  And of course, files can be opened directly from the server, whether it be price lists or videos.  Here‚Äôs how the Movies folder on my server looks like: <br><br><img src="https://habrastorage.org/getpro/habr/olpictures/80c/104/166/80c1041661962dd088bf19bc8f17925c.jpg" width="450" height="264" hspace="10" vspace="10"><br><br>  The built-in FTP server is too simple, its settings are not enough.  But there is the most beautiful and best in my opinion FTP-server for Mac - CrushFTP. <br>  I did not manage to see this amount of settings in any FTP server before.  Enumerate all the advantages does not make sense.  Users themselves can recognize them on the developer‚Äôs page.  This is probably the second ‚ÄúAmazing‚Äù product that will satisfy even super-demanding users.  Of particular note is the Web-based interface that allows you to work with FTP through any browser, and upload files to the server via drag'n'drop technology.  Also, it is impossible not to note the archiving function ‚Äúon the fly‚Äù.  Through the Web interface, you can select multiple files / folders and click on the ZIP button.  The server itself on the fly will prepare an archive in which the selected files or folders will be located and will submit this archive for download.  This is incredible. <br><br>  User / group support, quotas, bandwidth limiters, remote administration capabilities, SSL, the ability to process .sfv files and virtual directories.  CrushFTP can even determine the WAN IP address if you are using a NAT firewall.  CrushFTP supports file transfer using FTP, FTPS, HTTP, HTTPS, WebDAV, and SFTP. <br><br>  For Windows-based users of the local network, Windows Sharing was provided. <br><br>  When setting up the system, you need to remember that in the event of a sudden power outage in the house and its subsequent supply, the computer should turn on itself, start the necessary applications and connect to the Internet.  To automatically connect to the Internet, I wrote a small AppleScript, which I put in Login Items.  After logging into the system, the script waits 10 seconds until all applications are downloaded, then opens the Internet Connect application, connects to the Internet via PPPoE and closes the Internet Connect application. <br><br>  <a href="">Download script</a> <br><br>  <strong>Optimize work on Apple File Protocol.</strong> <br>  Of course, you can use the standard Finder function ‚ÄúConnect to Server ...‚Äù for the AFP connection, which is located in the Go menu.  But this is not very convenient for working on a local network, especially for Wi-Fi, because if you accidentally disconnect from the network, Finder will hang and then ‚Äúunmount‚Äù the attached share point.  After that, you will have to re-join, press additional buttons in the authentication window.  There is a much more interesting way and it is called ‚Äústatic automounting‚Äù.  Its essence is that after the system starts up, it automatically mounts the required share point and displays them in the Network.  Do not confuse this method with programs such as AutoMountMaker, this is different.  First, it uses the dynamic method of joining.  Yes, you will not have to enter anything and the server will be reachable directly from the Network, but the dynamic connection does not allow streaming playback of audio files or movies directly from the server, they will need to be downloaded first. <br><br>  The static method mounts the share point you need (both with and without authentication) also on the Network, but allows you to stream content from the server. <br>  In order to create your own automount share points you need to proceed in NetInfo Manager.  There, choose the path / mounts and do something approximate, as in the screenshot below: <br><br><img src="https://habrastorage.org/getpro/habr/olpictures/595/d26/f74/595d26f74d5a40a2527b5953652ed4a8.jpg" width="450" height="407" hspace="10" vspace="10"><br><br>  Where 10.100.0.7 is your server's ip (it may be different for you). <br>  Note: the variable ‚Äúdir‚Äù must necessarily begin with ‚Äú/ Network /‚Äù and end with the desired Share Point.  In the described case, this Share Point is a Distrib. <br>  Login and password for all of course get your own.  Also, on the Internet you can find more information about this method. <br><br>  This operation needs to be done once and no longer will you have to click any ‚ÄúConnect to server ...‚Äù, enter logins, passwords and be distracted by pressing buttons.  Moreover, this method does not hang the Finder in case of unsuccessful disconnection from the network.  This method just works. <br><br>  <strong>Conclusion, conclusions, thanks.</strong> <br>  Creating a home server is fun and not so complicated.  Of course, not having skills in soldering, electronics, software to make the described more difficult.  The purpose of the article is to show how important the idea that is being carried out.  It is very important - to do everything as it was intended and not to lower blots and errors, and correct and do it all over again until a positive result is achieved. <br><br>  Some people told me: ‚ÄúWhy did you need to make a Mac-based server?  On a PC basis, it would be much cheaper! ‚Äù.  Maybe it is so.  However, it is not speculative to think that the PC system unit would be five times cheaper than the PowerMac G4.  And then, what can the PC offer?  FTP?  Windows Sharing?  Dismiss.  A Mac based server is a special love. <br><br>  The server is working and working properly.  It is called ‚ÄúPirate Mac Server‚Äù.  Why - the big secret.  His address <br>  <a href="http://www.server.elevensky.ru/">http://www.server.elevensky.ru/</a> . <br>  It took me three months to create it. <br><br>  A source: <br>  <a href="http://www.borisov.elevensky.ru/" title="Author">www.borisov.elevensky.ru/</a> </div><p>Source: <a href="https://habr.com/ru/post/12595/">https://habr.com/ru/post/12595/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../125945/index.html">Black Rake in a Dark Room: Internet Project Marketing</a></li>
<li><a href="../125946/index.html">Android application for remote control Canon DSLR</a></li>
<li><a href="../125947/index.html">Drupal + Ajax + Own fonts + Flash + PNG = cross-browser site</a></li>
<li><a href="../125948/index.html">Creating a CRUD Application on Symfony 2</a></li>
<li><a href="../125949/index.html">For the anniversary of AgileManifesto - materials from AgileDays-2011</a></li>
<li><a href="../125950/index.html">Sandy Bridge support in linux kernel 3.1</a></li>
<li><a href="../125952/index.html">Network scanning in the terminal</a></li>
<li><a href="../125954/index.html">Psychological manipulation in the development of e-commerce sites</a></li>
<li><a href="../125958/index.html">Yandex.Money can now be replenished via SMP ON-Bank!</a></li>
<li><a href="../125959/index.html">Oracle's Java Day in SumIT</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>