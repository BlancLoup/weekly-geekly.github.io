<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>RIA JsClasses Integrator: Optimizing JavaScript Development</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The closer your site gets to the concept of Web2.0 , the more JavaScript code appears on your pages. Obviously, the developer has to spend more and mo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>RIA JsClasses Integrator: Optimizing JavaScript Development</h1><div class="post__text post__text-html js-mediator-article"> <a href="http://linux.ria.ua/JsClasses/"><img src="https://habrastorage.org/getpro/habr/post_images/799/fc2/13b/799fc213b1343c437a1968ba158b47a7.gif" align="left" alt="RIA JavaScript Classes Integrator"></a>  The closer your site gets to the concept of <b>Web2.0</b> , the more <b>JavaScript code</b> appears on your pages.  Obviously, the developer has to spend more and more time integrating his server code in php / java / python ... with the client part in <b>JavaScript</b> . <br><br>  A large amount of code requires some sort of systematization, for example, posting logically related parts of the code across different files, assigning file names to the controller / event / unit ... Surely many developers have their own solution to this problem. <br>  On Habr√©, for example, the JS-code is divided into small blocks that are requested depending on the page.  The code is written beautifully, commented out, there are indents.  A small minus of this approach is a large number of blocks (about 25) on each page.  At the beginning, I used a similar scheme, but now, nevertheless, I want to present a slightly different approach to the Habras community. <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Accelerating Factors </h2><br>  I highlighted a few ideas that, in my opinion, make the JS code development process more efficient: <ol><li>  Using the JS framework.  Many frameworks in addition to the finished rich functionality and plug-ins make the code more understandable for perception. <br>  For example, JS code: <br><blockquote>  <font color="black"><font color="#0000ff">document</font> .getElementById ('myElemrnt'). innerHTML = 'Test';</font> </blockquote><br>  on MooTools looks much more aesthetic and compact: <br><blockquote>  <font color="black">$ ('myElemrnt'). set ('html', 'Test');</font> </blockquote>  The framework can be any, I just got used to <a href="http://mootools.net/">MooTools</a> .  This framework has a very powerful component - these are classes.  Of course, this is not about full-fledged classes (they are not in JavaScript), but about the pseudo-class description using the Class object.  The Class object implements inheritance (Extends) with access to the overridden methods of the inherited class, as well as multiple inheritance (Implements) of methods without access to the overridden methods.  More details about classes can be found in the <a href="http://docs.mootools.net/Class/Class">documentation for mootools classes</a> . </li><li>  Need a system in the naming of classes, as well as in the naming of the directories in which these classes are placed.  ‚ÄúThe rules of the game‚Äù are very important for team development. There is no point in inventing my system, in my opinion.  I like <a href="http://framework.zend.com/manual/ru/coding-standard.naming-conventions.html">the coding rules for the Zend Framework</a> .  It remains only to adapt them a bit for writing JS (instead of the .php extension, write .js).  And, of course, to fulfill the condition - one class in one file.  How will the problem of a large number of files be solved, I will write below. </li><li>  Each class must be documented.  I prefer the <a href="http://www.jsdoctoolkit.org/wiki/index.php">JsDoc</a> standard.  A prerequisite is the <b>@requires</b> tag in class comments, which are used to indicate dependencies between classes. </li><li>  The resulting file must be one.  It is assembled from classes whose code is located in different folders (outside the visibility of the web server), taking into account the dependencies and the sequence of classes during assembly. </li><li>  The resulting file is rebuilt and the name is changed if changes were made to at least one of the classes (or dependent classes) requested by the ‚Äúengine‚Äù of your site. </li><li>  The resulting file is packed with the <a href="http://code.google.com/p/jsmin-php/">JSMin</a> module, which increases the speed of return and does not affect the ease of development. </li><li>  The resulting file is ‚Äúcompressed‚Äù using the gzip method, which allows browsers that support the gzip packaging technology to further increase the download speed. </li></ol><br><br><h2>  PHP implementation </h2><br>  Since the ‚Äúbare‚Äù ideas sound unconvincingly, I have embodied the above points in the PHP class <a href="http://linux.ria.ua/JsClasses/">RIA JsClasses Integrator</a> .  The class connects to your engine by adding a few lines to the php code and a single line to the template. <br><br>  In the example, I wrote a pair of base classes for Ajax requests.  In order to ‚Äúfeel‚Äù this class, you need to install it on your computer and try to make changes to the test class and see how the engine behaves.  Data on the location of the class, modification time, and dependencies between classes are cached into a text file, but caching can easily be rewritten, for example, in memcached. <br><br>  Configured quite simple. <br>  In your "engine" write about the following lines: <blockquote>  <font color="#000000"><font color="#007700">require (</font> <font color="#DD0000">'../libs/JSMin.php'</font> <font color="#007700">);</font></font> <font color="#000000"><font color="#007700"><br></font></font>  <font color="#000000"><font color="#007700">require (</font> <font color="#DD0000">'../libs/JsClasses.php'</font> <font color="#007700">);</font></font> <font color="#000000"><font color="#007700"><br><br></font></font>  <font color="#000000"><font color="#0000BB">$ jsClasses</font> <font color="#007700">= new</font> <font color="#0000BB">JsClasses</font> <font color="#007700">();</font></font> <font color="#000000"><font color="#007700"><br></font></font>  <font color="#000000"><font color="#0000BB">$ jsClasses</font> <font color="#007700">-&gt;</font> <font color="#0000BB">setClassesPath</font> <font color="#007700">(</font> <font color="#DD0000">'../js'</font> <font color="#007700">);</font></font> <font color="#000000"><font color="#007700"><br></font></font>  <font color="#000000"><font color="#0000BB">$ jsClasses</font> <font color="#007700">-&gt;</font> <font color="#0000BB">setClassesCacheFile</font> <font color="#007700">(</font> <font color="#DD0000">'../cache/jsClasses.cache'</font> <font color="#007700">);</font></font> <font color="#000000"><font color="#007700"><br></font></font>  <font color="#000000"><font color="#0000BB">$ jsClasses</font> <font color="#007700">-&gt;</font> <font color="#0000BB">make</font> <font color="#007700">(array (</font> <font color="#DD0000">'Ria_JsonRequest_Test'</font> <font color="#007700">));</font></font> <font color="#000000"><font color="#007700"><br></font></font>  <font color="#000000"><font color="#0000BB">$ classesResultJsFileName</font> <font color="#007700">=</font> <font color="#0000BB">$ jsClasses</font> <font color="#007700">-&gt;</font> <font color="#0000BB">getJsFileName</font> <font color="#007700">();</font></font> <font color="#000000"><font color="#007700"><br></font></font> </blockquote>  In the header of the page template that forms the html-code we place a link to the packaged JavaScript created by our module: <blockquote>  <font color="#000000">&lt;! DOCTYPE html PUBLIC "- // W3C // DTD XHTML 1.0 Transitional // EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;</font> <font color="#000000"><br></font>  <font color="#000000">&lt;html xmlns = "http://www.w3.org/1999/xhtml"&gt;</font> <font color="#000000"><br></font>  <font color="#000000">&lt;head&gt;</font> <font color="#000000"><br></font>  <font color="#000000">&lt;meta http-equiv = "Content-Type" content = "text / html;</font>  <font color="#000000">charset = utf-8 "/&gt;</font> <font color="#000000"><br></font>  <font color="#000000">&lt;title&gt; Simple JsClasses Integration on PHP Site Engine &lt;/ title&gt;</font> <font color="#000000"><br></font>  <font color="#000000">&lt;script type = "text / javascript" src = "js / mootools-1.2-core-nc.js"&gt; &lt;/ script&gt;</font> <font color="#000000"><br></font>  <font color="#000000">&lt;script type = "text / javascript" src = " <font color="#0000BB">&lt;?</font> <font color="#007700">echo</font> <font color="#0000BB">$ classesResultJsFileName?&gt;</font> "&gt; &lt;/ script&gt;</font> <font color="#000000"><br></font>  <font color="#000000">&lt;/ head&gt;</font> <font color="#000000"><br></font> </blockquote><br>  To return the packed files to the browser in the directory with auto-compiled JS-files (by <b>js / cache /</b> by default), create .htaccess with the following content: <blockquote>  &lt;FilesMatch "\ .js.gz $"&gt; <br>  ForceType text / javascript <br>  Header set Content-Encoding: gzip <br>  &lt;/ FilesMatch&gt; <br>  &lt;FilesMatch "\ .js $"&gt; <br>  RewriteEngine On <br>  RewriteCond% {HTTP_USER_AGENT}! ". * Safari. *" <br>  RewriteCond% {HTTP: Accept-Encoding} gzip <br>  RewriteCond% {REQUEST_FILENAME} .gz -f <br>  RewriteRule (. *) \. Js $ $ 1 \ .js.gz [L] <br>  ForceType text / javascript <br>  &lt;/ FilesMatch&gt; <br></blockquote><br><br><h2>  Related Links </h2><ul><li>  <a href="http://habrahabr.ru/blogs/webdev/29937/">Combining JS-files 2.0 (1/2)</a> .  Some ideas on gluing files took from here.  The assembly algorithm used its own with looping tracking. </li><li>  <a href="http://habrahabr.ru/blogs/webdev/19892/">JavaScript optimization - doing the build process</a> </li><li>  <a href="http://habrahabr.ru/blogs/mootools/">Blog MooTools on Habr√©</a> </li><li>  UPD: <a href="http://habrahabr.ru/blogs/client_side_optimization/30525/">A little more about compression.</a> </li><li>  <a href="http://linux.ria.ua/JsClasses/download/">Download RIA JavaScript Classes Integrator with an example of basic setup</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/40145/">https://habr.com/ru/post/40145/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../401441/index.html">Assortment Planning: Hypermarket vs. "boutique"</a></li>
<li><a href="../401443/index.html">From idea to gadget. The story of a startup</a></li>
<li><a href="../401445/index.html">Why all drivers in Windows are dated June 21st, 2006</a></li>
<li><a href="../401447/index.html">The choice of LED lamps. 3. Spectra of light sources</a></li>
<li><a href="../401449/index.html">Tim Cook said that augmented reality is as big an idea as a smartphone</a></li>
<li><a href="../401451/index.html">Russian scientists have attracted a neural network to search for anticancer drugs</a></li>
<li><a href="../401453/index.html">Scanners in the USSR - how it all began</a></li>
<li><a href="../401459/index.html">Bluedio Headphones Review: Pattern Break from Beats Creators</a></li>
<li><a href="../401461/index.html">Skyscrapers: how to wash them?</a></li>
<li><a href="../401463/index.html">February 23: about weapons</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>