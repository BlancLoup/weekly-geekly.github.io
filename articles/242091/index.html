<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Using the MVC approach in WinForms for the smallest</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The article describes the general principles of building applications, using the MVC approach, on the example of implementation in an application that...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Using the MVC approach in WinForms for the smallest</h1><div class="post__text post__text-html js-mediator-article">  The article describes the general principles of building applications, using the MVC approach, on the example of implementation in an application that uses the Code Behind approach for many years. <br><br>  Will not be: <br>  ‚Ä¢ Classic Unit Test; <br>  ‚Ä¢ Reducing the influence of Code Behind; <br>  ‚Ä¢ Unexpected discoveries in MVC. <br><br>  Will be: <br>  ‚Ä¢ Unit Test and Stub; <br>  ‚Ä¢ MVC; <br>  ‚Ä¢ Implementing an approach based on an existing product. <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1>  Introduction </h1><br>  Before I started using the data approach, I went a long way as a regular developer of enterprise systems.  On the way, I met absolutely stereotypical events and things, both simple and more complex.  For example, the development is complete, the functionality has been sent for testing, it is clicked, then a lot of errors fall, from simple flaws to gross violations.  A more complicated case: the functionality is accepted, users actively participate in feedback and lead to the need to change functionality.  The functionality was changed, we went the same way and the old functionality stopped working, and the new one leaves much to be desired.  Something like clicking a fast-growing functionality begins the constant editing of bugs.  First it was hours, then weeks, now I know that months are not the limit.  When it took hours or days, errors closed, everything flowed more or less.  But once he began to rediscover the mistakes, hell began.  The testing department constantly swears, the developers constantly correct errors and make new ones in the developed functionality.  Increasingly, feedback comes from real users, full of negativity.  And the functional grew and grew, I was looking for methods and approaches, how to simplify life for myself.  At the same time, I was visited by the idea a long time ago; it was to use developer-level testing when developing the user interface.  The desire to lay custom scenarios led me to the realization of the existence of the problem: the absence of at least some objective criteria for product readiness from the developer.  And I began to think a little more widely, but what if you try to lay all the positive usage scenarios in some rules, constantly check the rule sets, because this is at least some guarantee that the user will not be stunned by the falling off functionality at the next release, and the testers will be involved to destination.  It was precisely these rules that were foretold to become the criterion for the completion of work on the functional for themselves, for the developer. <br><br><h1>  Formalization </h1><br>  Began the search for tools to formalize the rules.  All code of user and data interaction logic was in forms.  Of course, the layers of work with the database, services, remouting and much, much more were separated.  But the user interface remained oversaturated with logic.  Logic, not related to the display.  The first, and quite logical step, it seemed to me to use tools for visual testing of forms.  We collect the rule of their clicks - inputs and convert it into a test.  For example, this is perfectly able to do Visual Studio 2013 Ultimate, or rather one of its templates.  I cheerfully created several tests and realized that creating tests in such a way, and then running, is a huge disaster.  It took a lot of time to fully load the entire system, get to the necessary dialogs and trigger the appropriate events.  This required the work of all links of the chain, which in some places was impossible.  I took all the actions to completely separate the Unit Testing for myself, while constantly using it for services and logic that rotated on the server, because it had no forms, accordingly Code Behind.  While working in parallel with ASP.NET MVC, I increasingly liked the approach of separating logic from views.  Simply, by calling the ASP.NET MVC controller, we simply pull its public method, which returns the view with some changes.  I started to think about how to shift this model to WinForms and came to the conclusion that using events on views I will call the methods of the controllers.  I accepted the rule that I always have a controller class that is tied to the events of the class that implements the view interface.  Thus, I removed all the logic code from Code Behind into the controller code, and the controller was tested using the usual Unit Tests, implementing Stubs for the data manager classes and the views themselves.  Later I learned to test the performances themselves, exclusively with the help of Unit Tests.  Next, I want to give an example of how I came to this. <br><br><h1>  Example </h1><br><h2>  Task Description </h2><br>  All of the above, I will consider the example of the implementation of the form of changing exceptions when importing data.  Exceptions are simply an entity with three fields, necessary for reading text files in the system.  From the user's point of view, this form should allow adding, modifying, deleting exceptions.  After adding a new exception, it should be added to the end of the list.  When removing an exception, the focus should go to the first item in the list.  In this case, the form is called from the context does not implement MVC. <br><br><h2>  Presentation formalization </h2><br>  Brought up on a huge number of forms, in corporate applications, I came to the conclusion that I would also use the standard approach to the interface: the control panel with buttons - actions on exceptions, the list of exceptions, in the form of a table, and the basic button to close.  Accordingly, for the display in the interface I need: <br>  ‚Ä¢ The entire list of exceptions to build a table; <br>  ‚Ä¢ The exception is in focus; <br>  ‚Ä¢ The exception change event in focus; <br>  ‚Ä¢ Add event; <br>  ‚Ä¢ Delete event; <br>  ‚Ä¢ The event of pressing the button to close; <br>  ‚Ä¢ discovery method; <br>  ‚Ä¢ Closing method; <br>  ‚Ä¢ View update method. <br>  Later I realized that to implement a more user-friendly interface, I would need a few more things: <br>  ‚Ä¢ availability of creation; <br>  ‚Ä¢ availability of removal; <br>  ‚Ä¢ A list of all selected exceptions, for mass deletion. <br><br>  Converting all this into code, I got the presentation interface: <br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IReplaceView</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> EnableCreate { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> EnableDelete { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } List&lt;ReplaceSymbol&gt; Replaces { <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } ReplaceSymbol FocusedReplace { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } List&lt;ReplaceSymbol&gt; SelectedReplaces { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">event</span></span> EventHandler Closing; <span class="hljs-keyword"><span class="hljs-keyword">event</span></span> EventHandler Creating; <span class="hljs-keyword"><span class="hljs-keyword">event</span></span> EventHandler Deleting; <span class="hljs-keyword"><span class="hljs-keyword">event</span></span> EventHandler FocusedChanged; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Open</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Close</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RefreshView</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>; }</code> </pre> <br><br><h2>  Controller formalization </h2><br>  The entire formalization of the controller is that it must accept the data manager and the actual representation itself, which supports the interface presented above.  Converting to code, received: <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ReplaceController</span></span> : <span class="hljs-title"><span class="hljs-title">IReplaceController</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> IReplaceView _view = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> IReplaceStorage _replaceStorage = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ReplaceController</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IReplaceView view, IReplaceStorage replaceStorage</span></span></span><span class="hljs-function">)</span></span> { Contract.Requires(view != <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"View can't be null"</span></span>); Contract.Requires(replaceStorage != <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"ReplaceStorage can't be null‚Äù); _view = view; _replaceStorage = replaceStorage; } }</span></span></code> </pre><br>  In this controller, I use contracts to check the parameters, but for the article it does not matter. <br><br><h2>  Testing </h2><br>  Creating and formalizing, you can forget about why all this was started.  All for the sake of one, to improve the quality of work by obtaining an adequate criterion for assessing the completion of work.  Therefore, immediately began to formalize the rules in the tests.  To implement the interfaces received by the controller in the constructor, we simply implement stubs. <br><br><h3>  Download empty exclusion list </h3><br>  In this case, the button for creating exceptions must be available, the button for removing exceptions is not available, the element in focus must be null, and the list of selected elements is empty but not null.  Converting to code received: <br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">TestMethod</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LoadEmptyReplaces</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> emptyReplaces = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;ReplaceSymbol&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> storage = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StubIReplaceStorage() { ReplaceSymbolsGet = () =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> emptyReplaces; }, }; ReplaceSymbol focusedReplace = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> loadedReplaces = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;ReplaceSymbol&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> selectedReplaces = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;ReplaceSymbol&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> enableCreate = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> enableDelete = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> view = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StubIReplaceView() { FocusedReplaceGet = () =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> focusedReplace; }, FocusedReplaceSetReplaceSymbol = x =&gt; { focusedReplace = x; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (x != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { selectedReplaces.Add(x); } }, ReplacesSetListOfReplaceSymbol = x =&gt; { loadedReplaces = x; }, EnableCreateSetBoolean = x =&gt; { enableCreate = x; }, EnableDeleteSetBoolean = x =&gt; { enableDelete = x; }, SelectedReplacesGet = () =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> selectedReplaces; }, }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> controller = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ReplaceController(view, storage); controller.Open(); view.FocusedChangedEvent(<span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>); Assert.IsNotNull(loadedReplaces, <span class="hljs-string"><span class="hljs-string">"           null"</span></span>); Assert.IsTrue(loadedReplaces.Count == <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"           ,       "</span></span>); Assert.IsNull(focusedReplace, <span class="hljs-string"><span class="hljs-string">"          "</span></span>); Assert.IsNotNull(selectedReplaces, <span class="hljs-string"><span class="hljs-string">"        null"</span></span>); Assert.IsTrue(selectedReplaces.Count == <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"            "</span></span>); Assert.IsTrue(enableCreate, <span class="hljs-string"><span class="hljs-string">"        "</span></span>); Assert.IsFalse(enableDelete, <span class="hljs-string"><span class="hljs-string">"       ,     "</span></span>); }</code> </pre><br><br><h3>  Other rules </h3><br>  After that, formalizing the other rules, I received a list of tests, which immediately made it possible to assess the readiness of the controller's functionality for operation.  Never once launched the client itself. <br><img src="https://habrastorage.org/files/d68/526/ed7/d68526ed769f4d6d8602f355faf98ec4.jpg"><br><br><h2>  View implementation </h2><br>  After that, I created the view itself that implements the above interface.  For him, I also created small tests using the fun PrivateObject class, which allows you to call private methods implemented in an object.  For example, I received a removal test like this: <br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">TestMethod</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DeleteOneReplaceView</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> replaces = GetTestReplaces(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> storage = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StubIReplaceStorage() { ReplaceSymbolsGet = () =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> replaces; }, }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> controller = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ReplaceController(_view, storage); Task.Run(() =&gt; { controller.Open(); }).Wait(WaitTaskComplited); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> privateObject = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PrivateObject(_view); privateObject.Invoke(<span class="hljs-string"><span class="hljs-string">"RiseDeleting"</span></span>); Assert.IsTrue(replaces.Count == <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"       "</span></span>); Assert.IsNotNull(_view.FocusedReplace, <span class="hljs-string"><span class="hljs-string">"        "</span></span>); Assert.AreEqual(replaces.First().Source, _view.FocusedReplace.Source, <span class="hljs-string"><span class="hljs-string">"           "</span></span>); Assert.IsTrue(_view.SelectedReplaces.Count == <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"         "</span></span>); Assert.AreEqual(_view.FocusedReplace.Source, _view.SelectedReplaces.First().Source, <span class="hljs-string"><span class="hljs-string">"           "</span></span>); Assert.IsTrue(_view.EnableCreate, <span class="hljs-string"><span class="hljs-string">"        "</span></span>); Assert.IsTrue(_view.EnableDelete, <span class="hljs-string"><span class="hljs-string">"          "</span></span>); }</code> </pre><br>  After that, formalizing the other rules, I received a list of tests, which immediately made it possible to assess the readiness of the presentation functional to work.  Again, never running the client itself.  Gradually implementing each of the pieces of functionality, I achieved the picture: <br><img src="https://habrastorage.org/files/752/353/557/75235355789a4039999b0b00cb53c7cd.jpg"><br>  After that, I made a call in the controller code with the already real manager and view. <br><pre> <code class="cs hljs">_replaceView = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ReplaceView(); _replaceController = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ReplaceController(_replaceView, _importer);</code> </pre><br>  I started the whole application and saw the final result of the work.  Everything worked exactly as I pawned.  Testing department is satisfied, customers are satisfied, positive feedback has been received.  What else is needed? <br><img src="https://habrastorage.org/files/308/ab8/2f6/308ab82f6a4d4ffab37a43ac9c4d7f32.jpg"><br><br>  <b>I will be very happy for any comments or my stories about how you deal with Windows Forms.</b>  <b>The first reviews correctly notice that I came to MVP with my chug, this is absolutely true.</b> <br>  Thanks for attention!  I hope you do not waste time on me. </div><p>Source: <a href="https://habr.com/ru/post/242091/">https://habr.com/ru/post/242091/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../242081/index.html">Terrasoft CRM: Developer's Guide</a></li>
<li><a href="../242083/index.html">Amazon + Ansible</a></li>
<li><a href="../242085/index.html">How programmers look for apartments</a></li>
<li><a href="../242087/index.html">How to become a Fulbright Fellow and go to magistracy in the United States [Practical Guide]</a></li>
<li><a href="../242089/index.html">Layout of business cards in LaTeX</a></li>
<li><a href="../242095/index.html">The path of the developer: stories about my fabulous failures, part 1</a></li>
<li><a href="../242097/index.html">Traffic lights in the garage. Present</a></li>
<li><a href="../242099/index.html">Orb. DIY news server</a></li>
<li><a href="../242101/index.html">Patch update FFCMS 2.0.4</a></li>
<li><a href="../242103/index.html">JetBrains took another step towards education by releasing the PyCharm Educational Edition.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>