<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Installing Solaris 10 on a SunFire V240 over a network using a Debian Stretch-based boot server</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="‚ÄúCrow somewhere God sent a piece of SUNa. Crow returning home, it was already assembled to turn it on, so it was thoughtful ... " 


 Greetings to all...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Installing Solaris 10 on a SunFire V240 over a network using a Debian Stretch-based boot server</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/jj/2u/on/jj2uonjtzj_mayjhh8jkq6-dh9s.jpeg" alt="image"><br><br><h3>  <b>‚ÄúCrow somewhere God sent a piece of SUNa.</b>  <b>Crow returning home, it was already assembled to turn it on, so it was thoughtful ... "</b> </h3><br><p>  Greetings to all readers. </p><br><p>  I apologize for such an odious headline in the form of a free interpretation of the famous Krylov fable, but I got this feeling when unpacking a SunFire V240 server from a bubble film. </p><br><p>  In the text a little photo will take place to be. </p><a name="habracut"></a><br><p>  For a long time I wanted to ‚Äúfeel‚Äù a real SUN on UltraSPARC precisely in hardware. <br>  I saw Solaris 10 on x86 for a long time, at a time when SUN, when filling in a simple form, sent installation DVDs all over the world.  I tried, not impressed.  Maybe he didn‚Äôt understand the OS philosophy, maybe Debian at that time was more logical and clearer for me, and for x86 in particular, but the disc was abandoned on the shelf and forgotten, and the idea to try SUN in the hardware periodically floated in my head. </p><br><div class="spoiler">  <b class="spoiler_title">The same DVD</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/sp/rg/2z/sprg2zypihkkolzetowbyyx7oeo.jpeg" alt="image"><br><img src="https://habrastorage.org/webt/ut/wo/j2/utwoj2r-_buid4ro7dtpuv1rweq.jpeg" alt="image"></div></div><br><p>  And if it‚Äôs not in the details, somehow I accidentally became the owner of the SunFire V240. <br>  Since the piece of hardware went "conditionally free", I didn‚Äôt particularly delve into the particular configuration, and when I received the answer, "working", I agreed to become its owner. </p><br><p>  The server turned out to be without a ... video card, a PS / 2 interface (apparently they were ‚Äúpulled‚Äù along with the 2nd power supply unit) and a DVD-ROM (it was probably not meant to be a complete set, since the factory plug was in place).  But 4 HDDs had a place to be and hope was warmed in the soul ... </p><br><div class="spoiler">  <b class="spoiler_title">SunFire V240</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/jj/2u/on/jj2uonjtzj_mayjhh8jkq6-dh9s.jpeg" alt="image"><cut></cut><br><img src="https://habrastorage.org/webt/3i/za/qp/3izaqpcqztpxvtjrjzgi2y1nsum.jpeg" alt="image"><cut></cut><br><img src="https://habrastorage.org/webt/oo/qg/b-/ooqgb-rj57urq89hdzfabwzr3rs.jpeg" alt="image"></div></div><br><p>  "Googling" the Internet, like what and where, found in the household cable for CISCO - "RS232-RJ45", connected to the host with putty and ... hope was gone. </p><br><p>  The system passed POST, but it did not boot from the HDD, falling into error (I think the system was deliberately corrupted, as it later became clear through the information in ALOM that the server was used in a bank that was familiar to the ear), the previous owner did not remember the ALOM password or did not know the BIOS battery was set down, the mood to hell. <br>  Google ... </p><cut></cut><br><p>  The search showed that there is a possibility of installing the OS over the network, but the fragmentation of the installation variations was very confusing, and in the end all the articles boiled down to installing from under the solaris, when only Debian was available.  The desire to "pile up" even on the "virtual" Sunos was completely absent.  Well, there are no tasks that cannot be accomplished, we will start studying the material, having a home server running Debian Stretch on the farm. </p><cut></cut><br><h3>  <b>Foreplay (settings)</b> </h3><br><p>  The following packages are required for network booting on a server running Debian: </p><br><ul><li>  <b>rarpd</b> is the reverse address mapping protocol that is used during the loading of the SUN hardware, when it sends a group request message with its physical address.  It is thanks to this service ‚ÄúSUN-iron‚Äù will receive an IP address for further download. </li><li>  <b>tftpd</b> - everything is clear here, with the help of this protocol ‚ÄúSUN-hardware‚Äù will load the kernel to further boot the OS installation process. </li><li>  <b>bootparamd</b> - Well, here is a clean copy-paste - ‚ÄúThe bootparamd command is a server process that provides the information needed to load diskless clients.  It gets the information from the / etc / bootparams file. ‚Äù <br>  Practice has shown that with a <b>lack of information</b> in this file, the download will not work. </li><li>  <b>nfs-kernel-server</b> - using this protocol, ‚ÄúSUN-hardware‚Äù will pull out the necessary installation files of the distribution kit. </li><li>  <b>isc-dhcp-server</b> will assign an IP address to the interface during the installation of the OS distribution, will also give all the necessary parameters such as NETMASK, DEFAULT GATEWAY and so on. </li></ul><br><p>  In order to get the initial data for the download (MAC address) and start the download itself, we need access to the <b>OpenBoot Prompt</b> (we get access by pressing <b>ctrl + Break</b> in the connected "putty session") and we drop into the invitation: </p><br><img src="https://habrastorage.org/webt/yn/yn/f4/ynynf4mkzhgfeantkrjy78ou_tu.jpeg"><br><img src="https://habrastorage.org/webt/gu/8q/6g/gu8q6goqe8hg1ub681ele3gclq8.jpeg"><br><p>  we type: <b>boot net -v - install</b> </p><br><img src="https://habrastorage.org/webt/3_/dm/ys/3_dmystmwyfvhr2dwdpui1cecmw.jpeg"><cut></cut><br><p>  Now we have the MAC address of the interface from which download requests are received. </p><br><p>  We take the name "SUN-piece of iron" for further work with it - " <b>v240</b> " </p><br><h4>  <b>Go to setting the "boot server"</b> </h4><br><p>  edit the file / etc / ethers by adding the line: </p><br><pre><code class="hljs css">0<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:3</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:ba</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:d0</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:3b</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:23</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">v240</span></span></code> </pre> <br><p>  edit / etc / hosts by adding the line: </p><br><pre> <code class="hljs css">192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.50</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">v240</span></span></code> </pre> <br><p>  Naturally the service should be restarted: </p><br><pre> <code class="hljs swift">etc/<span class="hljs-keyword"><span class="hljs-keyword">init</span></span>.d/rarpd restart</code> </pre> <br><p>  Theoretically, when typing the <b>boot net -v - install</b> command in the <b>OpenBoot Prompt</b> environment, the ‚ÄúSUN hardware‚Äù should already receive an IP address via RARP: </p><br><pre> <code class="hljs vbscript">tail -f /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/syslog ... ... gate rarpd[<span class="hljs-number"><span class="hljs-number">21993</span></span>]: RARP <span class="hljs-built_in"><span class="hljs-built_in">request</span></span> from <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:ba:d0:<span class="hljs-number"><span class="hljs-number">3</span></span>b:<span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> eth0 ... gate rarpd[<span class="hljs-number"><span class="hljs-number">21993</span></span>]: RARP <span class="hljs-built_in"><span class="hljs-built_in">response</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:ba:d0:<span class="hljs-number"><span class="hljs-number">3</span></span>b:<span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.50</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> eth0 ...</code> </pre> <br><p>  Next, we check that the line below is present in the /etc/inetd.conf file. </p><br><p>  This suggests that tftpd is at least correctly installed: </p><br><pre> <code class="hljs vhdl">... tftp dgram udp <span class="hljs-keyword"><span class="hljs-keyword">wait</span></span> nobody /usr/sbin/tcpd /usr/sbin/<span class="hljs-keyword"><span class="hljs-keyword">in</span></span>.tftpd /srv/tftp ...</code> </pre> <br><p>  check that port 69 is tapped: </p><br><pre> <code class="hljs ruby">root@gate<span class="hljs-symbol"><span class="hljs-symbol">:~</span></span><span class="hljs-comment"><span class="hljs-comment"># netstat -lnp | grep :69 udp 0 0 0.0.0.0:69 0.0.0.0:* 19521/inetd root</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@gate</span></span></span><span class="hljs-comment">:~#</span></span></code> </pre> <br><p>  Next, create the / exports / v240 / folder and mount the boot DVD image there.  How to create an image or where to download it will not stop, I will give only the mount command to save the presentation logic: </p><br><pre> <code class="hljs coffeescript">mount -oro,<span class="hljs-keyword"><span class="hljs-keyword">loop</span></span> .<span class="hljs-regexp"><span class="hljs-regexp">/sol-10-u11-ga-sparc-dvd.iso /exports/v240/</span></span></code> </pre> <br><p>  Now you need to copy from the mount point of the boot DVD files that will be needed by the "SUN hardware" for initial network boot, via the tftp protocol, to the directory that is used by default <b>tftpd</b> - / srv / tftp.  In our case, we need the <b>inetboot</b> file from the directory - <b>/ exports / v240 / Solaris_10 / Tools / Boot / platform / sun4u</b> </p><cut></cut><br><p>  Next we create an <b>inetboot symlink</b> file with the name in the form of a HEX transcription of the IP address, which will be assigned to the "SUN hardware". </p><br><p>  Here is the output from the <b>ls / srv / tftp / command</b> : </p><br><pre> <code class="hljs ruby">root@gate<span class="hljs-symbol"><span class="hljs-symbol">:/</span></span><span class="hljs-comment"><span class="hljs-comment"># ls /srv/tftp/ C0A80132 inetboot.sun4u root</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@gate</span></span></span><span class="hljs-comment">:/#</span></span></code> </pre> <br><p>  <b>C0A80132</b> is the <b>symlink</b> to the <b>inetboot.sun4u</b> file (called <b>inetboot</b> and located on the DVD in the <b>/ Solaris_10 / Tools / Boot / platform / sun4u directory</b> ) as a HEX transcription of the IP address <b>192.168.1.50</b> : <br>  C0 - 192 <br>  A8 - 168 <br>  01 - 1 <br>  32 - 50 </p><cut></cut><br><p>  Now if you try to boot again using the command <b>boot net -v - install</b> <br>  in the boot server syslog we should see: </p><br><pre> <code class="hljs vbscript">... ... gate rarpd[<span class="hljs-number"><span class="hljs-number">3616</span></span>]: RARP <span class="hljs-built_in"><span class="hljs-built_in">request</span></span> from <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:ba:d0:<span class="hljs-number"><span class="hljs-number">3</span></span>b:<span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> eth0 ... gate rarpd[<span class="hljs-number"><span class="hljs-number">3616</span></span>]: RARP <span class="hljs-built_in"><span class="hljs-built_in">response</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:ba:d0:<span class="hljs-number"><span class="hljs-number">3</span></span>b:<span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.50</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> eth0 ... gate <span class="hljs-keyword"><span class="hljs-keyword">in</span></span>.tftpd[<span class="hljs-number"><span class="hljs-number">4365</span></span>]: connect from <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.50</span></span> (<span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.50</span></span>) ... gate tftpd[<span class="hljs-number"><span class="hljs-number">4366</span></span>]: tftpd: trying <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> file: C0A80132 ... gate tftpd[<span class="hljs-number"><span class="hljs-number">4366</span></span>]: tftpd: serving file from /srv/tftp ... gate rarpd[<span class="hljs-number"><span class="hljs-number">3616</span></span>]: RARP <span class="hljs-built_in"><span class="hljs-built_in">request</span></span> from <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:ba:d0:<span class="hljs-number"><span class="hljs-number">3</span></span>b:<span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> eth0 ... gate rarpd[<span class="hljs-number"><span class="hljs-number">3616</span></span>]: RARP <span class="hljs-built_in"><span class="hljs-built_in">response</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:ba:d0:<span class="hljs-number"><span class="hljs-number">3</span></span>b:<span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.50</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> eth0 ...</code> </pre> <br><p>  This indicates that the request for the IP address was processed, then the TFTP connection was passed, and then the IP address was requested to receive the bootparams. </p><cut></cut><br><p>  Configuring / etc / bootparams: </p><br><pre> <code class="hljs javascript"> root=gate:<span class="hljs-regexp"><span class="hljs-regexp">/exports/</span></span>v240/Solaris_10/Tools/Boot \ install=gate:<span class="hljs-regexp"><span class="hljs-regexp">/exports/</span></span>v240 \ boottype=gate:<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> \ rootopts=gate:rsize=<span class="hljs-number"><span class="hljs-number">32768</span></span></code> </pre> <br><p>  where <b>gate</b> is the name of the boot server running Debian <br>  <b>root</b> - from where we pull the necessary files for further download <br>  <b>install</b> - "root" installation disk <br>  The <b>boottype</b> and <b>rootopts parameters are</b> necessary for the "SUN-hardware" as utility, without a description of which the download will not work. </p><cut></cut><br><p>  then we add the following line to / etc / exports: </p><br><pre> <code class="hljs python"><span class="hljs-meta"><span class="hljs-meta">... </span></span>/exports/v240 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.50</span></span>(ro,<span class="hljs-keyword"><span class="hljs-keyword">async</span></span>,no_root_squash,anonuid=<span class="hljs-number"><span class="hljs-number">0</span></span>,anongid=<span class="hljs-number"><span class="hljs-number">0</span></span>) ...</code> </pre> <br><p>  Check whether the NFS server is loaded: </p><br><pre> <code class="hljs ruby">root@gate<span class="hljs-symbol"><span class="hljs-symbol">:/</span></span><span class="hljs-comment"><span class="hljs-comment"># ps aux | grep nfs root 1425 0.0 0.0 0 0 ? S&lt; 29 0:00 [nfsiod] root 8022 0.0 0.0 0 0 ? S&lt; 29 0:00 [nfsd4_callbacks] root 8025 0.0 0.0 0 0 ? S 29 0:00 [nfsd] root 8026 0.0 0.0 0 0 ? S 29 0:00 [nfsd] root 8027 0.0 0.0 0 0 ? S 29 0:00 [nfsd] root 8028 0.0 0.0 0 0 ? S 29 0:02 [nfsd] root 8029 0.0 0.0 0 0 ? S 29 0:12 [nfsd] root 8030 0.0 0.0 0 0 ? S 29 0:22 [nfsd] root 8031 0.0 0.0 0 0 ? S 29 0:27 [nfsd] root 8032 0.0 0.0 0 0 ? S 29 1:19 [nfsd] root 23646 0.0 0.0 4728 844 pts/3 S+ 17:44 0:00 grep nfs root</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@gate</span></span></span><span class="hljs-comment">:/#</span></span></code> </pre> <br><p>  Check access to the distribution via NFS: </p><br><pre> <code class="hljs ruby">root@gate<span class="hljs-symbol"><span class="hljs-symbol">:/</span></span><span class="hljs-comment"><span class="hljs-comment"># mount -t nfs4 gate:/exports/v240 /mnt root</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@gate</span></span></span><span class="hljs-comment">:/# cd /mnt/ root</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@gate</span></span></span><span class="hljs-comment">:/mnt# ls boot Copyright installer Offer_to_Provide_Source_Code.txt platform Solaris_10 root</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@gate</span></span></span><span class="hljs-comment">:/mnt#</span></span></code> </pre> <br><p>  Access is. </p><br><p>  Now edit /etc/dhcp/dhcpd.conf by adding the section below (the dhcp server must be pre-configured and checked for distribution of IP addresses to clients) </p><br><pre> <code class="hljs ruby">... host v24<span class="hljs-number"><span class="hljs-number">0</span></span> { hardware ethernet <span class="hljs-number"><span class="hljs-number">00</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">03</span></span><span class="hljs-symbol"><span class="hljs-symbol">:ba</span></span><span class="hljs-symbol"><span class="hljs-symbol">:d0</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">3</span></span><span class="hljs-symbol"><span class="hljs-symbol">b:</span></span><span class="hljs-number"><span class="hljs-number">23</span></span>; fixed-address <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">1.50</span></span>; } ...</code> </pre> <br><p>  Now the moment of truth, in the <b>OpenBoot Prompt</b> environment, we type <b>boot net -v - install</b> and watch the syslog bootup server: </p><br><pre> <code class="hljs vbscript">... ... gate rarpd[<span class="hljs-number"><span class="hljs-number">12496</span></span>]: RARP <span class="hljs-built_in"><span class="hljs-built_in">request</span></span> from <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:ba:d0:<span class="hljs-number"><span class="hljs-number">3</span></span>b:<span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> eth0 ... gate rarpd[<span class="hljs-number"><span class="hljs-number">12496</span></span>]: RARP <span class="hljs-built_in"><span class="hljs-built_in">response</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:ba:d0:<span class="hljs-number"><span class="hljs-number">3</span></span>b:<span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.50</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> eth0 ... gate <span class="hljs-keyword"><span class="hljs-keyword">in</span></span>.tftpd[<span class="hljs-number"><span class="hljs-number">13905</span></span>]: connect from <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.50</span></span> (<span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.50</span></span>) ... gate tftpd[<span class="hljs-number"><span class="hljs-number">13906</span></span>]: tftpd: trying <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> file: C0A80132 ... gate tftpd[<span class="hljs-number"><span class="hljs-number">13906</span></span>]: tftpd: serving file from /srv/tftp ... gate rarpd[<span class="hljs-number"><span class="hljs-number">12496</span></span>]: RARP <span class="hljs-built_in"><span class="hljs-built_in">request</span></span> from <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:ba:d0:<span class="hljs-number"><span class="hljs-number">3</span></span>b:<span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> eth0 ... gate rarpd[<span class="hljs-number"><span class="hljs-number">12496</span></span>]: RARP <span class="hljs-built_in"><span class="hljs-built_in">response</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:ba:d0:<span class="hljs-number"><span class="hljs-number">3</span></span>b:<span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.50</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> eth0 ... gate rpc.bootparamd: whoami got question <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.50</span></span> ... gate rpc.bootparamd: This <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> host v240 ... gate rpc.bootparamd: Returning v240 (none) <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> ... gate rpc.bootparamd: getfile got question <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-string"><span class="hljs-string">"v240"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> file <span class="hljs-string"><span class="hljs-string">"root"</span></span> ... gate rpc.bootparamd: returning <span class="hljs-built_in"><span class="hljs-built_in">server</span></span>:gate path:/exports/v240/Solaris_10/Tools/Boot address: <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> ... gate rpc.bootparamd: getfile got question <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-string"><span class="hljs-string">"v240"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> file <span class="hljs-string"><span class="hljs-string">"rootopts"</span></span> ... gate rpc.bootparamd: returning <span class="hljs-built_in"><span class="hljs-built_in">server</span></span>:gate path:rsize=<span class="hljs-number"><span class="hljs-number">32768</span></span> address: <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> ...</code> </pre> <br><p>  Next, it should "slip" into the syslog bootup server: </p><br><pre> <code class="hljs vbscript">... ... gate rpc.bootparamd: getfile got question <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-string"><span class="hljs-string">"v240"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> file <span class="hljs-string"><span class="hljs-string">"install"</span></span> ... gate rpc.bootparamd: returning <span class="hljs-built_in"><span class="hljs-built_in">server</span></span>:gate path:/exports/v240 address: <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> ...</code> </pre> <br><p>  "And he said go ..." </p><br><div class="spoiler">  <b class="spoiler_title">"Screen" V240 in the process of initializing and installing the OS</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ie/xd/mf/iexdmftd6xla9fn3-vqjmpgqrwc.jpeg" alt="image"><br><img src="https://habrastorage.org/webt/z_/sk/kt/z_skktqmipzju2b7nwhdsqlghdo.jpeg" alt="image"><br><img src="https://habrastorage.org/webt/9k/wx/5h/9kwx5hwwgdom2w4j3jztgxxalo8.jpeg" alt="image"><br><img src="https://habrastorage.org/webt/gt/wk/iy/gtwkiybeokio40p6kxqrwy-ogag.jpeg" alt="image"><br><img src="https://habrastorage.org/webt/di/xv/3_/dixv3_hls8crcu7f_5wxynd45tq.jpeg" alt="image"><br><img src="https://habrastorage.org/webt/z7/ue/f8/z7uef8fezdlrvk22q4xvjxreg58.jpeg" alt="image"></div></div><br><p>  And voila!  We are offered to choose a language and continue the installation. <br>  Behind this otklanivayus, but do not say goodbye. </p><br><div class="spoiler">  <b class="spoiler_title">PS</b> <div class="spoiler_text"><p>  denyhosts, a broken switch that "cuts" ARP and quietly silent about it (in D-LINK, this is a general theme), and iptables (with some settings) can spoil your blood fairly.  From this it once again follows that if you want a predictable result, then check the hardware and turn off the unnecessary, at the moment software, thus you save your nerve cells and time. </p><cut></cut><br><p>  You can also create the / exports / v240_cfg folder and create a <strong>sysidcfg</strong> file in it with the following contents: </p><br><pre> <code class="hljs pgsql">system_locale=ru_RU.UTF<span class="hljs-number"><span class="hljs-number">-8</span></span> install_locale=en_US timeserver=<span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> network_interface=<span class="hljs-keyword"><span class="hljs-keyword">primary</span></span> {dhcp protocol_ipv6=<span class="hljs-keyword"><span class="hljs-keyword">no</span></span>} name_service=DNS {domain_name=homenet name_server=<span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">search</span></span>=homenet} security_policy=<span class="hljs-keyword"><span class="hljs-keyword">NONE</span></span></code> </pre> <br><p>  and add the following line to / etc / exports: </p><br><pre> <code class="hljs python"><span class="hljs-meta"><span class="hljs-meta">... </span></span>/exports/v240_cfg <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.50</span></span>(ro,<span class="hljs-keyword"><span class="hljs-keyword">async</span></span>,no_root_squash,anonuid=<span class="hljs-number"><span class="hljs-number">0</span></span>,anongid=<span class="hljs-number"><span class="hljs-number">0</span></span>) ...</code> </pre> <br><p>  This will relieve you of answers to some questions during the installation of the OS, but this is a slightly different story ... </p></div></div><br><div class="spoiler">  <b class="spoiler_title">P.P.S.</b>  <b class="spoiler_title">At the request of those who wish to photo V240 in detail</b> <div class="spoiler_text"><p>  Type top view </p><br><img src="https://habrastorage.org/webt/dp/3x/v6/dp3xv6h00cku5c743sa8yr4otsu.jpeg"><br><p>  Well, the next "board" from the opera - "pull the cord, squeeze the glass" </p><br><img src="https://habrastorage.org/webt/hf/kt/kg/hfktkgqecgbqjkkxrlq3czz3gwk.jpeg"><br><p>  SCC module top view </p><br><img src="https://habrastorage.org/webt/lf/29/rl/lf29rlujeksrh_y_x9j5t2dc96o.jpeg"><br><p>  SCC module (piece) and "piece" of the HDD0 interface - HDD1 - CD (DVD) ROM </p><br><img src="https://habrastorage.org/webt/yj/s7/vu/yjs7vulegcfpe1uu1oeronfsjpo.jpeg"><br><p>  HDD2 - HDD3 Interface Piece </p><br><img src="https://habrastorage.org/webt/mi/1a/nv/mi1anv2t79miqp4gdjcwrdw5n6w.jpeg"><br><p>  "Board" from the opera - "pull out the cord, press out the glass" ‚Ññ2 </p><br><img src="https://habrastorage.org/webt/zg/mh/o3/zgmho3ssxlbxsnwdipzsw4nupvm.jpeg"><br><p>  The overall plan "liver" </p><br><img src="https://habrastorage.org/webt/r6/uj/_z/r6uj_z2ktlal7ph61nsdu-7du0y.jpeg"><br><p>  Battery, her mother ... </p><br><img src="https://habrastorage.org/webt/eq/xj/ok/eqxjokuxynqzhgl3fuou_8qk1rw.jpeg"><br><p>  CPU coolers - take care of them, they are small :) </p><br><img src="https://habrastorage.org/webt/oa/zh/cw/oazhcwgshdmapwmgp2qs4lbtzag.jpeg"><br><p>  Basic coolers, construction of course ... "pisyukovaya" in the whole sense of the word </p><br><img src="https://habrastorage.org/webt/fl/cp/fy/flcpfyvn1ehf_glunnr7pdpz5tw.jpeg"><br><p>  Power Distributor Board </p><br><img src="https://habrastorage.org/webt/gf/57/gg/gf57ggojsjayylhawqmdqjx2wmo.jpeg"><br><p>  Ass power distributor board </p><br><img src="https://habrastorage.org/webt/vr/qj/s_/vrqjs_oz0ohhkvrautbkfeawrx4.jpeg"><br><p>  SCC module from the outside - key "out" </p><br><img src="https://habrastorage.org/webt/pb/rs/73/pbrs73mr7e6ia6eflpbikxc-slo.jpeg"><br><p>  SCC module from the outside - key "in" </p><br><img src="https://habrastorage.org/webt/yf/jg/st/yfjgstsjxvgjbpbxxt3e6yztbty.jpeg"><br><p>  Hard Drives - seagate </p><br><img src="https://habrastorage.org/webt/li/dh/89/lidh89g3oledgs_g-7oo3c3yavy.jpeg"></div></div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/343874/">https://habr.com/ru/post/343874/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../343862/index.html">Startup of the day (November 2017)</a></li>
<li><a href="../343864/index.html">F # on Linux as a cure for the soul</a></li>
<li><a href="../343866/index.html">Electricity in the data center</a></li>
<li><a href="../343870/index.html">Most Popular Books on Reddit Programming</a></li>
<li><a href="../343872/index.html">GraphQL - a new look at the API. Part 1</a></li>
<li><a href="../343876/index.html">Real-time anti-aliasing algorithms</a></li>
<li><a href="../343878/index.html">Good bot for Slack</a></li>
<li><a href="../343880/index.html">How we made an application under Windows 10 with Fluent Design (UWP / C #)</a></li>
<li><a href="../343882/index.html">Undefined behavior! = Insecure programming</a></li>
<li><a href="../343884/index.html">Automation of development processes: how we in Positive Technologies implemented DevOps ideas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>