<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How and why to hide phone numbers</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A little known outside telecom hangout is a fact: when you call somewhere from your phone, your number, which is displayed for an incoming call, is ju...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How and why to hide phone numbers</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/web/33f/4f6/15d/33f4f615d17942dbb9bd215774618131.jpg"></div><br>  A little known outside telecom hangout is a fact: when you call somewhere from your phone, your number, which is displayed for an incoming call, is just an arbitrary text string that your mobile operator substituted.  And if there is something interesting between the two devices, for example, a machine with Asterisk or a cloud with Voximplant, then this line can be changed to any other.  The situation when, when calling, instead of the caller‚Äôs number, a completely different number is called a Phone Number Masking.  And this technique is widely used to solve a number of interesting problems.  Read about them under the cut. <br><a name="habracut"></a><br><h2>  Taxi and other Uber-like solutions </h2><br>  Giving the driver a real customer number is not a good idea.  Then the driver can call the wrong case - that's all.  Number substitution works like this: as soon as the driver accepts the order, it becomes known to the backend of the taxi service.  And if the driver needs to call the customer, then instead he calls the special service number.  The call comes to the Voximplant cloud, where an HTTP request to the backend is made from JavaScript and receives order information.  After that, the cloud calls the customer, and as soon as he picks up the phone, connects it to the incoming call from the driver.  If you are interested in the details, read <a href="https://habrahabr.ru/company/Voximplant/blog/325436/">how it is implemented in Wheely</a> . <br><br>  This method allows the driver and the client not to know each other‚Äôs numbers: all calls go through the cloud.  In an outgoing call to the client, Caller ID is set to the contact center number.  Due to this, if the client after the trip calls the ‚Äúdriver's number‚Äù, he will be greeted with a voice menu and will offer to contact either the driver or the contact center operator.  And if the driver does not work, then the client can be offered that the service will call him back when the driver comes to work.  Also, all conversations can be recorded, the record is recognized - for faster quality control.  All these functions can be implemented in several lines of JavaScript code: <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/618480748988dd67c9de56902cd059d6.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-6a0c0e7fc2e433191d469ef5051df9f8.css"><div id="gist72225317" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-scenario-js" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-javascript ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-scenario-js-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-scenario-js-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">Net</span>.<span class="pl-en">httpRequest</span>(url, <span class="pl-k">function</span>(<span class="pl-smi">e</span>) { <span class="pl-c"><span class="pl-c">//</span>   </span></td>
      </tr>
      <tr>
        <td id="file-scenario-js-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-scenario-js-LC2" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span> (<span class="pl-smi">e</span>.<span class="pl-c1">code</span> <span class="pl-k">===</span> <span class="pl-c1">200</span>) { <span class="pl-c"><span class="pl-c">//</span>    ?</span></td>
      </tr>
      <tr>
        <td id="file-scenario-js-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-scenario-js-LC3" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">var</span> resp <span class="pl-k">=</span> <span class="pl-smi">e</span>.<span class="pl-c1">text</span> <span class="pl-k">?</span> <span class="pl-c1">JSON</span>.<span class="pl-c1">parse</span>(<span class="pl-smi">e</span>.<span class="pl-c1">text</span>) <span class="pl-k">:</span> {};</td>
      </tr>
      <tr>
        <td id="file-scenario-js-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-scenario-js-LC4" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span> (<span class="pl-smi">resp</span>.<span class="pl-smi">numberToCall</span>) { <span class="pl-c"><span class="pl-c">//</span>    </span></td>
      </tr>
      <tr>
        <td id="file-scenario-js-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-scenario-js-LC5" class="blob-code blob-code-inner js-file-line">      <span class="pl-c"><span class="pl-c">//</span> ,  :     </span></td>
      </tr>
      <tr>
        <td id="file-scenario-js-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-scenario-js-LC6" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">var</span> out <span class="pl-k">=</span> <span class="pl-smi">VoxEngine</span>.<span class="pl-en">callPSTN</span>(<span class="pl-smi">resp</span>.<span class="pl-smi">numberToCall</span>, <span class="pl-c1">ACCESS_NUMBER</span>);</td>
      </tr>
      <tr>
        <td id="file-scenario-js-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-scenario-js-LC7" class="blob-code blob-code-inner js-file-line">      <span class="pl-smi">out</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">CallEvents</span>.<span class="pl-smi">Connected</span>, <span class="pl-k">function</span>() {</td>
      </tr>
      <tr>
        <td id="file-scenario-js-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-scenario-js-LC8" class="blob-code blob-code-inner js-file-line">        <span class="pl-c"><span class="pl-c">//</span>   :  -,</span></td>
      </tr>
      <tr>
        <td id="file-scenario-js-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-scenario-js-LC9" class="blob-code blob-code-inner js-file-line">        <span class="pl-c"><span class="pl-c">//</span>      </span></td>
      </tr>
      <tr>
        <td id="file-scenario-js-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-scenario-js-LC10" class="blob-code blob-code-inner js-file-line">      });</td>
      </tr>
      <tr>
        <td id="file-scenario-js-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-scenario-js-LC11" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-scenario-js-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-scenario-js-LC12" class="blob-code blob-code-inner js-file-line">  }</td>
      </tr>
      <tr>
        <td id="file-scenario-js-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-scenario-js-LC13" class="blob-code blob-code-inner js-file-line">});</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">scenario.js</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br><h2>  Delivery and courier services </h2><br>  It looks like a taxi service, but with its own nuances.  Very often, calls are made not through cellular communication, but with the help of applications: couriers call to coordinate logistics, and the Internet is now much cheaper than even wholesale offers for cellular communication for companies.  It looks like this: the courier has a web / android / ios-application with the button "contact customer".  When you click on it, the corresponding SDK establishes a TCP / WebSocket connection to the Voximplant cloud, signals the call and transmits voice over the (S) RTP protocol.  When you call back to the courier, a push notification mechanism is used, so even if the application is closed, it will not hurt to ‚Äúreach‚Äù the delivery service. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      If you use one cloud for all communication automation, you can make interesting integrated solutions.  For example, by calling the cloud-based JavaScript script via the HTTP API, you can confirm the delivery.  And with the help of the voice menu, the client can directly from this call contact the courier, if it is now available, or the contact center.  At the same time, masking the number makes the client ‚Äúone number‚Äù to which he ‚Äújust calls‚Äù.  And under the hood JavaScript on the position of the stars determines where to send the call. <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/d256470e48ce66c0dd094eac996a6233.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-6a0c0e7fc2e433191d469ef5051df9f8.css"><div id="gist72225620" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-scenario-js" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-javascript ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-scenario-js-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-scenario-js-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">VoxEngine</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">AppEvents</span>.<span class="pl-smi">Started</span>, <span class="pl-k">function</span>() {</td>
      </tr>
      <tr>
        <td id="file-scenario-js-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-scenario-js-LC2" class="blob-code blob-code-inner js-file-line">  <span class="pl-c"><span class="pl-c">//</span>      HTTP API</span></td>
      </tr>
      <tr>
        <td id="file-scenario-js-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-scenario-js-LC3" class="blob-code blob-code-inner js-file-line">  <span class="pl-c"><span class="pl-c">//</span>       </span></td>
      </tr>
      <tr>
        <td id="file-scenario-js-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-scenario-js-LC4" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">var</span> data <span class="pl-k">=</span> <span class="pl-smi">VoxEngine</span>.<span class="pl-en">customData</span>();</td>
      </tr>
      <tr>
        <td id="file-scenario-js-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-scenario-js-LC5" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">var</span> params <span class="pl-k">=</span> data <span class="pl-k">?</span> <span class="pl-c1">JSON</span>.<span class="pl-c1">parse</span>(data) <span class="pl-k">:</span> {};</td>
      </tr>
      <tr>
        <td id="file-scenario-js-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-scenario-js-LC6" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span> (<span class="pl-smi">params</span>.<span class="pl-smi">phoneToCall</span>) {</td>
      </tr>
      <tr>
        <td id="file-scenario-js-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-scenario-js-LC7" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"><span class="pl-c">//</span> ,  :     </span></td>
      </tr>
      <tr>
        <td id="file-scenario-js-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-scenario-js-LC8" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">var</span> out <span class="pl-k">=</span> <span class="pl-smi">VoxEngine</span>.<span class="pl-en">callPSTN</span>(<span class="pl-smi">params</span>.<span class="pl-smi">phoneToCall</span>, <span class="pl-c1">ACCESS_NUMBER</span>);</td>
      </tr>
      <tr>
        <td id="file-scenario-js-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-scenario-js-LC9" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"><span class="pl-c">//</span> ...</span></td>
      </tr>
      <tr>
        <td id="file-scenario-js-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-scenario-js-LC10" class="blob-code blob-code-inner js-file-line">  }</td>
      </tr>
      <tr>
        <td id="file-scenario-js-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-scenario-js-LC11" class="blob-code blob-code-inner js-file-line">});</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">scenario.js</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br><h2>  Web interfaces of order management systems </h2><br>  Thanks to WebRTC ( <a href="https://habrahabr.ru/company/Voximplant/blog/333486/">our latest article about WebRTC</a> ) you can call from web pages and web pages, and the cloud with JavaScript at the ready commutes these calls with traditional telephony.  Masking the number works here.  Where does the web page number come from?  For all outgoing calls from the CRM cloud, customers substitute their ‚Äúexternal‚Äù phone number.  If they call this phone, the next steps with the call are simply recorded in the JavaScript script.  For example, distribute to the call center operator with which the client communicated the last time.  Or automatically tell about the status of the order.  Or escalate a call to support the second level, if it is the fifth call in an hour. <br><br><h2>  Why do you need masking numbers </h2><br>  Many companies, such as Uber, directly connect their customers with drivers.  But there are many stories on the Internet, when the number preserved in the call logs was then misused, especially on the night from Friday to Monday, after a hard day at work.  Masking the number allows you to avoid accidents and calls at three in the morning.  This is done in a single line in the JavaScript code. <br><br>  <font color="lightgray">Photo before Kata taken <a href="http://mobilegram.ru/kak-skryt-nomer-na-tele2">from the blog</a></font> . </div><p>Source: <a href="https://habr.com/ru/post/333972/">https://habr.com/ru/post/333972/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../333956/index.html">Useful commands and tips when working with Kubernetes through the kubectl console utility</a></li>
<li><a href="../333958/index.html">Routing incoming calls to 3CX depending on the time of day</a></li>
<li><a href="../333962/index.html">‚ÄúKnow yourself‚Äù: social media mining-projects at ITMO University</a></li>
<li><a href="../333966/index.html">When in Russia to wait for 5G</a></li>
<li><a href="../333970/index.html">Choosing the right HPE Aruba switch for your small or medium business network</a></li>
<li><a href="../333976/index.html">Come down from heaven: let's just count?</a></li>
<li><a href="../333978/index.html">We attack DHCP</a></li>
<li><a href="../333980/index.html">Take care of your points or how to resist fraud in loyalty programs</a></li>
<li><a href="../333982/index.html">Hummingbirds for Phantom</a></li>
<li><a href="../333984/index.html">Found new version of the program. Install?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>