<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Localization of mobile applications on the example of iOS. Implementation, support and development in the next versions</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="My colleague, Vyacheslav Budnikov , a leading developer of mobile applications for iOS, decided to share his experience in ordering localization of pr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Localization of mobile applications on the example of iOS. Implementation, support and development in the next versions</h1><div class="post__text post__text-html js-mediator-article">  My colleague, <a href="http://habrahabr.ru/users/budnikovv/">Vyacheslav Budnikov</a> , a leading developer of mobile applications for iOS, decided to share his experience in ordering localization of projects. <br><br><h5>  Introduction </h5><br>  Localization of a mobile application involves translating the interface and adapting the software for use in another language.  Tinkoff Bank mobile application is used only by Russian-speaking clients, so we did not have such a task.  But the principle of localization was applied to restore order in the texts, to make it easier to read, check for errors and edit. <br><br>  Consider the localization of text elements on the example of iOS.  To do this, use the Localizable.strings list, which describes all the phrases in the format ‚Äúkey‚Äù = ‚Äúlocalized value‚Äù.  Each localization language has a different key value. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Important: <br><ul><li>  follow the writing of string keys in the code, otherwise, instead of a localized phrase, we get a ‚Äútechnical‚Äù phrase (the name of a constant); </li><li>  make sure that each key has localized values; </li><li>  make sure that localization on all application platforms is identical.  If there is a new version of the application, you need to check existing phrases. </li></ul><br><a name="habracut"></a><br><h5>  Where to begin </h5><br><img src="https://habrastorage.org/files/b1c/72e/a8f/b1c72ea8f2bf46d5b11a6bf46c190f9d.JPG" alt="image"><br>  Localization was implemented in the development of MB 2.0 - the second version of the mobile bank Tinkoff.  Initially, localized strings were carried out in Localizable.strings, filled in the missing strings before testing, modified and added new strings during testing.  Next, they made a new assembly and checked everything.  And so for each platform. <br><br>  Naturally, errors occurred.  Therefore, they included localization in the TZ and began to take all the values ‚Äã‚Äãfrom the documentation, which made it possible to synchronize the localization between the platforms and get rid of different localized names. <br><br>  The method did not get rid of all the problems.  There were situations when it was necessary to change the phrase only on one screen or only for one script.  It was necessary to carefully look at the search results wherever the old key was, change it to a new one, observing the new logic.  There were often errors that we saw only at the testing stage. <br><br>  The next step was to use not localized strings in the code, but pointers to localized string constants.  This eliminated the magic lines and misprints. <br><br>  How to do it <br><ol><li>  Add localizable.strings file; </li><li>  Add 2 files for string constants: <br>  LocalizableKeys.h <br>  LocalizableKeys.m; </li><li>  For TK, choose a style for localized phrases. </li></ol><br><br>  An example of a functional description in a statement of work: <br><blockquote>  If you press the "Search" button ( <font color="red">main_continue</font> ) on the screen 1.1 then ... " </blockquote><br>  We write the TK text in the wiki and store it in html, in the source code it looks like this: <br><pre><code class="html hljs xml">   "" (<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"color:red"</span></span></span><span class="hljs-tag">&gt;</span></span>main_continue<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>)   1.1 </code> </pre> <br><br><h5>  Implementation </h5><br>  To search for such phrases, we use a script that finds these phrases and creates a list of ‚Äúkey‚Äù = ‚Äúvalue‚Äù of the form: ‚Äúmain_continue‚Äù = ‚ÄúNext‚Äù.  This is the main list of localized phrases that we will use in the application. <br><br>  Further, on this list we create 2 more lists: <br><ol><li>  For a header file: extern NSString * const LocKey_main_continue; </li><li>  Implementation: NSString * const LocKey_main_continue = @ "main_continue"; </li></ol><br><br>  And save them to 3 files: <br><ol><li>  Localizable.strings - the file in which the key-value localization for each localization language lies <br><pre> <code class="objectivec hljs"><span class="hljs-string"><span class="hljs-string">"main_continue"</span></span> = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-string"><span class="hljs-string">"common_error"</span></span> = <span class="hljs-string"><span class="hljs-string">""</span></span>;</code> </pre></li><li>  LocalizableKeys.h <br><pre> <code class="objectivec hljs">import &lt;Foundation/Foundation.h&gt; <span class="hljs-keyword"><span class="hljs-keyword">extern</span></span> <span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> *<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> LocKey_main_continue; <span class="hljs-keyword"><span class="hljs-keyword">extern</span></span> <span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> *<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> LocKey_common_error;</code> </pre></li><li>  3.LocalizableKeys.m <br><pre> <code class="objectivec hljs"><span class="hljs-meta"><span class="hljs-meta">#import </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"LocalizableKeys.h"</span></span></span><span class="hljs-meta"> NSString *const LocKey_main_continue = @</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"main_continue"</span></span></span><span class="hljs-meta">; NSString *const LocKey_common_error = @</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"common_error"</span></span></span><span class="hljs-meta">;</span></span></code> </pre></li></ol><br><br>  We replace these files in our project and collect it.  Now you can use the localization keys as follows: <br>  NSLocalizedString (LocKey_common_error, @ ""); <br><br>  If at the next localization update the project is not going to, then the necessary constants have been deleted or renamed.  Therefore, we either change them in the code, or return to the TK. <br><br>  Thus, with each change in the TZ, new files Localizable.strings LocalizableKeys.h LocalizableKeys.m are generated and the project is assembled.  As a result, we get full compliance with the technical requirements and their implementation. <br><br>  The advantages of our approach: <br><ul><li>  the integrity of all keys is checked by the compiler.  If such a constant was removed from the localization, the compiler will tell us about it when building; </li><li>  the name and value of the keys regulates the TZ; </li><li>  When writing code, you can use the contextual help, which significantly increases the speed of writing code; </li><li>  Another person who is following the localization is connected to the reading of the TOR. </li></ul><br><br>  This approach will help bring order to the TOR, even if you do not have the task to translate the mobile application into other languages. <br><br><h5>  An example of using the localization approach for autotests </h5><br>  When writing autotests to identify objects on the screen, we need unique keys for all interface elements - a text input box, a button, and so on. <br><br>  In the same way as in the localization, assign accessibilityLabel constants to the TK to the objects and add a style for processing phrases for autotests. <br><br>  An example of a functional description in a statement of work: <br><blockquote>  ‚ÄúIf the‚Äú Continue ‚Äùbutton ( <font color="red">main_continue</font> <font color="blue">btn_continue</font> ) is <font color="blue">pressed</font> on screen 1.1 then ...‚Äù </blockquote><br>  We write the TK text in the wiki and store it in html, in the source code it will look like this: <br><pre> <code class="html hljs xml">¬´   "" (<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"color:red;"</span></span></span><span class="hljs-tag">&gt;</span></span>main_continue<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"color:blue;"</span></span></span><span class="hljs-tag">&gt;</span></span>btn_continue<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>)   1.1 ¬ª</code> </pre><br><br>  As a result, we obtain: <br><ul><li>  AccessibilityKeys.h <br><pre> <code class="objectivec hljs"><span class="hljs-meta"><span class="hljs-meta">#import </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><span class="hljs-meta"> extern NSString *const AccKey_btn_continue</span></span></code> </pre></li><li>  AccessibilityKeys.m <br><pre> <code class="objectivec hljs"><span class="hljs-meta"><span class="hljs-meta">#import </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"AccessibilityKeys.h"</span></span></span><span class="hljs-meta"> NSString *const AccKey_btn_continue = @</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"bnt_continue"</span></span></span></span></code> </pre></li></ul><br><br>  In code, it looks like this: <br><pre> <code class="objectivec hljs"><span class="hljs-built_in"><span class="hljs-built_in">UIButton</span></span> *buttonRegistration; [buttonRegistration setAccessibilityLabel: AccKey_btn_continue]; [buttonRegistration setTitle: <span class="hljs-built_in"><span class="hljs-built_in">NSLocalizedString</span></span>(LocKey_main_continue, <span class="hljs-string"><span class="hljs-string">@""</span></span>) forState:<span class="hljs-built_in"><span class="hljs-built_in">UIControlStateNormal</span></span>]</code> </pre><br><br>  Now for writing autotests you need an application and TK.  For multiplatform applications, you can use the same autotest scripts for all platforms. </div><p>Source: <a href="https://habr.com/ru/post/271459/">https://habr.com/ru/post/271459/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../271449/index.html">Automation: how we, 10 people, manage an asset worth billions of dollars - IT protection from people and operational risks</a></li>
<li><a href="../271451/index.html">Gravitational field on the surface of bodies of irregular shape on the example of the comet Churyumov-Gerasimenko</a></li>
<li><a href="../271453/index.html">Traditional non-alcoholic hackathon in Sibiriks: we write free HelpDesk</a></li>
<li><a href="../271455/index.html">How to keep secret correspondence. Part 2</a></li>
<li><a href="../271457/index.html">The game "Life" on the logical elements</a></li>
<li><a href="../271461/index.html">Codesign.io - architecture that works</a></li>
<li><a href="../271465/index.html">The matrix of capabilities of modern messengers with an emphasis on security</a></li>
<li><a href="../271467/index.html">NGINX as a load balancer for MySQL or MariaDB Galera Cluster</a></li>
<li><a href="../271469/index.html">Zabyty on Mars: explore the travels of Mark Watney from The Martian movie</a></li>
<li><a href="../271471/index.html">The rise of Node.js - and why it will lead in the development of corporate software</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>