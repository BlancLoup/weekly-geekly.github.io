<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Emoji Encryption</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On the next pair of “Information Security” the teacher gave us the task to come up with our own encryption method. I immediately got the idea of ​​a r...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">🔎</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">📜</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">⬆️</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">⬇️</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Emoji Encryption</h1><div class="post__text post__text-html js-mediator-article">  On the next pair of “Information Security” the teacher gave us the task to come up with our own encryption method.  I immediately got the idea of ​​a rather unusual (or maybe not) method.  What came of it, read under the cut. <br><br><img src="https://habrastorage.org/files/7b9/752/dbc/7b9752dbc9024d1eae7e3315e2559143.png"><br><a name="habracut"></a><br>  The cipher of "Caesar" was taken as the basis, the essence of which was to replace the letters by shifting the alphabet by a certain number.  The number is also a key; the user enters it when encrypting. <br><br>  What do we need?  An array of emoji letters and symbols was compiled.  For this, a script was written to parse all emoji from Vkontakte and the Delphi program to create an association by randomly mixing emoticons, as well as to add links to images.  The output was something like this: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">Array of associations</b> <div class="spoiler_text"><pre>  and "✨", "http://vk.com/images/emoji/2728.png" </pre><br><pre>  b "❄", "http://vk.com/images/emoji/2744.png" </pre><br><pre>  in "🀄", "http://vk.com/images/emoji/D83CDC04.png" </pre><br><pre>  g "🃏", "http://vk.com/images/emoji/D83CDCCF.png" </pre><br><pre>  d "🆘", "http://vk.com/images/emoji/D83CDD98.png" </pre><br><pre>  e "🌂", "http://vk.com/images/emoji/D83CDF02.png" </pre><br><pre>   "🌍", "http://vk.com/images/emoji/D83CDF0D.png" </pre><br><pre>  f "🌛", "http://vk.com/images/emoji/D83CDF1B.png" </pre><br><pre>  s "🌝", "http://vk.com/images/emoji/D83CDF1D.png" </pre><br><pre>  and "🌞", "1450830870441041053935" </pre><br><pre>  th "🌟", "http://vk.com/images/emoji/D83CDF1F.png" </pre><br><pre>  to "🌰", "http://vk.com/images/emoji/D83CDF30.png" </pre><br><pre>  l "", "http://vk.com/images/emoji/D83CDF31.png" </pre><br><pre>  m "🌲", "http://vk.com/images/emoji/D83CDF32.png" </pre><br><pre>  n "🌳", "http://vk.com/images/emoji/D83CDF33.png" </pre><br><pre>  about "🌴", "http://vk.com/images/emoji/D83CDF34.png" </pre><br><pre>  p "🌵", "http://vk.com/images/emoji/D83CDF35.png" </pre><br><pre>  p "🌷", "http://vk.com/images/emoji/D83CDF37.png" </pre><br><pre>  with "🌸", "http://vk.com/images/emoji/D83CDF38.png" </pre><br><pre>  t "", "http://vk.com/images/emoji/D83CDF39.png" </pre><br><pre>  for "🌺", "http://vk.com/images/emoji/D83CDF3A.png" </pre><br><pre>  "🌻", "http://vk.com/images/emoji/D83CDF3B.png" </pre><br><pre>  x "🌼", "http://vk.com/images/emoji/D83CDF3C.png" </pre><br><pre>  "" 🌽 "," http://vk.com/images/emoji/D83CDF3D.png " </pre><br><pre>  h "🌾", "http://vk.com/images/emoji/D83CDF3E.png" </pre><br><pre>  w "🌿", "http://vk.com/images/emoji/D83CDF3F.png" </pre><br><pre>  u "🍀", "http://vk.com/images/emoji/D83CDF40.png" </pre><br><pre>   "🍁", "http://vk.com/images/emoji/D83CDF41.png" </pre><br><pre>  s "🍂", "http://vk.com/images/emoji/D83CDF42.png" </pre><br><pre>   "🍃", "http://vk.com/images/emoji/D83CDF43.png" </pre><br><pre>  e "🍄", "http://vk.com/images/emoji/D83CDF44.png" </pre><br><pre>  "🍅", "http://vk.com/images/emoji/D83CDF45.png" </pre><br><pre>  I "🍆", "http://vk.com/images/emoji/D83CDF46.png" </pre><br><pre>  a "", "http://vk.com/images/emoji/D83CDF47.png" </pre><br><pre>  b "🍈", "http://vk.com/images/emoji/D83CDF48.png" </pre><br><pre>  c "🍉", "http://vk.com/images/emoji/D83CDF49.png" </pre><br><pre>  d "🍊", "https://habrastorage.org/getpro/habr/post_images/e83/65f/0bb/e8365f0bbf916dcd2feee82f85039a80.png" </pre><br><pre>  e "", "https://habrastorage.org/getpro/habr/post_images/0d3/a7a/ff2/0d3a7aff2e3dc5d58c511f3c8d76f5d0.png" </pre><br><pre>  f "🍌", "http://vk.com/images/emoji/D83CDF4C.png" </pre><br><pre>  g "", "http://vk.com/images/emoji/D83CDF4D.png" </pre><br><pre>  h "🍎", "https://habrastorage.org/getpro/habr/post_images/9f6/514/145/9f6514145586341507fdeb3419aadf96.png" </pre><br><pre>  i "🍏", "http://vk.com/images/emoji/D83CDF4F.png" </pre><br><pre>  j "🍐", "http://vk.com/images/emoji/D83CDF50.png" </pre><br><pre>  k "", "http://vk.com/images/emoji/D83CDF51.png" </pre><br><pre>  l "", "https://habrastorage.org/getpro/habr/post_images/6cf/2cd/60e/6cf2cd60e1966b7b22c0ede9c2569778.png" </pre><br><pre>  m "🍓", "http://vk.com/images/emoji/D83CDF53.png" </pre><br><pre>  n "🍔", "http://vk.com/images/emoji/D83CDF54.png" </pre><br><pre>  o "🍕", "https://habrastorage.org/getpro/habr/post_images/c8a/e3e/caa/c8ae3ecaa831341c53c06e637673b8c2.png" </pre><br><pre>  p "🍖", "http://vk.com/images/emoji/D83CDF56.png" </pre><br><pre>  q "🍗", "http://vk.com/images/emoji/D83CDF57.png" </pre><br><pre>  r "🍚", "https://habrastorage.org/getpro/habr/post_images/a08/8af/125/a088af1256132a32f51c851801f54503.png" </pre><br><pre>  s "", "http://vk.com/images/emoji/D83CDF5B.png" </pre><br><pre>  t "", "http://vk.com/images/emoji/D83CDF5C.png" </pre><br><pre>  u "🍝", "http://vk.com/images/emoji/D83CDF5D.png" </pre><br><pre>  v "", "http://vk.com/images/emoji/D83CDF5E.png" </pre><br><pre>  w "🍟", "https://habrastorage.org/getpro/habr/post_images/71f/1b4/a98/71f1b4a989fbe225f56befde91b993c7.png" </pre><br><pre>  x "", "http://vk.com/images/emoji/D83CDF60.png" </pre><br><pre>  y "🍡", "http://vk.com/images/emoji/D83CDF61.png" </pre><br><pre>  z "🍢", "http://vk.com/images/emoji/D83CDF62.png" </pre><br><pre>  ~ "", "Http://vk.com/images/emoji/D83CDF63.png" </pre><br><pre>  `" 🍤 "," http://vk.com/images/emoji/D83CDF64.png " </pre><br><pre>  !  "🍥", "http://vk.com/images/emoji/D83CDF65.png" </pre><br><pre>  @ "🍦", "http://vk.com/images/emoji/D83CDF66.png" </pre><br><pre>  # "🍧", "http://vk.com/images/emoji/D83CDF67.png" </pre><br><pre>  $ "", "Http://vk.com/images/emoji/D83CDF68.png" </pre><br><pre>  % "", "Http://vk.com/images/emoji/D83CDF69.png" </pre><br><pre>  ^ "", "Http://vk.com/images/emoji/D83CDF6A.png" </pre><br><pre>  &amp; "", "Http://vk.com/images/emoji/D83CDF6B.png" </pre><br><pre>  * "", "Http://vk.com/images/emoji/D83CDF6C.png" </pre><br><pre>  ("🍭", "http://vk.com/images/emoji/D83CDF6D.png" </pre><br><pre>  ) "", "Http://vk.com/images/emoji/D83CDF6E.png" </pre><br><pre>  _ "", "Http://vk.com/images/emoji/D83CDF6F.png" </pre><br><pre>  + "", "Http://vk.com/images/emoji/D83CDF70.png" </pre><br><pre>  "" 🍱 "," http://vk.com/images/emoji/D83CDF71.png " </pre><br><pre>  No. "🍲", "http://vk.com/images/emoji/D83CDF72.png" </pre><br><pre>  ;  "🍳", "http://vk.com/images/emoji/D83CDF73.png" </pre><br><pre>  : "🍴", "http://vk.com/images/emoji/D83CDF74.png" </pre><br><pre>  ?  "🍵", "http://vk.com/images/emoji/D83CDF75.png" </pre><br><pre>  - "🍶", "http://vk.com/images/emoji/D83CDF76.png" </pre><br><pre>  = "", "Http://vk.com/images/emoji/D83CDF77.png" </pre><br><pre>  / "", "Http://vk.com/images/emoji/D83CDF78.png" </pre><br><pre>  \ "", "Http://vk.com/images/emoji/D83CDF79.png" </pre><br><pre>  0 "", "http://vk.com/images/emoji/D83CDF7A.png" </pre><br><pre>  1 "", "http://vk.com/images/emoji/D83CDF7B.png" </pre><br><pre>  2 "", "http://vk.com/images/emoji/D83CDF7C.png" </pre><br><pre>  3 "", "http://vk.com/images/emoji/D83CDF80.png" </pre><br><pre>  4 "", "http://vk.com/images/emoji/D83CDF81.png" </pre><br><pre>  5 "", "http://vk.com/images/emoji/D83CDF82.png" </pre><br><pre>  6 "", "http://vk.com/images/emoji/D83CDF83.png" </pre><br><pre>  7 "", "http://vk.com/images/emoji/D83CDF84.png" </pre><br><pre>  8 "", "http://vk.com/images/emoji/D83CDF85.png" </pre><br><pre>  9 "", "http://vk.com/images/emoji/D83CDF88.png" </pre><br><pre>  "space", "🎉", "https://habrastorage.org/getpro/habr/post_images/06d/0e6/e96/06d0e6e961f1030a5916279e2c57755a.png" </pre><br></div></div><br>  In addition, another “shift” array was created.  Inside it contained numbers from 0 to 9, which were also assigned unique characters.  In fact, you could add more numbers, this is a matter of taste.  This array looks like this: <br><br><div class="spoiler">  <b class="spoiler_title">Shift array</b> <div class="spoiler_text"><pre>  0 "", "https://habrastorage.org/getpro/habr/post_images/e61/d22/668/e61d226683006faa0b5a75f5f24716ef.png" </pre><br><pre>  1 "", "http://vk.com/images/emoji/D83CDF8B.png" </pre><br><pre>  2 "", "http://vk.com/images/emoji/D83CDF8C.png" </pre><br><pre>  3 "", "http://vk.com/images/emoji/D83CDF8D.png" </pre><br><pre>  4 "", "http://vk.com/images/emoji/D83CDF8E.png" </pre><br><pre>  5 "", "http://vk.com/images/emoji/D83CDF8F.png" </pre><br><pre>  6 "", "http://vk.com/images/emoji/D83CDF90.png" </pre><br><pre>  7 "", "http://vk.com/images/emoji/D83CDF92.png" </pre><br><pre>  8 "", "http://vk.com/images/emoji/D83CDF93.png" </pre><br><pre>  9 "", "http://vk.com/images/emoji/D83CDFA3.png" </pre><br></div></div><br>  Important note!  You may have noticed that in the first and second arrays there are numbers 0-9.  In order to distinguish between them, it is necessary to assign each unique character that is not previously encountered.  This is an important condition for the operation of the entire cipher. <br><br><img src="https://habrastorage.org/files/3bc/524/227/3bc524227d92428bb093ccd81bce43be.png"><br>  So now we have everything to encrypt the original message.  First we find two numbers: the number of "shift" (borders 0-9) and the number of "position" (borders 0- "length of the original string").  Both are generated randomly.  The first digit will determine the same letter shift as in Caesar's cipher, and the second number will be the position inside the string, in the place of which we will insert a smiley from the “shift” array, which corresponds to the number of “shift” (sorry for tautology). <br><br>  We do the standard shift to the right side, but we replace them not with the shifted letter, but with its emoji symbol.  During encryption, when typing the resulting string, we follow the moment when you need to insert the emoji character of the number of "shift".  At the output we get a string of emoticons alone.  Here we are waiting for the main problem, which is most likely associated with the correct display of emoticons.  Since many browsers can display rectangles instead of the symbols we need (although this doesn’t interfere with the recognition inside the code), we wrap them in with the appropriate links to the images.  Thus, quite beautiful appearance of the cipher turns out. <br><br>  Encryption example: <br><br>  "Hello world" =&gt; <img src="https://habrastorage.org/getpro/habr/post_images/9f6/514/145/9f6514145586341507fdeb3419aadf96.png" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/0d3/a7a/ff2/0d3a7aff2e3dc5d58c511f3c8d76f5d0.png" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/6cf/2cd/60e/6cf2cd60e1966b7b22c0ede9c2569778.png" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/6cf/2cd/60e/6cf2cd60e1966b7b22c0ede9c2569778.png" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/c8a/e3e/caa/c8ae3ecaa831341c53c06e637673b8c2.png" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/06d/0e6/e96/06d0e6e961f1030a5916279e2c57755a.png" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/71f/1b4/a98/71f1b4a989fbe225f56befde91b993c7.png" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/c8a/e3e/caa/c8ae3ecaa831341c53c06e637673b8c2.png" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/e61/d22/668/e61d226683006faa0b5a75f5f24716ef.png" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/a08/8af/125/a088af1256132a32f51c851801f54503.png" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/6cf/2cd/60e/6cf2cd60e1966b7b22c0ede9c2569778.png" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/e83/65f/0bb/e8365f0bbf916dcd2feee82f85039a80.png" alt="image"><br>  (there is no way to copy the cipher from here) <br><br>  The encryption function itself looks like this: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> str = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"text"</span></span>).value; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> res=<span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> key = getRandomInt(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">9</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> key_insert = getRandomInt(<span class="hljs-number"><span class="hljs-number">0</span></span>,str.length<span class="hljs-number"><span class="hljs-number">-1</span></span>) ; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;str.length;i++){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (i==key_insert) {res = res+<span class="hljs-string"><span class="hljs-string">'&lt;img alt="'</span></span>+numbers[key][<span class="hljs-number"><span class="hljs-number">1</span></span>]+<span class="hljs-string"><span class="hljs-string">'" src="'</span></span>+numbers[key][<span class="hljs-number"><span class="hljs-number">2</span></span>]+<span class="hljs-string"><span class="hljs-string">'"&gt;'</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> j=<span class="hljs-number"><span class="hljs-number">0</span></span>;j&lt;cipher.length;j++){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (str[i].toUpperCase()==cipher[j][<span class="hljs-number"><span class="hljs-number">0</span></span>].toUpperCase()) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((j+key)&gt;cipher.length<span class="hljs-number"><span class="hljs-number">-1</span></span>) { res = res+<span class="hljs-string"><span class="hljs-string">'&lt;img alt="'</span></span>+cipher[(j+key)-cipher.length][<span class="hljs-number"><span class="hljs-number">1</span></span>]+<span class="hljs-string"><span class="hljs-string">'" src="'</span></span>+cipher[(j+key)-cipher.length][<span class="hljs-number"><span class="hljs-number">2</span></span>]+<span class="hljs-string"><span class="hljs-string">'"&gt;'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { res = res+<span class="hljs-string"><span class="hljs-string">'&lt;img alt="'</span></span>+cipher[(j+key)][<span class="hljs-number"><span class="hljs-number">1</span></span>]+<span class="hljs-string"><span class="hljs-string">'" src="'</span></span>+cipher[(j+key)][<span class="hljs-number"><span class="hljs-number">2</span></span>]+<span class="hljs-string"><span class="hljs-string">'"&gt;'</span></span>; } } } }</code> </pre> <br>  The decryption process is not much more complicated.  To begin with, in the encrypted string, we look for the “shift” symbol, comparing the string with the “shift” array.  When we found it, we translate it into a numerical value and make a reverse shift to the left, only now we replace the characters with letters. <br><br>  Decryption Example: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9f6/514/145/9f6514145586341507fdeb3419aadf96.png" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/0d3/a7a/ff2/0d3a7aff2e3dc5d58c511f3c8d76f5d0.png" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/6cf/2cd/60e/6cf2cd60e1966b7b22c0ede9c2569778.png" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/6cf/2cd/60e/6cf2cd60e1966b7b22c0ede9c2569778.png" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/c8a/e3e/caa/c8ae3ecaa831341c53c06e637673b8c2.png" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/06d/0e6/e96/06d0e6e961f1030a5916279e2c57755a.png" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/71f/1b4/a98/71f1b4a989fbe225f56befde91b993c7.png" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/c8a/e3e/caa/c8ae3ecaa831341c53c06e637673b8c2.png" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/e61/d22/668/e61d226683006faa0b5a75f5f24716ef.png" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/a08/8af/125/a088af1256132a32f51c851801f54503.png" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/6cf/2cd/60e/6cf2cd60e1966b7b22c0ede9c2569778.png" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/e83/65f/0bb/e8365f0bbf916dcd2feee82f85039a80.png" alt="image">  =&gt; "Hello world" <br>  (there is no way to copy the cipher from here) <br><br>  Decryption function: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">decodeEntities</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">encodedString</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> textArea = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createElement(<span class="hljs-string"><span class="hljs-string">'textarea'</span></span>); textArea.innerHTML = encodedString; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> textArea.value; } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> str = <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"text"</span></span>).value.toString()); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> res=<span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;str.length;i+=<span class="hljs-number"><span class="hljs-number">2</span></span>){ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> j=<span class="hljs-number"><span class="hljs-number">0</span></span>;j&lt;numbers.length;j++){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( str[i]+str[i+<span class="hljs-number"><span class="hljs-number">1</span></span>]==decodeEntities(numbers[j][<span class="hljs-number"><span class="hljs-number">1</span></span>])) {<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> key = j} } } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;str.length;i+=<span class="hljs-number"><span class="hljs-number">2</span></span>){ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> j=<span class="hljs-number"><span class="hljs-number">0</span></span>;j&lt;cipher.length;j++){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( str[i]+str[i+<span class="hljs-number"><span class="hljs-number">1</span></span>]==decodeEntities(cipher[j][<span class="hljs-number"><span class="hljs-number">1</span></span>])) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((j-key)&lt;<span class="hljs-number"><span class="hljs-number">0</span></span>) {res = res+cipher[cipher.length-(<span class="hljs-number"><span class="hljs-number">-1</span></span>*(j-key))][<span class="hljs-number"><span class="hljs-number">0</span></span>]} <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {res = res+cipher[j-key][<span class="hljs-number"><span class="hljs-number">0</span></span>]} } } }</code> </pre><br>  The decodeEntities () function is needed to convert emoji type code "" to a character.  Also, when comparing letters, we fold adjacent elements.  I think the reason here lies in the size of emoji, because only in this way we will get a symbol for comparison (if we try to deduce only one element by index, and not their sum, we will see emptiness). <br><br>  The advantages of such a cipher include the fact that it cannot be decrypted using the “relative frequencies” method, as well as the fact that the key is not set by the user, therefore, the security of the cipher is increased. <br><br>  Among the shortcomings - not all sites “beautifully” display the cipher, if at all they display it.  Mobile applications generally output an empty string the place of the cipher (more precisely, the recipient sees the message this way, the sender will have a string from the set obj). <br><br>  The simplest improvement would be to increase the “shift” array or add another unique emoji to each digit inside this array. <br><br>  What we have at the moment: sites of almost all social networks adequately display the cipher.  Mobile applications are not very friendly with him.  On Android, emoji also has a beautiful wrapper.  Sometimes during the encryption process, emoticons like “: 3” may disappear, which is not yet clear. <br><br>  You can try the method here: <a href="http://emojicrypt.xyz/">emojicrypt.xyz</a> <br>  Based on the cipher "Caesar": <a href="https://ru.wikipedia.org/wiki/%25D0%25A8%25D0%25B8%25D1%2584%25D1%2580_%25D0%25A6%25D0%25B5%25D0%25B7%25D0%25B0%25D1%2580%25D1%258F">Wikipedia</a> <br>  Website design is made using Material design lite: <a href="http://getmdl.io/">getmdl.io</a> <br><br>  Thank you for reading the article!  I would be happy with suggestions and comments both on the method and on the article.  And and <img src="http://vk.com/images/emoji/D83CDF32.png"><img src="http://vk.com/images/emoji/D83CDF3E.png"><img src="http://vk.com/images/emoji/D83CDF1F.png"><img src="http://vk.com/images/emoji/D83CDF40.png"><img src="http://1450830870441041053935"><img src="http://vk.com/images/emoji/D83CDF1D.png"><img src="http://vk.com/images/emoji/D83CDFA3.png"><img src="http://vk.com/images/emoji/D83CDF30.png"><img src="http://1450830870441041053935"><img src="http://vk.com/images/emoji/D83CDF3C.png">  (good for you). </div><p>Source: <a href="https://habr.com/ru/post/269259/">https://habr.com/ru/post/269259/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../269245/index.html">Creating an .exe file for authorization and interaction with the VK API using Python</a></li>
<li><a href="../269247/index.html">How to work with connection timeouts: Case Ticketmaster</a></li>
<li><a href="../269251/index.html">Place at least one vacancy on “My Circle” - get full access to the resume database of IT-specialists</a></li>
<li><a href="../269253/index.html">Intel RealSense R200 Camera - Code Samples</a></li>
<li><a href="../269255/index.html">HP Helion OpenStack Carrier Grade - cloud for telecom operators</a></li>
<li><a href="../269261/index.html">Back to the future, or Hello World today and thirty years ago</a></li>
<li><a href="../269263/index.html">Alpha version of SocketPush - universal notifications for all browsers + 3 million free notifications</a></li>
<li><a href="../269267/index.html">Knowledge Management with KCS</a></li>
<li><a href="../269269/index.html">Let's Encrypt is now trusted</a></li>
<li><a href="../269271/index.html">Go Planner</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>