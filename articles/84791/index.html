<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Clojure and Project Euler, part 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the previous article ( Clojure and Project Euler, Part 1 ) I described the solution of the first 3 problems from the Euler project using clojure ‚Äî ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Clojure and Project Euler, part 2</h1><div class="post__text post__text-html js-mediator-article">  In the previous article ( <a href="http://habrahabr.ru/blogs/lisp/84204/">Clojure and Project Euler, Part 1</a> ) I described the solution of the first 3 problems from the Euler project using clojure ‚Äî a fairly young language, but with well-known parents. <br>  In this article I will continue to acquaint the reader (and myself too) with this funny java-lisp.  And I will show you the solution of 3 more simple tasks from Euler. <br><a name="habracut"></a><br><br><h4>  Task 4 </h4><br>  <a href="http://projecteuler.net/index.php%3Fsection%3Dproblems%26id%3D4"><b>The task</b></a> <br>  Find the maximum product of 2 three-digit numbers, which is a palindrome. <br><br>  <b>Algorithm</b> <br>  1. Create after-all works. <br>  2. Filter, leaving only palindromes. <br>  3. Find the maximum. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Code</b> <br>  First, we define a function that determines whether a palindrome is a string or not. <br>  I decided to train willpower and try to write code with comments, at least f-tsii. <br><blockquote>  <font color="#66cc66">(</font> defn palindrom? <br>  <font color="#ff0000">"Returns true if x is palindrom,</font> <font color="#ff0000"><br></font>  <font color="#ff0000">false otherwise. "</font> <br>  <font color="#66cc66">[</font> x <font color="#66cc66">]</font> <br>  <font color="#66cc66">(</font> <font color="#b1b100">let</font> <font color="#66cc66">[</font> s <font color="#66cc66">(</font> str x <font color="#66cc66">)</font> <font color="#66cc66">]</font> <br>  <font color="#66cc66">(</font> <font color="#66cc66">=</font> <font color="#66cc66">(</font> seq s <font color="#66cc66">)</font> <font color="#66cc66">(</font> <font color="#b1b100">reverse</font> s <font color="#66cc66">)</font> <font color="#66cc66">)</font> <font color="#66cc66">)</font> <font color="#66cc66">)</font> </blockquote><br>  It is worth noting 4 things. <br>  1. The description of the function is written after its name and before the list of arguments.  This description will be displayed when you call (doc your-function). <br>  2. In clojure, all predicates (I understand them as functions of one variable that return true or false) usually end with a question mark. <br>  3. Because  we pass the number, we have to convert it to the string first, this is done using the str function. <br>  4. word is of type String, and (reverse word) already returns a sequence and with simple comparison it will always be false.  Therefore, it is necessary to make the word from the post, too.  This is what we do with the help of (seq word). <br><br>  Now the main part: <br><blockquote>  <font color="#66cc66">(</font> reduce <font color="#b1b100">max</font> <br>  <font color="#66cc66">(</font> filter palindrom? <br>  <font color="#66cc66">(</font> for <font color="#66cc66">[</font> i <font color="#66cc66">(</font> range <font color="#cc66cc">100</font> <font color="#cc66cc">1000</font> <font color="#66cc66">)</font> j <font color="#66cc66">(</font> range i <font color="#cc66cc">1000</font> <font color="#66cc66">)</font> <font color="#66cc66">]</font> <font color="#66cc66">(</font> * i j <font color="#66cc66">)</font> <font color="#66cc66">)</font> <font color="#66cc66">)</font> <font color="#66cc66">)</font> </blockquote><br><br>  C (reduce max ...) should be more or less clear; it just takes the maximum from the whole it gets. <br>  In (filter ...) we filter after-numbers and leave only palindromes, moreover, we immediately pass our palindrom predicate there, rather than an anonymous function, as in previous times. <br><blockquote>  <font color="#66cc66">(</font> for <font color="#66cc66">[</font> i <font color="#66cc66">(</font> range <font color="#cc66cc">100</font> <font color="#cc66cc">1000</font> <font color="#66cc66">)</font> j <font color="#66cc66">(</font> range i <font color="#cc66cc">1000</font> <font color="#66cc66">)</font> <font color="#66cc66">]</font> <font color="#66cc66">(</font> * i j <font color="#66cc66">)</font> <font color="#66cc66">)</font> </blockquote>  it uses the for-function that returns after it.  It contains local variables in brackets [], which are usually used in cycles (I don‚Äôt know how to name them correctly, but I think everyone knows where i and j are used).  Itself is formed from the values ‚Äã‚Äãof the expression, standing after binding [].  In our case, this is simply the product of i and j.  There is still a slight improvement in the fact that j runs not from 100 to 1000, but from the current i, which speeds up the work. <br>  A more graphic example for: <br><blockquote>  <font color="#66cc66">(</font> for <font color="#66cc66">[</font> i <font color="#66cc66">(</font> range <font color="#cc66cc">1</font> <font color="#cc66cc">5</font> <font color="#66cc66">)</font> j <font color="#66cc66">(</font> range i <font color="#cc66cc">5</font> <font color="#66cc66">)</font> <font color="#66cc66">]</font> <font color="#66cc66">[</font> i j <font color="#66cc66">]</font> <font color="#66cc66">)</font> <br>  <font color="#808080">;</font>  <font color="#808080">We get the following vectors: ([1 1] [1 2] [1 3] [1 4] [2 2] [2 3] [2 4] [3 3] [3 4] [4 4])</font> </blockquote><br><br><h4>  Task 5 </h4><br>  <a href="http://projecteuler.net/index.php%3Fsection%3Dproblems%26id%3D5"><b>The task</b></a> <br>  Print the minimum number that is divided into all numbers from 1 to 20 inclusive. <br><br>  <b>Algorithm</b> <br>  Take and find the smallest common multiple of 20 numbers. <br><br>  <b>Code</b> <br>  Of course, you can write your NOC, but we will not ... Better use ready-made functions, or rather libraries.  Usually together with c clojure connect immediately and clojure-contrib ( <a href="http://clojure.org/libraries">http://clojure.org/libraries</a> ) - the assembly of libraries, written, as I understand, by ordinary users.  Clojure-contrib is just in the jar-file and is included in the path along with clojure.jar.  There are all sorts of different utilities.  It may be noted that in the library of lazy-seq there is a Fibonacci post and a prime number, which we wrote in the last article.  But we will now be interested in the math library, in which there is a lcm function - NOC. <br>  We connect: <br><blockquote>  <font color="#66cc66">(</font> use 'clojure <font color="#66cc66">.</font> contrib <font color="#66cc66">.</font> math <font color="#66cc66">)</font> </blockquote><br>  And decide: <br><blockquote>  <font color="#66cc66">(</font> reduce lcm <font color="#66cc66">(</font> range <font color="#cc66cc">1</font> <font color="#cc66cc">21</font> <font color="#66cc66">)</font> <font color="#66cc66">)</font> </blockquote><br><br>  I will skip some tasks that do not require any special new knowledge of the language, but only implementation.  So go straight to 8: <br><br><h4>  Task 8 </h4><br>  <a href="http://projecteuler.net/index.php%3Fsection%3Dproblems%26id%3D8"><b>The task</b></a> <br>  Given a number with 1000 characters, it is necessary to find 5 consecutive digits in it, which give the maximum product and output this product.  The number itself can be found here: ( <a href="http://projecteuler.net/index.php%3Fsection%3Dproblems%26id%3D8">http://projecteuler.net/index.php?section=problems&amp;id=8</a> ) <br><br>  <b>Algorithm</b> <br>  1. First you need to enter this number into the program, I decided to save it to a file and read from there, because it's not very convenient to write it to the editor.  At the same time we will work with the libraries of java itself. <br>  2. Split the number into five groups of 5 digits. <br>  3. Multiply and take the maximum. <br><br>  <b>Code</b> <br>  The number (20 lines of 50 characters) is stored in the file input.txt <br><blockquote>  <font color="#66cc66">(</font> def number <br>  <font color="#66cc66">(</font> <font color="#b1b100">let</font> <font color="#66cc66">[</font> reader <font color="#66cc66">(</font> new java <font color="#66cc66">.</font> io <font color="#66cc66">.</font> BufferedReader <font color="#66cc66">(</font> new java <font color="#66cc66">.</font> io <font color="#66cc66">.</font> FileReader <font color="#ff0000">"input.txt"</font> <font color="#66cc66">)</font> <font color="#66cc66">)</font> <font color="#66cc66">]]</font> <br>  <font color="#66cc66">(</font> reduce str <font color="#66cc66">(</font> for <font color="#66cc66">[</font> i <font color="#66cc66">(</font> range <font color="#cc66cc">20</font> <font color="#66cc66">)</font> <font color="#66cc66">]</font> <font color="#66cc66">(</font> <font color="#66cc66">.</font> readLine reader <font color="#66cc66">)</font> <font color="#66cc66">)</font> <font color="#66cc66">)</font> <font color="#66cc66">)</font> <font color="#66cc66">)</font> </blockquote><br>  Here you can see the familiar classes BufferedReader and FileReader.  It is possible to create a new instance of the class through the new function, in which the second parameter is the name of the class, the third, fourth, etc.  - arguments for the constructor of this class.  It is worth noting that we can also import a class in order not to write the full name, but we cannot import all the classes from the package at once, as in Java.  Need one by one. <br>  You can call methods on a class instance through a dot: (.methodName instance arg1 arg2 ...). <br><br>  Let's write a method that will turn a string into digits: <br><blockquote>  <font color="#66cc66">(</font> defn to-digit-seq <br>  <font color="#ff0000">"Converts string st</font> <font color="#ff0000"><br></font>  <font color="#ff0000">to sequence of digits. "</font> <br>  <font color="#66cc66">[</font> st <font color="#66cc66">]</font> <br>  <font color="#66cc66">(</font> map # <font color="#66cc66">(</font> Character / getNumericValue <font color="#66cc66">%</font> <font color="#66cc66">)</font> st <font color="#66cc66">)</font> <font color="#66cc66">)</font> </blockquote><br>  It is worth noting here that static methods and class variables of Java can be accessed through ClassName / methodName. <br><br>  And now the main part: <br><blockquote>  <font color="#66cc66">(</font> reduce <font color="#b1b100">max</font> <br>  <font color="#66cc66">(</font> map # <font color="#66cc66">(</font> reduce <font color="#66cc66">*%</font> <font color="#66cc66">)</font> <br>  <font color="#66cc66">(</font> partition <font color="#cc66cc">5</font> <font color="#cc66cc">1</font> <font color="#66cc66">(</font> to-digit-seq number <font color="#66cc66">)</font> <font color="#66cc66">)</font> <font color="#66cc66">)</font> <font color="#66cc66">)</font> </blockquote><br>  It uses a funny f-tion partition, which returns after-subsequences of this post :) <br>  In general, in our case, he broke the post-digits, on post-th, elements of which are groups of 5 digits, in increments of 1. <br><br>  That's probably all for now.  In the end, I would like to give a link to saytik, which contains solutions for the task pool of tasks from Euler, he unexpectedly came across for himself.  There really is not everything, but you can still see what are the options and learn, I think: <a href="http://clojure-euler.wikispaces.com/">http://clojure-euler.wikispaces.com/</a> </div><p>Source: <a href="https://habr.com/ru/post/84791/">https://habr.com/ru/post/84791/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../84776/index.html">Association of Internet Developers Announces Accepting Applications for Project Funding</a></li>
<li><a href="../84778/index.html">Who inhabits the worlds MMORPG</a></li>
<li><a href="../84787/index.html">13-inch Marvell laptop on the ARM processor</a></li>
<li><a href="../84789/index.html">another type of sms divorce (webmasters sight)</a></li>
<li><a href="../84790/index.html">Round Table Feb 22 with Mitchell Baker, John Donahue, Jack Dorsey, Ashton Kucher, Esther Dyson and others</a></li>
<li><a href="../84792/index.html">Amazing Microsoft Product</a></li>
<li><a href="../84793/index.html">Google Code Playground - a tool for co-testing examples in Javascript</a></li>
<li><a href="../84795/index.html">Customer review for Twitter for Android!</a></li>
<li><a href="../84797/index.html">Flying saucer - do not touch your hands!</a></li>
<li><a href="../84799/index.html">Ctrl + DREAM (control sleep using gadgets)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>