<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>I slowly remove apache from the server</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I have a server (yes, yes, it is a server, it's hard to call it a server). Old iron (2 gig of RAM, AMD Athlon (tm) 64 Processor 3500+, software RAID)....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>I slowly remove apache from the server</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/797/6a3/04d/7976a304d8416a02b38c31a598a557d0.png" alt="image" align="right"><br>  I have a server (yes, yes, it is a server, it's hard to call it a server).  Old iron (2 gig of RAM, AMD Athlon (tm) 64 Processor 3500+, software RAID).  Adminin him myself, without any special skills and knowledge.  Once upon a time (more than a year ago) I put Debian 5.0 Lenny on it (it was the second linux system installation in my life, before that I installed only Ubuntu on a working laptop) and the ISPConfig3 control panel by manual.  I keep on it several (pieces 40) sites of friends and clients, Redmine, SVN and some more trifles. <br>  Periodically, all this disgrace falls (load average&gt; 20), and you have to reload apache every couple of hours on the server or suck the next optimization attempt out of your finger.  In general, complete strife and devastation.  And so on one beautiful Saturday, I thought - why not solve the issue once and ... And in general. <br>  Under the cut - the story of the dead weekend + prehistory.  First of all, it's interesting to me, so that later it is easy to remember what it was and why I put it.  It may be interesting to newbies in an interesting and difficult (oh, ...) server optimization process by gradual (!) Translation of sites from under Apache from its ModRewrite under Nginx (by the <s>way, this word is correctly read "Enginx"</s> I was corrected, Sysoev didn‚Äôt once said that the server name is worth reading, as ‚Äúengineer-X‚Äù, thanks to <a href="http://habrahabr.ru/users/bayandin/" class="user_link">bayandin</a> and <a href="http://habrahabr.ru/users/dorber/" class="user_link">DorBer</a> ).  It may be of interest to more or less experienced comrades who find themselves in the same conditions (Debian Lenny, ISPConfig3, weak iron, some good, not very good, and different sites).  And it might be interesting to go more experienced, leave a couple of comments. <br><a name="habracut"></a><br><br>  Summary of this series: <br>  Instead of the preface - Novice and its server <br>  1. Listen to someone else's advice and waste time on nonsense. <br>  2. Reverse proxy and another admin (set and clumsily configure nginx) <br>  3. Finally, they took up the mind (nginx + php-fpm + eAccelerator) <br><br><h4>  Let's start with the story </h4><br>  The server was <a href="http://www.howtoforge.com/perfect-server-debian-lenny-ispconfig3">installed</a> according <a href="http://www.howtoforge.com/perfect-server-debian-lenny-ispconfig3">to this manual</a> - classic LAMP + Hosting Panel + phpMyAdmin. <br>  Later <a href="http://www.redmine.org/">Redmine was</a> installed on it, which was used for its intended purpose and SVN.  Both are using Apache as the web server.  One through <a href="http://www.modrails.com/">Passenger</a> , the second through mod_dav_svn.  This is important because Apache has become heavier after these installations. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Optimization first - mpm_worker (extra step) </h4><br>  After a while, the first wave of suspensions began.  Either there are more sites, or their attendance has increased so much, or the active development (and consequently the active use of Redmine + SVN) has become to blame.  But the server went to bed constantly and seriously.  I found it among my acquaintances like a more or less adequate linuxoid, but I didn‚Äôt get a sensible answer from him.  (Well, do not take the advice to change the network card as such!) <br>  Another admin spent a 3-day inspection, advised to transfer Apache to worker mode.  Ok, they sat down, sleeves rolled up, websites in ISPConfig on FastCGI were translated (there is a select type field in the admin area :)), they danced around phpMyAdmin with a tambourine, all .htaccess was checked for php_ * directives.  Admin lost.  Well, ok, we rearranged Apache into the worker on our own. <br>  The server is more or less normal (hanging no more than once a week) worked for a couple of months. <br>  I do not give references to manuly, because the step is really superfluous. <br><br><h4>  Optimization second - welcome to nginx (step in the right direction) </h4><br>  They found some admin again, but this time they cheated - first they talked, he didn‚Äôt hear about MPM and didn‚Äôt hear anything, the Apache didn‚Äôt read configs, the level of qualification was considered unsatisfactory. <br>  True, I mentioned a couple of times about nginx.  I googled, read Habr and decided to put nginx as a reverse proxy in front of Apache.  Moving completely to nginx was scary, for some reason I was sure that PHP scripts would feel uncomfortable (some old case was probably remembered when someone else's code on a foreign server without Apache was there, and there were no extensions there, or php itself was old).  This is how children's injuries affect the further fate of servers. <br>  So, we put nginx on Debian (do not forget that we have ISPConfig) for this <a href="http://www.howtoforge.com/nginx-catch-all-host-as-front-end-to-apache-for-ispconfig-3-on-debian-lenny">tutorial</a> .  In principle, everything is standard.  First we translate Apache to port: 82 (port: 8080 is busy - ISPConfig is hanging on it): <br><pre><code class="bash">vi /etc/apache2/ports.conf
</code></pre><br>
         <br>
<pre><code class="bash">sed -ie 's/YOUR-IP:80/YOUR-IP:82/g' /etc/apache2/sites-available/*.vhost
mkdir /root/apache2_vhost_backup/
mv /etc/apache2/sites-available/*.vhoste /root/apache2_vhost_backup/
</code></pre><br>
        (     phpMyAdmin, SVN  Redmine),     /etc/apache2/sites-available/ (    ).<br>
  ‚Äî  ,     ISPConfig    82-  (   ,      ‚Äî   .      (ISPConfig 3.0.2)     80-.          -   ):<br>
<pre><code class="bash">cd /usr/local/ispconfig/server/
cp conf/apache_ispconfig.conf.master conf-custom/
cp conf/vhost.conf.master conf-custom/
#        :82
vi conf/apache_ispconfig.conf.master conf/vhost.conf.master  
</code></pre><br>
 ‚Äî  / libapache2-mod-rpaf (   IP )  nginx <br>
<pre><code class="bash">apt-get install libapache2-mod-rpaf nginx
</code></pre><br>
<br>
   Apache /etc/apache2/apache2.conf 2 <br>
<pre><code class="bash">RPAFsethostname On
RPAFproxy_ips 127.0.0.1 YOU_IP_ADDRESS
</code></pre><br>
<br>
 default  nginx /etc/nginx/sites-available/default   (   ,      .    .    ,       <a href="http://www.site.com/">www.site.com</a>   site.com,     ‚Äî /   .    ‚Äî        /var/www/site.com/web/,     ):<br>
<br>
<pre><code class="bash">server {
    listen   80 default;
    server_name  _;
    server_name_in_redirect  off;
    resolver  127.0.0.1;
#ACHTUNG!    .  UPD 
    if ($host ~* ^(www\.)(.+)) {
        set $host2 $2;
    }
    if ($host !~* ^(www\.)(.+)) {
        set $host2 $host;
    }
    access_log  /var/log/ispconfig/httpd/$host/access.log;
    location ~* ^.+\.(jpg|jpeg|gif|png|ico|css|zip|tgz|gz|rar|bz2|doc|xls|exe|pdf|ppt|txt|tar|mid|midi|wav|bmp|rtf|js|swf|flv|mp3)$ {
        root   /var/www/$host2/web;
        access_log off;
        expires 30d;
    }
    location / {
        root   /var/www/$host2/web;
        index  index.html index.htm index.php;
        access_log      off;
        proxy_pass http://127.0.0.1:82/;
        proxy_set_header X-Real-IP  $remote_addr;
        proxy_set_header Host $host;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }
}
</code></pre><br>
 apache  nginx (    )<br>
<pre><code class="bash">/etc/init.d/apache2 restart
/etc/init.d/nginx restart
</code></pre><br>
!  .       (  ).  ,    nginx.  ?  ,          .    ‚Äî   2-3  load average &gt; 20,   ‚Äî    .<br>
<br>
<h4>  ‚Äî    Apache?</h4><br>
 .       ,  <a href="http://habrahabr.ru/company/xakep/blog/136354/"></a>   ‚Äî  .     ( !    !  ...),      ‚Äî       (Debian Squeeze),       .<br>
 ‚Äî .  ,  nginx,    ,    /var/www/   ( ISPConfig  ),      ,    ‚Äî ,  .  ,    wordpress .<br>
<br>
<h5> 3.1 () ‚Äî fastcgi-wrapper</h5><br>
,      Apache ‚Äî  ? -,  ‚Ä¶ <a href="http://debianworld.ru/articles/ustanovka-i-nastrojka-servera-nginx-s-podderzhkoj-php-v-debian-ubuntu/">!   FastCGI  wrapper.</a> !  !    ! ! , . ,   lighttpd.  1 ? ‚Ä¶  , ,   . .<br>
<br>
<pre><code class="bash">$ sudo aptitude install lighttpd                
# ,  (,      ,   Squeeze    spawn-fcgi   .     .     ,  ,   ,    lighttpd)
$ sudo /etc/init.d/lighttpd stop                  
#, 
$ sudo update-rc.d -f lighttpd remove    
#,   
$ sudo /usr/bin/spawn-fcgi -a 127.0.0.1 -p 9000 \
                  -u www-data -g www-data \
                  -f /usr/bin/php5-cgi \
                  -P /var/run/fastcgi-php.pid
# -    - "child process return 2" -     ,    :9000  ,  .  ?       "/usr/bin/php5-cgi"!
$ sudo aptitude install php5-cgi
</code></pre><br>
,   php5-cgi     ‚Äî spawn-fcgi ,   /etc/rc.local  ‚Äî     .  !    ?  !   ‚Äî     ,     ‚Äî          .        , nginx  127.0.0.1:9000    !    ,      .<br>
<br>
<h5> 3.2 ‚Äî  nginx</h5><br>
    .    .   ‚Äî <br>
  ‚Äî      nginx ‚Äî <a href="http://forum.woweb.ru/topic47631.html">forum.woweb.ru/topic47631.html</a><br>
    ‚Äî <a href="http://habrahabr.ru/blogs/nginx/74135/">habrahabr.ru/blogs/nginx/74135</a><br>
¬´  ¬ª ‚Äî <a href="http://vkurseweba.ru/files/nginx-doc.pdf">vkurseweba.ru/files/nginx-doc.pdf</a> ‚Äî  <br>
  ,     ‚Äî <a href="http://wiki.nginx.org/NginxHttpCoreModule">wiki.nginx.org/NginxHttpCoreModule</a><br>
<br>
,    2  ,   -   (  proxy):<br>
<pre><code class="bash">server {
# 80- ,   (   nginx) -
    listen   80 default;
# ,     
    server_name  mysite.com www.mysite.com;
# http://nginx.org/ru/docs/http/ngx_http_core_module.html#server_name_in_redirect
    server_name_in_redirect  off;
http://nginx.org/ru/docs/http/ngx_http_core_module.html#resolver
    resolver  127.0.0.1;
#  if,        
#ACHTUNG!    .  UPD 
    if ($host ~* ^(www\.)(.+)) {
        set $host2 $2;
    }
    if ($host !~* ^(www\.)(.+)) {
        set $host2 $host;
    }
#    
    access_log  /var/log/ispconfig/httpd/$host/access.log;
    access_log off;
#DOCUMENT_ROOT  
    root   /var/www/$host2/web;
#,        
    index  index.html index.htm index.php;
#    .      .    -  .   -    index.php   . ( ,   /some-file.php   ,      location)
    location / {
        try_files $uri /index.php;
    }
#  location     /some-file.php,    -           location
    location ~* \.php$ {
        proxy_pass http://127.0.0.1:82;
        proxy_set_header X-Real-IP  $remote_addr;
        proxy_set_header Host $host;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }
}
</code></pre><br>
<br>
   (  nginx),     php (   default):<br>
<pre><code class="bash">server {
    listen   80;
    server_name  _;
    server_name_in_redirect  off;
    resolver  127.0.0.1;
#ACHTUNG!    .  UPD 
    if ($host ~* ^(www\.)(.+)) {
        set $host2 $2;
    }
    if ($host !~* ^(www\.)(.+)) {
        set $host2 $host;
    }

    access_log  /var/log/ispconfig/httpd/$host/access.log;
    root   /var/www/$host2/web;
    access_log off;
    index  index.html index.htm index.php;
#   location   
    location / {
        try_files $uri $uri/ @fastcgi;
    }
# location,      ,      .   proxy    ,   named-location   proxy_pass  http://127.0.0.1:82 - nginx   ,        upstream (  ).       .              @fastcgi,   /index.php,    -  ,      .
    location @fastcgi{
#   
        fastcgi_pass 127.0.0.1:9000;
#  /etc/nginx/fastcgi_params
        include fastcgi_params;
# -
        fastcgi_param  SCRIPT_FILENAME  /var/www/$host2/web/index.php;
    }
#    
    location ~ \.php$ {
        fastcgi_pass   127.0.0.1:9000;
        fastcgi_index  index.php;
        fastcgi_param  SCRIPT_FILENAME  /var/www/$host2/web/$fastcgi_script_name;
        include fastcgi_params;
    }
}
</code></pre><br>
   .      (       sites-enabled)  nginx          . -   ,   ,          nginx, ,      1   .     ‚Äî   .   default   ModRewrite  Wordpress    100%.    ‚Äî     <a href="http://docs.joomla.org/Nginx"></a>,  <a href="http://dev.1c-bitrix.ru/community/webdev/group/18/blog/bitrix-nginx-"></a>.    ~80%  .  , ModRewrite  CodeIgniter     .      .      nginx   2 ‚Äî ¬´ ¬ª + ¬´ php¬ª,  .     48   .htaccess   apache ,   .<br>
 ,   (proxy)   listen:80 default;   ?  ,    ,             Apache. -    . ,  ,       default    (-     ).   proxy   ¬´¬ª.<br>
<br>
           - .     , ,     nginx,  default  Joomla,   ‚Äî   !<br>
<br>
 <s> </s>  ( , .htaccess, .htpasswd, application.ini     -php nginx   <s></s> ),    production  .       .<br>
       -   nginx   .htaccess.<br>
       ,     ‚Äî <a href="http://www.anilcetin.com/convert-apache-htaccess-to-nginx/">http://www.anilcetin.com/convert-apache-htaccess-to-nginx/</a>.    -  ?         .htaccess.      -    nginx,   100% ,    .<br>
<br>
<b>UPD:</b>   <a href="http://habrahabr.ru/users/vbart/" class="user_link">vbart</a> <a href="https://habr.com/ru/post/136740/"></a>        www. <br>
   /etc/nginx/nginx.conf   http  map<br>
<pre><code class="bash">    map $host $host_wo_www {
        default  $host;
        ~^www\.(?P&lt;wo_www&gt;.+)$  $wo_www;
    }
</code></pre><br>
           if,    $host2  $host_wo_www.<br>
<br>
<h5> 3.3 ‚Äî   fastcgi-wrapper</h5><br>
    .   5        .  ,  ,      .    ,         .   ?<br>
-     php-fpm   .  <a href="http://www.bytetouch.com/blog/linux/how-to-nginx-with-php-fpm-fastcgi-implementation-on-debian-lenny/"> </a>.    ‚Äî    php 5.3.     5.2.            .    .<br>
  /etc/apt/sources.list  <br>
<pre><code class="bash">deb http://packages.dotdeb.org lenny all
deb-src http://packages.dotdeb.org lenny all
#      stable ( )  lenny -  stable apt-get   php  php-fpm
deb http://php53.dotdeb.org lenny all
deb-src http://php53.dotdeb.org lenny all
</code></pre><br>
   <br>
<pre><code class="bash">apt-get update
apt-get install php php5-fpm
</code></pre><br>
  php5   lighttpd,    ‚Äî 80-   nginx. (   ,      lighttpg  81-,     )<br>
<br>
  ‚Äî     (short_open_tag On  default_timezone  php.ini   ). , ,    Joomla -  .      .<br>
<br>
 update        ‚Äî  ,             - ,       2   .<br>
     3.1 ‚Äî  fastcgi-wrapper  ,    ( ,    id   /var/run/fastcgi-php.pid   kill),  lighttpd.<br>
<pre><code class="bash">/etc/init.d/php-fpm start
</code></pre><br>
 .  ,        .    ,    .      .<br>
<b>UPD:</b> <a href="https://habr.com/ru/post/136740/"></a> <a href="http://habrahabr.ru/users/nc_soft/" class="user_link">Nc_Soft</a> (!)    <a href="http://forum.antichat.ru/thread222063-php-fpm.html"></a>.<br>
   /etc/php5/fpm/php.ini, / cgi.fix_pathinfo=0<br>
<br>
<h5> 3.4 ‚Äî    :9000?</h5><br>
      ‚Äî     ?    , ?    !       .  . <a href="http://www.cryptkcoding.com/2011/08/running-wordpress-with-nginx-php-fpm-apc-and-varnish/"></a>.  php-fpm ‚Äî /etc/php5/fpm/pool.d/www.conf:<br>
<pre><code class="bash">;listen = 127.0.0.1:9000
listen = /var/run/php5-fpm.sock
</code></pre><br>
 nginx ‚Äî /etc/nginx/nginx.conf,   upstream ‚Äî  <br>
<pre><code class="bash">...
http{
...
#       http -  nginx    unknown directive
    upstream php5-fpm-sock {
        server unix:/var/run/php5-fpm.sock;
    }
...
}
...
</code></pre><br>
     127.0.0.1:9000  php5-fpm-sock.  proxy, ,  .<br>
<br>
 nginx  php-fpm<br>
<pre><code class="bash">/etc/init.d/nginx restart
/etc/init.d/php-fpm restart
</code></pre><br>
   ,      <s>,   </s> ,  , <s> </s>,  ,        back-end' nginx     .      ‚Äî ,       UNIX- (POSIX     ).<br>
<br>
<h5> 3.5 ‚Äî </h5><br>
  .        ‚Äî  .    php-apc apt-get  downgrade php  remove php-fpm.        checkinstall  <a href="http://sourceforge.net/projects/eaccelerator/">eAccelerator </a>      <a href="http://phpsuxx.blogspot.com/2010/01/eaccelerator-debian-5-lenny-php-fastcgi.html"> </a>.      ‚Äî eAccelerator     ,     Apache (           cgi,      ).   ,  -  warning    ‚Äî     (    include      ),     (1     !).<br>
 ,   eaccelerator.ini  /etc/php5/conf.d       /etc/php5/fpm/php.ini<br>
 ,   php-fpm eAccelerator .<br>
<br>
       ‚Äî    php -v   , php   apc.so.     apc.ini  /etc/php5/conf.d/.    .           Joomla.  , ,      php-apc, Joomla   apc_fetch.         ,     false,        .         apc,    php  apc (Debian Lenny).  -   ‚Äî    .<br>
<br>
<h4></h4><br>
    , load average  2   (  5  ,    ‚Äî    ,  - ).   ,       Zend Framework   ,       Application ‚Äî   base_path.<br>
<br>
PS:      Redmine  SVN  nginx,  Node.js,    Nginx  git.       ‚Äî  .    .<br>
<br>
<b>UPD</b>:  <a href="https://habr.com/ru/post/136740/"></a>   <a href="http://habrahabr.ru/users/vbart/" class="user_link">VBart</a>,  .<br>
<b>UPD</b>:     php-fpm <a href="https://habr.com/ru/post/136740/"></a>  <a href="http://habrahabr.ru/users/nc_soft/" class="user_link">Nc_Soft</a>.</div><p>Source: <a href="https://habr.com/ru/post/136740/">https://habr.com/ru/post/136740/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../136728/index.html">Next generation Wi-Fi - 802.11ac in brief</a></li>
<li><a href="../136735/index.html">Competent setting of the mail sending server for PHP scripts, setting up the mail () function</a></li>
<li><a href="../136736/index.html">The principle of domino or XSS on large sites runet</a></li>
<li><a href="../136737/index.html">Promotion experience in the Russian AppStore</a></li>
<li><a href="../136738/index.html">JavaScript application for iPad. Couple of tips</a></li>
<li><a href="../136742/index.html">Prolog - parse and language problems</a></li>
<li><a href="../136743/index.html">Defeating memory leaks and speeding up Firefox</a></li>
<li><a href="../136744/index.html">How to invent a name for a new product or project</a></li>
<li><a href="../136745/index.html">Desurium client published under GPL v3</a></li>
<li><a href="../136746/index.html">Alignment of icons by font baseline</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>