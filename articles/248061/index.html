<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Sea battle for 25 ms</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Foreword 
 A few months ago, I decided to learn Python. As one of the test tasks required to write the game "Sea Battle". Then I didn‚Äôt do this task, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Sea battle for 25 ms</h1><div class="post__text post__text-html js-mediator-article"><h4>  Foreword </h4><br>  A few months ago, I decided to learn Python.  As one of the test tasks required to write the game "Sea Battle".  Then I didn‚Äôt do this task, but I got the idea to write ‚ÄúSea battle‚Äù, where two computers would play between each other.  This thought did not leave me, and I decided to dare.  The result is submitted to your judgment.  I would appreciate any constructive criticism. <br><br><h4>  The overall concept of the current implementation </h4><br>  The whole game, in fact, boils down to the fact that two instances of the Player class ask each other for the coordinates of the ships and, depending on the answer, build their own turn strategy. <br><br>  The strategy for deploying ships is as follows: 2-3-4 decked are placed along the edges of the map (2 cells), 1-deck in the center (6x6 square). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/2da/033/fc6/2da033fc62b3477ba9f925681eeef43f.png" alt="image" width="150"><br><a name="habracut"></a><br>  The strategy of moves, as in a game between people: the first move is random, if you hit, then we work 4 cells around and further, if we hit again, we work two cells already on the line (two, because the ship‚Äôs maximum is 4 cells, in 2 already got, so max there are 2 more cells). <br><br>  In an <a href="https://ru.wikipedia.org/wiki/%25D0%259C%25D0%25BE%25D1%2580%25D1%2581%25D0%25BA%25D0%25BE%25D0%25B9_%25D0%25B1%25D0%25BE%25D0%25B9_(%25D0%25B8%25D0%25B3%25D1%2580%25D0%25B0)">article</a> on Wikipedia, everything is described in sufficient detail, so I‚Äôm not going to touch much on game logic here, especially since everyone understands something about what it is about.  My only differences are: scoring for each move, cell numbering from 0 to 9. <br><br>  The game uses three classes: Game, Player, Ship.  Using the Game class in the current implementation is redundant, since only one copy of it is used, but this is some reserve for the future (see the list of improvements at the end of the article). <br><br>  Game is responsible for the overall game logic, Player - for the strategy of moves, Ship - stores the current state of the ships and their coordinates. <br><br>  <a href="https://github.com/balamut108/sea-fight">Link</a> project in github. <br><br><h4>  The main difficulties that have arisen in the development </h4><br>  1. <b>Design</b> .  Write using classes or functions?  What class set to use? <br>  The main problem in the design was the tracking of various states in the game.  For example, who walks now, what is the condition of the ship (hit, killed), has the game not ended, who won, etc. <br><br>  2. <b>Logic / algorithms</b> .  How to arrange the ships in accordance with the strategy, how to choose the coordinates for the course? <br><br><h4>  Overview of the most interesting parts of the code </h4><br>  <b>return_shoot_state</b> - determines the further strategy depending on the results of the current move. <br><br><pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">return_shoot_state</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, state, crd)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""        """</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> state == <span class="hljs-string"><span class="hljs-string">u'!'</span></span>: self.scores += <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> self.recomendation_pool: crd_rec = [[crd[<span class="hljs-number"><span class="hljs-number">0</span></span>] - <span class="hljs-number"><span class="hljs-number">1</span></span>, crd[<span class="hljs-number"><span class="hljs-number">1</span></span>]], [crd[<span class="hljs-number"><span class="hljs-number">0</span></span>] + <span class="hljs-number"><span class="hljs-number">1</span></span>, crd[<span class="hljs-number"><span class="hljs-number">1</span></span>]], [crd[<span class="hljs-number"><span class="hljs-number">0</span></span>], crd[<span class="hljs-number"><span class="hljs-number">1</span></span>] - <span class="hljs-number"><span class="hljs-number">1</span></span>], [crd[<span class="hljs-number"><span class="hljs-number">0</span></span>], crd[<span class="hljs-number"><span class="hljs-number">1</span></span>] + <span class="hljs-number"><span class="hljs-number">1</span></span>]] crd_rec = filter(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: <span class="hljs-number"><span class="hljs-number">0</span></span> &lt;= x[<span class="hljs-number"><span class="hljs-number">0</span></span>] &lt;= <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> &lt;= x[<span class="hljs-number"><span class="hljs-number">1</span></span>] &lt;= <span class="hljs-number"><span class="hljs-number">9</span></span>, crd_rec) crd_rec = filter(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: x <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.alien, crd_rec) self.succ_shoots.append(crd) self.recomendation_pool.extend(crd_rec) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: crd_s1 = self.recomendation_pool[<span class="hljs-number"><span class="hljs-number">0</span></span>] crd_s2 = self.succ_shoots[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ind <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">2</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> crd_s1[ind] != crd_s2[ind]: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> crd_s1[ind] &gt; crd_s2[ind]: crd_rec = [[crd_s1[ind]+<span class="hljs-number"><span class="hljs-number">1</span></span>, crd_s1[ind]+<span class="hljs-number"><span class="hljs-number">2</span></span>], [crd_s2[ind]<span class="hljs-number"><span class="hljs-number">-1</span></span>, crd_s2[ind]<span class="hljs-number"><span class="hljs-number">-2</span></span>]] <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: crd_rec = [[crd_s1[ind]<span class="hljs-number"><span class="hljs-number">-1</span></span>, crd_s1[ind]<span class="hljs-number"><span class="hljs-number">-2</span></span>], [crd_s2[ind]+<span class="hljs-number"><span class="hljs-number">1</span></span>, crd_s2[ind]+<span class="hljs-number"><span class="hljs-number">2</span></span>]] crd_rec = filter(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: <span class="hljs-number"><span class="hljs-number">0</span></span> &lt;= x[<span class="hljs-number"><span class="hljs-number">0</span></span>] &lt;= <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> &lt;= x[<span class="hljs-number"><span class="hljs-number">1</span></span>] &lt;= <span class="hljs-number"><span class="hljs-number">9</span></span>, crd_rec) crd_rec = filter(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: x <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.alien, crd_rec) self.recomendation_pool.extend(crd_rec) <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> state == <span class="hljs-string"><span class="hljs-string">u'!'</span></span>: self.scores += <span class="hljs-number"><span class="hljs-number">1</span></span> self.recomendation_pool = [] self.succ_shoots = []</code> </pre> <br><br>  Important variables: recomendation_pool - a list of coordinates for future shots, succ_shoots - the last successful shot. <br><br>  If we hit the ship, then, firstly, you need to accrue points for a successful shot (scores + = 1), and secondly, understand what to do next.  We check the recomendation_pool if there is something there, if not, then write down 4 nearby coordinates (after filtering them along the field boundaries and the list of coordinates we shot at). <br><br><img src="http://habrastorage.org/files/647/4f4/d01/6474f4d010924aec939115878fec09b8.png" alt="image" width="100"><br><br>  If recomendation_pool is not empty, it means that we hit the second time and it‚Äôs already not about 4 coordinates around, but about two from each edge. <br><br><img src="http://habrastorage.org/files/241/681/18e/24168118e5094e6aada78ea075714e28.png" alt="image" width="150"><br><br>  If the ship was sunk by the current shot, we consider our task completed and we clean the recommendations pool and so on.  The next shot will be random. <br><br>  <b>service.gen_cord</b> - generates all possible coordinates for each type of ships.  The result of the function will be a dictionary with the following structure: {"S0": [[[x0, y0], [x1, y2], [xN0, yN1]], [[x3, y3], [x4, y4], [xN2 , yN3]], ...], ‚ÄúS1‚Äù: ...}, where S is the type of ship, [[x0, y0], [x1, y2], [xN0, yN1]] is the set of coordinates for the ship. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">gen_cord</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""    """</span></span> all_comb = [[x/<span class="hljs-number"><span class="hljs-number">10</span></span>, x % <span class="hljs-number"><span class="hljs-number">10</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">100</span></span>)] for_1_ship = filter(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: x[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> x[<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>), all_comb) for_other_ship = filter(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: x <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> for_1_ship, all_comb) cord_comb = {<span class="hljs-number"><span class="hljs-number">1</span></span>: [[x] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> for_1_ship], <span class="hljs-number"><span class="hljs-number">2</span></span>: [], <span class="hljs-number"><span class="hljs-number">3</span></span>: [], <span class="hljs-number"><span class="hljs-number">4</span></span>: []} <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ship <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> filter(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: x != <span class="hljs-number"><span class="hljs-number">1</span></span>, cord_comb.keys()): <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> cord <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> for_other_ship: hor_direction = [cord] + [[cord[<span class="hljs-number"><span class="hljs-number">0</span></span>]+x, cord[<span class="hljs-number"><span class="hljs-number">1</span></span>]] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">1</span></span>, ship)] ver_direction = [cord] + [[cord[<span class="hljs-number"><span class="hljs-number">0</span></span>], cord[<span class="hljs-number"><span class="hljs-number">1</span></span>]+x] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">1</span></span>, ship)] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> dir_d <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> [hor_direction, ver_direction]: <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> cord_d <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> dir_d: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> cord_d <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> for_other_ship: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: cord_comb[ship].append(dir_d) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> cord_comb</code> </pre><br>  Important variables: all_comb - stores the coordinates of the field in the format [[x0, y0], [x1, y1], ...].  for_1_ship is that 6x6 square for single-deck, for_other_ship is a set of coordinates for all other ships.  cord_comb is a dictionary that stores all combinations of coordinates. <br><br><h4>  Ship layout </h4><br>  At the time of initialization of the instance of the class Player, ships are also arranged.  In the class, the create_ships method is responsible for this, where the following happens: <br><br>  1. For each ship (ships), a set of coordinates is selected in a pseudo-random manner (random.choice) from the available sequence of combinations of coordinates. <br>  2. Next, a halo is generated for the set of coordinates (service.set_halo).  A halo is a set of coordinates in which it will be impossible to deliver a ship later (rule: do not place ships near). <br><br><img src="http://habrastorage.org/files/8a7/246/d87/8a7246d878954be4a0d40d2c512eeb7a.png" alt="image" width="100"><br><br>  3. Then we clear the list of combinations (data_cleaner) from the list which consists of the coordinates of the ship and the halo. <br><br><h4>  Logging module </h4><br>  At the end of the development I discovered the logging module from the standard library.  Fields for output are configured (logging.basicConfig), and working with output is no more difficult than with print. <br><br><img src="http://habrastorage.org/files/66f/441/1d5/66f4411d5e6b4749b69c2b422f345dea.png" alt="image"><br><br><h4>  Other </h4><br>  sevice.rdn_usr_name - generates random player names from a set of letters and numbers from 0 to 999. <br><br>  The game ends if the opponent has Player.ships_defeat = 10, i.e.  sunk all 10 ships.  The counter is updated if the ship responds "Killed!". <br><br><h4>  List of improvements (TO DO) </h4><br>  <s>1. Make a tournament between players, say, where there will be 1000 players.</s>  <s>In theory, given the current running time, the entire tournament should take about 30 seconds.</s> <br><br>  <s>2. Add a ‚Äúbasic algorithm‚Äù of the move, for example, go cross to cross, i.e.</s>  <s>punch all the cells diagonally and then on.</s>  <s>Implement several such algorithms and then assign randomly the work on them to the player.</s>  <s>Then compare the effectiveness (for example, which gives more result to random moves or the algorithm ‚Äúcross to cross‚Äù?)</s> <s><br></s> <br>  3. Optimize the search engine combinations (service.gen_cord), because  it is obvious that it is redundant and takes a lot of resources. <br><br>  <s>4. Implement various strategies for deploying ships and then compare which one is the most successful.</s> <br><br>  PS I would appreciate any interesting ideas. <br><br>  Thank. <br><br>  UPDATE (Jan 16, 2015) <br><br><h4>  The tournament is implemented + a small collection of statistics is made and this is what happens: </h4><br>  In the tournament there is a game for departure, i.e.  if lost on the trail.  step no longer get. <br><br>  In order for a tournament to be without jambs, the number of players must be so that when divided, the remainder of division will always be divided by 2, and so before the number of players in the tournament is 1 (i.e., the winner).  These numbers include 1024 (512, 256, 128, 64, 32, 16, 8, 4, 2). <br><br>  Earlier, I assumed that the tournament would last about 30 seconds, i.e.  time grows linearly depending on the number of players, but what was my surprise when the whole tournament for 1024 players is only 17 seconds.  Why I‚Äôve got 17 seconds, I don‚Äôt know, some optimization mechanisms may start working.  My calculations are as follows: 1022 games lasts the entire tournament * 25 ms one game = 25.55 seconds. <br><br>  Tournament statistics are kept within the following values: <br><br>  1. The average number of moves (all players): 85.06, <br>  2. The average number of moves of winning players: 85.95, <br>  3. The average number of losing players moves: 84.17, <br>  4. Average points scored by losers: 17.75 <br><br>  We can draw the following conclusions: <br><br>  1. The number of moves that the winners that the losers are doing about the same. <br><br>  2. The number of points is almost 18 (you need 20 to win). <br><br>  Bottom line: both players play about the same and equally inefficient :) The difference of 2 points shows that victory literally breaks out of the opponent's hands in the last moves. <br><br>  Conclusion: because  Now, each player is guided by the same strategy. There is no particular diversity in the game.  In order to make it more interesting, you need to implement various strategies for the placement of ships and the implementation of moves, which I will do at leisure in the near future. <br><br>  Stay tuned for article updates. <br><br>  UPDATE2 (01/16/2015) <br>  Implemented adding a halo to the list of punched coordinates after the ship was sank (in principle, everything is fair).  Statistics on the number of moves improved significantly: <br>  1. The average number of moves (all players): 58.91, <br>  2. The average number of moves winning players: 60.98, <br>  3. The average number of losing players moves: 56.83, <br>  4. Average points scored by losers: 15.37 <br><br>  Thanks to <a href="http://habrahabr.ru/users/meklon/" class="user_link">Meklon</a> for the idea. <br><br>  UPDATE3 (01/17/2015) <br><br>  Implemented new strategies for locating ships (where there are 60 single deck cells).  The result was the following: if each player uses the same strategy, then there is no difference between losers and winners, but if each player has a placement strategy assigned randomly, then it‚Äôs obvious that they lost more with my strategy (6x6 square in the center), those.  if my strategy is thrown away, then everyone will play about the same.  This is also not interesting.  Now I will implement various moves strategies (maybe there is something super-optimal). <br><br><div class="spoiler">  <b class="spoiler_title">Data</b> <div class="spoiler_text">  left, right, top, bottom, etc.  - this is all a variation of placing 60 coordinates on the field. <br>  [2015-01-17 19: 14: 07,780] Statistics: <br>  1. The average number of moves (all players): 63.18, <br>  2. The average number of moves winning players: 64.82, <br>  3. Average number of losing players moves: 61.54, <br>  4. Average points scored by losers: 16.24 <br>  [2015-01-17 19: 14: 07,783] Strategy: for_1_ship_left loosers: 508 <br>  [2015-01-17 19: 14: 07,783] Strategy: for_1_ship_left winners: 515 <br><br>  [2015-01-17 19: 20: 27,526] Statistics: <br>  1. The average number of moves (all players): 62.58, <br>  2. The average number of moves winning players: 64.23, <br>  3. Average number of losing players moves: 60.93, <br>  4. Average points scored by losers: 16.23 <br>  [2015-01-17 19: 20: 27,529] Strategy: for_1_ship_right loosers: 498 <br>  [2015-01-17 19: 20: 27,529] Strategy: for_1_ship_right winners: 525 <br><br>  [2015-01-17 19: 21: 40,153] Statistics: <br>  1. The average number of moves (all players): 58.94, <br>  2. The average number of moves winning players: 61.02, <br>  3. Average number of losing players moves: 56.87, <br>  4. Average points scored by losers: 15.35 <br>  [2015-01-17 19: 21: 40,155] Strategy: for_1_ship_36 loosers: 518 <br>  [2015-01-17 19: 21: 40,157] Strategy: for_1_ship_36 winners: 505 <br><br>  [2015-01-17 19: 23: 37,322] Statistics: <br>  1. The average number of moves (all players): 62.85, <br>  2. The average number of moves won the players: 64.55, <br>  3. The average number of losing players moves: 61.16, <br>  4. Average points scored by losers: 16.15 <br>  [2015-01-17 19: 23: 37,323] Strategy: for_1_ship_bottom loosers: 526 <br>  [2015-01-17 19: 23: 37,325] Strategy: for_1_ship_bottom winners: 497 <br><br>  [2015-01-17 19: 33: 07,933] Statistics: <br>  1. The average number of moves (all players): 61.59, <br>  2. The average number of moves won the players: 63.37, <br>  3. Average number of losing players moves: 59.81, <br>  4. Average points scored by losers: 15.95 <br>  [2015-01-17 19: 33: 07,934] Strategy: for_1_ship_center_vertical loosers: 512 <br>  [2015-01-17 19: 33: 07,934] Strategy: for_1_ship_center_vertical winners: 511 <br><br>  [2015-01-17 19: 36: 03,585] Statistics: <br>  1. The average number of moves (all players): 61.03, <br>  2. The average number of moves winning players: 62.89, <br>  3. Average number of losing players moves: 59.18, <br>  4. Average points scored by losers: 15.78 <br>  [2015-01-17 19: 36: 03,589] Strategy: for_1_ship_36 loosers: 148 <br>  [2015-01-17 19: 36: 03,589] Strategy: for_1_ship_36 winners: 109 <br>  [2015-01-17 19: 36: 03,591] Strategy: for_1_ship_bottom loosers: 34 <br>  [2015-01-17 19: 36: 03,591] Strategy: for_1_ship_bottom winners: 50 <br>  [2015-01-17 19: 36: 03,591] Strategy: for_1_ship_center_horisontal loosers: 129 <br>  [2015-01-17 19: 36: 03,591] Strategy: for_1_ship_center_horisontal winners: 120 <br>  [2015-01-17 19: 36: 03,592] Strategy: for_1_ship_center_vertical loosers: 96 <br>  [2015-01-17 19: 36: 03,592] Strategy: for_1_ship_center_vertical winners: 94 <br>  [2015-01-17 19: 36: 03,592] Strategy: for_1_ship_left loosers: 28 <br>  [2015-01-17 19: 36: 03,592] Strategy: for_1_ship_left winners: 44 <br>  [2015-01-17 19: 36: 03,592] Strategy: for_1_ship_right loosers: 40 <br>  [2015-01-17 19: 36: 03,594] Strategy: for_1_ship_right winners: 48 <br>  [2015-01-17 19: 36: 03,594] Strategy: for_1_ship_top loosers: 35 <br>  [2015-01-17 19: 36: 03,594] Strategy: for_1_ship_top winners: 48 <br></div></div><br><br>  UPDATE4 (01.20.2015) <br><br>  Added various options for making moves: random - randomly from free cells, cross - cross to cross, linear - linearly in 4 rows through one (as in the vaunted articles).  An important point: the strategy of placing ships is issued for the entire tournament, but the strategy of moves is issued for each game. <br><br>  Collected statistics (remember, we are talking about the turn, where 1024 players play with each other on the flight). <br><img src="http://habrastorage.org/files/2b4/190/de3/2b4190de309d4716b7292af2e7f70bb7.png" alt="image"><br><br>  Main conclusions: <br>  The strategy of placing single-deck ships random_12 (12 random cells are selected and we arrange ships in them) and for_1_ship_36 (6x6 field in the center) are clearly the least effective. <br><br>  Uniform distribution indicates that equal among equal gave about the same result and the victory of one of them is only a random consequence. <br><br>  The number of moves with the implementation of additional strategies of moves did not decrease, but the tournament time increased from 25 to 50 seconds: <br>  1. The average number of moves (all players): 61.43, <br>  2. The average number of moves winning players: 63.23, <br>  3. Average number of losing players moves: 59.63, <br>  4. Average points scored by losers: 15.93 <br><br>  I would be grateful if someone looked at my <a href="https://github.com/balamut108">GitHub</a> code and gave my recommendations for improving it. <br><br>  There is only one scheduled optimization task left, but, as you know, it can be optimized indefinitely, so the article will not be updated without much need in the near future. <br><br>  Thank you for your attention and may the power of Python come with you! </div><p>Source: <a href="https://habr.com/ru/post/248061/">https://habr.com/ru/post/248061/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../248047/index.html">HP ProLiant ML350 Gen9 - server with insane extensibility</a></li>
<li><a href="../248051/index.html">Doomsday QA</a></li>
<li><a href="../248053/index.html">3CXPhone for Android and iOS in Unified Communications style</a></li>
<li><a href="../248055/index.html">Creating your own vendor bundle in symfony2</a></li>
<li><a href="../248057/index.html">Without cuts. The first month of kubish.ru cashback service in Russia</a></li>
<li><a href="../248063/index.html">Extractions from ‚ÄúMental hospitals in the hands of patients‚Äù</a></li>
<li><a href="../248065/index.html">Hosting in Kazakhstan or how to break Jackpot</a></li>
<li><a href="../248069/index.html">Overview of some MOOC Coursera in computer science</a></li>
<li><a href="../248071/index.html">Inherited class for the WinRT component written using WRL</a></li>
<li><a href="../248073/index.html">Centos 7 convert to software RAID 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>