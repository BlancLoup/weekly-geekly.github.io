<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Development of Windows 8.1 applications on XAML / –° #. Part 2. Working with tiles</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We continue to upgrade the application that we created in the last article . 

 Today we will analyze how to create tiles (Tile) for Windows 8.1 appli...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Development of Windows 8.1 applications on XAML / –° #. Part 2. Working with tiles</h1><div class="post__text post__text-html js-mediator-article"><img src="https://sha3bq.dm2302.livefilestore.com/y2pj9C1Tlu1OA14dgcKm2IMF9tUYcVB3rHSlTxMzj3FtlDMKCVKkh_Rh1O-zCBHp97VDuqi80FfsuHsZvHb0pyjGoUsjm6aRVrVNckX9mCOzTw/preview2.png?psid=1" alt="image"><br><br>  We continue to upgrade the application that we created in the <a href="http://habrahabr.ru/company/microsoft/blog/201966/">last article</a> . <br><br>  Today we will analyze how to create tiles (Tile) for Windows 8.1 applications and how to implement dynamic content change on them. <br><a name="habracut"></a><br>  Tiles - this is what you see, being on the main screen of windows 8 or windows 8.1.  These are not just icons.  They are interactive.  They may contain textual and graphical information about changes in the content of the application, attract the user's attention and encourage you to use your application more often. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://q3a4ta.dm1.livefilestore.com/y2pTK86IArRpY13LxjOH-wfBkYB9G5dXfc55JYEjkrIHcSRULT7ooNVJxBZMvcyEZIxaiovdcKUK6_abq-aMtYTyv-NJmHA0L8B1QFtPssXJls/1.png?psid=1" alt="image"><br><br>  Why are tiles so important?  The tile is the door to your application, the user should like it and not annoy it.  Otherwise, he will detach it from the start screen and soon forget about the application. <br><br>  You can use the following types of tiles for your applications: <br><ul><li>  Large tile (310 x 310 pixels); </li><li>  Medium tile (310 x 150 pixels); </li><li>  Medium tile (150 x 150 pixels); </li><li>  Small tile (30 x 30 pixels). </li></ul><br>  All of them are shown in the picture below. <br><br><img src="https://q3a4ta.dm1.livefilestore.com/y2pWQV70C4iEh6pSxZgzGw1ofTEaH2PgWiQD6L15r0MR8YVu2VHTLiyUg1NbLa-rOzxGih7Zr5N-nqRlguiU_kUDOz3hx4kAECM8UBzA5O_GVI/2.png?psid=1" alt="image"><br><br>  You can find ready-made options for tiles and placing information on them <a href="http://msdn.microsoft.com/ru-RU/library/windows/apps/hh761491.aspx">in the catalog of tile templates</a> . <br><br><h4>  Customize tiles for the app </h4><br>  Use the default settings to create simple tiles. <br><br>  1. Open the application from the <a href="http://habrahabr.ru/company/microsoft/blog/201966/">previous article</a> or create a new Windows 8.1 application in Visual Studio 2013. <br>  2. Double-click on <b>package.appxmanifest</b> .  The manifest editor window opens. <br>  3. Specify tile information: <br><ul><li>  Select the <b>Visual Assets</b> tab in the manifest editor. </li><li>  Replace default images on the way to your images. </li><li>  Specify whether to display the short application name on the tile. </li><li>  Depending on the background color, choose a light or dark font for the title text. </li><li>  Accept the default background color or specify your own color string. </li></ul><br><img src="https://q3a4ta.dm2301.livefilestore.com/y2pTj6aTvtE16zx8Rr9_XcawYZyve8Pv9miZ8FoLCCXb58KU6JsAAn-QKS00rpkBCutcsq1nQbz-M_ZCXyUjDa7uz1PZ7WTX8K43GjbB4IesWg/3.png?psid=1" alt="image"><br><br>  4. Start the application and experiment with the tiles. <br><br><img src="https://q3a4ta.dm2302.livefilestore.com/y2pQBC8wNp55Fy9n_JmzO4gf_2YtIegHgd26XNzW0thhxeVVTji8VzumbTaqPfbXHZpejR-lldukCAHfFymFk7_X9T0g3DZQjCBl7H-Z9MCwJo/4.png?psid=1" alt="image"><br><br>  As you can see, the tiles work and display the prepared pictures. <br><br>  Now it's time to add interactivity and learn how to dynamically update the contents of the tile. <br><br><h4>  Update tile info </h4><br>  There are several ways to implement the update information on the tile: <br><ul><li>  <b>Local update</b> - updating the tile directly while the application itself is running. </li><li>  <b>At a specified time</b> - update the tile at the time you specified. </li><li>  <b>Periodically</b> - updating tiles on a schedule, by polling external services to get new content. </li><li>  <b>Using Push Notifications</b> - updating tiles by sending notifications from external services or systems to our application. </li></ul><br>  Depending on the tasks and requirements for your application, you can choose one of these options or combine their use. <br><br>  Now consider each of the options in more detail. <br><br><h5>  Local tile update </h5><br>  To implement the update of the tile, directly from the application, we will add an event handler for the "Buy" button in the product catalog.  When you click on the button, the tile application will be updated with information about the selected product. <br><br>  1. Open the application from the previous article. <br>  2. In <b>Solution Explorer,</b> open the <b>HubPage.xaml</b> file and add a <b>Click</b> event handler for the Buy button and a parameter with the identifier of the item being ordered. <br><br><img src="https://q3a4ta.dm1.livefilestore.com/y2pXeXKA5lkU19lL3IXQYq3Ouo7zW1wnb5erP1OjcLugRn22FXfscXu2T9OOldX9HXtQPwSwhoDf43z-H-Mz9yvC1mX-yUb41ZxX5Y056eS4vE/5.png?psid=1" alt="image"><br><br>  3. An empty event handler was automatically generated in the <b>HubPage.xaml.cs</b> file.  Let's write the following code there: <br><br><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Button_Click</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sender, RoutedEventArgs e</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> TileXmlString = <span class="hljs-string"><span class="hljs-string">"&lt;tile&gt;"</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;visual version='2'&gt;"</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;binding template='TileSquare150x150Text04' fallback='TileSquareText04'&gt;"</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;text id='1'&gt;{0}&lt;/text&gt;"</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;/binding&gt;"</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;binding template='TileWide310x150Text03' fallback='TileWideText03'&gt;"</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;text id='1'&gt;{0}&lt;/text&gt;"</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;/binding&gt;"</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;binding template='TileSquare310x310Text09'&gt;"</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;text id='1'&gt;{0}&lt;/text&gt;"</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;/binding&gt;"</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;/visual&gt;"</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;/tile&gt;"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> <span class="hljs-keyword"><span class="hljs-keyword">group</span></span> = (SampleDataGroup)<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.DefaultViewModel[<span class="hljs-string"><span class="hljs-string">"Group1Items"</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">group</span></span> != <span class="hljs-literal"><span class="hljs-literal">null</span></span> &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">group</span></span>.Items.Count &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { IEnumerable&lt;SampleDataItem&gt; dataItems = <span class="hljs-keyword"><span class="hljs-keyword">group</span></span>.Items.Where(item =&gt; item.UniqueId == ((Button)sender).CommandParameter); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dataItems != <span class="hljs-literal"><span class="hljs-literal">null</span></span> &amp;&amp; dataItems.Count() &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { XmlDocument tileDOM = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> XmlDocument(); tileDOM.LoadXml(<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Format(TileXmlString, <span class="hljs-string"><span class="hljs-string">" : "</span></span> + dataItems.FirstOrDefault().Title)); TileNotification tile = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TileNotification(tileDOM); TileUpdateManager.CreateTileUpdaterForApplication().Update(tile); } } }</code> </pre> <br><br>  To indicate what type our new tile will be and what will be written on it - we used xml, taken from one of the standard tile patterns in the catalog. <br><br>  <i>TileNotification</i> class - creates a message object for updating a tile. <br><br>  The actual update itself is done by calling the <i>TileUpdateManager.CreateTileUpdaterForApplication (). Update (tile);</i> <br><br>  4. Now you can start the application, click on the "buy" button and find information about the selected product on the tile. <br><br><img src="https://q3a4ta.dm2302.livefilestore.com/y2pGuX4ZyAlpJoeadwCDoz4rZYhGPwjxISrl7xQVA7lsgGOY_AGmuPqiB4tj_Gud5Ut2YNuVOv-V4mI-mW-3LvFH1RQkarZ4G4Qk7UxZb7fhBs/6.png?psid=1" alt="image"><br><br><h5>  Update tile at a specified time </h5><br>  It is possible to change the tile not immediately, but after some time. <br>  For example, you can make it change 3 hours after the occurrence of an event.  To do this, you can modify the <b>Button_Click</b> event <b>handler by</b> adding the following code instead of the last lines: <br><br><pre> <code class="cs hljs">Int16 dueTimeInHours = <span class="hljs-number"><span class="hljs-number">3</span></span>; DateTime dueTime = DateTime.Now.AddHours(dueTimeInHours); ScheduledTileNotification scheduledTile = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ScheduledTileNotification(tileXml, dueTime); scheduledTile.Id = <span class="hljs-string"><span class="hljs-string">"Future_Tile"</span></span>; TileUpdateManager.createTileUpdaterForApplication().AddToSchedule(scheduledTile);</code> </pre><br><br><h5>  Periodic tile update </h5><br>  Periodic updates are a great way to deliver tile updates to a large audience of users.  This method is a bit more complicated to implement and requires a web service on the Internet that implements the logic for generating and transmitting tiles to the client Windows application.  The web service should return XML content in a <a href="http://msdn.microsoft.com/ru-ru/library/windows/apps/br212859.aspx">specialized</a> format. <br><br>  Now we will create a WCF REST service that will provide information for updating the tile. <br><br>  <b>Creating a web service:</b> <br><br>  1. Open <b>Solution Explorer</b> and select <b>Add New Project</b> from the context menu of the solution. <br>  2. As a project template, select the <b>WCF Service Application</b> and give it a name. <br><br><img src="https://q3a4ta.dm2302.livefilestore.com/y2poH5091Pj6t-UXVtdUjWA3sTdPVXjrO_HrWb8JGf-ImPgXrFfuzN2PVS444dsHNv6iaLRfJyL5En0oQ4ZwAl5OdDlsjVt63EMh0jZoOxkNI0/7.png?psid=1" alt="image"><br><br>  3. As a result, a web service project was created, containing the interface and the web service class itself. <br>  4. Open the <b>Service1.cs</b> file and replace the interface code: <br><pre> <code class="cs hljs"> [<span class="hljs-meta"><span class="hljs-meta">ServiceContract</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IService1</span></span> { [WebGet(UriTemplate = <span class="hljs-string"><span class="hljs-string">"/Tile"</span></span>)] [OperationContract] <span class="hljs-function"><span class="hljs-function">XElement </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetTile</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>; }</code> </pre><br>  5. Rename the <b>Service1.svc</b> file to <b>TileService.svc</b> and replace its code: <br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">TileService</span></span> : <span class="hljs-title"><span class="hljs-title">IService1</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> TileXmlString = <span class="hljs-string"><span class="hljs-string">"&lt;tile&gt;"</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;visual version='2'&gt;"</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;binding template='TileSquare150x150Text04' fallback='TileSquareText04'&gt;"</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;text id='1'&gt;{0}&lt;/text&gt;"</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;/binding&gt;"</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;binding template='TileWide310x150Text03' fallback='TileWideText03'&gt;"</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;text id='1'&gt;{0}&lt;/text&gt;"</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;/binding&gt;"</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;binding template='TileSquare310x310Text09'&gt;"</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;text id='1'&gt;{0}&lt;/text&gt;"</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;/binding&gt;"</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;/visual&gt;"</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;/tile&gt;"</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> XElement </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetTile</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> xml = <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Format(TileXmlString, <span class="hljs-string"><span class="hljs-string">"    "</span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> XElement.Parse(xml); } }</code> </pre><br>  With this code, we generate xml in a format understandable for tiles. <br><br>  4. Run the web service project and call the method.  The web service must process and return the xml. <br><br>  <b>Setting up a web service call in a Windows application:</b> <br><br>  1. In <b>Solution Explorer,</b> open <b>Package.appxmanifest</b> and specify the tile update settings: <br><ul><li>  Web service address; </li><li>  Service call interval. </li></ul><br><img src="https://q3a4ta.dm2302.livefilestore.com/y2pCbI8s0oiUHMVHKhYZ4nrpt3vWQnsWe8c9SXmDcbVsH6wXrb9rm26wMk7-3due3pp9FVYPOFtv6SXLI8RJDs4PCtF--zY2qZb_WnOMo0HvsA/8.png?psid=1" alt="image"><br><br>  2. Now you can run the application, wait 30 minutes and see the changes on the tile. <br><br><img src="https://q3a4ta.dm2302.livefilestore.com/y2pyUwYkN0DCj2HQwTUQ-YK3KgwrTSV7_13AJCLHVAwI9a1ZotZi5FZtjBRjza8SN35EAIdWGPP0BMOESPyTU7_He4UbCINnPOmPO8FkBTPt4k/9.png?psid=1" alt="image"><br><br>  You can also call the web service and update the tiles programmatically. <br>  This code creates or updates the task of periodically updating the tile from the web service once every half hour: <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tileupdater = TileUpdateManager.CreateTileUpdaterForApplication(); tileupdater.StartPeriodicUpdate(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Uri(<span class="hljs-string"><span class="hljs-string">"http://localhost:32298/TileService.svc/Tile"</span></span>), PeriodicUpdateRecurrence.HalfHour);</code> </pre><br>  <b>Attention: the</b> task will be executed even if you remove the tile from the main screen.  Most likely you will need to remove the task of updating the tile for some events, for this you need to run the following code: <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tileupdater = TileUpdateManager.CreateTileUpdaterForApplication(); tileupdater.StopPeriodicUpdate();</code> </pre><br><h5>  Update tiles using push notifications </h5><br>  Push notifications - perfect for updating tiles in real time.  For example, an order in a store changed status or a new message appeared in the social network. <br>  Push notifications require an external service that will manage the flow of notifications and deliver them to client applications using <a href="http://msdn.microsoft.com/en-us/library/windows/apps/hh913756.aspx">Windows Push Notification Services (WNS)</a> . <br><br>  We will use Windows Azure Mobile Services to create and manage push notifications.  You can enjoy a <a href="http://www.windowsazure.com/ru-ru/pricing/free-trial/">free</a> trial month using Windows Azure. <br><br>  You can configure Windows Azure Mobile Service for Windows applications without leaving Visual Studio: <br><br>  1. Open <b>Solution Explorer</b> .  In the context menu of the project, select <b>Add</b> / <b>Push Notification</b> . <br><br><img src="https://q3a4ta.dm1.livefilestore.com/y2pFD_HMjKmnvsmzaGOJzW5YKghA5tEMYOVekUM7B-648--77hugoCKnrT8zNH6m5J4rY0BLnr0vfKedUdDP85vsPIF4CkYJJv6EzI_NTSeYLE/10.png?psid=1" alt="image"><br><br>  2. Fill in the wizard that opens.  In the process, you will need to use an existing or create a new Windows Store developer account. <br><br><img src="https://q3a4ta.dm2301.livefilestore.com/y2pGwj6GuJQJpAhzAMAcdhhzIqO7b2GRTGrGu_kJHdjUPMk-3tXSkA3xinq3lq7_LvFW2aOaZjV592HxfyrnQNma8UnfDbLH9pIa1A40sytaF8/11.png?psid=1" alt="image"><br><br>  3. At the end of the wizard, a mobile service will be created in Windows Azure.  We will return to it later. <br><br><img src="https://q3a4ta.dm2301.livefilestore.com/y2pMIz-QM_lsDvL8u8LBl6eV1nJNVyUIQ9b0LLIQDsHGnLCwnnunE9fKCKkW2NFuR_o3oPy3mJbAQibincmsswRjVpQqmQCo3sj0opOFHePKEg/12.png?psid=1" alt="image"><br><br>  4. Pay attention to what happened with the project. <br>  The class <b>push.register.cs</b> was added to the <b>project to</b> enable interaction with the mobile service. <br><br><img src="https://q3a4ta.dm1.livefilestore.com/y2prvAIMypQ10kCCVe_Ewx8nqcYrOH6o95ns-07oafUxJjzdAJw0KeLHC90QHu9cakUF8AY1LFTzBjWZDFd205ZrKXwu1AyAHzDDUTUs0V-8wQ/13.png?psid=1" alt="image"><br><br>  5. In the <b>App.xaml.cs</b> file, in the application launch event, a change was also made. <br>  This is where the push notification channel is initialized. <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Microsoft.WindowsAzure.MobileServices.MobileServiceClient nokiaproductsClient = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Microsoft.WindowsAzure.MobileServices.MobileServiceClient( <span class="hljs-string"><span class="hljs-string">"https://nokiaproducts.azure-mobile.net/"</span></span>, <span class="hljs-string"><span class="hljs-string">"LKcaeBgDWQTEJFiifTiRzhZBdfIkLM35"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//‚Ä¶ protected override async void OnLaunched(LaunchActivatedEventArgs e) { //‚Ä¶ eShop.nokiaproductsPush.UploadChannel(); //‚Ä¶ }</span></span></code> </pre><br>  6. Now we need to teach the mobile service to send notifications to the application. <br>  7. To do this, go to <a href="https://manage.windowsazure.com/">the Windows Azure Control Panel</a> (https://manage.windowsazure.com/), then <b>Mobile Services</b> , select the mobile service, go to the <b>Data</b> tab and select an available data transfer channel. <br><br><img src="https://q3a4ta.dm1.livefilestore.com/y2pgQv2AD08OBFLHifHCEc7Fa9tDRSZgpVGRuYslTWCFKUdjcKyXFWxNckZFobqcwJ-3s-U3E-_LO_dqkPnB2NyJvFD_PXe_siAq1RqTtAXF7g/14.png?psid=1" alt="image"><br><br>  8. On the page that opens, click on the <b>Script</b> tab. <br>  9. A JavaScript file will open in which you can write code and generate notifications. <br><br><img src="https://q3a4ta.dm2301.livefilestore.com/y2pWGBABgn97lQaIzmyP_nyZe3kHkLBcfA0EGgi57QljdqpBhIeBT1QaDL2J0pfIofGCyQ8lRpyBn_tZd571O828SIJ3wwHlu3mBIlVBR9w_ac/15.png?psid=1" alt="image"><br><br>  10. Edit the file, replacing the code with the following: <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">insert</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">item, user, request</span></span></span><span class="hljs-function">) </span></span>{ request.execute({ <span class="hljs-attr"><span class="hljs-attr">success</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ request.respond(); sendNotifications(); } }); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sendNotifications</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> channelsTable = tables.getTable(<span class="hljs-string"><span class="hljs-string">'channels'</span></span>); channelsTable.read({ <span class="hljs-attr"><span class="hljs-attr">success</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">devices</span></span></span><span class="hljs-function">) </span></span>{ devices.forEach(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">device</span></span></span><span class="hljs-function">) </span></span>{ push.wns.sendTileWideText04(device.channelUri, { <span class="hljs-attr"><span class="hljs-attr">text1</span></span>: <span class="hljs-string"><span class="hljs-string">'  '</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">success</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">pushResponse</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"Sent tile:"</span></span>, pushResponse); } }); }); } }); } }</code> </pre><br>  11. Save the script. <br><br><img src="https://q3a4ta.dm2302.livefilestore.com/y2pso_aBmhYp9-pen5pKKk-Ti0Uk3suU-Oe2n_WJggE0AAkDlbEmFxJXQOdXtzsmkzmxrNZlp_XnANp8gBqxj9AEHUOBJ_X3kKvFzJskKZ-2QA/16.png?psid=1" alt="image"><br><br>  12. Return to Visual Studio and run the application. <br><br><img src="https://q3a4ta.dm2301.livefilestore.com/y2pjB_uAaaW7hymHdzpYgunh9tzfDlVD33w0uEQa3NFsYUHjXv9C1tI7aTM_fHLEF5PjQ2Lbh7x_MF5zVktP_onUD2agj9RwBcn116CAAT7aAM/17.png?psid=1" alt="image"><br><br>  The tile will instantly change to what was specified in the script. <br><br>  So, we learned how to implement dynamically updated tiles for Windows applications in various ways.  In the following articles, we will continue to comprehend the development of Windows 8.1 applications with simple examples. <br><br>  Download the resulting application on SkyDrive at the link: <a href="https://skydrive.live.com/download%3Fresid%3DDA8C144CFF7C40EE%252137403">http://sdrv.ms/1gKm4IJ</a> <br><br><h4>  Useful materials </h4><br>  <a href="http://msdn.microsoft.com/ru-ru/library/windows/apps/hh868260.aspx">Making tiles</a> <br>  <a href="http://msdn.microsoft.com/ru-RU/library/windows/apps/hh761491.aspx">Catalog of ready-made tile patterns</a> <br>  <a href="http://msdn.microsoft.com/ru-ru/library/windows/apps/hh779721.aspx">Choosing a notification delivery method</a> <br>  <a href="http://msdn.microsoft.com/ru-ru/library/windows/apps/jj150587.aspx">General information about periodic notifications</a> <br>  <a href="http://msdn.microsoft.com/ru-ru/library/windows/apps/hh913756.aspx">Understanding Push Notifications</a> <br></div><p>Source: <a href="https://habr.com/ru/post/204720/">https://habr.com/ru/post/204720/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../204710/index.html">Perseus LT Konus. For those who want to know where to follow the stars and planets</a></li>
<li><a href="../204712/index.html">Interview with Devananda van der Veen, OpenStack Ironic Technical Project Manager</a></li>
<li><a href="../204714/index.html">uid.me - service of personal pages, based on MongoDB and Mojolicious</a></li>
<li><a href="../204716/index.html">Desktop CRM-2: do you want to go?</a></li>
<li><a href="../204718/index.html">Tsubame-KFC: Supercomputer with Immersion Cooling System from Japan</a></li>
<li><a href="../204730/index.html">Straight to mars. Meeting with the Mars Society President in Moscow</a></li>
<li><a href="../204732/index.html">Updated Chrome DevTools: emulation of different screens and testing applications on devices from the desktop</a></li>
<li><a href="../204734/index.html">Participate in the European AppCup 2014 - competition of application developers for Windows 8 and Windows Phone</a></li>
<li><a href="../204740/index.html">The Russian government approved the Strategy for the development of the information technology industry until 2020</a></li>
<li><a href="../204742/index.html">How a bicycle is born or why I wrote a client for the exchange</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>