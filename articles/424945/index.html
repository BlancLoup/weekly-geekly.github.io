<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Smartphone drives a toy car</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Over the past decade, many have got one two smartphones lying idle, and so is mine. I decided to use a smartphone to control something, for example, a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Smartphone drives a toy car</h1><div class="post__text post__text-html js-mediator-article">  Over the past decade, many have got one two smartphones lying idle, and so is mine.  I decided to use a smartphone to control something, for example, a car. <br>  To start, I chose a toy car from Lego.  It can move back and forth, turn right and left and has a remote control with IR rays.  As a driver for the engine of the machine, the chip LB1836 is used, which has four information inputs.  In1, In2 - control the driving motor, In3, In4 - control the steering drive, according to the scheme 0, 0 or 1, 1 - inoperative state.  0, 1 or 1, 0 - the rotation of the engine in one direction or the other. <br><br>  Logic 0 and 1 at the inputs forms the receiver of infrared rays of the toy when receiving signals from the remote control. <br><br>  I decided to use the smartphone screen to transmit signals from a smartphone to a typewriter, since other transmission channels are technically complex and expensive to implement.  I decided to connect my device to the inputs of the LB1836 chip, which will receive signals from the smartphone. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The signal transmission scheme is as follows.  The program in the smartphone creates light spots of a given duration on the screen, the device registers them and forms logical 0 and 1 of the same duration at the inputs of the LB1836 without any logical processing, which greatly simplifies the design of the device.  That is, I simply replaced the IR-ray receiver with my device. <br><br>  The device receiving light signals consists of 4 cells.  Each cell is an L-3DP3C KGB phototransistor connected to an amplifier on a npn KT315 transistor.  Food is taken from a controlled machine.  The output, as I said, is connected to the corresponding input of the engine driver.  Low-power engines can be powered directly from the exit, but will rotate only in one direction.  But there will be four of them! <br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/jt/pp/3o/jtpp3oaqdjedzqbcdt_6nsubsim.jpeg"><br><br>  On the choice of the elements of the device I can say the following.  I took the transistors that I have had since ancient times.  Phototransistors bought those that were in the store.  So, if you want to repeat the scheme, do not waste time searching, use the elements that are available to you.  By the way, at the beginning I assembled an LM 324N with four operational amplifiers on a microcircuit.  It also works well, but I thought its dimensions were too big. <br>  The device is assembled on cardboard using strips of copper foil and elements of Lego. <br><br><img src="https://habrastorage.org/webt/tj/9t/v2/tj9tv2jdbrbmceqsf4n4wh1u40i.jpeg"><br><br>  Phototransistors are placed at the bottom of light wells with a diameter of 5 mm and a depth of 9 mm, in order to exclude lateral exposure.  Metallized films rolled up into a tube are inserted into the light wells, which significantly increases the sensitivity of phototransistors by increasing the light flux. <br><br><img src="https://habrastorage.org/webt/h8/kx/kv/h8kxkv2ehw8ej6enhj6ktrbgqk0.jpeg"><br><br>  That turned out such a car. <br><br><img src="https://habrastorage.org/webt/ds/xw/of/dsxwoflnc8cb6dhy5ycyptunulw.jpeg"><br><br>  To develop the program, I took the application BASIC!  from Googl Play Market.  This application allows you to write programs for Android, create apk files and work with all sensors and devices of your smartphone. <br><br>  Program listing <br><br><pre><code class="plaintext hljs">DO LET s$=" :      " TTS.INIT TTS.SPEAK s$ TTS.STOP STT.LISTEN "" STT.RESULTS theList LIST.SIZE theList, theSize LET kom$="" FOR k = 1 TO theSize LIST.GET theList, k, theText$ IF (theText$="") THEN kom$="" IF (theText$="") THEN kom$="" IF (theText$="") THEN kom$="" IF (theText$="") THEN kom$="" IF (theText$="") THEN kom$="" NEXT k PRINT kom$ GR.OPEN 255, 0, 0, 0 GR.BRIGHTNESS 0.7 GR.ORIENTATION 1 GR.SCREEN w, h a = 255 r = 255 g = 255 b = 255 fill = 1 GR.COLOR a,r,g,b,fill LET wc=0.95*h LET hc=w LET m=36 GR.CLS GR.CIRCLE n5, hc/m*9.5,wc,w/15.6 GR.CIRCLE n4, hc/m*13.5,wc,w/15.6 GR.CIRCLE n3, hc/m*18,wc,w/15.6 GR.CIRCLE n2, hc/m*22.5,wc,w/15.6 GR.CIRCLE n1, hc/m*26.5,wc,w/15.6 FOR i=1 TO 5 GR.HIDE i NEXT i IF (kom$="") THEN GR.SHOW 2 PAUSE 300 GR.HIDE 2 ENDIF IF (kom$="") THEN GR.SHOW 1 PAUSE 300 GR.HIDE 1 ENDIF IF (kom$="") THEN GR.SHOW 2 GR.SHOW 4 PAUSE 300 GR.HIDE 2 GR.HIDE 4 ENDIF IF (kom$="") THEN GR.SHOW 2 GR.SHOW 5 PAUSE 300 GR.HIDE 2 GR.HIDE 5 ENDIF IF (kom$="") THEN GOTO qq GR.BRIGHTNESS 0.1 GR.CLOSE UNTIL 0 ! ONERROR: qq: LET s$="  " TTS.INIT TTS.SPEAK s$ TTS.STOP GR.BRIGHTNESS 0.1 GR.CLOSE END</code> </pre> <br>  The program uses voice control as the most appropriate in my case.  The TTS object converts text to speech.  The STT object converts speech to text.  When the STT is working, Wi-Fi must be turned on, because the recorded soundtrack is sent to the server on the Internet, where the recognition result comes from, these are a few words or phrases.  The program checks if there is a command in the list, displays the command on the screen and executes it.  If the text is not recognized, the program displays a message about it.  All this is repeated in an endless loop.  The program is terminated by the ‚Äústop‚Äù command or by pressing the return key.  Geometrical dimensions are taken relative to automate binding on different screens with different sizes and resolutions, which is not always the case.  The circles that are drawn on the screen are objects and are numbered automatically as they are created. <br><br>  Team GR.SHOW 2 - means to show the circle, which was created second.  His number is in n4.  You could write GR.SHOW n4.  In the IF line (theText $ = "forward") THEN kom $ = "forward" you will notice the difference in the values ‚Äã‚Äãof the value in the assignment command - "forward" and "forward."  The fact is that the STT stubbornly returns "forward", although there are cases of "forward", then the program does not recognize the command.  It was possible to get rid of this, but I did not complicate the program, but simply corrected the spelling when outputting to the screen.  There are still failures when recognizing the ‚Äúleft‚Äù command.  However, perhaps this is a feature of my pronunciation. <br><br>  Unfortunately, I can not insert a clip showing the work of the program here. <br>  Take a look <a href="https://m.youtube.com/watch%3Fv%3DPxrwXD6t5gM">here</a> . </div><p>Source: <a href="https://habr.com/ru/post/424945/">https://habr.com/ru/post/424945/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../424933/index.html">How we reworked bad prediction for a little more good (continued)</a></li>
<li><a href="../424935/index.html">Product Design Digest, September 2018</a></li>
<li><a href="../424937/index.html">Digital events in Moscow from October 1 to 7</a></li>
<li><a href="../424939/index.html">Polymorphic Quine</a></li>
<li><a href="../424941/index.html">Stream data from a REST service to an MQ queue</a></li>
<li><a href="../424947/index.html">Gesture Recognition with APDS-9960</a></li>
<li><a href="../424949/index.html">PHP Digest 140 (September 17 - 30, 2018)</a></li>
<li><a href="../424951/index.html">Hooray! It was not paranoia</a></li>
<li><a href="../424955/index.html">The digest of fresh materials from the world of the frontend for the last week ‚Ññ332 (September 24 - 30, 2018)</a></li>
<li><a href="../424957/index.html">Generate images from text using AttnGAN</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>