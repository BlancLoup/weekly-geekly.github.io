<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Custom font in unity3d</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Somehow, when preparing my project in Unity3d, I needed to use the Bitmap font (also known as a raster font). I was very happy when I discovered the t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Custom font in unity3d</h1><div class="post__text post__text-html js-mediator-article">  Somehow, when preparing <a href="http://habrahabr.ru/post/212665/">my project</a> in Unity3d, I needed to use the Bitmap font (also known as a raster font).  I was very happy when I discovered the tools for creating such a font in Unity.  But after a while I realized that this procedure was by no means trivial due to the lack of any documentation on this subject. <br><br>  This article is about how to assemble a Custom Bitmap Font in Unity.  The lesson is quite detailed and affects the work in Photoshop.  Interested please under the cat. <br><a name="habracut"></a><br><h5>  Introduction </h5><br>  As the <a href="http://en.wikipedia.org/wiki/Computer_font">wiki</a> explains, a raster font is actually a set of bitmap images of all the symbols used.  That is, first of all we need a texture containing images of all the characters we need.  In this example, I will confine myself to numbers and a couple of auxiliary characters, but this technique can be used on any number of glyphs. <br><br><h5>  Texture preparation </h5><br>  Our font will contain 14 characters: numbers from zero to nine, signs "+", "-", a dot separating the fractional and integer parts and a space.  We will also leave a couple of spare places for characters that we may want to add in the future.  Total 16 texture slots. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The best way to arrange these 16 slots on the texture can be this way: use 4 columns and 4 lines <br><br><img src="https://habrastorage.org/getpro/habr/post_images/af5/360/866/af536086631be4ba4625395862cc0b8b.png"><br><br>  To prepare the example, I used Photoshop, and in the course of the lesson I will also give some explanations to my actions in it.  So, open the image editor and create a new document, 400 by 400 pixels in size.  Rzamer texture at this stage is not particularly critical, as long as it is not too small.  We will set the final size of the texture in Unity at the very end of the lesson. <br><br>  For convenience, I advise you to turn on the display of the ruler, grid and guides (ruler, grid and guides).  Hot key to display the Ctrl + 'grid for guides Ctrl +;  for the Ctrl + R ruler.  To create a guideline, simply drag it from the document line.  The settings for all these helpers are in the menu Edit -&gt; Preferences -&gt; Units &amp; Rulers <br><br>  Next we have to fill the texture with the content in the form of, in fact, characters.  I used the free Unispace font as the basis of my raster font.  Call the ‚ÄúText‚Äù tool with the Shift + T hot key and enter our first glyph.  All characters must be precisely positioned in the center of each of the 16 slots (here we can use the auxiliary grid).  After entering the first character (in our case it is zero), press Enter to confirm the input.  In order to correctly position the layer, by pressing the Ctrl + T keys, we call the Transform tool and move the layer to the right place, guided by the auxiliary grid. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7bf/a25/231/7bfa2523121c1c1e3edec3b791de48ab.png"><br><br>  We perform this simple operation with all the symbols we need and - voila! <br><br>  In the next step, we will merge all the resulting layers with numbers and signs into one common layer.  To do this, select them in the Layers panel and press Ctrl + E.  The main thing is not to accidentally hook the background layer, because then all the information about transparency will disappear.  After this begins the most interesting and creative part of the work.  Customize layer effects to taste.  In detail here I will not describe it, everyone decides for himself what he likes and will do in his own way.  What happened to me, you can see in the picture below. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/542/59e/49e/54259e49ee20dfdd6d167e7474181d70.png"><br><br>  So, at the moment we have two layers: our numbers with signs and a white background layer.  Once we have set up all the effects we need, we will make a backup copy of the layer and proceed to the next step: the creation of the alpha channel. <br><br>  The alpha channel will store the transparency information.  Black pixels are responsible for full transparency, white - the opposite.  Shades of gray create the effect of different degrees of translucency.  In my case, around the characters there is a soft black shadow, which I would like to see smoothly fading as it spreads to the sides of the characters.  To achieve this effect, we will just use the semitones in the alpha channel. <br><br>  The newly projected layer will become the main one of our alpha channel.  First we need to bake all its effects, that is, to rasterize the layer.  To do this, I usually create a new empty layer, select it and the layer I am working with now - and merge them into one (Ctrl + E). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f10/48a/ba6/f1048aba6eb109ffd1922094931e7b2f.png"><br><br>  We have a rasterized layer with transparency information.  Now it remains only to transfer this information to the alpha channel.  To do this, hold down Ctrl, click on the layer's Ionic in the Layers panel - to obtain a selection by the transparency mask, and, in the Channels panel, create a new channel, again holding Ctrl.  The button for creating a new channel is located at the bottom right of the panel near the button for deleting a channel with a basket.  The resulting channel was inverted - it does not matter.  Use Ctrl + I to restore the normal state of affairs. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6a7/35f/1ac/6a735f1ac6a87ec6d5ce78ed806af14d.png"><br><br>  Alpha channel is ready.  Texture, in general, too.  Except that the white background layer prevents the shadow from correctly displaying around the characters.  I painted it in the color of the shadow. <br><br>  Save the texture to a favorite format that supports the alpha channel (I use TGA-32bit) and proceed to the next step. <br><br><h5>  Preparing to create a font in Unity </h5><br>  Import texture into Unity3d.  To do this, we find the Assets folder in the Project panel and from the context menu call Import New Asset ... We find the file with our texture.  Is done. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/449/d55/3eb/449d553ebd6a3b225401e3ed4479d4cd.png"><br><br>  The texture settings are pretty obvious, and I will not describe them in detail.  I will only mention that you need to set the sane texture size.  In our case, the 256x256 px is fine. <br><br>  Further in the same context menu we create a new material and font asset (Create -&gt; Material, Create -&gt; Custom Font).  In the material settings, select the newly imported texture.  Also, the material must maintain transparency.  Therefore, we select the appropriate type of material: Transparent / Diffuse. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/547/dd1/080/547dd1080ccc0cd9021bf3861dc2c36b.png"><br><br>  Finally, we come to the very essence of the lesson.  We have a customized material with a pretty texture, and now we need to somehow assemble a raster font from it ready for use in Unity. <br><br><h5>  Unity raster font </h5><br>  For some reason, the raster font creation tool in Unity is extremely inconvenient.  In addition, no documentation on it was found on the network.  All we have is a slurred panel with settings: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/463/d09/548/463d09548e0aca55986bd9cbb4c4894f.png"><br><br>  Having picked a few hours in it, I still managed to recognize most of the parameters that are enough to create a font. <br><br>  <b>Ascii Start Offset</b> is an integer that is responsible for shifting the Ascii code table.  Example: set the value to 10, and now access to the symbol ‚ÄúA‚Äù with code 65 can be obtained through code 75. <br>  <b>Kerning</b> - spacing between letters. <br>  <b>Line Spacing</b> - the distance between lines of text. <br>  <b>Default Material</b> - material with a font texture.  We have already created it. <br>  <b>Character Rects</b> - an array of mapping settings for each character. <br><br>  Namely Character Rects are the most interesting for us. <br><br>  <b>Size</b> - the size of the array (the number of characters in the font). <br>  <b>Element x</b> - an element of the Character Rects array with the settings of a specific character. <br>  <b>Index</b> - Ascii code of a symbol, taking into account Ascii Start Offset. <br>  <b>UV</b> - coordinates and dimensions of the symbol on the texture. <br>  <b>X, Y, W, H</b> - coordinates of the lower left corner of the texture area with the symbol, as well as the width and height of this area. <br><br>  Here it is necessary to make a small digression into the theory of mappig, in the spoiler there is a brief visual aid. <br><br><div class="spoiler">  <b class="spoiler_title">Brief explanation of mapping</b> <div class="spoiler_text"> <a href="http://en.wikipedia.org/wiki/Texture_mapping">Texture mapping</a> is the process of applying a texture to polygonal surfaces in computer graphics. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cfb/0a5/1fa/cfb0a51fa5e1f4e15cfd7d20dcce5907.png"><br><br>  The textural coordinates of the area with the number five will be: <code>X = 0.25, Y = 0.5, H = 025, W = 0.25</code> <br></div></div><br>  <b>Vert</b> - coordinates and dimensions of the polygon to which the symbol will be mapped <br>  <b>X, Y, W, H</b> - coordinates of the lower left corner of the polygon with the symbol, as well as the width and height of this polygon.  In general, x and y are set to 0, w and h are the length and width of the polygon, with h being a negative number.  Do not ask why, I did not understand myself. <br>  <b>Width</b> is something like a letter spacing for a particular character. <br>  <b>Flipped</b> - rotates the texture by 90 degrees relative to the polygon (can be used for vertical fonts). <br><br>  So, the basic parameters should be clear.  Let's start mapping our tsiferok.  First, take a look at the Ascii code table. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/837/7ea/2f8/8377ea2f8dd59758629c8c55865537c9.png"><br><br>  As it is easy to see, each symbol corresponds to a unique Ascii code.  For example, code 43 belongs to the plus sign.  And now we begin the hard chore of putting coordinates into the appropriate fields.  Below is a picture that shows how the plus and minus signs were mapped. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/030/ef5/639/030ef5639269e8075d5f940b22e2dc3f.png"><br><br>  After all the characters have been zamapleny, we can congratulate you on the implementation of a very difficult task: the font is ready and now you can use it! <br><br>  Create an empty object in the project scene.  Assign the TextMesh component to it and select our font in the settings. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/be7/97e/173/be797e173a31d197d433208db3d0ce13.png"><br><br>  Beauty! <br><br><h5>  Afterword </h5><br>  Creating a raster font in Unity is a very difficult, but interesting job.  I want to believe that, having passed this lesson, you learned something new and useful for yourself.  The absence of such a description at one time greatly hampered the progress of my project.  And I hope that this text will help save a lot of time for everyone who one day will need to create a custom font in Unity. </div><p>Source: <a href="https://habr.com/ru/post/212587/">https://habr.com/ru/post/212587/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../212571/index.html">Four ways to cut pictures in OS X</a></li>
<li><a href="../212573/index.html">Win32 / Corkow banking trojan attacks Russian users</a></li>
<li><a href="../212575/index.html">DevCon 2014: the most resort conference</a></li>
<li><a href="../212579/index.html">Geeksphone Revolution - the top phone on the Firefox OS phone. Coming soon!</a></li>
<li><a href="../212583/index.html">The basics of creating a 2D character in Godot. Part 1: compiling the game engine, creating a project and rest animation hero</a></li>
<li><a href="../212589/index.html">Break open the library from "GEOTAR-Media"</a></li>
<li><a href="../212591/index.html">The experience of creating a budget school information system</a></li>
<li><a href="../212593/index.html">DUMP-2014: preliminary program</a></li>
<li><a href="../212595/index.html">Infrastructure preparation and deployment of a failover cluster on Windows Server 2012</a></li>
<li><a href="../212597/index.html">Google Fiber will accelerate to 10 gigabits per second</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>