<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ElasticSearch - data aggregation</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the article we will look at how to correctly implement data aggregation, why it may be needed, and we will pick it up with a bunch of working examp...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>ElasticSearch - data aggregation</h1><div class="post__text post__text-html js-mediator-article"><img align="right" src="https://habrastorage.org/getpro/habr/post_images/e01/a8b/9ed/e01a8b9edefdd6726b508c06e598d028.jpg"><br>  In the article we will look at how to correctly implement data aggregation, why it may be needed, and we will pick it up with a bunch of working examples. <br><br>  For all who are interested in how to make their requests in ES more interesting and look at the usual search on the other hand, please under the cat. <br><a name="habracut"></a><br><br>  <i>In the previous <a href="http://habrahabr.ru/company/smartprogress/blog/226749/">article,</a> users divided equally between the article on a simpler topic and on a more complex one, so I chose a not very complicated topic, but rather fresh, which was added to ES relatively recently (v1.0) and carries a rather interesting functionality.</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Aggregation module </h4><br>  This module came to replace Facets in ES, and in a persistent way, Facets are now considered obsolete and will be removed in the next releases.  Although the units were added in v1.0.0RC1, and now&gt; 1.2, I still do not recommend using Facets. <br>  Why did you need to change the working tool? <br>  Probably the main feature of the aggregates is their nesting.  I will give the general syntax of the query: <br><pre><code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"aggregations"</span></span> : { <span class="hljs-string"><span class="hljs-string">"&lt;aggregation_name&gt;"</span></span> : { <span class="hljs-string"><span class="hljs-string">"&lt;aggregation_type&gt;"</span></span> : { &lt;aggregation_body&gt; } [,<span class="hljs-string"><span class="hljs-string">"aggregations"</span></span> : { [&lt;sub_aggregation&gt;]+ } ]? } [,"&lt;aggregation_name_2&gt;" : { ... } ]* }</code> </pre> <br><br>  As can be seen from the structure, there can be arbitrarily many aggregates, and each element can have an embedded element without depth restrictions. <br>  Using nesting, we can get very interesting statistics (example at the end of the article). <br><br><h5>  Types of units </h5><br>  There <a href="http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/search-aggregations-metrics-min-aggregation.html">are a lot of</a> types of units, but all of them can be combined into 2 main types: <br><br>  <b>- Bucketing (Generalization)</b> <br>  For ease of understanding, this can be compared with the familiar ‚ÄúGROUP BY‚Äù tools.  Of course, this is a fairly simplified comparison, but the principle of operation is similar.  This type, based on filters, summarizes documents, according to some particular attribute, a good example is <a href="http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/search-aggregations-bucket-terms-aggregation.html">terms aggregation</a> . <br><br>  <b>- Metric (Metric)</b> <br>  These are aggregates that calculate any value for a specific set of documents.  For example <a href="http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/search-aggregations-metrics-sum-aggregation.html">sum aggregation</a> <br><br>  I think, for the beginning of the theory is enough, everyone who is interested in more fundamental information on this module can get acquainted with it <a href="http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/search-aggregations.html">at this link</a> . <br><br><h4>  Simple example </h4><br>  Those who wish to try everything with my own hands, I suggest using this dump <br><div class="spoiler">  <b class="spoiler_title">Structure and data for the test</b> <div class="spoiler_text">  The dump is brazenly taken from this beautiful <a href="http://blog.qbox.io/elasticsearch-aggregations">article.</a> <br><pre> <code class="javascript hljs">curl -XPUT <span class="hljs-string"><span class="hljs-string">"http://localhost:9200/sports/"</span></span> -d<span class="hljs-string"><span class="hljs-string">' { "mappings": { "athlete": { "properties": { "birthdate": { "type": "date", "format": "dateOptionalTime" }, "location": { "type": "geo_point" }, "name": { "type": "string" }, "rating": { "type": "integer" }, "sport": { "type": "string" } } } } }'</span></span> curl -XPOST <span class="hljs-string"><span class="hljs-string">"http://localhost:9200/sports/_bulk"</span></span> -d<span class="hljs-string"><span class="hljs-string">' {"index":{"_index":"sports","_type":"athlete"}} {"name":"Michael", "birthdate":"1989-10-1", "sport":"Baseball", "rating": ["5", "4"], "location":"46.22,-68.45"} {"index":{"_index":"sports","_type":"athlete"}} {"name":"Bob", "birthdate":"1989-11-2", "sport":"Baseball", "rating": ["3", "4"], "location":"45.21,-68.35"} {"index":{"_index":"sports","_type":"athlete"}} {"name":"Jim", "birthdate":"1988-10-3", "sport":"Baseball", "rating": ["3", "2"], "location":"45.16,-63.58" } {"index":{"_index":"sports","_type":"athlete"}} {"name":"Joe", "birthdate":"1992-5-20", "sport":"Baseball", "rating": ["4", "3"], "location":"45.22,-68.53"} {"index":{"_index":"sports","_type":"athlete"}} {"name":"Tim", "birthdate":"1992-2-28", "sport":"Baseball", "rating": ["3", "3"], "location":"46.22,-68.85"} {"index":{"_index":"sports","_type":"athlete"}} {"name":"Alfred", "birthdate":"1990-9-9", "sport":"Baseball", "rating": ["2", "2"], "location":"45.12,-68.35"} {"index":{"_index":"sports","_type":"athlete"}} {"name":"Jeff", "birthdate":"1990-4-1", "sport":"Baseball", "rating": ["2", "3"], "location":"46.12,-68.55"} {"index":{"_index":"sports","_type":"athlete"}} {"name":"Will", "birthdate":"1988-3-1", "sport":"Baseball", "rating": ["4", "4"], "location":"46.25,-68.55" } {"index":{"_index":"sports","_type":"athlete"}} {"name":"Mick", "birthdate":"1989-10-1", "sport":"Baseball", "rating": ["3", "4"], "location":"46.22,-68.45"} {"index":{"_index":"sports","_type":"athlete"}} {"name":"Pong", "birthdate":"1989-11-2", "sport":"Baseball", "rating": ["1", "3"], "location":"45.21,-68.35"} {"index":{"_index":"sports","_type":"athlete"}} {"name":"Ray", "birthdate":"1988-10-3", "sport":"Baseball", "rating": ["2", "2"], "location":"45.16,-63.58" } {"index":{"_index":"sports","_type":"athlete"}} {"name":"Ping", "birthdate":"1992-5-20", "sport":"Baseball", "rating": ["4", "3"], "location":"45.22,-68.53"} {"index":{"_index":"sports","_type":"athlete"}} {"name":"Duke", "birthdate":"1992-2-28", "sport":"Baseball", "rating": ["5", "2"], "location":"46.22,-68.85"} {"index":{"_index":"sports","_type":"athlete"}} {"name":"Hal", "birthdate":"1990-9-9", "sport":"Baseball", "rating": ["4", "2"], "location":"45.12,-68.35"} {"index":{"_index":"sports","_type":"athlete"}} {"name":"Charge", "birthdate":"1990-4-1", "sport":"Baseball", "rating": ["3", "2"], "location":"46.12,-68.55"} {"index":{"_index":"sports","_type":"athlete"}} {"name":"Barry", "birthdate":"1988-3-1", "sport":"Baseball", "rating": ["5", "2"], "location":"46.25,-68.55" } {"index":{"_index":"sports","_type":"athlete"}} {"name":"Bank", "birthdate":"1988-3-1", "sport":"Golf", "rating": ["6", "4"], "location":"46.25,-68.55" } {"index":{"_index":"sports","_type":"athlete"}} {"name":"Bingo", "birthdate":"1988-3-1", "sport":"Golf", "rating": ["10", "7"], "location":"46.25,-68.55" } {"index":{"_index":"sports","_type":"athlete"}} {"name":"James", "birthdate":"1988-3-1", "sport":"Basketball", "rating": ["10", "8"], "location":"46.25,-68.55" } {"index":{"_index":"sports","_type":"athlete"}} {"name":"Wayne", "birthdate":"1988-3-1", "sport":"Hockey", "rating": ["10", "10"], "location":"46.25,-68.55" } {"index":{"_index":"sports","_type":"athlete"}} {"name":"Brady", "birthdate":"1988-3-1", "sport":"Football", "rating": ["10", "10"], "location":"46.25,-68.55" } {"index":{"_index":"sports","_type":"athlete"}} {"name":"Lewis", "birthdate":"1988-3-1", "sport":"Football", "rating": ["10", "10"], "location":"46.25,-68.55" }'</span></span></code> </pre><br></div></div><br><br>  Let's group athletes by their sport and find out how many are in each sport: <br><pre> <code class="bash hljs">curl -XPOST <span class="hljs-string"><span class="hljs-string">"http://localhost:9200/sports/athlete/_search?pretty"</span></span> -d<span class="hljs-string"><span class="hljs-string">' { "size": 0, "aggregations": { "the_name": { "terms": { "field": "sport" } } } }'</span></span></code> </pre><br><br>  Here we use the ‚Äúterms‚Äù aggregate, which groups the document into the ‚Äúsport‚Äù field. <br>  <code>"size" : 0</code> (0 is replaced by Integer.MAX_VALUE automatically) says that we need all the documents without exception, in our case, speed is not important, but we must take into account that a more accurate result takes more time. <br><br>  Answer: <br><pre> <code class="bash hljs">{ ... <span class="hljs-string"><span class="hljs-string">"aggregations"</span></span> : { <span class="hljs-string"><span class="hljs-string">"the_name"</span></span> : { <span class="hljs-string"><span class="hljs-string">"buckets"</span></span> : [ { <span class="hljs-string"><span class="hljs-string">"key"</span></span> : <span class="hljs-string"><span class="hljs-string">"baseball"</span></span>, <span class="hljs-string"><span class="hljs-string">"doc_count"</span></span> : 16 }, { <span class="hljs-string"><span class="hljs-string">"key"</span></span> : <span class="hljs-string"><span class="hljs-string">"golf"</span></span>, <span class="hljs-string"><span class="hljs-string">"doc_count"</span></span> : 2 }, { <span class="hljs-string"><span class="hljs-string">"key"</span></span> : <span class="hljs-string"><span class="hljs-string">"basketball"</span></span>, <span class="hljs-string"><span class="hljs-string">"doc_count"</span></span> : 1 }, { <span class="hljs-string"><span class="hljs-string">"key"</span></span> : <span class="hljs-string"><span class="hljs-string">"football"</span></span>, <span class="hljs-string"><span class="hljs-string">"doc_count"</span></span> : 1 }, { <span class="hljs-string"><span class="hljs-string">"key"</span></span> : <span class="hljs-string"><span class="hljs-string">"hockey"</span></span>, <span class="hljs-string"><span class="hljs-string">"doc_count"</span></span> : 1 } ] } } }</code> </pre><br><br>  Great, baseball players the most. <br>  Let's sort the athletes by the average value of their ranking, from major to minor: <br><pre> <code class="bash hljs">curl -XPOST <span class="hljs-string"><span class="hljs-string">"http://localhost:9200/sports/athlete/_search?pretty"</span></span> -d<span class="hljs-string"><span class="hljs-string">' { "size": 0, "aggregations": { "the_name": { "terms": { "field": "name", "order": { "rating_avg": "desc" } }, "aggregations": { "rating_avg": { "avg": { "field": "rating" } } } } } }'</span></span></code> </pre><br>  Here you can clearly see what an embedded unit is and how it can help us select documents as flexibly as possible. <br>  First, we indicate that we need to group athletes by name, then sort by ‚Äúrating_avg‚Äù, which is calculated in the ‚Äúavg‚Äù aggregate, by ‚Äúrating‚Äù field.  Notice how elegantly ES works with arrays ( <code>"rating" : [10, 9]</code> ) and easily calculates the average value. <br><br>  Answer: <br><pre> <code class="bash hljs">{ ... <span class="hljs-string"><span class="hljs-string">"aggregations"</span></span> : { <span class="hljs-string"><span class="hljs-string">"the_name"</span></span> : { <span class="hljs-string"><span class="hljs-string">"buckets"</span></span> : [ { <span class="hljs-string"><span class="hljs-string">"key"</span></span> : <span class="hljs-string"><span class="hljs-string">"brady"</span></span>, <span class="hljs-string"><span class="hljs-string">"doc_count"</span></span> : 1, <span class="hljs-string"><span class="hljs-string">"rating_avg"</span></span> : { <span class="hljs-string"><span class="hljs-string">"value"</span></span> : 10.0 } }, { <span class="hljs-string"><span class="hljs-string">"key"</span></span> : <span class="hljs-string"><span class="hljs-string">"wayne"</span></span>, <span class="hljs-string"><span class="hljs-string">"doc_count"</span></span> : 1, <span class="hljs-string"><span class="hljs-string">"rating_avg"</span></span> : { <span class="hljs-string"><span class="hljs-string">"value"</span></span> : 10.0 } }, { <span class="hljs-string"><span class="hljs-string">"key"</span></span> : <span class="hljs-string"><span class="hljs-string">"james"</span></span>, <span class="hljs-string"><span class="hljs-string">"doc_count"</span></span> : 1, <span class="hljs-string"><span class="hljs-string">"rating_avg"</span></span> : { <span class="hljs-string"><span class="hljs-string">"value"</span></span> : 9.0 } }, { <span class="hljs-string"><span class="hljs-string">"key"</span></span> : <span class="hljs-string"><span class="hljs-string">"bingo"</span></span>, <span class="hljs-string"><span class="hljs-string">"doc_count"</span></span> : 1, <span class="hljs-string"><span class="hljs-string">"rating_avg"</span></span> : { <span class="hljs-string"><span class="hljs-string">"value"</span></span> : 8.5 } }, ... {} ... { <span class="hljs-string"><span class="hljs-string">"key"</span></span> : <span class="hljs-string"><span class="hljs-string">"duke"</span></span>, <span class="hljs-string"><span class="hljs-string">"doc_count"</span></span> : 1, <span class="hljs-string"><span class="hljs-string">"rating_avg"</span></span> : { <span class="hljs-string"><span class="hljs-string">"value"</span></span> : 3.5 } }, { <span class="hljs-string"><span class="hljs-string">"key"</span></span> : <span class="hljs-string"><span class="hljs-string">"bob"</span></span>, <span class="hljs-string"><span class="hljs-string">"doc_count"</span></span> : 1, <span class="hljs-string"><span class="hljs-string">"rating_avg"</span></span> : { <span class="hljs-string"><span class="hljs-string">"value"</span></span> : 3.5 } } ] } } }</code> </pre><br><br>  Another great feature of aggregates is the use of <code>"script"</code> .  For example: <br><pre> <code class="bash hljs">curl -XPOST <span class="hljs-string"><span class="hljs-string">"http://localhost:9200/sports/athlete/_search?pretty"</span></span> -d<span class="hljs-string"><span class="hljs-string">' { "size": 0, "aggregations": { "age_ranges": { "range": { "script": "DateTime.now().year - doc[\"birthdate\"].date.year", "ranges": [ { "from": 22, "to": 25 } ] } } } }'</span></span></code> </pre><br>  <b>Starting with version 1.2.0, script execution is disabled by default.</b>  You can <a href="http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/modules-scripting.html">turn it on</a> , provided that users do not have direct access to ES (I hope this is so, otherwise I advise you to immediately close this access for the sake of your data security). <br><br><h4>  Aggregation in all its glory or something more complicated </h4><br><br>  Let's find all the athletes who are within a radius of 20 miles from the point <code>"46.12,-68.55"</code> <br>  Group them by sport and display detailed statistics on the rating of athletes in this sport. <br>  It sounds good, and here is an example. <br><pre> <code class="bash hljs">curl -XPOST <span class="hljs-string"><span class="hljs-string">"http://localhost:9200/sports/athlete/_search?pretty"</span></span> -d<span class="hljs-string"><span class="hljs-string">' { "size": 0, "aggregations": { "baseball_player_ring": { "geo_distance": { "field": "location", "origin": "46.12,-68.55", "unit": "mi", "ranges": [ { "from": 0, "to": 20 } ] }, "aggregations": { "sport": { "terms": { "field": "sport" }, "aggregations": { "rating_stats": { "stats": { "field": "rating" } } } } } } } } }'</span></span></code> </pre><br><br>  Answer: <br><pre> <code class="bash hljs">{ ... <span class="hljs-string"><span class="hljs-string">"aggregations"</span></span> : { <span class="hljs-string"><span class="hljs-string">"baseball_player_ring"</span></span> : { <span class="hljs-string"><span class="hljs-string">"buckets"</span></span> : [ { <span class="hljs-string"><span class="hljs-string">"key"</span></span> : <span class="hljs-string"><span class="hljs-string">"*-20.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"from"</span></span> : 0.0, <span class="hljs-string"><span class="hljs-string">"to"</span></span> : 20.0, <span class="hljs-string"><span class="hljs-string">"doc_count"</span></span> : 13, <span class="hljs-string"><span class="hljs-string">"sport"</span></span> : { <span class="hljs-string"><span class="hljs-string">"buckets"</span></span> : [ { <span class="hljs-string"><span class="hljs-string">"key"</span></span> : <span class="hljs-string"><span class="hljs-string">"baseball"</span></span>, <span class="hljs-string"><span class="hljs-string">"doc_count"</span></span> : 8, <span class="hljs-string"><span class="hljs-string">"rating_stats"</span></span> : { <span class="hljs-string"><span class="hljs-string">"count"</span></span> : 14, <span class="hljs-string"><span class="hljs-string">"min"</span></span> : 2.0, <span class="hljs-string"><span class="hljs-string">"max"</span></span> : 5.0, <span class="hljs-string"><span class="hljs-string">"avg"</span></span> : 3.357142857142857, <span class="hljs-string"><span class="hljs-string">"sum"</span></span> : 47.0 } }, { <span class="hljs-string"><span class="hljs-string">"key"</span></span> : <span class="hljs-string"><span class="hljs-string">"golf"</span></span>, <span class="hljs-string"><span class="hljs-string">"doc_count"</span></span> : 2, <span class="hljs-string"><span class="hljs-string">"rating_stats"</span></span> : { <span class="hljs-string"><span class="hljs-string">"count"</span></span> : 4, <span class="hljs-string"><span class="hljs-string">"min"</span></span> : 4.0, <span class="hljs-string"><span class="hljs-string">"max"</span></span> : 10.0, <span class="hljs-string"><span class="hljs-string">"avg"</span></span> : 6.75, <span class="hljs-string"><span class="hljs-string">"sum"</span></span> : 27.0 } }, { <span class="hljs-string"><span class="hljs-string">"key"</span></span> : <span class="hljs-string"><span class="hljs-string">"basketball"</span></span>, <span class="hljs-string"><span class="hljs-string">"doc_count"</span></span> : 1, <span class="hljs-string"><span class="hljs-string">"rating_stats"</span></span> : { <span class="hljs-string"><span class="hljs-string">"count"</span></span> : 2, <span class="hljs-string"><span class="hljs-string">"min"</span></span> : 8.0, <span class="hljs-string"><span class="hljs-string">"max"</span></span> : 10.0, <span class="hljs-string"><span class="hljs-string">"avg"</span></span> : 9.0, <span class="hljs-string"><span class="hljs-string">"sum"</span></span> : 18.0 } }, { <span class="hljs-string"><span class="hljs-string">"key"</span></span> : <span class="hljs-string"><span class="hljs-string">"football"</span></span>, <span class="hljs-string"><span class="hljs-string">"doc_count"</span></span> : 1, <span class="hljs-string"><span class="hljs-string">"rating_stats"</span></span> : { <span class="hljs-string"><span class="hljs-string">"count"</span></span> : 1, <span class="hljs-string"><span class="hljs-string">"min"</span></span> : 10.0, <span class="hljs-string"><span class="hljs-string">"max"</span></span> : 10.0, <span class="hljs-string"><span class="hljs-string">"avg"</span></span> : 10.0, <span class="hljs-string"><span class="hljs-string">"sum"</span></span> : 10.0 } }, { <span class="hljs-string"><span class="hljs-string">"key"</span></span> : <span class="hljs-string"><span class="hljs-string">"hockey"</span></span>, <span class="hljs-string"><span class="hljs-string">"doc_count"</span></span> : 1, <span class="hljs-string"><span class="hljs-string">"rating_stats"</span></span> : { <span class="hljs-string"><span class="hljs-string">"count"</span></span> : 1, <span class="hljs-string"><span class="hljs-string">"min"</span></span> : 10.0, <span class="hljs-string"><span class="hljs-string">"max"</span></span> : 10.0, <span class="hljs-string"><span class="hljs-string">"avg"</span></span> : 10.0, <span class="hljs-string"><span class="hljs-string">"sum"</span></span> : 10.0 } } ] } } ] } } }</code> </pre><br><br><h4>  Conclusion </h4><br>  I hope I was able to convey the general possibilities of this beautiful module.  Anyone who is interested in this topic, I advise you to read the entire list of filters on <a href="http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/search-aggregations.html">this link</a> . <br>  Glad any useful comments and additions on the topic. <br><br>  You can also read my previous article on ES - <a href="http://habrahabr.ru/company/smartprogress/blog/226749/">ElasticSearch and search vice versa.</a>  <a href="http://habrahabr.ru/company/smartprogress/blog/226749/">Percolate API</a> <br>  And take part in the voting at the bottom of the article. <br><br> <a href="https://smartprogress.do/"><img src="https://habrastorage.org/getpro/habr/post_images/52b/7d4/88b/52b7d488b26969ab5e60319395742893.jpg" align="left"><br><br></a>  <a href="https://smartprogress.do/">- Achievements of goals</a> <br></div><p>Source: <a href="https://habr.com/ru/post/227131/">https://habr.com/ru/post/227131/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../227111/index.html">HP Vertica, Data Warehouse, Big Data Design</a></li>
<li><a href="../227117/index.html">Amazon attracts application developers for Fire Phone</a></li>
<li><a href="../227119/index.html">Lisp's mini-interpreter in Python</a></li>
<li><a href="../227127/index.html">The mapping of the gravitational forces of the solar system</a></li>
<li><a href="../227129/index.html">Using Caching Infrastructure in ASP.NET</a></li>
<li><a href="../227133/index.html">In Syktyvkar pizza delivered oktokopterami</a></li>
<li><a href="../227135/index.html">Digest of articles on data analysis No. 3 (June 09, 2014 ‚Äî June 22, 2014)</a></li>
<li><a href="../227137/index.html">Wall out of the box: DARPA placed an order for a self-erecting obstacle</a></li>
<li><a href="../227145/index.html">One hundred 3D printers appeared in schools, as it were</a></li>
<li><a href="../227149/index.html">Pebble smart watch. Personal experience using</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>