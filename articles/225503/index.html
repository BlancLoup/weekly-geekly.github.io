<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The use of two-factor authentication when connecting to 1C</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Many of the clients of our company are very concerned about the security of access to 1C via the Internet. This situation is especially aggravated by ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The use of two-factor authentication when connecting to 1C</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/32c/961/d57/32c961d578ecf4e5526de40d6e1f5579.jpg" alt=" " title="Two-factor authentication"><br><br>  Many of the clients of our company are very concerned about the security of access to 1C via the Internet.  This situation is especially aggravated by the situation when accountants store their password on a sticker stuck to a monitor.  In this scenario, the introduction of additional requirements for the complexity of the password and its regular weather changes does not. <br><br>  To maximize the exclusion of the human factor, I was given the task of organizing two-factor authentication for web access to 1C.  Below is a detailed description of how this works. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The first authentication factor is the username and password.  As the second authentication factor, we will use one-time passwords sent as SMS messages to the registered user‚Äôs phone.  Using SMS as a transport is a fairly convenient and common solution. <br><br>  Along with SMS, we tested the use of tokens and the option of receiving a password via e-mail.  Tokens are not the most convenient solution, since you have to buy a separate token for each user and install additional software on users' computers.  The option of receiving passwords by e-mail was no longer due to the fact that not all of our users have access to e-mail at the time when they want to log in to 1C.  In the end, they decided to use SMS as the most simple and convenient solution for receiving one-time passwords. <br><br>  The result was this.  From the user's point of view, the scheme of work looks like this: <br><br>  Access to 1C is provided by a direct link to the database.  When you go directly to the login window, it requires a username and password.  At this step, the existence of the given user is checked and he has the right to access the site. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fc2/d26/3ee/fc2d263ee0b916d8583bf799e7b10f4d.png" alt=" " title="User Authorization"><br><br>  After that, the authorized user is sent a code by SMS. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8aa/00c/5a5/8aa00c5a5099421b138d9a380a517a92.png" alt="SMS " title="SMS code"><br><br>  Next, the user must enter the received six-digit numeric code.  Time to enter the code - 3 minutes. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/86d/c92/48c/86dc9248c739a653151ef132f2e390a8.png" alt="  " title="The second authentication factor"><br><br>  After entering the code, the user is redirected to the site, where he can log in to 1C. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c10/051/90d/c1005190d06342ae13f7bf046eee6cfb.png" alt="   1" title="Authorization window in 1C"><br><br>  The boot screen ... a little bit more :) <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d0b/07c/c58/d0b07cc5897283a25067db9b4d5f53a7.png" alt=" 1" title="1C load"><br><br>  Done!  You can get to work! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a1c/55d/990/a1c55d99089470dcacce7cdfc9e03398.png" alt="1" title="1C"><br><br>  Schematically, a two-factor authentication solution is the following: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/254/438/bef/254438bef025c9a6763c74261d47aa29.png" alt="   " title="Two-factor authentication solution scheme"><br><br>  Consider the algorithm of the system: <br><br><ol><li>  The user connects via the received link to the proxy server, enters his login and password. </li><li>  UAG sends the login / password to the Swivel server via the RADIUS protocol.  The RADIUS protocol is an authentication protocol that allows different systems to authenticate access to their resources. </li><li>  Swivel checks for the presence of such a user, the correctness of the password, and informs UAG about the success / failure of the first stage of authentication. </li><li>  If the first stage is successful, Swivel sends a one-time code through the SMS gateway. </li><li>  The user receives the code on his phone and enters it on the proxy server. </li><li>  The UAG sends the code to the Swivel server and receives an answer about the success / failure of the second authentication stage. </li><li>  If the code is successfully entered, the user gets access to the 1C Web server. </li></ol><br>  Of all the variety of servers depicted in the diagram, the most interesting, in my opinion, is the two-factor authentication server Swivel.  It supports a variety of authentication methods, including a mobile application, SMS, OATH tokens and a phone call, as well as strong authentication by displaying images in the browser.  In our implementation, one-time passwords are sent via SMS.  In addition, Swivel software integrates with a large number of different applications and servers, has an extensive knowledge base on setting up and solving possible problems. <br><br>  In the process of choosing a product for two-step authentication along with Swivel, I happened to consider RSA and Aladdin variants.  RSA is a rather expensive product with a wide range of possibilities, which for our task is like shooting a gun on sparrows.  Aladdin and Swivel are similar in functionality and are in the same price range.  The main difference between Swivel is that Swivel has a permanent license, Aladdin has a one-year or two-year license.  In the end, I stopped at the server and software Swivel.  Here are some screenshots of the server management console: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dac/f29/fa8/dacf29fa8b993860e1ef72ee0b7f4033.png" alt=" " title="Status window"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/02b/435/f32/02b435f323279011ec66e767c4e11c57.png" alt="   " title="Manage two-factor authentication settings"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/fd4/9da/68a/fd49da68ab369b9c114d402c24b96bf0.png" alt="    (Active Directory)" title="Connecting the repository with users (Active Directory)"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/e54/ee2/8de/e54ee28de63e1f04cac8ed94ef5bb11b.png" alt=" " title="user management"><br><br>  I hope that I have revealed the solution as fully as possible, write my questions. <br><br>  Source: <a href="http://www.it-grad.ru/tsentr_kompetentsii/blog/6/">IT-GRAD</a> </div><p>Source: <a href="https://habr.com/ru/post/225503/">https://habr.com/ru/post/225503/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../225487/index.html">High-frequency trading and everything you need to know about it. Part 2 (final)</a></li>
<li><a href="../225493/index.html">Phyode W / Me: sports bracelet with "health indicator"</a></li>
<li><a href="../225495/index.html">DevCon 2014: how it was (+ a lot of photos)</a></li>
<li><a href="../225499/index.html">Writing and processing music with Haskell</a></li>
<li><a href="../225501/index.html">Finally, full version control for designers!</a></li>
<li><a href="../225507/index.html">Comparing D and C ++ and Rust with examples</a></li>
<li><a href="../225509/index.html">Know-how of the new Real Estate app for Android</a></li>
<li><a href="../225513/index.html">Own Node.js hosting on VPS</a></li>
<li><a href="../225515/index.html">Witty method of making elastic conductors with a sewing machine</a></li>
<li><a href="../225517/index.html">Creating a game on the engine Sprite Kit (Part 1)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>