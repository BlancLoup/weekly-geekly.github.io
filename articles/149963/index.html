<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Silence should be! or remove clicks in Ubuntu when nothing is playing</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="- I am an amlet, and I am a windfall :( 
 - Hi, amlet * applause * 

 In general, without long introductions - a short history of solving the problem ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Silence should be! or remove clicks in Ubuntu when nothing is playing</h1><div class="post__text post__text-html js-mediator-article">  <i>- I am an amlet, and I am a windfall :(</i> <i><br></i>  <i>- Hi, amlet * applause *</i> <br><br>  In general, without long introductions - a short history of solving the problem of the appearance of clicks, when nothing is playing, taking into account the <s>wind</s> , that I am a Windows visitor who wants and tries to switch to Linux.  Maybe someone will come in handy.  And here also the community <s>throws rotten tomatoes to</s> tell something: you look and I will become smarter;) <br><a name="habracut"></a><br><br>  I started my journey with Ubuntu.  <s>Wait - it's too early to throw</s> Well, because to me this world is known only from <s>fairy tales of</s> articles, as on Linux everything is rosy and healthy, but the instinct of self-preservation does not allow falling into tin of the Gentoo or Slackware type. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So, I put on my brand-new, but obviously outdated, Samsung NP350U2B (yes, I also sold Samsung) Ubuntu latest version, and began to live and live, but wonder, wait for everything to become zashis, everything will go away, world peace, and golden rain will fall from the sky ... Yes, Ubunt has given me some goodies compared to the same Windows 7, which is right there on this laptop - the most noticeable to the eye: this is a smaller number of brakes - but happiness, as you know in trifles (Steve, hello): one annoying thing came to light, which, under the hot hand, was also terribly beaten out  ... <br><br>  So, a brief description of the problem: when there is no sound in the headphones, clicks start, although it should be just quiet. <br><br>  <b>UPD:</b> Here is a solution that is not fully understood.  The final solution to the problem at the end of the post. <br><br>  A feature of the problem was that if you turn on the video (for example, vlc) and pause - there were no clicks.  I ‚Äúsolved‚Äù the problem with such a nasty hack for several months.  Periodic search for a more constructive solution to the problem constantly led to similar <a href="http://ubuntuforums.org/showpost.php%3Fp%3D8225200%26postcount%3D5">advice</a> , which unfortunately <s>did not really work at</s> all :( <br><br>  And then I sat down on Saturday evening to listen to the radio, and since the issue was non-gikovsky, I decided to increase my local geekiness from nothing to do and finally to solve this problem.  I threw the call into the chat (well, there were geeks right there, it seemed like they gathered!).  One friend responded - Sergey K., who pointed to the file: <br><br>  / sys / module / snd_hda_intel / parameters / power_save <br><br>  and that it is necessary to change 1 to 0.  We talked, he confirmed my suspicions that it was somehow connected with saving the battery, etc. He also said something about the fact that after rebooting the value in this file will return to normal, therefore I wrote some tricky script that during the download each time edits this file. <br><br>  Well, I'm not so smart.  And this is not exactly the way I expected.  Although many thanks to him for the tip.  It was this file that became the starting point of my googling and information search in man, in order to find the solution to the problem.  And here it is a cherished swallow, which led to a final solution to the problem: <a href="https://help.ubuntu.com/community/PowerManagement/ReducedPower">PowerManagement / ReducedPower</a> <br><br>  After reading diagonally (the skill acquired during the accelerated reading of license agreements on Windows), my attention was drawn to the path: <br><br>  /usr/lib/pm-utils/power.d/ <br><br>  looked in: <br><br>  $ ls /usr/lib/pm-utils/power.d/ <br>  95hdparm-apm <br>  anacron <br>  disable_wol <br>  intel-audio-powersave <br>  laptop-mode <br>  pci_devices <br>  pcie_aspm <br>  sata_alpm <br>  sched-powersave <br>  usb_bluetooth <br>  wireless <br>  xfs_buffer <br><br>  And what is this <i>intel-audio-powersave</i> ? <br><br>  $ vim /usr/lib/pm-utils/power.d/intel-audio-powersave <br><br>  Listing (not very big): <br><br>  #! / bin / sh <br><br>  # Allow the audio driver to sleep <br>  # once the driver has been inactive for a second. <br>  # This hook should be used with the h97 codecs. <br><br>  INTEL_AUDIO_POWERSAVE = $ {INTEL_AUDIO_POWERSAVE: -true} <br><br>  help () { <br>  cat &lt;&lt; EOF <br>  - $ 0: Intel Audio powersave parameters. <br><br>  This hook has 1 tuneable parameter. <br>  INTEL_AUDIO_POWERSAVE = controls whether to save power on battery. <br>  Defaults to true. <br><br>  EOF <br>  } <br><br>  audio_powersave () { <br>  ["$ INTEL_AUDIO_POWERSAVE" = "true"] ||  exit $ NA <br>  for dev in / sys / module / snd_ *;  do <br>  [-w "$ dev / parameters / power_save"] ||  continue <br>  printf "Setting power savings for% s to% d ..." "$ {dev ## * /}" "$ 1" <br>  echo $ 1&gt; "$ dev / parameters / power_save" &amp;&amp; echo Done.  ||  echo Failed. <br>  done <br>  } <br><br>  case $ 1 in <br>  true) audio_powersave 1 ;; <br>  false) audio_powersave 0 ;; <br>  help) help ;; <br>  *) exit $ NA <br>  esac <br><br>  exit 0 <br><br>  After a little deliberation and pretending to be an eye, the method of scientific poking <s>was enjoyed</s> and it was decided to fix the line as a result: <br><br>  INTEL_AUDIO_POWERSAVE = $ {INTEL_AUDIO_POWERSAVE: -true} <br><br>  on <br><br>  INTEL_AUDIO_POWERSAVE = $ {INTEL_AUDIO_POWERSAVE: -false} <br><br>  Then restart, wait for the end of the download and ... lo and behold: clicks do not seem to be heard!  And what do we have in the above-mentioned file from Sergey K .: <br><br>  $ cat / sys / module / snd_hda_intel / parameters / power_save <br>  0 <br><br>  Joy, fun and total orgy from the exorbitant joy and own coolness is attached :) <br><br>  <b>UPD: I</b> achieved what I achieved.  The first tomato was in the apple.  On a <a href="http://habrahabr.ru/post/149963/%3Freply_to%3D5076464">tip from</a> <a href="https://habrahabr.ru/users/manitou/" class="user_link">Manitou</a> you need to do: <br><br>  $ echo "INTEL_AUDIO_POWERSAVE = false"&gt; /etc/pm/config.d/snd_hda_intel <br><br>  after reboot: <br><br>  $ cat / sys / module / snd_hda_intel / parameters / power_save <br>  0 </div><p>Source: <a href="https://habr.com/ru/post/149963/">https://habr.com/ru/post/149963/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../149956/index.html">Oracle shell call</a></li>
<li><a href="../149958/index.html">AppCode 1.6: what's new?</a></li>
<li><a href="../149959/index.html">The project "Radioastron"</a></li>
<li><a href="../149960/index.html">ICS update for Xperia 2011 smartphones</a></li>
<li><a href="../149961/index.html">Updated Windows Azure Training Kit: 41 labs and 35 presentations</a></li>
<li><a href="../149964/index.html">People who solve the dispute between Apple and Samsung</a></li>
<li><a href="../149966/index.html">EPIC Fail: While China will be introducing 4G in Ukrainian schools, the local 3G operator cannot find a buyer</a></li>
<li><a href="../149967/index.html">Manage power and ‚Äúreturn‚Äù Start in Windows 8</a></li>
<li><a href="../149968/index.html">Hackers from Anonymous on guard of morality of Russians</a></li>
<li><a href="../149969/index.html">Does it really matter whether Samsung Apple copies or not?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>