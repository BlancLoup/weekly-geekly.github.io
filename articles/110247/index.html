<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We write the first application for Android</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In any case, the most difficult is the beginning. It is often hard to get into the context, which I also encountered when I decided to develop my firs...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We write the first application for Android</h1><div class="post__text post__text-html js-mediator-article">  In any case, the most difficult is the beginning.  It is often hard to get into the context, which I also encountered when I decided to develop my first Android application.  This article is for those who want to start, but do not know where. <br><br>  The article will affect the entire application development cycle.  Together we will write a simple one-screen Tic-Tac-Toe game (on Android, this is called Activity). <br><br>  The lack of development experience in the Java language should not be an obstacle in the development of Android.  So, the examples will not use Java-specific constructs (or they will be minimized as much as possible).  If you are writing, for example, in PHP and are familiar with the fundamental principles in software development, this article will be most useful to you.  In turn, since I am not an expert on Java development, it can be assumed that the source code does not pretend to the label ‚Äúbest Java development practices‚Äù. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br><h2>  Install the necessary programs and utilities </h2><br><br>  I will list the necessary tools.  Their 3: <br><ol><li>  <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">JDK ‚Äî Java Development Kit</a> ; </li><li>  <a href="">Android SDK and AVD Manager - a set of utilities for development + emulator</a> ; </li><li>  IDE with Android development support: <br><ul><li>  Eclipse + ADT plugin; </li><li>  IntelliJ IDEA Community Edition; </li><li>  Netbeans + nbandroid plugin; </li></ul><br></li></ol><br><br>  Utilities are installed in the order defined above.  There is no point in putting all the listed IDEs (unless you are having difficulty choosing the right one).  I use IntelliJ IDEA Community Edition, one of the most advanced IDE for Java at the moment. <br><br><h2>  Virtual device launch </h2><br>  By running AVD Manager and installing additional packages (SDK of different versions), you can start creating a virtual device with the necessary parameters.  Understanding the interface should be easy. <br><br> <a href=""><img height="370" src="https://habrastorage.org/getpro/habr/post_images/7b3/674/576/7b36745761349181279384023b80f45f.jpg" width="640"></a> <br><br><h3>  Device list </h3><br><br> <a href=""><img height="369" src="https://habrastorage.org/getpro/habr/post_images/5d1/96f/911/5d196f9110b100dbbada263da4cbfec1.jpg" width="640"></a> <br><br><h2>  Creating a project </h2><br>  I always can't wait to get to work, minimizing the preparatory activities, which include the creation of a project in the IDE, especially when the project is educational and does not pretend to production. <br><br>  So, File-&gt; New Project: <br><br><br><br> <a href=""><img height="552" src="https://habrastorage.org/getpro/habr/post_images/06f/ce2/d68/06fce2d686b7334718e3974e5b5f7096.jpg" width="640"></a> <br><br> <a href=""><img height="552" src="https://habrastorage.org/getpro/habr/post_images/46f/f2b/755/46ff2b7550308e887c13f34eb5eaace4.jpg" width="640"></a> <br><br> <a href=""><img height="552" src="https://habrastorage.org/getpro/habr/post_images/463/f94/083/463f94083989c46ed9164bbfbcc2794d.jpg" width="640"></a> <br><br> <a href=""><img height="552" src="https://habrastorage.org/getpro/habr/post_images/796/429/657/7964296573ea0a9d16428be89ba45d5a.jpg" width="640"></a> <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/714/727/692/7147276924513ddf062012b7834606f5.jpg"></a> <br><br> <a href=""><img height="552" src="https://habrastorage.org/getpro/habr/post_images/245/8c0/ad3/2458c0ad3a957d9f7956fa639bf3f5af.jpg" width="640"></a> <br><br> <a href=""><img height="465" src="https://habrastorage.org/getpro/habr/post_images/213/bba/cd6/213bbacd60c2a85166d5b84c8edf2202.jpg" width="640"></a> <br><br>  By pressing the F6 button, the project will be assembled, compiled and run on a virtual device. <br><br><h2>  Project structure </h2><br>  The previous screenshot shows the structure of the project.  Since we are pursuing purely practical goals in this article, we will focus only on those folders that we will use in the process.  These directories are <b>gen</b> , <b>res,</b> and <b>src</b> . <br><br>  The <b>gen</b> folder contains files that are generated automatically when building a project.  You can not change them manually. <br><br>  The res folder is intended for storing resources, such as pictures, texts (including translations), default values, layouts. <br><br>  <b>src</b> is the folder where the main part of the work will take place, because the source files of our program are stored here. <br><br><h2>  First lines </h2><br><br>  As soon as an Activity is created (application screen), the onCreate () method is called.  IDE filled it with 2 lines: <br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState); setContentView(R.layout.main);</code> </pre> <br>  The setContentView method (equivalent to this.setContentView) sets the xml layout for the current screen.  Further, xml-layouts will be called ‚Äúlayout‚Äù, and screens - ‚ÄúActivity‚Äù.  Layout in the application will be the following: <br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TableLayout</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:android</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"fill_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"fill_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/main_l"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:gravity</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"center"</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TableLayout</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  TableLayout is ideal for this application.  Id can be assigned to any resource.  In this case, TableLayout is assigned id = main_l.  Using the findViewById () method, you can access the view: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> TableLayout layout; <span class="hljs-comment"><span class="hljs-comment">//    KrestikinolikiActivity public void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.main); layout = (TableLayout) findViewById(R.id.main_l); buildGameField(); }</span></span></code> </pre><br><br>  Now you need to implement the buildGameField () method.  For this you need to generate a field in the form of a matrix.  This will be done by the Game class.  First you need to create the Square class for the cells and the Player class, whose objects will fill these cells. <br><br><h3>  Square.java </h3><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.example; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Square</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Player player = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fill</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Player player)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.player = player; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isFilled</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (player != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Player </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getPlayer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> player; } }</code> </pre><br><br><h3>  Player.java </h3><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.example; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Player</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String name; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Player</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String name)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = name; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> CharSequence </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (CharSequence) name; } }</code> </pre><br><br>  All classes of our application are in the src folder. <br><br><h3>  Game.java </h3><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.example; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Game</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** *  */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Square[][] field; <span class="hljs-comment"><span class="hljs-comment">/** *  * */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Game</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ field = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Square[<span class="hljs-number"><span class="hljs-number">3</span></span>][<span class="hljs-number"><span class="hljs-number">3</span></span>]; squareCount = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">//   for (int i = 0, l = field.length; i &lt; l; i++) { for (int j = 0, l2 = field[i].length; j &lt; l2; j++) { field[i][j] = new Square(); squareCount++; } } } public Square[][] getField() { return field; } }</span></span></code> </pre><br><br>  Initialization of Game in the KrestikinolikiActivity designer. <br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">KrestikinolikiActivity</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ game = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Game(); game.start(); <span class="hljs-comment"><span class="hljs-comment">//    }</span></span></code> </pre><br><br>  The buildGameField () method of the KrestikinolikiActivity class.  It dynamically adds rows and columns to the table (playing field): <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Button[][] buttons = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Button[<span class="hljs-number"><span class="hljs-number">3</span></span>][<span class="hljs-number"><span class="hljs-number">3</span></span>]; <span class="hljs-comment"><span class="hljs-comment">//(....) private void buildGameField() { Square[][] field = game.getField(); for (int i = 0, lenI = field.length; i &lt; lenI; i++ ) { TableRow row = new TableRow(this); //    for (int j = 0, lenJ = field[i].length; j &lt; lenJ; j++) { Button button = new Button(this); buttons[i][j] = button; button.setOnClickListener(new Listener(i, j)); //  ,      row.addView(button, new TableRow.LayoutParams(TableRow.LayoutParams.WRAP_CONTENT, TableRow.LayoutParams.WRAP_CONTENT)); //      button.setWidth(107); button.setHeight(107); } layout.addView(row, new TableLayout.LayoutParams(TableLayout.LayoutParams.WRAP_CONTENT, TableLayout.LayoutParams.WRAP_CONTENT)); //     } }</span></span></code> </pre><br>  In line 8, an object is created that implements the View.OnClickListener interface.  Create a nested class Listener.  It will only be visible from KrestikinolikiActivity. <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Listener</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnClickListener</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> y = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Listener</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> y)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.x = x; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.y = y; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view)</span></span></span><span class="hljs-function"> </span></span>{ Button button = (Button) view; } }</code> </pre><br>  It remains to implement the logic of the game. <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Game</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** *  */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Player[] players; <span class="hljs-comment"><span class="hljs-comment">/** *  */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Square[][] field; <span class="hljs-comment"><span class="hljs-comment">/** *   ? */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> started; <span class="hljs-comment"><span class="hljs-comment">/** *   */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Player activePlayer; <span class="hljs-comment"><span class="hljs-comment">/** *     */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> filled; <span class="hljs-comment"><span class="hljs-comment">/** *   */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> squareCount; <span class="hljs-comment"><span class="hljs-comment">/** *  * */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Game</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ field = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Square[<span class="hljs-number"><span class="hljs-number">3</span></span>][<span class="hljs-number"><span class="hljs-number">3</span></span>]; squareCount = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">//   for (int i = 0, l = field.length; i &lt; l; i++) { for (int j = 0, l2 = field[i].length; j &lt; l2; j++) { field[i][j] = new Square(); squareCount++; } } players = new Player[2]; started = false; activePlayer = null; filled = 0; } public void start() { resetPlayers(); started = true; } private void resetPlayers() { players[0] = new Player("X"); players[1] = new Player("O"); setCurrentActivePlayer(players[0]); } public Square[][] getField() { return field; } private void setCurrentActivePlayer(Player player) { activePlayer = player; } public boolean makeTurn(int x, int y) { if (field[x][y].isFilled()) { return false; } field[x][y].fill(getCurrentActivePlayer()); filled++; switchPlayers(); return true; } private void switchPlayers() { activePlayer = (activePlayer == players[0]) ? players[1] : players[0]; } public Player getCurrentActivePlayer() { return activePlayer; } public boolean isFieldFilled() { return squareCount == filled; } public void reset() { resetField(); resetPlayers(); } private void resetField() { for (int i = 0, l = field.length; i &lt; l; i++) { for (int j = 0, l2 = field[i].length; j &lt; l2; j++) { field[i][j].fill(null); } } filled = 0; } }</span></span></code> </pre><br><h2>  Determination of the winner </h2><br>  K. O. suggests that the one who will line X or O in a line with a length equal to the length of the field vertically, or horizontally, or diagonally, draws in tic-tac-toe.  The first thought that comes to mind is to write methods for each case.  I think in this case, the Chain of Responsobility pattern will work well.  Define the interface <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.example; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WinnerCheckerInterface</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Player </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkWinner</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; }</code> </pre><br>  Since the Game is charged with identifying the winner, it implements this interface.  It is time to create virtual "linesmen", each of which will check their side.  All of them implement the WinnerCheckerInterface interface. <br><h3>  WinnerCheckerHorizontal.java </h3><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.example; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WinnerCheckerHorizontal</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WinnerCheckerInterface</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Game game; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WinnerCheckerHorizontal</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Game game)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.game = game; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Player </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkWinner</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Square[][] field = game.getField(); Player currPlayer; Player lastPlayer = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>, len = field.length; i &lt; len; i++) { lastPlayer = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> successCounter = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>, len2 = field[i].length; j &lt; len2; j++) { currPlayer = field[i][j].getPlayer(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (currPlayer == lastPlayer &amp;&amp; (currPlayer != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; lastPlayer !=<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>)) { successCounter++; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (successCounter == len2) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> currPlayer; } } lastPlayer = currPlayer; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } }</code> </pre><br><h3>  WinnerCheckerVertical.java </h3><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.example; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WinnerCheckerVertical</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WinnerCheckerInterface</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Game game; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WinnerCheckerVertical</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Game game)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.game = game; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Player </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkWinner</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Square[][] field = game.getField(); Player currPlayer; Player lastPlayer = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>, len = field.length; i &lt; len; i++) { lastPlayer = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> successCounter = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>, len2 = field[i].length; j &lt; len2; j++) { currPlayer = field[j][i].getPlayer(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (currPlayer == lastPlayer &amp;&amp; (currPlayer != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; lastPlayer !=<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>)) { successCounter++; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (successCounter == len2) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> currPlayer; } } lastPlayer = currPlayer; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } }</code> </pre><br><h3>  WinnerCheckerDiagonalLeft.java </h3><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.example; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WinnerCheckerDiagonalLeft</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WinnerCheckerInterface</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Game game; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WinnerCheckerDiagonalLeft</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Game game)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.game = game; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Player </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkWinner</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Square[][] field = game.getField(); Player currPlayer; Player lastPlayer = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> successCounter = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>, len = field.length; i &lt; len; i++) { currPlayer = field[i][i].getPlayer(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (currPlayer != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (lastPlayer == currPlayer) { successCounter++; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (successCounter == len) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> currPlayer; } } } lastPlayer = currPlayer; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } }</code> </pre><br><h3>  WinnerCheckerDiagonalRight.java </h3><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.example; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WinnerCheckerDiagonalRight</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WinnerCheckerInterface</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Game game; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WinnerCheckerDiagonalRight</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Game game)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.game = game; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Player </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkWinner</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Square[][] field = game.getField(); Player currPlayer; Player lastPlayer = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> successCounter = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>, len = field.length; i &lt; len; i++) { currPlayer = field[i][len - (i + <span class="hljs-number"><span class="hljs-number">1</span></span>)].getPlayer(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (currPlayer != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (lastPlayer == currPlayer) { successCounter++; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (successCounter == len) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> currPlayer; } } } lastPlayer = currPlayer; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } }</code> </pre><br>  We initialize them in the Game constructor: <br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//(....) /** * "" =).      , *    */ private WinnerCheckerInterface[] winnerCheckers; //(....) public Game() { //(....) winnerCheckers = new WinnerCheckerInterface[4]; winnerCheckers[0] = new WinnerCheckerHorizontal(this); winnerCheckers[1] = new WinnerCheckerVertical(this); winnerCheckers[2] = new WinnerCheckerDiagonalLeft(this); winnerCheckers[3] = new WinnerCheckerDiagonalRight(this); //(....) }</span></span></code> </pre><br>  Implementation of checkWinner (): <br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Player </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkWinner</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (WinnerCheckerInterface winChecker : winnerCheckers) { Player winner = winChecker.checkWinner(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (winner != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> winner; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; }</code> </pre><br>  Winner check after each move.  Add code to the onClick () method of the Listener class. <br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view)</span></span></span><span class="hljs-function"> </span></span>{ Button button = (Button) view; Game g = game; Player player = g.getCurrentActivePlayer(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (makeTurn(x, y)) { button.setText(player.getName()); } Player winner = g.checkWinner(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (winner != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { gameOver(winner); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (g.isFieldFilled()) { <span class="hljs-comment"><span class="hljs-comment">//  ,    gameOver(); } }</span></span></code> </pre><br>  The gameOver () method is implemented in 2 versions: <br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">gameOver</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Player player)</span></span></span><span class="hljs-function"> </span></span>{ CharSequence text = <span class="hljs-string"><span class="hljs-string">"Player \""</span></span> + player.getName() + <span class="hljs-string"><span class="hljs-string">"\" won!"</span></span>; Toast.makeText(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, text, Toast.LENGTH_SHORT).show(); game.reset(); refresh(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">gameOver</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ CharSequence text = <span class="hljs-string"><span class="hljs-string">"Draw"</span></span>; Toast.makeText(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, text, Toast.LENGTH_SHORT).show(); game.reset(); refresh(); }</code> </pre><br>  For Java, gameOver (Player player) and gameOver () are different methods.  Using the Toast.makeText Builder, you can quickly create and display a notification.  refresh () refreshes field state: <br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">refresh</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Square[][] field = game.getField(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>, len = field.length; i &lt; len; i++) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>, len2 = field[i].length; j &lt; len2; j++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (field[i][j].getPlayer() == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { buttons[i][j].setText(<span class="hljs-string"><span class="hljs-string">""</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { buttons[i][j].setText(field[i][j].getPlayer().getName()); } } } }</code> </pre><br><br>  Done!  I hope this article has helped you get started in the world of development under the Android OS.  Thank you for attention! <br><h2>  Video ready application </h2><br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/D9UzcjEopYc%3Ffeature%3Doembed&amp;xid=17259,15700019,15700043,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhjvYY7Y8_4RjTnSZe11ssVHgkA7SA" frameborder="0" allowfullscreen=""></iframe><br><br>  <a href="http://db.tt/LuS0bKy">Sources</a> <br><br>  PS: the article was published at the request of the commentators of <a href="http://habrahabr.ru/blogs/android_development/114580/">this post</a> . </div><p>Source: <a href="https://habr.com/ru/post/110247/">https://habr.com/ru/post/110247/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../110237/index.html">Launch fractal snowflakes on HTML5 Canvas</a></li>
<li><a href="../110238/index.html">Pirates Love Daisies</a></li>
<li><a href="../110239/index.html">Forced Update Outpost Security Suite Pro 7</a></li>
<li><a href="../110241/index.html">We bring down the ice from the Internet cable</a></li>
<li><a href="../110245/index.html">Exactly what is needed</a></li>
<li><a href="../110249/index.html">Steam now accepts Webmoney</a></li>
<li><a href="../110250/index.html">Practical advice for those who want to build a web community Part 3</a></li>
<li><a href="../110252/index.html">Privatbank on the wire</a></li>
<li><a href="../110253/index.html">The concept of touch control on the tablet</a></li>
<li><a href="../110254/index.html">Chords for stringed instruments: work on the bugs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>