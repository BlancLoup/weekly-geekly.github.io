<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>More about the evolution of racing cars</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, at Habr√©, I ran through a post that reminded me of such a funny and quite interesting thing as BoxCar2D ( Original , Post Version ), which I...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>More about the evolution of racing cars</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/7b4/3ff/420/7b43ff4207f32b670697c306938fc79e.png" alt="image"><br>  Recently, at Habr√©, I ran through a <a href="http://habrahabr.ru/post/184766/">post</a> that reminded me of such a funny and quite interesting thing as BoxCar2D ( <a href="http://www.boxcar2d.com/">Original</a> , <a href="http://rednuht.org/genetic_cars_2/">Post Version</a> ), which I first saw a couple of years ago, and which impressed me in some way.  And even then I noticed one <a href="http://lurkmore.to/%25D0%25A4%25D0%25B0%25D1%2582%25D0%25B0%25D0%25BB%25D1%258C%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25BD%25D0%25B5%25D0%25B4%25D0%25BE%25D1%2581%25D1%2582%25D0%25B0%25D1%2582%25D0%25BE%25D0%25BA">fatal flaw</a> in it (in short, it was not I who did it), but that time the hands did not reach its correction.  And now I decided to fix it. <br><br>  So, I uncovered Visual Studio and set to work. <br>  First of all, I just repeated the BoxCar2D functionality, namely: the fixed size of the population that lives its life and generates the next generation.  It was possible to play around with how complicated the track is with time, what contains the genome, and how the machines cross and mutate. <br><a name="habracut"></a><br>  I stopped at this option: each machine has its own genome, which contains information about each of the 8 peaks and each of the 4 potential wheels.  Also, a separate gene is responsible for what potential wheels grow in a typewriter in fact. <br>  When crossing each gene is taken randomly from one of the parents, and with a certain probability can mutate, having received a random value in a given range.  Especially in this regard, only the gene that determines which wheels grow and which ones do not.  In it, the mutation is that the state of one of the wheels can randomly change (it has grown - it has not grown), or the information about the wheels can move a bit to the right or left. <br><br>  After watching what happened, I came to the conclusion that it was a bit boring.  Natural selection here is pretty, sorry for the pun, artificial. <br>  And then the memory was obligingly pulled Richard Dawkins <a href="http://ru.wikipedia.org/wiki/%25D0%25A1%25D0%25BB%25D0%25B5%25D0%25BF%25D0%25BE%25D0%25B9_%25D1%2587%25D0%25B0%25D1%2581%25D0%25BE%25D0%25B2%25D1%2589%25D0%25B8%25D0%25BA">‚Äôs</a> book <a href="http://ru.wikipedia.org/wiki/%25D0%25A1%25D0%25BB%25D0%25B5%25D0%25BF%25D0%25BE%25D0%25B9_%25D1%2587%25D0%25B0%25D1%2581%25D0%25BE%25D0%25B2%25D1%2589%25D0%25B8%25D0%25BA">‚ÄúThe Blind Watchmaker‚Äù</a> from <s>wide trousers of</s> its depths, or rather, a <a href="http://www.youtube.com/watch%3Fv%3DmcAq9bmCeR0">video</a> illustrating the experience of recreating natural selection for a watch population (the ones that show time). <br>  In short, the way in which natural selection is modeled can be described as follows: there is a population of organisms, and after each certain period of time, three of them are randomly selected.  Of these three, the two fittest kill the third and produce a descendant, after which the new troika returns to the population. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Of course, I instantly felt the physical need to implement just such an algorithm. <br><br><h5>  What came of it </h5><br>  So, in an arbitrary way, we create a population of machines without wheels, launch into our world and stock up on popcorn. <br>  Let the primary proto-machines be completely without wheels. <br><img src="https://habrastorage.org/storage2/fd8/b00/c97/fd8b00c97677640841dba50ce585d3bd.png" alt="image"><br><br>  They begin their life journey and at some point freeze, being unable to move further along the track.  For the first machines and their near descendants this will happen very quickly.  For all frozen machines, we know their "fitness" for sure and periodically make "natural selection" in the manner described above. <br><br>  How often we carry out the selection has a strong influence.  The more machines available for random sampling, the more honest we get, but the slower the evolution in general moves.  By the method of scientific poking, I chose the border in 1/6 of the population.  If the number of machines that have completed their life course is even less than this value, selection does not occur. <br><br>  So, some results.  In the screenshots, the upper graph shows the absolute distance record and the average value for the population.  And the bottom - the number of cars with different number of wheels. <br><img src="https://habrastorage.org/storage2/9b4/b9b/9e5/9b4b9b9e5482c326de19cb36a82d01e5.png" alt="image"><br><img src="https://habrastorage.org/storage2/31e/9d4/584/31e9d4584817fab8bbd032a466f27ad2.png" alt="image"><br><br>  On the graph of the number of wheels, as a rule, one can observe rapid transitions between ‚Äúeras‚Äù.  Wheelless cars at some point are replaced by one-wheeled.  Those, in turn, displace two-wheeled.  But, since three or more wheels are not necessarily more effective than two, further development is not so predictable. <br><br><img src="https://habrastorage.org/storage2/ef0/ca8/564/ef0ca85640489eea82081eee2040f0a2.png" alt="image"><br>  So, for example, in this screenshot you can see how at some point the number of three-wheeled machines began to grow rapidly and, it would seem, they are about to force out two-wheeled ones.  In fact, the third wheel helped overcome one very treacherous slide, but rather soon a two-wheeled machine appeared capable of that.  So in the future you can observe something similar to the competition of two types, adapted differently, but about equally good. <br><br><div class="spoiler">  <b class="spoiler_title">More pictures</b> <div class="spoiler_text"><img src="https://habrastorage.org/storage2/d66/8ec/a00/d668eca00e0a5070e14e728ea06ebd65.png" alt="image"><br><img src="https://habrastorage.org/storage2/cc6/99a/38a/cc699a38a182dec9c2d51401c2e12785.png" alt="image"><br><img src="https://habrastorage.org/storage2/c4f/bf2/273/c4fbf2273d22c92b4447abc6f40d00d7.png" alt="image"></div></div><br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/n3ew-eaP5aA%3Ffeature%3Doembed&amp;xid=25657,15700021,15700186,15700190,15700253,15700255&amp;usg=ALkJrhhxFlDemEuSh_4YBQh53JKbF4jGwQ" frameborder="0" allowfullscreen=""></iframe><br><br><h5>  What else can be corrected / added (in order of increasing complexity) </h5><br><ul><li>  To make more parameters changeable through the program interface.  Many interesting things are now hardcoded. </li><li>  Limit the number of descendants of one individual.  Now the machine, which has left the farthest and brightest offspring, is until its record is broken.  It is necessary to complicate her life. </li><li>  Add more genetic information.  More genes!  More! </li><li>  Make smarter gene crossing mechanism.  For example, as in the above-mentioned JavaScript simulator, the first k genes are from the father, and the next nk are from the mother. </li><li>  It will also be interesting to try to determine the critical distance between the genomes so that individuals whose genomes are very different lose the ability to interbreed with each other.  This will allow parallel evolution of several separate species. </li><li>  Introduce the "behavior" of the machines, dictated by the same genes.  For example, reduce speed on a steep ledge and so on. </li></ul><br><h5>  Where to take it all? </h5><br>  For those interested, I post the compiled version and source code (along with the solution for Visual Studio 2012) <br>  4Shared: <br>  <a href="http://www.4shared.com/zip/6SF2aIOO/BlindAM.html">Download and run (Win32)</a> 1032 KB <br>  <a href="http://www.4shared.com/file/sX91zepp/BlindAM.html">Download and run (Linux)</a> 1052 KB <br><br>  <a href="">https://github.com/shtras/BlindAM.git</a> <br>  <a href="http://www.4shared.com/zip/RhmQjYmR/src.html">Old source</a> 1868 KB <br>  <a href="http://www.4shared.com/file/TBx2uo_T/BlindAM_src.html">Old Linux source</a> 1362 KB <br><br>  Dropbox: <br>  <a href="">Download and run (Win32)</a> 1032 KB <br><br>  The release assembly in me pulls populations of 300 or more individuals.  At first it slows down until they all fall to the ground, and then everything goes smoothly. <br>  The camera moves with the right mouse button, the wheel is responsible for the zoom. <br>  Spacebar enables / disables pause.  The simulation starts on a pause. <br>  Using the 'a' and 'd' buttons you can respectively increase and decrease the speed of the simulation.  It is useful at first before the appearance of the first interesting individuals. <br><br>  Used technologies: <br>  C ++, Box2D, OpenGL, SDL <br><br>  <b>Update1:</b> In the res folder there is a file settings.txt.  It is possible to customize the size of the game window. <br>  <b>Update2:</b> Added a version for Linux.  Fixed a bug when, when restarting without exiting the application, the seed was not reset. <br>  <b>Update3:</b> Made a lot of settings in the menu.  Changed the appearance of the track.  Improved rendering. <br><div class="spoiler">  <b class="spoiler_title">New menu</b> <div class="spoiler_text"><img src="https://habrastorage.org/storage2/dd0/693/bfc/dd0693bfc631c5593169318add3e4da3.png" alt="image"></div></div></div><p>Source: <a href="https://habr.com/ru/post/185882/">https://habr.com/ru/post/185882/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../185870/index.html">Video review tablet Lenovo ThinkPad Helix</a></li>
<li><a href="../185872/index.html">NES, implementation on FPGA</a></li>
<li><a href="../185874/index.html">Master IT in the Skolkovo Institute of Science and Technology</a></li>
<li><a href="../185876/index.html">Installing Tiny Tiny RSS on Zyxel Keenetic router</a></li>
<li><a href="../185878/index.html">Own Web project on D under Ubuntu OS</a></li>
<li><a href="../185886/index.html">NAT traversal with IPv6 & CloudFlare</a></li>
<li><a href="../185888/index.html">Reliable (non-extreme) overclocking of the processor and memory for ASUS motherboards with an i7 processor</a></li>
<li><a href="../185890/index.html">Multi-file storage of Java objects in xml format</a></li>
<li><a href="../185894/index.html">mogenerator for Core Data you need to know about</a></li>
<li><a href="../185896/index.html">Automatic fluid interface and ArrayIterator in PHP models</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>