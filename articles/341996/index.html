<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Installing SSL certificate on Zimbra</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Let us explain how to install SSL certificates in Zimbra. After activating the SSL code with the CSR code and fulfilling all verification requirements...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Installing SSL certificate on Zimbra</h1><div class="post__text post__text-html js-mediator-article">  Let us explain how to install SSL certificates in Zimbra.  After activating the SSL code with the CSR code and fulfilling all verification requirements, an SSL certificate will be issued and sent to your email address.  When the certificate is received, you can start the installation process. <br><br>  Zimbra's mail server supports two possible ways to set up SSL: <br><br><ul><li>  zimbra administration console (web interface) </li><li>  zimbra certificate manager (command line interface) </li></ul><br><img src="https://habrastorage.org/web/524/a74/d9d/524a74d9dc834ae581c7893fc079c693.png" alt="image"><br><a name="habracut"></a><br><h2>  Installing SSL certificate through Zimbra Administration Console </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      1. Click "Customize" in the left list of the main menu: <br><br><img src="https://habrastorage.org/webt/mw/aa/aq/mwaaaqkhugnv77gikpqyf1ij2as.png"><br><br>  2. In the next window, click "Certificates" and select the "Install Certificate" option: <br><br><img src="https://habrastorage.org/webt/88/tf/cn/88tfcnjulo_yughszra36uczunu.png"><br><br>  3. You will see a separate window in which you need to select the desired mail server.  Then click "Next": <br><br><img src="https://habrastorage.org/webt/c8/6m/kg/c86mkglolsmu-ww8_q6sctldv6w.png"><br><br>  4. Select ‚ÄúInstall a commercially signed certificate‚Äù to begin the installation process: <br><br><img src="https://habrastorage.org/webt/wf/vs/bc/wfvsbcwzlhojxkpxsuxftrcuinm.png"><br><br>  5. Review all the information that was used to generate the CSR.  If the information is correct, click the Next button: <br><br><img src="https://habrastorage.org/webt/dz/4t/xf/dz4txfgff_07wxp5ctync5zc2yg.png"><br><br>  6. Download the SSL certificate file, root certificate, and intermediate certificates from the Certificate Authority. <br><br><img src="https://habrastorage.org/webt/ww/gc/9s/wwgc9sktoquq-giffg2ldwspplw.png"><br><br>  7. In the next step, click "Install" to install the selected SSL certificate.  The installation process may take several minutes: <br><br><img src="https://habrastorage.org/webt/c8/tl/rt/c8tlrtqzt1zw0xxl3rdrwb6vxtk.png"><br><br>  8. When the SSL installation process is complete, you will see the notification: <br><br><img src="https://habrastorage.org/webt/fo/cg/wy/focgwylvxbmilu7vc3wwhdjlgd4.png"><br><br>  9. To apply the changes, you need to restart Zimbra services, such as the zimbra user, in a CLI session: <br><br> <code>sudo su <br> su zimbra</code> <br> <br>  After the default user switches to the zimbra user, run this command to restart the services: <br><br> <code>zmcontrol restart</code> <br> <br>  10. When all services are restarted, you can check the new SSL certificate details here: <br><br><img src="https://habrastorage.org/webt/ct/ma/zf/ctmazffnszz1epar9zgptpcxjyi.png"><br><br>  <i>An SSL certificate was successfully installed for the following services:</i> <i><br><br></i>  <i>LDAP service: port 389</i> <i><br></i>  <i>Mailbox service: ports 8443, 7071</i> <i><br></i>  <i>MTA service: ports 25 (SMTP TLS), 465 (SMTP SSL), 7110 (POP3 TLS), 7143 (IMAP TLS), 7993 (IMAP SSL), 7995 (POP3 SSL)</i> <i><br></i>  <i>Proxy service: 443, 110 (POP3 TLS), 143 (IMAP TLS), 993 (IMAP SSL), 995 (POP3 SSL).</i> <br><br><img src="https://habrastorage.org/webt/g3/jw/18/g3jw18xggxp2nnykfgd5umve-dy.png"><br><br>  With <a href="https://decoder.link/sslchecker/">this online tool</a> you can verify the SSL installation. <br><br><h2>  Installing SSL certificate through Zimbra Certificate Manager (command line interface) </h2><br>  The Zimbra package has a <b>‚Äúzmcertmgr‚Äù</b> tool for managing SSL certificates. <br>  For version 8.6 or lower, this tool should run as root.  Run this command in the terminal to switch from the default user to the root: <br><br> <code>sudo su</code> <br> <br>  Starting with version 8.7, this tool should run as a zimbra user.  Run these commands to switch from the default user to the zimbra user: <br><br> <code>sudo su <br> su zimbra</code> <br> <br>  1. To start the installation process, you need to temporarily upload the SSL certificate file (server_domain_com.crt) and the CA package file (server_domain_com.ca-bundle) to any folder on your hosting server.  In this example, the SSL files are uploaded to the <b>/ opt /</b> directory. <br><br>  2. Ensure that your certificate from the certification authority corresponds to the private key created with the CSR: <br><br>  <b>/ opt / zimbra / bin / zmcertmgr verifycrt comm</b> <b><br></b>  <b>/opt/zimbra/ssl/zimbra/commercial/commercial.key /opt/server_domain_com.crt /opt/server_domain_com.ca-bundle</b> <br><br>  The result should look like this: <br><br><img src="https://habrastorage.org/webt/n6/pw/db/n6pwdbvmzoedy8yljmu8_r9xnlc.png"><br><br>  3. Deploy your commercial certificate. <br><br>  <b>/ opt / zimbra / bin / zmcertmgr deploycrt comm /opt/server_domain_com.crt /opt/server_domain_com.ca-bundle</b> <br><br>  Successful output should look like this: <br><br><img src="https://habrastorage.org/webt/be/x7/_l/bex7_lx3akb0ha7jmsdih0kogwk.png"><br><br>  4. Verify that the correct certificate has been deployed. <br><br>  <b>/ opt / zimbra / bin / zmcertmgr viewdeployedcrt</b> <br><br>  For example, information about the PositiveSSL certificate will look like this: <br><br><img src="https://habrastorage.org/webt/5m/vr/mu/5mvrmuhxsafrhbbueh4bkfhce44.png"><br><br>  5. To apply the changes, you need to restart Zimbra services, such as the zimbra user: <br><br> <code>sudo su <br> su zimbra</code> <br> <br>  When the default user switches to the zimbra user, run this command to restart the services: <br><br> <code>zmcontrol restart</code> <br> <br>  When all services have rebooted, the new SSL certificate data can be verified with <a href="https://decoder.link/sslchecker/">this online tool</a> . </div><p>Source: <a href="https://habr.com/ru/post/341996/">https://habr.com/ru/post/341996/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../341984/index.html">Olympiad tasks in industrial programming. Part 1</a></li>
<li><a href="../341986/index.html">Integrating the equations of motion</a></li>
<li><a href="../341988/index.html">Model-Update-View pattern and dependent types</a></li>
<li><a href="../341990/index.html">How Badoo is gaining developers</a></li>
<li><a href="../341992/index.html">Optimization of securities portfolio using Python</a></li>
<li><a href="../341998/index.html">Board game design</a></li>
<li><a href="../342000/index.html">We authorize resources in the REST service</a></li>
<li><a href="../342002/index.html">A little story about the `yes` command in Unix</a></li>
<li><a href="../342004/index.html">Tatiana Puchkova, AlfaStrakhovanie: ‚ÄúI personally promise to pay attention to every startup‚Äù</a></li>
<li><a href="../342006/index.html">‚ÄúI myself do not believe in advertising and use AdBlock‚Äù: an interview with the founder of Smashing Magazine</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>