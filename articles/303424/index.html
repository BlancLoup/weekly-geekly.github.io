<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Errors and problems of the Big Three servers: part three. Ibm</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! In the previous articles, we dealt with errors and problems with Dell and HP servers, and our story about errors of refurbished servers woul...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Errors and problems of the Big Three servers: part three. Ibm</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/b93/28a/02f/b9328a02fa5243f39ee39c204667bfcf.png"><br><br>  Hi, Habr!  In the previous articles, we dealt with errors and problems with <a href="https://habrahabr.ru/company/pc-administrator/blog/270091/">Dell</a> and <a href="https://habrahabr.ru/company/pc-administrator/blog/302360/">HP</a> servers, and our story about errors of <a href="http://www.pc-administrator.ru/">refurbished servers</a> would be incomplete without mentioning the products of the third ‚Äúbig three‚Äù vendor - IBM.  Although this glorious corporation has already moved away from the production of servers, its products are still actively used.  Therefore, we hasten to share with you the accumulated experience of "taming" IBM servers.  This is not an exhaustive list of problems, but it may still be useful to someone. <br><a name="habracut"></a><br><h3>  <font color="#018bc7">RAM</font> </h3><br>  IBM servers are sensitive to memory configurations.  Often, after an independent upgrade - adding memory or replacing it - the server does not load, or it sees less memory than is actually installed.  Fortunately, in such situations it is not long to guess about the reasons for the failure: on the diagnostic panel (if there is one) two Config and Memory indicators light up. <br><br><img src="https://habrastorage.org/files/138/a95/d2c/138a95d2c10f43e484fc22c07d0719c9.gif">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Therefore, before upgrading the memory, be sure to read the specification of the type and size of memory supported by your server.  Also important is the number of processors in the server - the order in which the modules are placed in the slots depends on it.  This also needs to be clarified in the specification. <br><br>  In general, the memory is exactly the same situation as described in the article about <a href="https://habrahabr.ru/company/pc-administrator/blog/302360/">HP</a> , for example.  In short: <br><br><ul><li>  Observe the memory channel. </li><li>  Put ECC REG 1 (2) Rx4 memory in dual-processor systems and UDIMMs in single-processor ones. </li><li>  Put the same amount of memory on each processor. </li></ul><br><img src="https://habrastorage.org/files/b7f/ba1/089/b7fba1089c10499aae0fe78d13c025dc.jpg"><br><br>  What to do if you inserted the memory in accordance with the instructions, but the server still does not work and the Memory indicator is flashing?  In this case, you will have to check different options: <br><br><ul><li>  <b>This type of memory is not supported by the server</b> .  Check the specifications carefully. </li><li>  <b>The memory was ‚Äúbat‚Äù</b> .  Replace the line with the exact same one and check if the server starts up. </li><li>  <b>Dust clogged slot on the motherboard</b> .  This is quite a popular reason if the server has been working for several years, and even more so if you are not its first owner.  Blow out the slots with compressed air. </li><li>  <b>Bent contact in the socket</b> .  This happens very rarely, but it still happens: the memory refuses to work due to the bent contact in the socket of the processor.  If the previous options did not help find the cause of the failure, remove the processor and carefully inspect the socket.  If you are among the few "lucky ones", you can try to carefully straighten the bent contact, but this is solely at your own peril and risk. </li></ul><br>  Many system administrators are faced with the fact that when checking RAM with MemTest86, they receive error messages even in obviously working modules or on the same tracks.  This is especially common in M4 generation servers.  This is not at all the fault of machines or memory: MemTest86 is not recommended for checking server memory.  If the memory starts to fail, the server will report this through the diagnostic panel.  It is better to check the memory on IBM servers using standard self-diagnostic tools. <br><br><h3>  <font color="#018bc7">Drives</font> </h3><br>  We have repeatedly <a href="https://habrahabr.ru/company/pc-administrator/blog/302868/">mentioned</a> that it is not at all necessary to install ‚Äúnative‚Äù drives in servers.  Neither IBM nor other vendors produce them; they only acquire them from well-known manufacturers, reflash and glue their logos.  Therefore, you can easily save on upgrading or restoring disk arrays by choosing analogues instead of ‚Äúnative‚Äù drives.  Two to three times the price difference justifies this, especially when it comes to <a href="http://www.pc-administrator.ru/">refurbished servers</a> .  On the network, you can easily find model matching tables, for example: <br><table><tbody><tr><th>  IBM model </th><th>  Original </th></tr><tr><td>  IBM 49Y2003 </td><td>  Seagate ST9600204SS </td></tr><tr><td>  IBM 90Y8872 </td><td>  Seagate ST9600205SS </td></tr><tr><td>  IBM 90Y8908 </td><td>  Seagate ST9600105SS </td></tr><tr><td>  IBM 81Y9650 </td><td>  Seagate ST900MM0006 </td></tr></tbody></table><br>  Nevertheless, situations of incompatibility of "non-native" drives with the server are still possible.  In this case, the server does not load properly, or does not see the drive.  This is usually solved by installing a fresh firmware RAID controller.  By the way, it is recommended to upgrade the firmware and backplane / expander, the <a href="https://www-947.ibm.com/support/entry/portal/docdisplay%3Flndocid%3Dtool-bomc">IBM Bootable Media Creator</a> (BoMC) application will help you with this. <br><br>  When you turn on the server and pass the POST check, you may receive an error: <br><br>  <i>This has been the case for the system.</i> <br><br>  This signals a problem with one of the drives.  It is easy to calculate it: the indicators on its sled constantly flash, even when all other carriers have passed the test and stopped blinking. <br><br>  There are more exotic problems with the disk subsystem.  For example, when using RAID-1 in a proprietary <a href="https://www-947.ibm.com/support/entry/portal/docdisplay%3Flndocid%3Dmigr-5077712">MegaRAID Storage Manager</a> application, errors may appear: <br><br>  ID = 63 <br>  SEQUENCE NUMBER = 48442 <br>  TIME = 24-01-2016 17:03:59 <br>  LOCALIZED MESSAGE = Controller ID: 0 Consistency Check found inconsistent parity on VD strip: (VD = 0, strip = 637679) <br><br>  Most often this is not talking about the dying of the disk, but about the error of the parity error - the discrepancy between the data on the primary and secondary disks.  Possible reasons: <br><br><ul><li>  Often, such errors appear immediately after configuring a new array or after replacing one of the disks. </li><li>  During the pancake surface diagnostics session, the disk is initialized and I / O operations are performed.  On RAID-1, this may lead to a temporary volume mismatch, which is automatically corrected with the next compliance check.  This does not occur during any diagnostic session, but when the stars converge: <br><ul><li>  o Uses a RAID controller without caching, or Write Through mode is activated. </li><li>  o Lack of RAM, in which active paging is performed from the disk. </li><li>  o Just very heavy disk usage. </li></ul></li></ul><br>  To solve this problem, it is recommended to reduce disk swap activity: use a RAID controller with caching and increase the amount of RAM. <br><br><h3>  <font color="#018bc7">Upgrade firmware and software</font> </h3><br>  A curious problem can lie in wait for installing from scratch Windows 2012 or Windows 2012 R2 - a freshly installed OS does not see a single drive.  And this happens not only with IBM servers.  The fact is that all the drives in the server are connected via RAID, and the mentioned OS versions do not have embedded drivers for working with RAID.  And so they simply ignore them.  How to be?  The most reliable way: use the <a href="https://www-947.ibm.com/support/entry/portal/docdisplay%3Flndocid%3DSERV-GUIDE">IBM ServerGuide</a> utility.  When installing the OS, she forcibly slips all the necessary drivers for this model and version of the operating system.  Please note that the OS image must be installed from the disk, not from the flash drive: ServerGuide will not work with the image on the same USB-drive from which it is launched. <br><br><img src="https://habrastorage.org/files/f35/5ec/1c3/f355ec1c3d5a4654ac3e3b914130ca13.jpg"><br><br>  When buying servers, there are situations when you first need to update all the firmware, and then roll the system.  This can be done using the above <a href="https://www-947.ibm.com/support/entry/portal/docdisplay%3Flndocid%3Dtool-bomc">IBM Bootable Media Creator</a> : <br><br><ol><li>  Boot from a bootable flash drive or disk. </li><li>  Run BoMC as Administrator. </li><li>  Choose what you want to do: update and / or diagnose. </li><li>  The program will ask where to get the drivers: download it yourself or pull it out of the archive you specified. </li><li>  Select the media for recording the boot image: a flash drive or disk.  Recording may take several hours, do not worry, the program is not frozen. </li><li>  After recording, boot from this media, and then follow the instructions. </li></ol><br>  This procedure helps in a number of problematic situations.  For example, if you didn‚Äôt wait for the Integrated Management Module to complete the upgrade and clicked the ‚ÄúCancel‚Äù button, the next time the server boots, it may not be able to load IMM and uses the default settings.  You can first try to recover with the help of the ‚ÄúUEFI &amp; IMM recovery jumper‚Äù jumper on the motherboard, due to which the firmware IMM is loaded. <br><br><img src="https://habrastorage.org/files/11c/31f/860/11c31f86010241c98d170b63cfdb6f8d.jpg"><br><br>  But if it does not help, then use the update procedure through BoMC. <br><br>  There are also more unpleasant situations when, according to the law of meanness, a power failure occurs during the installation of a more recent BIOS version. <br><br><img src="https://habrastorage.org/files/82a/eef/442/82aeef442723474cbbc23d71890028ad.jpg"><br><br>  After that, the server can no longer download the main firmware, and uses a backup.  If the standard BIOS recovery procedure does not help, then do ... downgrade: install an older firmware than the one before the power failure.  This usually helps.  After that, you can try again to put the latest version of the BIOS.  As they say, a step back is two forward. <br><br><h3>  <font color="#018bc7">Other problems</font> </h3><br>  Sometimes when trying to remotely manage the server, an error ‚ÄúLogin failed with an access denied error.‚Äù Occurs, and in any browsers.  If rebooting the server and client does not help, then it is recommended to reset IMM to factory settings. <br><br>  In the article about <a href="https://habrahabr.ru/company/pc-administrator/blog/302360/">HP server errors,</a> we mentioned problems with the cooling system: immediately after starting the server, the fans went up to high speeds and did not reduce them.  It happens such a disease in IBM servers.  The server howls like a jet airliner on takeoff.  We were not able to find out the cause of such failures, but we can advise the following: <br><br><ol><li>  Check the density of the power connectors. </li><li>  Turn off all fans and remove the basket. </li><li>  Check each fan on other servers. </li><li>  Collect the cart again by swapping the fans.  Or completely replace them. </li></ol><br>  There was such an interesting failure in our practice: when loading the server, IMM is regularly initialized, then UEFI initialization begins, and ... everything.  Further the server is not loaded without explanation.  Any manipulations did not help: disconnection from the network, complete de-energization, disconnection of various components.  Loading the UEFI backup using a jumper on the motherboard did not help either.  Experienced it turned out that if you wait about 20 minutes, you can still wait for the server to load.  So it works since then - each time it loads 20 minutes.  It was not possible to figure out the cause of the failure. <br><br><h3>  <font color="#018bc7">IBM server benefits</font> </h3><br>  IBM servers are deservedly very popular: <br><br><ul><li>  These are simple and very reliable cars. </li><li>  Excellent extensibility even on initial models and a rich package. </li><li>  IBM servers are usually cheaper than competitors and are not inferior in performance.  For example, the M3 and M4 generations are cheaper than their counterparts from HP (Gen7 and Gen8) and Dell (11G and 12G). </li><li>  The most inexpensive consumables.  Easy to find in Russia. </li><li>  Convenient diagnostic panel on many models. </li></ul><br>  The main thing is what IBM servers are inferior to competitors - they have a very long ‚Äúcold‚Äù start. </div><p>Source: <a href="https://habr.com/ru/post/303424/">https://habr.com/ru/post/303424/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../303412/index.html">Fake Ferrari or why camel hump. How systems with circumcised functionality try to take over the world</a></li>
<li><a href="../303416/index.html">Congratulations to the winners of the "Summer Sprint" PETAMelon</a></li>
<li><a href="../303418/index.html">SaltStack: using salt-ssh</a></li>
<li><a href="../303420/index.html">Interview with the author of Flask Armin Rahner</a></li>
<li><a href="../303422/index.html">Salary negotiations - how not to burn</a></li>
<li><a href="../303426/index.html">Debugging php functions using phpdbg, as an alternative to Xdebug via IDE</a></li>
<li><a href="../303428/index.html">New L4 Load Balancer with native SRV record service discovery and Docker API service Discovery</a></li>
<li><a href="../303430/index.html">Energy Efficiency Options from Coolan, MacroAir, AMCA International and Cradle</a></li>
<li><a href="../303436/index.html">Data synchronization in real-time applications with Theron</a></li>
<li><a href="../303438/index.html">Microsoft has published information about the implementation of VFS in the Linux subsystem on Windows 10</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>