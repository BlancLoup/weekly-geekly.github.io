<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ECO Flow in Vivado or working in netlist editing mode</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="annotation 


 The article describes the mode of operation of Vivado, which allows you to make changes to the project at the level of editing the netl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>ECO Flow in Vivado or working in netlist editing mode</h1><div class="post__text post__text-html js-mediator-article"><h1>  annotation </h1><br><p>  The article describes the mode of operation of Vivado, which allows you to make changes to the project at the level of editing the netlist (hereinafter referred to as netlist).  Both the ECO mode itself and some nuances that appear while working in it are described.  A demo is given and a complete sequence of actions is described for obtaining a result, which anyone who is willing to be able to make sure of its efficiency.  The article will be useful for "common development" for FPGA developers, and especially for those who often debug projects in the Logic Analyzer.  I hope that work in this mode will be of interest to developers working with large crystals, the compilation time in which can reach hours (or even tens of hours), because in this mode the time spent on implementation can be reduced to literally a couple of minutes. </p><br><p><img src="https://habrastorage.org/webt/xh/7w/kf/xh7wkf7ur6yu6vltuhwjfqxo2oa.jpeg"></p><br><br><h1>  Table of contents </h1><br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text"><br><br><ul><li>  <a href="https://habr.com/ru/post/353094/">annotation</a> </li><li>  <a href="https://habr.com/ru/post/353094/">Introduction</a> </li><li>  <a href="https://habr.com/ru/post/353094/">1. ECO: an overview</a> </li><li>  <a href="https://habr.com/ru/post/353094/">2. Design Checkpoint</a> </li><li>  <a href="https://habr.com/ru/post/353094/">3. Development of a test project</a> <br><ul><li>  <a href="https://habr.com/ru/post/353094/">3.1.</a>  <a href="https://habr.com/ru/post/353094/">Project creation</a> </li><li>  <a href="https://habr.com/ru/post/353094/">3.2.</a>  <a href="https://habr.com/ru/post/353094/">Creating and adding HDL files to the project</a> </li><li>  <a href="https://habr.com/ru/post/353094/">3.3. Creating a MicroBlaze project and working in IP Integrator</a> </li><li>  <a href="https://habr.com/ru/post/353094/">3.4.Synthesis and implementation</a> </li><li>  <a href="https://habr.com/ru/post/353094/">3.5. Writing a program for MicroBlaze</a> </li><li>  <a href="https://habr.com/ru/post/353094/">3.6.Starting and debugging</a> </li></ul><br></li><li>  <a href="https://habr.com/ru/post/353094/">4. Transition to ECO mode</a> </li><li>  <a href="https://habr.com/ru/post/353094/">5. ECO: interface description</a> </li><li>  <a href="https://habr.com/ru/post/353094/">6. Making changes to the project</a> <br><ul><li>  <a href="https://habr.com/ru/post/353094/">6.1.</a>  <a href="https://habr.com/ru/post/353094/">Creating new items in a netlist</a> </li><li>  <a href="https://habr.com/ru/post/353094/">6.2.</a>  <a href="https://habr.com/ru/post/353094/">Change of properties / parameters of components</a> </li><li>  <a href="https://habr.com/ru/post/353094/">6.3.</a>  <a href="https://habr.com/ru/post/353094/">Connecting other circuits to probes and ILA</a> </li><li>  <a href="https://habr.com/ru/post/353094/">6.4.</a>  <a href="https://habr.com/ru/post/353094/">Replacing I / O Ports</a> </li></ul><br></li><li>  <a href="https://habr.com/ru/post/353094/">7. Comparative analysis</a> </li><li>  <a href="https://habr.com/ru/post/353094/">8. Conclusion</a> </li><li>  <a href="https://habr.com/ru/post/353094/">9. Homework</a> </li><li>  <a href="https://habr.com/ru/post/353094/">Bibliographic list</a> </li></ul><br></div></div><br><p>  The article has a lot of pictures not in the spoilers (140 pieces).  Please be careful if you are logging in from the phone. </p><br><a name="habracut"></a><br><h1>  Introduction </h1><br>  Often, when I have to give a lecture or conduct a seminar, I always try to tell a little more than the program suggests.  So it was in the last three seminars devoted to working with single-core Zynq-7000S.  This time it was interesting to see how the audience knows about some of the ‚Äúhidden‚Äù modes of work with Vivado.  The question was quite simple: ‚ÄúDoes any of those present know about the ECO Flow mode?‚Äù Immediately after the question was followed, as they say, ‚Äúa forest of hands, to which I was not particularly surprised. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The desire to enlighten the developers at least about the availability of this mode in Vivado, not to mention the demonstration of work in it, appeared to me for a very long time.  But for some mysterious reason, I ‚Äúharnessed‚Äù to writing guidelines for building projects using MicroBlaze and working with it.  However, after recent seminars, it became obvious that it was still necessary to write about ECO Flow. <br><br>  <b>The purpose of the</b> article is to give a general idea of ‚Äã‚Äãthe ECO mode in the Vivado environment [1] provided by Xilinx for its crystals and show with a real example the work in this mode, trying to point out the ‚Äúsubtle‚Äù moments and analyze its advantages and disadvantages. <br><br>  <b>The tasks</b> that are set in this article: <br><br><ol><li>  develop a test case that, whenever possible, contains and demonstrates all (or at least most) of the capabilities of working in ECO mode </li><li>  implement the project; </li><li>  explain the concept of Design Checkpoint; </li><li>  describe the transition to the ECO mode of operation; </li><li>  edit the netlist and get the FPGA firmware file; </li><li>  make sure the changes are correct; </li><li>  create a summary table of time spent on standard changes to the project and compare it with the time spent in ECO mode, as well as incremental implementation. </li></ol><br>  Unfortunately, physically checking the methodology on a rather ‚Äúheavy‚Äù crystal (for example, Virtex UltraScale) is not possible for me.  But, I think, even the example that will be given - with a test on the modest Artix-7 installed on the Arty [2] board, will be quite revealing.  In the process of writing, I will rely on several basic documents that describe the ECO mode [3], [4], [5].  The used version of Vivado (and, accordingly, the documentation) - 2017.4. <br><br>  A small digression: yes, in the manual there are a lot of pictures and ‚Äútrivialities‚Äù on how to create a project, build a processor system on MicroBlaze, work in IP Integrator, debug, etc.  If you are experienced and just want to read about ECO - please go directly to chapter <a href="https://habr.com/ru/post/353094/">4: ‚ÄúSwitching to ECO mode‚Äù</a> .  If you don‚Äôt know how to build a project on MicroBlaze, you have never worked at IP Integrator, or you like guides in the style of step-by-step illustrations, I‚Äôll only be happy if you take an additional 75-90 minutes to the presented material.  And yet, I hope that someone will execute the manual completely, with a check in the gland. <br><br><h1>  1. ECO: an overview </h1><br>  ECO - Engineering change orders [6] (‚Äúprocedure for making engineering changes‚Äù) is a mode in which it is possible to make changes to a netlist, a synthesized or implemented project with minimal impact on the original netlist.  Vivado has an ECO mode in which it is possible to change the so-called Design Checkpoint project (see below), implement the changes made, generate the necessary reports for the changed netlist and generate the FPGA firmware file on it. <br><br>  The most typical application of this mode: <br><br><ul><li>  Modification of probes and connected lines of logic analyzers (ILA - IntegratedLogicAnalyzer) when debugging a project.  The user can change the set of lines connected to ILA, while avoiding complete re-implementation of the project. </li><li>  Reassignment of the chains connected to the FPGA legs.  In case the project developer, circuit designer, or circuit board developer made an error in assigning the legs (for example, rx was confused with tx), and the project on the FPGA was already implemented, this way you can reassign ports in the netlist, avoiding repeated full implementation (t . e. synthesis, mapping, optimization, placement, tracing - with all the attendant costs of machine time and resources) of the project. </li><li>  Performing ‚Äúwhat_ if?‚Äù Analysis (editing the contents of the memory, changing the functionality of the LUT, improving the timings, etc.) </li></ul><br>  The main task of working in ECO mode is to save time and avoid re-implementation of the project when making changes during the project setup or debugging phase.  Many people are familiar with the incremental implementation mode, which is also used in ECO, but in ECO, compared to incremental implementation, it is faster to get the firmware file and to perform the current iteration of debugging faster. <br><br>  <em>Note: working in ECO mode is only possible with Design Checkpoint.</em> <br><br><h1>  2. Design Checkpoint </h1><br><p>  The design route is divided into several components:, including synthesis and implementation.  The implementation in turn is divided into sub-steps: various optimizations, placement and tracing.  The intermediate stages of the design route are stored in a ‚Äúcontainer‚Äù, called Design Checkpoint (DCP) [7].  This is a file with the extension ".dcp".  Design Checkpoint contains: </p><br><br><ul><li>  The current netlist (depending on the stage of the design route), including all the optimizations performed before recording the dcp file. </li><li>  The constraints imposed on the project (design constraints). </li></ul><br><p>  By default, Vivado creates four dcp files: one - at the stage of synthesis of the module of the top level of the project (if synthesis is performed in out-of-context mode, then for all modules that are synthesized in out-of-context, a dcp file is created) and three - at the implementation stage.  These files can be found in folders: </p><br><br>  "Project_name.runs / synthesis_name / module_top_name.dcp" <br><br>  "Project_name.runs / impementionation_name /". <br><br>  In fig.  Figure 1 shows an example of the location and .dcp files that are created by default for some abstract project. <br><br> <a href=""><img alt="1_0" src="https://habrastorage.org/webt/bz/ys/wk/bzyswkie9lrkawcgtcxurxk7w7y.png"></a> <br><br><p> <a href=""><img alt="1_1" src="https://habrastorage.org/webt/32/u_/_z/32u__z3ksiw7xh281oaomee_r1g.png"></a> <br>  Figure 1 - the default dcp files (1 - ‚Äúpostsynthesis-‚Äù and 3 - ‚Äúpostimplement-‚Äù: after optimization (_opt), after placement (_placed) and after tracing (_routed)) </p><br><br><p>  In Vivado project mode (Project Mode [8]), .dcp files are created automatically.  But when working in non-project mode (Non-ProjectMode [8]), the user must ensure that the ‚Äúsnapshots‚Äù of the current state of the project are recorded.  To do this, use the appropriate Tcl commands [9, 10] .: </p><br><br><pre><code class="hljs xml">write_checkpoint <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">file_name</span></span></span><span class="hljs-tag">&gt;</span></span>.dcp read_checkpoint <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">file_name</span></span></span><span class="hljs-tag">&gt;</span></span>.dcp</code> </pre> <br><p>  About why, how and what files dcp should be opened, will be discussed below. </p><br><br><h1>  3. Development of a test project </h1><br>  To demonstrate ECO capabilities on a test project, it should contain the following: <br><br><ol><li>  Elements that are not in the original netlist or elements for which you can change the functionality.  For example, to start the LED on the button - and in the original project it will light up on pressing, and in the modified one - on pressing it will go out.  That is, you will need to add an inverter to the netlist that is not in the original project. </li><li>  Items that you can change the content.  For example, the truth table in the LUT or the contents of the block memory.  And the change in the contents of the block memory will be more preferable here, since we will already perform the change in LUT in claim 1, when we create an additional inverter. </li><li>  ILA - to be able to replace connected circuits with other circuits.  That is, without touching ILA itself, we will try to replace the selected circuits connected to it in the initial project with others through a netlist. </li><li>  Confused conclusions.  Suppose that when designing a printed circuit board, the developer performed the pin-swap of two pins for easy wiring, without agreeing with the FPGA developer, i.e.  made a mistake of confusing rx with tx UART.  In ECO mode, we will have to restore the correct connection. </li></ol><br><h2>  3.1.  Project creation </h2><br><p>  Find the Vivado icon and double-click on it, a welcome window will open (fig. 2) </p><br><br> <a href=""><img alt="2" src="https://habrastorage.org/webt/nt/eb/sn/ntebsnutmwmvj8py7gshu7zsu7m.png"></a> <br>  <i>Figure 2 - Vivado Welcome Window</i> <br><br><p>  To create a new project, click the Create Project button.  Pressing the button calls the wizard to create a new project.  After its appearance, click the Next button (Fig. 3). </p><br><br> <a href=""><img alt="3" src="https://habrastorage.org/webt/yw/qf/mm/ywqfmmrx-o-j5ln83kxjwv0htkg.png"></a> <br>  <i>Figure 3 - New project wizard window</i> <br><br><p><br>  Enter the name of the project, in the Project Name field we write ‚Äúeco_flow‚Äù.  Specify where the project will be located: in the Project location field specify the directory with the project.  I will have it ‚ÄúF: / Projects / FPGA-Systems / eco_flow / projects / vivado‚Äù.  If you check the ‚Äúcreate project subdirectory‚Äù checkbox, an additional folder with the project name will be created.  Click Next (fig. 4). </p><br><br><p> <a href=""><img alt="four" src="https://habrastorage.org/webt/gz/hl/yj/gzhlyjyahgx8tcjdyhcexqcdilq.png"></a> <br>  <i>Figure 4 - Entering the name of the project and its location</i> </p><br><br><p>  We create an ordinary project, so we simply select the type of project RTL.  At the current stage, we will not add any files to the project, so we‚Äôll check the box ‚ÄúDo not specify sources at this time‚Äù and click Next (Fig. 5). </p><br><br><p> <a href=""><img alt="five" src="https://habrastorage.org/webt/6f/a3/vu/6fa3vupwnhvrxxbksnmp9y0-nve.png"></a> <br>  <i>Figure 5 - Selecting the type of project being created</i> </p><br><br><p>  We will work with the Arty board [2], so we will choose the crystal that is installed on it: xc7a35tcsg324-1.  Click Next (fig. 6). <br>  <i>Note: I do not specifically choose a ready board from a template of available boards.</i>  <i>This is done so that you can manually make mistakes, which we will fix later.</i> </p><br><br><p> <a href=""><img alt="6" src="https://habrastorage.org/webt/cv/ew/_6/cvew_6tk0cuqyd7-i34eaikpl2y.png"></a> <br>  <i>Figure 6 - Crystal Selection xc7a35tcsg324-1</i> </p><br><br><p>  The final in the New Project Setup Wizard will be the Summary window of the project being created.  Click Finish (Fig. 7). </p><br><br><p> <a href=""><img alt="7" src="https://habrastorage.org/webt/3z/rw/jc/3zrwjc-5maxs7_ufpcbyks6yhbs.png"></a> <br>  <i>Figure 7 - The brief information window of the project being created</i> </p><br><br><h2>  3.2.  Creating and adding HDL files to the project </h2><br><p>  Here we will create two modules: just a flashing LED and a block memory, which is constantly read (in fact, this is an imitation of the memory of filter coefficients, the values ‚Äã‚Äãof which we later try to change). <br><br>  To create and add a new file to the project, use the wizard, which is called by pressing the blue plus (Fig. 8). </p><br><br> <a href=""><img alt="eight" src="https://habrastorage.org/webt/xx/uq/gd/xxuqgdbezcwsofpxoiengopisto.png"></a> <br>  <i>Figure 8 - Calling the Create New Files Wizard</i> <br><br><br>  In the window that appears, select "Add or create design sources" and click Next (Fig. 9). <br><br> <a href=""><img alt="9" src="https://habrastorage.org/webt/q9/-0/gt/q9-0gtcv_7ekastasop8-m8ntpm.png"></a> <br>  <i>Figure 9 - Selecting the type of file being created or added</i> <br><br><p>  Select Create file, then in the window that appears in the File name field, enter the name of the flash_led file to be created, click OK (Fig. 10). </p><br><br><p> <a href=""><img alt="ten" src="https://habrastorage.org/webt/tn/vx/ek/tnvxek2snx04lgoogckopn9ghuo.png"></a> <br>  <i>Figure 10 - Creating a new file and entering its name</i> </p><br><br><p>  After that, the file will appear in the list of entries.  Click Finish (Fig. 11) </p><br><br><p> <a href=""><img alt="eleven" src="https://habrastorage.org/webt/oa/mj/j7/oamjj7hkqoisdyv2rjstolglndw.png"></a> <br>  <i>Figure 11 - List of added or created files</i> </p><br><br><p>  Now the wizard to create a template for the file.  Since I use VHDL, I can change the architecture name to rtl.  We create two pins of our module: iclk with the ‚Äúin‚Äù direction (clock signal of our module) and oled with the ‚Äúout‚Äù direction (output connected to the LED).  Click OK (Fig. 12). </p><br><br> <a href=""><img alt="12" src="https://habrastorage.org/webt/zh/ur/cs/zhurcs8f85i-tjmrx1djcxo-ylu.png"></a> <br>  <i>Figure 12 - Module Template Creation Wizard (for VHDL)</i> <br><br><p>  Now our module is in the project tree (Fig. 13). </p><br><br><p> <a href=""><img alt="13" src="https://habrastorage.org/webt/6n/u2/ch/6nu2chowdtxdu4ryp2trbnyhago.png"></a> <br>  <i>Figure 13 - The created flash_led module</i> </p><br><br><p>  The module should perform a simple function: just blink the LED with a period of 1 second.  Looking ahead, I will say that the clock frequency of our project will be equal to 100 MHz, and the module itself will still be useful for you when doing homework. <br>  Replace the contents of the file with the following (Listing 1 (text version of listing 1 see Appendix A)).  The code is quite simple, and does not require additional comments to explain its work. </p><br><br> <a href=""><img alt="l1" src="https://habrastorage.org/webt/yb/gx/oz/ybgxozv0r4de_hqa2chec4paixe.png"></a> <br>  Listing 1 - Module code flash_led <br><br><p>  Now create a new module, which should be called brom_reader, its iclk ports with the ‚Äúin‚Äù direction, and odout [7: 0] with the ‚Äúout‚Äù direction (repeat the steps from Fig. 8 to Fig. 12). <br>  If everything is done correctly, then the brom_reader module should appear in the project tree (Fig. 14). </p><br><br> <a href=""><img alt="14" src="https://habrastorage.org/webt/eo/fu/ja/eofujaxufi-nbi4oodmg7xsaxbu.png"></a> <br>  <i>Figure 14 - Module brom_reader in the project tree</i> <br><br><p>  Replace the contents of the module with the following text (Listing 2 (text version of Listing 2, see Appendix B)).  Here you will need a few comments: </p><br><br><ol><li>  Line 13: type alias is created for std_logic_vector.  Those who work with VHDL often use the data type "std_logic_vector ()".  In order not to write these long names each time, you can declare an alias and then use it throughout the module code. </li><li>  Lines 14‚Äì20: standard declaration of a two-dimensional array of natural numbers and array initialization (memory is created with numbers). </li><li>  Line 22: use of the alias slv to declare a signal </li><li>  Lines 23-24: use of the synthesis attribute [11].  Why is he registered here?  We have created a rather small two-dimensional array (lines 15-20) - and, most likely, during the synthesis it will be optimized and implemented as distributed memory on the LUT.  And since we want to place the array in the block memory (BRAM-Block RAM), we need to explicitly tell the synthesizer about this, which is done with the help of synthesis attributes.  Read more about them in the Vivado synthesis manual in [11]. </li></ol><br><p>  Otherwise, everything should be clear: we created a ROM-memory from which its contents are continuously, sequentially and cyclically read. </p><br><br><br> <a href=""><img alt="l2" src="https://habrastorage.org/webt/rt/ln/oa/rtlnoaeoi9l9ts4v-bfm6xpzq-u.png"></a> <br>  Listing 2 - brom_reader module code <br><br><h2>  3.3.  Creating a MicroBlaze project and working in IP Integrator </h2><br><p>  Now we will create a project with MicroBlaze.  Once again, I would like to draw your attention to the fact that there is a step-by-step guide in Russian on creating projects on the MicroBlaze software processor for beginners [16]. <br>  To create a block project, you must create a Block Design.  Select Create Block Design, enter the name system and click OK (Fig. 15). </p><br><br> <a href=""><img alt="15" src="https://habrastorage.org/webt/tv/le/8i/tvle8ipxpgbtmh8du2ubqqbrw9g.png"></a> <br>  <i>Figure 15 - Creating a new Block Design and setting its name</i> <br><br><br>  The Diagram field adds kernels from the Vivado IP directory, or RTL modules written in VHDL / Verilog / SystemVerilog.  Find the MicroBlaze module in the IP directory. To do this, click the blue cross and enter ‚ÄúMicroBlaze‚Äù in the search field and select it (Fig. 16). <br><br> <a href=""><img alt="sixteen" src="https://habrastorage.org/webt/ah/ur/bv/ahurbvrphubgfxxee82apbexnzw.png"></a> <br><br>  Figure 16 - Adding a MicroBlaze IP core to the Diagram workspace <br><br><p>  After adding MicroBlaze to the working field, we will use the express settings of the soft processor.  Select Run Block Automation and set the settings in accordance with Fig.  17. Click OK. </p><br><br><p> <a href=""><img alt="17" src="https://habrastorage.org/webt/ij/8m/ud/ij8mudjljvnniliwnnhabf4v-ze.png"></a> <br>  <i>Figure 17 - MicroBlaze Express Setup</i> </p><br><br><br>  After that, several new IP cores will appear on the Diagram work area, including the clock generator and the local processor memory [11, 12].  Click the Regenerate button to optimize the working area (Fig. 18). <br><br> <a href=""><img src="https://habrastorage.org/webt/ar/9u/em/ar9uemls_ylvtdph9epa_afjm0q.png"></a> <br>  <i>Figure 18 - Basic Power On MicroBlaze</i> <br><br><p>  Perform configuration of some modules in accordance with our Arty board.  Configure the clock grid generation module clk_wiz_1.  To call the module settings, double-click it with the left mouse button.  In the settings window, set the value of the input clock frequency of 100 MHz, since it is the generator at 100 MHz that is installed on the board [12].  We also set the type of source as unipolar (Fig. 19).  Go to the Output Clocks tab, where we configure the output frequency of the module. </p><br><br> <a href=""><img src="https://habrastorage.org/webt/j5/_i/cq/j5_icq0hfsbfyei-6rdicv4kt48.png"></a> <br><br>  Figure 19 - Setting the input frequency parameters <br><br><br>  In the Output Clocks tab, we will set only one frequency, the main frequency of our processor system and other modules.  Set it equal to 100 MHz (Fig. 20). <br><br><p> <a href=""><img src="https://habrastorage.org/webt/tm/l7/uh/tml7uhb3zomqjv4stdmap2o5jwq.png"></a> <br>  <i>Figure 20 - Setting the parameters of the output frequency</i> </p><br><br><p>  Scroll down to configure additional overhead.  We will remove the reset reset signal, which we will not use.  Uncheck it (fig. 21).  The rest of the settings we do not need, click OK. </p><br><br> <a href=""><img src="https://habrastorage.org/webt/kr/it/16/krit16_2m_qctmk9kb_zg7yj1v8.png"></a> <br>  <i>Figure 21 - Configuring service signals</i> <br><br><p>  Now we declare the clk_in1 input of the clk_wiz_1 module external, in fact we make from it the input of our Block Design.  To do this, click on clk_in1 with the right mouse button and select Make External (Fig. 22). </p><br><br><p> <a href=""><img src="https://habrastorage.org/webt/id/7z/rf/id7zrf9h6yojtn1zbi5rktx6azy.png"></a> <br>  <i>Figure 22 - Making the port clk_in1 external</i> </p><br><br><p>  As you can see port clk_in1_0 appeared (Fig. 23). </p><br><br><p> <a href=""><img src="https://habrastorage.org/webt/l0/vo/of/l0vooft6_hz71d3ebeqyn2y4grq.png"></a> <br>  <i>Figure 23 - Input port clk_in1_0</i> </p><br><br><p>  In the reset control module of our processor system, we connect two unused inputs (external reset and additional reset) to the inactive logic level "1".  We do this with an IP block called constant.  To do this, click the blue cross at the top, then in the search bar enter ‚Äúconst‚Äù "and select the module constant. </p><br><br> <a href=""><img src="https://habrastorage.org/webt/wg/vj/ee/wgvjee-ox_-ruvonwmote69ojua.png"></a> <br>  <i>Figure 24 - Search for the constant IP block in the list of available IPs</i> <br><br><p>  Perform the configuration of the xlconstant_0 module by double-clicking on it with the left mouse button.  In the line value (Const val) enter 1, in the line width (Const Width) enter 1, press OK (Fig. 25) </p><br><br> <a href=""><img src="https://habrastorage.org/webt/y3/mh/dz/y3mhdzuelxvzabnuxweamjhayso.png"></a> <br>  <i>Figure 25 - Configuring the xlconstant_0 module</i> <br><br><p>  Let us connect the dout output of the xlconstant_0 module to the ext_reset_in and aux_reset_in inputs of the rst_clk_wiz_1_100M module.  Just connect these ports with the mouse (Fig. 26). </p><br><br> <a href=""><img src="https://habrastorage.org/webt/kf/cu/ph/kfcuphau5z8r2rc567f-22xq2vu.png"></a> <br>  <i>Figure 26 - Connecting unused ports to a constant</i> <br><br><br>  Add the UART module by finding it in the catalog of available IP cores (Fig. 27). <br><br> <a href=""><img src="https://habrastorage.org/webt/m6/jb/ul/m6jbulculnwvsmmuv4p0ld2wnrw.png"></a> <br>  <i>Figure 27 - Search for a UART module in the list of available IP blocks</i> <br><br><p>  Perform the configuration of the axi_uartlite_0 module, setting the transmission settings in accordance with Fig.  28. Then click OK. </p><br><br> <a href=""><img src="https://habrastorage.org/webt/bm/iq/zk/bmiqzkru8lfoqc5jmunzabbxsdg.png"></a> <br> <i>  28 ‚Äì   axi_uartlite_0</i> <br><br><p>    axi_uartlite_0  .     .    Run Connection Automation       (AXI  UART  AXI MicroBlaze) . 29. </p><br><br> <a href=""><img src="https://habrastorage.org/webt/ln/zb/cq/lnzbcqnhlraps_jdpn0h9wt9_mq.png"></a> <br> <i>  29 ‚Äì  axi_uartlite_0  </i> <br><br><p>  UART          Vivado IP Integrator.   2  . 29  ,    rx  tx  axi_uartlite_0 .    ,   .  ,       , ,   HDL  ,  ,     (rx  tx). <br>   Regenerate Layout.     Block Design      ,   . 30. ,     .      , ,   ,     . </p><br><br> <a href=""><img src="https://habrastorage.org/webt/tw/qm/ko/twqmkougxlmidrkxvipdgpm6tms.png"></a> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 30 - The intermediate stage of assembly of the processor system. </font></font></i> <br><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Let's add one more module to the AXI bus. </font><font style="vertical-align: inherit;">This will be a GPIO module, the output of which we will connect to the LED. </font><font style="vertical-align: inherit;">Find the AXI GPIO module in the list of available IP blocks and add it to the working area (Fig. 31). </font><i><font style="vertical-align: inherit;">Figure 31 - AXI GPIO module in the list of available IPs</font></i></font><br><br> <a href=""><img src="https://habrastorage.org/webt/q_/9x/ke/q_9xkejl-u4zsdeqlw5onrtrhhc.png"></a> <br> <i><font style="vertical-align: inherit;"></font></i> <br><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configure the module in accordance with Fig. </font><font style="vertical-align: inherit;">32 (we will use only one channel and one output).</font></font></p><br><br> <a href=""><img src="https://habrastorage.org/webt/8r/dw/-o/8rdw-o_khdaecm3m-twvyhlqdvi.png"></a> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 32 - Settings module axi_gpio_0</font></font></i> <br><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Let us connect the axi_gpio_0 module to the processor and make the output external. </font><font style="vertical-align: inherit;">Click Run Connection Automation and check all the checkboxes (Fig.33).</font></font></p><br><br> <a href=""><img src="https://habrastorage.org/webt/w3/vd/od/w3vdod61_7630vsfuph0s-b1y2m.png"></a> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 33 - Connecting axi_gpio_0 to the processor</font></font></i> <br><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Click the Regenerate Layout button and make sure all connections match pic. </font><font style="vertical-align: inherit;">34</font></font></p><br><br> <a href=""><img src="https://habrastorage.org/webt/gm/ar/me/gmarme9r_evshut3x7ngyliegfm.png"></a> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 34 - Assembly of the processor system.</font></font></i> <br><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Now add the ILA debug module. Suppose we want to view transactions on the AXI Lite bus for the UART module. Find in the list of available IP module ILA (Integrated Logic Analyzer) fig. 35. </font><i><font style="vertical-align: inherit;">Figure 35 - ILA IP block in the list of available</font></i></font><br><br> <a href=""><img src="https://habrastorage.org/webt/_a/cz/fh/_aczfh2cyy65efsjcquw8rsbfta.png"></a> <br> <i><font style="vertical-align: inherit;"></font></i> <br><br><p>        HDL Insertion Flow,        HDL . ,             .    Netlist Insertion Flow. <br>      AXI ,      ILA  AXI ( Monitor Type   ILA).     ,     SLOT_0_AXI  ila_0   AXI,      .     ,      axi_uart_0 (. 36).        clk      Regenerate Layout. </p><br><br> <a href=""><img src="https://habrastorage.org/webt/av/ts/eh/avtsehw1xpneiqlwkd4a48yshu0.png"></a> <br> <i>  36 ‚Äì  ila_0  AXI  axi_uart_0</i> <br><br><p>       1024,      . <br>    RTL   Block Design,     flash_led,        Add Module to Block Design (    Vivado    2017.1). </p><br><br> <a href=""><img src="https://habrastorage.org/webt/rx/gt/vg/rxgtvggx5ucq1xz7zzuki0kbe-8.png"></a> <br> <i>  37 ‚Äì   flash_led   Diagram</i> <br><br><p>   iclk  flash_led_0     ,   oled   (    ,   Make Exernal).   Regenerate Layout. </p><br><br><p>    ,      . 38. </p><br><br> <a href=""><img src="https://habrastorage.org/webt/mf/e7/8g/mfe78ghq_cxw6fbhpxw1taj3i9m.png"></a> <br> <i>  38 ‚Äì      IP Integrator</i> <br><br><p>   ,    brom_reader.     iclk   ,     odout[7:0] .  Regenerate Layout.    ,      . 39. </p><br><br> <a href=""><img src="https://habrastorage.org/webt/yh/wr/uq/yhwruq8yxt1ydhoa8ou_2b4ebd8.png"></a> <br> <i>  39 ‚Äì      IP Integrator</i> <br><br><p> ,    ILA      odout[7:0]  brom_reader_0. <br>  IP  ILA    (. 35)     Diagram.   ,     .  Monitor Type   Native (    AXI,   ).    .    Probe_Ports(0..7) . 40. </p><br><br> <a href=""><img src="https://habrastorage.org/webt/l0/is/kb/l0iskbsvsclpnafzvcg5hd6qloe.png"></a> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 40 - ILA Setup Set the</font></font></i> <br><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> probe width. </font><font style="vertical-align: inherit;">Set the width to 8 (Fig. 41), since it is 8 bits that is the width of the odout [7: 0] output bus of the brom_reader_0 module.</font></font> Click OK. <br><br> <a href=""><img src="https://habrastorage.org/webt/bi/4t/3g/bi4t3gr-gfwqktdujfgj_bf_ydo.png"></a> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 41 - Setting the width of the ILA probes</font></font></i> <br><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Connect the odout [7: 0] output of the brom_reader_0 module to the probe_0 [7: 0] input of the ila_1 module, and connect the clk input of the ila_1 module to the clock circuit of our project. </font><font style="vertical-align: inherit;">Click the Regenerate Layout button, and if everything is correct, it should turn out as in fig. </font><font style="vertical-align: inherit;">42</font></font></p><br><br> <a href=""><img src="https://habrastorage.org/webt/8q/ul/l5/8qull5uas3vea6n9kyqq1pjayaw.png"></a> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 42 - Intermediate stage of building a project in IP Integarator</font></font></i> <br><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It remains only to add the button and the LED directly connected to it. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Create an input port by clicking on an empty space of our block diagram with the right mouse button and selecting Create Port (Fig. 43).</font></font></p><br><br><p> <a href=""><img src="https://habrastorage.org/webt/pa/hu/2j/pahu2jtc0tdplgnz_cdtr--w1-w.png"></a> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 43 - Creating a port in IP Integrator</font></font></i> </p><br><br><p>     ,    ibtn,   input ,   .  OK (. 44). </p><br><br><br> <a href=""><img src="https://habrastorage.org/webt/aa/an/ea/aaanea0gvdpqfndiwrqgawbem2q.png"></a> <br> <i>   44 ‚Äì     ( ibtn)</i> <br><br><p>       Diagram (. 45). </p><br><br><p> <a href=""><img src="https://habrastorage.org/webt/fa/la/np/falanpukqyiq7kdcknxnzsj_qge.png"></a> <br> <i>  45 ‚Äì   ibtn</i> </p><br><br><p>       obtn_led,  output (   . 43-44). <br>     ibtn c obtn_led,  Regenerate Layout.     . 47. </p><br><br> <a href=""><img src="https://habrastorage.org/webt/hr/mx/v1/hrmxv1pcvec1aihvu3634k3p86e.png"></a> <br> <i>  46 ‚Äì    IP Integrator</i> <br><br><p> ,      Block Design,    Validate Design.   ,  Vivado   .  OK    Block Design (. 48). </p><br><br> <a href=""><img src="https://habrastorage.org/webt/je/it/ei/jeiteibpcqfqiokmsap7tihh_pc.png"></a> <br> <i>  47 ‚Äì      IP Integrator</i> <br><br><h2>  3.4.    </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Go to the Sources tab, right click on the system and select the Create HDL Wrapper option (create an HDL wrapper for our Block Design) pic. </font><font style="vertical-align: inherit;">48</font></font><br><br><p> <a href=""><img src="https://habrastorage.org/webt/ux/me/vj/uxmevjbrzuxhpiebx1tb7h_yqa4.png"></a> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 48 - Creating a project wrapper</font></font></i> </p><br><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After that, Vivado will offer to manually update the HDL wrapper when you make changes to Block Design, or to do it automatically. </font><font style="vertical-align: inherit;">We leave the automatic update and click OK (Fig. 49).</font></font></p><br><br><p> <a href=""><img src="https://habrastorage.org/webt/aw/f2/gw/awf2gwbv4zwvkl6i-gdw8ueomjo.png"></a> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 49 - HDL Wrap Upgrade Options</font></font></i> </p><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now we point out that the system_wrapper module is a top module. </font><font style="vertical-align: inherit;">Right-click on system_wrapper and select Set as Top (fig. 50).</font></font><br><br><p> <a href=""><img src="https://habrastorage.org/webt/n5/ot/rb/n5otrbcuwjau3n5g2dsgpiqm_vy.png"></a> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 50 - Making the system_wrapper module a top module</font></font></i> </p><br><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Now let's perform the synthesis of the system_wrapper module by clicking on the Run Synthesis button (Fig. 51). </font></font></p><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Note: to connect the debugging blocks, we actually used HDL Insertion Flow [4], that is, we actually inserted our ILA blocks into the code and connected circuits to them. </font><font style="vertical-align: inherit;">It makes no difference how you create and connect circuits for debugging: via HDL or Netlist. </font><font style="vertical-align: inherit;">In the end, ECO works with synthesized or implemented netlist that is stored in Design Checkpoint.</font></font><br><br><p> <a href=""><img src="https://habrastorage.org/webt/6m/42/wd/6m42wdncqp7wffvf3gjprpu34ca.png"></a> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 51 - Starting the synthesis of the project</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> After clicking on the Run Synthesis button, click OK and wait until the synthesis is complete.</font></font></p><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After the end of the synthesis, a window will be displayed in which you will be asked to start the implementation, open the results of the synthesis or view the reports. </font><font style="vertical-align: inherit;">Open the results of the synthesis (Fig. 52).</font></font><br><br><p> <a href=""><img src="https://habrastorage.org/webt/s3/pc/fj/s3pcfjofof8e2v0tkdv74hysssm.png"></a> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 52 - Opening the results of the synthesis</font></font></i> </p><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now we connect the legs in our project. </font><font style="vertical-align: inherit;">This is done using Pin Planer. </font><font style="vertical-align: inherit;">To open it, click Window ‚Üí I / O Ports (fig. 54).</font></font><br><br><p> <a href=""><img src="https://habrastorage.org/webt/2v/ni/uh/2vniuhnfdejdw3tt7wern9n5sgy.png"></a> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 53 - Opening the window for pin assignment</font></font></i> </p><br><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Using the Reference Manual [12] for Arty, assign the legs (Fig. 54). </font></font></p><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BE CAREFUL!!! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I specifically confused the legs for the UART rx and tx module! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assign the legs in accordance with Fig. </font><font style="vertical-align: inherit;">54.</font></font><br><br><p> <a href=""><img src="https://habrastorage.org/webt/2j/sh/pl/2jshplggeffh-9com9hin-zwn8e.png"></a> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 54 - Assignment of project legs (rx and tx UART are confused specially)</font></font></i> </p><br><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Click the save button, after which Vivado will indicate that you did not create the design constraints file, and will offer to create it. Enter the file name constr and click OK (Fig. 55). </font></font></p><br><br><p> <a href=""><img src="https://habrastorage.org/webt/0v/ds/o-/0vdso-nr9meoewsetup_gvwo7fc.png"></a> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 55 - Creating a design constraint file</font></font></i> </p><br><br><p>           .    Generate Bistream,  OK     (. 56). </p><br><br><p> <a href=""><img src="https://habrastorage.org/webt/im/4i/be/im4ibedzo6sj857p7hcdgflu-by.png"></a> <br> <i>  56 ‚Äì   Generate Bitstream</i> </p><br><br><p>    Bitstream    .  Cancel (. 57) </p><br><br><p> <a href=""><img src="https://habrastorage.org/webt/it/em/de/itemdeagdg2ttkpo_ahszhj9kti.png"></a> <br> <i>  57 ‚Äì      </i> </p><br><br><h2>  3.5.    MicroBlaze </h2><br><p>      MicroBlaze.     Xilinx Software Development Kit (SDK).     SDK      (IP ,     AXI)     SDK.     File ‚Üí Export ‚Üí Export Hardware (. 58). </p><br><br><p> <a href=""><img src="https://habrastorage.org/webt/yr/ei/cj/yreicjqmejep2y1fhtiiq80sbbq.png"></a> </p><br><br><p>   58 ‚Äì       SDK </p><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In the window that appears, do not check the Include Bitstream box. </font><font style="vertical-align: inherit;">Leave the default settings and click OK (Fig. 59).</font></font><br><br><p> <a href=""><img src="https://habrastorage.org/webt/n5/-g/in/n5-gin-hh2rq954gxhzsy8kejsq.png"></a> </p><br><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Figure 59 - Export Parameters Window </font></font></p><br><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now run the SDK. </font><font style="vertical-align: inherit;">To do this, select File ‚Üí Launch SDK</font></font></p><br><br><p> <a href=""><img src="https://habrastorage.org/webt/9s/uf/d8/9sufd87wlgtfrfrn1p0q3mvkdry.png"></a> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 60 - Launch the SDK</font></font></i> </p><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wait until the end of the SDK service operations. </font><font style="vertical-align: inherit;">After they are finished, we can start creating a new project. </font><font style="vertical-align: inherit;">Choose File ‚Üí New ‚Üí Application Project.</font></font><br><br><p> <a href=""><img src="https://habrastorage.org/webt/cj/w0/x7/cjw0x7f0sv4z09a_ccep8-iksuo.png"></a> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 61 - Creating a new project in the SDK</font></font></i> </p><br><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Enter the name of the new MB_run project, click Next (fig. 62) </font></font></p><br><br><p> <a href=""><img src="https://habrastorage.org/webt/cz/sx/pb/czsxpbyfxfzokxo_pr0afojrrsg.png"></a> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 62 - Setting up a new project</font></font></i> </p><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> In the ready-made templates window, select the creation of the Hello World application and click Finish (fig. 63) </font></font><br><br><p> <a href=""><img src="https://habrastorage.org/webt/9o/hf/pw/9ohfpwp-orysqe8rn_hxo8kdda8.png"></a> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 63 - Selecting a template for the project being created</font></font></i> </p><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Open the file helloworld.c (the location of which is shown in Figure 64) and replace its contents with the program code shown in Listing 3, and save the result. </font></font><br><br><p> <a href=""><img src="https://habrastorage.org/webt/s0/wx/yx/s0wxyxlr2vteafl62mi5wyleioo.png"></a> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 64 - Location of the helloworld.c file</font></font></i> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Listing 3 - Replaced contents of the helloworld.c file</font></font><br><br> <a href=""><img src="https://habrastorage.org/webt/nn/8g/bc/nn8gbctl5a78ln6bkyupiqv0d-u.png"></a> <br><font style="vertical-align: inherit;"></font><br></p><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The program sends ‚ÄúHello World: cycle‚Äù approximately once every 2 seconds and blinks with the LED LD1 (red component) also approximately once every 2 seconds. </font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.6. </font><font style="vertical-align: inherit;">Running the program and debugging</font></font></h2><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> After writing the code and assembling the processor system, you need to make sure that: </font></font></p><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> LD4 LED is lit by pressing the BTN0 button </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The processor works and sends ‚ÄúHello World: cycle‚Äù to the console, however, we don‚Äôt see the words in the console, because we made the wrong connection rx and tx. </font><font style="vertical-align: inherit;">An additional signaling device of the processor is the flashing LED LD1.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> AXI-Lite transactions from the processor to the UART are executed. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The block memory is read and gives the correct values. </font></font></li></ol><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">First we connect Arty to the computer. </font><font style="vertical-align: inherit;">Perform the setting of the terminal in which the UART messages should be displayed. </font><font style="vertical-align: inherit;">This can be done using standard SDK tools. </font><font style="vertical-align: inherit;">The SDK has a terminal located below (Fig. 65). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If there is no terminal, then it can be found in Window ‚Üí Show View ‚Üí Others ‚Üí Xilinx ‚Üí SDK Terminal (Fig. 65).</font></font></p><br><br> <a href=""><img src="https://habrastorage.org/webt/k2/a8/hf/k2a8hf09jkq6svequcpcfode9yg.png"></a> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 65 - Opening the embedded terminal in the SDK</font></font></i> <br><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Set the terminal settings, in accordance with Fig. </font><font style="vertical-align: inherit;">66. COM port number may vary.</font></font></p><br><br> <a href=""><img src="https://habrastorage.org/webt/_t/--/tf/_t--tfl5op_gpeo1jhbesc8nuoe.png"></a> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 66 - Configuring the terminal's SDK</font></font></i> <br><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Now let's go to Vivado and execute FPGA programming. </font></font></p><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Click Open Hardware Manager and go to programming and debugging mode. </font><font style="vertical-align: inherit;">Select Open Target and click Auto Connect Auto Connect (Fig. 67)</font></font><br><br><p> <a href=""><img src="https://habrastorage.org/webt/9f/5j/_j/9f5j_jfh9tnsyjhhsjyqk0jwj6k.png"></a> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 67 - Opening the Hardware Manager and connecting to the FPGA</font></font></i> </p><br><br><p>           (. 68) </p><br><br> <a href=""><img src="https://habrastorage.org/webt/06/8-/nx/068-nx2t9tukvgsjnpleextmofg.png"></a> <br><br><p>   68 ‚Äì   </p><br><br><p>      ,      .bit     .ltx (.69)     Program. </p><br><br> <a href=""><img src="https://habrastorage.org/webt/k2/2p/dq/k22pdqsnvmrjbtwraagvprx5ryq.png"></a> <br> <i>  69 ‚Äì      </i> <br><br><p>    ,  LD4  ,      BTN0    LD4. <br>           UART      LD1. <br>    SDK,       MB_run,    Run As ‚Üí Launch on Hardware (System Debugger),    . 70.     ,      . </p><br><br> <a href=""><img src="https://habrastorage.org/webt/ha/hc/vq/hahcvqmncno43iajyif5-xgw-rm.png"></a> <br> <i>  70 ‚Äì    </i> <br><br><p>   , ,   LD1 ,    SDK Terminal  ,  rx  tx . <br>     , ,    UART - . <br>   Vivado. ,   ,     ILA:      AXI  UART,      .        ILA (. 71). </p><br><br><p> <a href=""><img src="https://habrastorage.org/webt/g5/k0/lk/g5k0lkdqlemp7jpkpjb7djvgbhu.png"></a> <br> <i>  71 ‚Äì   ILA</i> </p><br><br><p>  ,     ,       ,   ,            .   ,      ,     UART - .     ¬´¬ª,    , ,      ,    ILA. <br>     hw_ila_1        . <br>   Trigger Setup , .           ,   . 72.   OK. </p><br><br> <a href=""><img src="https://habrastorage.org/webt/ud/rn/ny/udrnnyavnc7vicniasa3s5-nvku.png"></a> <br> <i>  72 ‚Äì     ILA</i> <br><br><p> :     AXI-Lite,     .     ,        .       , ,    [14]. <br><br>     .     RVALID  ¬´1¬ª,  ,    ,      ¬´1¬ª.   ,    . 73.      . </p><br><br> <a href=""><img src="https://habrastorage.org/webt/7u/36/rt/7u36rtiqtwqmiv7oqyz0s37blv0.png"></a> <br> <i>  73 ‚Äì    ILA   </i> <br><br><p> ,     ,      ,    .     .  74 </p><br><br><p> <a href=""><img src="https://habrastorage.org/webt/tl/cn/kz/tlcnkzjogg0efvddad8ah1lv8wk.png"></a> <br> <i>  74 ‚Äì      AXI-Lite</i> </p><br><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Change the displayed bus status to ASCII. </font><font style="vertical-align: inherit;">To do this, right-click on the bus, then select Radix, then ASCII (Fig. 76).</font></font></p><br><br> <a href=""><img src="https://habrastorage.org/webt/yo/ai/qv/yoaiqvlszrwcyf_eso_rcwr8oia.png"></a> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 75 - The choice of data representation on the bus * WDATA [31: 0]</font></font></i> <br><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After that we will see on the bus a part of our message that the processor sends out. </font><font style="vertical-align: inherit;">This partially confirms that the transaction is correct (Fig. 76).</font></font></p><br><br> <a href=""><img src="https://habrastorage.org/webt/th/y9/di/thy9dixur6by-giiyojeev9x8m0.png"></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Figure 76 - ASCII representation of data on the bus * WDATA [31: 0] </font></font><br><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Try repeating the actions from fig.71 to fig. </font><font style="vertical-align: inherit;">76 for hw_ila_2, which is connected to the output of the block memory reader module. </font><font style="vertical-align: inherit;">Install the trigger is not required. </font><font style="vertical-align: inherit;">If everything is done correctly, the picture should be similar to fig. </font><font style="vertical-align: inherit;">77.</font></font></p><br><br> <a href=""><img src="https://habrastorage.org/webt/rd/pw/ly/rdpwlyp-xyzz4o4vcwjkf8zefry.png"></a> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 77 - Data read from block memory</font></font></i> <br><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> This completes the test project build, and we can start editing our netlist and working in ECO mode. </font></font></p><br><br><br><h1> 4.    ECO </h1><br><p>    : </p><br><br><ol><li>    BTN0   </li><li>   UART ,        (  rx  tx) </li><li>        (    ASCII:‚Äùauthor: KeisN13‚Äù). </li></ol><br><p>   ,             ECO,      Design Checkpoint (DCP).    DCP,       (post route). <br>        Vivado  DCP,      DCP  ¬´¬ª  DCP   . <br>    edited_dcp.        (. 78) </p><br><br> <a href=""><img src="https://habrastorage.org/webt/ir/hh/uk/irhhukkfdgptjxs7jaj1axya9ck.png"></a> <br> <i>  78 ‚Äì     DCP</i> <br><br><p>      DCP ,   ¬´_/_.runs/_/___routed.dcp¬ª (. 79)   edited_dcp. <br></p><br><br> <a href=""><img src="https://habrastorage.org/webt/ix/c7/qd/ixc7qd_m5xuikmi0swjjgbuzfjs.png"></a> <br> <i>  79 ‚Äì  DCP</i> <br><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Go to Vivado and perform the opening of the DCP. </font><font style="vertical-align: inherit;">To do this, click File ‚Üí Open Checkpoint (Fig. 80)</font></font></p><br><br> <a href=""><img src="https://habrastorage.org/webt/sx/j0/-v/sxj0-vkosu4hbaxt7anspcdhhsk.png"></a> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 80 - Opening DCP</font></font></i> <br><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Select the location of the copied DCP file in the edited_dcp folder and click OK. </font></font></p><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After opening the DCP, by default, the view (perspective) Default will be opened, or the one that you used the last time, if you opened the DCP (Fig. 81). </font><i><font style="vertical-align: inherit;">Figure 81 - Debug Open DCP Perspective</font></i></font><br><br> <a href=""><img src="https://habrastorage.org/webt/rg/q8/sm/rgq8smmguht0yf497wv4oh2zsw8.png"></a> <br> <i><font style="vertical-align: inherit;"></font></i> <br><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">There are several modes of operation with DCP, but today we are interested in ECO Flow. </font><font style="vertical-align: inherit;">To switch to ECO mode, you must change the view. </font><font style="vertical-align: inherit;">To do this, select ECO in the upper right corner of the drop-down list (Fig. 82).</font></font></p><br><br><p> <a href=""><img src="https://habrastorage.org/webt/qk/yx/vi/qkyxvi8x-n1pzmmyy4bkiopdzb0.png"></a> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 82 - Transition to ECO mode</font></font></i> </p><br><br><p>  ,       ECO  (. 83).       ,   . </p><br><br> <a href=""><img src="https://habrastorage.org/webt/sd/i7/vi/sdi7vi1zkn6hsaqu2zzg0kfc00a.png"></a> <br> <i>  83 ‚Äì    ECO</i> <br><br><h1> 5. ECO:   </h1><br><p>    ECO   ,    . 84.      DCP.   DCP     ,      / Tcl-.  , ,            ,       .    ,       (, .bit)     (.ltx).       ¬´ ¬ª,    ,       .    ‚Äì     DCP   . </p><br><br> <a href=""><img src="https://habrastorage.org/webt/k6/gb/gt/k6gbgtxdqjtsmflmunl4iumgivo.png"></a> <br> <i>  84 ‚Äì     ECO</i> <br><br><p>        .        [3]   Vivado ECO Flow. <br>     ECO    ,       ,     . <br>      ECO Navigator,      . ECO Navigator    . <br> <b> Edit</b> (. 85):    ,     </p><br><br> <a href=""><img src="https://habrastorage.org/webt/rg/1u/zf/rg1uzf0tho-l7ywjwdqtjxib5v8.png"></a> <br> <i>  85 ‚Äì   Edit</i> <br><br><p> <b>Create Net:</b>   ,      .        ,       .    .   pin  port,        ,    Connect selected pins and ports (. 86). </p><br><br> <a href=""><img src="https://habrastorage.org/webt/8r/yj/_g/8ryj_gwu77nxnmxzbjftfkq-qhi.png"></a> <br> <i>  86 ‚Äì   Create Net</i> <br><br><p> <b>Create Cell:</b>   ,       .         .     ,    ,  black box.    LUT,     ,     (. 87). </p><br><br><p> <a href=""><img src="https://habrastorage.org/webt/2p/qp/vb/2pqpvbw3en7npdwbykkywbprrvo.png"></a> <br> <i>  87 ‚Äì   Create Cell</i> </p><br><br><p> <b>Create Port:</b>           .    : ,  ,    .. (. 88). </p><br><br><p> <a href=""><img src="https://habrastorage.org/webt/hd/jw/gu/hdjwgul_9b08m1fiwf1u9m7tcva.png"></a> <br> <i>  88 ‚Äì   Create Port</i> </p><br><br><p> <b>Create pin:</b>        .        (  cell)    .             create_port.     ,         (. 89). </p><br><br> <a href=""><img src="https://habrastorage.org/webt/kf/ia/gg/kfiaggwbahy0uzx95qg_2a9n3uk.png"></a> <br> <i>  89 ‚Äì   Create Pin</i> <br><br><p> <b>Connect Net:</b>       .           .        ,    . <br> Disconnect Net:   ,     .  ,     cell,     ,   . <br> Replace Debug Probes:    ,       ILA / VIO (Virtual Input Output),    ,         . <br> Place Cell:     cell    . <br> Unplace Cell:     cell   . <br><br> <b> Run</b> <br>   Run     ,    . </p><br><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Check ECO:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Runs error checking (DRC - Design Rule Check) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Note: Vivado allows you to make many changes to a netlist using ECO mode commands. However, the logical changes made to the project can lead to impracticable physical implementation. Running Check ECO should be done before you decide to implement the project to eliminate errors in the early stages of the ECO Flow route. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Optimize Logical Design:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in some cases it is recommended to perform netlist optimization using the opt_design command and its corresponding options [9]. Optimize Logical Design allows you to call a dialog box that allows you to enter the appropriate Tcl arguments of the opt_design command, which are specified in the options string.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Place Design: Performs an incremental (i.e. based on the previous netlist) component layout of the current netlist. The Incremental Placement Summary report, which is displayed in the console at the end of the place_design command, allows viewing statistics on the reuse of the previous placement, which was in the original DCP before making changes. Clicking Place Design brings up a window in which the appropriate options for the place_design [9] command can be set. For more information on incremental implementation, see [3] in the Incremental Compile section. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Optimize Physical Design:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in some cases, it may be necessary to perform a physical optimization (phys_opt_design command [9]). The dialog box invoked by clicking on Optimize Physical Design allows you to enter the appropriate options for the phys_opt_design command. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Route Design: brings up a dialog box that allows, depending on the choice, to perform an incremental trace of the changes made to the netlist, the trace of the selected pins or chains. In case the percentage of reused eroded chains is less than 75%, then an ordinary netlist trace will be fired. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For more information on incremental implementation, see [3] in the Incremental Compile section. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Report Section</font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In this section, it is possible to generate the necessary reports for the modified netlist, including a report of the resources used, temporal characteristics, the intersection of clock domains, etc. </font></font><br><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Program Section The</font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tools of this section allow you to save the changes you made to the new DCP, create the FPGA firmware file, create a new sheet of circuits being debugged via the ILA, in case the ILA has been modified, program the FPGA and debug using standard V Manager Hardware Manager.</font></font><br><br><br><p> <b> Scratch</b> <br>      ,      , , .   Con    , PnR      . <br>       Scratch      (. 90). ,   ,       .    ,      [3]   Vivado ECO Flow ‚Üí Scratch Pad ‚Üí Scratch Pad Pop-up Menu. </p><br><br> <a href=""><img src="https://habrastorage.org/webt/cs/es/t2/csest2yabyrxcetmnqcz-loytfo.png"></a> <br> <i>  90 ‚Äì     Scratch</i> <br><br><h1> 6.     </h1><br><p>          . ,   ,      .  ,   LD0 ,     BTN0 .  ,      ,  . </p><br><br><br><h2>  6.1.      </h2><br><p>  ,     ibtn,        ,    F4.  ,       ,    . </p><br><br> <a href=""><img src="https://habrastorage.org/webt/a9/8m/z0/a98mz0usjgmtepy4zcuvfhqiezi.png"></a> <br> <i>  91 ‚Äì     </i> <br><br><p>   ,      ibtn.       ibtn   LD1 ( obtn_led).       ibtn,  Expand Cone   To Flops or I/Os.    Regenerate Layout (. 92) </p><br><br> <a href=""><img src="https://habrastorage.org/webt/hi/an/y7/hiany78abczmyvhhdxlswyl7jm8.png"></a> <br> <i>  92 ‚Äì   ,    </i> <br><br><p>     ¬´¬ª     (. 93). </p><br><br> <a href=""><img src="https://habrastorage.org/webt/xw/cm/ii/xwcmiilwwgcaqgu3jbymivsllig.png"></a> <br> <i>  93 ‚Äì ¬´¬ª   ibtn  obtn_led</i> <br><br><p>  ,   ,  ,     .      system_i   .       obtn_led  system_i   I  obtn_led_OBUF_inst,    Edit  Disconnect Net. </p><br><br> <a href=""><img src="https://habrastorage.org/webt/ms/zo/cl/mszocl6807avix4nrffalsfrjue.png"></a> <br> <i>  94 ‚Äì   </i> <br><br><p>     Regenerate Layout ,     (. 95) </p><br><br> <a href=""><img src="https://habrastorage.org/webt/8-/vl/wg/8-vlwgumdd5mzdmjdonir9ndsuq.png"></a> <br> <i>  95 ‚Äì    </i> <br><br><p>      Scratch Pad,   . <br>     .    Edit  Create Cell,    invertor,   INV   OK (. 96) </p><br><br><br><br> <a href=""><img src="https://habrastorage.org/webt/ee/q9/9e/eeq99ezhertwahrrykmmkcsrm50.png"></a> <br> <i>  96 ‚Äì  </i> <br><br><p>  INV     (. 97) </p><br><br> <a href=""><img src="https://habrastorage.org/webt/1x/dq/p8/1xdqp88v2dzmnktfgxpo9afqcra.png"></a> <br> <i>  97 ‚Äì     </i> <br><br><p>  ,    LUT.    ,   LUT     ,  ,      ,   Cell Properties,   Truth Table  Edit LUT Equation‚Ä¶ (. 98). </p><br><br><br><br> <a href=""><img src="https://habrastorage.org/webt/pt/wu/vd/ptwuvdgkxyghddy6bdrndjpuohm.png"></a> <br> <i>  98 ‚Äì      LUT</i> <br><br><p>   .    ,    Scratch Pad  I0  invertor  obtn_led  system_i. </p><br><br> <a href=""><img src="https://habrastorage.org/webt/q4/my/fx/q4myfxhn74hrdxfj8smahuhshdo.png"></a> <br> <i>  99 ‚Äì   </i> <br><br><p>     .     Edit   Create Net.        btn_led,          (. 100) </p><br><br> <a href=""><img src="https://habrastorage.org/webt/xt/uc/d3/xtucd39095yjnjc2m03dclx2iz0.png"></a> <br> <i>  100 ‚Äì   </i> <br><br><p>       .  Regenerate Layout (. 101) </p><br><br> <a href=""><img src="https://habrastorage.org/webt/ea/gp/xq/eagpxqhhndgq8tbjzgrjumh8sa4.png"></a> <br> <i>  101 ‚Äì  </i> <br><br><p>          O  invertor   I  obtn_led_OBUF_inst.   -,               .   btn_led_o.     .  102 </p><br><br><p> <a href=""><img src="https://habrastorage.org/webt/sm/mt/7v/smmt7vgabefdkti9mv_yncvncbu.png"></a> <br> <i>  102 ‚Äì    </i> </p><br><br><p>    DCP    ,          (. 103). </p><br><br> <a href=""><img src="https://habrastorage.org/webt/3p/8c/mq/3p8cmqfz5zy9ejv6_cqshsokic0.png"></a> <br> <i>  103 ‚Äì  ECO  </i> <br><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Due to the fact that we did not perform the placement and tracing, a series of errors will appear that speak of this. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now we will try to generate a bit firmware file, and see if it worked out to make changes correctly. </font><font style="vertical-align: inherit;">To do this, you must consistently perform the steps from the section Run, not all of course and without any options. </font><font style="vertical-align: inherit;">Everything remains by default (fig. 104). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Click Place Design and without entering any options click OK. </font><font style="vertical-align: inherit;">After waiting for the completion of operations, click Route Design and select Incremental Route in the window that appears, click OK. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After that, we generate a bit file by clicking on Generate Bitstream. </font><font style="vertical-align: inherit;">Make sure that the edited_dcp folder is in the file path field. </font><font style="vertical-align: inherit;">After that, open the Hardware Manager for the firmware of our FPGA.</font></font></p><br><br> <a href=""><img src="https://habrastorage.org/webt/i4/-k/gb/i4-kgbf56xylxkw7wrx2ef7hmwe.png"></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Figure 104 - Sequence of actions for obtaining the firmware file .bit </font></font><br><br><p>    ,       Vivado.      ,       Vivado   Hardware Manager (. 105).    ,     .bit     ILA .ltx </p><br><br><p> <a href=""><img src="https://habrastorage.org/webt/wm/_i/gd/wm_igdngr8brvryds70wxd_651y.png"></a> <br> <i>  105 ‚Äì  Hardware Manager    Vivado</i> </p><br><br><p>   ,  .67-69   .  ,     ,    edited_dcp (. 106). </p><br><br><p> <a href=""><img src="https://habrastorage.org/webt/bu/wj/qy/buwjqyeuuir4dwukmzktuezcmhy.png"></a> <br> <i>  106 ‚Äì      </i> </p><br><br><p>     ,   LD0   ,     BTN0 . </p><br><br><br><h2> 6.2.  /  </h2><br><p>   ECO         .         brom_reader,    , ,  .    BROM     INIT,    . <br>    Netlist       brom_reader (.107). </p><br><br> <a href=""><img src="https://habrastorage.org/webt/va/_x/x4/va_xx46hz3wvmdxxgfc3wfstase.png"></a> <br> <i>  107 ‚Äì     brom_reader  </i> <br><br><p>      ,     ,  Cell Properties (. 108).     Properties     INIT. </p><br><br> <a href=""><img src="https://habrastorage.org/webt/jl/yx/ed/jlyxedy9iatih2hyjjsmgja7m80.png"></a> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 108 - INIT properties of the selected block memory</font></font></i> <br><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> As you can see, the initialization values ‚Äã‚Äãof the block memory are stored in the INIT properties. </font><font style="vertical-align: inherit;">Among the many of these properties, we are interested only in INIT_00 and INIT_01. </font><font style="vertical-align: inherit;">If you copy the contents of these two properties of the HEX to ASCII converter [15], you get the inscription, which we saw in fig. </font><font style="vertical-align: inherit;">77, but written in reverse order (Fig. 109) </font><i><font style="vertical-align: inherit;">Figure 109 - The content of the INIT properties in ASCII format</font></i></font><br><br> <a href=""><img src="https://habrastorage.org/webt/pz/ov/_4/pzov_47szeot_jtxwcndijhzowe.png"></a> <br> <i><font style="vertical-align: inherit;"></font></i> <br><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You can change the property of a component by clicking on the pencil icon and entering new values ‚Äã‚Äãor using the Tcl console and the set_ptoperty command. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Replace the property values ‚Äã‚Äãaccording to Fig. 110 and save the result:</font></font></p><br><br><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> INIT_00: 256'h0061006700700066002E00770077007700200020002000200020002000200020 </font></font></p><br><br><p> INIT_01: 256'h0020002000200020002000750072002E0073006D00650074007300790073002D </p><br><br> <a href=""><img src="https://habrastorage.org/webt/j9/t9/ud/j9t9udzl2vkrojnrynjlqvwj2ia.png"></a> <br> <i>  110 ‚Äì    INIT   ASCII</i> <br><br><p>            ,  <b>     </b> .   Generate Bitstream     .      .ltx,       (. 111). </p><br><br> <a href=""><img src="https://habrastorage.org/webt/o5/i2/yu/o5i2yu9-key8ghewifoquhmpm8q.png"></a> <br> <i>  111 ‚Äì       </i> <br><br><p>   Hardware manager   FPGA     .bit     .ltx (.112).  ,      edit_dcp. </p><br><br> <a href=""><img src="https://habrastorage.org/webt/u7/0v/1j/u70v1j7bq_s83r7ekzczepkzasm.png"></a> <br> <i>  112 ‚Äì       </i> <br><br><p>   ,   . 73-75 ( hw_ila_2,      ASCII    ).    ,     .  113. </p><br><br> <a href=""><img src="https://habrastorage.org/webt/xf/c6/m9/xfc6m9soiblx9i8xuxcdwiddytm.png"></a> <br> <i>  113 ‚Äì    </i> <br><br><p>  ,            ,    ,       ,        .    ,    ,    , ,      MMCM  PLL  .   ,     , ,    ,       (Report Timing Summary  ..). </p><br><br><br><h2> 6.3.       ILA </h2><br><p> ,     ECO       ,   .     ,       ,     ¬´  ¬ª.    ,          gnd  vcc. <br><br>   ,     ,   ,    . <br><br>       ECO,    ,    ;   . </p><br><br><p> <i>:          ,      ¬´ ¬ª,        :      .     :     ,       ,   Disconnect Net  .             ¬´DONT_TOUCH¬ª     ( ¬´unrote¬ª) ‚Äì  Disconnect Net  .       .</i> </p><br><br><p>    ,     ,    .    ,          brom_reader.          .   ,       (. 114).    cnt,  ,  5. </p><br><br><p> <a href=""><img src="https://habrastorage.org/webt/-y/5b/l7/-y5bl7josb2y6bckas-acbzzhsu.png"></a> <br> <i>  114 ‚Äì      </i> </p><br><br><br><p>   Replace Debug Probes.       31,    5 ,       ila_1,        Edit Probes (. 115).    ila,    .  ,  . </p><br><br> <a href=""><img src="https://habrastorage.org/webt/yn/ya/r0/ynyar0xhtv05ifthgihuhzp-kwm.png"></a> <br> <i>  115 ‚Äì   </i> <br><br><p>     ,     *cnt[*].    ,      .  ,     5 ,     5 .     contains  match     tcl         .                Tcl  ,    . </p><br><br> <a href=""><img src="https://habrastorage.org/webt/n2/89/vb/n289vbfzwfarmkl0pmsxnpyzqoq.png"></a> <br> <i>  116 ‚Äì     </i> <br><br><p>       ¬´0¬ª,  Vivado ,   gnd  const0.    ,   Edit Probes (.117). </p><br><br> <a href=""><img src="https://habrastorage.org/webt/wf/6b/f-/wf6bf-eojdgjn0bq2vcrwk5re8q.png"></a> <br> <i>  117 ‚Äì  ila_1</i> <br><br><p>      *const0      ,     ,       (. 118). <b> !!!</b>      Debug Hub (dbg_hub),    Vivado        ,      .     IP, , uartlite. </p><br><br> <a href=""><img src="https://habrastorage.org/webt/ux/tw/4o/uxtw4owijwfwv1pj1ftj1auyqiq.png"></a> <br> <i>  118 ‚Äì     </i> <br><br><p>  ila_1     . 119.   ,      .   ,     DRC. </p><br><br> <a href=""><img src="https://habrastorage.org/webt/wq/xz/2r/wqxz2r0szlf1annzhvs2cl9hfqq.png"></a> <br> <i>  119 ‚Äì    ila_1</i> <br><br><p>     OK  ,  ,   DONT_TOUCH    ,     ila_1.    ,         .  ,        ,    .   ,  Unset Property     DCP. <br>    , ,       (.120).     1    . ,   ! </p><br><br><p> <a href=""><img src="https://habrastorage.org/webt/ia/rd/fp/iardfp24qt9nkhhvdv_d1hbbapc.png"></a> <br> <i>  120 ‚Äì          </i> </p><br><br><p>   Hardware Manger    ,     .bit  .ltx . <br>  hw_ila_2   4 :  cnt   const0.     cnt  hex  unsigned decimal (   . 75)   ,   .   ,       cnt  0  31   1 (.121). </p><br><br> <a href=""><img src="https://habrastorage.org/webt/xg/o4/8p/xgo48pmyr31f3ueul_vpmjopiuq.png"></a> <br> <i>  121 ‚Äì   cnt   ila_1</i> <br><br><p>  ,            . </p><br><br><h2> 6.4.   / </h2><br><p> ,      rx  tx   uart  -  Hello World  .  ,     ECO   ,   .     . <br><br>  .      ,  ,            cell,      .   ,   . <br><br>     . <br><br>   uart_rtl_0_rxd,       .  unplace cell    (. 122).    ,  ,         . </p><br><br> <a href=""><img src="https://habrastorage.org/webt/r4/la/pa/r4lapambwcfod3hdinac-ewqjl8.png"></a> <br> <i>  122 ‚Äì      </i> <br><br><p>    .     uart_rx,    Create Port       .  123 </p><br><br> <a href=""><img src="https://habrastorage.org/webt/le/tf/iq/letfiq8mvdhmzjfllpsm9-o3kt4.png"></a> <br> <i>  123 ‚Äì    </i> <br><br><p>   A9     , Vivado  ,          A9.    (. 124) </p><br><br> <a href=""><img src="https://habrastorage.org/webt/oo/wg/eb/oowgebbu_dhzberg2v9sn2wecy8.png"></a> <br> <i>  124 ‚Äì         </i> <br><br><p>    .   Create Cell,    ibuf_rx (. 125) </p><br><br><p> <a href=""><img src="https://habrastorage.org/webt/f7/xd/bm/f7xdbmmycj_kuv4grseh92l4254.png"></a> <br> <i>  125 ‚Äì   </i> </p><br><br><p>   .     .     ,      .   uart_rx   Create Net.   rx_net. </p><br><br> <a href=""><img src="https://habrastorage.org/webt/8z/y3/kr/8zy3krtv611ow1lkcbg6q7zdmrq.png"></a> <br> <i>  126 ‚Äì  </i> <br><br><p>      I     Connect Net.     (. 127) </p><br><br> <a href=""><img src="https://habrastorage.org/webt/g4/km/ui/g4kmuiyhn1qjc87tm8edlkjnf-e.png"></a> <br> <i>  127 ‚Äì     </i> <br><br><p>   ,     system_i.    O    uart_rtl_0_rxd,   system_i   Create Net </p><br><br> <a href=""><img src="https://habrastorage.org/webt/my/hp/6x/myhp6xtcxrubfveyxyexmb6f23i.png"></a> <br> <i>  128 ‚Äì    </i> <br><br><p>        . <br>    uart_rtl_0_txd,       .  Unplace cell,    ,    (. 122).    ,  ,         . </p><br><br> <a href=""><img src="https://habrastorage.org/webt/go/jz/_7/gojz_7w5moppdprmklaxzopd6lm.png"></a> <br> <i>  129 ‚Äì   </i> <br><br><p>   uart_tx,   Create Port,   Output    LVCMOS33 (. 130) </p><br><br> <a href=""><img src="https://habrastorage.org/webt/fu/gj/vb/fugjvbklfnro-y3pk8znczvutkk.png"></a> <br><br><p>   130 ‚Äì     </p><br><br><p>   tx_net,      uart_tx.  uart_tx   Create Net </p><br><br> <a href=""><img src="https://habrastorage.org/webt/5g/av/yo/5gavyogcl8on5n_0zin44alksus.png"></a> <br> <i>  131 ‚Äì   tx_net</i> <br><br><p>    tx_obuf,  Create Cell    OBUF (. 132) </p><br><br> <a href=""><img src="https://habrastorage.org/webt/pd/ys/41/pdys41vwysyxfpect0xpwxl20ec.png"></a> <br> <i>  132 ‚Äì   </i> <br><br><p>   O    ,    uart_tx   Connect Net. </p><br><br> <a href=""><img src="https://habrastorage.org/webt/jg/cy/er/jgcyer3rof6__vgpx6c_20o2e4i.png"></a> <br> <i>  133 ‚Äì    </i> <br><br><p>     system_i.   I    uart_rtl_0_txd (. 134). </p><br><br> <a href=""><img src="https://habrastorage.org/webt/7x/0g/4_/7x0g4_xruh4el1h_-grikjf36cm.png"></a> <br> <i>  134 ‚Äì    </i> <br><br><p>        .      (. 135). </p><br><br> <a href=""><img src="https://habrastorage.org/webt/hc/vd/_r/hcvd_rgtbviwdvqxodm6uzyding.png"></a> <br> <i>  135 ‚Äì      </i> <br><br><p>  Hardware Manager   .   SDK     (. . 70).   ,       Hello World: cycle (. 136). </p><br><br> <a href=""><img src="https://habrastorage.org/webt/fh/fe/d6/fhfed6fkll1tqjrbhc66lblrsiw.png"></a> <br> <i>  136 ‚Äì  Hello World  SDK Terminal</i> <br><br><h1> 7.   </h1><br><p>              ,    .   , ,  , ..      ,   ,       ..      HDL ,      ,    ¬´-¬ª    .     1.   ,           ,         .       ,     .   ,     IP Integrator ‚Äì        IP  RTL. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Table 1. Comparative analysis of the time spent on obtaining the final firmware file in various modes. </font></font><br> <a href=""><img src="https://habrastorage.org/webt/wi/x0/2m/wix02mx06sdye_z6kdp5knpzscu.png"></a> </p><br><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Summarizing the comparative analysis, I would say once again that it is very superficial. </font><font style="vertical-align: inherit;">You understand perfectly well that FPGA is a complex system and the time of a particular stage of the design route can vary greatly. </font><font style="vertical-align: inherit;">However, ECO does not require synthesis, and making small changes to the project is much faster, especially when you want to save the trace of the crystal and make changes only to the contents of the components.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 8. Conclusion </font></font></h1><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Have I ever applied the ECO mode in practice? </font></font> Yes.  ,        ,      ,     .      ECO; ,         Tcl-,    .   ,  ECO         ‚Äì   ,         LogicAnalyser (ChipScope)    ILA    (  ) . ,         ,     - ,     . <br>     ECO Flow  ,         ,   :        Vivado  ECO Flow. <br>      .  Good luck! </p><br><br><h1> 9.   </h1><br><ol><li>   ,    LUT,   ,      . </li><li>          ECO.      Tcl  Vivado [9]. </li><li>     AXI-lIte,     GPIO.   ECO  ,    ila_1   uartlite,     gpio. </li><li> *  ,   MMCM,   100.   50 .    ,        .      ,    ,     . </li><li> *  Tcl   ,             ECO.    ,  , ,     .. </li><li> ** ,          brom_reader,   32  ASCII,      / </li></ol><br><h1>   </h1><br><p> 1. <a href="https://www.xilinx.com/products/design-tools/vivado.html">Vivado</a>   Xilinx <br> 2. <a href="http://store.digilentinc.com/arty-artix-7-fpga-development-board-for-makers-and-hobbyists/"></a> Arty Board   Digilent <br> 3. <a href="http://www.xilinx.com/support/documentation/sw_manuals/xilinx2017_4/ug904-vivado-implementation.pdf">UG904</a> Vivado Design Suite User Guide: Implementation <br> 4. <a href="http://www.xilinx.com/support/documentation/sw_manuals/xilinx2017_4/ug908-vivado-programming-debugging.pdf">UG908</a> Vivado Design Suite User Guide Programming and Debugging <br> 5. <a href="http://www.xilinx.com/support/documentation/sw_manuals/xilinx2017_4/ug986-vivado-tutorial-implementation.pdf">UG986</a> Vivado Design Suite Tutorial: Implementation <br> 6. <a href="https://en.wikipedia.org/wiki/Engineering_change_order">Wiki</a> : ECO <br> 7. <a href="http://www.xilinx.com/support/documentation/sw_manuals/xilinx2017_4/ug949-vivado-design-methodology.pdf">UG949</a> UltraFast Design Methodology Guide <br> 8. <a href="http://www.xilinx.com/support/documentation/sw_manuals/xilinx2017_4/ug892-vivado-design-flows-overview.pdf">UG892</a> Vivado Design Suite User Guide Design Flows Overview <br> 9. <a href="http://www.xilinx.com/support/documentation/sw_manuals/xilinx2015_4/ug835-vivado-tcl-commands.pdf">UG835</a> Vivado Design Suite Tcl Command Reference Guide <br> 10. <a href="http://www.xilinx.com/support/documentation/sw_manuals/xilinx2015_4/ug894-vivado-tcl-scripting.pdf">UG894</a> Using Tcl Scripting <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11. </font></font><a href="http://www.xilinx.com/support/documentation/sw_manuals/xilinx2017_4/ug901-vivado-synthesis.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UG901</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vivado Design Suite User Guide Synthesis </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12. </font></font><a href="https://reference.digilentinc.com/reference/programmable-logic/arty/reference-manual%3Fredirect%3D1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arty Reference Manual</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 13. </font></font><a href="http://www.xilinx.com/support/documentation/sw_manuals/xilinx2017_3/ug908-vivado-programming-debugging.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UG908</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Programming and Debugging </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14. </font></font><a href="http://www.xilinx.com/support/documentation/ip_documentation/axi_ref_guide/latest/ug1037-vivado-axi-reference-guide.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UG1037</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vivado Design Suite AXI Reference Guide </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15. </font></font><a href="https://www.rapidtables.com/convert/number/hex-to-ascii.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hex-to-ASCII</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 16. </font></font><a href="http://fpga-systems.ru/publ/xilinx/microblaze/razrabotka_processornoj_sistemy_na_baze_soft_processora_microblaze_v_srede_xilinx_vivado_ide_hlx/10-1-0-6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lead:</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Developing a MicroBlaze software processor Xilinx Vivado IDE / HLx Environment</font></font><br></p><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Appendix A. Listing of the flash_led module </font></font><br><br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text"><pre> <code class="vhdl hljs"><span class="hljs-keyword"><span class="hljs-keyword">library</span></span> IEEE; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> IEEE.STD_LOGIC_1164.<span class="hljs-keyword"><span class="hljs-keyword">ALL</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">entity</span></span> flash_led <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Port</span></span> ( iclk : <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">STD_LOGIC</span></span>; oled : <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-built_in"><span class="hljs-built_in">STD_LOGIC</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> flash_led; <span class="hljs-keyword"><span class="hljs-keyword">architecture</span></span> rtl <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> flash_led <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">signal</span></span> cnt : <span class="hljs-built_in"><span class="hljs-built_in">natural</span></span> <span class="hljs-keyword"><span class="hljs-keyword">range</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-number"><span class="hljs-number">100_000_001</span></span> := <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">signal</span></span> led : <span class="hljs-built_in"><span class="hljs-built_in">std_logic</span></span> := <span class="hljs-string"><span class="hljs-string">'0'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">process</span></span>(iclk) <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> rising_edge(iclk) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> cnt = <span class="hljs-number"><span class="hljs-number">100_000_000</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> cnt &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> cnt &lt;= cnt + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> cnt &lt; <span class="hljs-number"><span class="hljs-number">50_000_000</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> led &lt;= <span class="hljs-string"><span class="hljs-string">'0'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> led &lt;= <span class="hljs-string"><span class="hljs-string">'1'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">process</span></span>; oled &lt;= led; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> rtl;</code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Appendix B. Listing module brom_reader </font></font><br><br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text"><pre> <code class="vhdl hljs"><span class="hljs-keyword"><span class="hljs-keyword">library</span></span> IEEE; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> IEEE.STD_LOGIC_1164.<span class="hljs-keyword"><span class="hljs-keyword">ALL</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> IEEE.NUMERIC_STD.<span class="hljs-keyword"><span class="hljs-keyword">ALL</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">entity</span></span> brom_reader <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Port</span></span> ( iclk : <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">STD_LOGIC</span></span>; odout : <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic_vector</span></span>(<span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-keyword"><span class="hljs-keyword">downto</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>) ); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> brom_reader; <span class="hljs-keyword"><span class="hljs-keyword">architecture</span></span> rtl <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> brom_reader <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">alias</span></span> slv <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic_vector</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> rom_type <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">array</span></span> (<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-number"><span class="hljs-number">31</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-built_in"><span class="hljs-built_in">natural</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">signal</span></span> rom : rom_type := ( <span class="hljs-number"><span class="hljs-number">32</span></span> , <span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-number"><span class="hljs-number">97</span></span>, <span class="hljs-number"><span class="hljs-number">117</span></span>, <span class="hljs-number"><span class="hljs-number">116</span></span>, <span class="hljs-number"><span class="hljs-number">104</span></span>, <span class="hljs-number"><span class="hljs-number">111</span></span>, <span class="hljs-number"><span class="hljs-number">114</span></span>, <span class="hljs-number"><span class="hljs-number">58</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-number"><span class="hljs-number">75</span></span>, <span class="hljs-number"><span class="hljs-number">101</span></span>, <span class="hljs-number"><span class="hljs-number">105</span></span>, <span class="hljs-number"><span class="hljs-number">115</span></span>, <span class="hljs-number"><span class="hljs-number">78</span></span> , <span class="hljs-number"><span class="hljs-number">49</span></span>, <span class="hljs-number"><span class="hljs-number">51</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span> , <span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">signal</span></span> cnt : <span class="hljs-built_in"><span class="hljs-built_in">natural</span></span> <span class="hljs-keyword"><span class="hljs-keyword">range</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> rom<span class="hljs-symbol"><span class="hljs-symbol">'length</span></span>-<span class="hljs-number"><span class="hljs-number">1</span></span> := <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">signal</span></span> dout: slv(odout<span class="hljs-symbol"><span class="hljs-symbol">'range</span></span>) := (<span class="hljs-keyword"><span class="hljs-keyword">others</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'0'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">attribute</span></span> RAM_STYLE : <span class="hljs-built_in"><span class="hljs-built_in">string</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">attribute</span></span> RAM_STYLE <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> rom : <span class="hljs-keyword"><span class="hljs-keyword">signal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-string"><span class="hljs-string">"BLOCK"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">process</span></span>(iclk) <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> rising_edge(iclk) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> dout &lt;= slv(to_unsigned(rom(cnt), dout<span class="hljs-symbol"><span class="hljs-symbol">'length</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> cnt = (rom<span class="hljs-symbol"><span class="hljs-symbol">'length</span></span> - <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> cnt &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> cnt &lt;= cnt + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">process</span></span>; odout &lt;= dout; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> rtl;</code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Appendix B. Listing the helloworld program </font></font><br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text"><pre> <code class="hljs mel">#include <span class="hljs-string"><span class="hljs-string">"platform.h"</span></span> #include <span class="hljs-string"><span class="hljs-string">"xil_printf.h"</span></span> #include <span class="hljs-string"><span class="hljs-string">"xparameters.h"</span></span> #include <span class="hljs-string"><span class="hljs-string">"xgpio.h"</span></span> XGpio Gpio; <span class="hljs-comment"><span class="hljs-comment">/* The Instance of the GPIO Driver */</span></span> #define DELAY <span class="hljs-number"><span class="hljs-number">10000000</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> main() { init_platform(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Status; volatile <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Delay; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> k = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">/* Initialize the GPIO driver */</span></span> Status = XGpio_Initialize(&amp;Gpio, XPAR_GPIO_0_BASEADDR); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Status != XST_SUCCESS) { xil_printf(<span class="hljs-string"><span class="hljs-string">"Gpio Initialization Failed\r\n"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> XST_FAILURE; } <span class="hljs-comment"><span class="hljs-comment">/* Loop forever blinking the LED */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>) { <span class="hljs-comment"><span class="hljs-comment">/* Set the LED to High */</span></span> XGpio_DiscreteWrite(&amp;Gpio, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); xil_printf(<span class="hljs-string"><span class="hljs-string">"Hello World: cycle %d\n\r"</span></span>, k); k++; <span class="hljs-comment"><span class="hljs-comment">/* Wait a small amount of time so the LED is visible */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (Delay = <span class="hljs-number"><span class="hljs-number">0</span></span>; Delay &lt; DELAY; Delay++){}; <span class="hljs-comment"><span class="hljs-comment">/* Clear the LED bit */</span></span> XGpio_DiscreteWrite(&amp;Gpio, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-comment"><span class="hljs-comment">/* Wait a small amount of time so the LED is visible */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (Delay = <span class="hljs-number"><span class="hljs-number">0</span></span>; Delay &lt; DELAY; Delay++){}; } cleanup_platform(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre><br></div></div><br><br><p> PS:    <a href="https://habrahabr.ru/users/intekus/" class="user_link">intekus</a> <a href="https://habrahabr.ru/users/des333/" class="user_link">Des333</a> , <a href="https://habrahabr.ru/users/ishevchuk/" class="user_link">ishevchuk</a> , <a href="https://habrahabr.ru/users/roman-yanalov/" class="user_link">roman-yanalov</a>      91   (     Word),         . </p></div><p>Source: <a href="https://habr.com/ru/post/353094/">https://habr.com/ru/post/353094/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../353082/index.html">Desperate quad circle search</a></li>
<li><a href="../353084/index.html">Digital Signature Cloud Services</a></li>
<li><a href="../353088/index.html">We write the plugin for Unity correctly. Part 1: iOS</a></li>
<li><a href="../353090/index.html">IT asset management: how myths affect projects (Part 2)</a></li>
<li><a href="../353092/index.html">Digital events in Moscow from April 9 to 15</a></li>
<li><a href="../353100/index.html">Explicit Proxy with authorization by AD Group + Interception Proxy with authorization by MAC</a></li>
<li><a href="../353102/index.html">Effective use of AWS spot instances</a></li>
<li><a href="../353104/index.html">Procedural maze generation in Unity</a></li>
<li><a href="../353108/index.html">Is it possible to enter the closed door, or how patches vulnerabilities</a></li>
<li><a href="../353110/index.html">Mitap Cocoaheads in Tutu.ru office</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>