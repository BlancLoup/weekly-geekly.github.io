<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Is Go the language of OOP?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Object-oriented design is the roman numerals of computing.  - Rob Pike, by Go. 



 I bring to your attention the free translation of the note ‚ÄúIs Go ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Is Go the language of OOP?</h1><div class="post__text post__text-html js-mediator-article"><blockquote>  Object-oriented design is the roman numerals of computing. </blockquote>  <font color="#999"><i>- Rob Pike, by Go.</i></font> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/72a/bbe/3ac/72abbe3acdc6311040c12b068fb8b95b.png" alt="image"><br><br>  I bring to your attention the free translation of the note <a href="http://spf13.com/post/is-go-object-oriented">‚ÄúIs Go An Object Oriented Language?‚Äù</a> By <a href="http://stevefrancia.com/">Steve Francia</a> , in which the author clearly describes the features of using the OO paradigm in Go.  Immediately I warn you that because of the properties of the original material, most of the text had to be reformulated completely, somewhere to add your own.  The check box for the translation did not. <br><a name="habracut"></a><br><h4>  <font color="#000">1. Introduction</font> </h4><br>  So what does it mean to be "object-oriented"?  Let us turn to the history of the emergence of the concept of the PLO, try to understand. <br>  The first object-oriented language, <i>Simula</i> , appeared on the horizon in the 60s.  He introduced the concepts of objects, classes, the concepts of inheritance and descendant classes, virtual methods, <a href="http://ru.wikipedia.org/wiki/%25D0%25A1%25D0%25BE%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B0">coroutines,</a> and more.  To the campaign, the most valuable contribution was the data abstraction paradigm. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      You may not be familiar with Simula, but, no doubt, you know for sure some of the languages ‚Äã‚Äãfor which he became an inspiration - Java, C ++, C # and Smalltalk, which later, in turn, greatly influenced Objective-C, Python , Ruby, Javascript, Scala, PHP, Perl ... the full list contains almost all popular modern languages.  This paradigm has become so firmly established in our life that most modern programmers have never thought otherwise. <br><br>  Since there is no generally accepted definition of OOP, to continue the discussion, we formulate our own. <br><br><blockquote>  <i>Instead of explicitly separating code and data in the text of a program, an object-oriented system combines them using the concept of an ‚Äúobject‚Äù.</i>  <i>An object is an abstract data type, including state (data) and behavior (code).</i> </blockquote><br>  Since the initial implementation had <i>inheritance</i> and <i>polymorphism</i> mechanisms that were adopted in almost all derived languages, object-oriented programming definitions usually include them as a necessary condition. <br><br>  Next, we will look at how objects, polymorphism and inheritance are used in Go, after which it will be easier to answer the question posed. <br><br><h4>  <font color="#000">2. Objects?</font> </h4><br>  In Go, there is nothing named <code>object</code> , although it doesn't matter.  Let the <code>object</code> type not occur, but there is a type that falls under the definition of an object-oriented approach ‚Äî data structures that include both state and behavior, they are denoted as <code>struct</code> .  <a href="http://golang.org/ref/spec">A struct</a> is a type containing named fields and methods. <br><br>  For clarity, I will give an example: <br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> rect <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { width <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> height <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(r *rect)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">area</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">int</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r.width * r.height } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { r := rect{width: <span class="hljs-number"><span class="hljs-number">10</span></span>, height: <span class="hljs-number"><span class="hljs-number">5</span></span>} fmt.Println(<span class="hljs-string"><span class="hljs-string">"area: "</span></span>, r.area()) }</code> </pre><br>  The first block defines a new type of <code>rect</code> structural type containing 2 integer fields.  The next block defines a method on this structure by defining the <code>area</code> function and attaching it to the type <code>rect</code> .  More precisely, in fact, the function is attached to the pointer type to <code>rect</code> . <br>  The last block is the entry point of the program; this is the main function.  The first line creates a new instance of <code>rect</code> (the chosen way to create an instance ‚Äî through a compound literal ‚Äî is most convenient in Go).  The second line is responsible for displaying the results of calling the <code>area</code> function on the value of <code>r</code> . <br><br>  Personally, it all reminded me a lot of work with objects.  I can create a structured data type and define methods for working with some of them. <br>  Is there something else missing?  Yes, in most object-oriented languages, classes with support for inheritance are used to describe objects, and it is good practice to define interfaces for these classes and thereby define a class hierarchy tree (in the case of simple inheritance). <br><br><h4>  <font color="#000">2. Inheritance and polymorphism</font> </h4><br>  There are several different approaches to defining the relationship between objects.  And although there are some differences, they are all used with almost one purpose - for the sake of code reuse. <br><br>  <b>2.1.</b>  <b>Simple and multiple inheritance</b> <br>  Inheritance is a language mechanism that allows you to describe a new class based on an existing (base) class.  There are two types of inheritance, based on the number of base classes.  The fundamental difference can be felt only by evaluating the consequences of applying multiple inheritance: the hierarchy of simple inheritance (single inheritance) is a tree, while multiple inheritance generates a <a href="http://ru.wikipedia.org/wiki/%25D0%25A0%25D0%25B5%25D1%2588%25D1%2591%25D1%2582%25D0%25BA%25D0%25B0_(%25D0%25B0%25D0%25BB%25D0%25B3%25D0%25B5%25D0%25B1%25D1%2580%25D0%25B0)">grid</a> .  Languages ‚Äã‚Äãwith extremely simple support include PHP, C #, Java, and Ruby, and languages ‚Äã‚Äãwith multiple inheritance support include Perl, Python, and C ++. <br><br>  <b>2.2.</b>  <b>Subtype polymorphism</b> <br>  In some languages, the concepts of subtypes and inheritance are so closely intertwined that the difference between them is barely noticeable.  In fact, subtypes define <i>semantic relationships</i> between two or more objects, thereby forming an <a href="http://en.wikipedia.org/wiki/Is-a">is-a</a> relationship.  That is, type <i>A</i> is a subtype of <i>B</i> when specification <i>A</i> follows from specification <i>B</i> and any object (or class) satisfying specification <i>A</i> also satisfies specification <i>B.</i>  While simple inheritance only reuses the implementation, thereby providing syntactic sugar, but no more. <br><br>  It is necessary to clearly distinguish inheritance through implementation and ‚Äúinheritance‚Äù through polymorphism of subtypes, which will be clear from the text below. <br><br>  <b>2.3.</b>  <b>Composition</b> <br>  In composition, one object is determined by including other objects in it, that is, instead of inheritance, it simply contains them.  This type of relationship is called <a href="http://en.wikipedia.org/wiki/Has-a">has-a</a> and the objects included are subject to the membership rules. <br><br><h4>  <font color="#000">3. Is there any inheritance in Go?</font> </h4><br>  Go as designed was designed without inheritance in the usual sense of the word.  It does not mean at all that the objects (structures) have no relationship, just the authors of the language have chosen a different mechanism for designating such.  For many beginners to write on Go, this solution may seem to be a serious flaw, however, in reality, this is one of the most pleasant features of the language and it solves many problems, at the same time closing disputes around inheritance - whose age is tens of years once and for all. <br><br><h4>  <font color="#000">4. ‚ÄúSimple inheritance is better to throw out‚Äù</font> </h4><br>  Next, I'll provide a snippet from a JavaWorld article - <a href="http://www.javaworld.com/article/2073649/core-java/why-extends-is-evil.html">‚ÄúWhy extends is evil‚Äù</a> : <br><blockquote>  The book of the gang of four on design patterns discusses in detail the replacement of inheritance through the implementation (extends) to inheritance through the interfaces (implements). <br><br>  I once attended a Java user group meeting where James Gosling (creator of Java) was invited to give a talk.  During a memorable question and answer session, someone asked him: ‚ÄúIf you could redo Java, what would you change?‚Äù.  ‚ÄúI‚Äôd throw out classes,‚Äù he replied.  After the laughter in the room died down, he explained that the real problem lies not in the classes as a matter of fact, but in the inheritance through the implementation (the relation extends).  Inheritance through interfaces (the implements relation) is preferable; inheritance through implementation should be avoided where possible. </blockquote><br><h4>  <font color="#000">5. Object Relations in Go</font> </h4><br>  <b>5.1.</b>  <b>Type Composition</b> <br>  Instead of the usual inheritance in Go, the <a href="http://en.wikipedia.org/wiki/Composition_over_inheritance">composition</a> principle is strictly used <a href="http://en.wikipedia.org/wiki/Composition_over_inheritance">instead of inheritance,</a> and relations between structures and interfaces are built on the principles of is-a and has-a.  The object composition mechanism used here is represented by inline types, so Go allows you to embed a structure in a structure, creating a has-a relationship.  A good example is the relationship between the Person and Address types in the code below: <br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Person <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { Name <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Address Address } <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Address <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { Number <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Street <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> City <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> State <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Zip <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(p *Person)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Talk</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { fmt.Println(<span class="hljs-string"><span class="hljs-string">"Hi, my name is"</span></span>, p.Name) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(p *Person)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Location</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { fmt.Println(<span class="hljs-string"><span class="hljs-string">"Im at"</span></span>, p.Address.Number, p.Address.Street, p.Address.City, p.Address.State, p.Address.Zip) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { p := Person{Name: <span class="hljs-string"><span class="hljs-string">"Steve"</span></span>} p.Address = Address{ Number: <span class="hljs-string"><span class="hljs-string">"13"</span></span>, Street: <span class="hljs-string"><span class="hljs-string">"Main"</span></span> } p.Address.City = <span class="hljs-string"><span class="hljs-string">"Gotham"</span></span> p.Address.State = <span class="hljs-string"><span class="hljs-string">"NY"</span></span> p.Address.Zip = <span class="hljs-string"><span class="hljs-string">"01313"</span></span> p.Talk() p.Location() }</code> </pre><br>  Result: <br><pre> <code class="bash hljs">&gt; Hi, my name is Steve &gt; Im at 13 Main Gotham NY 01313</code> </pre><br>  <a href="http://play.golang.org/p/5TVBDR7AYo">play.golang.org/p/5TVBDR7AYo</a> <br><br>  In this example, the important thing is that Address remains a separate entity, being inside <code>Person</code> .  The <code>main</code> function demonstrates how to assign the <code>p.Address</code> object to the <code>p.Address</code> object and, referring to its fields through the dot, initialize it. <br><br>  <b>5.2.</b>  <b>Subtype polymorphism imitation</b> <br><br>  <font color="#b10000">Note by the author.</font>  The first version of this article incorrectly explained the implementation of the is-a relationship through anonymous structure fields.  In fact, it only resembles the is-a relationship, since the included methods and properties become visible from the outside, as if they existed in the enclosing structure.  This approach is not is-a for the reasons described below, however, Go has support for is-a and is achieved through <a href="http://golang.org/ref/spec">interfaces</a> .  The current version of the article refers to anonymous fields as i-a imitation, since they are similar to the mechanism of polymorphism, but no more.  <font color="#b10000">//</font> <br><br>  Imitation of the is-a relationship works in a similar way.  Let the person ( <code>Person</code> ) know how to speak.  Citizen ( <code>Citizen</code> ) is a person ( <code>Person</code> ), and therefore also able to speak ( <code>Talk</code> ).  Expand the previous example with this in mind. <br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Citizen <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { Country <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Person <span class="hljs-comment"><span class="hljs-comment">//     } func (c *Citizen) Nationality() { fmt.Println(c.Name, "is a citizen of", c.Country) } func main() { c := Citizen{} c.Name = "Steve" c.Country = "America" c.Talk() c.Nationality() }</span></span></code> </pre><br>  Result: <br><pre> <code class="bash hljs">&gt; Hi, my name is Steve &gt; Steve is a citizen of America</code> </pre><br>  <a href="http://play.golang.org/p/eCEpLkQPR3">play.golang.org/p/eCEpLkQPR3</a> <br><br>  We set up an is-a relationship simulation using an anonymous structure field, in this case, a <code>Person</code> field (only type is indicated) for <code>Citizen</code> .  The <code>Citizen</code> type has acquired all the properties and methods of the <code>Person</code> type and has the ability to add or override some of these properties and methods with its own.  For example, let the city dwellers respond a little differently: <br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(c *Citizen)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Talk</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { fmt.Println(<span class="hljs-string"><span class="hljs-string">"Hello, my name is"</span></span>, c.Name, <span class="hljs-string"><span class="hljs-string">"and Im from"</span></span>, c.Country) }</code> </pre><br>  Result: <br><pre> <code class="bash hljs">&gt; Hello, my name is Steve and Im from America &gt; Steve is a citizen of America</code> </pre><br>  <a href="http://play.golang.org/p/jafbVPv5H9">play.golang.org/p/jafbVPv5H9</a> <br><br>  Note that now in <code>main</code> the <code>*Citizen.Talk()</code> method is called instead of <code>*Person.Talk()</code> . <br><br><h4>  <font color="#000">6. Why anonymous fields do not give polymorphism</font> </h4><br>  There are two reasons. <br><br>  <b>6.1.</b>  <b>Access remains to the individual fields of each of the built-in types.</b> <br>  Well, in fact, this is not so bad, since with multiple ‚Äúinheritance‚Äù it becomes not obvious which method from the parent classes will be called.  When using an anonymous field, Go creates an auxiliary field, duplicating the type name, so you can always refer to the individual methods of all anonymous fields, that is, the base classes in our imitation of the inheritance mechanism.  Example: <br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { c := Citizen{} c.Name = <span class="hljs-string"><span class="hljs-string">"Steve"</span></span> c.Country = <span class="hljs-string"><span class="hljs-string">"America"</span></span> c.Talk() <span class="hljs-comment"><span class="hljs-comment">// &lt;-   c.Person.Talk() // &lt;-   c.Nationality() }</span></span></code> </pre><br>  Result: <br><pre> <code class="bash hljs">&gt; Hello, my name is Steve and Im from America &gt; Hi, my name is Steve &gt; Steve is a citizen of America</code> </pre><br><br>  <b>6.2.</b>  <b>Child type does not become ancestor type</b> <br>  If polymorphism were true, an anonymous field would cause an inclusive type to become an inclusive type, but in Go and inclusive and until the end remain separate.  It is better to see once, we give an example: <br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> A <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { } <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> B <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { A <span class="hljs-comment"><span class="hljs-comment">// B is-a A } func save(A) { // xxx } func main() { b := &amp;B{} save(b) // OOOPS! b IS NOT A }</span></span></code> </pre><br>  Result: <br><pre> <code class="bash hljs">&gt; prog.go:17: cannot use b (<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> *B) as <span class="hljs-built_in"><span class="hljs-built_in">type</span></span> A <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> argument &gt; [process exited with non-zero status]</code> </pre><br>  <a href="http://play.golang.org/p/EmodogIiQU">play.golang.org/p/EmodogIiQU</a> <br><br>  This example is offered in <a href="https://news.ycombinator.com/item%3Fid%3D7868870">this commentary</a> with Hacker News.  Thanks, Optymizer. <br><br><h4>  <font color="#000">7. Real Subtype Polymorphism</font> </h4><br>  The interfaces in Go are pretty unique in nature.  In this section, we will focus on using interfaces to implement polymorphism, which is not their first priority. <br><br>  As I wrote earlier, polymorphism is an is-a relationship.  In Go, each type is separate and nothing can disguise itself as another type just like that, but both types can fit the same interface.  Interfaces can be passed as parameters to functions and methods, and this will allow us to establish the present is-a relationship between types. <br><br>  The fact that the type conforms to the interface is checked automatically by comparing the sets of methods required by the interface and the set of available methods of the type being checked.  In other words, such an attitude can be described as ‚Äúif something can do it, then it can be used here,‚Äù that is, there is the principle of <a href="http://ru.wikipedia.org/wiki/%25D0%25A3%25D1%2582%25D0%25B8%25D0%25BD%25D0%25B0%25D1%258F_%25D1%2582%25D0%25B8%25D0%25BF%25D0%25B8%25D0%25B7%25D0%25B0%25D1%2586%25D0%25B8%25D1%258F">duck typing</a> . <br><br>  Returning to the previous example, we will add a new <code>SpeakTo</code> function and in <code>main</code> we will try to apply it one by one to the <code>Citizen</code> and <code>Person</code> instances. <br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SpeakTo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(p *Person)</span></span></span></span> { p.Talk() } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { p := &amp;Person{Name: <span class="hljs-string"><span class="hljs-string">"Dave"</span></span>} c := &amp;Citizen{Person: Person{Name: <span class="hljs-string"><span class="hljs-string">"Steve"</span></span>}, Country: <span class="hljs-string"><span class="hljs-string">"America"</span></span>} SpeakTo(p) SpeakTo(c) }</code> </pre><br>  Result: <br><pre> <code class="bash hljs">&gt; Running it will result <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> &gt; prog.go:48: cannot use c (<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> *Citizen) as <span class="hljs-built_in"><span class="hljs-built_in">type</span></span> *Person <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> argument &gt; [process exited with non-zero status]</code> </pre><br>  <a href="http://play.golang.org/p/fkKz0FkaEk">play.golang.org/p/fkKz0FkaEk</a> <br><br>  As expected, the design is simply wrong.  In this case, <code>Citizen</code> not <code>Person</code> , even though they have common properties.  However, we will add the <code>Human</code> interface, we will make it the accepted type of the <code>SpeakTo</code> function and now, everything went according to plan. <br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Human <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> { Talk() } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SpeakTo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(h Human)</span></span></span></span> { h.Talk() } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { p := &amp;Person{Name: <span class="hljs-string"><span class="hljs-string">"Dave"</span></span>} c := &amp;Citizen{Person: Person{Name: <span class="hljs-string"><span class="hljs-string">"Steve"</span></span>}, Country: <span class="hljs-string"><span class="hljs-string">"America"</span></span>} SpeakTo(p) SpeakTo(c) }</code> </pre><br>  Result: <br><pre> <code class="bash hljs">&gt; Hi, my name is Dave &gt; Hi, my name is Steve</code> </pre><br>  <a href="http://play.golang.org/p/vs92w57c5-">play.golang.org/p/vs92w57c5-</a> <br><br>  Summing up, you can make two important points about polymorphism in Go: <br><br><ul><li>  Using anonymous fields, it is possible to achieve type matching of the interface, including simultaneous matching of a set of interfaces, thereby achieving almost canonical polymorphism. </li><li>  Go can provide polymorphism of subtypes when using a value ( <code>c.Name = "Xlab"</code> ), but in reality all types are distinct.  As shown in the last example, in order to set the <code>Name</code> property of <code>Citizen</code> , we are obliged to explicitly specify this property on <code>Person</code> , then assigning the <code>Person</code> object to the corresponding field of <code>Citizen</code> .  (talking about <code>Citizen{Person: Person{Name: "Steve"}, Country: "America"}</code> composite literal)). </li></ul><br><h4>  <font color="#000">8. Results</font> </h4><br>  As you can see in the examples above, the fundamental principles of the object-oriented approach are relevant and are successfully applied in Go.  There are differences in terminology, since several different mechanisms are used than in other classical OOP languages.  Thus, to combine state and behavior in one entity, structures with specified (attached) methods are used.  To denote the has-a relationship between types, composition is used, thereby minimizing the number of repetitions in the code and saving us from the mess with classical inheritance.  To establish is-a relationships between types, Go uses interfaces, without unnecessary words and counterproductive descriptions. <br><br>  So, meet the new model of object-oriented programming - without objects! <br><br>  <font color="#b10000">~ translation &amp; adaptation by Xlab.</font> <br>  See also: <a href="http://habrahabr.ru/post/208756/">‚ÄúGoing code reuse with an example‚Äù</a> <br>  By the way, just in case I will give this quote here: <br><blockquote>  I can not tell you what to do. C ++ in mind. </blockquote>  <font color="#999"><i>- Alan Kay</i></font> </div><p>Source: <a href="https://habr.com/ru/post/225907/">https://habr.com/ru/post/225907/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../225895/index.html">Chronicle of space super heavyweight. Part 2. "Park" reusable period</a></li>
<li><a href="../225897/index.html">System for watering plants. How to get to Kickstarter. Step-by-step process</a></li>
<li><a href="../225899/index.html">Pro release zombodavilki on iOS and thoughts about the publishers</a></li>
<li><a href="../225901/index.html">Unsigned arithmetic in Java</a></li>
<li><a href="../225903/index.html">Microsoft and Adobe released a set of updates, June 2014</a></li>
<li><a href="../225909/index.html">Social networks - what's next?</a></li>
<li><a href="../225911/index.html">We solve the problem of literacy on the Internet using Yandex.Speler</a></li>
<li><a href="../225913/index.html">License plate recognition in detail</a></li>
<li><a href="../225915/index.html">HP sells mini-desktops with Chrome OS for $ 179</a></li>
<li><a href="../225917/index.html">EBay delivery service breathes incense every day</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>