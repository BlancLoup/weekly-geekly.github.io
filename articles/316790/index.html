<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>URL rewriting on github pages</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I adore GitHub Pages . I use them for everything that is possible and try to avoid server-side code as a plague. I push the changes to the repository ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>URL rewriting on github pages</h1><div class="post__text post__text-html js-mediator-article">  I adore <a href="https://pages.github.com/">GitHub Pages</a> .  I use them for everything that is possible and try to avoid server-side code as a plague.  I push the changes to the repository and they are immediately displayed to users without any hooks or additional steps.  Free makes them even more attractive.  When it came time to publish <a href="https://www.amazon.com/CSS-Secrets-Solutions-Everyday-Problems/dp/1449372635/">my book</a> , naturally, I wanted the accompanying website to be on GitHub Pages. <br><br>  But there was one problem: I wanted beautiful URLs, for example <a href="http://play.csssecrets.io/pie-animated">http://play.csssecrets.io/pie-animated</a> , which would redirect to demos on <a href="http://dabblet.com/">dabblet.com</a> .  Any normal person would probably have clenched his teeth and used some server language for this.  But I'm not quite normal :) <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b81/fbd/5af/b81fbd5afa0d57e157a6b4fdeaae6c3a.png" width="500"></div><a name="habracut"></a><br>  It turns out that <a href="https://help.github.com/articles/creating-a-custom-404-page-for-your-github-pages-site/">GitHub already uses its own URL rewriting for GitHub Pages</a> : if you add <code>404.html</code> to the repository, any non-existent URL will be redirected to it.  Wait a minute, isn't it the same thing we do on the server so that the beautiful URLs can work?  We can do exactly the same thing that we do on the server using JavaScript in <code>404.html</code> ! 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So, I created: <br><br><ol><li>  <a href="">JSON file</a> with all IDs demos and corresponding dabblet urlahs, </li><li>  <a href="https://github.com/LeaVerou/play.csssecrets.io/blob/gh-pages/404.html">404.html</a> , which either redirects or shows an error </li><li>  <a href="">Vanilla JS script</a> that reads a URL, a JSON file and redirects to dabblet. </li></ol><br>  Here, in fact, JS without husk: <br><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.className = <span class="hljs-string"><span class="hljs-string">'redirecting'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> slug = location.pathname.slice(<span class="hljs-number"><span class="hljs-number">1</span></span>); xhr({ <span class="hljs-attr"><span class="hljs-attr">src</span></span>: <span class="hljs-string"><span class="hljs-string">'secrets.json'</span></span>, <span class="hljs-attr"><span class="hljs-attr">onsuccess</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> slugs = <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.responseText); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> hash = slugs[slug]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (hash) { <span class="hljs-comment"><span class="hljs-comment">// Redirect var url = hash.indexOf('http') == 0? hash : 'http://dabblet.com/gist/' + hash; $('section.redirecting &gt; p').innerHTML = 'Redirecting to &lt;a href="' + url + '"&gt;' + url + '&lt;/a&gt;‚Ä¶'; location.href = url; } else { document.body.className = 'error not-found'; } }, onerror: function () { document.body.className = 'error json'; } }); })();</span></span></code> </pre> <br>  It's all!  You can use the same technique to redirect to other HTML pages of GitHub Pages, have human urls for a one-page site, and much more!  Is it a hack  Of course.  But when did it stop us?  :) </div><p>Source: <a href="https://habr.com/ru/post/316790/">https://habr.com/ru/post/316790/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../316778/index.html">Creating and testing a firewall in Linux, Part 2.3. Finish the firewall. We process traffic in userspace</a></li>
<li><a href="../316782/index.html">Fuel cells as one of the sources of energy for the data center</a></li>
<li><a href="../316784/index.html">Psychology of persuasion. How to convince others and be able to recognize the manipulation</a></li>
<li><a href="../316786/index.html">Unifi Controller + Nginx. HTTP & HTTPS</a></li>
<li><a href="../316788/index.html">Own platform. Part 0.2 Theory. CHIP8 interpreter</a></li>
<li><a href="../316792/index.html">Networks for the harshest. Micro issue ‚Ññ7. EVPN</a></li>
<li><a href="../316794/index.html">The digest of interesting materials for the mobile developer # 182 (November 28-December 4)</a></li>
<li><a href="../316800/index.html">Diary of performances from Minsk DevGAMM 2016</a></li>
<li><a href="../316802/index.html">Running PHP applications on Docker containers (PHP-FPM, Nginx, PostgreSQL)</a></li>
<li><a href="../316806/index.html">htop and more on your fingers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>