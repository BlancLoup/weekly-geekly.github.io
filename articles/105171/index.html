<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Dynamic change of page width</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Many argue about whether the page width should be fixed or stretched (rubber). One likes a fixed size, the other way around. Let's try to please both ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Dynamic change of page width</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/df9/a84/710/df9a84710563676ce3f669450065df07.gif" alt="image"><br><br>  Many argue about whether the page width should be fixed or stretched (rubber).  One likes a fixed size, the other way around.  Let's try to please both types, because any user of a commercial site is a potential client who can stay on this page or leave (question of site usability).  I tried to solve this problem at once by giving the user the choice of the page width. <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      There are two solutions to this problem.  The first is to create 2 site templates and add a switch between them on the site pages (in my opinion, not very convenient).  The second way is to implement an animated change in the width of the page without reloading it, and when you go to the next page of the site, the width of the page remains the same, since the width data is stored in the cookie.  This method is described below. <br><br>  The script is fully validated (even if we consider that there are 7 div blocks and only). <br><br>  The <a href="http://jquery.com/">jquery</a> library itself and the <a href="http://plugins.jquery.com/project/Cookie">jquery.cookie</a> plugin are <a href="http://plugins.jquery.com/project/Cookie">required</a> . <br><br>  The css file contains hacks for ie6, 7, I did not separate them into a file for the sake of brevity. <br><br>  The check for disabled cookies is not taken into account, since in practice it is better to implement the saving of screen parameters in conjunction with sessions on the server side.  All code is commented in detail. <br><br>  I hope this information will be useful, I have not seen any examples of such implementation. <br><br><blockquote>  $ <font color="#009900">(</font> document <font color="#009900">)</font> .  <font color="#660066">ready</font> <font color="#009900">(</font> <font color="#003366">function</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">{</font> <br><br>  <font color="#009966">/ * check in the cookie the resolution of the page to view it * /</font> <br>  <font color="#000066">if</font> <font color="#009900">(</font> $. <font color="#660066">cookie</font> <font color="#009900">(</font> <font color="#3366CC">"screen"</font> <font color="#009900">)</font> <font color="#339933">==</font> <font color="#3366CC">'full'</font> <font color="#009900">)</font> <font color="#009900">{</font> <font color="#009966">/ * If the previous viewing was on a wide screen then * /</font> <br>  <font color="#009966">/ * Add a wide site style class for the main blocks * /</font> <br>  $ <font color="#009900">(</font> <font color="#3366CC">'#conteiner, # conteiner_2, # conteiner_3, #footer'</font> <font color="#009900">)</font> .  <font color="#660066">addClass</font> <font color="#009900">(</font> <font color="#3366CC">'tip_full'</font> <font color="#009900">)</font> <font color="#339933">;</font> <br>  window.  <font color="#660066">sreen_1</font> <font color="#339933">=</font> <font color="#3366CC">'fix'</font> <font color="#339933">;</font>  <font color="#009966">/ * write the initial value for the button changing the width of the page * /</font> <br>  window.  <font color="#660066">sreen_2</font> <font color="#339933">=</font> <font color="#3366CC">'full'</font> <font color="#339933">;</font>  <font color="#009966">/ * secondary value * /</font> <br>  <font color="#009900">}</font> <font color="#000066">else</font> <font color="#009900">{</font> <font color="#009966">/ * in all other cases (including the default) will display a narrow page view * /</font> <br>  <font color="#009966">/ * Add a style class to a narrow display of the site page for the main blocks * /</font> <br>  $ <font color="#009900">(</font> <font color="#3366CC">'#conteiner, # conteiner_2, # conteiner_3, #footer'</font> <font color="#009900">)</font> .  <font color="#660066">addClass</font> <font color="#009900">(</font> <font color="#3366CC">'tip_fix'</font> <font color="#009900">)</font> <font color="#339933">;</font> <br>  window.  <font color="#660066">sreen_1</font> <font color="#339933">=</font> <font color="#3366CC">'full'</font> <font color="#339933">;</font>  <font color="#009966">/ * primary value * /</font> <br>  window.  <font color="#660066">sreen_2</font> <font color="#339933">=</font> <font color="#3366CC">'fix'</font> <font color="#339933">;</font>  <font color="#009966">/ * secondary value * /</font> <br>  <font color="#009900">}</font> <br><br>  <font color="#009966">/ * The function of changing the width of the screen depending on the parameters passed to it * /</font> <br>  <font color="#003366">function</font> size_screen <font color="#009900">(</font> size_type_1 <font color="#339933">,</font> size_type_2 <font color="#009900">)</font> <font color="#009900">{</font> <br><br>  $ <font color="#009900">(</font> <font color="#3366CC">'#start'</font> <font color="#009900">)</font> .  <font color="#660066">css</font> <font color="#009900">(</font> <font color="#3366CC">'display'</font> <font color="#339933">,</font> <font color="#3366CC">'none'</font> <font color="#009900">)</font> <font color="#339933">;</font>  <font color="#006600">/ * Protection against "fool", repeatedly pressing the button // remove the button * /</font> <br><br>  <font color="#009966">/ * Assign values ‚Äã‚Äãto variables depending on the passed parameter (screen width) * /</font> <br>  <font color="#000066">if</font> <font color="#009900">(</font> size_type_1 <font color="#339933">==</font> <font color="#3366CC">'full'</font> <font color="#009900">)</font> <font color="#009900">{</font> <br>  window.  <font color="#660066">size_width</font> <font color="#339933">=</font> <font color="#3366CC">'100%'</font> <font color="#339933">;</font>  <font color="#009966">/ * page width * /</font> <br>  <font color="#009900">}</font> <font color="#000066">else</font> <font color="#009900">{</font> <br>  window.  <font color="#660066">size_width</font> <font color="#339933">=</font> <font color="#3366CC">'800px'</font> <font color="#339933">;</font> <br>  <font color="#009900">}</font> <br><br>  <font color="#009966">/ * Jquery animation function.</font>  <font color="#009966">In this case, smoothly changing the width of the image of the site page *</font> <br>  $ <font color="#009900">(</font> <font color="#3366CC">'#conteiner, # conteiner_2, # conteiner_3, # footer'</font> <font color="#009900">)</font> .  <font color="#660066">animate</font> <font color="#009900">(</font> <font color="#009900">{</font> <br>  <font color="#3366CC">'width'</font> <font color="#339933">:</font> window.  <font color="#660066">size_width</font> <font color="#009966">/ * Smoothly change the width in accordance with the page display parameter * /</font> <br>  <font color="#009900">}</font> <font color="#339933">,</font> <br>  <font color="#CC0000">500</font> <font color="#339933">,</font> <font color="#009966">/ * Animation time * /</font> <br>  <font color="#003366">function</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">{</font> <font color="#009966">/ * Function called when animation ends * /</font> <br>  <font color="#009966">/ * Remove previous page display styles from blocks * /</font> <br>  $ <font color="#009900">(</font> <font color="#000066">this</font> <font color="#009900">)</font> .  <font color="#660066">removeClass</font> <font color="#009900">(</font> <font color="#3366CC">'tip_'</font> <font color="#339933">+</font> size_type_2 <font color="#009900">)</font> <font color="#339933">;</font> <br>  <font color="#009966">/ * Adding a new style class for a new screen width * /</font> <br>  $ <font color="#009900">(</font> <font color="#000066">this</font> <font color="#009900">)</font> .  <font color="#660066">addClass</font> <font color="#009900">(</font> <font color="#3366CC">'tip_'</font> <font color="#339933">+</font> size_type_1 <font color="#009900">)</font> <font color="#339933">;</font> <br>  <font color="#009966">/ * To clear the html code from garbage, remove the style attribute (created by jquery) * /</font> <br>  <font color="#009966">/ * This action is not necessary, it has an aesthetic function * /</font> <br>  $ <font color="#009900">(</font> <font color="#000066">this</font> <font color="#009900">)</font> .  <font color="#660066">removeAttr</font> <font color="#009900">(</font> <font color="#3366CC">'style'</font> <font color="#009900">)</font> <font color="#339933">;</font> <br><br>  <font color="#006600">/ * Protection against "fool": repeatedly pressing the button // showing the button * /</font> <br>  $ <font color="#009900">(</font> <font color="#3366CC">'#start'</font> <font color="#009900">)</font> .  <font color="#660066">css</font> <font color="#009900">(</font> <font color="#3366CC">'display'</font> <font color="#339933">,</font> <font color="#3366CC">'block'</font> <font color="#009900">)</font> <font color="#339933">;</font> <br>  <font color="#009900">}</font> <font color="#009900">)</font> <font color="#339933">;</font> <br>  <font color="#009966">/ * Write the cookie to display the site after reloading or changing the page * /</font> <br>  $.  <font color="#660066">cookie</font> <font color="#009900">(</font> <font color="#3366CC">"screen"</font> <font color="#339933">,</font> size_type_1 <font color="#339933">,</font> <font color="#009900">{</font> path <font color="#339933">:</font> <font color="#3366CC">'/'</font> <font color="#009900">}</font> <font color="#009900">)</font> <font color="#339933">;</font> <br><br>  <font color="#009900">}</font> <br><br>  $ <font color="#009900">(</font> <font color="#3366CC">'#start'</font> <font color="#009900">)</font> .  <font color="#660066">toggle</font> <font color="#009900">(</font> <font color="#009966">/ * The troggle function performs a sequential repeated pressing of an element (button) * /</font> <br>  <font color="#003366">function</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">{</font> size_screen <font color="#009900">(</font> window. <font color="#660066">sreen_1</font> <font color="#339933">,</font> window. <font color="#660066">sreen_2</font> <font color="#009900">)</font> <font color="#339933">;</font>  <font color="#009900">}</font> <font color="#339933">,</font> <font color="#009966">/ * first press * /</font> <br>  <font color="#003366">function</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">{</font> size_screen <font color="#009900">(</font> window. <font color="#660066">sreen_2</font> <font color="#339933">,</font> window. <font color="#660066">sreen_1</font> <font color="#009900">)</font> <font color="#339933">;</font>  <font color="#009900">}</font> <font color="#009966">/ * second press * /</font> <br>  <font color="#009900">)</font> <font color="#339933">;</font> <br>  <font color="#009900">}</font> <font color="#009900">)</font> <br></blockquote><br><br>  Download this creation can be on the following link: <a href="">jquery size</a> , and look <a href="http://anton.shevchuk.name/wp-demo/jquery-size/">here</a> (red garbage in the upper right corner and there is a button). <br><br>  PS The author of this article is Alexander (balancev on gmail.com), if someone wants to share an invite, then this is the time. <br><br>  PPS ‚ÄúAaa, he asked for an invite !!! 111‚Äù - go to the forest, send your invites to the ‚Äúbirthday of a friend‚Äù or for copy-paste in the sandbox better. </div><p>Source: <a href="https://habr.com/ru/post/105171/">https://habr.com/ru/post/105171/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../105158/index.html">How to help solve the problem of introducing domestic innovations?</a></li>
<li><a href="../105159/index.html">Why I do not believe in the possibility of creating AI in the foreseeable future</a></li>
<li><a href="../105164/index.html">Switch to freemium: a year later</a></li>
<li><a href="../105169/index.html">Innovation convention in St. Petersburg on October 1st. Free visit for habrovchan</a></li>
<li><a href="../105170/index.html">"Skolkovo": simplified to billion rubles</a></li>
<li><a href="../105172/index.html">Competition for Rubistov</a></li>
<li><a href="../105176/index.html">Widgets for third-party sites</a></li>
<li><a href="../105178/index.html">UI development practice</a></li>
<li><a href="../105181/index.html">How does the most successful startup incubator in the world work?</a></li>
<li><a href="../105182/index.html">Twitter has overtaken myspace</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>