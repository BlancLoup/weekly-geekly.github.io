<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Storage Management in System Center Virtual Machine Manager 2012 SP1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="All good mood and charge for a new work week! 

 Today, I propose to look at how the storage management system in System Center Virtual Machine Manage...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Storage Management in System Center Virtual Machine Manager 2012 SP1</h1><div class="post__text post__text-html js-mediator-article">  All good mood and charge for a new work week! <br><br>  Today, I propose to look at how the storage management system in <a href="http://technet.microsoft.com/en-US/evalcenter/hh505660.aspx">System Center Virtual Machine Manager SP1 is</a> arranged.  VMM in particular has extensive interoperability capabilities with disk subsystems, but in combination with <a href="http://technet.microsoft.com/en-US/evalcenter/hh670538">WS2012</a> and new features in SP1, its capabilities are becoming even more comprehensive! <br><br>  So let's take a closer look at the storage management mechanisms in SC VMM 2012 SP1. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage2/1fe/241/155/1fe241155b972ac2ec442cbfb9e3561a.png"><br><a name="habracut"></a><br><h1>  What can you do? </h1><br>  Virtualized workloads represented by virtual machines in <a href="http://technet.microsoft.com/en-US/evalcenter/hh505660.aspx">System Center 2012 - Virtual Machine Manager (VMM)</a> require disk resources in order to meet the requirements in terms of disk space and in terms of the performance of the disk subsystem.  Each of the loads can then be tied to hosts and disk arrays using a compatibility profile (a logical object that is created in the VMM library in fact for filtering hosts and other resources) for further placement.  VMM recognizes and maintains local disk resources and remote.  Local resources are all disk systems connected directly to the VMM server and, as a rule, are used to accommodate the least critical loads.  Remote storage, in turn, allows the server to be unloaded using a delegation of this type of load to a specialized storage system (SHD) - this approach allows using all the capabilities and features of industrial storage systems to accommodate virtualized loads in the VMM environment. <br><br>  VMM supports the following levels of interaction with disk arrays: <br><br>  ‚Ä¢ At the block level - VMM accesses disk systems at the block level using LUN provisioning mechanisms to provide storage space using protocols and FC, iSCSI, and SAS type connections. <br><br>  ‚Ä¢ At the file level - VMM supports placing virtualized loads on network file balls.  Balls that support the <i>server message block (SMB) 3.0 protocol</i> can be placed on file servers based on Windows Server 2012 or on network storage like <i>network-attached storage (NAS)</i> from vendors like EMC or NetApp. <br><br>  VMM in System Center 2012 Service Pack 1 (SP1) introduces many changes in the work area of ‚Äã‚Äãstorage providers and IT process automation: <br><br>  ‚Ä¢ Support for <i>Windows Storage Management API (SMAPI)</i> .  SMAPI was first introduced in <a href="http://technet.microsoft.com/en-US/evalcenter/hh670538">Windows Server 2012</a> for managing directly connected storage systems as well as for remote systems of this type.  SMAPI is a combination of Storage Management Provider (SMP), or Microsoft Standards-Based Storage Management Service and SMI-S mechanisms.  SMAPI replaces the <i>Virtual Disk Service (VDS)</i> API in Windows Server 2012. For more detailed and detailed information, see: <a href="http://blogs.msdn.com/b/san/archive/2012/06/26/an-introduction-to-storage-management-in-windows-server-2012.aspx">‚ÄúAn Introduction to Storage Management in Windows Server‚Äù</a> . <br><br>  ‚Ä¢ VMM uses SMAPI mechanisms to manage external storage systems, in particular SMP, or use SMAPI in conjunction with the Microsoft standards-based Storage Management Service to interact with storage systems via SMI-S.  Storage Management Service services are an optional feature that allows you to use SMI-S providers to manage storage - this feature is enabled during the installation of <a href="http://technet.microsoft.com/en-US/evalcenter/hh505660.aspx">System Center 2012 SP1</a> . <br><br>  ‚Ä¢ Starting in System Center 2012 SP1, migration to SAN environments using the <i>Virtual Disk Service (VDS)</i> hardware provider is no longer supported.  When upgrading System Center 2012 to System Center 2012 SP1, you must first remove the VDS hardware provider from the VMM server and activate SMI-S support or the native WMI SMP provider provided by the storage vendor. <br><br>  ‚Ä¢ In addition to detecting and managing iSCSI targets with statistical addresses, System Center 2012 SP1 now also supports dynamic iSCSI target parameters (for example, Starwind, HP P2000, HP Lefthand, Dell EqualLogic, and Microsoft iSCSI Software Target). <br><br>  ‚Ä¢ VMM 2012 supports the creation and provision of thin logical volumes and aggregates.  System Center 2012 SP1 also allows the creation and provision of thin aggregates on top of a storage pool.  Thin aggregates allow end-users to provide more space for data than is physically accessible in the system.  In order for this to be possible, the provisioning of thin aggregates must have storage initially, and the provision of thin aggregates must be activated at the level of the storage pool. <br><br>  ‚Ä¢ System Center 2012 SP1 also allows you to interact with the Microsoft iSCSI Software Target using an SMI-S provider.  Microsoft iSCSI is now a fully integrated component in Windows Server 2012. The installation package in .msi format for installing the SMI-S provider for Microsoft iSCSI Target Server is included is located in the distribution kit of System Center 2012 SP1: <i>"CDLayout.EVAL \ amd64 \ Setup \ msi \ iSCSITargetPRov \ iSCSITargetSMISProvider.msi "</i> . <br><br><h1>  Deploy and manage storage </h1><br>  VMM allows you to model, deploy and manage data warehouse resources, namely: <br><br>  ‚Ä¢ Disk Storage Discovery - As a rule, system administrators have a rather weak visibility of the storage infrastructure.  With System Center 2012 - VMM, you can automatically detect local and remote arrays, storage pools, aggregates, physical and logical disks. <br><br>  ‚Ä¢ Storage classification - Now you have the opportunity to classify the discovered storage using more understandable and simple names, thus you will be able to set your own logic for resource classification. <br><br>  ‚Ä¢ Provision of storage - System Center 2012 - VMM allows you to create new LUNs from the available capacity of the array to further provide this resource to the Hyper-V cluster or to an individual host.  New LUNs can be provided by one of the following methods: <br><br>  1. Based on the available storage capacity - This approach is effective if you have a storage pool, which allows you to control many different LUNs, as well as their sizes. <br><br>  2. The method of creating a recordable snapshot of an existing LUN ‚Äî This method allows you to quickly and efficiently clone a virtual disk to the required number of instances ‚Äî this way you can create many identical virtual machines in a short period of time.  Also, this method in combination with thin units allows very efficient use of disk space. <br><br>  3. By creating a complete LUN clone - this method allows you to create a complete LUN clone.  Depending on the storage system, this method takes some time to create a LUN, and is also not efficient in terms of disk space consumption. <br><br>  ‚Ä¢ Storage Assignment ‚Äî allows you to assign storage pools and LUNs to specific host groups that, in turn, represent business units, locations, and other objects of organizations.  As a rule, resources are primarily assigned on the basis of host groups, and only then they are assigned at the level of a single host.  If you assign a storage pool, you can assign LUNs directly from managed hosts from the host group.  In addition, VMM can automatically create LUNs from the storage pool, in the case of using instant provision at the storage capabilities level. <br><br>  ‚Ä¢ Deleting repositories - VMM also has the ability to delete unused more repositories. <br><br><h1>  Usage scenarios </h1><br>  To sum up all the capabilities of VMM SP2012, the following scenarios of using the storage management capabilities arise: <br><br>  ‚Ä¢ Assigning and adding storage to the host group and the host-host group requires the discovery of the storage, the destination of the found storage to the virtualization host.  VMM automates the process of providing storage to hosts and host groups, initializing disks, and formatting logical volumes.  For clustered configurations, VMM creates the required CSV volume and other disk resources, then assigns this volume to all cluster hosts.  VMM also allows you to add additional vaults to existing ones. <br><br>  ‚Ä¢ Creating Clusters - VMM 2012 SP1 can create a cluster of up to 64 Hyper-V nodes, automates the purpose of shared storage as part of a single workflow (process).  Automation of this process is very important for cloud environments and environments, especially in terms of providing infrastructure. <br><br>  ‚Ä¢ Instant provisioning - Disk arrays can create copies of virtual disks very efficiently, with minimal load on the host.  VMM extends the functionality of this mechanism - it allows you to instantly create virtual machines.  VMM understands the capabilities of a disk array or storage when analyzing the contents of a LUN, you have the opportunity to create a LUN-based template with a virtual disk.  VMM commands the array to create a copy of the virtual disk and provide a new disk space under it, using cloning mechanisms or snapshots.  Then VMM transfers the created object to the host, mounts the file system, associates the virtual disk with the virtual machine.  In the administrator console, you can use instant provisioning capabilities to create isolated, individual VMs, as well as VM-based services. <br><br>  Well, to be brief, that's all. <br>  I hope it was interesting and informative - until we meet again! <br><br>  Respectfully, <br>  man-plasma (pumped fire) <br>  George A. Gadzhiev <br><br>  Information Infrastructure Expert, <br>  Microsoft Corporation. </div><p>Source: <a href="https://habr.com/ru/post/167773/">https://habr.com/ru/post/167773/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../167755/index.html">Quality phishing in Gmail</a></li>
<li><a href="../167757/index.html">The tale of how I sought investment</a></li>
<li><a href="../167759/index.html">Lily v1.2 (Yii module for managing users with authorization through services)</a></li>
<li><a href="../167765/index.html">Critical vulnerability in all versions of JunOS since 7.6R1</a></li>
<li><a href="../167771/index.html">Update Windows Phone 7.8 rolled out and you can update all the phones with mango</a></li>
<li><a href="../167777/index.html">Kindle Fire HD and Fire HD 8.9 review</a></li>
<li><a href="../167779/index.html">Antisploit: antivirus industry in the fight against exploits (essay)</a></li>
<li><a href="../167783/index.html">From code to product. Ciklum Speakers' Corner, Dnepropetrovsk</a></li>
<li><a href="../167787/index.html">modern.IE - testing sites for Internet Explorer just got easier!</a></li>
<li><a href="../167789/index.html">Asus K95VJ laptop video review</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>