<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to debug small programs</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Quite a lot of bad questions that I see on StackOverflow can be described with the following formula: 
 Here is my homework solution. It does not work...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to debug small programs</h1><div class="post__text post__text-html js-mediator-article">  Quite a lot of bad questions that I see on StackOverflow can be described with the following formula: <br><blockquote>  Here is my homework solution.  It does not work. <br>  [20 lines of code] <br></blockquote> And ... everything. <br><br>  <i>Note</i>  <i>Trans.: This is a translation of the article " <a href="https://ericlippert.com/2014/03/05/how-to-debug-small-programs/">How to debug small programs</a> ", which is referenced in the <a href="https://stackoverflow.com/help/mcve">informational section of StackOverflow in English</a> , dedicated to the creation of minimal, self-sufficient and reproducible examples.</i>  <i>It seems to me that it perfectly describes what every programmer should know - the basics of debugging non-working code.</i> <br><br>  If you are reading this note, then most likely you followed the link that either I or someone else left under your question on StackOverflow shortly before this question was closed and deleted.  (If you are reading this note for another reason, leave your favorite tips on debugging small programs in the comments). <br><a name="habracut"></a><br>  StackOverflow is a question and answer site, but for very specific questions about a specific code.  ‚ÄúI wrote some buggy code that I can‚Äôt fix‚Äù - this is not a <i>question</i> , this is a <i>story</i> , and not very interesting.  ‚ÄúWhy, when subtracting a unit from zero, do I get a number greater than zero, which is why my comparison with zero in line 12 is incorrectly calculated to be <code>true</code> ?‚Äù - this is a specific question about a specific code. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So, you ask the Internet to <i>fix your broken program</i> .  Surely you have never been told how to debug small programs, because - attention - <b>what you are doing now - is not the most effective way</b> .  Today is a great day to learn how to debug the code yourself, because StackOverflow will not do it for you. <br><br>  Below I assume that your program is compiled, but does not work correctly, and, moreover, you have an example that demonstrates this incorrect behavior.  So, how to find a bug: <br><br>  First, <b>enable all compiler warnings</b> .  <a href="https://habrahabr.ru/company/cloud4y/blog/301006/">There is no reason</a> why a correct program with 20 lines of code could get a compiler warning.  A warning is when the compiler tells you: ‚Äúthis program is compiled, but does not do what you think,‚Äù and since <i>this is exactly the situation you are in</i> , you should listen to it. <br><br>  <b>Read the warnings very carefully</b> .  If you do not understand why this or that warning was issued, this is a good question for StackOverflow, because it is a <i>specific question about a specific code</i> .  Add to the question the exact warning text, the exact code on which it was issued, and the exact version of the compiler you are using. <br><br>  If your program still has a bug, <b>find a rubber duck</b> .  If there is no rubber duck, find another student programmer - there is almost no difference between him and the duck.  Explain to the duckie in simple words, why each line of each method in your program is obviously correct.  At some point you will encounter difficulties: either you do not understand the method that you wrote, or there is an error in it, or both.  Concentrate on this method;  <i>most likely, the problem is in it</i> .  No, really, <a href="https://ru.wikipedia.org/wiki/%25D0%259C%25D0%25B5%25D1%2582%25D0%25BE%25D0%25B4_%25D1%2583%25D1%2582%25D1%2591%25D0%25BD%25D0%25BA%25D0%25B0">the duckling method</a> works.  And, as legendary programmer Raymond Chen added in the comments below (comment <i>:</i> per. <i>To the original post</i> ): if you can't explain to the duck why this or that line is needed, maybe because you started writing code before you got a plan. <br><br>  If your program is compiled without warnings, and the duck has no serious questions for you, and there is still a bug, try <b>breaking the code into smaller methods</b> , each of which performs <b>exactly one logical operation</b> .  A popular mistake of all programmers, not only beginners, is to write methods that do several things at the same time and make them bad.  Small methods are easier to understand, and as a result, it‚Äôs easier for you and the duck to spot errors. <br><br>  While you convert methods to smaller methods, stop for a moment to <b>write a technical specification for each method</b> .  Let it be one or two sentences, but having a specification helps.  The technical specification should describe what the method does, what parameters are allowed, what return value is expected, when an error will occur, and so on.  Often when writing a specification, you realize that you forgot to handle a certain case, and the bug turns out to be exactly that. <br><br>  If you still have a bug, check and recheck that your specifications describe the <b>preconditions and postconditions of</b> each method.  A precondition is something that must be performed before the method starts.  A post-condition is something that will be executed when the method finishes its work.  Examples of preconditions: ‚Äúthe argument is a valid non-zero pointer‚Äù, ‚Äúthere are at least two vertices in the transferred link list‚Äù or ‚Äúthis argument is a positive integer number‚Äù.  Examples of postconditions: ‚Äúthere was one element less in the coherent list than it was at the input‚Äù, ‚Äúa certain piece of the array is now sorted‚Äù or something like that.  If the precondition is violated, it is an error in the place where the method was called.  If the fulfillment of all preconditions violated the postcondition - this is an error in the method.  Again, when formulating pre- and post-conditions you will often stumble upon a forgotten event. <br><br>  If the bug still has not gone away, learn how to write <b><a href="https://en.wikipedia.org/wiki/Assertion_(software_development)">assertions</a></b> to check the pre and post conditions.  A statement is almost like a comment, only it tells you when a condition is violated;  and a broken condition is almost always a bug.  In C #, you can say <code>using System.Diagnostics;</code>  at the beginning of the code, and in the middle write <code>Debug.Assert(value != null);</code>  or something similar.  Every language has a mechanism for formulating statements;  Ask someone to tell you how to use them in the language you write.  Write statements for preconditions at the beginning of the method, and statements for postconditions before the line where the method ends.  (Of course, this is easiest to do when there is exactly one cusp in each method.) Now, if you run the program and some statement turns out to be incorrect, you will know what the problem is and it will be easy to debug. <br><br>  After that, <b>write tests or examples</b> for each method that verify that it works correctly.  Test each part separately from the rest until you are sure of it.  Use a lot of simple tests;  if your method sorts lists, try an empty list, a list of one, two, three identical elements, three elements in reverse order, several long lists.  Most likely, your bug will manifest itself on a simple test, and then it will be easier to analyze it. <br><br>  Finally, if your program still has a bug, <b>write on paper the exact description of the action that you expect from each line of code when you start up with your example</b> .  Your program takes only 20 lines.  You should be able to write <i>everything</i> that she does.  Now go through the code <b>with the debugger</b> , checking each variable at each step and line-by-line checking the behavior of your program with a piece of paper.  If the program does what is not written on the piece of paper, then the error is either on the piece of paper (in this case, you do not understand what your program does), or in the program (in this case, you wrote something wrong).  Correct what is wrong.  If you do not know how to fix it - you at least have a specific technical question that you can ask at StackOverflow!  In any case, repeat the process until your description of the program's behavior and the actual program's behavior coincide. <br><br>  While you are working in the debugger, I urge you <b>to pay attention to the slightest doubt</b> .  Most programmers naturally assume that their code works as expected, but you are debugging it exactly because it is not so!  Many times I debugged the code and noticed a quick flicker in Visual Studio, which meant ‚Äúthis memory has just been changed,‚Äù and I knew that this memory was not related to my problem at all.  So <i>why has she changed</i> ?  Do not ignore these nagging, learn strange behavior until you understand why it is either correct or incorrect. <br><br>  If it seems to you that this is all very long and requires a lot of effort, then only because it is.  If you cannot use these techniques on a twenty-line program that you yourself wrote, it‚Äôs unlikely that you will be able to use them on a program of two million lines that someone else wrote.  However, industry developers are doing it every day.  Start training! <br><br>  And the next time you decide your homework, <b>write the specifications, examples, tests, preconditions, postconditions and statements for each method before writing the method itself</b> !  You will significantly reduce the likelihood of a bug, and if it does appear, you will most likely be able to find it pretty quickly. <br><br>  This technique does not help to find all the bugs in each program, but it is extremely effective for those short programs that novice programmers write in their homework.  It can also be used to find bugs in non-trivial programs. </div><p>Source: <a href="https://habr.com/ru/post/339038/">https://habr.com/ru/post/339038/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../339026/index.html">How to run a Java application with multiple versions of the same library in 2017</a></li>
<li><a href="../339028/index.html">As I wrote browser 3D football. Part 2</a></li>
<li><a href="../339030/index.html">Continued fasting from schoolchildren. How could Habrahabr change our destiny?</a></li>
<li><a href="../339034/index.html">DevOps coming to our home? Home Minecraft server in Azure using modern DevOps practices</a></li>
<li><a href="../339036/index.html">[CppCon 2017] Bjorn Stroustrup: Learning and teaching modern C ++</a></li>
<li><a href="../339044/index.html">How to bring the first project to the end. Part 2. Myths, mistakes and failures</a></li>
<li><a href="../339046/index.html">Work with resources, or how I pushed through @Cleanup</a></li>
<li><a href="../339048/index.html">Swift Generics: Styles for UIView and more. # 2</a></li>
<li><a href="../339050/index.html">Habr advise: how to win the NTI olympiad for schoolchildren in the Big Data profile</a></li>
<li><a href="../339052/index.html">The history of the clock synchronizer DCF77</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>