<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Building a torus with WPF</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good evening, Habr. 
 This article is for beginners, I will talk about drawing simple rotation bodies in the Windows Presentation Foundation. After th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Building a torus with WPF</h1><div class="post__text post__text-html js-mediator-article">  Good evening, Habr. <br>  This article is for beginners, I will talk about drawing simple rotation bodies in the Windows Presentation Foundation.  After the semester of graphics programming on OpenGL, or rather glut.h, I decided to spend the evening on getting to know WPF. In this article we will build a torus. <br><a name="habracut"></a><br><h4>  WPF Basics </h4><br>  The main building block in WPF is <i>mesh</i> , I haven‚Äôt found a translation of the term into Russian, but I think it can be translated as a triangle segment or just a triangle.  The question arises: why a triangle, and not a line? <br>  Suppose we need to build a basic representation of the surface - a plane.  As is known from school geometry, a plane is built at at least three points and it is quite logical to make surfaces of triangles. <br><div class="spoiler">  <b class="spoiler_title">For example, I removed a few building blocks from the cylinder.</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/4e9/c7e/367/4e9c7e367b948e9e3b5cf428e0072caf.png" alt="image"></div></div><br>  With each triangular segment associated characteristics such as the position of its vertices and the normal.  Vertices are listed clockwise or against, depending on which of the planes of the triangle (of which there are two) should be visible.  Determining the desired order is very simple, just use <br><div class="spoiler">  <b class="spoiler_title">right hand rule</b> <div class="spoiler_text">  Raise the thumb of your right hand, it indicates the side to which you are looking.  Put your finger down, you will see the opposite, the position of the other fingers will show the order of the walk. <br><img src="https://habrastorage.org/getpro/habr/post_images/636/278/033/636278033b2fa8990f99b01d73217f05.png" alt="image"></div></div><br>  The normal is a vector perpendicular to the plane of the triangle is defined as <div class="spoiler">  <b class="spoiler_title">vector product of two sides of a triangle</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/82e/7e1/196/82e7e1196a9cbc40850983d5c5b0e88c.jpg" alt="image"></div></div><br>  Normals are added in the same sequence as vertices. <br><br>  As a result, each triangular segment has <ul><li>  Mesh Positions (position of a point on the surface) </li><li>  Triangle Indeces (defines one of three points on the triangle) </li><li>  Triangle Normals </li></ul><br><br>  The origin of the coordinate system when working with 3D graphics is in the center of the scene, in contrast to 2D, where the beginning is in the upper left corner.  Displays the graphic contents of the scene class <a href="http://msdn.microsoft.com/ru-ru/library/system.windows.controls.viewport3d.aspx">Viewport3D</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/934/c4e/e39/934c4ee391338ea6c8f77627dbd8efed.png" alt="image"><br><br>  Since the representation of 3D objects on the screen is actually two-dimensional projections, you should select the observation point, from which the appearance of the object will depend.  In WPF, this point helps to indicate the <a href="http://msdn.microsoft.com/ru-ru/library/system.windows.media.media3d.camera.aspx">camera</a> class. <br><br><h4>  Thor </h4><br>  A torus is a surface of revolution obtained by rotating a circle that forms a circle around an axis lying in the plane of this circle. <br><img src="https://habrastorage.org/getpro/habr/post_images/ee3/871/744/ee38717449d145b087e0abfd8f738204.png" alt="image"><br>  The torus equations can be represented in parametric and algebraic form, in this case it is more convenient to use <br>  parametric. <br><br>  <i>x = (R + r * cos (a)) * cos (b)</i> <i><br></i>  <i>y = r * sin (a)</i> <i><br></i>  <i>z = - (R + r * cos (a)) sin (b)</i> <br><div class="spoiler">  <b class="spoiler_title">Thor</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/bcb/dc3/133/bcbdc3133ad7d5571529b4a610bd3d06.png" alt="image"></div></div><br><br>  Encode the torus equation. <br>  This method simply returns a point for given radii and angles: <br><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Point3D </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getPositionTor</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> R, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> r, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> v</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> sinB = Math.Sin(B * Math.PI / <span class="hljs-number"><span class="hljs-number">180</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> cosB = Math.Cos(B * Math.PI / <span class="hljs-number"><span class="hljs-number">180</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> sinA = Math.Sin(A * Math.PI / <span class="hljs-number"><span class="hljs-number">180</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> cosA = Math.Cos(A * Math.PI / <span class="hljs-number"><span class="hljs-number">180</span></span>); Point3D point = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Point3D(); point.X = (R + r * cosA) * cosB; point.Y = r * sinA; point.Z = -(R + r * cosA) * sinB; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> point; }</code> </pre> <br><br>  Create a method for constructing a triangular segment <br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">drawTriangle</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> Point3D p0, Point3D p1, Point3D p2, Color color, Viewport3D viewport</span></span></span><span class="hljs-function">)</span></span> { MeshGeometry3D mesh = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MeshGeometry3D(); mesh.Positions.Add(p0); mesh.Positions.Add(p1); mesh.Positions.Add(p2); mesh.TriangleIndices.Add(<span class="hljs-number"><span class="hljs-number">0</span></span>); mesh.TriangleIndices.Add(<span class="hljs-number"><span class="hljs-number">1</span></span>); mesh.TriangleIndices.Add(<span class="hljs-number"><span class="hljs-number">2</span></span>); SolidColorBrush brush = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SolidColorBrush(); brush.Color = color; Material material = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DiffuseMaterial(brush); GeometryModel3D geometry = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GeometryModel3D(mesh, material); ModelUIElement3D model = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ModelUIElement3D(); model.Model = geometry; viewport.Children.Add(model); }</code> </pre><br><br>  Everything is ready for drawing a torus. <br><div class="spoiler">  <b class="spoiler_title">Torus segment</b> <div class="spoiler_text"><img src="http://htmlimg4.scribdassets.com/6g9hct8dfkwzmwb/images/488-e21a851dde.jpg" alt="image"></div></div><br>  We build the segments presented in the figure above, each of which is the union of two triangles built on four vertices. <br><br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">drawTor</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Point3D center, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> R, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> r, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> N, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> n, Color color</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (n &lt; <span class="hljs-number"><span class="hljs-number">2</span></span> || N &lt; <span class="hljs-number"><span class="hljs-number">2</span></span>){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } Model3DGroup tor = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Model3DGroup(); Point3D[,] points = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Point3D[N, n]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; N; i++){ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>; j &lt; n; j++){ points[i, j] = getPositionTor(R, r, i * <span class="hljs-number"><span class="hljs-number">360</span></span>/(N - <span class="hljs-number"><span class="hljs-number">1</span></span>), j * <span class="hljs-number"><span class="hljs-number">360</span></span>/(n - <span class="hljs-number"><span class="hljs-number">1</span></span>)); points[i, j] += (Vector3D)center; } } Point3D[] p = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Point3D[<span class="hljs-number"><span class="hljs-number">4</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; N - <span class="hljs-number"><span class="hljs-number">1</span></span>; i++){ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>; j &lt; n - <span class="hljs-number"><span class="hljs-number">1</span></span>; j++){ p[<span class="hljs-number"><span class="hljs-number">0</span></span>] = points[i, j]; p[<span class="hljs-number"><span class="hljs-number">1</span></span>] = points[i + <span class="hljs-number"><span class="hljs-number">1</span></span>, j]; p[<span class="hljs-number"><span class="hljs-number">2</span></span>] = points[i + <span class="hljs-number"><span class="hljs-number">1</span></span>, j + <span class="hljs-number"><span class="hljs-number">1</span></span>]; p[<span class="hljs-number"><span class="hljs-number">3</span></span>] = points[i, j + <span class="hljs-number"><span class="hljs-number">1</span></span>]; drawTriangle(p[<span class="hljs-number"><span class="hljs-number">0</span></span>], p[<span class="hljs-number"><span class="hljs-number">1</span></span>], p[<span class="hljs-number"><span class="hljs-number">2</span></span>], color, mainViewport); drawTriangle(p[<span class="hljs-number"><span class="hljs-number">2</span></span>], p[<span class="hljs-number"><span class="hljs-number">3</span></span>], p[<span class="hljs-number"><span class="hljs-number">0</span></span>], color, mainViewport); } } }</code> </pre><br><br>  It remains to call the method of drawing a torus <br><pre> <code class="cs hljs"> drawTor(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Point3D(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>), <span class="hljs-number"><span class="hljs-number">1.0</span></span>, <span class="hljs-number"><span class="hljs-number">0.3</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, Colors.Tomato, <span class="hljs-literal"><span class="hljs-literal">false</span></span>);</code> </pre><br><br>  The graphical user interface is done with XAML very quickly; I‚Äôll only add ViewPort3D <br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Viewport3D</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"mainViewport"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ClipToBounds</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"True"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"374"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Viewport3D.Camera</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PerspectiveCamera</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">FarPlaneDistance</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"100"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">LookDirection</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"-11,-10,-9"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">UpDirection</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0,1,0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">NearPlaneDistance</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Position</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"11,10,9"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">FieldOfView</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"70"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Viewport3D.Camera</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ModelVisual3D</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ModelVisual3D.Content</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DirectionalLight</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Color</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"White"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Direction</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"-2,-3,-1"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ModelVisual3D.Content</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ModelVisual3D</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Viewport3D</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  That's what happened in the end: <br><img src="http://s3.hostingkartinok.com/uploads/images/2013/01/f37dc9c8eec001f85bf4a34fcbc3c1e8.png" alt="image"><br>  And remove some segments <br><img src="http://s4.hostingkartinok.com/uploads/images/2013/01/1da0124d46c4b5215f8ad807ce9d3a98.png" alt="image"><br><br>  Thanks for attention. </div><p>Source: <a href="https://habr.com/ru/post/164857/">https://habr.com/ru/post/164857/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../164843/index.html">Cheat Sheet by Inkscape Filters</a></li>
<li><a href="../164845/index.html">The fan-cybersquatter will give the player a name domain if he fulfills his wish</a></li>
<li><a href="../164851/index.html">Calling an Alertdialog from a widget</a></li>
<li><a href="../164853/index.html">Programming for Android for beginners. Part 1</a></li>
<li><a href="../164855/index.html">Are they encrypted? We take out baytkod from JVM</a></li>
<li><a href="../164859/index.html">Problems with the form and content of the list of sites Roskomnadzor</a></li>
<li><a href="../164865/index.html">Creating an encrypted USB flash drive with Linux OS</a></li>
<li><a href="../164867/index.html">Development of power supply for energy-intensive portable device</a></li>
<li><a href="../164869/index.html">How to make friends Django and Sphinx?</a></li>
<li><a href="../164871/index.html">AWS mobile management application</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>