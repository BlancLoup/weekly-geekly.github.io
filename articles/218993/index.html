<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Configuring Intel Galileo from scratch to installing Debian full version</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The other day I received the long-awaited Intel Galileo, I ordered it from SparkFun Electronics , I arrived pretty quickly and cheaply. In a few minut...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Configuring Intel Galileo from scratch to installing Debian full version</h1><div class="post__text post__text-html js-mediator-article">  The other day I received the long-awaited Intel Galileo, I ordered it from <a href="https://www.sparkfun.com/products/12720">SparkFun Electronics</a> , I arrived pretty quickly and cheaply.  In a few minutes I installed <a href="https://communities.intel.com/docs/DOC-22226">Little Linux from Intel</a> connected to it via SSH and it immediately became sad :) because  the possibilities of this linux are extremely limited. <br><br>  Searches on the Internet for installing instructions on a full-fledged Linux on Intel Galileo did not bring success.  Therefore, I decided to write an article on the full installation from start to finish <s>and at the same time get an invite to Habr</s> . <br><br>  So here we go, the instruction will be based on <a href="https://communities.intel.com/thread/48074%3Fstart%3D0%26tstart%3D0">this</a> . <br><a name="habracut"></a><br><h5>  <b>Introduction</b> </h5><br>  Before you start installing Debian, you must activate the network card on Intel Galileo, this is done using the sketch for Arduino (the connection procedure and settings <a href="https//communities.intel.com/servlet/JiveServlet/previewBody/21838-102-7-25423/Galileo_GettingStarted_329685_005.pdf">here</a> ): <br><pre><code class="java hljs">#include &lt;SPI.h&gt; #include &lt;Ethernet.h&gt; <span class="hljs-comment"><span class="hljs-comment">// Enter a MAC address for your controller below. // Newer Ethernet shields have a MAC address printed on a sticker on the shield byte mac[] = { 0x98, 0x4F, 0xEE, 0x00, 0x66, 0x74 }; // Initialize the Ethernet client library // with the IP address and port of the server // that you want to connect to (port 80 is default for HTTP): EthernetClient client; void setup() { // start the serial library: Serial.begin(9600); // start the Ethernet connection: if (Ethernet.begin(mac) == 0) { Serial.println("Failed to configure Ethernet using DHCP"); // no point in carrying on, so do nothing forevermore: for(;;) ; } // print your local IP address: Serial.println(Ethernet.localIP()); } void loop() { }</span></span></code> </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      After that, in the router, you must create a binding IP address to the Intel Galileo MAC address (indicated by a sticker on the LAN port). <br><br><h5>  <b>Install debian</b> </h5><br>  <b>"Stage 1.Download Debian-7.3.0-i386-netinst.iso for a virtual machine"</b> <br>  ‚ÄúNote: Set the following values ‚Äã‚Äãfor a virtual machine: 256 MB RAM, 1 CPU, 3.8 GB HDD (partitioned under ext3), turn off the printer, sound card and CD-ROM (after installation).‚Äù <br>  ‚ÄúNote: create a second hard disk with 20 GB HDD and partition it under ext3‚Äù <br>  "Note: We will work from under the root" <br>  ‚ÄúNote: Of all the packages, we will install only SSH‚Äù <br><br>  <b>‚ÄúStage 2. We are testing SHH and updating.‚Äù</b> <br>  ‚ÄúNote: Once again, we do everything as root.‚Äù <br><br><pre> <code class="nginx hljs">apt-<span class="hljs-attribute"><span class="hljs-attribute">get</span></span> update apt-get upgrade</code> </pre><br><br>  (I personally had no updates and the commands were completed in a couple of seconds) <br><br>  <b>"Stage 3. Setting the date and time"</b> <br>  "Note: You can skip if you have already chosen during the installation process" <br><pre> <code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">date</span></span> apt-get install ntpdate y ntpdate pool.ntp.org</code> </pre><br><br>  <b>"Stage 4. Mount the second hard drive (the one that is 20 GB)."</b> <br>  ‚ÄúNote: A rather interesting step, note that if Debian was installed on an ext3 file system, then everything below should also be performed under this file system.  I did not take this into account and there were many interesting and incomprehensible mistakes. ‚Äù <br><pre> <code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">fdisk</span></span> ‚Äìl</code> </pre><br>  ‚ÄúNote: The second hard drive in my case is / dev / sdb1.  If the disk was not mounted in the system, then we execute the commands below ‚Äû <br><pre> <code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">fdisk</span></span> /dev/sdb1 n p</code> </pre><br>  ‚ÄúWe agree with everything and press Enter until we are asked again (about 2-3 times)‚Äù <br><pre> <code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">w</span></span> mkfs.ext3 /dev/sdb1 y cd / mkdir sdb mount -t ext3 /dev/sdb1 /sdb e2label /dev/sdb1 /sdb df -h cd sdb ls</code> </pre><br>  ‚ÄúNote: here and below, you can skip ls if you are sure that the copy / mount was successful.‚Äù <br><br>  <b>"Stage 5. Downloading a little Linux."</b> <br><pre> <code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">cd</span></span> /sdb wget http://downloadmirror.intel.com/23171/eng/LINUX_IMAGE_FOR_SD_Intel_Galileo_v0.7.5.7z</code> </pre><br>  "Note: If you have not yet installed the archiver." <br><pre> <code class="nginx hljs">apt-<span class="hljs-attribute"><span class="hljs-attribute">get</span></span> install p7zip p7zip -d LINUX_IMAGE_FOR_SD_Intel_Galileo_v0.<span class="hljs-number"><span class="hljs-number">7</span></span>.<span class="hljs-number"><span class="hljs-number">5</span></span>.7z cd /sdb/LINUX_IMAGE_FOR_SD_Intel_Galileo_v0.<span class="hljs-number"><span class="hljs-number">7</span></span>.<span class="hljs-number"><span class="hljs-number">5</span></span></code> </pre><br>  "Note: Let's see what they have learned." <br><pre> <code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">ls</span></span> cd /sdb mv /sdb/LINUX_IMAGE_FOR_SD_Intel_Galileo_v0.<span class="hljs-number"><span class="hljs-number">7</span></span>.<span class="hljs-number"><span class="hljs-number">5</span></span>/image-full-clanton.ext3 /sdb/image-full-clanton_original.ext3 mkdir /sdb/image-full-clanton_original mount -t ext3 /sdb/image-full-clanton_original.ext3 /sdb/image-full-clanton_original cd /sdb/image-full-clanton_original</code> </pre><br>  ‚ÄúNote: We'll see how everything is installed‚Äù <br><pre> <code class="nginx hljs">ls</code> </pre><br><br>  <b>"Stage 6. Modifying Debian for Intel Galileo."</b> <br><pre> <code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">cd</span></span> /media mkdir /media/card mkdir /media/cf mkdir /media/hdd mkdir /media/mmc1 mkdir /media/net mkdir /media/ram mkdir /media/realroot mkdir /media/union mkdir /sketch cp -avr /sdb/image-full-clanton_original/lib/modules/<span class="hljs-number"><span class="hljs-number">3</span></span>.<span class="hljs-number"><span class="hljs-number">8</span></span>.<span class="hljs-number"><span class="hljs-number">7</span></span>-yocto-standard/ /lib/modules/<span class="hljs-number"><span class="hljs-number">3</span></span>.<span class="hljs-number"><span class="hljs-number">8</span></span>.<span class="hljs-number"><span class="hljs-number">7</span></span>-yocto-standard cd /lib/modules/<span class="hljs-number"><span class="hljs-number">3</span></span>.<span class="hljs-number"><span class="hljs-number">8</span></span>.<span class="hljs-number"><span class="hljs-number">7</span></span>-yocto-standard</code> </pre><br>  ‚ÄúNote: Make sure everything is copied.‚Äù <br><pre> <code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">ls</span></span> cp -avr /sdb/image-full-clanton_original/opt/cln/ /opt/cln cd /opt/cln/galileo</code> </pre><br>  "Note: And here, too, everything was copied." <br><pre> <code class="nginx hljs">ls</code> </pre><br><br>  <b>"Stage 7. Make changes to initialize Debian."</b> <br><pre> <code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">nano</span></span> /etc/inittab</code> </pre><br>  "Note: insert at the end of the file" <br>  "S0: 2345: respawn: / sbin / getty -L 115200 ttyS1 vt102" <br><br>  <b>"Stage 8. Create the image of our Linux."</b> <br><pre> <code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">cd</span></span> /sdb</code> </pre><br>  ‚ÄúNote: If it fails, try restarting Debian in safe mode.  Personally, I got errors here because of the difference between ext3 and ext4 - fixed the formatting of the first hard drive under ext3 and starting over. " <br><pre> <code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">fdisk</span></span> -l</code> </pre><br>  "Note: Pay attention to the number of blocks in / dev / sda1 in my case it is 3766272." <br><pre> <code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">dd</span></span> if=/dev/sda1 of=/sdb/image-full-clanton.ext3 bs=<span class="hljs-number"><span class="hljs-number">3766272</span></span> conv=sync,noerror mkdir /sdb/image-full-clanton mount -t ext3 /sdb/image-full-clanton.ext3 /sdb/image-full-clanton cd /sdb/image-full-clanton</code> </pre><br>  ‚ÄúNote: Make sure everything is copied.‚Äù <br><pre> <code class="nginx hljs">ls</code> </pre><br><br>  <b>"Stage 9. The final touches in the installation."</b> <br><pre> <code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">rm</span></span> -rf /sdb/image-full-clanton/sys rm -rf /sdb/image-full-clanton/proc mkdir /sdb/image-full-clanton/sys mkdir /sdb/image-full-clanton/proc cd /sdb umount -l /sdb/image-full-clanton mv /sdb/image-full-clanton.ext3 /sdb/LINUX_IMAGE_FOR_SD_Intel_Galileo_v0.<span class="hljs-number"><span class="hljs-number">7</span></span>.<span class="hljs-number"><span class="hljs-number">5</span></span>/image-full-clanton.ext3 cd /sdb/LINUX_IMAGE_FOR_SD_Intel_Galileo_v0.<span class="hljs-number"><span class="hljs-number">7</span></span>.<span class="hljs-number"><span class="hljs-number">5</span></span></code> </pre><br>  ‚ÄúNote: Make sure that the image-full-clanton.ext3 file is present‚Äù <br><pre> <code class="nginx hljs">ls</code> </pre><br><br>  <b>"Stage 10. MicroSD preparation - <a href="https://communities.intel.com/servlet/JiveServlet/previewBody/22204-102-1-25429/Galileo_GettingStarted_329685_005.pdf">according to the instructions</a> "</b> <br>  "On behalf of the Administrator, we run diskpart.exe from the command line." <br><pre> <code class="dos hljs">"Run diskpart.exe" "DISKPART&gt; list disk" "DISKPART&gt; select <span class="hljs-built_in"><span class="hljs-built_in">vol</span></span> &lt;a&gt;</code> </pre>  ;  (where ‚Äúa‚Äù is your SD card) (with two physical hard drives this is VOL. 5. But at this stage you can already ‚Äúbuy‚Äù and install Paragon Partition Manager&gt; _ &lt;sorry, I did not know this before. I deleted the hard mark a couple of times I understand the disk algorithm for determining the memory card in the card reader: Select volume 10, if not found, select 9 ... a flash drive is the last volume from the end that it finds, I had 5) " <br><pre> <code class="dos hljs">"DISKPART&gt; clean"</code> </pre><br>  (If after this command you lost some of the shortcuts from the desktop and the hard drive disappeared, then you clearly did not clear the memory card. Paragon‚Äôs mistake is eliminated by simply reconnecting the drive letters and updating the MBR) <br><pre> <code class="dos hljs">"DISKPART&gt; create part primary" "DISKPART&gt; active" 'DISKPART&gt; <span class="hljs-built_in"><span class="hljs-built_in">format</span></span> quick <span class="hljs-built_in"><span class="hljs-built_in">label</span></span>="BOOTME"'</code> </pre><br>  ‚ÄúNote: A full formatting of the memory card may be necessary, but‚Äú quick ‚Äùformatting was enough for me.‚Äù <br><pre> <code class="dos hljs">'DISKPART&gt; <span class="hljs-built_in"><span class="hljs-built_in">format</span></span> <span class="hljs-built_in"><span class="hljs-built_in">label</span></span>="BOOTME"' "DISKPART&gt; <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>"</code> </pre><br><br>  <b>‚ÄúStage 11. Download the new image-full-clanton.ext3 to the SD card‚Äù</b> <br>  ‚ÄúNote: If you have rebooted, you must mount the / sdb1 partitions again.‚Äù <br><br><pre> <code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">mount</span></span> -t ext3 /dev/sdb1 /sdb cd /sdb/LINUX_IMAGE_FOR_SD_Intel_Galileo_v0.<span class="hljs-number"><span class="hljs-number">7</span></span>.<span class="hljs-number"><span class="hljs-number">5</span></span></code> </pre><br><br>  ‚ÄúWe activate the SD card in the virtual machine and execute the fdisk -l command to understand the card name.  In my case, the SD card is dev / sdc1 ": <br><br><pre> <code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">mkdir</span></span> mnt/usb mount -t vfat -o iocharset=utf8,codepage=<span class="hljs-number"><span class="hljs-number">866</span></span> /dev/sdc1 /mnt/usb</code> </pre><br><br>  ‚ÄúNow you need to copy the contents of the folder‚Äú /sdb/LINUX_IMAGE_FOR_SD_Intel_Galileo_v0.7.5 ‚Äùto the memory card, there are many ways, I preferred to install the mc file manager (apt-get install mc), run it and copy it‚Äù <br><br>  At this stage, I hurried and brazenly pulled out a card reader, after which Intel Galileo refused to start with it.  I copied the image-full-clanton.ext3 file from the memory card to the desktop and repeated step 10, then unzipped the original LINUX_IMAGE_FOR_SD_Intel_Galileo_v0.7.5.7z to the memory card, copied with the replacement image-full-clanton.ext3 (from the desktop), added 2 the file from the original archive LITTLE_LINUX_IMAGE_FirmwareUpdate_Intel_Galileo_v0.7.5 and inserted the memory card into Intel Galileo.  After about 20 seconds, I logged in via SSH. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6ba/36e/de4/6ba36ede415dffae69296502b1b15fee.jpg"><br><br>  To begin with, I installed ‚Äúmc‚Äù, the installation took quite a long period of time, but ended successfully.  In the future, I plan to install a web server, but for now I select the least ‚Äúheavy‚Äù systems for this. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/161/190/a9c/161190a9cb0d58b2538dcd57c3261f7e.jpg"><br><br><h5>  <b>Instead of output</b> </h5><br>  Thus, I received a full-fledged Debian on Intel Galileo, on which most of the teams work properly, but some of them do not work or are unstable.  In the near future, we plan to force Galileo to read data from sensors and write the result to an SQL table with the subsequent output of data to the site. <br><br>  As soon as they give an invite to <a href="http://habrahabr.ru/company/intel/blog/218107/">Windows 8 for Galileo</a> , its functionality will probably increase, in any case I will install it and it will be interesting. <br><br>  I remind you that Intel Galileo does not support SD cards larger than 32 GB and it is highly preferable to use memory cards of class 10. <br><br>  <a href="https://communities.intel.com/community/makers/drivers">Intel's downloads page (on original archives)</a> </div><p>Source: <a href="https://habr.com/ru/post/218993/">https://habr.com/ru/post/218993/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../218973/index.html">New flight "Lunokhod"</a></li>
<li><a href="../218975/index.html">Wolf hunters from Wall Street. Part 1</a></li>
<li><a href="../218981/index.html">Nonpayton python</a></li>
<li><a href="../218989/index.html">We cross WebWorker and XMLHttpRequest</a></li>
<li><a href="../218991/index.html">Installing and building an Angstrom Linux image for TechNexion Thunder</a></li>
<li><a href="../218995/index.html">The path from the concept to the "mature" prototype device</a></li>
<li><a href="../218997/index.html">The introduction of open source vocational education in secondary schools. Is it possible to?</a></li>
<li><a href="../218999/index.html">The task of finding the minimum domain containing all the specified sequences</a></li>
<li><a href="../219001/index.html">Building Test Environments with OpenStack</a></li>
<li><a href="../219007/index.html">Pattern state machines for Ash Entity System framework</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>