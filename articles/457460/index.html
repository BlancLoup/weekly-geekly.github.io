<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Linux Kernel Security Card</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Linux kernel security is a very complex subject area. It includes a large number of complexly interrelated concepts, and it would be useful to have it...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Linux Kernel Security Card</h1><div class="post__text post__text-html js-mediator-article">  Linux kernel security is a very complex subject area.  It includes a large number of complexly interrelated concepts, and it would be useful to have its graphical representation.  Therefore, I developed <a href="http://github.com/a13xp0p0v/linux-kernel-defence-map">a Linux kernel security map</a> .  Here is a legend: <br><br><img src="https://habrastorage.org/webt/a8/z1/9a/a8z19a6hphwhbv2c4zsdyvvrney.png"><a name="habracut"></a><br><cut></cut><br>  So, the map contains the following objects: <br><br><ul><li>  vulnerability classes; </li><li>  techniques of their operation to conduct attacks; </li><li>  error detection mechanisms; </li><li>  protection technology. </li></ul><br>  In turn, core protection technologies are heterogeneous.  Some are part of the vanilla Linux kernel, others are supplied separately for various reasons (for example, there are commercial security tools).  There are kernel security mechanisms that require hardware support. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Thus, the topic of Linux kernel security is quite extensive, and the developed map helps in its study and analysis.  Each line connecting objects on the map denotes their mutual influence, the essence of which should be clarified in the documentation.  This principle can be illustrated on a fragment of a common map.  Diagram 1 shows the security properties of the STACKLEAK technology. <br><br><img src="https://habrastorage.org/webt/k6/lb/iv/k6lbivziseeafuyukttzhchut_o.png"><br><br>  <i>Scheme 1. Properties of safety technology STACKLEAK</i> <br><br>  PAX_MEMORY_STACKLEAK is a commercial Linux kernel security technology that counteracts the exploitation of the following types of vulnerabilities: stack depth overflow, use of uninitialized variables, and information leakage into user space.  The map contains identifiers of these classes of vulnerabilities (CWE, Common Weakness Enumeration). <br><br>  The <a href="https://habr.com/ru/company/pt/blog/424633/">STACKLEAK</a> technology was introduced into the vanilla Linux kernel, which is reflected in the diagram.  There is also a KMSAN debugging mechanism that allows detecting the use of uninitialized variables and the leakage of information into user space when testing the kernel. <br><br>  It should be noted that this card does not affect the issue of reducing the perimeter of the attack for the core.  In essence, disabling almost any functionality that reduces the size of the executable file reduces the attack perimeter.  And in this project, the focus is on security tools that provide self-defense of the Linux kernel against exploitation of vulnerabilities. <br><br>  Diagram 2 shows the complete map for the kernel version 5.1 (on click, the image will open in full size). <br><br> <a href=""><img src="https://habrastorage.org/webt/jz/q2/en/jzq2en6txhepouqcblxdy-9itqg.png"></a> <br>  <i>Scheme 2. Linux v5.1 Kernel Protection Card</i> <br><br>  The map is constantly evolving, it needs to be updated at least every release of the kernel.  Therefore, it is convenient to have the source in text form and maintain it in the version control system.  In addition, in order not to have to manually arrange objects with a minimum number of intersections of links, the DOT language was chosen to create a map, and the scheme is automatically generated by the GraphViz package using the following command: <br><br><pre><code class="bash hljs">dot -Tsvg linux-kernel-defence-map.dot -o linux-kernel-defence-map.svg</code> </pre> <br>  The Linux kernel security card is an open source project licensed under GPL v3.0.  The repository is located <a href="http://github.com/a13xp0p0v/linux-kernel-defence-map">on GitHub</a> .  This project is extremely useful for: <br><br><ul><li>  tracking the current state of kernel security, </li><li>  developing IP threat models based on GNU / Linux, </li><li>  selection of appropriate protective equipment. </li></ul><br>  In addition, the Linux kernel security card is designed to help explore source code, documentation, and other sources of information on this topic: <br><br><ul><li>  <a href="https://grsecurity.net/features.php">Security properties grsecurity</a> </li><li>  <a href="https://www.kernel.org/doc/html/latest/security/self-protection.html">Security documentation in the Linux kernel source</a> </li><li>  <a href="http://www.kernsec.org/wiki/index.php/Kernel_Self_Protection_Project">Documentation Kernel Self Protection Project</a> </li><li>  <a href="">The current status of the transfer function grsecurity in the Android Open Source Project</a> </li><li>  <a href="https://github.com/Microsoft/MSRC-Security-Research/tree/master/presentations/2019_02_BlueHatIL">Overview of trends in OS security from Microsoft Research Center (MSRC)</a> </li><li>  <a href="https://openwall.info/wiki/p_lkrg/Threat_model">Linux Kernel Runtime Guard Threat Model (LKRG)</a> </li></ul><br>  And to automate the checking of security options in the Linux kernel configuration file, I created the <a href="https://github.com/a13xp0p0v/kconfig-hardened-check">kconfig-hardened-check</a> project, which is being actively developed thanks to open collaboration.  The utility supports x86_64, arm64, x86_32 and arm. <br><br>  I invite you to participate in the development <a href="http://github.com/a13xp0p0v/linux-kernel-defence-map">of the Linux kernel security card</a> and the <a href="https://github.com/a13xp0p0v/kconfig-hardened-check">kconfig-hardened-check</a> utility. </div><p>Source: <a href="https://habr.com/ru/post/457460/">https://habr.com/ru/post/457460/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../457446/index.html">Building and operating a fault-tolerant anycast network</a></li>
<li><a href="../45745/index.html">IT events in 2009</a></li>
<li><a href="../457450/index.html">Top 10 technological trends in data processing and analytics in 2019 according to Gartner</a></li>
<li><a href="../457458/index.html">Mobile stand for Chinese machines. Or how to place them in the apartment</a></li>
<li><a href="../45746/index.html">Ruby is not rails</a></li>
<li><a href="../457462/index.html">Uber: Overview of the main platform control algorithms</a></li>
<li><a href="../457464/index.html">Deduplication of ads on Yandex. Real Estate</a></li>
<li><a href="../457466/index.html">How we developed IT in Leroy Merlin: engine reassembly on the move</a></li>
<li><a href="../457468/index.html">Universal memory: SRAM, DRAM and flash memory in one bottle</a></li>
<li><a href="../457470/index.html">Leaf math: how one unusual bush changed the equation of a plant growth model</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>