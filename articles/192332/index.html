<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Minn Bitcoin on the Raspberry Pi and BFL 5GH / s miner</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the photo - Jalapeno, as it should have been originally. 
 Purchase. 
 Last November I pre-ordered Jalapeno at Butterfly Labs. They also had severa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Minn Bitcoin on the Raspberry Pi and BFL 5GH / s miner</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/96a/39f/f68/96a39ff68e4aa393a28959566e56135c.jpg"><br><h6>  In the photo - Jalapeno, as it should have been originally. </h6><br><h4>  Purchase. </h4><br>  Last November I pre-ordered Jalapeno at Butterfly Labs.  They also had several other, more expensive miners, but my choice fell on this one because of the price of $ 150 + $ 38 for delivery to Russia.  The characteristics indicated 4.5 GH / s - a huge performance for the money.  For example, AMD Radeon 6990, which cost $ 700 at that time, produced only 750 MH / s, and consumed 10 times more electricity (375W vs. 30W).  I was promised to send this device in January 2013. <br><br><h4>  Delivery. </h4><br>  Time passed, but the BFL kept pulling and pulling deadlines.  Until March, I regularly checked their site, finding news about delays.  Soon I completely forgot about my purchase, until I received a letter of happiness on July 26 with the track.  After looking forward to the month, I finally took my device from the post office.  Opening the box, I found that the device is different from the photos that were on the site.  Miner has become much thicker, but it did not upset me at all.  The heavy black box looked more reliable than the flat pancake that was in the photo.  It turned out that the piece of iron did not fit into the old case, and it had to be changed.  First of all, I climbed the site for the drivers, and, to my surprise, did not find the model I needed on the manufacturer‚Äôs website.  Instead, it was BitForce 5 GH / s Bitcoin Miner, which apparently did not differ from mine.  I did not understand whether Jalapeno was sent to me, but in a new building, or 5 GH / s miner.  Or maybe this is the same device?  In the documents that came with the parcel, 4.5 GH / s Jalapeno was listed, but in reality the device produced 5 GH / s.  But first things first. <br><a name="habracut"></a><br><br><h4>  The first inclusion. </h4><br>  After downloading EasyMiner from the manufacturer‚Äôs website, I decided to put the device into action.  I plugged in the power cable and plugged the USB cable into my computer.  What was my surprise when my PC did not find the miner in the connected devices and did not react to it at all.  For 15 minutes I poked wires, changed computers, but to no avail.  I found that 2 LEDs are on my device.  A quick search on the Internet gave no result.  This device is completely absent any technical documentation.  But I found out that the coolers on the device should turn on and make noise when the device is connected to the mains, which did not happen.  I asked a question on the BFL forum, but never received an answer.  I wrote to the caliper, and after a couple of days I received the answer that the burning LEDs mean a short circuit.  I was asked to send the device back to replace it with a new one.  I was quite upset.  10 months of waiting!  Do you have to wait another 2-3?  But the problem was solved by replacing the power supply.  I stuck the power supply from the external hard drive, and heard the sweet noise of the fan.  The native power unit was at 6 A, while the power supply from the hard drive was only at 1.5 A. The support service strongly advised me not to use my miner with this power supply, but I could not resist.  The device started up and my PC immediately saw it.  After registering in the mining pool and setting up the software, I proceeded to the most long-awaited - mining. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Mining </h4><br>  Productivity really corresponded to the declared.  But I soon realized that it was not profitable to drive my main PC 24/7, and I noticed a small white box that was already dusty on my desk.  It was the Raspberry Pi model B, which lay idle for a month. <br><br><h4>  Set in motion Raspberry Pi. </h4><br>  On the Internet, I found 2 guides on using the Raspberry Pi to control ASIC miners from the BFL.  <a href="https://forums.butterflylabs.com/showwiki.php%3Ftitle%3DTutorials:Raspberry%2BPi%2B-%2BMining%2Bwith%2BMinePeon">The first guide</a> used MinePeon - a Linux distribution created specifically for mining Bitcoin on Raspberry Pi.  <a href="https://forums.butterflylabs.com/showwiki.php%3Ftitle%3DTutorials:Raspberry%2BPi%2BMining%2Bwith%2BArch%2BLinux">The second guide</a> used Arch Linux.  Below I will briefly present the steps from the latter, which I repeated.  Some steps in the first guide were unnecessary (for example, the Internet worked for me immediately after unpacking the image on a USB flash drive), and the author accidentally missed some things. <br>  1) Download the latest version of Arch Linux from here: <a href="http://www.raspberrypi.org/downloads">www.raspberrypi.org/downloads</a> <br>  2) We write the image on the SD card.  If you are using Windows, this utility will help you: <a href="http://sourceforge.net/projects/win32diskimager/">sourceforge.net/projects/win32diskimager</a> .  In the case of Linux or Mac OS X, the image can be written using standard tools. <br>  3) Next, connect the Raspberry Pi to power, monitor and the Internet.  I powered it from the USB port of my router, which was quite enough.  You can also connect the miner himself at this step.  All the guides said that you need to use a USB hub with additional power, but everything works fine for me without it. <br>  4) Turn on the device and enter the login: root, password: root.  Change the password with the <code>passwd</code> command. <br>  Synchronize the list of packages: <code>pacman ‚ÄìSy</code> and install the ones we need: <br> <code>pacman ‚ÄìS gcc autoconf libtool curl ncurses pkg-config yasm make libusb lynx screen</code> <br>  5) Download cgminer: <br> <code><a href="http://ck.kolivas.org/apps/cgminer/"></a> lynx ck.kolivas.org/apps/cgminer</code>  <code><a href="http://ck.kolivas.org/apps/cgminer/"></a> lynx ck.kolivas.org/apps/cgminer</code> or <code><a href=""></a> wget ck.kolivas.org/apps/cgminer/3.4/cgminer-3.4.1.tar.bz2</code> <br>  6) Unpack the archive: <code>tar -xvf cgminer-3.4.1.tar.bz2</code> and <code>tar -xvf cgminer-3.4.1.tar.bz2</code> / install <br> <code>cd cgminer-3.4.1</code> <br> <code>./configure --enable-bflsc &amp;&amp; make &amp;&amp; make install</code> <br>  It takes about 10 minutes. <br>  7) Check the cgminer. <br> <code>cgminer -o poolAddress -u username -p password</code> <br>  The address of the pool is entered in the format: IP / URL: Port. <br>  8) Write a script to run: <br> <code>nano -w /etc/startscript.sh</code> <br>  Paste: <br> <code>#!/bin/sh</code> <br> <code>sleep 1m</code> <br> <code>screen -S cgminer -d -m /usr/local/bin/cgminer -o poolAddress -u username -p password 2&gt; /root/mining.log</code> <br> <code>sleep 100000d</code> <br>  Ctrl + O, Enter, Ctrl + X <br>  We set file permissions: <br>  chmod + x /etc/startscript.sh <br>  9) Create a service: <br> <code>nano -w /etc/systemd/system/mining.service</code> <br>  Paste: <br><br> <code>[Unit]</code> <br> <code>Description=Mining</code> <br> <code>Documentation=man:syslog-ng(8)</code> <br> <br> <code>[Service]</code> <br> <code>ExecStart=/etc/startscript.sh</code> <br> <code>StandardOutput=null</code> <br> <br> <code>[Install]</code> <br> <code>WantedBy=multi-user.target</code> <br> <br>  We remain: <br>  Ctrl + O, Enter, Ctrl + X <br><br>  We set file permissions: <br> <code>chmod +x /etc/systemd/system/mining.service</code> <br> <br>  Include: <br> <code>systemctl start mining</code> <br> <code>systemctl enable mining</code> <br> <br>  10) That's it.  Mining will start at boot. <br>  11) For SSH access: <br> <code>pacman -S openssh</code> <br> <code>systemctl start sshd</code> <br> <code>systemctl enable sshd.service</code> <br>  Now you can check the status by typing <br> <code>screen ‚Äìr</code> <br> <img src="https://habrastorage.org/getpro/habr/post_images/dbb/fd3/ad6/dbbfd3ad61e67ccf3b3e78d5f5c04985.png"><br><br><h4>  What have we achieved? </h4><br>  Miner works 24/7 without the need to keep a full PC on. <br>  During the day about 0.04 BTC is mined, which is approximately equal to $ 5.  Power consumption: 30 W miner + 3.5 W Raspberry Pi * 24 hours = 0.804 kW per day, which is quite good.  With the current complexity and price of bitcoin, the cost of the device with delivery pays off in 37-38 days. <br><img src="https://habrastorage.org/getpro/habr/post_images/959/8d9/206/9598d92065cf3b05727cf7a6e29989bc.png"><br><br><h5>  UPDATE: </h5><br>  User <a href="https://habrahabr.ru/users/mr_flagman/" class="user_link">mr_Flagman</a> suggested that there might be problems when using cgminer with several miners at once.  One of the possible solutions to this problem: run cgminer-a for each device with a separate instance for each device with different employees, choosing the device to be used with the help of the --usb 1: * attribute (for example: --usb 1:12 and --usb 1: 9) .  More information about this attribute can be found in the <a href="https://github.com/ckolivas/cgminer/blob/master/README">documentation for cgminer.</a>  (Advanced USB options). </div><p>Source: <a href="https://habr.com/ru/post/192332/">https://habr.com/ru/post/192332/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../192320/index.html">Dark programming</a></li>
<li><a href="../192322/index.html">A1 Pay ceases to provide services to individuals</a></li>
<li><a href="../192326/index.html">Robosezon 2013: from under the water into the sky</a></li>
<li><a href="../192328/index.html">Microsoft bought Nokia</a></li>
<li><a href="../192330/index.html">Concepts, concepts, ideas and products (part 1)</a></li>
<li><a href="../192336/index.html">The company loses domain disputes due to an article in the title</a></li>
<li><a href="../192346/index.html">Path to Selenium 3.0</a></li>
<li><a href="../192348/index.html">The book "The introduction of dependencies in. NET" is now available!</a></li>
<li><a href="../192350/index.html">Simple Science - Digest of Updated Experiments # 27</a></li>
<li><a href="../192352/index.html">Library: harsh reality</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>