<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Direct access to Cach√© classes via REST, for example DHTMLX Grid</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="With the release of the new version of InterSystems Cach√©, it became possible to use REST technology and build applications using various Javascript U...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Direct access to Cach√© classes via REST, for example DHTMLX Grid</h1><div class="post__text post__text-html js-mediator-article">  With the release of the new version of InterSystems Cach√©, it became possible to use REST technology and build applications using various Javascript UI libraries, while the Cach√© server acts as a data server.  This article will look at a very simple example of accessing Cach√© stored classes using REST technology. <br><a name="habracut"></a><br>  If to simplify, the scheme of such an application is as follows: <br><br><img src="https://habrastorage.org/files/ba0/da8/e82/ba0da8e82f4e47efbe623c398e63d0b0.png"><br><br>  As can be seen from the diagram, data exchange is performed using a REST broker, using the JSON format.  Thus, Cach√© is used only for receiving data in json format, which is processed by any Javascript UI library.  This allows you to completely separate the server business logic and user interface.  If desired, the user interface can be placed in static html pages, which will improve application performance.  Also, this approach has a great advantage in the design of interfaces, the interface developer does not need to know Cach√©, he has enough JSON data that comes from the server. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Let us turn to the simplest implementation of this approach.  To do this, you need to create a simple REST broker.  Create a new class and inherit it from <b>% CSP.REST</b> : <br><br>  <font color="#000080">Class User.DataGateway Extends% CSP.REST</font> <font color="#000080"><br></font>  <font color="#000000">{</font> <font color="#000000"><br></font>  <font color="#000080">XData</font> <font color="#000000">UrlMap</font> <font color="#000000"><br></font>  <font color="#000000">{</font> <font color="#000000"><br></font>  <font color="#000000">&lt;</font> <font color="#000080">Routes</font> <font color="#000000">&gt;</font> <font color="#000000"><br></font>  <font color="#000000">&lt;</font> <font color="#000080">Route</font> <font color="#800000">Url</font> <font color="#000000">=</font> <font color="#008000">"/ get"</font> <font color="#800000">Method</font> <font color="#000000">=</font> <font color="#008000">"GET"</font> <font color="#800000">Call</font> <font color="#000000">=</font> <font color="#008000">"GetData"</font> <font color="#000000">/&gt;</font> <font color="#000000"><br></font>  <font color="#000000">&lt;/</font> <font color="#000080">Routes</font> <font color="#000000">&gt;</font> <font color="#000000"><br></font>  <font color="#000000">}</font> <font color="#000000"><br></font>  <font color="#000080">ClassMethod</font> <font color="#000000">GetData ()</font> <font color="#000080">As% Status</font> <font color="#000080"><br></font>  <font color="#000000">{</font> <font color="#000000"><br></font>  <font color="#0000ff">write</font> <font color="#008000">"hello"</font> <font color="#008000"><br></font>  <font color="#0000ff">quit $$$ OK</font> <font color="#0000ff"><br></font>  <font color="#000000">}</font> <font color="#000000"><br></font>  <font color="#000000">}</font> <br><br>  In order for the broker to work, you need to configure the web application.  In the management portal, go to ‚ÄúSystem Administration&gt; Security&gt; Applications&gt; Web Applications‚Äù, and then modify the application (in this example, ‚Äú/ csp / user‚Äù).  In the class handler field, specify the class <b>User.DataGateway</b> just created. <br><br><img src="https://habrastorage.org/files/761/e3f/01e/761e3f01e7764bc984930daaa10dbc8a.png"><br><br>  If everything is configured correctly, then go to <a href="http://localhost:57772/csp/user/get">http: // localhost: 57772 / csp / user / get,</a> we should see the text ‚Äúhello‚Äù.  Now we modify the method so that we can refer to any static class method.  To do this, we use the <b>$ CLASSMETHOD</b> function. <br><br>  <font color="#000080">ClassMethod</font> <font color="#000000">GetData ()</font> <font color="#000080">As% Status</font> <font color="#000080"><br></font>  <font color="#000000">{</font> <font color="#000000"><br></font>  <font color="#008000">// Necessary for an example for cross-domain queries to work</font> <font color="#008000"><br></font>  <font color="#0000ff">do</font> <font color="#800000">% response</font> <font color="#000000">.</font>  <font color="#0000ff">SetHeader</font> <font color="#000000">(</font> <font color="#008000">"Access-Control-Allow-Origin"</font> <font color="#000000">,</font> <font color="#008000">"*"</font> <font color="#000000">)</font> <font color="#000000"><br></font>  <font color="#008000">// Get the class name and method name</font> <font color="#008000"><br></font>  <font color="#0000ff">set</font> <font color="#800000">class</font> <font color="#000000">=</font> <font color="#800000">% request</font> <font color="#000000">.</font>  <font color="#0000ff">Get</font> <font color="#000000">(</font> <font color="#008000">"class"</font> <font color="#000000">,</font> <font color="#008000">""</font> <font color="#000000">)</font> <font color="#000000"><br></font>  <font color="#0000ff">if</font> <font color="#000000">(</font> <font color="#800000">class</font> <font color="#000000">' =</font> <font color="#008000">""</font> <font color="#000000">)</font> <font color="#800080">{</font> <font color="#800080"><br></font>  <font color="#0000ff">set</font> <font color="#800000">method</font> <font color="#000000">=</font> <font color="#800000">% request</font> <font color="#000000">.</font>  <font color="#0000ff">Get</font> <font color="#000000">(</font> <font color="#008000">"method"</font> <font color="#000000">,</font> <font color="#008000">""</font> <font color="#000000">)</font> <font color="#000000"><br></font>  <font color="#0000ff">if</font> <font color="#000000">(</font> <font color="#800000">method</font> <font color="#000000">'=</font> <font color="#008000">""</font> <font color="#000000">)</font> <font color="#800080">{</font> <font color="#800080"><br></font>  <font color="#0000ff">try</font> <font color="#800080">{</font> <font color="#800080"><br></font>  <font color="#008000">// Execute the class method</font> <font color="#008000"><br></font>  <font color="#0000ff">do $ CLASSMETHOD</font> <font color="#000000">(</font> <font color="#800000">class</font> <font color="#000000">,</font> <font color="#800000">method</font> <font color="#000000">)</font> <font color="#000000"><br></font>  <font color="#800080">}</font> <font color="#0000ff">catch</font> <font color="#800000">err</font> <font color="#800080">{</font> <font color="#800080"><br></font>  <font color="#0000ff">write</font> <font color="#800000">err</font> <font color="#000000">.</font>  <font color="#0000ff">AsSystemError</font> <font color="#000000">()</font> <font color="#000000"><br></font>  <font color="#800080">}</font> <font color="#800080"><br></font>  <font color="#800080">}</font> <font color="#800080"><br></font>  <font color="#800080">}</font> <font color="#800080"><br></font>  <font color="#0000ff">quit $$$ OK</font> <font color="#0000ff"><br></font>  <font color="#000000">}</font> <br><br>  To test the work of a REST broker, create a simple class that describes the organization. <br><br>  <font color="#000080">Class User.GridDemo Extends% Persistent</font> <font color="#000080"><br></font>  <font color="#000000">{</font> <font color="#000000"><br></font>  <font color="#000080">Property</font> <font color="#000000">Code</font> <font color="#000080">As% String</font> <font color="#000000">;</font> <font color="#000000"><br></font>  <font color="#000080">Property</font> <font color="#000000">NameFull</font> <font color="#000080">As% String</font> <font color="#000000">;</font> <font color="#000000"><br></font>  <font color="#000080">Property</font> <font color="#000000">NameShort</font> <font color="#000080">As% String</font> <font color="#000000">;</font> <font color="#000000"><br></font>  <font color="#000080">ClassMethod</font> <font color="#000000">InitDemoData ()</font> <font color="#000000"><br></font>  <font color="#000000">{</font> <font color="#000000"><br></font>  <font color="#0000ff">set</font> <font color="#800000">o</font> <font color="#000000">=</font> <font color="#000080">## class</font> <font color="#000000">(</font> <font color="#008080">User.GridDemo</font> <font color="#000000">).</font>  <font color="#0000ff">% New</font> <font color="#000000">()</font> <font color="#000000"><br></font>  <font color="#0000ff">set</font> <font color="#800000">o</font> <font color="#000000">.</font>  <font color="#0000ff">Code</font> <font color="#000000">=</font> <font color="#008000">"001"</font> <font color="#008000"><br></font>  <font color="#0000ff">set</font> <font color="#800000">o</font> <font color="#000000">.</font>  <font color="#0000ff">NameFull</font> <font color="#000000">=</font> <font color="#008000">"Organization One"</font> <font color="#008000"><br></font>  <font color="#0000ff">set</font> <font color="#800000">o</font> <font color="#000000">.</font>  <font color="#0000ff">NameShort</font> <font color="#000000">=</font> <font color="#008000">"Org 1"</font> <font color="#008000"><br></font>  <font color="#0000ff">do</font> <font color="#800000">o</font> <font color="#000000">.</font>  <font color="#0000ff">% Save</font> <font color="#000000">()</font> <font color="#000000"><br></font>  <font color="#0000ff">set</font> <font color="#800000">o</font> <font color="#000000">=</font> <font color="#000080">## class</font> <font color="#000000">(</font> <font color="#008080">User.GridDemo</font> <font color="#000000">).</font>  <font color="#0000ff">% New</font> <font color="#000000">()</font> <font color="#000000"><br></font>  <font color="#0000ff">set</font> <font color="#800000">o</font> <font color="#000000">.</font>  <font color="#0000ff">Code</font> <font color="#000000">=</font> <font color="#008000">"002"</font> <font color="#008000"><br></font>  <font color="#0000ff">set</font> <font color="#800000">o</font> <font color="#000000">.</font>  <font color="#0000ff">NameFull</font> <font color="#000000">=</font> <font color="#008000">"Organization Two"</font> <font color="#008000"><br></font>  <font color="#0000ff">set</font> <font color="#800000">o</font> <font color="#000000">.</font>  <font color="#0000ff">NameShort</font> <font color="#000000">=</font> <font color="#008000">"Org 2"</font> <font color="#008000"><br></font>  <font color="#0000ff">do</font> <font color="#800000">o</font> <font color="#000000">.</font>  <font color="#0000ff">% Save</font> <font color="#000000">()</font> <font color="#000000"><br><br></font>  <font color="#0000ff">write</font> <font color="#008000">"Done"</font> <font color="#008000"><br></font>  <font color="#000000">}</font> <font color="#000000"><br></font>  <font color="#000000">}</font> <font color="#000000"><br><br></font>  <font color="#000000">Following the link <a href="http://localhost:57772/csp/user/get%3Fclass%3DGridDemo%26method%3DInitDemoData">http: // localhost: 57772 / csp / user / get? Class = GridDemo &amp; method = InitDemoData</a> , we will see ‚ÄúDone‚Äù.</font>  <font color="#000000">Thus, we called the InitDemoData method of the GridDemo class.</font>  <font color="#000000">Now we add a method that will generate json for the grid (in this case, the format that uses the dhtmlx grid is considered).</font> <font color="#000000"><br><br></font>  <font color="#000000"><font color="#000080">ClassMethod</font> <font color="#000000">GetGridData ()</font></font> <font color="#000000"><font color="#000000"><br></font></font>  <font color="#000000"><font color="#000000">{</font></font> <font color="#000000"><font color="#000000"><br></font></font>  <font color="#000000"><font color="#008000">// Select All Data</font></font> <font color="#000000"><font color="#008000"><br></font></font>  <font color="#000000"><font color="#0000ff">set</font> <font color="#800000">sql</font> <font color="#000000">=</font> <font color="#000080">## class</font> <font color="#000000">(</font> <font color="#008080">% SQL.Statement</font> <font color="#000000">).</font></font>  <font color="#000000"><font color="#0000ff">% New</font> <font color="#000000">()</font></font> <font color="#000000"><font color="#000000"><br></font></font>  <font color="#000000"><font color="#0000ff">set</font> <font color="#800000">st</font> <font color="#000000">=</font> <font color="#800000">sql</font> <font color="#000000">.</font></font>  <font color="#000000"><font color="#0000ff">% Prepare</font> <font color="#000000">(</font> <font color="#008000">"select * from GridDemo"</font> <font color="#000000">)</font></font> <font color="#000000"><font color="#000000"><br></font></font>  <font color="#000000"><font color="#0000ff">if</font> <font color="#000000">(</font> <font color="#800000">st</font> <font color="#000000">'= 1)</font> <font color="#800080">{</font></font> <font color="#000000"><font color="#800080"><br></font></font>  <font color="#000000"><font color="#0000ff">write</font> <font color="#008000">"% Prepare failed"</font> <font color="#000000">,</font> <font color="#0000ff">$ System</font> <font color="#008080">.Status</font> <font color="#000000">.</font></font>  <font color="#000000"><font color="#0000ff">DisplayError</font> <font color="#000000">(</font> <font color="#800000">st</font> <font color="#000000">)</font></font> <font color="#000000"><font color="#000000"><br></font></font>  <font color="#000000"><font color="#0000ff">quit</font></font> <font color="#000000"><font color="#0000ff"><br></font></font>  <font color="#000000"><font color="#800080">}</font></font> <font color="#000000"><font color="#800080"><br></font></font>  <font color="#000000"><font color="#0000ff">set</font> <font color="#800000">rset</font> <font color="#000000">=</font> <font color="#800000">sql</font> <font color="#000000">.</font></font>  <font color="#000000"><font color="#0000ff">% Execute</font> <font color="#000000">()</font></font> <font color="#000000"><font color="#000000"><br></font></font>  <font color="#000000"><font color="#0000ff">if</font> <font color="#000000">(</font> <font color="#800000">rset</font> <font color="#000000">.</font> <font color="#0000ff">% SQLCODE</font> <font color="#000000">'= 0)</font> <font color="#800080">{</font></font> <font color="#000000"><font color="#800080"><br></font></font>  <font color="#000000"><font color="#0000ff">write</font> <font color="#008000">"query error:"</font> <font color="#000000">,</font> <font color="#800000">rset</font> <font color="#000000">.</font></font>  <font color="#000000"><font color="#0000ff">% SQLCODE</font> <font color="#000000">,</font> <font color="#008000">""</font> <font color="#000000">,</font> <font color="#800000">rset</font> <font color="#000000">.</font></font>  <font color="#000000"><font color="#0000ff">% Message</font></font> <font color="#000000"><font color="#0000ff"><br></font></font>  <font color="#000000"><font color="#0000ff">quit</font></font> <font color="#000000"><font color="#0000ff"><br></font></font>  <font color="#000000"><font color="#800080">}</font></font> <font color="#000000"><font color="#800080"><br></font></font>  <font color="#000000"><font color="#008000">// Build json</font></font> <font color="#000000"><font color="#008000"><br></font></font>  <font color="#000000"><font color="#0000ff">set</font> <font color="#800000">json</font> <font color="#000000">=</font> <font color="#008000">"{" "rows" ": ["</font></font> <font color="#000000"><font color="#008000"><br></font></font>  <font color="#000000"><font color="#0000ff">while</font> <font color="#800000">rset</font> <font color="#000000">.</font></font>  <font color="#000000"><font color="#0000ff">% Next</font> <font color="#000000">()</font> <font color="#800080">{</font></font> <font color="#000000"><font color="#800080"><br></font></font>  <font color="#000000"><font color="#0000ff">set</font> <font color="#800000">json</font> <font color="#000000">=</font> <font color="#800000">json</font> <font color="#000000">_</font> <font color="#008000">"{" "id" ":"</font> <font color="#000000">_</font> <font color="#800000">rset</font> <font color="#000000">.</font></font>  <font color="#000000"><font color="#0000ff">Id</font> <font color="#000000">_</font> <font color="#008000">"," "data" ": ["</font></font> <font color="#000000"><font color="#008000"><br></font></font>  <font color="#000000"><font color="#0000ff">set</font> <font color="#800000">json</font> <font color="#000000">=</font> <font color="#800000">json</font> <font color="#000000">_</font> <font color="#008000">"" ""</font> <font color="#000000">_</font> <font color="#800000">rset</font> <font color="#000000">.</font></font>  <font color="#000000"><font color="#0000ff">Code</font> <font color="#000000">_</font> <font color="#008000">"" "," ""</font> <font color="#000000">_</font> <font color="#800000">rset</font> <font color="#000000">.</font></font>  <font color="#000000"><font color="#0000ff">NameFull</font> <font color="#000000">_</font> <font color="#008000">"" ""</font></font> <font color="#000000"><font color="#008000"><br></font></font>  <font color="#000000"><font color="#0000ff">set</font> <font color="#800000">json</font> <font color="#000000">=</font> <font color="#800000">json</font> <font color="#000000">_</font> <font color="#008000">"]},"</font></font> <font color="#000000"><font color="#008000"><br></font></font>  <font color="#000000"><font color="#800080">}</font></font> <font color="#000000"><font color="#800080"><br></font></font>  <font color="#000000"><font color="#008000">// Remove the comma at the end, if it is</font></font> <font color="#000000"><font color="#008000"><br></font></font>  <font color="#000000"><font color="#0000ff">set</font> <font color="#800000">len</font> <font color="#000000">=</font> <font color="#0000ff">$ length</font> <font color="#000000">(</font> <font color="#800000">json</font> <font color="#000000">)</font></font> <font color="#000000"><font color="#000000"><br></font></font>  <font color="#000000"><font color="#0000ff">if</font> <font color="#000000">(</font> <font color="#0000ff">$ extract</font> <font color="#000000">(</font> <font color="#800000">json</font> <font color="#000000">,</font> <font color="#800000">len</font> <font color="#000000">,</font> <font color="#800000">len</font> <font color="#000000">) =</font> <font color="#008000">","</font> <font color="#000000">)</font> <font color="#0000ff">set</font> <font color="#800000">json</font> <font color="#000000">=</font> <font color="#0000ff">$ EXTRACT</font> <font color="#000000">(</font> <font color="#800000">json</font> <font color="#000000">, 1,</font> <font color="#800000">len</font> <font color="#000000">- 1)</font></font> <font color="#000000"><font color="#000000"><br></font></font>  <font color="#000000"><font color="#0000ff">set</font> <font color="#800000">json</font> <font color="#000000">=</font> <font color="#800000">json</font> <font color="#000000">_</font> <font color="#008000">"]}"</font></font> <font color="#000000"><font color="#008000"><br></font></font>  <font color="#000000"><font color="#0000ff">write</font> <font color="#800000">json</font></font> <font color="#000000"><font color="#800000"><br></font></font>  <font color="#000000"><font color="#000000">}</font></font> <font color="#000000"><font color="#000000"><br></font> <br></font>  <font color="#000000">After that, JSON data should be displayed at <a href="http://localhost/">localhost</a> : 57772 / csp / user / get? Class = GridDemo &amp; method = GetGridData.</font> <font color="#000000"><br><br></font> <pre><code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"rows"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"data"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"001"</span></span>,<span class="hljs-string"><span class="hljs-string">"Organization One"</span></span> ] },{ <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"data"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"002"</span></span>,<span class="hljs-string"><span class="hljs-string">"Organization Two"</span></span> ] } ] }</code> </pre> <br>  It is worth noting that this article does not address the issue of security, as well as the correct formation of JSON.  These methods are given as an illustration of the approach to the design of the application and the construction of user interfaces.  In short, it is necessary to restrict access to the class methods so that you can only call methods that are oriented to data processing, and also check user rights in each method separately. <br><br>  Having received JSON with data, it remains only to write a page with a user interface.  To do this, we use the dhtmlx library (or Sencha Ext JS, JQuery UI, etc., simply by changing the format of the outgoing JSON). <br><br><pre> <code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>Grid Demo<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"js/dhtmlxw/dhtmlx.css"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"js/dhtmlxw/dhtmlx.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"js/jquery-1.10.2.min.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">language</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'javascript'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> g = </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">null</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> l = </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">null</span></span></span><span class="javascript">; $(</span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">document</span></span></span><span class="javascript">).ready(</span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function"> (</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>)</span></span></span><span class="javascript">{ l = </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">new</span></span></span><span class="javascript"> dhtmlXLayoutObject(</span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">document</span></span></span><span class="javascript">.body, </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'1C'</span></span></span><span class="javascript">); g = l.cells(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"a"</span></span></span><span class="javascript">).attachGrid(); l.cells(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"a"</span></span></span><span class="javascript">).setText(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"Grid Demo"</span></span></span><span class="javascript">); g.setImagePath(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"/js/dhtmlxw/imgs/"</span></span></span><span class="javascript">); g.setHeader(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"Code,Full Name,Short name"</span></span></span><span class="javascript">); g.setColumnIds(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"Code,NameFull,NameShort"</span></span></span><span class="javascript">); g.attachHeader(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#text_filter,#text_filter,#text_filter,#text_filter"</span></span></span><span class="javascript">); g.setInitWidths(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"120,*,200"</span></span></span><span class="javascript">); g.setColAlign(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"center,left,left,left"</span></span></span><span class="javascript">); g.setColTypes(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"ro,ro,ro,ro"</span></span></span><span class="javascript">); g.setColSorting(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'str,str,str,str'</span></span></span><span class="javascript">); g.init(); $.getJSON( </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"http://localhost:57772/csp/user/get?class=GridDemo&amp;method=GetGridData&amp;table=GridDemo"</span></span></span><span class="javascript">, onDataLoaded); }); </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-function"><span class="hljs-title">onDataLoaded</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">data</span></span></span></span><span class="javascript"><span class="hljs-function">) </span></span></span><span class="javascript">{ g.clearAll(); g.parse(data,</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'json'</span></span></span><span class="javascript">); } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"height:600px"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  For requests to the server in this example, the jQuery method getJSON is used, after which in the onDataLoaded callback, data is transferred to the grid.  If done correctly, a grid should appear with the data. <br><br><img src="https://habrastorage.org/files/1f9/058/359/1f90583591db42db8ddb37053bdc4640.png"><br><br><h4>  Conclusion </h4><br>  The article reviewed one of the methods of interacting with the Cach√© server through REST technology.  A universal mechanism for access to any static methods has been created.  Using it, JSON is formed with data, which is processed on the client using the UI library. <br><br>  This article has not been reviewed: <br><ol><li>  Security when accessing classes using REST (user rights, naming web methods). </li><li>  Formation of a correct JSON (zconvert,% ZEN.Auxiliary.jsonSQLProvider, etc.). </li><li>  Formation of an extended user interface (layout, tabs, treeview, etc.). </li></ol><br>  The example used in the article can be downloaded <a href="">here.</a> </div><p>Source: <a href="https://habr.com/ru/post/239861/">https://habr.com/ru/post/239861/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../239845/index.html">Google introduced the x86 64-bit Android L emulator for developers</a></li>
<li><a href="../239849/index.html">We design information architecture for e-commerce. Part 1</a></li>
<li><a href="../239853/index.html">We create a video wall with the image broadcast from ip-cameras via satellite with a minimum of traffic</a></li>
<li><a href="../239855/index.html">What can the optimizer do that no one else can do?</a></li>
<li><a href="../239857/index.html">Features of cloning in an educational institution</a></li>
<li><a href="../239863/index.html">Everything you wanted to know about scopes in JavaScript (but were afraid to ask)</a></li>
<li><a href="../239865/index.html">Not like in "Gravity": how astronauts repair the ISS</a></li>
<li><a href="../239871/index.html">Experience in developing a total caching engine</a></li>
<li><a href="../239875/index.html">Imgur offers to switch to gifv: as gif, only easier, better and without brakes</a></li>
<li><a href="../239879/index.html">Presentation of new Lenovo products in London</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>