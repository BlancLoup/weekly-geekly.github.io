<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Tricky way to drain mobile traffic</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Webmasters - owners of sites with a little bit decent attendance for certain have repeatedly received messages like this: 


! *****.ru. 5% 20% . . ! ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Tricky way to drain mobile traffic</h1><div class="post__text post__text-html js-mediator-article">  Webmasters - owners of sites with a little bit decent attendance for certain have repeatedly received messages like this: <br><pre><code class="html hljs xml">!       *****.ru.    5%  20%      .    .         !  100%  WAP .     25$  1000  . ... PS    .      .     !</code> </pre> <br><a name="habracut"></a><br>  Usually, the essence of such an offer comes down to adding literally a few lines to the .htaccess site, thanks to which all mobile traffic will be redirected to a certain partner site. <br><br>  I received such an offer, too, repeatedly.  At first, he answered with a polite refusal, and then simply began to leave unanswered. <br><br>  Along with this, but, unfortunately, much less often, there are also offers to place advertising banners.  Occasionally from direct advertisers, but increasingly from agencies.  And recently, a similar proposal came up for placing a graphic banner on one of the free sites on the site.  And here the quick-witted reader probably already began to guess how this relates to the letter from the first paragraph. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      But at the first moment I did not suspect a dirty trick and decided to place the JS code on the site.  Well, posted and forgot about it.  And after a while I received a message from one of the site users that the site had stopped opening from a mobile phone.  During the correspondence with him, it turned out that instead of the site, a kind of stub was opened, offering to update the Flash version.  At first I decided that Flash is really required to display a banner, but decided to clarify which device the user is trying to access the site from.  And it turned out that this is not even a smartphone, that is, about any Flash and could not be. <br><br>  Already at that moment I began to have vague doubts.  And I, armed with the plugin <a href="http://chrispederick.com/work/user-agent-switcher/">User Agent Switcher</a> for FireFox, putting in its settings "iPhone 3.0" I go to my website and find a redirect to the very stub offering to update the version of the Flash player.  Further, already by scientific tyke, that is, by alternately disabling ad units on the site, we managed to find out which of the codes caused this behavior. <br><br>  Purely from a technical point of view, everything was done very primitively.  For ‚Äúnormal‚Äù browsers, a nice picture was given with a link to a completely decent partner site, and for all mobile browsers such simple JavaScript code was added at the end: <br><pre> <code class="javascript hljs">setTimeout(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.location=<span class="hljs-string"><span class="hljs-string">'http://*****.net/?a=t2d4w294z215y2w4u2w423m254l2u266r2z274w2e423d413e4y2'</span></span>},<span class="hljs-number"><span class="hljs-number">1000</span></span>);</code> </pre><br>  Webmasters, be vigilant and learn from the mistakes of others!  If after reading this article, someone has any suspicions, I recommend using the above-mentioned plugin and checking the operation of your sites with the mobile User-agent in it. </div><p>Source: <a href="https://habr.com/ru/post/151595/">https://habr.com/ru/post/151595/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../151589/index.html">Karma extension for Google Chrome</a></li>
<li><a href="../151591/index.html">ECT is a new javascript coffee-flavored template engine.</a></li>
<li><a href="../151592/index.html">Apple Special Event 2012: iPhone 5 Presentation, New iPods, iOS 6 (in Russian)</a></li>
<li><a href="../151593/index.html">Using MS Project to manage software development projects</a></li>
<li><a href="../151594/index.html">The first details about the processor Power7 +</a></li>
<li><a href="../151596/index.html">Auto provisioning for Fanvil BW210P</a></li>
<li><a href="../151597/index.html">The new version of Adobe Photoshop will not work in Windows XP</a></li>
<li><a href="../151598/index.html">The crippled bald eagle has received a new beak printed on a 3D printer</a></li>
<li><a href="../151599/index.html">Diffie - Hellman Algorithm</a></li>
<li><a href="../151600/index.html">Apple vs Samsung</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>