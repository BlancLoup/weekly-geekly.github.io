<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We monitor the freelance site in slack</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article, we would like to talk about our new Job Freelance Scanner platform, which is freely available. In search of a new project, it is some...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We monitor the freelance site in slack</h1><div class="post__text post__text-html js-mediator-article">  In this article, we would like to talk about our new Job Freelance Scanner platform, which is freely available.  In search of a new project, it is sometimes necessary to monitor the freelance site for the presence of a suitable offer.  This raises a number of problems: searching different sites, driving in the search for the right keywords, sifting out duplicates - all this takes time.  Plus, you need to remember whether you read this sentence.  It would be convenient to monitor this with one tool, while on-line. <br><br>  Our company is engaged in the development of integration solutions and regularly needs to search for proposals in this area.  Thus, the task was formed: to develop a platform for monitoring job offers from large sites.  The platform should track offers containing some keywords and publish them in the <a href="https://slack.com/">slack</a> channel. <br><br>  After implementing the application and running it locally, we decided to publish it for the community, provide free access for use, and also publish the source code.  In summary, we are introducing the Job Freelance Scanner platform. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Opportunities </h2><br>  Job Freelance Scanner is a platform for monitoring job offers from large global job search sites developed by Leadex Systems.  This platform allows you to receive offers in a single stream to the communication channel (Slack) from such sites as: <br><br><ul><li>  <a href="http://upwork.com/">Upwork.com</a> </li><li>  <a href="http://freelancer.com/">Freelancer.com</a> </li><li>  <a href="http://guru.com/">Guru.com</a> </li></ul><br>  The announcement of a new job offer is received as soon as possible after publication, which allows monitoring of the latest offers and responding to them one of the first.  An example of a message with a job offer on the slack channel: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/80d/699/3ad/80d6993ad663408a9b55952ac5623808.png"></div><br><a name="habracut"></a><br><h2>  Customization </h2><br>  To start using the platform you need: <br><br><ul><li>  follow the link <a href="http://jobfreelancescanner.com/">jobfreelancescanner.com</a> ; </li><li>  Sign in with your Google or LinkedIn account </li><li>  enter search queries (keywords), which will be monitored job offers from the corresponding site; </li><li>  on the adjacent tab, change the slack notification settings; </li><li>  is ready.  In the specified channel slack begin to fall sentences. </li></ul><br><h2>  Architecture </h2><br>  To solve the task, the following architecture was developed: after a certain period of time, job offers from the required sites using their internal API are searched for using keywords.  Already published are eliminated and sent to the subscribed clients. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/836/77e/bfb/83677ebfb9a442c8ad5f044c37a2ca8c.png"></div><br><h4>  Legend: </h4><br><div style="text-align:center;"><img src="https://habrastorage.org/files/61a/3f8/d32/61a3f8d329b44ac8a57190096717aaae.png"></div><br>  As can be seen from the diagram, the project consists of several independent modules.  For communication between application modules, Apache ActiveMQ is used as a message broker and MongoDB for storing client settings.  Apache Camel is used to integrate our solution modules. <br><br><h2>  Slack and ActiveMQ integration example using Apache Camel </h2><br>  Let's take a closer look at a module that converts job offers to a message for Slack and sends them using the slack component integration from Apache Camel.  The basis of this component is the route described in Java DSL. <br><br><pre><code class="java hljs">from(<span class="hljs-string"><span class="hljs-string">"activemq:queue://"</span></span> + activemqQueue + <span class="hljs-string"><span class="hljs-string">"?username="</span></span> + activemqUser + <span class="hljs-string"><span class="hljs-string">"&amp;password="</span></span> + activemqPass + <span class="hljs-string"><span class="hljs-string">"&amp;disableReplyTo=true"</span></span>) .process(jsonToPojoProcessor) .process(aggregateJobProcessor) .split(body()) .process(jobToSlackMessageProcessor) .to(<span class="hljs-string"><span class="hljs-string">"direct:slackOutput"</span></span>); from(<span class="hljs-string"><span class="hljs-string">"direct:slackOutput"</span></span>) .recipientList(simple(<span class="hljs-string"><span class="hljs-string">"slack:#${header.uri}"</span></span>));</code> </pre> <br>  Route is a description of the route of transmission of messages.  The characteristics of such a route are the starting point indicated by the token <b>from</b> (in our case it is a component for ActiveMQ) and the ending point indicated by the token <b>to</b> (component for Slack).  Apache Camel provides various components for integration (see the complete list here camel.apache.org/components). <br><br>  The configuration of the activemq component is specified using the string URI.  In our case, this line is compiled by inserting the parameters specified through the settings file.  Consider an example of the resulting URI string. <br><br><pre> <code class="java hljs">from(<span class="hljs-string"><span class="hljs-string">"activemq:queue://slackNotify?username=admin&amp;password=admin"</span></span>)</code> </pre> <br>  This is a description of the input point using the generated URI string.  Where activemq is the name of the component, and queue is the type of message channel, which can be either a queue or topic.  Next comes the name of the channel - slackNotify.  The last part of the URI is the endpoint's parameters: username / password is the username and password of the user. <br><br>  Then there are several converters and a splitter: <br><br><ul><li>  <i>jsonToPojoProcessor</i> ‚Äî convert the input JSON message of the format to the internal data model Notification (the model contains a list of job offers and settings for slack).  For conversion, the Google Gson library is used, which allows you to convert JSON to a Java object and vice versa. </li><li>  <i>aggregateJobProcessor</i> ‚Äî convert from the Notification data model to an array of job offers.  The slack channel settings are also recorded in the header. </li><li>  <i>split (body ())</i> - splits the input array of job offers into independent streams. </li><li>  <i>jobToSlackMessageProcessor</i> - converts a job offer into a message for the slack channel. </li></ul><br>  The Apache Camel component is also used to integrate with Slack.  But a problem arises: the settings of the slak channel are unknown to us in advance.  We can only learn them from the incoming message.  The aggregateJobProcessor converter forms the URI part of the line with the channel settings and writes it to the header so that you can then create a dynamic route ( <a href="http://camel.apache.org/dynamic-router">Dynamic Router</a> ) <br><br><pre> <code class="java hljs">from(<span class="hljs-string"><span class="hljs-string">"direct:slackOutput"</span></span>) .recipientList(simple(<span class="hljs-string"><span class="hljs-string">"slack:#${header.uri}"</span></span>));</code> </pre> <br>  The peculiarity of this route is that it dynamically selects the end point, and specifically the slack component with the settings of the channel to which messages will be sent.  To construct a route, data from the message itself (its header) is used, which is obtained using SEL (Simple Expression Language) and executed using the simple () function.  The EIP - The Recipient List Template allows you to create dynamic endpoints. <br><br><h2>  Conclusion </h2><br>  The integration example demonstrated the simplicity and usability of Apache Camel.  We hope that the <b>Job Freelance Scanner</b> platform will be useful for someone.  Also in the future, we plan to develop our platform, for example, add Email notification and improve UI. <br><br><h4>  References: </h4><br>  ‚Üí Link to use: <a href="http://jobfreelancescanner.com/">jobfreelancescanner.com/</a> <br>  ‚Üí Link to github: <a href="http://github.com/leadex/job-monitor">github.com/leadex/job-monitor</a> </div><p>Source: <a href="https://habr.com/ru/post/317752/">https://habr.com/ru/post/317752/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../317742/index.html">Working with Aerospike on scala using macro magic</a></li>
<li><a href="../317744/index.html">How to make a successful holiday mailing</a></li>
<li><a href="../317746/index.html">RTCP as a telephony admin tool</a></li>
<li><a href="../317748/index.html">13 promising programming languages</a></li>
<li><a href="../317750/index.html">Giant component: hooks for fishing, galaxy clusters, molecular biotechnology, nanomaterials</a></li>
<li><a href="../317754/index.html">About turning the sales funnel into a well on the example of the site of the repair team</a></li>
<li><a href="../317756/index.html">How the layout of the environment affects the complexity of the game</a></li>
<li><a href="../317758/index.html">Digital Transformation: Classic Businesses Migrate to IT</a></li>
<li><a href="../317760/index.html">History in each tab or multiple backstack</a></li>
<li><a href="../317762/index.html">Wrap algorithms in iterators</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>