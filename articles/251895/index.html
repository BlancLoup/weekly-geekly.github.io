<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Use the COM port to restore your WD My Passport hard drive</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Western Digital is one of the few surviving HDD manufacturers on the market. And in today's material we will tell you about one interesting option ass...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Use the COM port to restore your WD My Passport hard drive</h1><div class="post__text post__text-html js-mediator-article">  Western Digital is one of the few surviving HDD manufacturers on the market.  And in today's material we will tell you about one interesting option associated with the repair of these discs.  Of course, for specialists in the field of DataRecovery this is not a revelation, but for citizens far from the subject, we hope it will be interesting <br><br>  We believe everyone (or almost everyone) knows that WD, and not only they, following the path of maximizing the cost of their products, has only strengthened in the past few years in the tradition of unplugging the USB - SATA bridge directly on the disk electronics board.  This introduces some complications in the process of organizing access to user information.  And on the example of the recent work on the resuscitation of WD My Passport, we will tell you about some of them. <br><a name="habracut"></a><br>  So, <b>WD10JMVW-11S5XS1</b> , a Firebird family disk, got onto the operating table in a coma.  According to the client, at first the disc began to work extremely slowly, then it was formatted and earned normally, but as it was filled with data, it finally died.  But before that, a backup copy of important data was not made. <br><br><img src="https://habrastorage.org/files/731/313/579/7313135798724dd883913dd551a4caea.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      After powering up, the disk is determined in the system, but at the slightest attempt to count anything from it, it hangs and falls off. <br><br><h3>  A little about the WD microcode device </h3><br>  On any disk, in the process of manufacturing and operation, there are or appear defects.  Those that were caught in the factory, at the final stages of assembly and testing, are recorded in the so-called.  ‚ÄúFactory‚Äù defect list.  Those that appear during the operation fall into the user defect lists. <br><br>  Having seen an unstable sector, the disc ‚Äúunderstands‚Äù that this sector is not long to live and puts its address in the so-called RELO-list.  If errors are repeated, this sector will be marked as BAD and excluded from the broadcast.  But for the time being it is not excluded - the background self-testing processes will check it again and again. <br><br>  All is good, but many modern firmware versions of WD have an amusing error.  It lies in the fact that if there are more ‚Äúsuspicious‚Äù sectors than the space allotted for them in RELO, then this, that same RELO, damage occurs.  The consequences of this are very diverse - starting from a significant loss of performance, and ending with the impossibility of correct disk initialization (RELO is a module that is not unique, but critical for logic). <br><br><h3>  And what to do? </h3><br>  Naturally, in order to analyze the current state of the disk, we need access to its service information.  You can get it in different ways.  Although modern versions of hardware and software complexes for HDD repair also support work with WD disks using the USB interface, but in cases of microprogram hangup, which is used to catch and track bad blocks, there is no sense from the USB interface. <br><br><img src="https://habrastorage.org/files/b1a/083/d98/b1a083d982dd4e6fa5574c4cdbebde88.JPG"><br>  <i>With any access to the disk via USB no response</i> <br><br>  You can connect directly to the processor, bypassing the USB interface, by soldering the SATA cable to the electronics board, but in this particular case there was no such possibility.  The fact is that the disc was warranty and there was a sticker on the board, without damaging which there is no possibility to remove this board.  And the customer insisted that all the stickers be in place. <br><br><h3>  If the mountain does not go to Mahomet ... </h3><br>  How to be?  The disk is inaccessible via the USB interface, and there is no possibility to connect via SATA (see the prohibition on tearing the sticker off).  But there is a way. <br><br><img src="https://habrastorage.org/files/700/2e0/9d9/7002e09d91c4437f920df01c057e285e.jpg"><br><br>  In the photo above, you can see the technology connector of the WD drive, to the left of USB.  Typically, these connectors are used to set jumpers that change the modes of the disk.  But few know that this connector also implements the functions ... of the diagnostic terminal of the COM port.  Through which you can "communicate" with the disk in the technological mode, giving commands and getting answers to them. <br><br><img src="https://habrastorage.org/files/da8/d02/085/da8d02085678494381d396cf94365ff3.jpg"><br>  <i>Broken WD disk with a COM terminal connected to it</i> <br><br>  It should be noted that this is not a COM port, in our usual sense.  Requires TTL to RS232 level converter.  The most convenient way is to use converters based on Marvel and Silicon Image controllers that have a USB interface and form a virtual COM port in the system. <br><br>  Of course, work on the COM port imposes its limitations.  For example, in this way you can not access user data, but this is logical - try to copy at least a gigabyte of data at a speed of 115200 bps.  All disk operations also occur rather slowly, but as they say, the one who has known life is not in a hurry. <br><br>  Connecting via the COM port to the diagnostic terminal and requesting Get Dir we received a list of service information modules <br><br><img src="https://habrastorage.org/files/a59/88f/655/a5988f65525a4baf86c2b7ff8e92bc75.jpg"><br>  <i>That's why we tried so hard.</i>  <i>Access to service information received!</i> <br><br>  The rest is a matter of technique.  Quick analysis only confirmed the assumption of errors in the id32 module.  After correcting these errors, the disk was initialized correctly and we were able to copy valuable information from the client using standard means, and at the same time reserve a copy of our own (now) good SA to facilitate future work. <br><br>  It remains to add that the problem described above is typical not only for WD, but also for other drives.  As an example - a little material from the "question-answer" rubric of the Hardmaster website about <a href="http://www.hardmaster.info/faq/vosstanovlenie-vneshnego-zhestkogo-diska-wd-my-passport.html">restoring WD My Passport</a> . <br><br>  Thanks for attention! </div><p>Source: <a href="https://habr.com/ru/post/251895/">https://habr.com/ru/post/251895/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../251877/index.html">Announcement of the second meeting of Java User Group Sevastopol</a></li>
<li><a href="../251883/index.html">From there went Animusic</a></li>
<li><a href="../251885/index.html">IBM invites to the technical workshop "z13 Technical Enablement Roadshow"</a></li>
<li><a href="../251889/index.html">Comparison of Android applications for data encryption</a></li>
<li><a href="../25189/index.html">iPod + last.fm</a></li>
<li><a href="../251899/index.html">Likbez: why at home Internet over Wi-Fi slows down</a></li>
<li><a href="../2519/index.html">Renova buys a corporation. EXE provider</a></li>
<li><a href="../25190/index.html">Three stories of Steve Jobs</a></li>
<li><a href="../251901/index.html">How I went to study in Singapore for free</a></li>
<li><a href="../251903/index.html">What is the difference between a crow and a desk? Or the difference between "their" modules and "our" components.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>