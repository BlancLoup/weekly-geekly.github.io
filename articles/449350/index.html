<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Keybase and real TOFU</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In messengers with end-to-end encryption (E2E), the user is responsible for their keys. When he loses them, he is forced to reinstall his account. 

 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Keybase and real TOFU</h1><div class="post__text post__text-html js-mediator-article">  In messengers with end-to-end encryption (E2E), the user is responsible for their keys.  When he loses them, he is forced to reinstall his account. <br><br>  Resetting an account is dangerous.  You erase public keys and in all conversations become a cryptographic stranger.  You need to recover your identity, and in almost all cases this means a personal meeting and comparison of ‚Äúsecurity numbers‚Äù with each of the contacts.  How often do you actually pass such a test, which is the only protection against MiTM? <br><br>  Even if you are serious about security numbers, you see many chat partners only once a year at a conference, so you're stuck. <br><a name="habracut"></a><br><h1>  But that doesn't happen often, right? </h1><br>  How often does a reset occur?  Answer: In most E2E chat apps all the time. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In these messengers, you drop the cryptography and just start trusting the server: (1) whenever you switch to a new phone;  (2) whenever an interlocutor switches to a new phone;  (3) when resetting to the factory settings of the phone;  (4) when any interlocutor resets to factory settings;  (5) whenever you uninstall and reinstall the application, or (6) when any other person deletes and reinstalls it.  If you have dozens of contacts, a reset will occur every few days. <br><br>  The reset occurs so regularly that these applications pretend that this is not a problem: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dbe/046/a7f/dbe046a7fde23783eff076ae8a59084a.png"></div><br>  <i>Looks like we have a security upgrade!</i>  <i>(But not really)</i> <br><br><h1>  Is it really TOFU? </h1><br>  In cryptography, the term TOFU (‚Äútrust when first used‚Äù) describes a game of chance when the two parties speak for the first time.  Instead of meeting in person, the mediator is assigned to each side ... and then, after the parties are introduced, each side carefully tracks the keys to make sure that nothing has changed.  If the key is changed, each side triggers an alarm. <br><br>  If in SSH in such a situation the key of the remote host changes, it will not ‚Äújust work‚Äù, but becomes completely militant: <br><br><blockquote><code>@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ <br> @ WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED! @ <br> @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ <br> <br> IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY! <br> Someone could be eavesdropping on you right now (man-in-the-middle attack)! <br> It is also possible that a host key has just been changed. <br> The fingerprint for the RSA key sent by the remote host is <br> 00:11:22:33:44:55:66:77:88:99:aa:bb:cc:dd:ee:ff <br> Please contact your system administrator. <br> Add correct host key in /Users/rmueller/.ssh/known_hosts to get rid of this message. <br> Offending RSA key in /Users/rmueller/.ssh/known_hosts:12 <br> RSA host key for 8.8.8.8 has changed and you have requested strict checking. <br> Host key verification failed.</code> </blockquote> <br>  Here is the correct behavior.  And remember: <b>this is not a TOFU, if it allows you to continue working with a small warning.</b>  <b>You should see a giant skull with crossed bones</b> . <br><br>  Of course, these messengers will argue that everything is fine, because the user is warned.  If he wants, he <i>can</i> check the security numbers.  This is why we disagree: <br><br><ol><li>  The check fails because it happens too often. <br></li><li>  Check sucks. <br></li><li>  Even a cursory survey of our friends who are concerned about safety showed that no one was worried about this check. <br></li><li>  So it's just server trust and SMS trust (well, well!) <b>Again, again and again</b> . <br></li><li>  Finally, these applications should not work this way.  Especially when changing devices.  A typical normal case can be handled smoothly and safely, and the rarer the situation, the worse it should look.  In a minute we will show the solution Keybase. </li></ol><br><h1>  Stop calling this TOFU </h1><br>  There is a very effective attack.  Suppose Eve wants to break into the existing conversation between Alice and Bob and stand between them.  Alice and Bob have been in contact for many years, having passed TOFU a long time ago. <br><br>  Eve just makes Alice think that Bob bought a new phone: <br><br><blockquote>  <b>Bob (Eve):</b> Hey, Hey! <br><br>  <b>Alice:</b> Yo, Bob!  Looks like you have new security numbers. <br><br>  <b>Bob (Eva):</b> Yes, I bought an iPhone XS, a good phone, very pleased with it.  Let's exchange security numbers for RWC 2020. Hey, do you have a current Caroline address?  I want to surprise her while I'm in San Francisco. <br><br>  <b>Alice: I</b> can't compare, Android 4 life!  Yes, Cozy Street 555. </blockquote><br>  Therefore, most instant messengers with encryption are unlikely to deserve TOFU compliance.  This is more like TADA - trust after adding devices.  This is a real, not a fictitious problem, because it creates an opportunity for malicious introduction into a pre-existing conversation.  In real TOFU, by the time someone is interested in your conversation, he will not be able to infiltrate it.  With TADA this is possible. <br><br>  In group chats, the situation is even worse.  The more people in the chat, the more often there will be reinstallation of accounts.  In a company of only 20 people, this will happen about every two weeks, according to our estimates.  And every person in the company should meet with this person.  Personally.  Otherwise, the entire chat is compromised by a single mole or hacker. <br><br><h1>  Decision </h1><br>  Is there a good solution that does not imply trust servers with private keys?  We think that there is: real support for multiple devices.  This means that you control a chain of devices that represent your personality.  When you get a new device (phone, laptop, desktop computer, iPad, etc.), it generates its own key pair, and your previous device signs it.  If you lose the device, then "delete" it from one of the rest.  Technically, such a deletion is a recall, and in this case there is also some sort of key reversal that occurs automatically. <br><br>  As a result, <b>you do not need to trust the server or meet in person when the interviewee or colleague receives a new device</b> .  Similarly, you do not need to trust the server or meet in person when he removes the device, if it was not the last.  The only time you need to see a warning is when someone really loses access to all of their settings.  And in this case you will see a serious warning, as it should: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b52/c11/c30/b52c11c30705695088a044658f3fb608.png"></div><br>  <i><font color="gray">Specially as ugly as possible</font></i> <br><br>  As a result, far fewer accounts are reset and reset.  Historically, on Keybase, the total number of add-ons and device reviews is <b>ten times the</b> number of account drops (you don‚Äôt have to take our word for it, this is publicly available in our Merkle tree).  Unlike other instant messengers, we can show a truly terrifying warning when you are talking to someone who recently reinstalled the keys. <br><br>  Device management is a complex engineering operation that we have developed several times.  The existing device signs the public keys of the new device and encrypts all the important secret data for the public key of the new device.  This operation should be performed quickly (within a second), since this is a range of attention of the user.  As a result, Keybase uses a key hierarchy, so that when transferring 32 bytes of secret data from an old device, the new device can see all long-lived cryptographic data (for more details, see the FAQ below).  This may seem a bit surprising, but <i>that is the point of cryptography</i> .  It does not solve your secret management problems, it just makes the system more scalable. <br><br><h1>  Full safety picture </h1><br>  Now we can formulate four basic security properties for the Keybase application: <br><br><ol><li>  durable secret keys never leave the devices on which they are created <br></li><li>  full support for multiple devices minimizes account dumping <br></li><li>  key recall cannot be maliciously delayed or rolled back <br></li><li>  direct secrecy using ephemeral messages over time </li></ol><br>  The first two seem clear.  The third becomes important in a design where device recall is expected and considered normal.  The system should be checking that malicious servers can not delay device reviews, as we <a href="https://keybase.io/docs/server_security/merkle_root_in_bitcoin_blockchain">wrote earlier</a> . <br><br>  For more information on the fourth security property, see our <a href="https://keybase.io/blog/keybase-exploding-messages">article on ephemeral messages</a> . <br><br><h1>  A lot of new cryptography, everything is correctly implemented? </h1><br>  No one has ever implemented Keybase's basic security functions or even described them in scientific articles.  We had to invent some cryptographic <i>protocols</i> .  Fortunately, ready-made, standardized, and widely used <a href="https://godoc.org/golang.org/x/crypto/nacl">cryptographic <i>algorithms are</i></a> in abundance for any situation.  All our client code is <a href="https://github.com/keybase/client">open</a> .  Theoretically, anyone can find design or implementation errors.  But we wanted to <a href="https://twitter.com/maxtaco/status/973935387843448832">demonstrate the internal structure</a> and hired the best security audit firm for a full review. <br><br>  Today we present the <a href="https://keybase.io/docs-assets/blog/NCC_Group_Keybase_KB2018_Public_Report_2019-02-27_v1.3.pdf">report of the</a> NCC Group and are extremely encouraged by the results.  Keybase spent on auditing more than $ 100,000, and the NCC Group hired top-level security and cryptography experts.  They found two important errors in our implementation, and we quickly fixed them.  These bugs could only appear if our servers acted maliciously.  We can assure that they will not act that way, but you have no reason to believe us.  <i>In fact of the matter!</i> <br><br>  We think the NCC team did an excellent job.  Respect for the time they spent to fully understand our architecture and implementation.  They found subtle bugs that went past the attention of our developers, although we recently watched this part of the code base many times.  We recommend to see the report <a href="https://keybase.io/docs-assets/blog/NCC_Group_Keybase_KB2018_Public_Report_2019-02-27_v1.3.pdf">here</a> , or go to our FAQ. <br><br><h1>  FAQ </h1><br><h3>  How do you DARE attack the XYZ product? </h3><br>  We have already removed references to specific products from the article. <br><br><h3>  What else? </h3><br>  We are proud that Keybase does not require telephone numbers and can verify the identifiers Twitter, HackerNews, Reddit and Github cryptographically, if you know someone. <br><br>  And ... very soon ... there will be support for Mastodon. <br><br><h3>  What about phone redirection attacks? </h3><br>  Many applications are susceptible to redirected attacks.  Eva goes to a kiosk in a mall and convinces mobile operator Bob to forward Bob‚Äôs phone number to her device.  Or she convinces a representative by phone.  Now Eva can authenticate on the messenger servers, claiming that she is Bob.  The result looks like our example of Alice, Bob and Eve above, but Eve does not need to penetrate any servers.  Some applications offer ‚Äúregistration blocking‚Äù to protect against this attack, but by default they are annoying. <br><br><h3>  I heard Keybase sends some private keys to the server? </h3><br>  In the early days (2014 and early 2015), Keybase worked as a PGP web application, and the user could choose the function to store their private PGP keys on our servers, encrypted with passphrases (which Keybase did not know). <br><br>  In <a href="https://keybase.io/blog/keybase-new-key-model">September 2015,</a> we introduced a new model Keybase.  PGP keys are never used (and never used) in a chat or Keybase file system. <br><br><h3>  How old chats instantly appear on new phones? </h3><br>  In some other applications, new devices do not see old messages, since the synchronization of old messages through the server contradicts outright secrecy.  The Keybase application allows you to assign some messages - or whole conversations - as "ephemeral."  They are destroyed after a certain time and are encrypted twice: once with the help of long-lived chat encryption keys, and the other with frequently changing ephemeral keys.  Thus, ephemeral messages provide direct secrecy and cannot be synchronized between phones. <br><br>  Non-e-mail messages are saved until the user explicitly deletes them and synchronizes E2E with new Slack-style devices, only with encryption!  Therefore, when you add someone to a team or add a new device for yourself, messages are unlocked. <br><br>  Read more about synchronization in the next paragraph. <br><br><h3>  Tell us about the PUKs! </h3><br>  Two years ago, we presented the <a href="https://keybase.io/docs/teams/puk">keys to users (PUK)</a> .  The public half of the PUK is advertised in the public <a href="https://keybase.io/docs/sigchain">sigchain of</a> users.  The secret half is encrypted for the public key of each device.  When Alice is preparing a new device, her old device knows the secret half of her PUK and the public key of the new device.  It encrypts the secret half of the PUK for the public key of the new device, and the new device downloads this ciphertext through the server.  A new device decrypts the PUK and can immediately access all long-lived chat messages. <br><br>  Whenever Alice withdraws a device, it changes its PUK, so that all its devices except the most recently recalled receive a new PUK. <br><br>  This synchronization scheme is fundamentally different from the Keybase PGP early system.  Here, all involved keys have 32 bytes of true entropy, they do not break with brute force in case of a server hacking.  True, if the <a href="https://godoc.org/golang.org/x/crypto/curve25519">Curve25519</a> or <a href="https://godoc.org/golang.org/x/crypto/curve25519">PRNG</a> <a href="https://golang.org/pkg/crypto/rand/">from Go</a> is broken, then everything breaks.  But PUK sync makes no other significant cryptographic assumptions. <br><br><h3>  What about big group chats? </h3><br>  <b>tL; dr</b> The groups have their own audited chains of signatures for changing roles, adding and deleting members. <br><br>  Security researchers <a href="https://blog.cryptographyengineering.com/2018/12/17/on-ghost-users-and-messaging-backdoors/">wrote</a> about phantom user attacks on group chats.  If user clients are unable to cryptographically verify group membership, then malicious servers can inject spyware and moles into group chats.  Keybase has a very reliable system here in the form of a <a href="https://keybase.io/blog/introducing-keybase-teams">special function of groups</a> , about which we will write further in the future. <br><br><h3>  Can you talk about NCC-KB2018-001? </h3><br>  We believe that this bug is the most significant finding of the NCC audit.  Keybase actively uses immutable data structures for append-only server ambiguity protection.  In the case of a bug, an honest server might start to shirk: ‚ÄúI told you A before, but there was a bug, I meant B‚Äù.  But our clients have a common policy not to allow the server such flexibility: they are <a href="">tightly bound to exceptions</a> in case of bugs. <br><br>  Recently, we also introduced <a href="https://keybase.io/docs/teams/sigchain_v2">Sigchain V2</a> : this system solves scalability problems that we did not quite correctly provide in the first version.  Now customers are more economical with cryptographic data that they pull off the server, getting only one signature from the tail of the chain of signatures, rather than the signature of each intermediate link.  Thus, clients lost the opportunity to get stuck in searching for a specific signature hash, but we previously used these hashes to look for bad chains in this list of hard-coded exceptions.  We were preparing to release Sigchain V2, forgetting about this detail, buried under several layers of abstractions, so that the system simply trusted the field from the server response. <br><br>  As soon as the NCC discovered this error, the <a href="https://github.com/keybase/client/pull/14335">fix</a> was simple enough: searching for hard-coded exceptions with the link link hash, not the link check mark hash.  The client can always directly compute these hashes. <br><br>  We can also attribute this error to the additional complexity required to simultaneously support Sigchain V1 and Sigchain V2.  Current customers write down Sigchain V2 links, but all clients must maintain outdated v1 links for an unlimited time.  Recall that customers sign up links with their private keys for each device.  We cannot coordinate all clients rewriting historical data within a reasonable time, as these clients may simply be offline. <br><br><h3>  Can you talk about NCC-KB2018-004? </h3><br>  As in 001 (see above), we were let down by a certain combination of simultaneous support for outdated solutions and optimization, which seemed important as we gained more experience of real work with the system. <br><br>  In Sigchain V2, we reduce the size of the chains in bytes to reduce the bandwidth needed to search for users.  This savings is especially important on mobile phones.  Thus, we encode chainlinks with a <a href="https://msgpack.org/index.html">MessagePack</a> , not <a href="https://json.org/">JSON</a> , which gives a good economy.  In turn, customers sign and verify signatures on these chains.  Researchers at NCC have found clever ways to create ‚Äúsignatures‚Äù that look like JSON and MessagePack at the same time, which led to a conflict.  We involuntarily introduced this ambiguity of decoding during optimization, when we switched JSON parsers from the standard Go parser to the more efficient one.  This fast parser quietly missed a bunch of garbage before finding the actual JSON that included this polyglot attack feature.  Error corrected by <a href="https://github.com/keybase/client/pull/14006">additional input validation</a> . <br><br>  In Sigchain V2, we also accepted the <a href="https://mailarchive.ietf.org/arch/msg/tls/kNHaCbvPbc7WQbdaqH3r5Kd4UpE">proposal of Adam Langley</a> that the signers should preface their packets with signatures with the context string prefix and byte <code>\0</code> , so that verifiers are not confused in the signer's intentions.  On the verifying side of this context-prefix idea, there were errors that could lead to other polyglot attacks.  We quickly corrected this flaw <a href="https://github.com/keybase/client/pull/14320">with the white list</a> . <br><br>  After correcting both bugs, the server rejects the harmful loads of the polyglot attack, so that the exploitation of these vulnerabilities is possible only with the help of a compromised server. <br><br><h3>  Where is the documentation? </h3><br>  <a href="https://keybase.io/docs">https://keybase.io/docs</a> <br><br>  In the coming months, we will devote more time to work on documentation. <br><br><h3>  You can tell more about this statement of the NCC: ‚ÄúHowever, an attacker is able to refuse to update the sigchain or roll back the user‚Äôs sigchain to the previous state by truncating subsequent chain links‚Äù </h3><br>  Keybase actively uses immutable append-only public data structures that force the server infrastructure to capture one true representation of user identifiers.  We can guarantee the withdrawal of devices and the removal of team members in such a way that the compromised server cannot roll back.  If the server decides to show an inconsistent view, this deviation becomes part of the unchangeable public record.  Keybase clients or a third-party auditor may detect a discrepancy at any time after an attack.  We believe that these guarantees far exceed those of competing products and are almost optimal given the practical limitations of mobile phones and customers with limited computing power. <br><br>  Simply put, Keybase cannot invent someone's signatures.  Like any server, it can hold data.  But our transparent Merkle tree is designed to be stored for a very short period of time, and it is always detectable. <br><br><h3>  How does Keybase handle account resetting? </h3><br>  When Keybase users actually lose all their devices (as opposed to adding new ones or losing several), they need to reset.  After resetting the account, the user is mostly new, but he has the same username.  He cannot sign the "reset instruction" because he has lost all his keys.  So instead, the Keybase server commits an indelible operator to the Merkle tree, which means a reset.  Clients enforce the impossibility of reversing these instructions.  In a future article, specific mechanisms will be described in detail. <br><br>  This user will have to re-add proof of identity (Twitter, Github, whatever) with new keys. <br><br><h3>  Can the server just swap someone's leaf on a Merkle tree to advertise a completely different set of keys? </h3><br>  The NCC authors consider Keybase hostile server, which completely changes the leaf of the Merkle tree, replacing the true set of Bob's keys with a completely new fake set.  The attacking server has two options.  First, he can fork the state of the world, putting Bob in one fork, and those whom he wants to fool - in the other.  Secondly, he can ‚Äúcheat‚Äù by publishing a version of the Merkle tree with the correct set of Bob's keys and other versions with a fake set.  Users who interact regularly with Bob will discover this attack, as they will verify that the previously downloaded versions of Bob‚Äôs history are valid prefixes of the new versions that they download from the server.  Third-party validators that scan all Keybase updates will also notice this attack.  If you write a third-party Keybase validator that we like, we can offer a significant reward.  Refer to <a href="https://keybase.io/max"><code>max</code></a> on Keybase.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Otherwise, we hope to plan in the near future the creation of an autonomous validator. </font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Can you believe that I read to the end? </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Did you read it or just scroll down? </font></font></div><p>Source: <a href="https://habr.com/ru/post/449350/">https://habr.com/ru/post/449350/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../449338/index.html">Julia. Web services</a></li>
<li><a href="../449340/index.html">Random oracle based on digital signature in blockchain</a></li>
<li><a href="../449346/index.html">MODX Digest # 4 (April 8 - 22, 2019)</a></li>
<li><a href="../449348/index.html">Buildroot - part 2. Creating the configuration of your board; use external tree, rootfs-overlay, post-build scripts</a></li>
<li><a href="../44935/index.html">Weather Forecast: Self-Learning Interactive Service</a></li>
<li><a href="../449352/index.html">How we built monitoring on Prometheus, Clickhouse and ELK</a></li>
<li><a href="../449358/index.html">New Frontiers in Physics</a></li>
<li><a href="../44936/index.html">Half-Life is 10 years old today</a></li>
<li><a href="../449362/index.html">UPS for medical facilities: Delta Electronics health care experience</a></li>
<li><a href="../449364/index.html">Background: what is Continuous Delivery</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>