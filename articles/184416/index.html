<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Model-View in QML. Part One: Predefined Component Views</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this part of my series of articles about Model-View in QML, we will begin to look at views and begin with those that are made on the basis of ready...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Model-View in QML. Part One: Predefined Component Views</h1><div class="post__text post__text-html js-mediator-article">  In this part of my series of articles about Model-View in QML, we will begin to look at views and begin with those that are made on the basis of ready-made components. <br><br>  Model-View in QML: <br><ol><li>  <a href="http://habrahabr.ru/post/181712/">Model-View in QML.</a>  <a href="http://habrahabr.ru/post/181712/">Part zero, introductory</a> </li><li>  Model-View in QML.  Part One: Predefined Component Views </li><li>  <a href="http://habrahabr.ru/post/190090/">Model-View in QML.</a>  <a href="http://habrahabr.ru/post/190090/">Part Two: Custom Submissions</a> </li><li>  <a href="http://habrahabr.ru/post/195706/">Model-View in QML.</a>  <a href="http://habrahabr.ru/post/195706/">Part Three: Models in QML and JavaScript</a> </li><li>  <a href="https://habrahabr.ru/post/302428/">Model-View in QML.</a>  <a href="https://habrahabr.ru/post/302428/">Part Four: C ++ Models</a> </li></ol><br><a name="habracut"></a><br>  Representation in MVC provides data mapping.  This is the part of the program that determines how the data will look and, ultimately, what the user will see. <br><br>  I have already said that the implementation of a view in Qt has one significant feature: the view here is combined with control.  Why is this done?  In the graphical interface, often the same elements are responsible for displaying data and changing it.  As an example, we can recall the tabular processor.  Each cell not only displays the data but is also responsible for changing them, and therefore performs the functions not only of presentation, but also of control.  So the decision to combine them in one element is quite logical. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      This suggests the idea that when combining two functions in one element, we lose flexibility and the presentation itself becomes more complicated.  Not really.  In order to provide the possibility of customizing the presentation of data and processing user input, the concept of a delegate is introduced. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage2/871/8d0/070/8718d0070d568d515ca54048ab6dcb28.png"></div><br><br>  A delegate is a component that displays data from a single model element and provides for its editing.  Instances of the delegate are created for each element of the model and are located in the view, which is essentially a container.  It is the delegate who decides how the data of a particular element should be displayed and edited, and this gives us great opportunities for customization.  In the above example with a tabular processor, we can simply make it so that the data in each cell is edited using a spinbox or a drop-down list. <br><br>  In QML, everything is exactly the same except that the delegate may not edit data for all models (and the ability to edit model data is not specified in the documentation). <br><br>  To summarize, a view in QML has three tasks: <br><ol><li>  create delegate instances for each item in the model; </li><li>  arrange these elements as required; </li><li>  provide navigation through the elements. </li></ol><br><h5>  1. ListView </h5><br>  We will begin acquaintance with ideas from, in my opinion, the necessary and sought-after presentation itself, and we will consider in detail some of the things typical of most of these components. <br><br>  This component allows us to display objects in a list.  Navigation issues are also resolved - the component handles mouse and keyboard events, allowing you to scroll through elements with gestures using a mouse or touch screen, using a mouse scroll, as well as from the keyboard. <br><br><h6>  1) simple examples of use </h6><br>  ListView (and most other views as well) have a notion of a current item.  Which current item is determined by the currentIndex property and the current item itself is accessible through the currentItem property.  Also, each delegate has an associated ListView.isCurrentItem property that will be true if this item is current.  This gives us the opportunity to highlight the current element so that it appears somehow differently. <br><br>  In addition, the ListView itself can highlight the current item.  To do this, you need a component that will perform the backlight.  In the simplest case, it will be a colored rectangle.  When you change the current item, the ListView will move the highlight (this behavior can be customized). <br><br>  Consider all this with a simple example. <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> QtQuick <span class="hljs-number"><span class="hljs-number">2.0</span></span> Rectangle { <span class="hljs-attr"><span class="hljs-attr">width</span></span>: <span class="hljs-number"><span class="hljs-number">360</span></span> height: <span class="hljs-number"><span class="hljs-number">360</span></span> ListModel { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: dataModel ListElement { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">"orange"</span></span> text: <span class="hljs-string"><span class="hljs-string">"first"</span></span> } ListElement { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">"lightgreen"</span></span> text: <span class="hljs-string"><span class="hljs-string">"second"</span></span> } ListElement { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">"orchid"</span></span> text: <span class="hljs-string"><span class="hljs-string">"third"</span></span> } ListElement { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">"tomato"</span></span> text: <span class="hljs-string"><span class="hljs-string">"fourth"</span></span> } } ListView { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: view anchors.margins: <span class="hljs-number"><span class="hljs-number">10</span></span> anchors.fill: parent spacing: <span class="hljs-number"><span class="hljs-number">10</span></span> model: dataModel clip: <span class="hljs-literal"><span class="hljs-literal">true</span></span> highlight: Rectangle { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">"skyblue"</span></span> } highlightFollowsCurrentItem: <span class="hljs-literal"><span class="hljs-literal">true</span></span> delegate: Item { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: listDelegate property <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> view: ListView.view property <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> isCurrent: ListView.isCurrentItem width: view.width height: <span class="hljs-number"><span class="hljs-number">40</span></span> Rectangle { anchors.margins: <span class="hljs-number"><span class="hljs-number">5</span></span> anchors.fill: parent radius: height / <span class="hljs-number"><span class="hljs-number">2</span></span> color: model.color border { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">"black"</span></span> width: <span class="hljs-number"><span class="hljs-number">1</span></span> } Text { anchors.centerIn: parent renderType: Text.NativeRendering text: <span class="hljs-string"><span class="hljs-string">"%1%2"</span></span>.arg(model.text).arg(isCurrent ? <span class="hljs-string"><span class="hljs-string">" *"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span>) } MouseArea { anchors.fill: parent onClicked: view.currentIndex = model.index } } } } }</code> </pre> <br>  We use the ListView.isCurrentItem attached property in the delegate to determine if this item is current and in the current item we display an asterisk (*) besides the text.  To click on an element to set itself current we need access to the ListView object and we get it using the ListView.view property.  Here this property is used for demonstration, it is not necessary to use it, and you can directly access this object, since  this object is already in the scope of the delegate.  But if the delegate is defined in another qml-file, then in the scope of the delegate there will no longer be a ListView object and this property will allow access to it. <br><br>  A simple colored rectangle is used as the backlight.  Its size is set by ListView and it moves it itself behind the current element. <br><br>  By running the program, we can change the current item by clicking the mouse and see how the backlight moves behind it: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage2/704/4d8/af4/7044d8af485d6d3499f640b2c87d4716.png"></div><br><br>  Another important point regarding the visibility of attached properties in the delegate.  In contrast to model data, attached properties are valid only in the delegate itself, but not in its child objects.  Those.  we cannot use ListView.isCurrentItem in the Text element.  This feature may not be obvious, given that the attached properties themselves are visible in the object and there will be no errors when referring to them.  For example, you can replace the handler with a click in MouseArea with the following: <br><br><pre> <code class="javascript hljs">onClicked: <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(ListView.isCurrentItem)</code> </pre><br>  And on all elements it will return false, even on the current one. <br><br>  To access from the child elements of the delegate, you must either explicitly specify the scope of the delegate through its id, i.e.  listDelegate.ListView.isCurrentItem or use an intermediate property for this, as was done in the example using the isCurrent property. <br><br>  The first method is good because it does not create an additional property.  The second method is worth using if the delegate implementation is placed in a separate QML file.  For example, if you put it into the ListDelegate.qml file, you can write this code: <br><br><pre> <code class="javascript hljs">ListView { <span class="hljs-attr"><span class="hljs-attr">delegate</span></span>: ListDelegate { <span class="hljs-attr"><span class="hljs-attr">isCurrent</span></span>: ListView.isCurrentItem } }</code> </pre><br>  This allows you to not bind the delegate implementation to the ListView and change the display (for example, on Repeater + Column) without changes in the delegate code. <br><br>  In ListView, you can specify additional items that will be displayed at the beginning and at the end of all items.  To do this, use the properties header and footer.  Let's add the previous example with these elements: <br><br><pre> <code class="javascript hljs">header: Rectangle { <span class="hljs-attr"><span class="hljs-attr">width</span></span>: view.width height: <span class="hljs-number"><span class="hljs-number">40</span></span> border { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">"black"</span></span> width: <span class="hljs-number"><span class="hljs-number">1</span></span> } Text { anchors.centerIn: parent renderType: Text.NativeRendering text: <span class="hljs-string"><span class="hljs-string">"Header"</span></span> } } footer: Rectangle { <span class="hljs-attr"><span class="hljs-attr">width</span></span>: view.width height: <span class="hljs-number"><span class="hljs-number">40</span></span> border { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">"black"</span></span> width: <span class="hljs-number"><span class="hljs-number">1</span></span> } Text { anchors.centerIn: parent renderType: Text.NativeRendering text: <span class="hljs-string"><span class="hljs-string">"Footer"</span></span> } }</code> </pre><br>  As a result, we get something like this: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage2/78e/697/d62/78e697d62365c214ad830f882957df5d.png"></div><br><br><h6>  2) sections </h6><br>  In ListView, elements can be divided into groups and each group can have its own title.  To do this, choose which role from the model will be used for splitting into groups and define a delegate for the titles of these groups. <br><br>  Consider this in the following example. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> QtQuick <span class="hljs-number"><span class="hljs-number">2.0</span></span> Rectangle { <span class="hljs-attr"><span class="hljs-attr">width</span></span>: <span class="hljs-number"><span class="hljs-number">360</span></span> height: <span class="hljs-number"><span class="hljs-number">360</span></span> ListModel { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: dataModel ListElement { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"bird"</span></span> text: <span class="hljs-string"><span class="hljs-string">"penguin"</span></span> } ListElement { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"bird"</span></span> text: <span class="hljs-string"><span class="hljs-string">"raven"</span></span> } ListElement { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"reptile"</span></span> text: <span class="hljs-string"><span class="hljs-string">"lizard"</span></span> } ListElement { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"reptile"</span></span> text: <span class="hljs-string"><span class="hljs-string">"turtle"</span></span> } ListElement { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"reptile"</span></span> text: <span class="hljs-string"><span class="hljs-string">"crocodile"</span></span> } } ListView { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: view anchors.margins: <span class="hljs-number"><span class="hljs-number">10</span></span> anchors.fill: parent spacing: <span class="hljs-number"><span class="hljs-number">10</span></span> model: dataModel clip: <span class="hljs-literal"><span class="hljs-literal">true</span></span> section.property: <span class="hljs-string"><span class="hljs-string">"type"</span></span> section.delegate: Rectangle { <span class="hljs-attr"><span class="hljs-attr">width</span></span>: view.width height: <span class="hljs-number"><span class="hljs-number">40</span></span> color: <span class="hljs-string"><span class="hljs-string">"lightgreen"</span></span> Text { anchors.centerIn: parent renderType: Text.NativeRendering font.bold: <span class="hljs-literal"><span class="hljs-literal">true</span></span> text: section } } delegate: Rectangle { <span class="hljs-attr"><span class="hljs-attr">width</span></span>: view.width height: <span class="hljs-number"><span class="hljs-number">40</span></span> border { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">"black"</span></span> width: <span class="hljs-number"><span class="hljs-number">1</span></span> } Text { anchors.centerIn: parent renderType: Text.NativeRendering text: model.text } } } }</code> </pre><br>  We specify the type field for splitting into groups.  Accordingly, all elements with the same value of this field are combined into one group.  You can make it so that the group combines elements whose first letter matches (for example, for the address book).  To do this, the section.criteria property needs to be set to the value of the ViewSection.FirstCharacter. <br><br>  Running the program, we get the following result: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage2/98f/656/729/98f6567298e3d45ecb01653f7d6bbf59.png"></div><br><br><h6>  3) About performance </h6><br>  It is worth noting that the ListView does not create instances of the delegate for all elements of the model, but only for those that are visible.  When moving the visible part (i.e., when paging), the ListView creates them on the fly, when they have to get into the visible area and deletes, when they have to disappear from this area.  It follows that delegates should be as light as possible, otherwise the scrolling of the elements will slow down. <br><br>  ListView can create items not only for the area that is visible now, but with some margin.  Objects in this area are created asynchronously, so as not to interfere with the operation of the interface.  Accordingly, the greater the number of such elements, the smaller the probability of scrolling lags, but memory consumption is also increasing.  The number of such elements is controlled by a special parameter - cacheBuffer.  It determines the size of the area in pixels beyond the border of the visible part for which objects will be created.  To understand how many additional objects will be created, you need to divide this value by the height (or width, if the ListView is horizontal), and multiply this value by two, since there are two such areas. <br><br>  I, having worked for some time on the fifth version of Qt, somehow gathered and launched my project on the fourth version.  And he noticed that scrolling elements noticeably lags.  Having dug a little deeper, I noticed that in Qt 5.0, the default cacheBuffer is 320, and in Qt 4.8 - 0. Increasing the cache size, scrolling became noticeably smoother.  But even so noticeably, that in the fifth version we did a good job of acceleration - as compared with the fourth version, the difference is visible with the naked eye. <br><br>  The default buffer size can be different on different platforms, so you should not rely on the numbers I indicated here, I just cited them for example. <br><br>  Based on the foregoing, we can draw two conclusions regarding performance: <br><br><ul><li>  you need to create as easy delegates as possible with the minimum number of bindings (especially for complex JavaScript expressions in bindings); </li><li>  If there are problems with scrolling, you should experiment with the size of the buffer. </li></ul><br><h5>  2. GridView </h5><br>  This component is similar to ListView, but allows you to arrange the elements of the grid.  The grid is filled line by line from left to right (by default).  Accordingly, if there are fewer elements, there will be empty spaces at the end. <br><br>  The first example slightly adapted for use by the GridView: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> QtQuick <span class="hljs-number"><span class="hljs-number">2.0</span></span> Rectangle { <span class="hljs-attr"><span class="hljs-attr">width</span></span>: <span class="hljs-number"><span class="hljs-number">360</span></span> height: <span class="hljs-number"><span class="hljs-number">360</span></span> ListModel { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: dataModel ListElement { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">"orange"</span></span> text: <span class="hljs-string"><span class="hljs-string">"first"</span></span> } ListElement { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">"lightgreen"</span></span> text: <span class="hljs-string"><span class="hljs-string">"second"</span></span> } ListElement { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">"orchid"</span></span> text: <span class="hljs-string"><span class="hljs-string">"third"</span></span> } ListElement { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">"tomato"</span></span> text: <span class="hljs-string"><span class="hljs-string">"fourth"</span></span> } } GridView { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: view anchors.margins: <span class="hljs-number"><span class="hljs-number">10</span></span> anchors.fill: parent cellHeight: <span class="hljs-number"><span class="hljs-number">100</span></span> cellWidth: cellHeight model: dataModel clip: <span class="hljs-literal"><span class="hljs-literal">true</span></span> highlight: Rectangle { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">"skyblue"</span></span> } delegate: Item { property <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> view: GridView.view property <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> isCurrent: GridView.isCurrentItem height: view.cellHeight width: view.cellWidth Rectangle { anchors.margins: <span class="hljs-number"><span class="hljs-number">5</span></span> anchors.fill: parent color: model.color border { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">"black"</span></span> width: <span class="hljs-number"><span class="hljs-number">1</span></span> } Text { anchors.centerIn: parent renderType: Text.NativeRendering text: <span class="hljs-string"><span class="hljs-string">"%1%2"</span></span>.arg(model.text).arg(isCurrent ? <span class="hljs-string"><span class="hljs-string">" *"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span>) } MouseArea { anchors.fill: parent onClicked: view.currentIndex = model.index } } } } }</code> </pre><br>  Unlike ListView, there is no spacing property here.  Instead, the cell size is set using cellHeight and cellWidth.  If the element is smaller than the cell, there will be indents.  If more - will fit on each other :) <br><br>  The result of the program: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage2/46f/154/2eb/46f1542eba5cba66879453d56b606db2.png"></div><br><br>  In addition to the possibility of the location of the elements of the grid and the lack of spacing, this component has another difference from the ListView - there are no sections.  Otherwise, everything said about ListView is also true for the GridView. <br><br><h5>  3. TableView </h5><br>  Some data is most conveniently displayed as a table.  Qt uses the QTableView class for this.  In QML, with the advent of the QtQuick Controls module, a ready-made component for creating a tabular representation of data has appeared. <br><br>  I must say that the model should still be in the form of a list.  One model element corresponds to a row in a table, and data for columns is taken from element roles.  Pass the real C ++ table model there, i.e.  the derived class from QAbstractTableModel does not work - only the first column will be visible. <br><br>  In the definition of the TableView object, we specify which columns should be and which role from the model data should be used for each column. <br><br>  Consider an example. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> QtQuick <span class="hljs-number"><span class="hljs-number">2.0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> QtQuick.Controls <span class="hljs-number"><span class="hljs-number">1.0</span></span> Rectangle { <span class="hljs-attr"><span class="hljs-attr">width</span></span>: <span class="hljs-number"><span class="hljs-number">360</span></span> height: <span class="hljs-number"><span class="hljs-number">360</span></span> ListModel { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: dataModel ListElement { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">"orange"</span></span> text: <span class="hljs-string"><span class="hljs-string">"first"</span></span> } ListElement { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">"lightgreen"</span></span> text: <span class="hljs-string"><span class="hljs-string">"second"</span></span> } ListElement { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">"orchid"</span></span> text: <span class="hljs-string"><span class="hljs-string">"third"</span></span> } ListElement { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">"tomato"</span></span> text: <span class="hljs-string"><span class="hljs-string">"fourth"</span></span> } } TableView { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: view anchors.margins: <span class="hljs-number"><span class="hljs-number">10</span></span> anchors.fill: parent model: dataModel clip: <span class="hljs-literal"><span class="hljs-literal">true</span></span> TableViewColumn { <span class="hljs-attr"><span class="hljs-attr">width</span></span>: <span class="hljs-number"><span class="hljs-number">100</span></span> title: <span class="hljs-string"><span class="hljs-string">"Color"</span></span> role: <span class="hljs-string"><span class="hljs-string">"color"</span></span> } TableViewColumn { <span class="hljs-attr"><span class="hljs-attr">width</span></span>: <span class="hljs-number"><span class="hljs-number">100</span></span> title: <span class="hljs-string"><span class="hljs-string">"Text"</span></span> role: <span class="hljs-string"><span class="hljs-string">"text"</span></span> } itemDelegate: Item { Text { anchors.centerIn: parent renderType: Text.NativeRendering text: styleData.value } } } }</code> </pre><br>  One important feature regarding the model data in the delegate.  The appearance of components from QtQuick Controls is configured using styles from QtQuick Controls Styles and, by default, the style is used so that the components look native for the current platform.  In essence, these components combine the model and the presentation, and the style is the delegate.  Data from the model in style is available using the styleData property.  In the TableView, a delegate is used in a similar way with styles and data in it is accessible through the styleData object. <br><br>  As a result, we get the following table: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage2/cf7/fee/14c/cf7fee14c7560322b0bddad7844b0689.png"></div><br><br>  In this example, the itemDelegate property is used, which sets the delegate for all cells in the table.  What to do if for some column you need to display data a little differently?  You can set a delegate for this particular column when it is defined in a TableViewColumn.  For example, in the first column, our color is displayed with text.  Let's make it so that instead the cell is painted over with this color. <br><br><pre> <code class="javascript hljs">TableViewColumn { <span class="hljs-attr"><span class="hljs-attr">width</span></span>: <span class="hljs-number"><span class="hljs-number">100</span></span> title: <span class="hljs-string"><span class="hljs-string">"Color"</span></span> role: <span class="hljs-string"><span class="hljs-string">"color"</span></span> delegate: Rectangle { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: styleData.value } }</code> </pre><br>  As a result, we get colored cells: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage2/cb7/754/38a/cb775438a1048262c3ed706de424ab6d.png"></div><br><br>  There is also a delegate for the entire row (the rowDelegate property).  With it, you can customize things like column height, background color, etc. <br>  TableView allows you to make tables in pure QML and display them so that they look like native, but at the same time allowing you to flexibly customize their appearance.  Such a component can be very useful for creating desktop programs with QML interface.  But despite the ability to look like a desktop component, the TableView does not work with pure tabular models and can only process data presented in the form of a list. <br><br><h5>  findings </h5><br>  QML, focused primarily on the implementation of the presentation, has for this powerful, and at the same time quite simple tools.  Among the standard components there are ready-made views that take up a significant part of the work, and the user only needs to provide the model and the delegate. <br><br>  In many representations, delegates are created and deleted on the fly, so for good performance and, therefore, smooth animation, you should try to make them as light as possible. </div><p>Source: <a href="https://habr.com/ru/post/184416/">https://habr.com/ru/post/184416/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../184404/index.html">Found a way to install exclusive Nokia applications on any smartphone with WP</a></li>
<li><a href="../184406/index.html">Overview of new features in Qt Quick</a></li>
<li><a href="../184410/index.html">Organization of a single folder for cloud services</a></li>
<li><a href="../184412/index.html">Running external processes in Scala</a></li>
<li><a href="../184414/index.html">Time management: experience using Excel spreadsheets</a></li>
<li><a href="../184420/index.html">Why I comment on Ruby / Rails application code again</a></li>
<li><a href="../184422/index.html">Armikrog danger! Will the project on the kickstarter collect the required amount? Collected</a></li>
<li><a href="../184426/index.html">Playstation 4 will work on a modified version of FreeBSD 9.0</a></li>
<li><a href="../184428/index.html">EMET v4 Release</a></li>
<li><a href="../184430/index.html">Real sock_raw'thin</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>