<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How I implemented A / B testing in PHP</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="There was a task to conduct a split test of our online store. Googled on this topic. I found a couple of services, but for one reason or another they ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">ğŸ”</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">ğŸ“œ</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">â¬†ï¸</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">â¬‡ï¸</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How I implemented A / B testing in PHP</h1><div class="post__text post__text-html js-mediator-article">  There was a task to conduct a split test of our online store.  Googled on this topic.  I found a couple of services, but for one reason or another they did not suit us. <br><a name="habracut"></a><br>  For example, the use of testing through google analytics did not fit, because  We use Yandex. Metrics for statistics and do not want to embed another analytical system into the site.  And besides, I understand that there is a problem with Google when testing dynamic pages or some of their elements. <br><br>  Other services, such as abtest.ru (which, by the way, for some reason does not work) or similar ones, are also not suitable, since  there you can change only the appearance of something.  And we, for example, need to test the site for the withdrawal / non-withdrawal of this or that information from the database (well, for example, whether to display a brief description of the goods in the list of goods or else to display specifications, etc.). <br><br>  I decided to try to implement A / B testing on my own, by adding a little php-code to the site (the online store is self-written, in php). <br>  It is necessary to check how the change of one or another element of the site will act on the conversion.  Those.  we divide all visitors to the site conditionally into â€œvisitors-Aâ€ and â€œvisitors-Bâ€.  Divide naturally equally, i.e.  every first is â€œAâ€, every second is â€œB.â€  Depending on whether "A" or "B", we show him the corresponding version of the site element.  At the end we fix whether the visitor has made an order or not 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I will not describe the code, but only briefly explain what and how I did: <br><br>  1. At the entrance to the site, each user in the session (say $ _SESSION ['split']) records the value "A" or "B".  Every first - â€œAâ€, every second - â€œBâ€.  For this purpose, the database has a special â€œlast visitor counterâ€, which contains data on the last visitor to the site.  That is, the visitor came to the site, they recorded the value â€œAâ€ in $ _SESSION ['split'] and the counter in the database also changed to â€œA.â€  When the next visitor visits the site, the script takes the counter value from the database, and if it is = â€œAâ€, then the â€œBâ€ is recorded in the session for the visitor and vice versa.  Those.  thus, alternation of users is provided.  By the way, the question is: can someone tell me how to implement the alternation of visitors without referring to the database, how do you know what value to assign to the visitor "A" or "B"?  After all, you need to know what value the previous one had.  Or you can not bathe and just assign randomly the 1st or 2nd option and this randomly?  Will the visitors split equally? <br><br>  2. After the user has recorded the value â€œAâ€ or â€œBâ€ in the session, now depending on this value, the user is shown either the first or the second version of the element under test.  Those.  A person came to the page where the element under test is located; immediately a check is made that is written in $ _SESSION ['split'] and depending on the result, the first or second option is shown. <br><br>  3. Saving results.  To do this, there are counters in the database for counting the results (for counting the number of orders by â€œvisitors-Aâ€ and â€œvisitors-Bâ€. Ie, each of the two options â€œAâ€ or â€œBâ€ has its own counter. If a visitor has in $ _SESSION ['split'] the value â€œAâ€ is placed with the order, then the counter â€œAâ€ increases by 1. If the visitor â€œBâ€ places an order, then the counter â€œBâ€ increases by 1. <br><br>  In fact, it turns out quite simple code.  But it is scary.  It seems that I did not take into account some subtleties and nuances of the A / B testing process and everything is much more complicated and deeper.  Indeed, various disputable situations are possible.  For example, how to account for visitors who visited the site, then left the site and returned again?  Whether to show them when they visit the site again the version of the element under test that was shown to them during their first visit, or to re-consider this visitor in the queue of alternation.  And here the question arises of using not the session mechanism, but the mechanism of cookies. <br><br>  I wrote this post to share my implementation of the simplest A / B testing and at the same time listen to the opinions of experts on this issue.  Maybe there will be some hints, comments, etc. </div><p>Source: <a href="https://habr.com/ru/post/177959/">https://habr.com/ru/post/177959/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../177947/index.html">As we Cisco Phone with Asterisk SIP were friends</a></li>
<li><a href="../177949/index.html">Iceland's court ordered Visa to resume payments for Wikileaks</a></li>
<li><a href="../177953/index.html">Browser game server development ... as an academic discipline</a></li>
<li><a href="../177955/index.html">Startup Advise Wallet: a wallet of successful recommendations</a></li>
<li><a href="../177957/index.html">Sectioning and live snapshots of data in PostgreSQL</a></li>
<li><a href="../177961/index.html">PROGOROD: (not only) virtual travels in real cities</a></li>
<li><a href="../177963/index.html">Viral advertising Russian software: mission failed?</a></li>
<li><a href="../177965/index.html">HP Pavilion g6 laptop video review</a></li>
<li><a href="../177967/index.html">Serious design serious sites. Part 1. Analytics</a></li>
<li><a href="../177969/index.html">How Epson uses Canon / HP solutions in home printers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>