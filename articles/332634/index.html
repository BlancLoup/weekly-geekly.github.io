<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Things I needed to know before creating a queue system</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the project I'm working on, a distributed data processing system is used: first, several dozen machines simultaneously produce some messages, then ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Things I needed to know before creating a queue system</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/web/77a/363/0cb/77a3630cbfa94fa88fc5cd870931c8b2.jpg" alt="Photo queue at the Mausoleum of Mao Zedong - BrokenSphere / Wikimedia Commons" width="100%"><br><br>  In the project I'm working on, a distributed data processing system is used: first, several dozen machines simultaneously produce some messages, then these messages are sent to the queue, three threads retrieve messages from the queue, and after final processing they upload data to the Redis database.  At the same time, there is a requirement: from ‚Äúinitiating‚Äù an event in a machine producing a message, before putting the processed data into the database, it should take no more than four seconds in 90% of cases. <br><br>  At some point it became obvious that we are not fulfilling this requirement, despite the effort expended.  Several measurements and a small excursion into the theory of queues led me to conclusions that I would like to convey to myself a few months ago, when the project was just beginning.  I can‚Äôt send a letter to the past, but I can write a note that, perhaps, will relieve the troubles of those who are only thinking about using queues in their own system. <br><a name="habracut"></a><br>  I started by measuring the time the message spends at different stages of processing, and I got something like this (in seconds): 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/web/ee2/2e6/201/ee22e62015284f3dbc8a1539fe9fe5a3.png" width="350"><br><br>  Thus, despite the fact that processing a message takes quite a bit of time, most of all the message is idle in the queue.  How can this be?  And most importantly: how to deal with it?  After all, if the picture above was the result of profiling the usual code, then everything would be obvious: it is necessary to optimize the ‚Äúred‚Äù procedure.  But the trouble is that in our case nothing happens in the ‚Äúred‚Äù zone, the message is just waiting in the queue!  It is clear that the message processing needs to be optimized (the ‚Äúyellow‚Äù part of the diagram), but questions arise: how can this optimization affect the queue length and where are the guarantees that we can achieve the desired result? <br><br>  I remembered that queuing <a href="https://en.wikipedia.org/wiki/Queueing_theory">theory</a> deals with probabilistic estimates of waiting time in a queue (a subsection <a href="https://en.wikipedia.org/wiki/Operations_research">of operations research</a> ).  At the time, at the university, however, we didn‚Äôt go through this, so for some time I had to dive into Wikipedia, PlanetMath and online lectures, from where information about <a href="https://en.wikipedia.org/wiki/Kendall%2527s_notation">Kendall notation</a> , <a href="https://en.wikipedia.org/wiki/Little%2527s_law">Little‚Äôs law</a> , <a href="https://en.wikipedia.org/wiki/Erlang_distribution">Erlang formulas</a> , and so on fell from my horn of plenty. dd, etc. <br><br>  The analytical results of the queuing theory are replete with quite serious mathematics, most of these results were obtained in the XX century.  Studying all this is a fascinating occupation, but rather long and laborious.  I can not say that I was able to dive at least some deep. <br><br>  And nevertheless, having run only ‚Äúon top‚Äù of the queuing theory, I found that the main conclusions that can be applied in practice in our case, lie on the surface, require only common sense for their justification and can be depicted on the graph processing time in the system with a queue of server bandwidth, here it is: <br><br><img src="https://habrastorage.org/web/666/13c/074/66613c07471f4088a043e59b6fc443a0.png" width="300"><br><br>  Here <br><br><ul><li><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mtext" id="MJXp-Span-2">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4">u</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.951ex" height="1.455ex" viewBox="0 -520.7 1701 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-75" x="1128" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-1"> \ mu </script>  - server bandwidth (in messages per second) </li><li><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-5"><span class="MJXp-mtext" id="MJXp-Span-6">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-8">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-9">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-11">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.987ex" height="2.057ex" viewBox="0 -780.1 3439 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6D" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-62" x="1956" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-64" x="2386" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="2909" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> \ lambda </script>  - average frequency of requests (in messages per second) </li><li>  The ordinate axis shows the average message processing time. </li></ul><br>  The exact analytical view of this graph is the subject of a study of the theory of queues, and for queues M / M / 1, M / D / 1, M / D / c, etc. (if you don‚Äôt know what it is, see <a href="https://en.wikipedia.org/wiki/Kendall%2527s_notation">Kendall‚Äôs notation</a> ) This curve is described by completely different formulas.  However, whatever model the queue is described, the appearance and the asymptotic behavior of this function will be the same.  This can be proved by simple reasoning, which we will do. <br><br>  First, look at the <b>left</b> side of the graph.  It is clear that the system will not be stable if <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-13"><span class="MJXp-mtext" id="MJXp-Span-14">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-15">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-16">u</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.951ex" height="1.455ex" viewBox="0 -520.7 1701 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-75" x="1128" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-3"> \ mu </script>  (bandwidth) less <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-17"><span class="MJXp-mtext" id="MJXp-Span-18">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-19">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-20">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-22">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-23">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.987ex" height="2.057ex" viewBox="0 -780.1 3439 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6D" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-62" x="1956" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-64" x="2386" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="2909" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> \ lambda </script>  (arrival rates): messages for processing come with a greater frequency than we can process, the queue grows indefinitely, and we are in serious trouble.  In general, the case <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-25"><span class="MJXp-mtext" id="MJXp-Span-26">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-27">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-28">u</span><span class="MJXp-mo" id="MJXp-Span-29" style="margin-left: 0.333em; margin-right: 0.333em;">&lt;</span><span class="MJXp-mtext" id="MJXp-Span-30">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-31">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-32">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-33">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-34">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-35">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-36">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.037ex" height="2.057ex" viewBox="0 -780.1 6474.1 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-75" x="1128" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMAIN-3C" x="1978" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6C" x="3285" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="3583" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6D" x="4113" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-62" x="4991" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-64" x="5421" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="5944" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-5"> \ mu <\ lambda </script>  - emergency always. <br><br>  The fact that the graph on the <b>right</b> asymptotically tends to <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-37"><span class="MJXp-mn" id="MJXp-Span-38">1</span><span class="MJXp-mrow" id="MJXp-Span-39"><span class="MJXp-mo" id="MJXp-Span-40" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mtext" id="MJXp-Span-41">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-42">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-43">u</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.276ex" height="2.66ex" viewBox="0 -832 2702 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMAIN-31" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMAIN-2F" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6D" x="1251" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-75" x="2129" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-6"> 1 / \ mu </script>  , is also quite simple and does not require in-depth analysis for its proof.  If the server is very fast, then we practically do not wait in the queue, and the total time we spend in the system is equal to the time that the server spends processing the message, and this is just <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-44"><span class="MJXp-mn" id="MJXp-Span-45">1</span><span class="MJXp-mrow" id="MJXp-Span-46"><span class="MJXp-mo" id="MJXp-Span-47" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mtext" id="MJXp-Span-48">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-49">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-50">u</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.276ex" height="2.66ex" viewBox="0 -832 2702 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMAIN-31" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMAIN-2F" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6D" x="1251" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-75" x="2129" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-7"> 1 / \ mu </script>  . <br><br>  It‚Äôs not immediately obvious that when approaching <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-51"><span class="MJXp-mtext" id="MJXp-Span-52">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-53">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-54">u</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.951ex" height="1.455ex" viewBox="0 -520.7 1701 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-75" x="1128" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-8"> \ mu </script>  to <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-55"><span class="MJXp-mtext" id="MJXp-Span-56">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-57">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-59">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-60">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-61">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-62">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.987ex" height="2.057ex" viewBox="0 -780.1 3439 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6D" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-62" x="1956" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-64" x="2386" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="2909" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-9"> \ lambda </script>  on the right side the waiting time in the queue grows to infinity.  In fact: if <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-63"><span class="MJXp-mtext" id="MJXp-Span-64">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-65">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-66">u</span><span class="MJXp-mo" id="MJXp-Span-67" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-68">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-69">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-70">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-72">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-73">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-74">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.037ex" height="2.057ex" viewBox="0 -780.1 6474.1 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-75" x="1128" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMAIN-3D" x="1978" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6C" x="3285" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="3583" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6D" x="4113" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-62" x="4991" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-64" x="5421" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="5944" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-10"> \ mu = \ lambda </script>  then this means that the average processing speed of messages is equal to the average speed of receiving messages, and it seems intuitively that in this situation the system should cope.  Why is the graph of time versus server performance at point <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-75"><span class="MJXp-mtext" id="MJXp-Span-76">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-77">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-78">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-79">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-80">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-82">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.987ex" height="2.057ex" viewBox="0 -780.1 3439 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6D" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-62" x="1956" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-64" x="2386" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="2909" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-11"> \ lambda </script>  flies to infinity, and does not behave like this: <br><br><img src="https://habrastorage.org/web/ab2/2a6/b62/ab22a6b62f2346498b031f5d55a3c302.png" width="300"><br><br>  But this fact can be established without resorting to serious mathematical analysis!  To do this, it is enough to understand that the server, processing messages, can be in two states: 1) it is busy with work 2) it is idle because it has processed all tasks, and new ones have not yet arrived in the queue. <br><br>  Jobs in the queue come unevenly, where "thicker, where less often": the number of events per unit of time is a random variable, described by the so-called <a href="https://en.wikipedia.org/wiki/Poisson_distribution">Poisson distribution</a> .  If the tasks were rarely run at some time interval and the server was idle, then the time during which it was idle could not be ‚Äúsaved‚Äù in order to use it for processing future messages. <br><br>  <b>Therefore, due to server idle periods, the average speed of event logout from the system will always be less than the peak server bandwidth.</b> <br><br>  In turn, if the average exit speed is less than the average entry speed, then this leads to an infinite lengthening of the average waiting time in the queue.  For queues with a Poisson distribution of events at the input and with a constant or exponential processing time, the expectation value near the saturation point is proportional to <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-83"><span class="MJXp-mtext" id="MJXp-Span-84">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-85">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-86">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88">c</span><span class="MJXp-mrow" id="MJXp-Span-89"><span class="MJXp-mn" id="MJXp-Span-90">1</span></span><span class="MJXp-mrow" id="MJXp-Span-91"><span class="MJXp-mtext" id="MJXp-Span-92">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-93">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-94">u</span><span class="MJXp-mo" id="MJXp-Span-95" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mtext" id="MJXp-Span-96">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-97">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-98">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-99">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-100">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-101">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-102">a</span></span><span class="MJXp-mo" id="MJXp-Span-103" style="margin-left: 0em; margin-right: 0.222em;">.</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="21.732ex" height="2.419ex" viewBox="0 -780.1 9356.9 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMAIN-31" x="2215" y="0"></use><g transform="translate(2715,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-75" x="1128" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMAIN-2212" x="1923" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6C" x="3173" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="3472" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6D" x="4001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-62" x="4880" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-64" x="5309" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="5833" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMAIN-2E" x="9078" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-12"> \ frac {1} {\ mu- \ lambda}. </script></p><br><h3>  findings </h3><br>  So, looking at our schedule, we come to the following conclusions. <br><br><ul><li>  Message processing time in the queue system is a server bandwidth function. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-104"><span class="MJXp-mtext" id="MJXp-Span-105">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-106">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-107">u</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.951ex" height="1.455ex" viewBox="0 -520.7 1701 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-75" x="1128" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-13"> \ mu </script>  and average frequency of receipt of messages <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-108"><span class="MJXp-mtext" id="MJXp-Span-109">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-110">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-111">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-112">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-113">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-114">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-115">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.987ex" height="2.057ex" viewBox="0 -780.1 3439 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6D" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-62" x="1956" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-64" x="2386" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="2909" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-14"> \ lambda </script>  , and even simpler: it is a function of the ratio of these quantities <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-116"><span class="MJXp-mtext" id="MJXp-Span-117">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-118">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-120">o</span><span class="MJXp-mo" id="MJXp-Span-121" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-122">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-123">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-125">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-126">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-127">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-128">a</span><span class="MJXp-mrow" id="MJXp-Span-129"><span class="MJXp-mo" id="MJXp-Span-130" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mtext" id="MJXp-Span-131">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-132">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-133">u</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="20.295ex" height="2.66ex" viewBox="0 -832 8738.1 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-72" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-68" x="701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6F" x="1278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMAIN-3D" x="2041" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6C" x="3347" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="3646" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6D" x="4175" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-62" x="5054" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-64" x="5483" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="6007" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMAIN-2F" x="6536" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6D" x="7287" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-75" x="8165" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-15"> \ rho = \ lambda / \ mu </script>  . </li><li>  Designing a system with a queue, you need to estimate the average frequency of arrival of messages. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-134"><span class="MJXp-mtext" id="MJXp-Span-135">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-136">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-137">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-138">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-139">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-140">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-141">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.987ex" height="2.057ex" viewBox="0 -780.1 3439 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6D" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-62" x="1956" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-64" x="2386" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="2909" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-16"> \ lambda </script>  and lay down server bandwidth <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-142"><span class="MJXp-mtext" id="MJXp-Span-143">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-144">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-145">u</span><span class="MJXp-mo" id="MJXp-Span-146" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;&gt;</span><span class="MJXp-mtext" id="MJXp-Span-147">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-148">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-149">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-150">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-151">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-152">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-153">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.845ex" height="2.057ex" viewBox="0 -780.1 7252.6 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-75" x="1128" y="0"></use><g transform="translate(1978,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMAIN-3E"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMAIN-3E" x="778" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6C" x="4063" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="4362" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6D" x="4891" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-62" x="5770" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-64" x="6199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="6723" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-17"> \ mu >> \ lambda </script>  . </li><li>  Every system with a queue depending on the ratio <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-154"><span class="MJXp-mtext" id="MJXp-Span-155">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-156">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-157">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-158">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-159">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-160">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-161">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.987ex" height="2.057ex" viewBox="0 -780.1 3439 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6D" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-62" x="1956" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-64" x="2386" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="2909" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-18"> \ lambda </script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-162"><span class="MJXp-mtext" id="MJXp-Span-163">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-164">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-165">u</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.951ex" height="1.455ex" viewBox="0 -520.7 1701 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-75" x="1128" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-19"> \ mu </script>  can be in one of three modes: <br><br><ol><li>  Emergency mode - <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-166"><span class="MJXp-mtext" id="MJXp-Span-167">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-168"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-169"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u </font></font></span><font style="vertical-align: inherit;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-171"><font style="vertical-align: inherit;">l </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-172"><font style="vertical-align: inherit;">e </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-173"><font style="vertical-align: inherit;">q </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-175"><font style="vertical-align: inherit;">l </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-176"><font style="vertical-align: inherit;">a </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-177"><font style="vertical-align: inherit;">m </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-178"><font style="vertical-align: inherit;">b </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-179"><font style="vertical-align: inherit;">d </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-180"><font style="vertical-align: inherit;">a</font></span></font><span class="MJXp-mtext" id="MJXp-Span-170">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-171"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-172"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-173"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mtext" id="MJXp-Span-174">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-175"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-176"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-177"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-178"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-179"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-180"><font style="vertical-align: inherit;"></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.365ex" height="2.419ex" viewBox="0 -780.1 6615.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-75" x="1128" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6C" x="1951" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-65" x="2249" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-71" x="2716" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6C" x="3426" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="3725" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6D" x="4254" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-62" x="5133" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-64" x="5562" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="6086" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-20"> \ mu \ leq \ lambda </script>  .  The queue and processing time in the system grow indefinitely. </li><li>  Mode close to saturation: <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-181"><span class="MJXp-mtext" id="MJXp-Span-182">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-183"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-184"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u </font></font></span><span class="MJXp-mo" id="MJXp-Span-185" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt; </font></font></span><font style="vertical-align: inherit;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-187"><font style="vertical-align: inherit;">l </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-188"><font style="vertical-align: inherit;">a </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189"><font style="vertical-align: inherit;">m </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-190"><font style="vertical-align: inherit;">b </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-191"><font style="vertical-align: inherit;">d </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-192"><font style="vertical-align: inherit;">a</font></span></font><span class="MJXp-mtext" id="MJXp-Span-186">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-187"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-188"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-190"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-191"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-192"><font style="vertical-align: inherit;"></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.037ex" height="2.057ex" viewBox="0 -780.1 6474.1 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-75" x="1128" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMAIN-3E" x="1978" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6C" x="3285" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="3583" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6D" x="4113" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-62" x="4991" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-64" x="5421" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="5944" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-21"> \ mu> \ lambda </script>  but not by much.  In this situation, small changes in server bandwidth greatly affect the performance of the system, both in that and in the other direction.  Need to optimize the server!  However, even a small optimization can be very beneficial for the entire system.  <b>Estimates of the speed of receipt of messages and the bandwidth of our service showed that our system worked just around the ‚Äúsaturation point‚Äù.</b> </li><li>  Mode "almost without waiting in the queue": <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-193"><span class="MJXp-mtext" id="MJXp-Span-194">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-195"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-196"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u </font></font></span><span class="MJXp-mo" id="MJXp-Span-197" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt; </font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt; </font></font></span><font style="vertical-align: inherit;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-199"><font style="vertical-align: inherit;">l </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-200"><font style="vertical-align: inherit;">a </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-201"><font style="vertical-align: inherit;">m </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-202"><font style="vertical-align: inherit;">b </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-203"><font style="vertical-align: inherit;">d </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-204"><font style="vertical-align: inherit;">a</font></span></font><span class="MJXp-mtext" id="MJXp-Span-198">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-199"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-200"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-201"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-202"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-203"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-204"><font style="vertical-align: inherit;"></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.845ex" height="2.057ex" viewBox="0 -780.1 7252.6 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-75" x="1128" y="0"></use><g transform="translate(1978,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMAIN-3E"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMAIN-3E" x="778" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6C" x="4063" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="4362" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-6D" x="4891" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-62" x="5770" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-64" x="6199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/332634/&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgUpJ_ihSdYRPOUvq3uuqVYIZCKeQ#MJMATHI-61" x="6723" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-22"> \ mu >> \ lambda </script>  .  The total time spent in the system is approximately equal to the time that the server spends processing.  The need for server optimization is already determined by external factors, such as the contribution of the subsystem with the queue to the total processing time. </li></ol></li></ul><br>  Having dealt with these issues, I proceeded to optimize the event handler.  Here is the situation in the end: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/abd/cda/e44/abdcdae44fdb4d5297fd4320583a3f23.png" width="350"></div><br>  OK, now it is possible to suboptimize the message production time! <br><br>  I also recommend reading: <a href="https://habrahabr.ru/company/oleg-bunin/blog/309332/">Principles and techniques for processing queues</a> . </div><p>Source: <a href="https://habr.com/ru/post/332634/">https://habr.com/ru/post/332634/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../332624/index.html">How to win in Vkontakte contests? Another approach</a></li>
<li><a href="../332626/index.html">Handling recurring SIGSEGV-like errors</a></li>
<li><a href="../332628/index.html">5 tricks to help develop on vue.js + vuex</a></li>
<li><a href="../332630/index.html">Extending, modifying, and creating controls on the UWP platform. Part 2</a></li>
<li><a href="../332632/index.html">Rewarded Video: the best show scripts or how to make your ad look</a></li>
<li><a href="../332636/index.html">Go Developer Tools: Meet Profiler Labels</a></li>
<li><a href="../332638/index.html">RAML routing in the Play Framework</a></li>
<li><a href="../332640/index.html">How generic-they save us from packing</a></li>
<li><a href="../332642/index.html">Simple field validation</a></li>
<li><a href="../332644/index.html">Tandem office and mobile telephony. How we developed FMC</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>