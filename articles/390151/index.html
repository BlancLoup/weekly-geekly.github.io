<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Development of a low-power backup power source with a sine output. Part 1. Problem statement</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Uninterruptible power supplies (UPS) are widely used both in everyday life and in industry. They are designed to provide the necessary power supply eq...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Development of a low-power backup power source with a sine output. Part 1. Problem statement</h1><div class="post__text post__text-html js-mediator-article">  Uninterruptible power supplies (UPS) are widely used both in everyday life and in industry.  They are designed to provide the necessary power supply equipment from backup sources in case of "loss" of the main power supply.  Backup sources in such UPSs are mainly batteries.  Therefore, these UPSs provide power to the equipment for a limited time, from a few minutes to a couple of three hours.  On sale there is a huge amount of such equipment, as they say, for every <s>taste and color</s> "pocket", with various characteristics and various functions. <br><br>  Consider the scope of application in everyday life. <br><br>  Each house has a fridge.  The main models use a compressor driven by a bipolar single-phase asynchronous electric motor.  The power of household refrigerators 100-200 watts.  The loss of the main power supply (a la 220 volts) for a few hours can lead to the defrosting of the refrigerator.  This is not critical, but inconvenient.  But the usual computer UPS does not help here: the compressor engine will not be pleased with the form of voltage provided by such a UPS.  For this kind of consumer, a sine is required at the output of the UPS. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/06b/756/aff/06b756affacd4d9dbd8afcbcb2fafbb4.jpg"><br><br>  An example, let's say honestly, the most real, but not the most necessary for the use of UPS. <br><a name="habracut"></a><br>  Private house, heating system, circulation pump.  Same problems.  Modern gas boilers basically have it in their design.  With the loss of power from a computer UPS, they also do not particularly want to work.  True, you can survive for a couple of hours without electricity and a working boiler, since for a couple of hours it will not cool to negative temperatures. <br><br>  Continue to look for the use of UPS with a sine output in the home. <br><br>  The same private house, a circulation pump in the heating system, but the heating system itself is not on gas, but on wood.  That means you have melted the stove after work and warm the house, the pump pumps fluid through the pipelines of the heating system.  Bam!  Turned off the electricity.  The boiler began to overheat wildly, due to the lack of circulation, but this is not the gas valve to shut off, the stove will have to be extinguished, in the direct and figurative sense.  And if there were a UPS, then quietly, in an hour and a half, you could heat the stove and continue to wait until the electric grid restores the supply of <s>natural gas with</s> electricity.  Already more real.  Further. <br><br>  The village has natural gas, there is a floor boiler of AOGV-11.6-3 type.  Here is its description: it is <i>intended for electron-independent autonomous systems of heating houses, cottages of up to 110 sq. M.</i>  So for his work electricity is not needed.  But for the circulation of the coolant is used a circulation pump.  The lack of electricity at work of the boiler does not affect in any way, but due to the lack of circulation, the water in the boiler starts to boil and it is squeezed out through the expansion tank with all the ensuing consequences.  So in this situation, you have to turn off the boiler.  But if the owners are not at home, or does it happen at night? <br><br>  Here for such a specific case and needed UPS with a sine.  Developing a full-fledged UPS for this task does not make sense.  If the transition time from the network to the backup source will be 5-10 seconds, nothing critical will happen, both with the heating system and with the pump itself. <br><br>  <b>From the above, and the task follows: to develop a low-power backup power source of 220 V, 50 Hz with a sine output.</b> <br><br><h4>  Foreword </h4><br>  Let us turn to the market and examine the available offers.  To do this, we set some criteria for the equipment to be selected.  Requests will be modest. <br><br><ul><li>  Power - 200 W, </li><li>  "Pure" sine output </li><li>  Well ... enough. </li></ul><br>  Google didn‚Äôt enjoy the results of the query ‚ÄúUPS 200 W with sine‚Äù.  Almost the very first <a href="http://www.h-energy.ru/bespereboinik_dla_kotla/">link</a> tells about the calculation and selection of the UPS to the gas heating boiler.  Truth, the price of the UPS does not please the eye, especially if you look at the batteries, which are not included in the UPS package - it becomes sad at all.  For the rest of the <a href="https://www.google.ru/search%3Fnewwindow%3D1%26biw%3D1440%26bih%3D746%26q%3D%25D0%2598%25D0%2591%25D0%259F%2B200%2B%25D0%2592%25D1%2582%2B%25D1%2581%2B%25D1%2581%25D0%25B8%25D0%25BD%25D1%2583%25D1%2581%25D0%25BE%25D0%25BC%26oq%3D%25D0%2598%25D0%2591%25D0%259F%2B200%2B%25D0%2592%25D1%2582%2B%25D1%2581%2B%25D1%2581%25D0%25B8%25D0%25BD%25D1%2583%25D1%2581%25D0%25BE%25D0%25BC%26gs_l%3Dserp.3...6605703">links</a> the same story that does not please the usual <s>mortal</s> representative of the middle class. <br><br><h4>  Introduction </h4><br>  There are many different UPSs on the market, why develop something?  There are several answers to this question: <br><br><ul><li>  The price of the proposed devices, though not transcendental, but still high, </li><li>  The function of the "pure" sinus is more expensive and is far from widespread, </li><li>  Understand the princes of building such systems </li><li>  To gain experience in the design, development of power electronics, </li><li>  Experience in programming MK </li><li>  Everyone can continue the list for self-motivation ... </li></ul><br>  For the time being, we keep silent about the price of the developed device, as long as there are no specific ‚Äúfigures‚Äù.  But after testing the device, we calculate all the costs of consumables. <br><br><div class="spoiler">  <b class="spoiler_title">Lyrical digression</b> <div class="spoiler_text">  On <a href="http://geektimes.ru/">geektimes.ru</a> there is a series of articles devoted to the design of a powerful UPS with a pure sine output.  Starting post is on this <a href="http://geektimes.ru/post/267682/">link</a> .  In this cycle, we will not develop a full reduced copy of this UPS, but we will approach the specific task a little differently.  And the developed device to call the UPS language will not turn.  This will be a backup power source with automatic transfer of reserve (hereinafter referred to as RIP ATS), in which the transition time from the network to the RIP will be on the order of a couple of seconds. <br></div></div><br><h4>  Initial data </h4><br>  Let's start with the necessary calculations.  Let us estimate the power that the RIP needs to give to the load, battery life, etc.  Let's get started <br><br>  The load we will have a circulation pump.  Let's look at common models on the market.  This is what Google has issued: a <a href="http://www.teplograd.ru/catalog/cirkuljacionnye_nasosy">link</a> to the characteristics of circulation pumps. <br><br>  For houses of a small area up to 100 sq. M, pumps up to 100 W are used.  And rarely uses the third power mode pumps.  So let's stop at 60 watts of power consumption.  Here we will make a start from this power at calculations. <br><br><div class="spoiler">  <b class="spoiler_title">Lyrical digression</b> <div class="spoiler_text">  If someone needs more power, then for this it is necessary to proportionally increase the values ‚Äã‚Äãobtained in the calculations, and from the data obtained recount the electronic components used in the circuit (diodes, transistors, etc.). <br></div></div><br>  The voltage at the output RIP 230 V. Power 60 watts.  Therefore, the current will be I = P / U = 60/230 = 260 mA. <br><br>  Now let us ask the efficiency of the converter 12 V DC -&gt; 230 V AU in the region of 90%, then at a supply voltage from the battery of 12.4 Volts the current consumption from the battery will be: <br><br><img src="https://habrastorage.org/files/aa8/6bc/ec1/aa86bcec12f74254aee6a780bdf00530.JPG"><br><br>  We will rely on these figures, both when choosing electronic components and in the manufacture of printed circuit boards. <br><br><h4>  RIP Structural Diagram </h4><br>  For the converter 12-&gt; 220, a step-up SMPS circuit is applied.  That is, using a pulsed step-up transformer, 310 Volts of direct voltage are obtained, and then using a bridge circuit controlled by a sinusoidal shim and an LC filter, a ‚Äúpure‚Äù 220-volt sine is obtained at the output.  This approach uses many components from integrated circuits to high-speed diodes, etc.  After all, pulse circuitry. <br><br>  For a given RIP with its <s>negligible</s> low power, you can go a little different way. <br><br>  From the so-called DC link, which in our case will be the battery bus, that is, 12 volts, through a bridge circuit controlled by a sinusoidal shim, apply to the primary winding of a conventional linear network step-up transformer.  With the secondary remove the necessary 220 volts of sinusoidal voltage.  The benefit for such power and dimensions of the transformer will not be large.  The transformer itself will serve as a filter and smooth the voltage form almost to a recognizable sine.  And if a low-impedance LC filter is placed between the bridge and the primary winding of the transformer, you can get a form of voltage at the output of the transformer very close to the sine. <br><br>  It turns out about this scheme. <br><br> <a href=""><img src="https://habrastorage.org/files/d77/8ec/942/d778ec94287c429aaab1bf6dc87951a2.jpg"></a> <br>  <i>The picture is clickable</i> <br><br>  In this sample diagram, the components are taken to show the basic thought of the RIPA circuit design, and their face values ‚Äã‚Äãdo not correspond to the calculations that we will make below.  The circuit itself becomes more complex as the device is designed. <br><br>  At the time when the pump is operating from the RIP, the battery is discharged, and after switching from the RIP to the network, it makes sense to charge the battery to the nominal capacity.  When ‚Äúelectricity is present in the outlet‚Äù, the pump operates from the mains, and the RIP output circuit can be used to charge the battery.  That is, supply the mains voltage to the secondary winding of the transformer (it is high voltage), remove the alternating voltage from the primary winding (it is low voltage), straighten it on the diode bridge, smooth it with a capacitor and charge the battery with it.  Consider the changes that need to be made to the scheme for this approach. <br><br> <a href=""><img src="https://habrastorage.org/files/d4b/639/013/d4b63901372844249fe84b44b2c46dec.jpg"></a> <br>  <i>The picture is clickable</i> <br><br>  That is, as long as there is voltage in the network, the relays are tightened, and the mains voltage through the relay contacts enters the load, as well as the high-voltage winding of the transformer.  Next, the voltage is removed from the low-voltage winding.  The voltage is rectified by parasitic diodes of transistors (for correctness, we should point out that we will not use them in a real circuit, we will install external high-speed diodes parallel to the transistors to the required current), smoothed by a capacitor and through the P-channel transistor controlled by the control circuit to the MK, downloads the required charging current in the battery through a smoothing choke. <br><br>  When the electricity "ends" in the network, the relay opens, and the circuit will work in reverse order.  From 12 volt battery through the bridge transistors, filters and transformer voltage will be applied to the load. <br><br>  In order not to sculpt synchronization with the network, etc.  for an almost instantaneous transition from the battery to the network and back, it‚Äôs trite if the network is lost, the load will be de-energized, the relay will open, the circuit will prepare everything and everyone for operation from the battery and will generate a voltage to the load.  When the network is restored, the circuit will stop the generation of voltage, make sure that everything is fine, and close the relay for switching to the network and charging the battery.  The functions of the control scheme will be outlined during the development process. <br><br>  The structural scheme and the basic principle of operation of the RIP have been dismantled and, with this positive mood, we proceed to the calculations of the necessary components of the scheme and the choice of a hardware platform, both for the ‚Äúbrains‚Äù of the device and for the power elements.  The truth is in the next article. <br><br><div class="spoiler">  <b class="spoiler_title">And again lyrical digression</b> <div class="spoiler_text">  Recently, I published a series of articles on Habr√© titled "Measuring the weight of minerals in the mining industry."  But apparently I miscalculated with the target audience of Habr, so I post the development of RIP here on <a href="https://geektimes.ru/">Geektimes</a> .  If anyone is interested in reading my previous publications, I will leave here links to this material: <br><br><ol><li>  <a href="https://habrahabr.ru/post/275141/">Measuring the weight of minerals in the mining industry.</a>  <a href="https://habrahabr.ru/post/275141/">Theoretical basis</a> </li><li>  <a href="https://habrahabr.ru/post/275459/">Measurement of ore weight by stator current.</a>  <a href="https://habrahabr.ru/post/275459/">Practice.</a>  <a href="https://habrahabr.ru/post/275459/">Part 1. Signal processing algorithm in MK</a> </li><li>  <a href="https://habrahabr.ru/post/276051/">Measurement of ore weight by stator current.</a>  <a href="https://habrahabr.ru/post/276051/">Practice.</a>  <a href="https://habrahabr.ru/post/276051/">Part 2. Software implementation at MK</a> </li></ol><br></div></div><br><br><h4>  Conclusion </h4><br>  In the following parts we will look at the calculations of the developed RIP, prepare the circuit diagram of the device, choose the hardware platform, and develop the topology of the printed circuit board for the RIP.  We will analyze the functions of the device, write programs for the MC, carry out a full cycle of setting up and testing the device on the equipment, and also hand over all this to the real customer. <br><br>  <b>PS:</b> True, the development will take some time, and further publications will be published as the project progresses.  Focusing on three more articles, with an interval of about 2-3 weeks. <br><br>  <b>Continued here:</b> <br><br>  <a href="https://geektimes.ru/post/270954/">Part number 2.</a> <br>  <a href="https://geektimes.ru/post/271322/">Part number 3.</a> </div><p>Source: <a href="https://habr.com/ru/post/390151/">https://habr.com/ru/post/390151/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../390141/index.html">Why does the Hubble see Pluto, but does not see the Apollo?</a></li>
<li><a href="../390143/index.html">Rover Curiosity exploring the dark dunes</a></li>
<li><a href="../390145/index.html">The largest three-dimensional model of the city, printed on a 3D-printer</a></li>
<li><a href="../390147/index.html">Tattoo masters sued Take-Two Interactive for copying tattoos of real basketball players in the game</a></li>
<li><a href="../390149/index.html">Google will release new video glasses, and this is not Google Cardboard</a></li>
<li><a href="../390155/index.html">The head of Roskomnadzor: Rutracker will stop work in a few months</a></li>
<li><a href="../390157/index.html">Manipulations of consciousness, how to read news and who did not sell Model-X to someone</a></li>
<li><a href="../390159/index.html">Video recordings of all speeches from the hacker Shmoocon conference 2016</a></li>
<li><a href="../390161/index.html">Ilon Musk thinks about an airplane with an electric motor and a vertical takeoff</a></li>
<li><a href="../390163/index.html">Big Brother - we collect the fighting robot in the garage</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>