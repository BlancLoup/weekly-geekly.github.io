<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>My PHP 7 migration experience</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A few days ago, I switched my server from about 30 sites to PHP 7. Some of them were quite old and made up a wide range of different frameworks and CM...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>My PHP 7 migration experience</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/d37/15a/fd6/d3715afd66ff32645e5e3dc82b9e2334.png" alt="image" align="right"><br>  A few days ago, I switched my server from about 30 sites to PHP 7. Some of them were quite old and made up a wide range of different frameworks and CMS.  Here are some tips for those who have not yet decided to switch to PHP 7 or not. <br><br>  Let's start with the fact that I understand that there are many people who do not consider a stable version really ‚Äústable‚Äù until it has matured a bit, expecting that there will be some bugs or incompatibilities.  From what I've seen so far, trying every release candidate as soon as he exits, it is completely safe to switch to PHP 7 as soon as he exits.  I have never noticed some incomprehensible behavior or departure which I would not have been to blame.  Despite the fact that this is a new version, it does not carry many incompatible changes, that is, by and large you can treat it as just PHP 5.7 only much faster. <br><a name="habracut"></a><br>  And the speed is really impressive, even incredible how.  For example, a simple site on <a href="http://phpixie.com/">PHPixie</a> earned almost three times faster, almost comparing with the speed of Phalcon on PHP 5.6, several sites on Wordpress showed a steady increase in speed twice.  If we take into account the recent report from Google that the loss of even 10% of page load performance leads to a noticeable loss of customers, if you can easily speed up the website twice by updating PHP, you get more sales without spending anything.  Remember this when you convince your manager to switch to PHP 7. Nothing convinces anything better than sales. <br><br>  <b>A few notes</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The <i>mysql</i> extension is no longer available, so if you have not yet switched to <i>PDO</i> or <i>mysqli,</i> then now you definitely have to.  Fortunately, in many cases it is enough to simply replace the calls to the <i>mysql_</i> functions with <i>mysqli_</i> . <br><br>  <i>E_STRICT</i> errors are reclassified as other types of errors.  If you previously hid them or ignored them, now they will begin to emerge along with others.  For example, the call of non-static methods now statically throws out <i>E_DEPRECATED,</i> which created a lot of problems with Joomla 2.5 which for some reason does it quite often.  Also incompatible inheritance is now classified as <i>E_WARNING</i> .  Since February Wordpress has been testing to work with PHP 7, so there are no problems with it, however, several plug-ins have turned out to be incompatible. <br><br>  <i>foreach</i> now always works with a copy of the array, so that any changes to the array during the iteration will not affect the iteration itself.  In fact, in many cases it already worked and the case itself is quite rare, but I came across this in one of the plug-ins. <br><br>  Now <i>$ foo -&gt; $ bar ['baz'] is</i> interpreted as <i>($ foo -&gt; $ bar) ['baz']</i> and not <i>$ foo -&gt; {$ bar ['baz']}</i> as in PHP 5. This is a rare case. , but also caught in one of the plugins, and as it turned out in Magento 1.x ( <i>core / Mage / Core / Model / Layout.php</i> ). <br><br>  Keep in mind that not all extensions support PHP 7. I can no longer use the XCache I like, which has served me faithfully for many years. <br><br>  It is unlikely that you will encounter any problems other than the above, but if you are interested, then the full list <a href="http://php.net/manual/en/migration70.incompatible.php">is available on the PHP site</a> . <br><br>  In total, it took me about 5 hours to translate all the sites into PHP 7. The process is completely easy and the packages are already available for all popular distributions.  So even if you are going to wait for a stable release (already for a very short time), there is no reason not to prepare your sites for migration in advance. <br><br>  <b>PS:</b> Fairy in the title of the article - our holiday logo PHPixie 3, it is not quite the topic, but really wanted to share.  Well, you can assume that this is PHP 7 in the bag. </div><p>Source: <a href="https://habr.com/ru/post/271181/">https://habr.com/ru/post/271181/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../271167/index.html">‚ÄúErrors are values‚Äù in Go and echo VB</a></li>
<li><a href="../271169/index.html">Price elasticity in retail</a></li>
<li><a href="../271171/index.html">Free of charge, that is for free: a free ERP solution for a modest e-commerce business on the Ultima Businessware platform</a></li>
<li><a href="../271173/index.html">Preparing ASP.NET 5, Release 6: Continuous Deployment with Visual Studio Team Services - Complete Guide</a></li>
<li><a href="../271179/index.html">Results of the Russian Developers Cup 2015</a></li>
<li><a href="../271183/index.html">The Chrome Dev Summit live, second day</a></li>
<li><a href="../271185/index.html">Upsource 2.5: smart email notification, new Review page design, improvements in IDE plugin and much more</a></li>
<li><a href="../271189/index.html">Using WordPress AJAX Handler</a></li>
<li><a href="../271191/index.html">How to analyze a file for malware?</a></li>
<li><a href="../271193/index.html">"Red Card": what is behind the warning of malware?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>