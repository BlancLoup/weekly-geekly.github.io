<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Playing pure Java from beginner, for beginners</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I am a beginner Java programmer, and my path has been traveled by thousands. 



 At first there is a long and painful choice of the Most Correct Book...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Playing pure Java from beginner, for beginners</h1><div class="post__text post__text-html js-mediator-article">  I am a beginner Java programmer, and my path has been traveled by thousands. <br><br><img src="https://habrastorage.org/files/b3a/e28/377/b3ae28377f734b71ac7bd85b6b9ed3fd.jpg"><br><br>  At first there is a long and painful choice of the Most Correct Book, then the first enthusiasm from the work of the program listings that were reprinted from it.  Then awareness of the growing coolness and professionalism.  Falling into a pit of your own insignificance, when you try to write something yourself.  And a long way up. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In my case, the Two Book of ‚ÄúJava.  The library of a professional. ‚ÄùBy Kay Horstmann and Gary Cornell, and the very first book that opened the door to the world of Java is Jacob Fayn‚Äú Java Programming for Children, Parents, Grandparents and Grandmothers ‚Äù. <br><br>  In order to consolidate the knowledge that is trying to scatter, which stubbornly tried to remain on the pages of Smart Books, and not in my head, I decided to write a simple game.  The main task was to write without the use of third-party libraries. <br><a name="habracut"></a><br><h5>  The general idea (not mine, but taken from the Chain Rxn flash game) </h5><br>  On a rectangular playing field, depending on the level, a number of balls appear that are worn over it, at different speeds, reflecting from the walls.  The player presses the mouse cursor on the playing field, and at the point of pressing a growing ball appears, which increases to a predetermined radius.  After a certain time, the remaining balls, if they collide with it, stop, increase in size, and also decrease and disappear. <br><br>  For each level, a specific goal is how many balls should be ‚Äúknocked out‚Äù. <br><br><img src="https://habrastorage.org/files/6c1/6a5/90c/6c16a590c06a46d8b934a7311c3398c2.jpg"><br><br><h5>  Implementation. </h5><br>  To begin with, the GameConstants interface was created, in which all the basic constants were placed.  For all classes, the implements of GameConstants were specified: <br><br><div class="spoiler">  <b class="spoiler_title">GameConstants interface</b> <div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GameConstants</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> DEFAULT_WIDTH = <span class="hljs-number"><span class="hljs-number">600</span></span>;<span class="hljs-comment"><span class="hljs-comment">//   public final int DEFAULT_HEIGHT = 300; //   public final int DELAY = 8; //  ¬´¬ª  public final int BASERADIUS=5; //   public final int LIFETIME=1300; // ¬´¬ª  public final int MAXRADIUS=25; //   public final int STARTQNTBALLS=10; //     }</span></span></code> </pre> <br></div></div><br>  Then the Ball class was created.  Each object of this class has its own set of coordinates along the x and y axes, the variables dx and dy, in which the increment of coordinates per unit of time is recorded (essentially, speed), the values ‚Äã‚Äãof the radius and increment of the radius, as well as the color and unique identifier.  The identifier will come in handy later when we track collisions. <br><br>  Also, each ball has an inAction variable characterizing its current state, namely, 0 - before the collision, 1 - collision and growth, 2 - life and size reduction. <br><br>  A timer has been added to the class, the purpose of which is to track the ball ‚Äúlife‚Äù time, starting from the moment the maximum size was reached.  After the time specified in the above interface (LIFETIME) has expired, the size increment will become negative, and upon reaching the zero size, the object will be deleted. <br><br><div class="spoiler">  <b class="spoiler_title">Ball class</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Ball</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GameConstants</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> inAction; <span class="hljs-comment"><span class="hljs-comment">//   private int x; //   x  y private int y; private int dx; //   x  y private int dy; private int radius; // private int dRadius; //  private Color color; // private static int count; public final int id=count++; //  ()  private static int score; //  private Timer gameTimer; private TimerTask gameTimerTask; //     // Ball Ball(int x, int y, int dx, int dy, int radius, Color color, int inAction, int dRadius){ this.x=x; this.y=y; this.dx=dx; this.dy=dy; this.radius=radius; this.color=color; this.inAction=inAction; this.dRadius=dRadius; gameTimer = new Timer(); } //     public Ellipse2D getShape(){ return new Ellipse2D.Double(x-radius, y-radius, radius*2, radius*2); } //    : public void moveBall(BallComponent ballComponent){ x+=dx; y+=dy; radius+=dRadius; if(x&lt;=0+radius){ x=radius; dx=-dx; } if (x&gt;=DEFAULT_WIDTH-radius){ x=DEFAULT_WIDTH-radius; dx=-dx; } if(y&lt;=0+radius){ y=radius; dy=-dy; } if (y&gt;=DEFAULT_HEIGHT-radius){ y=DEFAULT_HEIGHT-radius; dy=-dy; } for(Ball ballVer: ballComponent.listBall){ // -        Ball, //  ,    ¬´¬ª , //  (ballVer),        //       (    id) if(inAction==0) if((Math.sqrt(Math.pow(x-ballVer.x,2)+Math.pow(y-ballVer.y,2)))&lt;=radius+ballVer.radius &amp;&amp; id!=ballVer.id &amp;&amp; (ballVer.inAction==1 || ballVer.inAction==2)) { ballComponent.score++; ballComponent.totalScore++; dx=dy=0; inAction=1; ballComponent.setBackground(ballComponent.getBackground().brighter()); } if(inAction==1){ dRadius=1; if (radius&gt;=MAXRADIUS){ inAction=2; dRadius=0; // ,     ,     gameTimerTask = new gameTimerTask(this); gameTimer.schedule(gameTimerTask, LIFETIME); } } //    -      if(inAction==2 &amp;&amp; radius&lt;=0){ ballComponent.listBall.remove(this); }}} //,    LIFETIME,     : class gameTimerTask extends TimerTask{ private Ball ballTimer; public gameTimerTask(Ball ball) { // TODO Auto-generated constructor stub this.ballTimer = ball; } public void run() { // TODO Auto-generated method stub ballTimer.dRadius=-1; } } }</span></span></code> </pre><br></div></div><br>  In the moveBall function, the position of the ball, and its size are tracked.  To do this, the velocity is added to the coordinate, which is in the <i>BallGame</i> class <i>below</i> , is set as a random variable, and its increment is added to the base radius (set to zero). <br><pre> <code class="java hljs"> x+=dx; y+=dy; radius+=dRadius;</code> </pre><br>  The BallComponent class inherits JPanel, and is responsible for drawing the playing field directly. It also creates a list in which Ball objects are placed and the score is kept.  After the lifetime of the object, it is removed from the list. <br><br><div class="spoiler">  <b class="spoiler_title">Class BallComponent</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BallComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JPanel</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GameConstants</span></span></span><span class="hljs-class"> </span></span>{ List&lt;Ball&gt; listBall = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CopyOnWriteArrayList&lt;&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> startClick; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> score=<span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> totalScore=<span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  Ball   public void addBall(Ball b){ listBall.add(b); } public void paintComponent(Graphics g){ super.paintComponent(g); Graphics2D g2d = (Graphics2D)g; for(Ball ball: listBall){ g2d.setColor(ball.getColor()); g2d.fill(ball.getShape()); } } public Dimension getPreferredSize() { return new Dimension(DEFAULT_WIDTH, DEFAULT_HEIGHT); }}</span></span></code> </pre><br></div></div><br>  Further, in the best traditions of the educational examples of their Horstmann and Cornell, the main BallGame class was created, from which the BallGameFrame () class was called: <br><br><div class="spoiler">  <b class="spoiler_title">BallGame class</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BallGame</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GameConstants</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ EventQueue.invokeLater(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Runnable() { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ JFrame ballFrame = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BallGameFrame(); ballFrame.setVisible(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); }}); }}</code> </pre><br></div></div><br>  The BallGameFrame class that inherits the JFrame creates an outer shell for the playing field, that is, it is responsible for the placement of elements, the processing of mouse event listeners, and the display of informational messages.  It also contains the startGame () function, which is called by a mouse click.  This function starts a stream in which the endless game cycle is spinning. <br><br><div class="spoiler">  <b class="spoiler_title">Class BallGameFrame</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BallGameFrame</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JFrame</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GameConstants</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> level=<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  private int ballQnt; private BallComponent ballComponent; private MousePlayer mousePlayerListener; // public BallGameFrame() { ballQnt=STARTQNTBALLS; setTitle("BallGame"); setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); ballComponent = new BallComponent(); ballComponent.setBackground(Color.DARK_GRAY); mousePlayerListener = new MousePlayer(); add(ballComponent, BorderLayout.CENTER); final JPanel buttonPanel = new JPanel(); final JButton startButton = new JButton(" ."); buttonPanel.add(startButton); final JLabel scoreLabel = new JLabel(); buttonPanel.add(scoreLabel); startButton.addActionListener(new ActionListener() { public void actionPerformed(ActionEvent arg0) { ballComponent.addMouseListener(mousePlayerListener); ballComponent.addMouseMotionListener(mousePlayerListener); startButton.setVisible(false); ballComponent.setCursor(Cursor.getPredefinedCursor(Cursor.CROSSHAIR_CURSOR)); startGame(scoreLabel, ballQnt); }}); add(buttonPanel, BorderLayout.SOUTH); pack(); } public void startGame(JLabel scoreLabel, int ballQnt){ Runnable r = new BallRunnable(ballComponent, scoreLabel, level, ballQnt); Thread t = new Thread(r); t.start(); } //   MousePlayer,     : class MousePlayer extends MouseAdapter{ public void mouseClicked(MouseEvent e) { //   Random random = new Random(); //  ,      //   (),   Ball ball = new Ball(e.getX(), e.getY(), 0, 0, BASERADIUS, new Color(random.nextInt(255),random.nextInt(255),random.nextInt(255)), 1, 1); ballComponent.startClick=true; ballComponent.addBall(ball); //  ,       ,        ballComponent.removeMouseListener(mousePlayerListener); ballComponent.removeMouseMotionListener(mousePlayerListener); ballComponent.setCursor(Cursor.getDefaultCursor()); }}}</span></span></code> </pre><br></div></div><br>  The BallRunnable class in which the main action takes place. <br><br><div class="spoiler">  <b class="spoiler_title">Class BallRunnable</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BallRunnable</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Runnable</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GameConstants</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> BallComponent ballComponent; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> JLabel scoreLabel; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> level, ballQnt; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> MousePlayer mousePlayerListener; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> goal; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BallRunnable</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> BallComponent ballComponent, JLabel scoreLabel, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> level, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ballQnt)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.ballComponent = ballComponent; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.scoreLabel = scoreLabel; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.level=level; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.ballQnt=ballQnt; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.goal=<span class="hljs-number"><span class="hljs-number">2</span></span>; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MousePlayer</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MouseAdapter</span></span></span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mousePressed</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(MouseEvent e)</span></span></span><span class="hljs-function"> </span></span>{ Random random = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Random(); Ball ball = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Ball(e.getX(), e.getY(), <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, BASERADIUS, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Color(random.nextInt(<span class="hljs-number"><span class="hljs-number">255</span></span>),random.nextInt(<span class="hljs-number"><span class="hljs-number">255</span></span>),random.nextInt(<span class="hljs-number"><span class="hljs-number">255</span></span>)), <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); ballComponent.addBall(ball); ballComponent.startClick=<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; ballComponent.removeMouseListener(mousePlayerListener); ballComponent.removeMouseMotionListener(mousePlayerListener); ballComponent.setCursor(Cursor.getDefaultCursor()); }} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>){ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>{ mousePlayerListener = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MousePlayer(); ballComponent.addMouseListener(mousePlayerListener); ballComponent.addMouseMotionListener(mousePlayerListener); <span class="hljs-comment"><span class="hljs-comment">//      ballComponent.setCursor(Cursor.getPredefinedCursor(Cursor.CROSSHAIR_CURSOR)); //     int countInWork=1; //    //    //    for (int i=0;i&lt;ballQnt; i++){ Random randomX = new Random(); Random randomY = new Random(); Ball ball = new Ball(randomX.nextInt(DEFAULT_WIDTH), randomY.nextInt(DEFAULT_HEIGHT), randomX.nextInt(2)+1, randomY.nextInt(2)+1, BASERADIUS, new Color(randomX.nextInt(255),randomX.nextInt(255),randomX.nextInt(255)), 0, 0); ballComponent.addBall(ball); } //     while (countInWork!=0){ countInWork=0; if(!ballComponent.startClick) { EventQueue.invokeLater(new Runnable() { public void run() { // TODO Auto-generated method stub scoreLabel.setText(":  "+ goal+"   "+ ballQnt); } } ); countInWork=1; } for(Ball ball: ballComponent.listBall){ if((ball.inAction()==1 || ball.inAction()==2)) countInWork++; //    ball.moveBall(ballComponent); ballComponent.repaint(); if(ballComponent.startClick){ //   EventQueue.invokeLater(new Runnable() { public void run() { scoreLabel.setText(": "+ level+",   "+ballComponent.score+"  "+ballQnt); }}); }} Thread.sleep(DELAY); } } catch (InterruptedException ex){ ex.printStackTrace(); } ballComponent.listBall.clear(); ballComponent.repaint(); //  if(ballComponent.score&lt;goal) { EventQueue.invokeLater(new Runnable() { public void run() { scoreLabel.setText("   !"); } }); JOptionPane.showMessageDialog(ballComponent, "   . \n : "+ ballComponent.totalScore+".\n   ."); ballComponent.startClick=false; ballComponent.score=0; ballComponent.setBackground(Color.DARK_GRAY); } else{ EventQueue.invokeLater(new Runnable() { public void run() { scoreLabel.setText(" !!!"); } }); ballComponent.startClick=false; level++; ballQnt++; goal++; ballComponent.setBackground(Color.DARK_GRAY); ballComponent.score=0; JOptionPane.showMessageDialog(ballComponent, " "+level+".\n:  "+ goal+"   "+ ballQnt); }}}</span></span></code> </pre><br></div></div><br>  Note that the display of messages on the screen takes place in a separate thread.  You can read more about this in Horstmann, chapter 14, "Multi-threaded processing," section "Threads and the Swing Library." <br><br>  With each level increases the total number of balls, and the goal (how many you need to knock out).  Initially, I did it so that the player had to first knock out a lot of balls (for example, 8 out of 10), but it seemed boring for the testers, and the game was thrown.  Therefore, I decided to gradually increase the <s>degree of</s> complexity <s>inadequate</s> . <br><br>  The official record is level 86.  The author himself went through a maximum of level 15. <br><br>  So let me leave.  Waiting for advice, criticism and support. </div><p>Source: <a href="https://habr.com/ru/post/266117/">https://habr.com/ru/post/266117/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../266107/index.html">3CX API - what are they and what to do with them? Third Party Plugins (Part 2)</a></li>
<li><a href="../266109/index.html">GPS service ViaLatM - scripting language</a></li>
<li><a href="../266111/index.html">Large-scale migration of records in the database: how it does Stripe</a></li>
<li><a href="../266113/index.html">Vertical padding between columns using Sass using the bootstrap grid example</a></li>
<li><a href="../266115/index.html">Development of trading robots: search for market inefficiencies. Part 2</a></li>
<li><a href="../266119/index.html">Security Week 36: jailbreak-robbery, farewell to RC4, porosity of routers</a></li>
<li><a href="../266121/index.html">Setting the overall balance of games three in a row</a></li>
<li><a href="../266125/index.html">New HP Hyper Convergence Systems</a></li>
<li><a href="../266127/index.html">Multiplatform audio player in C ++ and OpenAL</a></li>
<li><a href="../266129/index.html">Fourier computations for image comparison</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>