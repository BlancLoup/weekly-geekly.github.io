<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Practice good code.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Over the years of presence at Habr√©, I read quite a few articles on how the ideal code should look. And less article about how to specifically achieve...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Practice good code.</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/6b1/c4e/c7a/6b1c4ec7a73eff4bd55d94e133821aa1.jpg" alt="image" align="left">  Over the years of presence at Habr√©, I read quite a few articles on how the ideal code should look.  And less article about how to specifically achieve this ideal.  It is also worth noting that a very large part of all these materials was a translation of Western sources, which is probably the result of a more mature IT industry "abroad", with all the attendant issues and problems. <br><br>  Unfortunately, in many cases, the authors either climb into unattainable high-layered architectures, which is required at best for 1% of projects, or are limited to common phrases like ‚Äúthe code should be clear‚Äù or ‚Äúuse OOP and patterns‚Äù, without going down to detailed explanations, in which, for example, the ‚Äúclarity‚Äù of the code is measured. <br><br>  In this article I want to try to systematize the criteria for assessing the quality of the code, and those writing practices that I managed to use in real projects almost regardless of their size and specificity, the programming language used, and other factors. <br><a name="habracut"></a><br><h5>  1. Simplicity </h5><br>  Here, everything has already been invented before us - there is a wonderful <a href="http://ru.wikipedia.org/wiki/KISS_%2528%25D0%25BF%25D1%2580%25D0%25B8%25D0%25BD%25D1%2586%25D0%25B8%25D0%25BF%2529">KISS</a> principle, as well as the aphorism of Albert Einstein ‚ÄúEverything should be stated as simply as possible, but not simpler‚Äù, which we should all be guided by. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Simple code is better than complex in all respects - easier to understand, easier to change and test, requires less comments and documentation, contains fewer errors (at least statistically, if we accept the average number of errors in relation to the number of language and logic constructions in the code per some constant value for each specific programmer). <br><br>  Also, paraphrasing the position of <a href="http://ru.wikipedia.org/wiki/%25D2%25E5%25EE%25F0%25E8%25FF_%25F0%25E5%25F8%25E5%25ED%25E8%25FF_%25E8%25E7%25EE%25E1%25F0%25E5%25F2%25E0%25F2%25E5%25EB%25FC%25F1%25EA%25E8%25F5_%25E7%25E0%25E4%25E0%25F7">TRIZ</a> about the ideal system, we can say that the ideal code - the one that does not exist, and the task that it must solve - is successfully solved.  Obviously, this ideal (like any other) is unattainable in practice, but it is able to direct the mind of the developer in the right direction. <br><br>  In practice, all these beautiful phrases mean one thing - do not use tools, the <i>real</i> (and not hypothetical) use of which does not exceed the damage from the complication and entanglement of the code.  Do not build the application around the whole framework for one narrow task, which it can help solve.  Do not use complex patterns where you can get by with a simple class.  Do not use the class for a couple of functions that do not even work with the properties of the native object in your code (otherwise use).  Do not wrap a 3-line code into a function that is not used again in the application (and will not be used in the near future, and not after 150 years). <br><br>  Of course, all this does not mean that you need to write spaghetti code in the imperative style of 5000 lines.  Once such a desire arises, you need to re-read and realize the second part of the quotation above, that the code should be " <i>as simple as possible, but not simpler</i> ." <br><br>  Do not be afraid of simple designs, if they allow you to solve the problem.  Also, do not hide behind reflections on how your code can <i>theoretically</i> be used when developing a project or changing the wishes of a customer in a year or two.  The point is not even that your code will be ‚Äúin any case thrown out and rewritten from scratch,‚Äù as many advocates of simple and fast development say.  It may not be.  But the problem is that with a high degree of probability you simply cannot guess the right direction.  You will design the hammer so that they can (after a small modification with a file) tighten the screws, and it turns out that you need to fasten the automatic nailing and laser guidance during the swing.  And your architecture, designed for development in a certain direction, will only lose compared to ‚Äújust a hammer‚Äù.  Believe me, I know what I'm talking about, because  For 5 years, I have been supporting the project in runet, which grew and became quite successful not at all on where the maximum efforts were invested and for what it was created, but at the expense of a small branch of the "side" functionality. <br><br><h5>  2. Conceptuality </h5><br>  This criterion largely overlaps with the ‚Äúsimplicity‚Äù of the code, but still I decided to put it in a separate section.  The essence of the approach is to use concepts, and ideally, generally accepted concepts that are already widely used in other solutions. <br><br>  Let me explain in a simple analogy, what I mean: <br>  Imagine that you have a task - to memorize the results of multiplying all numbers from 2 to 9 by each other.  You can simply write to the line: 2x2 = 4, 2x3 = 6, ..., 3x7 = 21, ..., etc., and then proceed to memorize this text. <br>  Formally, it can be used, and it can even be learned.  But there is a much more practical option - to use the concept of "table" - i.e.  data structures defining lists of X and Y values, with the ability to quickly determine their points of intersection and the value of these points by a predetermined formula (in this case Z = X * Y).  As a result, we get the multiplication table known to everyone since childhood, which, in addition to the banal saving of the number of characters in the text, has several other advantages: <br><ul><li>  <i>Structural perception</i> - in addition to the results of multiplication, the brain receives a lot of other useful information - that for each number there is the same number of results, including multiplication by itself, that the step of increasing the product when moving down the column is equal to the number in the header of this column (and similarly for strings), etc. </li><li>  <i>Ease of scaling</i> - having a table in hand and understanding its <i>concept</i> , there is nothing easier than to scale it for, for example, numbers from 1 to 20. With the use of simple text, the time for its refinement increases several times (I would even say a square of times). </li><li>  <i>Ease of modification</i> - it is also very easy to turn the multiplication table into an addition table, or division, or some other.  The basic concept used makes it easy to vary product properties within certain limits without changing the architecture. </li></ul><br>  Please note that we don‚Äôt have to make any additional efforts for the table to ‚Äúwork‚Äù in this way, and also don‚Äôt need to apply the ‚Äúinstructions for using tables‚Äù to our document - this is ‚Äúfree of charge‚Äù and this is the main strength of using concepts in programming.  Decisions in which concepts are correctly used, we often call <i>elegant</i> . <br><br>  An example of a brilliant concept is <a href="http://ru.wikipedia.org/wiki/%25D0%259F%25D0%25B5%25D1%2580%25D0%25B5%25D0%25BD%25D0%25B0%25D0%25BF%25D1%2580%25D0%25B0%25D0%25B2%25D0%25BB%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5_%2528UNIX%2529">‚Äúredirection‚Äù in UNIX-based systems</a> , which allows you to create different programs without spending a single line of code on how they will work with reading / writing to files or other streams, or interacting with other programs, such as a text filter. grep.  All you need is to provide a standard text input / output interface. <br>  Thus, even a few dozen of the most popular teams give rise to thousands of options for their use.  Reminds something?  That's right - this is a solution to the problem with the help of "a code that does not exist." <br><br>  A simpler practical example - once I needed to rotate ads from a third-party ad network from two different accounts on the same ad space from a site, with a condition of approximately equal distribution of profits between them (with a tolerance of 1-2%).  A cumbersome solution that could be applied "in the forehead" was to record ad impressions for each account in the database, taking into account the cost of these impressions (which could also differ), and based on this data, each time you open the page deciding whose ad to show to ensure minimal imbalance. <br><br>  A little later, it turned out that, according to the <a href="http://ru.wikipedia.org/wiki/%25C7%25E0%25EA%25EE%25ED_%25E1%25EE%25EB%25FC%25F8%25E8%25F5_%25F7%25E8%25F1%25E5%25EB">law of large numbers, a</a> banal probability check on the principle of "heads-and-tails" when choosing an account completely solves the problem within the framework of specified conditions.  Moreover, it does not make any problems in such a way to distribute impressions between 3 or more accounts.  Of course, this is not a concept invented by man, but a basic mathematical principle, but from the point of view of code, only one thing is important - it works. <br><br><h5>  3. Uniqueness of functionality (Don't repeat yourself) </h5><br>  The principle <a href="http://ru.wikipedia.org/wiki/Don%25E2%2580%2599t_repeat_yourself">‚ÄúDon't repeat yourself‚Äù</a> (abbr. DRY) tells us that each functional unit of the system, be it a logical block of code, a function or a whole class, must be represented in the code only once. <br><br>  Repeating blocks of code are usually made into a function.  Functions use plug-in libraries and namespaces.  When it comes to classes, a whole zoo of techniques is introduced to reduce code duplication, ranging from banal inheritance to complex systems from ‚Äúfactories producing factories‚Äù mixed with ‚Äúfront adapters‚Äù, which often require more code and mental effort. programmer than allow to save. <br><br>  The desire to design the code from the very beginning so as to avoid any repetitions is obviously destructive, since  for 80% of situations, you will not know about code duplication until you write it. <br><br>  Real advice for practical use in any project - solve the problem of duplicating code immediately after its detection (but not earlier!), And make it the easiest and most obvious way available to you in the current situation. <br><br>  There are several very similar blocks of code of 5-10 lines that differ only in a couple of conditions and variables, but you are not sure yet how best to wrap them in a function?  Use cycles. <br><br>  Not sure which class / object to put the code of the new method in?  Simply create a function and put it in the link library until the time when you have more complete information about the system being developed. <br><br>  Use class inheritance, but you have to completely override the 50-line method in the heir for the sake of changing one logical construct?  First of all, think about splitting a large method into several more isolated ones, or about using instances of other classes with all their methods as values ‚Äã‚Äãof the properties of the original object. <br><br>  Simple and proven solutions will solve 95% of all problems with code duplication, and for the remaining 5%, you need to think 10 times about the appropriateness of mechanically applying complex ‚Äútextbook‚Äù constructions compared to meaningful redesigning a ‚Äúbad‚Äù code segment (with an emphasis on reducing complexity and increase readability). <br><br>  You can always replace a simple solution with a higher level, and it will be much easier to do this than to apply complex refactoring to the raw code at a later stage, when duplicates are already scattered throughout the system. <br><br><h5>  4. Readability </h5><br><ul><li>  Use the names of variables, functions, classes and methods that best describe the essence of what they call.  Avoid single-character variables (except, perhaps, loop counters of type i, n, k, and not always), and names like var1, function2, etc.  Do not rush to the other extreme - names like CreateTextDocumentWithAttachedFilesViaHTTP also do not greatly increase readability.  The optimal length of the name: 1-3 words. </li><li>  Try to be consistent in the naming of functions and methods, as well as the structure of their arguments and return values.  Do not repeat the mistakes of developers of the PHP language (as an example, the names of functions for working with arrays are array_filter, preg_grep, array_unique, in_array, sort, current, etc.) </li><li>  Do not use <a href="http://ru.wikipedia.org/wiki/%25CC%25E0%25E3%25E8%25F7%25E5%25F1%25EA%25EE%25E5_%25F7%25E8%25F1%25EB%25EE_%2528%25EF%25F0%25EE%25E3%25F0%25E0%25EC%25EC%25E8%25F0%25EE%25E2%25E0%25ED%25E8%25E5%2529">"magic numbers"</a> .  There is only one exception - you are 150% sure that no one will ever see this code except you, and you yourself will never accept its support after a couple of years, painfully recalling what 574 is. </li><li>  Do not save on spaces and line breaks when separating language constructs from each other.  Remember that in literary English (as in Russian), it is customary to separate the text after the commas with a space, and to separate paragraphs with an empty line.  The same rules apply to the program code. </li><li>  Use the most concise standard language constructs available.  For example, a ternary operator instead of an if-else for a block of code that fits into one line.  Do not use operators in a non-standard, unknown way to the majority of developers, unless your code is prepared for the <a href="http://webreflection.blogspot.ru/2009/01/32-bytes-to-know-if-your-browser-is-ie.html">competition</a> . </li><li>  Comment on non-obvious parts of the code.  Do not comment on the obvious.  To train the internal "determinant of evidence" it helps a lot to show the code to colleagues or at least just familiar programmers once a month. </li></ul><br>  Of course, in itself, a good design code does not guarantee the quality of the program and the ease of its perception.  But it is precisely such attention to detail that distinguishes a real professional from a simple artisan working in the ‚Äúmaybe fit‚Äù style. <br><br><h5>  What can I say in conclusion </h5><br>  The article turned out to be somewhat more extensive than planned, although I consciously avoided discussing many aspects, such as <a href="http://ru.wikipedia.org/wiki/%25D1%25E2%25FF%25E7%25E0%25ED%25ED%25EE%25F1%25F2%25FC_%2528%25EF%25F0%25EE%25E3%25F0%25E0%25EC%25EC%25E8%25F0%25EE%25E2%25E0%25ED%25E8%25E5%2529">connectivity and connectivity</a> , <a href="http://ru.wikipedia.org/wiki/%25D0%25A8%25D0%25B0%25D0%25B1%25D0%25BB%25D0%25BE%25D0%25BD_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B5%25D0%25BA%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F">design patterns,</a> and other concepts about which entire books have already been written, and you can write a lot of new ones. <br><br>  My goal was to set out in detail the very basics of ‚Äúcorrect‚Äù (from my point of view) programming, many of which are worthy of the pen of Captain Obvious, and nevertheless regularly ignored by most developers, especially in the web segment.  Although adherence to only these simple principles, without deepening into the wilds of perfectionism, can make their code better at times, in all respects. <br><br>  If I missed something or got it wrong somewhere, constructive criticism in the comments is highly appreciated. </div><p>Source: <a href="https://habr.com/ru/post/206868/">https://habr.com/ru/post/206868/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../206856/index.html">IBM Watson supercomputer toolkit became available to developers in the form of "cloud"</a></li>
<li><a href="../206858/index.html">Happy New Year to you!</a></li>
<li><a href="../206860/index.html">Mail.Ru Cloud - 1 terabyte for free and forever</a></li>
<li><a href="../206864/index.html">First Steps with Stellaris LM4F120 launchpad evaluation board</a></li>
<li><a href="../206866/index.html">GnuCash Personal Finance</a></li>
<li><a href="../206870/index.html">Knowledge of language and Yandex. Why do we have cases? Lecture of a small school of data analysis</a></li>
<li><a href="../206876/index.html">Asterisk 12 released</a></li>
<li><a href="../206880/index.html">TV on the Internet</a></li>
<li><a href="../206884/index.html">Alpha Mio - wrist heart rate monitor without chest strap</a></li>
<li><a href="../206886/index.html">Dozen design jambs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>