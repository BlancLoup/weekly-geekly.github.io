<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Connecting the lighting sensor from Mac Book Pro to Arduino</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today I would like to tell you how I connected the light sensor from poppy beech pro to arduino. In fact, everything is simple. The main thing - a lit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Connecting the lighting sensor from Mac Book Pro to Arduino</h1><div class="post__text post__text-html js-mediator-article">  Today I would like to tell you how I connected the light sensor from poppy beech pro to arduino.  In fact, everything is simple.  The main thing - a little perseverance. <br><br>  I had a spare part by chance, I begged for the killed MAC book pro 15` laptop, which lacked most of the spare parts, from my colleagues (they had views on it as a target for a shooting gallery), I don‚Äôt remember what it took me It seems the buttons for replacing the keyboard on my spouse's laptop, but among other things useful, I found a light sensor.  It was built on a photo diode - sensor for visible light from the SHARP BS520 and also on an amplifier from the MAXIM MAX4231.  Very small and compact design, it was difficult to understand what was happening because of the abundance of small parts and almost unreadable tracks. <br><a name="habracut"></a><br><h4>  Reverse engineering </h4><br>  First of all, I googled and found a bunch of mentions of this module from the poppy, but which wire goes where - the story is silent.  Also, according to the specification for the microcircuit, it is powered by 6 legs, and it didn‚Äôt leave any effort, by means of elimination and using a multimeter, to understand which wire to which goes. <br>  First of all, I cut off the old connector and soldered the assembly line to it. <br><br><img src="http://a.yfrog.com/img444/466/wqut.jpg" alt="Sensor">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I connected to the circuit board + 5V from Arduino, in the same place I took the ground.  I spread the power on the board and connected our sensor to it.  The analog signal is taken from the output port number A0. <br><br><img src="http://a.yfrog.com/img94/1020/5m09.jpg" alt="Appearance"><br><br>  Also, for clarity, I used a LED from a dead portable hard drive controller.  If the value falls below 500, it lights up.  It turned out a simple assembly: sensor - performer.  When the night light is dark in the room, the counter value is lower than 500. If more than that, the LED goes out.  The resistor to the LED is not needed if it is connected through port 13, but I purposely used port 12 and placed the resistor at 220 ohms. <br><br><img src="http://a.yfrog.com/img17/6683/eyiu.jpg" alt="LED board"><br><br>  As a result, I wrote such an elementary script: <br> <code>void setup() <br> { <br> //    0   <br> pinMode (A0, INPUT); <br> //     <br> Serial.begin(9600); <br> } <br> void loop() <br> { <br> //     <br> int val = analogRead(A0); <br> //   Led <br> digitalWrite(12, (val&lt;500)?HIGH:LOW); <br> //     <br> Serial.println(val); <br> //    <br> delay(500); <br> } <br></code> <br>  And this is how it all looks like schematically: <br><br><img src="http://a.yfrog.com/img221/3392/a5se.jpg" alt="image"><br><br><h4>  findings </h4><br>  As a result of my research, I learned: <br>  1. Disassemble the poppy and collect it back, the truth is a dubious skill - it is already outdated. <br>  2. I understood that the MAC technique turns out to be just a well-assembled solution and not a subject of worship.  (Forgive me makovody for such experiments on poppy) <br>  3. I started doing electronics a few weeks ago, so I think the project will also be useful for a beginner. <br><br><h4>  Links to docks and sensor </h4><br>  <a href="http://www.powerbookmedic.com/MacBook-Pro-15-Ambient-Light-Sensor-Board-with-Cable-p-17298.html">Sensor itself</a> <br>  <a href="http://">Chip MAXIM MAX4233ABC-T</a> <br>  <a href="http://pdf1.alldatasheet.com/datasheet-pdf/view/42647/SHARP/BS520.html">Sharp Photodiode</a> <br>  <a href="http://arduino.cc/">Off site Arduino</a> <br><br><h4>  Future plans </h4><br>  Interested in a camera built into the monitor.  It is built on a chip, which has a bunch of useful interfaces, including I2C and USB, a hardware JPEG codec and an audio codec.  But this is a completely different story. <br>  So for today, see you. <br><br>  PS Thank you for invite, UFO! <br><br>  UPD: Regarding <a href="https://geektimes.ru/users/ocelot/" class="user_link">Ocelot</a> .  Apparently, I compared the same signal with a filter, I apologize for inaccurate information.  The third wire from the power supply simply does not seem to be used; for testing, I energized the sensor, connected two wires to the two channels of the oscilloscope, and compared the signal.  Here's what I got: <br><img src="http://a.yfrog.com/img849/3287/47t.jpg" alt="image"><br>  1: pressed the sensor with your fingers in the half-darkness (we assume that there is no signal) <br>  2: interference from the touch of the skin of the finger to the contacts of the sensor, the light turns on and off <br>  3: the transition from twilight to bright light <br>  4: bright light mode <br><br>  As can be seen from the oscillogram - the yellow signal from the wire (the one near the ground) does not carry any information.  Well, or as it is used to receive a control signal.  You can try to call - see with what output the chip is connected.  But the fact remains that the sensor can be used as a light sensor for any DIY project. </div><p>Source: <a href="https://habr.com/ru/post/144685/">https://habr.com/ru/post/144685/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../144679/index.html">Subtleties advancement in FaceBook</a></li>
<li><a href="../144680/index.html">Modern home network and cinema on the couch + Update (about transcoding)</a></li>
<li><a href="../144681/index.html">OmniThreadLibrary library - simple multithreading in Delphi environment</a></li>
<li><a href="../144683/index.html">Programming for everyone: why no</a></li>
<li><a href="../144684/index.html">Virtual machine for e-commerce</a></li>
<li><a href="../144686/index.html">Avionics Software Development</a></li>
<li><a href="../144687/index.html">Overriding permissions in Drupal 6</a></li>
<li><a href="../144688/index.html">Cradle review for HTC Sensation</a></li>
<li><a href="../144689/index.html">Erlang, Cassandra: First Steps</a></li>
<li><a href="../144692/index.html">Some search in cold water</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>