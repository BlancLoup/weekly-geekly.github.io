<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Web2py framework</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I am not the inventor of the next rover bike, but just want to tell about the python framework WEB2PY. On Habr√© for some reason there are no articles ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Web2py framework</h1><div class="post__text post__text-html js-mediator-article">  I am not the inventor of the next <s>rover</s> bike, but just want to tell about the python framework WEB2PY.  On Habr√© for some reason there are no articles about this wonderful tool.  If it is interesting, under habrakat a small history of use of web2py and its description. <br><br>  Having started studying the framework, I was able to create several serious projects, received a profit from their sales ... and continue to receive income from their maintenance and refinement.  This activity influenced my attitude to life and ... well, everything was in order. <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The background is such that one day a friend called me, told me about the ‚Äúwork‚Äù at the checkpoint (common people, ‚Äúcustoms‚Äù) and asked if I could find / offer / write him a ‚Äúsimple‚Äù vehicle registration program. in the zone of the customs post.  From his confused story, I was able to determine only the basic requirements for the project: <br><ul><li>  the system must be distributed with a number of simultaneous connections of at least 50 users </li><li>  the user version of the client should work on any computer equipment park </li><li>  There should be no problems with launching client applications, a minimum of installations and other gestures, because  the program, of course, will not ‚Äúshine‚Äù anywhere else and is needed solely to automate routine tasks </li><li>  the system must take into account all stages of customs clearance of each vehicle and have a specific logic of direction to certain types of control </li><li>  should be able to create different reports </li></ul><br><br>  I already wanted to stop the conversation, but the magic phrase ‚Äúsay how much money you need - we will pay‚Äù did the trick, and I said: ‚ÄúEeeeh, okay,‚Äù I began to look for options. <br><br>  My logic was simple: <br><h5>  What is my favorite programming language? </h5><br><ul><li>  PYTHON </li></ul><br><h5>  How to quickly make a cross-platform application running on any hardware? </h5><br><ul><li>  make a project in the form of a web application.  Everybody has browsers! </li></ul><br><h5>  How to bypass the restriction of customs rules at the post and optimize the installation of the application in the existing local network? </h5><br><ul><li>  the project should consist of server and client parts.  The server (also known as the base) must process client requests. </li><li>  need a server, well, or some more or less decent station </li><li>  users need to be given the opportunity only to open the browser and go to the address in the local network </li></ul><br><h5>  how to be with base? </h5><br><ul><li>  need a simple base, preferably without the need to install it and some kind of complex maintenance </li></ul><br><br>  This nontrivial task, at first glance, turned out to be easily solvable.  The answer is web2py.  At that time I did not know anything about this framework.  But if there is a desire and obstinacy, then nothing is impossible!  Besides, I really wanted to test my skills in writing applications for mass use. <br><br>  On <a href="http://web2py.com/">the</a> project <a href="http://web2py.com/">site we</a> download the latest version, unpack the archive - and almost everything is ready!  The root directory has <b>web2py.exe</b> for win, <b>web2py.app</b> for osx, and you can also run the project like this: <b>python web2py.py</b> .  At startup, you should specify the server password, IP and port (by default 8000).  After launch, you can open a browser and go to the IP: port server address. <br><br>  The ready-made test project welcome will start. <br><img src="https://habrastorage.org/storage2/7bc/a12/168/7bca121685884656be08ecbcdad2478f.jpg"><br><br>  By clicking on the ADMINISTRATIVE INTERFACE button, we are taken to the admin area, where you can manage sites. <br><img src="https://habrastorage.org/storage2/4cc/a56/59c/4cca5659c8b1c90e1e063d3e1eadb193.jpg"><br><br>  Sites are stored separately from each other in the APPLICATIONS directory.  When creating a new site, a new directory is automatically created with the site name and the required directory structure is formed.  If the new site is called INIT, then it will be launched automatically at the start: <a href="http://192.168.0.2:8000/">http://192.168.0.2:8000</a> .  If you want to open some other site, then you just need to specify its name, for example: <a href="http://192.168.0.2:8000/welcome">http://192.168.0.2:8000/welcome</a> . <br><br>  Understanding how web2py works is very easy.  It is important to understand that to work you need to manipulate the three main components: <br><ul><li>  model (model) is the db.py file in the models directory </li><li>  the controller (controller) is the default.py file in the controllers directory </li><li>  the view is the usual html files in the views / default directory </li></ul><br><br>  In <b>db.py</b> , a connection to the database is defined and the necessary tables are created, for example: <br><pre><code class="python hljs">db=DAL(<span class="hljs-string"><span class="hljs-string">'sqlite://storage.db'</span></span>) <span class="hljs-comment"><span class="hljs-comment">#   db.define_table('image', #     image Field('name'), #   Field('file','upload')) #   </span></span></code> </pre> <br><br>  In the <b>default.py</b> controller, we write python functions, for example: <br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">index</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> form = SQLFORM(db.image) <span class="hljs-comment"><span class="hljs-comment">#      image if form.process().accepted: #,   ,  response.flash = 'image uploaded' #  return dict(form = form) # ,    </span></span></code> </pre><br><br>  To display the result of the function in the browser, you need to create an html document with the name of the function in the views / default directory, for example: <br><pre> <code class="python hljs">{{extend <span class="hljs-string"><span class="hljs-string">'layout.html'</span></span>}} <span class="hljs-comment"><span class="hljs-comment">#    &lt;h1&gt;Image upload form&lt;/h1&gt; {{form}} # </span></span></code> </pre><br><br>  Here is the result of these simple manipulations: <br><img src="https://habrastorage.org/storage2/d7d/0d3/dba/d7d0d3dba423bf6a3a57e49aef367af3.jpg"><br>  Select the file and save it to the database.  I think that simply can not be easier! <br><br>  The sqlite3 database works out of the box, besides it allows you to connect PostgreSQL, MySQL, MSSQL, FireBird, Oracle, IBM DB2, Informix, Ingres, and Google App Engine. <br><br>  In the process of writing code, I did not have any serious problems.  The framework site has a section with detailed <a href="http://www.web2py.com/book">documentation and examples</a> !  Everything is in English.  The framework also has its own google group, web2py-users (by the way, the level and speed of responses are sometimes just surprising!).  A deep and meaningful reading of the documentation gave its results, and in about a month I had a working system ready, which we successfully implemented.  The introduction is of course, loudly said.  I just handed the catalog on a flash drive, which I had to put on the server and run the batch file.  As a server, people themselves bought some PC station.  Fortunately, people got to understand and knew how to find out / set / change the IP address, how to start the service and go to the browser at the address indicating the port.  And then I thought it would be the most difficult task. <br><br>  Now I can say with confidence that the system has been working for more than two years.  Nobody fits the server (well, except for blowing dust), there are no errors, the average number of simultaneous connections is about 50, maintenance is not needed, everyone is happy.  Thus, I ‚Äúpumped up‚Äù my skills after learning a lot in python;  got experience in communication and correspondence in English;  earned money in the end.  None of this could have been possible if it were not for confidence in success and constant thirst for knowledge.  After this project, I received another order, then more and more ... <br><br>  PS <br>  I am glad that my first starting topic on Habr√© is dedicated to web2py! <br><br>  Pps <br>  With this topic, I once again want to send many of us to the course.  On Habr√©, there are many topics about the need to learn English, about <a href="http://www.coursera.org/">coursera</a> on-line courses (I <a href="http://www.coursera.org/">am passing the</a> third course, recorded two more), about other types of personal development stimulation.  I want to say that it really works!  Verified by personal experience. </div><p>Source: <a href="https://habr.com/ru/post/149357/">https://habr.com/ru/post/149357/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../149350/index.html">Interactive 3D tour of Versailles from Google</a></li>
<li><a href="../149351/index.html">Steam or Windows Store. Or why I choose Steam for now.</a></li>
<li><a href="../149352/index.html">Learn English</a></li>
<li><a href="../149354/index.html">The program "taught" to determine the city by architecture</a></li>
<li><a href="../149356/index.html">SQLite is a great embedded database (part 1)</a></li>
<li><a href="../149359/index.html">It happens - the most unusual application of Ivideon</a></li>
<li><a href="../149360/index.html">Freelance as a means of earning. Part 3 A bit of theory</a></li>
<li><a href="../149362/index.html">National Computer Museum in Blechley Park</a></li>
<li><a href="../149365/index.html">Programming in Android - why is it so difficult?</a></li>
<li><a href="../149366/index.html">S01.20. Gentleman's review: the future has already come</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>