<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Aircraft control systems architecture</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content=""We work so that you are not afraid to fly" 


 Figure 1. Model Bombardier BD 500 in a wind tunnel 

 This is the slogan I somehow came up with for my...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Aircraft control systems architecture</h1><div class="post__text post__text-html js-mediator-article">  <i><b>"We work so that you are not afraid to fly"</b></i> <br><br><img src="http://www.aviationnews.eu/blog/wp-content/uploads/2011/11/Bombardier-Wind-tunnel-model-CSeries.jpg" alt="image"><br>  Figure 1. Model Bombardier BD 500 in a wind tunnel <br><br>  This is the slogan I somehow came up with for my work.  It is the best way to express the essence of the development of aircraft control systems.  And, honestly, I would like this to be the motto of all developers of modern aircraft control systems around the world.  Because, despite the fact that you can often hear that the plane is one of the safest modes of transport, thousands of people around the world are afraid to fly, cling to the arms of their seats ... And often the cause of all fears is uncertainty.  When you need to trust such a fragile design, dangling kilometers above the ground, such a fragile interlacing of wires and bits of code, a hidden curtain of smiles of flight attendants and secrets of program code.  And which should be opened. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>  To my surprise, my <a href="http://habrahabr.ru/post/144686/">previous article</a> caused an unexpectedly large response both on Habr√© and beyond.  I was asked a series of questions and expressed a number of discontent, rightfully calling it a ‚Äúclosed area‚Äù.  Contrary to this opinion, everything that I talked about in the article and what it will be about in this one can be found on the Internet.  It may be in separate pieces, perhaps in different languages, but no fact is know-how.  The task of my article is to acquaint the reader with the wonderful field of aviation and classify all the experience and knowledge that I was able to accumulate.  As for the problematic issues and questions raised by me, I would like to recall a similar case described by Mr. <a href="http://en.wikipedia.org/wiki/Richard_Feynman">Feynman</a> in the wonderful book ‚ÄúWhat do you care about what others think of you?‚Äù.  If someone has not read, be sure to read.  There Richard talks about the problems at NASA.  About the problems that led to the crash of the shuttle.  And that the equipment, programs, programmers who wrote them are not always to blame, and often tolerances, concealment of facts and conservative decisions made are often to blame.  And you know what?  NASA because of this case and publicity did not become worse, but only learned from its sad though, but experience.  Prestige not only did not fall, but grew, <a href="http://www.nasa.gov/columbia/home/index.html">NASA</a> proved to be an organization that knows how to solve problems and recognize them.  Because, like space, as well as aviation, are splendid areas in which great companies and dedicated people work.  And do not believe those who say that after installing toilets in airplanes, the sky has ceased to be a place for romantics. <br><br>  <i><b>Automation is great.</b></i>  <i><b>It's essential.</b></i>  <i><b>It reduces fatigue, and enhances safety.</b></i>  <i><b>But what if it breaks?</b></i> <br><br>  All of you, of course, know that <a href="http://en.wikipedia.org/wiki/Murphy%27s_law">Murphy's laws</a> work, and one of them says that anything that can break will break.  Anything that can not break - also breaks.  Whatever the percentage of equipment failure, the probability of failure exists.  But there are methods to minimize these failures.  And, first of all, these are the architectural features of the software and hardware complex. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3ce/2e9/239/3ce2e9239056693c27cc38a6bd84fcbd.jpg" alt="image"><br>  Figure 2. T-4 <br><br>  Modern aircraft is controlled by the so-called <a href="http://en.wikipedia.org/wiki/Aircraft_flight_control_system">EDSU</a> - Electro Distance Control System.  In fact, this is not so new.  For the first time such a system was installed on the Soviet <a href="http://ru.wikipedia.org/wiki/%25D0%2590%25D0%259D%25D0%25A2-20">Maxim Gorky</a> aircraft, controlling the surfaces by transmitting electric current (analogue EDSU).  Later, in military technology, it will appear in a fully digital form on the Soviet <a href="http://sukhoi.org/planes/museum/t4/">T-4</a> , and in civil aviation on the <a href="http://en.wikipedia.org/wiki/Airbus_A320_family">Airbus A320</a> and <a href="http://en.wikipedia.org/wiki/Tupolev_Tu-204">Tu-204</a> .  However, nothing stands still and technologies are being improved, new approaches are being developed and new levels of security are being achieved. <br><br><h4>  EDSU </h4><br><br>  What is EDSU?  First of all, it is a software and hardware complex consisting of: <br><br><ul><li>  Drives control surfaces of the aircraft </li><li>  Control sensors </li><li>  Control systems </li><li>  Display systems and auxiliary systems </li><li>  Communication and power systems </li></ul><br><br>  Each system is usually at least duplicated once.  Depending on the required control laws, pricing and layout decisions, the architecture may vary - contain more contours of duplication, control, power circuits, or, conversely, less.  As well as possible combinations of EDSU and mechanical, hydromechanical control systems. <br><br><img src="https://habrastorage.org/storage2/437/daf/5a9/437daf5a95f1a83e147bde777b205476.png"><br>  Fig 3. block diagram of the EDSU <br><br>  The use of EDSU in the first place provides a significant reduction in the weight of the control system, which is of critical importance on large aircraft.  It also gives more flexible layout options, often allows you to locate the control system in almost any available location of the aircraft.  By the way, therefore, wire <a href="http://en.wikipedia.org/wiki/Fly-by-wire">-by-wire</a> ( <a href="http://en.wikipedia.org/wiki/Fly-by-wire">fly-by-wire</a> ) is still the most popular, because it is not as complicated and capricious as fly-by-light (using optics) or fly-by-wireless (with using wireless technologies).  Reducing the weight and simplifying the layout allows you to enter additional circuits to ensure the normal control of the aircraft in a state of failure of one of the previously worked circuits.  It allows you to reduce the human factor whenever possible by controlling the flight parameters in automatic mode and correcting the commands of the pilots.  Monitors the status of critical aircraft systems in real time, which allows to detect, track and, if possible, correct the error in the shortest possible time. <br><br><img src="https://habrastorage.org/storage2/4a3/d1a/78e/4a3d1a78e5205e8033599495edd7d29a.jpg"><br>  Fig 4. functional diagram of the EMF <br><br>  However, in the process of designing such systems, it is crucial to create the right architecture.  This is the most vulnerable spot of the EDSU.  The most classic cases of errors are: <br><br><ul><li>  the dependence of the system on the power supply, which in the case of mechanical control is a disaster, but does not lead to the loss of control of the entire aircraft ( <a href="http://ru.wikipedia.org/wiki/%25D0%2590%25D0%25B2%25D0%25B0%25D1%2580%25D0%25B8%25D0%25B9%25D0%25BD%25D0%25B0%25D1%258F_%25D0%25BF%25D0%25BE%25D1%2581%25D0%25B0%25D0%25B4%25D0%25BA%25D0%25B0_%25D0%25A2%25D1%2583-154_%25D0%25B2_%25D0%259C%25D0%25BE%25D1%2581%25D0%25BA%25D0%25B2%25D0%25B5_4_%25D0%25B4%25D0%25B5%25D0%25BA%25D0%25B0%25D0%25B1%25D1%2580%25D1%258F_2010_%25D0%25B3%25D0%25BE%25D0%25B4%25D0%25B0">landing Tu-154</a> ). </li><li>  incorrect duplication of the management system ( <a href="http://www.mak.ru/russian/investigations/2010/an-148-100.html">incident with the An-148</a> ) </li><li>  "Stupid" software errors, such as a change of sign when crossing the equator or <a href="http://www.defenseindustrydaily.com/f22-squadron-shot-down-by-the-international-date-line-03087/">time zones</a> , the possibility of a negative speed on a civilian plane, etc. </li></ul><br><br>  Whatever the architecture of control systems, they are united by the following things: <br><ul><li>  management duplication </li><li>  the presence of a response signal ( <a href="http://en.wikipedia.org/wiki/PID_controller">feedback</a> ) </li><li>  self-control system (division into the control and monitoring part). </li></ul><br><br>  Unfortunately, I have no idea about the technologies that were used in Soviet aircraft, but I think it is similar to the modern approach, which is valid for both foreign and Russian projects. <br><br><h4>  Control system </h4><br><br>  A typical control system consists of: <br><br><ul><li>  PFC - Primary Flight Computer - central control computer, which includes all control laws and which is able to analyze all incoming data from sensors and feedback and give the data to the execution of electronics.  PFC in airplanes is like 1 (in the most either simple or cheap systems), both 2 and 3. PFC work in a regular mode together and simultaneously. </li><li> ACE - Actuator Control Electronic - executive control modules by actuators (drives).  They include part of the surface control logic in case of failure of the main computer.  Transmit directly to the execution command of the actuators.  Depending on the types, they are designed to control both electric and hydraulic drives.  Any ACE is also duplicated depending on the architecture. AACE with alternate substitute works alternately. </li><li>  Control knobs (steering wheel / knob (sidestick), pedals, etc.). </li><li>  Indicators \ information screens. </li><li>  Actuators. </li><li>  Power electronics (if not included in the control modules). </li></ul><br><br><img src="https://habrastorage.org/storage2/616/9e1/7b3/6169e17b34839e5f028c22713774b186.png"><br>  Figure 5. EDS Boeing 777 <br><br>  Depending on the complexity of the system, additional devices may be added \ existing ones.  In any case, with proper duplication and design of the system, the main principle is the observance of the principle of ‚Äúdissimilarity‚Äù, which means that for each element working in the duplication mode different electronic components, processors, programming languages ‚Äã‚Äãshould be applied, different code written and the connecting wires are laid independently in different ways. <br><br><h5>  Control electronics </h5><br><br>  Management computers (PFCs) and executive units (ACEs) consist of several independent channels.  In the simplest case, they consist of a control channel that calculates a command for execution (Control Channel) and a control channel that checks the correctness of commands (Monitor Channel).  For simplicity, we can say that the first should produce the most accurate data calculated using complex control laws based on dynamic models of aircraft behavior, and the second should give a correct assessment based on an assessment of the environment coming from the sensors with accepting and assuming some ‚Äúaverage variant ‚Äù, But doing it faster than the control channel, having the ability to block a new incorrect signal before the command is executed and the error is processed. <br><br><img src="https://habrastorage.org/storage2/de1/cb5/52e/de1cb552ecc9a01d8ba452094ee1389a.png"><br>  Figure 6. PFC architecture diagram for Boeing 777 <br><br>  Depending on the project, a different number of modules and different combinations of channels within them are used.  In Boeing-777, for example, three main computers with three channels each.  And each channel can play different roles, but invariably one of them is the control channel, and the other two are controls.  In Boeing, for example, a circuit with 1 MC, 1 CC and 1 hot-swap channel (standby) is popular.  In other layouts, a channel can also be made separately for controlling power electronics, or for commissioning and design purposes, such as an Extender Board or Fault Insertion Board.  The communication between the channels usually takes place over the <a href="http://ru.wikipedia.org/wiki/Controller_Area_Network">CAN bus</a> or any other reasonably fast bus such as <a href="http://en.wikipedia.org/wiki/SpaceWire">spacewire</a> , <a href="http://en.wikipedia.org/wiki/Firewire">1394</a> , etc. ... The main criterion is the data transfer rate. <br><br>  Communication between control and periphery modules in aviation is traditionally carried out via the <a href="http://en.wikipedia.org/wiki/ARINC">ARINC</a> bus.  In general, the main criterion is reliability even at large distances. <br><br><img src="https://habrastorage.org/storage2/17d/aab/8d7/17daab8d710017d634c7809f7441cb8c.png"><br>  Figure 7. Simplified diagram of a typical implementation of the control system <br><br>  Also used directly analog and digital signals.  The classic layout is the use of <a href="http://en.wikipedia.org/wiki/Analog-to-digital_converter">ADC</a> \ <a href="http://en.wikipedia.org/wiki/Digital-to-analog_converter">DAC</a> (analog-digital and digital-analog converters) inside the ACE for interrogating sensors and for commanding drives, as well as using <a href="http://en.wikipedia.org/wiki/Resolver_(electrical)">Resolvers</a> for their sensitive control.  Use of discrete signals - for synchronization (including from the clock generators), pin-coding (determining the position and role of the module) modules.  Modules are usually aware of each other‚Äôs state and in many cases the architecture implies a ‚Äúhot‚Äù start when the backup module picks up the main state and goes into active mode, replacing the previous main module within a couple of seconds.  ACE and PFC are <a href="http://en.wikipedia.org/wiki/Line-replaceable_unit">LRU</a> (Line Replaceable Unit) modules, i.e., linear replacement modules, which implies the possibility of replacing one module (as an expansion card) with a similar one without the need to replace (modify) the entire communication system.  A similar architecture is used for components of the system separately, for such a system for controlling the chassis, hydraulics, and hatches. <br><br>  Making decisions based on the collaboration of various devices is a complex question that cannot be answered unambiguously.  There are different solutions: synchronization, solution using the average method using state (error) data, ways to detect faulty modules and disable them, scripts.  For example, when using three PFCs in the presence of two identical commands and one excellent one, the excellent one will be rejected.  With three different - the system will be disabled, as with different readings in a system using only two PFCs.  There can be a lot of different logics, as well as including work algorithms for duplicating the EDSU with a mechanical control system.  In the latter case, the probability of failure increases, because when the mechanical control system fails, the EDSU should be informed of the failure and react to this by switching to emergency mode. <br><br><img src="https://habrastorage.org/storage2/183/b00/65a/183b0065ad51a7ac4afc334f616ab4a3.png"><br>  Fig. 8. Pairing design of ACE for electro-hydraulic system <br><br><h5>  Modes of operation. </h5><br><br>  Depending on the environment, the system can operate in <a href="http://en.wikipedia.org/wiki/Flight_control_modes_(electronic)">different modes</a> .  Typical modes are: <br><br><ul><li>  Init Mode - device boot mode, which usually includes determining the state of the device by synchronizing and conducting embedded and external tests. </li><li>  Normal Mode - a regular mode in which the flight process is controlled by the main computers and the pilot commands are adjusted in accordance with the laws of control.  For example, it allows you to prohibit unacceptable combinations of commands - prohibits critical angles of attack, heel, gas, prohibits unacceptable commands (for example, landing gear in the air), as well as damping surfaces depending on external parameters (wind, engine thrust, airframe features).  In normal mode, commands from the PFC are sent to the unconditional execution of the ACE with the proviso that the ACE checks the validity of the signals by polling the status of the PFC.  It is also sometimes divided into the normal mode of flight mode (in air) and the mode on the ground (weight on wheel), which can in turn be divided into the mode of parking, taxi, takeoff / landing.  According to the modern classification, some control systems in the Normal Mode can be referred to as <a href="http://en.wikipedia.org/wiki/IFCS">IFCS</a> (Intelligent Flight Control System).  As a matter of pride, I can say that one of the first and best in civil aviation, to ensure flight as designed on rails, was developed for the Sukhoi Superjet, and not in its more famous colleagues.  In the future, I hope, such systems will use all the power of artificial intelligence under their control. </li><li>  Alternative \ Secondary law is a special mode that allows combining ACE and PFC logic, or replacing normal control laws with pre-calibrated ones.  This is a special mode (s), which is typical for Airbus \ Boeing airplanes in the case when it is necessary to achieve an atypical behavior of the aircraft or in special, but noncritical cases (in the low-power mode, surface defect). </li><li>  Direct mode - direct control mode.  This control mode without the use of PFC, by transmitting direct commands from the controls to the ACE.  In fact, it is virtually direct, because if ACEs are functional, then they have limited control and transformation laws for signals received from pilots.  In case of loss of ACE, the surface is also completely lost. </li><li>  Mechanical law - mechanical control mode.  Possible if there is a backup mechanical control system.  It can be seen less and less on airplanes, but, nevertheless, it provides control of some surfaces even in the event of loss of ACE. </li><li>  Failsafe mode - a failure mode that signals a device failure or critical systems that relate to it.  It is usually the result of a failure both inside the equipment (hardware or software) or controlled devices.  However, it can be divided into critical - when the output is possible only by ground maintenance and / or equipment replacement, and to a fixable failure that can be returned to the operating mode (Direct, Normal, Alternative - depending on the logic) by diagnosing the system or its flight restart. </li><li>  Rigging (Calibration) Mode - maintenance mode, calibration of equipment on the ground - changing the calibration parameters of the aircraft (for example, depending on the geometry or having previously had failures on the aircraft).  It is usually initiated on the ground in a regular manner (maintenance) or after an error (falling in Failsafe mode).  Maintenance is performed both with the removal of the module and data reading through internal ports (RS232, USB), and directly on the aircraft using the terminal (RS232, LAN), or OMS (Onboard Maintenance System) via USB, COM, LAN. </li></ul><br><br><img src="https://habrastorage.org/storage2/781/004/ab2/781004ab2fc043eefc7eebb6ffa218d9.png"><br>  Figure 9. The scheme of work with four PFC. <br><br><h4>  Once again about duplication and protection </h4><br><br>  In order not to go into technical details and specific implementations, I will briefly summarize: each system is duplicated.  So, in addition to the control modules, power supply circuits (three and more), magnetic locks, sensors, messages from devices, control knobs are duplicated.  Each information requires confirmation.  So, to diagnose an error depending on its criticality, it takes time to confirm it (so as not to shut down the system ahead of time due to interference), usually from different devices at once.  Even in the event of a failure or even multiple failures, it is possible to operate in an alternative mode.  This is achieved through the use of various hardware and software.  So, for the same device, different processors and a circuit board for different channels are used.  For example, for the Control Channel - a processor from Motorola, and for the Monitor - from Infineon, for another LRU - from Texas Instruments, etc ... Different compilers are used, different code is written.  Ideally, for different PFC \ ACE there should also be different software and hardware solutions, but in the simple case (it is not always possible and feasible both technically and financially) dissimilarity is achieved by different pin-coding and different arrangement of modules in space.  The system is ideally protected from fools.  In the first place - from the human factor.  Subsequent - from critical conditions (short circuit modes, power loss, high and low temperatures), as well as from an impossible event according to Murphy.  In the code, this translates, for example, into <a href="http://encyclopedia2.thefreedictionary.com/paranoid%2Bprogramming">paronoidal programming</a> . <br><br><img src="https://habrastorage.org/storage2/803/f78/349/803f783496387c931ef57b61ace779f7.jpg"><br>  Figure 10. Four PFCs are paired up. <br><br><h5>  Code </h5><br><br><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> bool_t </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CANInterface_StripStatusData</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(CanMsgFrm_t * CanRxMsg_ip)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/*#FUNCTION_SIGNATURE# CANInterface_StripStatusData */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool_t</span></span> bSuccess = TRUE; <span class="hljs-comment"><span class="hljs-comment">/* Extract data from message ID 0xN using following layout: */</span></span> <span class="hljs-comment"><span class="hljs-comment">/* ------------------------------------------------------------------------------------- */</span></span> <span class="hljs-comment"><span class="hljs-comment">/* | Layout | Range | Name | Unit Ident | Description | */</span></span> <span class="hljs-comment"><span class="hljs-comment">/* |-----------------------------------------------------------------------------------| */</span></span> <span class="hljs-comment"><span class="hljs-comment">/* | Byte 0 | 0, 1 | ConsNgWow | 1, 2 | Consolidated Nose Gear | */</span></span> <span class="hljs-comment"><span class="hljs-comment">/* | Bit 0 | | | | Weight on Wheel | */</span></span> <span class="hljs-comment"><span class="hljs-comment">/* |-----------------------------------------------------------------------------------| */</span></span> <span class="hljs-comment"><span class="hljs-comment">/* If data is send trough valid pointer */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (CanRxMsg_ip EQU_C NULL_C) { bSuccess = FALSE; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-comment"><span class="hljs-comment">/* Process, only if unit is valid */</span></span> <span class="hljs-comment"><span class="hljs-comment">/* There is no data clipping and loss, we extracting only actual bits from message. */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (cUnitIdent_g EQU_C UNIT_IDENT_UNIT1_E) { bConsNgWow_g = (<span class="hljs-keyword"><span class="hljs-keyword">bool_t</span></span>)(CanRxMsg_ip-&gt;Message.cUint8_a[ZERO_C] &amp; BITMASK_ONE_BIT_C); <span class="hljs-comment"><span class="hljs-comment">/* ‚Ä¶ */</span></span> <span class="hljs-comment"><span class="hljs-comment">/* Other bits are spare here, not used in this message */</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (cUnitIdent_g EQU_C UNIT_IDENT_UNIT2_E) { bConsNgWow_g = (<span class="hljs-keyword"><span class="hljs-keyword">bool_t</span></span>)(CanRxMsg_ip-&gt;Message.cUint8_a[ZERO_C] &amp; BITMASK_ONE_BIT_C); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { bSuccess = FALSE; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>(bSuccess); <span class="hljs-comment"><span class="hljs-comment">/*#end ACD# CANInterface_StripStatusData */</span></span> }</code> </pre> <br><br>  Familiar with the typical <a href="http://www2.research.att.com/~bs/JSF-AV-rules.pdf">Coding Standard</a> will recognize the implementation of the usual rules in this code.  In general, this code is not the best and most optimal, however, it guarantees the exclusion of impossible situations: <br><ol><li>  the function cannot be called with a null pointer, since it is passed the address of the object.  However, there is a check for pointer differences from zero.  In my practice, there were errors with invalid pointers more than once that could appear on one machine even during normal operation of the stack, and on the other never under any circumstances. </li><li>  All magic numbers are replaced by constants in the event that if the architecture changes some time, there will be no need to track changes, as well as the fact that it is more difficult to break something by performing a random contextual replacement. </li><li>  Mandatory type casting is a MISRA rule that, along with its frequent unjustifiability, allows for capturing signed \ unsigned conversion and sign loss. </li><li>  Bitmask for one bit looks like idiocy, for bool in this case can only be true or false.  But, nevertheless, with a subsequent change of the code, it is possible to guarantee that even if something else is recorded in this area of ‚Äã‚Äãmemory, it will remain the expected 0 or 1, and even if you shift several bits of the current position, this is isolation from other significant bits. . </li><li>  returning the status, even if the function does nothing at all and its operation does not affect the system, it allows to diagnose the arisen problem with the accuracy of the function. </li><li>  description of all options, even if it is duplicate code.  In addition to the requirements for software A, due to the nature of the compilers, the code using a single if-else statement can be interpreted differently than expected, especially when making changes, an error can be made or the situation with an impossible PFC identifier is not worked out.  If the code is duplicated, usually the compiler optimizations build it themselves.  Dead Code, on the contrary, should be avoided by all possible means, with the exception of the deactivated \ conditional (project \ build-specific) code. </li><li>  standard types should not be used to prevent errors associated with platform and compiler features </li><li>  Hungarian notation must be observed to ensure a sufficient level of code clarity even without the use of special IDEs. </li><li>  the code should contain clear comments </li><li>  the code must be fast and not resource demanding </li></ol><br><pre> <code class="cpp hljs"> <span class="hljs-comment"><span class="hljs-comment">/* convert label */</span></span> nTmp = (<span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span>)ArincData.Octet.nByte0; nTmp = ((nTmp &amp; <span class="hljs-number"><span class="hljs-number">0x55</span></span>U) &lt;&lt; ONE_U_C) | ((nTmp &amp; <span class="hljs-number"><span class="hljs-number">0xAA</span></span>U) &gt;&gt; ONE_U_C); nTmp = ((nTmp &amp; <span class="hljs-number"><span class="hljs-number">0x33</span></span>U) &lt;&lt; TWO_U_C) | ((nTmp &amp; <span class="hljs-number"><span class="hljs-number">0xCC</span></span>U) &gt;&gt; TWO_U_C); nTmp = ((nTmp &amp; <span class="hljs-number"><span class="hljs-number">0x0F</span></span>U) &lt;&lt; FOUR_U_C) | ((nTmp &amp; <span class="hljs-number"><span class="hljs-number">0xF0</span></span>U) &gt;&gt; FOUR_U_C); <span class="hljs-comment"><span class="hljs-comment">/* write converted label back */</span></span> ArincData.Octet.nByte0 = nTmp;</code> </pre>  <i>Invert bits with the Warren algorithm.</i> <br><br><h4>  findings </h4><br><br>  On this, perhaps, it is necessary to complete the article and this topic in particular.  In conclusion, I want to say that whatever the system, solutions are complex like Boeing or simple, like in the beginning Chinese aviation industry, the systems are developing in the direction of convenience and safety.  And every protected wire and bit is the work of many people, often enthusiasts, working in this field, as well as you, citizens and passengers, who with their love for him and his criticism of human imperfection makes this life better. <br><br>  PS By the way, at the time of this writing, it turned out that the Boeing 777 management software was written on ada. </div><p>Source: <a href="https://habr.com/ru/post/145371/">https://habr.com/ru/post/145371/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../145364/index.html">Google launched the Street View camera for pedestrians</a></li>
<li><a href="../145366/index.html">Google Maps got 3D and battery life</a></li>
<li><a href="../145368/index.html">Learning English with parallel translations</a></li>
<li><a href="../145369/index.html">Answers to questions with PyObject</a></li>
<li><a href="../145370/index.html">ASP.NET MVC: Conditional Validation on the client using FluentValidation</a></li>
<li><a href="../145372/index.html">Results of annual stud projects of Mat-mecha of St. Petersburg State University</a></li>
<li><a href="../145373/index.html">Making Chips at Home - Step 2</a></li>
<li><a href="../145375/index.html">Do you know what your phone is capable of?</a></li>
<li><a href="../145376/index.html">[Translation] HTML5 Responsive Image</a></li>
<li><a href="../145377/index.html">40 great QR codes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>