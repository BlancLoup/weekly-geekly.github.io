<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Task about forEach (ps :: println) from SKB Kontur</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="At the JBreak conference , I did not read the tasks of the sponsors on purpose. Well, of course, except for hell from Excelsior : these guys have all ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Task about forEach (ps :: println) from SKB Kontur</h1><div class="post__text post__text-html js-mediator-article"><p> At the <a href="https://2018.jbreak.ru/">JBreak</a> conference <a href="https://2018.jbreak.ru/">,</a> I did not read the tasks of the sponsors on purpose.  Well, of course, except for <a href="https://gist.github.com/cypok/e0db268fb9b7ec472d60abf2e2cc10b3">hell from Excelsior</a> : these guys have all set the heat.  And then they brought me a piece of special design bureau Kontur, look, they say, laugh.  I laughed: the first task really looked so naively shaped and undetermined that I didn‚Äôt even want to go to the booth and convince the company employees of this.  I almost forgot about it, but here the author's analysis of this task <a href="https://habrahabr.ru/company/skbkontur/blog/350800/">appeared</a> on Habr√©, not without some depth.  Even about <code>modCount</code> wrote.  So, I laughed in vain? </p><a name="habracut"></a><br><p>  I recall the task sounded like this: </p><br><blockquote>  Sort the methods according to the speed of their work and enter the numbers of the methods in the appropriate cell.  If the methods give slightly different results, then write them in one cell.  For each task, write an explanation why some methods are faster than others.  It is assumed that the code runs in a HotSpot 64-bit VM (JRE 1.8.0_161). <br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">forEach</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(List&lt;Integer&gt; values, PrintStream ps)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// 1 values.forEach(ps::println); } void forEach(List&lt;Integer&gt; values, PrintStream ps) { // 2 values.stream().forEach(ps::println); } void forEach(List&lt;Integer&gt; values, PrintStream ps) { // 3 values.parallelStream().forEach(ps::println); }</span></span></code> </pre> <br></blockquote><p>  According to the authors of the problem, the correct answer is "depends on": 1 or 2, depending on the location of the stars in the sky.  At the same time, the form for the decisions did not intend to include such an option, and it was not enough to explain this place.  In general, I think that it is incorrect to give a task without an unambiguous correct answer.  I am not against problems where there are definitely two correct answers: 1 and 2 (for example, both are always and demonstrably equally fast).  But here is the answer: either this or that, depending on the circumstances.  This is an ugly task, ill-conceived.  It seems that the authors had the right answer alone, but then (perhaps after talking with the conference participants) they themselves realized that they were wrong. </p><br><p>  However, the biggest problem is that the third option can also be the fastest depending on the circumstances. </p><br><p>  Let me remind you: the authors' argument against the <code>parallelStream</code> option is that the consumer ( <code>PrintStream::println</code> ) is synchronized, which means the data consumption process is linearized: the happens-before relationship is established between the consumption of any two elements.  Accordingly, we will not receive any benefit from parallelization, we will only get an overhead to create threads and synchronize.  Nevertheless, we should not forget that the stream consists not only of the data consumer, but also of the source.  And the source may well not be linearized.  If you choose a source and a consumer so that the source turns out to be significantly slower, then parallelism will provide an increase arbitrarily close to the number of processors. </p><br><p>  According to the condition of the problem, the source is some implementation of the <code>List</code> interface.  The task does not introduce further restrictions, so we are free to bring in any implementation that complies with the contract.  We can even restrict ourselves to ‚Äúreasonably reasonable implementations‚Äù, which look logical, without obviously excessive delays. </p><br><p>  Let's first speed up the consumer.  Of course, <code>PrintStream</code> is not the final class, and we could easily extend it by redefining the <code>println</code> method and removing synchronization altogether.  However, I think this is cheating: redefining existing behavior should not be considered a correct solution in such tasks.  Nevertheless, we remember that <code>PrintStream</code> is just a wrapper over the <code>OutputStream</code> , and here we have the right to slip into any implementation of this abstract class, which, for example, does nothing: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> PrintStream </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getStream</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PrintStream(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OutputStream() { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">write</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b)</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">write</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] b, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> off, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> len)</span></span></span><span class="hljs-function"> </span></span>{} }); }</code> </pre> <br><p>  Of course, this is not necessary, but only to enhance the effect.  For standard console output, we can also make a source that will be significantly slower. </p><br><p>  Now, actually, the source.  Lists that give out items slowly are quite possible and are quite common in life.  This can be created, say, through <a href="https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/Lists.html">Lists.transform</a> from the Guava library, selecting the appropriate function.  It is also easy to write it manually: it is enough to extend the standard <a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractList.html">AbstractList</a> by defining two methods, <code>get()</code> and <code>size()</code> .  Since our list will be a random access list, we will mark it with the RandomAccess marker interface. </p><br><p>  What will we do with our list?  Let it for each element with index <code>i</code> , for example, contain the low byte of the SHA-512 hash sum from the string representation of the index in UTF-16 encoding.  Why not?  Maybe we need such a pseudo-random, but stable thing: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> List&lt;Integer&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> size)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyList</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AbstractList</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Integer</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RandomAccess</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Integer </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> index)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ,     Java 9,  ! Objects.checkIndex(index, size); try { MessageDigest md = MessageDigest.getInstance("SHA-512"); md.update(String.valueOf(index).getBytes(StandardCharsets.UTF_16)); return (int) md.digest()[0]; } catch (NoSuchAlgorithmException e) { throw new RuntimeException(e); } } @Override public int size() { return size; } } return new MyList(); }</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">If you want to see the full source code of the benchmark, click here.</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@BenchmarkMode</span></span>(Mode.AverageTime) <span class="hljs-meta"><span class="hljs-meta">@Measurement</span></span>(iterations = <span class="hljs-number"><span class="hljs-number">10</span></span>, time = <span class="hljs-number"><span class="hljs-number">500</span></span>, timeUnit = TimeUnit.MILLISECONDS) <span class="hljs-meta"><span class="hljs-meta">@Warmup</span></span>(iterations = <span class="hljs-number"><span class="hljs-number">5</span></span>, time = <span class="hljs-number"><span class="hljs-number">500</span></span>, timeUnit = TimeUnit.MILLISECONDS) <span class="hljs-meta"><span class="hljs-meta">@OutputTimeUnit</span></span>(TimeUnit.MICROSECONDS) <span class="hljs-meta"><span class="hljs-meta">@Fork</span></span>(<span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-meta"><span class="hljs-meta">@State</span></span>(Scope.Benchmark) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ListBenchmark</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Param</span></span>({<span class="hljs-string"><span class="hljs-string">"100"</span></span>, <span class="hljs-string"><span class="hljs-string">"10000"</span></span>, <span class="hljs-string"><span class="hljs-string">"1000000"</span></span>}) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> size; <span class="hljs-meta"><span class="hljs-meta">@Benchmark</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testForEach</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ forEach1(getList(size), getStream()); } <span class="hljs-meta"><span class="hljs-meta">@Benchmark</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testStreamForEach</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ forEach2(getList(size), getStream()); } <span class="hljs-meta"><span class="hljs-meta">@Benchmark</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testParallelStreamForEach</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ forEach3(getList(size), getStream()); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">forEach1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(List&lt;Integer&gt; values, PrintStream ps)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// 1 values.forEach(ps::println); } void forEach2(List&lt;Integer&gt; values, PrintStream ps) { // 2 values.stream().forEach(ps::println); } void forEach3(List&lt;Integer&gt; values, PrintStream ps) { // 3 values.parallelStream().forEach(ps::println); } static PrintStream getStream() { return new PrintStream(new OutputStream() { public void write(int b) {} public void write(byte[] b, int off, int len) {} }); } static List&lt;Integer&gt; getList(int size) { class MyList extends AbstractList&lt;Integer&gt; implements RandomAccess { @Override public Integer get(int index) { // ,     Java 9,  ! Objects.checkIndex(0, size); try { MessageDigest md = MessageDigest.getInstance("SHA-512"); md.update(String.valueOf(index).getBytes(StandardCharsets.UTF_16)); return (int) md.digest()[0]; } catch (NoSuchAlgorithmException e) { throw new RuntimeException(e); } } @Override public int size() { return size; } } return new MyList(); } }</span></span></code> </pre> </div></div><br><p>  Now we are driving the benchmark on a four core machine and see these results: </p><br><pre> <code class="java hljs"># JMH version: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM version: JDK <span class="hljs-number"><span class="hljs-number">9.0</span></span>.4, VM <span class="hljs-number"><span class="hljs-number">9.0</span></span>.4+<span class="hljs-number"><span class="hljs-number">11</span></span> # VM invoker: C:\Program Files\Java\jdk-<span class="hljs-number"><span class="hljs-number">9.0</span></span>.4\bin\java.exe ... Benchmark (size) Mode Cnt Score Error Units testForEach <span class="hljs-number"><span class="hljs-number">100</span></span> avgt <span class="hljs-number"><span class="hljs-number">50</span></span> <span class="hljs-number"><span class="hljs-number">317</span></span>,<span class="hljs-number"><span class="hljs-number">811</span></span> ¬± <span class="hljs-number"><span class="hljs-number">48</span></span>,<span class="hljs-number"><span class="hljs-number">847</span></span> us/op testForEach <span class="hljs-number"><span class="hljs-number">10000</span></span> avgt <span class="hljs-number"><span class="hljs-number">50</span></span> <span class="hljs-number"><span class="hljs-number">11944</span></span>,<span class="hljs-number"><span class="hljs-number">452</span></span> ¬± <span class="hljs-number"><span class="hljs-number">308</span></span>,<span class="hljs-number"><span class="hljs-number">630</span></span> us/op testForEach <span class="hljs-number"><span class="hljs-number">1000000</span></span> avgt <span class="hljs-number"><span class="hljs-number">50</span></span> <span class="hljs-number"><span class="hljs-number">1650511</span></span>,<span class="hljs-number"><span class="hljs-number">656</span></span> ¬± <span class="hljs-number"><span class="hljs-number">489838</span></span>,<span class="hljs-number"><span class="hljs-number">860</span></span> us/op testParallelStreamForEach <span class="hljs-number"><span class="hljs-number">100</span></span> avgt <span class="hljs-number"><span class="hljs-number">50</span></span> <span class="hljs-number"><span class="hljs-number">89</span></span>,<span class="hljs-number"><span class="hljs-number">836</span></span> ¬± <span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">507</span></span> us/op testParallelStreamForEach <span class="hljs-number"><span class="hljs-number">10000</span></span> avgt <span class="hljs-number"><span class="hljs-number">50</span></span> <span class="hljs-number"><span class="hljs-number">9629</span></span>,<span class="hljs-number"><span class="hljs-number">607</span></span> ¬± <span class="hljs-number"><span class="hljs-number">935</span></span>,<span class="hljs-number"><span class="hljs-number">511</span></span> us/op testParallelStreamForEach <span class="hljs-number"><span class="hljs-number">1000000</span></span> avgt <span class="hljs-number"><span class="hljs-number">50</span></span> <span class="hljs-number"><span class="hljs-number">890954</span></span>,<span class="hljs-number"><span class="hljs-number">996</span></span> ¬± <span class="hljs-number"><span class="hljs-number">64176</span></span>,<span class="hljs-number"><span class="hljs-number">572</span></span> us/op testStreamForEach <span class="hljs-number"><span class="hljs-number">100</span></span> avgt <span class="hljs-number"><span class="hljs-number">50</span></span> <span class="hljs-number"><span class="hljs-number">171</span></span>,<span class="hljs-number"><span class="hljs-number">991</span></span> ¬± <span class="hljs-number"><span class="hljs-number">48</span></span>,<span class="hljs-number"><span class="hljs-number">877</span></span> us/op testStreamForEach <span class="hljs-number"><span class="hljs-number">10000</span></span> avgt <span class="hljs-number"><span class="hljs-number">50</span></span> <span class="hljs-number"><span class="hljs-number">22063</span></span>,<span class="hljs-number"><span class="hljs-number">496</span></span> ¬± <span class="hljs-number"><span class="hljs-number">5965</span></span>,<span class="hljs-number"><span class="hljs-number">278</span></span> us/op testStreamForEach <span class="hljs-number"><span class="hljs-number">1000000</span></span> avgt <span class="hljs-number"><span class="hljs-number">50</span></span> <span class="hljs-number"><span class="hljs-number">1646935</span></span>,<span class="hljs-number"><span class="hljs-number">273</span></span> ¬± <span class="hljs-number"><span class="hljs-number">485037</span></span>,<span class="hljs-number"><span class="hljs-number">889</span></span> us/op</code> </pre> <br><p>  The result of ForEach and StreamForEach looks a bit strange.  For example, for a list of 100 items, the stream wins, and for a list of 10,000 - the opposite.  However, the desired result is obvious: parallel stream runs faster everywhere. </p><br><p>  Where, by the way, are such fluctuations?  They can easily occur if you do not repeat the developers' error from SKB Kontur: you cannot drive a benchmark on one fork, especially if you suspect that the result is significantly affected by the operation of the JIT compiler.  The JIT compiler is completely non-deterministic: the result of the compilation depends on the compiled profile, but the profile is assembled asynchronously, so at the time of the start of compilation there may be different numbers and the code will be different.  It does not make sense to increase the number of iterations, because when you exit to a stable state, the hot code is no longer recompiled.  See, for example, the output for ForEach / size = 100: </p><br><div class="spoiler">  <b class="spoiler_title">Conclusion</b> <div class="spoiler_text"><pre> <code class="java hljs"># Run progress: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">00</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">05</span></span>:<span class="hljs-number"><span class="hljs-number">37</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> of <span class="hljs-number"><span class="hljs-number">5</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">585</span></span>,<span class="hljs-number"><span class="hljs-number">124</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">390</span></span>,<span class="hljs-number"><span class="hljs-number">473</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">388</span></span>,<span class="hljs-number"><span class="hljs-number">228</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">387</span></span>,<span class="hljs-number"><span class="hljs-number">198</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">384</span></span>,<span class="hljs-number"><span class="hljs-number">001</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">386</span></span>,<span class="hljs-number"><span class="hljs-number">163</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">376</span></span>,<span class="hljs-number"><span class="hljs-number">344</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">374</span></span>,<span class="hljs-number"><span class="hljs-number">520</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">364</span></span>,<span class="hljs-number"><span class="hljs-number">211</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">364</span></span>,<span class="hljs-number"><span class="hljs-number">389</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">363</span></span>,<span class="hljs-number"><span class="hljs-number">269</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">364</span></span>,<span class="hljs-number"><span class="hljs-number">266</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">364</span></span>,<span class="hljs-number"><span class="hljs-number">123</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">363</span></span>,<span class="hljs-number"><span class="hljs-number">860</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">364</span></span>,<span class="hljs-number"><span class="hljs-number">035</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">22</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">05</span></span>:<span class="hljs-number"><span class="hljs-number">48</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> of <span class="hljs-number"><span class="hljs-number">5</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">426</span></span>,<span class="hljs-number"><span class="hljs-number">376</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">386</span></span>,<span class="hljs-number"><span class="hljs-number">556</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">382</span></span>,<span class="hljs-number"><span class="hljs-number">808</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">378</span></span>,<span class="hljs-number"><span class="hljs-number">838</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">377</span></span>,<span class="hljs-number"><span class="hljs-number">987</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">377</span></span>,<span class="hljs-number"><span class="hljs-number">438</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">374</span></span>,<span class="hljs-number"><span class="hljs-number">149</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">370</span></span>,<span class="hljs-number"><span class="hljs-number">854</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">361</span></span>,<span class="hljs-number"><span class="hljs-number">177</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">362</span></span>,<span class="hljs-number"><span class="hljs-number">603</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">361</span></span>,<span class="hljs-number"><span class="hljs-number">055</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">361</span></span>,<span class="hljs-number"><span class="hljs-number">445</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">361</span></span>,<span class="hljs-number"><span class="hljs-number">564</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">364</span></span>,<span class="hljs-number"><span class="hljs-number">283</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">359</span></span>,<span class="hljs-number"><span class="hljs-number">619</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">44</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">05</span></span>:<span class="hljs-number"><span class="hljs-number">39</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> of <span class="hljs-number"><span class="hljs-number">5</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">582</span></span>,<span class="hljs-number"><span class="hljs-number">933</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">144</span></span>,<span class="hljs-number"><span class="hljs-number">197</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">140</span></span>,<span class="hljs-number"><span class="hljs-number">762</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">135</span></span>,<span class="hljs-number"><span class="hljs-number">908</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">132</span></span>,<span class="hljs-number"><span class="hljs-number">585</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">132</span></span>,<span class="hljs-number"><span class="hljs-number">768</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">132</span></span>,<span class="hljs-number"><span class="hljs-number">491</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">129</span></span>,<span class="hljs-number"><span class="hljs-number">447</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">119</span></span>,<span class="hljs-number"><span class="hljs-number">316</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">119</span></span>,<span class="hljs-number"><span class="hljs-number">427</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">119</span></span>,<span class="hljs-number"><span class="hljs-number">018</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">119</span></span>,<span class="hljs-number"><span class="hljs-number">305</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">119</span></span>,<span class="hljs-number"><span class="hljs-number">361</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">119</span></span>,<span class="hljs-number"><span class="hljs-number">130</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">119</span></span>,<span class="hljs-number"><span class="hljs-number">105</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">67</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">05</span></span>:<span class="hljs-number"><span class="hljs-number">31</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">4</span></span> of <span class="hljs-number"><span class="hljs-number">5</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">569</span></span>,<span class="hljs-number"><span class="hljs-number">460</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">389</span></span>,<span class="hljs-number"><span class="hljs-number">247</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">385</span></span>,<span class="hljs-number"><span class="hljs-number">768</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">381</span></span>,<span class="hljs-number"><span class="hljs-number">309</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">379</span></span>,<span class="hljs-number"><span class="hljs-number">797</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">381</span></span>,<span class="hljs-number"><span class="hljs-number">618</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">372</span></span>,<span class="hljs-number"><span class="hljs-number">816</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">371</span></span>,<span class="hljs-number"><span class="hljs-number">384</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">361</span></span>,<span class="hljs-number"><span class="hljs-number">205</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">361</span></span>,<span class="hljs-number"><span class="hljs-number">428</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">361</span></span>,<span class="hljs-number"><span class="hljs-number">174</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">360</span></span>,<span class="hljs-number"><span class="hljs-number">579</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">360</span></span>,<span class="hljs-number"><span class="hljs-number">488</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">359</span></span>,<span class="hljs-number"><span class="hljs-number">859</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">361</span></span>,<span class="hljs-number"><span class="hljs-number">365</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">89</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">05</span></span>:<span class="hljs-number"><span class="hljs-number">23</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">5</span></span> of <span class="hljs-number"><span class="hljs-number">5</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">544</span></span>,<span class="hljs-number"><span class="hljs-number">560</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">390</span></span>,<span class="hljs-number"><span class="hljs-number">766</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">388</span></span>,<span class="hljs-number"><span class="hljs-number">537</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">383</span></span>,<span class="hljs-number"><span class="hljs-number">953</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">382</span></span>,<span class="hljs-number"><span class="hljs-number">270</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">384</span></span>,<span class="hljs-number"><span class="hljs-number">325</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">377</span></span>,<span class="hljs-number"><span class="hljs-number">098</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">371</span></span>,<span class="hljs-number"><span class="hljs-number">531</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">362</span></span>,<span class="hljs-number"><span class="hljs-number">499</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">362</span></span>,<span class="hljs-number"><span class="hljs-number">045</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">363</span></span>,<span class="hljs-number"><span class="hljs-number">345</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">361</span></span>,<span class="hljs-number"><span class="hljs-number">930</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">362</span></span>,<span class="hljs-number"><span class="hljs-number">357</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">362</span></span>,<span class="hljs-number"><span class="hljs-number">452</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">362</span></span>,<span class="hljs-number"><span class="hljs-number">302</span></span> us/op</code> </pre> </div></div><br><p>  Here there are two separate modes as a result: one is about 360 microseconds, and the other is about 120. At the same time, within the fork, the result is significantly more stable than between the forks.  Are you starting to feel the meaninglessness of the task?  What kind of performance difference can you ask, if you restart the same code, you find that it works three times slower.  JIT often throws such tricks.  It will be unpleasant if you draw conclusions based on an experiment in which you were just lucky and JIT made a successful decision, which it takes in one case out of ten.  As a rule, I do not make less than three forks and if I notice a suspicious difference in speed, I increase their number in order to study the phenomenon in more detail. </p><br><p>  However, after examining the conclusion, I can say with confidence that even the slowest parallel fork is not worse than the fastest sequential fork.  This means that the third option can win, although according to the authors, this is ‚Äúthe obvious wrong answer.‚Äù </p><br><p>  The attentive reader will say: let me, what is Java 9?  The terms were Java 1.8.0_161.  Yes, the remark is correct: I really use features here, which appeared only in the nine: <a href="https://bugs.openjdk.java.net/browse/JDK-8158365">List.spliterator should optimize for RandomAccess lists</a> .  In Java 8, the default splitter implementation for the list is more stupid, and paralleling is much worse (and there is nothing to use outdated Java versions!) Therefore, with this code in Java 8, we hardly get any growth.  But this does not make our reasoning fundamentally wrong, you just need to write a little more code.  Writing a full-fledged good splitter is quite long, but in some cases (including here) you can skal and instead implement the <code>stream()</code> and <code>parallelStream()</code> methods again: </p><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyList</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AbstractList</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Integer</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RandomAccess</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Integer </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> index)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   checkIndex   Java 8 :-( if(index &lt; 0 || index &gt;= size) throw new IndexOutOfBoundsException(); ...      ... } @Override public int size() { return size; } @Override public Stream&lt;Integer&gt; stream() { return IntStream.range(0, size).mapToObj(this::get); } @Override public Stream&lt;Integer&gt; parallelStream() { return stream().parallel(); } }</span></span></code> </pre> <br><p>  This is not considered cheating.  For example, the stream for the list returned by <code>Collections.nCopies</code> <a href="">implemented in a</a> similar way.  If I make my list, which is planned to be used as a source of parallel stream, then, of course, I have to take care that it is normally parallel. </p><br><p>  The results are quite expected: </p><br><pre> <code class="java hljs"># JMH version: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM version: JDK <span class="hljs-number"><span class="hljs-number">1.8</span></span>.0_161, VM <span class="hljs-number"><span class="hljs-number">25.161</span></span>-b12 # VM invoker: C:\Program Files\Java\jre1.8.0_161\bin\java.<span class="hljs-function"><span class="hljs-function">exe </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Benchmark</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(size)</span></span></span><span class="hljs-function"> Mode Cnt Score Error Units testForEach 100 avgt 50 134,974 ¬± 2,900 us/op testForEach 10000 avgt 50 13075,674 ¬± 332,211 us/op testForEach 1000000 avgt 50 1315215,358 ¬± 9702,119 us/op testParallelStreamForEach 100 avgt 50 113,029 ¬± 1,934 us/op testParallelStreamForEach 10000 avgt 50 9711,281 ¬± 113,490 us/op testParallelStreamForEach 1000000 avgt 50 1002479,362 ¬± 11129,949 us/op testStreamForEach 100 avgt 50 134,033 ¬± 2,806 us/op testStreamForEach 10000 avgt 50 13247,368 ¬± 273,218 us/op testStreamForEach 1000000 avgt 50 1320319,189 ¬± 16277,564 us/op</span></span></code> </pre> <br><p>  And here the parallel stream wins.  By the way, in the eight the results are much more stable.  Probably, in the nine something broke in the JIT compiler.  Interestingly, Java 10 is also stable and faster than Java 8. </p><br><p>  The conclusion can be drawn as follows.  Speed ‚Äã‚Äã- too thin area to make it a reliable puzzle.  As a last resort, you can formulate the task not ‚Äúwhich is faster‚Äù, but ‚Äúexplain the effect‚Äù, as, for example, did <a href="https://habrahabr.ru/users/apangin/" class="user_link">apangin</a> in the <a href="https://habrahabr.ru/company/jugru/blog/255951/">old competition</a> (see the second question).  And with the Stream API in general, everything is not easy, there are too many free variables and subtle effects to say something definitely.  It is better to invent tasks for correctness and semantics, everything is much more strict there. </p><br><p>  I look forward to parsing the remaining tasks from SKB Kontur! </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/350808/">https://habr.com/ru/post/350808/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../350798/index.html">FastTrack Training. "Network Basics". "The value of Cisco routers." Eddie Martin December 2012</a></li>
<li><a href="../350800/index.html">Analysis of performance tasks with JBreak (part 1)</a></li>
<li><a href="../350802/index.html">Parsing proposals for Russian language patterns</a></li>
<li><a href="../350804/index.html">Blockchain on Go. Part 2: Proof-of-Work</a></li>
<li><a href="../350806/index.html">About machine learning, history and life with Dmitry Vetrov</a></li>
<li><a href="../350810/index.html">Suspended fuel tanks for aircraft</a></li>
<li><a href="../350816/index.html">New API React: Suspense (ru subtitles, from Dan's speech on JS Conf)</a></li>
<li><a href="../350818/index.html">How to increase network bandwidth in the data center: a new PSE-3 chip is introduced</a></li>
<li><a href="../350820/index.html">Copying data from a website using R and the rvest library</a></li>
<li><a href="../350822/index.html">How I was looking for a job in Singapore</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>