<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Tips & tricks CakePHP</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For those who have already managed to get acquainted with the framework. 


 Flexible link management 
 By default, when searching for all representat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Tips & tricks CakePHP</h1><div class="post__text post__text-html js-mediator-article">  For those who have already managed to get acquainted with the framework. <br><a name="habracut"></a><br><br><h1>  Flexible link management </h1><br>  By default, when searching for all representatives of a model, Cake searches for all its associated submodels.  This is often inconvenient, since the number of requests increases dramatically, like the number of useless information.  This, of course, can be solved by standard means, such as $ this-&gt; recursive in the amount of the required search sublevels (up to 3 by default), but this often does not help, because  It happens that some submodels are needed, but not all.  In this case, the convenient expects function, which works directly in the model, will help. <br>  <a href="http://bakery.cakephp.org/articles/view/an-improvement-to-unbindmodel-on-model-side">Instruction</a> <br>  It is very convenient to use. <br>  For example: <br><blockquote>  $ this-&gt; Post-&gt; Author-&gt; expects (); <br>  $ this-&gt; Post-&gt; Category-&gt; expects (); <br>  $ this-&gt; Post-&gt; PostDetail-&gt; expects (array ('PostExtendedDetail', 'PostAttachment')); <br></blockquote><br><br>  And you can immediately: <br><blockquote>  $ this-&gt; Post-&gt; expects ('Author.Author', 'Category.Category', <br>  'PostDetail.PostExtendedDetail', 'PostDetail.PostAttachment'); <br></blockquote><br><h1>  Tag Cloud </h1><br>  It would seem a trivial task.  Let's try to do it in CakePHP terms. <br>  It is clear that a tag cloud (for example, tagcloud) should exist, as the Tags controller action, the latter will perform other tasks in the future.  On the other hand, this action has no standard view, since  This is the layout of the entire page.  Those.  global view. <br>  Here the concept of the Element will help us.  An element is a view that is called from page to page, most often in layout.  What we need.  Therefore, in the elements folder we create a tagcloud.ctp template with the text: <br><blockquote>  $ tags = $ this-&gt; requestAction ('tags / cloud'); <br></blockquote><br>  So  we got an array of tags and in the same template now we can somehow equip the cloud;) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Now go to layouts / default.thtml and in the required place on the page insert the following line: <br><blockquote>  echo $ this-&gt; renderElement ('tagcloud'); <br></blockquote><br>  That's all.  Now our template will be printed with a tag cloud;) <br><h1>  Cache in CakePHP 1.2 </h1><br>  Yes, it's just unbelievable!  In the latest version of CakePHP, working with caching was not easy, but very simple!  Currently supported: APC, File, Memcache, Model and XCache.  The simplest and most convenient is File.  It's simple, in the tmp folder a file with the specified name is created.  In addition, the creation of its own caching system is supported. <br>  So, activate Cache.  For this in the file with the core.php settings we will write: <br><blockquote>  $ cakeCache = array ('File'); <br></blockquote><br>  or for example <br><blockquote>  $ cakeCache = array ('Memcache'); <br></blockquote><br>  Remember that you must have Memcached installed!  For experiments in Windows, you can install <a href="http://jehiah.cz/projects/memcached-win32/">this version</a> . <br>  Further is still easier!  Regardless of the name of the caching system, we use the following commands in the controller: <br><blockquote>  Cache :: write ($ key, $ data, '+1 week'); <br></blockquote><br>  For reading <br><blockquote>  Cache :: read ($ key); <br></blockquote><br>  If there is no such key in the cache, then read returns false: <br><blockquote>  $ users = Cache :: read ($ key); <br>  if ($ users === false) { <br>  $ users = $ this-&gt; User-&gt; findAll (); <br>  Cache :: write ($ key, $ users); <br>  } <br></blockquote><br>  Removal or complete cleaning: <br><blockquote>  Cache :: delete ($ key); <br>  Cache :: clear (); <br></blockquote><br><h1>  Validation in CakePHP 1.2 </h1><br>  Validation has also become easier.  For some typical cases, you no longer need to use regular expressions. <br>  A general view of the validation rules is as follows: <br><blockquote>  var $ validate = array ('field' =&gt; array ('rule' =&gt; array ('validationmethod', 'param1', 'param2'))); <br></blockquote><br>  For example, numbers and numbers: <br><blockquote>  var $ validate = array ('username' =&gt; array ('rule' =&gt; array ('alphaNumeric'))); <br></blockquote><br>  Field length <br><blockquote>  var $ validate = array ('username' =&gt; array ('rule' =&gt; array ('between', 3, 10))); <br></blockquote><br>  Comparison with number or word: <br><blockquote>  var $ validate = array ('age' =&gt; array ('rule' =&gt; array ('comparison', 'greater or equal', 18))); <br></blockquote><br>  Date: <br><blockquote>  var $ validate = array ('startdate' =&gt; array ('rule' =&gt; array ('date', 'ymd'))); <br></blockquote><br>  rule can be turned into an array of similar rules to extend the check. <br>  Read more about the rules <a href="http://cakebaker.42dh.com/2007/01/03/validation-with-cakephp-12/">here.</a> <br><h1>  Ajax Pagination 1.2 </h1><br>  1.2 has built-in support for paging using Ajax.  Consider an example for the action of a controller: <br><blockquote>  $ this-&gt; paginate ['User'] = array ('limit' =&gt; 10); <br>  $ records = $ this-&gt; paginate ('User'); <br>  $ this-&gt; set ('records', $ records); <br>  $ params ['url'] = $ id; <br>  $ this-&gt; set ('paginator_params', $ params); <br></blockquote><br>  Everything is very simple.  Create a paginate object with a User element that we want to paginate.  Then we call the paginate function.  If we want to pass some additional parameters via an Ajax request, then we do this in paginator_params. <br>  In view we do this: <br><blockquote>  &lt;? php $ paginator-&gt; options (array ('update' =&gt; 'comment-content', 'indicator' =&gt; <br>  'notification'));  ?&gt; <br>  <b>Navigation</b> : <br>  &lt;? php echo $ paginator-&gt; prev ('&lt;&lt; Back', (isset ($ paginator_params) <br>  ?  $ paginator_params: null), null, array ('class' =&gt; 'disabled'));  ?&gt; <br><br>  &lt;? php echo $ paginator-&gt; next ('Forward &gt;&gt;', (isset ($ paginator_params)? <br>  $ paginator_params: null), null, array ('class' =&gt; 'disabled'));  ?&gt; <br>  <b>Pages:</b> <br>  &lt;? php echo $ paginator-&gt; counter (array ('separator' =&gt; 'from')); <br></blockquote><br>  Actually, everything.  You only need to create the HTML element comment-content, which will be updated with the new Pagination page. <br><h1>  Months in Russian form </h1><br>  $ form-&gt; month ('Model') by default displays months in English.  Months are taken from the locale, because in order to display the Russian version you need to do something like this: <br><blockquote>  setlocale (LC_TIME, 'rus'); <br></blockquote><br>  Attention: in Windows, this option will give CP1251 encoding.  Therefore, if you have a UTF-8 site, then you must either have a locale on the ru_RU.UTF8 server (users Linux, hello!), Or convert this $ form-&gt; month using iconv.  Or create your $ form-&gt; select;) <br><br>  <b>PS</b> In the near future it is planned to open a <a href="http://www.knigivruki.ru/">social network</a> written on the basis of CakePHP, therefore it is possible to open a blog that would write about everything related to the development on this framework. </div><p>Source: <a href="https://habr.com/ru/post/13146/">https://habr.com/ru/post/13146/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../131454/index.html">OS X Lion and iMessage</a></li>
<li><a href="../131456/index.html">Online store miniShop for MODX Revolution</a></li>
<li><a href="../131457/index.html">Android vs. iOS. Safety issue</a></li>
<li><a href="../131458/index.html">Sowill OiOi S7 - another Chinese tablet</a></li>
<li><a href="../131459/index.html">Ice Cream Sandwich Day</a></li>
<li><a href="../131460/index.html">The first event on 3D printing in the Netherlands</a></li>
<li><a href="../131463/index.html">Apple still received a patent for a screen unlock gesture</a></li>
<li><a href="../131464/index.html">YouTube is about to launch 100 premium channels.</a></li>
<li><a href="../131466/index.html">OpenStreetMap to help cyclists</a></li>
<li><a href="../131467/index.html">Google+ merged with Google Apps</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>