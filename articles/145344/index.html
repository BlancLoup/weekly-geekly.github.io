<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We ask the user to report the fall of the site</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Not so long ago, an article Monitoring a site using Google Docs appeared on the website . The essence of which was that Google Docs created a document...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We ask the user to report the fall of the site</h1><div class="post__text post__text-html js-mediator-article">  Not so long ago, an article <a href="http://habrahabr.ru/post/141686/">Monitoring a site using Google Docs</a> appeared on the <a href="http://habrahabr.ru/post/141686/">website</a> .  The essence of which was that Google Docs created a document with a script that periodically polls the site for availability and sends a letter to the owner in case of a fall. <br><br>  This is an interesting solution, but there are some problems in the field.  My caching in nginx is configured so that it can issue pages from the cache for days when php is dropped.  So, the survey of the main page of the site does not provide special interest, in contrast to the internal pages. <br><br><a name="habracut"></a><br><h5>  Event in Google Analytics </h5><br>  The first solution was to introduce Google Analytics code into the 50x error page and set up email notifications when a certain event was triggered. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <br><br>  After seconds, event is sent to Google Analytics and after a while you can view all the error information: url, input source, parameters, etc.  The problem is only one, the event report is sent the next day.  If the site really fell, then this waiting time is unacceptable. <br><img src="https://habrastorage.org/storage2/32d/334/06d/32d33406db816e3016299ee86f9dccf9.png"><br><br><h5>  Events right from the browser </h5><br>  I decided to dig in the direction of the fact that on the client side (in the browser) certain actions are performed, as a result of which I receive a quick notification by mail. <br><br>  Having rummaged in Javascript and Flash found that you need to send a letter <br><ul><li>  or provide server-side processing - which is impossible, based on the assumption about the fall of everything except nginx </li><li>  or ask the user to send a letter in handles - thus ‚Äúfiring‚Äù his and his mailing address </li></ul><br><br><h5>  Google Forms </h5><br>  The solution came unexpectedly - to build in the questionnaire from Google. <br><ol><li>  Create a new questionnaire with a minimum of questions.  I have a mandatory tick "Report a problem" and an optional field with a comment </li><li>  Insert embed code into static error page. </li><li>  Go to the properties of the survey and set instant notification of any change. </li></ol><br><br>  User sees error message and tell button <br><br><img src="https://habrastorage.org/storage2/f96/5f2/776/f965f27768777daf014800b6bfe99f67.png"><br><br>  After a couple of seconds, a notification comes <br><img src="https://habrastorage.org/storage2/fcc/301/975/fcc301975f1ed16c242d65e9182c8dfd.png"><br><br>  <b>pros</b> <br>  + Does not require server side processing <br>  + Anonymity for you and the user <br>  <b>Minuses</b> <br>  - One button the user will have to press </div><p>Source: <a href="https://habr.com/ru/post/145344/">https://habr.com/ru/post/145344/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../145338/index.html">Torrent stream for ubuntu</a></li>
<li><a href="../145339/index.html">Ruby Open Air (06/16/2012) Minsk</a></li>
<li><a href="../145340/index.html">AngelScript</a></li>
<li><a href="../145341/index.html">Mobile web trends and two approaches to building mobile applications</a></li>
<li><a href="../145343/index.html">Plotting on WPF form under .NET Framework 4</a></li>
<li><a href="../145345/index.html">LinkedIn hashes base leaked?</a></li>
<li><a href="../145347/index.html">New Solar Impulse record</a></li>
<li><a href="../145349/index.html">When you type the letter ‚Äúg‚Äù first in the address bar, the browser first tells you ...</a></li>
<li><a href="../145356/index.html">Article by Adi Shamir ID-Based</a></li>
<li><a href="../145357/index.html">Padrino for frontend developer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>