<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to choose a really good hosting</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Almost on every website of developers of paid production CMS there is a section “Certified hosting providers”, or “Recommended hosting”, or simply “Ho...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">🔎</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">📜</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">⬆️</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">⬇️</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to choose a really good hosting</h1><div class="post__text post__text-html js-mediator-article">  Almost on every website of developers of paid production CMS there is a section “Certified hosting providers”, or “Recommended hosting”, or simply “Hosting”. <br><br><img src="https://habrastorage.org/storage1/bee8d665/b0954d21/cb54ee69/512fec31.jpg"><br><br>  The CMS developer verifies that the characteristics of the test rate provided by the host to the minimum technical requirements of its CMS.  Ideally, it sets its own system on this test tariff and performs basic operations. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The hosting provider falls into the list of tested (certified) hosters ... and - usually - this is where the interaction with it ends. <a name="habracut"></a><br><br>  In 2008, we followed the same path.  Some (useful - in our opinion) feature was that for the successful certification of tariffs, in addition to the actual tests, two of our online courses ( <a href="http://dev.1c-bitrix.ru/learning/course/index.php%3FCOURSE_ID%3D8">“Installation and Configuration”</a> and <a href="http://dev.1c-bitrix.ru/learning/course/index.php%3FCOURSE_ID%3D3">“Configuration”</a> ) were required by the hoster employees.  This gave our customers some guarantee that in case of any problems or issues on this particular hosting, its staff will be ready to provide the necessary assistance. <br><br>  However, at the end of 2010, we realized that it was time to change something in our partnership with hosting providers.  And that's why… <br><ul><li>  By 2010, our <a href="http://www.1c-bitrix.ru/partners/hosting.php">hosting partner catalog</a> consisted of more than 100 companies.  The catalog was a simple list, there was no rating system.  In other words, such a directory became completely useless for end customers, since it did not give any help in choosing the right host. </li><li>  There was no data update.  A simple example: hoster A created a new hosting tariff called “Bitrix”, which showed excellent performance.  Then, after six months or a year, the new servers were scored by clients in such a way that everything just barely moved ... But, unfortunately, we did not know about it. </li></ul><br>  Eliminating precisely these key flaws (as well as a few additional nice features, which are a little further) is the main goal of the new <a href="http://www.1c-bitrix.ru/partners/hosting.php">Recommended Hosting rating catalog</a> , which we opened this year. <br><br>  We want to tell you today about how we test hosting, what we pay special attention to, what you need to keep in mind when choosing a hosting service for any client. <br><ul><li>  Firstly, we have retained all the <a href="http://partners.1c-bitrix.ru/sales/competence/hosting_php.php">requirements for hosting providers</a> that existed before (compliance of tariffs with CMS technical requirements, hosting courses by hoster employees). </li><li>  Secondly, for tests of tariffs, not only is compliance with formal requirements checked now, but a live installation of the demo site is also being done in order to measure performance using the <a href="http://www.1c-bitrix.ru/products/cms/features/perfmon.php">“performance monitor”</a> . </li><li>  Thirdly, for each tariff in the catalog, re-testing is carried out every 6 months. </li></ul><br><br>  To calculate the position of the host in the ranking, we came up with the following formula: <br><br><img src="https://habrastorage.org/storage1/732641eb/de1e1a83/f0ae31f1/865b4b7c.png"><br><br>  I will dwell on it in more detail. <br><br>  With the test period - everything is clear.  The presence of a “simple installation” is the ability to install 1C-Bitrix products directly from the hosting control panel or using the pre-installed <a href="http://www.1c-bitrix.ru/download/cms.php">bitrixsetup.php</a> script. <br><br>  The main criterion for determining the position of the host in the rating was the ratio "performance / price". <br><br>  The “price” parameter was added very deliberately.  In recent years, there has been a bad practice with hosting providers: “ <i>We take standard hosting rates, tune the parameters for them a bit, add the word“ Bitrix ”and hang the price tag one and a half to two times more than usual.</i>  <i>Client bought CMS, buy and hosting!</i>  " <br><br>  This picture did not suit us, or clients, or development partners.  If the hoster has allocated a special.  tariffs separate equipment, made the necessary settings, places not too many accounts on each server - in this case the increased price (for quality and comfort) is justified.  Just for the name (without differences from standard tariffs) - no. <br><br>  If everything is simple and clear with the “measurement” of prices, then with “performance” everything is not too obvious.  I will tell about it in detail. <br><br>  For measurements, we use the capabilities of the standard module of the 1C-Bitrix platform - <a href="http://www.1c-bitrix.ru/products/cms/features/perfmon.php">“Performance Monitor”</a> . <br><br><img src="https://habrastorage.org/storage1/e7ce60af/fa92903c/e8fac4ca/b85d85ff.png"><br><br>  The “Configuration” tab is responsible for diagnosing the hosting or server and server software settings, the “Bitrix” tab - those settings of the platform itself that can affect performance, “Development” - the quality of the developer code, “Scalability” - a simple built-in tool for carrying out the simplest workloads tests. <br><br>  The most interesting section for us is “Configuration”.  That we used them, testing hosters. <br><br>  One of the most frequent questions that we had to answer: “ <i>How can we believe your measurer, if she measures her performance in some incomprehensible“ parrots ”?</i>  <i>Why do we have low numbers on powerful hardware?</i>  <i>Your formula is lying!</i>  " <br><br>  And here I am debunking one of the most ancient myths.  It consists in the fact that there is a certain magic secret formula that slyly multiplies different figures from the table (number of file operations, CPU, database operations, etc.) and gives the final result number. <br><br>  <b>There is no such formula!</b>  :) <br><br>  <b>How performance monitor works</b> <br><br>  We request several times (10, to be exact) a certain system page on which only the core of the product is loaded.  According to the results of 10 measurements, we estimate the average time of generation of this page (it is the server, and not the time of the page transfer to the client).  This figure is the "average response time."  And the total index is the reciprocal.  In our case, 1 / 0.0137.  In other words, 72 “empty” (only with the kernel) pages can be generated on our test hosting in 1 second. <br><br>  It is this value that is important, because for the client it matters exactly how fast his site opens (pages are generated), and not every parameter separately.  They are indicated rather so that the system administrator (or even just an experienced user) can quickly and easily determine where the bottlenecks are in his system. <br><br>  (You <a href="http://dev.1c-bitrix.ru/community/blogs/howto/2188.php">can read</a> more about the performance of the performance monitor <a href="http://dev.1c-bitrix.ru/community/blogs/howto/2188.php">in the blog of Denis Sharomov</a> , Head of Technical Support Service, 1C-Bitrix) <br><br>  With the formula sorted out and go back to our tests. <br><br>  The experience of testing several dozens (already close to hundreds) of hosting sites showed an interesting picture: fortunately, hosts do not often save on equipment, but, unfortunately, very often they are “pulled” by the historical legacy of old configurations and suboptimal hosting structures.  “Newbies” of the market, too, unfortunately, very often do not give maximum performance and make the same typical mistakes. <br><br>  I wanted to draw attention to some of them.  I think it will be useful for those who carefully choose hosting, testing different options. <br><br>  <b>PHP as CGI</b> <br><br>  PHP running as CGI (not FastCGI!) Is a terrible atavism.  This should not be. <br><br>  What is such a bad scheme.  If in a nutshell - for each appeal to the php-script, a new PHP interpreter process is launched.  All this works very slowly, the performance of the site (of any site written in PHP, not only on the 1C-Bitrix platform) will be extremely low. <br><br>  Fortunately, such configurations are encountered less and less (in the past six months in real life we ​​have not encountered this), but, nevertheless, still exist. <br><br>  <b>Enabled <a href="http://www.php.net/manual/en/ini.core.php">open_basedir</a> parameter in PHP configuration</b> <br><br>  Probably everyone knows what this parameter is responsible for - it limits the "scope" of files and directories with which PHP can operate. <br><br>  Many hosters include this option on shared shared hosting in order to ensure the security of user data (restricting access by other users on the same server). <br><br>  But not everyone knows that the inclusion of this parameter reduces the performance of PHP by 10-40%, and on loaded systems (especially with a large number of disk operations) - up to 2-3 times! <br><br><img src="https://habrastorage.org/storage1/1aad417a/9f14cb85/d81bf565/841befb2.png"><br><br>  See, here is the same server that ran the test shown above, but only with open_basedir enabled.  The speed of page generation decreased by almost one and a half times.  We see that the PHP configuration is marked "non-optimal", and under the link "recommendations" you can read in detail about exactly where the problems arise. <br><br>  We are lucky, on this particular hosting we can manage this parameter in PHP.  And on many hosting companies this is not disconnected under any circumstances. <br><br>  Many hosters object to us: “ <i>Well, you know, it’s impossible to disable it on shared hosting ... Otherwise there will be security problems.</i>  " <br><br>  This statement is incorrect.  You can balance the security and performance with a variety of methods: starting with launching personal copies of the web server (for example, the same Apache) for different users, ending with using FastCGI via php-fpm.  By the way, different hosters in our rating use the one and the other option. <br><br>  I note once again: this feature of open_basedir is inherent in PHP in general and in all projects written in this language, and not just the 1C-Bitrix platform (try searching, for example, in Google “ <i>open_basedir performance</i> ”).  If your site is on WordPress, Joomla, Drupal and any other CMS in PHP - pay attention to this. <br><br>  <b>PHP precompiler not installed</b> <br><br>  Another enemy of performance is the lack of a pre-compiler for PHP on the hosting.  There are quite a lot of them (APC, eAccelerator, XCache, etc.), and they all do about the same work - they speed up the work of PHP by precompiling the interpreted code.  Depending on the specific precompiler, its settings (for example, the amount of available memory), the project code, the performance increase can reach several times. <br><br>  We will again torture our test hosting, remove the open_basedir included in the previous test and disable the precompiler for a while. <br><br>  Fortunately for us, we perform all these operations on the hosting, where we can all set up “the way we need” and eventually get a good (fast!) Hosting.  On many hosts, unfortunately, the set of user-changeable options is strictly fixed, and it is not possible to achieve good results (except for how to change hosting). <br><br>  Let's go back to the numbers: <br><br><img src="https://habrastorage.org/storage1/d4038fd0/3e2755aa/a666d94d/301f9d43.png"><br><br>  Pay attention, server parameters (CPU, disk operations), databases practically do not change (naturally!), And, here, the correct configuration of PHP solves everything. <br><br>  Of course, we have listed far from all the things that affect performance.  In addition to the actual PHP settings, a lot of the base configuration parameters, properly configured web server settings, a well-designed two-tier (frontend + backend) architecture matter ... <br><br>  There are hosting (unfortunately, absolutely real), on which everything is just bad, and then it turns out this “thrash and waste”: <br><br><img src="https://habrastorage.org/storage1/ccb94cee/65296940/4cae515b/343332d6.png"><br><br>  And on a good powerful hardware, fast SAS disks, and with proper settings - the site just “flies” (screenshot from a real, not “spherical in vacuum” shared hosting): <br><br><img src="https://habrastorage.org/storage1/7f025929/a2af4910/1e3f1405/d2c1caf4.png"><br><br>  * * * <br><br>  Another aspect that, although not described in the <a href="http://partners.1c-bitrix.ru/sales/competence/hosting_php.php">formal requirements for hosters</a> who want to be certified by 1C-Bitrix, but which we definitely pay attention to is <b>security</b> .  Frankly "holey" hosting never get our badges "Certified hosting" and "Recommended hosting." <br><br><img src="https://habrastorage.org/storage1/ba1ed169/ec56a0ff/6dd000e8/829fc9b6.gif"><br><br>  The most common problem - open_basedir was turned off, but no other means of isolating users was invented.  What is the result: all hosting clients work with the same web server, the processes of which are running under one system user (sometimes it happens even root). <br><br>  As a result, each user can "see" not only their files and directories, but also the data of other users. <br><br>  The simplest checks can be performed in the 1C-Bitrix administration interface: <br><br><img src="https://habrastorage.org/storage1/38b19ce5/2ed30cbe/443a9cb9/401afa10.png"><br><br>  Of course, we didn’t find such blatant “holes” among the major well-known hosters, but among those who have several dozens / hundreds of customers - very often. <br><br>  Be careful and vigilant when choosing a hosting. <br><br>  And if the problem described above is quite typical, then there are so careless "hosters" who are genuinely surprised how they could attract at least one client. <br><br>  A couple of the most vivid examples in our memory. <br><br>  <b>Hoster U</b> (because in Ukraine) <br><br>  We received a test account, set up a demo site - an online store for the Small Business editorial staff (we are testing all hosting sites for consistency with this edition).  We made “ <i>ls –la / tmp</i> ” through the web interface ... and saw several dozen files of the form “ <i>login.txt</i> ” in which all the access parameters for FTP, SSH, MySQL of all hosting users were stored. <br><br>  <b>Hoster K</b> (in Kazakhstan). <br><br>  Standard procedure, test account.  Everything is not bad with performance and (at first glance) with security. <br><br>  The tests have finished, moved to the site of the host itself ... And they found out that the top administrative panel of Bitrix remained above it. <br><br>  As it turned out, the site was hosted on our platform.  And it was configured so crookedly that it saved authorization data from subdomains (where the test account was) on the main site. <br><br>  * * * <br><br>  I deliberately do not indicate in the text the names of specific hosting sites (perhaps I can give some specific recommendations in person). <br><br>  There is no purpose to blacken this or that company.  The task is to show how many nuances await those who come to the question of choosing a hosting seriously, and does not act at random (although here it may be lucky;)). <br><br>  At the same time, I hope <a href="http://www.1c-bitrix.ru/partners/hosting.php">our rating</a> can actually help customers make a choice taking into account the most different parameters of hosting - performance, speed of sites on it, cost of the tariff, availability of a test period, convenience of work. <br><br>  At the same time, we offer hosters a clear and transparent ranking scheme in the ranking.  Thus - we give everyone equal opportunity to be in the top.  And thus - it is very effective (including through our promotion) to attract new hosting clients!  As our statistics show, in one week up to a thousand clicks are made from the pages of the ranking to the sites of hosters.  These are almost complete customers.  :) <br><br>  We will actively develop our rating of hosters and, I hope, with time we will make an excellent objective rating of hosting in general, and not just “special for bitrix”.  Why not?  :) <br><br>  <i>Sincerely, Alexander Demidov</i> <i><br></i>  <i>Head of Rental Solutions "1C-Bitrix"</i> </div><p>Source: <a href="https://habr.com/ru/post/126914/">https://habr.com/ru/post/126914/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../126908/index.html">Navalny presented the official iOS application for RosYam</a></li>
<li><a href="../126910/index.html">jsFiddle - what kind of beast?</a></li>
<li><a href="../126911/index.html">Amazon ElastiCache: Implementing Memcached in the AWS Cloud</a></li>
<li><a href="../126912/index.html">JUnit 4.9 unreleased</a></li>
<li><a href="../126913/index.html">SumIT: Public projects</a></li>
<li><a href="../126915/index.html">Creative advertising to find programmers</a></li>
<li><a href="../126916/index.html">A full build of Chromium WebKit for Android is being created.</a></li>
<li><a href="../126918/index.html">Subjective review of mobile Internet in Taiwan: 3G + WiFi + WiMax</a></li>
<li><a href="../126919/index.html">Beeline and Opera Mini: second part. Well, as if an open letter</a></li>
<li><a href="../126921/index.html">And again Good Modding,% username%!</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>