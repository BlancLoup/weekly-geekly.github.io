<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Script for adding service packs to a Windows image</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article is a logical continuation of my previous article. Developing the theme of adding (installing / integrating) service packs into a Windows ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Script for adding service packs to a Windows image</h1><div class="post__text post__text-html js-mediator-article">  This article is a logical continuation of my <a href="https://habrahabr.ru/post/340876/">previous</a> article.  Developing the theme of adding (installing / integrating) service packs into a Windows image I decided to write a script operating with <b>DISM</b> commands that automates the process and relieves system administrators from routine actions.  <b>The versatility of the</b> script is that with its help, you can install service packs on a ‚Äúlive‚Äù system, or integrate it into a Windows image ‚Äî the <i>install.wim</i> file.  <b>The flexibility of the</b> script is that its work can be customized by changing the value of several variables at the beginning of the whole code. <br><a name="habracut"></a><br>  As in the previous article, for example, we will add the so-called <b>Convenience rollup update</b> (KB3125574) to the Windows image, as well as the necessary <b>Servicing stack update</b> (KB3177467).  During the work on the script, it turned out that after integration into the image KB3177467, it (the image - <i>install.wim</i> ) becomes unsuitable for further integrations.  If you install KB3177467 on a ‚Äúlive‚Äù OS, then there are no problems.  This problem has two solutions: 1) integrate KB3177467 with the latest 2) replace the ‚Äúproblem‚Äù update with its previous version - KB3020369.  I chose the second option by implementing a branch in the script by condition. <br><br><h2>  Script </h2><br><pre><code class="dos hljs">@<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> off <span class="hljs-built_in"><span class="hljs-built_in">Title</span></span> Convenience Rollup - most important updates after SP1 <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> _arch=x64 <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> _file=install.wim <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> _img=Online <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> _mnt=mount <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> _lev=<span class="hljs-number"><span class="hljs-number">2</span></span> :pre_menu <span class="hljs-built_in"><span class="hljs-built_in">cls</span></span> dism /Get-WimInfo /LogLevel:<span class="hljs-variable"><span class="hljs-variable">%_lev%</span></span> /WimFile:<span class="hljs-variable"><span class="hljs-variable">%_file%</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> ------------------------------------------------------------------------------- <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-variable"><span class="hljs-variable">%ERRORLEVEL%</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NEQ</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-variable"><span class="hljs-variable">%ERRORLEVEL%</span></span> <span class="hljs-keyword"><span class="hljs-keyword">EQU</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> :bit) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">pause</span></span> &amp; <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> /p _ind=Input index or press [Enter] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> quit: || <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-variable"><span class="hljs-variable">%_ind%</span></span> <span class="hljs-keyword"><span class="hljs-keyword">EQU</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> :bit <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-variable"><span class="hljs-variable">%_ind%</span></span> <span class="hljs-keyword"><span class="hljs-keyword">GTR</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-variable"><span class="hljs-variable">%_ind%</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LEQ</span></span> <span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> :ind_menu <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> :pre_menu :ind_menu <span class="hljs-built_in"><span class="hljs-built_in">cls</span></span> dism /Get-WimInfo /LogLevel:<span class="hljs-variable"><span class="hljs-variable">%_lev%</span></span> /WimFile:<span class="hljs-variable"><span class="hljs-variable">%_file%</span></span> /Index:<span class="hljs-variable"><span class="hljs-variable">%_ind%</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> ------------------------------------------------------------------------------- <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-variable"><span class="hljs-variable">%ERRORLEVEL%</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NEQ</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">pause</span></span> &amp; <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> :pre_menu choice /c abcdefghijklmnopqrstuvwxyz /n /m "Mount selected image? [m] " <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-variable"><span class="hljs-variable">%ERRORLEVEL%</span></span> <span class="hljs-keyword"><span class="hljs-keyword">EQU</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span> <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> :mount <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> :pre_menu :bit <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-variable"><span class="hljs-variable">%_img%</span></span>==Online (<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> "<span class="hljs-variable"><span class="hljs-variable">%PROCESSOR_ARCHITECTURE%</span></span>" == "x86" <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">defined</span></span> PROCESSOR_ARCHITEW6432 <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> _arch=x86)^ <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> (dism /Get-WimInfo /LogLevel:<span class="hljs-variable"><span class="hljs-variable">%_lev%</span></span> /WimFile:<span class="hljs-variable"><span class="hljs-variable">%_file%</span></span> /Index:<span class="hljs-variable"><span class="hljs-variable">%_ind%</span></span> /English | <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> "Architecture : x86" &gt; <span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> _arch=x86) <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> :add :add <span class="hljs-built_in"><span class="hljs-built_in">cls</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> Getting packages list. Please wait... dism /<span class="hljs-variable"><span class="hljs-variable">%_img%</span></span> /Get-Packages /LogLevel:<span class="hljs-variable"><span class="hljs-variable">%_lev%</span></span> /English &gt; <span class="hljs-variable"><span class="hljs-variable">%TEMP%</span></span>\packages.txt <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> ------------------------------------------------------------------------------- <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-variable"><span class="hljs-variable">%_img%</span></span>==Online ( <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> Add: Servicing stack update KB3020369 <span class="hljs-keyword"><span class="hljs-keyword">call</span></span> :<span class="hljs-keyword"><span class="hljs-keyword">exist</span></span> .\<span class="hljs-variable"><span class="hljs-variable">%_arch%</span></span>\Windows6.<span class="hljs-number"><span class="hljs-number">1</span></span>-KB3020369-<span class="hljs-variable"><span class="hljs-variable">%_arch%</span></span>.cab ||^ dism /<span class="hljs-variable"><span class="hljs-variable">%_img%</span></span> /Add-Package /LogLevel:<span class="hljs-variable"><span class="hljs-variable">%_lev%</span></span> /PackagePath:.\<span class="hljs-variable"><span class="hljs-variable">%_arch%</span></span>\Windows6.<span class="hljs-number"><span class="hljs-number">1</span></span>-KB3020369-<span class="hljs-variable"><span class="hljs-variable">%_arch%</span></span>.cab /NoRestart <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> ------------------------------------------------------------------------------- ) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> ( <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> Add: Servicing stack update KB3177467 <span class="hljs-keyword"><span class="hljs-keyword">call</span></span> :<span class="hljs-keyword"><span class="hljs-keyword">exist</span></span> .\<span class="hljs-variable"><span class="hljs-variable">%_arch%</span></span>\Windows6.<span class="hljs-number"><span class="hljs-number">1</span></span>-KB3177467-<span class="hljs-variable"><span class="hljs-variable">%_arch%</span></span>.cab ||^ dism /<span class="hljs-variable"><span class="hljs-variable">%_img%</span></span> /Add-Package /LogLevel:<span class="hljs-variable"><span class="hljs-variable">%_lev%</span></span> /PackagePath:.\<span class="hljs-variable"><span class="hljs-variable">%_arch%</span></span>\Windows6.<span class="hljs-number"><span class="hljs-number">1</span></span>-KB3177467-<span class="hljs-variable"><span class="hljs-variable">%_arch%</span></span>.cab /NoRestart <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> ------------------------------------------------------------------------------- ) <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> Add: Convenience rollup update KB3125574 <span class="hljs-keyword"><span class="hljs-keyword">call</span></span> :<span class="hljs-keyword"><span class="hljs-keyword">exist</span></span> .\<span class="hljs-variable"><span class="hljs-variable">%_arch%</span></span>\Windows6.<span class="hljs-number"><span class="hljs-number">1</span></span>-KB3125574-v4-<span class="hljs-variable"><span class="hljs-variable">%_arch%</span></span>.cab ||^ dism /<span class="hljs-variable"><span class="hljs-variable">%_img%</span></span> /Add-Package /LogLevel:<span class="hljs-variable"><span class="hljs-variable">%_lev%</span></span> /PackagePath:.\<span class="hljs-variable"><span class="hljs-variable">%_arch%</span></span>\Windows6.<span class="hljs-number"><span class="hljs-number">1</span></span>-KB3125574-v4-<span class="hljs-variable"><span class="hljs-variable">%_arch%</span></span>.cab /NoRestart <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> ------------------------------------------------------------------------------- <span class="hljs-built_in"><span class="hljs-built_in">del</span></span> <span class="hljs-variable"><span class="hljs-variable">%TEMP%</span></span>\packages.txt <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">exist</span></span> <span class="hljs-variable"><span class="hljs-variable">%_file%</span></span> <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span> <span class="hljs-built_in"><span class="hljs-built_in">pause</span></span> <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> :unmount :<span class="hljs-keyword"><span class="hljs-keyword">exist</span></span> dism /<span class="hljs-variable"><span class="hljs-variable">%_img%</span></span> /Get-PackageInfo /LogLevel:<span class="hljs-variable"><span class="hljs-variable">%_lev%</span></span> /PackagePath:%<span class="hljs-number"><span class="hljs-number">1</span></span> /English | <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> "Package Identity" | <span class="hljs-built_in"><span class="hljs-built_in">findstr</span></span> /g:/ <span class="hljs-variable"><span class="hljs-variable">%TEMP%</span></span>\packages.txt &gt; <span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span> /b :mount <span class="hljs-built_in"><span class="hljs-built_in">cls</span></span> <span class="hljs-built_in"><span class="hljs-built_in">md</span></span> <span class="hljs-variable"><span class="hljs-variable">%_mnt%</span></span> dism /Mount-Wim /LogLevel:<span class="hljs-variable"><span class="hljs-variable">%_lev%</span></span> /WimFile:<span class="hljs-variable"><span class="hljs-variable">%_file%</span></span> /Index:<span class="hljs-variable"><span class="hljs-variable">%_ind%</span></span> /MountDir:<span class="hljs-variable"><span class="hljs-variable">%_mnt%</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-variable"><span class="hljs-variable">%ERRORLEVEL%</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NEQ</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">rd</span></span> <span class="hljs-variable"><span class="hljs-variable">%_mnt%</span></span> &amp; <span class="hljs-built_in"><span class="hljs-built_in">pause</span></span> &amp; <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> _img=Image:<span class="hljs-variable"><span class="hljs-variable">%_mnt%</span></span> <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> :bit :unmount <span class="hljs-built_in"><span class="hljs-built_in">cls</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-variable"><span class="hljs-variable">%_img%</span></span>==Online ( dism /Unmount-Wim /LogLevel:<span class="hljs-variable"><span class="hljs-variable">%_lev%</span></span> /MountDir:<span class="hljs-variable"><span class="hljs-variable">%_mnt%</span></span> /Commit <span class="hljs-built_in"><span class="hljs-built_in">rd</span></span> <span class="hljs-variable"><span class="hljs-variable">%_mnt%</span></span> ) <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> _arch=x64 <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> _img=Online <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> :pre_menu</code> </pre> <br><blockquote><h2>  Files and folders </h2><br>  I don‚Äôt attach update package files here, as those listed in the script are taken for sample.  At the location of the script, <i>x64</i> and <i>x86</i> folders should be created in which you need to place the necessary update packages.  The script file itself can be saved in <b>ANSI</b> encoding if you do not use the Cyrillic alphabet to display informational messages.  And if you want to see the Russian text, then you need to save the cmd-file in the <b>OEM</b> encoding <b>866</b> . </blockquote><br><h2>  Using </h2><br>  As already noted, the script can install updates or integrate them.  If there is no <i>install.wim</i> image file in the launch folder, the script performs the installation of updates in fully automatic mode.  If there is an <i>install</i> file in the startup folder, <i>install.wim</i> , then the script reads information about it from the existing "indexes" and offers to enter a number.  After that, extended information about the selected "index" is displayed, a request for mounting is issued.  Pressing any key leads to a return, and pressing the [m] key launches the following chain of actions: mounting the image, integrating updates, unmounting the image, returning to the selection menu.  Then you can choose another "index" for the integration of updates.  Selecting the "index" at number 0 starts the installation of updates on the "live" OS. <br><br><h2>  Parsing code </h2><br>  At first, the <b>set</b> command <b>sets</b> the variables.  You can change the estimated name of the <i>install.wim</i> image <i>file</i> (for example, to <i>install.esd</i> ).  You can change the name of the mount folder or set the path if the mount folder should be outside the launch folder.  You can change the logging level to exclude informational messages from the <b>DISM</b> system log file. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  : pre_menu </h3><br>  Preliminary menu.  Getting basic information about a <i>wim</i> file with error checking.  If error 2 - there is no <i>wim</i> file, then start in Online mode.  I did not find information about the maximum number of "indexes" in one image and set the value to 24. <br><br><h3>  : ind_menu </h3><br>  Index menu.  Get extended information about the selected "index" in a <i>wim</i> file with error control.  Offer to mount the "index". <br><br><h3>  : bit </h3><br>  Determining the bit OS.  For interactive maintenance, system environment variables are read, and for offline maintenance, the necessary information is requested from the image and the key string is searched for in it. <br><br><h3>  : add </h3><br>  Adding packages.  In order not to do any extra work, a list of already added (installed or integrated) packages is first requested, and then, before each start command, a pseudo-function is called to check. <br><br><h3>  : exist </h3><br>  Pseudo function check.  The work is described in the article <a href="https://habrahabr.ru/post/340876/">Checking the presence of a service pack on the system before installation</a> .  The code is slightly corrected. <br><br><h3>  : mount </h3><br>  Mounting image  Pre-created mount folder.  Error control.  The variable defining the specification of the image changes, now points to the path to the autonomous image. <br><br><h3>  : unmount </h3><br>  Unmounting an image.  If online maintenance was performed (/ Online), then it is not necessary to unmount it.  Return of variables to initial values. <br><br><h2>  Compatibility </h2><br>  The operation of this script was tested on Windows 7 with the integrated utility <b>dism.exe</b> version 6.1.7600.16385.  In versions of Windows 8, 8.1, 10, the <b>dism.exe</b> utility of the <b>DISM</b> system has a higher version.  I think backward compatibility is preserved, and the script will also work.  In addition, it will be possible to work with <i>esd-</i> files. </div><p>Source: <a href="https://habr.com/ru/post/343132/">https://habr.com/ru/post/343132/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../343118/index.html">Binary tree, fast implementation</a></li>
<li><a href="../343124/index.html">To learn to think as a programmer, you must learn to think like a non-programmer.</a></li>
<li><a href="../343126/index.html">Children - ice cream, information system - backup</a></li>
<li><a href="../343128/index.html">Full DKIM, DMARC and SPF syntax</a></li>
<li><a href="../343130/index.html">Black Friday 2017 - VDS in Moscow and Amsterdam</a></li>
<li><a href="../343136/index.html">Directional Bluetooth Beacon (iBeacon) and Full Mobile Fax</a></li>
<li><a href="../343138/index.html">Flussonic Watcher for an Internet provider</a></li>
<li><a href="../343140/index.html">SAS: we analyzed data and trained models long before it became fashionable</a></li>
<li><a href="../343142/index.html">[Poll] Your most illegal / unethical project</a></li>
<li><a href="../343144/index.html">Hik or Hack? (NOT) IoT security with the example of Hikvision IP camera</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>