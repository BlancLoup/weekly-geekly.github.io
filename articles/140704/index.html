<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating Instagram Filters with PHP and ImageMagick</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article, I will show how to create some effects on photos (like on Instagram) using PHP and ImageMagick. 

 Image Processing with PHP 

 PHP c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating Instagram Filters with PHP and ImageMagick</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/1d3/bff/e80/1d3bffe8091d6fdfb206a0729e9240d9.jpg" alt="image"><br><br>  In this article, I will show how to create some effects on photos (like on Instagram) using PHP and ImageMagick. <br><a name="habracut"></a><br><h5>  Image Processing with PHP </h5><br><br>  PHP comes bundled with GD (GIF Draw / Graphics Draw).  It is used for simple operations with images, such as resizing, cropping, adding watermarks, creating thumbnails.  Unfortunately, if you want to create something more complex with GD it will not work.  Fortunately, we have ImageMagick! 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  GD vs.  Imagemagick </h5><br><br>  Let's look at the image resize example. <br><br>  <b>GD:</b> <br><br><pre><code class="php hljs">$im = imagecreatefromjpeg(<span class="hljs-string"><span class="hljs-string">'photo.jpg'</span></span>); $ox = imagesx($im); $oy = imagesy($im); $nx = <span class="hljs-number"><span class="hljs-number">640</span></span>; $ny = <span class="hljs-number"><span class="hljs-number">480</span></span>; $nm = imagecreatetruecolor($nx, $ny); imagecopyresized($nm,$im,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,$nx,$ny,$ox,$oy); imagejpeg($nm, <span class="hljs-string"><span class="hljs-string">'photo.jpg'</span></span>);</code> </pre> <br><br>  <b>ImageMagick:</b> <br><br>  IM (abbreviated from ImageMagick) has a good shell, called Imagick - a native PHP extension for creating and editing images using the ImageMagick API.  The only disadvantage is that it is installed from <a href="http://pecl.php.net/package/imagick">PECL</a> , which can sometimes be a problem for shared hosting. <br><br><pre> <code class="php hljs">$image = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Imagick(<span class="hljs-string"><span class="hljs-string">'photo.jpg'</span></span>); $image-&gt;resizeImage(<span class="hljs-number"><span class="hljs-number">640</span></span>, <span class="hljs-number"><span class="hljs-number">480</span></span>, imagick::FILTER_LANCZOS, <span class="hljs-number"><span class="hljs-number">0.9</span></span>);</code> </pre> <br><br>  And using the command line is even easier: <br><br><pre> <code class="php hljs">exec(<span class="hljs-string"><span class="hljs-string">'mogrify -resize 640x480 photo.jpg'</span></span>);</code> </pre> <br><br><h5>  Install ImageMagick </h5><br><br>  Click on the <a href="http://www.imagemagick.org/script/binary-releases.php">link</a> , select the platform (Unix / Mac / Win) and select the recommended package. <br><br>  After the installation is completed, go to the terminal / command line, enter <u>convert</u> and press Enter, if you get a list of options, not ‚ÄúCommand not found‚Äù, then everything is fine!  Please note that you do not need to configure anything in PHP. <br><br><h5>  Instagraph - PHP class </h5><br><br>  I created a small PHP class script to make filtering images as simple as possible. <br><ol><li>  colortone: The will of the color tone of the image in highlights and / or shadow. </li><li>  vignette: the edges of the image are discolored. </li><li>  border: adds borders to a photo. </li><li>  frame: will read the specified frame according to the photo. </li><li>  tempfile: creates a temporary file (copy of the original image). </li><li>  output: rename work file </li><li>  execute: send command </li></ol><br><br>  Create a new file named <b>instagraph.php</b> and paste the following code. <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Instagram filters with PHP and ImageMagick * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@package</span></span></span><span class="hljs-comment"> Instagraph * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Webarto &lt;dejan.marjanovic</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@gmail</span></span></span><span class="hljs-comment">.com&gt; * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@copyright</span></span></span><span class="hljs-comment"> NetTuts+ * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@license</span></span></span><span class="hljs-comment"> http://creativecommons.org/licenses/by-nc/3.0/ CC BY-NC */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Instagraph</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $_image = <span class="hljs-keyword"><span class="hljs-keyword">NULL</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $_output = <span class="hljs-keyword"><span class="hljs-keyword">NULL</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $_prefix = <span class="hljs-string"><span class="hljs-string">'IMG'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $_width = <span class="hljs-keyword"><span class="hljs-keyword">NULL</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $_height = <span class="hljs-keyword"><span class="hljs-keyword">NULL</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $_tmp = <span class="hljs-keyword"><span class="hljs-keyword">NULL</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">factory</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($image, $output)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Instagraph($image, $output); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($image, $output)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(file_exists($image)) { <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_image = $image; <span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_width, <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_height) = getimagesize($image); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_output = $output; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span>(<span class="hljs-string"><span class="hljs-string">'File not found. Aborting.'</span></span>); } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tempfile</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment"># copy original file and assign temporary name $this-&gt;_tmp = $this-&gt;_prefix.rand(); copy($this-&gt;_image, $this-&gt;_tmp); } public function output() { # rename working temporary file to output filename rename($this-&gt;_tmp, $this-&gt;_output); } public function execute($command) { # remove newlines and convert single quotes to double to prevent errors $command = str_replace(array("\n", "'"), array('', '"'), $command); $command = escapeshellcmd($command); # execute convert program exec($command); } /** ACTIONS */ public function colortone($input, $color, $level, $type = 0) { $args[0] = $level; $args[1] = 100 - $level; $negate = $type == 0? '-negate': ''; $this-&gt;execute("convert {$input} ( -clone 0 -fill '$color' -colorize 100% ) ( -clone 0 -colorspace gray $negate ) -compose blend -define compose:args=$args[0],$args[1] -composite {$input}"); } public function border($input, $color = 'black', $width = 20) { $this-&gt;execute("convert $input -bordercolor $color -border {$width}x{$width} $input"); } public function frame($input, $frame) { $this-&gt;execute("convert $input ( '$frame' -resize {$this-&gt;_width}x{$this-&gt;_height}! -unsharp 1.5√ó1.0+1.5+0.02 ) -flatten $input"); } public function vignette($input, $color_1 = 'none', $color_2 = 'black', $crop_factor = 1.5) { $crop_x = floor($this-&gt;_width * $crop_factor); $crop_y = floor($this-&gt;_height * $crop_factor); $this-&gt;execute("convert ( {$input} ) ( -size {$crop_x}x{$crop_y} radial-gradient:$color_1-$color_2 -gravity center -crop {$this-&gt;_width}x{$this-&gt;_height}+0+0 +repage ) -compose multiply -flatten {$input}"); } /** RESERVED FOR FILTER METHODS */ }</span></span></code> </pre> <br><br><h5>  Let's see what happens </h5><br><br>  Original image: <br><br><img src="https://habrastorage.org/storage2/0cc/5a0/d25/0cc5a0d25d037d5670506339f1bd8961.jpg" alt="image"><br><br>  <b><font color="green">Gotham filter</font></b> <br><br>  Gotham filter brings the image to black and white.  High contrast images with a bluish tint. <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">gotham</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;tempfile(); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;execute(<span class="hljs-string"><span class="hljs-string">"convert $this-&gt;_tmp -modulate 120,10,100 -fill '#222b6d' -colorize 20 -gamma 0.5 -contrast -contrast $this-&gt;_tmp"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;border(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_tmp); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;output(); }</code> </pre> <br><br><img src="https://habrastorage.org/storage2/43c/918/d98/43c918d9851b358654e39455fac2202e.jpg"><br><br>  <b><font color="green">Filter toaster</font></b> <br><br>  Reminds old pictures of Polaroid, it has bright colors along with a pink / orange glow from the center.  According to the Instagram CEO, this is one of the most complex effects. <br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toaster</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;tempfile(); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;colortone(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_tmp, <span class="hljs-string"><span class="hljs-string">'#330000'</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;execute(<span class="hljs-string"><span class="hljs-string">"convert $this-&gt;_tmp -modulate 150,80,100 -gamma 1.2 -contrast -contrast $this-&gt;_tmp"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;vignette(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_tmp, <span class="hljs-string"><span class="hljs-string">'none'</span></span>, <span class="hljs-string"><span class="hljs-string">'LavenderBlush3'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;vignette(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_tmp, <span class="hljs-string"><span class="hljs-string">'#ff9966'</span></span>, <span class="hljs-string"><span class="hljs-string">'none'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;output(); }</code> </pre> <br><br>  You can even add a white frame for the full effect, just add <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;border(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_tmp, <span class="hljs-string"><span class="hljs-string">'white'</span></span>);  <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;output();</code> </pre> <br><br><img src="https://habrastorage.org/storage2/616/093/781/616093781097477c5be05b1d457dae22.jpg"><br><br>  <b><font color="green">Nashville Filter</font></b> <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">nashville</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;tempfile(); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;colortone(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_tmp, <span class="hljs-string"><span class="hljs-string">'#222b6d'</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;colortone(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_tmp, <span class="hljs-string"><span class="hljs-string">'#f7daae'</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;execute(<span class="hljs-string"><span class="hljs-string">"convert $this-&gt;_tmp -contrast -modulate 100,150,100 -auto-gamma $this-&gt;_tmp"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;frame(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_tmp, <span class="hljs-keyword"><span class="hljs-keyword">__FUNCTION__</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;output(); }</code> </pre> <br><br><img src="https://habrastorage.org/storage2/8ff/c88/1e8/8ffc881e846eda209dca6032fcca1aa3.jpg"><br><br>  <b><font color="green">Lomo filter</font></b> <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lomo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;tempfile(); $command = <span class="hljs-string"><span class="hljs-string">"convert {$this-&gt;_tmp} -channel R -level 33% -channel G -level 33% $this-&gt;_tmp"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;execute($command); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;vignette(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_tmp); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;output(); }</code> </pre> <br><br><img src="https://habrastorage.org/storage2/ed6/649/957/ed664995721341eb5b008761f1b61eb7.jpg"><br><br>  <b><font color="green">Kelvin filter</font></b> <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">kelvin</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;tempfile(); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;execute(<span class="hljs-string"><span class="hljs-string">"convert ( $this-&gt;_tmp -auto-gamma -modulate 120,50,100 ) ( -size {$this-&gt;_width}x{$this-&gt;_height} -fill 'rgba(255,153,0,0.5)' -draw 'rectangle 0,0 {$this-&gt;_width},{$this-&gt;_height}' ) -compose multiply $this-&gt;_tmp"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;frame(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_tmp, <span class="hljs-keyword"><span class="hljs-keyword">__FUNCTION__</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;output(); }</code> </pre> <br><br><img src="https://habrastorage.org/storage2/bd8/244/de7/bd8244de750cf60749e46b1ef0fc1eee.jpg"><br><br><h5>  How to use it? </h5><br><br>  I assume that you saved all the code in the instagraph.php file.  Now create a file called filter.php and copy the following code. <br><br>  If you want to apply only one filter, you can do it as follows: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'instagraph.php'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { $instagraph = Instagraph::factory(<span class="hljs-string"><span class="hljs-string">'input.jpg'</span></span>, <span class="hljs-string"><span class="hljs-string">'output.jpg'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span> $e) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $e-&gt;getMessage(); <span class="hljs-keyword"><span class="hljs-keyword">die</span></span>; } $instagraph-&gt;toaster(); <span class="hljs-comment"><span class="hljs-comment">//  </span></span></code> </pre> <br><br>  That's all!  If you want to apply all filters use this code: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'instagraph.php'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { $instagraph = Instagraph::factory(<span class="hljs-string"><span class="hljs-string">'input.jpg'</span></span>, <span class="hljs-string"><span class="hljs-string">'output.jpg'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span> $e) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $e-&gt;getMessage(); <span class="hljs-keyword"><span class="hljs-keyword">die</span></span>; } <span class="hljs-comment"><span class="hljs-comment">// loop through all filters foreach(array('gotham', 'toaster', 'nashville', 'lomo', 'kelvin') as $method) { $instagraph-&gt;_output = $method.'.jpg'; // we have to change output file to prevent overwrite $instagraph-&gt;$method(); // apply current filter (from array) }</span></span></code> </pre> <br><br><h5>  Performance </h5><br><br>  Performance is certainly an important part in any application.  Applying a filter to an image takes about 1 second, we can say with confidence that it is very fast! </div><p>Source: <a href="https://habr.com/ru/post/140704/">https://habr.com/ru/post/140704/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../140699/index.html">A note on move semantics with a return statement in C ++ 11</a></li>
<li><a href="../140700/index.html">Review of new features in playframework v2</a></li>
<li><a href="../140701/index.html">Authorization on the site through Mail.ru (oAuth 2.0)</a></li>
<li><a href="../140702/index.html">Ruby on Rails I18n: developer - develops, client - fills. The rest will be taken care of by the service.</a></li>
<li><a href="../140703/index.html">In search of a convenient power source, an overview of an external 6000mAh battery</a></li>
<li><a href="../140705/index.html">How to fix errors in google maps javascript api 3 mobile</a></li>
<li><a href="../140706/index.html">Happy childhood with ZD-printer</a></li>
<li><a href="../140707/index.html">Conference Report # MBLT12</a></li>
<li><a href="../140708/index.html">Cloud - what is it and why?</a></li>
<li><a href="../140709/index.html">Distributions, updates and errata for Oracle Linux are now available for free</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>