<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Manage enterprise iOS devices using OS X Server, as well as distributing applications within the company</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sooner or later, in a good part of large companies, the question arises of developing an internal corporate mobile application. In this regard, IT spe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Manage enterprise iOS devices using OS X Server, as well as distributing applications within the company</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/596/56d/abb/59656dabb61b43818b780671d7e05d00.jpg"><br><br>  Sooner or later, in a good part of large companies, the question arises of developing an internal corporate mobile application.  In this regard, IT specialists face the challenge of working out two scenarios: when to install applications on employees' personal devices and when they need to distribute devices that are company property for employees to perform specific tasks.  This article discusses working with iOS devices through OS X Server. <br><a name="habracut"></a><br><br><h4>  Introduction </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Today, if you wish, you can easily find information on setting up OS X Server, MDM solutions, etc.  in English, and in general, the configuration does not present any complexity.  This article is addressed to people in the Russian-speaking segment who first encountered this task and who want to understand what awaits them and how difficult and frightening everything is. <br>  The presented material was compiled as a brief guide to action and, as unnecessary, was sent straight to the Basket, but before I clicked ‚ÄúEmpty Cart‚Äù, I thought that perhaps it would be useful to someone else who is not familiar with this topic. <br><div class="spoiler">  <b class="spoiler_title">Therefore, a separate category of commentators please be lenient.</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/181/90a/c7f/18190ac7f4171759a18d3532aa0f0f93.gif" alt="image"><br></div></div><br><br><h4>  Formulation of the problem </h4><br><br>  So, let's define the tasks that the company (or the customer) has set for us. <br><br>  We have two independent vectors of mobile development: <br><ul><li>  Corporate mobile application for employees of the company, which they install on personal devices, in our case, on iOS devices.  For example, the main functionality is reading news and a calendar of events; </li><li>  A highly specialized mobile application for certain categories of employees, for example, sociologists who do surveys, say, on the street.  They are given iOS-devices specifically for these tasks, and the management, of course, hoping for the consciousness of these people, nevertheless, wants to exclude the very possibility of inappropriate use of both work time and devices.  Simply put, you need to forbid doing everything: listen to music, use the Internet, install games from the app store, etc., leave only the opportunity to use the application for social.  polls; </li></ul><br><br><h4>  Likbez </h4><br><br>  Despite the fact that these two areas are different, they have something in common, namely the distribution of applications within the company, i.e.  on the <a href="https://developer.apple.com/programs/enterprise/">Apple Developer Enterprise Program</a> .  For an unprepared developer, it may seem that this is simply the registration of the company-developer as a legal entity, with some Enterprise gadgets.  Unfortunately, literally the essence of the program is ‚ÄúThe Apple AppStore: no  joining this program you get the opportunity to distribute iOS-applications bypassing the AppStore, but lose the opportunity to publish to the official AppStore. <br><br>  Let's now take a look at the question of the proliferation of corporate mobile applications a little wider, and not only through the eyes of Apple.  There are three major players on the market today - Google, Apple and Microsoft. <br>  So, as each application of these technology companies sees the distribution of applications bypassing the store. <br><br>  <i>Google</i> <br>  It's simple.  Android open operating system.  Build an application package (* .apk) and then do whatever you want with it.  All you need is to pay a one-time fee to the Google Play Developer Program. <br><br>  <i>Microsoft</i> <br>  Two programs.  For publication in the official store - a small one-time fee.  To publish to bypass the store, you must once a year buy a special certificate - Enterprise Mobile Code Signing, which your applications subscribe to.  Roughly speaking, it is like a pass for an application to the garage of a smartphone application - ‚ÄúI am VIP, I can be installed from the back door‚Äù. <br><br>  <i>Apple</i> <br>  Cupertino, in turn, see the approach to the development of mobile applications as follows. <br>  For publication in the official AppStore, there is an Apple Developer Program in which both individuals and legal entities can participate, the price is the same.  If you have a need to publish applications within the company, i.e.  Not for everyone, Apple provides the Apple Developer Enterprise Program, although in it you will not be able to publish applications in the AppStore. <br>  But what if you need to publish apps for both scenarios?  Or until it is possible to register a legal entity, you just started to make a prototype and you can register an individual, i.e.  one developer. <br>  In this case, the classic Apple Developer Program provides the ability to upload applications directly to 100 devices of various types (iPhone, iPad) registered in the developer console.  Scientifically, this is called AdHoc, i.e.  distribution for testing purposes. <br>  Strangely enough, this thing often solves a whole layer of problems at the initial stages, and we'll talk about it in the framework of this article. <br><br>  Great, we have a prototype of a mobile application, a developer account in the Apple Developer Program and a great desire to solve the problem. <br><br>  We now turn to the model of managing iOS devices.  If you used to use an iPhone or iPad, you probably heard about such a thing as Profile.  No, not that user profile from SharePoint, but a profile that describes device permissions.  For example, access to beta versions of iOS.  It is on this thing that everything is spinning in the Apple world: installing applications, limiting device capabilities, configuring devices, etc.  And as you probably already understood, we will steer these profiles.  With someone voluntarily, with someone forcibly. <br><br><br><h4>  Apple Configurator 2 </h4><br><br>  In order to distribute iOS applications in a corporate environment, two tools are needed (from the AppStore): <br><ul><li>  Apple Configurator 2 App ( <a href="https://itunes.apple.com/ru/app/apple-configurator-2/id1037126344%3Fmt%3D12">Free</a> ); </li><li>  Application OS X Server ( <a href="https://itunes.apple.com/ru/app/os-x-server/id883878097%3Fmt%3D12">1.490 rubles</a> ); </li></ul><br>  Both tools can manage profiles, but only the profiles installed by Apple Configurator 2 cannot be deleted by the user. <br><div class="spoiler">  <b class="spoiler_title">Those.</b>  <b class="spoiler_title">everything is under control, namely</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/ca1/b28/d34/ca1b28d34b8342589139b42ac8f5ce53.jpg"><br></div></div><br>  OS X Server, or rather the Profile Manager, which is part of it, is required for remote configuration of profiles, since  Apple Configurator 2 works only "on the cord". <br><br>  So that you clearly understand the scheme: through profiles (in fact, the configuration file that flies back and forth), you can install applications remotely and configure devices.  Apple Configurator 2 allows you to ensure that the profile set with it will not be deleted by the user, and the Profile Manager in OS X Server allows you to configure installed profiles remotely.  In the first approximation, the picture is as follows. <br><br>  Now that you have collected your thoughts in a handful, it remains to add a couple of missing elements to the puzzle.  In addition to profiles, there is another link of the mechanism called Supervising, which Apple Configurator 2 provides. It consists in resetting the device to factory settings, tightly configuring to use your Profile Manager, and banning the device from hard reset.  It also supports the function of removing images of memory, in other words, backups. <br><br>  And the last thing, I think you have already thought, how can ordinary employees get corporate applications without all these terrible discharges and configurations?  For them, the Profile Manager provides a website, called MyDevices by default, from which they can download a profile that automatically installs the necessary applications on their smartphone.  Yes, that's how simple it is with ordinary employees. <br><br>  Ok, back to Apple Configurator 2. <br><div class="spoiler">  <b class="spoiler_title">So it looks in the AppStore</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/7a4/c3e/af7/7a4c3eaf76a245e78fed2238008265dc.jpg"><br></div></div><br>  We list its main features again: <br><br><ul><li>  Resetting iOS devices to factory defaults; </li><li>  Create device profiles; </li><li>  Create Blueprint images; </li><li>  Installing an iOS device in the <i>Supervised</i> mode, which allows you to control the device (reset, etc.) only from this computer; </li><li>  Creating backups of iOS devices; </li></ul><br>  A new word, Blueprint, has appeared in this list, and we still have not understood exactly what restrictions we can set through Profiles.  Let's talk about it. <br><br><br><h4>  Profiles in Apple Configurator 2 </h4><br><br>  Profiles are used to set the required parameters and restrictions on the device. <br><br>  For example, you can install in one profile: <br><ul><li>  Settings for connecting to WiFi; </li><li>  Restrictions on the use of multimedia capabilities of the device; </li><li>  Prevent the installation of applications from the AppStore; </li><li>  Filter on available websites, or prohibit the use of the Safari browser; </li></ul><br>  Multiple profiles can be installed on one device. <br><br><div class="spoiler">  <b class="spoiler_title">The list of available settings through the profile</b> <div class="spoiler_text"><div class="spoiler">  <b class="spoiler_title">General device information</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/7ba/b57/273/7bab5727361247159da729f7583b3fc5.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Password on the casting screen</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/56b/ea2/1f8/56bea21f8f234792b80b9dce5aa130bf.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Restrictions on device functionality</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/c26/ad9/fb6/c26ad9fb69ce45cd85a2c0bf7b8aee19.png"><br><br><img src="https://habrastorage.org/files/e60/6a0/22e/e606a022eb364b8490213ba998a9276d.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Application Restrictions</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/e81/760/389/e81760389f7f4f1694055f0dcb24b53b.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Media Content Restrictions</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/0f2/138/2b8/0f21382b88be4968b246971150f9f731.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Global Proxy Settings</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/c27/964/c2a/c27964c2a9ca4ea69835247033b50656.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">List of allowed sites</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/be3/f48/e9d/be3f48e9d2864dce8e4af892a6fe5358.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Domain Policy</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/f07/5bb/aa5/f075bbaa502c4577912bec61fdefd950.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">WiFi access</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/9e1/1c0/388/9e11c03886694fed8efed2a9a163f2fb.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">VPN settings</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/9eb/201/281/9eb20128191c41eb9641c635e3e46117.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">AirPlay settings</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/f81/315/fa2/f81315fa2f374b0b91f16a1877d77c23.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">AirPrint Settings</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/2dd/12b/202/2dd12b202c074d42a8deec978ca96139.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Email Account Settings</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/2da/318/b44/2da318b444654b699b6da3da478a6325.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Exchange ActiveSync Settings</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/9d7/0f9/c16/9d70f9c169ce42749bd0b8c03b2bb5ba.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">LDAP settings</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/d9f/55b/8b7/d9f55b8b777841c298ddccfc1537b1b8.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Sync calendars</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/0dc/bf6/8d8/0dcbf68d83794d5280cb05c581a1fcdb.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Contact Sync</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/084/26d/1a9/08426d1a92164c0899b4c1cb1e5e3ee3.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Subscribe to calendars</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/97d/aee/d38/97daeed38a3e4ea28b9e4cbc6cca4884.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Icons go to the website</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/bfb/35c/faa/bfb35cfaad1c489489df90bdcb87dfcd.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Fonts</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/172/ea7/72d/172ea772d5f0456f9e8f2b96ca67fd3a.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Certificates</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/c92/681/7a1/c926817a1c184ef1bde749a8d93007c2.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">SCEP server setup</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/0eb/227/ddf/0eb227ddfca048e6b14e90f382c25517.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Settings APN points for 3G</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/932/c76/6cb/932c766cbcbf42d4a0a226a8399e2f53.png"><br><br><img src="https://habrastorage.org/files/ffe/4a7/ab7/ffe4a7ab721340f6ae82fae82aef43e1.png"><br></div></div><br></div></div><br><br><h4>  Blueprints in Apple Configurator 2 </h4><br><br>  Blueprints are quick ‚Äúimages‚Äù of desired settings and applications that can be applied to a connected device in one click. <br><br><div class="spoiler">  <b class="spoiler_title">Work with Blueprints</b> <div class="spoiler_text">  Blueprint creation <br><br><img src="https://habrastorage.org/files/ccc/d20/344/cccd20344127400c9c45f2f4a0a1cef7.png"><br><br><img src="https://habrastorage.org/files/9ba/2f0/037/9ba2f0037ca64176876c04bd6603468f.png"><br><br>  Select device type <br><br><img src="https://habrastorage.org/files/126/b8c/aeb/126b8caeb65a437aaa275b1b2e28354b.png"><br><br>  Add the necessary enterprise applications to the image <br><br><img src="https://habrastorage.org/files/763/0c5/ea8/7630c5ea80644305ba242234989d8c96.png"><br><br>  Add * .ipa - application package <br><br><img src="https://habrastorage.org/files/f9b/533/1f0/f9b5331f0bb84b48a8878de64e4811ba.png"><br><br>  Adding Profiles <br><br><img src="https://habrastorage.org/files/2b1/af3/ae1/2b1af3ae1ba1479c95b0a4d3e81f630c.png"><br></div></div><br>  Well, I hope you got a general idea of ‚Äã‚Äãthe basic configuration tools for iOS devices.  It's time to move on to more advanced and, accordingly, paid instruments. <br><br><br><h4>  Apple OS X Server </h4><br><br>  OS X Server is an application, pre-2014 pre-installed on top versions of Apple Mac mini computers.  Currently distributed as a separate application through the AppStore and is available for installation on any Apple computers. <br>  It is a set of services for maintaining the fleet of Apple devices, as well as the remote control of iOS and OSX devices. <br><div class="spoiler">  <b class="spoiler_title">So it looks in the AppStore</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/f7a/9ca/4ca/f7a9ca4caf074c699b806dedd0469358.jpg"><br></div></div><br>  Key features: <br><br><ul><li>  User administration within the Open Directory (integration with Active Directory is possible); </li><li>  Sync calendars; </li><li>  Contact synchronization; </li><li>  File Sharing; </li><li>  Mail server; </li><li>  User group chats; </li><li>  Profile Manager for remote control of iOS and OSX devices; </li><li>  TimeMachine server (backups); </li><li>  VPN; </li><li>  PHP and Python website hosting; </li><li>  CMS Wiki; </li><li>  Xcode server for continuous integration; </li><li>  DHCP server; </li><li>  DNS server; </li><li>  FTP server; </li></ul><br><br><h4>  Synchronize OS X Server with Active Directory </h4><br><br>  Of course, I could not pass by Active Directory, as we work in the corporate segment, and, at least, a few words I must say on this topic.  Like Microsoft, Apple works with its directory service, the Open Directory, which is not conceptually different from Active Directory. <br>  For integration with Active Directory, a ‚Äúbinding‚Äù mechanism is used.  It is configured quite simply, however, it does not differ in iron stability (on different combinations of versions of Windows Server and OS X Server there is a different result, that is, you can lose touch). <br><br><div class="spoiler">  <b class="spoiler_title">Configuring synchronization with Active Directory</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/adb/374/07f/adb37407fc1b4c87b1c15c6ab9952594.png"><br><br><img src="https://habrastorage.org/files/c1a/948/297/c1a94829796349dc92712662e54ab07d.png"><br><br><img src="https://habrastorage.org/files/534/b27/0c8/534b270c80a1419680efa92a5e7294cc.png"><br><br><img src="https://habrastorage.org/files/59c/37c/888/59c37c88832d41a897061f351d1e4c2d.png"><br><br><img src="https://habrastorage.org/files/04a/770/465/04a7704655a14dd18e029bb640e333a4.png"><br><br><img src="https://habrastorage.org/files/027/520/fb6/027520fb65d64abaa0223150067b6ea7.png"><br><br><img src="https://habrastorage.org/files/27d/cba/f6a/27dcbaf6a0204366a17c8f275e8886c2.png"><br><br><img src="https://habrastorage.org/files/781/575/09b/78157509b8e54613bc74f862bae15bce.png"><br><br></div></div><br>  Great, now you are aware of all the basic terms and principles.  We can start setting up mechanisms for distributing applications within the company and configuring iOS devices. <br><br><br><h4>  Algorithm of actions for setting up the infrastructure for configuring iOS devices and distributing applications </h4><br><br>  1. Install <a href="https://itunes.apple.com/ru/app/apple-configurator-2/id1037126344%3Fmt%3D12">Apple Configurator 2</a> from the AppStore. <br><br>  2. Install <a href="https://itunes.apple.com/ru/app/os-x-server/id883878097%3Fmt%3D12">Apple OS X Server</a> from the AppStore. <br><br>  3. Create a profile with WiFi settings for an iOS device through Apple Configurator 2, if employees need to use a certain private corporate network to which we do not want to give them a password. <br><div class="spoiler">  <b class="spoiler_title">Read more</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/35a/b25/db7/35ab25db71e24bf18e10d05e77ca1df6.png"><br><br>  Specify the password that you need to enter to delete the profile.  This is one of the possible options.  We can generally prohibit the removal. <br><br><img src="https://habrastorage.org/files/f70/c70/6da/f70c706dafaa4e66b09cc1f4016dcd32.png"><br><br><img src="https://habrastorage.org/files/6ed/4f0/7e3/6ed4f07e3bc042e2be9f3e0838f35d3f.png"><br><br><img src="https://habrastorage.org/files/875/0e9/747/8750e974704544729d455bce4adac52f.png"><br><br></div></div><br>  4. Let's go to configure OS X Server.  Set the host name, accessibility from networks and remote access settings.  This is the initial configuration of our server. <br><div class="spoiler">  <b class="spoiler_title">Read more</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/2f2/19f/78c/2f219f78cb0a4f029b97b2548ee7c05f.png"><br><br><img src="https://habrastorage.org/files/6d3/f9f/0ed/6d3f9f0ed0ee4e338aadd68d3ba1f1b3.png"><br><br><img src="https://habrastorage.org/files/9ff/923/1fa/9ff9231fac564dffb38f40f6256e9c8e.png"><br><br><img src="https://habrastorage.org/files/bc1/38e/a54/bc138ea54e0e4b2ea64aee8b2d02a4e4.png"><br><br><img src="https://habrastorage.org/files/08c/1b8/8a2/08c1b88a251449a7ae146fb80aa478be.png"><br><br><img src="https://habrastorage.org/files/7c3/4fc/c71/7c34fcc710f846e982cdf0f2852edc25.png"><br><br></div></div><br>  5. Configure the Open Directory in OS X Server to further store users in it. <br><div class="spoiler">  <b class="spoiler_title">Read more</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/662/c8a/e64/662c8ae649284e89a054fae392f7a62d.png"><br><br><img src="https://habrastorage.org/files/354/7fb/6af/3547fb6af4214405b031ef7bad248fe3.png"><br><br><img src="https://habrastorage.org/files/703/167/0cf/7031670cfe524c9fbdd1325285fe1c80.png"><br><br></div></div><br>  6. Create users in OS X Server, or synchronize the server with Active Directory.  We will need another administrator and a simple user (he is also an employee). <br><div class="spoiler">  <b class="spoiler_title">Read more</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/a54/0df/50d/a540df50dd8d42ab9f0c9c46089199b2.png"><br><br><img src="https://habrastorage.org/files/b5d/209/54e/b5d20954ed924345bc10b5444434b132.png"><br><br><img src="https://habrastorage.org/files/00a/d19/7a4/00ad197a4cb24bb4848d7dc17c23a6a9.png"><br><br><img src="https://habrastorage.org/files/7ff/221/f04/7ff221f041ec47e3b0f1cf6a84659129.png"><br><br></div></div><br>  7. Create user groups (by teams / departments / divisions) and distribute users to these groups in OS X Server.  We will need this to configure device groups. <br><div class="spoiler">  <b class="spoiler_title">Read more</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/941/553/f13/941553f1378c477a9fab3f1deaa68ba1.png"><br><br><img src="https://habrastorage.org/files/0d8/e4c/47d/0d8e4c47d50145daaff3ba3cbbe8dbcb.png"><br><br><img src="https://habrastorage.org/files/b8e/d2b/6ec/b8ed2b6ec3cc4fdaa4b71a0e5f9dd424.png"><br><br><img src="https://habrastorage.org/files/6d5/76b/bd2/6d576bbd2e524acdb3e20c8d7609dfc1.png"><br><br><img src="https://habrastorage.org/files/ea1/cdf/4d8/ea1cdf4d85554433899ecb5b259c09d4.png"><br><br><img src="https://habrastorage.org/files/d65/5c1/148/d655c114859d4460b91c22371d3ada76.png"><br><br></div></div><br>  8. Enable Apple Push Notifications in OS X Server. <br><div class="spoiler">  <b class="spoiler_title">Read more</b> <div class="spoiler_text">  Enabling Apple Push Notifications is necessary for managing devices over the Internet, since push notifications deliver commands from the OS X server. <br><br><img src="https://habrastorage.org/files/6c3/a31/905/6c3a31905f8a473ca3a0b2ae887cbe1d.png"><br><br>  Here we already need an account of our developer, with an active Apple Developer Program. <br><br><img src="https://habrastorage.org/files/79a/bb9/3d9/79abb93d9b4744d9bef4d98a04777428.png"><br><br><img src="https://habrastorage.org/files/8dd/5fa/c7e/8dd5fac7ef954a16a3f0495b64fb1f1b.png"><br><br></div></div><br>  9. Set up contact synchronization in OS X Server.  This is optional if you do not plan to maintain a general list of contacts between employees. <br><div class="spoiler">  <b class="spoiler_title">Read more</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/9f0/1fd/145/9f01fd145c3f450885830939bda324e0.png"><br><br><img src="https://habrastorage.org/files/ef6/098/ae5/ef6098ae537744cf84622c26c025bac5.png"><br><br></div></div><br>  10. Now the most interesting.  Configure the profile manager in OS X Server. <br><div class="spoiler">  <b class="spoiler_title">Read more</b> <div class="spoiler_text"><h4>  Mobile Device Management Server </h4><br>  Profile Manager allows you to centrally administer and manage registered mobile devices running OS X 10.7 or higher or iOS 4 or higher. <br><br>  It should be noted that Apple provides management of the API of its devices to third-party developers of MDM solutions in order to use their experience. <br><br>  Typically, these mobile device management systems (MDM - Mobile Device Management) have more options for customization. <br>  To implement the server-initiated settings load, the software will need a push service.  The push server is part of OS X Server (sometimes the push service is implemented as part of the MDM solution, in this case Apple‚Äôs push service is not needed).  The push server will perform functions for loading commands related to the configuration or installation of mobile device software, interacting with the Apple app store.  This ensures that urgent actions are taken, such as blocking stolen devices or deleting information from them. <br><br>  If you plan to manage only Apple devices, and there are no special requirements, then Profile Manager is the best solution in terms of cost / functionality.  In this case, for centralized loading of corporate software settings, use Apple Push Server.  And the ability to install policies on devices connected even beyond the perimeter of the corporate network will provide Apple Push Notification Service (APNS). <br><br><h4>  Profile Manager Algorithm </h4><br><img src="https://habrastorage.org/files/a71/619/dcc/a71619dcc56f4e38b649086c0f69c2ab.png"><br><br><img src="https://habrastorage.org/files/129/10f/7e0/12910f7e034f432c90ea008061c44a33.png"><br><br><img src="https://habrastorage.org/files/925/d4a/6f7/925d4a6f7472474ea57f7c02162ec443.png"><br><br><img src="https://habrastorage.org/files/6bd/7e4/260/6bd7e426011e49a7a9fd733581f15d5d.png"><br><br><img src="https://habrastorage.org/files/5b2/471/5a7/5b24715a7bf3419eaf9f00ceb94ad5c0.png"><br><br><img src="https://habrastorage.org/files/563/200/fa6/563200fa674643ff9cfc783afe0480e8.png"><br><br><img src="https://habrastorage.org/files/2ed/d9b/822/2edd9b82223143fa8d3d6a88f444cea6.png"><br><br><img src="https://habrastorage.org/files/f7c/719/232/f7c719232dca485f8ff9f94972c1b296.png"><br><br><img src="https://habrastorage.org/files/22d/36b/e93/22d36be937a94c058a3be688a2db2268.png"><br><br><img src="https://habrastorage.org/files/c66/93b/edb/c6693bedb883473aa98eeaa387a2abe0.png"><br><br></div></div><br>  11. Through the Profile Manager in OS X Server, enable the ability to bind iOS devices configured in Apple Configurator 2. <br><div class="spoiler">  <b class="spoiler_title">Read more</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/ab7/8d8/6e9/ab78d86e92204d3e9d989d47c3ea5b60.png"><br><br><img src="https://habrastorage.org/files/a27/a4c/002/a27a4c002bdf4e318f512a189ad3776e.png"><br><br><img src="https://habrastorage.org/files/335/d07/27b/335d0727b378453d8107a9d4e906bf0b.png"><br><br><img src="https://habrastorage.org/files/fbc/9f3/183/fbc9f31838404ebcb0f6c6b49b5c701f.png"><br><br></div></div><br>  12. Through the Profile Manager in OS X Server, we will set the user (better the user group) restrictions on his iOS device. <br><div class="spoiler">  <b class="spoiler_title">Read more</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/774/7f5/676/7747f56765db4c52b9a2257515be819a.png"><br><br><img src="https://habrastorage.org/files/690/951/1ec/6909511ecfca49e7823fda6a1dbd5cbe.png"><br><br><img src="https://habrastorage.org/files/610/1f6/ab7/6101f6ab76314db6ab52e6ca71b232e5.png"><br><br><img src="https://habrastorage.org/files/c3e/bba/9df/c3ebba9dfcb34625b4fc8b566dff65a2.png"><br><br><img src="https://habrastorage.org/files/e71/2af/31e/e712af31e19840c697a9099f268de185.png"><br><br><img src="https://habrastorage.org/files/cb9/817/61a/cb981761aeb5436fad55f60b82c64af0.png"><br><br><img src="https://habrastorage.org/files/7e5/7e1/a8e/7e57e1a8e4754c49bc443698b5454fab.png"><br><br><img src="https://habrastorage.org/files/1cb/265/c82/1cb265c82d154172a559488088fc99eb.png"><br><br><img src="https://habrastorage.org/files/c58/a73/2bd/c58a732bdcb74777897d25c2c0f9e812.png"><br><br></div></div><br>  13. It's time to work with a physical device.  We will translate an iOS device into Supervised mode via Apple Configurator 2 with accepting settings from a remote Mobile Device Management (MDM) server, which is OS X Server. <br><div class="spoiler">  <b class="spoiler_title">Read more</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/11b/e8f/29e/11be8f29e4ba4ab09e1c47072e0c63ab.png"><br><br><img src="https://habrastorage.org/files/e94/e02/6cd/e94e026cd75e4c2e9af4933d1c37b6cb.png"><br><br><img src="https://habrastorage.org/files/216/a91/d4c/216a91d4c0dd422eb27b1affa165c530.png"><br><br><img src="https://habrastorage.org/files/612/ac1/b0d/612ac1b0dd31492892457bc5000c7d1b.png"><br><br><img src="https://habrastorage.org/files/6fb/30d/e13/6fb30de1382f44bfb718f5159748d13f.png"><br><br><img src="https://habrastorage.org/files/4d5/0a6/666/4d50a6666b454677a485175a49a153b9.png"><br><br><img src="https://habrastorage.org/files/63f/9ea/082/63f9ea0827d64a339b277db15a14e538.png"><br><br><img src="https://habrastorage.org/files/302/36a/593/30236a5933e04380afb8b4c627942c76.png"><br><br><img src="https://habrastorage.org/files/dd0/cbb/6c5/dd0cbb6c53ad44d388b683e37d53b485.png"><br><br><img src="https://habrastorage.org/files/16c/35c/7c4/16c35c7c48b34d3c95725660b061e7b5.png"><br><br>  After rebooting (before accepting the greeting), the iOS device via Apple Configurator 2 will load the profile created earlier with WiFi settings and a description of the device into it. <br><br><img src="https://habrastorage.org/files/67c/7ac/c8b/67c7acc8ba01465fb751d9b3284a67b6.png"><br><br><img src="https://habrastorage.org/files/430/1c0/964/4301c0964fed4a8a97cd5ac30d1d9115.png"><br><br><img src="https://habrastorage.org/files/686/1ce/e75/6861cee753f9409bb19da19e1d1a5420.png"><br><br><img src="https://habrastorage.org/files/9cd/322/e54/9cd322e5486843e292d2b8796058fb31.png"><br><br>  Receive the greeting on the iOS device transferred to the Supervised mode and log in with the desired user created in OS X Server. <br><br><img src="https://habrastorage.org/files/6cc/3c9/806/6cc3c9806b0544a4b22978bc5ee9a15d.png"><br><br><img src="https://habrastorage.org/files/312/c66/bed/312c66bed5f04aeebf9f39bcbc368efd.png"><br><br><img src="https://habrastorage.org/files/92a/ae8/dfd/92aae8dfd5dd49229a6cc95c349a0a88.png"><br><br><img src="https://habrastorage.org/files/8ea/1bc/46f/8ea1bc46f1ef45b98ed7e46f02abaeb4.png"><br><br><img src="https://habrastorage.org/files/52d/462/e28/52d462e28d3d4fb48c52b60ffb7fe554.png"><br><br><img src="https://habrastorage.org/files/584/1f9/fdb/5841f9fdb58647a08da9c3e8b6b58aca.png"><br><br><img src="https://habrastorage.org/files/59c/f86/c13/59cf86c132f54114815afcfd9d4a3457.png"><br><br><img src="https://habrastorage.org/files/6e2/ecd/aa1/6e2ecdaa15d94bedbbfbb279d97baf0d.png"><br><br></div></div><br>  14. Add all iOS devices to the Apple developer account. <br><div class="spoiler">  <b class="spoiler_title">Read more</b> <div class="spoiler_text">  To add an iOS device to a developer account, we need to get its unique number - UDID.  It can be obtained in three ways: <br><ul><li>  See via iTunes; </li><li>  See through Apple Configurator 2; </li><li>  Request programmatically through the installation profile; </li></ul><br>  We will use the second option, because at the moment we are working with Apple Configurator 2. <br><br><img src="https://habrastorage.org/files/51b/b48/e15/51bb48e159bf42bb9d9ac22163554a9e.png"><br><br><img src="https://habrastorage.org/files/72d/fe9/794/72dfe979417b43148dd2c8bf6091bdc2.png"><br><br><img src="https://habrastorage.org/files/e77/905/6c3/e779056c3c2b42539e2f0a931e6c09b7.png"><br><br><img src="https://habrastorage.org/files/f78/558/dd8/f78558dd86ee436096f6e04a92003696.png"><br><br><img src="https://habrastorage.org/files/940/d89/53e/940d8953ecec43c2a49046ff1bc14e5c.png"><br><br><img src="https://habrastorage.org/files/4e0/680/632/4e068063205b41baae7ba13de01b1d89.png"><br><br><img src="https://habrastorage.org/files/b51/952/5e8/b519525e8aa5415e83cc39aeb9fef1e8.png"><br><br><img src="https://habrastorage.org/files/23f/249/e01/23f249e014424254a13fe8efa630cfe6.png"><br><br><img src="https://habrastorage.org/files/276/355/f98/276355f9833e493fa9fb4321ac012a80.png"><br><br></div></div><br>  15. Prepare a corporate application in Xcode for distribution within the company in Xcode (Archive). <br><div class="spoiler">  <b class="spoiler_title">Read more</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/4e8/85b/cf5/4e885bcf52a74471b8409bbaf0cbe70f.png"><br><br><img src="https://habrastorage.org/files/ce0/88f/2cd/ce088f2cda074d56ada2bd9bb8512dc2.png"><br><br>  We are not going to publish the application in the AppStore, so we click Export ... <br><br><img src="https://habrastorage.org/files/548/84e/3cd/54884e3cd2154b4baf6d0df63da5cc26.png"><br><br><img src="https://habrastorage.org/files/33f/12a/cda/33f12acda266485f866cc2a793f367d2.png"><br><br><img src="https://habrastorage.org/files/8aa/b8e/e82/8aab8ee820114dbf8afbc919bcd9ca54.png"><br><br><img src="https://habrastorage.org/files/822/0db/99e/8220db99ed504950b809100774afd1e7.png"><br><br><img src="https://habrastorage.org/files/a90/070/ea4/a90070ea458f48239991a9d06b9ebd8b.png"><br><br><img src="https://habrastorage.org/files/703/0ba/621/7030ba62139a4079990f5f92f6537d98.png"><br><br></div></div><br>  16. Download the * .ipa package of the application in the Profile Manager in OS X Server. <br><div class="spoiler">  <b class="spoiler_title">Read more</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/e50/188/5d4/e501885d463c4de19d11685966ad7ca9.png"><br><br><img src="https://habrastorage.org/files/4dc/09a/af8/4dc09aaf8a014e199403b7955b20f202.png"><br><br><img src="https://habrastorage.org/files/793/936/3c8/7939363c82f2479a8fed5c68931086d8.png"><br><br>  In this window you can see a list of corporate applications available for distribution. <br><br><img src="https://habrastorage.org/files/2ca/c4e/cb2/2cac4ecb2731491aba966531435e00cd.png"><br><br></div></div><br>  17. In the Profile Manager in OS X Server, we indicate for the desired user (better than the user group) which corporate applications to install on his device.  Let's push applications (we will begin remote installation). <br><div class="spoiler">  <b class="spoiler_title">Read more</b> <div class="spoiler_text">  This is how an iOS device looks like before assigning applications to a user. <br><br><img src="https://habrastorage.org/files/36d/d18/b5e/36dd18b5eb614d14b5bbb0efc2226296.png"><br><br><img src="https://habrastorage.org/files/ef8/57c/d41/ef857cd41e6d4c3f859be5cd57c068df.png"><br><br>  Add applications to users. <br><br><img src="https://habrastorage.org/files/471/ddc/126/471ddc1264864348b62db14202d62bb7.png"><br><br><img src="https://habrastorage.org/files/43c/96e/93e/43c96e93e29e41ba91ab1074541f4bc1.png"><br><br>  We see the status of application settings / installation applications. <br><br><img src="https://habrastorage.org/files/f14/5eb/684/f145eb684fe748838a44c156b2f92aae.png"><br><br>  "Suddenly," the installation of enterprise applications on the device has begun.  The user does not take any action. <br><br><img src="https://habrastorage.org/files/e94/235/3d0/e942353d056b408dabb9d7b0d97dad2a.png"><br><br>  Application installation is complete. <br><br><img src="https://habrastorage.org/files/f69/4b0/aaa/f694b0aaa3dc4f77b4f260032d548a8a.png"><br><br></div></div><br>  Infrastructure setup is complete. <br><br><br><h4>  Distributing apps to employees with personal iOS devices </h4><br><br><div class="spoiler">  <b class="spoiler_title">Employee action algorithm</b> <div class="spoiler_text">  All the employee needs is: <br><ol><li>  Go to the server site; <pre>  http://os-x-server.com/mydevices </pre></li><li> Log in with an account created on OS X Server.  Or, if common applications for all are provided, authorization is not trumpeted; </li><li>  Click Enroll My Device.  The iOS device appears in the Profile Manager; </li><li>  After that, the installation of applications accessible to the user will begin. </li></ol><br>  Unfortunately, I have not saved the screenshots of this process, due to its simplicity, but you can catch the gist of <a href="https://youtu.be/nsMv-sBW1H8%3Ft%3D10m47s">this video</a> (it starts from the right moment).  Scientifically, this is called a self-service portal.  Almost like in the factory canteen. <br></div></div><br><br><h4>  Afterword </h4><br><br>  A conceptual description of OS X Server in Russian, although a bit outdated, I advise you to read <a href="http://cio.computerra.ru/cio/1940">here</a> . <br><br>  Current videos on setting up individual components of OS X Server can be viewed <a href="https://www.youtube.com/user/tolthoff">here</a> . <br><br>  <i>Note</i> <br>  The distribution method described in the article is applicable to any applications created for iOS, i.e.  It is identical for applications written in Xamarin, Cordova or Native.  All you need is to create an * .ipa application package and load it into Profile Manager. <br><br>  I hope the article will seem useful to beginners, or not so, iOS developers.  Successes! </div><p>Source: <a href="https://habr.com/ru/post/277763/">https://habr.com/ru/post/277763/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../277751/index.html">How our techies in the army served</a></li>
<li><a href="../277753/index.html">How to color the Chrome tab</a></li>
<li><a href="../277757/index.html">Convenient conversion of enumerations (enum) to string in C ++</a></li>
<li><a href="../277759/index.html">Segmentation Fault (computer memory allocation)</a></li>
<li><a href="../277761/index.html">The digest of interesting materials for the mobile # 141 developer (February 15-23)</a></li>
<li><a href="../277765/index.html">Distributing iOS apps by reference in a corporate environment using the Microsoft technology stack</a></li>
<li><a href="../277771/index.html">Open Android courses StudyJams throughout Russia</a></li>
<li><a href="../277773/index.html">10 theses indie development, which led to success</a></li>
<li><a href="../277775/index.html">IntelliJ IDEA 16 Public Preview Review</a></li>
<li><a href="../277777/index.html">Azure Stack Technical Preview 1 features overview</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>