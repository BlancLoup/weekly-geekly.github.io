<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Screwing PollDaddy.com. Battle for iPad in 4 actions</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="1. Prehistory 
 For some time now I have been watching the development of the startup friendsaround.me . The idea of ‚Äã‚Äãa startup is to launch a social...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Screwing PollDaddy.com. Battle for iPad in 4 actions</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/05f/e9e/b5b/05fe9eb5bd91a286df507e14e6ebc693.png" alt="iPad" align="right"><br><h2>  1. Prehistory </h2><br>  For some time now I have been watching the development of the startup <a href="http://friendsaround.me/">friendsaround.me</a> .  The idea of ‚Äã‚Äãa startup is to launch a social network for owners of mobile devices with a location reference.  Now, as I understand it, they are still in the process of development - well, not the essence.  I observe quite passively and therefore only on March 7 I found out that they are holding a competition for the best slogan for their product with the main and only prize in the form of an iPad (or rather, an iTunes gift card for the amount needed to buy it).  The competition ended on March 7, and I, after looking at the current submitted options (and not finding one I liked), decided to try my luck too, so to speak.  After several minutes of creative meditation, several options spun in my head, of which I settled on the slogan ‚ÄúLocate Friendship!‚Äù (And I thought, briefly, clearly and to the point. Great slogan!).  I sent him to participate ... <br><br><a name="habracut"></a><br><h2>  2. History </h2><br>  The next day it turned out that my slogan did not let me down and was in the final - this is a success :)! <br>  The final was a vote in which everyone was invited to choose the most liked slogan from 10 finalists.  Voting was done through the service <a href="http://polldaddy.com/">polldaddy.com</a> , the main task, which was actually in the conduct of various types of heads.  Therefore, I hope (naively) to a fair fight began to actively send campaign messages to friends like ‚ÄúDude, support my outstanding slogan!‚Äù.  ‚ÄúDudes‚Äù supported (thank you, by the way, if you are reading) and the column of votes next to my option gradually crawled upwards, and conflicting thoughts from the series ‚ÄúHmm, well, why do I need another iPhone already?  Better add money and then buy a MacBook !!!  Hmm, although why do I need a MacBook?) ‚Äù.  But then the first disappointment awaited me ... <br><br>  Absolutely without a second thought, I decided once again to look at the current result of the state.  It was then possible to see the results only with the help of re-election (as I didn‚Äôt notice the ‚Äúshow results‚Äù button), which led to the page from where it was politely informed that a second vote was not possible, but the current result was shown.  What was my surprise when, once again visiting this page, I suddenly saw the inscription ‚ÄúThank you for voting!‚Äù.  ‚ÄúAah, this is probably due to the fact that the browser is different ... But do they really not block by IP‚Äù - flashed through my head - ‚ÄúWell, how is that?!‚Äù.  I tried from the third browser - another plus is the voice - probably it means they block from re-voting on cookies ... I opened the chrome in ingognito mode (I don‚Äôt have to save the cookie) - it is.  At the same time, judging by the nature of the addition of heads from another participant, it became clear that this discovery did not belong only to me. <br>  I absolutely did not want to sit and stupidly wind up the voices by opening and closing the browser, so I honestly wrote to the administration of the competition about my discovery and continued to agitate my friends.  At the same time, my main argument for continued participation was the hope that all the same the organizers, people who are involved in web / mobile development (and even are about to launch a startup) should understand that in this form it is now not meaningful to start voting.  ‚ÄúProbably they are still recording IP and just want to immediately recognize all the cheaters and stop their desire to come up with a more difficult trackable way to cheat the competition‚Äù - again I naively thought ... 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Meanwhile, by the end of the second day of the contest finals (March 9), my slogan came in second place and slowly approached the first one (which I felt (as it turned out to be right), I wound up, and I wound it manually (I have 140 votes with 140 after 3 hours I have 139, he still has the same 140, but after 5 minutes already 160)).  Under the terms of the competition, the winner was declared the participant with the highest number of votes on "March 10th".  I suspected that "March 10" is actually 00:00 00 minutes on March 11, but realizing that this can be understood in two ways and unusual movements are possible already this night, I made a screenshot just in case: <br><br> <a href="http://picasaweb.google.com/lh/photo/Pre9dGkEOev4x4rtrhwGYA%3Fauthkey%3DGv1sRgCPOb05DpxJHEvAE%26feat%3Dembedwebsite"><img src="https://habrastorage.org/getpro/habr/post_images/41b/e03/6bf/41be036bf8e43ae12aeb5094cb4981d2.png"></a> <br><br>  When I woke up the next morning, I realized that the nerves of the guys still could not stand it and the picture already looked like this: <br><br> <a href="http://picasaweb.google.com/lh/photo/y4RsKsa7cQf7GqacVztMug%3Fauthkey%3DGv1sRgCPOb05DpxJHEvAE%26feat%3Dembedwebsite"><img src="https://habrastorage.org/getpro/habr/post_images/5a1/e19/04a/5a1e1904a93f7ecd240bb12bd6d21cc3.png"></a> <br><br>  As it turned out, about 3 and a half thousand people (out of 4,100 who had voted at the time) could not find peace that night without voting for their favorite slogan. <br>  The funny thing is that with all the absurdity of the situation, the participants firmly believed in their ‚Äúfair‚Äù victory and that no one suspected anything (!) Would tear themselves away from each other by more than 50-100 votes ... <br><br>  At that moment I decided to see what the PollDaddy.com service ‚Äúon the other side‚Äù is and registered on it (since the registration was free).  And he presented from a paid and free version.  Paid allowed to track the results of the competition in various ways, while free software did not allow anything and showed approximately the same information that was visible to all participants.  And the free version added a small link to the site of PollDaddy.com itself.  It is the link that can be seen on the screenshots I attached. <br>  The administration of the contest, from which I waited for at least some reaction to the events that took place at night, dispelled all my faith in them with a message on Twitter ‚ÄúGuys!  Vote favorite for the slogan!  Today is the last chance to vote! ‚Äù(Here is a little free translation from English).  I tried to write again the administrations so that they somehow clarified their position on the account of cheating and if they are still going to give the prize to the participant with the ‚Äúgreatest‚Äù number of votes in spite of everything, I can also try to write my script.  I waited a couple of hours for an answer not to follow ... Apparently they didn‚Äôt care who exactly would get the notorious iPad - the slogans are already there ... <br><br>  In fact, at that moment I was most uncomfortable in front of friends who responded to my request and voted (and at that moment they also wrote to me so that I would not be upset, and that most likely the results were rigged).  In addition, sports interest was beginning to emerge, since I had never had to wind up voting, and it was interesting to finally try it as a web developer (especially since 2 people out of 10 had already done this. I think it continued to persist in voting hands :)). <br>  Of course, there was also an alternative way, namely, to wait until the contest is over, the prize will find its ‚Äúlegitimate‚Äù winner, and then stand up in the ranks of people fighting for the truth and write angry and angry messages in the style of ‚ÄúWe were deceived!  Return the iPad to its rightful owner !!!  I had 190 honest voices !!!! ‚ÄùSo, that under the motto‚Äú Maybe someone will judge me, but I won't be among such people ‚Äù, pressed the cherished‚Äú View page source ‚Äùbutton ... <br><br><h2>  3. Cheating </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/335/c97/eb5/335c97eb5f8d9ef5980f5a975bea277a.png"><br><br>  Everything turned out to be even easier than I thought.  Button Vote!  was the following markup: <br><br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="button"</font> <font color="#ff0000">onclick</font> <font color="#0000ff">="javascript:vote(2813361,0,1,0,10);"</font> <font color="#ff0000">class</font> <font color="#0000ff">="button-blue-big"</font> <font color="#ff0000">value</font> <font color="#0000ff">="Vote!"</font> <font color="#0000ff">/&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  The very same vote () function looked like this: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">function</font> vote(id, poll_other, rand, poll_type, u) { <br> <font color="#0000ff">var</font> answerString = <font color="#A31515">''</font> ; <br> <font color="#0000ff">var</font> otherText = <font color="#A31515">''</font> ; <br> <br> <font color="#0000ff">for</font> (i = 0; i &lt; <font color="#0000ff">document</font> .formPoll.elements.length; i++) { <br> <font color="#0000ff">if</font> ( <font color="#0000ff">document</font> .formPoll.elements[i].type == <font color="#A31515">"checkbox"</font> || <font color="#0000ff">document</font> .formPoll.elements[i].type == <font color="#A31515">"radio"</font> ) { <br> <font color="#0000ff">if</font> ( <font color="#0000ff">document</font> .formPoll.elements[i]. <font color="#0000ff">checked</font> ) { <br> answerString += <font color="#0000ff">document</font> .formPoll.elements[i].value + <font color="#A31515">','</font> ; <br> } <br> } <br> } <br> <br> <font color="#0000ff">if</font> (poll_other == 1) { <br> otherText = _$( <font color="#A31515">'PDI_OtherText'</font> ).value; <br> } <br> <br> <font color="#0000ff">if</font> (answerString.length &gt; 0 || otherText.length &gt; 0) { <br> location.href = <font color="#A31515">'/vote.php?va='</font> + u + <font color="#A31515">'&amp;pt='</font> + poll_type + <font color="#A31515">'&amp;r='</font> + rand + <font color="#A31515">'&amp;p='</font> + id + <font color="#A31515">'&amp;a='</font> + answerString + <font color="#A31515">'&amp;o='</font> + otherText; <br> } <font color="#0000ff">else</font> { <br> alert( alert_no_answer ); <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  Well, everything seems to be clear - we take the value (id) of the marked radio button and send it to the right address along with the other parameters.  I was confused only by the rand variable, which apparently implied some sort of random value, but at the same time, how many I did not reload the page was always equal to 0. <br>  After that, it remained only to write a small console application (I used C #), which generates an HTTP GET request and sends it to the same address. <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) <br> { <br> <font color="#0000ff">int</font> repeat = (args.Length &gt; 0) ? <font color="#0000ff">int</font> .Parse(args[0]) : 1; <br> <font color="#0000ff">int</font> sleepTime = 2000; <font color="#008000">//2 sec</font> <br> <font color="#0000ff">int</font> rand = 0; <br> <font color="#0000ff">string</font> userAgent = <font color="#A31515">"Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US) AppleWebKit/533.2 (KHTML, like Gecko) Chrome/5.0.342.3 Safari/533.2"</font> ; <br> <font color="#0000ff">int</font> pollid = 2812840; <br> <font color="#0000ff">int</font> voting_id = 13304535; <br> <br> <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt; repeat; i++) <br> { <br> <font color="#2B91AF">Console</font> .Write(i + <font color="#A31515">" - "</font> ); <br> <font color="#0000ff">string</font> query = <font color="#A31515">"http://polldaddy.com/vote.php?va=10&amp;pt=0&amp;r="</font> + rand + <font color="#A31515">"&amp;p="</font> + pollid + <font color="#A31515">"&amp;a="</font> + voting_id + <font color="#A31515">",&amp;o="</font> ; <br> HttpWebRequest request = (HttpWebRequest)WebRequest.Create(query); <br> request.UserAgent = userAgent; <br> HttpWebResponse response; <br> response = (HttpWebResponse)request.GetResponse(); <br> <font color="#2B91AF">Console</font> .Write(response.StatusCode); <br> <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">". Waiting "</font> + sleepTime/1000 + <font color="#A31515">" seconds"</font> ); <br> Thread.Sleep(sleepTime); <br> } <br> <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"Done"</font> ); <br> <font color="#2B91AF">Console</font> .ReadKey(); <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  Posted  Just in case, put a pause between requests for 2 seconds.  I start: the first request is OK, the second request is OK, the third request is operation has timed out.  Che for garbage ?!  I start again - the same thing - the third request does not work.  Increased the pause between requests to 10 seconds.  Does not help.  I decided to try to watch <a href="http://www.fiddler2.com/fiddler2/">Fiddler</a> , what's the matter: <br><br> <a href="http://picasaweb.google.com/lh/photo/pOsyiw9b_6cPE_StVmULng%3Fauthkey%3DGv1sRgCPOb05DpxJHEvAE%26feat%3Dembedwebsite"><img src="https://habrastorage.org/getpro/habr/post_images/c21/e6e/3a4/c21e6e3a443d7b3b7d3cd0963167a6bb.png"></a> <br><br>  Fiddler showed that it turns out that the first page returns the HTTP result 302 and redirects to another, but I did not notice any other differences between the requests.  I added request.AllowAutoRedirect = true to the code so that the request automatically redirects (although in principle this should already be the default) - again the same result.  Good luck came unexpectedly - it was accidentally discovered that with Fiddler enabled, the third request goes bang (as seen in the picture), and the fourth and fifth passes, and so on.  There was no time to understand what the difference between the request that passes through the Fiddler proxy and the usual one, the main thing is that in principle the cheater is ready.  It was possible to run. <br><br>  Nevertheless, I did not want to dwell on such a simple solution, I wanted to complicate the task somehow, especially since when I registered at polldaddy.com and created my test goal, I still saw the option ‚ÄúBlock by cookie and IP‚Äù which for some incomprehensible reasons was ignored by the organizers of the vote.  Understanding that they could at any moment still ‚Äúdiscover‚Äù this option and thus chop off my swirl, I decided to prepare myself ahead of time ... Of course, it was impossible to force my .NET application to launch 10 thousand people, so I began to lean towards javascript, which send ajax GET Request when loading any page, and then redirect to another with more interesting content.  Thus, it would be possible to give a similar link to some popular resource and solve the IP blocking problem.  Made such a page using jQuery <a href="http://mnarinsky.com/mnarinsky/pages/addVote.htm">here</a> , but it was never useful in the end. <br><br><h2>  4. End of story </h2><br>  My cheater was ready when there was still about 7 hours left until the end of the competition.  It seemed stupid to play the game that had developed in the competition and to come out on top, with a preponderance of 10 votes.  Once cheat so cheat !!!  - I thought and turned it on at maximum speed.  After a while, I started cheating from one more machine with another IP.  Approximately half an hour caught up on the results of the "leaders."  At this point, the administration still woke up and made the first correct decision in this story, namely it turned off the ability to view the results.  After another 3 hours, when, according to my calculations, I should have had about 5-6 thousand votes, the vote was still stopped.  The official reason that they later voiced through their twitter was inconsistencies in voting practice. <br><br>  The next day, they actually announced a new contest, which now lies in the fact that you just need to stupidly write a specific message on Twitter, and the winner will be chosen randomly from those who wrote.  Of course, I wrote a message, but I have practically no interest in this contest.  You can also take part, by the way, if you want - <a href="http://friendsaround.me/contest">http://friendsaround.me/contest</a> (if you win you will need an address in the USA where to deliver the prize - if you write something, I can help with this). <br><br>  In the end, one of the organizers to my question why it was so difficult to think up the protection from the markups in advance, responded on Twitter that they simply did not approach the preparation of the competition quite well ... well, let's hope that at least they would be more serious about launching their startup ... <br><br>  UPD: By the way, I still haven‚Äôt figured out why the third and subsequent requests in my workout took place only when Fiddler was turned on, I would be grateful if someone tells you the reason ... </div><p>Source: <a href="https://habr.com/ru/post/87365/">https://habr.com/ru/post/87365/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../87357/index.html">Django, getting started with the database</a></li>
<li><a href="../87358/index.html">English. Learning problems</a></li>
<li><a href="../87359/index.html">CodeIgniter News - 2.0 soon</a></li>
<li><a href="../87362/index.html">Tele2 :: Roaming</a></li>
<li><a href="../87364/index.html">PyPy 1.2 came out and accelerated Python at times!</a></li>
<li><a href="../87367/index.html">iPhone OS 4.0 will get multitasking - Apple already has a solution</a></li>
<li><a href="../87368/index.html">Solve problems with encoding to mp3</a></li>
<li><a href="../87370/index.html">VOIP phone Voxtel Access 1500</a></li>
<li><a href="../87372/index.html">Ambilight for the <video> tag</a></li>
<li><a href="../87373/index.html">Action in PS, or how to cope with the mountain photo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>