<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating language extensions in RASE. Part 2. Create an expression</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Our starting point will be the project, resulting in the writing of the last article . 
 So, we have at our disposal a small module written in AS (two...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating language extensions in RASE. Part 2. Create an expression</h1><div class="post__text post__text-html js-mediator-article"><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extension-1/realaxy.jpg" alt="image" align="left">  Our starting point will be the project, resulting in the writing of the <a href="http://habrahabr.ru/blogs/Flash_Platform/122358/">last article</a> . <br>  So, we have at our disposal a small module written in AS (two strings framed in different quotes), the language <strong>myLanguages.escapedStrings</strong> , in which there are only two automation scripts related to the <strong>Intentions</strong> aspect: one processes the string in single quotes, and the other - string in double quotes. <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure01.png" alt="Screenshot"><br><br>  Perhaps, the implementation of this code cannot be called ideal, but it is a working example of a simple and effective solution of the task set before us: using the <strong>Intentions</strong> language, we can easily add new functionality to the editor.  The same way can be implemented slightly differently, but it is the <strong>Intentions that</strong> is the fastest and easiest. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      With a slight sadness, we look at our experimental string, flavored with a large number of slashes.  On the one hand, the problem is solved, but on the other - somehow ugly, wrong.  Why not suggest some simple way in which our string would remain the same, but would not cause the error "Incorrect string literal"?  There is nothing easier.  Recall that in some other languages ‚Äã‚Äãthere is a similar functionality - for example, in C # for such there is a convenient <strong>@ "..."</strong> construction, which would be quite suitable for us to port as a language extension in ActionScript. <br><a name="habracut"></a>  Do not forget that in RASE, the source code of the application (taking into account all the extensions used) is first processed by the generator, which creates the source code that the ActionScript compiler understands.  That is, we will be able to work with our line unchanged, but it will only undergo automatic screening at the time of generation. <br><br><br>  <strong>Step 1. For the work, comrades!</strong> <br>  You must create a new expression.  To do this, go to our language extension and in the <strong>structure</strong> aspect create a new concept. <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure02.png" alt="Screenshot"><br><br>  Enter the name of the concept - <strong>EscapedString</strong> . <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure03.png" alt="Screenshot"><br><br>  Then the question arises, which entity will it expand?  To answer it, you can try a little research.  If our string is enclosed in double quotes, then it is of type <strong>StringLiteral</strong> , and if in single quotes, then <strong>StringApostropheLiteral</strong> .  This assumption is easily confirmed by calling the context menu of our line and selecting <strong>Go to Concept Declaration</strong> (which is equivalent to the keyboard shortcut <em>Ctrl-Shift-S</em> or <em>Cmd-Shift-S</em> on the Mac). <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure04.png" alt="Screenshot"><br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure05.png" alt="Screenshot"><br><br>  In order to finally determine which concept will expand our <strong>EscapedString</strong> , you can again look at the context menu of the <strong>StringLiteralBase</strong> type and look at how it looks within the framework of the object hierarchy. <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure06.png" alt="Screenshot"><br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure07.png" alt="Screenshot"><br><br>  We see that <strong>StringLiteralBase</strong> , for which <strong>StringLiteral</strong> and <strong>StringApostropheLiteral are children</strong> , is itself inherited from <strong>Expression</strong> , implementing the IStringLiteral interface. <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure10.png" alt="Screenshot"><br><br>  Having studied the structure and methods of the <strong>StringLiteralBase</strong> concept, we decide to inherit from <strong>Expression</strong> with the <strong>IStringLiteral</strong> interface and get up one level with the <strong>StringLiteralBase.</strong>  Go back to our unfinished root and enter (note the spelling supported by the ‚Äúsmart‚Äù autocomplete by <em>Ctrl-Space</em> ): <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure11.png" alt="Screenshot"><br><br>  In the window with the hierarchy, the change will immediately be reflected in the displayed tree: <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure12.png" alt="Screenshot"><br><br>  Moving on.  The next step is to add an alias in the same window with our concept.  It will be used for autocomplete (to add a construction to the code, the user must enter the ‚Äú@‚Äù character).  For the same purpose, add a <strong>shortDescription</strong> (this is the description to the right of the alias in the auto-click menu). <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure13.png" alt="Screenshot"><br><br><br>  <strong>Step 2. Creating an editor</strong> <br>  We proceed to the creation of the editor (in the next tab). <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure14.png" alt="Screenshot"><br><br>  We create in it a visual representation of our future construction - enclosed in quotes <strong>value</strong> , before the quotes there is the symbol <strong>@</strong> <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure15.png" alt="Screenshot"><br><br>  <strong>Constant</strong> in our screenshot is a special cell in which the plain text is stored.  ‚ÄúConst‚Äù and <strong>‚Äúctrl + space‚Äù</strong> will soon become your frequent action when creating an editor. <br><br>  Add another cell ( <strong>Enter</strong> ) and select from the list of autocomplex <strong>‚Äú{value}‚Äù</strong> <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure16.png" alt="Screenshot"><br><br>  Add one more constant quotation. <br><br>  At this stage, the new module makes sense to compile the first time.  Press <em>Ctrl-F9</em> ( <em>Cmd + F9</em> ) or select <strong>Build&gt; Make Module (s)</strong> in the main menu, then go to <strong>Main ()</strong> to create an example with a new line. <br><br>  We enter the text starting with the <strong>@</strong> symbol (hooray! The autocompet is already running, which was set using the alias in the <strong>Structure</strong> section at the end of the first step), but notice that our design looks somehow unexpectedly strange. <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure17.png" alt="Screenshot"><br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure18.png" alt="Screenshot"><br><br><br>  <strong>Step 3. Restoring order</strong> <br>  To remove extra spaces, go back to the tab in which the editor was created, and pay attention to the <strong>Inspector</strong> window, in which the styles of each element appear.  You may notice that each element of our design has its own set of properties. <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure19.png" alt="Screenshot"><br><br>  Remove the space between the <strong>@</strong> and the opening quote.  To do this, select the "doggy" symbol and add the following property to the basic style: <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure20.png" alt="Screenshot"><br><br>  In order not to bother with the next invention of the bike when making quotes, we can look at the already working code and see how it is done in the similar tab in <strong>StringLiteralBase</strong> . <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure21.png" alt="Screenshot"><br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure22.png" alt="Screenshot"><br><br>  There, these styles are called <strong>StringQuotationOpen</strong> and <strong>StringQuotationClose respectively</strong> .  Copy them into your code.  And for the properties of the <strong>value</strong> field in our source, the following structure is responsible: <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure23.png" alt="Screenshot"><br><br>  Again we compile the language extension module and go to the <strong>Main ()</strong> class.  Quite another thing !. <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure24.png" alt="Screenshot"><br><br><br>  <strong>Step 4. Code generation</strong> <br>  Now it would be curious to look at the AS code in which our expression is generated.  From the context menu of the editor, select <strong>Generate (obsolete)&gt; Generate Text From Current Model</strong> (by the way, the same action is available at the bottom of the <strong>Build</strong> section of the main menu). <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure25.png" alt="Screenshot"><br><br>  The generated code can be viewed in the lower left corner of the screen in the <strong>Output</strong> window.  What do we see there? <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure26.png" alt="Screenshot"><br><br>  The message ‚Äú <strong>TexGen not found</strong> ‚Äù means: the editor cannot find the generator corresponding to our language extension.  Oh yes: we haven't written it yet. <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure27.png" alt="Screenshot"><br><br>  Add a new generator in the same way that we created every new aspect of our expansion.  Usually the name for the generator is chosen by the name of the target language, into which it will convert our code.  In our case, this language will be ActionScript. <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure28.png" alt="Screenshot"><br><br>  Obviously, the chosen name itself does not indicate its purpose, therefore, using the context menu, go to the properties of this aspect and in the lower window of the <strong>Dependencies</strong> tab (full path <strong>Generator Properties&gt; Dependencies&gt; Depends on Generator</strong> ) we specify its dependence on the ActionScript language. <br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure29.png" alt="Screenshot"><br><br>  In the third tab of the generator properties, we indicate at what stage in the chain of code generation of the entire project we will use it.  In our case, <strong>before</strong> ActionScript. <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure30.png" alt="Screenshot"><br><br>  The settings are set, you can proceed to the description of the generator logic.  We return to the <strong>root EscapedString</strong> .  Clicking on the empty field in the <strong>Generator</strong> tab, we call <strong>Template Declaration</strong> . <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure31.png" alt="Screenshot"><br><br>  Two tabs open to our gaze: the first is called <strong>main</strong> , and the second is <strong>reduce_EscapedString</strong> .  As you can guess, the first one contains the general rules for our design, and the second - direct operations on it. <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure32.png" alt="Screenshot"><br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure33.png" alt="Screenshot"><br><br>  Go to the <strong>reduce_EscapedString</strong> tab and insert the following construction: <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure34.png" alt="Screenshot"><br>  We receive the code of a usual line. <br><br>  <strong>Template Fragment</strong> (available by pressing the <em>Ctrl-Shift-F</em> key combination or via the <em>Alt-Enter</em> drop-down menu), this is a piece of code or text that we later insert into the generated code. <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure35.png" alt="Screenshot"><br><br>  A generator template annotation appeared around our line. <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure36.png" alt="Screenshot"><br><br><br>  Now we need to place the value in the generated string, for which we add the <strong>property macro</strong> to our line (we select the ready template from the intention list for <strong>node.value</strong> ): <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure37.png" alt="Screenshot"><br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure47.png" alt="Screenshot"><br><br>  As a result, if the module was compiled and the code was generated from <strong>Main (),</strong> we would get the following semi-finished product: <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure38.png" alt="Screenshot"><br><br>  As we can see, the generator so far drives out normal unscreened text. <br><br>  In order to add screening functionality, put the cursor on the <strong>‚Äú$‚Äù</strong> symbol and open the <strong>Inspector</strong> window.  We start writing code that will change the value of our string when generating: <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure39.png" alt="Screenshot"><br>  However, we will not describe the entire screening process in the <strong>property macro</strong> , since it is better to create a method at the <strong>EscapedString</strong> construction <strong>itself</strong> and call it from a macro.  To create methods for concepts, the <strong>Behavior</strong> aspect is specifically designed, in which we will create the <strong>escape ()</strong> method. <br><br>  <strong>Step 5. The Behavior Aspect</strong> <br>  Now we need to add the <strong>escape ()</strong> method to our concept. <br><br>  Using the familiar gesture through the context menu of our language <strong>myLanguages.escapedStrings</strong> , <strong>we</strong> add the <strong>Behavior</strong> aspect to the project <strong>.</strong> <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure40.png" alt="Screenshot"><br><br>  Our task is to get a valid line at the output, with all the necessary slashes. <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure41.png" alt="Screenshot"><br><br>  Select <strong>this.</strong>  <strong><em>value</em></strong> , using the corresponding item from the refactor menu or using the keyboard shortcut <em>Ctrl-Alt-V</em> ( <em>Cmd-Alt-V</em> ), we turn it into the local variable <strong>result</strong> , which will be output by our method. <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure42.png" alt="Screenshot"><br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure43.png" alt="Screenshot"><br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure44.png" alt="Screenshot"><br><br>  In order not to complicate the task, the working code will be posed from the example of <strong>Intentions</strong> given in the previous article.  In the editor, for this there is a keyboard shortcut Ctrl-E ( <em>Cmd-E</em> ), calling the window with a list of recently opened files. <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure45.png" alt="Screenshot"><br><br>  Without further ado, we copy lines of code from one root to another (when copying, RASE will ask us about import, but we will choose <strong>Import None</strong> ).  If you created a project from scratch, and not based on a learning project, do not forget to import the <strong>Regexp</strong> language using the <em>Ctrl-L shortcut</em> ( <em>Cmd-L</em> ). <br><br>  In the end, after several fixes, our source should look like this: <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure46.png" alt="Screenshot"><br><br>  In order for the resulting code to work, it remains for us to return to the <strong>Generator</strong> aspect, where we should change the <strong>node</strong> in the Inspector <strong>.</strong>  <strong><em>value</em></strong> on <strong>node.</strong>  <strong><em>escape ()</em></strong> . <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure47.png" alt="Screenshot"><br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure48.png" alt="Screenshot"><br><br>  Compile the module, generate the ActionScript and look at the result. <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure49.png" alt="Screenshot"><br><br><br>  <strong>Step 6. Type for Node window</strong> <br>  We have achieved some success in creating educational language expansion, but it is impossible not to notice that the result was a bit strange.  Why?  Because from our line so far a little practical use, and even if you take a closer look, in the current intermediate result, we did not get a string (type <strong>String</strong> ), but in general <em>it</em> is <em>not clear what</em> .  Do not believe - see for yourself by trying to call some action first for the adjacent "normal" lines ... <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure50.png" alt="Screenshot"><br><br>  ... and then for ours: <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure51.png" alt="Screenshot"><br><br>  You can confirm the unnatural nature of our line by calling the type system window ( <em>Ctrl-Shift-T</em> or <em>Cmd-Shift-T</em> ), informing you that our expression has <em>no</em> type: <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure52.png" alt="Screenshot"><br><br><h5>  The type system is not an easy area, especially for novice programmers.  The type system creates a semantic layer that defines the rules for the interaction and mutual definition of elements.  By analogy with the classification of the animal world, in which there are different entities with certain relationships, for example, "elephants", "dogs", "animals", etc.  (at the same time both ‚Äúelephant‚Äù and ‚Äúdog‚Äù are both ‚Äúanimals‚Äù, but ‚Äúelephant‚Äù is not a ‚Äúdog‚Äù). </h5><br>  In order for the behavior of our string in different contexts to become more predictable (and useful), we need to bring it to the appropriate type.  In order not to complicate your life, we will again go to the trick and try to <strong>peek</strong> at the properties of the <strong>typesystem</strong> aspect of the ‚Äúreal‚Äù line. <br><br>  Opening the tab with the code of our favorite <strong>StringLiteralBase</strong> , you can find the following constructions: <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure53.png" alt="Screenshot"><br><br>  Yeah, before us is the <strong>Intention rule</strong> , as if to say that the entity being represented is a type of <strong>String</strong> .  It uses a special language <em>Quotation</em> ( <em>"Citation"</em> ), allowing you to insert, for example, code into ActionScript or MXML, thereby achieving compactness and semanticity. <br>  We create in our educational language aspect <strong>Typesystem</strong> . <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure54.png" alt="Screenshot"><br><br>  We import with the help of <em>Ctrl-L</em> (or <em>Cmd-L</em> ) the Quotation language into our project and reproduce the same exact logic in our language extension. <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure55.png" alt="Screenshot"><br><br>  In the body of the method, by analogy with <strong>StringLiteralBase, we</strong> reproduce the following: <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure56.png" alt="Screenshot"><br><br>  Then ‚Äî this is important ‚Äî insert the <strong>ClassifierType</strong> ... <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure57.png" alt="Screenshot"><br><br>  By the key combination <em>Ctrl-R</em> ( <em>Cmd-R</em> ) we call import of the model. <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure58.png" alt="Screenshot"><br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure59.png" alt="Screenshot"><br><br>  And finally, you can add a <strong>String</strong> . <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure60.png" alt="Screenshot"><br><br>  For reference: something like this looks like a similar code <em>without using</em> the <strong>Quotation</strong> extension. <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure61.png" alt="Screenshot"><br><br>  The module can be compiled - now our entity has found its place in the <strong>ActionScript</strong> type system. <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure62.png" alt="Screenshot"><br><br><br>  <strong>Step 7. Left Transformations</strong> <br>  Meanwhile, there are still a few things that should be mentioned in this article.  At the end of Step 1, we asked an alias for our expression: <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure13.png" alt="Screenshot"><br><br>  The editor has two more important behaviors - these are left and right transformations (you can learn more about them in the introductory article about RASE).  In simple terms, we must teach the editor to turn a regular line into a screened one. <br><br>  Add a new aspect of <strong>Action</strong> to the language with the command <strong>transform menu actions</strong> . <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure63.png" alt="Screenshot"><br><br>  We give this entity the name <strong>makeStringEscaped</strong> and start making edits.  We are interested in the left transformation of <strong>StringLiteralBase</strong> to <strong>EscapedString</strong> . <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure64.png" alt="Screenshot"><br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure65.png" alt="Screenshot"><br><br>  We add a <strong>simple item</strong> and start filling out the following template: <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure66.png" alt="Screenshot"><br><br>  As a result, we should get something like this code: <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure67.png" alt="Screenshot"><br><br>  The project can be compiled.  Now when you add the <strong>@</strong> character to any string, it will instantly turn into an <strong>EscapedString</strong> . <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure68.png" alt="Screenshot"><br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure69.png" alt="Screenshot"><br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure70.png" alt="Screenshot"><br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure71.png" alt="Screenshot"><br><br>  It remains to add the opposite action - transformation of the <strong>EscapedString</strong> entity into the source string when deleting <strong>@</strong> . <br><br><br>  <strong>Step 8. Improving Editor Behavior</strong> <br>  Go to the Editor, where we already have a certain structure: <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure72.png" alt="Screenshot"><br><br>  It is required to add a certain keyword to it, if it were deleted, the reverse transformation would occur.  Select <strong>Create new&gt; cell action map</strong> . <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure73.png" alt="Screenshot"><br><br>  Now you should learn how to handle the event of deleting the <strong>@</strong> symbol.  There are two ways - difficult (interception of input from the keyboard) and simple ( <strong>action map</strong> ). <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure74.png" alt="Screenshot"><br><br>  Our choice is small, select <strong>DELETE</strong> and enter the code that would replace <strong>EscapedString</strong> with <strong>StringLiteral.</strong> <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure75.png" alt="Screenshot"><br><br>  In the adjacent tab, select the field containing the <strong>@</strong> symbol in order to assign an <strong>action map</strong> to it in the <strong>Inspector</strong> window. <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure76.png" alt="Screenshot"><br><br>  To make our transformation fully workable, we add the <strong>editable: false</strong> parameter to the properties of the neighboring field (the opening quote). <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure77.png" alt="Screenshot"><br><br>  Learning language extension is completely ready. <br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure78.png" alt="Screenshot"><br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure79.png" alt="Screenshot"><br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure80.png" alt="Screenshot"><br><br><img src="http://realaxy-media.s3.amazonaws.com/tutorials/language-extensions-2/Figure81.png" alt="Screenshot"><br><br>  <strong>9. Conclusion</strong> <br>  We hope that after reading this article, the creation of language extensions has ceased to be something unrealistic for a regular developer.  You can start small and automate your work through the <strong>intenions</strong> without creating language constructs.  And when there is confidence and real need, you can start writing your own languages ‚Äã‚Äãand DSL.  It is only important to learn to understand simple principles of work in the MPS platform, to navigate it and find ready-made solutions in other languages.  In the following articles we will try to open this topic even deeper. </div><p>Source: <a href="https://habr.com/ru/post/122650/">https://habr.com/ru/post/122650/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../122642/index.html">Jingle became the base protocol for GTalk</a></li>
<li><a href="../122644/index.html">Winklevoss twins didn‚Äôt think to retreat from Facebook</a></li>
<li><a href="../122645/index.html">kedDroid - S03E08. Video review software for Android</a></li>
<li><a href="../122646/index.html">Ax porridge</a></li>
<li><a href="../122648/index.html">Jon von Techner will leave Opera</a></li>
<li><a href="../122652/index.html">Sandbox broken</a></li>
<li><a href="../122653/index.html">Mark the Day of the system administrator in Odessa!</a></li>
<li><a href="../122657/index.html">Is there phonetic sorting?</a></li>
<li><a href="../122658/index.html">Browser Market in Runet</a></li>
<li><a href="../122659/index.html">Number Theory in TeX-way</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>