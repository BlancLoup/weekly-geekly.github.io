<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How do we in 1C: Enterprise work with data models (or ‚ÄúWhy do we not work with tables?‚Äù)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article we want to talk about what model of work with data is selected in the 1C: Enterprise platform and why. 

 For business applications, w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How do we in 1C: Enterprise work with data models (or ‚ÄúWhy do we not work with tables?‚Äù)</h1><div class="post__text post__text-html js-mediator-article">  In this article we want to talk about what model of work with data is selected in the 1C: Enterprise platform and why. <br><br>  For business applications, working with data is a very important architectural issue.  One way or another, the entire work of the application is built around data.  Moreover, if in some classes of software systems the data are of an auxiliary nature, in business applications the data is the main content of the tasks to be solved. <br><br>  Here (in this article) we are not talking about the technical aspect of storing and manipulating data, but about describing data as a way to design an application.  Why is data so important for business applications? <br><a name="habracut"></a><br>  Because they describe the subject area itself.  What entities are in business, how are they related.  The data very well describe the task itself.  After all, when designing applications, we are not interested in absolutely all the data, but are interested in those data (and their interrelationships) that in one way or another affect the problem being solved (including some reserve of system development in potentially interesting directions).  For example, if we automate the process of personnel development, then we will be interested in education, work history by employees.  But we will not reflect information on the size of clothes and shoes.  But, if, for example, we want to automate the accounting of workwear, then it becomes interesting.  Although, an inquisitive designer can put the question here.  Where the development of staff, there is motivation.  And where is the motivation, there and, perhaps, the manufacture of clothing with brand logo.  Here it can be seen that the amount of data in nature is infinite, and the art of data modeling largely determines the art of designing applications. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Of course, a very important place in business applications and occupy processes.  Although there is a strong desire (both for us and developers of other platforms for developing business applications) to place greater weight on application design on processes, but the data still remains the most significant aspect of the subject area.  And it is on the reflection of the data that the main application model is built. <br><br>  We make only a small reservation.  Data here refers to data accompanying processes.  That is, it turns out that the processes are also indirectly expressed through the data model. <br><br>  In the 1C: Enterprise platform, there are mechanisms for reflecting processes, but this is the topic of a separate article. <br><br>  There are several traditional paradigms for working with data. <br><br>  First of all - there is a classic relational model.  It describes the data as relational tables (usually stored in relational DBMS).  This paradigm, though not at all new, is quite relevant. <br><br>  There is an object paradigm.  It describes the data as objects of a programming language and is somehow stored in a database.  This can be a relational or object database.  In the first case, the simulation capabilities are determined by the <a href="https://ru.wikipedia.org/wiki/%25D0%25A0%25D0%25B5%25D0%25BB%25D1%258F%25D1%2586%25D0%25B8%25D0%25BE%25D0%25BD%25D0%25BD%25D0%25B0%25D1%258F_%25D0%25A1%25D0%25A3%25D0%2591%25D0%2594">DBMS</a> , in the second case, the <a href="https://ru.wikipedia.org/wiki/ORM">ORM</a> used. <br><br>  There are also techniques and approaches that are used less frequently (when creating business applications).  For example, an approach based on semistructured data. <br><br>  Now, in fact, about the approach that we have chosen for the 1C: Enterprise platform.  For him there is no officially accepted name.  Let's call it ‚Äúthe type model of applied objects‚Äù.  The essence of the approach is that the platform offers the developer a certain set of types of application objects.  Each type is intended to be reflected in the application model of a certain category of domain entities.  The application developer, when reflecting the domain of the problem being solved in the application model, should select the appropriate types of objects and use them to describe the data model.  In fact, while he describes not only the data model, but, in many respects, the model of the application itself.  But more on that later. <br><br>  What is the type of application object? <br><br>  This is some kind of template embedded in the platform (it can also be considered an abstract class), defining many different aspects of working with the essence of the domain. <br><br>  Types of application objects appear during development (in design-time) and during system operation (in run-time).  In design-time, this is a meta-model for describing objects in metadata and classes for manipulating data in a program model.  In run-time these are various aspects of the system behavior when working with objects of this type.  For example, the behavior of the lock mechanism. <br><br>  In 1C: Enterprise there are several types of application objects. <br><br>  For example, take three types: <br><br><ul><li>  Directories </li><li>  Documents </li><li>  Accumulation registers </li></ul><br>  Directories are intended to reflect in the system some conditionally permanent information (lists of employees, goods, clients ...). <br><br>  Documents reflect some of the events of the subject area (sale, recruitment, transfer of money to the bank).  Sometimes they are called by the name of printed forms (‚Äúpayment order‚Äù, ‚Äúorder for admission to work‚Äù, ...).  But this is just for convenience of understanding.  In fact, this is exactly the type of event, not the printed form. <br><br>  Accumulation registers are intended to be reflected in the application of some accounting system.  For example, accounting storage of cash or goods in warehouses. <br><br>  Let's see what all the same is included in the "set" of opportunities provided by the types of application objects <br><br>  First of all, of course, the type of application object describes the data model and provides data mapping to the relational storage model.  But this is only a small part of what it defines. <br><br>  For example, for reference: <br><br><ul><li>  there are several standard details (fields), embedded directly into the platform (reference-identifier, code, name, reference to the parent for the hierarchical directory, ...) </li><li>  You can describe your (arbitrary) details (fields) </li><li>  You can describe the tabular parts, which are closely related entities (containment) or else they can be considered as nested tables. </li></ul><br>  For a document, it looks like, but there is a standard attribute, Date, which reflects the position of the event relative to other events on the time axis, as well as the ‚ÄúDone‚Äù feature, which determines whether the document is reflected in the accounting system or is a draft. <br><br>  For the register of accumulation of the field are divided into dimensions, resources and details.  Dimensions describe the coordinate system of the accounting model (for example, product, warehouse), resources - indicators (for example, quantity, sum), details - just additional fields (which do not affect the accounting model, but commenting on the movement records). <br><br>  Why do we operate with types of application objects, and do not operate, for example, with just tables (or just entities)? <br><br>  This is a very important point.  Tables have many advantages.  They are closer to the simplest modeling in the relational model; they do not limit the developer to the framework of the types inherent.  But the tables and do not give those opportunities that gives us the chosen approach. <br><br>  The essence of the approach we have chosen is (to put it in simple terms) that in our approach the system (platform) itself ‚Äúknows a lot of things‚Äù about the objects described and ‚Äúknows a lot of things with them‚Äù.  Based on this knowledge and skills, the system automatically provides more than a dozen different mechanisms that work directly or indirectly with these objects.  That is, it turns out that the application developer chooses the type of object and describes a specific object, and the platform, knowing the type and description of a specific object, provides many different useful functions and mechanisms.  This is achieved due to the fact that the semantics of objects of a given type are defined at the level of an object type (the object's purpose is ‚Äúlarge‚Äù), and the metadata model allows specifying the semantics of a specific object due to various properties and specialized models describing various aspects of life activity. <br><br>  We list only some of them: <br><br><ul><li>  First of all, of course, this is the creation of data structures for storage and the automatic transformation of the structure when the model changes. </li><li>  A set of classes in the object model for manipulating data (read, write, search) </li><li>  Object-relational mapping mechanism </li><li>  A set of typical data processing procedures.  For example, for documents, this is automatic numbering, for a register, this is a calculation of totals, getting a slice of residuals at a particular point in time, etc. </li><li>  Reflection in the system of rights.  Since the system knows about the purpose of the object, it knows what rights will be relevant for it </li><li>  Visualization (reflected in the interface).  Again, knowing the purpose and role of objects, the system itself constructs both commands in the application interface for accessing objects of this type, forms for viewing and editing, and commands for various actions with the object. </li><li>  Data exchange.  Based on the knowledge of data semantics, the platform provides a standard mechanism for asynchronous exchange of modified data both among related applications (distributed base nodes) and between heterogeneous applications (written both in 1C: Enterprise and other technologies) </li><li>  Object and transaction locks.  In order to properly build a locking system, you need knowledge of data assignment and relationships. </li><li>  Mechanism characteristics (additional fields, user-defined) </li><li>  Automatically provided REST interface (OData standard) </li><li>  Data upload / download to XML, JSON </li><li>  In addition, mechanisms such as full-text search, data access logging, etc. automatically work. </li></ul><br><br><img src="https://habrastorage.org/web/134/734/d14/134734d142a94097a66f4854cfbd80c2.png" alt="image"><br>  <b>The diagram shows not all the platform mechanisms that operate on the basis of application objects, but only some.</b> <br><br>  In a sense, the types of application objects intersect with the aspect-oriented approach.  Since all of the listed opportunities are some predefined aspects that reflect the types of application objects.  It can be said that the types of application objects are not just templates, but parameterized templates.  Parameterization is carried out by a set of metadata properties.  By selecting the property value, the developer parametrizes the template of the selected type of application object and specifies the behavior of the object in a particular aspect.  For example, he can select the type of document numbering (within a year, quarter, month ...) and the system will automatically ensure the assignment and control of numbers with a specified frequency. <br><br>  Types of applied objects provide knowledge of the semantics not only of the entities themselves, but also of the semantics of their interrelationships.  For example, there is a standard link between documents and registers, reflecting how events are reflected in the accounting model in the subject area.  Having identified such a link, the developer immediately obtains the finished functionality for the joint lifetime of the document and the associated registry entries. <br><br>  Separately, it is worth mentioning important subject-oriented aspects. <br><br>  For example, for reference books it is possible to enable hierarchy support with one checkbox.  At the same time, the system will provide support for hierarchical directories in everything: in the user interface, in reports, in the object model. <br><br><img src="https://habrastorage.org/web/a8d/c79/4f5/a8dc794f532a4ff39c973039d872a929.png" alt="image"><br>  <b>Setting one directory property ‚ÄúHierarchical Reference‚Äù immediately supports hierarchy in the user interface, in reports, in the object model.</b> <br><br>  For documents, there are opportunities such as journals, combining several types of documents, continuous numbering by periods, etc. <br><br>  For accumulation registers, the most important possibility is the automatic storage of calculated totals and ready-made virtual tables for access to the results in various sections and taking into account the periodicity. <br><br>  That is, in essence, an essential part of the universal (typical) mechanisms of the application business logic, characteristic for the relevant data category of the domain, is incorporated into the types of application objects. <br><br>  It turns out that the developer assembles the application from the objects of the selected types, as from the details of the designer.  Moreover, if there are designers with ‚Äúabstract‚Äù parts, then in our designer parts are already with ‚Äúpurpose‚Äù - wheels, windows, doors ... <br><img src="https://habrastorage.org/web/063/08a/33c/06308a33cea5470f97e2ab498ecfcef5.png" alt="image">  <b>Based on the ‚ÄúDirectory‚Äù type, the developer builds reference books of products, employees, currencies, clients;</b>  <b>based on the type of "Document" - documents "Purchase Order", "Account", "Sales Order", etc.</b> <br><br>  Still it is necessary to say about the methodological value of this approach.  All developers operate with a certain set of concepts that helps them to better understand the essence of applications, simplifies communication.  Having opened an unfamiliar 1C: Enterprise project, the developer immediately sees familiar concepts and can quickly figure out what role this or that object plays in the system.  For example, to understand the essence of the application, it is worth looking at the list of registers - usually it reflects the main purpose of the application.  If you open the structure of tables or, moreover, the structure of classes of an unfamiliar application written on tools that operate on tables and classes, then there will be significantly less understanding. <br><br>  But, more importantly, this approach brings the language of developers and business representatives (or analysts) closer together.  About the need for such a language is well said in the book <a href="https://www.ozon.ru/context/detail/id/5497184/">‚ÄúSubject-oriented design (DDD).</a>  <a href="https://www.ozon.ru/context/detail/id/5497184/">Structuring Complex Software Systems ‚Äùby</a> Eric Evans.  The types of application objects quickly become understandable to non-programmers, and this allows analysts, customers and developers to discuss the main project functionality in the same language.  Often you can meet representatives of business or analysts who do not own programming, but can set the task in terms of the types of 1C: Enterprise application objects. <br><br>  What else is interesting.  This approach ensures the continuous development of the system.  We add new mechanisms to the platform, and they immediately start working for already existing objects (without the efforts of an application developer or with minimal effort).  For example, we recently developed a <a href="https://wonderland.v8.1c.ru/blog/istoriya-dannykh/">mechanism for storing data history (versioning)</a> .  Since the system knows in general about the semantics of the data, the developer simply tick the box that he wants to store the data history of a specific object, and the platform provides everything that is needed, from storing the history to visualization - displaying the history of changes to the user as various reports.  When we previously developed <a href="https://wonderland.v8.1c.ru/blog/avtomaticheskiy-rest-interfeys-prikladnykh-resheniy/%3Fsphrase_id%3D17123">the standard REST interface mechanism</a> (based on the OData standard), a ready-made REST interface immediately appeared in all applications.  Developers did not have to modify anything for this. <br><br>  Why don't we also make ‚Äújust tables‚Äù (in addition to the ready-made types of application objects)?  This is a difficult question.  We ourselves ask it periodically. <br><br>  On the one hand, this seems tempting.  So we would close all disputable cases where the subject area does not ideally fit into the set of types of application objects we prepared.  It was possible to say to the developers - ‚Äúwell, here is just a table for you - and do everything in it as you wish.‚Äù  But on the other hand, this will lead to the fact that all our standard mechanisms will be ‚Äúat a loss‚Äù - how do they deal with these tables?  After all, they will not know the semantics of this data and will not be able to figure out how to work with them correctly.  Well, that is, you can work with them "somehow."  Strictly speaking, we have such experience in terms of external sources.  For external sources, we describe exactly the tables (without specifying the subject orientation).  And the system works with them in some universal way - at the same time, some of the functionality is not supported. <br><br>  For the time being, we still try to refrain from introducing ‚Äújust tables‚Äù in order to ensure the purity of the model and the ability to add new functionality based on the knowledge of the semantics of all data.  If some opportunities are not enough, then at first we will still consider how to develop the types of applied objects.  But, of course, this is a debatable question, and we will continue to think about it. <br><br>  Thus, the possibilities that the 1C: Enterprise platform provides in its finished form, and the increase in the level of abstraction that is appreciated by application developers, is largely based on a set of types of application objects.  This is one of the most significant differences between 1C: Enterprise and other development tools and one of the main tools that ensures rapid and unified development. </div><p>Source: <a href="https://habr.com/ru/post/334050/">https://habr.com/ru/post/334050/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../334038/index.html">Configure push notifications for your service</a></li>
<li><a href="../334042/index.html">Gamecube - file system device</a></li>
<li><a href="../334044/index.html">Comparison of Russian cloud service operators</a></li>
<li><a href="../334046/index.html">How to teach your neural network to generate poems</a></li>
<li><a href="../334048/index.html">Selenium: for apple lovers</a></li>
<li><a href="../334052/index.html">1.Check Point to the maximum. The human factor in information security</a></li>
<li><a href="../334054/index.html">Evolution of web application attacks</a></li>
<li><a href="../334056/index.html">Dismissal is a little death. How to save a valuable specialist who decided to quit?</a></li>
<li><a href="../334058/index.html">The power of minimalism in UX design</a></li>
<li><a href="../334060/index.html">The easiest keylogger and security in KeePass</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>