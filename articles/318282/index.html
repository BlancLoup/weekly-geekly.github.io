<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The truth about traditional JavaScript benchmarks</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It may be fair enough to say that JavaScript is the most important modern technology in software development. For many of those who have studied progr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The truth about traditional JavaScript benchmarks</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/a99/0aa/d96/a990aad96e82fa731e5709d47bfd3b81.jpg" alt="image"><br><br>  It may be fair enough to say that JavaScript is the most important modern technology in software development.  For many of those who have studied programming languages, compilers and virtual machines, it‚Äôs still surprising that, for all its elegance in terms of the structure of the JavaScript language, we are not very good at compiling and cannot boast a great standard library.  Depending on who your interlocutor is, you can list the flaws in JavaScript for weeks and still find out some oddity about which you have not heard.  But despite the obvious shortcomings, today JavaScript is a key technology on the web, it is moving toward dominance in the server / cloud realm (thanks to Node.js), and also penetrates the Internet of things. <br><a name="habracut"></a><br>  The question arises - why is JavaScript so popular?  I am afraid I do not have an exhaustive answer.  Today there are many reasons for using this language, the most important of which are probably a huge ecosystem built around JavaScript and a myriad of resources.  But all this is to a certain extent a consequence.  And why did the language initially become popular?  You can say: because for a long time he was a lingua franca for the web.  But that was a long time ago, and developers passionately hated JavaScript.  Looking back, the popularity of JavaScript began in the second half of the 2000s.  Just at that time, JavaScript engines started working much faster with various loads, which probably influenced the attitude of many to this language. <br><br>  In those years, so-called <b>traditional JavaScript benchmarks</b> were used to measure speed, starting with Apple <a href="https://webkit.org/perf/sunspider/sunspider.html">SunSpider</a> , the progenitor of all JS micro benchmarks, then there were Mozilla <a href="http://krakenbenchmark.mozilla.org/">Kraken</a> and Google V8.  Later, Google's benchmark was supplanted by <a href="https://developers.google.com/octane">Octane</a> , and Apple released <a href="http://browserbench.org/JetStream">JetStream</a> .  These traditional benchmarks have made incredible efforts to bring JavaScript performance to a height that no one had expected at the beginning of the century.  Thousands of accelerations were noted, and suddenly the use of <code>&lt;script&gt;</code> no longer a dance with the devil, and the execution of calculations on the client side was not only possible, but even encouraged. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/c91/f24/a80/c91f24a8027b49729e8d454f9b98bb00.png"><br><br>  <i>Source: <a href="https://www.youtube.com/watch%3Fv%3DPvZdTZ1Nl5o">Advanced JS performance with V8 and Web Assembly</a> , Chrome Developer Summit 2016, <a href="https://twitter.com/s3ththompson">@ s3thompson</a> .</i> <br><br>  In 2016, all (significant) JS engines achieved incredible performance, and web applications became as nimble as their native (or can be as nimble as).  The engines come with sophisticated optimized compilers that generate short sequences of highly optimized machine code.  This is achieved through a thoughtful choice of type / shape (type / shape) for each operation (access to properties, binary operations, comparisons, calls, and so on) depending on the available statistics on various types / forms.  Most of these optimizations were dictated by microbenches like SunSpider and Kraken, as well as statistical packages like Octane and JetStream.  Thanks to JavaScript-based technologies like <a href="http://asmjs.org/">asm.js</a> and <a href="https://github.com/kripken/emscripten">Emscripten,</a> today you can compile large C ++ applications in JavaScript and run them in a browser without any download or installation.  For example, you can easily play out of the box on the network in <a href="http://beta.unity3d.com/jonas/AngryBots">AngryBots</a> , while earlier this required special plug-ins like Adobe Flash or Chrome PNaCl. <br><br>  The overwhelming majority of all these achievements became possible due to the presence of microbench marks and performance measurement packages, as well as competition between traditional JS benchmarks.  You can say anything about SunSpider, but obviously, without it, JavaScript performance would hardly be the same as today. <br><br>  But enough praise, it's time to look at the back of the coin.  All measurement tests ‚Äî be it microbenchmarks or large packages ‚Äî are doomed to become irrelevant over time!  Why?  Because the benchmark can teach you something only until you start playing with it.  As soon as you exceed (or do not exceed) a certain threshold, the overall applicability of optimizations that give a gain for a given benchmark will decrease exponentially. <br><br>  For example, we used Octane as a proxy to measure the performance of real web applications.  And for some time he coped well with this task.  But today, the distribution of time in Octane and real-world applications is very different, so further optimization of Octane is unlikely to lead to any significant improvements in real-world applications (including for Node.js). <br><br><img src="https://habrastorage.org/files/f85/88c/462/f8588c4626e54dab82ae91e7aab07928.png"><br><br>  <i>Source: <a href="https://youtu.be/xCx4uC7mn6Y">Real-World JavaScript Performance</a> , BlinkOn 6 Conference, <a href="https://twitter.com/tverwaes">@tverwaes</a> .</i> <br><br>  As it became increasingly obvious that all the traditional benchmarks for measuring JavaScript performance, including the most recent versions of JetStream and Octane, seemed to have become obsolete, we began to look for new ways to measure real-world applications, adding new interceptors for profiling and tracing.  We also used funds that allow us to understand what we spend more time on when browsing websites: the execution of the script, garbage collection, compiling, and so on.  The results of the research were very interesting and unexpected.  As can be seen from the previous illustration, when you start Octane, more than 70% of the time is spent on executing JavaScript and garbage collection, while viewing sites on JavaScript always takes less than 30% of the time, and garbage collection does not exceed 5%.  But a lot of time is spent on parsing and compiling, which cannot be said about Octane.  So significant efforts to optimize the execution of JavaScript will give you a good gain of parrots in Octane, but sites will not load much faster.  Moreover, the enthusiasm for optimizing the execution of JavaScript can even harm the performance of real applications, because the compilation will take more time - or you will need to keep track of additional parameters that will lengthen the compilation, IC and Runtime. <br><br><img src="https://habrastorage.org/files/f65/f5d/485/f65f5d485ad841b3b2959878ca40eb33.png"><br><br>  There is another benchmark package that attempts to measure the overall performance of the browser, including JavaScript <b>and the</b> DOM: <a href="http://browserbench.org/Speedometer">Speedometer</a> .  He tries to approach the measurement more realistically by running a simple <a href="http://todomvc.com/">TodoMVC</a> application implemented on various popular web frameworks (today it is a bit out of date, but a new version is already being made).  The package includes new tests (angular, ember, react, vanilla, flight and backbone).  Today, the Speedometer seems to be the preferred option for the role of a proxy to measure the performance of real applications.  But note that this is data as of mid-2016, and everything could change as the patterns used on the web evolved (for example, we will refactor the IC system to drastically reduce costs, and also <a href="https://twitter.com/bmeurer/status/806927160300556288">redesign the parser</a> ).  Although it looks like the situation described above is only related to browsing sites, we received very convincing evidence that traditional peak performance benchmarks are not very well suited for the role of proxy in the case of real Node.js applications. <br><br><img src="https://habrastorage.org/files/16d/fc4/42a/16dfc442aa1342e4b9a643f3a4821ff5.png"><br><br>  <i>Source: <a href="https://youtu.be/xCx4uC7mn6Y">Real-World JavaScript Performance</a> , BlinkOn 6 Conference, <a href="https://twitter.com/tverwaes">@tverwaes</a> .</i> <br><br>  Probably, all this is already known to a wide audience, so I‚Äôll only dwell on a few specific examples illustrating the idea why it‚Äôs not just useful for the JS community, but it is also crucial for us to stop paying attention to static benchmarks of peak performance from a certain point.  I‚Äôll start with examples of how JS engines can run benchmarks and how they actually do it. <br><br><h1>  Infamous SunSpider Examples </h1><br>  An article on traditional JS benchmarks would be incomplete without mentioning the obvious problems of SunSpider.  Let's start with the performance test, whose applicability in real situations is limited: <a href="">bitops-bitwise-and.js</a> . <br><br><img src="https://habrastorage.org/files/5bf/986/bcf/5bf986bcf3ab46048a21a914fcee0355.png"><br><br>  There are a couple of algorithms that require a quick bitwise AND operation (bitwise AND), especially in code transpile from C / C ++ to JavaScript.  However, it is unlikely that web pages care whether the engine can perform the bitwise operation AND in a cycle twice as fast as another engine.  You probably noticed that after the first iteration of the loop, bitwiseAndValue becomes 0 and remains so for the next 599,999 iterations.  So as soon as you run it with good performance, that is, faster than 5 ms on a decent hardware, you can start chasing this benchmark in an attempt to understand that only the first iteration of this cycle is needed, and all the others are just a waste of time (i.e. dead code after <a href="https://ru.wikipedia.org/wiki/%25D0%25A0%25D0%25B0%25D1%2581%25D1%2589%25D0%25B5%25D0%25BF%25D0%25BB%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5_%25D1%2586%25D0%25B8%25D0%25BA%25D0%25BB%25D0%25B0">splitting cycle</a> ).  To perform such a conversion to JavaScript, you will need to check: <br><br><ul><li>  is <code>bitwiseAndValue</code> normal property of a global object before the script is executed, </li><li>  so that there is no interceptor of a global object or its prototypes, and so on. </li></ul><br>  But if you really want to win the benchmark and are ready for anything for this, you can complete the test in less than 1 ms.  But the applicability of optimization is limited only to this particular case, and small changes to the test probably will not lead to its triggering. <br><br>  In short, the <a href="">bitops-bitwise-and.js test</a> was the worst example of a microbenchmark.  Let us turn to a more practical example - the test <a href="">string-tagcloud.js</a> .  In fact, it drives a very early version of the json.js <code>json.js</code> .  Perhaps this test looks much more reasonable than the previous one.  But if you take a closer look at the benchmark profile, it becomes obvious that he spends a lot of time on a single <code>eval</code> expression (up to 20% of the total execution time for parsing and compiling and up to 10% for real execution of the compiled code): <br><br><img src="https://habrastorage.org/files/c5e/354/987/c5e354987aee47949da8266c8f6cad68.png"><br><br>  Let's take a closer look: <code>eval</code> is executed only once and is transmitted to a JSON string containing an array of 2501 objects with the <code>tag</code> and <code>popularity</code> fields: <br><br><pre> <code class="javascript hljs"> ([ { <span class="hljs-string"><span class="hljs-string">"tag"</span></span>: <span class="hljs-string"><span class="hljs-string">"titillation"</span></span>, <span class="hljs-string"><span class="hljs-string">"popularity"</span></span>: <span class="hljs-number"><span class="hljs-number">4294967296</span></span> }, { <span class="hljs-string"><span class="hljs-string">"tag"</span></span>: <span class="hljs-string"><span class="hljs-string">"foamless"</span></span>, <span class="hljs-string"><span class="hljs-string">"popularity"</span></span>: <span class="hljs-number"><span class="hljs-number">1257718401</span></span> }, { <span class="hljs-string"><span class="hljs-string">"tag"</span></span>: <span class="hljs-string"><span class="hljs-string">"snarler"</span></span>, <span class="hljs-string"><span class="hljs-string">"popularity"</span></span>: <span class="hljs-number"><span class="hljs-number">613166183</span></span> }, { <span class="hljs-string"><span class="hljs-string">"tag"</span></span>: <span class="hljs-string"><span class="hljs-string">"multangularness"</span></span>, <span class="hljs-string"><span class="hljs-string">"popularity"</span></span>: <span class="hljs-number"><span class="hljs-number">368304452</span></span> }, { <span class="hljs-string"><span class="hljs-string">"tag"</span></span>: <span class="hljs-string"><span class="hljs-string">"Fesapo unventurous"</span></span>, <span class="hljs-string"><span class="hljs-string">"popularity"</span></span>: <span class="hljs-number"><span class="hljs-number">248026512</span></span> }, { <span class="hljs-string"><span class="hljs-string">"tag"</span></span>: <span class="hljs-string"><span class="hljs-string">"esthesioblast"</span></span>, <span class="hljs-string"><span class="hljs-string">"popularity"</span></span>: <span class="hljs-number"><span class="hljs-number">179556755</span></span> }, { <span class="hljs-string"><span class="hljs-string">"tag"</span></span>: <span class="hljs-string"><span class="hljs-string">"echeneidoid"</span></span>, <span class="hljs-string"><span class="hljs-string">"popularity"</span></span>: <span class="hljs-number"><span class="hljs-number">136641578</span></span> }, { <span class="hljs-string"><span class="hljs-string">"tag"</span></span>: <span class="hljs-string"><span class="hljs-string">"embryoctony"</span></span>, <span class="hljs-string"><span class="hljs-string">"popularity"</span></span>: <span class="hljs-number"><span class="hljs-number">107852576</span></span> }, ... ])</code> </pre> <br>  Obviously, it will be expensive to parse these object literals, generate native code, and then execute it.  It is much cheaper to simply parse the input string as JSON and generate the corresponding object graph.  To improve the results in the benchmark, you can always try to initially interpret <code>eval</code> as JSON and actually perform the parsing, compiling and execution only if you cannot read it in the form of JSON (true, additional magic will be required to skip parentheses).  In 2007, this would not have come down even for a bad hack, because <a href="https://tc39.github.io/ecma262/">JSON.parse</a> did not exist <a href="https://tc39.github.io/ecma262/">yet</a> .  And by 2017 it turned into just a technical debt in a JavaScript engine, and it could potentially slow down the use of <code>eval</code> .  Essentially, the benchmark update to modern javascript <br><br><pre> <code class="javascript hljs">--- string-tagcloud.js.ORIG <span class="hljs-number"><span class="hljs-number">2016</span></span><span class="hljs-number"><span class="hljs-number">-12</span></span><span class="hljs-number"><span class="hljs-number">-14</span></span> <span class="hljs-number"><span class="hljs-number">09</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">52.869887104</span></span> +<span class="hljs-number"><span class="hljs-number">0100</span></span> +++ string-tagcloud.js <span class="hljs-number"><span class="hljs-number">2016</span></span><span class="hljs-number"><span class="hljs-number">-12</span></span><span class="hljs-number"><span class="hljs-number">-14</span></span> <span class="hljs-number"><span class="hljs-number">09</span></span>:<span class="hljs-number"><span class="hljs-number">01</span></span>:<span class="hljs-number"><span class="hljs-number">01.033944051</span></span> +<span class="hljs-number"><span class="hljs-number">0100</span></span> @@ <span class="hljs-number"><span class="hljs-number">-198</span></span>,<span class="hljs-number"><span class="hljs-number">7</span></span> +<span class="hljs-number"><span class="hljs-number">198</span></span>,<span class="hljs-number"><span class="hljs-number">7</span></span> @@ replace(<span class="hljs-regexp"><span class="hljs-regexp">/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(:?[eE][+\-]?\d+)?/g</span></span>, <span class="hljs-string"><span class="hljs-string">']'</span></span>). replace(<span class="hljs-regexp"><span class="hljs-regexp">/(?:^|:|,)(?:\s*\[)+/g</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>))) { - j = <span class="hljs-built_in"><span class="hljs-built_in">eval</span></span>(<span class="hljs-string"><span class="hljs-string">'('</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> + <span class="hljs-string"><span class="hljs-string">')'</span></span>); + j = <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> filter === <span class="hljs-string"><span class="hljs-string">'function'</span></span> ? walk(<span class="hljs-string"><span class="hljs-string">''</span></span>, j) : j; }</code> </pre> <br>  leads to an immediate increase in performance: today the runtime for the V8 LKGR is reduced from 36 to 26 ms, a 30 percent improvement! <br><br><pre> <code class="javascript hljs">$ node string-tagcloud.js.ORIG Time (string-tagcloud): <span class="hljs-number"><span class="hljs-number">36</span></span> ms. $ node string-tagcloud.js Time (string-tagcloud): <span class="hljs-number"><span class="hljs-number">26</span></span> ms. $ node -v v8<span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>-pre $</code> </pre> <br>  This is a common problem with static benchmarks and performance testing packages.  Today, no one will seriously use <code>eval</code> to parse JSON data (for security reasons, not just performance).  Instead, all code written in the last five years uses <a href="https://tc39.github.io/ecma262/">JSON.parse</a> .  Moreover, using <code>eval</code> for parsing JSON in production can be regarded as a bug!  So in this ancient benchmark, the efforts of the authors of engines to increase the performance of relatively recently written code are not taken into account.  Instead, it would be useful to make <code>eval</code> unnecessarily complicated to get a good result in <code>string-tagcloud.js</code> . <br><br>  Let's move on to another example - <a href="">3d-cube.js</a> .  This benchmark performs many matrix operations that even the smartest compilers cannot do anything with but simple execution.  The benchmark spends a lot of time performing the Loop function and the functions it calls. <br><br><img src="https://habrastorage.org/files/b80/c69/f00/b80c69f000c649299c0b67d1ca1bcabe.png"><br><br>  An interesting observation: the functions <code>RotateX</code> , <code>RotateY</code> and <code>RotateZ</code> always called with the constant parameter <code>Phi</code> . <br><br><img src="https://habrastorage.org/files/2c0/1eb/fa1/2c01ebfa1b9b48d3ba01232852524d6f.png"><br><br>  This means that we always calculate the same values ‚Äã‚Äãfor <a href="https://tc39.github.io/ecma262/">Math.sin</a> and <a href="https://tc39.github.io/ecma262/">Math.cos</a> , each 204 times.  There are only three different input values: <br><br><ul><li>  0,017453292519943295 </li><li>  0.05235987755982989 </li><li>  0.08726646259971647 </li></ul><br>  To avoid unnecessary calculations of the same sine and cosine values, you can cache previously calculated values.  Previously, the V8 did just that, and all the other engines are doing so still.  We have removed the so-called <b>transcendental cache</b> from V8, since its redundancy was noticeable under real loads, when you do not always calculate the same values ‚Äã‚Äãin a row.  We have greatly failed in the results of the SunSpider benchmark, removing this specific optimization, but we are completely sure that it does not make sense to optimize for the benchmark and at the same time worsen the results on real projects. <br><br><img src="https://habrastorage.org/files/1de/195/80a/1de19580ab5d424e9ded99e087cbb13b.png"><br><br>  <i>Source: <a href="https://arewefastyet.com/">arewefastyet.com</a> .</i> <br><br>  Obviously, the best way to work with such constants ‚Äî the input sine / cosine ‚Äî is a normal inlining heuristic heuristic that will try to balance the substitution and take into account various factors like substitution preferences at the call points when a constant folding ( as in the case of <code>RotateX</code> , <code>RotateY</code> and <code>RotateZ</code> ).  But for a number of reasons this was not suitable for the Crankshaft compiler.  But this is a reasonable option in the case of Ignition and TurboFan, and we are already working on improving <a href="https://docs.google.com/document/d/1VoYBhpDhJC4VlqMXCKvae-8IGuheBGxy32EOgC2LnT8">the replacement heuristics</a> . <br><br><h1>  Garbage collection is considered harmful. </h1><br>  In addition to specific cases, SunSpider has another fundamental problem: the total execution time.  Now, on a decent hardware Intel, the V8 engine drives the entire benchmark in about 200 ms (depending on living objects in the new space and fragmentation of the old space), while the main pause for garbage collection can easily reach 30 ms.  And we still do not take into account the costs of incremental marking (incremental marking), and this is more than 10% of the total execution time of the SunSpider package!  So if the engine does not want to slow down by 10-20% due to garbage collection, then it needs to somehow make sure that it will not be initiated during the execution of SunSpider. <br><br><img src="https://habrastorage.org/files/c17/381/1d3/c173811d3efb48d29870804e248904a9.png"><br><br>  Different tricks are used for this, but all of them, as far as I know, do not have a positive effect on real tasks.  V8 comes easy: since each SunSpider test is performed in a new <code>&lt;iframe&gt;</code> corresponding to a new <b>native context</b> , we simply register the creation and placement of the <code>&lt;iframe&gt;</code> (each of the SunSpider tests takes less than 50 ms).  And then garbage collection is performed between the placement and creation procedures, and not during the test.  This trick works well and in 99.99% of cases does not affect real projects.  But if V8 decides that your application looks like a SunSpider test, then it will force the garbage collector to run, and this will negatively affect the speed of work.  So do <b>n't let the app look like SunSpider</b> ! <br><br>  I could cite other examples related to SunSpider, but I don‚Äôt think it would be useful.  I hope it is already clear to you that optimizing for SunSpider in order to exceed the results of good performance does not make sense for real applications.  I think the world would benefit from the fact that SunSpider would not exist anymore, because the engines can use strange hacks, useful only for this package and can harm in real situations. <br><br>  Unfortunately, SunSpider is still very actively used in the press when comparing what journalists consider browser performance.  Or, even worse, to compare smartphones!  Of course, there is also an interest of manufacturers.  Android camp is important that Chrome showed good results on SunSpider (and other now meaningless benchmarks).  Smartphone makers need to make money selling their products, and this requires good reviews.  Some companies even deliver older versions of the V8 in smartphones that show higher results in SunSpider.  As a result, users get unsecured security holes that have long been fixed in later versions.  And the old versions of the V8 in fact work slower! <br><br><img src="https://habrastorage.org/files/3fe/11a/bde/3fe11abdea434892832cf57d6a76bacc.png"><br><br>  <i>Source: Galaxy S7 and S7 Edge review: Samsung's finest get more polished, <a href="https://www.engadget.com/2016/03/08/galaxy-s7-and-s7-edge-review/">www.engadget.com</a> .</i> <br><br>  If the JavaScript community is really interested in obtaining objective performance data, then we need to make journalists stop using traditional benchmarks when comparing browsers and smartphones.  I understand that it is easier to run a benchmark in each browser and compare the numbers obtained, but in this case, please, please!  - Pay attention to the benchmarks, which somehow correspond to the current state of affairs.  That is the real web pages.  If you need to compare two smartphones through a browser benchmark, take at least a <a href="http://browserbench.org/Speedometer">Speedometer</a> . <br><br><h1>  Less obvious situation with Kraken </h1><br>  Kraken benchmark was <a href="https://blog.mozilla.org/blog/2010/09/14/release-the-kraken-2">released by Mozilla in September of 2010</a> .  It was declared that it contains code fragments and kernels of real applications.  I won‚Äôt spend too much time on Kraken because it didn‚Äôt have such an impact on JavaScript performance as SunSpider and Octane.  I will describe only an example with the <a href="">audio-oscillator.js</a> test. <br><br><img src="https://habrastorage.org/files/2c0/dc4/d8c/2c0dc4d8c9414b0485b79d763b20a320.png"><br><br>  The test calls the <code>calcOsc</code> function 500 times.  She first calls <code>generate</code> for the global <code>sine Oscillator</code> , then creates a new <code>Oscillator</code> , calls for generate for it and adds it to the <code>sine Oscillator</code> .  Without going into the details of why this is done here, let's consider the <code>generate</code> method in the <code>Oscillator</code> prototype. <br><br><img src="https://habrastorage.org/files/586/413/4b6/5864134b622f4ca584e2927917409d50.png"><br><br>  Looking at the code, we can assume that the bulk of the time is taken by accessing arrays, or multiplications, or cyclic calls to <a href="https://tc39.github.io/ecma262/">Math.round</a> .  But in fact, the expression <code>offset % this.waveTableLength</code> dominates in the <code>Oscillator.prototype.generate</code> runtime.  If you run a benchmark in the profiler on any Intel-machine, it turns out that more than 20% of processor cycles are spent on the <code>idiv</code> instruction, which is generated for the module (modulus).  An interesting observation: the <code>waveTableLength</code> field of the <code>waveTableLength</code> instance always contains the value 2048, once assigned in the <code>Oscillator</code> constructor. <br><br><img src="https://habrastorage.org/files/baf/6f5/3d0/baf6f53d0200454abed51b8c851d6028.png"><br><br>  If we know that the right-hand side of the operation of an integer module is a power of two, then we can generate <a href="https://graphics.stanford.edu/~seander/bithacks.html">much better code</a> and completely avoid the <code>idiv</code> instruction on Intel.          <code>calcOsc</code>      /.     <code>sine Oscillator</code> ,    <code>calcOsc</code> . <br><br> ,               .  V8   - ,           <code>+</code> , <code>*</code>  <code>%</code> ,       ,   ,      (.     <a href="https://docs.google.com/presentation/d/1wZVIqJMODGFYggueQySdiA3tUYuHNMcyp_PndgXsO1Y">Fast arithmetic for dynamic languages</a> ). <br><br>        fullcodegen  Crankshaft,  <code>BinaryOpIC</code>  <code>MOD</code>         .    V8 (c Crankshaft  fullcodegen) <br><br><pre> <code class="javascript hljs">$ ~<span class="hljs-regexp"><span class="hljs-regexp">/Projects/</span></span>v8/out/Release/d8 --trace-ic audio-oscillator.js [...SNIP...] [BinaryOpIC(MOD:None*None-&gt;None) =&gt; (MOD:Smi*<span class="hljs-number"><span class="hljs-number">2048</span></span>-&gt;Smi) @ ~Oscillator.generate+<span class="hljs-number"><span class="hljs-number">598</span></span> at audio-oscillator.js:<span class="hljs-number"><span class="hljs-number">697</span></span>] [...SNIP...] $</code> </pre> <br> ,  <code>BinaryOpIC</code>       (constant feedback)    ,    ,          ( <code>Smi</code>  V8),        .       <code>--print-opt-code --code-comments</code> ,   ,  Crankshaft             <code>Oscillator.prototype.generate</code> : <br><br><pre> <code class="javascript hljs"> [...SNIP...] ;;; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">@80,#84</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> load-named-field 0x133a0bdacc4a 330 8b4343 movl rax,[rbx+0x43] ;;; </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">@83,#86</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> compare-numeric-and-branch 0x133a0bdacc4d 333 3d00080000 cmp rax,0x800 0x133a0bdacc52 338 0f85ff000000 jnz 599 (0x133a0bdacd57) [...SNIP...] ;;; </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">@90,#94</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> mod-by-power-of-2-i 0x133a0bdacc5b 347 4585db testl r11,r11 0x133a0bdacc5e 350 790f jns 367 (0x133a0bdacc6f) 0x133a0bdacc60 352 41f7db negl r11 0x133a0bdacc63 355 4181e3ff070000 andl r11,0x7ff 0x133a0bdacc6a 362 41f7db negl r11 0x133a0bdacc6d 365 eb07 jmp 374 (0x133a0bdacc76) 0x133a0bdacc6f 367 4181e3ff070000 andl r11,0x7ff [...SNIP...] ;;; </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">@127,#88</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> deoptimize 0x133a0bdacd57 599 e81273cdff call 0x133a0ba8406e [...SNIP...]</span></span></code> </pre> <br> ,    <code>this.waveTableLength</code> ( <code>rbx</code>   <code>this</code> ), ,     2048 ( 0x800).  ,     <code>idiv</code>           ( <code>r11</code>      <code>i</code> ),      . <br><br><h1>    </h1><br>   , ,       ,       ,     :  !     ,       (  ,         ).        <code>idiv</code> ,     <code>BinaryOpIC</code>      <code>Smi*Smi-&gt;Smi</code> . ,       <code>Oscillator</code> ,     <code>waveTableLength</code>   <code>generate</code> .    20 % ,        <code>Oscillator</code> ';        (non-local penalization). <br><br><pre> <code class="javascript hljs">--- audio-oscillator.js.ORIG <span class="hljs-number"><span class="hljs-number">2016</span></span><span class="hljs-number"><span class="hljs-number">-12</span></span><span class="hljs-number"><span class="hljs-number">-15</span></span> <span class="hljs-number"><span class="hljs-number">22</span></span>:<span class="hljs-number"><span class="hljs-number">01</span></span>:<span class="hljs-number"><span class="hljs-number">43.897033156</span></span> +<span class="hljs-number"><span class="hljs-number">0100</span></span> +++ audio-oscillator.js <span class="hljs-number"><span class="hljs-number">2016</span></span><span class="hljs-number"><span class="hljs-number">-12</span></span><span class="hljs-number"><span class="hljs-number">-15</span></span> <span class="hljs-number"><span class="hljs-number">22</span></span>:<span class="hljs-number"><span class="hljs-number">02</span></span>:<span class="hljs-number"><span class="hljs-number">26.397326067</span></span> +<span class="hljs-number"><span class="hljs-number">0100</span></span> @@ <span class="hljs-number"><span class="hljs-number">-1931</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span> +<span class="hljs-number"><span class="hljs-number">1931</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span> @@ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> frequency = <span class="hljs-number"><span class="hljs-number">344.53</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> sine = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Oscillator(Oscillator.Sine, frequency, <span class="hljs-number"><span class="hljs-number">1</span></span>, bufferSize, sampleRate); +<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> unused = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Oscillator(Oscillator.Sine, frequency, <span class="hljs-number"><span class="hljs-number">1</span></span>, bufferSize, sampleRate); +unused.waveTableLength = <span class="hljs-number"><span class="hljs-number">1024</span></span>; +unused.generate(); + <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> calcOsc = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ sine.generate();</code> </pre> <br>      <code>audio-oscillator.js</code>  ,     <code>Oscillator</code>   <code>waveTableLength</code> ,   : <br><br><pre> <code class="javascript hljs">$ ~<span class="hljs-regexp"><span class="hljs-regexp">/Projects/</span></span>v8/out/Release/d8 audio-oscillator.js.ORIG Time (audio-oscillator-once): <span class="hljs-number"><span class="hljs-number">64</span></span> ms. $ ~<span class="hljs-regexp"><span class="hljs-regexp">/Projects/</span></span>v8/out/Release/d8 audio-oscillator.js Time (audio-oscillator-once): <span class="hljs-number"><span class="hljs-number">81</span></span> ms. $</code> </pre> <br>     . ,     ,        ,     .    ,     ,       . , -        - <code>BinaryOpIC</code> ,   20-   (   ,   ).        ,  ,    . <br><br>       JavaScript.       ,     ,   JavaScript      .   <b></b>   ,      ,      ()   . ,      <code>idiv</code> ,     ,        (   ). TurboFan,    Crankshaft,   runtime  ,      ,                  ()     (): <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> &lt; rhs then msk = rhs - <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> rhs &amp; msk != <span class="hljs-number"><span class="hljs-number">0</span></span> then lhs % rhs <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> lhs &lt; <span class="hljs-number"><span class="hljs-number">0</span></span> then -(-lhs &amp; msk) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> lhs &amp; msk <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> rhs &lt; <span class="hljs-number"><span class="hljs-number">-1</span></span> then lhs % rhs <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> zero</code> </pre> <br>          ( TurboFan): <br><br><pre> <code class="javascript hljs">$ ~<span class="hljs-regexp"><span class="hljs-regexp">/Projects/</span></span>v8/out/Release/d8 --turbo audio-oscillator.js.ORIG Time (audio-oscillator-once): <span class="hljs-number"><span class="hljs-number">69</span></span> ms. $ ~<span class="hljs-regexp"><span class="hljs-regexp">/Projects/</span></span>v8/out/Release/d8 --turbo audio-oscillator.js Time (audio-oscillator-once): <span class="hljs-number"><span class="hljs-number">69</span></span> ms. $</code> </pre> <br>         ,     ,     ,   ,    ,     . ,  JS-       ,   Kraken       ,   TurboFan.     <b></b>    TurboFan    Crankshaft,       ,  ,    ,  !     , ,    ,     ,     .         .      .        ,      ,     ,          . <br><br>   Kraken    ,       JS-     ‚Äî Octane. <br><br><h1>   Octane  </h1><br>  <a href="https://developers.google.com/octane">Octane</a> ‚Äî    V8.   <a href="https://blog.chromium.org/2012/08/octane-javascript-benchmark-suite-for.html"> Google   2012 </a> ,    Octane 2.0 ‚Äî <a href="https://blog.chromium.org/2013/11/announcing-octane-20.html">  2013-</a> .     15  ,     ‚Äî Splay  Mandreel ‚Äî     (throughput)  .      ,      Microsofts TypeScript,    <a href="http://asmjs.org/">asm.js</a>    zlib,   (ray tracer),      .        <a href="https://developers.google.com/octane/benchmark"></a> .           JavaScript,     2012         . <br><br>   , Octane         JavaScript     2012‚Äî2013-.       .     Octane       (,   TypeScript  zlib      <a href="https://github.com/kripken/emscripten">Emscripten</a> ,  Mandreel    ). <br><br>        ,   <a href="http://emberjs.com/">Ember</a>  <a href="https://angularjs.org/">AngularJS</a> ,    JavaScript,      Octane     ()  .     JavaScript     ,     JS-      ,   ,        Octane.    ,      ,       Octane        . <br><br>        Octane,       .   ,       !      , Octane ‚Äî      JavaScript,     .  ,   JS-    ,      ,  Octane ‚Äî       ! <b>    ,      ,    !</b> <br><br>   Box2D,   <a href="https://github.com/hecht-software/box2dweb">Box2DWeb</a> ,    ,   JavaScript.        ,    JS-    .   ,   ,  ,        (      ).     <code>D.prototype.UpdatePairs</code> (): <br><br><pre> <code class="javascript hljs">D.prototype.UpdatePairs = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">b</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> e = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> f = e.m_pairCount = <span class="hljs-number"><span class="hljs-number">0</span></span>, m; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (f = <span class="hljs-number"><span class="hljs-number">0</span></span>; f &lt; e.m_moveBuffer.length; ++f) { m = e.m_moveBuffer[f]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r = e.m_tree.GetFatAABB(m); e.m_tree.Query(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">t</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (t == m) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e.m_pairCount == e.m_pairBuffer.length) e.m_pairBuffer[e.m_pairCount] = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> O; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> x = e.m_pairBuffer[e.m_pairCount]; x.proxyA = t &lt; m ? t : m; x.proxyB = t &gt;= m ? t : m; ++e.m_pairCount; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> }, r) } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (f = e.m_moveBuffer.length = <span class="hljs-number"><span class="hljs-number">0</span></span>; f &lt; e.m_pairCount;) { r = e.m_pairBuffer[f]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> s = e.m_tree.GetUserData(r.proxyA), v = e.m_tree.GetUserData(r.proxyB); b(s, v); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (++f; f &lt; e.m_pairCount;) { s = e.m_pairBuffer[f]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (s.proxyA != r.proxyA || s.proxyB != r.proxyB) <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; ++f } } };</code> </pre> <br>  ,          ,     <code>e.m_tree.Query</code> : <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">t</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (t == m) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e.m_pairCount == e.m_pairBuffer.length) e.m_pairBuffer[e.m_pairCount] = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> O; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> x = e.m_pairBuffer[e.m_pairCount]; x.proxyA = t &lt; m ? t : m; x.proxyB = t &gt;= m ? t : m; ++e.m_pairCount; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> }</code> </pre> <br> ,      ,         . 4‚Äî7 %         <a href="">runtime- Compare</a> ,     <a href="https://tc39.github.io/ecma262/">  </a> (abstract relational comparison). <br><br><img src="https://habrastorage.org/files/0f8/e55/e99/0f8e55e99c9a4343b4cdb04576fbf6aa.png"><br><br>    runtime-   <a href="">CompareICStub</a> ,        : <br><br><pre> <code class="javascript hljs">x.proxyA = t &lt; m ? t : m; x.proxyB = t &gt;= m ? t : m;</code> </pre> <br>         99 %   !  How so? ,       JavaScript, <a href="https://tc39.github.io/ecma262/">  </a>     .    <code>t</code>  <code>m</code> ‚Äî   <code>L</code> ,   .       <code>Symbol.toPrimitive</code> , <code>"toString"</code> , <code>"valueOf"</code>  <code>Symbol.toStringTag</code> ,     .   <code>t &lt; m</code> , : <br><br><ol><li>  <a href="https://tc39.github.io/ecma262/">ToPrimitive</a> ( <code>t</code> , <code>hint Number</code> ). </li><li>  <a href="https://tc39.github.io/ecma262/">OrdinaryToPrimitive</a> ( <code>t</code> , <code>"number"</code> ),    <code>Symbol.toPrimitive</code> . </li><li>  <code>t.valueOf()</code> ,     <code>t</code> ,    <a href="https://tc39.github.io/ecma262/">Object.prototype.valueOf</a> . </li><li>   <code>t.toString()</code> ,    <code>"[object Object]"</code> ,     <a href="https://tc39.github.io/ecma262/">Object.prototype.toString</a> ,  <a href="https://tc39.github.io/ecma262/">Symbol.toStringTag</a>  <code>L</code>  . </li><li>  <a href="https://tc39.github.io/ecma262/">ToPrimitive</a> ( <code>m</code> , <code>hint Number</code> ). </li><li>  <a href="https://tc39.github.io/ecma262/">OrdinaryToPrimitive</a> ( <code>m</code> , <code>"number"</code> ),    Symbol.toPrimitive. </li><li>  <code>m.valueOf()</code> ,     m,    <a href="https://tc39.github.io/ecma262/">Object.prototype.valueOf</a> . </li><li>   <code>m.toString()</code> ,    <code>"[object Object]"</code> ,     <a href="https://tc39.github.io/ecma262/">Object.prototype.toString</a> ,  <a href="https://tc39.github.io/ecma262/">Symbol.toStringTag</a>  <code>L</code>  . </li><li>   <code>"[object Object]" &lt; "[object Object]"</code> ,    </li></ol>  . <br><br>      <code>t &gt;= m</code> ,       <code>true</code> .   ,         .  :      ,       : <br><br><pre> <code class="javascript hljs">--- octane-box2d.js.ORIG <span class="hljs-number"><span class="hljs-number">2016</span></span><span class="hljs-number"><span class="hljs-number">-12</span></span><span class="hljs-number"><span class="hljs-number">-16</span></span> <span class="hljs-number"><span class="hljs-number">07</span></span>:<span class="hljs-number"><span class="hljs-number">28</span></span>:<span class="hljs-number"><span class="hljs-number">58.442977631</span></span> +<span class="hljs-number"><span class="hljs-number">0100</span></span> +++ octane-box2d.js <span class="hljs-number"><span class="hljs-number">2016</span></span><span class="hljs-number"><span class="hljs-number">-12</span></span><span class="hljs-number"><span class="hljs-number">-16</span></span> <span class="hljs-number"><span class="hljs-number">07</span></span>:<span class="hljs-number"><span class="hljs-number">29</span></span>:<span class="hljs-number"><span class="hljs-number">05.615028272</span></span> +<span class="hljs-number"><span class="hljs-number">0100</span></span> @@ <span class="hljs-number"><span class="hljs-number">-2021</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span> +<span class="hljs-number"><span class="hljs-number">2021</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span> @@ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (t == m) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e.m_pairCount == e.m_pairBuffer.length) e.m_pairBuffer[e.m_pairCount] = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> O; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> x = e.m_pairBuffer[e.m_pairCount]; - x.proxyA = t &lt; m ? t : m; - x.proxyB = t &gt;= m ? t : m; + x.proxyA = m; + x.proxyB = t; ++e.m_pairCount; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> },</code> </pre> <br>      13 %,           : <br><br><pre> <code class="javascript hljs">$ ~<span class="hljs-regexp"><span class="hljs-regexp">/Projects/</span></span>v8/out/Release/d8 octane-box2d.js.ORIG Score (Box2D): <span class="hljs-number"><span class="hljs-number">48063</span></span> $ ~<span class="hljs-regexp"><span class="hljs-regexp">/Projects/</span></span>v8/out/Release/d8 octane-box2d.js Score (Box2D): <span class="hljs-number"><span class="hljs-number">55359</span></span> $</code> </pre> <br>    ? ,        ,    <code>CompareIC</code> :     (map) <b> </b> (known receiver map tracking) (  V8 map ‚Äî   +  ).             .               : <br><br><pre> <code class="javascript hljs">$ ~<span class="hljs-regexp"><span class="hljs-regexp">/Projects/</span></span>v8/out/Release/d8 --trace-ic octane-box2d.js [...SNIP...] [CompareIC <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ~+<span class="hljs-number"><span class="hljs-number">557</span></span> at octane-box2d.js:<span class="hljs-number"><span class="hljs-number">2024</span></span> ((UNINITIALIZED+UNINITIALIZED=UNINITIALIZED)-&gt;(RECEIVER+RECEIVER=KNOWN_RECEIVER))#LT @ <span class="hljs-number"><span class="hljs-number">0x1d5a860493a1</span></span>] [CompareIC <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ~+<span class="hljs-number"><span class="hljs-number">649</span></span> at octane-box2d.js:<span class="hljs-number"><span class="hljs-number">2025</span></span> ((UNINITIALIZED+UNINITIALIZED=UNINITIALIZED)-&gt;(RECEIVER+RECEIVER=KNOWN_RECEIVER))#GTE @ <span class="hljs-number"><span class="hljs-number">0x1d5a860496e1</span></span>] [...SNIP...] $</code> </pre> <br>     <code>CompareIC</code>  ,        ¬´ ¬ª  ¬´  ¬ª   <code>RECEIVER</code> ' (JavaScript-   V8).           (map) <code>0x1d5a860493a1</code> ,    <code>L</code> .             <code>false</code>  <code>true</code> ,    :    ‚Äî    <code>0x1d5a860493a1</code> .       <code>L</code> ,       <code>the Symbol.toPrimitive</code> , <code>"valueOf"</code>  <code>"toString"</code> .       <code>Symbol.toStringTag</code> .   Crankshaft           <code>Symbol.toStringTag</code> : <br><br><img src="https://habrastorage.org/files/0df/be3/876/0dfbe38765c64110a23f6020a9de3bd2.png"><br><br>          : <br><br><img src="https://habrastorage.org/files/e04/26d/1ed/e0426d1edfb2468ca79304b17e047455.png"><br><br>     :      ,          .   ,         ,     ,  JS-        .   ,    !  ,               (        ,      <code>true</code>  <code>false</code> ,      ). ,  ,         .          ES2015,    ,          (ES2015 ‚Äî  !). <br><br>    Mandreel.       C/C++  JavaScript.     <a href="http://asmjs.org/">asm.js</a> ,       <a href="https://github.com/kripken/emscripten">Emscripten</a> ,         (       ).  Octane    <a href="http://bulletphysics.org/wordpress/">  Bullet</a> ,    <a href="http://www.mandreel.com/">Mandreel</a> .    MandreelLatency,        .   ,  Mandreel     ,     .     ,   .     ,        .   ,   . <br><br><img src="https://habrastorage.org/files/49a/34b/b3a/49a34bb3ad5540cc82747f4f7fc0dd62.png"><br><br> Mandreel     <code>global_init</code> ,            .           ,        ( ),  ,    ,          ( ).  V8   <a href="https://docs.google.com/presentation/d/1214p4CFjsF-NY4z9in0GEcJtjbyVQgU0A-UqEvovzCs"> </a> .   ,    ,      ,    .    <code>global_init</code>  Mandreel   ,    +  +      .       <code>global_init</code> ,    . <br><br><img src="https://habrastorage.org/files/58e/f8f/201/58ef8f2018cf48eda10205a801a9a354.png"><br><br> <i>: <a href="https://arewefastyet.com/">arewefastyet.com</a> .</i> <br><br>   <code>global_init</code>    ,    200- .  ,         ,    ,          ,      (     ). <br><br>  ,    ‚Äî <a href="">splay.js</a> .      ,      (splay trees)       ( ).         :             .      (buckets)     ,   .  !  In theory.    ,        : <br><br><img src="https://habrastorage.org/files/7c7/06b/340/7c706b34029347ca9cb501ac203082c4.png"><br><br>   , ,     ,    ,      SplayLatency.  Why?  ,      ,          .          ,    (generational garbage collector),   V8:      ( <a href="http://www.memorymanagement.org/glossary/g.html">generational hypothesis</a> ),               .      V8   : <br><br><pre> <code class="javascript hljs">$ out/Release/d8 --trace-gc --noallocation_site_pretenuring octane-splay.js [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">10</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">2.7</span></span> (<span class="hljs-number"><span class="hljs-number">6.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">2.7</span></span> (<span class="hljs-number"><span class="hljs-number">7.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">1.1</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">12</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">2.7</span></span> (<span class="hljs-number"><span class="hljs-number">7.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">2.7</span></span> (<span class="hljs-number"><span class="hljs-number">8.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">1.7</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">14</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">3.7</span></span> (<span class="hljs-number"><span class="hljs-number">8.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">3.6</span></span> (<span class="hljs-number"><span class="hljs-number">10.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">0.8</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">18</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">4.8</span></span> (<span class="hljs-number"><span class="hljs-number">10.5</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">4.7</span></span> (<span class="hljs-number"><span class="hljs-number">11.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">2.5</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">22</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">5.7</span></span> (<span class="hljs-number"><span class="hljs-number">11.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">5.6</span></span> (<span class="hljs-number"><span class="hljs-number">16.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">2.8</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">28</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">8.7</span></span> (<span class="hljs-number"><span class="hljs-number">16.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">8.6</span></span> (<span class="hljs-number"><span class="hljs-number">17.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">4.3</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">35</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">9.6</span></span> (<span class="hljs-number"><span class="hljs-number">17.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">9.6</span></span> (<span class="hljs-number"><span class="hljs-number">28.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">6.9</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">49</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">16.6</span></span> (<span class="hljs-number"><span class="hljs-number">28.5</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">16.4</span></span> (<span class="hljs-number"><span class="hljs-number">29.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">8.2</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">65</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">17.5</span></span> (<span class="hljs-number"><span class="hljs-number">29.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">17.5</span></span> (<span class="hljs-number"><span class="hljs-number">52.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">15.3</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">93</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">32.3</span></span> (<span class="hljs-number"><span class="hljs-number">52.5</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">32.0</span></span> (<span class="hljs-number"><span class="hljs-number">53.5</span></span>) MB, <span class="hljs-number"><span class="hljs-number">17.6</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">126</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">33.4</span></span> (<span class="hljs-number"><span class="hljs-number">53.5</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">33.3</span></span> (<span class="hljs-number"><span class="hljs-number">68.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">31.5</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">151</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">47.9</span></span> (<span class="hljs-number"><span class="hljs-number">68.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">47.6</span></span> (<span class="hljs-number"><span class="hljs-number">69.5</span></span>) MB, <span class="hljs-number"><span class="hljs-number">15.8</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">183</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">49.2</span></span> (<span class="hljs-number"><span class="hljs-number">69.5</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">49.2</span></span> (<span class="hljs-number"><span class="hljs-number">84.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">30.9</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">210</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">63.5</span></span> (<span class="hljs-number"><span class="hljs-number">84.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">62.4</span></span> (<span class="hljs-number"><span class="hljs-number">85.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">14.8</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">241</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">64.7</span></span> (<span class="hljs-number"><span class="hljs-number">85.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">64.6</span></span> (<span class="hljs-number"><span class="hljs-number">99.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">28.8</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">268</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">78.2</span></span> (<span class="hljs-number"><span class="hljs-number">99.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">77.6</span></span> (<span class="hljs-number"><span class="hljs-number">101.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">16.1</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">298</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">80.4</span></span> (<span class="hljs-number"><span class="hljs-number">101.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">80.3</span></span> (<span class="hljs-number"><span class="hljs-number">114.5</span></span>) MB, <span class="hljs-number"><span class="hljs-number">28.2</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">324</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">93.5</span></span> (<span class="hljs-number"><span class="hljs-number">114.5</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">92.9</span></span> (<span class="hljs-number"><span class="hljs-number">117.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">16.4</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">354</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">96.2</span></span> (<span class="hljs-number"><span class="hljs-number">117.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">96.0</span></span> (<span class="hljs-number"><span class="hljs-number">130.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">27.6</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">383</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">108.8</span></span> (<span class="hljs-number"><span class="hljs-number">130.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">108.2</span></span> (<span class="hljs-number"><span class="hljs-number">133.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">16.8</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">413</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">111.9</span></span> (<span class="hljs-number"><span class="hljs-number">133.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">111.7</span></span> (<span class="hljs-number"><span class="hljs-number">145.5</span></span>) MB, <span class="hljs-number"><span class="hljs-number">27.8</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">440</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">124.1</span></span> (<span class="hljs-number"><span class="hljs-number">145.5</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">123.5</span></span> (<span class="hljs-number"><span class="hljs-number">149.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">17.4</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">473</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">127.6</span></span> (<span class="hljs-number"><span class="hljs-number">149.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">127.4</span></span> (<span class="hljs-number"><span class="hljs-number">161.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">29.5</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">502</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">139.4</span></span> (<span class="hljs-number"><span class="hljs-number">161.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">138.8</span></span> (<span class="hljs-number"><span class="hljs-number">165.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">18.7</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">534</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">143.3</span></span> (<span class="hljs-number"><span class="hljs-number">165.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">143.1</span></span> (<span class="hljs-number"><span class="hljs-number">176.5</span></span>) MB, <span class="hljs-number"><span class="hljs-number">28.5</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">561</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">154.7</span></span> (<span class="hljs-number"><span class="hljs-number">176.5</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">154.2</span></span> (<span class="hljs-number"><span class="hljs-number">181.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">19.0</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">594</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">158.9</span></span> (<span class="hljs-number"><span class="hljs-number">181.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">158.7</span></span> (<span class="hljs-number"><span class="hljs-number">192.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">29.2</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">622</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">170.0</span></span> (<span class="hljs-number"><span class="hljs-number">192.5</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">169.5</span></span> (<span class="hljs-number"><span class="hljs-number">197.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">19.5</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">655</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">174.6</span></span> (<span class="hljs-number"><span class="hljs-number">197.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">174.3</span></span> (<span class="hljs-number"><span class="hljs-number">208.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">28.7</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">683</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">185.4</span></span> (<span class="hljs-number"><span class="hljs-number">208.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">184.9</span></span> (<span class="hljs-number"><span class="hljs-number">212.5</span></span>) MB, <span class="hljs-number"><span class="hljs-number">19.4</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">715</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">190.2</span></span> (<span class="hljs-number"><span class="hljs-number">213.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">190.0</span></span> (<span class="hljs-number"><span class="hljs-number">223.5</span></span>) MB, <span class="hljs-number"><span class="hljs-number">27.7</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">743</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">200.7</span></span> (<span class="hljs-number"><span class="hljs-number">223.5</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">200.3</span></span> (<span class="hljs-number"><span class="hljs-number">228.5</span></span>) MB, <span class="hljs-number"><span class="hljs-number">19.7</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">774</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">205.8</span></span> (<span class="hljs-number"><span class="hljs-number">228.5</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">205.6</span></span> (<span class="hljs-number"><span class="hljs-number">239.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">27.1</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">802</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">216.1</span></span> (<span class="hljs-number"><span class="hljs-number">239.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">215.7</span></span> (<span class="hljs-number"><span class="hljs-number">244.5</span></span>) MB, <span class="hljs-number"><span class="hljs-number">19.8</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">833</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">221.4</span></span> (<span class="hljs-number"><span class="hljs-number">244.5</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">221.2</span></span> (<span class="hljs-number"><span class="hljs-number">254.5</span></span>) MB, <span class="hljs-number"><span class="hljs-number">26.2</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">861</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">231.5</span></span> (<span class="hljs-number"><span class="hljs-number">255.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">231.1</span></span> (<span class="hljs-number"><span class="hljs-number">260.5</span></span>) MB, <span class="hljs-number"><span class="hljs-number">19.9</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">892</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">237.0</span></span> (<span class="hljs-number"><span class="hljs-number">260.5</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">236.7</span></span> (<span class="hljs-number"><span class="hljs-number">270.5</span></span>) MB, <span class="hljs-number"><span class="hljs-number">26.3</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">920</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">246.9</span></span> (<span class="hljs-number"><span class="hljs-number">270.5</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">246.5</span></span> (<span class="hljs-number"><span class="hljs-number">276.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">20.1</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">951</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">252.6</span></span> (<span class="hljs-number"><span class="hljs-number">276.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">252.3</span></span> (<span class="hljs-number"><span class="hljs-number">286.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">25.8</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">979</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">262.3</span></span> (<span class="hljs-number"><span class="hljs-number">286.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">261.9</span></span> (<span class="hljs-number"><span class="hljs-number">292.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">20.3</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">1014</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">268.2</span></span> (<span class="hljs-number"><span class="hljs-number">292.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">267.9</span></span> (<span class="hljs-number"><span class="hljs-number">301.5</span></span>) MB, <span class="hljs-number"><span class="hljs-number">29.8</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">1046</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">277.7</span></span> (<span class="hljs-number"><span class="hljs-number">302.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">277.3</span></span> (<span class="hljs-number"><span class="hljs-number">308.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">22.4</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">1077</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">283.8</span></span> (<span class="hljs-number"><span class="hljs-number">308.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">283.5</span></span> (<span class="hljs-number"><span class="hljs-number">317.5</span></span>) MB, <span class="hljs-number"><span class="hljs-number">25.1</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">1105</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">293.1</span></span> (<span class="hljs-number"><span class="hljs-number">317.5</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">292.7</span></span> (<span class="hljs-number"><span class="hljs-number">323.5</span></span>) MB, <span class="hljs-number"><span class="hljs-number">20.7</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">1135</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">299.3</span></span> (<span class="hljs-number"><span class="hljs-number">323.5</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">299.0</span></span> (<span class="hljs-number"><span class="hljs-number">333.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">24.9</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">1164</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">308.6</span></span> (<span class="hljs-number"><span class="hljs-number">333.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">308.1</span></span> (<span class="hljs-number"><span class="hljs-number">339.5</span></span>) MB, <span class="hljs-number"><span class="hljs-number">20.9</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">1194</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">314.9</span></span> (<span class="hljs-number"><span class="hljs-number">339.5</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">314.6</span></span> (<span class="hljs-number"><span class="hljs-number">349.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">25.0</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">1222</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">324.0</span></span> (<span class="hljs-number"><span class="hljs-number">349.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">323.6</span></span> (<span class="hljs-number"><span class="hljs-number">355.5</span></span>) MB, <span class="hljs-number"><span class="hljs-number">21.1</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">1253</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">330.4</span></span> (<span class="hljs-number"><span class="hljs-number">355.5</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">330.1</span></span> (<span class="hljs-number"><span class="hljs-number">364.5</span></span>) MB, <span class="hljs-number"><span class="hljs-number">25.1</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">1282</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">339.4</span></span> (<span class="hljs-number"><span class="hljs-number">364.5</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">339.0</span></span> (<span class="hljs-number"><span class="hljs-number">371.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">22.2</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">1315</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">346.0</span></span> (<span class="hljs-number"><span class="hljs-number">371.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">345.6</span></span> (<span class="hljs-number"><span class="hljs-number">380.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">25.8</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">1413</span></span> ms: Mark-sweep <span class="hljs-number"><span class="hljs-number">349.9</span></span> (<span class="hljs-number"><span class="hljs-number">380.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">54.2</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">5.8</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms (+ <span class="hljs-number"><span class="hljs-number">87.5</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">73</span></span> steps since start <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> marking, biggest step <span class="hljs-number"><span class="hljs-number">8.2</span></span> ms, walltime since start <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> marking <span class="hljs-number"><span class="hljs-number">131</span></span> ms) finalize incremental marking via stack guard GC <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> old space requested [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">1457</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">65.8</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">65.1</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">31.0</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">1489</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">69.9</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">69.7</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">27.1</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">1523</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">80.9</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">80.4</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">22.9</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">1553</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">85.5</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">85.3</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">24.2</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">1581</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">96.3</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">95.7</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">18.8</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">1616</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">101.1</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">100.9</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">29.2</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">1648</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">111.6</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">111.1</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">22.5</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">1678</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">116.7</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">116.5</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">25.0</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">1709</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">127.0</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">126.5</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">20.7</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">1738</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">132.3</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">132.1</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">23.9</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">1767</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">142.4</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">141.9</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">19.6</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">1796</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">147.9</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">147.7</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">23.8</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">1825</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">157.8</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">157.3</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">19.9</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">1853</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">163.5</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">163.2</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">22.2</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">1881</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">173.2</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">172.7</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">19.1</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">1910</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">179.1</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">178.8</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">23.0</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">1944</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">188.6</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">188.1</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">25.1</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">1979</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">194.7</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">194.4</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">28.4</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">2011</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">204.0</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">203.6</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">23.4</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">2041</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">210.2</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">209.9</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">23.8</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">2074</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">219.4</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">219.0</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">24.5</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">2105</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">225.8</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">225.4</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">24.7</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20872</span></span>:<span class="hljs-number"><span class="hljs-number">0x7f26f24c70d0</span></span>] <span class="hljs-number"><span class="hljs-number">2138</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">234.8</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">234.4</span></span> (<span class="hljs-number"><span class="hljs-number">305.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">23.1</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [...SNIP...] $</code> </pre> <br>  :                           (     ).     ,   <a href="https://research.google.com/pubs/pub43823.html">allocation site pretenuring</a> .               (allocation sites),  ,      .  ,            ‚Äî <b>pretenure </b> . <br><br><pre> <code class="javascript hljs">$ out/Release/d8 --trace-gc octane-splay.js [<span class="hljs-number"><span class="hljs-number">20885</span></span>:<span class="hljs-number"><span class="hljs-number">0x7ff4d7c220a0</span></span>] <span class="hljs-number"><span class="hljs-number">8</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">2.7</span></span> (<span class="hljs-number"><span class="hljs-number">6.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">2.6</span></span> (<span class="hljs-number"><span class="hljs-number">7.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">1.2</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20885</span></span>:<span class="hljs-number"><span class="hljs-number">0x7ff4d7c220a0</span></span>] <span class="hljs-number"><span class="hljs-number">10</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">2.7</span></span> (<span class="hljs-number"><span class="hljs-number">7.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">2.7</span></span> (<span class="hljs-number"><span class="hljs-number">8.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">1.6</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20885</span></span>:<span class="hljs-number"><span class="hljs-number">0x7ff4d7c220a0</span></span>] <span class="hljs-number"><span class="hljs-number">11</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">3.6</span></span> (<span class="hljs-number"><span class="hljs-number">8.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">3.6</span></span> (<span class="hljs-number"><span class="hljs-number">10.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">0.9</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20885</span></span>:<span class="hljs-number"><span class="hljs-number">0x7ff4d7c220a0</span></span>] <span class="hljs-number"><span class="hljs-number">17</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">4.8</span></span> (<span class="hljs-number"><span class="hljs-number">10.5</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">4.7</span></span> (<span class="hljs-number"><span class="hljs-number">11.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">2.9</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20885</span></span>:<span class="hljs-number"><span class="hljs-number">0x7ff4d7c220a0</span></span>] <span class="hljs-number"><span class="hljs-number">20</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">5.6</span></span> (<span class="hljs-number"><span class="hljs-number">11.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">5.6</span></span> (<span class="hljs-number"><span class="hljs-number">16.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">2.8</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20885</span></span>:<span class="hljs-number"><span class="hljs-number">0x7ff4d7c220a0</span></span>] <span class="hljs-number"><span class="hljs-number">26</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">8.7</span></span> (<span class="hljs-number"><span class="hljs-number">16.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">8.6</span></span> (<span class="hljs-number"><span class="hljs-number">17.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">4.5</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20885</span></span>:<span class="hljs-number"><span class="hljs-number">0x7ff4d7c220a0</span></span>] <span class="hljs-number"><span class="hljs-number">34</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">9.6</span></span> (<span class="hljs-number"><span class="hljs-number">17.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">9.5</span></span> (<span class="hljs-number"><span class="hljs-number">28.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">6.8</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20885</span></span>:<span class="hljs-number"><span class="hljs-number">0x7ff4d7c220a0</span></span>] <span class="hljs-number"><span class="hljs-number">48</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">16.6</span></span> (<span class="hljs-number"><span class="hljs-number">28.5</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">16.4</span></span> (<span class="hljs-number"><span class="hljs-number">29.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">8.6</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20885</span></span>:<span class="hljs-number"><span class="hljs-number">0x7ff4d7c220a0</span></span>] <span class="hljs-number"><span class="hljs-number">64</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">17.5</span></span> (<span class="hljs-number"><span class="hljs-number">29.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">17.5</span></span> (<span class="hljs-number"><span class="hljs-number">52.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">15.2</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20885</span></span>:<span class="hljs-number"><span class="hljs-number">0x7ff4d7c220a0</span></span>] <span class="hljs-number"><span class="hljs-number">96</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">32.3</span></span> (<span class="hljs-number"><span class="hljs-number">52.5</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">32.0</span></span> (<span class="hljs-number"><span class="hljs-number">53.5</span></span>) MB, <span class="hljs-number"><span class="hljs-number">19.6</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20885</span></span>:<span class="hljs-number"><span class="hljs-number">0x7ff4d7c220a0</span></span>] <span class="hljs-number"><span class="hljs-number">153</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">61.3</span></span> (<span class="hljs-number"><span class="hljs-number">81.5</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">57.4</span></span> (<span class="hljs-number"><span class="hljs-number">93.5</span></span>) MB, <span class="hljs-number"><span class="hljs-number">27.9</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20885</span></span>:<span class="hljs-number"><span class="hljs-number">0x7ff4d7c220a0</span></span>] <span class="hljs-number"><span class="hljs-number">432</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">339.3</span></span> (<span class="hljs-number"><span class="hljs-number">364.5</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">326.6</span></span> (<span class="hljs-number"><span class="hljs-number">364.5</span></span>) MB, <span class="hljs-number"><span class="hljs-number">12.7</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20885</span></span>:<span class="hljs-number"><span class="hljs-number">0x7ff4d7c220a0</span></span>] <span class="hljs-number"><span class="hljs-number">666</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">563.7</span></span> (<span class="hljs-number"><span class="hljs-number">592.5</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">553.3</span></span> (<span class="hljs-number"><span class="hljs-number">595.5</span></span>) MB, <span class="hljs-number"><span class="hljs-number">20.5</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20885</span></span>:<span class="hljs-number"><span class="hljs-number">0x7ff4d7c220a0</span></span>] <span class="hljs-number"><span class="hljs-number">825</span></span> ms: Mark-sweep <span class="hljs-number"><span class="hljs-number">603.9</span></span> (<span class="hljs-number"><span class="hljs-number">644.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">96.0</span></span> (<span class="hljs-number"><span class="hljs-number">528.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">4.0</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms (+ <span class="hljs-number"><span class="hljs-number">92.5</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">51</span></span> steps since start <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> marking, biggest step <span class="hljs-number"><span class="hljs-number">4.6</span></span> ms, walltime since start <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> marking <span class="hljs-number"><span class="hljs-number">160</span></span> ms) finalize incremental marking via stack guard GC <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> old space requested [<span class="hljs-number"><span class="hljs-number">20885</span></span>:<span class="hljs-number"><span class="hljs-number">0x7ff4d7c220a0</span></span>] <span class="hljs-number"><span class="hljs-number">1068</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">374.8</span></span> (<span class="hljs-number"><span class="hljs-number">528.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">362.6</span></span> (<span class="hljs-number"><span class="hljs-number">528.0</span></span>) MB, <span class="hljs-number"><span class="hljs-number">19.1</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20885</span></span>:<span class="hljs-number"><span class="hljs-number">0x7ff4d7c220a0</span></span>] <span class="hljs-number"><span class="hljs-number">1304</span></span> ms: Mark-sweep <span class="hljs-number"><span class="hljs-number">460.1</span></span> (<span class="hljs-number"><span class="hljs-number">528.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">102.5</span></span> (<span class="hljs-number"><span class="hljs-number">444.5</span></span>) MB, <span class="hljs-number"><span class="hljs-number">10.3</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms (+ <span class="hljs-number"><span class="hljs-number">117.1</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">59</span></span> steps since start <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> marking, biggest step <span class="hljs-number"><span class="hljs-number">7.3</span></span> ms, walltime since start <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> marking <span class="hljs-number"><span class="hljs-number">200</span></span> ms) finalize incremental marking via stack guard GC <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> old space requested [<span class="hljs-number"><span class="hljs-number">20885</span></span>:<span class="hljs-number"><span class="hljs-number">0x7ff4d7c220a0</span></span>] <span class="hljs-number"><span class="hljs-number">1587</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">374.2</span></span> (<span class="hljs-number"><span class="hljs-number">444.5</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">361.6</span></span> (<span class="hljs-number"><span class="hljs-number">444.5</span></span>) MB, <span class="hljs-number"><span class="hljs-number">13.6</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [<span class="hljs-number"><span class="hljs-number">20885</span></span>:<span class="hljs-number"><span class="hljs-number">0x7ff4d7c220a0</span></span>] <span class="hljs-number"><span class="hljs-number">1828</span></span> ms: Mark-sweep <span class="hljs-number"><span class="hljs-number">485.2</span></span> (<span class="hljs-number"><span class="hljs-number">520.0</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">101.5</span></span> (<span class="hljs-number"><span class="hljs-number">519.5</span></span>) MB, <span class="hljs-number"><span class="hljs-number">3.4</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms (+ <span class="hljs-number"><span class="hljs-number">102.8</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">58</span></span> steps since start <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> marking, biggest step <span class="hljs-number"><span class="hljs-number">4.5</span></span> ms, walltime since start <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> marking <span class="hljs-number"><span class="hljs-number">183</span></span> ms) finalize incremental marking via stack guard GC <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> old space requested [<span class="hljs-number"><span class="hljs-number">20885</span></span>:<span class="hljs-number"><span class="hljs-number">0x7ff4d7c220a0</span></span>] <span class="hljs-number"><span class="hljs-number">2028</span></span> ms: Scavenge <span class="hljs-number"><span class="hljs-number">371.4</span></span> (<span class="hljs-number"><span class="hljs-number">519.5</span></span>) -&gt; <span class="hljs-number"><span class="hljs-number">358.5</span></span> (<span class="hljs-number"><span class="hljs-number">519.5</span></span>) MB, <span class="hljs-number"><span class="hljs-number">12.1</span></span> / <span class="hljs-number"><span class="hljs-number">0.0</span></span> ms allocation failure [...SNIP...] $</code> </pre> <br>            SplayLatency     250 %! <br><br><img src="https://habrastorage.org/files/815/3a4/be2/8153a4be251f499c9e556386e0f2cfce.png"><br><br> <i>: <a href="https://arewefastyet.com/">arewefastyet.com</a> .</i> <br><br>      <a href="https://research.google.com/pubs/pub43823.html">SIGPLAN</a> ,     ,  allocation site pretenuring       .        ,             .    ( <a href="https://bugs.chromium.org/p/v8/issues/detail%3Fid%3D2935">1</a> , <a href="https://bugs.chromium.org/p/chromium/issues/detail%3Fid%3D367694">2</a> , <a href="https://bugs.chromium.org/p/v8/issues/detail%3Fid%3D3665">3</a> ),  allocation site pretenuring       .     ,        Ember.js (,   - allocation site pretenuring). <br><br>   allocation site pretenuring,   , ‚Äî  ,      (  - ,      ). ,       ,      ,   (-) (-)    (allocation site)   <b>tenured</b> ,          .        - ,        ,    ,                     (incremental marking). <br><br>      .  ,    ,   <a href="http://v8project.blogspot.de/2016/04/jank-busters-part-two-orinoco.html">Orinoco</a> .        <b> </b> (unified heap),        ,      .   :      ,        ,         . ,   SplayLatency      ,       .          .     <b> </b> (concurrent marking)        ,              (throughput). <br><br><h1>  Conclusion </h1><br> ,   ,        ,    - . ,    <b> </b> ,       ,       !       ,         .   ,    ,   . <br><br><img src="https://habrastorage.org/files/789/4e1/c57/7894e1c57b0c4a3fb1709caa9ba54f22.png"><br><br> <i>:      2016-: Chrome vs. Firefox vs. Edge, <a href="http://venturebeat.com/2016/10/25/browser-benchmark-battle-october-2016-chrome-vs-firefox-vs-edge/3">venturebeat.com</a> .</i> <br><br>    ,       ‚Äî    .    ,  JavaScript   .       ,    ,        .           ,   Node.js (   V8,   ChakraCore)! <br><br><img src="https://habrastorage.org/files/84f/829/88d/84f82988d085483dbf6e99ee1dd9b7e6.jpg"><br><br>  :    JavaScript-   .   ,   .  JavaScript      ,     .      Chrome    ,         .        ,        ,  <a href="http://browserbench.org/Speedometer">Speedometer</a> ,   -    . <br><br>  Thank! </div><p>Source: <a href="https://habr.com/ru/post/318282/">https://habr.com/ru/post/318282/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../318268/index.html">Optimize redux storage for more productive changes.</a></li>
<li><a href="../318272/index.html">Financial Telegram-bot in 30 minutes with Market Data API</a></li>
<li><a href="../318274/index.html">Slow evolution of interfaces or the saga of the fourth button</a></li>
<li><a href="../318276/index.html">Anonymous Father Frost 2016-2017: post boasting New Year's gifts</a></li>
<li><a href="../318278/index.html">VR application from scratch on libgdx: part 1</a></li>
<li><a href="../318284/index.html">Netdata: real-time monitoring</a></li>
<li><a href="../318286/index.html">Personal experience: How we automated work with DNS records in the hosting panel</a></li>
<li><a href="../318288/index.html">Is the client always right?</a></li>
<li><a href="../318290/index.html">Magic hosting in the Netherlands, excluding consumed server resources, is updated and cheaper than anywhere else.</a></li>
<li><a href="../318292/index.html">Barcode on guard order or decent production</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>