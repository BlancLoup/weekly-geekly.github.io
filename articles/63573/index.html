<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Is program logging necessary?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="By writing this article, I was inspired by the experience of working with projects in which either the logging system as such was missing or its pitif...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Is program logging necessary?</h1><div class="post__text post__text-html js-mediator-article">  By writing this article, I was inspired by the experience of working with projects in which either the logging system as such was missing or its pitiful similarity was present, according to which it was impossible to determine the problem or even the approximate place of its appearance.  Under the cat there is a little theory and directly practical implementation of the class for writing logs in C ++. <br><a name="habracut"></a><br><h1>  Introduction </h1><br>  I often had to deal with a complete lack of understanding of the purpose of logging in applications, although the logging system is not a minor phase in the development of a project.  But, often, people understand this already at the stage of delivery of the project, when the introduction of a complete logging system is a rather expensive process and as a result, they leave everything as it is.  What do we have as a result?  And we have a system in which any customer‚Äôs problem becomes a developer‚Äôs headache, because it‚Äôs impossible to reconstruct the customer‚Äôs cause, that is, the developer only has a description of the problem from the person who reproduced the problem.  Unfortunately, we do not live in an ideal world and, as a rule, describing a problem is of a non-informative nature, because system users are not competent testers and cannot describe the problem in detail (there are certainly pleasant exceptions, but few of them).  The problem of logging is especially acute when there is no possibility of reproducing the problem on its side. <br><br><h1>  Typical mistakes </h1><br>  I would like to highlight the main logging errors that I encountered: <br><ul><li>  The interface to the logs is a set of # define'ov which hides a simple fprintf to a file.  And what if a new thread appears?  Or more clever handling of dens will be required?  Correctly everything will break and have to rewrite. </li><li>  The line displayed in the log is the concatenation of the name of the subsystem and the message itself.  For example, in the module responsible for interaction with the database, the line of the type: "sql: &lt;SQL_QUERY_TEXT&gt;".  What does this line say?  Yes, nothing more, just about the fact that somewhere a query was made to the database. </li><li>  No timestamp when displaying log line. </li><li>  There is no threshold separation of the logs, i.e. there is no possibility to disable some of the logs or turn them off completely (a dubious option :)) </li><li>  Too rare recording of information in the log (for example, at the beginning and at the end of f-ii, without tracing it) </li><li>  Low-informative records (no values ‚Äã‚Äãof variables, etc.) </li></ul><br><br><h1>  Why do we need logs? </h1><br>  Below are just a few advantages that immediately come to mind: <br><ul><li>  The ability to quickly identify the causes of the problem, without sitting for hours in the debager, trying to identify the problem. </li><li>  The possibility of ‚Äúremote debugging‚Äù, i.e. the ability to debug an application according to the available logs from the customer (very useful when it is not possible to test your application without the participation of the customer) </li><li>  Shifting part of the work to technical support.  Ie support is trained in typical problems, sections in logs, etc.  After that, they themselves will be able to identify the problems lying on the surface, without distracting developers every time by trifles. </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The well-written purpose of the logs, as well as tips on building a logging system are described <a href="http://www.ddj.com/cpp/212902973">here</a> . <br>  I offer my implementation of a class that can be used to write logs, the implementation is inspired by the article link to which I gave above. <br>  Basic settings that can be made in relation to the class: <br><ul><li>  Choosing the name of the log file </li><li>  Select the directory where the log files will be stored </li><li>  Enable / disable interprocessor synchronization </li><li>  Log file size limit </li><li>  Limiting the number of log files that can be saved in a directory </li><li>  The task of the procedure that will be called when there is an error in writing to the log file, or when it is opened </li><li>  The task of the procedure that will change each line during the recording, as the user needs.  Convenient when you do not want someone to read your log. </li><li>  The level of logs that can be displayed at the moment (there are 3 levels in the class: Normal, Extended, and Debug).  Ie cuts off all logs whose priority is above the threshold. </li></ul><br>  The class is implemented using the boost library and is cross-platform with the exception of the Timestamp () function, which is windows-dependent.  F-Ia can be easily rewritten for any other OS, if necessary. <br><br><h1>  Implementation: </h1><br>  <b>Logger.h</b> <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">#ifndef _LOGGER_ <br> <font color="#0000ff">#define</font> _LOGGER_ <br> <br> #include &lt; <font color="#0000ff">string</font> &gt; <br> #include &lt;fstream&gt; <br> #include &lt;sstream&gt; <br> #include &lt;boost/interprocess/sync/named_mutex.hpp&gt; <br> #include &lt;boost/scoped_ptr.hpp&gt; <br> #include &lt;boost/filesystem/path.hpp&gt; <br> <br> <font color="#0000ff">namespace</font> smart_log <br> { <br> typedef <font color="#0000ff">void</font> (*ErrorHandler)( <font color="#0000ff">const</font> std:: <font color="#0000ff">string</font> &amp;); <br> typedef <font color="#0000ff">const</font> std:: <font color="#0000ff">string</font> (*Obfuscater)( <font color="#0000ff">const</font> std:: <font color="#0000ff">string</font> &amp;); <br> <font color="#008000">//This type provides constant which set the writing log mode.</font> <br> <font color="#008000">//If a current mode is bigger then methods mode the writing will be ignored.</font> <br> <font color="#008000">//It needs for log flood control</font> <br> <font color="#0000ff">enum</font> LogLevel{eNormal, eExtended, eDebug}; <br> <br> <font color="#0000ff">struct</font> LogParameters <br> { <br> std:: <font color="#0000ff">string</font> m_strLogFileName; <br> <font color="#008000">//Pointer to a function which does appropriate manipulations in case of a log corruption. Set to 0 if it doesn't need.</font> <br> ErrorHandler m_pErrorHandler; <br> <font color="#008000">//Pointer to a function which obfuscates each string writing to a log file. Set to 0 if it doesn't need.</font> <br> Obfuscater m_pObfuscater; <br> size_t m_uiLogMaxSize; <br> unsigned <font color="#0000ff">short</font> m_siMaxSavedLogs; <br> <font color="#008000">//Is the thread synchronization needed?</font> <br> <font color="#0000ff">bool</font> m_bIsMultiThreaded; <br> <font color="#008000">//Indicates whether log will be saved or not. If this flag is set then log will be saved when its size exceed m_uiLogMaxSize.</font> <br> <font color="#008000">//Use m_siMaxSavedLogs to control how many log files will be saved. If the current number of log files has reached the m_siMaxSavedLogs then</font> <br> <font color="#008000">//new saved log would replace the oldest one.</font> <br> <font color="#0000ff">bool</font> m_bIsSaveLog; <br> LogLevel m_xLogLevel; <br> <font color="#008000">//Path to the log location. It will be created if no exists.</font> <br> boost::filesystem::path m_xLogSavedPath; <br> }; <br> <br> <font color="#0000ff">class</font> Logger <br> { <br> <font color="#008000">//---------------------------------------Data</font> <br> size_t m_uiCurrentLogSize; <br> <font color="#0000ff">short</font> <font color="#0000ff">int</font> m_siCurrentSavedLogs; <br> LogParameters m_xParameters; <br> std::ofstream m_xOfstream; <br> boost::interprocess::named_mutex m_xMutex; <br> <font color="#008000">//File name with full path in which it will be create</font> <br> boost::filesystem::path m_xFullFileName; <br> <font color="#008000">//--------------------------------------Internal methods</font> <br> <font color="#0000ff">private</font> : <br> <font color="#008000">//Common method for message writing</font> <br> <font color="#0000ff">void</font> WriteLog(LogLevel xLevel, <font color="#0000ff">const</font> std:: <font color="#0000ff">string</font> &amp; strMessage); <br> <font color="#0000ff">void</font> HandleLogSizeExcess(); <br> std:: <font color="#0000ff">string</font> Timestamp(); <br> <font color="#0000ff">void</font> CreatePath(boost::filesystem::path xPath); <br> <font color="#008000">//--------------------------------------Interface</font> <br> <font color="#0000ff">public</font> : <br> Logger( <font color="#0000ff">const</font> LogParameters&amp; xParameters); <br> <br> <font color="#008000">//Set of methods which concretize the common WriteLog method to log levels.</font> <br> <font color="#0000ff">void</font> WriteNormalLog( <font color="#0000ff">const</font> std::ostringstream&amp; strMessage) <br> { <br> WriteLog( eNormal, strMessage.str() ); <br> } <br> <font color="#0000ff">void</font> WriteExtendedLog( <font color="#0000ff">const</font> std::ostringstream&amp; strMessage) <br> { <br> WriteLog( eExtended, strMessage.str() ); <br> } <br> <font color="#0000ff">void</font> WriteDebugLog( <font color="#0000ff">const</font> std::ostringstream&amp; strMessage) <br> { <br> WriteLog( eDebug, strMessage.str() ); <br> } <br> <font color="#008000">//-----------------------------------Setters</font> <br> <font color="#0000ff">void</font> SetErrorHandler(ErrorHandler pErrorHandler) <br> { <br> m_xParameters.m_pErrorHandler = pErrorHandler; <br> } <br> <font color="#0000ff">void</font> SetLogMode(LogLevel xLevel) <br> { <br> m_xParameters.m_xLogLevel = xLevel; <br> } <br> }; <br> } <br> <font color="#0000ff">#endif</font> _LOGGER_</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  <b>Logger.cpp</b> <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">#include <font color="#A31515">"Logger.h"</font> <br> #include &lt;ctime&gt; <br> #include &lt;boost/filesystem/operations.hpp&gt; <br> #include &lt;boost/interprocess/sync/scoped_lock.hpp&gt; <br> #include &lt; <font color="#0000ff">set</font> &gt; <br> #include &lt;algorithm&gt; <br> #include &lt;windows.h&gt; <br> <br> <font color="#0000ff">namespace</font> fs = boost::filesystem; <br> <font color="#0000ff">namespace</font> multiprocess = boost::interprocess; <br> <font color="#0000ff">using</font> <font color="#0000ff">namespace</font> smart_log; <br> <br> Logger::Logger( <font color="#0000ff">const</font> LogParameters&amp; xParameters): <br> m_xParameters(xParameters), <br> m_xMutex(multiprocess::open_or_create, <br> (xParameters.m_strLogFileName + std:: <font color="#0000ff">string</font> ( <font color="#A31515">"smart_logger_mutex"</font> ) ).c_str() ), <br> m_uiCurrentLogSize(0) <br> { <br> m_xMutex.unlock(); <br> m_xOfstream.exceptions(std::ofstream::failbit | std::ofstream::badbit); <br> m_xFullFileName = m_xParameters.m_xLogSavedPath; <br> m_xFullFileName /= xParameters.m_strLogFileName; <br> } <br> <br> <font color="#0000ff">void</font> Logger::WriteLog(LogLevel xLevel, <font color="#0000ff">const</font> std:: <font color="#0000ff">string</font> &amp; strMessage) <br> <font color="#0000ff">try</font> <br> { <br> multiprocess::scoped_lock&lt;boost::interprocess::named_mutex&gt; xLock; <br> <font color="#0000ff">if</font> (m_xParameters.m_bIsMultiThreaded) <br> { <br> xLock = multiprocess::scoped_lock&lt;multiprocess::named_mutex&gt;(m_xMutex, multiprocess::defer_lock_type()); <br> xLock. <font color="#0000ff">lock</font> (); <br> } <br> CreatePath(m_xParameters.m_xLogSavedPath); <br> <br> <font color="#008000">//Don't do anything if the current log level less then the message demands</font> <br> <font color="#0000ff">if</font> (xLevel &gt; m_xParameters.m_xLogLevel) <br> <font color="#0000ff">return</font> ; <br> <font color="#0000ff">if</font> (m_uiCurrentLogSize + strMessage.length() &gt; m_xParameters.m_uiLogMaxSize) <br> HandleLogSizeExcess(); <br> <font color="#0000ff">if</font> ( !m_xOfstream.is_open() ) <br> m_xOfstream.open( (m_xFullFileName.file_string() + <font color="#A31515">"-"</font> + Timestamp() + <font color="#A31515">".log"</font> ).c_str() ); <br> <font color="#008000">//Make an output string</font> <br> std::ostringstream xStream; <br> xStream &lt;&lt; <font color="#A31515">"["</font> &lt;&lt; Timestamp() &lt;&lt; <font color="#A31515">"]: "</font> &lt;&lt; strMessage; <br> <font color="#0000ff">const</font> std:: <font color="#0000ff">string</font> &amp; xFinalString = xStream.str(); <br> <font color="#0000ff">if</font> (m_xParameters.m_pObfuscater) <br> m_xOfstream &lt;&lt; m_xParameters.m_pObfuscater(xFinalString) &lt;&lt; std::endl; <br> <font color="#0000ff">else</font> <br> m_xOfstream &lt;&lt; xFinalString &lt;&lt; std::endl; <br> m_uiCurrentLogSize += strMessage.length(); <br> } <br> <font color="#0000ff">catch</font> (std::ofstream::failure xFail) <br> { <br> <font color="#0000ff">if</font> (m_xParameters.m_pErrorHandler) <br> m_xParameters.m_pErrorHandler( <font color="#A31515">"Problem with a file creation or writing to the already existing file."</font> ); <br> <font color="#0000ff">else</font> <br> <font color="#0000ff">throw</font> ; <br> } <br> <br> <font color="#0000ff">void</font> Logger::HandleLogSizeExcess() <br> { <br> <font color="#0000ff">if</font> (m_xOfstream.is_open()) <br> m_xOfstream.close(); <br> <font color="#008000">//Goes through the log directory and finds files which looks like "m_strLogFileName-*Timestamp*"</font> <br> fs::directory_iterator xEndIterator; <br> std:: <font color="#0000ff">set</font> &lt;std:: <font color="#0000ff">string</font> &gt; xFileList; <br> <font color="#0000ff">for</font> ( fs::directory_iterator it(m_xParameters.m_xLogSavedPath); it != xEndIterator; ++it ) <br> { <br> std:: <font color="#0000ff">string</font> xCurrentFile = it-&gt;path().filename(); <br> <font color="#0000ff">if</font> ( fs::is_regular_file(it-&gt;status()) ) <br> <font color="#0000ff">if</font> (xCurrentFile.find(m_xParameters.m_strLogFileName) != std:: <font color="#0000ff">string</font> ::npos) <br> xFileList.insert(xCurrentFile); <br> } <br> <font color="#008000">//If the log files number exceeds the m_siMaxSavedLogs then keep on removing</font> <br> <font color="#008000">//files until current files number won't be less then threshold</font> <br> <font color="#0000ff">if</font> (m_xParameters.m_siMaxSavedLogs) <br> { <br> <font color="#0000ff">if</font> (xFileList.size() &gt;= m_xParameters.m_siMaxSavedLogs) <br> { <br> <font color="#0000ff">for</font> (std:: <font color="#0000ff">set</font> &lt;std:: <font color="#0000ff">string</font> &gt;::iterator it = xFileList.begin(); it != xFileList.end() <br> &amp;&amp; xFileList.size() &gt;= m_xParameters.m_siMaxSavedLogs;) <br> { <br> <br> fs::remove(fs::path(m_xParameters.m_xLogSavedPath) /= *it); <br> xFileList.erase(it++); <br> } <br> } <br> } <br> <font color="#0000ff">else</font> <font color="#008000">//Save files property is turned off hence remove all existing log files</font> <br> { <br> <font color="#0000ff">for</font> (std:: <font color="#0000ff">set</font> &lt;std:: <font color="#0000ff">string</font> &gt;::iterator it = xFileList.begin(); it != xFileList.end();) <br> { <br> fs::remove(fs::path(m_xParameters.m_xLogSavedPath) /= *it); <br> xFileList.erase(it++); <br> } <br> } <br> m_uiCurrentLogSize = 0; <br> <font color="#008000">//Create a new file</font> <br> m_xOfstream.open( (m_xFullFileName.file_string() + <font color="#A31515">"-"</font> + Timestamp() + <font color="#A31515">".log"</font> ).c_str() ); <br> } <br> <br> <font color="#0000ff">void</font> Logger::CreatePath(fs::path xPath) <br> <font color="#0000ff">try</font> <br> { <br> <font color="#008000">//If a directory doesn't exist then try to create full path up to the required directory</font> <br> <font color="#0000ff">if</font> ( !fs::exists(m_xParameters.m_xLogSavedPath) ) <br> { <br> fs::path xTmpPath; <br> <font color="#0000ff">for</font> (fs::path::iterator xIt = m_xParameters.m_xLogSavedPath.begin(); <br> xIt != m_xParameters.m_xLogSavedPath.end(); <br> ++xIt) <br> <br> { <br> xTmpPath /= *xIt; <br> <font color="#0000ff">if</font> ( !fs::exists(xTmpPath) ) <br> fs::create_directory(xTmpPath); <br> } <br> } <br> <br> } <br> <font color="#0000ff">catch</font> (fs::basic_filesystem_error&lt;fs::path&gt;) <br> { <br> <font color="#0000ff">if</font> (m_xParameters.m_pErrorHandler) <br> m_xParameters.m_pErrorHandler( <font color="#A31515">"Problem with a directory creation"</font> ); <br> <font color="#0000ff">else</font> <br> <font color="#0000ff">throw</font> ; <br> } <br> <br> std:: <font color="#0000ff">string</font> Logger::Timestamp() <br> { <br> SYSTEMTIME xTime; <br> ::GetSystemTime(&amp;xTime); <br> std::ostringstream xStream; <br> xStream &lt;&lt; xTime.wDay &lt;&lt; <font color="#A31515">"."</font> <br> &lt;&lt; xTime.wMonth &lt;&lt; <font color="#A31515">"."</font> <br> &lt;&lt; xTime.wYear &lt;&lt; <font color="#A31515">"-"</font> <br> &lt;&lt; xTime.wHour &lt;&lt; <font color="#A31515">"."</font> <br> &lt;&lt; xTime.wMinute &lt;&lt; <font color="#A31515">"."</font> <br> &lt;&lt; xTime.wSecond &lt;&lt; <font color="#A31515">"."</font> <br> &lt;&lt; xTime.wMilliseconds; <br> <br> <font color="#0000ff">return</font> xStream.str(); <br> } <br> <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  <b>An example of creating a convenient interface to the class:</b> <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">#include <font color="#A31515">"Logger.h"</font> <br> #include &lt;boost/scoped_ptr.hpp&gt; <br> #include &lt;sstream&gt; <br> #include &lt;iostream&gt; <br> <br> <font color="#0000ff">class</font> LogInstance <br> { <br> <font color="#0000ff">static</font> boost::scoped_ptr&lt;smart_log::Logger&gt; m_spLogger; <br> <font color="#0000ff">public</font> : <br> <font color="#0000ff">static</font> <font color="#0000ff">const</font> boost::scoped_ptr&lt;smart_log::Logger&gt;&amp; GetLog() <br> { <br> <font color="#0000ff">if</font> (!m_spLogger) <br> { <br> smart_log::LogParameters xParams; <br> xParams.m_bIsMultiThreaded = <font color="#0000ff">true</font> ; <br> xParams.m_pErrorHandler = 0; <br> xParams.m_pObfuscater = 0; <br> xParams.m_siMaxSavedLogs = 0; <br> xParams.m_strLogFileName = <font color="#A31515">"log_file"</font> ; <br> xParams.m_uiLogMaxSize = 8192; <br> xParams.m_xLogLevel = smart_log::eNormal; <br> xParams.m_xLogSavedPath = <font color="#A31515">"./log/log/log"</font> ; <br> m_spLogger.reset( <font color="#0000ff">new</font> smart_log::Logger(xParams)); <br> } <br> <font color="#0000ff">return</font> m_spLogger; <br> } <br> <br> }; <br> <br> <font color="#0000ff">#define</font> NORMAL_LOG(MSG)\ <br> {\ <br> std::ostringstream xStrm;\ <br> xStrm &lt;&lt; __FILE__ &lt;&lt; <font color="#A31515">": "</font> &lt;&lt; __LINE__ &lt;&lt; <font color="#A31515">" "</font> &lt;&lt; __FUNCTION__ &lt;&lt; <font color="#A31515">"(): "</font> &lt;&lt; MSG;\ <br> LogInstance::GetLog()-&gt;WriteNormalLog(xStrm);\ <br> } <br> <font color="#0000ff">#define</font> EXTENDED_LOG(MSG)\ <br> {\ <br> std::ostringstream xStrm;\ <br> xStrm &lt;&lt; __FILE__ &lt;&lt; <font color="#A31515">": "</font> &lt;&lt; __LINE__ &lt;&lt; <font color="#A31515">" "</font> &lt;&lt; __FUNCTION__ &lt;&lt; <font color="#A31515">"(): "</font> &lt;&lt; MSG;\ <br> LogInstance::GetLog()-&gt;WriteExtendedLog(xStrm);\ <br> } <br> <font color="#0000ff">#define</font> DEBUG_LOG(MSG)\ <br> {\ <br> std::ostringstream xStrm;\ <br> xStrm &lt;&lt; __FILE__ &lt;&lt; <font color="#A31515">": "</font> &lt;&lt; __LINE__ &lt;&lt; <font color="#A31515">" "</font> &lt;&lt; __FUNCTION__ &lt;&lt; <font color="#A31515">"(): "</font> &lt;&lt; MSG;\ <br> LogInstance::GetLog()-&gt;WriteDebugLog(xStrm);\ <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  I hope this post I will encourage people who do not use logs to use them and I hope my implementation will be useful for them.  Successful debugging to everyone :) <br></div><p>Source: <a href="https://habr.com/ru/post/63573/">https://habr.com/ru/post/63573/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../63560/index.html">IT Report - the morning IT news</a></li>
<li><a href="../63563/index.html">Now Google is suspected of violating antitrust laws</a></li>
<li><a href="../63564/index.html">Hackers "Gentlemen of Fortune" or computer elite?</a></li>
<li><a href="../63568/index.html">DI and IoC for beginners, part 3</a></li>
<li><a href="../63572/index.html">Firefox 3.5, Linux and non-original size pictures</a></li>
<li><a href="../63577/index.html">Spotify Linux Icon</a></li>
<li><a href="../63579/index.html">Secrets of Google Electronics, Part 2</a></li>
<li><a href="../63581/index.html">Walkman `s turned 30 years old!</a></li>
<li><a href="../63582/index.html">eRepublik eUkraine HabraPartia</a></li>
<li><a href="../63585/index.html">Version control database structure</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>