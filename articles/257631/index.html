<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Introducing OsmocomBB: 0x01 Introduction</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="OsmocomBB is a project whose goal is the free (Open Source) implementation of the GSM protocol stack. OsmocomBB provides the source code of the firmwa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Introducing OsmocomBB: 0x01 Introduction</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/17f/989/bb3/17f989bb3cab629aed56163bc77541da.png" alt="image" align="left"><br>  <a href="http://bb.osmocom.org/trac/">OsmocomBB</a> is a project whose goal is the free (Open Source) implementation of the GSM protocol stack.  OsmocomBB provides the source code of the firmware for compatible phones, as well as software for their interaction with the computer.  In this series of articles I will try to describe the most interesting features, subtleties and errors that may arise when working with this software.  I invite interested under the cat! <br><a name="habracut"></a><br><h3>  Navigation </h3><br><ul><li>  <a href="https://habr.com/ru/post/257631/">0x01 Introduction</a> </li><li>  <a href="http://habrahabr.ru/post/258661/">0x02 Hardware</a> </li><li>  <a href="http://habrahabr.ru/post/260213/">0x03 Software</a> </li></ul><br>  Despite the fact that today the market leader in the mobile operating network is an open and free Android system, the drivers for interacting with <a href="https://ru.wikipedia.org/wiki/%25D0%25A6%25D0%25B8%25D1%2584%25D1%2580%25D0%25BE%25D0%25B2%25D0%25BE%25D0%25B9_%25D1%2581%25D0%25B8%25D0%25B3%25D0%25BD%25D0%25B0%25D0%25BB%25D1%258C%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25BF%25D1%2580%25D0%25BE%25D1%2586%25D0%25B5%25D1%2581%25D1%2581%25D0%25BE%25D1%2580">DSP</a> are proprietary.  Instead of saying, than it is good or bad, I will tell you what opportunities open when using free software in this area: <br><br><ul><li><h6>  <b>Education</b> </h6>  GSM is an open standard developed by the ETSI community, but few, apart from developers of cellular communication equipment, understand in detail the principles of interaction between a telephone and a cellular network.  Development and implementation of software working on the side of a cell phone requires knowledge of the material, which is rather difficult to find in books or standard description.  One of these topics is the implementation of synchronization of the phone and the base station using the TDMA (Time Division Multiple Access) method.  Another ‚Äúproblem‚Äù topic is the optimization of energy consumption in order to save battery power. <br></li><li><h6>  <b>Research</b> </h6>  Any research in the field of cellular communication, especially security research, requires both theoretical knowledge and a free, well-documented implementation of the basic protocol stack.  It is possible that the manufacturers of cellular communication equipment are not interested in any research, which, in addition, may adversely affect their position in the market.  Therefore, they are doing everything possible to hide the details of the work of their equipment from curious researchers.  Based on GSM protocol knowledge and freely available software, more and more people can do research that does not require close ties to the cellular industry. <br></li><li><h6>  <b>Security and Privacy</b> </h6>  Most people have an idea of ‚Äã‚Äãpotential threats when connecting to the Internet and use anti-virus programs, firewalls and firewalls to protect their computers.  But what about mobile phones?  Almost constantly, your phone, whose DSP module is controlled by some software with closed source code, is connected to a public GSM wireless network created by the nearest base station.  Any rather complex software may contain errors or specially left backdoors, which can be used by anyone.  In contrast, and proprietary software, free provides a higher level of security, since the source code is readable to anyone interested in this. <br></li></ul><br>  The OsmocomBB project comes to the rescue. <br><br><h2>  Osmocom Community </h2><br>  The Osmocom community is engaged in the development of several Open Source projects at once, such as: <br><ul><li>  <b>OpenBSC</b> - implementation of the protocol stack and GSM / 3GPP standard elements, with which you can organize your cellular network; <br></li><li>  <b>OsmocomDECT</b> - a free implementation of the DECT standard protocol stack, on the basis of which most landline cordless telephones work; <br></li><li>  <b>SIMTrace</b> - equipment and software for passive monitoring of traffic between the SIM-card and the phone; <br></li><li>  <b>OsmoSDR</b> is a cheap SDR receiver capable of receiving GSM, TETRA, GMR-1 and similar signals. <br></li></ul><br>  The community is also engaged in wireless security research.  Detailed information can be found on their website: <a href="http://openbsc.osmocom.org/trac/wiki/OsmocomOverview">osmocom.org</a> .  Unfortunately, the information on the site is poorly structured, and in some places in general at the TODO stage.  A lot of information about the project and useful things can be found if you look at their speeches at various conferences. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  OsmocomBB Project </h2><br>  Immediately after completing work on the main part of the <a href="http://openbsc.osmocom.org/">OpenBSC</a> project in 2010, it became necessary to implement the client part of the GSM standard protocols.  The developers chose the Calypso chipset, due to the availability of its specifications.  The project was repeatedly presented at several conferences, where the speakers were accompanied by stormy applause. <br>  The project is developed on the basis of the Git version control system and consists of several branches, which emphasize certain opportunities. <br><br>  So, in order, what do you need to run OsmocomBB? <br><br><ul><li><h6>  <b>Compatible Phone Based on Calypso or MediaTek Chipset</b> </h6>  A list of supported models can be found <a href="http://bb.osmocom.org/trac/wiki/Hardware/Phones">here</a> .  The main focus is on the Motorola C123 / C121 / C118 (E88) and Motorola C155 (E99), so it is recommended to purchase them.  Also supported are Open Source phones Neo 1973 (GTA01) and Neo Freerunner (GTA02).  In more detail about where to get a compatible phone and how to make sure that this is exactly what you need, I will tell in the second part. <br></li><li><h6>  <b>Filter replacement and antenna (optional)</b> </h6>  If you plan to use the phone as a passive GSM traffic sniffer or you want to launch a small base station based on it, you will have to order additional parts and show skill in careful soldering.  The fact is that incoming traffic (downlink), not intended for this phone, is rejected by special filters.  In order to get around this, you need a small surgical procedure, which is described here: <a href="https://bb.osmocom.org/trac/wiki/Hardware/FilterReplacement%3Fredirectedfrom%3DFilterReplacement">Filter Replacement</a> .  However, these actions require responsibility and understanding of what is happening on the part of the reader, since broadcasting on GSM frequencies requires a license, and violation of the confidentiality of subscriber traffic is pursued by the legislation of the Russian Federation.  :( In more detail about it as I will try to tell in the following parts of this cycle. <br></li><li><h6>  <b>USB-TTL cable and converter</b> </h6>  The phone communicates with the computer via a serial port and a USB-TTL converter.  Compatible Motorola phones use the 2.5 mm jack headset port for this purpose.  Here you have two options: either order a ready-made cable on the <a href="http://shop.sysmocom.de/t/osmocombb/cables">sysmocom.de</a> website (10-15 euros) or anywhere else, or make it yourself, spending only jack, wires and a converter (about 200 rubles from aliexpress).  In more detail about how to solder a cable, about subtleties of a choice of the converter and a rake on which it is possible to step, I will tell in the second part. <br></li><li><h6>  <b>Computer running Unix-like OS</b> </h6>  It is assumed that the reader is at least at a basic level familiar with Unix-like operating systems.  The process of building sources will be described on the example of the Ubuntu Linux 14.04 LTS distribution.  It is also desirable to have a stable channel of access to the Internet. <br></li><li><h6>  <b>Patience, skill, ability to search for information on the Internet</b> </h6>  There is a high probability that you will encounter errors during the source build or when the phone is connected.  This is normal.  You should carefully read the error messages, and often use the search: perhaps someone already had such problems.  Also very useful knowledge of English at a basic level.  In each of the following parts I will describe the possible errors and how to eliminate them. <br></li></ul><br><br><h2>  What can be done with OsmocomBB? </h2><br><ul><li><h6>  <b>GSM traffic sniffing</b> </h6>  Packets transmitted over GSM networks can be captured, analyzed (for example, using Wireshark), and even decrypted.  The phone will transfer all captured traffic to your computer.  This is one of the cheapest GSM sniffers, allowing you to perform security research and testing. <br></li><li><h6>  <b>Starting a small base station</b> </h6>  If you have ever heard of <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25BD%25D0%25BE-%25D0%25BE%25D0%25BF%25D1%2580%25D0%25B5%25D0%25B4%25D0%25B5%25D0%25BB%25D1%258F%25D0%25B5%25D0%25BC%25D0%25B0%25D1%258F_%25D1%2580%25D0%25B0%25D0%25B4%25D0%25B8%25D0%25BE%25D1%2581%25D0%25B8%25D1%2581%25D1%2582%25D0%25B5%25D0%25BC%25D0%25B0">SDR devices</a> , such as <a href="http://www.ettus.com/">USRP</a> , then you probably heard about their price.  OsmocomBB compatible phone with soldered filters is a cheap alternative that allows you to run your cellular network within the room. <br></li><li><h6>  <b>RSSI (Received Signal Strength Indication)</b> </h6>  It is possible to monitor the signal level on different channels of the cellular network.  To do this, use the special firmware of the same name. <br></li><li><h6>  <b>Wireless Stress Testing (EMI)</b> </h6>  It sounds impressive.  Special EMI firmware allows you to generate software-defined interference in order to test the stability of various wireless equipment, such as amplifiers and radios.  more about this is written <a href="http://bb.osmocom.org/trac/wiki/emi-firmware">here</a> . <br></li><li><h6>  <b>SIM Reader</b> </h6>  Using special libraries, you can interact with your SIM card through the same phone.  As you know, a SIM card is a rather complicated device that may contain security flaws.  There is even a project to test the security of <a href="https://opensource.srlabs.de/projects/simtester/wiki">SIMtester</a> SIM cards. <br></li><li><h6>  <b>Run a small operating system NuttX</b> </h6>  The Osmocom community managed to port the Nuttx <a href="https://ru.wikipedia.org/wiki/%25D0%259E%25D0%25BF%25D0%25B5%25D1%2580%25D0%25B0%25D1%2586%25D0%25B8%25D0%25BE%25D0%25BD%25D0%25BD%25D0%25B0%25D1%258F_%25D1%2581%25D0%25B8%25D1%2581%25D1%2582%25D0%25B5%25D0%25BC%25D0%25B0_%25D1%2580%25D0%25B5%25D0%25B0%25D0%25BB%25D1%258C%25D0%25BD%25D0%25BE%25D0%25B3%25D0%25BE_%25D0%25B2%25D1%2580%25D0%25B5%25D0%25BC%25D0%25B5%25D0%25BD%25D0%25B8">RTOS</a> system for launch on OsmocomBB compatible phones.  In one of the following articles I will tell about it in more detail. <br></li><li> <h6>  <b>Calls and SMS</b> </h6>  Despite the list of possibilities listed above, the phone remains a telephone, and under the control of the mobile program from the OsmocomBB package, it can make / receive voice calls, receive and send SMS messages, and execute DTMF commands. <br></li></ul><br><br><h2>  What to see, read? </h2><br>  Firstly, the fundamentals of the GSM standard, namely the process of sharing access between subscribers, cellular network infrastructure, encryption standards ... In general, the more, the better.  :) <br><br>  Brewing a pot of tea and a mug of dumplings, you can see interesting performances of the project developers: <br><br><ul><li>  <a href="http://live.digitaloctober.ru/embed/1207%3Flanguage%3Den%26params%255Bpw%255D%3D630%26params%255Bph%255D%3D355%26params%255Bepisodes_under%255D%3D1%26params%255Beh%255D%3D100">PHDays 2012 - Abusing Calypso talk</a> <br></li><li>  <a href="http://media.ccc.de/browse/congress/2012/29c3-5333-en-gsm_cell_phone_network_review_h264.html">29C3 GSM: Cell phone network review</a> <br></li><li>  <a href="http://media.ccc.de/browse/congress/2012/29c3-5226-en-further_hacks_calypso_h264.html">Further hacks on the Calypso platform</a> <br></li><li>  <a href="http://media.ccc.de/browse/congress/2012/29c3-5216-en-attacking_mobile_terminated_service_in_gsm_h264.html">Let me answer that for you</a> <br></li><li>  <a href="http://www.youtube.com/watch%3Fv%3DZrbatnnRxFc">Wideband GSM Sniffing [27C3]</a> <br></li></ul><br><br><h2>  Conclusion </h2><br>  As a conclusion, I provide interesting links to articles by other authors: <br><br><ul><li>  <a href="https://habrahabr.ru/post/331406/">We start GSM network at home</a> </li><li>  <a href="https://habrahabr.ru/company/pt/blog/261035/">MiTM Mobile Contest: How Mobile Phone Broke on PHDays V</a> </li><li>  <a href="https://habrahabr.ru/company/pt/blog/269525/">HackerSIM: Debriefing</a> </li></ul><br>  <b>UPD 06.23.2017:</b> <br>  In connection with the ongoing stream of questions, such as: ‚ÄúWill there be a continuation?‚Äù, I give my short answer - it will be.  But I can not say how soon.  At the moment I am engaged in supporting other Osmocom projects, as well as actively working on porting OsmocomBB to SDR platforms, such as USRP or UmTRX. <br><br>  As soon as opportunities and free time appear, I will try to highlight the following topics: <br><br><ul><li>  What is wrong with A5 / 1 encryption? </li><li>  Using OsmocomBB for security audit of cellular networks </li><li>  How to stop being afraid and start writing your code for OsmocomBB </li><li>  The future of OsmocomBB: transition to SDR </li></ul><br>  Channel Release Indication;) </div><p>Source: <a href="https://habr.com/ru/post/257631/">https://habr.com/ru/post/257631/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../257619/index.html">We write bot for browser game agar.io</a></li>
<li><a href="../257621/index.html">Intel Edison. Work with Intel IoT Analytics cloud: register and send data</a></li>
<li><a href="../257625/index.html">Easy debugging with PHPixie Debug</a></li>
<li><a href="../257627/index.html">Restoring damaged Innodb tables</a></li>
<li><a href="../257629/index.html">A series of freelance texts written by industry professionals</a></li>
<li><a href="../257633/index.html">LeakCanary - an assistant in the search for memory leaks</a></li>
<li><a href="../257635/index.html">The digest of interesting materials from the world of web development and IT for the last week ‚Ññ159 (May 4 - 10, 2015)</a></li>
<li><a href="../257637/index.html">Top 5 reports of the .NEXT 2014 Moscow conference (video inside)</a></li>
<li><a href="../257639/index.html">Free Data Recovery Test. Version of Habr's readers</a></li>
<li><a href="../257641/index.html">Hello, SaaS | Remote to all</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>