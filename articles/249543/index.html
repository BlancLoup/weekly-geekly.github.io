<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ÄúDifficulties‚Äù of translating applications for Windows Store</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I had a localized Windows Store app. It had the ability to switch the language to English, but even with the English interface, the application contin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>‚ÄúDifficulties‚Äù of translating applications for Windows Store</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/8ab/16d/e78/8ab16de7822746daaaf86404288c11af.png"><br><br>  I had a localized Windows Store app.  It had the ability to switch the language to English, but even with the English interface, the application continued to amaze English-speaking users with Russian Cyrillic "hieroglyphs" on the splash screen and logos.  And Russian-speaking users, in their turn, were surprised that the application was not called in Russian.  How this disgrace has turned out and how to make this article well. <br><br>  All who are interested in the development of universal Windows applications, I invite under the cat. <br><a name="habracut"></a><br>  Practically all WP8 / WinRT / WinJs developers (even those who have never translated their applications into other languages) know that to localize the application, you need to create the Strings folder in which you create subfolders with names equivalent to language codes.  Further in these subfolders the resources.resjson resource files for html5 applications or resources.resw for xaml applications are created. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/174/0a5/38f/1740a538f002410e9e9076f3e7a44a1c.png"><br><br>  Localized text strings are entered into resource dictionaries in pairs of key / string and extracted after using a similar code.  C # example: <br><br><pre><code class="cs hljs">Windows.ApplicationModel.Resources.ResourceLoader resload; resload = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Windows.ApplicationModel.Resources.ResourceLoader(); txtWaitProcess.Text = resload.GetString(<span class="hljs-string"><span class="hljs-string">"keyWaitProcess"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//  txtWaitProcess    XAML TextBlock,  keyWaitProcess  ,           .</span></span></code> </pre> <br>  This looks a bit shorter in JavaScript: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">'txtWaitProcess'</span></span>).innerText = WinJS.Resources.getString(<span class="hljs-string"><span class="hljs-string">'keyWaitProcess'</span></span>).value;</code> </pre><br>  In addition, it is possible to declare content for the XAML element declaratively.  In this example, the button text is set: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x:Name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"btnCancel"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x:Uid</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"btnCancel"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"do_cancel"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">FontFamily</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Segoe UI"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">FontSize</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"20"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  In the resource file, you can enter a string indicating Uid, attribute through a dot and specify the value of this attribute.  In this example, we can set the content of the button text, specifying <b>btnCancel.Content</b> as the key of the resource <b>file</b> . <br>  In HTML5 applications in HTML code, the content text is set as follows: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-win-res</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{textContent: 'keyvisitsite'}"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  You can also set the value of an attribute, for example, the title attribute: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-win-res</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{attributes:{'title':'keytext7'}}"</span></span></span><span class="hljs-tag">&gt;</span></span>   <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  You can force the current application language using: <br><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">// C# Windows.Globalization.ApplicationLanguages.PrimaryLanguageOverride = "ru"; //          ,    :</span></span></code> </pre><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// JavaScript Windows.Globalization.ApplicationLanguages.primaryLanguageOverride = "ru"; //             : WinJS.Resources.processAll();</span></span></code> </pre><br>  As you can see from the example, the application on WinJS does not require a restart.  But for C # developers, there is little consolation in the form of the ability of the application to ‚Äúcatch‚Äù switching the current language in the system and automatically update the context.  For this: <br><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">//       MapChanged protected override void OnLaunched(LaunchActivatedEventArgs args) { ResourceManager.Current.DefaultContext.QualifierValues.MapChanged += Event_MapChanged; } //    ,     ,     void Event_MapChanged(IObservableMap&lt;string, string&gt; sender, IMapChangedEventArgs&lt;string&gt; @event) { ResourceManager.Current.DefaultContext.Reset(); }</span></span></code> </pre><br>  It was a description of the well-known methods of translating text.  However, many people forget that you can also translate logos, screensaver and other images. <br><br>  Make it very easy.  It is enough to create subfolders with prefixes of language codes inside the Assets folders (in C # applications) or images (in JavaScript applications). <br><br>  In the next screenshot, you can see that I have localized both standard application logos and splashscreen image. <br><br><img src="https://habrastorage.org/files/9e6/333/dc8/9e6333dc85844a7a9ef21b678db75098.PNG"><br><br>  By opening the application manifest (the Package.appxmanifest file), we will be able to localize both the display name of the application and the name under which the application will be displayed in the store (the display name of the package).  To do this, we use the ms-resource prefix and after it we will specify the key name in our resource files. <br><br><img src="https://habrastorage.org/files/0ba/d8a/82b/0bad8a82bf0a4dc7bdd31e2d636cdbf2.PNG"><br><br>  Finally, for guys and girls who want to automate the translation process, I want to provide a link to the official set of multilingual tools for automatic generation of resource files with translation.  To localize the application in this case, we just need to create in the Strings folder only one subfolder with the default language and the resource file. <br><br>  Download a set of multilingual tools at the link: a <a href="https://dev.windows.com/ru-RU/develop/multilingual-app-toolkit">set of tools for multilingual applications</a> <br><br>  After installing the application, you will need to activate the toolkit.  After opening the project, go to the ‚ÄúTools‚Äù menu and click ‚ÄúEnable Multilingual Tools‚Äù.  After that, in the ‚ÄúProject‚Äù menu you will see the item ‚ÄúAdd translation languages ‚Äã‚Äã...‚Äù.  The automatically created MultilingualResources folder will contain xlf translation files.  After building the project, these files will be filled with values ‚Äã‚Äãfrom the default language resource file. <br>  Double-clicking on the xlf file will open it in an editor that includes an automatic translator. <br><br><img src="https://habrastorage.org/files/410/deb/ec7/410debec7f87458197d645bcade2afe8.PNG"><br><br>  This editor does not require Visual Studio installed on your computer, so you can easily send your xlf files and a link to a multilingual toolkit to a professional translator. <br><br>  The file_name of your project.qps-ploc.xlf is a pseudo language file intended for test problems.  Using this file, you can identify shifts in the markup of your code.  Before publishing a project, this file must be deleted. </div><p>Source: <a href="https://habr.com/ru/post/249543/">https://habr.com/ru/post/249543/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../249531/index.html">Tracker emotional stress Emvio. Video of the working prototype</a></li>
<li><a href="../249533/index.html">Undergraduate SPbAU. Start</a></li>
<li><a href="../249535/index.html">Artificial dawn</a></li>
<li><a href="../249537/index.html">Heartbleed on Rust</a></li>
<li><a href="../249541/index.html">Running OpenWRT 14.07 on Mikrotik and an Askerk Build Example with an Additional Module</a></li>
<li><a href="../249545/index.html">Everything you wanted to know about GOPATH and GOROOT</a></li>
<li><a href="../249547/index.html">Two-factor authentication, which is convenient to use</a></li>
<li><a href="../249549/index.html">Monitoring of Cisco network equipment in the Observium system</a></li>
<li><a href="../249553/index.html">How to create a website using YouTube videos as a background?</a></li>
<li><a href="../249555/index.html">What's new in C # 6.0?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>