<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>From Slides Defined to Software Defined Networking. Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Each of us has heard about the concept of software-defined networks (Software Defined Networking, SDN). However, despite the continuous development an...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>From Slides Defined to Software Defined Networking. Part 1</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/84d/70d/d4e/84d70dd4e3654d0d8bd1835e8c34b050.jpg"><br><br>  Each of us has heard about the concept of software-defined networks (Software Defined Networking, SDN).  However, despite the continuous development and a number of significant changes, this concept has not been embodied in the form of commercially held products for a long time, in fact, remaining at the ‚ÄúSlides Defined‚Äù level, that is, as speculative constructions in vendor presentations and integrators.  In light of this, it is not surprising that overly active discussion of the SDN topic in recent years, coupled with the lack of fully working solutions in the market, has led, if not to the rejection, then to a critical attitude to this technology from the part of the IT community.  In this article, we would like to dispel this skepticism and talk about a network factory that meets the classic SDN criteria and at the same time is a complete, ‚Äúboxed‚Äù solution. <br><br>  The article aims to tell about the architecture of the solution, its features, as well as personal impressions of testing.  In the process of preparing the material, we wanted to show how simple and convenient SDN can be for building a data center, so we will deliberately avoid deep immersion in technology and focus more on the possibilities that this solution can bring.  Due to the large amount of material we have divided it into 3 parts: a general description and architecture, functionality and integration capabilities. <br><a name="habracut"></a><br><h3>  <font color="#8caab5">Instead of intro</font> </h3><br>  Unlike the established technologies for building distributed corporate and campus networks, approaches to the organization of the data center network are constantly evolving.  This is partly due to a significant increase in requirements from applications and adjacent systems.  Thus, for applications to work, an ever-greater bandwidth is required, requirements for predictability of delay, as well as various parameters for traffic transfer, are being tightened, which leads to a revision of the mechanisms and topologies used.  Adjacent systems (in particular, virtualization and orchestration systems), in turn, require greater integration and automation capabilities to influence the processes occurring in the network. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The concept of Software Defined Networking is designed to solve most problems with integration and automation through the use of a single point of control and monitoring of the network.  The same principles should help to significantly reduce the user‚Äôs dependence on the vendor - still in the networked world, the manufacturer is usually the only supplier of software to its equipment, despite the fact that the equipment is created on the basis of typical elements produced by third-party companies. <br><br>  In turn, the development of the market for special microcircuits (ASIC) and hardware manufacturers led to the appearance on the market of switches without proprietary software (so-called <abbr title="bare metal switch, by analogy with bare metal server - a switch without an operating system, but with the possibility of installing it">BM switches</abbr> ), for which the operating system providing the basic functionality is developed by other companies.  The cost of such switches is much lower than that of their branded counterparts, and the client has the opportunity to choose an operating system.  But, unfortunately, the overwhelming majority of such SDN products are some kind of designer who offers to assemble a solution from available parts (switches, controllers, software).  Perhaps the use of such kits is acceptable for companies with a significant staff of technical specialists, but for most organizations this approach is inconvenient. <br><br>  Meanwhile, our company recently managed to test a solution for building the data center network Big Cloud Fabric (BCF) from Big Switch Networks, which is much more user friendly.  Big Cloud Fabric is a classic SDN solution: it uses BM switches as the hardware infrastructure of the network fabric and the centralized <abbr title="A set of functions of network equipment that provides interaction over network protocols, the calculation of network topology, etc.">Control Plane</abbr> , placed on a separate controller.  The controller is assigned the functions of calculating the topology, processing routing information, studying connected hosts, as well as configuring and controlling all functions of the system.  The results of the controller are synchronized between the switches and directly recorded in the ASIC hardware tables.  And at the same time, BCF is a complete, ‚Äúboxed‚Äù solution that does not require the user to take long and difficult processes of integrating the components with each other. <br><br><div class="spoiler">  <b class="spoiler_title">About Big Switch Networks</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/577/531/f79/577531f7962f4726abb6e6a29d03141c.png" align="left">  <a href="http://bigswitch.com/">Big Switch Networks was</a> founded in 2010 by the SDN concept development team from Stanford University.  As a recognized industry pioneer, since 2013, the company has been developing SDN solutions using BM switches.  The product portfolio is represented by two systems: Big Cloud Fabric (network data center factory) and Big Fabric Monitoring (package broker).  The company has received numerous awards in the field of virtualization, as well as cloud and SDN technologies. </div></div><br>  Let's take a closer look at how the solution works based on such an atypical approach and what opportunities it can offer to users. <br><br><h3>  <font color="#8caab5">Big Cloud Fabric Architecture</font> </h3><br>  What is Big Cloud Fabric?  If you try to briefly formulate a definition, the following would be most appropriate: BCF is a data center data center with the ability to use BM switches that are under single control and have a single interface for control, analytics and integration. <br><br>  BCF is based on the Ethernet switch network, built on the Spine and Leaf topology, which is currently the most popular for building data center networks.  Additionally, any two leaf switches can be combined into an <abbr title="Multi Chassis Ling Aggregation Group is a technology that allows you to organize aggregated channels (LAG, Port Channel, Ether Channel) using several (usually two) independent switches. Such channels are considered by the equipment connected to them as a single LAG.">MC-LAG pair</abbr> (Leaf Group in BCF terminology). <br><br><div class="spoiler">  <b class="spoiler_title">Why Spine and Leaf?</b> <div class="spoiler_text">  The topology of Spine and Leaf is becoming very popular in data center networks, as it is optimized for the transmission of <abbr title="A common name for directing traffic between data center servers. North-south - traffic transmitted between the data center server and the external user">east-west</abbr> traffic, provides a low level of re-subscription and a predictable, constant delay.  For example, in the classical two-tier topology, where a certain number of <abbr title="Top of Rack - Rack Switch">ToR</abbr> <abbr title="End of row - row switch">switches are</abbr> connected to two <abbr title="End of row - row switch">EoR</abbr> <abbr title="Top of Rack - Rack Switch">switches</abbr> , when one of the EoRs fails, the re-subscription immediately increases by 2 times, and the failure of the second one completely disables the network.  In the case of the spine and leaf topology, for example, with 4 spine switches, the failure of one of them increases the oversubscription only by 33%, while the number of intermediate nodes for any 2 network hosts is always the same. </div></div><br>  However, unlike other solutions, BCF can use switches from different manufacturers that support the installation of network operating systems.  From a technical point of view, these switches are no different from the usual, branded models.  They use the same hardware components ‚Äî the central processor, the memory, and the commercially available ASIC.  However, instead of the operating system, BM switch manufacturers install the <a href="http://onie.org/">ONIE</a> bootloader, a small system utility that downloads and installs any compatible network operating system.  Such an approach gives considerable flexibility in building a network, since it provides the possibility of choosing a hardware platform regardless of the software used. <br><br><div class="spoiler">  <b class="spoiler_title">Bare-metal switch, white-box switch ...</b> <div class="spoiler_text"> Until recently, a very conservative model operated in the networked world ‚Äî the OS supplier of network equipment was invariably also a supplier of the hardware platform.  However, due to the development of commercially available ASIC, switches without an operating system (Bare-metal) or with a pre-installed OS, but with the possibility of its replacement (White Box) began to appear on the market.  The development of network operating systems that support various hardware platforms (Cumulus Linux, Pica8, SwitchLight OS) has also accelerated.  This was made possible thanks to the vendor‚Äôs provision of an ASIC API for interoperability, as well as the introduction of the ONIE standardized loader. </div></div><br>  The factory can support any switches built on ASIC Broadcom Trident II / II + and Tomahawk, which is the majority of the data center switches currently manufactured (both classic and Bare-metal / White Box).  The official list of supported models includes various switches from Dell Networks and Accton / Edge-Core.  This is due to the fact that Big Cloud Fabric is not a set of switches, independently working with each other, but a single factory with centralized management and control.  That is why the tested compatibility of all components is extremely important for the uptime of the entire network.  At the same time, Big Switch Networks regularly updates the list of supported switches. <br><br>  The switches themselves are useless without an operating system that could manage them.  In the case of BCF, all controls, controls and integration with third-party systems are placed on a special device - the factory controller.  Its tasks include all management and control functions ‚Äî providing a factory access interface, collecting information about connected hosts, calculating topologies, synchronizing information for programming hardware tables between switches, and much more.  Lightweight operating system Switch Light OS is installed on the switches, which is designed to receive instructions from the controller and directly program them in the switch ASIC, as well as collect raw statistics data and send them to the controller for analysis.  At the same time, the network administrator does not need to manually install the OS on the switch - BCF supports the Zero Touch Provisioning mechanism, thanks to which the switch, once connected to the control network, is automatically detected by the controller, the OS and configuration templates are installed on it.  Information between the switches and the controller is transmitted via a highly modified <abbr title="A protocol for transmitting information about flows and actions with them between the controller and devices in SDN networks">OpenFlow</abbr> protocol. <br><br><div class="spoiler">  <b class="spoiler_title">Switch Light OS &amp; Open Network Linux</b> <div class="spoiler_text">  The lightweight Switch Light OS operating system used in BCF is based on the well-known <a href="https://opennetlinux.org/">Open Network Linux</a> project (part of the Open Compute Project).  ONL is an optimized Debian distribution with a large number of drivers for peripheral devices (SFP, FAN, GPIO, ASIC), and a minimal set of utilities.  As a standalone product, ONL is rarely used, but is used as a basis for the development and construction of more powerful projects.  In fact, Switch Light OS is the own OpenFlow agent of Big Switch Networks running on Open Network Linux. </div></div><br>  If we make an obvious analogy with a modular switch, then switches are line cards (leaf) and switching modules (spine), and the controller is the supervisor of a large geographically distributed switch.  To ensure fault tolerance, the factory is managed by a cluster of at least 2 nodes, and the network of interaction between the controller and switches is implemented as a separate, out of band infrastructure. <br><br>  Big Cloud Fabric is available in two versions: fully physical factory (P Fabric) and hybrid (P + V Fabric).  The latter option offers the ability to install the Switch Light VX software agent (in fact, the same Switch Light OS) for Open vSwitch software switches in a virtual KVM environment.  Switch Light VX works in the user's environment and has no effect on the core of the hypervisor.  Its task is to synchronize traffic forwarding policies with the factory controller and implement them in Open vSwitch.  In fact, in BM switches, Swith Light OS relies on the ‚Äúmuscles‚Äù of the ASIC, and in a virtual environment, on the CPU and Open vSwitch.  Thus, due to the presence of the agent in a virtual environment, not only is traffic forwarding optimized (switching and routing between virtual machines is performed on a physical host, without transferring to an external device), but it also becomes possible to apply policies and collect analytics in a virtual environment. <br><br>  At the moment, the implementation of P + V Fabric is possible only in the architecture of OpenStack / KVM, since it is open.  For other hypervisors, P Fabric is available.  However, the ability to integrate with VMware vCenter / vSphere (about which below) fully compensates for these inconveniences. <br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/files/04d/e69/d06/04de69d0601b41d8b92c75d80af2bcc3.jpg"></a> </div><br>  <i><font color="#99999">Structural scheme of the Big Cloud Fabric (clickable image)</font></i> <br><br>  It should be noted again that, unlike similar products from other manufacturers, the controller is an element that fully controls the switches of the factory, makes calculations of the topology, neighborhood relations of the routing protocols with external devices and synchronizes the state of the hardware tables.  This is not a management system that only collects configuration data and adjusts switches based on them.  This is not a monitoring system that periodically (or on request) polls devices and collects only the information that they can provide using standard protocols.  This is a real factory control plane - the controller has a complete picture of the network, since it creates it.  Through the OS on the switches, it has access directly to the ASIC, and that is why the reaction rate of BCF is higher, and the analyst is much more detailed than of competing products. <br><br>  In connection with such a significant controller role in the infrastructure of the factory, a reasonable question arises: what happens if all the cluster members fail and the factory is left without a Control Plane?  As it turns out, nothing terrible will happen.  Left without a controller (headless mode), the factory will continue to work as usual and will correctly handle the traffic of already studied hosts, and even some types of failures (for example, link failure within one rack (MC-LAG pair)).  Of course, this mode imposes restrictions on new settings, the study of newly connected hosts and changes in the factory topology - that is,  they will not be processed.  This may seem a disadvantage to some, but let's imagine what happens if all supervisors in a modular switch fail?  Most likely it will just stop. </div><p>Source: <a href="https://habr.com/ru/post/307544/">https://habr.com/ru/post/307544/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../307534/index.html">VMware Virtual SAN 6.2: The Technology Future</a></li>
<li><a href="../307536/index.html">How I increased my productivity with streaming</a></li>
<li><a href="../307538/index.html">QRLJacking: a new type of attack threatens the security of users of a number of services and instant messengers</a></li>
<li><a href="../307540/index.html">Microsoft fixes vulnerabilities in Windows</a></li>
<li><a href="../307542/index.html">When should you think about optimizing your IT infrastructure?</a></li>
<li><a href="../307548/index.html">Welcome to Tarantool meetup August 25</a></li>
<li><a href="../307550/index.html">The collapse of the cloud technology exchange. What's next?</a></li>
<li><a href="../307552/index.html">Path indie developers on the market Steam Greenlight: Project ‚Ññ1</a></li>
<li><a href="../307554/index.html">Understanding Go: bytes and strings packages</a></li>
<li><a href="../307556/index.html">Planning usability testing. Part 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>