<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Easy publication of PEAR packages</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I will say right away: it took me about an hour to create a PEAR channel and publish a package. But, if we reject all dead-end ways, save on Google, a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Easy publication of PEAR packages</h1><div class="post__text post__text-html js-mediator-article">  I will say right away: it took me about an hour to create a PEAR channel and publish a package.  But, if we reject all dead-end ways, save on Google, and do not use questionable utilities, then it is quite possible to keep within 10 minutes. <br><br>  PHP programmers have more reasons to dislike PEAR than to love.  Indeed, it seems that over the past 5 years, neither the libraries in the repositories, nor the installer itself, have changed much. <br>  However, so far, installing the PHP library is easiest through PEAR.  This, of course, provided that it will be equally in demand for the entire system.  For example, products such as PHPUnit and Docblox are installed through PEAR, and it is extremely inconvenient to install them in other ways: for example, by cloning a GitHub repository. <br><br>  Most likely you have a library that you would like to share with the community.  Well, or sometime will appear.  It does not matter.  The important thing is that sooner or later you will want to make sure that your product can be installed in just 2 teams ... <br><a name="habracut"></a><br>  Such is the introduction.  Further there will be purely practical recommendations. <br>  One of them: documentation from pear.php.net can not only help but also harm.  Understanding all these PEAR, PEAR2, Pyrus, PEAR_PackageFileManager2, as well as the package.xml structure, is equivalent to studying the service instructions of a nuclear power plant.  You see, we can do without all this.  In addition, we are limited in time, and we definitely will not have enough time to study the extra details of 10 minutes.  And hours too. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      We will be pragmatists, rationalists, well, just lazy. <br>  For example, we are too lazy to create our own PEAR server somewhere on our hosting.  And why?  It is better to adapt GitHub for this business. <br><br>  First we need <a href="http://pirum.sensiolabs.org/">Pirum</a> .  This is a lightweight PEAR channel manager. <br><br>  It is installed, oddly enough, also through PEAR: <br><pre><code class="hljs ruby">$ pear channel-discover pear.pirum-project.org $ pear install pirum/Pirum</code> </pre> <br>  The server itself, configured for GitHub, can be found here: <a href="https://github.com/saucelabs/pear">github.com/saucelabs/pear</a> <br><br>  Follow the instructions: <br>  Create a pear repository on the githaba. <br><br>  Create a local repository: <br><pre> <code class="hljs ruby">$ mkdir pear $ cd pear $ git init $ git remote add origin git@github.<span class="hljs-symbol"><span class="hljs-symbol">com:</span></span>[username]/pear.git</code> </pre><br>  Create a configuration file pirum.xml: <br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">server</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>[username].github.com/pear<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">summary</span></span></span><span class="hljs-tag">&gt;</span></span>[channel name]<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">summary</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">alias</span></span></span><span class="hljs-tag">&gt;</span></span>[shortname]<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">alias</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">url</span></span></span><span class="hljs-tag">&gt;</span></span>http://[username].github.com/pear<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">url</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">server</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  Execute commands <br><pre> <code class="hljs ruby">$ pirum build . $ git add . $ git commit -m <span class="hljs-string"><span class="hljs-string">"Initial server build"</span></span></code> </pre><br>  Fill our repository on githab, disguised as github pages: <br><pre> <code class="hljs ruby">$ git branch -m master gh-pages $ git push origin gh-pages</code> </pre><br>  Let me remind you, the githab allows you to own your static site, for which a special branch is used: gh-pages. <br>  After we uploaded the repository to the server, the new channel will already be located at https: // [username] .github.com / pear. <br>  There, by the way, and instructions for its use.  It is a pity that there is nothing to put from there. <br><br>  We correct this defect.  We need a properly created pear package for our library. <br>  <a href="http://pearfarm.org/">Pearfarm</a> utility will help to create it.  This is not only a utility, but also a website with the hosting of pear-packages, but unfortunately, it is not very popular. <br>  In fact, we would not need to go through the steps above if there were more confidence in Pearfarm. <br><br>  However, the utility itself works and significantly simplifies life when creating a package from scratch. <br>  Install it ... That's right, also through PEAR: <br><pre> <code class="hljs sql">$ pear <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> pearfarm.pearfarm.org/pearfarm</code> </pre><br>  In the directory with your library run the command: <br><pre> <code class="hljs swift">$ pearfarm <span class="hljs-keyword"><span class="hljs-keyword">init</span></span></code> </pre> <br><br>  It creates a file pearfarm.spec, let's call it a meta package.  In essence, this is a PHP file that in a convenient form determines the settings for creating a package. <br>  Here he is: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $spec = Pearfarm_PackageSpec::create(<span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(Pearfarm_PackageSpec::OPT_BASEDIR =&gt; dirname(<span class="hljs-keyword"><span class="hljs-keyword">__FILE__</span></span>))) -&gt;setName(<span class="hljs-string"><span class="hljs-string">'[dirname]'</span></span>) -&gt;setChannel(<span class="hljs-string"><span class="hljs-string">'TODO: Release channel here'</span></span>) -&gt;setSummary(<span class="hljs-string"><span class="hljs-string">'TODO: One-line summary of your PEAR package'</span></span>) -&gt;setDescription(<span class="hljs-string"><span class="hljs-string">'TODO: Longer description of your PEAR package'</span></span>) -&gt;setReleaseVersion(<span class="hljs-string"><span class="hljs-string">'0.0.1'</span></span>) -&gt;setReleaseStability(<span class="hljs-string"><span class="hljs-string">'alpha'</span></span>) -&gt;setApiVersion(<span class="hljs-string"><span class="hljs-string">'0.0.1'</span></span>) -&gt;setApiStability(<span class="hljs-string"><span class="hljs-string">'alpha'</span></span>) -&gt;setLicense(Pearfarm_PackageSpec::LICENSE_MIT) -&gt;setNotes(<span class="hljs-string"><span class="hljs-string">'Initial release.'</span></span>) -&gt;addMaintainer(<span class="hljs-string"><span class="hljs-string">'lead'</span></span>, <span class="hljs-string"><span class="hljs-string">'TODO: Your name here'</span></span>, <span class="hljs-string"><span class="hljs-string">'TODO: Your username here'</span></span>, <span class="hljs-string"><span class="hljs-string">'TODO: Your email here'</span></span>) -&gt;addGitFiles() -&gt;addExecutable(<span class="hljs-string"><span class="hljs-string">'[dirname]'</span></span>) ;</code> </pre><br><br>  You just have to go through all the fields and fill them.  Please note how easy it is to fill out a license!  By default, all files from the git repository will be included in the package; you can remove some of them using the addExcludeFilesRegex () method. <br>  More information on configuring here: <a href="http://pearfarm.org/help/spec">pearfarm.org/help/spec</a> <br><br>  After filling in all the fields, connect to our pear-channel: <br><pre> <code class="hljs ruby">$ pear channel-discover [username].github.com/pear</code> </pre> <br><br>  And create a package. <br><pre> <code class="hljs ruby">$ pearfarm build</code> </pre> <br>  And if everything went well, you will receive a package.xml file (package configuration for PEAR) and a fresh build of your library in the output. <br><br>  Add the build to the server: <br><pre> <code class="hljs cs">$ pirum <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> [---pear-] [--]</code> </pre><br>  Fill in the updated githab server: <br><pre> <code class="hljs ruby">$ git add . $ git commit -m <span class="hljs-string"><span class="hljs-string">"first package added"</span></span> $ git push origin gh-pages</code> </pre><br><br>  Done!  Now you can easily publish your open-source libraries and no longer hide them in the depths of local web servers. <br><br>  And to make sure everything works, let's go to: <br><br>  http: // [username] .github.com / pear / <br><br>  And we will see that our package is already there.  All commands for installing your library are also listed there. <br>  Create useful libraries, publish them, write about them on Habr√©. <br><br>  Thanks for attention. <br><br>  Also note that: <br>  - Everything works on Windows. <br>  - You should not use upper case in the name of the channel server.  PEAR is not friendly with them. </div><p>Source: <a href="https://habr.com/ru/post/134833/">https://habr.com/ru/post/134833/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../134824/index.html">2GIS - iOS version appeared</a></li>
<li><a href="../134825/index.html">Recognition and speech synthesis in any iOS application in an hour</a></li>
<li><a href="../134826/index.html">Do I need authorization after registration?</a></li>
<li><a href="../134828/index.html">Optimize battery consumption</a></li>
<li><a href="../134830/index.html">Bleed, I'm sorry. Or a post dedicated to hamsters from IT</a></li>
<li><a href="../134834/index.html">PCB manufacturing process at home</a></li>
<li><a href="../134835/index.html">A few words about the Motion API</a></li>
<li><a href="../134836/index.html">Moki and stubs</a></li>
<li><a href="../134837/index.html">In Russia, they can not only program</a></li>
<li><a href="../134838/index.html">Data on metadata: on the question of indexing technical drawings</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>