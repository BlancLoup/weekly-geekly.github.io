<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Go away HTML, go away</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The trend of recent years in web development - frameworks and compilers (collectors, if you want). They are everywhere: in javascript, css, link libra...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Go away HTML, go away</h1><div class="post__text post__text-html js-mediator-article">  The trend of recent years in web development - frameworks and compilers (collectors, if you want).  They are everywhere: in javascript, css, link libraries, etc.  Javascript frameworks everywhere use templates to draw everything.  But they all have one thing in common - HTML.  Cumbersome, curtailed, in places from project to project control + c - control + in ... All this html always lies in pieces, attached with structures of the type script type = "text / template".  In general, as if here they have not yet figured out how to deal with it. <br><a name="habracut"></a><br>  At one point, I thought, why not transfer the entire layout to JSON.  It is compact, eloquent and very well readable (I mean services a la jsoneditoronline.org).  Poryskav finished libraries realized that this layout in json only complicate and no one has done the obvious and simple. <br><br>  And did - <a href="https://github.com/dolphin4ik/randr">randr</a> .  The library is small, it works smartly. <br><br>  It works like this: you give a certain json to the input of the function of the same name, the output is a ready DOM (or some part of it): 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> json = { <span class="hljs-attr"><span class="hljs-attr">node</span></span>: <span class="hljs-string"><span class="hljs-string">'div'</span></span>, <span class="hljs-attr"><span class="hljs-attr">content</span></span>: <span class="hljs-string"><span class="hljs-string">'Hello World'</span></span> } <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.appendChild(randr(json));</code> </pre> <br>  The randr from this json will make a div with the text ‚ÄúHello World‚Äù inside. <br><br>  You can also pass attributes: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> json = { <span class="hljs-attr"><span class="hljs-attr">node</span></span>: <span class="hljs-string"><span class="hljs-string">'div'</span></span>, <span class="hljs-attr"><span class="hljs-attr">defaults</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'class'</span></span>, <span class="hljs-attr"><span class="hljs-attr">data</span></span>: <span class="hljs-string"><span class="hljs-string">'super-class'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'attr'</span></span>, <span class="hljs-attr"><span class="hljs-attr">data</span></span>: <span class="hljs-string"><span class="hljs-string">'some attr value'</span></span> } ], <span class="hljs-attr"><span class="hljs-attr">content</span></span>: <span class="hljs-string"><span class="hljs-string">'Hello World'</span></span> } <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.appendChild(randr(json));</code> </pre><br>  Fine!  our div  ªa appeared attributes class and attr.  Once I was <a href="http://habrahabr.ru/users/finom/" class="user_link">finom</a> prompted to make "defaults" as an object with properties, so says more compactly.  No sooner said than done: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> json = { <span class="hljs-attr"><span class="hljs-attr">node</span></span>: <span class="hljs-string"><span class="hljs-string">'div'</span></span>, <span class="hljs-attr"><span class="hljs-attr">defaults</span></span>: { <span class="hljs-attr"><span class="hljs-attr">class</span></span>: <span class="hljs-string"><span class="hljs-string">'super-class'</span></span>, <span class="hljs-attr"><span class="hljs-attr">attr</span></span>: <span class="hljs-string"><span class="hljs-string">'some attr value'</span></span> }, <span class="hljs-attr"><span class="hljs-attr">content</span></span>: <span class="hljs-string"><span class="hljs-string">'Hello World'</span></span> } <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.appendChild(randr(json));</code> </pre><br>  Yes, it has become more compact.  Left both ways.  But the volume can be reduced in another way.  Usually the text (as content) is enclosed in tags "p".  That's exactly what we will do, remove the ‚Äúdiv‚Äù node: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> json = { <span class="hljs-attr"><span class="hljs-attr">defaults</span></span>: { <span class="hljs-attr"><span class="hljs-attr">class</span></span>: <span class="hljs-string"><span class="hljs-string">'super-class'</span></span>, <span class="hljs-attr"><span class="hljs-attr">attr</span></span>: <span class="hljs-string"><span class="hljs-string">'some attr value'</span></span> }, <span class="hljs-attr"><span class="hljs-attr">content</span></span>: <span class="hljs-string"><span class="hljs-string">'Hello World'</span></span> } <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.appendChild(randr(json));</code> </pre><br>  Happened!  By default, if there is no ‚Äúnode‚Äù and ‚Äúcontent‚Äù is text - we draw ‚Äúp‚Äù, otherwise there will be a ‚Äúdiv‚Äù.  Yes, you can simply not write these notorious div: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> json = { <span class="hljs-attr"><span class="hljs-attr">defaults</span></span>: { <span class="hljs-attr"><span class="hljs-attr">class</span></span>: <span class="hljs-string"><span class="hljs-string">'super-class'</span></span>, <span class="hljs-attr"><span class="hljs-attr">attr</span></span>: <span class="hljs-string"><span class="hljs-string">'some attr value'</span></span> }, <span class="hljs-attr"><span class="hljs-attr">content</span></span>: { <span class="hljs-attr"><span class="hljs-attr">content</span></span>: { <span class="hljs-attr"><span class="hljs-attr">content</span></span>: <span class="hljs-string"><span class="hljs-string">'  '</span></span> } } } <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.appendChild(randr(json));</code> </pre><br>  I hope it is clear that there will be a paragraph wrapped in 2 div.  And yes, the content may be different.  For example an array: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> json = { <span class="hljs-attr"><span class="hljs-attr">defaults</span></span>: { <span class="hljs-attr"><span class="hljs-attr">class</span></span>: <span class="hljs-string"><span class="hljs-string">'super-class'</span></span>, <span class="hljs-attr"><span class="hljs-attr">attr</span></span>: <span class="hljs-string"><span class="hljs-string">'some attr value'</span></span> }, <span class="hljs-attr"><span class="hljs-attr">content</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">content</span></span>: <span class="hljs-string"><span class="hljs-string">' 1  '</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">content</span></span>: <span class="hljs-string"><span class="hljs-string">' 2  '</span></span> } ] <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.appendChild(randr(json));</code> </pre><br>  Now it's better, but you can add something else!  Attribute inheritance: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> json = { <span class="hljs-attr"><span class="hljs-attr">defaults</span></span>: { <span class="hljs-attr"><span class="hljs-attr">class</span></span>: <span class="hljs-string"><span class="hljs-string">'super-class'</span></span>, <span class="hljs-attr"><span class="hljs-attr">attr</span></span>: <span class="hljs-string"><span class="hljs-string">'some attr value'</span></span> }, <span class="hljs-attr"><span class="hljs-attr">implement</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">content</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">content</span></span>: <span class="hljs-string"><span class="hljs-string">' 1  '</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">content</span></span>: <span class="hljs-string"><span class="hljs-string">' 2  '</span></span> } ] <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.appendChild(randr(json));</code> </pre><br>  It can be seen that the implement: true flag has appeared - it is he who is responsible for passing attributes to child elements.  But children are capricious and will not want to accept this inheritance: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> json = { <span class="hljs-attr"><span class="hljs-attr">defaults</span></span>: { <span class="hljs-attr"><span class="hljs-attr">class</span></span>: <span class="hljs-string"><span class="hljs-string">'super-class'</span></span>, <span class="hljs-attr"><span class="hljs-attr">attr</span></span>: <span class="hljs-string"><span class="hljs-string">'some attr value'</span></span> }, <span class="hljs-attr"><span class="hljs-attr">implement</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">content</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">content</span></span>: <span class="hljs-string"><span class="hljs-string">' 1  '</span></span>, <span class="hljs-attr"><span class="hljs-attr">extend</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">content</span></span>: <span class="hljs-string"><span class="hljs-string">' 2  '</span></span> } ] <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.appendChild(randr(json));</code> </pre><br>  I think this is also clear.  Negative extend flag does not allow to inherit attributes. <br>  Attributes are inherited according to the principle of overwriting parent children, except for style classes.  They have bonding - ‚Äúparent-class child-class‚Äù. <br><br>  Why even inherit them over everyone decides for himself.  I personally use for helper classes like "float-right, center, background-red".  I think you can come up with.  But no one forces to use. <br><br>  There is another thing - creating your own ‚Äúnodes‚Äù.  So to say ready-made blocks of cunningly crafted elements or simply repeating blanks: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> myNodes = { <span class="hljs-attr"><span class="hljs-attr">askDelete</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">content</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> container = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createElement(<span class="hljs-string"><span class="hljs-string">'div'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> bYes = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createElement(<span class="hljs-string"><span class="hljs-string">'button'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> bNo = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createElement(<span class="hljs-string"><span class="hljs-string">'button'</span></span>); bYes.innerHTML = content.yes; bNo.innerHTML = content.no; container.appendChild(bYes); container.appendChild(bNo); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> container; } } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> json = { <span class="hljs-attr"><span class="hljs-attr">defaults</span></span>: { <span class="hljs-attr"><span class="hljs-attr">class</span></span>: <span class="hljs-string"><span class="hljs-string">'super-class'</span></span>, <span class="hljs-attr"><span class="hljs-attr">attr</span></span>: <span class="hljs-string"><span class="hljs-string">'some attr value'</span></span> }, <span class="hljs-attr"><span class="hljs-attr">content</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">content</span></span>: <span class="hljs-string"><span class="hljs-string">' 1  '</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">node</span></span>: <span class="hljs-string"><span class="hljs-string">'askDelete'</span></span>, <span class="hljs-attr"><span class="hljs-attr">content</span></span>: { <span class="hljs-attr"><span class="hljs-attr">yes</span></span>: <span class="hljs-string"><span class="hljs-string">', '</span></span>, <span class="hljs-attr"><span class="hljs-attr">no</span></span>: <span class="hljs-string"><span class="hljs-string">' '</span></span> } } ] <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.appendChild(randr(json, myNodes));</code> </pre><br>  In this code, we created our magic node ‚ÄúaskDelete‚Äù in the ‚ÄúmyNodes‚Äù object and passed the object as the second parameter to randr.  And in json we call this magic node and use the ‚Äúcontent‚Äù property as parameters.  In this way, you can create your own blanks and implement them in a variety of projects. <br><br>  If you need to get from randr not DOM, but layout as text, just add the third parameter ‚Äútrue‚Äù to randr: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> myNodes = { <span class="hljs-attr"><span class="hljs-attr">askDelete</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">content</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> container = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createElement(<span class="hljs-string"><span class="hljs-string">'div'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> bYes = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createElement(<span class="hljs-string"><span class="hljs-string">'button'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> bNo = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createElement(<span class="hljs-string"><span class="hljs-string">'button'</span></span>); bYes.innerHTML = content.yes; bNo.innerHTML = content.no; container.appendChild(bYes); container.appendChild(bNo); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> container; } } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> json = { <span class="hljs-attr"><span class="hljs-attr">defaults</span></span>: { <span class="hljs-attr"><span class="hljs-attr">class</span></span>: <span class="hljs-string"><span class="hljs-string">'super-class'</span></span>, <span class="hljs-attr"><span class="hljs-attr">attr</span></span>: <span class="hljs-string"><span class="hljs-string">'some attr value'</span></span> }, <span class="hljs-attr"><span class="hljs-attr">content</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">content</span></span>: <span class="hljs-string"><span class="hljs-string">' 1  '</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">node</span></span>: <span class="hljs-string"><span class="hljs-string">'askDelete'</span></span>, <span class="hljs-attr"><span class="hljs-attr">content</span></span>: { <span class="hljs-attr"><span class="hljs-attr">yes</span></span>: <span class="hljs-string"><span class="hljs-string">', '</span></span>, <span class="hljs-attr"><span class="hljs-attr">no</span></span>: <span class="hljs-string"><span class="hljs-string">' '</span></span> } } ] <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.innerHTML = randr(json, myNodes, <span class="hljs-literal"><span class="hljs-literal">true</span></span>);</code> </pre><br>  That's all.  I think such a layout implementation using json will be useful for you.  At least takes up less space and can be transferred to Ajax as objects. </div><p>Source: <a href="https://habr.com/ru/post/260987/">https://habr.com/ru/post/260987/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../260977/index.html">Software-defined WAN: well-made electrical tape?</a></li>
<li><a href="../260979/index.html">STC Metrotek: how it was. Part One (2004-2006)</a></li>
<li><a href="../260981/index.html">Visualization of results in R: first steps</a></li>
<li><a href="../260983/index.html">PHP extension. Writing a simple array with Traversable and ArrayAccess</a></li>
<li><a href="../260985/index.html">RAD using multidimensional table processor</a></li>
<li><a href="../260989/index.html">Messenger spam: is the law broken?</a></li>
<li><a href="../260991/index.html">Getting rid of "historical causes" in cmd.exe</a></li>
<li><a href="../260993/index.html">Solving sparse SLAEs of large dimensions using ManagedCuda in .NET</a></li>
<li><a href="../260995/index.html">The general concept of the direction SafeCityNET</a></li>
<li><a href="../260999/index.html">Functional DDS generator on the FPGA</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>