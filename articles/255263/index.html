<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>WPF 4.6 and beyond</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="At the recently held online conference dotNetConf organized by Microsoft, many interesting things were told. And since there was a large number of dis...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>WPF 4.6 and beyond</h1><div class="post__text post__text-html js-mediator-article">  At the recently held online conference <a href="http://channel9.msdn.com/Events/dotnetConf/2015">dotNetConf</a> organized by Microsoft, many interesting things were told.  And since there was a large number of discussions about WPF, that it is very much <a href="http://habrahabr.ru/company/geekfamily/blog/253341/">alive</a> , I would like to make a brief overview of the report of WPF program managers, what is waiting for us in the release, what you can already see and what is going on.  Everything is really so bad and will there be an analogue of the new engine for WPF, such as Razor for ASP.NET. <br><br>  On November 12, 2014, the <a href="http://blogs.msdn.com/b/wpf/">WPF blog</a> came to life (it is now active too), and the framework development plan was presented. <br><br><img src="https://habrastorage.org/files/7ea/6cb/fe8/7ea6cbfe8bf1458aa8d4c0e1aafb35e8.png"><br>  <em>Hereinafter, screenshots from the video, so that the quality is not very, but you can see everything.</em> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      At the beginning of the <a href="http://channel9.msdn.com/Events/dotnetConf/2015/WPF-in-46-and-beyond">performance</a> , the hosts Uni Ravindranathan and Harikrishna Menon mentioned that there are things that are still in development, and they have no right to tell about them, NDA and all that.  But what they can show is encouraging and it is clear that the work is underway.  Looking ahead, I will say that first of all the developers thought about speed, for example, how to reduce the visual tree for a specific target platform. <br><a name="habracut"></a><br>  Key development areas are shown in the screenshot below: <br><img src="https://habrastorage.org/files/6d9/314/364/6d931436420647619ca18fd4be86ba47.png"><br><ul><li>  Performance, speed when scrolling, data virtualization.  Support for high pixel density screens.  Many rightly criticize WPF for its speed, especially when scrolling. </li><li>  Support for DX11 and DX12 </li><li>  Support for modern equipment.  Responsiveness and reaction to touch events. </li><li>  Toolkit for development and debaga applications. </li></ul><br><img src="https://habrastorage.org/files/ccb/d2b/de6/ccbd2bde6a8142b3a9bec66feea003db.png"><br><br>  The developers claim that WPF is not going anywhere, and contrary to current rumors that WPF is being cut out from the operating system - this is not true.  DotNet part of the OS, and WPF part of the OS and it will be given no less attention than other components.  Microsoft is confident that applications for the OS will be written on WPF for a long time. <br><br><h2>  Immediate WPF Improvement Plans </h2><br>  On the Connect portal, all the bugs that had more than 10 votes were revised and rediscovered.  And now there is still an opportunity to influence what features / bugs will be developed. <br><br>  In the next WPF release, issues related to issues will be resolved: <br><ul><li>  performance and touch devices </li><li>  scrolling and virtualization </li><li>  also made it possible to create transparent child windows. </li></ul><br><br>  As it used to be tight with transparency.  Workarounds apparently were, but difficult. <br><br><img src="https://habrastorage.org/files/ab8/399/6e2/ab83996e2c5b4957a5922dc05d581a99.png"><br><br>  To use transparent child windows, you need Windows 8 and above, as well as .NET 4.5.2. <br><br><img src="https://habrastorage.org/files/6ce/800/ecd/6ce800ecd6044a7fb83818501c3173f4.png"><br><br><img src="https://habrastorage.org/files/145/39d/51e/14539d51eb00496faf1330e9ee7f14b0.png"><br><br>  Well, one more detail, in <strong>app</strong> <strong>.manifest,</strong> you need to specify that this feature is supported by the OS.  Those.  in the application section write the following: <br><br>  &lt;application&gt; <br>  &lt;! - Windows 8 -&gt; <br>  &lt;supportedOS Id = "{4a2f28e3-53b9-4441-ba9c-d69d4a4a6e38}" /&gt; <br>  &lt;/ application&gt; <br><br><img src="https://habrastorage.org/files/957/95c/1ef/95795c1ef88a4db5a0cced7170c8b3ac.png"><br><br>  Another popular question is what to do with cursors when zooming in on the screen.  The cursor is getting bigger too.  It was necessary to manually determine that the scale increased and overload the cursors to the desired size.  That everything was beautiful and neat.  Now you can specify in the cursor constructor what to do if the display scale changes. <br><br><img src="https://habrastorage.org/files/572/1d4/854/5721d48540ad4abda6d2b4dbd209a72d.png"><br><br>  Another perfectionist hell was that for the drop-down list, the right border was cut off, and it looked like this from a scape.  The new version is fixed. <br><br><img src="https://habrastorage.org/files/388/c58/c24/388c58c242684f19809e4a885c14b640.png"><br><br>  In general, this problem is present for all components with an enlarged display scale.  The reason is the incorrect display of the background for the components. <br><br>  The problems described relate to the existing code, but everyone is more interested in what will happen next, what new things to expect from WPF. <br><br><img src="https://habrastorage.org/files/4e5/904/9a3/4e59049a341441ca8e2caa085248f553.png"><br><br>  The WPF team wants to reduce the delivery cycle of updates and shorten as much as possible.  For updates to be released more than once every six months, when perhaps you don‚Äôt need any of this, but as your queries and bugs are realized. <br><br>  In addition, a lot of attention is paid to backward compatibility.  Since WPF is a system thing, support for DX12 or building a part of components based on DX12 can affect a number of already released programs.  We can not throw them to the mercy of fate and must find some solution to ensure backward compatibility.  This is of course a big problem.  If you are concerned with performance issues, the changes should feel the maximum number of users. <br><br><h2>  Applocal </h2><br>  An absolutely new thing that has not been mentioned anywhere else before the conference is AppLocal.  Perhaps this is the biggest change now.  <strong>It lies in the fact that</strong> <strong>WPF</strong> <strong>as a platform can be delivered using the</strong> <strong>correct version of</strong> <strong>NuGet package</strong> .  Those.  Each version of the application comes with its own unique version of WPF.  The developers guarantee that you will get the best or the same speed as compared to the built-in version.  More often, there will be an improvement in performance. <br><br>  This version of WPF will be compatible with the built-in, but at the same time, you can build WPF versions on top of NetCore. <br><br><img src="https://habrastorage.org/files/61c/ddf/1a9/61cddf1a9d1f4ff095f83e3e8c5e8e4e.png"><br><br>  As a demonstration of the work of the new version of WPF, a demo with this design is given. <br><br><img src="https://habrastorage.org/files/483/f97/fd9/483f97fd9dc44a42a2644dd0c3b0d73e.png"><br><br>  First, the application is loaded with builds 4.5.2.  It is seen that the links go to the old version when developing and there will be an appeal to the GAC at runtime. <br><br><img src="https://habrastorage.org/files/788/761/762/78876176203b484db5a66f346f6c9bae.png"><br><br>  Now magic will happen.  In the drop-down menu for assemblies, select the item ‚ÄúAdd NuGet packages‚Äù and you can set the desired local WPF assembly.  Unfortunately, this is currently available only to WPF developers, the screenshot below shows that the local repository is used. <br><br><img src="https://habrastorage.org/files/094/4c2/7f0/0944c27f05a3448d930aee743e1c726d.png"><br><br>  During the installation, the links from the GAC assemblies to the local ones are replaced and in the Referencies list there appear quite a lot of new assemblies that your application needs for a specific platform. <br><br><img src="https://habrastorage.org/files/10f/f8c/73a/10ff8c73a6a545858c63c77feebf71ae.png"><br><br>  Since this is not a ready solution, you need to do a bit of shamanism with configuration files and then everything will work. <br><br><img src="https://habrastorage.org/files/e1d/b3d/4b8/e1db3d4b8dca4419928568722a410e2e.png"><br><br>  After that, a comparison with version 4.5.2 can be made, by how much / element tree for the graphical interface of the application will be greatly reduced.  So, for a fairly simple interface on the .net 4.5.2 version, 281 elements were created. <br><br><img src="https://habrastorage.org/files/e3f/5e5/572/e3f5e55722c2457ba1e46ad6d46da99b.png"><br><br>  After applying the NuGet package with the local version of WPF, it turned out 230. <br><br><img src="https://habrastorage.org/files/b44/b38/5d4/b44b385d4bc247e2ad4f200749ed668b.png"><br><br><h2>  Performance improvement </h2><br>  The developers promise deferred initialization of components, so that they will be initialized only when they fall into the active user zone.  They promise that it will be possible to connect it in one motion, i.e.  attribute. <br><br><img src="https://habrastorage.org/files/7a8/c2d/3f5/7a8c2d3f532f45d1a4b9f2f7c0191f9d.png"><br><br>  Further review of the Blend and removal of performance metrics, which have already been separately consecrated in many places, I think. <br><br>  In general, the presenters strongly urged the community to send them more interesting interesting cases of using WPF and in which places there are problems and gags.  So write them a letter =) <br><br><img src="https://habrastorage.org/files/6ff/712/3d7/6ff7123d7d404ce09334f0c61c442fbd.png"><br><br><img src="https://habrastorage.org/files/191/2ed/dde/1912eddded964ae484e3939bb22ab6d9.png" align="left" width="220" height="200">  In this context, it becomes even more interesting to know what will happen to WPF and Universal Application.  Is it worth it to migrate, is it difficult, and in general when it is worth migrating and in which cases it is not.  Of course, the basic skills for working with WPF remain in demand and relevant to the Universal App, but why then so much noise?  These questions will be answered by <strong>Kostya Kichinsky</strong> , an expert on software development technologies, Microsoft, at the <strong><a href="http://www.gosharp.ru/DESKTOP2015%3Futm_source%3Dhabrahabr%26amp%3Butm_medium%3Darticle%26amp%3Butm_content%3Dwpffuture%26amp%3Butm_campaign%3Dhabrahabr">Desktop UI &amp; Business Application</a></strong> conference on April 11th. <br><br><br><br><br>  The report covers the main issues concerning the Universal App and WPF: <br><ul><li>  The development of WPF and the emergence of WinRT </li><li>  Unification of the Windows platform and UAP </li><li>  WPF Investments </li><li>  How WPF fits in with the UAP + migration matrix (when and how to migrate, and when not) </li></ul><br>  <a href="http://www.gosharp.ru/DESKTOP2015"><b>Come</b></a> , it will be interesting! </div><p>Source: <a href="https://habr.com/ru/post/255263/">https://habr.com/ru/post/255263/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../255247/index.html">Step-by-step instructions for creating a portlet platform: Portlet description</a></li>
<li><a href="../255251/index.html">Fake certificates for Google domains found</a></li>
<li><a href="../255253/index.html">How to stop worrying and start living without Flash</a></li>
<li><a href="../255259/index.html">Install SQL Server 2012 for SharePoint 2013</a></li>
<li><a href="../255261/index.html">Hardware "watchdog" or an indispensable tool in the fight against hang</a></li>
<li><a href="../255265/index.html">Conference YAPC :: Russia :: MayPerl 2015 in Moscow May 16-17</a></li>
<li><a href="../255269/index.html">Mouse Factory in Shenzhen</a></li>
<li><a href="../255271/index.html">Hand on pulse: how we created a load tracking system for user servers</a></li>
<li><a href="../255275/index.html">Features of domain controller authentication using two different certificates</a></li>
<li><a href="../255277/index.html">Must-know for iOS developers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>