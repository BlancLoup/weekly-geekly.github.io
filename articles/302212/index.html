<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How and what to choose the mobile Internet? GSM decoding</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Currently, a huge number of people living in cities and regional centers, and especially away from them, have difficulties with the possibility of cho...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How and what to choose the mobile Internet? GSM decoding</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/590/c45/cb6/590c45cb6e6741bdbc2765a7b5e68419.png"><br>  Currently, a huge number of people living in cities and regional centers, and especially away from them, have difficulties with the possibility of choosing a service provider for qualitatively using such blessings of civilization as digital television, Internet, radio and simply decide, for example, which mobile operator communication choose from possible for high-quality and reliable telephone communication in this place (Megaphone, Beeline, MTS, TELE2, etc.).  As a rule, at best, this is solved by polling the neighbors ‚Äúwhat connection do you use?‚Äù And, relying on their answer, acquire the necessary SIM card of the mobile operator, and then you face what is not heard, there is no connection, the Internet, and then how to read Habr , etc. <br><a name="habracut"></a><br>  Of course, you can buy cards of all operators, and by setting them up on the phone to look like and checking the quality of communication and signal level, you can visit friends who use different cellular operators, look at the Internet for cellular operators coverage areas, make a choice on them, but unfortunately, all these methods, for a number of technical reasons, are not always accurate and in most cases not correct, require quite a long time and cost, and as a rule, it is necessary to determine here and now.  This is especially true for professionals who install and configure equipment, who left on request to carry out any installation in a completely new, unknown place.  In some cases, it is necessary to use an additional external antenna to get a high-quality signal, and it happens that the connection was gone and, in most cases, this is not a new installation, but as a rule, the antennas are already installed and configured by the masters at the time of commissioning the necessary system, but during operation, as well as due to the movement and change of transmitting antennas associated with the reconstruction of towers by telecom operators and television broadcasting, changes in their territorial location, as well as changes in m  The mechanical strength of the receiving antenna and its fasteners (for example, as a result of a large amount of snow coming down from the roof, strong wind), the transmitting misalignment of the receiving path occurs and the possibility of high-quality signal reception up to its complete absence is excluded.  For television, the DVB_T2 broadcasting commissioning also implies new points of installation of transmitting antennas that broadcast to which the receiving antenna must be sent for high-quality reception of the television signal (the previously used UHF antenna is fully suitable for receiving this format).  The cost of such works, when calling the master, is quite high, although these works can be performed by any person on their own, using the simplest DVB-T dongle based on Realtek RTL2832U chip or any SDR receiver with the ability to capture 700-1000 MHz and GSM scanning program.  It is not always possible to use the built-in settings of the system settings qualitatively due to the large inertia of such systems, as well as in the case of a weak signal that requires accurate positioning of the antenna to display at least the initial signal level. <br><br>  For those who are not interested in technical issues, but I want to immediately start using, just download the GSM scanner and start using (link at the bottom of the article), though if you have a DVB-T dongle or SDR receiver available.  The program starts automatically after launch, everything is displayed on the screen (Fig. 1) and after 3-5 minutes or more (depending on the signal quality) displays colored columns whose height means the level and, accordingly, the signal quality, and the color in which is colored by a bar, it defines the telecom operator (the hint - green is a megaphone).  According to the results, the scanner allows you to save a list of identifiers of base stations MCC, MNC, LAC and CI for all scanned channels.  In this place, we can conclude that Beeline is the most optimal in terms of signal level (Figure 2). <br><br>  Figure 1: <br><img src="https://habrastorage.org/files/931/6ed/2de/9316ed2de55d42c0b2275890af0d0f33.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Fig.2: <br><img src="https://habrastorage.org/files/36d/046/882/36d0468829d94225ae5e0397fc5b43a1.png"><br><br>  For those lucky ones who already have the equipment, and who have already launched the scan, while it is being carried out - a description of what the program is doing now and what your processor is so loaded with. <br><br>  First of all, the frequency range is scanned, whether the given signal is a GSM signal, and if a positive decision is made, an attempt is made to decode it;  thus, there are three possible signal detection results: 1 - not a GSM signal, 2 - a GSM signal, but it is impossible to decode data (for example, due to poor signal quality), 3 - a GSM signal and data are decoded. <br><br>  Under the decoded data refers to the system information SI messages transmitted over the broadcast channels BCCH. <br><br>  <b>Thus, the decoder provides the following parameters:</b> <br>  ‚Ä¢ MCC country code, MNC operator code, LAC location code, CI cell ID and BSIC base station ‚Äúcolor‚Äù code <br>  ‚Ä¢ The number of time slots occupied by common synchronization channels BS-CC-CHANS, the number of blocks allocated for the access channel BS-AG-BLKS-RES, the combining flag of common and dedicated channels BS-CCCH-SDCCH-COMB <br>  ‚Ä¢ List of frequency channels of the base station <br>  ‚Ä¢ List of BCCH frequencies of channels of neighboring base stations <br>  Another function of the decoder is to analyze TCH traffic channels, in order to detect base stations with disabled encryption.  This feature can be used to detect GSM security problems, IMSI-catcher detection, etc. <br><br>  In addition, the decoder provides a set of additional parameters characterizing the signal quality: the signal level, the shift of the carrier frequency, the number of decoded frames, the signal-to-noise ratio, the relative number of errors, the number of busy traffic channels, etc. <br><br><h3>  The principle of operation of the GSM decoder. </h3><br>  The GSM physical layer decoder works as follows.  The first step is to search for frequency correction packets (FC burst) and estimate the carrier frequency shift, after detecting it with a delay of one TDMA frame (approximately 4.6 ms), a syn burst packet is searched.  Decoding of the synchronization packet allows to achieve multi-frame synchronization and learn the color code of the given BS.  After this, it is possible to decode the broadcast message channels and traffic channels. <br><br>  <b>The GSM decoder consists of the following functional blocks:</b> <br>  ‚Ä¢ preprocessing of signals and adjustment of carrier frequency shift, <br>  ‚Ä¢ search for known training sequences and adjustment of carrier phase and symbol synchronization, <br>  ‚Ä¢ Evaluator of the channel impulse response and Viterbi EQ with a soft output <br>  ‚Ä¢ reverse interleaver and Viterbi decoder external convolutional code <br>  ‚Ä¢ parsing data packets <br><br><h3>  Preliminary processing. </h3><br>  <b>The GSM preprocessing unit performs the following functions:</b> <br>  ‚Ä¢ conversion of input quadrature samples from an arbitrary input format to an internal representation format and resampling from an input sampling frequency in the range of 250‚Äì500 kHz to a fixed frequency equal to twice the symbol rate <br>  ‚Ä¢ low-pass filtering of the signal with decimation to the symbol rate, estimation of the input signal level <br>  ‚Ä¢ compensation of the input shift of the carrier frequency by multiplying with the complex sine wave of the corresponding frequency <br>  ‚Ä¢ block alignment of output samples at the beginning of the frame <br><br><h3>  Search for training sequences. </h3><br>  <b>The block search for training sequences performs the following functions:</b> <br>  ‚Ä¢ preliminary search of frequency correction packets (FCH channel) by calculating the correlation with a known reference signal; to save resources, the preliminary search is performed with a large time step <br>  ‚Ä¢ clarification of the position of the frequency correction packet and estimation of the carrier frequency shift <br>  ‚Ä¢ frame time synchronization by synchronization packets (SCH channel) <br>  ‚Ä¢ phase adjustment of the carrier frequency of SCH, BCCH, TCH packets <br>  ‚Ä¢ estimation of the phase of symbolic synchronization of SCH, BCCH, TCH packets and interpolation in order to achieve maximum opening of the diagram eye <br>  ‚Ä¢ detection of empty (Dummy) packets transmitted over the TCH channel. <br><br><h3>  Channel estimator and Viterbi equalizer. </h3><br>  The channel impulse response is estimated by calculating the correlation of the signal with the delayed training sequences.  From the obtained estimate of the correlation function, the own correlation of the GMSK signal with BT = 0.3 is subtracted, and the results are averaged. <br><br>  The resulting estimate of the channel impulse response is fed to the Viterbi EQ with a soft output (SOVA), which implements the MLSE decoder.  The Viterbi EQ (VE) uses a 64-state grid, the Viterbi EQ state is described by the following components: 1 bit determines the current value of the accumulated phase for all characters from the completed EH, 2 bits describes the characters from the unfinished EY, 3 bits describes the history of the characters.  In contrast to the classical implementation, where 4 values ‚Äã‚Äãof the accumulated phase are used, in the described implementation only 2 phase values ‚Äã‚Äã(1 bit) are used, which requires a preliminary rotation of each sample on Pi / 2 compared to the previous one. <br><br>  The soft output of the Vitrebi algorithm is formed by multiplying the hard decision by the minimum difference between the metric of the surviving path and the metric of the competitive path, which is distinguished by the given symbol. <br><br>  This module also performs differential decoding of symbols, evaluation of the signal-to-noise ratio, and estimation of the error rate using known training sequences. <br><br><h3>  Deinterlager and Viterbi decoder. </h3><br>  The sequencer performs the symbol permutation for the BCCH and TCH channels, inverse to the interleaver and the formation of blocks.  The Viterbi decoder performs decoding of a convolutional code using a standard algorithm. <br><br><h3>  Parser data packages. </h3><br>  The parser checks the reception of data packets by calculating the checksum (in the standard it is called the Block code) and comparing it with the transmitted one.  After that, the packet is parsed. <br><br>  We look at the plotted chart and determine the optimal telecom operator for a given location and run to buy the desired SIM card. <br><br>  A tuner was purchased on Avito, the photo of the tuner at work in the photo below: <br><img src="https://habrastorage.org/files/11d/4e6/c6e/11d4e6c6e42449c1b4e2579195f2527f.jpg"><br><br>  The source codes of the GSM scanner are available in the open <a href="https://bitbucket.org/iliyav/open_gsm_scanner/overview">GIT repository</a> on Bitbucket.  The scanner is built under MS Visual C ++ 2010 Express and Qt 4.8.4. <br><br>  <a href="http://rfdsp.ru/scanner/gsm_scanner.html">The program is updated and available for download.</a> </div><p>Source: <a href="https://habr.com/ru/post/302212/">https://habr.com/ru/post/302212/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../302200/index.html">Pg_variables extension</a></li>
<li><a href="../302202/index.html">Google I / O 2016: Test and Application Improvements</a></li>
<li><a href="../302204/index.html">Extending the Kivy Framework with the XPopup Package (Part 2)</a></li>
<li><a href="../302206/index.html">Paul Graham: ‚ÄúBe relentlessly resourceful‚Äù (relentlessly resourceful)</a></li>
<li><a href="../302208/index.html">Robots and Robotics: ITMO University Digest</a></li>
<li><a href="../302216/index.html">Old Holivar in a New Way: Will Programming Olympiads Change Over Time</a></li>
<li><a href="../302220/index.html">Do you need an outdated, non-specific legal language, username?</a></li>
<li><a href="../302222/index.html">IBM launches first highly secure cloud blockchain services</a></li>
<li><a href="../302224/index.html">Meteor + CSS-Modules + SugarSS</a></li>
<li><a href="../302226/index.html">Reflection of the dynamics in the access control model</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>