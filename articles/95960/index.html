<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Installing node.js on Linux, FreeBSD, Windows</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="node.js is server-side asynchronous Javascript, an excellent tool for creating server-side COMET applications, in particular, for toys, chats, and oth...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Installing node.js on Linux, FreeBSD, Windows</h1><div class="post__text post__text-html js-mediator-article">  <a href="http://nodejs.org/">node.js</a> is server-side asynchronous Javascript, an excellent tool for creating server-side COMET applications, in particular, for toys, chats, and other high-loaded projects, using Javascript syntax precompiled into machine code running at a speed comparable to C ++ code, is very fast, able to keep 10 - 12 thousand connections, and not creating a separate process / not interpreting itself again / not starting the process with each new client.  Uses as a basis the V8 - Javascript engine from Google.  Convenient features, you can set the value of the variable with one visitor, and read this value when responding to another. <br>  I draw your attention to the fact that if you have not programmed, for example, in Python or Ruby, only in PHP, do not bypass it, this is not another unfamiliar language.  And this is its advantage - Javascript is a familiar language, especially for those who programmed in PHP + Javascript, but PHP did not allow so many things, especially in conjunction with Apache, for example, download files with a download bar (without Flash), the possibility of low-level network management (the ability to write, for example, a client or a Mysql server or a proxy server like nginx). <br>  The flexibility of the language is indicated by the fact that extensions for working with MySQL, for example, are written in Javascript itself. <br>  I planned to write an article describing this wonderful system, with examples, but at the time of reading it would be good for the reader to have the installed version of node.js on hand.  Therefore, this post is about how to install node.js, including on Windows, which is important in connection with the recent appearance of the port under cygwin.  (Yes, there is information about where to download node.exe) <br><a name="habracut"></a><br><h4>  Important note. </h4><br>  First of all I want to draw attention to the fact that with the development of node.js, its syntax has changed, sometimes several times.  In this regard, I categorically do not recommend using old versions of the node, recently slipping node.NET, and similar assemblies.  Ideally - version 0.1.90 or newer.  For the same reason, be careful when you find installation tutorials on the network.  Those that start with wget <a href="http://s3.amazonaws/">http: //s3.amazonaws</a> ... will download the outdated version. <br>  Before installing, make sure that python is installed, it is needed for configuration and build using make (relevant for everything except Windows in some cases). <br><br><h4>  GNU / Linux </h4><br>  Under Linux node.js is the easiest to install. <br>  We go to <a href="http://nodejs.org/">nodejs.org</a> <br>  We copy the link to source codes <br> <code><a href=""></a> wget http://nodejs.org/dist/node-v0.1.97.tar.gz <br> tar -xvf node-v0.1.97.tar.gz <br> //   <br> git clone git://github.com/ry/node.git ( git ) <br> cd node* <br> ./configure <br> make <br> make install</code> <br>  Habrahabr advises in comments: <br>  <a href="https://habrahabr.ru/users/programmer/" class="user_link">Programmer</a> <br><blockquote>  It would be better to build at least using checkinstall <br> <code>checkinstall --fstrans=no --install=no --pkgname=node.js --pkgversion "0.1.97" --default</code> <br> </blockquote><br>  The logic suggests that under MacOS the installation will be the same, I can not check.  Developers are testing their offspring on MacOS, it should work without problems. <br><br><h4>  Freebsd </h4><br>  I have VDS on FreeBSD, and therefore this system is the most relevant for me.  However, the developers do not test node.js on FreeBSD, so some problems are possible. <br>  Before installing, make sure that you have libexecinfo.  It is put like this: <br> <code>cd /usr/ports/devel/libexecinfo <br> make install</code> <br>  Also prompted <br>  <a href="https://habrahabr.ru/users/hilobok/" class="user_link">hilobok</a> : <br><blockquote>  On FreeBSD, in order not to collect libexecinfo from ports, it is enough to do: <br>  pkg_add -r libexecinfo </blockquote><br><h6>  So, the classic way # 1 </h6> <code>cd /usr/ports/www/node <br> make <br> make install</code> <br>  The one that the doctor prescribed is recommended for everyone.  Those who did not know that node is present in the ports - know. <br><h6>  Method # 2 </h6>  If node ports are absent, you can try to install using the classic method described above (under Linux): wget or git clone;  tar -xvf;  configure;  make etc. <br>  But, apparently, this way it will not work to install the node on a 64-bit system. <br><h6>  Method # 3 </h6>  If you have any problems (and I have), there is another way. <br>  Go to <a href="http://www.freebsd.org/cgi/query-pr.cgi%3Fpr%3D145641">www.freebsd.org/cgi/query-pr.cgi?pr=145641</a> <br>  Download the node-0.1.90.shar file <br>  Or create a node-0.1.90.shar file and fill its contents manually (for those who have wget stumbles on an ampersand sign in the url, and you don‚Äôt want to figure out what's wrong). <br>  We speak: <br> <code>sh node-0.1.90.shar <br> cd node <br> make <br> make install</code> <br>  Similar files (.shar), if they appear later, can be found here: <a href="http://b23.ru/exxw">b23.ru/exxw</a> <br><h6>  <a href="https://habrahabr.ru/users/atercattus/" class="user_link">AterCattus Method</a> </h6><blockquote>  When building under FreeBSD 8.0_RELEASE, amd64 was not collected from the first time: <br> <code>...obj/release/cpu-profiler.o(.text._ZN2v88internal23ProfilerEventsProcessor19FunctionCreateEventEPhS2_i+0x81): In function `v8::internal::ProfilerEventsProcessor::FunctionCreateEvent(unsigned char*, unsigned char*, int)': <br> : undefined reference to `v8::internal::OS::ReleaseStore(long volatile*, long)' <br> obj/release/cpu-profiler.o(.text._ZN2v88internal23ProfilerEventsProcessor15CodeCreateEventENS0_6Logger16LogEventsAndTagsEiPhj+0xa3): more undefined references to `v8::internal::OS::ReleaseStore(long volatile*, long)' follow <br> scons: *** [obj/release/mksnapshot] Error 1 <br> scons: building terminated because of errors. <br> Waf: Leaving directory `/home/atercattus/node.js/node-v0.1.97/build' <br> Build failed: -&gt; task failed (err #2): <br> {task: libv8.a SConstruct -&gt; libv8.a} <br> *** Error code 1</code> <br>  This link helped: <a href="http://code.google.com/p/v8/issues/detail%3Fid%3D726">code.google.com/p/v8/issues/detail?id=726</a> . <br>  Everything is simple there, in v8 / src / platform-freebsd.cc is added between int OS :: ActivationFrameAlignment () and const char * OS :: LocalTimezone (double time) implementation of the missing function: <br> <code>void OS::ReleaseStore(volatile AtomicWord* ptr, AtomicWord value) { <br> __asm__ __volatile__(""::: ¬´memory¬ª); <br> *ptr = value; <br> }</code> <br>  Maybe someone will help. </blockquote><br><h6>  Update on June 11th </h6>  The above patch is not relevant for the latest version of git - it compiles perfectly under freebsd-amd64 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Installation under Windows </h4><br>  Forget about the .NET version, at least until the port of version 0.1.90 appears (see note above).  We'll have to use cygwin.  There are two ways - find, download, install Cygwin, add python, g ++, other dependencies, perhaps handle the source node ... If you have time and desire, please, in this case, take a Cygwin-compatible port <a href="http://github.com/raff/node">here</a> . <br>  I offer a simpler version: <br>  Download archive with precompiled node.exe: <a href="http://drop.io/2dwcadi">drop.io/2dwcadi</a> or <a href="">dl.dropbox.com/u/626643/node-cygwinx86.zip</a> - a mirror on the dropbox.  This is the latest version available for Cygwin (0.1.95), besides, cygwin is not needed for it (it is portable).  Unpack. <br>  There is another fallback through colinux: <a href="http://bit.ly/9hCjHO">bit.ly/9hCjHO</a> <br>  Note: <br>  <a href="https://habrahabr.ru/users/azproduction/" class="user_link">azproduction</a> : <br><blockquote>  For windows users (if you have node.exe and server.js are in different places), the command to run from under the Cygwin version will be: <br> <code>node.exe /cygdrive/_////server.js</code> <br>  relative paths do not understand, windows paths with any slashes also do not understand. </blockquote><br>  Also a small update - at the moment (June 11), from under cygwin, you can build the original node.js by downloading it with git. <br><h4>  Test Drive </h4><br>  To start, create a file, for example, server.js.  Sample content can be taken at <a href="http://nodejs.org/">nodejs.org</a> . <br>  In cmd, go to the unpacked folder and say: <br> <code>node.exe server.js</code> <br>  In * nix it is similar, go to the unpacked folder and say: <br> <code>node server.js</code> <br>  I draw your attention to the fact that the brake in two seconds in the example is not a brake, but a special delay in return, realized through setTimeout, simply as a demonstration of the possibilities. <br>  My favorite example is a bit different: <br> <code><a href="http://127.0.0.1/"></a> var sys = require('sys'), <br> http = require('http'); <br> var i=0; <br> http.createServer(function (req, res) { <br> i++; <br> res.writeHead(200, {'Content-Type': 'text/plain'}); <br> res.write('Hello World'+i+'\n'); <br> res.end(); <br> }).listen(8000); <br> sys.puts('Server running at 127.0.0.1:8000/');</code> <br>  Note the increment of the variable when refreshing the page. <br>  To shut down the server / restart with another script, press Ctrl + C (and rerun node).  Note that if you run node through putty, for example, then when you close the console, the node will turn off.  I think it‚Äôs easy to figure it out, the easiest option is to start the screen, or to demonize the process by adding a node to /etc/init.d, turning it off using the stop or killall node command.  More information about this installation (in English) <a href="http://kevin.vanzonneveld.net/techblog/article/run_nodejs_as_a_service_on_ubuntu_karmic/">here</a> . <br>  It's all. <br><br><h4>  Nginx configuration </h4><br>  Next, your server will most likely work on port 80, and node, for example, on 8000. To make it easier to write scripts with beautiful addresses, configure nginx, writing in the config file: <br> <code><a href="http://127.0.0.1:8000/"></a> location /ajax/ { <br> proxy_pass http://127.0.0.1:8000/; <br> proxy_redirect off; <br> proxy_set_header Host $host; <br> proxy_set_header X-Real-IP $remote_addr; <br> proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; <br> }</code> <br>  As noted in the comments, this design is not suitable for real projects, and you need to customize Timeout, message sizes, etc.  In addition, you still have to adjust the number of simultaneous connections in the system itself.  That is, this design is suitable for review and for testing. <br>  Now, when we request <a href="http://example.com/ajax/">example.com/ajax, the</a> content will return node.js. <br>  Note that the script launched in node in this case will determine the url not as equal to '/ ajax /', namely as '/'. <br>  You can stop at this by getting a working node.js, you can begin to touch it with pens.  This thing is really wonderful.  Finally a few links: <br>  <a href="http://nodejs.org/api.html">nodejs.org/api.html</a> Documentation <br>  <a href="http://kuroikaze85.wordpress.com/all-node-js-entries/">kuroikaze85.wordpress.com/all-node-js-entries</a> - Collection of articles on the site habracheloveka Sergei Shirokov ( <a href="https://habrahabr.ru/users/kurokikaze/" class="user_link">kurokikaze</a> ). <br>  <a href="http://howtonode.org/">howtonode.org</a> - articles and notes in English by Tim Caswell (Tim Caswell aka creationix). </div><p>Source: <a href="https://habr.com/ru/post/95960/">https://habr.com/ru/post/95960/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../95948/index.html">Writing User Interface Instructions</a></li>
<li><a href="../95949/index.html">FoneMonkey - the first tool for automated testing applications for iPhone</a></li>
<li><a href="../95953/index.html">Online reports on Windows Phone 7 in Russian</a></li>
<li><a href="../95954/index.html">Internet Explorer 9: The Most Comprehensive Developer Guide (and Not Only), Part 3</a></li>
<li><a href="../95956/index.html">‚ÄúBai no‚Äù - yesterday's conference on the 60th decree on the BelTA website</a></li>
<li><a href="../95961/index.html">Yandex.Direct 10 questions to ask your Advertising Agency</a></li>
<li><a href="../95963/index.html">Yandex Direct. Stop advertising without warning due to the "similarity" of sites</a></li>
<li><a href="../95964/index.html">Choosing card processing outside of Runet</a></li>
<li><a href="../95965/index.html">Install Android on iPhone 2G (3G) in automatic mode</a></li>
<li><a href="../95966/index.html">Back to the childhood</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>