<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Switching the input language in Windows using CapsLock</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The method proposed by me is not something unique and / or unknown. In any of the two search engines, you can easily find a lot of notes on how to con...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Switching the input language in Windows using CapsLock</h1><div class="post__text post__text-html js-mediator-article">  The method proposed by me is not something unique and / or unknown.  In any of the two search engines, you can easily find a lot of notes on how to configure Windows to switch the input language using any keyboard button, just like in Linux, only slightly more complicated and rebooting.  However, I did not find <i>(here you can correct me and offer a link in the comments) a</i> ready-made instruction that includes such an important point as saving the letter <b>E</b> , as well as the reverse apostrophe with a tilde.  I offer you such instructions. <br><a name="habracut"></a><br><h3>  The essence of the problem </h3><br>  Windows 7 provides the user with the long-awaited ability to switch input languages ‚Äã‚Äãby the reverse apostrophe: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/659/23a/094/65923a094f703a40dadbdb63fd23644c.png" width="446" height="194" title="Hot keys for input languages.png" alt="Hot keys for input languages.png"><br><br>  It would seem convenient, but no.  Personally, I see the following disadvantages: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li>  small key </li><li>  on the home Linux machine, however, CapsLock is configured </li><li>  missing the letter E </li><li>  lost tilde and reverse apostrophe </li></ol><br>  For those who, like me, are doomed to go to the develop / production server using PuTTY, the loss of tilde and reverse apostrophe is very sensitive.  I could not stand a month, although it would seem, how easy it is to remember Alt + 126 and Alt + 96.  Need to do something! <br><br><h3>  Change scan codes </h3><br>  The solution for switching layouts by CapsLock is redefining scan codes through the registry.  There are many descriptions of how to do this.  I can offer to read one of them at the link: <a href="http://www.howtogeek.com/howto/windows-vista/disable-caps-lock-key-in-windows-vista/">www.howtogeek.com</a> . <br><br>  The finished result looks like this (file SwitchLangByCaps.reg): <br><br><pre> Windows Registry Editor Version 5.00<font></font>
<font></font>
 [HKEY_LOCAL_MACHINE \ SYSTEM \ CurrentControlSet \ Control \ Keyboard Layout]
 "Scancode Map" = hex: 00,00,00,00,00,00,00,00,00,0,00,00,00,29,00,3a, 00,3a, 00,46,00,56,00 , 29,00,00,00,00
</pre><br>  As you can see, one or several rules of substitution of the form are registered in the registry: <br><br> <code>&lt; , &gt;&lt;  &gt;&lt; , &gt;&lt;  &gt;... <br></code> <br>  So we need to plan the permutation algorithm.  The first permutation is obvious - by pressing CapsLock (0x3a) to emulate a click on E (0x29).  The second one is also approximately understandable - in order to leave the functionality of the caps, it is necessary to reassign some unnecessary key to it.  In my example, this key was ScrolLock (0x46).  But the third permutation is responsible for saving the letter . For this tricky code, we need an "unnecessary key" from the text keyboard, Pause / Break will not work.  However, here we are lucky.  Even on the fully-functioning Russian-language keyboard layout there are duplicate keys: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3ad/8ef/bf9/3ad8efbf92b2179faa1a95388e5f8628.png" width="1095" height="435" title="russian keyboard.png" alt="russian keyboard.png"><br><br>  This button in the lower left corner is suitable for replacing the letter E, as well as a tilde with a reverse apostrophe.  It has a scancode 0x56 and is absent on most keyboards, so that it will be emulated by pressing the E-button. <br><br>  At this stage, you can make changes in the registry and send the machine to reboot. <br><br><h3>  Adding layouts </h3><br>  As you can guess, after rebooting, instead of the letter E, we get a slash.  To correct the situation, you need to correct the existing keyboard layout.  You can edit keyboard layouts using the <a href="https://www.microsoft.com/en-us/download/details.aspx%3Fid%3D22339">Microsoft Keyboard Layout Creator 1.4</a> utility.  Using the program is easy - load the original keyboard from the list, make changes (change the characters of the 0x56 key to the required letters ), save the source file and collect the installation package from the Project menu. <br><br>  The same operation should be done with the English keyboard, changing the behavior of the backslash to the reverse apostrophe and tilde. <br>  As a result, you should get two folders with the installation package for keyboard layouts.  Install each by running setup.exe and proceed to the next step. <br><br><h3>  Layout Customization </h3><br>  Open the "language settings".  To begin with, set the switch layout on the Grave accent, as shown in the first picture of this article.  Then add the newly installed layouts: US-Custom and Russian-Custom.  Finally, set the default entry via US-Custom.  This is necessary, since the US layout cannot be deleted, but this also has a plus - now when you change the input language, the icon size in the system tray changes and it is much easier to notice if you hit CapsLock or miss.  The result should look something like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0ad/5fe/7be/0ad5fe7becf12295382463709c860e48.png" width="444" height="504" title="language-general.png" alt="language-general.png"><br><br>  If everything went well, then you got the opportunity to switch the input languages ‚Äã‚Äãvia CapsLock, without paying anything substantial for it.  You can safely buy the same keyboards at the office and at work, and without thinking more about the switching algorithm, get double the pleasure from the blind ten-finger print. <br><br><h3>  application </h3><br>  Ready draft layouts, their sources and patch to the registry can be found at the link: <a href="https://yadi.sk/d/NlfbUFZzsgyCJ">Ya.Disk</a> . <br><br><h3>  Note </h3><br>  Tested on win7 and win10.  On 10-ke, already compiled projects were used, the link to which is given above. </div><p>Source: <a href="https://habr.com/ru/post/305658/">https://habr.com/ru/post/305658/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../305642/index.html">How chat bots gradually eliminate the human factor in the Russian banking sector</a></li>
<li><a href="../305646/index.html">Why Fintech machine learning</a></li>
<li><a href="../305650/index.html">Financial technologies used by children</a></li>
<li><a href="../305654/index.html">URL history, part 2: path, fragment, query and authorization</a></li>
<li><a href="../305656/index.html">Smartphones are gamers' favorite devices. Facebook research</a></li>
<li><a href="../305660/index.html">Projecting Google Material Design onto the desktop system ... (part four and final)</a></li>
<li><a href="../305662/index.html">PostgreSQL 9.6: Parallelizing Sequential Reads</a></li>
<li><a href="../305664/index.html">‚ÄúShoemaker in our boots‚Äù: as we wrote the module of financial resources management for internal EDS</a></li>
<li><a href="../305666/index.html">Improving the energy efficiency of data centers: the experience of Apple, Google, Microsoft, Active Power and Burland Energy</a></li>
<li><a href="../305668/index.html">Scientists again "puzzled": Is it possible to upgrade the brain and what to expect from it</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>