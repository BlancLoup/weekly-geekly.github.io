<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to write a component to Firefox in C ++</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="How to write a component for Firefox in C ++ so that it can then be used from a javascript extension or even from a regular web page. 

 Prehistory 
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to write a component to Firefox in C ++</h1><div class="post__text post__text-html js-mediator-article">  How to write a component for Firefox in C ++ so that it can then be used from a javascript extension or even from a regular web page. <br><a name="habracut"></a><br><h1>  Prehistory </h1><br>  I needed to make a toolbar for IE and Firefox.  Everything was complicated by the fact that some non-standard binary protocol was used, implemented by C-dlka.  Using it from C # (on which I wrote a toolbar for IE) was not a problem, but for FF I had to write a Wrapper - an XPCOM component that I could turn to from javascript, which would transfer the data to dll and return the result. <br>  XPCOM is an analogue of Microsoft COM from Mozilla, which differs from COM by almost nothing.  In general, it is not very clear why Mozilla, instead of the well-described and familiar COM, decided to invent its own bike, but it just so happened that we, the developers, will have to accept everything as it is. <br>  Open Source is fine, but until you come across documentation and the lack of working examples.  I found, by the way, examples of XPCOM components on the Internet as many as 4, none of which have worked.  In addition, the most recent of them was dated 2006, the descriptions included the old version of XULRunner, and in the discussion, for example, there were questions about compatibility with ‚Äúnew Firefox 1.3‚Äù and several dozen questions ‚Äúhow to get it work?‚Äù. <br><br><h1>  Go! </h1><br><ol><li> First, let's deal with the environment. <br>  Run the command line <code>subst o: d:\myworkfolder\_firefox</code> - in this folder we will add all the necessary files. <br>  You can even write this command to the bat-file. <br></li><li>  Download the latest XULRunner (now it is 1.9.0.6) - <a href="http://releases.mozilla.org/pub/mozilla.org/xulrunner/releases/">releases.mozilla.org/pub/mozilla.org/xulrunner/releases</a> <br>  We need an SDK.  Download and unpack it in O: \ xulrunner-sdk <br></li><li>  Create O: \ console.bat as follows: <br> <code>set path=%path%;O:\xulrunner-sdk\bin;O:\xulrunner-sdk\sdk\bin <br> cmd.exe <br></code> <br>  (just in case, suddenly you need to do something with your hands) <br></li><li>  Create a folder O: \ dll-src, and in it - IDemo.idl <br> <code>#include <font color="PURPLE">"nsISupports.idl"</font> <br> #include <font color="PURPLE">"nsrootidl.idl"</font> <br> <br> <font color="BLUE"><b>[</b></font> scriptable <font color="BLUE"><b>,</b></font> uuid <font color="BLUE"><b>(</b></font> CB934085 <font color="BLUE">-</font> D019 <font color="BLUE">-</font> 47d5 <font color="BLUE">-</font> A6F0 <font color="BLUE">-</font> <font color="BROWN">623885873281</font> <font color="BLUE"><b>)</b></font> <font color="BLUE"><b>]</b></font> <br> <br> interface IDemo <font color="BLUE">:</font> nsISupports <br> <font color="BLUE"><b>{</b></font> <br> <font color="RED"><b>long</b></font> func1 <font color="BLUE"><b>(</b></font> in <font color="RED"><b>long</b></font> inP <font color="BLUE"><b>,</b></font> out <font color="RED"><b>long</b></font> outP <font color="BLUE"><b>)</b></font> <font color="BLUE"><b>;</b></font> <br> <br> <font color="RED"><b>long</b></font> func2 <font color="BLUE"><b>(</b></font> in wstring inP <font color="BLUE"><b>,</b></font> out wstring outP <font color="BLUE"><b>)</b></font> <font color="BLUE"><b>;</b></font> <br> <font color="BLUE"><b>}</b></font> <font color="BLUE"><b>;</b></font></code> <br> <br></li><li>  In the same place we create two bat-files, build-pre.bat and build-post.bat.  The second is left empty, and in the first we write: <br> <code>set path=%path%;O:\xulrunner-sdk\bin;O:\xulrunner-sdk\sdk\bin <br> xpidl -IO:\xulrunner-sdk\idl -m header IDemo.idl <br> xpidl -IO:\xulrunner-sdk\idl -m typelib IDemo.idl <br></code> <br>  According to our idl-files, using xpidl, the header and xpt-description of the interface will be automatically generated (analogous to the mayrosoft .tlb file) <br></li><li>  Create a new Win32 / Dll project library / empty <br><img src="http://shepik.pp.ru/imgs/howto1.gif"><br></li><li>  Run build-pre.bat and transfer the resulting IDemo.h into our project. <br></li><li>  Create a file Demo.h in VS and copy our template from IDemo.h.  We bring it to the human form: <br> <code>#ifndef _DEMO_H_ <br> #define _DEMO_H_ <br> <br> #include <font color="PURPLE">"IDemo.h"</font> <br> <br> #define DEMO_CONTRACTID <font color="PURPLE">"@demo.com/XPCOMDemo/Demo;1"</font> <br> #define DEMO_CLASSNAME <font color="PURPLE">"XPCOM Demo LOL"</font> <br> #define DEMO_CID <font color="BLUE"><b>{</b></font> 0xcb934086 <font color="BLUE"><b>,</b></font> 0xd019 <font color="BLUE"><b>,</b></font> 0x47d5 <font color="BLUE"><b>,</b></font> <font color="BLUE"><b>{</b></font> 0xa6 <font color="BLUE"><b>,</b></font> 0xf0 <font color="BLUE"><b>,</b></font> <font color="PINK">0x62</font> <font color="BLUE"><b>,</b></font> <font color="PINK">0x38</font> <font color="BLUE"><b>,</b></font> <font color="PINK">0x85</font> <font color="BLUE"><b>,</b></font> <font color="PINK">0x87</font> <font color="BLUE"><b>,</b></font> <font color="PINK">0x32</font> <font color="BLUE"><b>,</b></font> <font color="PINK">0x81</font> <font color="BLUE"><b>}</b></font> <font color="BLUE"><b>}</b></font> <br> <br> <font color="RED"><b>class</b></font> Demo <font color="BLUE">:</font> <font color="RED"><b>public</b></font> IDemo <br> <font color="BLUE"><b>{</b></font> <br> <font color="RED"><b>public</b></font> <font color="BLUE">:</font> <br> NS_DECL_ISUPPORTS <br> NS_DECL_IDEMO <br> <br> Demo <font color="BLUE"><b>(</b></font> <font color="BLUE"><b>)</b></font> <font color="BLUE"><b>;</b></font> <br> <br> <font color="RED"><b>virtual</b></font> <font color="BLUE">~</font> Demo <font color="BLUE"><b>(</b></font> <font color="BLUE"><b>)</b></font> <font color="BLUE"><b>;</b></font> <br> <font color="BLUE"><b>}</b></font> <font color="BLUE"><b>;</b></font> <br> <br> #endif</code> <br> <br></li><li>  Create a Demo.cpp file in VS and copy the commented part from IDemo.h there - there is already an implementation template.  Change the class name. <br> <code>#include <font color="PURPLE">"Demo.h"</font> <br> #include <font color="BLUE">&lt;</font> nsMemory <font color="BLUE"><b>.</b></font> h <font color="BLUE">&gt;</font> <br> #include <font color="BLUE">&lt;</font> nsStringAPI <font color="BLUE"><b>.</b></font> h <font color="BLUE">&gt;</font> <br> <br> NS_IMPL_ISUPPORTS1 <font color="BLUE"><b>(</b></font> Demo <font color="BLUE"><b>,</b></font> IDemo <font color="BLUE"><b>)</b></font> <br> <br> Demo <font color="BLUE">:</font> <font color="BLUE">:</font> Demo <font color="BLUE"><b>(</b></font> <font color="BLUE"><b>)</b></font> <font color="BLUE"><b>{</b></font> <br> <font color="BLUE"><b>}</b></font> <br> <br> Demo <font color="BLUE">:</font> <font color="BLUE">:</font> <font color="BLUE">~</font> Demo <font color="BLUE"><b>(</b></font> <font color="BLUE"><b>)</b></font> <font color="BLUE"><b>{</b></font> <br> <br> <font color="BLUE"><b>}</b></font> <br> NS_IMETHODIMP Demo <font color="BLUE">:</font> <font color="BLUE">:</font> Func1 <font color="BLUE"><b>(</b></font> PRInt32 inP <font color="BLUE"><b>,</b></font> PRInt32 <font color="BLUE">*</font> outP <font color="BLUE"><b>,</b></font> PRInt32 <font color="BLUE">*</font> _retval <font color="BLUE"><b>)</b></font> <font color="BLUE"><b>{</b></font> <br> <font color="RED"><b>if</b></font> <font color="BLUE"><b>(</b></font> inP <font color="BLUE">&gt;</font> <font color="BROWN">100</font> <font color="BLUE"><b>)</b></font> <font color="BLUE"><b>{</b></font> <br> <font color="BLUE">*</font> _retval <font color="BLUE">=</font> <font color="BROWN">1</font> <font color="BLUE"><b>;</b></font> <br> <font color="BLUE">*</font> outP <font color="BLUE">=</font> <font color="BROWN">0</font> <font color="BLUE"><b>;</b></font> <br> <font color="BLUE"><b>}</b></font> <font color="RED"><b>else</b></font> <font color="BLUE"><b>{</b></font> <br> <font color="BLUE">*</font> _retval <font color="BLUE">=</font> <font color="BROWN">0</font> <font color="BLUE"><b>;</b></font> <br> <font color="BLUE">*</font> outP <font color="BLUE">=</font> inP <font color="BLUE">*</font> <font color="BROWN">2</font> <font color="BLUE"><b>;</b></font> <br> <font color="BLUE"><b>}</b></font> <br> <font color="RED"><b>return</b></font> NS_OK <font color="BLUE"><b>;</b></font> <br> <font color="BLUE"><b>}</b></font> <br> NS_IMETHODIMP Demo <font color="BLUE">:</font> <font color="BLUE">:</font> Func2 <font color="BLUE"><b>(</b></font> <font color="RED"><b>const</b></font> PRUnichar <font color="BLUE">*</font> inP <font color="BLUE"><b>,</b></font> PRUnichar <font color="BLUE">*</font> <font color="BLUE">*</font> outP <font color="BLUE"><b>,</b></font> PRInt32 <font color="BLUE">*</font> _retval <font color="BLUE"><b>)</b></font> <font color="BLUE"><b>{</b></font> <br> <font color="RED"><b>const</b></font> wchar_t <font color="BLUE">*</font> msg <font color="BLUE">=</font> L <font color="PURPLE">""</font> <font color="BLUE"><b>;</b></font> <br> <font color="BLUE">*</font> outP <font color="BLUE">=</font> <font color="BLUE"><b>(</b></font> PRUnichar <font color="BLUE">*</font> <font color="BLUE"><b>)</b></font> nsMemory <font color="BLUE">:</font> <font color="BLUE">:</font> Clone <font color="BLUE"><b>(</b></font> msg <font color="BLUE"><b>,</b></font> <font color="BLUE"><b>(</b></font> wcslen <font color="BLUE"><b>(</b></font> msg <font color="BLUE"><b>)</b></font> <font color="BLUE">+</font> <font color="BROWN">1</font> <font color="BLUE"><b>)</b></font> <font color="BLUE">*</font> <font color="RED"><b>sizeof</b></font> <font color="BLUE"><b>(</b></font> wchar_t <font color="BLUE"><b>)</b></font> <font color="BLUE"><b>)</b></font> <font color="BLUE"><b>;</b></font> <br> <br> <font color="BLUE">*</font> _retval <font color="BLUE">=</font> <font color="BROWN">0</font> <font color="BLUE"><b>;</b></font> <br> <font color="RED"><b>return</b></font> NS_OK <font color="BLUE"><b>;</b></font> <br> <font color="BLUE"><b>}</b></font> <br></code> <br></li><li>  Create a DemoModule.cpp file in VS: <br>  This is our main file and entry point to our application.  Here we give the XPCOM kernel the components that our module implements. <br> <code>#include <font color="PURPLE">"nsIGenericFactory.h"</font> <br> #include <font color="PURPLE">"Demo.h"</font> <br> <br> NS_GENERIC_FACTORY_CONSTRUCTOR <font color="BLUE"><b>(</b></font> Demo <font color="BLUE"><b>)</b></font> <br> <br> <font color="RED"><b>static</b></font> nsModuleComponentInfo components <font color="BLUE"><b>[</b></font> <font color="BLUE"><b>]</b></font> <font color="BLUE">=</font> <br> <br> <font color="BLUE"><b>{</b></font> <br> <font color="BLUE"><b>{</b></font> <br> DEMO_CLASSNAME <font color="BLUE"><b>,</b></font> <br> DEMO_CID <font color="BLUE"><b>,</b></font> <br> DEMO_CONTRACTID <font color="BLUE"><b>,</b></font> <br> DemoConstructor <font color="BLUE"><b>,</b></font> <br> <br> <font color="BLUE"><b>}</b></font> <br> <font color="BLUE"><b>}</b></font> <font color="BLUE"><b>;</b></font> <br> <br> NS_IMPL_NSGETMODULE <font color="BLUE"><b>(</b></font> <font color="PURPLE">"DemoModule"</font> <font color="BLUE"><b>,</b></font> components <font color="BLUE"><b>)</b></font> <br> <br></code> <br><br></li><li>  Open project properties <br>  C / C ++ - General - Additional Include Directories write O: \ xulrunner-sdk \ sdk \ include; O: \ xulrunner-sdk \ include <br>  C / C ++ - Preprocessor - Preprocessor Definitions add; XPCOM_GLUE <br>  C / C ++ - Advanced - Force Includes write mozilla-config.h <br>  Linker - Additional Library Directories write O: \ xulrunner-sdk \ sdk \ lib <br>  Linker - Input - Additional Dependencies - write xpcom.lib nspr4.lib xpcomglue_s.lib <br>  Build events - Pre-build event - Command Line - we write O: \ dll-src \ build-pre.bat there <br>  Build events - Post-build event - Command Line - we write O: \ dll-src \ build-post.bat there <br></li><li>  It's time to create a shortcut for firefox. <br>  We do it and in the properties we write: "C: \ Program Files \ Mozilla Firefox \ firefox.exe" -no-remote -P dev <br>  We start.  The Profile Manager has opened - we create the dev profile and manually specify the folder for it: C: \ Documents and settings \ test \ Application Data \ Mozilla \ Firefox \ Profiles \ dev1 (create using the "create" button). <br>  Firefox starts, and when it starts, we close it. <br></li><li>  Now edit the build-post.bat. <br> <code>set path=%path%;O:\xulrunner-sdk\bin;O:\xulrunner-sdk\sdk\bin <br> <br> del /f "C:\Documents and Settings\test\Application Data\Mozilla\Firefox\Profiles\dev\xpti.dat" <br> del /f "C:\Documents and Settings\test\Application Data\Mozilla\Firefox\Profiles\dev\compreg.dat" <br> <br> copy /Y IDemo.xpt "C:\Program Files\Mozilla Firefox\components\" <br> copy /Y debug\Demo.dll "C:\Program Files\Mozilla Firefox\components\" <br></code> <br></li><li>  Build a project! </li><li>  Create a file O: \ demo.html <br>  (the code is given partially) <br> <code>netscape <font color="BLUE"><b>.</b></font> security <font color="BLUE"><b>.</b></font> PrivilegeManager <font color="BLUE"><b>.</b></font> enablePrivilege <font color="BLUE"><b>(</b></font> <font color="PURPLE">"UniversalXPConnect"</font> <font color="BLUE"><b>)</b></font> <font color="BLUE"><b>;</b></font> <br> obj <font color="BLUE">=</font> Components <font color="BLUE"><b>.</b></font> classes <font color="BLUE"><b>[</b></font> <font color="PURPLE">"@demo.com/XPCOMDemo/Demo;1"</font> <font color="BLUE"><b>]</b></font> <font color="BLUE"><b>.</b></font> createInstance <font color="BLUE"><b>(</b></font> <font color="BLUE"><b>)</b></font> <font color="BLUE"><b>;</b></font> <font color="GREEN"><i>//  ?    Demo.h <br> <br></i></font> myobject <font color="BLUE">=</font> obj <font color="BLUE"><b>.</b></font> QueryInterface <font color="BLUE"><b>(</b></font> Components <font color="BLUE"><b>.</b></font> interfaces <font color="BLUE"><b>.</b></font> IDemo <font color="BLUE"><b>)</b></font> <font color="BLUE"><b>;</b></font> <br> <font color="RED"><b>var</b></font> x <font color="BLUE">=</font> <font color="BLUE"><b>{</b></font> <font color="BLUE"><b>}</b></font> <font color="BLUE"><b>;</b></font> <br> <br> <font color="RED"><b>var</b></font> res <font color="BLUE">=</font> myobject <font color="BLUE"><b>.</b></font> func1 <font color="BLUE"><b>(</b></font> <font color="BROWN">10</font> <font color="BLUE"><b>,</b></font> x <font color="BLUE"><b>)</b></font> <font color="BLUE"><b>;</b></font> <br> alert <font color="BLUE"><b>(</b></font> <font color="PURPLE">'func1(10,x) returned '</font> <font color="BLUE">+</font> res <font color="BLUE">+</font> <font color="PURPLE">'. x is '</font> <font color="BLUE">+</font> x <font color="BLUE"><b>.</b></font> value <font color="BLUE"><b>)</b></font> <font color="BLUE"><b>;</b></font> <br> <br> res <font color="BLUE">=</font> myobject <font color="BLUE"><b>.</b></font> func2 <font color="BLUE"><b>(</b></font> <font color="PURPLE">"asd"</font> <font color="BLUE"><b>,</b></font> x <font color="BLUE"><b>)</b></font> <font color="BLUE"><b>;</b></font> <br> alert <font color="BLUE"><b>(</b></font> <font color="PURPLE">'func2("ads",x) returned '</font> <font color="BLUE">+</font> res <font color="BLUE">+</font> <font color="PURPLE">'. x is '</font> <font color="BLUE">+</font> x <font color="BLUE"><b>.</b></font> value <font color="BLUE"><b>)</b></font> <font color="BLUE"><b>;</b></font> <br></code> <br></li><li>  Firefox through our shortcut and open file: // o: \ demo.html </li><li>  We press on the button, we agree with the question about UNSAFE, we look at the results. <br>  The question about UNSAFE arises on the line with ‚ÄúPrivilegeManager.enablePrivilege‚Äù - this line asks for permission to work with XPCOM components and, of course, should not be included in web pages. <br>  If we make the Firefox Extension - some toolbar - then we are already allowed to work with XPCOM.  Therefore, there should be no extension in the code of this line, no warning appears and everything works silently. <br></li><li>  Hooray!  Works! </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <strong>Ps1.</strong>  All project files can be downloaded <a href="http://narod.ru/disk/6240310000/demo.zip.html">from this link</a> (82 kb) <br>  <strong>PS2.</strong>  We have an ‚Äúinterface‚Äù (or several) and there is a ‚Äúcomponent‚Äù that this interface implements.  Each of them has its own UID.  To generate the UID we need Guidgen from VS, it usually lies in "C: \ Program Files \ Microsoft SDKs \ Windows \ v6.0A \ Bin \ guidgen.exe".  To generate other UIDs that are different from those in my example, you need to run guidgen, select the third option there, copy it and paste it into IDemo.idl with your hands.  Then generate another ID and copy to already in Demo.h.  You will need to do this if you do not stop at the Demo component and make your component. <br>  <strong>PS3.</strong>  The idl files for XPCOM are different from the idl files for COM, so the microsoft utilities tlbimp and midl do not understand these idl files.  If you decide to add IDemo.idl to your project, do not forget to set it to ‚Äúdo not compile‚Äù. </div><p>Source: <a href="https://habr.com/ru/post/53312/">https://habr.com/ru/post/53312/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../53306/index.html">Motherboard Marine Cool, ASUS</a></li>
<li><a href="../53307/index.html">Free advertising on Google in the amount of 1500 rubles</a></li>
<li><a href="../53308/index.html">In tune with the times</a></li>
<li><a href="../53309/index.html">Site indexing speed by search engines</a></li>
<li><a href="../53311/index.html">Gmail - letters disappeared before 2008</a></li>
<li><a href="../53313/index.html">When you read RSS, email subscriptions</a></li>
<li><a href="../53314/index.html">Safe Internet Month</a></li>
<li><a href="../53315/index.html">Nationalization of torrent trackers?</a></li>
<li><a href="../53317/index.html">(Fo) xmarks</a></li>
<li><a href="../53318/index.html">Lars Buck on the future of Google Chrome</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>