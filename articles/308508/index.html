<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Modern art on the screen of a hardware company engineer</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! My name is Maxim, I work as an engineer in one company. The company makes servers and other hardware on the POWER-architecture (which one and w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Modern art on the screen of a hardware company engineer</h1><div class="post__text post__text-html js-mediator-article">  Hello!  My name is Maxim, I work as an engineer in one company.  The company makes servers and other hardware on the POWER-architecture (which one and why is this - others will tell later), but for now I want to show a section of the server's motherboard - this is my area of ‚Äã‚Äãresponsibility. <br><br>  In general, there will be something like a work log (worklog), together with colleagues we will post stories about the origin of life in pieces of iron.  First, about the server, and then about the rest. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/c52/19d/647/c5219d6477044956a26c0b67c8418078.png" alt="Server Board Tracing"></div><br>  <font color="#999999"><i>How best to put voltage converters here?</i></font> <br><a name="habracut"></a><br>  The above screen is not the result of the artist's hallucinations, creating in the style of POP-ART, but the motherboard on which four groups of voltage converters need to fit ‚Äî one for each processor (yellow, pink, bright green and white in the screenshot). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      At first they wanted to bring them to external boards, as in the figure below: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/a03/82b/6c8/a0382b6c84b645b2aabcac451d5a0262.png" alt="Initial placement of VRMs"></div><br>  <font color="#999999"><i>Initial idea for converter placement</i></font> <br><br>  According to the original idea, each board had to carry VRMs for two processors and associated memory modules.  But after elaboration, they decided to abandon this option - a wildly high current requires a large CardEdge-connector, which will make the interprocessor bus tracing more difficult. <br><br>  Now try to sip VRMs on the motherboard.  This also complicates tracing - now high-speed tires, because  You will have to change the location of the tracks in order to bend around the vias (vias), which are necessary for applying voltages to the processors from the converters.  And you need a lot of holes!  For processors and memory modules, a large current is needed, and the density of this current passing through vias should be minimized.  If you save on the number of vias, it will cause them to overheat (due to the high current density) and degrade with time until they burn out. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/681/5f9/02b/6815f902b05947e38e512ca68c96b127.png" alt="Track transfer required"></div><br>  <font color="#999999"><i>Almost a screenshot of TRON 2.0, I want to cry in bloody tears.</i></font>  <font color="#999999"><i>The holes are highlighted in yellow - in fact, this is a highlighting of errors due to the intersection of the tracks of different tires with them.</i></font>  <font color="#999999"><i>We need to take all these tracks to the side.</i></font> <br><br>  In general, the complexity of the project within my tasks lies in the fact that it is necessary to trace on the board, in addition to power buses with high current (up to 250 A!), Many high-speed buses - PCIe Gen3 (8 Gbps), DMI (9.6 Gbps, Differential Memory Interface , bus of connection of Centaur memory buffer chips), A-bus interprocessor buses (6.4 Gbps, SMP link). <br><br><div class="spoiler">  <b class="spoiler_title">A couple of words about A-Bus and Centaurs</b> <div class="spoiler_text">  A-Bus is one of the two interprocess communication buses on the POWER8.  As for the Centaurs - IBM decided to remove the memory buffer into a separate chip when POWER8 was released.  He also implements the L4 cache, is responsible for all logic, etc., conceived including.  for a painless transition from DDR3 to DDR4. <br><br>  If interested, you can write about them separately. </div></div><br>  There are also a lot of components - 4 processors, 16 connectors for DDR4 riser memory cards, a total of 14 connectors for PCIe (of which 8 are <a href="http://www.heilindasia.com/products/molex/news/molex_nano_pitch_io_interconnect_system.PDF">NanoPitch</a> , and 6 are regular connectors for expansion cards), and the installation is very tight.  The first screen gives a sufficient idea of ‚Äã‚Äãthe scale of the trouble - this is a simplified image with a fair amount of components hidden from showing, so that an already dense picture does not overload. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/f6c/f34/569/f6cf34569d754ad29e354feb930b3c01.png" alt="Tracks between processors"></div><br>  <font color="#999999"><i>The area between the two processors.</i></font>  <font color="#999999"><i>It was possible to lay the paths between them very tightly.</i></font> <br><br>  Many high-speed interfaces - many restrictions.  We have to strictly observe the requirements for routing - the maximum length, static and dynamic phases in differential pairs;  the distance between diff pairs;  maximum variation in length in the group, wave resistance, etc. <br><br>  This, in turn, imposes restrictions on the bus routes on the board, the choice of material for the printed circuit board (material with low losses), the number of layers, etc. <br><br>  Now we have a stack with 28 layers - 4 layers of them are allocated for the power bus, to increase the area of ‚Äã‚Äãthe power supply polygons - this minimizes IR drop (voltage drop on the conductor).  We want not to exceed this number of layers, and I think we should do it. <br><br><div class="spoiler">  <b class="spoiler_title">What is harmful IR drop</b> <div class="spoiler_text">  The phenomenon of IR drop, in addition to the actual problems with the drawdown of the supply voltage of the components, is also closely related to heat dissipation.  The greater the voltage drop on the resistive line - the more energy goes into heat and overheating.  In general, we strive to reduce this effect due to geometry.  Here is a good <a href="http://www.alspcb.com/pdfs/IRDrop.pdf">article</a> about IR drop and analysis of the phenomenon, depending on the form of the conductor - it clearly shows that the effect is reduced on wide ranges of food. </div></div><br>  In general, such here are working days.  You get used to looking at such schemes with a close look - and then you notice that they are in their own way even artistic, like a mixture of lines and color spots of various shapes and shades.  And the very trace of such a scale is an art in itself. <br><br>  Finally I want to show another screen that hides the whole story: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/753/31b/43b/75331b43b6444f0aafcf54f860caf07a.png" alt="Memory bus trace"></div><br>  <font color="#999999"><i>This is not the coming of Cthulhu from the depths of the sea.</i></font> <br><br>  Due to the location of the memory slots, one processor had to be rotated 180 degrees.  Why it was impossible to arrange the memory connectors otherwise?  This is the story of the next series and I will not be a hero in it. </div><p>Source: <a href="https://habr.com/ru/post/308508/">https://habr.com/ru/post/308508/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../308494/index.html">How to give an adequate estimate of the time when uncertainty hits the head</a></li>
<li><a href="../308498/index.html">Air Berlin: Progressive Web App Implementation</a></li>
<li><a href="../308500/index.html">Navigator 2GIS: Extrapolation of the position of the car</a></li>
<li><a href="../308504/index.html">Over 9000: unobvious difficulties of working with counters of social buttons (+ task)</a></li>
<li><a href="../308506/index.html">Building complex SCADA (bad example)</a></li>
<li><a href="../308510/index.html">Microsoft offers free Windows Server 2016 Datacenter licenses for customers who refuse VMware</a></li>
<li><a href="../308512/index.html">Attackers use Twitter to manage malware for Android</a></li>
<li><a href="../308514/index.html">How to find out what kind of flowers to give to a girl, if only her head moves and she cannot speak?</a></li>
<li><a href="../308516/index.html">1 second loading acceleration gave a 10% conversion increase: case Staples</a></li>
<li><a href="../308520/index.html">Checking MSBuild source code with PVS-Studio</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>