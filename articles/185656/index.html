<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>HoloEverywhere 1.6.8</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="All uniformity, or good day! 
 Leafing through the Habr here I came across an article Connecting fonts in my author‚Äôs project mcavalon , I thought abo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>HoloEverywhere 1.6.8</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/be8/6b9/937/be86b9937d8e683029510fb48d685582.png" alt="Logo"><br>  All uniformity, or good day! <br>  Leafing through the Habr here I came across an article <a href="http://habrahabr.ru/post/184116/">Connecting fonts in my</a> author‚Äôs <a href="http://habrahabr.ru/post/184116/">project</a> <a href="http://habrahabr.ru/users/mcavalon/" class="user_link">mcavalon</a> , I thought about learning something interesting ... But seeing the next TextView.setTypeface how-to, I yawned and went to read another <a href="http://habrahabr.ru/company/mailru/blog/182750/">article</a> (@ rus1f1kat0r, hello by the way :)). <br><br>  So, a few minutes ago (at the time of writing these lines it was just minutes, not hours, the girls completely unintentionally pulled me out) I released HoloEverywhere 1.6.8, the main feature of this release is advanced FontLoader, well, and a few more buns, as always . <br><a name="habracut"></a><br>  Let's first look at the old FontLoader and see what he could (more precisely, did not know how). <br><pre><code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// Regular font myFontRegular = HoloFont.makeFont(R.raw.font_regular); // Bold font myFontBold = HoloFont.makeFont(R.raw.font_bold); // Italic font myFontItalic = HoloFont.makeFont(R.raw.font_italic); // BoldItalic font myFontBoldItalic = HoloFont.makeFont(R.raw.font_bold_italic); // Super-puper merger myFont = HoloFont.makeFont(myFontRegular, myFontBold, myFontItalic, myFontBoldItalic); FontLoader.setDefaultFont(myFont);</span></span></code> </pre> <br>  ‚Ä¶ Everything.  Absolutely no flexibility, no additional fonts, but nichrome, to be honest. <br>  (No, there was another option with FontLoader.apply (View, HoloFont), but it worked mediocre). <br><br>  And now what features does the new FontLoader provide? <br><ul><li>  Normal font separation by family (font family) </li><li>  Normal font separation by style (bold / italic) </li><li>  The ability to add your own styles (the default is normal, bold, italic, black, condensed, light, medium, thin) (no more than the 31st style, including those already built in, that is, 24 free styles remain for you (normal for the style is not considered )) </li><li>  The ability to combine styles in any combination (sorry for the tautology).  No one bothers to make thin and bold style at the same time </li><li>  Support for this with just one line in xml (including for your fonts, not the built-in roboto): android: fontFamily = "roboto-light" </li><li>  Fonts are loaded on demand and only once. </li><li>  There were very lazy fonts.  Or Schr√∂dinger fonts, call it what you want.  They seem to be there, but if they don‚Äôt exist, the application crashes. <br>  This is what I mean in general: earlier, to create a font, a direct id of the font from res / raw (R.raw.my_font) was required.  Now you can simply specify the string resource of this id ("my_font").  By the way, now all roboto fonts, except for regular, bold, italic and bolditalic, are now lazy.  Yes, they are in the library core, but will only work if you put the corresponding file in res / raw.  Here you want to use Roboto Light, here you write android: fontFamily = ‚Äúroboto-light‚Äù, here‚Äôs the demo / res / raw / roboto_light.ttf and put it in your project - and everything works. </li><li>  Support out of the box (almost) of all TextView-based widgets.  Ie: TextView, Button, CheckedTextView, EditText, AutoCompleteTextView, CheckBox, CompoundButton, MultiAutoCompleteTextView, RadioButton, Switch, ToggleButton.  Exceptions to this list are quite rare widgets: Chronometer, DigitalClock, TextClock, and ExtractEditText </li><li>  Support textAppereance in all its manifestations. </li><li>  It works generally everywhere.  Except Widget's App.  ActionBar, any third-party libraries, in general, everything is shorter. </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Add your own font for an individual item. </h5><br>  I'll take the font <a href="http://openfontlibrary.org/en/font/toscuchet-cm">Toscuchet CM</a> by Alisson Depizol.  Well, convert it to TrueType, for nefig.  Put it in res / raw / toscuchet.ttf. <br><br>  We create the MainApplication, which expands org.holoeverywhere.app.Application, we create a static block of code (static {} we add it) (and generally all the library settings are best done in one place and here), we meditate. <br>  Sozhaem object RawFont with a link to our ttf file: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainApplication</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Application</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Font sToscuchet; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> { sToscuchet = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RawFont(R.raw.toscuchet); } }</code> </pre><br>  Hmm, somehow a little code.  But the principle of KISS in Java is inapplicable, so we‚Äôll load another couple of unnecessary lines to anyone. <br>  We have to create another object of type FontCollector, which assembles a multitude of separate fonts into one large and compliant object. <br>  Since we want to set our font for only one specific TextView, we need to add the font Toscuchet to our FontCollector and add the standard Roboto family.  Well, at the same time provide meta-information about our new style.  Voila: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainApplication</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Application</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Font sToscuchet; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> FontCollector sDefaultFont; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> { sToscuchet = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RawFont(R.raw.toscuchet); sToscuchet.setFontFamily(<span class="hljs-string"><span class="hljs-string">"toscuchet"</span></span>); sToscuchet.setFontStyle(FontLoader.TEXT_STYLE_NORMAL); sDefaultFont = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FontCollector(); sDefaultFont.register(sToscuchet); sDefaultFont.register(FontLoader.ROBOTO); FontLoader.setDefaultFont(sDefaultFont); } }</code> </pre><br>  Well, already culturally, but where have you seen such short blocks of code? .. <br>  We go to our super markup, hang on it android: fontFamily = "toscuchet-normal", run, while rejoicing like children: <br><img src="https://habrastorage.org/storage2/7e4/df6/add/7e4df6add8e439eff668ed14d6c5dc4f.png"><br><h5>  Default font </h5><br>  The easiest way: call FontLoader.setDefaultFont (sToscuchet).  But at the same time, the fonts will be the same everywhere, even where bold or italic styles are needed.  Not okay. <br>  And here comes a small problem: FontCollector searches for the desired font based on a pair of fontFamily and fontStyle parameters.  We have already set the font family (sToscuchet.setFontFamily ("toscuchet");).  You can of course redefine textViewStyle and specify the fontFamily there, but well, it's nafig.  We just say FontCollector: her, and maybe you stop using fontFamily? <br><pre> <code class="java hljs"> sDefaultFont = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FontCollector().allowAnyFontFamily();</code> </pre><br>  Well ... You can remove android: fontFamily from our markup, build and run the project: <br><img src="https://habrastorage.org/storage2/661/26d/8f3/66126d8f3e468b6f90645abc208a7dbc.png"><br>  Now fontFamily is ignored for our font.  Any TextView without additional modifiers (i.e. fontStyle = normal) will be null. <br><h5>  Styles </h5><br>  If you have several typefaces (regular, bold, italic), then you can assemble it in one font.  Like that: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainApplication</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Application</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Font sToscuchetRegular, sToscuchetBold, sToscuchetItalic; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> FontCollector sToscuchet, sDefaultFont; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> { sToscuchetRegular = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RawFont(R.raw.toscuchet_regular).setFontStyle(FontLoader.TEXT_STYLE_NORMAL); sToscuchetBold = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RawFont(R.raw.toscuchet_bold).setFontStyle(FontLoader.TEXT_STYLE_BOLD); sToscuchetItalic = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RawFont(R.raw.toscuchet_italic).setFontStyle(FontLoader.TEXT_STYLE_ITALIC); sToscuchet = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FontCollector().allowAnyFontFamily(); sToscuchet.setFontFamily(<span class="hljs-string"><span class="hljs-string">"toscuchet"</span></span>); sToscuchet.register(sToscuchetRegular).asDefaultFont(); sToscuchet.register(sToscuchetBold); sToscuchet.register(sToscuchetItalic); sDefaultFont = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FontCollector(); sDefaultFont.register(sToscuchet).asDefaultFont(); sDefaultFont.register(FontLoader.ROBOTO); FontLoader.setDefaultFont(sDefaultFont); } }</code> </pre><br>  There appeared an additional call asDefaultFont (), which means that the previous font should be made the default font.  If nothing suitable is found, this particular font will be used. <br>  Since  bold and italic styles are not available for this font, we can do without an example :) <br><br>  Well, about this FontLoader I came out.  If you have any questions, please contact us.  In the comments, in a personal or email. <br><br>  Oh, I almost forgot.  You have ached so much about the navigation in Slider from the demo that all the navigation from the demo application has been moved to Slider addon in the form of SliderMenu.  And the main activation code of the demo application (slightly simplified) now looks like this: <br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Addons</span></span>(Activity.ADDON_SLIDER) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DemoActivity</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Activity</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> AddonSliderA </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addonSlider</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> addon(AddonSlider.class); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> SliderMenu sliderMenu = addonSlider().obtainDefaultSliderMenu(); sliderMenu.add(R.string.demo, MainFragment.class, SliderMenu.BLUE); sliderMenu.add(R.string.settings, SettingsFragment.class, SliderMenu.GREEN); sliderMenu.add(R.string.other, OtherFragment.class, SliderMenu.ORANGE); sliderMenu.add(R.string.about, AboutFragment.class, SliderMenu.PURPLE); } }</code> </pre><br>  Cool, yeah?  Doing almost nothing, we get an excellent implementation of Navigation Drawer, with support for tablets and normal handling of Home / Back buttons.  SliderMenu is also customized, dare :) <br><img src="https://habrastorage.org/storage2/89d/874/1f1/89d8741f16ba189e0d4aa18f3d113cc6.png"><br><br>  List of changes since version 1.5.0: <br><ul><li>  Actually, Slider addon instead of SlidingMenu </li><li>  Reduced the size of the library by optimizing png files </li><li>  Updated background for white theme, which has changed in API 16 (or 17, I do not remember) </li><li>  Fixed colors in options / overflow menu.  Picked up, to be honest.  Something is wrong there, then it fell off after that ... </li><li>  Facebook SDK addon </li><li>  TabSwipeFragment / TawSwipeActivity.  Fragments and activations that implement Tabs + Swipe (or without a swipe, optional) navigation without any hassle.  Keeping states and everything else in place </li><li>  Fixed memory leaks in the add-on system and _SharedPreferencesImpl_XML </li><li>  Source files for generating themes were refracted, otherwise there was a small mess </li><li>  .DialogWhenLarge themes </li><li>  IntentCompat.createChooser for a holo-like dialog with a choice of application to continue </li><li>  Fixed behavior when after registerForContextMenu it was necessary to call setLongClickable, otherwise the fig </li><li>  More complete dialogue support </li><li>  Full choicemode / headerview / footerview support for ListView / GridView. </li><li>  A bunch, just a bunch of bugfixes </li></ul><br><br>  <a href="http://github.com/Prototik/HoloEverywhere/">Project repository</a> , <a href="">APK demo applications</a> </div><p>Source: <a href="https://habr.com/ru/post/185656/">https://habr.com/ru/post/185656/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../185642/index.html">An interesting development of Koding.com</a></li>
<li><a href="../185644/index.html">Who will take a pack of crystals</a></li>
<li><a href="../185648/index.html">Privacy of maps, coordinates and remote sensing at the household level</a></li>
<li><a href="../185650/index.html">Review of the new theme ‚ÄúOrion‚Äù of ISPsystem software products</a></li>
<li><a href="../185652/index.html">Microsoft has developed a touch screen 3D tactile feedback</a></li>
<li><a href="../185660/index.html">Network Documentation Tool - network documentation system</a></li>
<li><a href="../185662/index.html">[C ++] Do we know everything about the new and delete operators?</a></li>
<li><a href="../185664/index.html">Launch vehicle launch statistics in the USSR and the Russian Federation</a></li>
<li><a href="../185668/index.html">Pull, pull, can not</a></li>
<li><a href="../185670/index.html">Quick search in Alfa-Click</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>