<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How an engineering data management system saves files from being destroyed by crypto viruses</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Can Pilot-ICE save data from encryption viruses? To answer this question, we conducted an experimental infection with the notorious Wana Decrypt0r 2.0...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How an engineering data management system saves files from being destroyed by crypto viruses</h1><div class="post__text post__text-html js-mediator-article">  Can <abbr title="The system for the provision of engineering documents and organization of collective work in the creation of design and estimate documentation">Pilot-ICE</abbr> save data from encryption viruses?  To answer this question, we conducted an experimental infection with the notorious Wana Decrypt0r 2.0 virus of an isolated test system running Pilot-Server and the Pilot-ICE client.  Other cryptoviruses act on a similar principle, only the method of infection differs.  Consider the most extreme case when there is no backup. <br><br><img src="https://habrastorage.org/web/bc1/28f/5af/bc128f5af3ec4e48bf59600ab4fd07be.png"><br><br>  Dmitry Poskrebyshev, head of engineering data management systems development, tells. <br><a name="habracut"></a><br>  <a href="http://pilotems.com/ru/">Pilot-ICE</a> is a corporate system, but the ease of self-deployment (it takes no more than 10 minutes to the <a href="http://pilotems.com/ru/download/">server, the administration module and the client</a> ) plus the availability of a free mode allows it to be used to organize personal network storage of any files.  We install Pilot-Server and connect a database containing documents that are potential targets for most cryptographers: DWG, DOCX, PDF, etc. We connect the Pilot-ICE client to the database from the user account.  In Pilot-ICE, file management is performed on a special virtual disk Pilot-Storage, which controls all operations with the file system.  For each file that appears on the disk, there is an object in the database.  It stores information about the file, attributes, links, permissions.  Disk data is cached in the user profile.  The presence of a cache reduces the load on the server and ensures autonomous operation, in the absence of a connection. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/web/8d4/dd7/afd/8d4dd7afd93d44cda173740be3d190c4.png"><br><br>  File bodies are stored using NTFS Sparse Files (sparse files).  As the contents of the file are read, it is streamed from the server, and the Sparse Files zeros are gradually replaced with data from the server.  This allows you to instantly open huge project structures on Pilot-Storage, with large files, without loading them onto client systems.  This saves user disk space and reduces the load on the network infrastructure.  The technology is similar to <a href="https://blogs.office.com/2013/09/30/skydrive-introduces-smart-files-in-windows-8-1/">Smart Files OneDrive</a> and <a href="https://www.dropbox.com/business/smartsync">DropBox Smart Sync</a> . <br><br>  There are thousands of projects in the database, but the user mounts to Pilot-Storage only those that he needs for current work.  Windows Explorer will display the structure of the mounted projects, and here the project files are available to crypto viruses. <br><br><img src="https://habrastorage.org/web/178/aeb/0d3/178aeb0d3f8e44a1b2bdabdb34dd3ee8.png"><br><br>  We infect the Wana Decrypt0r server and client systems.  We are waiting for the message of the virus that encryption is completed. <br><br><img src="https://habrastorage.org/web/911/776/95e/91177695eabe457bb9e2e17471b91797.jpg"><br><br>  As a result, files of mounted projects were encrypted, to which the current user account has access to edit, the originals of files are deleted.  The cryptovirus writes its exe-files to each folder of the documents it encrypts, Pilot-Storage synchronizes these files with the server, and thus the virus body enters the Pilot database. <br><br><img src="https://habrastorage.org/web/53c/190/bc3/53c190bc3f26445999e0eb537dee1627.png"><br><br>  Pilot system is designed so that no data is physically deleted, but only get the status ‚ÄúDeleted‚Äù, thus getting into the Pilot system basket, and the virus cannot bypass it.  On the server for storing file bodies, each Pilot database has a file archive, but the file archive does not contain information about file types, so crypto viruses do not encrypt them, assuming that these files can be part of the OS.  And disabling systems is not what cryptographers need. <br><br>  We cure the server and client systems of the virus, if necessary, transfer the Pilot database from the infected to a clean system.  We connect the Pilot-ICE client to the database from the administrator account.  We go in the basket Pilot-Storage, the administrator sees the deleted files of all users of the system.  Restoring them with the command "Restore to the original location." <br><br><img src="https://habrastorage.org/web/f28/43c/c3b/f2843cc3be8a41969bbc7ee0d9300125.png"><br><br>  Data restored. <br><br><img src="https://habrastorage.org/web/7ca/2f4/b17/7ca2f4b1772d4ae398e660a6bc8bfb22.png"><br><br>  It remains to remove the virus body from the database.  Call the search window for all database files and execute queries of the form WanaDecryptor, @ Please_Read_Me @ .txt and WNCRY.  Delete the files found, now they are in the Pilot system basket. <br><br><img src="https://habrastorage.org/web/39b/786/05b/39b78605b2724cbcac9721882c50b830.png"><br><br>  We go in the basket.  We are connected from the administrator account, so we have the right to permanently remove traces of the virus.  Now the base Pilot-ICE is given to its original state. <br>  Those who want to use Pilot for team work with files, I also recommend paying attention to the light version of the client - 3D-Storage (can be found in the Pilot download center).  The server part can be installed on Linux; immediately after installation, up to 5 simultaneous connections will be available. <br><br> <a href=""><img src="https://habrastorage.org/web/7c4/fc5/069/7c4fc50695d04c7a9cac3744f602da19.jpg"></a>  Dmitry Poskrebyshev, head of PDM-systems development. </div><p>Source: <a href="https://habr.com/ru/post/328898/">https://habr.com/ru/post/328898/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../328888/index.html">How I moved from system administration to Android development</a></li>
<li><a href="../328890/index.html">Getting ready for a PHP interview: Everything you wanted to know about interfaces, signature compatibility and were not afraid to learn</a></li>
<li><a href="../328892/index.html">Live video streaming from the Orange Pi One</a></li>
<li><a href="../328894/index.html">VoiceOver on iOS. How to make the application more convenient for people with visual impairment</a></li>
<li><a href="../328896/index.html">Dive into the blockchain technology: What is ICO and how to conduct it</a></li>
<li><a href="../328902/index.html">10 steps to improved user adaptation</a></li>
<li><a href="../328904/index.html">Guide React Native - create an application for iOS. Part 1.4 - 1.5</a></li>
<li><a href="../328906/index.html">Lua in Moscow for the first time at DevConf 2017</a></li>
<li><a href="../328908/index.html">Quick start iOS-applications on the example of iOS Mail Mail.Ru</a></li>
<li><a href="../328910/index.html">The blackmailer WannaCrypt attacks un-upgraded systems</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>