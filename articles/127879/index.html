<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Home server WiFi router</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A home server is just ... a computer running 24 hours, 7 days a week, 365 days a year. What is he doing? 
 "Distributes" the Internet by wire and by a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Home server WiFi router</h1><div class="post__text post__text-html js-mediator-article">  A home server is just ... a computer running 24 hours, 7 days a week, 365 days a year.  What is he doing? <br>  "Distributes" the Internet by wire and by air. <br>  It is a warehouse with round-the-clock access to all of your collections of movies, music, games, programs, backups of important information. him  Liked?  Do you want to "make" similar at home? <br>  Here I recall the phrase from the anecdote - "The main thing, guys, do not be afraid!". <br><a name="habracut"></a><br>  There are several steps to creating your own home server: <br><ul><li>  You must decide on the OS [operating system] </li><li>  Buy / find components for the server itself </li><li>  Get plenty of patience, prepare 33 tabs with a Google search engine for questions about why this or that does not work [but everything should work: P] </li></ul><br><br>  We will understand. <br><br>  The item number is added only to indicate that you have a choice, but since the orientation of my blog is focused on Linux, in the article, everything will be considered on the basis of this operating system.  Perhaps, if it makes sense and it will be needed by people, there will be an option to describe how to create a home server on Windows. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Item number two.  It should immediately be said that the version of the home server on the Windows OS requires more power from the components than on the Linux OS.  In my case, my personal home server is based on a Pentium 4, 1000MHz, 1Gb RAM. <br><br>  Item number three.  It should immediately make a reservation that the article is designed for a ‚Äúnot-quite-new‚Äù player, but for users who have communicated with Linux and in general with a computer. <br><br>  In this article we will consider the home server on the example of the OpenSUSE OS. <br>  What do we do: <br><br><ul><li>  DHCP Server - in order to distribute ip addresses to computers on the network, so we get a home network. </li><li>  WiFi AP - to have a WiFi access point, that is, you can put a home WiFi router in the closet. </li><li>  FTP Server - to access file storage from the Internet. </li><li>  Samba - to access file storage within the network. </li><li>  TorrentClient - semi-automated torrent rocking on your home server. </li></ul><br><br>  Start by installing the system.  The process is trivial and simple.  Almost how to install Windows. <br><img src="http://1.bp.blogspot.com/-C6NJnhkI3vU/Tl_ZqgyuZMI/AAAAAAAAAPI/_pzCsYiWHNM/s640/2.jpg" alt="image"><br>  Figure 1. Installing openSUSE 11.4. <br>  Click "Next", select the desired items, language, keyboard layout, and so on.  We will not linger separately, this stage is simple. <br><img src="http://2.bp.blogspot.com/-9jmkwg55f60/Tl_eUt0YaVI/AAAAAAAAAPM/wQiAZ2N4UFM/s640/3.png" alt="image"><br>  Figure 2. System installation process. <br>  After installing the system, you will get a practically naked system (although, in fact, there is a lot of rubbish and garbage in it, unnecessary programs, libraries).  As soon as the system is booted for the first time - reboot, if there are errors, it will immediately come out.  Get to work. <br><br>  To get started, look at the network settings, type in the console: <br><pre><code class="bash hljs">ifconfig</code> </pre> <br>  and see the output command.  Your network interfaces and information about them will be listed there: <br><img src="http://3.bp.blogspot.com/-ytAd7Xy8hl0/Tl_f1UhdQaI/AAAAAAAAAPQ/-3vrLaonzRQ/s640/4.jpg" alt="image"><br>  Figure 3. Output of the ifconfig command <br>  <i>eth0</i> (internet) and <i>eth1</i> (lan) - interfaces of the usual network cards, <i>eth0</i> plug in the cable with the Internet, and from <i>eth1 the</i> cord goes to the switch, <i>wlan0</i> - the WiFi card interface, <i>lo</i> - the back loop, <i>mon.wlan0</i> - you will learn about this interface later, in another article or in the same, but below.  Now it is immediately necessary to plug the cord from which the Internet flows to that network card (in this article it is eth0), into which it will always be plugged in and not to confuse them.  Now, open the console and write: <br><pre> <code class="bash hljs">nano /etc/sysconfig/network/ifcfg-eth1</code> </pre> <br>  The <i>eth1</i> interface configuration file will open (the one for the local network), and write the following there: <br><pre> <code class="bash hljs">BOOTPROTO=<span class="hljs-string"><span class="hljs-string">'static'</span></span> IFPLUGD_PRIORITY=<span class="hljs-string"><span class="hljs-string">'0'</span></span> IPADDR=<span class="hljs-string"><span class="hljs-string">'192.168.1.1/24'</span></span> STARTMODE=<span class="hljs-string"><span class="hljs-string">'ifplugd'</span></span> USERCONTROL=<span class="hljs-string"><span class="hljs-string">'no'</span></span></code> </pre> <br>  Save (key combination Ctrl + O) and open the following file <u>/ etc / sysconfig / network / ifcfg-wlan0</u> - the wireless interface config, write the following there: <br><pre> <code class="bash hljs">BOOTPROTO=<span class="hljs-string"><span class="hljs-string">'static'</span></span> IFPLUGD_PRIORITY=<span class="hljs-string"><span class="hljs-string">'0'</span></span> IPADDR=<span class="hljs-string"><span class="hljs-string">'192.168.2.1/24'</span></span></code> </pre> <br>  This completes the preparation of network cards.  You can read about these functions in the <u>ifcfg-template</u> file.  The same settings can be made from the interface, it is enough to open Start-YAST-Network settings and change the IP addresses and other options for all available interfaces. <br>  All done, good.  We proceed to further configuration. <br><br>  DHCP server.  The service is called <b>dhcpd</b> , with the standard installation of the system, it is already included in the repository of the system, it only needs to be included: <br><pre> <code class="bash hljs">etc/init.d/dhcpd start/</code> </pre> <br>  The main DHCP server configuration file is located at <u>/etc/dhcpd.conf</u> .  It is necessary to edit it.  Complete information on the teams, you can get by writing the following in the console: <br><pre> <code class="bash hljs">man dhcpd</code> </pre> <br>  For editing configuration files [further, config] files I use text editor <b>nano</b> , you can also use <b>vim</b> . <br><br>  I suggest to look at the working config file of the DHCP server for clarity: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#   DNS    ,     . option domain-name-servers 77.37.251.33, 77.37.255.30; #    DNS. ddns-update-style none; ddns-updates off; log-facility local7; #  ,   . subnet 192.168.1.0 netmask 255.255.255.0 { #  ,      IP   ,  .   ,   Server -&gt; switch -&gt; #Computer ‚Ññ1,2,3...,    ,  Server -&gt; Computer ‚Ññ1. INTERFACES="eth1"; #   IP    ,    . range 192.168.1.2 192.168.1.10; #    IP   ,           ,    ,   eth1,     . option routers 192.168.1.1; #   (12 ). ,   DHCP    . ,       . default-lease-time 172800; max-lease-time 345600; } #  ,   . subnet 192.168.2.0 netmask 255.255.255.0 { #   IP . range 192.168.2.2 192.168.2.5; #    INTERFACES="wlan0"; #    IP      ,    WiFi,           ,       ,   wlan0, option routers 192.168.2.1; #   (12 ). default-lease-time 172800; max-lease-time 345600; }</span></span></code> </pre> <br>  The config file was previously provided with explanatory comments.  This is an example of a simple but quite working DHCP server.  Also, you need to edit the <u>/ etc / sysconfig / dhcpd</u> file, namely one line - <b>DHCPD_INTERFACE = ""</b> , here we enter the interfaces for the wireless subnet and the wired subnet, that is, the very interfaces that we specified in the config file of the DHCP server - <u>/ etc /dhcpd.conf</u> in <b>INTERFACES</b> lines <b>= ""</b> .  After that, it is necessary to reboot the system. <br><br>  At this, editing the config file of the DHCP server is complete, if you insert the Internet cable into the server ( <i>eth0</i> ), and insert the other wire into the switch and from the switch into your computer, the DHCP server will give you the address from the selected range. <br><br>  HostAP - we begin to configure the distribution of WiFi. <br><br>  The first thing you need is a wifi-network card company, in this article everything will be described with the condition that the network card is a Realtek company, since it is the most common.  You need to download and install the <b>hostapd</b> utility, initially when installing from the repository it is compiled without <b>nl80211</b> driver <b>support</b> , so you need to compile it from source, with the support of the required driver included (on the atheros network cards - the hostapd should work downloaded from the repository) .  You also need to download the <b>binutils</b> utility <b>package</b> , this can be done by running the following command in the terminal: <br><pre> <code class="bash hljs">zypper <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> binutils</code> </pre> <br>  After installing the utilities, you must configure the hostapd service, the whole configuration process consists of editing the configuration file <u>/etc/hostapd.conf</u> , the location of this file can be changed in the <u>/ etc / default / hostapd file</u> . <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#        WiFi interface=wlan0 #       driver=nl80211 #         logger_syslog=-1 logger_syslog_level=4 logger_stdout=-1 logger_stdout_level=2 #    ssid=myssid #   country_code=RU #    (  b  n) hw_mode=g # ,     channel=3 #     WiFi wpa_passphrase=pass1234 #    wpa=3 wpa_key_mgmt=WPA-PSK wpa_pairwise=TKIP rsn_pairwise=CCMP</span></span></code> </pre> <br><br>  Just above is an example of a working config.  Read more about the configuration process and additional options in man'e. <br><pre> <code class="bash hljs">man hostapd</code> </pre> <br><br>  The next step is to start the hostapd service in the WiFi distribution mode.  To do this, we write a command in the terminal: <br><pre> <code class="bash hljs">hostapd -B /etc/hostapd.conf</code> </pre> <br><br>  Voila, we get the output from the console that WiFi distribution is running from such and such MAC address and with such SSID: <br><pre> <code class="bash hljs">Configuration file: /etc/hostapd.conf Using interface wlan0 with hwaddr 00:17:31:ed:cb:52 and ssid <span class="hljs-string"><span class="hljs-string">'myssid'</span></span></code> </pre> <br>  Above, you can see the output of the Internet distribution command via WiFi, that is, the successful launch of the hostapd service in ‚Äúdaemon‚Äù mode, that is, the background operation of the service does not depend on the open terminal window in which you started the service. <br><br>  At the moment, you will have a full-fledged WiFi router that can distribute the Internet over the wire and over the air.  Next, we will organize file storage available inside the network, outside (from the Internet), semi-automated torrent rocking, also talk about setting up daily / weekly backups of information using the scheduler and much more to improve the functionality of the home server, increase the automation of many processes, but in other articles and notes.  Thanks for attention! </div><p>Source: <a href="https://habr.com/ru/post/127879/">https://habr.com/ru/post/127879/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../127871/index.html">About caching resource-intensive SQL queries on a web server</a></li>
<li><a href="../127874/index.html">How to write code?</a></li>
<li><a href="../127875/index.html">Effective way to protect against piracy</a></li>
<li><a href="../127876/index.html">90 Node.js modules for public use</a></li>
<li><a href="../127878/index.html">NTRUEncrypt cryptosystem of the future?</a></li>
<li><a href="../127881/index.html">Damage to the optical highway in Germany</a></li>
<li><a href="../127886/index.html">Adobe Flash 11 and AIR 3 Release Candidate</a></li>
<li><a href="../127887/index.html">Interview with Linus Torvalds</a></li>
<li><a href="../127888/index.html">Bash RSS parser for LostFilm.TV: Transmission + SQLite + mkvtools</a></li>
<li><a href="../127889/index.html">Tuning and optimizing Ubuntu after installation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>