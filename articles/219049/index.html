<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>WebSphere and multiple Windows domains</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In our office, we have a business application that works with WebSphere version 7.1, users in this application are authorized via Active Directory. To...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>WebSphere and multiple Windows domains</h1><div class="post__text post__text-html js-mediator-article">  In our office, we have a business application that works with WebSphere version 7.1, users in this application are authorized via Active Directory.  To do this, we used the authorization method in WebSphere <i>Separate LDAP registry</i> .  In this case, you can specify a domain or another LDAP directory for authorization.  With the advent of the second domain, it was necessary to authorize users from both domains.  For these purposes, we will change the authorization method to <i>Unified Storage</i> .  And below I will describe how to set it up. <br><a name="habracut"></a><br>  In general, in WebSphere, you can use 4 authorization options, they are well described with pictures <a href="http://pic.dhe.ibm.com/infocenter/wasinfo/v6r1/index.jsp%3Ftopic%3D%252Fcom.ibm.websphere.nd.doc%252Finfo%252Fae%252Fae%252Ftsec_was_ad_filter.html">here</a> . <br>  Authorization methods are configured here. <br><img src="https://habrastorage.org/getpro/habr/post_images/75d/b5d/e0a/75db5de0a88a12ce33c0bbf879c39905.jpg" alt="image"><br><br>  As already mentioned, we will use the option of authorization <i>Unified Storage</i> for authorization from several domains.  We have <i>SDK_GARANT</i> domains, raised in the north of <i>sdkserv</i> , and <i>SDK.LAN</i> on the sdkpdc server.  We need a user from each domain to authorize WS.  These users do not need any special rights.  It is important that their names are different and not repeated in both domains.  In the <i>SDK_GARANT</i> domain, there is already such a <i>db2admin</i> user, I created the <i>wasadmin</i> user in the <i>SDK.LAN</i> . <br><img src="https://habrastorage.org/getpro/habr/post_images/82b/3dc/e07/82b3dce07fc2a1a979029a362d7a78ec.jpg" alt="image"><br><img src="https://habrastorage.org/getpro/habr/post_images/a92/d24/84b/a92d2484b3a037ade68a4b73f84ea3e7.jpg" alt="image"><br><br>  Further we work with the WS console.  In the menu shown in the first screenshot, click the <i>Configure</i> button opposite the <i>Unified Vaults</i> .  Here is what we will see: <br><img src="https://habrastorage.org/getpro/habr/post_images/48f/d43/29f/48fd4329fc2f9fb6d6113a5853ba3949.jpg" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Click <i>Storage Manager</i> - <i>Add</i> , fill in the image.  The distinguished name of the binding must be specified fully <i>cn = db2admin, ou = Main, dc = sdk_garant</i> .  Click <i>OK</i> . <br><img src="https://habrastorage.org/getpro/habr/post_images/56d/741/e8f/56d741e8f8664e5935b98c71aaf3c774.jpg" alt="image"><br><br>  Again, click <i>Add</i> and add the repository to communicate with our second domain.  The distinguished name of the binding <i>cn = wasadmin, ou = Main, dc = sdk, dc = lan</i> . <br><img src="https://habrastorage.org/getpro/habr/post_images/ed7/3ec/99c/ed73ec99c9365c29bc6c10104bd42296.jpg" alt="image"><br><br>  Everything is saved, we return to the setting of the <i>United repositories</i> .  And press the button <i>Add</i> base entry to the area. <br><img src="https://habrastorage.org/getpro/habr/post_images/ad2/df5/ca6/ad2df5ca63da5739b4737ef923159225.jpg" alt="image"><br><br>  Here we select the <i>SDK_GARANT</i> repository <i>and</i> specify the user for the connection <i>cn = db2admin, ou = Main, dc = sdk_garant</i> and the distinguished name of the base entry <i>ou = Main, dc = sdk_garant</i> , as the path to the <i>Organization Unit</i> where in AD users lie. <br><img src="https://habrastorage.org/getpro/habr/post_images/b66/de3/393/b66de3393b42f5317a7c1d6e2f8587fa.jpg" alt="image"><br><br>  Save and add another base entry <i>cn = wasadmin, ou = Main, dc = sdk, dc = lan</i> and the distinguished name of the base entry <i>ou = Main, dc = sdk, dc = lan</i> <br><img src="https://habrastorage.org/getpro/habr/post_images/1fe/b0f/369/1feb0f369483873261d6249840107a77.jpg" alt="image"><br><br>  Remove default storage <br><img src="https://habrastorage.org/getpro/habr/post_images/c0a/e49/dbe/c0ae49dbe71f45d49b655a75ba428e9d.jpg" alt="image"><br><br>  We drive in the name of the region, the name of the administrator ( <i>db2admin</i> from one domain or <i>wasadmin</i> from another).  We save. <br>  Click OK.  At the top of the Save page.  From the drop-down list, select the United repositories and click Set as current.  Apply. <br>  Restart the profile and log in to the console under the domain user.  If everything is fine and you are logged into the console, check that the list of users or groups and both domains is hooked.  To do this, go to <i>Users and Groups</i> - <i>Administrative user roles</i> - <i>Add</i> .  Here, for convenience, put the number of displayed results more and click <i>Search</i> .  The list should contain users from both domains. <br><br>  If something went wrong and the console does not start up.  You need to take the <i>* ProfileDir * / Config / cells / * NodeName * / wim / config / wimconfig.xml file</i> from the working profile and replace it with a broken one.  Then the login password will be reset to default.  For testing, it's not a bad option to add one storage first, rearrange the profile and try to log in.  Then remove this storage and add another, also checking. </div><p>Source: <a href="https://habr.com/ru/post/219049/">https://habr.com/ru/post/219049/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../219031/index.html">PRFRL - how the analytics interface is arranged</a></li>
<li><a href="../219033/index.html">Arduino based yogurt maker</a></li>
<li><a href="../219035/index.html">Intel's 15th Summer School invites undergraduate and graduate students to spend their holidays</a></li>
<li><a href="../219037/index.html">We cross WebWorker and Promise</a></li>
<li><a href="../219039/index.html">How profitable and properly repay loans</a></li>
<li><a href="../219051/index.html">Geksapod B.U.N.T</a></li>
<li><a href="../219053/index.html">Configuring HADR on DB2 servers and Configuring ACR on Websphere servers</a></li>
<li><a href="../219055/index.html">Platform for conducting urban quests</a></li>
<li><a href="../219057/index.html">Linux operating systems for Fujitsu servers</a></li>
<li><a href="../219061/index.html">Analysis of 404th error pages of top Runet stores</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>