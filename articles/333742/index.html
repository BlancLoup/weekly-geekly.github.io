<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Visual Tcl. GUI Development for Command Line Utilities (Continued)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the previous article, the tkBuilder constructor was considered as a tool for creating a graphical interface for Tcl / Tk command line utilities. Th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Visual Tcl. GUI Development for Command Line Utilities (Continued)</h1><div class="post__text post__text-html js-mediator-article">  In the <a href="https://habrahabr.ru/post/332924/">previous article, the</a> tkBuilder constructor was considered as a tool for creating a graphical interface for Tcl / Tk command line utilities.  The constructor is good, but as noted in the article it also has a number of drawbacks, the main one being the lack of support for UTF-8, and, consequently, the Russian alphabet.  Another flaw was noted by <a href="https://habrahabr.ru/users/merlin-vrn/">merlin-vrn</a> .  This is currently support only Tcl / Tk version 8.4. <br><a name="habracut"></a><br>  But in the comments from the user <a href="https://habrahabr.ru/users/svk28/">svk28</a> , the Tck / Tk-based Visual Tcl constructor was mentioned: <br><br><img src="https://habrastorage.org/web/842/057/f2b/842057f2bb8448399e1e76ff2acedede.png" alt="image"><br><br>  After preliminary acquaintance, it was decided to use it in business, especially since the previous material actually remained unfinished, if you look at it from the point of view of the declared goal - to give a graphical shell to command line utilities, with which you can access the PKCS # 11 cloud <a href="https://geektimes.ru/post/288674/">cryptographic token</a> .  Therefore, it is time to develop a graphical interface for the second utility, namely ls11cloud_config: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="bash hljs">bash-4.3$ /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/bin64/ls11cloud_config LS11CLOUD User Utility usage: /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/bin64/ls11cloud_config &lt;<span class="hljs-built_in"><span class="hljs-built_in">command</span></span>&gt; [-p &lt;password&gt;] [-n &lt;new password&gt;] Commands: register &lt;host&gt; &lt;port&gt; &lt;id&gt; - register new user on the server duplicate &lt;host&gt; &lt;port&gt; &lt;id&gt; - duplicate user account on other computer change_pswd - change SESPAKE authentication password status - display current configuration data <span class="hljs-built_in"><span class="hljs-built_in">log</span></span> - display server <span class="hljs-built_in"><span class="hljs-built_in">log</span></span> file recreate - re-create token to initial empty state unregister - remove all user files from the server NB: Don<span class="hljs-string"><span class="hljs-string">'t use non-latin letters to avoid encoding problems! Copyright(C) Ltd (http://soft.lissi.ru) 2017 bash-4.3$</span></span></code> </pre> <br>  First of all, it was checked which version of Tcl / Tk supported Visual Tcl.  It turned out that version 8.6, which is installed on my computer, is supported by the Visual Tcl designer: <br><br><pre> <code class="bash hljs">bash-4.3$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ../vtcl.vtcl-8.6-master bash-4.3$ ./configure Using /bin/wish8.6 bash-4.3$</code> </pre> <br>  The first launch of the designer did not inspire, it was too many windows appeared on the desktop: <br><br><img src="https://habrastorage.org/web/a78/28e/907/a7828e90792d4c7a86c04a20ba854bf2.png" alt="image"><br><br>  But looking around it turned out that a couple of windows (news feed - Visual Tcl News and you know it - Did you know) can be closed without any damage to the work.  And it turns out that there are already not so many windows and, if necessary, they can be periodically hidden. <br><br>  A pleasant surprise was the presence of his easel for each widget of the toplevel class: <br><br><img src="https://habrastorage.org/web/d44/328/9b8/d443289b821b43ca8bbb0a24f47c4227.png" alt="image"><br><br>  Our project required three toplevel widgets and, accordingly, we had three easels at our disposal: <br><br>  1. GUICloudConfig widget, the main window with utility functions ls11cloudconfig (see above); <br>  2. Password widget, which is somehow involved in all functions: <br><br><img src="https://habrastorage.org/web/07d/214/0aa/07d2140aa7434078b277b0efc8c17705.png" alt="image"><br><br>  3. Widget CloudToken, which is used in the functions of registering and duplicating a cloud-based cryptographic token: <br><br><img src="https://habrastorage.org/web/9aa/8e3/81a/9aa8e381a9e24d4b9d20ff782745c420.png" alt="image"><br><br>  And there are no problems with <i>‚Äúa great, powerful, truthful and free Russian language!‚Äù</i> (I.S. Turgenev). <br><br>  Note one feature of the Visual Tcl designer.  It is associated with editing functions.  Changes made to the functions will not be included in the project until the window in which the function is edited is closed: <br><br><img src="https://habrastorage.org/web/9e6/cfb/5bf/9e6cfb5bf5c047b2a06feb3f310baf55.png" alt="image"><br><br>  Note also that the project in the understanding of Visual Tcl is saved as a Tcl / Tk file (* .tcl) and can be executed at any time by itself without additional conversions.  The reverse is not true, not every Tcl / Tk file will be considered by the designer as its own project. <br><br>  Another very useful thing brought the Visual Tcl project - the ability to save the project in binary code.  For this purpose, the <a href="http://freewrap.sourceforge.net/freeWrapDocs.pdf">freewrap utility is involved</a> , which turns the Tcl / Tk scripts into single-file executable programs.  So both of us, the scripts implementing the graphical interface for the utilities p11conf and ls11cloudconfig, have been converted into executable programs: <br><br><pre> <code class="bash hljs">bash-4.3$ ls GUITKP11Conf.tcl LS11CLOUD_CONFIG.tcl bash-4.3$ bash-4.3$ freewrap GUITKP11Conf.tcl bash-4.3$ freewrap LS11CLOUD_CONFIG.tcl bash-4.3$ ls GUITKP11Conf LS11CLOUD_CONFIG GUITKP11Conf.tcl LS11CLOUD_CONFIG.tcl bash-4.3$</code> </pre> <br>  Now we only have everything (projects, tcl-scripts and executable programs) to pack and lay out for free use.  Download distributions for Linux / Windows platforms <a href="">here</a> : <br><img src="https://habrastorage.org/webt/ii/5o/s2/ii5os2sxlkfqa83g1yay3ntmjog.png"><br><br>  Many thanks to the user <a href="https://habrahabr.ru/users/svk28/">svk28</a> for his tip! </div><p>Source: <a href="https://habr.com/ru/post/333742/">https://habr.com/ru/post/333742/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../333730/index.html">Step-by-step manual how to bring in equipment on which there is no notification of FSB</a></li>
<li><a href="../333732/index.html">IT Infrastructure Audit - How to Be a Newbie</a></li>
<li><a href="../333734/index.html">The selected UI framework is a mischief. Architectural Requirements - Profit</a></li>
<li><a href="../333736/index.html">How to move from KLADR to FIAS and do not break anything</a></li>
<li><a href="../333738/index.html">XBRL: just about the complex - Chapter 3. Anatomy of taxonomy</a></li>
<li><a href="../333744/index.html">Localization can be automated: the experience of using Lokalise in combat conditions</a></li>
<li><a href="../333746/index.html">How to please the viewer and not lose money: make up a procurement plan with the help of ML</a></li>
<li><a href="../333748/index.html">ICO: Basic Jurisdictions and Issues</a></li>
<li><a href="../333750/index.html">VAX - a tool for visual programming, or how to write SQL with a mouse</a></li>
<li><a href="../333752/index.html">World markets: how to succeed in India and Brazil</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>