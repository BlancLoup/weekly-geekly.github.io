<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What is beautiful code, and how to write it?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="1. Introduction 
 Faced with the need to control the work of other programmers, you begin to understand that, besides the things that people learn qui...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What is beautiful code, and how to write it?</h1><div class="post__text post__text-html js-mediator-article"><h4>  1. Introduction </h4><br>  Faced with the need to control the work of other programmers, you begin to understand that, besides the things that people learn quite easily and quickly, there are problems that require significant time to be eliminated. <br><br>  Relatively quickly, you can train a person to use the necessary tools and documentation, correct communication with the customer and within the team, proper goal setting and prioritization (well, of course, to the extent that you own it yourself). <br><br>  But when it comes to the code itself, everything becomes much less straightforward.  Yes, you can point out weak points, you can even explain what is wrong with them.  And next time, get a review with a completely new set of problems. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Professions of the programmer, like most other professions, have to learn every day for several years, and, by and large, and all my life.  First, you master a set of basic knowledge in the amount of N semester courses, then you trample on various rakes for a long time, learn from the experience of older friends, learn good and bad examples (for some reason, bad ones more often). <br><br>  Speaking of basic knowledge, it should be noted that the ability to write beautiful professional code is something that, for one reason or another, is absolutely <b>not part of</b> this basic knowledge.  Instead, in relevant institutions, as well as in books, we are told about algorithms, languages, OOP principles, design patterns ... <br><br>  Yes, all this is necessary to know.  But at the same time, an understanding of how a decent code should look, usually appears already in the presence of practical (often more or less negative) experience.  And provided that life ‚Äúpoked‚Äù you not only into succulent samples of bad code, but also into examples that are seriously worthy of imitation. <br><br>  This is where the complexity lies: your idea of ‚Äã‚Äãa ‚Äúdecent‚Äù and ‚Äúbeautiful‚Äù code is completely based on many years of personal experience.  Now try to transfer this presentation in a short time to a person with a completely different experience or even completely without it. <br><br>  But if the quality of the code written by people working with us is really important for us, it‚Äôs still worth a try! <br><a name="habracut"></a><br><h4>  2. Why do we need beautiful code? </h4><br>  Usually, when we are working on a specific software product, the aesthetic qualities of the code do not concern us in the first place. <br>  We are much more important than our performance, the quality of the implementation of the functional, the stability of its work, the possibility of modification and expansion, etc. <br><br>  But are the aesthetic qualities of the code a factor positively affecting the above indicators? <br>  My answer: yes, and at the same time, one of the most important! <br><br>  This is so because a beautiful code, regardless of the subjective interpretation of the concept of beauty, has the following (to some extent reducible to each other) essential qualities: <br><ul><li>  Readability.  Those.  an opportunity, looking at the code, to quickly understand the implemented algorithm, and evaluate how the program will behave in a particular case. </li><li>  Controllability.  Those.  the possibility of making the required corrections to the code in the shortest time possible, while avoiding various unpleasant, predictable and unpredictable consequences. </li></ul><br>  Why these qualities are really important, and how they contribute to the improvement of the indicators indicated at the beginning of the paragraph, I am sure, obviously, to anyone who is engaged in programming. <br><br>  And now, in order to move from common words to specifics, let's make a reverse move and say that it is readable and manageable code that we usually perceive as beautiful and professionally written.  Accordingly, in discussing how to achieve these qualities, we will further focus. <br><br><h4>  3. Three basic principles. </h4><br>  Turning to the presentation of my own experience, I note that, while working on the readability and controllability of my own and someone else's code, I gradually came to the following understanding. <br><br>  Regardless of the specific programming language and the tasks to be solved, in order for the code fragment to have these two qualities sufficiently, it is necessary that it be: <br><br><ul><li>  <b>as linear as possible;</b> </li><li>  <b>short;</b> </li><li>  <b>self-documented.</b> </li></ul><br>  You can endlessly list various hints and techniques with which you can make the code more beautiful.  But I affirm that the best, or, in any case, sufficiently good results can be achieved by focusing on these three principles. <br><br>  Therefore, I will further try to explain in detail their essence, as well as describe a set of basic techniques with which you can bring your code into line with these principles. <br><br><h4>  4. Linearization code. </h4><br>  It seems to me that of the three basic principles, it is linearity that is the most non-obvious, and it is precisely it that is most often neglected. <br>  Probably, because over the years of study (and, possibly, scientific activity), we are used to discuss the nature of non-linear algorithms with <i>O (n3)</i> , <i>O (nlogn)</i> , etc. <br><br>  All this, of course, is good and important, but when talking about the implementation of business logic in real projects, one usually has to deal with completely different algorithms, more like illustrations of children's programming books.  Something like this (taken from <a href="https://www.google.ru/search%3Fq%3D%25D0%25B0%25D0%25BB%25D0%25B3%25D0%25BE%25D1%2580%25D0%25B8%25D1%2582%25D0%25BC%26newwindow%3D1%26biw%3D2240%26bih%3D1201%26source%3Dlnms%26tbm%3Disch%26sa%3DX%26ved%3D0CAYQ_AUoAWoVChMI2Lni85bYxwIVRPByCh17ogyU%26dpr%3D1">Google</a> ): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/277/fcc/74a/277fcc74a194924fc8d03b46d60613a9.png" alt="image"><br><br>  Thus, I associate with linearity not so much the asymptotic complexity of the algorithm, but the <i>maximum number of nested blocks of code nested in one another, or the level of nesting of the maximum length of a sub-section of the code</i> . <br><br>  For example, a perfectly linear fragment: <br><br><pre><code class="hljs lisp">do_a()<span class="hljs-comment"><span class="hljs-comment">;</span></span>
do_b()<span class="hljs-comment"><span class="hljs-comment">;</span></span>
do_c()<span class="hljs-comment"><span class="hljs-comment">;</span></span>
</code></pre><br>
   :<br>
<br>
<pre><code class="hljs pgsql">do_a();
<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">check</span></span>) {
    something();
} <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {
    anything();
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (whatever()) {
        <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (a <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> b) {
            <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (good(a)) {
            something();
            }
        }
    }
}
</code></pre><br>
 ‚Äú‚Äù           .<br>
<br>
<i></i>:              ,  ,        C-like ,   ,      .      ,      (     Java  Javascript).<br>
<br>
<h5><b>4.1.</b>  1.    .</h5><br>
                .<br>
<br>
     ‚Äú ‚Äù   :<br>
<ol>
<li>  .</li>
<li>    .</li>
<li> .</li>
<li>   .</li>
<li> ,  .</li>
<li> .</li>
</ol><br>
             .<br>
<br>
<pre><code class="hljs bash">listen_client();
<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!is_clean()) {
    ...
}

check_cost();
<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!client_agree())  {
    ...
}

find_defects();

<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (defects_found()) {
    ...
}

create_request();
take_money();

<span class="hljs-built_in"><span class="hljs-built_in">bye</span></span>();
</code></pre><br>
    ,       ,  :<br>
<br>
<pre><code class="hljs bash">listen_client();
<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!is_clean()) {
    ...
}

check_cost();
<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (client_agree())  {
    find_defects();
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (defects_found()) {
        ...
    }

    create_request();
    take_money();

} <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {
    ...
}

<span class="hljs-built_in"><span class="hljs-built_in">bye</span></span>();
</code></pre><br>
 ,      ,          .<br>
<br>
<h5><b>4.2.</b>  2.  <i>break</i>, <i>continue</i>, <i>return</i>  <i>throw</i>,     <i>else</i>.</h5><br>
:<br>
<br>
<pre><code class="hljs bash">...
<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!client_agree())  {
    ...
} <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {
    find_defects();

    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (defects_found()) {
        ...
    }

    create_request();
    take_money();

    <span class="hljs-built_in"><span class="hljs-built_in">bye</span></span>();
}
</code></pre><br>
<br>
:<br>
<br>
<pre><code class="hljs kotlin">...
<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!client_agree())  {
    ...
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>;
} 

find_defects();

<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (defects_found()) {
    ...
}

create_request();
take_money();

bye();
</code></pre><br>
<br>
,    ,        <i>else</i>. -,      <i>break</i>, <i>continue</i>, <i>return</i>  <i>throw</i> (     ). -,        ,    ,   <i>else</i>      ,  - .<br>
<br>
  -,       <i>return</i>    , -         (  :   -   ).<br>
<br>
  (  )     ,       .<br>
<br>
<h5><b>4.3.</b>  3.      .</h5><br>
..   ‚Äú ‚Äù      ,         .<br>
<br>
     ‚Äú‚Äù    :<br>
<br>
:<br>
<br>
<pre><code class="hljs pgsql">do_a()
<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">check</span></span>) {
    something();
} <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {
    anything();
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (whatever()) {
        <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (a <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> b) {
            <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (good(a)) {
                something();
            }
        }
    }
}
</code></pre><br>
:<br>
<br>
<pre><code class="hljs delphi"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">do_on_whatever</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment">{
    for (a in b) {
        if (good(a)) {
            something();
        }</span></span></span><span class="hljs-function">
    }
}

</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">do_a</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">;</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (check) <span class="hljs-comment"><span class="hljs-comment">{
    something();
}</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-comment"><span class="hljs-comment">{
    anything();
    if (whatever()) {
        do_on_whatever();
    }</span></span>
}
</code></pre><br>
 ,      , ,  ,     .          ,      .<br>
<br>
    ,    <b></b>  ,         ,    .              (. <b>. 6.1</b>).<br>
<br>
<h5><b>4.4.</b>  4.  ,  ,   ,     ,  .</h5><br>
:<br>
<br>
<pre><code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">check</span></span>) {
    do_a();
    something();
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (whatever()) {
        <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (a <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> b) {
            <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (good(a)) {
                something();
            }
        }
    }
} <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {
    do_a();
    anything();
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (whatever()) {
        <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (a <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> b) {
            <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (good(a)) {
                something();
            }
        }
    }
}
</code></pre><br>
:<br>
<br>
<pre><code class="hljs pgsql">do_a();

<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">check</span></span>) {
    something();
} <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {
    anything();
}

<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (whatever()) {
    <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (a <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> b) {
        <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (good(a)) {
            something();
        }
    }
}
</code></pre><br>
<h5><b>4.5.</b>  5 (  ).   <i>try...catch</i>  ,  .</h5><br>
 ,   <i>try...catch</i>   ,      , .. ,    ,          .<br>
<br>
    ,     . ..  ,    ,      .                :  ,      <i>try..catch</i>,      .<br>
<br>
 ,         ,     ,      .     ,        ,           .<br>
<br>
<h5><b>4.6.</b>  6.   if-.</h5><br>
  . :<br>
<br>
<pre><code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (a) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (b) {
        do_something();
    }
}
</code></pre><br>
:<br>
<br>
<pre><code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (a &amp;&amp; b) {
    do_something();
}
</code></pre><br>
<h5><b>4.7.</b>  7.    (<i>a? b: c</i>)  <i>if</i>.</h5><br>
:<br>
<br>
<pre><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">if</span></span> (a) {
    <span class="hljs-attribute"><span class="hljs-attribute">var1</span></span> = b;
} <span class="hljs-section"><span class="hljs-section">else</span></span> {
    <span class="hljs-attribute"><span class="hljs-attribute">var1</span></span> = c;
}
</code></pre><br>
:<br>
<br>
<pre><code class="hljs swift">var1 = a ? b : <span class="hljs-built_in"><span class="hljs-built_in">c</span></span>;
</code></pre><br>
       ,       ,      .<br>
<br>
:<br>
<br>
<pre><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">if</span></span> (a) {
    <span class="hljs-attribute"><span class="hljs-attribute">var1</span></span> = b;
} <span class="hljs-attribute"><span class="hljs-attribute">else</span></span> if (aa) {
    <span class="hljs-attribute"><span class="hljs-attribute">var1</span></span> = c;
} <span class="hljs-section"><span class="hljs-section">else</span></span> {
    <span class="hljs-attribute"><span class="hljs-attribute">var1</span></span> = d;
}
</code></pre><br>
:<br>
<br>
<pre><code class="hljs swift">var1 = a ? b :
           aa ? <span class="hljs-built_in"><span class="hljs-built_in">c</span></span> : d;
</code></pre><br>
  , ,  .<br>
<br>
,    <i>var1</i>     ,       ( <b>. 6.8</b>).<br>
<br>
<h5><b>4.8.</b>  ,        .</h5><br>
<pre><code class="hljs bash">listen_client();
<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!is_clean()) {
    wash();
}

check_cost();
<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!client_agree())  {
    pay_for_wash();
    <span class="hljs-built_in"><span class="hljs-built_in">bye</span></span>();
    <span class="hljs-built_in"><span class="hljs-built_in">return</span></span>;
}

find_defects();

<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (defects_found()) {
    say_about_defects();
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!client_agree()) {
        pay_for_wash_and_dyagnosis();
        <span class="hljs-built_in"><span class="hljs-built_in">bye</span></span>();
        <span class="hljs-built_in"><span class="hljs-built_in">return</span></span>;    
    }
}

create_request();

take_money();
<span class="hljs-built_in"><span class="hljs-built_in">bye</span></span>();
</code></pre><br>
      ,      ,    3   <i>bye()</i> , , ,     ,       return (,   return).<br>
<br>
     <i> try...finally</i>,     , ..         .         .<br>
<br>
   (  ,    <b>. 5.1</b>   ,   ):<br>
<br>
<pre><code class="hljs delphi"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">negotiate_with_client</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment">{
    check_cost();
    if (!client_agree())  {
        pay_for_wash();
        return;
    }</span></span></span><span class="hljs-function">

    </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">find_defects</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">;</span></span>

    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (defects_found()) <span class="hljs-comment"><span class="hljs-comment">{
        say_about_defects();
        if (!client_agree()) {
            pay_for_wash_and_dyagnosis();
            return;    
        }</span></span>
    }

    create_request();
    take_money();
}


listen_client();
<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!is_clean()) <span class="hljs-comment"><span class="hljs-comment">{
    wash();
}</span></span>

negotiate_with_client();
bye();
</code></pre><br>
  ,     - , ,  ,   .  ,             ‚Ä¶<br>
<br>
<h4>5.  .</h4><br>
,    ,    ,     ,        .<br>
<br>
  ,    ‚Äî ,    ,   ,  . ,        ,    , ,    .       .<br>
<br>
<h5><b>5.1.</b>  1.   .</h5><br>
   ,   ,    ,   -    .   , ,   ,        .<br>
<br>
,               .<br>
        .     ,      :   .      .   ,      -    ,         .<br>
<br>
       ,   <b>. 4.3</b>.<br>
       if. , :<br>
<br>
<pre><code class="hljs delphi"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">proc1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment">{
    init();
    do1();
}</span></span></span><span class="hljs-function">
</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">proc2</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment">{
    init();
    do2();
}</span></span></span><span class="hljs-function">

</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">proc1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">;</span></span>
proc2();
</code></pre><br>
:<br>
<br>
<pre><code class="hljs lisp">init()<span class="hljs-comment"><span class="hljs-comment">;</span></span>
do1()<span class="hljs-comment"><span class="hljs-comment">;</span></span>
do2()<span class="hljs-comment"><span class="hljs-comment">;</span></span>
</code></pre><br>
  . :<br>
<pre><code class="hljs lisp">a = new Object()<span class="hljs-comment"><span class="hljs-comment">;</span></span>
init(<span class="hljs-name"><span class="hljs-name">a</span></span>)<span class="hljs-comment"><span class="hljs-comment">;</span></span>
do(<span class="hljs-name"><span class="hljs-name">a</span></span>)<span class="hljs-comment"><span class="hljs-comment">;</span></span>

b = new Object()<span class="hljs-comment"><span class="hljs-comment">;</span></span>
init(<span class="hljs-name"><span class="hljs-name">b</span></span>)<span class="hljs-comment"><span class="hljs-comment">;</span></span>
do(<span class="hljs-name"><span class="hljs-name">b</span></span>)<span class="hljs-comment"><span class="hljs-comment">;</span></span>
</code></pre><br>
:<br>
<pre><code class="hljs delphi"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">proc</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a)</span></span></span><span class="hljs-function"> </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment">{
    init(a);
    do(a);
}</span></span></span><span class="hljs-function">

</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">proc</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(new </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">Object</span></span></span></span><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">);</span></span>
proc(new <span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>());
</code></pre><br>
<h5><b>5.2.</b>  2.     .</h5><br>
  ‚Äî ,       .  ,           ,    .<br>
<br>
  ,  ,   <i>null</i>.  ,        <i>NPE</i>       .<br>
<br>
        :<br>
<br>
<pre><code class="hljs vbscript">obj = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Object();
...
<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (obj != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) {
    obj.<span class="hljs-keyword"><span class="hljs-keyword">call</span></span>();
}
</code></pre><br>
     ,      . (C  ,         ,   <i>new()</i>   <i>null</i>.    ( ..  Java)    ).<br>
<br>
           (   ) .<br>
, ,  :<br>
<br>
<pre><code class="hljs cs">obj = factory.getObject();
obj.call1();

<span class="hljs-comment"><span class="hljs-comment">//   obj  null,     )</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (obj != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) {
    obj.call2();
}
</code></pre><br>
   ,    .<br>
<br>
    ,   ,    :<br>
<br>
<pre><code class="hljs delphi"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">proc1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(obj)</span></span></span><span class="hljs-function"> </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment">{
    if (!is_valid(obj)) return;
    obj.call1();
}</span></span></span><span class="hljs-function">

</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">proc2</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(obj)</span></span></span><span class="hljs-function"> </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment">{
    if (!is_valid(obj)) return;
    obj.call2();
}</span></span></span><span class="hljs-function">

</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">obj</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">factory</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getObject</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">;</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_valid(obj) <span class="hljs-comment"><span class="hljs-comment">{
    proc1(obj);
    proc2(obj);
}</span></span>
</code></pre><br>
 ,         ,      .    ,        (,  <i>proc1()</i>  <i>proc2()</i>    API),       .<br>
<br>
    :<br>
<ul>
<li>     ,       .                .  Java, ,      ‚Äú‚Äù     <i>@Nullable</i>.  ,   ,       /  <i>null</i>.</li>
<li>    !           ,        . ,     ,          . ,       .</li>
</ul><br>
 ,   ,    -    ,   ,            .<br>
<br>
       <i>NullObject</i>,       ,     ,   ‚Äú‚Äù <i>null</i>.          null  -    .<br>
<br>
    <i>null-safe</i> ,        <i>apache-commons</i>  Java.        ,         <i>null</i>.<br>
<br>
<h5><b>5.3.</b>  3.   ‚Äú‚Äù.     .</h5><br>
 ‚Äî    :  ,   ,     .          . <br>
<br>
        ,      ,       ,    2D   long-polling   Javascript.     ,      ,         ,    .<br>
<br>
  ,  ,  - ,   ,      .     ,          ,  ‚Äú‚Äù          -.<br>
<br>
  ,      ,   ,   ‚Äú‚Äù          .     ,        ,    ,   ,          .<br>
<br>
  ,      , ,   (, <i>apache-commons</i>  <i>guava</i>  Java)             .<br>
<br>
<h5><b>5.4.</b>  4.     ,   .</h5><br>
‚Äú‚Äù ,     ;  ,    ;  ,    ,     ‚Äî ,        ,   ,   ,  .<br>
<br>
  , <b> </b>,    ,           .<br>
        ,          ,    ,      ,       ,          .<br>
<br>
 ,     ,      ,  ,    ,   <b></b>.<br>
<br>
<h5><b>5.5.</b>  5.             .</h5><br>
       ,         :  ,  ,     ..<br>
<br>
    ,    ,     Javascript.<br>
<br>
         :<br>
<pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (obj != <span class="hljs-literal"><span class="hljs-literal">null</span></span> &amp;&amp; obj != <span class="hljs-literal"><span class="hljs-literal">undefined</span></span> &amp;&amp; obj.s != <span class="hljs-literal"><span class="hljs-literal">null</span></span> &amp;&amp; obj.s != <span class="hljs-literal"><span class="hljs-literal">undefined</span></span> &amp;&amp; obj.s != <span class="hljs-string"><span class="hljs-string">''</span></span>) {
    <span class="hljs-comment"><span class="hljs-comment">// do something</span></span>
}
</code></pre><br>
 ,        ‚Äú      - ‚Äù.   ,    Javascript,          :<br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (obj &amp;&amp; obj.s) {
    <span class="hljs-comment"><span class="hljs-comment">// do something</span></span>
}
</code></pre><br>
  ,      boolean,  <i>if (obj) {}</i> :<br>
<ul>
<li><i>false</i></li>
<li><i>null</i></li>
<li><i>undefined</i></li>
<li>0</li>
<li> </li>
</ul><br>
 ,     ,     .  , ,      , -   ‚Äú‚Äù    .<br>
<br>
,    :<br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!a) {
    a = defaultValue;
}
</code></pre><br>
<br>
<br>
<pre><code class="javascript hljs">a = a || defaultValue;
</code></pre><br>
   ,         .<br>
<br>
<h4>6.  .</h4><br>
 ‚Äú‚Äù        ,  XML  JSON.           ,      ,     ,   .<br>
<br>
 XML  ,      ,       ,    ,        , ,    .<br>
<br>
     ,   ‚Äú‚Äù      ,  ,         ,    .<br>
<br>
     ‚Äú‚Äù ,         .         , , ,      ,      .<br>
<br>
<h5><b>6.1.</b>  1.    ,   .    ,     .</h5><br>
  ,          ‚Äî <b>    </b>.<br>
<br>
   name,      ,     ,       ,    .    <i>compare()</i>,     ,       ,       -  1000    .    <i>NetworkDevice</i>,        ,   ,        .<br>
<br>
  ,  ,     ,   . ,   ,        .<br>
<br>
   ,       ,    .       ,  ,  ,  <b></b>    .<br>
<br>
    ,        ,        ‚Äú‚Äù.<br>
<br>
,         <i>i</i>, <i>j</i>, <i>k</i>, <i>s</i>.              .   <i>i</i>, <i>j</i>,        . ,  ,          foreach   .<br>
    <i>ii</i>, <i>i1</i>, <i>ijk42</i>, <i>asdsa</i>  .,    .   ,      ‚Ä¶ ,  - .<br>
<br>
<h5><b>6.2.</b>  2.     ,   ‚Äî -.</h5><br>
    ,     ‚Äî       .   ,      ,     ,        ,         .     ,      ,   .      ,     .<br>
<br>
        ‚Äú‚Äù  ‚Äî       //    .             .<br>
<br>
 :                  .<br>
<br>
<h5><b>6.3.</b>  3. ‚Äú ‚Äù.   ,    .</h5><br>
    . 5.4.,   ,  ,   ,   ,  ,   ,       ( )   .<br>
<br>
     :     ,         .<br>
<br>
  ‚Äú‚Äù :<br>
<br>
<pre><code class="java hljs">...
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = counSum();
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> increasedSum = sum + <span class="hljs-number"><span class="hljs-number">1</span></span>;
operate(increasedSum);
...
</code></pre><br>
,  <i>increasedSum</i>   , ..  ,    <i>(sum + 1)</i>       ,   .        (‚Äú‚Äù ):<br>
<br>
<pre><code class="java hljs">...
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = counSum();
operate(sum + <span class="hljs-number"><span class="hljs-number">1</span></span>);
...
</code></pre><br>
       ,    :<br>
<br>
<pre><code class="java hljs">...
operate(countSum() + <span class="hljs-number"><span class="hljs-number">1</span></span>);
...
</code></pre><br>
   ‚Äî        ,   <b></b>. <br>
<br>
      ,     ,    . :<br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">double</span></span> descr = b * b - <span class="hljs-number"><span class="hljs-number">4</span></span> * a *c;
<span class="hljs-keyword"><span class="hljs-keyword">double</span></span> x1 = -b + sqrt(descr) / (<span class="hljs-number"><span class="hljs-number">2</span></span> * a);
</code></pre><br>
     <i>descr</i>      , ..          , , ,     ,     ‚Äú ‚Äù  .<br>
<br>
 ,    ,   :      //,        .  ,    <b>. 6.1</b>,  ,         .     ,  ,   //    ,        .<br>
<br>
<h5><b>6.4.</b>  4.     ,   ‚Äî .</h5><br>
  :         , . .          . ,       -     .<br>
<br>
   , ,        .<br>
<br>
 :<br>
<br>
<pre><code class="hljs matlab"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">i</span></span> == <span class="hljs-built_in"><span class="hljs-built_in">abs</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">i</span></span>)) {
}
</code></pre><br>
 :<br>
<br>
<pre><code class="hljs matlab"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">i</span></span> &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span>) {
}
</code></pre><br>
   , , .<br>
<br>
<h5><b>6.5.</b>  5. ,     private (protected),    .  ‚Äî  .</h5><br>
                .<br>
     ,    .   ,           ‚Äú ‚Äù, . . ,       ,   .   ,   ,    ,          .<br>
<br>
<h5><b>6.6.</b>  6. ( )        .</h5><br>
         ,      .<br>
<br>
 :<br>
<br>
<pre><code class="hljs javascript"><span class="hljs-built_in"><span class="hljs-built_in">Object</span></span> someobj = createSomeObj();
<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (some_check()) {
<span class="hljs-comment"><span class="hljs-comment">// Don't need someobj here </span></span>
} <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {
    someobj.call();
}
</code></pre><br>
,    someobj    , . .             ,      .<br>
<br>
 ,     - :<br>
<br>
<pre><code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (some_check()) {
<span class="hljs-comment"><span class="hljs-comment">// Don't need someobj here </span></span>
} <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {
<span class="hljs-built_in"><span class="hljs-built_in">Object</span></span> someobj = createSomeObj();
    someobj.call();
}
</code></pre><br>
<br>
 ,      ,     <b>. 6.3</b>:<br>
<br>
<pre><code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (some_check()) {
<span class="hljs-comment"><span class="hljs-comment">// Don't need someobj here </span></span>
} <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {
createSomeObj().call();
}
</code></pre><br>
    ,          .  ,   . :<br>
<br>
<pre><code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">Object</span></span> someobj = createSomeObj();
<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-type"><span class="hljs-type">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">10</span></span>; i++) {
    someobj.<span class="hljs-keyword"><span class="hljs-keyword">call</span></span>();
}
</code></pre><br>
    <i>createSomeObj() </i>‚Äî  ,          ,       .<br>
<br>
     ,     ,            .<br>
<br>
<h5><b>6.7.</b>  7.      . ,     ,   .</h5><br>
          ‚Äî   ,    .<br>
<br>
            ,       .   ‚Äî    .<br>
<br>
        ,   ,     .<br>
<br>
<h5><b>6.8.</b>  8.       .</h5><br>
          ,     .         .<br>
<br>
   ,        ,    ,     -     ..        ,   ,    .<br>
<br>
 , ,    <i>apache CollectionUtils</i>  <i>guava Collections2</i>     Java <i>foreach</i>  ‚Äî       .<br>
<br>
:<br>
<br>
<pre><code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// getting ‚Äúsomestrings‚Äù collection somehow</span></span>
...
Collection&lt;String&gt; lowercaseStrings = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;String&gt;(); 
<span class="hljs-comment"><span class="hljs-comment">/* collection is uninitialized  here, need to investigate the initializion */</span></span>

<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (String s : somestrings) {
    lowercaseStrings.add(StringUtils.lowerCase(s));
}
</code></pre><br>
c:<br>
<pre><code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// getting ‚Äúsomestrings‚Äù collection somehow</span></span>
...
Collection&lt;String&gt; lowercaseStrings = Collections2.transform(somestrings, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Function&lt;String, String&gt;() {
    <span class="hljs-meta"><span class="hljs-meta">@Override</span></span>
        <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">apply</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String s)</span></span></span><span class="hljs-function"> </span></span>{
                <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> StringUtils.lowerCase(s);
        }
}));
</code></pre><br>
   Java 8,    :<br>
<br>
<pre><code class="java hljs">...
Collection&lt;String&gt; lowercaseStrings = somestrings.stream()
.map( StringUtils::lowerCase ).collect(Collectors.toList());
</code></pre><br>
    ,          .       <i>finally</i>  <i>catch</i> (,   - ).     ,      <i>try</i>,     <i>try</i>.<br>
<br>
<h5><b>6.9.</b>  9.         ,     .</h5><br>
        ,         Java      .<br>
<br>
        Javascript ( : <a href="http://habrahabr.ru/post/154105">http://habrahabr.ru/post/154105</a>).<br>
<br>
:<br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> str = <span class="hljs-string"><span class="hljs-string">"mentioned by"</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i =<span class="hljs-number"><span class="hljs-number">0</span></span>; l= tweeps.length; i &lt; l; ++i){
    str += tweeps[i].name;
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(i&lt; tweeps.length<span class="hljs-number"><span class="hljs-number">-1</span></span>) {str += <span class="hljs-string"><span class="hljs-string">", "</span></span>}
}
</code></pre><br>
c:<br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> str = <span class="hljs-string"><span class="hljs-string">"mentioned by "</span></span> + tweeps.map(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">t</span></span></span><span class="hljs-function">)</span></span>{
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> t.name;
}).join(<span class="hljs-string"><span class="hljs-string">", "</span></span>);
</code></pre><br>
     ,  ‚Ä¶           .<br>
<br>
<h5><b>6.10. </b> 10.   ,      ,  .</h5><br>
   ,        .    ,     :<br>
<ul>
<li>      .</li>
<li>      ,                  (‚Äúcomments lie‚Äù).</li>
<li>   ,         .</li>
<li>        .</li>
</ul><br>
     ,            . ..       ,   .  ,      ,        .<br>
<br>
          //   ,          ( <b>. 5.2</b>).<br>
<br>
<h4>7.  .</h4><br>
     ,        ,     : <b>         .   ‚Äî        </b>.<br>
<br>
          .        .<br>
<br>
 ,    ,   , ,     (, , ),          .           .     ,     .<br>
<br>
,       :  ,         ,           (   ).     .<br>
   ,           ,        (,         ,       ).<br>
<br>
 ,        ,       .       ,         .<br>
<br>
 ,            ,         .    ,            .<br>
<br>
      ,     ‚Äî    .    ‚Äú‚Äù    ,      , ,          .            .            .<br>
<br>
      ,    ,      (  ,    ) ,        IDE. <br>
<br>
  .        .     ,         .<br>
<br>
  !</div><p>Source: <a href="https://habr.com/ru/post/266969/">https://habr.com/ru/post/266969/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../266957/index.html">Using QCustomPlot to create animated graphs</a></li>
<li><a href="../266959/index.html">BabylonJS Tutorial - Creating a Base Scene</a></li>
<li><a href="../266961/index.html">What exactly makes depth learning and neural networks work well?</a></li>
<li><a href="../266963/index.html">Attackers use whatsapp service for phishing campaign</a></li>
<li><a href="../266967/index.html">Virtual reality around us. We invite to the MixAR conference</a></li>
<li><a href="../266971/index.html">Log processing with monit.d</a></li>
<li><a href="../266973/index.html">How much does it cost to make a mobile game?</a></li>
<li><a href="../266975/index.html">DI in complex applications. How not to drown in addictions</a></li>
<li><a href="../266977/index.html">How to unlock Android without knowing the password</a></li>
<li><a href="../266981/index.html">Outbound mail routing using Cisco ESA</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>