<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Is floating-point normalization needed?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the past topic (1), we talked about floating-point / comma numbers normalized in accordance with the IEEE754 standard. In the same place, denormali...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Is floating-point normalization needed?</h1><div class="post__text post__text-html js-mediator-article">  In the past topic (1), we talked about floating-point / comma numbers normalized in accordance with the IEEE754 standard.  In the same place, denormalized numbers were considered, the artificial introduction of which in the standard led to monstrous software and hardware costs, which slowed down the processes of computer processing of numbers tens and hundreds of times.  But, is this normalization really necessary, and is it all the more justified to introduce an exotic class of denormalized numbers into computer arithmetic?  Let's try to deal with this issue. <a name="habracut"></a><br><br>  Recall that in the previous article, for simplicity, we introduced the following concepts.  The area of ‚Äã‚Äãmachine mantissa (OMM) is the area of ‚Äã‚Äãmachine word into which the number mantissa is written.  The field of machine order (OMP) is the area of ‚Äã‚Äãthe machine word in which the order of the characteristic of the number is written.  Further, in the text, we will use these concepts. <br><br>  So, as you know, any number written in its natural form can be represented in an equivalent exponential form: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      F = M ‚àô q ^ (¬± h) <br><br>  where M is a number written in its natural form, with the offset point on h positions in one direction or another.  The number M in such a record is called the mantissa of a number, and q ^ (¬± h) is a characteristic of a number with an order ¬± h.  The sign and magnitude of the order of h compensate for the magnitude of the displacement of a point relative to its initial position in the number represented in its natural form <br><br>  When we set ourselves the task of writing a certain number into a machine word, we first of all care that the machine word contains a number with minimal loss of accuracy.  This condition is satisfied by such a record of the number, at which the maximum of significant digits of the number mantissa is recorded in the OMM and, at the same time, no overflow occurs in the WMD. <br><br>  Suppose that we have a binary number written in exponential form with a mantissa with N digits and a characteristic order equal to h.  Consider the case when N‚â•K., I.e., if the number of significant digits of the mantissa of the number being written is greater than or equal to the number of OMM digits. <br>  For example, suppose we need to write in a machine word in which B = 3, K = 4 is a binary number, represented in its natural form as 11.011.  In this number, the number of significant digits exceeds the number of OMM digits.  In an exponential form, this number can have various recording options, such as: 11011 ‚Ä¢ 2 ^ (- 3);  11.011 ‚Ä¢ 2 ^ 0;  0.0011011 ‚Ä¢ 2 ^ 4;  and so on <br><br>  In order for the number 11011. ‚Ä¢ 2 ^ (- 3) to be written into a machine word with a fractional mantissa, it is necessary to shift the point in the mantissa of the number to the left until the OMM appears in the high order digit.  For the number of point offsets it is necessary to adjust the order of the characteristics of the mantissa in the WMD.  In our case, the point must be shifted to 5 bits to the left.  Then the number 5-3 = 2 will be written to the WMD.  And in the machine word, thus, the number 0.1101 ‚Ä¢ 2 ^ 2 will be written.  The younger unit did not fit into the OMM bit grid and was lost.  Similarly, we will have for the number 11.011 ‚Ä¢ 2 ^ 0.  To write it into our computer word, you need to shift the point two digits to the left and accordingly increase the order also by 2. As a result, the number 0.1101 ‚Ä¢ 2 ^ 2 will be written in the computer word.  To write the number 0.0011011 ‚Ä¢ 2 ^ 4 into the machine word, the point in it must be shifted two digits to the right, and the order also reduced by 2. As a result, we again get the number 0.1101 ‚Ä¢ 2 ^ 2 written in the machine word. <br><br>  In all the considered cases, regardless of the type of the initial record of the number, we got an unambiguous representation of the number in the machine word and therefore there was no need to normalize such numbers. <br><br>  Now let N &lt;K.  A number that satisfies this condition can be written to a machine word in various ways. <br><br>  For example, in a machine word in which B = 3, K = 4, the number 0.01 can be represented by the following options: <br><br>  0.1000 ‚Ä¢ 2 ^ (- 1), 0.0100 ‚Ä¢ 2 ^ 0, 0.001 ‚Ä¢ 2 ^ 1, 0.0001 ‚Ä¢ 2 ^ 2. <br><br>  So what?  Why should we be confused?  All these variants of writing the number 0.01 are mathematically equivalent and, being used in mathematical transformations, give the correct result. <br><br>  Indeed, suppose that in the machine word the number 0.01 is represented as 0.1000 ‚Ä¢ 2 ^ (- 1).  Add this number with the binary number 0.011, which is written in the machine word as 0.11 ‚Ä¢ 2 ^ (- 1).  We get the following result: <br><br>  0.1000 ‚Ä¢ 2 ^ (- 1) + 0.11 ‚Ä¢ 2 ^ (- 1) = 1.01 ‚Ä¢ 2 ^ (- 1). <br><br>  Since the leading digit of the number went beyond the OMM bit grid, we must shift the point one digit to the left and increase the order value by 1. As a result, the number 0.1010 ‚Ä¢ 2 ^ 0 will be written in the machine word. <br><br>  Suppose now that the binary number 0.01 is represented in the machine word in the form 0.0001 ‚Ä¢ 2 ^ 2.  Add it to the number 0.011, which is now represented in the machine word as 0.0011 ‚Ä¢ 2 ^ 1.  According to the rules of arithmetic, let us sum up the orders of the terms to the same value and add the numbers thus transformed: <br><br>  0.001 ‚Ä¢ 2 ^ 1 + 0.0011 ‚Ä¢ 2 ^ 1 = 0.0101 ‚Ä¢ 2 ^ 1. <br><br>  The number obtained as a result of the addition is mathematically equivalent to the previously obtained number 0.1010 ‚Ä¢ 2 ^ 0 and can be written into a machine word without additional transformations. <br><br>  Thus, the ambiguity of writing a number in a computer word does not affect the correctness of mathematical transformations in which this number is involved.  And since, as a rule, a strictly defined number of digits is allocated for a computer word in a computing device, there are no advantages in writing the above options for representing numbers in a computer word with selected parameters K and B. <br><br>  From here you can make a very important conclusion.  Any normalization of a number is an operation leading to an unproductive use of computational resources. <br><br>  The only thing to take care of when writing numbers to the machine word is that their mantissa values ‚Äã‚Äãand orders do not go beyond the limits of the machine word discharge grid.  Such a procedure is provided for in any computing device using floating point arithmetic.  If such an event is detected, the numbers should be adjusted so that at least the highest bits of the mantissa, the converted number, fit into the OMM bit grid. <br><br>  Another very important conclusion can be drawn from the above reasoning.  The refusal of the procedure of normalization of numbers allows us to explicitly obtain the value of zero and naturally cover a range of small numbers, without artificially introducing a class of denormalized numbers.  This makes it possible to significantly simplify the process of writing numbers to a machine word and, as a result, significantly reduce the time for performing mathematical operations. <br><br>  LITERATURE. <br>  1. <a href="http://habrahabr.ru/post/262245/">habrahabr.ru/post/262245</a> <br>  2. <a href="http://wiki.mvtom.ru/index.php/%25D0%25A4%25D0%25BE%25D1%2580%25D0%25BC%25D1%258B_%25D0%25BF%25D1%2580%25D0%25B5%25D0%25B4%25D1%2581%25D1%2582%25D0%25B0%25D0%25B2%25D0%25BB%25D0%25B5%25D0%25BD%25D0%25B8%25D1%258F_%25D1%2587%25D0%25B8%25D1%2581%25D0%25B5%25D0%25BB_%25D0%25B2_%25D0%25AD%25D0%2592%25D0%259C">wiki.mvtom.ru/index.php/Forms_presentation_number_in_Computer</a> <br>  3. IEEE Standard for Binary Floating-Point Arithmetic.  Copyright 1985 by The Institute of Electrical and Electronics Engineers, Inc. 345 East 47th Street, New York, NY 10017 USA. <br>  4. <a href="http://www.softelectro.ru/ieee754.html">www.softelectro.ru/ieee754.html</a> <br>  5. <a href="http://neerc.ifmo.ru/wiki/index.php%3Ftitle%3D%25D0%259F%25D1%2580%25D0%25B5%25D0%25B4%25D1%2581%25D1%2582%25D0%25B0%25D0%25B2%25D0%25BB%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5_%25D0%25B2%25D0%25B5%25D1%2589%25D0%25B5%25D1%2581%25D1%2582%25D0%25B2%25D0%25B5%25D0%25BD%25D0%25BD%25D1%258B%25D1%2585_%25D1%2587%25D0%25B8%25D1%2581%25D0%25B5%25D0%25BB%26printable%3Dyes">neerc.ifmo.ru/wiki/index.php?title=Representation of real_numbers&amp;printable=yes</a> <br><br>  Yuri Spiridonov. </div><p>Source: <a href="https://habr.com/ru/post/262377/">https://habr.com/ru/post/262377/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../262363/index.html">How do visually impaired programmers program?</a></li>
<li><a href="../262367/index.html">PHP 7 beta 1 released</a></li>
<li><a href="../262371/index.html">Liquid indicator</a></li>
<li><a href="../262373/index.html">Automation of trade: a view of a service engineer. Part two</a></li>
<li><a href="../262375/index.html">The digest of interesting materials for Mobile Developer # 111 (July 6-12)</a></li>
<li><a href="../262381/index.html">AOP or how to write your bike for analytics</a></li>
<li><a href="../262383/index.html">Manage ReSharper settings in the team</a></li>
<li><a href="../262387/index.html">Databene Benerator - Benefit from it.</a></li>
<li><a href="../262389/index.html">Accelerate angular.js or how not to shoot yourself in the foot</a></li>
<li><a href="../262393/index.html">Video Switch for TV</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>