<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Attach to I2C. Make a simple logic analyzer</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello. I want to show a simple USB-logic analyzer, which can be assembled on any debug board with a STM32F042 microcontroller, for example NUCLEO-F042...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Attach to I2C. Make a simple logic analyzer</h1><div class="post__text post__text-html js-mediator-article">  Hello.  I want to show a simple USB-logic analyzer, which can be assembled on any debug board with a STM32F042 microcontroller, for example NUCLEO-F042K6 from ST.  And yet, the links will find the source code and easily remake on any other of this family.  This design has 8 channels.  Under them in the microcontroller involved ports PA0-PA7.  The maximum sampling rate is 8 MHz.  The maximum frequency of the input signal is 2 MHz.  The maximum number of samples per channel is 4096. <br><br>  Here it should be noted that the logical analyzer is <b>hardware &amp; software</b> for capturing a signal and its subsequent research, measurement, and analysis of interfaces. <br><br><img src="https://habrastorage.org/webt/tj/yq/ad/tjyqadw0nndzm1mf2loon7_s9xq.jpeg"><br><a name="habracut"></a><br>  The shell for the PC allows, after acquisition, to analyze the signals on all 8 channels, as well as <br>  measure the frequency of the signals, the period and duration of the pulses.  Calculate the number of fronts in the selected area, the duration of this area. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      And if you stick to the serial I2C interface and activate the analyzer, all I2C components will be automatically tinted and labeled in an easy-to-analyze form. <br><br>  The operation of the logic analyzer begins with clicking on the ‚ÄúStart capture‚Äù button.  Then the following happens: <br><br>  1) The capture parameters are transmitted to the device. <br>  2.a) If the trigger is not set, the capture of the signal begins immediately after receiving the capture parameters. <br>  2.b) If the trigger is set, the device analyzes the input signal without performing a capture.  The signal capture begins after the detection of the conditions specified by the trigger. <br>  3) The capture buffer is filled in accordance with the specified number of samples. <br>  4) The device transmits data to the PC. <br>  5) The software processes and displays the data received. <br><br>  The trigger can be installed on one or more channels.  If the triggers are specified for several channels, the capture of the signal begins with the simultaneous occurrence of all the conditions specified by the set triggers, i.e.  between triggers operates a logical connection "And". <br>  You can change the name and color of each channel.  The signal display area can be scrolled or scaled. <br><br>  Using the tool "Measurement" you can measure the duration of the selected area, period, frequency, pulse duration, count the number of fronts. <br><br>  The Ruler tool draws a vertical line covering the signals of all channels at a specified location with an indication of time.  The ‚Äúruler‚Äù is convenient when evaluating the location of the fronts of different channels relative to each other and relative to the zero time mark. <br><br>  In this video on a simple example, you can see how it all works: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/_BlIlcch-b8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  In conclusion, I want to add that the shell is written in Visual Studio, the software for the microcontroller in IAR.  In the near future I will present a 16+ channel logic analyzer with I2C, SPI, UART, I2S.  Two microcontrollers are considered for construction: stm32f730, stm32f446. <br><br>  Thank you all, use on health! <br><br>  ‚Üí <a href="">Download</a> instructions, firmware and sketch. <br>  ‚Üí <a href="https://cloud.mail.ru/public/3wAW/t4iDk6eFE">Download</a> IAR project <br>  ‚Üí <a href="https://cloud.mail.ru/public/2xYt/VoRSGK8Aa">Download</a> Visual Studio project </div><p>Source: <a href="https://habr.com/ru/post/423313/">https://habr.com/ru/post/423313/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../423303/index.html">AI, practical course. Emotion Based Musical Transformation</a></li>
<li><a href="../423305/index.html">Ruin the performance</a></li>
<li><a href="../423307/index.html">GitHub Pull Requests in Visual Studio Code</a></li>
<li><a href="../423309/index.html">DBMS transactions</a></li>
<li><a href="../423311/index.html">Partnership Naviaddress and ACTUM</a></li>
<li><a href="../423315/index.html">Universal Links Theory</a></li>
<li><a href="../423317/index.html">Why a Scala man?</a></li>
<li><a href="../423319/index.html">Integration code Vivaldi. Tell our developers</a></li>
<li><a href="../423321/index.html">Protect repositories on github against malicious commits</a></li>
<li><a href="../423323/index.html">‚ÄúYou have to be lazy to become a good tester‚Äù</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>