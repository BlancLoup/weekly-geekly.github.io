<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>A little more about errors in the design of process control systems and PLC programming</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I came across this article and if the subject of the conversation is very interesting, let me develop a little bit of this topic. 

 Let's take the sa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>A little more about errors in the design of process control systems and PLC programming</h1><div class="post__text post__text-html js-mediator-article">  I came across <a href="http://habrahabr.ru/post/274727/">this article</a> and if the subject of the conversation is very interesting, let me develop a little bit of this topic. <br><br>  Let's take the same scheme ( <s>really, rather clumsy,</s> I hope the author will forgive me for using it) from the post mentioned: <br><br><img src="https://habrastorage.org/files/c87/5be/28d/c875be28d8e142d4914f852aaa323119.jpg" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The first weak link of this scheme, which caught my eye, is not the K1 relay at all, of course, also worthy of mention, but the inscription ‚ÄúEmergency stop‚Äù on the normally-open contact of the SB1 button. <br><br>  It is easy to imagine that a broken cable from this very button will cause the operator to press it until the pulse is lost, until the equipment gets up from overheating, or while the circular saw finishes its colleague, or press it with a hydraulic press. <br>  <a href="http://habrahabr.ru/users/helixa/" class="user_link">Helixa</a> redid the scheme at the end of the post, but this error remained. <br><br><a name="habracut"></a>  Let's get a little deeper: <br><br>  When designing automated process control systems, and especially components of emergency shutdown, one should be guided not by the arguments ‚Äúeither way or that‚Äù, but by quite clearly written standards.  To describe them entirely is not for Habr, but let's glance briefly. <br>  EN 60204 describes three categories of emergency shutdown: <br><br>  - (0) uncontrolled shutdown through immediate power down; <br>  - (1) stop with power preserved until the drive stops; <br>  - (2) controlled stop. <br><br>  Still, according to EN 418, emergency stop and emergency shutdown are distinguished.  The easiest way to separate them according to the source of danger.  If something moves, then stop with an emergency stop.  If the danger is due to electric shock, shutdown with emergency shutdown (oil-oil, aha). <br><br>  Finally, the command device (in this case, the button itself) must be self-locking with unlocking a conscious action "in place." <br><br>  <i>Uff, four paragraphs of the text about one contact ...</i> <br><br>  Before you open AutoCad and draw a diagram, it would be correct to conduct a risk analysis, take into account the experience of emergencies, read about systematic failures, changes in regulations, safety requirements, determine SIL, and so on, you can continue for a long time.  But in the conditions of some Chelyabinsk Metallurgical Plant, this looks unlikely, unfortunately. <br><br>  Therefore, we will go from the most important constraint - the budget, determining that the main priorities for us are: <br><br>  - the integrity of the hands and feet of our colleagues; <br>  - integrity of the equipment; <br>  - minimum intervention in the budget. <br><br>  <i>Now Dichalt comes running and says that the first two points are mixed up in places ...</i> <br><br>  In the article to which I refer, the author uses Siemens equipment, which is also my favorite for several reasons.  Let's continue with the same equipment, but instead of the strange button SB1 we take the correct one, i.e.  emergency stop mushroom-shaped push-pull switch with two groups of contacts.  We will use normally closed. <br><br>  In addition, we change the controller, and take not 314, but for example 315F.  The letter F means Failsafe.  In short, these are fault tolerant controllers specially sharpened for security.  Of course, such controllers can also be used for normal control tasks, dividing the safe and unsafe part of the hardware and software. <br><br>  Let's connect our button S1 as one two-channel sensor with a rating of 1oo1, as shown in the diagram (sorry for the notes with a pencil and handwriting): <br><br><img src="https://habrastorage.org/files/99d/acc/0e8/99dacc0e8b654acdae864fa25a758c60.jpg"><br><br>  And now let's move on to the second part of the story, i.e.  PLC programming and errors. <br><br>  In order to program our safety function (emergency stop), we need Step7 with the Distributed Safety package installed.  The main difference from the programming of the ‚Äúconventional controllers‚Äù line is the absence of my favorite STL language, the absence of some operations with numbers and, in general, the reduction of any functional whose writing may cause a programmer difficulty or error.  We only have F-LAD and F-FBD. <br><br>  The simplest program for 6 buttons, 5 light bulbs and 2 contactor using Distributed Safety becomes like this: <br><br><img src="https://habrastorage.org/files/69f/937/dc3/69f937dc33b642fc91be1170649c7c18.JPG"><br><br>  However, for this example, we consider one standard FB 215 ‚ÄúF_ESTOP1‚Äù program block: Emergency STOP up to Stop Category 1. <br><br>  The meaning of a separate, protected software block for processing one emergency stop button is very simple.  Firstly, the programmer will not be mistaken, and secondly, this unit, exactly as the hardware, into which we load it, is certified and will guarantee to work as it should. <br><br>  The block interface is simple.  Help for him is as follows: <br><br><img src="https://habrastorage.org/files/746/c58/5d8/746c585d826849e7b5870175632f1cd6.JPG"><br><br>  The principle of operation is described in the screenshot, but for those who do not know English, I will explain the challenge of this unit in our example. <br>  So, the button, the input module 4/8 FDI, the output module and contactors K1, K2.  Below you will find a beautiful picture with our example in the gland. <br><br>  Call the block and bind the addresses: <br><br><img src="https://habrastorage.org/files/9bb/3dd/99d/9bb3dd99d02241a896f81c96612b9a77.JPG"><br><br>  Here the main thing is the input #e_stop_i - this is the signal from our button.  Tripping any of her contacts will result in a unit at this input.  The output #e_stop_q is further bound to the output module and to the contactors.  The main thing behind.  In addition, there is a need for confirmation, that is, after the button is triggered, the operator does not just have to press it to its initial position by turning "in place", but also to confirm the reset with another button, key, or clicking the mouse on the HMI interface. <br><br>  We save, compile, evoke, fill and other actions with the ending - it (sorry, lunch is close), - voila.  The emergency stop system is ready, which will turn off our saw or press in case of a button press, cable break, diagnostic error, loss of communication, power supply, module malfunction, and much more. <br><br>  Here it is, in the form of a ready-made stand, which helps to understand the details of safe design and programming: <br><br><img src="https://habrastorage.org/files/93c/de1/c0b/93cde1c0b6e44df28b608f83f21eaa77.jpg"><br><br>  Since I like comments, here are a couple of questions on attentiveness and ingenuity: <br><br>  1. Why is there a single red address in the call to the ‚ÄúF_ESTOP1‚Äù block? <br>  2. How would you connect the contactors K1 and K2? <br><br>  Thank! <br><br>  PS: next time I‚Äôll write about S7 / S8 contacts) </div><p>Source: <a href="https://habr.com/ru/post/274941/">https://habr.com/ru/post/274941/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../274931/index.html">Django Single Sign-On and Microsoft Active Directory</a></li>
<li><a href="../274933/index.html">What does it cost us to build an ICC? We collect xRM on the pipeline</a></li>
<li><a href="../274935/index.html">Analysis of the decision taken by the second (so far) place in the Hola contest for programming mail filters on JavaScript</a></li>
<li><a href="../274937/index.html">Thematic cartography: one-dimensional maps</a></li>
<li><a href="../274939/index.html">Intel Skylake processor error causes computer to freeze during complex calculations</a></li>
<li><a href="../274943/index.html">WordPress. Free course from GeekBrains</a></li>
<li><a href="../274945/index.html">Keep this in mind! On the issue of warehouse automation</a></li>
<li><a href="../274947/index.html">Management of the company-developer: you need it?</a></li>
<li><a href="../274949/index.html">Corporate software for growth</a></li>
<li><a href="../274951/index.html">Everything goes according to plan? Planning in Bitrix24</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>