<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Advanced work with subscriptions in event-driven architecture in javascript</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="One of the most common methods for building JavaScript applications is an event-oriented approach, which provides greater flexibility and allows you t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Advanced work with subscriptions in event-driven architecture in javascript</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/676/c90/dec/676c90dec78c91efe91ed14e63022fbe.png" align="left" height="175">  One of the most common methods for building JavaScript applications is an event-oriented approach, which provides greater flexibility and allows you to make the modules of the system as independent as possible from each other.  This paradigm is gaining increasing popularity and not rarely becomes part of many frameworks.  But, as a rule, as the application grows, the number of events / subscriptions increases, and it becomes more and more difficult for the developer himself to manage and monitor it, not to mention the adaptation of new employees to the project. <br><br>  To cope with all these problems, Capo is designed to help - a module that manages events in event-driven js architecture and solves one of the biggest drawbacks of the Mediator pattern - the uncertainty of triggers and subscribers. <br><a name="habracut"></a><br>  Faced with a similar problem on a real project, we initially used the standard development tool - search.  But over time, the number of events increased, it became increasingly difficult to find the ‚Äúsources‚Äù of events, and it became simply impossible to manage ‚Äúsingles‚Äù (events that no one listens to or sends).  The development process became more difficult with each passing day, and with the arrival of new people on the project, it became completely burdensome. <br><br>  As you have noticed, we did not go far from the ‚Äúguitar‚Äù theme (hello mediator.js) and called our brainchild Capo (see capo).  Capo is not a method or approach, but rather a ready-made helper, which is embodied as a npm module and plug-in for Sublime Text.  What does he do?  Let's return to the problem of the Mediator pattern. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Imagine a situation - you come to a new project, which uses an architecture built on events.  How long will it take you to fully track all the chains of events and subscriptions to them?  As practice shows, the exercise it takes a lot of time and does not bring a lot of pleasure. <br><br>  To simplify this process, we decided to unify the search for all events and provide the result to the developer in the form of an interactive report.  The Npm Capo module searches all the files in the specified folder, finds all the connections of the trigger subscriber type and tracks them.  After that forms (by default) html report of the following form: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8d1/617/f2a/8d1617f2a504a58543a6975489ebe907.png"><br>  <a href="http://msemenistyi.github.io/capo">Live demo</a> <br><br>  On the left, there is a menu for navigating through the events found, on the right side, triggers and subscribers with an indication of the file, line and context.  In the section Strange events - events that do not have subscribers or triggers and can cause great trouble.  The module is suitable for all projects that use mediator.js, Backbone.js, node.js EventEmmiter, or any other object that provides the publish-subscribe interface.  Capo also has a number of additional features that can be very useful.  So, for example, there is an opportunity to send a report to print or output directly to the console (capo-cli), Capo itself can be added as a build step to grunt (grunt-capo), as well as to ‚Äúspy‚Äù on events by generating subscriptions-stubs for all events found in the project (spy-generator). <br><br>  For even more convenience, it was necessary to integrate these capabilities into the development environment.  So Sublime Text 3 has been added with another plugin, which is designed to make life easier by directly developing applications using event-driven js architecture. <br>  After installation, just use the key combination to start the search (by default Alt + D) and, using the quick panel, select the desired file.  The plugin will open it in a new window and highlight the line with the found event. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a7e/cf9/1d1/a7ecf91d1e5bedd43cff9a9d4b56835f.gif"><br><br>  Creating Capo, we first of all sought to facilitate the development process by ourselves, as well as to help new guys on the project to quickly understand the architecture of the application.  We hope that Capo will really help you keep events under control and solve the perennial problem of uncertainty of triggers and subscriptions in your projects. <br><br>  The source code and description of the Capo modules can be found at the links: <br><ul><li>  npm module: <a href="https://github.com/msemenistyi/capo">github.com/msemenistyi/capo</a> </li><li>  grunt-task: <a href="https://github.com/msemenistyi/grunt-capo">github.com/msemenistyi/grunt-capo</a> </li><li>  sublime text 3 plugin: <a href="https://github.com/confa/capo">github.com/confa/capo</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/213937/">https://habr.com/ru/post/213937/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../213925/index.html">Selection of media and storage locations for archiving and backup of photo archives</a></li>
<li><a href="../213927/index.html">MegaFon launched 4G +</a></li>
<li><a href="../213929/index.html">Holland - MySQL / PostgreSQL backups without a headache</a></li>
<li><a href="../213933/index.html">Laravel. Internet resources</a></li>
<li><a href="../213935/index.html">SSD and native boot VHD: and happiness was so close ...</a></li>
<li><a href="../213939/index.html">Motivation problems: working with ‚Äúburnt out‚Äù employees</a></li>
<li><a href="../213941/index.html">Sony at Mobile World Congress 2014</a></li>
<li><a href="../213945/index.html">Cloud storage and console FTP clients</a></li>
<li><a href="../213947/index.html">Vulnerability of the Flash Player is used to target</a></li>
<li><a href="../213949/index.html">How to save the Olympiad?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>