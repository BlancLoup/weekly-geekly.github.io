<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>iKnow Review Analyzer (iKRA)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Intro 
 With the help of InterSystems iKnow technology, we made a rating system called iKnow Reviews Analyzer (iKRA). About the prototype of the proje...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>iKnow Review Analyzer (iKRA)</h1><div class="post__text post__text-html js-mediator-article"> <a href="https://habrahabr.ru/company/intersystems/blog/308940/"><img src="https://habrastorage.org/files/706/20f/9cb/70620f9cb0494938b0f5d55b5a682432.jpg" alt="image"></a> <br><br><h3>  Intro </h3><br>  With the help of InterSystems iKnow technology, we made a rating system called iKnow Reviews Analyzer (iKRA).  About the prototype of the project can be found <a href="https://habrahabr.ru/company/intersystems/blog/243217/">here</a> .  iKRA analyzes textual feedback from users, automatically giving a numerical rating to the subject of the study.  These functions can be very useful, for example, on online sales sites, thematic forums or collections of media content.  In other words, wherever the community is discussing any things. <br><a name="habracut"></a><br><h3>  What makes the decision? </h3><br>  iKnow Reviews Analyzer performs analysis of any subject area, whether it is the online sales of home appliances or booking of tourist hotels in hot countries.  To get the results, you must go through the following key steps: <br><br><ul><li>  collect feedback in the subject area of ‚Äã‚Äãinterest to us; </li><li>  create dictionaries - base words for the calculation; </li><li>  create an area for loading and analyzing data; </li><li>  run the model on the calculation; </li><li>  drink coffee / wait; </li><li>  see the results. </li></ul><br><h3>  Usage example </h3><br>  Now, what it looks like in practice ... As an example, we will analyze reviews on smartphones.  We will select five manufacturers: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  Apple; </li><li>  HTC; </li><li>  LG; </li><li>  Samsung; </li><li>  Sony. </li></ul><br>  Suppose that each of them we are interested in two models of smartphones.  For each selected model, we will load 50 reviews - in the end, 500. We take comments from Yandex.Market: <br><br><img src="https://habrastorage.org/files/58c/0e1/6e9/58c0e16e990a49bc8d97b6c08e7d6db2.jpg" alt="image"><br><br>  Each of the reviews will be placed in a separate file and for convenience we use the following file layout (Figure 1): <br><br><img src="https://habrastorage.org/files/ce5/cf7/ace/ce5cf7ace594441c85bec0ac2e5d238f.jpg" alt="image"><br>  <i><font color="#999999">Figure 1. File location hierarchy</font></i> <br><br>  In parentheses is the overall assessment of the smartphone, which the user set when writing a review.  It is recorded in the metadata and subsequently used to optimize the calculation algorithm.  Original reviews are <a href="https://github.com/intersystems-ru/iKRA/tree/master/Load/Data">here</a> . <br><br>  For the analysis, you must create a domain iKnow - storage of unstructured data.  We will not dwell on this in detail, since this issue is described in detail <a href="https://habrahabr.ru/company/intersystems/blog/244697/">here</a> . <br><br>  When the domain is created and filled with reviews, let's proceed to the analysis of its contents.  When choosing a smartphone, the following parameters are critical for me: <br><br><ul><li>  performance; </li><li>  connection quality; </li><li>  comfort / convenience. </li></ul><br>  For simplicity, further narration will introduce the following concepts: <br><br><ul><li>  category - parameter to be estimated; </li><li>  functional (f) marker - a term that characterizes the estimated parameter / category; </li><li>  functional dictionary - many f-markers; </li><li>  emotional (e) marker - the word reflects the attitude of the author to the described subject; </li><li>  emotional vocabulary - many e-markers. </li></ul><br>  Based on the selected characteristics, we compile a functional dictionary, where for each of the specified categories we select the F-Markers - the defining words.  For example, for the category of "performance" it can be: "speed", "processor", "memory", "speed", "core" and so on.  All f-Markers are recorded in a special <a href="https://github.com/Turgorss/iKRA/blob/master/Load/Fmarkers.txt">file</a> .  Figure 2 shows an example of the ‚ÄúPerformance‚Äù / ‚ÄúPerformance‚Äù category: <br><br><img src="https://habrastorage.org/files/f2a/086/499/f2a086499e004e16b35c5afc0fff0055.jpg" alt="image"><br>  <i><font color="#999999">Figure 2. F-Markers</font></i> <br><br>  Next, we compose an emotional dictionary, filling it with appropriate e-Markers.  The entire list is not cited here, but for clarity I will list some of them: ‚Äúgood‚Äù, ‚Äúconvenient‚Äù, ‚Äúliked‚Äù, ‚Äúproblematic‚Äù, ‚Äúflaw‚Äù.  e-Markers give a positive or negative color to the sentence in the text.  Each e-Marker will have a numerical score.  For simplicity, use +1 for positive, -1 for negative.  All e-Markers are also recorded in a special <a href="https://github.com/Turgorss/iKRA/blob/master/Load/Emarkers.txt">file</a> .  Figure 3 shows an example of e-Markers: <br><br><img src="https://habrastorage.org/files/921/c58/502/921c585023ab4ee19c61a8b03dcca6eb.jpg" alt="image"><br>  <i><font color="#999999">Figure 3. e-Markers</font></i> <br><br>  Once the dictionaries are ready, you can calculate the estimates.  To do this, on the "Domains" tab, select the desired one and click "Run calculation" (Figure 4): <br><br><img src="https://habrastorage.org/files/cfc/f66/500/cfcf66500eaa465ea34f7f4da23633a1.jpg" alt="image"><br>  <i><font color="#999999">Figure 4. Calculation of ratings</font></i> <br><br>  To see the result, open the table of the class ikra.Dictionary.MarksUnit - which contains estimates for each smartphone model or refer to the class ikra.Dictionary.MarksReview - which contains estimates for each individual review.  Information is displayed in the management portal.  Select the SQL section and view the table of interest.  Figure 5 shows an example of viewing a table of the class ikra.Dictionary.MarksUnit. <br><br><img src="https://habrastorage.org/files/722/6a5/6ef/7226a56efc494ab0a3a9a9f3e895d86d.jpg" alt="image"><br><img src="https://habrastorage.org/files/5e6/cfb/01a/5e6cfb01aca94d5b88a2d6f1bb8812cd.jpg" alt="image"><br>  <i><font color="#999999">Figure 5. Viewing the table ikra.Dictionary.MarksUnit</font></i> <br><br>  With the help of DeepSee, let's see what we did.  We created a cube that uses the results of calculating estimates by categories and plotted for each device under study (Figure 6): <br><br><img src="https://habrastorage.org/files/f13/819/672/f13819672c51449da3e46c62d40f1685.jpg" alt="image"><br>  <i><font color="#999999">Figure 6. Grade rating by category</font></i> <br><br>  Among the analyzed data, the first places were distributed as follows: <br><br><ul><li>  performance - HTC ONE; </li><li>  call quality - HTC ONE; </li><li>  comfort / convenience - Samsung Galaxy S5 SM-G900F. </li></ul><br><h3>  And what if you need to add another category? </h3><br>  Previously, to evaluate each individual category, it was necessary to prescribe the corresponding class property manually.  This created an inconvenience when, when analyzing new subject areas, the categories and their number changed, it became necessary to edit the code with each such change, which is obviously the most fun and productive use of time.  To get out of this situation, we considered two possible solutions: <br><br><ol><li>  Reserving a large number of class properties; </li><li>  Using the database. </li></ol><br>  The first option allows you to forget about the ever-changing number of categories, without bothering with the structure of the database.  But storing such a volume of properties is inconvenient, and besides, no one guarantees that a larger number of estimated parameters will not arise.  From this path we refused. <br><br>  The second option solves the problem with an indefinite number of categories and does not require a fixed amount of memory for storing each instance of the class.  On the basis of the database, the system easily adapts to the calculation of any subject area with any number of categories. <br><br>  Considering the advantages of the second option, it was he who was implemented in the iKRA system <br><br><h3>  Adding a new category </h3><br>  ‚ÄúAnd then I realized that I need to evaluate another parameter of the smartphone - the camera!  (Well, if you catch Pok√©mon, you‚Äôll enjoy it) " <br><br>  Add a new category is not difficult, for this we change the composition of the functional dictionary and enter a new name - Camera (Figure 7). <br><br><img src="https://habrastorage.org/files/aa6/76f/645/aa676f64570a4dea85c6a29bf7b4ceca.jpg" alt="image"><br>  <i><font color="#999999">Figure 7. Adding the Camera category</font></i> <br><br>  We define a category by adding f-Markers on the corresponding tab (Figure 2). <br>  On the domains tab, select the desired one and run the calculation (Figure 4). <br>  We are waiting for the end and proceed to view (Figure 8): <br><br><img src="https://habrastorage.org/files/b84/1b7/9ca/b841b79cac8343f0ba1eb14cc2833be9.jpg" alt="image"><br>  <i><font color="#999999">Figure 8. Updated rating chart by category</font></i> <br><br>  Hooray!  We easily introduced a new category and appreciated it.  Now the picture is as follows: <br><br><ul><li>  Camera - iPhone 4S </li><li>  performance - HTC ONE; </li><li>  call quality - HTC ONE; </li><li>  comfort / convenience - Samsung Galaxy S5 SM-G900F. </li></ul><br><h3>  To be continued </h3><br>  Now we quickly and without the cost of rewriting the code get estimates of any product categories based on their feedback.  Now for this you need to configure the dictionary and run the calculation.  A difficult place is still the process of loading reviews into the database, but we will discuss this issue in the next article. <br><br>  ¬ª <a href="https://github.com/intersystems-ru/iKRA">Github</a> </div><p>Source: <a href="https://habr.com/ru/post/308940/">https://habr.com/ru/post/308940/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../308930/index.html">Accelerate npm scripts</a></li>
<li><a href="../308932/index.html">Creating and managing the FQDN of the 3CX server name</a></li>
<li><a href="../308934/index.html">New practical courses on JavaScript and ES6</a></li>
<li><a href="../308936/index.html">UDL support</a></li>
<li><a href="../308938/index.html">Errors of questionnaires. Error 2: questionnaire wording. 13 cases of misunderstanding and manipulation in the survey (part 1)</a></li>
<li><a href="../308944/index.html">Check the speed of the promis</a></li>
<li><a href="../308946/index.html">Finding errors in the GCC compiler code using the PVS-Studio analyzer</a></li>
<li><a href="../308948/index.html">How to use UrlManager to set up routing and create ‚Äúfriendly‚Äù URLs</a></li>
<li><a href="../308950/index.html">Half-HA cluster PostgreSQL on Windows 2012</a></li>
<li><a href="../308952/index.html">Porting a portfolio from Brainstorage to Freelansim</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>