<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Does the AVR USB Programmer not work? Set up</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The programmer does not work 
 This article is written for those who are just starting to learn how to program microcontrollers. 
 Microcontrolling gu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Does the AVR USB Programmer not work? Set up</h1><div class="post__text post__text-html js-mediator-article"><h5>  The programmer does not work </h5><br>  This article is written for those who are just starting to learn how to program microcontrollers. <br>  Microcontrolling gurus have nothing to do here, but for beginners who are faced with problems from China.  Or the ridiculous packaging of ready-made programmers or people taking the first step in radio electronics, this article can be very, very useful.  I will also describe the troubleshooting methods that I encountered myself.  Not all people have an excerpt, the more the Internet is created for this, that would share the experience, is not it? <br>  AVR programmer does not work - thousands of requests in Yandex and Google.  USB asp does not work - even more.  Hundreds of sites, on which you get and everywhere you read the same thing, as someone collects another programmer, but no one, I repeat, no one writes why your personal device does not work. <br><br>  Fast decision.  For those who do not want to read the entire post, and for a quick hand came to find a solution, I post this picture.  I post changes made by me and not described on any site. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/b5b/b02/fd9/b5bb02fd90c80c69ce488e7df10d4f47.jpg" alt="usb avr programmer does not work"><br>  Description and details will be below. <br><br><a name="habracut"></a><br><h5>  Purchase and appearance </h5><br>  Visiting the radio market in our city, I stumbled upon the designer of Radio Kit - the analogue of the famous Radio Cat.  Having bargained with dear madam, I bought this miracle for 65 Ukrainian tugriks - $ 8.2. Here is a photo. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/a6f/093/e20/a6f093e201c05755a08ba9072f1882a2.jpg" alt="set designer usb avr programmer">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Then it was necessary to collect and solder all this - the good is this thing I love, and it took half an hour - an ration for soldering. <br><br>  So.  We collected everything that was in the package, soldered according to the instructions - we got a USBasp programmer.  We connect it to the computer and oh my God - Unknown device.  Search "USBasp programmer unknown device" and get hundreds of discussions on the forum, where the same as me deceived or young and inexperienced users who want to start programming microcontrollers are ambushed.  Horror.  Once again, are we checking everything is properly welded and have we not joined together the two legs of the AtMega8 controller?  Not?  Are all the chips properly soldered?  We will not dwell on this nonsense, because if so, then you should download the encyclopedia of a young radio amateur and read.  As I did in my time.  But my programmer was perfect.  With a multimeter I rang every track and found no problems!  And he began to search the Internet for an answer.  Especially since I'm not new to this business.  In 2005, I first encountered programming PIC controllers for satellite maps.  Even dug up the ancient programmer UNIPROG 2003. Here are pictures - a rarity.  Worked like a clock.  I was still a schoolboy, and so many cards changed. <br>  You take out the controller from the card, insert it into a special card with a bridge, insert the card into the programmer, and PonyProg works wonders on 700m tseleron.  You insert the card back into the tuner - the channels are decoded.  Miracle of technology was at that time.  Here is a photo. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/8f0/e06/970/8f0e069708a8666c29985d3d84e89a58.jpg" alt="uniprog 2003 rarity"><br><img src="https://habrastorage.org/getpro/geektimes/post_images/3ec/d1a/8b9/3ecd1a8b908dd6630bb98ec4d9cdf835.jpg" alt="programs old AVR and PIC controllers"><br><br><h5>  Solution to the problem </h5><br>  The fact is that in the instructions and on all the sites where this programmer is advertised - it is advised not to put the jumper - jumper JP3 - in my instruction it is written: ‚ÄúThe jumper should be set in case of flashing the internal controller ATMega8‚Äù I have sinned the controller is not flashed.  And the seller simply put a clean chip in the bag.  But after a couple of hours, when I began to look for a space or a break in the board, I noticed small stripes and four holes connecting the 20th and 4th legs of Megi8. <br>  SCK exit and Megi8's 19th leg. <br>  Why so, you will soon understand.  Here are screenshots with circled places. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/211/889/959/211889959d9bf60bd460ee44952a5bdc.jpg" alt="missing jumper and jumper in the upper circle"><br><br>  As you noticed on the first and previous picture - in addition to two jumpers, I also circled the jumper.  In the set, I repeat, there was no jumper or jumper.  It had to be bought separately, the price is 5 UAH for 40 cells.  The jumper was in the old motherboard.  I repeat in the instructions and the scheme - it is not necessary.  But having understood the circuit you understand that the programmable chip does not receive power + 5V.  Very careless mistake manufacturers.  Solder the jumper and close the jumper. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/b5b/b02/fd9/b5bb02fd90c80c69ce488e7df10d4f47.jpg" alt="Reverse side of the board"><br>  Carefully study the main operation of the chip.  Main legs: <br>  1 leg - RESET <br>  17th - MOSI <br>  18z - MISO <br>  19 - SCK <br>  20 - AVCC (in the instructions for the programmer was called as VTG) <br>  RESET - MINUS and VCC - PLUS (correct if I'm wrong) <br>  On one site, I read that when programming chips, power must be connected to all VCC legs (AVCC) <br><br><h5>  How does the programmer work </h5><br>  The stupidest and most important question that arose among me and hundreds of other newbies on the Internet who bought a microcontroller, say ATTINY2313 and a programmer - what next?  And this question is also not enough answers in the network.  Very few photos of a real working scheme.  Especially for the inexperienced, just starting to get acquainted with this amazing world a couple of photos, what else is needed to flash the chip: <br><img src="https://habrastorage.org/getpro/geektimes/post_images/f26/b5e/124/f26b5e124794868d2fcbd0fb88f14d6e.jpg" alt="image"><br>  As you see in the photo we need the following: <br>  -Cable connecting USBasp programmer with the controller itself (in the photo it is on board with a quartz oscillator (the chip already has its own generator) <br>  The fee is collected under the article from the site <a href="http://www.getchip.net/posts/prostaya-otladochnaya-plata-dlya-ustrojjstv-avr-attiny2313-s-kvarcem/">Simple debugging board for AVR ATTiny2313 devices with quartz</a> <br><img src="https://habrastorage.org/getpro/geektimes/post_images/14a/f37/7df/14af377df45ce3e816e70a1b8b7240ea.jpg" alt="Quartz debug board"><br><img src="https://habrastorage.org/getpro/geektimes/post_images/29e/55b/ded/29e55bdede626fd31f140db5b742a6f2.jpg" alt="Sample debug board"><br><br>  -As you understand, what would be the outputs from the programmer MOSI, MISO, USCK, VCC (VTG) and RESET connected to the outputs on the tuning board, where the programmable chip is installed.  On many ATMEL controllers, the 1st leg of the RESET is opposite - 4 legs in a row (from top to bottom, from 20th to 17th) go VCC, SCK, MISO, MOSI.  That is, ATTINY2313 has 20 VCC, 19 USCK, 18-MISO, 17-MOSI. <br>  Connect the output on the programmer and the board with the installed chip, respectively. <br>  If you want to know the location and pinout of the chip - you can download DATASHIT of any controller from the site alldatasheet.com <a href="http://pdf1.alldatasheet.com/datasheet-pdf/view/80317/ATMEL/ATTINY2313.html">Here is the datasheet on ATTINY2313</a> <br>  In TINY13 and in 2313 and in MEGE8, the same pinout for software ISP programming.  Only the power will have to be changed on the board.  But not for every controller.  For example, TINY13 - also works perfectly without quartz on the same board as I did under the article for 2313. MOSI MISO SCK VCC RESET in the same places.  So one board is enough for testing so far. <br><br><h5>  Afterword </h5><br>  After the done manipulations.  Measurements of the feeder to the board from the power programmer.  After I figured out each leg and soldered the third jumper, my programmer finally worked.  It was determined by the computer after soldering two metal tracks - as libusb-win32 devices.  But did not want to work. <br><br>  Extreme Burner wrote "Cannot Comunicate with TargetChip".  I will not write how many methods I used when I thought that the problem in the drivers was a hundred.  They even advised to enter safe mode and install a program for signing drivers - but it was defined as an unknown device.  That decided, but did not work.  Who did you understand the exact same problem, right? <br><br>  And on all circuits JP3 - ONLY for flashing the internal chip.  This is true.  But the power through it is necessary to apply to the programmable board. <br><br>  I will repeat the GURU - this article is for beginners.  If you can supplement the article, or correct it, I will be only too happy, because I myself am still a novice.  But a lot of people could not really answer this problem in any of the forums.  I even read all the English-speaking forums. <br>  Even soldered the programmer Gromov.  But that money has already been spent - you need to bring to mind.  This article is dedicated to them.  Thanks for attention </div><p>Source: <a href="https://habr.com/ru/post/165029/">https://habr.com/ru/post/165029/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../165017/index.html">A complete set of packages for development using NodeJS</a></li>
<li><a href="../165021/index.html">nil, Nil, NULL, NSNull. All is nothing</a></li>
<li><a href="../165023/index.html">Screens Liquavista - left to wait quite a bit?</a></li>
<li><a href="../165025/index.html">Simple way to create complex ASP.NET MVC controls</a></li>
<li><a href="../165027/index.html">Rare Toshiba Satellite Pro 430CDT Laptop</a></li>
<li><a href="../165031/index.html">Emulation of the ternary system. Concept version</a></li>
<li><a href="../165035/index.html">Firefox 18 is released</a></li>
<li><a href="../165037/index.html">Correspondence Olympiad FUPM MIPT</a></li>
<li><a href="../165039/index.html">New polymer is transformed into buttons / vibro / speakers</a></li>
<li><a href="../165043/index.html">Multiklet: The first practical tests and performance</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>