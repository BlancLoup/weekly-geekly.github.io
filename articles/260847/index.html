<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Hosting for business. The story of one move</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A few years ago, while looking for a job, I came across an ad from a company that needed a Linux specialist and it was on the terms of a freelancer, i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Hosting for business. The story of one move</h1><div class="post__text post__text-html js-mediator-article">  A few years ago, while looking for a job, I came across an ad from a company that needed a Linux specialist and it was on the terms of a freelancer, i.e.  not full-time, but a sort of outsourcing.  Quite astonished (I live not in the central part of our vast Motherland, such announcements are extremely rare) I dialed a phone number and made an appointment to meet in the evening of the same day.  It should be noted that I had to wonder more than once. <br><br>  Arriving at the place at the appointed hour, I met the director and, after a short interview, we began a conversation. <br>  Informal talk went about various Linux distributions, cloud storage and document management, server components selection, virtualization, <s>iOS vs Android</s> , but about everything you don‚Äôt expect to hear from the director of a construction company. <br>  Little by little (remember, the conversation was spontaneous, unhurried) the tasks that would be standing in front of me began to emerge ... <br><a name="habracut"></a><br>  <b>Part one.</b>  <b>Introductory.</b> <br><br>  Recently, the company was faced with a full-scale audit, during which all computers, servers were seized, and doing business was very difficult.  After some time, the computers returned, but the repetition of this really did not want to.  Therefore, first of all, it was necessary to ensure the security of company data, and security was primarily physical, no one should have physical access to the server, it cannot simply be taken and carried away. <br>  The second step in the plan was the legalization of the software used. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The manager already had a plan and consisted of the following points: <br><ul><li>  Transfer of all computers of the company to Open Source </li><li>  Transfer of all data (DB 1C, other accounting programs, documents) outside the offices of the company </li><li>  Organization of work of employees in the new realities of IT infrastructure </li></ul><br><br>  <b>Part two.</b>  <b>Implementation.</b> <br><br>  Switch to open source. <br>  After some controversy, I managed to defend that Ubuntu, on users' computers, will look much better than OpenSUSE (I don‚Äôt incinerate, of course, IMHO).  Having taken a replacement computer, in a week or two, I managed to transfer everyone to Linux (except for glav.buha, but this is another story).  I took Libre Office as an office suite, the Ubuntu distribution then read the numbers 10.04, I used x11vnc for remote control and assistance to users, and the connection to the terminal server (more about it just below) 1C was done by remmina. <br>  Warning questions, yes, there were dances with a tambourine.  Especially with the Samsung scanner (I don‚Äôt remember the model) and a bit with the printers. <br>  But most of all I remember the installation of the OS on the old IBM Thinkpad 390x with a killed CD drive.  This laptop was used by the storekeeper to access 1C and print documents.  I installed Lubuntu on it, because  DE there is easier. <br>  Since that time, even a few photos of this handsome man have been preserved (sorry for quality, shot on sneakers). <br><div class="spoiler">  <b class="spoiler_title">IBM Thinkpad 390x</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/68d/076/d6a/68d076d6ac06481ca975948a3099085f.jpg"><br><img src="https://habrastorage.org/files/835/02e/119/83502e1199d4404fa37d1ba91e2bef21.jpg"><br><img src="https://habrastorage.org/files/276/522/acc/276522acc6e44be58d466f4427c0ea18.jpg"><br></div></div><br>  Speaking about taking the server out of physical reach, we discussed a lot of options, ranging from cutting out secret rooms, holes in the floor and hanging the server on a balloon, to <s>setting mines and stretch marks in the server</s> room are already incredible options.  But in the end they came to a more competent decision - to rent a dedicated server. <br>  <i>At the time of the events described, a famous German provider became our hoster.</i> <br><br>  Windows 2008 R2 got up on the server, VPN was configured for the head office and branch of the company, shared folders and other joys of life for employees.  Then we agreed on customer service and periodically I came for the money or if it was impossible to solve the problem properly. <br>  Thus, the tasks were solved, employees were trained to work in the new OS (many liked it right away, others understood it later), and the server became far from the reach of unwanted people. <br>  It would seem that the happy end of the story, but no - further more interesting. <br><br>  <b>Part Three</b>  <b>The company is growing, the tasks are expanding.</b> <br><br>  As time passed, I entrusted the care of this company to my friend, because  he changed his job and his free time became much less, and there was no need for a part-time job.  We keep in touch with the director and he periodically consults on various IT issues.  In the course of one of the conversations, the need to seriously expand the list of tasks assigned to that server (dedicated server) was raised. <br><br>  In addition to the terminal server were needed: <br><ul><li>  Web server for the company website </li><li>  Separate server for database 1C (transition to SQL) </li><li>  IP telephony server (I already <a href="http://habrahabr.ru/company/serverclub/blog/218791/">wrote</a> about testing this solution) </li></ul><br>  Tasks are hardly simpler than those set earlier, at the dawn of our cooperation.  I had a way to solve them, but I don‚Äôt have to support it all the time.  So it <a href="https://serverclub.ru/">turned</a> out that by this time I was already working in <a href="https://serverclub.ru/">ServerClub</a> and in our team of those.  support of any of the admins are able to both configure this solution and support it, solving emerging problems 24/7/365. <br>  Organize all services decided on a single server using virtualization.  The choice fell on the Dell R210 with 2x1TB HDD and 16GB of RAM. <br>  After consulting with colleagues, they proposed this scheme: <br><img src="https://habrastorage.org/files/75f/c91/68e/75fc9168ecd6492ba6fe5d1dc61e3cec.png"><br>  As can be seen in the diagram, Frontend provides access to virtual computers from the Internet (it looks into the internal network and into the world), it runs various network services - VPN, routing, firewall.  The rest of the virtual machines only look at the internal network, so the client needed only two ‚Äúwhite‚Äù IP addresses and all of its VMs are securely protected. <br>  Having coordinated this proposal, we installed new virtual servers, and the terminal W2K8R2, from the old hosting, was transported using <i>VMware Standalone Converter</i> . <br>  This tool, from one of the industry leaders, allows you to transfer an installed and configured system from hardware to a virtual machine.  The process of preparation and configuration is quite trivial, but there is one useful trick.  The fact is that by default, the program uses SSL encryption of traffic, this significantly slows down the transfer process and at the first attempts to move the time counter showed too high values.  Also, when transferring data, a <i>converter.fault.FileIOFault</i> error may occur and the process will be interrupted.  To solve these problems, you must disable encryption, this is done <div class="spoiler">  <b class="spoiler_title">simply</b> <div class="spoiler_text">  Go to the folder where the converter-worker.xml configuration file is located. <br>  For Windows 2008 R2, it is in "% ALLUSERSPROFILE% \ VMware \ VMware vCenter Converter Standalone". <br>  Find a section there <br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ssl</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">!‚Äì</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Private</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">key</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">file</span></span></span><span class="hljs-tag"> ‚Äì&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">privateKey</span></span></span><span class="hljs-tag">&gt;</span></span>ssl/rui.key<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">privateKey</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">!‚Äì</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Certificate</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">file</span></span></span><span class="hljs-tag"> ‚Äì&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">certificate</span></span></span><span class="hljs-tag">&gt;</span></span>ssl/rui.crt<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">certificate</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ssl</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  remove it, and also change the useSsl parameter in the nfc section to false <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">nfc</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">readTimeoutMs</span></span></span><span class="hljs-tag">&gt;</span></span>120000<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">readTimeoutMs</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">useSsl</span></span></span><span class="hljs-tag">&gt;</span></span>false<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">useSsl</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  To apply the changes, you must restart the service. <br> <code>VMware vCenter Converter Standalone Worker</code> <br> </div></div><br>  Upon completion of the terminal server transfer, we set up regular data backup of all VMs and <a href="http://habrahabr.ru/company/serverclub/blog/245119/">monitoring</a> , after which the client finally moved to us. <br><br>  <b>Part Four</b>  <b>The final.</b> <br>  With this example, I wanted to show the benefits of hosting dedicated servers in solving various business problems in the context of IT.  After all, the purchase of such a server would have cost the company a lot of money, and still need to place it somewhere, cool it, bring uninterrupted power, administer and replace components. <br>  By renting a server you donate all these tasks to the hosting provider, and by renting a server from <a href="https://serverclub.ru/">us you</a> also get branded hardware and technical support at any time and for absolutely any tasks - from installing the OS to complete configuration and support of your project. <br><br>  <b><i>Thanks for attention,</i></b> <b><i><br></i></b>  <b><i>come to us hosted!</i></b> </div><p>Source: <a href="https://habr.com/ru/post/260847/">https://habr.com/ru/post/260847/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../260833/index.html">How and where should SKZI be used - FSB point of view</a></li>
<li><a href="../260837/index.html">Making a home farm for video rendering.</a></li>
<li><a href="../260839/index.html">Metalworking - 2015, part two: welding, roboruki, manipulators, tumbling</a></li>
<li><a href="../260841/index.html">Google Cloud Messaging: ‚ÄúOwl, discover! Push has come! ‚Äù</a></li>
<li><a href="../260845/index.html">Stream data processing with Akka</a></li>
<li><a href="../260849/index.html">WorkFlowSoft - a tool for organizing the work of the company</a></li>
<li><a href="../260851/index.html">Quick helpers for your Asterisk</a></li>
<li><a href="../260855/index.html">How DIY robots will change education by 2035</a></li>
<li><a href="../260859/index.html">Hola prizes: consolatory and not only</a></li>
<li><a href="../260861/index.html">Dirty reverse engineering solutions</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>