<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Symbian Web Runtime: easy mobile application development</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This post participates in the contest " Smart phones for smart posts ". 
 Now a lot of mobile applications are written using HTML and Javascript. It i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Symbian Web Runtime: easy mobile application development</h1><div class="post__text post__text-html js-mediator-article"><h6>  <i>This post participates in the contest " <a href="http://habrahabr.ru/company/Nokia/blog/132522/">Smart phones for smart posts</a> ".</i> </h6><br>  Now a lot of mobile applications are written using HTML and Javascript.  It is understandable - such applications are easier to write, easier to transfer from one mobile platform to another, no need to learn Java, Objective C and other languages.  However, most mobile operating systems still require some kind of wrapper.  In the simplest case, you need to write a small application that will be a window of the built-in web browser maximized to the maximum.  To support special features (for example, working with contacts or files), you will need to either add it to support the necessary functions, or use one of the <a href="http://en.wikipedia.org/wiki/Multiple_phone_web_based_application_framework">frameworks for writing mobile applications</a> .  In any case, you will need special tools, be it a compiler or the same framework. <br><br>  However, in Symbian, starting with Symbian S60 3rd Edition, there was one good thing - Symbian Web Runtime (WRT).  It allows you to develop your mobile applications using HTML and Javascript, using only standard tools of almost any desktop operating system - a text editor and a ZIP-archiver.  In fact, this is also a mobile framework, but already embedded in the system, which does not require additional tools or compilation.  Let's take a closer look at it? <br><a name="habracut"></a><br><h3>  <b>Hello, world!</b> </h3><br>  The future WRT-application (or more correctly, the WRT-widget), when first viewed, is a ZIP archive with the .WGZ extension.  It contains a folder with files (if you just archive files, it will not work, only in the folder).  Inside, there must be an info.plist file and a main HTML file.  There may also be an icon.png file with a recommended size of 88x88 pixels, which will serve as an icon for our widget.  Everything else is up to you. <br><br>  The file format info.plist is almost exactly the same as that of Apple, and is described <a href="http://www.developer.nokia.com/Resources/Library/Web/web-apps/symbian-web-runtime/developing-widgets/widget-component-files/creating-the-infoplist-file.html">here</a> .  Here is an example: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE plist PUBLIC "-//Nokia//DTD PLIST 1.0//EN" "http://www.nokia.com/NOKIA_COM_1/DTDs/plist-1.0.dtd"&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plist</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">version</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.0"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>DisplayName<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>HelloWorld<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>Identifier<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>com.HelloWorld<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>Version<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>1.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>MainHTML<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>index.html<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>MiniViewEnabled<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">false</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>AllowNetworkAccess<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">false</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plist</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <table><tbody><tr><td>  <b>Parameter</b> </td><td>  <b>Type of</b> </td><td>  <b>Using</b> </td><td>  <b>Description</b> </td></tr><tr><td>  DisplayName </td><td>  Line </td><td>  Required </td><td>  The name of your widget.  It will be displayed in the main menu of the phone. </td></tr><tr><td>  Identifier </td><td>  Line </td><td>  Required </td><td>  The unique id of the widget. </td></tr><tr><td>  MainHTML </td><td>  Line </td><td>  Required </td><td>  Relative path to the main HTML file. </td></tr><tr><td>  Version </td><td>  Line </td><td>  Optional </td><td>  The version of the widget. </td></tr><tr><td>  AllowNetworkAccess </td><td>  Boolean </td><td>  Optional </td><td>  Give the widget network access.  By default, false - access to local data only. </td></tr><tr><td>  MiniViewEnabled </td><td>  Boolean </td><td>  Optional </td><td>  Give the ability to add a widget to your desktop.  The default is false.  If the device does not support desktop widgets, this parameter is ignored. </td></tr></tbody></table><br>  If we now create an index.html file in the same folder, write something like this in it: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span>Hello, world!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  And then compress this folder into a ZIP-archive and change its permission to .WGZ, then we will get an application for Symbian. <br><br>  Here to begin with and all.  You can lay out pages, write Javascript code for them, test them in your browser, and then easily and simply turn them into mobile applications for Symbian.  However, it should be noted that to connect CSS and Javascript files from the Internet, you will need to enable the AllowNetworkAccess parameter. <br><br><h3>  <b>Localization</b> </h3><br>  If you want to translate your widget into many languages, you can use the built-in localization tools.  It is quite simple. <br><br>  To support any language, you need to create a subfolder called &lt;language&gt; .lproj inside the main folder (for example, "en.lproj" or "fi.lproj"): <br><img src="http://www.developer.nokia.com/Resources/Library/Web/GUID-FB8200EB-F24B-41BE-9939-3F0485D492E9_d0e29128_href.png"><br>  If you want to translate the name of your widget, you need to create an infoplist.strings file and put a line like this in it: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">DisplayName</span></span> = <span class="hljs-string"><span class="hljs-string">" "</span></span></code> </pre> <br>  The rest of the localization process is quite simple.  When downloading files with cascading style sheets, scripts, pictures or other resources, WRT searches for them first in a sub-folder with localization, and only then in the main folder.  For example: <br><br>  [main folder] \ fi.lproj \ flag.png <br><br><img src="http://www.developer.nokia.com/Resources/Library/Web/GUID-16D4BAFC-1AC3-46B5-BA44-4B82014D97E9_d0e29327_href.png"><br><br>  [main folder] \ en.lproj \ flag.png <br><br><img src="http://www.developer.nokia.com/Resources/Library/Web/GUID-C247B2C6-F997-42A7-AC7D-7D24F1F77A57_d0e29337_href.png"><br><br>  [main folder] \ flag.png <br><br><img src="http://www.developer.nokia.com/Resources/Library/Web/GUID-C5FB6206-2BEB-494F-A1A4-3573E4310EC3_d0e29349_href.png"><br><br><h5>  Javascript </h5><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> flag = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createElement(<span class="hljs-string"><span class="hljs-string">'img'</span></span>); flag.setAttribute(<span class="hljs-string"><span class="hljs-string">'src'</span></span>, <span class="hljs-string"><span class="hljs-string">'flag.png'</span></span>);</code> </pre> <br>  As a result, for the Finnish language will display the Finnish flag, for the English - English, and for all others - the purple one. <br><br><h3>  <b>Web Runtime API</b> </h3><br>  We should also mention the WRT API.  It allows interaction with Symbian.  WRT 1.0 doesn‚Äôt have many functions, but starting from WRT 1.1 it is possible to work with many services of this mobile operating system.  About working with services - just below.  Full documentation can be found on the <a href="http://www.developer.nokia.com/Resources/Library/Web/web-apps/symbian-web-runtime/symbian-web-runtime-api-reference.html">Symbian Web Runtime API reference</a> page of official documentation.  Below I will briefly translate some of this documentation.  Some points in the documentation are simply not described or controversial, so if you notice a mistake, please write about it and I will correct it. <br><br>  There are several special WRT objects that can be accessed from Javascript: <br><ul><li>  <b>widget</b> - the basic features of WRT; </li><li>  <b>menu</b> - work with the application menu; </li><li>  <b>MenuItem</b> - class for creating a menu item; </li><li>  <b>device</b> - work with Symbian services;  appeared in WRT 1.1. </li></ul><br>  In addition, a <b>screen</b> object is supported, which allows you to get the device screen parameters. <br>  Let's take a look at them one by one. <br><br><h5>  widget </h5><br>  Available as window.widget or simply widget.  In this case, the word widget is reserved in WRT and should not be used as the name of a variable or function. <br>  The list of methods for the widget object: <br><ul><li>  <b>openURL</b> (String <i>url</i> ) - opens the <i>url</i> address in the embedded browser.  At the same time, the widget does not close, but remains to work in the background.  The <i>url</i> address must comply with <a href="http://www.faqs.org/rfcs/rfc1738.html">RFC 1738</a> and all non-ASCII characters (for example, Russian letters) must be pre-encoded. </li><li>  <b>setDisplayLandscape</b> () - change the orientation to landscape, if supported by the device. </li><li>  <b>setDisplayPortrait</b> () - change the orientation to portrait, if supported by the device. </li><li>  <b>setPreferenceForKey</b> (String <i>preference</i> , String <i>key</i> ) - saving a key-value pair in the built-in storage.  <i>key</i> - key, <i>preference</i> - value.  To remove a pair from the repository, pass as a null value </li><li>  <b>preferenceForKey</b> (String <i>key</i> ) - getting the value of a key-value pair from the built-in storage.  <i>key</i> - key.  If the pair is missing, returns undefined. </li><li>  <b>prepareForTransition</b> (String <i>transitionMode</i> ) - preparation for animation.  <i>The transitionMode</i> is a kind of animation, so far it only supports "fade". </li><li>  <b>performTransition</b> () - perform the animation. </li><li>  <b>setNavigationEnabled</b> (Boolean <i>navigationMode</i> ) - sets the navigation mode between items.  If the <i>navigationMode is</i> set to true, navigation is performed using the cursor.  If false, by moving between elements.  By default, true - using the cursor. </li><li>  <b>setNavigationEnabled</b> (String <i>navigationMode</i> ) - set the navigation mode between items.  If the <i>navigationMode is</i> set to "none", navigation is done using the cursor.  If the "tabbed" - by moving between elements.  The default is "none" - using the cursor. </li><li>  <b>openApplication</b> (HexNumber <i>Uid</i> , String <i>param</i> ) - open an application with <i>Uid</i> code and <i>param</i> parameters.  List of application codes: <ul><li>  <i>0x10008D39</i> - web browser </li><li>  <i>0x100058C5</i> - messages </li><li>  <i>0x101f4cce</i> - contacts </li><li>  <i>0x101f4cd5</i> - log (list of recent calls and SMS) </li><li>  <i>0x100058F8</i> - profiles </li><li>  <i>0x10005901</i> - calendar </li><li>  <i>0x10005903</i> - watch </li><li>  <i>0x100058CA</i> - sound recording </li><li>  <i>0x101F4668</i> - unit converter </li><li>  <i>0x10005902</i> - calculator </li><li>  <i>0x1000599d</i> - notes </li><li>  <i>0x101f84eb</i> - file manager </li><li>  <i>0x101f8599</i> gallery </li><li>  <i>0x101f857a</i> - camera (on device with one camera) </li><li>  <i>0x101ffa86</i> - camera (on a device with two cameras) </li><li>  <i>0x102072c3</i> - player </li><li>  <i>0x10005a3e</i> - RealPlayer </li><li>  <i>0x10005951</i> - Bluetooth </li><li>  <i>0x1000594d</i> - infrared </li><li>  <i>0x100058ec</i> - settings </li><li>  <i>0x10005a32</i> - themes </li></ul></li></ul><br>  I will explain what the essence of the prepareForTransition and performTransition functions are.  Suppose you want to hide or show some element.  To do this, you use elem.style.display = "block" or elem.style.display = "none".  However, if you want to animate this show or hide, you have to call widget.prepareForTransition ("fade") before it, and widget.performTransition () after it. <br><br>  Here is an example from the documentation: <br><br><h6>  HTML </h6><br><pre> <code class="html hljs xml"><span class="hljs-comment"><span class="hljs-comment">&lt;!--   --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'main'</span></span></span><span class="hljs-tag">&gt;</span></span> , ! <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Config"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"toMain(0);"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--    --&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--   --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'config'</span></span></span><span class="hljs-tag">&gt;</span></span>    , ! <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"toMain(1);"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--    --&gt;</span></span></code> </pre><br><h6>  Javascript </h6><br><pre> <code class="hljs coffeescript">function toMain(main) { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    widget.prepareForTransition(<span class="hljs-string"><span class="hljs-string">"fade"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (main) { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>        <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"config"</span></span>).style.display = <span class="hljs-string"><span class="hljs-string">'none'</span></span>; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"main"</span></span>).style.display = <span class="hljs-string"><span class="hljs-string">'block'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>        <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"main"</span></span>).style.display = <span class="hljs-string"><span class="hljs-string">'none'</span></span>; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"config"</span></span>).style.display = <span class="hljs-string"><span class="hljs-string">'block'</span></span>; } <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>  widget.performTransition(); }</code> </pre><br><br>  Property list of the widget object: <br><ul><li>  <i>identifier</i> - the widget's id, declared in the info.plist file. </li><li>  <i>onshow</i> - widget display event handler.  Called when the widget transitions from the background to the active state. </li><li>  <i>onhide</i> - the event handler for hiding the widget.  Called when the widget is in the background state. </li><li>  <i>onexit</i> - handler for closing the widget.  Called when the widget is closed. </li><li>  <i>isrotationsupported</i> - if the device supports switching between portrait and landscape modes, this property is set to true.  If the device supports only one mode, then false.  You must check the value of this property before calling widget.setDisplayLandscape () and widget.setDisplayPortrait (). </li></ul><br><br>  Sub-objects of the widget object: <br><ul><li>  <i>wrt</i> - contains information about the device and the WRT version: <ul><li>  <i>version</i> is the version of the WRT.  On devices using Browser / WRT 7.0, will contain "1.1".  On devices with Browser / WRT 7.1 will contain a browser version (for example, "BrowserNG / 7.1.13841"). </li><li>  <i>platform.id</i> is the OS code (for example, "S60"). </li><li>  <i>platform.romVersion</i> - firmware version (for example, "v 31.0.008 24-8-2009 RM-365 ¬© NMP"). </li><li>  <i>platform.manufacturer</i> - manufacturer's name (for example, "Nokia"). </li><li>  <i>platform.packageVersion</i> - browser / WRT version.  On devices with browser / WRT will be "7.00 (0)", with browser / WRT 7.1 - "7.01 (0)". </li><li>  <i>platform.model</i> - device model (for example, "N97"). </li></ul></li></ul><br><br><h5>  menu </h5><br>  Available as window.menu or simply menu.  In this case, the word menu is reserved in the WRT and should not be used as the name of a variable or function. <br><br>  With this object you can manage the application menu.  The menu is assigned to the left soft button and cannot be reassigned to any other (for example, to the right).  The left button is called "Options" (or otherwise in different localizations).  The right soft button is called "Exit" and terminates the application.  By default, the soft buttons are hidden and shown only when the user presses one of them (on the device keyboard). <br><br>  The list of menu object methods: <br><ul><li>  <b>append</b> (MenuItem <i>menuItem</i> ) - adds a menu item to the menu. </li><li>  <b>remove</b> (MenuItem <i>menuItem</i> ) - remove menu item from menu. </li><li>  <b>getMenuItemById</b> (Integer <i>id</i> ) - getting the MenuItem object with the <i>id</i> code.  If not present, returns undefined. </li><li>  <b>getMenuItemByName</b> (String <i>menuItemLabel</i> ) - getting a MenuItem object called <i>menuItemLabel</i> .  If not present, returns undefined.  What will happen if the two points have the same name, is not described in the documentation, but most likely will return the first one found. </li><li>  <b>setLeftSoftkeyLabel</b> (String <i>label</i> , Function <i>callbackfunc</i> ) - sets the name of the left soft button.  If <i>title</i> is an empty string, then the default value will be set ("Options" or other depending on localization).  <i>callbackfunc</i> is a function that is called when a button is pressed (by default, the menu is shown).  If null is passed to the <i>callbackfunc</i> , the button returns the default function. </li><li>  <b>setRightSoftkeyLabel</b> (String <i>label</i> , Function <i>callbackfunc</i> ) - sets the name of the right soft button.  If <i>title</i> is an empty string, then the default value will be set ("Exit" or other depending on localization).  <i>callbackfunc</i> is a function called when a button is pressed (by default, the application is terminated).  If null is passed to the <i>callbackfunc</i> , the button returns the default function. </li><li>  <b>showSoftkeys</b> () - show soft buttons. </li><li>  <b>hideSoftkeys</b> () - hide soft buttons. </li><li>  <b>clear</b> () - clear the menu. </li></ul><br><br>  The list of menu object properties: <br><ul><li>  <i>onShow</i> is a menu event handler.  Called when the menu is displayed. </li></ul><br><br><h5>  MenuItem </h5><br>  Menu item. <br><br>  The list of methods on the MenuItem object: <br><ul><li>  <b>new MenuItem</b> (String <i>label</i> , Integer <i>id</i> ) - constructor.  Creates a new item with a MenuItem instance with the <i>label</i> name and <i>id</i> code. </li><li>  <b>append</b> (MenuItem <i>childMenuItem</i> ) - adding the <i>childMenuItem</i> item to the <i>submenu</i> . </li><li>  <b>remove</b> (MenuItem <i>childMenuItem</i> ) - removal of the <i>childMenuItem</i> item from the submenu. </li><li>  <b>setDimmed</b> (Boolean <i>flag</i> ) - sets whether to show the menu item or not.  If false, the menu item is not displayed.  If true, the menu item will be shown.  By default, true - show. </li></ul><br><br>  The list of properties of the MenuItem object: <br><ul><li>  <i>onSelect</i> - the event handler of the menu item selection.  Called when a menu item is selected.  Integer <i>id</i> - the code of the selected menu item can also be passed to the handler function. </li></ul><br><br>  Example from documentation: <br><pre> <code class="hljs lua">//   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">menuEventHandler</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(id)</span></span></span></span> { switch (id) { case <span class="hljs-number"><span class="hljs-number">2001</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; case <span class="hljs-number"><span class="hljs-number">2002</span></span>: // -  <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } //    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createMenu</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { //    var optionsMenu = window.menu; //  -   optionsMenu.onShow = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { //   alert(<span class="hljs-string"><span class="hljs-string">'Event Trigger: optionsMenu.onShow'</span></span>); } //     var m1 = new MenuItem(<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-number"><span class="hljs-number">2001</span></span>); var m2 = new MenuItem(<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-number"><span class="hljs-number">2002</span></span>); //  -    m1.onSelect = menuEventHandler; m2.onSelect = menuEventHandler; //       optionsMenu.append(m1); optionsMenu.append(m2); //         var m11 = new MenuItem(<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-number"><span class="hljs-number">3001</span></span>); var m12 = new MenuItem(<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-number"><span class="hljs-number">3002</span></span>); //         <span class="hljs-string"><span class="hljs-string">""</span></span> //       id optionsMenu.getMenuItemById(<span class="hljs-number"><span class="hljs-number">2001</span></span>).append(m11); //        optionsMenu.getMenuItemByName(<span class="hljs-string"><span class="hljs-string">''</span></span>).append(m12); //  -    m11.onSelect = menuEventHandler; m12.onSelect = menuEventHandler; }</code> </pre><br><br><h5>  device </h5><br>  Available as window.device or just device.  In this case, the word device is reserved in WRT and should not be used as the name of a variable or function. <br><br>  This object is present starting with WRT 1.1 and opens up great opportunities to work with Symbian services with just one function. <br><br>  The list of device object methods: <br><ul><li>  <b>getServiceObject</b> (String <i>provider</i> , String <i>interface</i> ) - getting the service object from the provider <i>provider</i> and with the interface <i>interface</i> . <br><table><tbody><tr><td>  <b>Service</b> </td><td>  <b>Provider</b> </td><td>  <b>Interface</b> </td></tr><tr><td>  <a href="http://www.developer.nokia.com/Resources/Library/Web/web-apps/symbian-web-runtime/symbian-web-runtime-api-reference/platform-services-10-javascript-api-reference/platform-services-10-appmanager-api.html">AppManager</a> (application service) </td><td>  Service.AppManager </td><td>  IAppManager </td></tr><tr><td>  <a href="http://www.developer.nokia.com/Resources/Library/Web/web-apps/symbian-web-runtime/symbian-web-runtime-api-reference/platform-services-10-javascript-api-reference/platform-services-10-calendar-api.html">Calendar</a> (calendar service) </td><td>  Service.Calendar </td><td>  IDataSource </td></tr><tr><td>  <a href="http://www.developer.nokia.com/Resources/Library/Web/web-apps/symbian-web-runtime/symbian-web-runtime-api-reference/platform-services-10-javascript-api-reference/platform-services-10-contacts-api.html">Contact</a> (contact service) </td><td>  Service.Contact </td><td>  IDataSource </td></tr><tr><td>  <a href="http://www.developer.nokia.com/Resources/Library/Web/web-apps/symbian-web-runtime/symbian-web-runtime-api-reference/platform-services-10-javascript-api-reference/platform-services-10-landmarks-api.html">Landmarks</a> (service waypoints) </td><td>  Service.Landmarks </td><td>  IDataSource </td></tr><tr><td>  <a href="http://www.developer.nokia.com/Resources/Library/Web/web-apps/symbian-web-runtime/symbian-web-runtime-api-reference/platform-services-10-javascript-api-reference/platform-services-10-location-api.html">Location</a> (geolocation service) </td><td>  Service.Location </td><td>  Ilocation </td></tr><tr><td>  <a href="http://www.developer.nokia.com/Resources/Library/Web/web-apps/symbian-web-runtime/symbian-web-runtime-api-reference/platform-services-10-javascript-api-reference/platform-services-10-logging-api.html">Logging</a> (log service) </td><td>  Service.Logging </td><td>  IDataSource </td></tr><tr><td>  <a href="http://www.developer.nokia.com/Resources/Library/Web/web-apps/symbian-web-runtime/symbian-web-runtime-api-reference/platform-services-10-javascript-api-reference/platform-services-10-media-management-api.html">Media Management</a> (media management service) </td><td>  Service.MediaManagement </td><td>  IDataSource </td></tr><tr><td>  <a href="http://www.developer.nokia.com/Resources/Library/Web/web-apps/symbian-web-runtime/symbian-web-runtime-api-reference/platform-services-10-javascript-api-reference/platform-services-10-messaging-api.html">Messaging</a> ( <a href="http://www.developer.nokia.com/Resources/Library/Web/web-apps/symbian-web-runtime/symbian-web-runtime-api-reference/platform-services-10-javascript-api-reference/platform-services-10-messaging-api.html">messaging</a> service) </td><td>  Service.Messaging </td><td>  IMessaging </td></tr><tr><td>  <a href="http://www.developer.nokia.com/Resources/Library/Web/web-apps/symbian-web-runtime/symbian-web-runtime-api-reference/platform-services-10-javascript-api-reference/platform-services-10-sensors-api.html">Sensors</a> (sensor service) </td><td>  Service.Sensor </td><td>  ISensor </td></tr><tr><td>  <a href="http://www.developer.nokia.com/Resources/Library/Web/web-apps/symbian-web-runtime/symbian-web-runtime-api-reference/platform-services-10-javascript-api-reference/platform-services-10-system-information-api-symbian-wrt-11.html">System Information</a> (system information service) </td><td>  Service.SysInfo </td><td>  ISysInfo </td></tr></tbody></table><br>  If the service is not available on the device, the method will return undefined and raise an exception.  At the first attempt to access the service, the user will be presented with a dialog box asking about granting rights to use the service (‚ÄúDoes the application want to gain access to‚Ä¶ Allow?‚Äù). <br></li><li>  <b>getServicePermissions</b> (Array <i>serviceArray</i> ) - a request from the user for permission to work with services.  The list of services and interfaces is sorted in the format of {"provider": "interface", "provider": "interface", ...}.  Used to get permission to use services from the user in a single dialog box.  Use optional but desirable.  Does not return values, but causes exceptions on error. </li></ul><br>  By itself, the section on using Symbian services in the WRT is quite large, and I will not give it here.  If you find it interesting, I can describe it in a separate article.  In general, the documentation is more or less clear and for each service there is a detailed example of all the functions.  By the way, most functions have synchronous and asynchronous options, so your application will not slow down. <br><br><h3>  <b>Advantages and disadvantages</b> </h3><br>  Pros: <ul><li>  ease of development; </li><li>  the possibility of developing without a device at hand (in the emulator or a web browser); </li><li>  the ability to use a variety of Symbian services; </li><li>  availability of documentation and examples; </li></ul>  Minuses: <ul><li>  Unfortunately, most devices use a rather old version of WebKit, which does not support HTML 5 and CSS 3; </li><li>  Also, on the part of the devices, WRT 1.0 is still used, the functionality of which is extremely low; </li><li>  the documentation is confusing and contradictory in some places, there is no Russian translation. </li></ul>  The pros and cons roughly outweigh each other, and the pros are still slightly larger. <br><br>  By the way, on the same Nokia N9 and Nokia N950, based on MeeGo OS with Nokia Browser 8.5 browser, HTML 5 <a href="http://www.developer.nokia.com/Resources/Library/Web/web-apps/html5-based-web-apps.html">is fully supported</a> - you can, for example, write a game using Canvas, with support for gestures and an accelerometer.  True, there is not already used WRT, and the possibility of HTML 5. <br><br>  Thanks for reading.  I apologize for any errors and I will be glad to give helpful comments. </div><p>Source: <a href="https://habr.com/ru/post/133900/">https://habr.com/ru/post/133900/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../133893/index.html">Square root extraction using normal Markov algorithms</a></li>
<li><a href="../133894/index.html">The complex of devices for automatic fare payment on the basis of a system of long-range RFID identification</a></li>
<li><a href="../133895/index.html">GTV Channel: Steve Jobs Documentary and NEXT. 1986 (Russian translation)</a></li>
<li><a href="../133896/index.html">Kaspersky vs SOPA</a></li>
<li><a href="../133897/index.html">Cross platform is cool</a></li>
<li><a href="../133903/index.html">Optimization of code execution speed</a></li>
<li><a href="../133906/index.html">Anti-rootkit hypervisor: how it works</a></li>
<li><a href="../133907/index.html">Binary compatibility in the examples and not only</a></li>
<li><a href="../133909/index.html">Upgrade viola jones</a></li>
<li><a href="../133910/index.html">Combat rebuilding cache with RED</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>