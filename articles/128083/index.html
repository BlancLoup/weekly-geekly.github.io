<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Smarty vs. Twig: performance</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Smarty is one of the oldest PHP templating engines. If you are programming in PHP - most likely you had to work with it. In 2010, the third version of...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Smarty vs. Twig: performance</h1><div class="post__text post__text-html js-mediator-article">  <a href="http://www.smarty.net/">Smarty</a> is one of the oldest PHP templating engines.  If you are programming in PHP - most likely you had to work with it.  In 2010, the third version of this template was released.  Smarty 3 was written from scratch, with active use of PHP5.  At the same time, Smarty received an updated syntax and modern features, including <a href="">inheritance</a> , <a href="">sandbox</a> , etc. <br>  <a href="http://twig.sensiolabs.org/">Twig</a> is a young template engine from symfony developers.  The authors <a href="http://habrahabr.ru/blogs/php/76021/">position</a> it as a fast and functional template engine.  By its capabilities, it is in many ways similar to Smarty 3. Twig is distinguished by a slightly different syntax, as well as the declared high performance.  Check? <br><a name="habracut"></a><br><h3>  Testing </h3><br>  When testing, we will intentionally use quite complex patterns so that the processing time will be noticeable.  Actually, this time we will evaluate, for which we will prepare the appropriate scripts. <br><br>  The code for Smarty is very simple: <br><pre><code class="php hljs">$data = json_decode(file_get_contents(<span class="hljs-string"><span class="hljs-string">'data.json'</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>);
<span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'smarty/Smarty.class.php'</span></span>);
$smarty = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Smarty();
$smarty-&gt;compile_check = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>;
$start = microtime(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>);
$smarty-&gt;assign($data);
$smarty-&gt;fetch(<span class="hljs-string"><span class="hljs-string">'demo.tpl'</span></span>);
<span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> microtime(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>)-$start;
</code></pre><br>
 Twig  :<br>
<pre><code class="php hljs">$data = json_decode(file_get_contents(<span class="hljs-string"><span class="hljs-string">'data.json'</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>);
<span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'twig/Autoloader.php'</span></span>);
Twig_Autoloader::register();
$loader = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Twig_Loader_Filesystem(<span class="hljs-string"><span class="hljs-string">'templates'</span></span>);
$twig = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Twig_Environment($loader, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(
	<span class="hljs-string"><span class="hljs-string">'cache'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'templates_c'</span></span>,
	<span class="hljs-string"><span class="hljs-string">'autoescape'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>,
	<span class="hljs-string"><span class="hljs-string">'auto_reload'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>,
));
$start = microtime(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>);
$template = $twig-&gt;loadTemplate(<span class="hljs-string"><span class="hljs-string">'demo.tpl'</span></span>);
$template-&gt;render($data);
<span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> microtime(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>)-$start;
</code></pre><br>
    :   ,      .<br>
<br>
<h4>  </h4><br>
   ‚Äî    .          .   ,          ,    .       - .    ‚Äî      .       ,       10000    .<br>
<br>
Smarty:<br>
<pre><code class="html hljs xml">{$var0} {$var1} {$var2} {$var3} {$var4} ...</code></pre><br>
Twig:<br>
<pre><code class="html hljs xml">{{ var0 }} {{ var1 }} {{ var2 }} {{ var3 }} {{ var4 }} ...</code></pre><br>
:<br>
<table>
<tbody><tr>
<th></th>
<th></th>
<th></th>
</tr>
<tr>
<td>Smarty 3.1.1</td>
<td>16.320 .</td>
<td>0.058 .</td>
</tr>
<tr>
<td>Twig 1.2.0</td>
<td>9.757 .</td>
<td>0.083 .</td>
</tr>
</tbody></table>        .  ,          . Smarty       Twig. ,     ,        ,      .    Smarty   ‚âà30%  .<br>
<br>
<h4>     </h4><br>
  -      foreach.    ,    10   1000  .<br>
<br>
Smarty:<br>
<pre><code class="html hljs xml">{foreach $array as $item}
{$item.id} {$item.title} {$item.var1} {$item.var2} {$item.var3} {$item.var4} {$item.var5} {$item.var6} {$item.var5} {$item.var6} 
{/foreach}</code></pre><br>
Twig:<br>
<pre><code class="html hljs xml">{% for item in array %}
{{ item.id }} {{ item.title }} {{ item.var1 }} {{ item.var2 }} {{ item.var3 }} {{ item.var4 }} {{ item.var5 }} {{ item.var6 }} {{ item.var5 }} {{ item.var6 }} 
{% endfor %}</code></pre><br>
:<br>
<table>
<tbody><tr>
<th></th>
<th></th>
<th></th>
</tr>
<tr>
<td>Smarty 3.1.1</td>
<td>0.065 .</td>
<td>0.009 .</td>
</tr>
<tr>
<td>Twig 1.2.0</td>
<td>0.131 .</td>
<td>0.082 .</td>
</tr>
</tbody></table>   :   Smarty    10  ,   Twig!  ,  +  Smarty        Twig.     ,    Smarty   Twig,       ,      .<br>
<br>
<h4></h4><br>
  ‚Äî    .  -      :)  ,         Smarty  Twig.        500 ,   500  ,        ,      500   .       .<br>
<br>
:<br>
<table>
<tbody><tr>
<th></th>
<th></th>
<th></th>
</tr>
<tr>
<td>Smarty 3.1.1</td>
<td>1.329 .</td>
<td>0.002 .</td>
</tr>
<tr>
<td>Twig 1.2.0</td>
<td>2.641 .</td>
<td>0.121 .</td>
</tr>
</tbody></table>Smarty   60  .     ,   ,    . Smarty          ,       .           ! Twig           ,         .<br>
<br>
<h3></h3><br>
   : Smarty  Twig.      ,       .<br>
   . Pentium Dual-Core T4200 (2 GHz), 3GB RAM ‚Äî  .   PHP ‚Äî 5.3.  ,         Smarty  Twig   ,        <a href=""> </a>.</div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/128083/">https://habr.com/ru/post/128083/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../128076/index.html">PIE 1.0 Beta 5 released</a></li>
<li><a href="../128078/index.html">Generate PDF barrels</a></li>
<li><a href="../128079/index.html">setImmediate via MessageChannel</a></li>
<li><a href="../128080/index.html">DOOM Classic and Wolfenstein 3D in source</a></li>
<li><a href="../128082/index.html">SharePoint team manager Richard Riley will visit Moscow and speak at Tech ‚àô Ed Russia 2011</a></li>
<li><a href="../128085/index.html">Launch of RadStudio XE2, Delphi XE2 and other Embarcadero products.</a></li>
<li><a href="../128086/index.html">Conference Symfony Camp UA 2011</a></li>
<li><a href="../128087/index.html">C professional holiday!</a></li>
<li><a href="../128088/index.html">Refactoring a simple PHP application for MODx</a></li>
<li><a href="../128090/index.html">Canobuvosti, 108th edition</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>