<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Using git in flash development</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I began to write this article a long time ago, but I was ahead of it (8. 
 The main idea was to explain to the flasher brothers how to work with git. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Using git in flash development</h1><div class="post__text post__text-html js-mediator-article">  I began to write this article a long time ago, but I was <a href="http://habrahabr.ru/blogs/Git/104198/">ahead of it</a> (8. <br>  The main idea was to explain to the flasher brothers how to work with git.  In the article I tried to describe my personal experience, and not just to list the obvious advantages of git.  Therefore, it will be useful to all. <br><br>  First of all I will be happy with additions and corrections.  And of course questions. <br><br><h2>  What is git </h2><br>  <a href="http://ru.wikipedia.org/wiki/Git">git</a> is a distributed version control system.  It differs from SVN by the lack of need for a central repository (which would still be good to keep) and ease of working with branches (branch).  Initially, I decided to try it at work after reading <a href="http://nvie.com/git-model">this article</a> , which I recommend. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In my company, I was able to transfer client development to git and still have not regretted a minute.  From time to time I come across arguments about which version control system is better, I often have to explain how I still like git. <br><br><a name="habracut"></a><br><h2>  Why git </h2><br>  We all understand that using a version control system is vital.  git in daily use proved to be very good and allowed to solve a number of problems.  I will give the main advantages and "chips". <br><ol><li>  <strong>Distribution</strong> <br>  You can create a repository in a local folder just by writing </li><li>  <strong>Having a stable client</strong> <br>  The development process without branching looks like this: version ... development ... version ... development ... <br>  It can be seen that at each moment of time the presence of a stable version, where you can fix bugs and release, is not guaranteed.  Or rather, it turns out that it is possible to fix a certain caught bug only by completing the development of the current version.  Simple branches in git allow you to get at any time the version of any previous release and work with it without interfering with the ongoing development.  Fix bugs in a separate thread, merge into the previous release and into the current development. </li><li>  <strong>The convenience of use</strong> <br>  git stores all its data in one directory, and does not spawn everywhere .svn folders.  You can switch a project from one branch to another with just one team or a couple of clicks in the client.  At the same time, the contents of the project folder are replaced with a new one, which corresponds to the selected branch.  For different branches do not need to create new folders or projects.  In most cases, Flash Builder will update all classes and recompile dependencies. </li><li>  <strong>There is no need for a permanent connection to the central repository.</strong> <br>  As I have already said, all Comits are saved locally and become part of a common repository only when they are directly pushed into it.  It is difficult to imagine, but sometimes it turns out that there is no access to the Internet, but you need to work.  Or do you usually forget to set up a VPN to a working repository.  Pleases the speed of komitov and the feeling of complete control over the local copy. </li><li> <strong>Convenient partial commits</strong> <br>  Immediately before the commit committee, the files that will be included with <code>git add</code> are marked.  At the same time, there is an opportunity to make part of changes in a file in a separate commit, and not the entire file. </li><li>  <strong>Ability to hide changes.</strong> <br>  There is an interesting opportunity in git - stash uncommitted files and then retrieve them again.  Sometimes it is useful in this way to transfer or temporarily roll back changes, for example, I often forget to switch branches. </li><li>  <strong>Availability of graphic clients.</strong> <br>  For git, there‚Äôs not a big selection of graphical clients.  I liked <a href="http://www.syntevo.com/smartgit/index.html">SmartGit</a> GUI client the most.  It is cross-platform and is available for non-commercial use free of charge.  It has all the necessary functions, but still sometimes you need to get into the Terminal and execute a couple of git commands.  It would be nice to <a href="http://git-scm.com/documentation">understand</a> them.  For Vinda, there is <a href="http://code.google.com/p/tortoisegit/">TortoiseGit</a> , on Mac I used <a href="http://gitx.frim.nl/">GitX</a> for a while, but then it was much worse than SmartGit.  For Eclipse (that is, for Flash Builder) there is an <a href="http://www.eclipse.org/egit/">EGit</a> plugin that I haven‚Äôt liked for a long time.  It will be necessary to return to it again, especially since he has just been updated.  Perhaps this is not a client trick, but part of the git distribution, but nevertheless, I would like to mention another cool display of branches.  In a complex project looks like a map of the subway of New York.  I love such abstract pictures. </li></ol><br><h2>  Todo or what else you need to check </h2><br>  I never bothered to put git-svn and connect git repositories with their svn copies, because we officially use svn in our company, but we could not bear it anymore.  I hope everyone will end up with git and it won't be needed. <br><br>  In the meantime, I offered GitHub as an interesting option for storing projects with access control.  But, you see, corporate securiness, etc. (although the code is stolen right and left without it).  I myself use it for my personal projects.  Comfortable. <br><br><h2>  Installation and Setup </h2><br>  <strong>Git</strong>  <strong>Mac / Linux</strong> <strong><br></strong> <br><br>  First you need to install git itself.  The linuxoids will no doubt figure it out themselves, but most likely they have already installed it.  Makovody can download the distribution from the <a href="http://git-scm.com/download">official website</a> or install via <a href="http://www.macports.org/">MacPorts</a> .  <a href="http://www.macports.org/install.php">How to install MacPorts is</a> also not difficult to figure out. <br><br>  In MacPorts, open the Terminal and enter. <br><blockquote> <code>sudo port</code> </blockquote> <br>  Most likely, it will not allow you to install anything through the admin account, so we call via sudo and enter the password.  Further we look what repositories which are beginning with git are. <br><blockquote> <code>list git*</code> </blockquote> <br>  Something like this will appear on the screen. <br><blockquote> <code>git-core                      @1.7.2.1       devel/git-core <br> GitX                          @0.7.1         devel/GitX</code> </blockquote> <br>  GitX is a GUI client about which I already wrote.  We are also interested in git-core.  To install it, you need to write <br><blockquote> <code>install git-core</code> </blockquote> <br>  You can verify the installation by typing <code>git --version</code> in the console. <br><br>  To access remote repositories you need an SSH key.  Generating it on a Mac <a href="http://kb.siteground.com/article/How_to_generate_an_SSH_key_pair_in_Mac_OS.html">is</a> no problem. <br><br>  <strong>Git</strong>  <strong>Windows</strong> <br><br>  For Windows, there is a <a href="http://code.google.com/p/msysgit/">msysgit</a> port.  Download the latest version and install. <br>  Git is originally foreign to Windows.  There may be some problems with this.  For example, for some time we could not get it to work with remote repositories.  Swore at the ssh key.  Thanks to GitHub for <a href="http://help.github.com/msysgit-key-setup/">solving</a> this problem.  So, do not try to generate a key with Putty.  To generate the correct key you need: <br><ol><li>  Run Git Bash console from Start -&gt; Programs -&gt; Git </li><li>  Run <code>ssh-keygen -t rsa -C "your@email.com"</code> to generate the key </li></ol><br><br>  <strong>GUI client</strong> <br><br>  Now we put my favorite <a href="http://www.syntevo.com/smartgit/index.html">SmartGit</a> .  Very pleased that it is cross-platform. <br><br>  During the installation of SmartGit, if it does not find the .gitconfig file, it will ask for the name and e-mail to be used in the commit information. <br><br>  <strong>Line breaks</strong> <br><br>  When working with the git repository from different operating systems, sooner or later (better sooner) you encounter the problem of <a href="http://en.wikipedia.org/wiki/Newline">line breaks</a> .  The community has not come to a common opinion, but GitHub <a href="http://help.github.com/dealing-with-lineendings/">recommends the</a> following settings: <br><ol><li>  Creating a repository is better not from a Windows machine. </li><li>  On Linux and Mac, set the core.autocrlf parameter to input </li><li>  On Windows, set core.autocrlf to true </li></ol><br>  This is done either by <code>git config --global core.autocrlf true</code> or by editing .gitconfig.  There must be added <br><blockquote> <code>[core] <br> autocrlf = true</code> </blockquote> <br>  With these settings, Mac users will work with LF line breaks and commit LFs to the repository, while Windows users will work with familiar CRLFs, but commit LFs. <br><br>  If you do not immediately configure line breaks, then each time you push most of the files will be marked as changed, although there are no changes to them.  At the same time, such files appear from time to time, they have to manually revert.  Tell me, if anyone knows what can be done with this? <br><br><h2>  Translation of an existing project </h2><br>  This method assumes a complete loss of the history of SVN.  Start, so to speak, from scratch. <br><br>  Make a project <code>svn export</code> to get rid of .svn folders.  Or in the root of the project, run the command <code>find ./ -name ".svn" | xargs rm -Rf</code> <code>find ./ -name ".svn" | xargs rm -Rf</code> <br><br>  If your project consists of several separate Flash Builder subprojects, it makes sense to immediately move them into one folder and create one git repository in it, rather than a separate one for each subproject.  In the future, it will be easier to mark versions of the project as a whole, instead of looking for the desired state for each subproject somewhere in the past.  If you decide to move a folder with a project, it is better to remove it from Flash Builder projects (of course, without deleting the contents of the directory). <br><br>  In the directory with the future git repository, I recommend to immediately create a .gitignore file with the following contents: <br><blockquote> <code>bin <br> bin-debug <br> bin-release</code> </blockquote> <br>  This will tell git to not include compiled project binaries in the repository. <br><br>  Next, launch SmartGit, select Open an existing working tree and specify the folder with the project.  SmartGit will create a new repository in it. <br><br>  Immediately you need to find in the list a .gitignore file, select it, click the Stage button and Commit.  The first commit message let it be something like ‚Äúinitial commit‚Äù.  Now, if you update the current state of the directory, all the files mentioned in .gitignore will disappear.  You do not need them.  Select all the other files, Stage, Commit, in the commit window tick the Amend foregoing commit ... checkbox, thus instead of the new commit you will add the current change to the last one (perhaps you will see many messages LRL in ... - this means that git following the settings changes the ends of lines of files that are added to the repository to the correct LF). <br><br>  Congratulations, you now have your git repository. <br><br>  If you suddenly created a repository before setting the correct settings for line breaks, then follow the <a href="http://help.github.com/dealing-with-lineendings/">instructions of</a> GitHub and run the following script: <br><blockquote> <code># Remove everything from the index <br> $ git rm --cached -r .</code> <br> <br>  # Re-add all files to index <br>  # You should get lots of messages like: "warning: CRLF will be replaced by LF in &lt;file&gt;." <br>  $ git diff --cached --name-only -z |  xargs -0 git add <br><br>  # Commit <br>  $ git commit -m "Fix CRLF" <br><br>  # If unix / Mac OSX clone then optionally remove <br>  correct the line endings. <br>  $ git ls-files -z |  xargs -0 rm <br>  $ git checkout. </blockquote><br>  If you deleted a project from Flash Builder, now is the time to add it again (via File -&gt; Import -&gt; Flash Builder Project) and make sure everything works.  You may have to make some changes, for example in the import paths and configs, if you transferred projects to one folder.  After the changes, do not forget to commit them. <br><br><h2>  Work with the project </h2><br>  If you have not read <a href="http://nvie.com/git-model">this article</a> , I recommend doing it now, because the process described below for working with a project in git is almost completely taken from there.  While writing this article, I still work on Mail.ru and write social game clients on Flash.  Hence some specificity. <br><br>  Since we are using git, we will fully use its main feature - branches.  So, all my projects consist of a set of branches with different functions and a strictly defined algorithm for working with them. <br><ul><li>  <strong>master</strong> - the main branch contains only release versions that are now online.  They are tagged (tag) with the date of filling.  From the few informative version numbers I refused.  If suddenly something breaks on the combat server, we easily switch to master, make a branch from it, fix the bug and merge it back (plus to other branches so that the same bug is not fixed later) </li><li>  <strong>develop</strong> - the main developer branch.  Reflects the stable state of development, which sometime in the future will go into release and will be deleted in the master. </li><li>  <strong>dev- *</strong> - branches for individual features.  Many of them are local and do not fall into the main repository.  They are developing specific new features of the game.  It may be very small changes to one or two commit, or maybe a huge patch that grows a month or more. </li><li>  <strong>fix- *</strong> - local branches of urgent fixes.  Usually appear from master, less often from develop.  Immediately merzhatsya in the right places. </li><li>  <strong>release</strong> - a temporary branch for release, which will be merged into the master and will be deleted.  At the right moment, he fights with develop, and the necessary changes are made to it before pouring. </li></ul><br>  The algorithm works as follows: <br><ul><li>  Practically for every change, a development branch is started up, which will either eventually be developed, or be removed as unnecessary. </li><li>  Branches of more or less large changes go to the central repository, small ones usually remain locally with the developers. </li><li>  I try to control the merging of big features by looking at the changes made.  It is very convenient at this stage to cut off any shit. </li><li>  During preparation for release, a release branch is created, which is then merged into the master.  It makes temporary changes that are not needed anywhere else, for example, ‚Äúwe need to hide this button in this release, because the functionality is not yet ready.‚Äù  At this stage it is better not to have big bugs, because then you have to make a separate branch with fixes of these bugs and constantly switch between it and release. </li><li>  After filling, release merzhitsya in master and is deleted.  The current master state is tagged with a fill date. </li><li>  Development continues. </li></ul><br>  Thus, we always have the source of the current online version, where you can quickly make some changes.  Each developer is busy with his own business and does not dirty his sterile central repository with his dirty experiments.  At the same time, the history of the komits continues to be recorded, which can always be raised if necessary. <br><br><h2>  Problems I encountered </h2><br>  Of course, not everything is as perfect as you might think.  On the way to enlightenment, I nevertheless had to go on a rake, which I will write about below.  Perhaps this information is useful to someone. <br><ol><li>  <strong>Admin Resistance</strong> <br>  I tried several times to explain why we need another version control system, because there seems to be an excellent SVN.  Admins complained that git is difficult to integrate into the existing system of distribution of rights and access control of resources on the network.  This matter did not move from a dead center, I had to keep the ‚Äúcentral repository locally‚Äù. </li><li>  <strong>Peer training</strong> <br>  Colleagues had to be forced to switch to a new version control system, understand how it differs from the usual SVN and learn how to use the new software.  Nothing complicated in fact, but you need to be prepared for subsequent ongoing questions. </li><li>  <strong>The problem of line breaks</strong> <br>  I already wrote about the problem and its solution above, but since it specifically carried out my brain for a while, I could not write about it in the ‚Äúproblems‚Äù section.  <strong>It is very important to fix line breaks at the very beginning of the project when there is only one branch</strong> .  Then it will turn into a solid headache. </li><li>  <strong>Hands from the w‚Ä¶</strong> <strong><br></strong>  As for Unix-like systems and the command line, my hands are obviously growing from the wrong place.  Being a central repository on a Mac for some time, I constantly had to face the following problems related to the fact that I didn‚Äôt set everything up right from the start: locked files and file owners. In some way, the git repository files became locked up so that in any way, they didn‚Äôt want to unlock even from the root itself.  Google prompted a <a href="http://va.lent.in/blog/2010/08/22/in-case-you-need-to-unlock-some-files-on-os-x/">script</a> that recursively unlocks files in a directory. After pushing me from my fellow developers, some files were taken over by nobody, which led to a complete inoperability of the repository.  I had to recursively set the directory every time, like, <code>sudo chmod -R 777 /users/valyard/Work/work/Panda/.git/ <br></code> <code>sudo chmod -R 777 /users/valyard/Work/work/Panda/.git/ <br></code> <br>  In the end, I wrote a script that did these two things on all projects, and ran it from time to time. </li><li>  <strong>Take a closer look at what is going to the repository, and what is not</strong> <br>  Of course, compiled binaries and graphic assets should be immediately added to .gitignore.  We have an ant script in our project to build junk and it is a little different on different machines.  Perhaps it was worth adding there too, but I just made two different scripts: for Windows and for Mac. </li><li>  <strong>Annoying project files</strong> <br>  For some reason, Flash Builder from time to time in the project metadata considers it his duty to move half the lines from top to bottom, which makes him useless, but annoying git when displaying changes.  But, nevertheless, I do not consider project files to be a bad idea. </li><li>  <strong>Problem generating ssh keys on windows</strong> </li><li>  <strong>Dislike flashlers to the console</strong> <br>  As it turned out, flashers do not like to work in the console.  And GUI clients provide only a small part of the git functionality.  Sometimes you have to climb into the command line to perform some kind of operation more complicated. </li></ol><br><h2>  Useful tips </h2><br>  A couple of words at the end. <br><ol><li>  Make sure you understand the differences between git and svn. </li><li>  Try to bring it to the authorities. </li><li>  Find a person who can correctly configure the main git repository. </li><li>  Try to still use the same IDE in the team, then you can commit the project files. </li><li>  Divide the project into several repositories. </li><li>  Do the commits and merzes more often, after all, even such a cool tool like git cannot automatically merge two branches with a two-month history of commits.  Have to sit down to manually poke the buttons. </li><li>  Do not repeat my mistakes. </li><li>  Do not listen to those who scold git. </li></ol><br><h2>  useful links </h2><br><ul><li>  <a href="http://habrahabr.ru/blogs/personal/58418/">Installing</a> a git public server on Mac OS </li><li>  <a href="http://nvie.com/git-model">Project model</a> by which we work </li><li>  Useful <a href="http://git-scm.com/documentation">resources</a> </li><li>  Great <a href="http://progit.org/book/">Pro Git</a> Book </li><li>  <a href="http://www.syntevo.com/smartgit/index.html">SmartGit</a> is my favorite GUI client </li><li>  <a href="http://habrahabr.ru/blogs/Git/104198/">Great article</a> on Habr√© and an excellent <a href="http://github.com/maxim-oleinik/symfony-dev-rules/blob/master/git-cheat-sheet.txt">guide</a> from there </li></ul><br><h2>  Total </h2><br>  But all the disadvantages were blocked by huge advantages.  There were moments when I was ready to kiss my ass for having transferred the project to git, which I wish you (of course, don‚Äôt kiss me in the ass, but transfer the project to git)! <br><br><h2>  PS Questions. </h2><br><ol><li>  <strong>How and who controls the merger with the main branch (master) and is there a mechanism for delimiting the authority to perform such operations?</strong> <br>  Controls the main flasher on the project.  In my projects I do it.  At the git level, I don‚Äôt know if there are any distinctions in the available operations. </li></ol></div><p>Source: <a href="https://habr.com/ru/post/104704/">https://habr.com/ru/post/104704/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../104686/index.html">Beautiful Django configs</a></li>
<li><a href="../104690/index.html">Creating a trial search engine on Sphinx + php</a></li>
<li><a href="../104693/index.html">Latvian information portal</a></li>
<li><a href="../104701/index.html">Phone numbers on various Internet resources</a></li>
<li><a href="../104702/index.html">Meebo updated interface</a></li>
<li><a href="../104706/index.html">VMware View Client in Russian</a></li>
<li><a href="../104712/index.html">Updated Gmail application on the Android Market</a></li>
<li><a href="../104713/index.html">Talismans of Ubuntu and OpenSUSE Versus Mac OS X Talismans</a></li>
<li><a href="../104714/index.html">What is worth cleaning datastore from sessions using Mapper API</a></li>
<li><a href="../104715/index.html">Distributed Internet Name System</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>