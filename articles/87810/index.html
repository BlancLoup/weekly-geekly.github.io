<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Resizing image files XEN Dom-U</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In case you use image files from stacklet.com , everything is quite simple: 
 Turn off the car. Create an empty file of the desired size: 

 dd if=/de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Resizing image files XEN Dom-U</h1><div class="post__text post__text-html js-mediator-article"> In case you use image files from <a href="http://stacklet.com/">stacklet.com</a> , everything is quite simple: <br>  Turn off the car.  Create an empty file of the desired size: <br><br> <code>dd if=/dev/zero of=Tempfile bs=1M count=10010</code> <br> <br>  add this file to the end of the image file, for example: <br><br> <code>cat Tempfile &gt;&gt;ubuntu.9-10.x86.img</code> <br> <br>  and resize the file system partition: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <code>resize2fs -f ubuntu.9-10.x86.img</code> <br> <br>  We start the car and that's it, we got a new partition size. <br>  But if you yourself created a virtual or paravirtual machine. <br><a name="habracut"></a><br>  And the image file contains several sections, for example: <br><br> <code>/dev/sda1 /boot <br> /dev/sda2 swap <br> /dev/sda3 /</code> <br> <br>  do this: <br>  we stop the car, we create an empty file of the necessary size <br><br> <code>dd if=/dev/zero of=zero.img bs=1M count=5000</code> <br> <br>  add this file to the end of the image file <br><br> <code>cat zero.img &gt;&gt;t2.img</code> <br> <br>  then we screw the resulting file into the system and run fdisk <br><br> <code>/sbin/losetup /dev/loop1 /vm/t2.img <br> fdisk /dev/loop1</code> <br>  <b>() delete</b> - delete our partition, in this case / dev / sda3 <br>  <b>() add</b> - add the partition / dev / sda3 with the same beginning, but the new size <br>  save changes <br>  disconnecting the image from the system <br><br> <code>/sbin/losetup -d /dev/loop1</code> <br> <br>  we start our virtual machine and <u>already in it</u> <br><br> <code>resize2fs /dev/sda3</code> <br> <br>  that's all. <br>  A note of a practical nature, I was looking for info in my time, and if everything is without problems in the first variant, then in the second one should be careful not to lose info.  Perhaps someone will be useful. </div><p>Source: <a href="https://habr.com/ru/post/87810/">https://habr.com/ru/post/87810/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../87801/index.html">Log in to IT, or how we decided to build a data center and built it. Part two. Training</a></li>
<li><a href="../87802/index.html">Severe admin Rostransnadzor</a></li>
<li><a href="../87803/index.html">Nival Network raised another $ 4 million</a></li>
<li><a href="../87808/index.html">Worms - alternative games. Part 2</a></li>
<li><a href="../87809/index.html">The central bank will put WM and poison under "normal supervision"</a></li>
<li><a href="../87812/index.html">Introduction to the Rich Domain Model</a></li>
<li><a href="../87814/index.html">How do you feel about cloning / copying someone else's web development?</a></li>
<li><a href="../87815/index.html">Pear Channel @ (Google Code || SourceForge)</a></li>
<li><a href="../87816/index.html">Who do you work for?</a></li>
<li><a href="../87818/index.html">How to hire a programmer with eyes closed</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>