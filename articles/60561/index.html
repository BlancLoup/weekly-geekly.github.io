<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Smarty in the view-driven model</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Usually the Smarty template engine is applied like this: you write code that creates a data set for a template, give it along with the name of a smart...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Smarty in the view-driven model</h1><div class="post__text post__text-html js-mediator-article">  Usually the Smarty template engine is applied like this: you write code that creates a data set for a template, give it along with the name of a smarti template and that ‚Äúconnects brands‚Äù, outputting the result to the browser. <br><br>  This is the so-called model with leading controllers.  That is, the controller is fully responsible for receiving the templating engine and generally commanding everything. <br><br>  There is also a model with leading views.  In it, the view says to the controller, ‚Äúbut give me, dear friend, a list of recent posts,‚Äù after which the controller pulls the model, extracts this list, processes it and gives it to the view (in our case, the template engine). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>  None of these models is the best, in different cases it is convenient to use one or the other.  However, smart-out-of-the-box can work only according to the first scheme.  Teaching him to work more and the second turned out to be quite easy. <br><br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">&lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt;</font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> <ol><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><font color="#008000"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php /** <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li> <code><font color="black"><font color="#008000"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> * index.php <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li> <code><font color="black"><font color="#008000"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> * <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li> <code><font color="black"><font color="#008000"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> * View-driven smarty usage sample <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li> <code><font color="black"><font color="#008000"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> * <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li> <code><font color="black"><font color="#008000"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> * Use {data id="SOMEID" var="TPLVAR"} construction in template <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li> <code><font color="black"><font color="#008000"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> * to fetch data for template. Return of the DataFetcher object <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li> <code><font color="black"><font color="#008000"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> * will be assigned to the variable with TPLVAR name. <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li> <code><font color="black"><font color="#008000"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> * <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li> <code><font color="black"><font color="#008000"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> * DataFetcher object must have function called fetch() with only <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li> <code><font color="black"><font color="#008000"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> * parameter which value will be SOMEID. <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li> <code><font color="black"><font color="#008000"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> * <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li> <code><font color="black"><font color="#008000"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> * Smarty included in this archieve only for your convenience. <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li> <code><font color="black"><font color="#008000"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> * <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li> <code><font color="black"><font color="#008000"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> * Remember: it's just a sample <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li> <code><font color="black"><font color="#008000"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> * <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li> <code><font color="black"><font color="#008000"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> * @copyright (c) Gregory Sitnin, 2009. All rights reserved. <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li> <code><font color="black"><font color="#008000"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> * @author Gregory Sitnin &lt;gregor@gregor.ru&gt; <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li> <code><font color="black"><font color="#008000"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> * <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li> <code><font color="black"><font color="#008000"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> */ $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> &lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> </ol> <code><font color="gray"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">&lt;?php <font color="#008000">/**</font> <font color="#008000">* index.php</font> <font color="#008000">*</font> <font color="#008000">* View-driven smarty usage sample</font> <font color="#008000">*</font> <font color="#008000">* Use {data id="SOMEID" var="TPLVAR"} construction in template</font> <font color="#008000">* to fetch data for template. Return of the DataFetcher object</font> <font color="#008000">* will be assigned to the variable with TPLVAR name.</font> <font color="#008000">*</font> <font color="#008000">* DataFetcher object must have function called fetch() with only</font> <font color="#008000">* parameter which value will be SOMEID.</font> <font color="#008000">*</font> <font color="#008000">* Smarty included in this archieve only for your convenience.</font> <font color="#008000">*</font> <font color="#008000">* Remember: it's just a sample</font> <font color="#008000">*</font> <font color="#008000">* @copyright (c) Gregory Sitnin, 2009. All rights reserved.</font> <font color="#008000">* @author Gregory Sitnin &lt;gregor@gregor.ru&gt;</font> <font color="#008000">*</font> <font color="#008000">*/</font> $config[ <font color="#A31515">'base'</font> ] = dirname(__FILE__); $config[ <font color="#A31515">'tmp'</font> ] = $config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/tmp'</font> ; final <font color="#0000ff">class</font> DataFetcher extends ConfiguratedObject { <font color="#0000ff">function</font> fetch($name) { <font color="#0000ff">return</font> <font color="#A31515">'Hello, World!'</font> ; } } final <font color="#0000ff">class</font> SmartyRender extends ConfiguratedObject { <font color="#0000ff">private</font> $smarty; <font color="#0000ff">function</font> __construct($config) { parent::__construct($config); require_once $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]. <font color="#A31515">'/smarty/Smarty.class.php'</font> ; $ <font color="#0000ff">this</font> -&gt;smarty = <font color="#0000ff">new</font> Smarty(); $ <font color="#0000ff">this</font> -&gt;smarty-&gt;template_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'base'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;compile_dir = $ <font color="#0000ff">this</font> -&gt;config[ <font color="#A31515">'tmp'</font> ]; $ <font color="#0000ff">this</font> -&gt;smarty-&gt;register_function( <font color="#A31515">'data'</font> , array ($ <font color="#0000ff">this</font> , <font color="#A31515">'getDataProxy'</font> )); } <font color="#0000ff">public</font> <font color="#0000ff">function</font> getDataProxy($ <font color="#0000ff">params</font> , &amp;$smarty) { <font color="#0000ff">if</font> (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: id parameter must be set."</font> ); } elseif (!isset($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ])) { $smarty-&gt;trigger_error( <font color="#A31515">"data: var parameter must be set."</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">try</font> { $fetcher = <font color="#0000ff">new</font> DataFetcher($ <font color="#0000ff">this</font> -&gt;config); $smarty-&gt;assign($ <font color="#0000ff">params</font> [ <font color="#A31515">'var'</font> ], $fetcher-&gt;fetch($ <font color="#0000ff">params</font> [ <font color="#A31515">'id'</font> ])); } <font color="#0000ff">catch</font> (Exception $e) { $smarty-&gt;trigger_error( <font color="#A31515">'data: ('</font> .$e-&gt;getCode(). <font color="#A31515">')'</font> .$e-&gt;getMessage()); } } } <font color="#0000ff">function</font> render($template, array $vars = <font color="#0000ff">null</font> ) { $ <font color="#0000ff">this</font> -&gt;smarty-&gt;assign($vars); <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;smarty-&gt;fetch($template); } } final <font color="#0000ff">class</font> App extends ConfiguratedObject { <font color="#0000ff">function</font> run() { $render = <font color="#0000ff">new</font> SmartyRender($ <font color="#0000ff">this</font> -&gt;config); echo $render-&gt;render( <font color="#A31515">'index.tpl'</font> ); } } <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> ConfiguratedObject { <font color="#0000ff">protected</font> $config; <font color="#0000ff">function</font> __construct($config) { $ <font color="#0000ff">this</font> -&gt;config = $config; } } $app = <font color="#0000ff">new</font> App($config); $app-&gt;run(); ?&gt;</font> * This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  An interesting thing happens on lines 41-57.  Using the $ smarty-&gt; register_function () method, I declared a new function of the data template.  When this construct is found in a template, the $ this-&gt; getDataProxy () method of the SmartyRender object is called. <br><br>  The input to the method is a reference to an array of parameters specified in the template and a reference to the smarty object, which operates on the template that called the smarty function. <br><br>  There is no magic like this.  We check the parameters and, if everything is fine with them, then we create an instance of the DataFetcher class.  The result of calling the fetch () method of the DataFetcher object will become a template variable, which you can then use as you like. <br><br>  The template itself in my case looks like this: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">&lt;</font> <font color="#800000">html</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">head</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">title</font> <font color="#0000ff">&gt;</font> View-driven Smarty test <font color="#0000ff">&lt;/</font> <font color="#800000">title</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">head</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">body</font> <font color="#0000ff">&gt;</font> </li><li>  {data id = "test" var = "test"} </li><li>  Fetched: {$ test} </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">body</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">html</font> <font color="#0000ff">&gt;</font> </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br>  The working code of this example (includes Smarty): <a href="">http://gregor.ru/files/blog/vdsmarty.zip</a> </div><p>Source: <a href="https://habr.com/ru/post/60561/">https://habr.com/ru/post/60561/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../60551/index.html">Full-text search on the site - the scourge of the modern Internet</a></li>
<li><a href="../60553/index.html">Ubuntu will run Android apps</a></li>
<li><a href="../60555/index.html">Firefox 3.5 commercial from Mozilla community</a></li>
<li><a href="../60559/index.html">Officially announced Zune HD</a></li>
<li><a href="../60560/index.html">TOP-100 leading studios Runet 2009</a></li>
<li><a href="../60562/index.html">Serverfault.com is launched, analogous to stackoverflow.com for system administrators.</a></li>
<li><a href="../60564/index.html">The last days for voting and submitting applications for the competition of additions to IE8</a></li>
<li><a href="../60568/index.html">The activity of Russian Opera Mini users has more than tripled over the year.</a></li>
<li><a href="../60569/index.html">IBM online seminars June 9-11</a></li>
<li><a href="../60570/index.html">GPS Location Finder - a modern version of bread crumbs.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>