<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>A serious bug with sniper shooting in Team Fortress 2 was fixed ten years later</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When switching between different character classes, the character presentation options are incorrectly updated. Moreover, after switching to the viewe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>A serious bug with sniper shooting in Team Fortress 2 was fixed ten years later</h1><div class="post__text post__text-html js-mediator-article"><iframe width="560" height="315" src="https://www.youtube.com/embed/CLnW4l7amaY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe> <i>When switching between different character classes, the character presentation options are incorrectly updated.</i>  <i>Moreover, after switching to the viewer mode and back, the desynchronization between the presentation and animation parameters begins</i> . <br><br>  Nowadays, popular games are constantly updated.  Only a couple of months I didn‚Äôt launch a licensed toy - and you‚Äôll not be able to start it, because it starts updating right away. <br><br>  Game updates usually fix bugs found.  In AAA games, fixing glitches does not take much time.  Although there are exceptions.  It took almost <i>ten</i> years to find and fix a bug in the popular game Team Fortress 2!  During these years, players complained about glitches of sniper shooting - no one knew why they were happening. <br><a name="habracut"></a><br>  The essence of the bug is stated in the <a href="https://np.reddit.com/r/tf2/comments/5u2s53/tf2_update_for_21417/ddqwdus/%3Fcontext%3D3">message of the</a> user Reddit under the nickname <i>sigsegv__</i> .  According to him, this ‚Äúgiant‚Äù bug was discovered by one of the <i>Nicknine</i> programmers from the TF2 Classic development group.  Then <i>sigsegv__</i> himself reported a finding to Valve, which included the fix in an update of February 14, 2017. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The bug manifests itself when changing character class.  After that, its presentation parameters can be seriously distorted, not coinciding with the character animation on the server.  Specifically, in some cases, the presentation parameters <code>move_x</code> and <code>move_y</code> . <br><br>  Such a discrepancy is well shown in the demonstration videos that <i>Nicknine</i> prepared in January 2017 to demonstrate the bug. <br><br>  <b>Demonstration on the local (listen) server</b> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/tfl8TYQ1pbE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <b>Demonstration on a dedicated server</b> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/CLnW4l7amaY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  When changing the character class, for example, when switching from a soldier to a scout, machine gunner or sniper, his presentation options are incorrectly updated on the server.  That is, the server perceives the presentation parameters of the old skeleton, although the animation is already displayed for the new character. <br><br>  Although the animation does not match the presentation parameters, at first it is normally synchronized with it.  But after switching to the viewer mode and back, the desynchronization occurs.  In this case, the animation moves separately from the skeleton. <br><br>  In fact, your or any other character may actually have a different shape and be in a different place - not where it appears on the screen. <br><br>  What does it mean in a particular game?  First, the enemy can kill you with a random shot when you hid behind a wall (and your skeleton actually still comes out).  Secondly, dishonest cheaters could use this trick to mask the real location of their body.  The visible animated character, it turns out, becomes a kind of immortal phantom that does not respond to bullets.  However, the rassinhron is not so large that this cheat can really be usefully applied. <br><br>  This bug was present in the game since its release in October 2007, that is, more than nine years!  If we take the time to develop and test the game before the official release, then the bug is probably more than ten years old. <br><br>  In the comments to the video with the demonstration bug on YouTube published a more detailed explanation of when it appears.  If you believe this explanation, to repeat the bug, you need to join the server and, as the first character, select a scout, machine gunner or sniper.  Then at any time on this server you need to change this character to a soldier, arsonist, demolition man, engineer, medic or spy.  In this case, the presentation options on the server will be distorted, not coinciding with the animation. <br><br>  The bug also manifests when changing the character back.  If you first create a class soldier, arsonist, demolition man, engineer, medic or spy on the server.  And then change it to a scout, machine gunner or sniper. <br><br>  Changing the class back, choosing another character or dying <i>doesn't fix the bug</i> .  Switching to viewer mode does not help either.  Moreover, in this case, with a reverse transition, even a strong out of sync with the animation can begin. <br><br><h1>  Cause of bug </h1><br>  Replacing the presentation parameters <code>move_x</code> and <code>move_y</code> is explained by the fact that for a scout, machine gunner or sniper the list of presentation parameters is in one order, and for characters of a soldier, arsonist, demolition man, engineer, medic and spy - in a different order. <br><br>  By the way, robots in the cooperative mode of the game ‚ÄúMann vs. Machines‚Äù have much more serious mutations, because robots have more parameters to replace than <code>move_x</code> and <code>move_y</code> . <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/73b/722/cb0/73b722cb084913e41d7118ee45462f4f.png"><br>  <i>Robot view options in MvM mode</i> <br><br>  For example, below is a demonstration of the bug in MvM mode. <br><br>  <b>Scout robot</b> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/Yf8NIwImkdE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <b>Robot engineer</b> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/uF6aY-lsofI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Bots respawn through game slots by the same mechanism as human players change a character, so the bug manifests itself automatically. <br><br>  By the way, on the Valve forums for many years, players complained about sniper shooting bugs - it seems to be aiming at the head, but a shot past.  Headshots are completely random.  These complaints about headshots ( <a href="http://forums.steampowered.com/forums/showthread.php%3Ft%3D2679343">from 2012</a> , <a href="http://steamcommunity.com/app/440/discussions/0/540744937531892222/">from 2014,</a> <a href="http://www.escapistmagazine.com/forums/read/9.338118-I-am-so-sick-of-TF2-and-Valve">from 2012</a> ) were considered to be paranoid delusions of disgruntled losers who are trying to justify their defeat. <br><br>  10 years after the game was released, the bug was fixed.  It took developers a couple of minutes (or seconds), probably. </div><p>Source: <a href="https://habr.com/ru/post/373181/">https://habr.com/ru/post/373181/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../373167/index.html">YAMAHA Way (# 1): Kendo with Tuning Fork</a></li>
<li><a href="../373171/index.html">A small Bluetooth adapter turns any headphones into wireless</a></li>
<li><a href="../373175/index.html">Control of cash transactions or how we became friends with David Yan</a></li>
<li><a href="../373177/index.html">UFO mission STS-75</a></li>
<li><a href="../373179/index.html">Nokia 150: ideological successor to the Nokia 3310</a></li>
<li><a href="../373183/index.html">Electric power transmission without wires - from the beginning to the present</a></li>
<li><a href="../373185/index.html">Hasselblad True Zoom photomodule for Moto Z: what is it for and what is it capable of?</a></li>
<li><a href="../373187/index.html">Google again uncovered unclosed vulnerability in Windows</a></li>
<li><a href="../373189/index.html">Through Nuclear Glass: Moon and Bomb</a></li>
<li><a href="../373191/index.html">We balance on the verge of reasonable with Lenovo Y520</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>