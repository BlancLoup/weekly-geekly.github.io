<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>PHDays HackBattle: breaking one by one</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In May, the HackBattle competition was held for the first time at the conference on practical information security Positive Hack Days VII. On the firs...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>PHDays HackBattle: breaking one by one</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/web/23d/71c/bee/23d71cbeee5741ec943274f955838946.jpg"><br><br>  In May, the HackBattle competition was held for the first time at the conference on practical information security Positive Hack Days VII.  On the first day of PHDays, visitors could take part in qualifying competitions, and two participants who completed the most tasks in the shortest time reached the final of HackBattle, which took place on the second day of the conference on the main stage.  In this article, we will describe how the competition took place, and we will also offer everyone to try their hand at the tasks that were used in the competition. <br><a name="habracut"></a><br><h3>  Selection </h3><br>  Since the final of the competition was to take place on the main stage under conditions of limited time, as well as under the close supervision of a professional public, we needed people who did not give up on the fact that thousands of eyes were fixed on them and would be able to solve the problem in adequate time. <br><br>  To find such hackers, we decided to use the format of qualifying competitions based on CTF type tasks, but with a time limit of 25 minutes.  For the selection of 9 tasks were prepared, ranked by level of complexity.  At the same time, we tried to select such tasks, the scenarios of which are encountered in the course of real pentest. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Each guest of the conference had the opportunity to once participate in the qualifying competition, after registering.  It was possible to participate only from workstations provided by the organizers.  The first visitor who wished to take part in the competition appeared literally in the first minutes of the forum, and the total number of hackers who participated in the selection of HackBattle was 97 people! <br><br><img src="https://habrastorage.org/web/8b9/06b/159/8b906b1592f44cdf84aed7b32999f18d.png"><br><br><h3>  The final </h3><br>  The state of affairs in the selection table changed throughout the first day of the conference, and only in the evening there were two participants entrenched there who reached the final.  They became Vlad ‚Äúvos‚Äù Roskov and Omar ‚ÄúBeched‚Äù Ganiev. <br><br><img src="https://habrastorage.org/web/bdd/6ba/211/bdd6ba21120d460b9a1bde9d6651a040.jpg"><br><br>  The final took place on the second day, on the main stage of PHDays.  Everything that happens on the monitors of the two hackers finalists was broadcast on a big screen, with professional comments from information security experts: <br><br><img src="https://habrastorage.org/web/782/2f6/46b/7822f646b32e470d9ca3035664b61b6c.jpg"><br><br>  The finalists were asked to attack the same infrastructure.  According to legend, it was the security department of a fictional city: <br><br><img src="https://habrastorage.org/web/850/b98/2ea/850b982ea5824eefae997b4071099040.png"><br><br>  The task consisted of three stages: the first two had to attack the web application in order to first get into the application administration panel, and then be able to execute commands with the web server rights.  At the third stage, it was necessary to elevate privileges to root and launch a bash script.  According to the legend of the game, he activated the siren in the department building.  Separately, it is worth noting that the passage of the task was not linear, each stage could be overcome in several ways, which our finalists showed. <br><br>  The battle was hot, until the last moment it was unclear exactly who will come to the finish line first!  The full version of the final can be viewed at <a href="https://www.phdays.com/broadcast/">www.phdays.com/broadcast/</a> , May 24, part 2 mix stream from 2:00:00.  If you do not want to know the winner ahead of time, then do not read further until you look at the record. <br><br><img src="https://habrastorage.org/web/d94/781/fa8/d94781fa895e4afa9fd386fd363d23c2.jpg"><br><br>  The winner was <b>Vlad ‚Äúvos‚Äù Roskov</b> !  After the contest, we took a small interview from the finalists to share their impressions of HackBattle. <br><br>  <b>Vlad ‚Äúvos‚Äù Roskov</b> : <br><br>  ‚Äú <i>I love the hack battles one on one, the guys came up with a cool format for the show with the final battle on the stage.</i>  <i>Respect for diverse task.</i>  <i>Bechedu is also a respectable, worthy rival :)</i> <i><br><br></i>  <i>This time there was only one duel, in which the top 2 were selected according to the number of decisions for the first day - it would be cool next time to build a tournament grid and do all the battles one-on-one</i> . ‚Äù <br><br>  <b>Omar ‚ÄúBeched‚Äù Ganiyev</b> : <br><br>  ‚Äú <i>I have already had the opportunity to compete in a similar format in a more modest setting - at the RuCTF conference.</i>  <i>In general, this is the most exciting format for viewers and a very interesting format for participants.</i>  <i>The difficulty for the organizers is to hold a competition without flaws in the infrastructure, and most importantly, to make tasks such that they are really solved in a short time (10‚Äì30 minutes).</i>  <i>The result is a dynamic competition for speed, which demonstrates the audience‚Äôs approaches to solving problems.</i> <i><br><br></i>  <i>The authors of HackBattle just managed to maintain such a balance and make tasks that are solved in different ways and allow participants to choose their own path.</i> <i><br></i>  <i>Another plus for the participants is that the competition takes very little time, so you can warm up and get distracted at the conference.</i>  <i>I‚Äôm happy to take part again and recommend to think about scaling battles into tournament format - so that not only two people can fight in the final.</i>  <i>A similar competition <a href="https://forallsecure.com/blog/2016/05/24/live-streaming-security-games/">Rapid Fire</a> was conducted by ForAllSecure</i> . ‚Äù <br><br>  <b>Tasks for the contest: try it yourself</b> <br><br>  The tasks for the selection and the final can be downloaded in the OVA format: <br><br>  <a href="http://static.ptsecurity.com/phdays/2017/hackbattle/creds.txt">http://static.ptsecurity.com/phdays/2017/hackbattle/creds.txt</a> - access to virtual machines <br>  <a href="">static.ptsecurity.com/phdays/2017/hackbattle/1.ova</a> <br>  <a href="">static.ptsecurity.com/phdays/2017/hackbattle/2.ova</a> <br>  <a href="">static.ptsecurity.com/phdays/2017/hackbattle/3.ova</a> <br>  <a href="">static.ptsecurity.com/phdays/2017/hackbattle/4.ova</a> <br>  <a href="">static.ptsecurity.com/phdays/2017/hackbattle/5.ova</a> <br>  <a href="">static.ptsecurity.com/phdays/2017/hackbattle/6.ova</a> <br>  <a href="">static.ptsecurity.com/phdays/2017/hackbattle/7.ova</a> <br>  <a href="">static.ptsecurity.com/phdays/2017/hackbattle/8.ova</a> <br>  <a href="">static.ptsecurity.com/phdays/2017/hackbattle/9.ova</a> <br>  <a href="">static.ptsecurity.com/phdays/2017/hackbattle/FINAL.ova</a> <br><br>  Tasks vary greatly in complexity.  An analysis of one of them (No. 3 by reference), for the solution of which a modest 100 points were relied upon, can be found below.  Of course, this spoiler should not be read to anyone who wants to try to solve this problem on their own. <br><br>  <b>Review task number 3</b> <br><br>  When clicking on the link, the participant saw a web application with a welcome message ‚Äú <b>User 1</b> , you have been successfully logged in.‚Äù: <br><br><img src="https://habrastorage.org/web/164/984/ebe/164984ebe4c640a2a59442f9c796b07f.png"><br>  When you click on the link ‚ÄúMy profile‚Äù, the User 1 profile page opens: <br><img src="https://habrastorage.org/web/42b/e2d/01b/42be2d01b7234602b382f1f287705a6f.png"><br><br>  The message in the Flag line unequivocally said that the flag is not here. <br><br>  The profile link was ‚Äú/ profile / 1‚Äù, if you try to follow the link ‚Äú/ profile / 2‚Äù, then the User 2 profile was displayed: <br><br><img src="https://habrastorage.org/web/65e/1be/a16/65e1bea16cc14a23baf30d9db7e16659.png"><br><br>  Unfortunately, there was no flag here either, but it is obvious that there is an IDOR vulnerability.  Let's iterate over the first 100 id using Burp Intruder: <br><br><img src="https://habrastorage.org/web/0b7/235/6a3/0b72356a344c437abb53d2737b1e4cf6.png"><br><br><img src="https://habrastorage.org/web/5cd/eda/dce/5cdedadce3bc4b4681ef7334e03aacf6.png"><br><br><img src="https://habrastorage.org/web/bb2/e18/283/bb2e1828383f438cbf0c915a598f245e.png"><br><br>  On id 72 we see an anomaly in the Length column, go: <br><br><img src="https://habrastorage.org/web/a36/12f/839/a3612f839e0d4faea1a1994a53523937.png"><br><br>  This is what you need!  And the flag now looks quite realistic. <br><br>  Authors: <b>Alexander Morozov, Anatoly Ivanov, Anna Vekhteva, Positive Technologies</b> </div><p>Source: <a href="https://habr.com/ru/post/332492/">https://habr.com/ru/post/332492/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../332482/index.html">We rewrite the home project on microservices (Java, Spring Boot, Gradle)</a></li>
<li><a href="../332484/index.html">Growing up on Python problems</a></li>
<li><a href="../332486/index.html">Programming and martial art: what is common?</a></li>
<li><a href="../332488/index.html">New pack of Otus coding Owl stickers</a></li>
<li><a href="../332490/index.html">The main problem of CG in Russia and the first step towards its solution</a></li>
<li><a href="../332494/index.html">Postquantum reincarnation of the Diffie-Hellman algorithm: probable future (isogeny)</a></li>
<li><a href="../332496/index.html">Big Data at Raiffeisenbank</a></li>
<li><a href="../332500/index.html">Core ML Testing and Review</a></li>
<li><a href="../332502/index.html">Linux log files in order</a></li>
<li><a href="../332504/index.html">Who owns the data generated by devices from the Internet of things?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>