<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The use of procedural generators in creating content for real-time 3D applications: Part 2. Valley Benchmark</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Valley Benchmark   

 This is the second and final part of an article on procedural methods for producing content for 3D applications. The first part ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The use of procedural generators in creating content for real-time 3D applications: Part 2. Valley Benchmark</h1><div class="post__text post__text-html js-mediator-article"><h6>  Valley Benchmark </h6> <a href=""><img src="https://habrastorage.org/storage2/e3a/e76/a17/e3ae76a1712ccbc5084fadcf52b9b35b.jpg"></a> <br><br>  This is the second and final part of an article on procedural methods for producing content for 3D applications.  The first part you can find <a href="http://habrahabr.ru/company/unigine/blog/167075/">here</a> . <br><br>  In this part, as well as in the previous one, there are links to downloading the source materials we created, which can be freely used (with or without changes) in our projects, but only not to sell / distribute in pure form and / or as part of or libraries. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      We remind that all these source files were not subjected to any special preparation, processing or optimization in order not to embellish the real situation (quite often in the process of work one has to sacrifice the versatility / convenience of the created solutions in favor of saved time). <br><br>  This time we will talk about what tools and techniques we used to create the Valley benchmark in order to produce a large amount of photo-realistic content in the shortest possible time. <br><a name="habracut"></a><br>  You can evaluate what we have done <a href="http://www.unigine.com/products/valley/">here by</a> downloading the benchmark for free or simply by viewing the video: <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/ZMVz3oUCagw%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700190,15700253&amp;usg=ALkJrhhBx1uinAPgMcj0uQU71qQmTLiVwg" frameborder="0" allowfullscreen=""></iframe><br><br>  So, while working on this project, we were faced with the task of creating the most realistic Siberian mountain valley with dimensions of 8 x 8 kilometers with a large variation in the scale of the objects created (from mountain to flower in the meadow) and a high level of detail. <br><br>  Before proceeding directly to production, we smashed all the necessary content according to the principles of the approach to its creation: <br><ol><li>  meshes and textures of stones, trees, grass, flowers, etc. </li><li>  landscape (and masks of various objects spreading over it) </li><li>  textures for specific effects, some natural phenomena and objects </li></ol><br>  If the content specified in the first paragraph is created in most cases by any familiar means of 3D modeling and texturing, then the items listed in paragraphs 2 and 3 require special approaches, in which procedural generation tools were used. <br><br>  For example, the <a href="http://www.world-machine.com/">World Machine</a> program was used as a specialized tool for generating landscapes and object distribution masks, and the <a href="http://www.filterforge.com/">Filter Forge</a> program was used to create: <br><ul><li>  <a href="https://habr.com/ru/company/unigine/blog/184614/">cloud textures</a> </li><li>  <a href="https://habr.com/ru/company/unigine/blog/184614/">moss textures</a> </li><li>  wind dust effect </li><li>  luminous dust effect </li><li>  <a href="https://habr.com/ru/company/unigine/blog/184614/">dirty lens effect (Lens Flares Dirt)</a> </li></ul><br clear="all"><br clear="all"><a name="clouds"></a><h1>  Clouds </h1><h6>  Billboard clouds in the benchmark Valley </h6> <a href=""><img src="https://habrastorage.org/storage2/47c/06c/c53/47c06cc5362c6d8f432c2ed9720b7397.jpg"></a> <br><br>  In the Unigine engine there are tools for simulating both physically correct dynamically changing clouds (physically-based volumetric clouds) and creating static clouds of the desired shape in the required places (billboard clouds). <br><br>  The tool for creating billboard clouds allows you to form an array of billboards (billboard is a polygon that is always sent to the camera) randomly, filling them with the initial bounding mesh according to specified parameters (for example, such as number, base size, size variation) , and further manipulate all the parameters until the position of any individual billboard is changed. <br><br><h6>  Setting the parameters of the Billboards object in the Unigine engine </h6> <a href=""><img src="https://habrastorage.org/storage2/004/955/b9d/004955b9dba3644b089a4481313d7517.jpg"></a> <br><br>  To turn the resulting array of polygons into clouds, a special material is assigned to it, taking into account the light from a global light source (the sun), as well as light scattering.  This material assigns a diffuse texture consisting of several separate semi-transparent cloud fragments, which are randomly assigned to each individual billboard. <br><br>  The diffuse texture of the cloud fragments was created by the procedural tools of the Filter Forge editor. <br><br><h6>  Mesh, in the volume of which cloud billboards are generated (above) and diffuse cloud texture (below) </h6> <a href=""><img src="https://habrastorage.org/storage2/6fc/a6b/615/6fca6b6153292e5cbeb937eb79803d8c.jpg"></a> <br><br> <a href=""><img src="https://habrastorage.org/storage2/f77/bd6/94e/f77bd694ebeb204506820849b93926c1.jpg"></a> <br><br>  <a href="http://unigine.com/content/download/habr_article2/clouds_variation.ffxml">Download clouds_variation.ffxml</a> <br><br clear="all"><br clear="all"><a name="moss"></a><h1>  Moss on stones </h1><h6>  Moss on the rocks at the benchmark Valley </h6> <a href=""><img src="https://habrastorage.org/storage2/280/8bb/246/2808bb246cf0eee79419e02684f0336b.jpg"></a> <br><br>  To create moss on stones in Unigine, a special material is used, which allows you to combine 2 materials, one of which is projected onto the second mask in world space. <br><br><h6>  Moss Material Parameters </h6><a href=""><img src="https://habrastorage.org/storage2/884/6a0/4e7/8846a04e7b3d79f43e9f88ce16a2f238.jpg"></a> <br><br>  The convenience of this material is difficult to overestimate, because if you just bake the moss in the texture of the stones, we immediately lose the opportunity to freely rotate (on all three axes) and position these stones on the landscape (I want the moss to lie only on top of the stones), and also lose the necessary the randomness of a simulated natural object, which will immediately be noticeable and, in general, will have a bad effect on the realism of the resulting image. <br><br>  The shape of the moss fragments is determined by two textures - a coarse but unique for the entire surface of the landscape mask and a detailed, but repetitive (due to tiling) alpha channel of the diffuse texture.  These two initial transparency values ‚Äã‚Äãare multiplied together, and the result is a detailed, unique moss pattern at each point on the surface. <br><br>  All textures (including the normal map) and the mask for this natural object were generated in Filter Forge. <br><br><h6>  Diffuse (top), normal (middle), irregularity (bottom) moss textures </h6> <a href=""><img src="https://habrastorage.org/storage2/d99/c62/646/d99c6264668abef50c072593a066a6a8.jpg"></a> <br><br> <a href=""><img src="https://habrastorage.org/storage2/134/74a/11d/13474a11d244827ff8411487d4e5db92.jpg"></a> <br><br> <a href=""><img src="https://habrastorage.org/storage2/e5e/e75/c71/e5ee75c711531a418adda50ad6a89e39.jpg"></a> <br><br>  <a href="http://unigine.com/content/download/habr_article2/moss.ffxml">Download moss.ffxml</a> <br><br>  With this material, it is also easy to simulate rust, corrosion or mold on objects. <br><br clear="all"><br clear="all"><a name="lens_flares_dirt"></a><h1>  Lens Flares Dirt </h1><h6>  Effect of Lens Flares Dirt in action </h6> <a href=""><img src="https://habrastorage.org/storage2/239/c01/582/239c01582cae5909a683e5f8580a257e.jpg"></a> <br><br>  In the Unigine engine there is an effect simulating the illumination of the lens of a camera lens with bright light sources.  Since in reality there are no perfectly clean and even lenses, and the presence of even tiny motes on them causes quite characteristic visual artifacts during illumination, for more realism we added the ability to use the lens pollution texture, which appears only on its very exposed areas. <br><br>  The necessary texture for this effect was easier and more convenient to implement with Filter Forge, which was done. <br><br><h6>  Texture used to create a dirty lens effect. </h6> <a href=""><img src="https://habrastorage.org/storage2/2c3/330/84d/2c333084dec5ad3e8230a0a780b5e998.jpg"></a> <br><br>  <a href="http://unigine.com/content/download/habr_article2/lens_dirt.ffxml">Download lens_dirt.ffxml</a> <br><br clear="all"><br clear="all"><h1>  Landscape </h1>  Creating large outdoor scenes is quite challenging, both in terms of rendering the landscape and the many objects on it in real time, and in terms of creating content for such scenes. <br>  Unigine for these purposes, there are many tools that allow you to: <br><ul><li>  create suitable for real-time rendering landscapes of arbitrarily large sizes (in addition to the toolkit, asynchronous data loading implemented in the engine) </li><li>  procedurally distribute arrays of objects in the landscape by masks </li><li>  form clouds, stars, rain, ocean, adjust atmospheric scattering, etc. </li></ul><br>  Before creating content for large open spaces, it is recommended to collect as many reference materials as possible with photographs of the terrain that you want to implement.  Useful as ground shots, and aerial photography.  Analyzing the collected reference materials, it is necessary to understand the processes involved in the formation of the earth's surface - working in procedural landscape generators requires an understanding of such things in order to achieve the best result. <br><br>  The landscape in the Unigine engine is an object that dynamically changes the level of detail of its mesh and textures, depending on the degree of remoteness of the camera for optimal performance with a large visual range (more than 40 kilometers). <br><br><h6>  Landscape object with dynamically changing detail </h6> <a href=""><img src="https://habrastorage.org/storage2/bc8/b75/4f5/bc8b754f52348a5cda9ded7bff6fbe97.jpg"></a> <br><br>  To create a landscape in the Unigine engine, you must have the following source textures: <br><ul><li>  height map (height map) - 16-bit grayscale texture, which describes the relief (height of each point of the landscape) </li><li>  diffuse map - the texture that defines the base color </li><li>  material mask ‚Äî a texture that defines areas of detail for a particular material (see below) </li></ul><br>  A normal map is not required, because it is created by the engine tools automatically on the height map. <br><br>  For detailing the landscape, additional materials are used, the textures of which are tiled across its entire surface, and the degree of blending of these materials is given by the mask.  In this way, the desired character of the surface is transmitted in the right places, be it grass, sand, stones or any other type of surface. <br><br>  To create the above source textures, there are specialized landscape generator programs.  One such program is World Machine. <br><br clear="all"><br clear="all"><h1>  World machine </h1>  This program, like any other, is not without flaws, but was chosen by us among others (see the list at the end of the article) for a number of reasons, including the quality of the result, the node architecture and the rich set of functions we need.  Separately, it is worth noting the ability to selectively calculate small areas of landscape textures (to save computation time), due to which it becomes possible to quickly iterate when working through the details, which is always a huge plus, thanks to which the quality of the generated content will noticeably increase. <br><br>  The process of creating landscape textures is divided into three stages: <br><ul><li>  <a href="https://habr.com/ru/company/unigine/blog/184614/">creating basic landscape textures</a> </li><li>  <a href="https://habr.com/ru/company/unigine/blog/184614/">creating landscape detail</a> <a href="https://habr.com/ru/company/unigine/blog/184614/">masks and object distribution masks</a> </li><li>  <a href="https://habr.com/ru/company/unigine/blog/184614/">creating a diffuse landscape texture</a> </li></ul><br>  For each stage, a graph is created in World Machine, and each next stage uses the results of calculations of the previous one.  Of course, World Machine is quite a smart program and when changing node parameters, unlike Filter Forge, it recalculates only the branch of the graph that is affected by these changes, but when you reopen the file, this miscalculation is carried out completely from the very beginning.  And since, for example, the calculation of the results of erosion is rather complicated, then by splitting into different stages, in addition to the convenience of work, we also get saved time. <br><br clear="all"><br clear="all"><a name="terrain_base"></a><h3>  Creating basic landscape textures </h3><br><h6>  The graph in the World Machine, which forms all the basic textures of the landscape </h6> <a href=""><img src="https://habrastorage.org/storage2/0c5/e33/183/0c5e33183be43e364818d49bb15acd40.jpg"></a> <br><br>  <a href="">Download terrain_height.tmd</a> <br><br>  At the very basis of the graph that forms the landscape, there are three noise generators with different scales, the results of calculations of which are combined to form, respectively, large, medium and small elements of the base surface: <br> <a href=""><img src="https://habrastorage.org/storage2/3fc/3f8/b2e/3fc3f8b2eabdf18caf9c00519b4718db.jpg"></a> <br><br>  Closer to the depressions, the hilly character of the surface prevails, which is recreated by the expansion of the areas around the mountains with a filter (and in the World Machine terminology, a device) Expander: <br> <a href=""><img src="https://habrastorage.org/storage2/a38/26e/d1a/a3826ed1af7568d6d22d30969422a752.jpg"></a> <br><br>  Next to the resulting hills are added small detailed rocks - the remnants of the mountains after erosion: <br> <a href=""><img src="https://habrastorage.org/storage2/a0c/ea8/3b9/a0cea83b940d86c11e55210167fb15a5.jpg"></a> <br><br>  Terrace devices add ledges, then noisy to eliminate the regularity of the effect and limit their height and angle to the surface: <br> <a href=""><img src="https://habrastorage.org/storage2/170/635/430/1706354307d5f7ccff035864620bda2e.jpg"></a> <br><br>  Erosion is added.  This is the most significant device in the World Machine, which is designed to simulate the processes of destruction and displacement of soil under the influence of water, wind and temperature.  Without it, the entire landscape would remain just a distant set of mixed procedural noises. <br> <a href=""><img src="https://habrastorage.org/storage2/495/f15/8a8/495f158a86678fa4d2bdd5af23155c70.jpg"></a> <br><br>  Wave undulations are added.  Under the influence of gravity and erosion processes, the ground tends to slide from inclined surfaces to lowlands, but due to the large number of tree and plant roots in it, this sliding occurs in whole arrays, which visually manifests through folds on the surface of the earth.  To form and work out this effect in more detail in World Machine helps the ability to calculate the results of only a specified part of the landscape (through the installation of the necessary Extents): <br> <a href=""><img src="https://habrastorage.org/storage2/501/e0c/391/501e0c39144dde253159e05fcb786856.jpg"></a> <br><br>  Snow is added to the tops of the mountains.  This is mainly done by the Snow device, which allows you to simulate the effect of snow accumulation, taking into account such parameters as intensity, quantity, wind direction, etc. <br> <a href=""><img src="https://habrastorage.org/storage2/0c0/8ae/364/0c08ae3647e09d31b87db887e6e242da.jpg"></a> <br><br>  The results obtained at this stage are rasterized by means of World Machine and saved to files.  The result is a height map, an erosion map, and a snow cover thickness map. <br><br><h6>  Elevation map (above), erosion map (middle), snow cover thickness map (below) </h6> <a href=""><img src="https://habrastorage.org/storage2/bc8/f34/6c1/bc8f346c1eccddfeaa28ddde8244ed0a.jpg"></a> <br><br> <a href=""><img src="https://habrastorage.org/storage2/c58/d68/605/c58d68605367598392b2af1673e1e4c2.jpg"></a> <br><br> <a href=""><img src="https://habrastorage.org/storage2/9e0/c2c/da3/9e0c2cda30cd6c1e04200e94ddea7141.jpg"></a> <br><br clear="all"><br clear="all"><a name="terrain_detail_mask"></a><h3>  Creating landscape detail masks </h3><br>  In the Valley benchmark, 4 materials were used for landscape detailing, which convey the following types of surfaces: <br><ul><li>  <a href="https://habr.com/ru/company/unigine/blog/184614/">snow (snow mask)</a> </li><li>  <a href="https://habr.com/ru/company/unigine/blog/184614/">stones (boulders mask)</a> </li><li>  <a href="https://habr.com/ru/company/unigine/blog/184614/">grass (grass mask)</a> </li><li>  <a href="https://habr.com/ru/company/unigine/blog/184614/">rock (rock mask)</a> </li></ul><br>  Masks that determine the visibility of the materials of these surfaces on the landscape are also created in World Machine from the textures obtained at the previous stage. <br><br><h6>  The graph in the World Machine, which forms all the necessary masks </h6> <a href=""><img src="https://habrastorage.org/storage2/288/216/9a8/2882169a8af981ce572e23f7aef6a628.jpg"></a> <br><br>  <a href="">Download terrain_masks.tmd</a> <br><br><a name="snow_mask"></a><h4>  Snow mask </h4><br><h6>  Snow mask on the landscape </h6> <a href=""><img src="https://habrastorage.org/storage2/4d1/79a/446/4d179a446dfd3959db11c737ab165043.jpg"></a> <br><br>  The snow mask is formed in such a way that the intensity of the original snow cover thickness map determines the size and number of pieces of snow (the darker the pixel of the original texture - the smaller the number and size of the pieces). <br><br><a name="boulders_mask"></a><h4>  Stone mask </h4><br><h6>  Mask spreading stones on the landscape surface </h6> <a href=""><img src="https://habrastorage.org/storage2/a1e/fd1/c86/a1efd1c8630f12e49c7ded5032e078a6.jpg"></a> <br><br>  An erosion map shows how streams of soil eroded flow down.  To obtain a mask of stones, places with a large slope of the landscape are removed from it (as a rule, stones do not linger on such surfaces) and areas with a slight slope are removed at low heights (small sedimentary rocks, soil and soil dominate in these places). <br><br><a name="grass_mask"></a><h4>  Grass mask </h4><br><h6>  Mask spreading grass on the surface of the landscape </h6> <a href=""><img src="https://habrastorage.org/storage2/09f/2b6/a9c/09f2b6a9ca6e75222378844c5e4f6c5b.jpg"></a> <br><br>  For this mask, heights are excluded from which the snow cover already begins. <br><br>  In nature, grass grows on the soil, which in turn does not linger on rocky and steep surfaces - respectively, places with a large slope are excluded from the height map. <br><br>  From the map of erosion, information is obtained about the places of sediment slipping.  At certain heights, where this rock is more active (rolling down and sliding boulders), the grass grows less active.  All this is also taken into account when forming a grass spread mask. <br><br><a name="rock_mask"></a><h4>  Mask of the rocks </h4><br><h6>  The mask of the rocky surface on the landscape </h6> <a href=""><img src="https://habrastorage.org/storage2/4e0/1e9/18e/4e01e918e3104ddc7b88aaf8d4ec7785.jpg"></a> <br><br>  The map of rocks turns out an exception of all other masks. <br><br clear="all"><br clear="all"><a name="terrain_distribution_mask"></a><h3>  Creating object distribution masks </h3><br><h4>  Tree masks </h4><br><h6>  Mask distribution of fir trees on the surface of the landscape </h6> <a href=""><img src="https://habrastorage.org/storage2/2c4/2e4/fd5/2c42e4fd5104151c2ffce9be858dad34.jpg"></a> <br><br>  Tree masks are created from grass masks, height maps and several procedurally generated noises so that spruce trees are located at high altitudes (but where the grass is still growing), pines - at medium heights, and birches - in hollows and plains. <br><br>  All tree masks are mutually exclusive, so that there is a clear separation of forest zones.  Small intersections are found only in adjacent areas. <br><br>  As a result, we obtain masks by which 4 types of trees can be arranged: spruce (spruce), dead spruce (spruce dead), pine (pine), birch (birch). <br><br><h4>  Masks of flowers </h4><br><h6>  Masks distribution of daisies (top) and fireweed (bottom) over the landscape </h6> <a href=""><img src="https://habrastorage.org/storage2/e97/bec/19b/e97bec19b04b2b64f8c0ccbe77632820.jpg"></a> <br><br> <a href=""><img src="https://habrastorage.org/storage2/cc1/b63/888/cc1b63888a2e8bb885fa66f93364832c.jpg"></a> <br><br>  Masks of camomiles (camomile) and fireweed (blooming sally) are obtained by simply adding procedural noise to a grass mask. <br><br><h4>  Scrub masks </h4><br><h6>  Mask distribution of shrubs on the landscape </h6> <a href=""><img src="https://habrastorage.org/storage2/2a2/8c1/24c/2a28c124c4a0b65ac29c627ccac83ab9.jpg"></a> <br><br>  A bush mask is also created from a grass mask, but with the help of an erosion mask, it takes into account the places where more water most likely accumulates, and cuts off the zone on which the stones are located. <br><br><h4>  Stones </h4><br>  For the location of stones, cobblestones and boulders will be used already existing mask of stones. <br><br clear="all"><br clear="all"><a name="terrain_diffuse"></a><h3>  Creating a diffuse landscape texture </h3><br><h6>  The graph in the World Machine, which forms the diffuse texture of the landscape </h6> <a href=""><img src="https://habrastorage.org/storage2/d02/6f6/166/d026f61662c4718b4ac21cc569e86e17.jpg"></a> <br><br>  <a href="">Download terrain_color.tmd</a> <br><br>  The color texture is created by combining the masks obtained in the previous steps.  Various colors are mixed, noises are added. <br><br>  For example, two types of grass are added - green and dry.  Green grass prevails in the lowlands, dry - on the tops of the hills.  In order to make the landscape visually darker under the forest, a mask of trees is superimposed on it. <br><br>  If necessary, the necessary color adjustments are made in Photoshop or GIMP. <br><br><h6>  The resulting diffuse texture of the landscape </h6> <a href=""><img src="https://habrastorage.org/storage2/868/856/b95/868856b95ab0b5cce2dc23bb77a121c3.jpg"></a> <br><br clear="all"><br clear="all"><h1>  Placement of objects by masks </h1><h6>  Configuring MeshClutter object settings </h6> <a href=""><img src="https://habrastorage.org/storage2/252/dd6/07b/252dd607b9685af137ded01c4835ced3.jpg"></a> <br><br>  After all the necessary textures and masks have been received, the landscape has been generated, all the necessary materials have been set up, all that remains is to distribute all the prepared objects (trees, stones, grass, flowers and bushes). <br><br>  It is difficult to even imagine how much time the arrangement of such a huge number of small (in comparison with the landscape) objects would take manually.  Therefore, to save time and optimize rendering, a special object MeshClutter was created in the Unigine engine, which makes it possible to distribute objects on the landscape in a pseudo-random manner according to the original mask and, for example, parameters such as density, random scatter angles of objects, their scale, resulting from allows you to achieve the desired effect of heterogeneity. <br><br>  Especially it is worth paying attention to the fact that the distribution of objects in this case is pseudo-random - that is, with the same parameter values ‚Äã‚Äã(and the same seed value) for two different generators, the objects they create will always be located in the same places.  Thus, the determination of the result is also achieved. <br><br clear="all"><br clear="all"><h1>  findings </h1><br><h3>  World machine </h3><br><h4>  Virtues </h4><ul><li>  Caching the results of calculations.  At changes of the graph there is no recalculation of nodes which these changes did not affect.  It is very convenient and saves a lot of time creating new content. </li><li>  The presence of output nodes, which allows you to display in the files any number of readable textures from anywhere in the graph and resave them at the touch of a button. </li><li>  The possibility of tile miscalculation of large textures (tiled build).  In this case, the textures are rendered in fragments, making it possible to parallelize the rendering (multi-core is involved) and make optimal use of the occupied memory.  However, one should not forget that the erosion algorithm in this case is calculated by simulation separately for each tile, and not for the entire surface of the landscape, and pasting the resulting erosion texture tiles is carried out by overlapping their adjacent areas. </li><li>  A sufficient set of devices (basic blocks that create an algorithm for which the landscape is formed), for the implementation of virtually any landscape construction algorithms. </li><li>  There is a possibility of grouping parts of the graph to create new devices for the purpose of their further reuse, but, unfortunately, there is no instancing - the devices inserted in this way will be copies. </li><li>  The ability to accurately calculate only a given fragment of the landscape.  It greatly saves time when working on the detail of selected areas. </li></ul><br><h4>  disadvantages </h4><ul><li>  A huge number of problems when working with large amounts of source data (both vector and raster) and landscapes of large sizes.  For example, when opening a vector with coastline data (several thousand points), the FPS in the editor tends to zero. </li><li>  The behavior of the erosion algorithm (Erosion Device block) depends on the final terrain resolution. </li><li>  Lack of tools for the creation of mountain rivers.  Cutting the landscape on the splines under the river without applying erosion gives an unrealistic result.  If, however, erosion is applied, in some places the river may fall asleep across. </li><li>  The inability to change or disable the interpolation of the original textures. </li><li>  Some minor, but very unpleasant defects of the editor.  For example, such as the impossibility of setting digital color values ‚Äã‚Äãin a Colorizer device (this can only be done visually), using int instead of float for some parameters, and incomprehensible restrictions in the ranges of parameter values. </li></ul><br>  In addition to the World Machine, you can also look at the <a href="http://www.quadsoftware.com/">Quad Software Grome Editor</a> , <a href="http://planetside.co.uk/">Planetside Software Terragen</a> , or add an open (AGPL license) GPU-driven landscape generator <a href="http://lithosphere.codeflow.org/">Litosphere</a> for your needs. <br><br clear="all"><br clear="all"><h3>  Procedural generators </h3><br>  The main idea for the development of all procedural generators should ideally be erasing the line between 2D and 3D, because 2D is only a special case of 3D. <br><br>  At the moment there is no procedural generator that would allow: <br><ol><li>  create algorithms for the formation of three-dimensional objects (voxels) </li><li>  create your own texture baking algorithms and easily customize them </li></ol><br>  That is, it is not possible to use any information from a low-poly, high-poly or algorithmically formed voxel 3D model in a procedural generator to create, for example, a generator of seamless stone textures or textures of rust streaks for any original model. <br><br>  In programs such as 3DS MAX or Substance Designer, it is possible to bake some cards from models, but all of them are rendered using algorithms that are hard-wired to the program, which cannot be changed, and there is no possibility to create new ones.  Hope is given by the recently begun implementation of AngelSript in 3D-Coat, but it is not yet clear what the author wants to bring. <br><br>  There is also a problem for a long time that could be solved at the current level of development of procedural texture generators: these editors have learned well how to remove seams along the edges of a formed texture rectangle (for example, using offset or splat methods), but so far none of them know how to remove these are seams on the texture where the UV coordinates of the model break. <br><br>  If all these missing capabilities were implemented, they could be used to create libraries with automatic texture generators (for example, metal surfaces with weather, dust and mud factors), source data for which only a three-dimensional model would be material. <br><br clear="all"><br clear="all"><h1>  useful links </h1><ul><li>  <a href="http://unigine.com/products/unigine/">Unigine engine used for Oil Rush game and Valley benchmark</a> </li><li>  <a href="http://unigine.com/products/valley/">Valley benchmark</a> </li><li>  <a href="http://www.filterforge.com/">Procedural generator Filter Forge</a> </li><li>  <a href="http://www.world-machine.com/">Procedural landscapes generator World Machine</a> </li><li>  <a href="http://www.quadsoftware.com/">Quad Software Grome Editor</a> </li><li>  <a href="http://planetside.co.uk/">Planetside Software Terragen</a> </li><li>  <a href="http://lithosphere.codeflow.org/">GPU-driven landscape generator Litosphere</a> </li><li>  <a href="http://www.voxelogic.com/">Voxelogic Acropora procedural voxel modeler</a> </li></ul><br>  <b>Andrey Kushner <a href="https://habrahabr.ru/users/plu1on/" class="user_link">plu1on</a> , Vyacheslav Sedovich <a href="https://habrahabr.ru/users/slice3d/" class="user_link">slice3d</a> (technical artists Unigine Corp.)</b> </div><p>Source: <a href="https://habr.com/ru/post/184614/">https://habr.com/ru/post/184614/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../184600/index.html">Mr. Big - Xperia Z Ultra Announcement</a></li>
<li><a href="../184602/index.html">SmartWatch 2 - even smarter!</a></li>
<li><a href="../184606/index.html">Overview of the new features of C ++ 14: Part 1</a></li>
<li><a href="../184610/index.html">Computer vision allows you to see the pulse of a person, even if he wears a mask</a></li>
<li><a href="../184612/index.html">Portal under Linux came out</a></li>
<li><a href="../184618/index.html">Armikrog - 50 hours to</a></li>
<li><a href="../184620/index.html">Game console Ouya went on sale for 99 dollars</a></li>
<li><a href="../184622/index.html">DRAM inventor won Kyoto award</a></li>
<li><a href="../184624/index.html">[ANNOUNCEMENT] External battery case [CC-E960] 4500mAh for Google LG Nexus 4</a></li>
<li><a href="../184626/index.html">Firefox 22 release</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>