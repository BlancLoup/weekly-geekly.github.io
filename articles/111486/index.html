<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We create Web Services on the Oracle WebLogic Server platform, we test with SoapUI</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 In this post I will tell and show you how to create two small applications using SOAP Web Services for Oracle WebLogic Server 11g appli...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We create Web Services on the Oracle WebLogic Server platform, we test with SoapUI</h1><div class="post__text post__text-html js-mediator-article"><img align="left" src="https://habrastorage.org/storage/habraeffect/b9/2b/b92be1fca3328d6a20afd03122b04db6.jpg"><br><h1>  Introduction </h1><br>  In this post I will tell and show you how to create two small applications using SOAP Web Services for Oracle WebLogic Server 11g application server.  This is the service itself and the client interacting with it. <br><br>  Oracle WebLogic Server 11g implements the J2EE 5 platform, which in turn includes a description of a number of technologies, including the Java API for developing Web Services using XML (JAX-WS). <br><br>  Among other things, I will describe the process of testing Web Services using SoapUI. <br><a name="habracut"></a><br><h1>  Environment </h1><br>  All the examples in this article are made with the assumption that you already have Oracle WebLogic Server 11g installed.  It was also configured: a domain was created at localhost: 7001.  Your configuration may differ naturally, just take note of this when learning the examples.  Find the installer <a href="http://www.oracle.com/technetwork/middleware/weblogic/downloads/index.html">here</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In addition, you need to install Ant (Java utility to automate the process of building software products).  It is in the repositories of all modern Linux distributions, for Microsoft Windows it can be downloaded <a href="http://ant.apache.org/bindownload.cgi">here</a> . <br><br><h1>  Creating a service </h1><br>  The starting point in the creation of a Web Service will be a Java class, whose methods will eventually fulfill the role of Web Methods (operations).  In WebLogic terminology, such a class is called a JWS (Java Web Service) file.  The JWS file is a standard Java class that uses Java annotations to describe the Web Service.  In our case, it will contain only one mandatory JWS annotation @WebService and provide only one method. <br><br>  A full list of JAX-WS annotations can be found <a href="http://download.oracle.com/docs/cd/E12840_01/wls/docs103/webserv_ref/annotations.html">here</a> . <br>  Below, I will describe the steps to create the HelloService Web Service, which includes just one operation sayHello.  For simplicity, all input and output parameters will be string. <br><br>  From time to time I will give examples of working with the console, to illustrate certain actions.  In this case, nothing prevents you from using your favorite IDE, or other available means. <br><br><h5>  Step 1 </h5><br>  First of all, we need to create a directory for the project: <br> <code>prompt&gt; mkdir /HelloService</code> <br> <br><h5>  Step 2 </h5><br>  Inside it we will create a section for source codes, which in turn contains the directories for the package in which our JWS file will be located: <br> <code>prompt&gt; cd /HelloService <br> prompt&gt; mkdir -p src/my/services</code> <br> <br><h5>  Step 3 </h5><br>  In the newly created package we will place the HelloImpl.java class as follows: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">package my.services;&lt;br&gt;&lt;br&gt; <font color="#008000">//   @WebService</font> &lt;br&gt;import javax.jws.WebService;&lt;br&gt;&lt;br&gt;@WebService(name= <font color="#A31515">"Hello"</font> , serviceName= <font color="#A31515">"HelloService"</font> )&lt;br&gt;&lt;br&gt; <font color="#008000">/**</font> &lt;br&gt; <font color="#008000">*  JWS-    WebLogic</font> &lt;br&gt; <font color="#008000">*      : sayHello</font> &lt;br&gt; <font color="#008000">*/</font> &lt;br&gt; <font color="#0000ff">public</font> <font color="#0000ff">class</font> HelloImpl {&lt;br&gt; <font color="#008000">// -,         ()</font> &lt;br&gt; <font color="#0000ff">public</font> <font color="#2B91AF">String</font> sayHello( <font color="#2B91AF">String</font> title) {&lt;br&gt; <font color="#0000ff">return</font> ‚ÄúHello, ‚Äú + title;&lt;br&gt;    }&lt;br&gt;}&lt;br&gt;</font> &lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  This example illustrates a Java class called HelloImpl and contains the public method sayHello (String).  The @WebService annotation indicates that this class implements a Web Service with the name HelloService.  By default, all public methods of this class will be operations. <br><br><h5>  Step 4 </h5><br>  In the root directory of our project / HelloService, we will create a standard Ant configuration - build.xml file with the following content: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">project</font> <font color="#ff0000">name</font> <font color="#0000ff">="webservices-helloservice"</font> <font color="#ff0000">default</font> <font color="#0000ff">="build"</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">taskdef</font> <font color="#ff0000">name</font> <font color="#0000ff">="jwsc"</font> &lt;br&gt; <font color="#ff0000">classname</font> <font color="#0000ff">="weblogic.wsee.tools.anttasks.JwscTask"</font> <font color="#0000ff">/&gt;</font> &lt;br&gt;&lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">target</font> <font color="#ff0000">name</font> <font color="#0000ff">="build"</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">jwsc</font> &lt;br&gt; <font color="#ff0000">srcdir</font> <font color="#0000ff">="src"</font> &lt;br&gt; <font color="#ff0000">destdir</font> <font color="#0000ff">="output/helloService"</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">jws</font> <font color="#ff0000">file</font> <font color="#0000ff">="my/services/HelloImpl.java"</font> <font color="#ff0000">type</font> =‚Äù <font color="#ff0000">JAXWS</font> ‚Äù <font color="#0000ff">/&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">jwsc</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">target</font> <font color="#0000ff">&gt;</font> &lt;br&gt;&lt;br&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">project</font> <font color="#0000ff">&gt;</font></font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  In the listing above, you can see that we are operating with some jwsc Ant task.  This is one of the tools that comes with WebLogic, which allows you to automatically generate additional artifacts (xml-configs, Java-classes), compile all this and pack into an archive (WAR), ready for installation on an application server. <br><br>  Please note that the listing explicitly indicates the type (type) of the generated service - JAXWS.  By default, this is JAXRPC and the programming of such a service will be slightly different. <br><br>  More about jwsc, all options and examples of its use, <a href="http://download.oracle.com/docs/cd/E12840_01/wls/docs103/webserv_ref/anttasks.html">here</a> . <br><br><h5>  Step 5 </h5><br>  Before running the assembly, you need to set the WebLogic Server environment variables.  Including the CLASSPATH variable will be set, which will allow Ant to correctly connect the jwsc task. <br><br>  To do this, you need to execute the setDomainEnv.cmd (Windows) or setDomainEnv.sh (UNIX) script on the command line.  These scripts are located in the bin subdirectory within the directory of your WebLogic domain.  By default, WebLogic Server domains are located in BEA_HOME / user_projects / domains / domainName, where BEA_HOME is the directory where Oracle products are installed, and domainName is the name of your domain. <br><br>  If the IDE is used to run Ant, I assume that it will be enough to build a Java library from the lib subdirectory of the directory in which the Oracle WebLogic Server core is installed, something like: <br> <code>Oracle/Middleware/wlserver_10.3/server/lib</code> <br> <br><h5>  Step 6 </h5><br>  Run the application build <br> <code>prompt&gt; ant build</code> <br> <br>  The files generated by jwsc should appear in the output / helloService directory.  In particular, in the output / helloService / my / services / subdirectory you can find HelloImpl.war - this is the web application in which the created Web Service is packaged. <br><br><h5>  Step 7 </h5><br>  Now we need to place our Web Service on the application server.  Copy the WAR archive to the autodeploy subdirectory inside your WebLogic domain: <br> <code>prompt&gt; cp HelloImpl.war /path/to/domain/autodeploy/</code> <br> <br>  This can also be done through the administrative console of the server, or by using another WebLogic tool: the wldeploy Ant task. <br><br><h5>  Step 8 </h5><br>  Make sure that the Web Service is correctly installed on the server by requesting the WSDL browser on it: <br><pre>  http: // localhost: 7001 / HelloImpl / HelloService? WSDL </pre><br>  The URL consists of default values ‚Äã‚Äãfor contextPath and serviceUri.  By default, contextPath is the name of the Java class in the JWS file, and serviceURI is the serviceName element of the @WebService annotation if it is of course specified, otherwise it is the name of the JWS file without an extension plus the word Service.  For example, if the serviceName attribute of the @WebService annotation is not specified and the JWS file name is HelloImpl.java, then the default value for the serivceUri will be HelloImplService.  All these attributes can be explicitly set.  In this case, the URL may be different. <br><br>  If the request returned you an XML file describing the created Web Service (WSDL), the result can be considered successful. <br><br>  How to test its work using the specialized tool SoapUI will be discussed in the section ‚ÄúTesting the service‚Äù, later in this article. <br><br><h1>  Customer creation </h1><br>  Oracle WebLogic Server, among other things, includes tools for generating libraries that provide high-level Java API for accessing SOAP Web Services developed on any platform.  All that is needed for this WebLogic-ku is a WSDL file that describes the service.  These libraries will serve as the basis for the interaction of the client application with the service. <br><br>  We already have a Web Service created in the previous section.  Now let's try to write a client application for it.  This will be a JSP form page that uses automatically generated libraries. <br><br><h5>  Step 1 </h5><br>  Create a directory for the project: <br> <code>prompt&gt; mkdir /HelloClient</code> <br> <br><h5>  Step 2 </h5><br>  Go to it and create the Ant configuration of build.xml with the following content: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">project</font> <font color="#ff0000">name</font> <font color="#0000ff">="webservices-helloclient"</font> <font color="#ff0000">default</font> <font color="#0000ff">="generate"</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">taskdef</font> <font color="#ff0000">name</font> <font color="#0000ff">="clientgen"</font> &lt;br&gt; <font color="#ff0000">classname</font> <font color="#0000ff">="weblogic.wsee.tools.anttasks.ClientGenTask"</font> <font color="#0000ff">/&gt;</font> &lt;br&gt;&lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">target</font> <font color="#ff0000">name</font> <font color="#0000ff">="generate"</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">delete</font> <font color="#ff0000">dir</font> <font color="#0000ff">="lib"</font> <font color="#0000ff">/&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">mkdir</font> <font color="#ff0000">dir</font> <font color="#0000ff">="lib"</font> <font color="#0000ff">/&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">clientgen</font> <font color="#ff0000">wsdl</font> <font color="#0000ff">="http://localhost:7001/HelloImpl/HelloService?WSDL"</font> &lt;br&gt; <font color="#ff0000">destFile</font> <font color="#0000ff">="lib/HelloServiceAPI.jar"</font> &lt;br&gt; <font color="#ff0000">packageName</font> <font color="#0000ff">="my.client"</font> &lt;br&gt; <font color="#ff0000">type</font> <font color="#0000ff">="JAXWS"</font> <font color="#0000ff">/&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">target</font> <font color="#0000ff">&gt;</font> &lt;br&gt;&lt;br&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">project</font> <font color="#0000ff">&gt;</font></font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  From the file above you can see that we are working with the clientgen ant task.  We tell her where to get the WSDL for the Web Service (do not forget to raise the server and make sure that the WSDL file is available at the specified URL), the name of the package in which the generated Java classes will be located and the archive in which all this will be packaged.  Read more <a href="http://download.oracle.com/docs/cd/E12840_01/wls/docs103/webserv_ref/anttasks.html">here</a> . <br><br><h5>  Step 3 </h5><br>  Run the Ant configuration described above and verify that the library appeared in the specified location (lib / HelloServiceAPI.jar): <br> <code>prompt&gt; ant generate</code> <br> <br><h5>  Step 4 </h5><br>  Now create a web directory in our project: <br> <code>prompt&gt; mkdir web</code> <br> <br>  In it we place a JSP page index.jsp with an HTML form containing a single element for entering the Name and a button that sends the form values ‚Äã‚Äãto the server.  We will also need a place where the result of the SOAP request will be displayed. <br><br>  Of course, it‚Äôs more convenient to develop this JSP in a modern IDE by connecting the library generated in the previous step, so that the IDE tells us which classes in this library are and how to work with them from JSP.  But since the example is rather trivial, I will immediately cite the page code: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">&lt;%@page import= <font color="#A31515">"my.client.Hello"</font> %&gt;&lt;br&gt;&lt;%@page import= <font color="#A31515">"my.client.HelloService"</font> %&gt;&lt;br&gt;&lt;%@page contentType= <font color="#A31515">"text/html"</font> pageEncoding= <font color="#A31515">"UTF-8"</font> %&gt;&lt;br&gt;&lt;%&lt;br&gt;&lt;br&gt;  String name;&lt;br&gt;  String result = <font color="#0000ff">null</font> ;&lt;br&gt; <font color="#0000ff">if</font> ((name = request.getParameter( <font color="#A31515">"name"</font> )) != <font color="#0000ff">null</font> &amp;&amp; ! <font color="#A31515">""</font> .equals(name))&lt;br&gt;    {&lt;br&gt; <font color="#008000">//   </font> &lt;br&gt;      HelloService service = <font color="#0000ff">new</font> HelloService();&lt;br&gt; <font color="#008000">//   ‚Äú‚Äù (   )</font> &lt;br&gt;      Hello hello = service.getHelloPort();&lt;br&gt;&lt;br&gt; <font color="#008000">//       sayHello</font> &lt;br&gt; <font color="#008000">//         SOAP ,</font> &lt;br&gt; <font color="#008000">//    HTTP   ...     </font> &lt;br&gt;      result = hello.sayHello(name);&lt;br&gt;    }&lt;br&gt;&lt;br&gt;%&gt;</font> <font color="black"><font color="#0000ff">&lt;!</font> <font color="#800000">DOCTYPE</font> <font color="#ff0000">HTML</font> <font color="#ff0000">PUBLIC</font> <font color="#0000ff">"-//W3C//DTD HTML 4.01 Transitional//EN"</font> &lt;br&gt; <font color="#0000ff">"http://www.w3.org/TR/html4/loose.dtd"</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">html</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">head</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">meta</font> <font color="#ff0000">http-equiv</font> <font color="#0000ff">="Content-Type"</font> <font color="#ff0000">content</font> <font color="#0000ff">="text/html; charset=UTF-8"</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">title</font> <font color="#0000ff">&gt;</font> Hello Client <font color="#0000ff">&lt;/</font> <font color="#800000">title</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">head</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">body</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">form</font> <font color="#0000ff">&gt;</font> Name: <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">name</font> <font color="#0000ff">="name"</font> <font color="#0000ff">/&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="submit"</font> <font color="#0000ff">/&gt;&lt;/</font> <font color="#800000">form</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font>&lt;%</font> <font color="#0000ff">if</font> (result != <font color="#0000ff">null</font> ) { <font>%&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">br</font> <font color="#0000ff">/&gt;</font> Result: <font>&lt;%</font> = result <font>%&gt;</font> &lt;br&gt; <font>&lt;%</font> } <font>%&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">body</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">html</font> <font color="#0000ff">&gt;</font></font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  In this form, all SOAP requests will always go to the service from which the WSDL was taken, but in reality, the so-called endpoint URL must be configurable.  It is useful to us and when testing our client.  Therefore, add another field to the form: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">form</font> <font color="#0000ff">&gt;</font> Name: <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">name</font> <font color="#0000ff">="name"</font> <font color="#0000ff">/&gt;&lt;</font> <font color="#800000">br</font> <font color="#0000ff">/&gt;</font> Location: <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">name</font> <font color="#0000ff">="location"</font> <font color="#0000ff">/&gt;&lt;</font> <font color="#800000">br</font> <font color="#0000ff">/&gt;&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="submit"</font> <font color="#0000ff">/&gt;&lt;/</font> <font color="#800000">form</font> <font color="#0000ff">&gt;</font></font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  And also a few lines in the form handler: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">&lt;%@page import= <font color="#A31515">"java.util.Map"</font> %&gt;&lt;br&gt;&lt;%@page import= <font color="#A31515">"javax.xml.ws.BindingProvider"</font> %&gt;&lt;br&gt;&lt;%@page import= <font color="#A31515">"my.client.Hello"</font> %&gt;&lt;br&gt;‚Ä¶&lt;br&gt;&lt;br&gt;String name;&lt;br&gt;  String result = <font color="#0000ff">null</font> ;&lt;br&gt;  String url = request.getParameter( <font color="#A31515">"location"</font> );&lt;br&gt; <font color="#0000ff">if</font> ((name = request.getParameter( <font color="#A31515">"name"</font> )) != <font color="#0000ff">null</font> &amp;&amp; ! <font color="#A31515">""</font> .equals(name))&lt;br&gt;    {&lt;br&gt;      HelloService service = <font color="#0000ff">new</font> HelloService();&lt;br&gt;      Hello hello = service.getHelloPort();&lt;br&gt;&lt;br&gt; <font color="#0000ff">if</font> (url != <font color="#0000ff">null</font> &amp;&amp; ! <font color="#A31515">""</font> .equals(url)) {&lt;br&gt;        Map&lt;String, Object&gt; rc = ((BindingProvider) hello).getRequestContext();&lt;br&gt; <font color="#008000">//     endpoint URL,     WSDL-</font> &lt;br/&gt;        rc.put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, url);&lt;br&gt;      }&lt;br&gt;&lt;br&gt;      result = hello.sayHello(name);&lt;br&gt;    }</font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br><h5>  Step 5 </h5><br><br>  In the web directory, create a WEB-INF subdirectory in which two files will be placed: web.xml and weblogic.xml - with the following content: <br><br>  web.xml <br><br><blockquote> <code><a href=""></a> <a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;?</font> <font color="#800000">xml</font> <font color="#ff0000">version</font> <font color="#0000ff">="1.0"</font> <font color="#ff0000">encoding</font> <font color="#0000ff">="UTF-8"</font> ? <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">web-app</font> <font color="#ff0000">version</font> <font color="#0000ff">="2.5"</font> <font color="#ff0000">xmlns</font> <font color="#0000ff">="http://java.sun.com/xml/ns/javaee"</font> &lt;br&gt; <font color="#ff0000">xmlns:xsi</font> <font color="#0000ff">="http://www.w3.org/2001/XMLSchema-instance"</font> &lt;br&gt; <font color="#ff0000">xsi:schemaLocation</font> <font color="#0000ff">="http://java.sun.com/xml/ns/javaee java.sun.com/xml/ns/javaee/web-app_2_5.xsd"</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">welcome-file-list</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">welcome-file</font> <font color="#0000ff">&gt;</font> index.jsp <font color="#0000ff">&lt;/</font> <font color="#800000">welcome-file</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">welcome-file-list</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">web-app</font> <font color="#0000ff">&gt;</font></font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  weblogic.xml <br><br><blockquote> <code><a href=""></a> <a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;?</font> <font color="#800000">xml</font> <font color="#ff0000">version</font> <font color="#0000ff">="1.0"</font> <font color="#ff0000">encoding</font> <font color="#0000ff">="UTF-8"</font> ? <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">weblogic-web-app</font> <font color="#ff0000">xmlns</font> <font color="#0000ff">="http://www.bea.com/ns/weblogic/90"</font> &lt;br&gt; <font color="#ff0000">xmlns:j2ee</font> <font color="#0000ff">="http://java.sun.com/xml/ns/j2ee"</font> &lt;br&gt; <font color="#ff0000">xmlns:xsi</font> <font color="#0000ff">="http://www.w3.org/2001/XMLSchema-instance"</font> &lt;br&gt; <font color="#ff0000">xsi:schemaLocation</font> <font color="#0000ff">="http://www.bea.com/ns/weblogic/90 www.bea.com/ns/weblogic/90/weblogic-web-app.xsd"</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">context-root</font> <font color="#0000ff">&gt;</font> /HelloClient <font color="#0000ff">&lt;/</font> <font color="#800000">context-root</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">weblogic-web-app</font> <font color="#0000ff">&gt;</font></font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  In these files, we specified a JSP page, which will open by default (welcome-file) and the path by which our web application will be accessible on the server (context-root). <br><br><h5>  Step 6 </h5><br>  In the Ant-config created earlier (in the second step), we will add another section that automates the packaging of our library along with the JSP page to the web application (WAR archive). <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">target</font> <font color="#ff0000">name</font> <font color="#0000ff">="build"</font> <font color="#ff0000">depends</font> <font color="#0000ff">="generate"</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">war</font> <font color="#ff0000">destfile</font> <font color="#0000ff">="HelloClient.war"</font> <font color="#ff0000">webxml</font> <font color="#0000ff">="web/WEB-INF/web.xml"</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">fileset</font> <font color="#ff0000">dir</font> <font color="#0000ff">="web"</font> <font color="#0000ff">/&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">lib</font> <font color="#ff0000">dir</font> <font color="#0000ff">="lib"</font> <font color="#0000ff">/&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">war</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">target</font> <font color="#0000ff">&gt;</font></font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  This task is dependent on the generate task, therefore, with each rebuilding of the archive, the generation of the Web Service API library will be launched. <br><br><h5>  Step 7 </h5><br>  Run the build <br> <code>prompt&gt; ant build</code> <br> <br>  Make sure that the HelloClient.war archive appears in the project directory. <br><br><h5>  Step 8 </h5><br>  The resulting archive is installed on the server as well, as described in the section on developing a Web Service, step 7: <br> <code>prompt&gt; cp HelloClient.war /path/to/domain/autodeploy/ <br></code> <br><br>  You can test it immediately if you meet several conditions.  Firstly, the Web Service itself (for which we wrote the client) must be deployed on the server and run, secondly the Location field must be empty so that the default endpoint URL is taken. <br><br>  Below in the section "Testing the client" I will tell you how to test our client to the Web Service on the emulator using SoapUI. <br><br><h1>  SoapUI </h1><br>  When telling about Web Services, one cannot but mention a powerful tool that allows you to test both server and client side SOAP services, this is SoapUI.  Download this application <a href="http://sourceforge.net/projects/soapui/files/soapui/3.6.1/">here</a> . <br><br>  There are free versions for both Microsoft Windows and Linux distributions.  Installation will not cause problems. <br><br><h2>  Service testing </h2><br>  To test the Web Service (its server part), you need to run SoapUI and create a new project, as shown in the figure: <br><br> <a title="Habraffe.ru" href=""><img src="https://habrastorage.org/storage/habraeffect/22/30/2230ab3389799487f1ba0c789c02991e.png"></a> <br><br>  In the Initial WSDL / WADL field, we specify a WSDL file describing the service being tested, and you can specify both the path to the file on the local machine and the URL (which is actually done in the example).  Also put a tick near Create Requests, this will tell SoapUI that you need to create an interface for generating SOAP requests for each operation, which is described in the WSDL file. <br><br> <a title="Habraffe.ru" href=""><img src="https://habrastorage.org/storage/habraeffect/a9/42/a9426c5153794a494f36ed2d22ec8765.png"></a> <br><br>  Our Web Service contains only one method - sayHello.  You can go to the request object created under it.  Screenshot from Linux version of SoapUI above.  It shows that you can write the input parameters by correcting the XML and execute the query (the green triangle in the left corner).  As a result, the service response will also be received in XML format. <br><br>  The Windows version is somewhat richer and contains an additional user-friendly input form for input parameters. <br><br>  This way you can test the SOAP service written on any platform.  There are a lot of possibilities for configuring requests, for example, you can send HTTP headers (Authorization for example), you can build automatic testing, etc. <br><br><h2>  Customer testing </h2><br>  In order to test the client application, you need to force SoapUI to work in the Web Service emulation mode.  To do this, create a project, as shown in the screenshot below: <br><br> <a title="Habraffe.ru" href=""><img src="https://habrastorage.org/storage/habraeffect/e0/67/e067f6f4609c3eeb6c9d4d782ff5e0de.png"></a> <br><br>  The WSDL file is still the same, to illustrate the process, we will emulate a Web Service, which, in fact, we have already written.  But let's imagine that this is some kind of third-party system, access to which we do not yet have, there is only WSDL and we need to make sure that our client is working. <br><br>  So, we specify the WSDL in the Initial WSDL / WADL field and tick the Create MockService box.  This checkbox will tell SoapUI to create an emulator for the operations that are present in the WSDL file. <br>  In the second step, we will be asked to select specific operations that should be emulated. <br><br> <a title="Habraffe.ru" href=""><img src="https://habrastorage.org/storage/habraeffect/42/0e/420e50ef07e1965bbc0bd086896737b2.png"></a> <br><br>  Put a tick near Start MockService and after clicking OK we get an emulator on port 8088. You can check that everything really works by following the link: <br><pre>  http: // localhost: 8088 / HelloMock? WSDL </pre><br>  Before moving on to our client application, it would be nice to configure the answers that our pseudo Web Service will generate.  To do this, open the response object under the sayHello method and correct the XML that will be returned to the client for each call to this operation. <br><br> <a title="Habraffe.ru" href=""><img src="https://habrastorage.org/storage/habraeffect/16/79/1679220335304e0e970a243e1a0f1ad8.png"></a> <br><br>  Now is the time to return to the client.  Endpoint URL should point to <a href="http://localhost/">localhost</a> : 8088 / HelloMock - the address of the Web Service emulator that was just launched.  Let's write this line in the Location field of our JSP page. <br><br> <a title="Habraffe.ru" href=""><img src="https://habrastorage.org/storage/habraeffect/1e/59/1e59ab49acf971113204d568396d7b43.png"></a> <br><br>  Click Submit Query.  Next to the button the result of the query should appear: <br><br> <a title="Habraffe.ru" href=""><img src="https://habrastorage.org/storage/habraeffect/e0/0e/e00ec903af237d0ecec6fdf42b9c7367.png"></a> <br><br>  If you now go to SoapUI, then on the HelloMock emulator in the Message Log section you can see the completed SOAP request.  You can open it and see all the information about it. <br><br> <a title="Habraffe.ru" href=""><img src="https://habrastorage.org/storage/habraeffect/09/8c/098c98ad54d371a9ce7f4d1f155171e4.png"></a> <br><br>  Accordingly, if we do not have a real Web Service at hand, or the existing one cannot be used for testing (production server), the correct approach would be to take its WSDL file and create an emulator.  Test on it, playing with the output parameters. <br><br><h1>  Conclusion </h1><br>  In this article I tried to describe the development process of Web Services (both server-side and client) on the Oracle WebLogic Server platform using the available toolkit (Ant tasks jwsc and clientgen).  Were also considered general approaches to testing any Web Services with the help of SoapUI. <br>  Sources server side <a href="http://ifolder.ru/21196680">here</a> . <br>  Sources client side <a href="http://ifolder.ru/21196663">here</a> . <br>  Official literature is <a href="http://download.oracle.com/docs/cd/E12840_01/wls/docs103/webserv/index.html">here</a> . </div><p>Source: <a href="https://habr.com/ru/post/111486/">https://habr.com/ru/post/111486/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../111475/index.html">Use Android Search Dialog. Simple application example</a></li>
<li><a href="../111476/index.html">Teach to work with a computer</a></li>
<li><a href="../111480/index.html">Rails: Enough otmazyvatsya, we start BDD-it!</a></li>
<li><a href="../111481/index.html">The concept of a web project or why we kill our ideas?</a></li>
<li><a href="../111482/index.html">The stage of preparation of the project in theory</a></li>
<li><a href="../111487/index.html">A spam counter appeared on the web - Spam Clock</a></li>
<li><a href="../111488/index.html">Hacker demonstrated "cloud" software for hacking WiFi-networks at the Black Hat conference</a></li>
<li><a href="../111489/index.html">Sandbox Wars - Part 1</a></li>
<li><a href="../111491/index.html">Tablets with CES. Summary table</a></li>
<li><a href="../111493/index.html">Use Android Search Dialog. Part 2 - Recent Query Suggestions</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>