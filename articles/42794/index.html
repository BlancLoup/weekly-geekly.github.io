<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>120 dpi and em fonts</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Fonts in Em /% are good for everyone - the ability of IE users to increase font size, caring for users, that they prefer to increase the default font ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>120 dpi and em fonts</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/160/e1e/598/160e1e598211edc10f44739bf1f22155.png" alt="font in em"><br><br>  Fonts in Em /% are good for everyone - the ability of IE users to increase font size, caring for users, that they prefer to increase the default font size of the browser to better see the text, and simply are the norm for professional web designers. <br><br>  Cons: ... they seem to be gone, but! <br>  <b>And what if the user screen resolution is not set to the standard 96 dpi, but 120?</b> <br>  A site with enlarged fonts does not look as beautiful as the designer drew - after all, only the fonts are scaled, not the whole site!  A resolution of 120dpi is becoming more popular, especially on laptops!  What to do?  Go back to px? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Not! <br><a name="habracut"></a><br>  <s><strong>In Opera there is no more of this bug, and it simply ignores resolution.</strong></s>  <s><strong>But in IE9, if there is a code from the article, bugs appear with a reduced font throughout the site.</strong></s>  <s><strong>Do not use 120dpi fix for all browsers, leave the code only for IE6 / 7.</strong></s> <br><br>  <strong><font color="maroon">ATTENTION!</font></strong>  <strong><font color="maroon">As of 2013, this article is outdated and its information is useful only for theoretical knowledge.</font></strong>  <strong><font color="maroon">Do not use the code from it in production!</font></strong>  <strong><font color="maroon">He is no longer needed.</font></strong> <strong><font color="maroon"><br></font></strong>  <strong><font color="maroon">* In Opera, there is no longer this bug, and in general it will soon be on another engine (Webkit).</font></strong> <strong><font color="maroon"><br></font></strong>  <strong><font color="maroon">* IE6 and 7 are already history and almost no one supports them.</font></strong> <strong><font color="maroon"><br></font></strong>  <strong><font color="maroon">* And in general there are very few people who impose in EM, most of them use PX again for the sake of style independence (BEM-method) in layout.</font></strong> <br><br>  So, we specify the problem: <br><br><h2>  In Windows, with a screen resolution of more than 96 dpi, IE‚â§7 and Opera browsers proportionally increase the default font size. </h2><br>  This can cause unpleasant distortion of the design, usually on sites with a fixed width. <br>  <b>Firefox and Safari / hrome ignore screen dpi.</b> <br><br>  <i>Rubber - as planned by the designer:</i> <br><img src="https://habrastorage.org/getpro/habr/post_images/478/967/3a7/4789673a79b703de479e1dbd759ad391.png" alt="Fluid design 96dpi"><br><br>  <i>Rubber - 120dpi:</i> <br><img src="https://habrastorage.org/getpro/habr/post_images/2c2/5fc/786/2c25fc78670786c4c57d6846bff49def.png" alt="Fluid design 120dpi"><br><br>  <i>Fixed width - as the designer intended:</i> <br><img src="https://habrastorage.org/getpro/habr/post_images/bf8/e92/492/bf8e924920bb3240a2754b9dd9fdd5f4.png" alt="Fixed design 96dpi"><br><br>  <i>120dpi fixed width:</i> <br><img src="https://habrastorage.org/getpro/habr/post_images/a9a/d43/03b/a9ad4303b27d3af3425ebd11727c83b4.png" alt="Fixed design 120dpi"><br><br>  <strong>On rubber layouts, enlarged size usually does not cause problems, but on sites with a fixed width, enlarged letters may simply not fit into the narrow columns assigned to them.</strong>  <strong>A large size may look ugly next to the remaining non-enlarged graphics.</strong> <br><br><blockquote>  <b>What happens when you increase the font size:</b> <br>  As a rule, only the font is increased.  The blocks into which the site is divided can also increase (if their sizes are also given in em /%), <i>but the graphics do not increase</i> ! <br><br><h3>  This does not mean that we should abandon the variable font sizes! </h3><br>  After all, on really large monitors, 120 dpi is not a fad, but a necessity - the small print is hard to see.  Yes, and the user may just want to increase the font size - both on this particular page, and in general in the browser settings - so that it is larger on all sites. <br>  We should not <s>break the buzz on people</s> to reduce the usability of the site.  But the site should also look beautiful, as the designer intended, because they are met in clothing. </blockquote><br><br><h2>  With CSS, we can check the user's resolution and proportionally reduce the font size! </h2><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">html</span></span> {<span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">68.75%</span></span>} <span class="hljs-comment"><span class="hljs-comment">/*   11px */</span></span> @<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> all and (min-resolution: <span class="hljs-number"><span class="hljs-number">120dpi</span></span>) { <span class="hljs-selector-tag"><span class="hljs-selector-tag">html</span></span> {<span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">55%</span></span>} <span class="hljs-comment"><span class="hljs-comment">/*   : 68.75/(120/96) */</span></span> }</code> </pre> <br>  For IE6 / 7, you need this code: <br><pre> <code class="hljs css"><span class="hljs-selector-id"><span class="hljs-selector-id">#header</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">scrollbar-track-color</span></span>:<span class="hljs-built_in"><span class="hljs-built_in">expression</span></span>( this.runtimeStyle.scrollbarTrackColor = <span class="hljs-string"><span class="hljs-string">"#fff"</span></span>, ((screen.deviceXDPI/screen.logicalXDPI) == <span class="hljs-number"><span class="hljs-number">1</span></span>) ? (document.body.style.fontSize = <span class="hljs-number"><span class="hljs-number">1</span></span>/(screen.logicalYDPI/<span class="hljs-number"><span class="hljs-number">96</span></span>) +<span class="hljs-string"><span class="hljs-string">'em'</span></span>) : false ); }</code> </pre>  This is a one-time <sup>1</sup> expression, it changes the base size in proportion to the dpi of the screen. <br><br>  Let us examine it in more detail: <br>  <code>#header</code> - here can be the id of any block existing in the layout.  We need it only to ‚Äúcatch on‚Äù, the expression itself changes the styles for the body. <br><br>  <code>scrollbar-track-color</code> - any property that is ‚Äúnot sorry‚Äù.  I use the proprietary property of IE, from the family that defines the color of the scroll bars.  If the element does not have scroll bars (i.e., the overflow value is visible (by default) or hidden), then this property does not affect the display of the block in any way. <br><br>  <code>screen.deviceXDPI</code> <sup>2</sup> is the actual screen dpi in the browser. <br>  <code>screen.logicalXDPI</code> <sup>3</sup> - standard screen dpi (as set in Windows, usually = 96) <br>  Typically screen.deviceXDPI == screen.logicalXDPI.  But there are exceptions, about them below. <br><br><h3>  IE6 / 7 can proportionally zoom in on high resolution screens. </h3><br>  The property <code>HKEY_CURRENT_USER\Software\Microsoft\Internet Explorer\Main\ <br> UseHR = dword:00000001</code> is responsible for this. <code>HKEY_CURRENT_USER\Software\Microsoft\Internet Explorer\Main\ <br> UseHR = dword:00000001</code> <br>  MSDN <sup>4</sup> seems to tell us that manufacturers of high-resolution monitors can set this parameter. <br><br><h4>  It should look like this: </h4>  <i>IE with zoom enabled (UseHR = 1):</i> <br><img src="https://habrastorage.org/getpro/habr/post_images/f52/581/fa9/f52581fa94e50c59e78247d9bf2ff31c.png" alt="IE with zoom enabled"><br>  <i>IE with zoom off (UseHR = 0):</i> <br><img src="https://habrastorage.org/getpro/habr/post_images/1e1/6e2/64f/1e16e264ff7d1185838fc2660b2dccdc.png" alt="IE with zoom off"><br><br>  I did not manage to achieve scaling by turning on this option, however, I reinsure myself and check the scale factor IE and only if it is 1 (i.e., scaling is turned off) proportionally change the size for body: <br> <code>document.body.style.fontSize = 1/(screen.logicalYDPI/96) +'em'</code> <br>  Changing the font size for the body automatically (in cascade) changes the size of all other fonts. <br><br><blockquote>  IE 5, unfortunately, does not support screen.deviceXDPI / screen.logicalYDPI, so this code will not work in it. </blockquote><br><h3>  What about IE8? </h3><br>  In IE8, everything is done very beautifully and elegantly: the browser enlarges the entire content of the page in proportion to the screen dpi <sup>5</sup> . <br><img src="https://habrastorage.org/getpro/habr/post_images/baa/213/de2/baa213de21de5da712b16f4b201dd2fa.png" alt="Fluid design IE8 120dpi"><br><table><tbody><tr><th>  96dpi </th><th>  120dpi </th><th>  144dpi </th></tr><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/a1c/1c1/74a/a1c1c174a6964e14b4cc869ac5c3a506.jpg" alt="IE8 dpi scaling at 96dpi"></td><td><img src="https://habrastorage.org/getpro/habr/post_images/de1/578/43e/de157843e56cbe71c137bd672c93dbf8.jpg" alt="IE8 dpi scaling at 120dpi"></td><td><img src="https://habrastorage.org/getpro/habr/post_images/b3a/e4c/930/b3ae4c9306037b1dca7adae9c41820a2.jpg" alt="IE8 dpi scaling at 144dpi"></td></tr></tbody></table>  Those.  Full-page zoom automatically turns on. <br><br><blockquote><h3>  Lyrical digression about screen.deviceXDPI, screen.logicalXDPI and Page zoom </h3><br>  In IE8, when the Full-page zoom is enabled, the value of screen.deviceXDPI changes.  At 125% zoom it = 120, at 150% - 144. At 100% (without scaling) screen.deviceXDPI returns to 96. At the same time, it does not matter what dpi is in Windows. <br><br>  <strong>That's what we need to check for (screen.deviceXDPI == screen.logicalXDPI)!</strong> <br>  This is the case - when the user in the lower right corner of IE8, clicks on the select Page zoom and changes it. <br><br>  But screen.logicalYDPI in 8-ke seems to be a constant number, in my tests it was always 96. <br><br>  In the 7-ke and 6-ke, both of these values, with the tests, changed only depending on the settings of Windows.  Page zoom in IE7 did not change the value of either one or the other property. <br><br>  I accidentally discovered this a year after writing the article, when I wrote a crutch to an ancient site :) </blockquote><br><br><blockquote><h4>  By the way Page zoom in IE8 is better than in IE7: </h4><br>  <i>IE7 Full-page zoom:</i> <br><img src="https://habrastorage.org/getpro/habr/post_images/d35/cc5/5d8/d35cc55d86777be917ae9d1c69f0d7b0.png" alt="Full page zoom IE7"><br>  <i>IE8 Full-page zoom (Adaptive Zoom):</i> <br><img src="https://habrastorage.org/getpro/habr/post_images/849/145/fb2/849145fb279d9f73a67b335e77f83e90.png" alt="Full page zoom IE8"><br><br>  The horizontal scroll now appears only if the columns have a fixed width, line breaks are inserted into new places (after scaling), in general it is very similar to how it happens in FF and Opera. <br>  The mechanism is called Adaptive Zoom, more information about it can be found in the blog of developers IE <sup>6</sup> . </blockquote><br><br><h4>  In IE6 / 7, similar behavior can be achieved as follows: </h4><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">div</span></span><span class="hljs-selector-id"><span class="hljs-selector-id">#header</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">scrollbar-track-color</span></span>:<span class="hljs-built_in"><span class="hljs-built_in">expression</span></span>( this.runtimeStyle.scrolbarTrackColor = <span class="hljs-string"><span class="hljs-string">"#fff"</span></span>, (((screen.deviceXDPI/screen.logicalXDPI) == <span class="hljs-number"><span class="hljs-number">1</span></span>) &amp;&amp; (screen.deviceYDPI &gt; <span class="hljs-number"><span class="hljs-number">96</span></span>)) ? ( document.body.style.fontSize = <span class="hljs-number"><span class="hljs-number">1</span></span>/(screen.logicalYDPI/<span class="hljs-number"><span class="hljs-number">96</span></span>) +<span class="hljs-string"><span class="hljs-string">'em'</span></span>, document.body.style.zoom = screen.logicalYDPI/<span class="hljs-number"><span class="hljs-number">96</span></span> ) : false ); }</code> </pre> <br>  <i>120 dpi css-zoom IE6 / 7:</i> <br><img src="https://habrastorage.org/getpro/habr/post_images/413/bd3/5b5/413bd35b5b459c836f98b1528c4eace2.png" alt="CSS zoom in IE6 / 7 at 120dpi"><br><br>  <i>This is not the same as 125% full-page-zoom IE7:</i> <br><img src="https://habrastorage.org/getpro/habr/post_images/eb0/fa9/8a5/eb0fa98a5aafa19fac9130ded971836c.png" alt="125% full-page zoom in IE7"><br><br>  Full-page Zoom in IE7 increases all html (due to which a horizontal scroll appears), and through css we can set the css zoom only for the body. <br><br>  <strong>With css-zoom, horizontal scrolling does not occur, which is in IE7 with full-page-zoom, but there are problems with flash objects: they can disappear and manifest partly when you hover the mouse cursor, rendered ‚Äúcrumpled‚Äù.</strong> <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/8da/c99/4e5/8dac994e5b67600ec2a8ae7e5c682929.png" alt="Flash breaks at CSS zoom in IE6 / 7"></a> <br><h4>  If you do not use flash objects, you can use this method. </h4><blockquote>  Curiously, this is a rare case of applying the css zoom property for its intended purpose, and not for the task of Layout. </blockquote><br><br><h3>  What about Firefox 3.1 that understands CSS3 Media Queries? </h3><br>  To reduce the size by 120dpi, we use the CSS3 <code>min-resolution</code> property. <br>  Firefox 3.1 will understand and apply it.  But he does not increase the font size.  So the font in it will be less than necessary: <br><img src="https://habrastorage.org/getpro/habr/post_images/799/901/43b/79990143b04521ed26fb1c314d3f05db.png" alt="small font-size at FF3.1"><br><br>  We fix: <br> <code>html {font-size: 68.75%} /*   11px==1em,     = 11px x Xem */ <br> @media all and (min-resolution: 120dpi) { <br> html {font-size: 55%} <br> <b>html, x:-moz-any-link {font-size: 68.75%}</b> <br> }</code> <br> <blockquote>  <code>x:-moz-any-link</code> is the choice of a non-existent element x with the -moz-any-link pseudo-class.  Such a pseudo-class is understood only by Gecko-browsers, the rest will ignore the entire line <sup>7</sup> . </blockquote><br><h3>  Unusual bug in Opera 9 (&lt;9.6) </h3>  After we added a fix for FF3.1, Opera began to ignore the css ad, immediately following the rule for min-resolution: 120dpi. <br>  Those.  we have the following code: <br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">html</span></span> {<span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">68.75%</span></span>} @<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> all and (min-resolution: <span class="hljs-number"><span class="hljs-number">120dpi</span></span>) { <span class="hljs-selector-tag"><span class="hljs-selector-tag">html</span></span> {<span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">55%</span></span>} <span class="hljs-selector-tag"><span class="hljs-selector-tag">html</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">x</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:-moz-any-link</span></span> {<span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">68.75%</span></span>} } <span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span>,<span class="hljs-selector-tag"><span class="hljs-selector-tag">table</span></span>,<span class="hljs-selector-tag"><span class="hljs-selector-tag">input</span></span>,<span class="hljs-selector-tag"><span class="hljs-selector-tag">label</span></span>,<span class="hljs-selector-tag"><span class="hljs-selector-tag">textarea</span></span>,<span class="hljs-selector-tag"><span class="hljs-selector-tag">button</span></span>,<span class="hljs-selector-tag"><span class="hljs-selector-tag">select</span></span> {<span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: <span class="hljs-number"><span class="hljs-number">#000</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">font</span></span>: normal <span class="hljs-number"><span class="hljs-number">1em</span></span>/<span class="hljs-number"><span class="hljs-number">1.3</span></span> Tahoma, Geneva, sans-serif}</code> </pre>  The rule starting with <code>body</code> will be ignored in Opera 9. <br>  And in Opera 8 and 9.6 - everything is fine. <br><br>  We fix: <br> <code>html {font-size: 68.75%} /*   11px==1em,     = 11px x Xem */ <br> @media all and (min-resolution: 120dpi) { <br> html {font-size: 55%} <br> html, x:-moz-any-link {font-size: 68.75%} <br> } <br> <b>#for-opera927 {/* dont' remove! */}</b></code> <br> <br><h2>  To bring or not the appearance of the site at 120dpi to 96 - you decide </h2>  I repeat - talking about the <i>starting</i> form of the site. <br>  The user with a screen resolution of 120dpi sees most of the sites in the same way as at 96 (since most of them are fixed with fixed sizes).  And folded in em - will see immediately enlarged.  Moreover, there will only be increased font size, and the graphics will remain the same as it was.  Agree - the site will not be as beautiful as it was originally conceived by the designer. <br><br>  So why not show it to the user in the way he intended? <br>  Increase the size of the font on it, he can at any second. <br><br><blockquote>  <i>By the way, it‚Äôs not a fact that the user himself set 120dpi.</i> <br>  He could just buy a laptop, where such default settings are. </blockquote><br>  <strong>And if the user has increased the basic font size in FF or Safari (which dpi ignores), in order to see better?</strong> <br>  Without fix, a site with em will have a huge font. <br>  And only in IE8 the site will be beautifully and correctly scaled. <br><br><h2>  How about future proof?  Will there be problems with future versions of browsers? </h2><br>  In the near future, the occurrence of problems is unlikely. <br>  Corrections will be required only in the following cases: <ul><li>  <i>Safari will begin to understand the CSS3 min-resolution property, but will not increase the size depending on the screen dpi.</i> <br>  In this case, we supplement the code with a rule similar to what we wrote for FF3.1. <br><br></li><li>  <i>Internet Explorer 9 will begin to understand min-resolution, retaining the same scaling model (adaptive full-page zoom) as in IE8.</i> <br>  This is fixed by fix for IE‚â•9 through conditional comments <sup>8</sup> . <br><br></li><li>  <i>Opera, instead of increasing the font size at high dpi, will begin to use the full-page zoom.</i> <br>  Treated by a rule similar to what we wrote for FF3.1. </li></ul><br><h2>  So here is a turnkey solution: </h2><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">html</span></span> {<span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">68.75%</span></span>} <span class="hljs-comment"><span class="hljs-comment">/*      - */</span></span> @<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> all and (min-resolution: <span class="hljs-number"><span class="hljs-number">120dpi</span></span>) { <span class="hljs-selector-tag"><span class="hljs-selector-tag">html</span></span> {<span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">55%</span></span>} <span class="hljs-comment"><span class="hljs-comment">/*   : 68.75/(120/96) */</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">html</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">x</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:-moz-any-link</span></span> {<span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">68.75%</span></span>} <span class="hljs-comment"><span class="hljs-comment">/*     - */</span></span> } <span class="hljs-selector-id"><span class="hljs-selector-id">#for-opera927</span></span> {<span class="hljs-comment"><span class="hljs-comment">/* dont' remove! */</span></span>}</code> </pre><br>  For IE6 / 7: <br><pre> <code class="hljs css"><span class="hljs-selector-id"><span class="hljs-selector-id">#header</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">scrollbar-track-color</span></span>:<span class="hljs-built_in"><span class="hljs-built_in">expression</span></span>( this.runtimeStyle.scrollbarTrackColor = <span class="hljs-string"><span class="hljs-string">"#fff"</span></span>, ((screen.deviceXDPI/screen.logicalXDPI) == <span class="hljs-number"><span class="hljs-number">1</span></span>) ? (document.body.style.fontSize = <span class="hljs-number"><span class="hljs-number">1</span></span>/(screen.logicalYDPI/<span class="hljs-number"><span class="hljs-number">96</span></span>) +<span class="hljs-string"><span class="hljs-string">'em'</span></span>) : false ); }</code> </pre> <br>  <strong>UPD:</strong> Opera 10.5+ for some reason does not respond to the rule <code>@media all and (min-resolution: 120dpi) { ... }</code> although on the docks, on the contrary, it is written that only in <a href="http://www.opera.com/docs/specs/presto25/css/mediaqueries/">presto 2.5 there was support for it</a> , but <a href="http://www.opera.com/docs/specs/presto211/css/mediaqueries/">it was not there before</a> (as then worked before?).  I tried various options, googled, searched the Opera forum, but found nothing / did not help. Judging by the <a href="http://www.w3.org/TR/css3-mediaqueries/">specs</a> , everything was correct in my code. After discussing with <a href="https://habrahabr.ru/users/pepelsbey/" class="user_link">pepelsbey</a> , <a href="https://habrahabr.ru/users/pepelsbey/" class="user_link">we</a> came to the conclusion that this was a bug, a bug report was sent.  Now it remains to wait until Opera fix.  Fortunately, in the west, where the 120dpi problem is common, almost no Opera, and we, where Opera is popular, have almost no 120dpi problem :) <br>  <strong>UPD2:</strong> According to <a href="https://habrahabr.ru/users/pepelsbey/" class="user_link">pepelsbey</a> Opera no longer supports min-resolution, so the code inside the main css is simply turned off.  You can leave the code for IE6 / 7. <br><br><br><blockquote>  Notes: <ol><li>  <a href="http://lusever.livejournal.com/15868.html">Pavel Kornilov: Thin CSS for Internet Explorer (expression)</a> </li><li>  <a href="http://msdn.microsoft.com/ru-ru/library/ms533722(en-us,VS.85).aspx">MSDN: deviceYDPI Property</a> </li><li>  <a href="http://msdn.microsoft.com/ru-ru/library/ms534130(en-us,VS.85).aspx">MSDN: logicalYDPI Property</a> </li><li>  <a href="http://msdn.microsoft.com/ru-ru/library/aa770067(en-us).aspx">MSDN: Adjusting Scale for Higher DPI Screens</a> </li><li>  <a href="http://msdn.microsoft.com/ru-ru/library/cc849094(en-us,VS.85).aspx">MSDN: Making the Web Bigger: DPI Scaling and Internet Explorer 8</a> </li><li>  <a href="http://blogs.msdn.com/ie/archive/2008/03/25/internet-explorer-8-and-adaptive-zoom.aspx">MSDN: Internet Explorer 8 and Adaptive Zoom</a> </li><li>  <a href="http://www.w3.org/TR/CSS21/syndata.html">According to the CSS2 specification, the browser must ignore the style if something unfamiliar is found in the selector.</a> </li><li>  <a href="http://msdn.microsoft.com/en-us/library/ms537512.aspx">MSDN: About Conditional Comments</a> </li></ol></blockquote><blockquote>  Learn more about what dpi is: <br><ol><li>  <a href="http://www.artlebedev.ru/kovodstvo/sections/70/">Manning: ¬ß 70. Screen Resolution.</a>  <a href="http://www.artlebedev.ru/kovodstvo/sections/70/">And a little about the origin of 72 dpi</a> </li></ol></blockquote></div><p>Source: <a href="https://habr.com/ru/post/42794/">https://habr.com/ru/post/42794/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../427931/index.html">Information architecture on the Internet, part 4</a></li>
<li><a href="../427933/index.html">Developers' opinion about Steam: maximum revenue and minimum responsibility for Valve</a></li>
<li><a href="../427935/index.html">Reinstalling the pre-installed Windows 8 at the end of 2018</a></li>
<li><a href="../427937/index.html">Codable for API requests and how to clean up the code</a></li>
<li><a href="../427939/index.html">We treat the problem of FHRP asymmetric routing</a></li>
<li><a href="../427941/index.html">We deploy Kubernetes HA-cluster on Baremetal using Kubeadm and Keepalived (simple tutorial)</a></li>
<li><a href="../427943/index.html">LG's 8K OLED TVs are waiting for June 2019, maybe the release will be delayed</a></li>
<li><a href="../427945/index.html">Hypervisor for Dummies</a></li>
<li><a href="../427947/index.html">Neural networks do not understand what optical illusions are</a></li>
<li><a href="../427949/index.html">Understanding statistics is hindered by our unwillingness to change.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>