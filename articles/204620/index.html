<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Stock Market Technologies: Direct Access to the Exchange</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In previous topics, we have already reviewed the general structure of the Russian stock market, talked about trading terminals that investors use, and...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Stock Market Technologies: Direct Access to the Exchange</h1><div class="post__text post__text-html js-mediator-article">  In previous topics, we have already reviewed the <a href="http://habrahabr.ru/post/200162/">general structure of the</a> Russian stock market, talked about <a href="http://habrahabr.ru/post/203668/">trading terminals</a> that investors use, and touched on the creation of robots for automated trading thanks to <a href="http://habrahabr.ru/post/201702/">the brokerage APIs</a> .  However, at a time when on the stock exchange for many traders <a href="http://habrahabr.ru/post/201062/">everything is decided in a</a> <a href="http://habrahabr.ru/post/202122/">fraction of a</a> <a href="http://habrahabr.ru/post/203010/">second</a> , the work according to the ‚Äúuser ‚Äì brokerage system ‚Äì core stock‚Äù scheme is not suitable for everyone.  That is why there was a technology that allows to optimize this chain as much as possible - direct access to the exchange. <br><br> <a href="http://habrahabr.ru/company/itinvest/blog/204620/"><img src="https://habrastorage.org/getpro/habr/post_images/96a/7a3/e81/96a7a3e81384faa1440e0070e0f07643.jpg" alt="image"></a> <a name="habracut"></a><br><br><h4>  Why do you need it? </h4><br>  The situation on the stock exchanges around the world in recent years has been evolving according to one scenario - traders from all over the world have come together in the struggle to achieve the highest speed of trading operations.  First of all, this is due to the rise of the so-called algorithmic trading in which operations are performed by special robots. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      As a rule, robots make a huge number of such operations in one trading session (from thousands to hundreds of thousands), earning each of them is not very much, but thanks to the volume, providing a stable income for its owner.  With this method of trading speed comes to the fore.  If the order sent to the market by your robot lingers on the way for at least a couple of milliseconds, then you may miss profits.  And just as well, if the market data will be sent to the robot with a delay, it will not be able to quickly respond to changes within the framework of a given algorithm, which is also fraught with losses. <br><br>  To minimize time costs, traders resort to a whole range of measures from optimizing the code of their software to acquiring ‚Äúbroad‚Äù communication channels.  However, the greatest gain in time can be achieved by removing the broker system from the bidding path. <br><br><h4>  What is direct access to the exchange? </h4><br>  Direct Access (DMA) is a technology of high-speed access to stock exchanges, in which the application is placed in the exchange trading system directly, bypassing the broker trading system.  All this allows to significantly reduce the time of delivery of the application to the exchange and receiving information about its status. <br><br>  With such an organization of the trading process, a trader can expect a significant time gain.  For example, if you are directly connected to the stock and currency markets of the Moscow Exchange, the processing time of an application decreases to <b>0.5 ms</b> , and in the FORTS and Standard markets it does not exceed <b>3</b> ms.  When using the same broker system, applications are processed in a time from 5-10 ms to 150-500 ms, depending on the broker system, market type and connection method.  Those.  through broker systems, applications are processed 10-100 times slower than with a direct connection (although this speed suits many merchants quite well). <br><br>  Naturally, the use of direct access technology is more expensive (often significantly) and is suitable only for those who perform a large number of operations per day and are willing to pay for their speed. <br><br><h4>  Where is it used? </h4><br>  Despite the fact that technically, thanks to the direct access to the stock exchange, traders can perform trading operations without a broker, the ‚Äúdocumented‚Äù access is still carried out through broker companies.  That is, in order to be able to directly trade on, say, the stock market of the Moscow Stock Exchange, an investor needs to enter into an agreement with a broker and already have him purchase the service of direct access to the stock exchange. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ebe/9ab/d8f/ebe9abd8f79a87d587046ee9bde82c6b.jpg" alt="image"><br><br>  As a result, Russian clients can gain access mainly to the markets that make up the Moscow Exchange: <br><br><ul><li>  <b>The stock market</b> is the largest stock market of the CIS countries, Eastern and Central Europe.  Access is provided to the ‚ÄúMain Market‚Äù sectors and to the Standard market sector. </li><li>  <b>Derivatives Market</b> (formerly FORTS) is the leading trading platform for derivatives in Russia and Eastern Europe. </li><li>  <b>The currency and precious metals market</b> is one of the most significant segments of the Russian financial market. </li></ul><br>  In addition, some brokers can arrange direct access to foreign exchanges, such as the London Stock Exchange (LSE), CME markets (futures and options), etc. <br><br><h4>  Types of protocols and connection methods </h4><br>  In general, the direct access scheme is as follows: a server with a trading robot is connected to an intermediate server, which is located as close as possible to the core of the exchange trading system.  On this server, special software is installed - the so-called gateways, which are used to transfer orders and market information directly to the trading system.  At the same time, various protocols and methods of connection are used to perform transactions and receive data. <br><br>  The <b>FIX (Financial Information eXchange)</b> protocol is a financial information exchange protocol that is a <a href="http://www.fixtradingcommunity.org/">global standard</a> for exchanging data between participants in exchange trading in real time.  It is supported by the world's largest exchange platforms, including the Moscow Stock Exchange. <br><br>  To obtain market information (Market Data), the <b>FAST</b> protocol <b>(Fix Adapted for STreaming)</b> is used, a <a href="http://en.wikipedia.org/wiki/FAST_protocol">standard</a> developed by the creators of the FIX protocol, which makes it possible to achieve significant data compression capabilities for transferring large amounts of market information with minimal time delays.  In addition to the Moscow Stock Exchange, it is used on the NYSE, Nasdaq-OMX and many other global sites. <br><br>  Also for direct connection using native protocols.  These protocols emerged before the merger of the MICEX and RTS exchanges into the Moscow Exchange. <br><br>  For example, in the markets related to the RTS (FORTS - futures and options, <a href="http://www.itinvest.ru/about/know/rts-standart/">Standard</a> ), <a href="http://fs.moex.com/files/4929">the</a> <b>Plaza II</b> <a href="http://fs.moex.com/files/4929">protocol is</a> used to directly perform transactions and obtain data in the connection mode. <br><br>  To perform trading operations and obtain stock exchange data on the sites previously belonging to the MICEX exchange (currency and stock markets), a bi-directional <b>MICEXBridge</b> <a href="http://moex.com/a574">gateway</a> <b>(TEAP) is used</b> . <br><br>  Technically, connection to the Moscow Exchange is possible in several ways, such as connecting via the Internet, connecting using the universal connection scheme or using the exchange colocation. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/393/cc4/b3a/393cc4b3a2957f4d4d839809517c0f96.gif" alt="image"><br>  <i>Universal wiring diagram</i> <br><br>  In more detail, the financial information transfer protocols and connection methods will be discussed in one of the following articles. <br><br><h4>  Soft </h4><br>  For those traders who do not use robots to trade, it is possible to trade on a direct connection using their more familiar trading terminal.  However, the software that works with the brokerage trading system does not work using exchange protocols of direct connection, therefore separate programs are created for it (some of them are presented <a href="http://www.itinvest.ru/services/access/programm-access/">here</a> ). <br><br>  In addition, due to the fact that direct connection technologies are open, investors can independently develop software for themselves.  However, since these programs ultimately have almost direct access to the core of the trading system, the exchange introduced a procedure for certifying trading solutions from third-party developers in order to rule out the likelihood of the ‚Äúmad robot‚Äù putting the entire system to rest.  This procedure is carried out as the development of individual investors, and software, created by special companies to order. <br><br><h4>  What else? </h4><br>  If you continue to move along the chain to reduce the time to perform operations, it becomes obvious that you need to place the trading robot not only logically, but also physically as close as possible to the servers with the core of the exchange trading system. <br><br>  The robot can be located either on a separate server that can be rack mounted in the data center (this service is called Colocation), or on a virtual machine (Hosting), which in turn is launched along with the virtual clients of other clients on the server also installed in the data center , next to the exchange servers.  Hosting services are provided, as a rule, only by large brokers who have their own counters in data centers. <br><br>  Now, the Moscow Exchange trading servers are located in data center M1.  Trading robots connected to exchange servers can be located in two zones - the so-called DMA-free collocation zone and the exchange's direct collocation zone. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bb8/9b7/1ea/bb89b71eacb41d4e677bfa80e207d89c.png" alt="image"><br><br>  Placing in the collocation zone of the exchange has obvious advantages: virtual machines and servers connect directly to the exchange core, while from the free zone the connection goes through the intermediate servers MICEX Gate and Plaza II.  In addition, FAST data acquisition and a dedicated channel for connecting to the IOB London Stock Exchange market (Russian ADR trading in London) are available only from the exchange collocation zone. <br><br>  One of the ways to significantly reduce infrastructure costs is to place the robot in a free colocation zone.  The services provided in it are almost similar to the services of the exchange colocation zone.  However, free cheese is only in a mousetrap, for the relative cheapness of the placement of the robot will have to "pay" a few milliseconds to increase the speed of transaction processing. <br><br>  In addition, since the interfaces for creating direct connection software do not initially imply any graphical possibilities for displaying information about tenders, the ability to synchronize orders and positions, orders and positions formed on a direct connection with the broker‚Äôs real-time trading system is almost a necessary thing for control of trade operations.  Therefore, many brokers try to provide their clients with such opportunities. <br><br>  All this, of course, costs money and, in comparison, with the usual access to the stock exchange through brokerage systems, rather large.  However, for those investors who have reached a certain level of income, such spending makes sense.  According to <a href="http://smart-lab.ru/company/rts/blog/33828.php">representatives of the exchange</a> , the owners of robots who won the Best Private Investor competition in 2011 spent on services related to direct access from 100 to 500 thousand rubles.  per month.  However, taking into account the fact that some merchants (although there were not so many of them) managed to reach a yield of 8000% and earn millions of rubles a month (taking into account all broker and exchange commissions), these expenses quickly paid off. <br><br>  That's all for today!  Thank you all for your attention, we will be happy to answer questions in the comments. </div><p>Source: <a href="https://habr.com/ru/post/204620/">https://habr.com/ru/post/204620/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../204610/index.html">Backup: success stories or how I survived OCZ Vertex 2</a></li>
<li><a href="../204612/index.html">Design and design of applications for Windows: look online today at 10:00 (MSK)</a></li>
<li><a href="../204614/index.html">Happy 3D and other graphics!</a></li>
<li><a href="../204616/index.html">Creating apps for LG Smart TV: tips for a beginner developer</a></li>
<li><a href="../204618/index.html">Where in the Silicon Valley SVODat investors and startups?</a></li>
<li><a href="../204624/index.html">CyanogenMod 10.2 released</a></li>
<li><a href="../204628/index.html">250 lines of code recognizing the date in Russian</a></li>
<li><a href="../204630/index.html">Webinar "User Experience in an Agile Process - When the Real World Comes Knocking" from Danish interface designer Trifork A / S Janne Yul Jansen</a></li>
<li><a href="../204632/index.html">Go 1.2 release</a></li>
<li><a href="../204636/index.html">How ESET handles state-sponsored malware</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>