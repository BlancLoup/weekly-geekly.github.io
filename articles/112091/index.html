<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How Facebook develops code</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Translation of the original article . 

 How Facebook develops code 
 I'm fascinated by how Facebook works. This is a very unique society, not easily ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How Facebook develops code</h1><div class="post__text post__text-html js-mediator-article">  <i>Translation of the <a href="http://framethink.wordpress.com/2011/01/17/how-facebook-ships-code/">original article</a> .</i> <br><br><h1>  How Facebook develops code </h1><br>  I'm fascinated by how Facebook works.  This is a very unique society, not easily recreated (and their method would not work for all companies, even if they tried).  These are notes accumulated from conversations with many friends from Facebook about how the company develops and releases software products. <br><br>  More than six months have passed since I collected these observations, and I am sure that even now Facebook is constantly improving its software development methods.  So these notes may be a bit out of date.  And also, it seems that the culture of Facebook, managed by developers, is receiving increasing public attention.  So I feel more comfortable now by releasing these notes ... HUGE thanks to the many people who helped bring this idea of ‚Äã‚ÄãFacebook from the inside together!  Thanks also to people epries and fryfrog, who made corrections and edited. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i><b>UPD</b> : translation is not a colorful literary work that is read and breathtaking.</i>  <i>Therefore, if possible, it is better to read the original in English.</i> <br><br><a name="habracut"></a><br>  Notes: <br><ul><li>  As of June 2010, the company consisted of almost 2,000 employees, with 1,100 employees 10 months before.  Almost doubling the staff in less than a year! </li><li>  The largest teams are specialists and operations department, about 400-500 people each.  Both teams make up almost 50% of the entire state. </li><li>  The ratio of the number of managers to the number of specialists is approximately 1: 7 or 1:10. </li><li>  All specialists go through a 4-6 week training at the training center, where they study the Facebook system by correcting errors (bug fixing) and listening to lectures of senior / full-time specialists.  Approximately 10% of people from each training class do not pass on and retire with recommendations from the company. </li><li>  After the training center, all specialists have access to the current database (accompanied by the standard lecture ‚ÄúGreat responsibility comes with great responsibility‚Äù and a clear list of ‚Äúfire-able offenses‚Äù, for example, disclosure of personal user data). </li><li>  [Ed.  thx fryfrog] ‚ÄúThere are also very good security measures to keep anyone in the company from doing terrible things that may come to mind.  Surrounding people have the opportunity to get in the way and try to solve the problem.  But if you still ‚Äúbecome‚Äù those who need help, this fact is recorded along with the cause and carefully considered.  To stray from the true path here is not allowed, of course. " </li><li>  Any specialist can change any part of the Facebook code and commit it at will. </li><li>  Culture driven by developers.  "Product managers are essentially useless here" - a quote from a specialist.  Specialists can change the specifications of the development process itself, change the order of working projects and introduce new ideas at any time. </li><li>  During the monthly inter-team meetings, the specialists are the only ones who report on the progress.  Marketing and management departments participate in these meetings, but if they are too frank, it is reported to management as ‚Äúa product spoke too much at the last meeting‚Äù.  They actually want the specialists to openly own their developments and be the main link for the projects that they have developed. </li><li>  The allocation of resources for projects is completely voluntary. <br><ul><li>  PM gathers a group of experts, trying to give them the opportunity to get excited, discussing their own ideas. </li><li>  Experts decide which idea sounds more interesting to start working on it. </li><li>  Experts communicate with their managers and say: "I would like to work on these 5 things during the week." </li><li>  Those.  Directors usually leave the preferences of specialists at their discretion, sometimes they can ask to do certain tasks in the first place. </li><li>  Specialists manage the entire development themselves - JavaScript on the frontend, database code on the backend and everything in between.  If they want to get the help of a designer (the staff of specialized designers is limited), they have to interest the designer strongly enough to take on their project.  The same applies to architects.  But in most cases, it is expected that the experts themselves will cope with all their needs. </li></ul><br></li><li>  Whether the idea of ‚Äã‚Äãa damn is worth it usually becomes clear during the week of its introduction and further testing on selected users, for example, 1% of the users of the state of Nevada. </li><li>  In general, experts prefer to work on infrastructure, scalability and "difficult problems" - the most prestigious areas.  It can be difficult to observe specialists who are enthusiastically working on front-end projects and user interfaces.  This is the opposite of what you can see in other consumer markets, where everyone wants to develop things that users touch directly, and you can point a finger at a specific part and say "I did it."  In Facebook, the backend, such as newsfeed algorithms, targeted advertising algorithms, memcache optimization, etc., are first-class projects that experts want to work on. </li><li>  Comits that affect some high-priority functionality (for example, a news feed) are tested by the code before the merge (approx. "Merge").  The news feed is very important, so Zuckerberg himself looks at any of her changes, but this is an exceptional case. </li><li>  [Hotfix - thx epriest] ‚ÄúThere is a mandatory code verification of all changes (by one or several specialists).  I think the clause simply explains that Tsuk does not look at every change personally. ‚Äù </li><li>  [Correction of thx fryfrog] ‚ÄúAll changes are reviewed by at least one person, and the system is such that anyone else can take and view your code, even if you did not ask.  Otherwise, it may lead to the deliberate introduction of malicious code into unverified code. ‚Äù </li><li>  Specialists are responsible for testing, correcting errors and supporting their work after launch.  Several unit-testing and integration-testing frameworks are available, but they are used only from time to time. </li><li>  [Hotfix thx fryfrog] ‚ÄúI would also like to add that we, of course, have a QA, just not an official band.  Every employee who is in the office or connected via VPN uses a version of the site that includes all the changes queued for the next display.  This version is updated constantly and usually 1-12 hours before the whole world sees it.  All employees are strongly advised to report any bugs they find, and it all works very well. ‚Äù </li><li>  re: surprised by the lack of QA or automated unit tests - ‚Äúmost professionals are able to write error-free code.  This is something they do not see the point of doing in most companies: when there is a QA department, it‚Äôs easy to just throw it all over to find mistakes. ‚Äù[Please note that this was a subjective opinion, I wrote it because of the stark contrast, which is seen in the standard development practices of other companies]. </li><li>  [Correction of thx epriest] ‚ÄúWe have automatic testing, including‚Äú push-blocking ‚Äùtests that are required to pass before laying out the release.  We absolutely do not believe in the phrase "most specialists are able to write error-free code," we more think that this is reasonable as one of the basic principles of development. " </li><li>  re: surprised by the lack of influence / control PM - managers have a lot of independence and freedom.  The key to independence is to build really good relationships with technical directors.  You need to be technically savvy enough not to suggest stupid ideas.  In addition, there is no need to ask for permission or pass some roadmap / backlog checks.  "My product director doesn't even know all the things that are on my roadmap."  Accordingly, there are several PMs, but they all feel that they have a great responsibility for a really important area in the company, with personal interest. </li><li>  By default, all commits are packaged in weekly releases (Tuesdays). </li><li>  With additional effort, changes can be posted on the same day. </li><li>  Releases on Tuesdays require the presence of all specialists who committed the code in the previous week for the release candidate to be posted. </li><li>  Before the start of the release, specialists should be present on a special IRC channel for a ‚Äúcall to display‚Äù, otherwise they will be punished in a public ‚Äúconfusion‚Äù. </li><li>  The operations team launches the release, gradually rolling it out to the servers. <br><ul><li>  Facebook has about 60,000 servers. </li><li>  There are 9 <strike>concentric</strike> levels for rolling out a new release. </li><li>  [Correction thx epriest] ‚ÄúThe nine steps of the calculations are not concentric.  There are 3 concentric stages (p1 = internal release, p2 = small external release, p3 = full external release).  The remaining six stages are auxiliary levels such as internal tools, video download server, etc. ‚Äù </li><li>  The smallest level is 6 servers. </li><li>  For example, every Tuesday release rolls out onto 6 servers (level 1), then the operations team monitors these 6 servers and makes sure that they work correctly before rolling out to the next level. </li><li> If there are any problems in the release (for example, errors fall, etc.), then the calculation is canceled.  The specialist who made the faulty commit is called to correct the error.  Then the calculation starts from the beginning. </li><li>  Thus, the release can go through the levels multiple times: 1-2-3-fixes.  Return to 1. 1-2-3-4-5 fixes.  Return to 1. 1-2-3-4-5-6-7-8-9-9. </li></ul><br></li><li>  The team of operators is really well prepared, united and very concerned about their work.  Their server metrics are more than just error, load, and memory usage reports ‚Äî they also include custom metrics.  For example, if a new release changes the percentage of people using Facebook, the operations team sees this in its performance and can therefore stop the release to clarify the problem. </li><li>  During the release calculations, the operations team uses an IRC-based paging connection that can send information to engineers via Facebook, e-mail, IRC, IM, and SMS, if their attention is required.  Ignoring the tellers' messages leads to a public "shame." </li><li>  As soon as the code is rolled out to level 9 and it is stable, the weekly vacuum is considered complete. </li><li>  If the functionality was not developed in time for the day of the weekly calculation, then it is not so critical (if it does not contain any hard external dependencies) - the functionality will simply be fully implemented when it is completed. </li><li>  Receiving svn-complaints (svn-blammed), public shame or too frequent delay of projects may affect the dismissal of a specialist.  "This is a very high-performance culture."  People who are unproductive or not super-gifted really put themselves in jeopardy.  Managers will literally take, will lead those who do not succeed aside within 6 months after hiring and they will say, ‚ÄúIt just didn‚Äôt work, you are not sufficiently suitable for this culture.‚Äù  Generally speaking, in relation to any company level, even those employed on the C-level and VP-level were quickly dismissed if they were not super-productive. </li><li>  [Correction, thx epriest] ‚ÄúPeople are not called to review errors.  They are invoked only if they asked the changes to be included in the release, but not to support the changes, when something went wrong (and if they did not find anyone to replace). ‚Äù </li><li>  [Correction, thx epriest] ‚ÄúBecause of the complaints, you will NOT be dismissed (approx. Translator: meaning svn-blame).  We are extremely lenient in this regard, and most of the main specialists laid out at least one terrible thing, including myself.  As far as I know, no one has ever been fired for making such mistakes. ‚Äù </li><li>  [Correction, thx fryfrog] ‚ÄúI also don‚Äôt know anyone who would have been fired for the errors in the article.  I know people who accidentally dropped the site.  They are working hard to correct what caused the problem, and everyone learns from it.  Public shame is much more effective than the fear of being dismissed, in my opinion. ‚Äù </li></ul><br><br>  It will be extremely interesting to see how the development culture on Facebook evolves over time, and especially to see how this culture can continue to expand with the expansion of the company itself to thousands of employees. <br>  What do you think?  Will a ‚Äúdeveloper-driven culture‚Äù work in your company? <br><br>  <i><a href="http://framethink.wordpress.com/2011/01/17/how-facebook-ships-code/">Original article</a></i> <br><br>  If the translation has inaccuracies and errors, please write in a personal, I will make corrections. </div><p>Source: <a href="https://habr.com/ru/post/112091/">https://habr.com/ru/post/112091/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../112083/index.html">Modern web forms: some more subtleties</a></li>
<li><a href="../112084/index.html">W3C introduced the HTML5 logo</a></li>
<li><a href="../112088/index.html">rospil.info and ruleaks.net underwent a DOS attack</a></li>
<li><a href="../112089/index.html">Logitech G9 -> G9x. Another history of equipment replacement service Logitech</a></li>
<li><a href="../112090/index.html">How to create your affiliate brand</a></li>
<li><a href="../112093/index.html">Toshiba EasyGuard Technology: New Standards for Laptop Security and Connectivity</a></li>
<li><a href="../112095/index.html">Rosnano invests in Plastic Logic</a></li>
<li><a href="../112097/index.html">VMware's flexible cloud organization for Internet projects (IaaS)</a></li>
<li><a href="../112098/index.html">Home Cisco VoIP Lab Based on GNS3 Emulator</a></li>
<li><a href="../112099/index.html">Parse JSR-334: code examples</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>