<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Work with Arduino</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="How it was? 
 When I had a desire to develop under the Arduino, I ran into several problems: 


- Select a model from the list of available 
- Attempt...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Work with Arduino</h1><div class="post__text post__text-html js-mediator-article"><h4>  How it was? </h4><br>  When I had a desire to develop under the Arduino, I ran into several problems: <br><ul><li>  Select a model from the list of available </li><li>  Attempts to understand what I need besides the platform itself </li><li>  Installing and configuring the development environment </li><li>  Search and analysis of test cases </li><li>  "Disassembly" with a screen </li><li>  "Disassembly" with a processor </li></ul><br><br>  To solve these problems, I looked through and read quite a lot of different sources and in this article I will try to review the solutions I have found and the methods for finding them. <br><br><h4>  Platform Selection </h4><br>  Before you start programming, you need to buy it at the beginning.  And then I ran into the first problem: it turned out that there were quite a few * dooins.  Here there is a wide range of Arduino and about the same wide Freeduino and other analogues.  As it turned out, there is not much difference what to take.  That is, some of these devices are a little faster, others are a little slower, some are cheaper, others are more expensive, but the basic principles of operation do not differ much.  Differences appear almost only when working with processor registers, and then I will explain how to avoid problems as much as possible. <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I chose the Arduino Leonardo platform as the most affordable and available at that time in the online store where I ordered everything.  It differs from the rest of the line in that it has only one controller installed on board, which also deals with working with a USB port and performing the tasks we will hang on our device.  This has its pros and cons, but it will not work on them during the initial study, so let's forget about them for now.  It turned out that it connects to the computer via micro-USB, and not USB-B, as most others seem to be.  This surprised me somewhat, but it also made me happy, because I, as the owner of a modern Android device, do not leave home without this cable. <br>  Yes, almost any * duo-compatible piece of iron is fed in several ways, including from the same cable through which it is programmed.  Also, one LED on almost all boards is placed directly on the controller board, which allows you to start working with the device immediately after purchase, even without having anything in your hands at all, except a compatible cable. <br><br><h4>  Range of tasks </h4><br>  I think it‚Äôs interesting to understand what can be done on it before writing down something as a piece of iron as such.  With Arduino, you‚Äôll realize almost anything.  Automation systems, ideas for ‚Äúsmart home‚Äù, controllers for controlling something useful, ‚Äúbrains‚Äù of robots ... There are a lot of options.  And a rather wide range of expansion modules that are extremely easy to connect to the controller board helps a lot in this direction.  Their list is quite long and promising, and they are searched on the Internet for the word shield.  Of all these devices, I considered for myself the most useful LCD screen with a basic set of buttons, without which, in my humble opinion, it would be completely uninteresting to engage in any kind of training projects.  The screen was taken <a href="http://pacpac.ru/product/dfr0009-lcd-shield-for-arduino/">from here</a> , there is also a description of it, and from the given page are links to the manufacturer‚Äôs official website. <br><br><h4>  Formulation of the problem </h4><br>  Once I got used to getting a new tool in my hands, I immediately put myself in some rather complicated and absolutely unnecessary task, bravely solve it, then put the source aside and only then take on something truly complicated and useful.  Now I had a very similar screen with a part of a mine from some Hollywood movie screen with all the necessary buttons that I had to learn to work with, and I also wanted to learn how to work with interrupts (otherwise what‚Äôs the point of using a controller?) So the first what came to mind was to write a clock.  And since the screen size allowed, it is also with the date. <br><br><h4>  The first steps </h4><br>  So I finally got all the purchased components and I collected them.  The screen connector connected to the controller board as a native one, the board was connected to the computer ... And here <a href="http://arduino.ru/Guide/Windows">this</a> article helped me a lot.  I will not repeat the same thing. <br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text">  The only thing I can say is that recalling youth (or rather the first ‚Äúproject‚Äù collected during the study of radio electronics in the Palace of Pioneers ‚Äî a multivibrator with two LEDs), I found 2 LEDs and corrected the example given in the article and began to blink by them :). </div></div><br><br><h4>  ‚ÄúSecond Steps‚Äù </h4><br>  The next logical question for me was ‚Äúhow to work with an LCD screen?‚Äù.  The official page of the device kindly provided me with links to the archive, which turned out to be 2 libraries with wonderful examples.  Just did not say what to do with all this.  It turned out that the contents just need to be unpacked into the libraries folder of the development environment. <br><br>  After that, you can open the example of GuessTheNumber.pde and fill in the board in a manner similar to the example with a flashing LED.  However, personally after the firmware, the screen remained evenly luminous and without a single letter.  After a brief search for the problem, it turned out that it was necessary to simply turn the potentiometer on the screen board with a screwdriver to set the normal contrast value. <br><br>  The command set used in the example is in principle sufficient for simple work with the screen, but if you want something more, you can open the source code of the LCDKeypad and LiquidCrystal libraries and see what else is there. <br><br><h4>  Program architecture </h4><br>  The main task of the watch is to count time.  And they must do this for sure.  Naturally, without the use of the <a href="http://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25B5%25D1%2580%25D1%258B%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F">interrupt</a> mechanism <a href="http://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25B5%25D1%2580%25D1%258B%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F">,</a> no one can guarantee that time is considered with sufficient accuracy.  Therefore, the calculation of time just need to leave them.  Everything else can be brought into the body of the main program.  And we have quite a lot of this ‚Äúrest‚Äù - all the work with the interface.  It would be possible to do otherwise, to create a stack of events created including the interrupt handling mechanism, and processed inside the main application, for example, would allow to update the screen no more than once every half a second (or by pressing a button), but I considered it superfluous for such a simple task, since besides redrawing the screen, the processor still has nothing to do.  Therefore, all the free time the program re-reads the state of the buttons and redraws the screen. <br><br><h5>  Problems with this approach </h5><br><h6>  Periodic screen changes </h6><br>  I really wanted to make flashing colons between hours, minutes and seconds, so that they burned for half a second, like in classic watches, but not sex.  But since the screen is being redrawn all the time, it was necessary to somehow determine in which half of a second they should be drawn, and in which - not.  The easiest thing was to do 120 seconds per minute and draw colons every odd second. <br><br><h6>  Flicker </h6><br>  When the screen is constantly redrawn, flickering becomes noticeable.  To prevent this, it makes sense not to clear the screen, but to draw a new text over the old one.  If the text itself does not change, then there will be no flickering on the screen.  Then the time reprint function will look like this: <br><pre><code class="hljs perl">LCDKeypad lcd; void showTime(){ lcd.home(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (hour&lt;<span class="hljs-number"><span class="hljs-number">10</span></span>) lcd.<span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(<span class="hljs-string"><span class="hljs-string">"0"</span></span>); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>       lcd.<span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(hour,DEC); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>       ,      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (second %2) lcd.<span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(<span class="hljs-string"><span class="hljs-string">" "</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> lcd.<span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(<span class="hljs-string"><span class="hljs-string">":"</span></span>); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    ,  <span class="hljs-number"><span class="hljs-number">120</span></span>    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (minute&lt;<span class="hljs-number"><span class="hljs-number">10</span></span>) lcd.<span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(<span class="hljs-string"><span class="hljs-string">"0"</span></span>); lcd.<span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(minute,DEC); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (second %2) lcd.<span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(<span class="hljs-string"><span class="hljs-string">" "</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> lcd.<span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(<span class="hljs-string"><span class="hljs-string">":"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (second&lt;<span class="hljs-number"><span class="hljs-number">20</span></span>) lcd.<span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(<span class="hljs-string"><span class="hljs-string">"0"</span></span>); lcd.<span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(second / <span class="hljs-number"><span class="hljs-number">2</span></span>,DEC); lcd.<span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(<span class="hljs-string"><span class="hljs-string">" "</span></span>); lcd.setCursor(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    <span class="hljs-keyword"><span class="hljs-keyword">x</span></span>=<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">y</span></span>=<span class="hljs-number"><span class="hljs-number">1</span></span>       lcd.<span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(<span class="hljs-string"><span class="hljs-string">" "</span></span>); lcd.<span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(day,DEC); lcd.<span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(months[month-<span class="hljs-number"><span class="hljs-number">1</span></span>]); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>       <span class="hljs-number"><span class="hljs-number">1</span></span>  <span class="hljs-number"><span class="hljs-number">12</span></span>,      <span class="hljs-number"><span class="hljs-number">0</span></span>  <span class="hljs-number"><span class="hljs-number">11</span></span> lcd.<span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(year,DEC); }</code> </pre> <br><br><h6>  Work with buttons </h6><br>  A similar situation with the buttons.  The pressed button is listed pressed for each run of the program, so for one press it can be processed any number of times.  We have to force the program to wait for "push-ups" separately.  Let's start the main program like this: <br><pre> <code class="hljs ruby">int lb=<span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>      void loop(){ <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> main program int cb,rb; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>  <span class="hljs-number"><span class="hljs-number">2</span></span> ,       ,      cb=rb=lcd.button(); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    ,        <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (rb!=KEYPAD_NONE) showval=<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>  ,        ,   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (cb!=lb) lb=cb; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    ,  , <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> cb=KEYPAD_NONE; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>   ,     .</code> </pre><br><br><h4>  Work with timer </h4><br>  Actually, that all work with the timer consists of two important components: <br><ul><li>  Initialization of the interrupt mechanism from the timer in a convenient mode </li><li>  Actually, interrupt handling </li></ul><br><h5>  Timer initialization </h5><br>  In order to start getting the interrupts we need, we need to configure the processor so that it starts generating them.  To do this, we need to set the registers we need to the required values.  What kind of registers and exactly which values ‚Äã‚Äãneed to be set, you need to look at the <a href="http://academy.cba.mit.edu/classes/embedded_programming/doc7766.pdf">datasheet</a> on the processor :(. Frankly, I strongly hoped that this information could be found in the documentation for the Arduino itself, but no, that would be too easy. Not only that. , for different processors, the bit numbers may differ, and I personally came across the fact that the attempt to set the bits in accordance with the datasheet on the neighboring processor led to disastrous results ... But still, everything is not as sad as it may seem, since of these bits  to have more names, they are more or less common to different processors. Therefore, use numerical values, we will not only names. <br><br>  First, remember that AVR microcontrollers have several timers.  Zero is used to calculate the values ‚Äã‚Äãof delay () and similar things, so we will not use it.  Accordingly, we use the first.  Therefore, further in the designation of registers will often skip unit, to configure, say the second timer, you need to put a deuce in the same place. <br><br>  All timer initialization must occur in the setup () procedure.  It consists of placing the values ‚Äã‚Äãin 4 registers, TCCR1A, TCCR1B, TIMSK1, OCR1A.  The first 2 of them are called ‚Äútimer-counter 1 control registers A and B‚Äù.  The third one is ‚Äútimer / counter 1 interrupt mask register‚Äù, and the last one is ‚Äúcomparison register A of counter 1‚Äù. <br><br>  Commands for setting bits are usually used as follows (of course, there are many options, but these are most often used): <br> <code>BITE |= (1 &lt;&lt; POSITION)</code> <br>  that is, slide ‚Äú1‚Äù on the POSITION bit right to the left and draw a logical ‚Äúor‚Äù between the target and received bytes.  When the controller is turned on, the values ‚Äã‚Äãof all these registers contain 0, so we just forget about the zeros.  Thus, after executing the following code <br><br><pre> <code class="hljs 1c">A=<span class="hljs-number"><span class="hljs-number">0</span></span>; A <span class="hljs-string"><span class="hljs-string">|= (1 &lt;&lt; 3)</span></span></code> </pre><br><br>  A value will become 8. <br><br>  The options for setting the timer are lots, but we need to get the following from the timer: <br><ul><li>  In order for the timer to switch to CTC operation mode (that is, to account mode with reset after a match, ‚ÄúClear Timer on Compare match‚Äù), judging by the datasheet, this is achieved by setting the WGM12 bits: 0 = 2, which in itself means setting the bits from second to zero to ‚Äú2‚Äù, that is, ‚Äú010‚Äù, command <code>TCCR1B |= (1 &lt;&lt; WGM12)</code> ; </li><li>  Since 16 MHz (this is the frequency of the quartz resonator on my board) is a lot, choose the maximum possible divider, 1024 (that is, only every 1024th clock will reach our counter), CS12: 0 = 5 </li><li>  To make so that interruption came at coincidence with register A, for this counter <code>TIMSK1 |= (1 &lt;&lt; OCIE1A)</code> </li><li>  When this value is reached, to specify the interrupt processing, this value is placed in the same register A of counter 1 (its whole name is OCR1A), the interruption, which we included in the previous paragraph. </li></ul><br><br>  How to calculate how much we need to calculate?  - It is easy, if the clock frequency of the quartz resonator is 16 MHz, then when the counter reaches 16000, a second would have passed if the division factor was 1. Since it is 1024, then we get 16000000/1024 = 15625 per second.  And everything would be fine, but we need to get the values ‚Äã‚Äãevery half second, and 15625 is not divided by 2.  So we made a mistake before and we will have to take a smaller division factor.  And the next one is 256, which gives 62500 ticks per second or 31250 in half a second.  We have a 16-bit counter, so it can count to 65,536. In other words, we have enough for half a second and a second.  We climb into the datasheet, then into the source and fix it on <code>CS12:0=4</code> , and then <code>OCR1A = 31249;</code>  (as I understand it, one clock goes either to a reset, or somewhere else, so there are tips to reset one more time from the received figure). <br><br><h5>  Interrupt handling </h5><br>  The syntax of the interrupt handling function has changed somewhat, now it looks like in the example below.  So don't be surprised if you see a slightly different description of the function name somewhere. <br><br>  Actually, it now consists of the reserved word ISR and an indication of a specific interrupt, which this function handles in brackets.  And inside this function, as you can see, there is nothing fantastic.  Even the mandatory RETI as you can see for us automatically inserts the compiler. <br><br><pre> <code class="hljs ruby">ISR(TIMER1_COMPA_vect) { digitalWrite(LEDPIN, !digitalRead(LEDPIN)); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> LEDPIN=<span class="hljs-number"><span class="hljs-number">13</span></span>.      .    <span class="hljs-symbol"><span class="hljs-symbol">:</span></span>) second++; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((second %<span class="hljs-number"><span class="hljs-number">2</span></span>) &amp;&amp; lastshowval) { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    <span class="hljs-number"><span class="hljs-number">7</span></span>     , lastshowval = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>       ,    , showval = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>      ,     } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!(second %<span class="hljs-number"><span class="hljs-number">2</span></span>) &amp;&amp; !lastshowval){ <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    ,    ,   . lastshowval = <span class="hljs-number"><span class="hljs-number">1</span></span>; showval = <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (second&gt;=<span class="hljs-number"><span class="hljs-number">120</span></span>) { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>   <span class="hljs-number"><span class="hljs-number">120</span></span>   .     ? second-=<span class="hljs-number"><span class="hljs-number">120</span></span>; minute++; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (minute&gt;=<span class="hljs-number"><span class="hljs-number">60</span></span>){ minute-=<span class="hljs-number"><span class="hljs-number">60</span></span>; hour++; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (hour&gt;=<span class="hljs-number"><span class="hljs-number">24</span></span>){ hour-=<span class="hljs-number"><span class="hljs-number">24</span></span>; day++; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( daylarge(day,month,year) /<span class="hljs-regexp"><span class="hljs-regexp">/  true    /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/        . ) { day=1; month++; if (month&gt;12){ month = 1; year++; } } } } } }</span></span></code> </pre><br><br>  I hope this article will be useful to someone, because there are not enough detailed instructions on how to work with the timer interruptions in Russian. </div><p>Source: <a href="https://habr.com/ru/post/170039/">https://habr.com/ru/post/170039/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../170015/index.html">How to connect a third-party browser in a C # application</a></li>
<li><a href="../170019/index.html">Programming template "Flowing Interface" in PHP. A fresh look</a></li>
<li><a href="../170021/index.html">Meet aspect-oriented programming in PHP</a></li>
<li><a href="../170025/index.html">Copyright and Donations</a></li>
<li><a href="../170027/index.html">Yandex shares collapsed by 10% after the publication of the annual report</a></li>
<li><a href="../170043/index.html">Oracle has released another batch of updates for Java</a></li>
<li><a href="../170045/index.html">Visualize the development of a PostgreSQL database.</a></li>
<li><a href="../170051/index.html">Australia chose an atypical way to save on software</a></li>
<li><a href="../170053/index.html">REMOTE: Office Not Required. Announcement of the third book</a></li>
<li><a href="../170055/index.html">‚ÄúJuggernaut: Revenge of Sovering‚Äù: mobile game development and promotion to international markets</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>