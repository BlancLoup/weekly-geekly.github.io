<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Descriptor graphics in MATLAB: the second horizontal axis</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When studying descriptor graphics in MATLAB, there was a shortage of ‚Äúuser friendly‚Äù functionality, namely the absence of a standard command that allo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Descriptor graphics in MATLAB: the second horizontal axis</h1><div class="post__text post__text-html js-mediator-article">  When studying descriptor graphics in MATLAB, there was a shortage of ‚Äúuser friendly‚Äù functionality, namely the absence of a standard command that allows you to add an additional horizontal axis. <br><br>  Adding an additional vertical axis, the <i>plotyy</i> command <i>also</i> provides for help to it, in the topics section, there is an example of adding an additional <i>x</i> axis, however this example, like the command itself, is not without flaws, which the developer himself kindly informs us with the phrase: <blockquote>  plotyy is not recommended </blockquote><a name="habracut"></a><br>  Perhaps we omit the analysis of the shortcomings of the team itself, but it is worth mentioning the shortcomings of the example specified by the developers: <br><br><ul><li>  Firstly, we are offered to locate an additional axis in the moveometonic area itself - at the top of the graph.  Eyes scatter when trying to analyze such a picture ... </li></ul><ul><li>  Secondly, it may not be clear how to sign such an axis even to an advanced matlab user; </li></ul><ul><li>  Third, why do we need another <i>y</i> axis? </li></ul><br><div class="spoiler">  <b class="spoiler_title">Help code</b> <div class="spoiler_text"><pre><code class="matlab hljs"><span class="hljs-built_in"><span class="hljs-built_in">figure</span></span> x1 = <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">0.1</span></span>:<span class="hljs-number"><span class="hljs-number">40</span></span>; y1 = <span class="hljs-number"><span class="hljs-number">4.</span></span>*<span class="hljs-built_in"><span class="hljs-built_in">cos</span></span>(x1)./(x1+<span class="hljs-number"><span class="hljs-number">2</span></span>); line(x1,y1,<span class="hljs-string"><span class="hljs-string">'Color'</span></span>,<span class="hljs-string"><span class="hljs-string">'r'</span></span>) title(<span class="hljs-string"><span class="hljs-string">' '</span></span>) <span class="hljs-comment"><span class="hljs-comment">%   ax1 = gca; % current axes ax1.XColor = 'r'; ax1.YColor = 'r'; ax1_pos = ax1.Position; % position of first axes ax2 = axes('Position',ax1_pos,... 'XAxisLocation','top',... 'YAxisLocation','right',... 'Color','none'); x2 = 1:0.2:20; y2 = x2.^2./x2.^3; line(x2,y2,'Parent',ax2,'Color','k') xlabel('f,') %  </span></span></code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">I visualize an example of help</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/x7/yj/bl/x7yjblcnh34u0cme1hg-oz-lp0o.jpeg" alt="image"><br></div></div><br>  To solve the above problems, we will write our code: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">Problem solving</b> <div class="spoiler_text"><pre> <code class="matlab hljs">clc clear all close all <span class="hljs-comment"><span class="hljs-comment">%%  ,   U=[5.5 5.5 5.5 5.2 5.1 5 5 4.8 4.8]; %   F=[30 40 50 10000 12000 14000 16000 18000 20000]; %   [xi,ni]=find(F==50); K=U/U(ni); %     %% figure %%     ,     set(0,'DefaultAxesFontSize',20,'DefaultAxesFontName','Times New Roman'); set(0,'DefaultTextFontSize',20,'DefaultTextFontName','Times New Roman'); %% ,     ax=get(axes,'Position'); %         a=gca; %     set(a,'Position',[ax(1) ax(2)+(ax(2)/2) ax(3) ax(4)-ax(4)/10]) %    plot(a,log(F),K,'-o'); %    xlim(a,[min(log(F)) max(log(F))]) %     grid on %  BX=get(gca,'XTick'); %     x     BY=get(gca,'YTick'); %     y     %%      xlabel('','Position',[BX(size(BX,2))+1.1 BY(1)+(BY(1)/100)]) ylabel('K(f)') %%       F1=num2str(F,'%0.0i\n'); %          ax2=[ax(1) ax(2)-(ax(2)/4) ax(3) 0]; %      b=axes('Position',ax2); %   xlabel('f, ', 'Position',[BX(size(BX,2))+1.1 BY(1)+(BY(1)/100)]) %    xlim(b,[min(log(F)) max(log(F))]) %    ,   xticks(b,log(F)) %    xticklabels(b,F1) %    xtickangle(90) %    ,   </span></span></code> </pre> <br></div></div><br>  Let's take a closer look at some code elements: <br><br>  Using the command below, we obtain the position of the axes in the form of a numeric array. <br><br><pre> <code class="matlab hljs">ax=get(axes,<span class="hljs-string"><span class="hljs-string">'Position'</span></span>);</code> </pre> <br>  The array <i>ax</i> is represented as [abcd], where a and b are the position of the lower left corner of the graph, horizontally and vertically, respectively.  That is, the coordinates of the origin;  c is the length of the horizontal axis, d is the length of the vertical axis. <br><br>  Introducing offsets, no golden section was calculated, everything was ‚Äúby eye‚Äù: <br><br><pre> <code class="matlab hljs">set(a,<span class="hljs-string"><span class="hljs-string">'Position'</span></span>,[ax(<span class="hljs-number"><span class="hljs-number">1</span></span>) ax(<span class="hljs-number"><span class="hljs-number">2</span></span>)+(ax(<span class="hljs-number"><span class="hljs-number">2</span></span>)/<span class="hljs-number"><span class="hljs-number">2</span></span>) ax(<span class="hljs-number"><span class="hljs-number">3</span></span>) ax(<span class="hljs-number"><span class="hljs-number">4</span></span>)-ax(<span class="hljs-number"><span class="hljs-number">4</span></span>)/<span class="hljs-number"><span class="hljs-number">10</span></span>])</code> </pre> <br>  So, ax (2) + (ax (2) / 2) - shifts the beginning of the standard axis vertically to half of the current one, i.e. up from the initial position, which is necessary for readability of the numbered scale marks.  The offset ax (4) -ax (4) / 10 sets the size of the first axes along the vertical, i.e.  reduces by one tenth of the current value, it is necessary for readability of the schedule signature, recall the <i>title</i> .  If you set d = 0, then the vertical axis will simply not be visible, which we will use in the case of: <br><br><pre> <code class="matlab hljs">ax2=[ax(<span class="hljs-number"><span class="hljs-number">1</span></span>) ax(<span class="hljs-number"><span class="hljs-number">2</span></span>)-(ax(<span class="hljs-number"><span class="hljs-number">2</span></span>)/<span class="hljs-number"><span class="hljs-number">4</span></span>) ax(<span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-number"><span class="hljs-number">0</span></span>];</code> </pre> <br>  The following code allows you to set the position of the labels of the horizontal axes: <br><br><pre> <code class="matlab hljs">BX=get(gca,<span class="hljs-string"><span class="hljs-string">'XTick'</span></span>); BY=get(gca,<span class="hljs-string"><span class="hljs-string">'YTick'</span></span>); xlabel(<span class="hljs-string"><span class="hljs-string">''</span></span>,<span class="hljs-string"><span class="hljs-string">'Position'</span></span>,[BX(<span class="hljs-built_in"><span class="hljs-built_in">size</span></span>(BX,<span class="hljs-number"><span class="hljs-number">2</span></span>))+<span class="hljs-number"><span class="hljs-number">1.1</span></span> BY(<span class="hljs-number"><span class="hljs-number">1</span></span>)+(BY(<span class="hljs-number"><span class="hljs-number">1</span></span>)/<span class="hljs-number"><span class="hljs-number">100</span></span>)]) xlabel(<span class="hljs-string"><span class="hljs-string">'f, '</span></span>, <span class="hljs-string"><span class="hljs-string">'Position'</span></span>,[BX(<span class="hljs-built_in"><span class="hljs-built_in">size</span></span>(BX,<span class="hljs-number"><span class="hljs-number">2</span></span>))+<span class="hljs-number"><span class="hljs-number">1.1</span></span> BY(<span class="hljs-number"><span class="hljs-number">1</span></span>)+(BY(<span class="hljs-number"><span class="hljs-number">1</span></span>)/<span class="hljs-number"><span class="hljs-number">100</span></span>)])</code> </pre> <br>  The BX array, as well as BY, is represented as [xy], where x is the horizontal position of the signature, y is the vertical position of the signature. <br><br><div class="spoiler">  <b class="spoiler_title">As a result, we can see such beauty</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/t0/zw/5s/t0zw5sihlxuv-l9g1_sdnra2wna.jpeg" alt="image"><br></div></div><br>  Below I will leave a couple of useful links. <br><br>  <a href="https://www.mathworks.com/help/matlab/ref/axes.html">command description axes</a> ; <br>  <a href="https://www.mathworks.com/help/matlab/ref/matlab.graphics.axis.axes-properties.html">settings command axes</a> ; <br>  <a href="https://www.mathworks.com/help/matlab/ref/plotyy.html">plotyy command</a> ; <br>  <a href="https://www.mathworks.com/help/matlab/creating_plots/graph-with-multiple-x-axes-and-y-axes.html">method of introducing an additional horizontal axis from the developers</a> . </div><p>Source: <a href="https://habr.com/ru/post/350836/">https://habr.com/ru/post/350836/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../350824/index.html">Remote educational game creation program</a></li>
<li><a href="../350828/index.html">The process of porting Linux device drivers</a></li>
<li><a href="../350830/index.html">Alan Kay: The future can not be built gradually</a></li>
<li><a href="../350832/index.html">6 interesting bugs that I encountered while making the game for VKontakte</a></li>
<li><a href="../350834/index.html">Chip Puzzle: an unbreakable processor will be developed for DARPA</a></li>
<li><a href="../350838/index.html">We study parallel computing with OpenMPI and a supercomputer on the example of hacking neighbor WiFi</a></li>
<li><a href="../350840/index.html">Sentenced to Russian hackers who attacked US exchanges</a></li>
<li><a href="../350842/index.html">Experience in the development of a non-commercial project by the Junior</a></li>
<li><a href="../350844/index.html">Design by Introspection</a></li>
<li><a href="../350846/index.html">Using the render props template outside of the render</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>