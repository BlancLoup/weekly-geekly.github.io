<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Today is the day of thick polar fox retail - the error of cash registers Shtrikh-M across the country</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="And I thought I would never see com-9 null modem 

 At one o'clock in Moscow in Vladivostok box office refused. Not only here, but throughout the city...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Today is the day of thick polar fox retail - the error of cash registers Shtrikh-M across the country</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/w9/dg/_s/w9dg_shvpewzmplnpgq6tlpo9z0.jpeg"><br>  <i>And I thought I would never see com-9 null modem</i> <br><br>  <b>At one o'clock in Moscow in Vladivostok box office refused.</b>  Not only here, but throughout the city.  It seems that all the models of Shtrih-M, which cost a lot of people in the network retail.  At two in the morning Moscow time, the bug jumped into the neighboring time zone.  At three in the morning - the next.  By morning, and covered Moscow. <br><br>  Shtrih-M stand, for example, according to RBC data, in Pyaterochka, in Magnets, in Magnolia, at gas stations of Gazprom and Rosneft.  And with us. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Work without cash can not be.</b>  This is a violation of the law.  The same Magnolia near our office in general today, as we saw, was closed.  Some small chains across the country did not open stores either. <br><a name="habracut"></a><br><h2>  What happened? </h2><br>  Shtrih-M caught a mistake, about which the manufacturer seems to have known in advance, or released a very, very operational hotfix.  At least, at 9 am Moscow time, the firmware was already available with instructions on their forum. <br><br>  Here is a <a href="https://forum.shtrih-m-partners.ru/index.php%3Ftopic%3D33008.0">thread with discussion</a> . <br><br>  At RBC <a href="https://www.rbc.ru/rbcfreenews/5a3a36a89a7947f4c7c6659a">,</a> there is a comment <a href="https://www.rbc.ru/rbcfreenews/5a3a36a89a7947f4c7c6659a">in the news</a> that if the autobathing was turned on at the checkout, there was no failure.  Auto-update is disabled by default at the factory config level. <br><br><blockquote>  The state ‚Äúafter active absence of paper‚Äù, the cash desk constantly goes into reboot when trying to print any document, when trying to reset the state and even after some commands. </blockquote><br>  According to the instructions from the Stroke forum (which, incidentally, fell quite quickly), it was either possible to very easily and quickly correct the error if the shift was not yet open - or it was long and painful if the shift had been opened. <br><br>  We managed to open all shifts except for one - at the checkout at the office. <br><br><h2>  What does all of this mean? </h2><br>  In order to issue a check to a customer, there are three components: <br><br><ol><li>  The interface for creating this check (for example, you can enter positions manually or get them from some type 1C software from a computer). </li><li>  Print module (he will give the check himself) </li><li>  And the registrar (earlier it was EKLZ, and now the online sending is a thing that records all the punched checks for tax). </li></ol><br>  The second and third components are usually combined into a module, which is called a "cash desk" and connected to a computer, where the interface stands for stuffing goods into a check.  This interface is usually associated with the product, but it is not very important for our history. <br><br>  It is important that checks can not be issued, because the cash register firmware failed. <br><br>  Buyers come, and we can not issue a check. <br><br>  Failure to issue one check is a fine of several tens of thousands of rubles.  The most terrible zalet, which only happens in retail after poisoned food. <br><br>  This meant that one could safely close the shops until the problem was fixed.  That is why this day P received such a poetic name. <br><br>  For us, December 20, sales are like a week in June.  For many, too. <br><br><h2>  What to do? </h2><br>  <b>Close.</b>  Then reflash the box office. <br><br>  The Strokes have the opportunity to flash online - on the cash registers we connected to the cashier workstations remotely, put the new firmware files into their software, and the cashier is hawala.  Rebooted and started with a new shift, it was possible to work. <br><br>  Unfortunately, it worked only on those interfaces where the cable for service access was COM 9pin - COM 9pin.  At all other cash registers, there was simply no connection to computers.  Because it is quite difficult to find a computer with COM 25pin, for example.  In my Astrakhan lies, this is my first 386SX with a clock frequency of 12-20 Megahertz.  It has ‚ÄúGolden Ax‚Äù for two, and there you can print in the Lexicon and transfer data on the null modem via a USB converter (whose processing power is more than the processor, actually, a computer, it seems) to a laptop. <br><br>  We had no such luxury. <br><br>  The alternative is to take a flash drive with firmware and insert it into the cash register.  We did the following: <br><br><ol><li>  Our engineers went to the hottest stores (where there is the most turnover) and began to raise cash registers there.  For example, our points on Taganskaya and Kurskaya (the best parking and a shop in the metro building) went up 40 minutes after identifying a bug.  Mega Belaya Dacha - in an hour and a half and so on. </li><li>  The senior points took part of the cash desks to the office - so that we could sew them right on the spot. </li></ol><br>  At this time, the Federal Tax Service did an incredibly adequate thing.  In general, in recent years, the state has terribly surprised me with its clear-cut solution of issues (here is another <a href="https://pravo.ru/story/view/139297/">example</a> that has nothing to do with our history).  So, the Federal Tax Service said that it was possible to issue goods without a check, but the next day it would be necessary to break through the checks for everything sold. <br><br>  Here is the <a href="https://www.nalog.ru/rn77/news/activities_fts/7139140/">link</a> .  Here is a quote: <br><blockquote>  ‚ÄúFrom 01:00 on December 20, 2017, the work of the cash register equipment of the manufacturers of Shtrich-M JSC, RR-Elektro LLC, Trinity LLC and Izmeritel Scientific and Technical Center LLC occurred a massive technical failure.  In this regard, the Federal Tax Service of Russia reminds that in accordance with clause 4 of article 4.3 of the Federal Law of May 22, 2003 No. 54-, when adjusting earlier calculations, a cash receipt of the correction is formed (a strict reporting form of the correction). <br><br>  Thus, in the event of a technical failure after the restoration of the work of the cash register, users are obliged to form a cash voucher for the correction with the total amount of unrecorded revenues. <br>  The Federal Tax Service of Russia draws attention to the fact that in such circumstances KKT users are not held administratively responsible, as in accordance with Part 1 and 4 of Article 1.5 of the Administrative Code of the Russian Federation, users are not guilty for not using cash registers, including when selling alcohol. ‚Äù </blockquote><br>  Correction checks are such things that allow you to update already issued checks with some accounting hemorrhoids, but at least somehow.  That is, not a ton of paperwork and explanatory notes for each check, but a relatively serial procedure. <br><br>  And - most importantly, you can sell goods. <br><br>  Some cash desks do not have a slot for flash drives.  For example, Elves PP F, which today, it seems, did not pass the test implementation in our network.  Just look for a com-connector on the computer. <br><br>  This is how it looks.  Cashbox: <br><br><img src="https://habrastorage.org/webt/ms/hw/sd/mshwsdranjcz57znjkwfv17wsfw.jpeg"><br><br>  We tear off all unnecessary from it: <br><br><img src="https://habrastorage.org/webt/84/hi/mq/84himqxtny2dbvi139hhe40iq3i.jpeg"><br><br>  We rummage to the board: <br><br><img src="https://habrastorage.org/webt/cy/nq/2c/cynq2cknuvqlsfdknbxclitkovi.jpeg"><br><br>  Here we put a flash drive: <br><br><img src="https://habrastorage.org/webt/rk/gn/ck/rkgnckh9gosjf2fv3fdhqmtdj-w.jpeg"><br><br>  Such a splitter can be useful here - because the slots are different: <br><br><img src="https://habrastorage.org/webt/td/4j/qf/td4jqf7vww0agh436ov0csodknw.jpeg"><br><br>  <b>Squeeze:</b> <br><br><blockquote>  The solution to the problem is to upgrade to the firmware that was released today.  Firmware dated 12/20/2017 <br>  Firmware can be downloaded from the <a href="https://www.shtrih-m.ru/">official site</a> .  With remote update: <br><br>  1. Connect the cashier via the COM-cable <br>  2. Connect remotely to the workplace of the cashier <br>  3. Install the Tera Term software and feed the firmware to it. <br>  4. Next-next-read the instruction-done and some typical settings. <br><br>  On-site: make an SD card with a new firmware, come, disassemble a cash register, pull out an SD card, insert a new one with the auto enrichment flag on, connect the cash register to the cashier‚Äôs workplace (so that she can see the uplink to a large network), upgrade reset, it is easy to exhaust, go to the next store.  The flash drive leaves with you, the old one returns to the cashier in the process. </blockquote><br>  The next problem is that if the cash desk does not work, then the card terminals will not work either.  In that case, if they are integrated.  This is the fourth component of the box office.  Karina, the head of retail and the former head of our IT department, is paranoid.  She suspected that sooner or later each retail faced a failure of cash registers.  Therefore, at all points except two there was one non-integrated terminal in stock.  The consequence is that we could accept cards. <br><br><h2>  Evening </h2><br>  40% of cash registers we asked remotely.  By evening, we restored most of the stores.  One of the cash registers, for example, took the senior point home to my car, connected it to the cash register with a cord, gave our support RDP access to his car - and sewed it in place.  One of the ticket offices was driven through traffic jams for 2 hours and 40 minutes just to the office from the store outside the metro. <br><br>  I think today, December 20, 2017, exactly go down in the history of retail in Russia.  Because when you need to justify some solution for disaster recovery, they will remember the day when the cash registers were covered. </div><p>Source: <a href="https://habr.com/ru/post/345188/">https://habr.com/ru/post/345188/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../345176/index.html">DataTalks # 8: User Study</a></li>
<li><a href="../345178/index.html">UIKit performance optimization</a></li>
<li><a href="../345180/index.html">Helping food delivery: logo redesign and corporate identity development</a></li>
<li><a href="../345184/index.html">REST is a new SOAP</a></li>
<li><a href="../345186/index.html">Render clouds on mobile devices</a></li>
<li><a href="../345190/index.html">We generate fake news headlines in the style of Tapy.ru</a></li>
<li><a href="../345192/index.html">Understand what happened with the course of Bitcoin</a></li>
<li><a href="../345194/index.html">Information security of bank non-cash payments. Part 2 - Typical IT infrastructure of the bank</a></li>
<li><a href="../345196/index.html">Attention! S in Ethereum stands for Security. Part 1. Blockchain things</a></li>
<li><a href="../345198/index.html">Dynamic identification of control objects</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>