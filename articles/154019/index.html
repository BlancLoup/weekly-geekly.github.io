<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Functional programming in OOP</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I think no one will argue that a good code is a code that not only executes, but also describes its task as much as possible (this, of course, refers ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Functional programming in OOP</h1><div class="post__text post__text-html js-mediator-article">  I think no one will argue that a good code is a code that not only executes, but also describes its task as much as possible (this, of course, refers primarily to business logic).  Moreover, it describes it not with the details of the algorithm, but with its signature (name, parameters, and return type), the signature of the methods being called, and the variables it uses.  In this case, the body of the method can be read from top to bottom without holding any additional context in memory. <a name="habracut"></a><br><br><h5>  Example </h5><br>  Let's consider the following class (the subject is somewhat unusual, but I hope that this will make the process of reading someone else's code less boring): <br><br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Invasion</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> SearchCriterion _searchCriterion = (<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GeniousCriterion()).or(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SexyCriterion()); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ExperimentProcedure _experimentProcedure = (<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MockProcedure()).then(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WatchProcedure()); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> _experience = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Experience(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> HumanBeing[] _humans; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ArrayList&lt;HumanBeing&gt; _chosenOnes; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">investigate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ updateChosenOnesList(); experiment(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateChosenOnesList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ _chosenOnes.clear(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (HumanBeing human : _humans) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_searchCriterion.satisfied(human)) _chosenOnes.add(human); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">experiment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (HumanBeing human : _chosenOnes) _experience.push(_experimentProcedure.<span class="hljs-keyword"><span class="hljs-keyword">do</span></span>(human)); } }</code> </pre> <br><h5>  Wherein </h5><br>  It is required to find out what the investigate method does or verify the correctness of its logic.  In this case, I would not like to understand the code of all the methods that it calls. <br>  The updateChosenOnesList method.  In this case, by the name of the method, you can determine that its implementation should update the _chosenOnes field.  At the same time, after reviewing the list of fields of the object, we can assume that the search for new ones will be among the _humans, and the search can use the _searchCriterion criteria.  However, it is not very convenient to check the list of object fields and trace the connection between their names and method names.  The situation is similar with the experiment method. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  And another example </h5><br>  Here is another implementation of this class (see comments): <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Invasion</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ‚Ä¶.......... public void investigate() { //    :      ,    //   updateChosenOnesList(); _chosenOnes = search(_searchCriterion, _humans); //    ,    _experience.push(experiment(_experimentProcedure, _chosenOnes)); } private Experience experiment(ExperimentProcedure procedure, HumanBeing[] humans) { Experience exp = new Experience(); for (HumanBeing human : humans) exp.push(procedure.do(human)); return exp; } private ArrayList&lt;HumanBeing&gt; search(SearchCriterion criterion, HumanBeing[] humans) { ArrayList&lt;HumanBeing&gt; result = new ArrayList&lt;HumanBeing&gt;(); for (HumanBeing human : humans) if (criterion.satisfied(human)) result.add(human); return result; } }</span></span></code> </pre><br>  Actually, this was the application of a functional programming style.  Let's see what the pros and cons of this option compared with the first. <br><br><h5>  pros </h5><br>  They are not, but there are a lot of minuses.  Joke. <br>  First, it is now easier to read the method of investigate and understand what it does, and whether it does what it should, and if it does, whether it is correct.  In this case, you can not look anywhere except for the body of the method itself, including the list of fields. <br>  Secondly, now private methods do not depend on the state of the object.  It turns out that the result of their execution is determined solely by the transmitted parameters (i.e. when you call, you do not need to monitor the state of all fields of the Invasion object ‚Äî you can see which fields are transmitted and which are modified).  At the same time, those parameters that are used as arguments were formed / initialized in the body of the investigate method ‚Äî i.e.  see the entire algorithm and all changes that have occurred with the state of Invasion. <br><br><h5>  Minuses </h5><br>  Performance - alas.  At the same time, there is no point in sadness, unless the investigate method is called very often. <br>  It is necessary to pass additional parameters to the methods - this is quite critical if there are many of them - 4 or more.  On the other hand, if there are a lot of parameters on which the method depends, then perhaps it is a reason to think about changing the architecture (usually adding a new class, such as SexyCriterion, which may contain the necessary parameters). <br><br><h5>  For example </h5><br>  Generally speaking, in this case there was no need for closed methods.  It was enough to add the objects of the search criteria and procedures to the ability to fully process the collection of objects.  However, there were maximally distributed responsibilities between different types of objects, primarily in order to reduce the amount of code for example.  It often happens that either there is no time to build such a model, or there is no need (for example, when there is a suspicion that the requirements may change and you need to apply the simplest solution).  In such cases, the functional style can somewhat simplify the reading and support of the code, while practically without increasing the time spent on development. <br><br><h5>  Epilogue </h5><br>  You can write code that does not contain methods with a large number of lines (for example, more than 10) and does not require private methods (such methods can always be placed in a separate object of behavior).  However, the process of building such a code is not simple. <br>  Therefore, it is possible to break the complex code of the public method into several private function-methods, depending solely on their parameters, and not modifying the state of the object.  In such a case, only public methods (not private) should address the state of the object directly - i.e.  methods that are part of its interface.  This allows you to reduce a complex algorithm to a set of methods, each of which can be easily read, provided that the variables, methods, and their parameters have received suitable names. <br>  And, just in case, if suddenly there are questions, where is the PLO, and where is the functional programming.  OOP - based on this paradigm, responsibilities are divided between the objects Invasion, Criterion, Procedure, Experience.  Functional programming - with its help the internal logic of Invasion is implemented, private methods in this case are functions (they depend only on the input parameters and do not modify the state of the Invasion object). <br><br><br>  Thanks for attention!  Please write in the comments your opinions, comments and criticism. <br><br>  <b>Posted on 09/10/2012, with some comments</b> <br>  Please note that it is not only about editing the state of an object with internal (auxiliary) class methods, but also about the fact that these methods do not have to read the state of an object themselves (they receive all their parameters as arguments). <br>  Naturally, this principle does not pretend to be absolute, there are cases when closed methods are better given the opportunity to refer to the state of a class.  First of all, this is the case when there may be duplication of code in the form of transferring the same set of function arguments in different places (or editing the same set of fields based on the results of the function).  For example, if the updateChosenOnesList method should be called in several places and each time it needs to pass the same internal fields of an object, then it is definitely better implemented in the first example. <br>  Those.  The purpose of the article is not to specify the coding method, but to pay attention to the advantages that the use of the method-functions gives. <br>  The topic of the possibility of editing functions of its arguments was NOT considered here. </div><p>Source: <a href="https://habr.com/ru/post/154019/">https://habr.com/ru/post/154019/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../154009/index.html">Clustering in the Rambler-Maps API</a></li>
<li><a href="../154011/index.html">How to speed up insert in sqlite</a></li>
<li><a href="../154013/index.html">Is the possibility of free editing a wiki an open door for proving the FSB?</a></li>
<li><a href="../154015/index.html">Game "Life" and the simulation of natural selection</a></li>
<li><a href="../154017/index.html">NAMT team car robot at Robokross 2012</a></li>
<li><a href="../154021/index.html">Casting on models printed on a 3D printer</a></li>
<li><a href="../154023/index.html">Runet Today, October 8, 2012. Experts of the issue: Maria Kosenkova, Vladimir Gabrielyan</a></li>
<li><a href="../154027/index.html">Application Architecture: ASP.NET MVC Programmer's View</a></li>
<li><a href="../154031/index.html">Training users of their organization</a></li>
<li><a href="../154033/index.html">C ++ language traps</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>