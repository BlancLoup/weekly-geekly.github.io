<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Commodore 64 Secret Colors</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="COMMODORE FORMAT release 13, Q & A: 

 It is impossible to increase the number of colors in the C64 palette, but there are tricky subroutines that all...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Commodore 64 Secret Colors</h1><div class="post__text post__text-html js-mediator-article"><blockquote><img src="https://habrastorage.org/files/2f9/7da/db7/2f97dadb7022450bae94c4598130f4f9.png" align="right">  COMMODORE FORMAT release 13, Q &amp; A: <br><br>  It is impossible to increase the number of colors in the C64 palette, but there are tricky subroutines that allow you to create the impression of more colors.  Activision's Dragon Breed uses very fast color switching to give an intermediate tone, and PD coders have created a Fli-Pic mechanism that allows you to use more than four colors per block of characters. </blockquote><br><a name="habracut"></a><br>  In 1991, I was fourteen years old.  You could say that I was obsessed with computers.  I was the proud owner of a Commodore 64 brown bread-box with an exotic upgrade ‚Äî Oceanic 5.25 ": <br><br><img src="https://habrastorage.org/files/b26/e05/745/b26e05745d174e6484f450d2fa9d9988.jpg"><br><img src="https://habrastorage.org/files/59e/eaf/ddf/59eeafddf00046fdaaf338c4c7ec8396.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In May of that year, I read COMMODORE FORMAT and devoured reviews of C64 games.  Once I read a headline that I had in my head for <i>years</i> .  Under the picture of a colorful robotic dragon was written: <br><blockquote>  Wait ... You can't get this color at 64!  But this is possible if you change the pale green and blue 50 times per second! </blockquote><br>  It shocked me deeply. <br><br>  Thanks to the miracle of the Internet and the passion of some great archivists of journals, we can dig out the very page that amazed me a long time ago: <br><br><img src="https://habrastorage.org/files/edb/43c/c8f/edb43cc8f7d149e18d0e4f025eb891b3.png"><br><br>  It was rather unusual.  If you had any 8-bit computer, you are familiar with its color scheme.  This simple photo blew my mind.  This blue color <b>was simply impossible</b> . <br><br>  According to the title, if you alternate two different colors quickly enough, a completely new color appears for the eye.  How did this new secret color look on your shitty CRT TV in the early 90s?  The screen shot was just a hint.  Did he shine?  Flickered? <br><br>  Twenty-six years later, I found the answer. <br><br>  This article is about <b>switching colors</b> on Commodore 64. Below are some <b>interactive examples</b> .  I have not found anything similar, so it is possible that this is the only resource on this topic. <br><br>  Let's think a bit about why the secret colors were so big? <br><br><h2>  The palette defined the computer </h2><br>  The palette was important. <br><br>  A typical 8-bit computer could only display <b>sixteen colors</b> .  These colors were hard-wired while developing the computer. <br><br>  This means that the palette defines a fixed frame for the computer.  She limited how the images look and feel.  This fundamentally distinguished the Commodore 64 from the ZX Spectrum, from Apple II, from the Amstrad CPC.  You could immediately tell on which computer a particular screenshot was taken. <br><br>  It is expected that the design of the hardware palette was extremely important.  The artists worked with only sixteen colors and needed carefully selected tones that would help them reflect the real world. <br><br>  It didn't always work out well.  It is a pity the screaming palette sewn into the <a href="https://en.wikipedia.org/wiki/List_of_8-bit_computer_hardware_palettes">Sinclair ZX Spectrum</a> , which produced images like these: <br><br><img src="https://habrastorage.org/files/0e1/cfc/99e/0e1cfc99e6ca406ea308cda5c3b5561b.png"><br><br>  It so happened that the Commodore engineers did an excellent job.  The picture below shows the palette in the upper left corner.  The rest of the image shows the nice gradients possible on the C64. <br><br><img src="https://habrastorage.org/files/b7d/632/25a/b7d63225a7aa458b899674e093fbd33d.png"><br><blockquote>  Note: This is not my picture!  The original author is unknown, but I <a href="http://atariage.com/forums/topic/142211-commodore-64-vs-atari-800-xl/%3Fp%3D1996168">found it here</a> . </blockquote><br>  Note: <br><br><ul><li>  The palette has more <b>earthy tones</b> that correspond to real objects.  Compare with the explosion of paint Spectrum. </li><li>  There are <b>many shades of gray in it</b> .  This allows you to display monochrome images, as well as such things as metal.  In the end, neutral shades of gray can be mixed with other colors, placing them next. </li></ul><br>  Therefore, the owners of C64 are accustomed to such screens: <br><br><img src="https://habrastorage.org/files/a98/9c1/3dd/a989c13dd21c410eb3cab5e203199dc9.gif"><br><br><img src="https://habrastorage.org/files/d22/5c0/a18/d225c0a18bfe4d9eb96ceff9122f9f95.gif"><br><br>  Such pixel images look much better on typical fuzzy CRT TVs, due to softer blending. <br><br>  After years of close study of this palette, she ingrained herself in my brain.  I recognize these colors right away.  They resonate with the frequency of nostalgia and make my brain tremble.  I even use these colors as my <a href="https://github.com/air">avatar on Github</a> : <br><br><img src="https://habrastorage.org/files/5c5/2bb/145/5c52bb145940474c97b8c010190f5c1e.png"><br><br>  Given this, the idea that it is possible to destroy this line and invent <i>new secret colors</i> on C64, which can be made to see something that does not exist, seemed magical. <br><br><h2>  Color switching </h2><br>  If you quickly change two colors, for example, 50-60 times per second, then you can deceive your eyesight and see what is not.  For a car with sixteen colors, even one or two additional colors can significantly enrich the scene. <br><br>  Since we all live in the future, and you are reading a fully programmable document on a supercomputer, let's try to repeat this effect. <br><br><h3>  Simple example </h3><br>  Here is a square that changes color from red to blue and back every second. <br><br>  <i>Translator's note: From here on, switch to the Result tab to launch the example.</i> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <b>Click on it to start switching colors at 60fps</b> (or, in some cases, with the maximum refresh rate of your browser screen. It would be great to see this on the 144 Hz monitor). <br><br>  Noticed how the third color appeared?  <i>This shade of purple is not displayed.</i>  Only red and blue squares appear, and your eye sees a color that is not there.  I do not deceive you.  This is a color switch in action. <br><br>  Press again to slow down and check. <br><br><h3>  Dragon Breed Example </h3><br>  Back in 1991, I was intrigued by the review, but I never had that game.  What did the Dragon Breed really look like? <br><br>  First of all, it turns out that the unusual color switching is not used in the game at all until you reach the end of STAGE 3, where the boss, the robotic dragon, begins to shine in that strange blue color. <br><br><blockquote>  Lyrical digression: We have an interesting opportunity - to launch the original arcade.  As we live in the future, you can <a href="http://www.playretrogames.com/5470-dragon-breed">play Dragon Breed</a> right now in your browser (press the power button, wait for the download, press 5 to insert a coin, then 1 to start).  This is amazing.  Unfortunately, to see the dragon that interests us, you will have to reach the end of STAGE 3. Good luck. </blockquote><br>  Surely someone recorded this effect on a longplay C64 video?  After a little digging, I found our famous dragon boss boss on Youtube: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/jpfT7Lhn5rE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  But, since the video is recorded at 30fps, two problems emerge: <br><br><ol><li>  It looks bad.  Sprites are annoyingly flickering. </li><li>  The color switching effect is completely lost. </li></ol><br>  If you were playing on an emulator with 50 / 60fps, the effect would be convincing. <br><blockquote> Lyrical digression: A note about frames per second.  The European version of PAL C64 is updated at 50 frames per second, while NTSC systems in the US are updated at 60 frames per second ( <a href="http://unusedino.de/ec64/technical/misc/vic656x/pal-ntsc.html">link</a> ).  Strange, yes?  This means that the effect is a bit more convincing on an American car. </blockquote><br>  Can we show the Dragon Breed effect on a webpage?  Let's get to STAGE 3 (using cheats, of course) and save the boss in a couple of shots: <br><br><img src="https://habrastorage.org/files/816/f1e/288/816f1e288a734a4b963e59e677850cd3.png"><br><img src="https://habrastorage.org/files/d1d/4b0/16d/d1d4b016d7634bce87cc03e86cc4408a.png"><br><br>  Further, with a little help from JavaScript, we can alternate the images and see the original effect at 60fps.  On the phone, you will probably first need to zoom out a little.  Once again, <b>click to slow down or activate color switching</b> : <br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Look at all three images, we created a completely new color! <br><br>  Also note the shimmering dragon tail: this is a consequence of the C64 sprites restriction.  The computer does not support a sufficient number of sprites to display the six tail segments and all enemies at the same time, so only three are shown and each frame alternates with a flickering effect. <br><br>  We did it!  We recreated the color switching mechanism of Dragon Breed in the browser.  Is it done? <br><br><h3>  Palette example </h3><br>  Not.  You can mix these two colors, and what other combinations are possible?  In other words, what is the set of all possible secret colors on this machine? <br><br>  Let's find out.  Put on your glasses!  We'll bring each unique pair of colors on the Commodore 64 into one beautiful epileptic blast.  <b>Again, click to switch modes</b> : <br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Pretty cool, huh?  Looks like a tartan for Clan McBue. <br><br>  Keep in mind that each shimmering square above is a unique pair of colors.  I selected the combination used in Dragon Breed using the border. <br><br>  Please note that some combinations have an unpleasant strobe effect.  <i>But not all of them!</i>  Why it happens?  It's all about <i>brightness</i> .  Two colors of the same brightness are perfectly combined, while black and white will flicker very much. <br><br>  Switch to quick mode, find the color you want.  Then click to slow down the rotation and see which two colors blend together to form this shade. <br><br><h2>  the end </h2><br>  That's the whole story of how I read about the secret colors of C64 in 1991, and then twenty-six years later I finally got to them.  If you are still interested and your eyes have not yet flowed out, then the bonus content is located further. <br><br><div class="spoiler">  <b class="spoiler_title">Article from 1991</b> <div class="spoiler_text">  Before the Internet, computer magazines were the only way to find out what was happening in the technology world.  It‚Äôs hard to describe how exciting it was to get a <a href="https://en.wikipedia.org/wiki/Zzap!64">ZZAP</a> release <a href="https://en.wikipedia.org/wiki/Zzap!64">!</a>  <a href="https://en.wikipedia.org/wiki/Zzap!64">64</a> or <a href="https://en.wikipedia.org/wiki/Commodore_Format">COMMODORE FORMAT</a> and read reviews about all the new games, or consider advertising peripheral devices, and then beg for their parents / Santa. <br><br>  For maximum nostalgia, here are the full review pages of Dragon Breed from COMMODORE FORMAT: <br><br> <a href=""><img src="https://habrastorage.org/files/883/2de/e8a/8832dee8af5344deb3c75b71d85cfcba.jpg"></a> <br></div></div><div class="spoiler">  <b class="spoiler_title">Color Switching Mention</b> <div class="spoiler_text">  This is a list of all links to 8-bit color switching that I found on the Internet. <br><blockquote>  COMMODORE FORMAT release 5, <a href="https://archive.org/stream/commodore-format-magazine-05/Commodore_Format_Issue_05_1991_02">Dragon Breed Review</a> : <br>  Additional colors are obtained by switching colors, where pixels are assigned different colors every 1 / 50th of a second, creating the impression of a completely new shade. </blockquote><blockquote>  COMMODORE FORMAT release 13, <a href="https://archive.org/stream/commodore-format-magazine-13/Commodore_Format_Issue_13_1991_10">Q &amp; A</a> : <br>  It is impossible to increase the number of colors in the C64 palette, but there are tricky subroutines that allow you to create the impression of more colors.  Activision's Dragon Breed uses very fast color switching to give an intermediate tone, and PD coders have created a <a href="http://www.studiostyle.sk/dmagic/gallery/gfxmodes.htm">Fli-Pic</a> mechanism that allows you to use more than four colors per block of characters. </blockquote><blockquote>  COMMODORE FORMAT, Issue 32, <a href="https://archive.org/stream/commodore-format-magazine-32/Commodore_Format_Issue_32_1993_05">Mayhem in Monsterland Developer Diaries</a> : <br>  As with our background graphics, we wanted more than 16 komodorovsky colors for sprites.  However, we could not use the same blending method as for the level graphics (See CF28), because we do not have enough sprite colors.  Therefore, for sprites, I implemented a different blending procedure that quickly switches between two colors (equal in brightness) to create new shades. </blockquote><blockquote>  <a href="http://www.c64.com/interviews/routledge.html">Interview C64.com</a> with the programmer of the Dragon Breed Ashley Rutledge: <br>  I often recall a dragon with this strange shade of blue-blue. </blockquote></div></div><div class="spoiler">  <b class="spoiler_title">How to change pictures at 60fps</b> <div class="spoiler_text">  When writing programs for this article, I found it quite difficult to make two images change at 60fps without visual artifacts. <br><br><ul><li>  GIF (normal GIF, not <a href="http://blog.imgur.com/2014/10/09/introducing-gifv/">GIFV</a> ) is too slow for 60 frames per second. </li><li>  The backgroundImage manipulation works, but it flickers like hell. </li></ul><br>  To make it work, you need to create a pair of Image objects, set their src attribute, and wait for them to fully load (using an event) before the animation cycle begins.  Whew!  If necessary, review the source code of this article or review <a href="https://gist.github.com/air/61d6a8510924664e8cde">this code</a> . </div></div><br>  OK, now for sure!  Thanks for reading.  If you liked it, I would like to hear comments from you below. </div><p>Source: <a href="https://habr.com/ru/post/325398/">https://habr.com/ru/post/325398/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../325386/index.html">10 applications to protect devices on Android</a></li>
<li><a href="../325388/index.html">You know what transducers are.</a></li>
<li><a href="../325390/index.html">This is not a joke - only a few days left ... before the deadline at GSoC 2017</a></li>
<li><a href="../325392/index.html">Leningrad telephone broadcast: the first Soviet chat</a></li>
<li><a href="../325394/index.html">Horoscope for developers</a></li>
<li><a href="../325400/index.html">Pattern recognition</a></li>
<li><a href="../325404/index.html">CodePlex is closing</a></li>
<li><a href="../325410/index.html">More about the introduction of timezone in the long-lived project</a></li>
<li><a href="../325412/index.html">The first of April 2017 on the Internet</a></li>
<li><a href="../325416/index.html">Bayesian multi-armed gangsters against A / B tests</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>