<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Driving LED strip with Raspberry Pi and Android</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, frequenter and guest Habra. 

 I have been reading Habr for a long time, but there was still no reason to write an article until I was once aga...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Driving LED strip with Raspberry Pi and Android</h1><div class="post__text post__text-html js-mediator-article"> Hello, frequenter and guest Habra. <br><br>  I have been reading Habr for a long time, but there was still no reason to write an article until <s>I was</s> once again not reminded of the existence of the Raspberry Pi and of such a thing as the WS2801 LED Strip.  They have already <a href="http://habrahabr.ru/post/168657/">written</a> about this once, but to contact Arduina to get an Embileyt, so I decided to take a chance and write my article <s>with Lego and Kitties</s> . <br><img src="https://habrastorage.org/getpro/habr/post_images/0c6/4c5/bdb/0c64c5bdbe203d2866047e0cf2f4152d.jpg"><br>  The article will have few pictures, several videos, a lot of text, including lyrical digressions not by sabzh and very little code, but at the very end there will be links to the project on Gitkhab.  And now about everything in order: <br><a name="habracut"></a><br>  It all started with the fact that I learned that one colleague regularly carries Raspberry Patties and sells them with a minimum of markups, especially to his colleagues.  Once again, I heard about the pies, I could not resist and bought it from him.  What it is and what you can do with it, I will not tell, and so everyone knows, and who does not know, they can search for articles full.  I myself played with him for a week or two, set it up for what I needed and calmed down. <br><img src="https://habrastorage.org/getpro/habr/post_images/e2c/3f3/11d/e2c3f311dc4da3878556ec49e1dc0d33.jpg"><br><br>  But here the same colleague threw an interesting info: you can order a controlled (‚Äúaddress‚Äù) ‚Äú <a href="http://www.ebay.com/itm/271287745533%3FssPageName%3DSTRK:MEWNX:IT%26amp%3B_trksid%3Dp3984.m1439.l2649">garland</a> ‚Äù from Ibei (+ <a href="http://www.ebay.com/itm/190705402077%3FssPageName%3DSTRK:MEWNX:IT%26_trksid%3Dp3984.m1439.l2649">power supply</a> , <a href="http://www.ebay.com/itm/221281086091%3FssPageName%3DSTRK:MEWNX:IT%26amp%3B_trksid%3Dp3984.m1439.l2649">connectors</a> and <a href="http://www.ebay.com/itm/40pcs-X-20cm-2-54MM-Male-to-Female-Dupont-Wire-Jumper-Cables-For-Arduino-Shield-/400561379398%3Fpt%3DLH_DefaultDomain_2%26hash%3Ditem5d43519846">connecting wiring</a> to your taste and color) and the simplest way to get DYI Ambilight as described, for example, <a href="http://pibob.nadnerb.co.uk/hardware.html">here</a> .  Or, you can just play with this garland as you please: in theory, it allowed at any time to light any of the lamps with any RGB color, and after all I had dreamed of owning such a thing for several years! 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Without hesitation, I ordered the necessary parts on Ibei.  The estimated delivery time was about 3 weeks, so there was still time to be distracted by preparations for the trip to Sweden for a week.  Upon returning, there was still a week at home, trying to find in advance as much information as possible about how the garland would need to be plugged in, looking for various scripts and libraries to write my own control algorithms.  There was not a lot of sensible, one <a href="http://habrahabr.ru/post/168657/">Habra article</a> , though it‚Äôs about a link with Arduina and several links led to <a href="https://github.com/scottjgibson/PixelPi">this</a> Python project.  Since I didn‚Äôt have any tasks to embed, I don‚Äôt have a soul for Python (I love Java + Android), I didn‚Äôt find much useful information for myself.  There was no free time, the garland did not come at all, I decided to roll on Android a simple garland simulator application and write a couple of control algorithms of the latter.  The application was so simple and not less crooked that it didn‚Äôt even show anyone. <br><br>  Last weekend I was brought back from Novosibirsk a long-awaited box of Lego 42009, which temporarily eclipsed my thoughts about garland. <br><img src="https://habrastorage.org/getpro/habr/post_images/fa8/a02/631/fa8a026312c30f9ebb62b866cb4688ed.png"><br>  Lego assembly plans were scheduled for next weekend, when, roughly, the arrival of a parcel from China was expected.  I thought for a long time what more I was waiting for - the grand opening of the Lego box and the assembly of the top one at the moment of Lego Technic set or the game with the dream of the past few years.  The package arrived on Friday evening, and on Saturday morning it was planned to begin assembling the constructor and removing the Time-Lapse assembly process. <br>  Of course, I could not resist on Friday evening and tried to connect the garland to the Patty, but due to the lack of the necessary wiring, it was difficult to connect to the RPIO ports of the RPi.  Having found some old postings, having disassembled the old mouse, having read articles on the Internet, I tried to connect a garland at least somehow and run test scripts.  But all was in vain.  When power was connected to the garland, the first light was turned on with white light and that was it, there were no reactions, regardless of what I started on Pirog.  Having suffered badly, I decided to postpone the matter until the morning. <br><br>  In the morning a friend-photographer came to help with the assembly and filming of Lego, along with him they also unsuccessfully tried to connect a garland to Pirog.  An hour later, they abandoned this business and went to prepare the environment of the apartment for the assembly of the Mobile Crane. <br>  <strong>[lyrical digression]</strong> <br>  The assembly went off with a bang, the crane met all expectations, turned out to be even more than I thought, the assembly process itself was not simple and fascinating.  Time-lapse video assembly can be viewed <a href="http://youtu.be/6t_HFbybUyM">here</a> . <br>  <strong>[/lyrical digression]</strong> <br><br>  Since they started later than planned, finished even later, they did not return to the garland anymore.  But on the afternoon of the next day, another friend came, who was already a specialist - a piece of iron, and at the same time brought very necessary wiring of different lengths and connectors for connecting the wreath to the Cake.  Sat down with him poking around.  Spent 5 hours, probably and seemingly unsuccessfully.  At first, the garland did not react to external stimuli, that is, us, in any way.  Then sometimes the first few lights began to flash when the connectors connected to the cake were touched.  An hour later, we found out that if we short-circuit the wires that should go to the Cake with our fingers, the first few lights of the garland would light up or go out.  Hence, it is still working, it remains to understand why the scripts do not work.  A cursory analysis of the Python script showed that the <code>/dev/spidev0.0</code> device is <code>/dev/spidev0.0</code> , and I actually had it on the system.  In parallel, I tried to google the problem, found something, applied what they would say, but without success. <br><br>  By the end of the day, completely exhausted, the guest left me, and while he was driving home, I decided to wander into the Pie config <br> <code>raspi-config</code> <br>  and discover the main epic fail of the last couple of days, namely that SPI was turned off ... <br>  Turned on.  The script worked, it was possible to turn on and off all the diodes in white and run two infinite actions - fade (gradual appearance and extinction with random colors), or chase - a consistent light running from beginning to end. <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/Df_MH5esAIQ%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700190,15700253,15700256&amp;usg=ALkJrhgt1O8p1leXYyuj4NRv4yoBlwZjMA" frameborder="0" allowfullscreen=""></iframe><br>  Happiness knew no bounds.  I even made a couple of photos of the built Lego-crane in the light of a garland: <br><img src="https://habrastorage.org/getpro/habr/post_images/350/af4/3c2/350af43c2b67cbaa204163f47230d534.jpg" alt="Lego 42009"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/693/bc3/6f2/693bc36f2055e86cf10c0ea816a8d5f0.jpg" alt="Lego 42009"><br><br>  The scarce capabilities of the script quickly got bored, but I was quite problematic to write something of my own on Python.  Therefore, it was decided to write a simple Java application for Raspberry and start it tomorrow.  But "tomorrow" - it was Monday.  It was on this Monday that I did not want to go to work more than on all other Mondays earlier.  Having survived Monday, running away from work early, hanging a garland under the ceiling, on the top edge of the carpet that hangs and covers a large hole in the wallpaper in my apartment, I sat down at the code, but then another trick was waiting for me, however, the expected one. <br>  Having installed all the necessary java-packages I decided to write Hello World, compile and run right on the cake.  Compiling even such a simple application on Rapsberry Pi took a few seconds, about 5, what can we say about the following code?  This was quite inconvenient, as well as the lack of a normal IDE.  Therefore, it was decided to write code on a large PC, fill-in compiled classes with ftp on the cake and run them there.  Later, when the project has grown to a large number of files began to collect immediately in jar-s.  Went to the most interesting.  The main question was: how to make the garland light up using Java.  Google search didn‚Äôt give anything, the C sources were located using libraries and a couple of scripts on Python.  At the last it looked like this: <br><br><pre> <code class="python hljs">spidev = file(<span class="hljs-string"><span class="hljs-string">"/dev/spidev0.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"wb"</span></span>) spidev.write(pixels) time.sleep(refresh_rate/<span class="hljs-number"><span class="hljs-number">1000</span></span>)</code> </pre><br>  where <em>pixels</em> is an array of bytes, 3 times larger than the number of light bulbs in the garland.  Every three elements in the array are the values ‚Äã‚Äãfor the RGB channels for each light bulb.  Suppose we have a garland of 50 light bulbs; in order to light it all up, we need to write to the <code>/dev/spidev0.0</code> file <code>/dev/spidev0.0</code> array of the form <code>{R0, G0, B0, R1, G1, B1, ... R49, G49, B49}</code> .  No headers, just an array of bytes and <code>flush</code> after. <br>  The main idea was that at any given time you need to write the <strong>entire</strong> array to the file, even if you want to light one light bulb.  The time delay is needed in order to see all the changes on the tape, however, it can be varied as you like. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/705/48b/79c/70548b79c07103a487a274023b04f85c.jpg"><br><br>  Returning to Java, there the code for writing to the file looks almost the same ( <code>try-catch</code> omitted): <br><br><pre> <code class="java hljs">FileOutputStream spidev = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FileOutputStream(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> File(<span class="hljs-string"><span class="hljs-string">"/dev/spidev0.0"</span></span>)); spidev.write(bytes); spidev.flush(); Thread.sleep();</code> </pre><br>  Actually, having written a simple class of working with the device, I wrote a couple more wrapper classes for various simple actions, such as lighting a certain lightbulb with a given color, lighting the whole garland with the desired color, the same chase and fade.  A day later, I screwed in a visualization of the stack and something else. <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/9yWkIKv4zWU%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700190,15700253,15700256&amp;usg=ALkJrhhWEIxPVrqwudaaql8ZGRvdo8R2BA" frameborder="0" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/7x-u4uS9H6w%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700190,15700253,15700256&amp;usg=ALkJrhh9g59EO3JzvnywTh6o80w4t_BLbA" frameborder="0" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/GJeTf6aCsdA%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700190,15700253,15700256&amp;usg=ALkJrhj6JcqUfrTFw7AncYhCU7U9jSLYcQ" frameborder="0" allowfullscreen=""></iframe><br>  But again, to run these "algorithms" is not enough interest and it is also quickly tired.  I wanted direct control.  It was decided to write a simple server, again on Java, which would receive string data, parse them and interact with the garland on the basis of sent ‚Äúcommands‚Äù.  For convenience, it was done so that the port, the number of lights in the garland and the device ( <code>/dev/spidev0.0</code> ) were set using the parameters at server startup. <br>  The client, in turn, on Android.  In the first version of the client, there was a minimal functionality ‚Äî turn on / off, set the color using the RGB sliders, and ‚Äúmove‚Äù the light with one more slider.  In spite of my dislike ‚Äúfrom childhood‚Äù on client-server code, the written code worked and even correctly. <br>  I quickly realized that 50 bulbs would not be enough for me and I ordered as many more in terms of the fact that later they could be folded into a 10x10 square, and this is a new field of imagination, you can make at least a classic snake. <br>  A little later, a student friend of mine helped rewrite the client-server code for a more correct architecture, now the client communicated with the server using a predetermined set of commands, and an <code>Object</code> type parameter served as data for each command, therefore, there could be anything.  Also, to protect against ‚Äúunauthorized access‚Äù, a password field was added to the server, and sent it by the first command on the client.  If it did not fit, the server disconnected the client.  This was done in case someone knows by what name / aypishnik and port my pie is available so that he cannot try to play with a garland. <br>  Having reworked the code for a new architecture, I began to increase the functionality in breadth: I added new interface elements and new light control algorithms. <br><img src="https://habrastorage.org/getpro/habr/post_images/168/99b/409/16899b4095f7a0eca5ec17a5c3a71fa2.png" alt="Android Client"><br>  Added and flickering RGB-colors and random and a rainbow, including moving.  Even NFC was bolted to turn on / off the bulbs when reading any label (removed from the final version). It is worth mentioning that the SpeechRecognizer Google was bolted, which was configured to perceive literally 5 teams: ‚Äúred‚Äù, ‚Äúgreen‚Äù, ‚Äúblue‚Äù, "Yellow" and "rainbow".  And, in my opinion, the most interesting functionality is the use of the entire length of the garland as ... equalizer, probably more correctly to say: the number of consecutively lit lamps depended on the volume of the sound perceived by the microphone of the smartphone.  Especially impressive is the example of the track <strong><a href="https://www.youtube.com/watch%3Fv%3DOgES-n_Lcms">Caspa - Sir Rock A Lot</a></strong> : <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/B-oEXm-bMWY%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700190,15700253,15700256&amp;usg=ALkJrhjkXCnsGW0QpOFGewP9yEpmXtZWvQ" frameborder="0" allowfullscreen=""></iframe><br><br>  General overview of the functionality of the application: <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/YGFpugwB_o4%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700190,15700253,15700256&amp;usg=ALkJrhitVPAPnY7wb-hSknQpLVYrWpPfnA" frameborder="0" allowfullscreen=""></iframe><br><br>  After that, I pampered a little more with a couple of algorithms, rules, found bugs on the server and client, and also slightly refactored the code.  Now the main control screen looks like this: <br>  All code is laid out on Gitkhab ( <a href="https://github.com/pbelov/rpi-leds-control-library">library</a> , <a href="https://github.com/pbelov/rpi-leds-control-server">server</a> and <a href="https://github.com/pbelov/rpi-leds-control-android">client</a> ) for those who are not indifferent.  I would be glad if he will help you with anything.  I myself have plans to fork in version 2.0, the functionality of which I haven‚Äôt yet defined for myself, but I‚Äôm planning something like this: <br><ol><li>  Control screen selection: straight tape, rectangle or square. </li><li>  Expansion of current functionality for a tape stretched into one straight line. </li><li>  Writing a packet of algorithms for the variant, when the tape is folded into a square and a rectangle: <br><ul><li>  Light bulb control </li><li>  Equalizer from the center of the square </li><li>  Static text / Running line </li><li>  Snake </li><li>  anything else.  If you have ideas, write, I will gladly discuss and take note. </li></ul></li></ol><br>  From the little things that I forgot to write in time: <br><br>  1. It may be necessary to adjust the color of each diode before writing to the file because the light turns out to be ‚Äúcold‚Äù and gives up in blue at values ‚Äã‚Äãof 255-255-255.  In the Python script, which I found, this is how it is done: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">correct_pixel_brightness</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pixel)</span></span></span><span class="hljs-function">:</span></span> corrected_pixel = bytearray(<span class="hljs-number"><span class="hljs-number">3</span></span>) corrected_pixel[<span class="hljs-number"><span class="hljs-number">0</span></span>] = int(pixel[<span class="hljs-number"><span class="hljs-number">0</span></span>] / <span class="hljs-number"><span class="hljs-number">1.1</span></span>) corrected_pixel[<span class="hljs-number"><span class="hljs-number">1</span></span>] = int(pixel[<span class="hljs-number"><span class="hljs-number">1</span></span>] / <span class="hljs-number"><span class="hljs-number">1.1</span></span>) corrected_pixel[<span class="hljs-number"><span class="hljs-number">2</span></span>] = int(pixel[<span class="hljs-number"><span class="hljs-number">2</span></span>] / <span class="hljs-number"><span class="hljs-number">1.3</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> corrected_pixel</code> </pre> <br>  2. The icon was drawn to me by the same person who helped to record the time-lapse built by Lego.  It is based on a photo of my cat. <del>  proprietary </del><br><img src="https://habrastorage.org/getpro/habr/post_images/dab/148/897/dab148897e98cb4081c163b9d17fc8a4.jpg" alt="protracted cat"><br><br>  3. The described actions with the <code>/dev/spidev0.0</code> file work only for tapes with a WS2801 controller.  Last weekend, they gave the DR to a friend ( <a href="https://habrahabr.ru/users/necrys/" class="user_link">necrys</a> ) just a ribbon, and not a garland (this time just for the embailite), very much hoping that there was also WS2801.  There was no time to order from China, they bought from us in the city, the seller claimed that the controller was the same, although there were no inscriptions on the packaging and the tape itself.  In the midst of the birthday celebration they decided to try to connect.  Having unsuccessfully spent a few hours, it would seem that, knowing all the pitfalls, they could not turn it on until they accidentally tried to change the protocol to SM16716, after which it lit the tape and even worked chase, but still did not want to fade.  Writing a simple c-program did not solve the problem, an attempt to write an array of 3 bytes lit such sections of the tape that we could not understand the logic of work that day.  After the experiments, by the middle of the next day, the new owner of the tape managed to lighten up and understand the algorithm of working with the tape: you need to write an array of 4 bytes per file to the luminous unit, where the first byte should always be 0xFF and the rest is RGB.  Changing the value of the first byte leads to the behavior of the tape, the meaning of which has not yet been understood.  It is in mind of the difference of the controller, the assembly and patching of boblight, which would work with it correctly and it took several days to connect it to xbmc.  But after the result was achieved: <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/8XJjZ0MAqNo%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700190,15700253,15700256&amp;usg=ALkJrhjP6NJ2wP77uU82G4IPQCknKA7G1A" frameborder="0" allowfullscreen=""></iframe><br>  For the code, please do not kick much, unfortunately, I don‚Äôt have any experience of writing large projects, and when I started writing code, I didn‚Äôt think that it would grow to this.  And this is the first experience with Git and laying out his code in Open-Source. <br><br>  Thank you, I hope it was interesting. </div><p>Source: <a href="https://habr.com/ru/post/203532/">https://habr.com/ru/post/203532/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../203516/index.html">Python version manager</a></li>
<li><a href="../203518/index.html">Bitcoin Should I trust?</a></li>
<li><a href="../203520/index.html">Rails redirecting old url</a></li>
<li><a href="../203522/index.html">Excel data loading and unloading using OpenXML</a></li>
<li><a href="../203530/index.html">Bitcoin - an explanation for exponential growth</a></li>
<li><a href="../203536/index.html">Plotagon is his own director</a></li>
<li><a href="../203538/index.html">A brief history of discrete multimedia audio cards</a></li>
<li><a href="../203540/index.html">Angular. Why do not embedded nested</a></li>
<li><a href="../203542/index.html">I bought food in Subway for bitcoins and it was cool</a></li>
<li><a href="../203544/index.html">How to transfer data from Yandex.Direct and Google AdWords advertising systems to Google Analytics</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>