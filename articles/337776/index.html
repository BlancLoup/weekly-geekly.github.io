<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Professional penetration testing: the fate of real geeks, fans of the command line or not?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When it comes to hacking, no matter if it is ethical or not, many of us present a dark room with monitors and a bespectacled professional with red eye...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Professional penetration testing: the fate of real geeks, fans of the command line or not?</h1><div class="post__text post__text-html js-mediator-article"><p>  When it comes to hacking, no matter if it is ethical or not, many of us present a dark room with monitors and a bespectacled professional with red eyes from constant lack of sleep.  Is a geek really able to hack the system, and is it really necessary to involve only such experts in order to test the security of their systems?  Is it possible to equip a competent IT specialist with hacking tools and logical methodology and get a quality result?  Let's try to figure it out. </p><br><img src="https://habrastorage.org/web/c2d/b39/eac/c2db39eac36b4c1db8c829b31f4e5d6a.png"><a name="habracut"></a><br><br>  In order to understand the components of the modern methodology of testing security, we need to consider its main "building blocks" - the basic approaches: the classic penetration test, scanning for vulnerabilities and configuration analysis. <br><br><h3 id="test-na-proniknovenie">  Penetration test </h3><br><p>  During the penetration test, the security tester acts like a real hacker: finds those vulnerabilities that are easiest to exploit, exploits them, and gets access to the right information.  As a rule, the goal is the need to obtain administrative access or access to specific information (for example, data on salaries of top managers). </p><br><p>  The key feature of penetration testing is that not all of the existing vulnerabilities are searched for, but only those that are necessary to achieve the chosen goals (as in the case of a real hack).  Since the combat exploitation of vulnerabilities occurs, there may be negative consequences in the form of frozen services, server reboot, headaches for system administrators, listening to the security manager of the company by the management of the company. </p><br><h3 id="skanirovanie-na-nalichie-uyazvimostey">  Vulnerability Scan </h3><br><p>  Imagine that you decide to hack the site with your bare hands.  What will you do?  First of all, try to determine the version of the used Web-server and / or CMS-system.  What for?  To ‚Äúgoogle‚Äù and find information about already known vulnerabilities and available exploits.  So the attackers did 15 years ago, and they do the same now. </p><br><p>  This process can be automated, as many developers of security analysis tools did: vulnerability scanners appeared.  Of course, the scanners do not use Google, but are looking for information about vulnerabilities in their own database. </p><br><p>  Vulnerability scanning allows you to quickly ‚Äúshovel‚Äù IT infrastructure and find problem spots.  But the scanner acts linearly and can miss interesting combinations of vulnerabilities, which together create a serious security gap. </p><br><p>  Consider the following example.  A large manufacturing company ordered security testing.  On the first day of internal testing at the reception, we notice on the sticker the account password recorded by the caring hand of the secretary.  We are taking a photo of it, and after five minutes with this account we launch a special utility to search for ‚Äúshared‚Äù folders (now this scanner is part of the same Metasploit Framework).  As a result, we find a workstation of a technical support officer responsible for ‚Äúrolling‚Äù OS images onto the machines of new employees of the company. </p><br><p>  For its and our convenience, the IT specialist ‚Äúshared‚Äù a folder with prepared images for everyone.  We did not fail to take advantage of such kindness and ‚Äúpulled out‚Äù the password hash of the local administrator, who ‚Äúunwound‚Äù overnight.  Full access to all workstations of the enterprise was obtained in one day!  Using a conventional scanner would allow you to find a ‚Äúshared‚Äù folder, but the scanner could neither look inside nor unwind the hash. </p><br><p>  An important intermediate conclusion: the use of vulnerability scanners speeds up testing, but in no case does not ensure its completeness. </p><br><h3 id="analiz-konfiguracii">  Configuration Analysis </h3><br><p>  Any component of the IT infrastructure (OS, DBMS, active network equipment, etc.) contains a lot of settings that determine the level of security.  The correct settings can be found in the vendor documentation or in the articles of experts sharing their experience.  On the basis of such materials, organizations such as the <a href="https://nvd.nist.gov/ncp/repository">National Institute of Standards and Technology</a> and the <a href="https://www.cisecurity.org/">Center for Internet Security</a> have been preparing checklists for many years, allowing them to audit the configuration of various systems.  There are similar closed projects within the communities of IT auditors of the Big Four companies (BIG4). </p><br><p>  Configuration analysis can be carried out both manually and using automated tools, but in any case implies administrative access to the system being checked.  This is similar to if we have a pretty girl-system administrator on our knees and show us everything.  Configuration analysis is the safest security analysis option, but at the same time the longest. </p><br><p>  Having dealt with three approaches to security testing, it's time to remember that all this should be done with a specific purpose. </p><br><h3 id="celi-testirovaniya-zaschischennosti">  Objectives of security testing </h3><br><p>  Increasingly, customers testing security voiced the following two goals: to identify the maximum number of real vulnerabilities in order to quickly close them and check the vigilance of company employees. </p><br><p>  To achieve the goals, it is impossible to conduct a full-fledged testing, using only one of the considered approaches.  We will not cover all existing vulnerabilities with a clean penetration test, limiting ourselves only to scanning for vulnerabilities, we will dig in a large number of ‚Äúgarbage‚Äù triggers, and errors in the settings detected during configuration analysis will not always lead to real possibility of penetration.  It is necessary to combine approaches. </p><br><h3 id="kompleksnoe-testirovanie-zaschischennosti">  Comprehensive security testing </h3><br><p>  To form an integrated security testing approach, it is advisable to take a sequence of intruders' actions and add the use of effective tools that real hackers cannot afford because of their unmasking signs. </p><br><p>  The process of testing security is divided into the following stages in accordance with the stages of real hacking: </p><br><ol><li>  search for targets; </li><li>  search for vulnerabilities; </li><li>  exploitation; </li><li>  expansion of privileges and zones of influence. </li></ol><br><h4 id="shag-1-poisk-celey">  Step 1. Search for targets </h4><br><p>  The only stage that the project for testing security may not be, if the customer immediately gave us a list of goals. </p><br><p>  If testing is external, and the customer only tells us the name of the company, then at this stage we are engaged in a full-fledged Internet intelligence, the goals of which are the information resources of the customer and his staff (especially if the project involves the use of social engineering methods). </p><br><p>  In this step, we study: </p><br><ul><li>  sites related to the customer‚Äôs company, namely: we will find out domain names, email addresses, organization structure, etc .; </li><li>  job sites: carefully read who the CIO of the customer is looking for (in job descriptions, the technologies used in the company are often described in detail); </li><li>  social networks: collect data on employee users; </li><li>  IT solution / service provider sites that boast what, when and how they did for our customer; </li><li>  we make requests to the whois service and find out which networks are registered to the customer or which IP address providers it uses; </li><li>  we make queries to DNS servers and find out if the customer has resources with third level domains: vpn.ooo-romashka.ru, ftp.ooo-romashka.ru, etc.  We determine which email services are used. </li></ul><br><p>  As a result, we form a list of IP-addresses of information resources related to the customer, lists of employees, etc. </p><br><p>  In the case of internal security testing, an ethical hacker gains physical access to the outlet, listens for network traffic, and determines the ranges of IP networks from which he can start his work. </p><br><h4 id="shag-2-poisk-uyazvimostey">  Step 2. Search for vulnerabilities </h4><br><p>  Knowing the goal, you can safely begin to search for vulnerabilities.  Basically, we do this with the help of vulnerability scanners, but we also do not refuse to manually search for vulnerabilities, especially in the case of Web applications. </p><br><p> As a result, we get a list of potential vulnerabilities, which is yet to be verified. </p><br><p>  Important note: if you and I are acting in this step without administrative access to the systems, then do not expect any scanner to show you all the existing vulnerabilities on a particular node.  To find the maximum vulnerabilities, you will have to repeat this exercise with administrative records already extracted by sweat and blood. </p><br><h4 id="shag-3-ekspluataciya">  Step 3. Operation </h4><br><p>  After we have compiled a list of potential vulnerabilities, it would be nice to check them for exploitation and look for additional ones that cannot be found using scanners and Google.  Why do you need to do this?  There are several reasons for this. </p><br><p>  First, closing any vulnerabilities is a real headache for system administrators who have a lot of other work.  There is also always a chance that something will ‚Äúfall off‚Äù after rolling a patch or changing settings.  Therefore, it is more expedient to load our favorite system administrators with only standing problems: those vulnerabilities that are really dangerous, and this can only be established by checking the possibility of exploitation. </p><br><p>  Secondly, there are many vulnerabilities that can only be verified during operation: for example, a weak password, the possibility of SQL injection or XSS. <br>  At this step, we are with you: </p><br><ul><li>  neatly launch exploits; </li><li>  intercept traffic using ARP-poisoning; </li><li>  we select passwords; </li><li>  ‚ÄúUnwind‚Äù mined password hashes; </li><li>  we check for the possibility of SQL injection / XSS and other attacks specific to Web applications; </li><li>  we do much more depending on the specific IT infrastructure of the customer. </li></ul><br><p>  As a result of this step, we find out which of the detected vulnerabilities are real, we find ‚Äúcombat‚Äù testing of new vulnerabilities and see what can be obtained if we exploit them. </p><br><p>  If we get the desired administrative access, we can return to the previous step and find even more vulnerabilities. </p><br><h4 id="shag-4-rasshirenie-privilegiy">  Step 4. Privilege escalation </h4><br><p>  Having access to any system, we are trying to understand what we have access to and whether it can be expanded within a single system (for example, to the administrator level) or within the entire IT infrastructure. </p><br><p>  A simple example.  Having selected the user's password to one system, we check whether the given login / password pair is suitable for access to other systems. </p><br><p>  Thus, the considered approach allows detecting the maximum number of real vulnerabilities using available tools. </p><br><h3 id="besplatnyy-instrumentariy-etichnogo-hakera">  Free ethical hacker toolkit </h3><br><p>  For true hacking and penetration testing, there are several hundred utilities. <br>  Separately, I want to note that the arsenal of burglars cannot be replaced by any one, even with a commercial scanner, respectively, you need to use several tools to complete security testing. </p><br><p>  The undisputed leader among similar tools "in one box" is the assembly of <a href="https://www.kali.org/">Kali Linux</a> . </p><br><p>  We list in one list the most useful and most frequently used free programs by ethical hackers: </p><br><ul><li>  <a href="https://nmap.org/">NMAP</a> is a port scanner, it can be used as a vulnerability scanner and even a password <a href="https://nmap.org/">guessing</a> tool in the case of NSE; </li><li>  <a href="http://www.openvas.org/">OpenVAS</a> - vulnerability scanner; </li><li>  <a href="https://www.metasploit.com/">Metasploit Framework</a> - a framework for penetration testing, containing both exploits and specialized modules (for example, to search for ‚Äúshared‚Äù folders, to generate backdoors, to select passwords, etc.); </li><li>  <a href="https://portswigger.net/burp/freedownload">Burp Suite Free Edition</a> - local proxy / scanner for analyzing the security of Web applications; </li><li>  <a href="https://thc.org/thc-hydra/">THC-Hydra</a> - utility for selecting passwords for network services; </li><li>  <a href="https://hashcat.net/hashcat/">HashCat</a> - a utility for selecting passwords for hashes; </li><li>  <a href="https://ettercap.github.io/ettercap/">Ettercap</a> - sniffer for interception and analysis of network traffic; </li><li>  <a href="https://www.wireshark.org/">Wireshark</a> - sniffer for intercepting and analyzing network traffic; </li><li>  <a href="https://www.aircrack-ng.org/">Aircrack-ng</a> is a set of utilities for testing the security of wireless networks. </li></ul><br><p>  There are plenty of tools that solve highly specialized tasks.  A good list of such tools is included in the already mentioned Kali Linux build: <a href="https://tools.kali.org/tools-listing"></a>  <a href="https://tools.kali.org/tools-listing">https://tools.kali.org/tools-listing</a> . </p><br><h3 id="oh-uzh-eta-koshmarnaya-komandnaya-stroka">  Oh, this nightmarish command line ... </h3><br><p>  The main problem faced by a specialist when working with such tools is that most of them have a non-trivial user interface, and often this is just a command line and a million incomprehensible parameters.  Just this moment contributes to the cultivation of the stereotype that penetration testing is only for geeks. </p><br><p>  At NPO Echelon, we were able to solve this problem and make a product that allows us to carry out comprehensive security testing without encountering a complicated hacker interface.  In the new version of the Scanner-VS security testing complex, a convenient Web-based interface has appeared, allowing, without leaving one working space, to conduct: </p><br><ul><li>  port scanning and identification of network services; </li><li>  vulnerability scanning (with and without administrative privileges); </li><li>  selection of passwords for various network services; </li><li>  search for suitable exploits; <br>  and, of course, create a single report with the results of the audit. </li></ul><br><p>  Conducting security tests using the "Scanner-VS" <br>  To demonstrate the implementation of comprehensive security testing, we will review the process of analyzing the <a href="https://sourceforge.net/projects/metasploitable/files/Metasploitable2/">Metasploitable</a> virtual machine <a href="https://sourceforge.net/projects/metasploitable/files/Metasploitable2/">2</a> </p><br><p>  Download "Scanner-VS" from USB-drive and the main window opens: </p><br><img src="https://habrastorage.org/web/546/98b/ba9/54698bba925f44a78d648f22e768e402.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>  We create a project within which tasks are already associated with the corresponding phases of security testing.  We consistently scan ports, vulnerabilities, passwords and exploits, and get the big picture: </p><br><img src="https://habrastorage.org/web/bde/cb1/16b/bdecb116b4574840ab1b108bcf72e5db.png"><br><br><p>  Corresponding results are available within each phase. </p><br><p>  Port scan: </p><br><img src="https://habrastorage.org/web/cea/643/dbe/cea643dbee5b40468d246ad674080ab8.png"><br><br><p>  Vulnerability scanning using ready-made policies or your own.  It is worth noting that the vulnerability database is updated weekly and contains plug-ins to identify vulnerabilities in domestic GIS.  We also support the <a href="https://bdu.fstec.ru/">Threat Data Bank of the FSTEC of Russia</a> . </p><br><img src="https://habrastorage.org/web/488/077/e9c/488077e9cd7a4626aa9f76f4f8b6d271.png"><br><br><p>  Selection of suitable exploits from Metasploit Framework.  Possible as a rigorous search for the service version, and lax for its type. </p><br><img src="https://habrastorage.org/web/546/a78/dd1/546a78dd18b94df7b7d8e5b71c218637.png"><br><br><p>  Selection of passwords is carried out to various network services.  In this case, you can use both your own user / password sets, and built-in lists containing the most common options. </p><br><p>  The results of each task are stored in a database, and a final report is generated on their basis. </p><br><img src="https://habrastorage.org/web/f4b/3db/615/f4b3db61550f4ea08aebb58714c86742.png"><br><br><img src="https://habrastorage.org/web/295/480/245/2954802456114592b70321195a2c5282.png"><br><br><img src="https://habrastorage.org/web/f76/633/cdb/f76633cdb93541638e8e08b95198e46b.png"><br><br><p>  Since Scanner-VS is built on the basis of Kali Linux, all standard utilities from this assembly of hacking tools are available to the user.  The following tools were also used to evaluate the effectiveness of information security tools: </p><br><ul><li>  security analysis of Astra Linux configuration; </li><li>  Windows update level analysis </li><li>  check summation; </li><li>  search for residual information; </li><li>  analysis of used software and hardware; </li><li>  guaranteed destruction of information on the disk. </li></ul><br><p>  In order not to further slide into direct advertising of our development, all those who are interested, try our solution in action, we invite you to visit the site <a href="http://scaner-vs.ru/"></a>  <a href="http://scaner-vs.ru/">http://scaner-vs.ru</a> and <a href="http://scaner-vs.ru/version-for-testing/">download the latest version of the solution for testing</a> . </p><br><h3 id="literatura-i-poleznye-istochniki-informacii">  Literature and useful sources of information </h3><br><ol><li>  <a href="http://www.pentest-standard.org/index.php/Main_Page">Technical methodology for testing security</a> </li><li>  <a href="http://www.isecom.org/research/">Another security testing technique</a> </li><li>  <a href="https://www.owasp.org/index.php/OWASP_Testing_Guide_v4_Table_of_Contents">Methods for testing the security of Web applications</a> </li><li>  <a href="https://uc-echelon.ru/003-pentest">Hacker courses for beginners</a> </li><li>  <a href="http://scaner-vs.ru/version-for-testing/">Complex testing security "Scanner-VS"</a> </li></ol></div><p>Source: <a href="https://habr.com/ru/post/337776/">https://habr.com/ru/post/337776/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../337764/index.html">Slowly, we are recording: 10 new applications of the QIWI Wallet API, which are proposed by Habr</a></li>
<li><a href="../337768/index.html">67 useful tools, libraries and resources to save web developers time</a></li>
<li><a href="../337770/index.html">"Vostochny" - our spaceport</a></li>
<li><a href="../337772/index.html">ReactOS 0.4.6 is available for download.</a></li>
<li><a href="../337774/index.html">Easy work with lists - RendererRecyclerViewAdapter (part 2)</a></li>
<li><a href="../337778/index.html">To root and features were</a></li>
<li><a href="../337780/index.html">BlueBorne's Bluetooth vulnerability affects billions of devices</a></li>
<li><a href="../337782/index.html">BlueBorne exploit on Android, iOS, Linux and Windows: more than 8 billion devices are critically vulnerable</a></li>
<li><a href="../337784/index.html">Implementing OpenId Connect in ASP.NET Core using IdentityServer4 and oidc-client</a></li>
<li><a href="../337786/index.html">VMworld 2017 Europe Conference. Day 0</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>