<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Cyto: our trial and error method</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A year ago, we, the Ukrainian studio Room 8, began to make our first game called Cyto. No one in the team had practically any experience in game devel...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Cyto: our trial and error method</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/c17/220/681/c17220681081f31764843b012fd6ae5b.jpg"><br><br>  A year ago, we, the Ukrainian studio Room 8, began to make our first game called Cyto.  No one in the team had practically any experience in game development and application development for iOS, but everyone had ambitions to do something really awesome.  We had to learn everything literally on the move and sometimes we felt like elephants in a china shop :) <br><br>  In this article, we would like to help fellow developers, if possible, to learn from our experience. <br>  Before we begin the story, let us show you what we did: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/unDiOzxU-pw%3Ffeature%3Doembed&amp;xid=25657,15700019,15700186,15700191,15700253,15700255&amp;usg=ALkJrhgenU1cGIo2pXO9aSM5OIFxQHn5dQ" frameborder="0" allowfullscreen=""></iframe><br><br>  We will share our collection of rakes through which our team paved the way for a year.  So, who are interested in technical details of the development - read on. <br><br><a name="habracut"></a>  When we started to develop Cyto, none of the team had any experience with iOS, and even more so in game dev.  During the year we learned a lot.  Unfortunately, we had to learn from our own mistakes.  Eh, if at the beginning of our journey someone had told us at least half of what we had learned when creating the game ... <br><br>  We sincerely hope that this article will be useful to developers of games on iOS and those who are only going to try their hand in this area. <br><br><h4>  <b>Engine selection</b> </h4><br>  This may sound like a common truth, but the choice of the engine should be approached very carefully.  It is necessary to clearly understand the needs of the project and its future "chips", so as not to be in the middle of development without the ability to embody the original but late idea.  As for our game, we did not particularly bother.  Since the cross-platform issue did not arise at that time, we settled on cocos2d-iphone version 1.0 (there was no other then). <br><br>  If the project started now, we would definitely immediately choose a cross-platform solution.  By the way, a lot of things in the coconut had to be changed or completely redone.  Also a lot of rakes arose due to some ‚Äúingenious‚Äù architectural solutions of cocos2d-developers.  Free engine, what can I say ... At the same time, not every paid engine can boast of such a large community and so many examples. <br><br>  It was much more difficult to choose a physics engine.  We chose from 2 options: Chipmunk or Box2d.  Complicated by the fact that we were going to use them outside the box, because we needed an imitation of a deforming elastic body, and both engines are designed to work only with rigid bodies and the connections between them.  We looked at the examples and made several test cases for both, and in the end we chose Chipmunk.  The main reason for this was a more flexible link setting (constraints &amp; joints), and a wider choice of links themselves.  The damped spring turned out to be especially useful - here they are used almost everywhere.  Thanks to them, the whole game world turns out more lively and dynamic.  By the way, for iOS developers there is a Pro version written in Objective-C.  It is, in fact, just a wrapper over the C-shny code, but it is made really convenient and taking into account all the features of the engine. <br><br>  Starting work on the game, we mastered the chipmunk on the move and tried to adjust it to our needs.  Working with constraints in this engine is quite convenient and you can effortlessly get a sane soft body.  But we needed something more.  Our being should have had a soft deformable shell, which it stretches from the inside.  Due to limitations in the physical engine (it is still not designed for the simulation of soft bodies) and our requirements for the final result, many problems arose.  Often, solving one of them, we got a few more new ones.  Having tried a bunch of options, we did something similar to what we wanted. <br><br><img src="https://habrastorage.org/storage2/463/661/c80/463661c800dff4c04196848163f242db.jpg"><br><br><h4>  <b>Cyto Shell</b> </h4><br>  Cyto shell is our pride and the basis of the gameplay.  Players can stretch it with their fingers and cling to other objects.  We wanted to make shell management simple and fun, but this was not so easy to achieve. <br><br>  Of course, I had to draw the shell with handles on OpenGL.  Especially useful [here is this article = <a href="http://habrahabr.ru/post/110998/">habrahabr.ru/post/110998</a> ] (Max, thank you!), The rendering of the shell was made entirely on the basis of the approach described in it.  The plans were to hang more dynamically changing highlights on its surface, but this time was not enough.  However, the result and so it turned out quite beautiful. <br><br><img src="https://habrastorage.org/storage2/df1/4a5/452/df14a5452e57fa8368160aaac26190c5.jpg"><br><br>  We approached the modeling of the shell in the forehead - we decided to create a set of interconnected springs of rectangular bodies surrounding one circular body (core).  Like a caterpillar in a tank or tractor. <br><br>  But there was a problem with physics.  When stretching the shell, the bodies would move away from each other so far that they could not keep the core inside.  As a result, we created a complex model in which the outer segments were added upon stretching and removed when the shell returned to its original state. <br><br><img src="https://habrastorage.org/storage2/10a/156/df2/10a156df2e5840a714bcaf4f1b963bfd.png"><br><br>  So we were able to achieve a uniform density of the external bodies and avoid falling out of the core from the shell.  Nearly.  The fact is that connections in Chipmunk, as in most other engines, have one problem - no matter how you limit their length, the moment will come when they stretch so much that a model like ours will break.  When interacting with the character, too often the central ball with the character's sprite attached to it fell out of the shell.  Cyto "undressed" and it looked very funny, but then we had no time for fun.  The model chosen by us was not justified.  In addition to technical problems, the appearance and behavior of the shell also left much to be desired.  The shell was more like a bag than an elastic jelly mass.  It was necessary to urgently do something, and we began to look for other options for implementation. <br><br>  The obvious solution was to simplify the physical model.  In the new version, the shell consists of two components: <br>  1. A nucleus with a shell of round bodies fixedly attached to it.  Nothing is added or removed. <br>  2. Skeleton of several round bodies of larger diameter, connected by springs.  The core with the shell is fixed to one of the ends of the skeleton or can move along it. <br><br><img src="https://habrastorage.org/storage2/79d/ad6/fda/79dad6fdaca903c6ce04208fea97f601.png"><br><br>  With this approach, we were able to convey the softness of the shell, when the character hits some object, and, at the same time, preserve its integrity and elasticity when stretching.  Against the background of the result, all the problems that arose with the new model did not look so scary. <br><br>  The only difficulty that has arisen with the new model, which has brought us a lot of trouble, is connected with the drawing, or rather with the fact that we had to work with two polygons and subsequently merge them into one.  But with this in the end coped. <br><br>  And finally, the <b>interesting conclusions of Part 1</b> , to which we came during the development: <br><ul><li>  No need to become a hostage to technology and put yourself in the framework dictated by the architecture - you can always find another way.  Moreover, do not use technology for the sake of technology.  You will spend a lot of time realizing some kind of ‚Äúcool‚Äù chip that no one really appreciates and may not even notice. </li><li>  Choose the right platform for your game.  Or vice versa, choose the right genre of the game if you want to do something for a specific platform.  Max Payne and GTA on the iPod is, of course, cool, but casual players, the majority of users of mobile devices, need not this at all. </li><li>  Use the strengths of the platform under which you write - touch screens are good for direct interaction with objects in the game, for tactile sensations. </li><li> Do not complicate and do not dwell on one thing for too long.  You can overdo it and spoil what was good.  Or you can get stuck on unnecessary trifles and stop moving forward.  There must be a limit to perfection, and the best is the enemy of the good. </li></ul><br>  On it we will finish yet.  Rate the result of our work here on this link - [ <a href="http://bit.ly/cyto_appstore">click</a> ] <br>  The first 50 havers, who wrote in a personal, we will provide a promotional code.  Gameplay can also be viewed in a game trailer. <br><br>  We will continue our story in the next article - we can tell a lot more interesting things, for example: <br><ul><li>  <b>How to cut the weight of the project 5 times a month before the release;</b> </li><li>  <b>How to adapt the project for the iPhone, if it was developed only for the iPad;</b> </li><li>  <b>The nuances of creating levels and much more;</b> </li></ul><habracut></habracut></div><p>Source: <a href="https://habr.com/ru/post/171665/">https://habr.com/ru/post/171665/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../171649/index.html">CoffeeScript 1.6.1 released with Source Maps support</a></li>
<li><a href="../171653/index.html">We are looking for beta testers mobile application Payoneer</a></li>
<li><a href="../171655/index.html">CRM for work with clients and information partners to replace the current AMO CRM</a></li>
<li><a href="../171657/index.html">Startup team Yandex.Money: Twym service - money transfers between Twitter users</a></li>
<li><a href="../171663/index.html">Open lecture by Don Field, director of Microsoft Learning: certification opportunities for career growth</a></li>
<li><a href="../171667/index.html">The true power of regular expressions</a></li>
<li><a href="../171669/index.html">Blue Raspberry Cake Free</a></li>
<li><a href="../171671/index.html">Testing cars with paintball, drones and Lunapark, ugh, big hangar</a></li>
<li><a href="../171673/index.html">Poll. Are you ready to change the programming language and platform at the suggestion of the customer?</a></li>
<li><a href="../171675/index.html">The iceberg underwater part: reconciliation of business goals and consumer desires</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>