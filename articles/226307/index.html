<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We color icons from Google</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Application design is a very important part of development. Google greatly simplifies it by providing about 150 ready-made icons, prepared for differe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We color icons from Google</h1><div class="post__text post__text-html js-mediator-article">  Application design is a very important part of development.  Google greatly simplifies it by providing about 150 ready-made icons, prepared for different pixel density, in free access.  However, by default they are gray.  This was done specifically to ensure that the designer himself painted them.  But if we just want to give the icons some color, there is no point in editing each one separately.  Simply write a script that does the work for us. <br><br>  This article will present a small Java program that automatically paints all the icons in a given color, the algorithm by which it works, and also an archive of already colored icons that you can immediately use in your applications. <br><br>  Immediately make a reservation - it is possible that the means of Adobe Illustrator can do everything that is written in the article and there are already ready-made scripts.  But it is not under Linux and in general it is expensive.  I think Linux users and free software supporters will appreciate my approach. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/b09/100/279/b09100279ca246748ef756e20baa69a9.png"><br><a name="habracut"></a><br><h1>  Introduction </h1>  On <a href="https://developer.android.com/design/downloads/index.html">developer.android.com,</a> anyone can download an archive with design resources that, according to a statement in <i>NOTICE.TXT</i> , can be used without any restrictions.  Among them are icons <b>Action Bar Icons</b> .  Let's look at them in more detail.  There are two sets - for themes <b>Holo Light</b> and <b>Holo Dark</b> .  Accordingly, for the dark theme, the icons are white, and for the white one - gray.  As I understand it, the source for the icons are in the format of Adobe Illustrator (* .ai).  But for me, this program is too expensive, and indeed I am a supporter of free software.  So we will color the already prepared png files, since their size has already been adjusted for different pixel density. <br><br><h1>  What for? </h1>  Of course, a large company would be better to hire a professional designer who will draw unique icons from scratch.  Or finish existing.  However, if you make a small application to order - it makes no sense to introduce a new design.  Android users are accustomed to the standard set of icons, to their outlines.  It seems to me that you just need to give color to these outlines and please the user. <br><br>  But the main advantage of such icons is when a programmer makes a program for himself, and he has no desire and time to do design.  I want the program to look like everyone else, but at the same time provide some unique functions.  For example, if you are a novice programmer and learn Android, it will be very useful in parallel with learning to develop some kind of your own program and demonstrate the knowledge gained in it.  At the same time with the colored icons, it will look much better. <br><br><h1>  What we have </h1>  Consider the gray set of icons in more detail.  For each icon there are four versions corresponding to different pixel density.  You only use the final name in the program - for example <i>R.id.ic_action_important</i> , and Android itself selects the desired folder.  It is very convenient and looks amazing due to the fact that on screens for mobile devices ppi is much higher than on a regular monitor.  The image seems smoother. <br><br>  By the way, the icons are quite universal and can be used not only in the Action Bar. <br><br>  The first problem I encountered is that there is no general overview of all the icons.  Twenty minutes of programming - and the Java code is already ready, which goes over the catalogs and reads the icons from there, sticking them together into one common picture.  Here she is: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ca5/4f7/d2f/ca54f7d2f2109c4a894ef18ab520ec14.jpg"><br><br>  Now let's try to color them.  I will use Java for this purpose.  No matter how abused she is, she provides many ready-made and working solutions.  We will use awt - libraries for working with 2D graphics.  The first thing I did was load the picture into the BufferedImage and go through each pixel, selecting its 4 components (ARGB).  A quick analysis of the output showed that the picture essentially uses only one color - gray.  And in those places where the image itself is smoothed out - the alpha channel is simply reduced. <br><br>  On this basis, in order to color the icon, we only need to replace the gray color with the necessary color, without affecting the alpha channel.  I tried to take a star and paint it blue, and then test it on my device - and it looked great there! <br><br><h1>  Program </h1>  After working for some more time, I made a script that overtakes all the icons from the library in the specified color.  True, the directory should contain only icons and folders - nothing more. <br><br>  I think that most Android developers have had at least a little experience with desktop Java ‚Äî compiling and running will not be difficult.  In principle, everything is simple. <br><br><div class="spoiler">  <b class="spoiler_title">Main.java</b> <div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.imageio.ImageIO; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.awt.*; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.awt.image.BufferedImage; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.File; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.ArrayList; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.List; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Main</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> COLUMNS_COUNT = <span class="hljs-number"><span class="hljs-number">15</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String DIR_WITH_GRAY_IMAGES = <span class="hljs-string"><span class="hljs-string">"E:\\wsys\\prj\\ImagePainter\\test\\gray"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String OUTPUT_DIR = <span class="hljs-string"><span class="hljs-string">"E:\\wsys\\prj\\ImagePainter\\test"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Color myColor = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Color(<span class="hljs-number"><span class="hljs-number">177</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">140</span></span>);<span class="hljs-comment"><span class="hljs-comment">//,    static List&lt;File&gt; fileList = new ArrayList&lt;&gt;(); public static void main(String[] strings) throws Throwable { painter(); } private static void outputImages(File dir) { for (File subDir : dir.listFiles()) { if (subDir.getName().contains("hdpi")) { File pngFile = subDir.listFiles()[0]; fileList.add(pngFile); break; } if (subDir.isDirectory()) { outputImages(subDir); } } } private static void painter() throws Throwable { File dirWithImages = new File(DIR_WITH_GRAY_IMAGES); File outputDir = new File(OUTPUT_DIR); String nameFolder = Integer.toHexString(myColor.getRGB()); for (File subDir : dirWithImages.listFiles()) { for (File drawable : subDir.listFiles()) { System.out.println(drawable); for (File pngFile : drawable.listFiles()) { System.out.println(pngFile); BufferedImage okImage = handlePngFile(pngFile, myColor); String partPath = pngFile.getAbsolutePath().replace(dirWithImages.getAbsolutePath(), ""); File newPngPath = new File(outputDir.getAbsolutePath() + "\\" + nameFolder + "\\" + partPath); newPngPath.mkdirs(); ImageIO.write(okImage, "png", newPngPath); } } } File targetDir = new File(outputDir, "\\" + nameFolder); outputImages(targetDir); ImageIO.write(getComplexImage(), "png", new File(targetDir, "all.png")); } private static BufferedImage getComplexImage() { BufferedImage bufferedImage = new BufferedImage(800, 500, BufferedImage.TYPE_INT_ARGB); Graphics g = bufferedImage.getGraphics(); int i = 0; int j = 0; int counter = 0; try { for (File pngFile : fileList) { BufferedImage image = ImageIO.read(pngFile); g.drawImage(image, i, j, null); i += image.getWidth(); counter++; if (counter == COLUMNS_COUNT) { i = 0; counter = 0; j += image.getHeight(); } } } catch (Exception e) { e.printStackTrace(); } return bufferedImage; } private static BufferedImage handlePngFile(File pngFile, Color myColor) { try { BufferedImage image = ImageIO.read(pngFile); for (int i = 0; i &lt; image.getWidth(); i++) { for (int j = 0; j &lt; image.getHeight(); j++) { Color pixelColor = new Color(image.getRGB(i, j), true); int a = pixelColor.getAlpha(); //a += 50;//  -   if (pixelColor.getRed() != 0) { int r = myColor.getRed(); int g = myColor.getGreen(); int b = myColor.getBlue(); Color newColor = new Color(r, g, b, a); image.setRGB(i, j, newColor.getRGB()); } } } return image; } catch (Exception e) { e.printStackTrace(); } return null; } }</span></span></code> </pre> </div></div><br><h1>  Archive and conclusion </h1>  <a href="">Laid</a> out the <a href="">icons</a> already repainted in different colors - use for health!  Or you can sort out the script and repaint it in the color that you specifically need.  And do not forget that all the icons with the alpha channel, respectively, on a white background, they will look brighter than the color that you set for them. <br><br>  In addition, the idea arose to write a script that changes the existing large icon to different sizes with anti-aliasing and stuffs into folders for different pixel densities.  If there are no ready and free scripts that do it in automatic mode, I will definitely write my own and lay out. <br><br>  As it turned out in the comments, there is a site <a href="http://romannurik.github.io/AndroidAssetStudio/index.html">http://romannurik.github.io/AndroidAssetStudio/index.html</a> that colors the icons more conveniently and provides a bunch of other functions.  True, he is obliged to specify a reciprocal link when used and does not know how to massively handle icons, so my approach also has some meaning. </div><p>Source: <a href="https://habr.com/ru/post/226307/">https://habr.com/ru/post/226307/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../226297/index.html">Navigation Editor - a new tool in Android Studio</a></li>
<li><a href="../226299/index.html">Protection of an entrance by the method of the organization of reasonable video surveillance without concierge</a></li>
<li><a href="../226301/index.html">Using third-party libraries in D</a></li>
<li><a href="../226303/index.html">TDD is dead. Long live testing</a></li>
<li><a href="../226305/index.html">Libraries that may still be useful</a></li>
<li><a href="../226309/index.html">Declarative data binding in WinJS</a></li>
<li><a href="../226311/index.html">Steel printer</a></li>
<li><a href="../226313/index.html">The use of a homemade thermal imager based on the Arduino in the study of energy saving</a></li>
<li><a href="../226315/index.html">How the kernel manages memory</a></li>
<li><a href="../226317/index.html">Small network single board computer for 20 USD</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>