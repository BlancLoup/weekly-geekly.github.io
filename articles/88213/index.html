<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Using URI-Fragment Addressing in RIA Applications Based on ExtJS and Mootools</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="URI-fragments (they are fragment identifiers, hash, bookmarks, anchors) have recently become actively used in interactive web applications as a conven...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Using URI-Fragment Addressing in RIA Applications Based on ExtJS and Mootools</h1><div class="post__text post__text-html js-mediator-article">  URI-fragments (they are fragment identifiers, hash, bookmarks, anchors) have recently become actively used in interactive web applications as a convenient means for specifying direct links to various interface elements and application status.  The most striking example of the use of fragment-addressing is GMail.  As you may have noticed, the Inbox, Sent, Drafts folders have links ending in #inbox, #sent, #drafts.  Switching between them does not reload the entire page (only the list of letters is updated), but at the same time, when opening each of them in a separate window / tab, we immediately get to the page you are looking for. <br><br>  This article is dedicated to the implementation of such a convenient navigation mechanism using JavaScript. <a name="habracut"></a><br><br><h5>  As it was‚Ä¶ </h5>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In classical HTML, URI fragments were used to create simplest navigation inside a large document.  In the right places of the document, it was possible to insert tags of the form (so-called anchor) and refer to them using the links of the form Go Here.  When clicking on such a link, the browser scrolled the document to the right place, without reloading the page.  It was also possible to open the <a href="http://site.com/path/to/doc.html">site.com/path/to/doc.html#go-here</a> link in a new window, and after loading the document the browser automatically displayed it from the position of the anchor.  Naturally, anchors worked only in those browsers that supported this feature, because  processing of fragments entirely and completely shifted to the client side.  URI fragments were not even transmitted (and are not transmitted now) to the web server. <br><br><h5>  ... and now </h5><br><br>  As you can see, the fragments have two important advantages: <br><ul><li>  Switching between fragments does not cause page reload </li><li>  They, like the standard query-strings, can be used as direct links, the user visually sees that the transition has occurred (the address bar has changed), it is convenient to copy them and send to someone </li></ul><br><br>  Today, in the era of the victorious march of DHTML and AJAX technologies, fragments have gained new life thanks to these two remarkable properties.  URI-Fragment addressing allows you to build RIA applications that work entirely on AJAX, without reloading the page, while at the same time preserving some of the usual features of ordinary web applications that we are used to.  Namely, the preservation of a certain state (open letter / photo / document) in a link, the transfer of this link to another user, who, having opened it, will see the same thing as you. <br><br><h5>  A practical example. </h5><br><br>  One of my clients ordered a photo gallery for his site in the form of a Javascript slideshow.  Switching between photos should not cause a page reload, but at the same time, he asked for the opportunity to copy and send someone a link to a specific photo.  This problem was quite easily solved by me using fragment-addressing. <br><br>  Links to photos were <a href="http://site.com/gallery/name-of-gallery/">site.com/gallery/name-of-gallery/#photo_id</a> , where photo_id is the image code.  The Forward-Back buttons as well as the thumbnails in the carousel were the usual links to snippets with the codes of the corresponding photos.  The slideshow component and the carousel from the miniature intercepted the URI fragment change event and reacted accordingly (the slideshow showed the desired photo, and the carousel scrolled to it and highlighted it with a frame).  Also, immediately after creation, each of these components checked the current fragment and made the transition to the photo. <br><br><img src="http://habrdemos.ibpro.com.ua/images/image.png" alt="image"><br><br>  This principle of the organization of the application is very convenient.  Its components do not need to "cling" to event handlers for each other to track state changes.  It is enough for everyone to immediately follow the changes in the URI fragment and perform the necessary actions.  Instead of a system with many ‚Äúmany to many connections‚Äù, we get a system with centralized control, which is much easier to develop and debug. <br><br><h5>  In extjs </h5><br><br>  The ExtJS framework provides a convenient Ext.History singleton for working with fragment-addressing.  Before you start using it, you must <br><ul><li>  create a primordial form with a hidden field and iframe.  The standard JavaScript features allow you to only read the current fragment (window.location.hash) and there is no event that would occur if it was changed.  To track it, Ext.History stores the current fragment in a hidden field (in IE, iframe is used) and periodically checks with the help of a timer function if it has changed. </li><li>  initialize a singleton by calling its init () method; </li></ul><br><br>  Below is a sample code: <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">Ext.getBody().createChild({ tag: <font color="#A31515">'form'</font> , action: <font color="#A31515">'#'</font> , cls: <font color="#A31515">'x-hidden'</font> , id: <font color="#A31515">'history-form'</font> , children: [{ tag: <font color="#A31515">'div'</font> , children: [{ tag: <font color="#A31515">'input'</font> , id:  Ext.History.fieldId, type: <font color="#A31515">'hidden'</font> }, { tag: <font color="#A31515">'iframe'</font> , id:  Ext.History.iframeId }] }] }); Ext.History.init();</font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> <ol><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Ext.getBody().createChild({ tag: <font color="#A31515">'form'</font> , action: <font color="#A31515">'#'</font> , cls: <font color="#A31515">'x-hidden'</font> , id: <font color="#A31515">'history-form'</font> , children: [{ tag: <font color="#A31515">'div'</font> , children: [{ tag: <font color="#A31515">'input'</font> , id:  Ext.History.fieldId, type: <font color="#A31515">'hidden'</font> }, { tag: <font color="#A31515">'iframe'</font> , id:  Ext.History.iframeId }] }] }); Ext.History.init(); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Ext.getBody().createChild({ tag: <font color="#A31515">'form'</font> , action: <font color="#A31515">'#'</font> , cls: <font color="#A31515">'x-hidden'</font> , id: <font color="#A31515">'history-form'</font> , children: [{ tag: <font color="#A31515">'div'</font> , children: [{ tag: <font color="#A31515">'input'</font> , id:  Ext.History.fieldId, type: <font color="#A31515">'hidden'</font> }, { tag: <font color="#A31515">'iframe'</font> , id:  Ext.History.iframeId }] }] }); Ext.History.init(); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Ext.getBody().createChild({ tag: <font color="#A31515">'form'</font> , action: <font color="#A31515">'#'</font> , cls: <font color="#A31515">'x-hidden'</font> , id: <font color="#A31515">'history-form'</font> , children: [{ tag: <font color="#A31515">'div'</font> , children: [{ tag: <font color="#A31515">'input'</font> , id:  Ext.History.fieldId, type: <font color="#A31515">'hidden'</font> }, { tag: <font color="#A31515">'iframe'</font> , id:  Ext.History.iframeId }] }] }); Ext.History.init(); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Ext.getBody().createChild({ tag: <font color="#A31515">'form'</font> , action: <font color="#A31515">'#'</font> , cls: <font color="#A31515">'x-hidden'</font> , id: <font color="#A31515">'history-form'</font> , children: [{ tag: <font color="#A31515">'div'</font> , children: [{ tag: <font color="#A31515">'input'</font> , id:  Ext.History.fieldId, type: <font color="#A31515">'hidden'</font> }, { tag: <font color="#A31515">'iframe'</font> , id:  Ext.History.iframeId }] }] }); Ext.History.init(); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Ext.getBody().createChild({ tag: <font color="#A31515">'form'</font> , action: <font color="#A31515">'#'</font> , cls: <font color="#A31515">'x-hidden'</font> , id: <font color="#A31515">'history-form'</font> , children: [{ tag: <font color="#A31515">'div'</font> , children: [{ tag: <font color="#A31515">'input'</font> , id:  Ext.History.fieldId, type: <font color="#A31515">'hidden'</font> }, { tag: <font color="#A31515">'iframe'</font> , id:  Ext.History.iframeId }] }] }); Ext.History.init(); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Ext.getBody().createChild({ tag: <font color="#A31515">'form'</font> , action: <font color="#A31515">'#'</font> , cls: <font color="#A31515">'x-hidden'</font> , id: <font color="#A31515">'history-form'</font> , children: [{ tag: <font color="#A31515">'div'</font> , children: [{ tag: <font color="#A31515">'input'</font> , id:  Ext.History.fieldId, type: <font color="#A31515">'hidden'</font> }, { tag: <font color="#A31515">'iframe'</font> , id:  Ext.History.iframeId }] }] }); Ext.History.init(); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Ext.getBody().createChild({ tag: <font color="#A31515">'form'</font> , action: <font color="#A31515">'#'</font> , cls: <font color="#A31515">'x-hidden'</font> , id: <font color="#A31515">'history-form'</font> , children: [{ tag: <font color="#A31515">'div'</font> , children: [{ tag: <font color="#A31515">'input'</font> , id:  Ext.History.fieldId, type: <font color="#A31515">'hidden'</font> }, { tag: <font color="#A31515">'iframe'</font> , id:  Ext.History.iframeId }] }] }); Ext.History.init(); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Ext.getBody().createChild({ tag: <font color="#A31515">'form'</font> , action: <font color="#A31515">'#'</font> , cls: <font color="#A31515">'x-hidden'</font> , id: <font color="#A31515">'history-form'</font> , children: [{ tag: <font color="#A31515">'div'</font> , children: [{ tag: <font color="#A31515">'input'</font> , id:  Ext.History.fieldId, type: <font color="#A31515">'hidden'</font> }, { tag: <font color="#A31515">'iframe'</font> , id:  Ext.History.iframeId }] }] }); Ext.History.init(); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Ext.getBody().createChild({ tag: <font color="#A31515">'form'</font> , action: <font color="#A31515">'#'</font> , cls: <font color="#A31515">'x-hidden'</font> , id: <font color="#A31515">'history-form'</font> , children: [{ tag: <font color="#A31515">'div'</font> , children: [{ tag: <font color="#A31515">'input'</font> , id:  Ext.History.fieldId, type: <font color="#A31515">'hidden'</font> }, { tag: <font color="#A31515">'iframe'</font> , id:  Ext.History.iframeId }] }] }); Ext.History.init(); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Ext.getBody().createChild({ tag: <font color="#A31515">'form'</font> , action: <font color="#A31515">'#'</font> , cls: <font color="#A31515">'x-hidden'</font> , id: <font color="#A31515">'history-form'</font> , children: [{ tag: <font color="#A31515">'div'</font> , children: [{ tag: <font color="#A31515">'input'</font> , id:  Ext.History.fieldId, type: <font color="#A31515">'hidden'</font> }, { tag: <font color="#A31515">'iframe'</font> , id:  Ext.History.iframeId }] }] }); Ext.History.init(); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Ext.getBody().createChild({ tag: <font color="#A31515">'form'</font> , action: <font color="#A31515">'#'</font> , cls: <font color="#A31515">'x-hidden'</font> , id: <font color="#A31515">'history-form'</font> , children: [{ tag: <font color="#A31515">'div'</font> , children: [{ tag: <font color="#A31515">'input'</font> , id:  Ext.History.fieldId, type: <font color="#A31515">'hidden'</font> }, { tag: <font color="#A31515">'iframe'</font> , id:  Ext.History.iframeId }] }] }); Ext.History.init(); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Ext.getBody().createChild({ tag: <font color="#A31515">'form'</font> , action: <font color="#A31515">'#'</font> , cls: <font color="#A31515">'x-hidden'</font> , id: <font color="#A31515">'history-form'</font> , children: [{ tag: <font color="#A31515">'div'</font> , children: [{ tag: <font color="#A31515">'input'</font> , id:  Ext.History.fieldId, type: <font color="#A31515">'hidden'</font> }, { tag: <font color="#A31515">'iframe'</font> , id:  Ext.History.iframeId }] }] }); Ext.History.init(); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Ext.getBody().createChild({ tag: <font color="#A31515">'form'</font> , action: <font color="#A31515">'#'</font> , cls: <font color="#A31515">'x-hidden'</font> , id: <font color="#A31515">'history-form'</font> , children: [{ tag: <font color="#A31515">'div'</font> , children: [{ tag: <font color="#A31515">'input'</font> , id:  Ext.History.fieldId, type: <font color="#A31515">'hidden'</font> }, { tag: <font color="#A31515">'iframe'</font> , id:  Ext.History.iframeId }] }] }); Ext.History.init(); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Ext.getBody().createChild({ tag: <font color="#A31515">'form'</font> , action: <font color="#A31515">'#'</font> , cls: <font color="#A31515">'x-hidden'</font> , id: <font color="#A31515">'history-form'</font> , children: [{ tag: <font color="#A31515">'div'</font> , children: [{ tag: <font color="#A31515">'input'</font> , id:  Ext.History.fieldId, type: <font color="#A31515">'hidden'</font> }, { tag: <font color="#A31515">'iframe'</font> , id:  Ext.History.iframeId }] }] }); Ext.History.init(); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Ext.getBody().createChild({ tag: <font color="#A31515">'form'</font> , action: <font color="#A31515">'#'</font> , cls: <font color="#A31515">'x-hidden'</font> , id: <font color="#A31515">'history-form'</font> , children: [{ tag: <font color="#A31515">'div'</font> , children: [{ tag: <font color="#A31515">'input'</font> , id:  Ext.History.fieldId, type: <font color="#A31515">'hidden'</font> }, { tag: <font color="#A31515">'iframe'</font> , id:  Ext.History.iframeId }] }] }); Ext.History.init(); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Ext.getBody().createChild({ tag: <font color="#A31515">'form'</font> , action: <font color="#A31515">'#'</font> , cls: <font color="#A31515">'x-hidden'</font> , id: <font color="#A31515">'history-form'</font> , children: [{ tag: <font color="#A31515">'div'</font> , children: [{ tag: <font color="#A31515">'input'</font> , id:  Ext.History.fieldId, type: <font color="#A31515">'hidden'</font> }, { tag: <font color="#A31515">'iframe'</font> , id:  Ext.History.iframeId }] }] }); Ext.History.init(); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Ext.getBody().createChild({ tag: <font color="#A31515">'form'</font> , action: <font color="#A31515">'#'</font> , cls: <font color="#A31515">'x-hidden'</font> , id: <font color="#A31515">'history-form'</font> , children: [{ tag: <font color="#A31515">'div'</font> , children: [{ tag: <font color="#A31515">'input'</font> , id:  Ext.History.fieldId, type: <font color="#A31515">'hidden'</font> }, { tag: <font color="#A31515">'iframe'</font> , id:  Ext.History.iframeId }] }] }); Ext.History.init(); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Ext.getBody().createChild({ tag: <font color="#A31515">'form'</font> , action: <font color="#A31515">'#'</font> , cls: <font color="#A31515">'x-hidden'</font> , id: <font color="#A31515">'history-form'</font> , children: [{ tag: <font color="#A31515">'div'</font> , children: [{ tag: <font color="#A31515">'input'</font> , id:  Ext.History.fieldId, type: <font color="#A31515">'hidden'</font> }, { tag: <font color="#A31515">'iframe'</font> , id:  Ext.History.iframeId }] }] }); Ext.History.init(); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Ext.getBody().createChild({ tag: <font color="#A31515">'form'</font> , action: <font color="#A31515">'#'</font> , cls: <font color="#A31515">'x-hidden'</font> , id: <font color="#A31515">'history-form'</font> , children: [{ tag: <font color="#A31515">'div'</font> , children: [{ tag: <font color="#A31515">'input'</font> , id:  Ext.History.fieldId, type: <font color="#A31515">'hidden'</font> }, { tag: <font color="#A31515">'iframe'</font> , id:  Ext.History.iframeId }] }] }); Ext.History.init(); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> </ol> <code><font color="gray"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">Ext.getBody().createChild({ tag: <font color="#A31515">'form'</font> , action: <font color="#A31515">'#'</font> , cls: <font color="#A31515">'x-hidden'</font> , id: <font color="#A31515">'history-form'</font> , children: [{ tag: <font color="#A31515">'div'</font> , children: [{ tag: <font color="#A31515">'input'</font> , id:  Ext.History.fieldId, type: <font color="#A31515">'hidden'</font> }, { tag: <font color="#A31515">'iframe'</font> , id:  Ext.History.iframeId }] }] }); Ext.History.init();</font> * This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  Detailed documentation on the singleton can be found at <a href="http://www.extjs.com/deploy/dev/docs/%3Fclass%3DExt.History">http://www.extjs.com/deploy/dev/docs/?class=Ext.History</a> .  I will give a description of the most frequently used features.  In the terminology of Ext.History, fragments are called tokens: <br><br><ul><li>  Ext.History.add (token) - change the current token to the specified.  This will change the link in the address bar, as if bydto we clicked on the hypertext link to this fragment. </li><li>  Ext.History.getToken () - gets current token </li><li>  Ext.History.back (), Ext.History.forward () - equivalent to pressing the browser's Back and Forward buttons </li><li>  The change event (String token) - occurs when the token changes (both when following a link and when the add method is called). </li></ul><br><br>  Example of use: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">&lt;</font> <font color="#800000">script</font> <font color="#ff0000">type</font> = ‚Äù <font color="#ff0000">text</font> / <font color="#ff0000">javascript</font> ‚Äù <font color="#0000ff">&gt;</font> </li><li></li><li>  Ext.onReady ( <font color="#0000ff">function</font> () { </li><li></li><li>  &lt;ExtHistory initialization (see code above)&gt; </li><li></li><li>  <font color="#0000ff">var</font> showToken = <font color="#0000ff">function</font> (token) { </li><li>  <font color="#0000ff">if</font> (Ext.isString (token) &amp;&amp; token! = <font color="#A31515">''</font> ) Ext.Msg.alert ( <font color="#A31515">'Token changed'</font> , String.format ( <font color="#A31515">'New token: {0}'</font> , token)); </li><li>  }, </li><li>  t = Ext.History.getToken (); </li><li>  Ext.History.on ( <font color="#A31515">'change'</font> , showToken); </li><li>  Ext.get ( <font color="#A31515">'settoken4'</font> ) .on ( <font color="#A31515">'click'</font> , Ext.History.add.createDelegate (Ext.History, [ <font color="#A31515">'token4'</font> ], <font color="#0000ff">false</font> )); </li><li>  showToken (t); </li><li>  }); </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">script</font> <font color="#0000ff">&gt;</font> </li><li></li><li>  <font color="#0000ff">&lt;a</font> <font color="#ff0000">href</font> <font color="#0000ff">= "# token1"&gt;</font> token 1 <font color="#0000ff">&lt;/</font> <font color="#800000">a</font> <font color="#0000ff">&gt;</font> |  <font color="#0000ff">&lt;a</font> <font color="#ff0000">href</font> <font color="#0000ff">= "# token2"&gt;</font> token 2 <font color="#0000ff">&lt;/</font> <font color="#800000">a</font> <font color="#0000ff">&gt;</font> |  <font color="#0000ff">&lt;a</font> <font color="#ff0000">href</font> <font color="#0000ff">= "# token3"&gt;</font> token 3 <font color="#0000ff">&lt;/</font> <font color="#800000">a</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">= "button"</font> <font color="#ff0000">value</font> <font color="#0000ff">= "Set Token 4"</font> <font color="#ff0000">id</font> <font color="#0000ff">= "settoken4"</font> <font color="#0000ff">/&gt;</font> </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br><br>  The official demo can be viewed at the link. <br><br>  <a href="http://www.extjs.com/deploy/dev/examples/history/history.html">http://www.extjs.com/deploy/dev/examples/history/history.html</a> <br><br>  and the example of the code shown here is <a href="http://habrdemos.ibpro.com.ua/uri-fragments-demo-extjs.html">here</a> .  You can also download the <a href="">source code of the</a> example ( <a href="">alternative link</a> without ExtJS distribution). <br><br><h5>  In motools </h5><br><br>  In the standard delivery of MooTools, there was no class for working with fragment-addressing, I did not find any plug-ins and decided to use Ext.History‚Äôs singleton.  It took quite a bit of time to adapt it under MooTools.  I also added a little singleton - I integrated the creation of the help form into the init () method and initialize the singleton automatically when the js file is connected <br><br>  Mootolls Singleton I called the HistoryManager.  Methods and events are completely identical to Ext.History methods and events. <br><br>  Example of use: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">&lt;</font> <font color="#800000">script</font> <font color="#ff0000">type</font> <font color="#0000ff">= "text / javascript"</font> <font color="#0000ff">&gt;</font> </li><li>  window.addEvent ( <font color="#A31515">'domready'</font> , <font color="#0000ff">function</font> () { </li><li>  <font color="#0000ff">var</font> showToken = <font color="#0000ff">function</font> (token) { </li><li>  <font color="#0000ff">if</font> ($ type (token) == <font color="#A31515">'string'</font> &amp;&amp; token! = <font color="#A31515">''</font> ) alert ( <font color="#A31515">'New token: {t}'</font> .substitute ({t: token})); </li><li>  }, </li><li>  t = HistoryManager.getToken (); </li><li>  HistoryManager.addEvent ( <font color="#A31515">'change'</font> , showToken); </li><li>  $ ( <font color="#A31515">'settoken4'</font> ) .addEvent ( <font color="#A31515">'click'</font> , HistoryManager.add.bind (HistoryManager, [ <font color="#A31515">'token4'</font> ])); </li><li>  showToken (t); </li><li>  }); </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">script</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">head</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">body</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;a</font> <font color="#ff0000">href</font> <font color="#0000ff">= "# token1"&gt;</font> token 1 <font color="#0000ff">&lt;/</font> <font color="#800000">a</font> <font color="#0000ff">&gt;</font> |  <font color="#0000ff">&lt;a</font> <font color="#ff0000">href</font> <font color="#0000ff">= "# token2"&gt;</font> token 2 <font color="#0000ff">&lt;/</font> <font color="#800000">a</font> <font color="#0000ff">&gt;</font> |  <font color="#0000ff">&lt;a</font> <font color="#ff0000">href</font> <font color="#0000ff">= "# token3"&gt;</font> token 3 <font color="#0000ff">&lt;/</font> <font color="#800000">a</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">= "button"</font> <font color="#ff0000">value</font> <font color="#0000ff">= "Set Token 4"</font> <font color="#ff0000">id</font> <font color="#0000ff">= "settoken4"</font> <font color="#0000ff">/&gt;</font> </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br><br>  An example of the code shown here can be viewed <a href="http://habrdemos.ibpro.com.ua/uri-fragments-demo-mootools.html">here</a> , photo gallery demo - <a href="http://habrdemos.ibpro.com.ua/gallery-demo.html">here</a> .  You can also download the <a href="">source code of the</a> sample ( <a href="">an alternative link</a> without ExtJS distribution) and a <a href="">photo gallery</a> . <br><br>  <b>PS</b> If you need to translate Ext.History to Prototype or jQuery - contact, help. <br><br>  <b>UPD:</b> Thanks for the karma, moved to JavaScript </div><p>Source: <a href="https://habr.com/ru/post/88213/">https://habr.com/ru/post/88213/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../88205/index.html">Time management on the example of a simple game designer</a></li>
<li><a href="../88206/index.html">Analysis of captcha Xakep.ru</a></li>
<li><a href="../88208/index.html">ExtJS Application Architecture: Zend Framework Approach</a></li>
<li><a href="../88210/index.html">Symbiosis of ideas: examples of good combination of ideas in the design of logos and advertising</a></li>
<li><a href="../88211/index.html">Functions are almost objects</a></li>
<li><a href="../88214/index.html">Windows 98: Network, Free Internet and Student Youth</a></li>
<li><a href="../88215/index.html">Thermaltake BlacX Duet - a cozy place for two HDD</a></li>
<li><a href="../88216/index.html">What Samsung is preparing for us</a></li>
<li><a href="../88218/index.html">Opolis.eu correspondence new generation</a></li>
<li><a href="../88223/index.html">FingersTune.com - musical instruments for iPhone, Mac and even iPad</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>