<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The Internet of Things on a real example - car search system</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The Internet of Things can be very diverse. In the last article, I talked about a system that, at first glance, does not fit in with this concept: a m...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The Internet of Things on a real example - car search system</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/33c/947/0fc/33c9470fcb7749ee8c69867009efaaca.jpg" align="left" width="200"><br><br>  The Internet of Things can be very diverse.  In the <a href="https://habrahabr.ru/company/microsoft/blog/272657/">last article,</a> I talked about a system that, at first glance, does not fit in with this concept: a multitude of sensors connected by wired networks to a local server without using the Internet.  But if you go deeper, it meets all the criteria and serves as an excellent example of the diversity of the Internet of things.  Now I will talk about a completely opposite system.  This is a network of battery-powered and cellular devices. <br><br><a name="habracut"></a><br><h4>  Description of the system. </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The system is called <a href="http://zanoza.pro/">Zanoza</a> .  It was developed and is being sold by the Russian company Search Standard.  The idea of ‚Äã‚Äãthis product was born in the process of creating GPS trackers for heavy equipment.  Usually trackers are used to track the position of the machine in real time.  They connect to the vehicle‚Äôs on-board network and have regular communication with the processing center.  A very interesting article about trackers can be read <a href="http://habrahabr.ru/post/267711/">here</a> . <br><br>  Such systems are used by various organizations and services to monitor mobile equipment and plan its routes.  But why not use GPS as an anti-theft tool? <br><br>  At first glance, it seems that there are already quite a few such systems.  But it turns out that there are still empty niches in this market.  Basically, GPS is used onboard alarms - quite complex systems with remote control, cryptography and a corresponding price. <br>  For example, the wiring diagram of the <a href="http://ultrastar.ru/765/23405">StartLine T94 GSM / GPS</a> alarm <a href="http://ultrastar.ru/765/23405">system</a> : <br><br><img src="https://habrastorage.org/files/1ae/2c4/469/1ae2c44692154da886e7caa62834c5e9.png"><br><br>  In contrast, he created a very simple system aimed only at searching.  The idea is this: you buy a device, hide it in a car, register it on the website and it starts working, regularly reporting you the location of your car. <br><br>  The device itself looks like this: <br><br><img src="https://habrastorage.org/files/e38/937/9a9/e389379a9d784e03965ab9956acdef24.png"><br><br>  Let's see how it all works. <br><br><h4>  Technical solutions </h4><br><br>  The system architecture is as follows: <br><br><img src="https://habrastorage.org/files/5aa/0ba/2e8/5aa0ba2e855f448e9c4ef923b82a27b9.png"><br><br>  One of the main features of the sensor is battery power.  This allows you to not depend on the onboard network and hide it anywhere, without thinking about how to pull wires to it.  As a result, it is much more difficult to find and neutralize such a device. <br>  Sensors with autonomous power supply periodically send their coordinates via cellular networks to the cloud.  The user can at any time go to the site and see the position of their sensors.  It seems to be all simple. <br>  However, if you look at it, this scheme has several problems, which are mainly due to the use of the battery. <br><br><h5>  First of all, it is the battery itself. </h5><br><br>  The sensor should work confidently in the cold, which many batteries cannot provide, since at low temperatures they lose much capacity.  The solution is a lithium-thionyl chloride battery.  Here you can read a good overview of this type of battery.  This device uses ER14505M AA Size MCB batteries.  The total capacity of 4.2 Ah, voltage 3.6 V. <br><br><img src="https://habrastorage.org/files/e31/9f8/e48/e319f8e48d704add80ae171f71f674f7.png"><br><br><h5>  The second problem is the determination of coordinates. </h5><br><br>  Most of the time the device is asleep.  Waking up at specified intervals, the process performs the following operations: <br><ul><li>  Receives device coordinates using <a href="https://ru.wikipedia.org/wiki/GPS">GPS</a> or <a href="https://ru.wikipedia.org/wiki/Location-based_service">LBS</a> </li><li>  Contacting the server </li><li>  Sends coordinates and other technical data. </li><li>  Receive command from server </li><li>  Executes commands </li><li>  Goes back to sleep </li></ul><br><br>  The main energy consumption is accounted for by GPS, so the device has 2 modes.  In the first mode, coordinates are calculated only from cellular towers (LBS), in the second mode, GPS is used. <br><br>  Considering the most unfavorable scenario, GPS in the cold start mode requires at least 5 minutes to get coordinates.  All this time, the receiver must be active and receive data from satellites.  There are also pitfalls with time synchronization and a decrease in the error in determining the coordinates.  A very interesting article about the GPS and GLONASS device can be read <a href="http://habrahabr.ru/post/164185/">here</a> . <br><br>  LBS works much faster, but can give a very large error, especially where there is a low density of towers.  In addition, LBS requires the use of a cell coordinate tower database.  An example of determining the coordinates of the towers can be viewed at <a href="http://habrahabr.ru/company/promwad/blog/223635/">this link</a> .  This LBS solution uses <a href="http://habrahabr.ru/company/yandex/blog/114491/">the Yandex.Lokator API</a> . <br><br><h5>  The next problem is data transfer. </h5><br><br>  Data transfer is a very important part of the system.  Device developers have done a great job analyzing various parameters and types of data transfer.  In the end, we decided to use the technical <a href="http://habrahabr.ru/company/beeline/blog/145423/">M2M sim cards</a> that many operators provide. <br><br>  There are some very interesting nuances.  First, the quality of communication is very different everywhere.  The only transmission method that works less throughout the country was GPRS.  More modern technologies are often stuck in obsolete equipment towers, especially in the regions.  Secondly billing.  Managing a huge number of sim cards is not an easy task.  In the first versions, prepaid tariffs were used, but then they agreed on a fixed monthly fee. <br><br>  M2M sim cards have one more nice feature - traffic priority over regular sim cards.  This greatly improves the stability of the data transmission medium. <br><br><h5>  Summary options </h5><br><br>  By combining the optimization of work with LSB and GPS and the optimization of traffic, we managed to achieve very impressive results.  The developers say that the operating time of the device, taking into account the transfer in LBS mode, is about 25 seconds, in GPS mode about 50 seconds.  Accordingly, the operating time on one set of batteries and contacting one time per day in GPS mode is about a year, and in LBS mode it is about 2 years.  Accuracy in GPS mode 2.5-10m, in LBS mode 30-600m.  It is possible to set the frequency of calls and the time of communication. <br><br><h4>  Circuit design and production </h4><br><br>  Zanoza is intended for open market sales to the end user.  For this very important parameter for this system is the final cost.  The developers have come a very long way and very seriously optimized this parameter. <br><br>  Many manufacturers of microcontrollers and components tailor-made specialized processors to customer requirements.  However, the customer must ensure the purchase of sufficiently large volumes, otherwise the production will not be profitable.  We can talk about tens or hundreds of thousands of units per year.  This approach at the first stage is not cheap, but very effective in the future. <br><br>  Most of the system is made on a single chip under the order by Simens.  This crystal combines a microcontroller, GSM and GPS.  In addition to optimizing the price, it also saves space on the board. <br><br>  The production of the board and housing is organized in China.  Packaging materials and batteries are also shipped from China.  In Russia, only the assembly and packaging. <br><br><h4>  Portal and cloud </h4><br><br>  All system management occurs through the cloud.  The device management portal looks like this: <br><br><img src="https://habrastorage.org/files/7e4/582/bc1/7e4582bc1a7e41cdaacb5a440d7c5ef8.png"><br><br>  This is a user account.  Here you can see the statistics of the outputs of the device to communicate, adjust the time parameters and the type of determination of coordinates. <br>  It is worth noting that the portal takes into account many types of users: administrators, marketers, technical support, developers, users, etc.  This allows you to control the system through a single entry point.  In addition, cloud computing power automatically adjusts to the load on the portal.  Theoretically, this allows you to connect an infinite number of devices. <br><br><h4>  Security Solution </h4><br><br>  If we consider the security of this system, we can distinguish 2 main aspects. <br>  The first is working with the portal.  Everything is clear enough, transparent and no different from the security systems on other multi-user sites. <br>  The second is the protection of the devices themselves.  An important feature of the sensors is that they do not wait for a connection from the server, but are themselves initiators of the connection.  Thus, the attacker significantly narrows the range of possibilities for hacking the sensor itself.  For the security of data delivery from the device to the server, the network operator is responsible. <br><br>  Thus, the weakest point of this system is the ability to silence the GPRS channel.  However, there is a trick here.  Unlike other systems, Zanoza does not increase power with a bad signal, but stores data in memory and ‚Äúfalls asleep‚Äù.  Then, after a random period of time, the next attempt is made to get in touch.  And this will continue either until the power is turned off, or until a stable connection is established.  When a connection is established, all saved data will be sent to the server.  This approach firstly complicates the search for a device by a signal, and secondly it increases the chances of receiving data from a device if a signal is bad. <br><br>  You can read more about the security aspects of the Internet of Things in the <a href="http://blogs.msdn.com/b/clemensv/archive/2014/02/10/service-assisted-communication-for-connected-devices.aspx">article by</a> Clemens Vasters. <br><br><h4>  Conclusion </h4><br><br>  The concept of the Internet of things covers a huge variety of systems.  And, often, the universality of the Internet of things systems allows us to use them in completely unexpected directions.  Zanoza was born from a GPS tracking system.  Its main purpose is to search for a car when it is stolen.  However, these sensors began to be used to prevent theft and other moving objects: from dumpster to billboards.  The system turned out to be very popular. </div><p>Source: <a href="https://habr.com/ru/post/282351/">https://habr.com/ru/post/282351/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../282337/index.html">Report from Percona Live 2016: what to expect from MySQL 8?</a></li>
<li><a href="../282339/index.html">"Have I been pwned" received the first "independent request"</a></li>
<li><a href="../282345/index.html">Results of the big programming championship - 2016 for 5 thousand people</a></li>
<li><a href="../282347/index.html">The experience of automating uneasy correspondence (Completion. Sampling and Export)</a></li>
<li><a href="../282349/index.html">DGA Domain Detection</a></li>
<li><a href="../282353/index.html">Explosive final of the Imagine Cup 2016</a></li>
<li><a href="../282357/index.html">Local positioning technology. Part II</a></li>
<li><a href="../282359/index.html">cx_Freeze + virtualenv = bugs and zigzags</a></li>
<li><a href="../282361/index.html">Connect to the Shielded VM webinar on Windows Server 2016. Begin on April 27 at 11:00 (GMT)</a></li>
<li><a href="../282363/index.html">Open DevOps Expert Meeting April 28 at Microsoft Technology Center</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>