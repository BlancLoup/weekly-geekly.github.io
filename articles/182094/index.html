<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Installing WordPress in the cloud OpenShift</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="If the topic of installing WP into the cloud is interesting for you, then here and now we will consider one of the implementation options. 

 We will ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Installing WordPress in the cloud OpenShift</h1><div class="post__text post__text-html js-mediator-article">  If the topic of installing WP into the cloud is interesting for you, then here and now we will consider one of the implementation options. <br><br>  We will consider installing WP to the cloud OpenShift (by RedHat), because of all the options known to me, this one is the simplest and has the most interesting features described in the <a href="http://casepress.org/ustanovka-wordpress-casepress-v-oblake-teper-e-to-prosto/">article</a> . <br><br>  Similar articles have already been, but for me they answered not all the questions and solved not all the problems.  Because here I will describe my way. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The instructions are written with the expectation that the reader has basic skills in working with web applications: <br><br>  1. Installing WordPress on regular hosting <br><br>  2. Download code via GIT (but SFTP is also possible) <br><br>  Let's start with ... <br><a name="habracut"></a><br><h4>  OpenShift account registration </h4><br>  The registration form is extremely simple, which immediately inspires hope for further simplicity and looking ahead to say that these expectations will be met. <br><br>  We carry out the registration procedure in accordance with the instructions. <br><img src="http://casepress.org/media/1VVWOURZoF1I6_lsgznDXrDg7mF1CzbdwYW6ubQ.png" alt="image"><br><br>  Go ahead ... log in and go to the console for settings. <br><br><h4>  Specify namespace </h4><br>  We start with the Settings section, namely Namespace, where you need to specify the part of the URL in which our applications will be located. <br><img src="http://casepress.org/media/1gQP3DWHUZ6Wetb0uUcwzUuguM8NtmDETMMJJ6Q.png" alt="image"><br>  I specified casepress what the URL of the application will look like in the figure is clear. <br><br><h4>  Configure SSH keys </h4><br>  We need the SSH key to secure access to the application through: <br><br>  - SSH (secure command line) <br><br>  - SFTP (secure file upload) <br><br>  - GIT (synchronization of application code) <br><br>  Further: <br><br>  If you already have SSH keys and you know what and how to do, you can manually load the public key on the <a href="https://openshift.redhat.com/app/console/settings">Settings</a> page, in the ‚ÄúPublic Keys‚Äù field. <br>  If there is no understanding and you want a minimum of problems, then just install the client package of tools ( <a href="https://www.openshift.com/developers/rhc-client-tools-install">Installing OpenShift RHC Client Tools</a> ), then, as you get to the ‚Äúrhc setup‚Äù command, the system will check the key itself, create it if not and upload it to the server. <br>  The result should be: <br><img src="http://casepress.org/media/1XHMxMlYdtvBkAOEdxsTTSanl4ngkLnew8HOTRA.png" alt="image"><br><br>  Keys can be added more, depending on the number of required connections.  Maybe you have colleagues or need to connect from different devices. <br><br><h4>  Create the first application </h4><br><h5>  Put the base cartridges </h5><br>  Here it is worthwhile to dwell on the fact that OpenShift correctly defines the term ‚Äúapplication‚Äù, meaning by it, including.  CMS WordPress.  In contrast to the concepts adopted in Russia, where many terms with fuzzy meanings are introduced: website, web application, service, etc. <br><br>  <b>Go:</b> <br>  1. Go to the ‚Äú <a href="https://openshift.redhat.com/app/console/application_types">Create Application</a> ‚Äù page. <br>  2. We are offered many ready-made templates, incl.  a simple WordPress installation, which we politely refuse, because  not looking for easy ways <br><img src="http://casepress.org/media/1ki32e-nxv_chOn1_UBUedivx0FPR7RVG4OUOQA.png" alt="image"><br>  3. You can try to put WordPress on an OpenShift template, as I did for the first time.  It is simple and fast.  But I did not like it, because  put <a href="https://github.com/openshift/wordpress-example/">reworked WordPress in English from the repository on GitHub</a> , which is very different from the standard by various changes with adaptation to the possibilities of OpenShift.  After installing a couple of plug-ins, I had an error with a white screen, I did not understand the reasons and just blew everything. <br><br>  4. Select PHP 5.3.  A form opens in which you need to specify the data of our application and states that the application is based on a PHP 5.3 cartridge (yes, the components in OpenShift are called cartridges).  Here all you need is to specify the name of the application.  Indicated the name of the test and get the URL: test-casepress.rhcloud.com.  Everything.  Click ‚ÄúCreate Application‚Äù.  It will take some time. <br><img src="http://casepress.org/media/1wVPbVs3x1VI1OuPfCZCwU6ydSK4Hl19zno0I_Q-1.png" alt="image"><br><br>  5. After installing the application, we will be transferred to a page with further instructions.  Here it is worth paying attention to the GIT instructions.  The bottom line is that the download code here is done via GIT, and not via FTP, as many are used to.  This is an important feature, which we will dwell on.  While you can not delve. <br><img src="http://casepress.org/media/1ZlLgqLenuaSKHJVPqTH9dIlNhiscFEHJSYEdZQ.png" alt="image"><br><br>  6. Go to <a href="https://openshift.redhat.com/app/console/applications">the ‚ÄúMy Applications‚Äù page</a> and see the first application in the list: <br><img src="http://casepress.org/media/1KPG2LQecpoPEk1KdlbOCdknBxFnRr6AZ8tFDNQ.png" alt="image"><br><br>  7. By clicking on the name of the application, we get to the settings page: <br><img src="http://casepress.org/media/1hVfP8zL2DCPDlO9hhYnVWMYdLFLraDriVW91ag.png" alt="image"><br>  8. Here we add another cartridge to this application: MySQL.  Completely the same way, just press the ‚ÄúADD CARTRIDGE‚Äù button <br><img src="http://casepress.org/media/1Mm59qLkljYG5zWRiHag0REBrLj1S__4h8BoPYg.png" alt="image"><br>  We are ready to download WordPress.  Go to the next step. <br><br><h5>  Set up your domain (URL) </h5><br>  If the domain of the appname-namespace.rhcloud.com type you don‚Äôt like and want to add your type ‚Äúmydomen.ru‚Äù is beautiful and understandable, for this you need to add aliace: <br><br><img src="http://casepress.org/media/16uw1mHLR6rfDWrxt98MftDjxerJY-gB2S4O-5A.png" alt="image"><br><br><h5>  Download WordPress Files </h5><br>  It is worth noting here that we will upload the code not through FTP, as is customary on hosting, but through GIT. <br><br>  If you do not have GIT, then it's time to <a href="http://git-scm.com/">put it</a> .  Good instruction is <a href="https://help.github.com/articles/set-up-git">here</a> . <br><br>  I have another GIT client, but for simplicity, I will use the standard GIT GUI in this manual.  You can read <a href="https://access.redhat.com/site/documentation/en-US/OpenShift/2.0/html/User_Guide/sect-OpenShift-User_Guide-Creating_an_Application.html">how to</a> work with GIT in console mode in the <a href="https://access.redhat.com/site/documentation/en-US/OpenShift/2.0/html/User_Guide/sect-OpenShift-User_Guide-Creating_an_Application.html">instructions for OpenShift</a> . <br><br>  1. Run the GIT GUI, then select the ‚ÄúClone existing repository‚Äù command <br><img src="http://casepress.org/media/1Z_qWJcJAJP4RJTuh0JdGiHhVOUJe20BtG-ZpOg.png" alt="image"><br>  2. As the initial position, select the GIT URL of your application with OpenShift, which can be seen on the settings page (item 7, Put the basic cartridges) of the application, and specify the directory in which we want to store a copy of the repository as the destination directory.  This can be any convenient directory on your PC.  Everything.  Click ‚ÄúClone‚Äù and wait until the files load. <br><img src="http://casepress.org/media/194QDVzMEphA4EGLLOtC2g_jW-L-jmLlYtCuhDA.png" alt="image"><br>  3. Must get the following result (GIT shows calm, and in the folder we see the contents of the application): <br><img src="http://casepress.org/media/19xtsg4jRFfaDzfW1ruOxQ6IbdcML_78nSOThSA.png" alt="image"><br>  4. For now we‚Äôll miss the meaning and meaning of these folders, and pay attention to the php folder, this is where the executable files of the application are located, including  index.php, here and copy the WordPress files.  Should get the following: <br><img src="http://casepress.org/media/1CTTIg1vnX3oQ2dfsctlWGf_WVT25X_Z5CUZBhw.png" alt="image"><br>  5. We changed the contents of the repository.  If you open GIT, and click the ‚ÄúReread‚Äù button, you will see the following: <br><img src="http://casepress.org/media/1gICyH7SylojlRi_gXWXd1Kuz5XZNu40BaBtuFA.png" alt="image"><br>  6. Accept changes.  Click ‚ÄúPrepare All‚Äù, specify the comment about the change, click ‚ÄúSave‚Äù, and ‚ÄúSubmit‚Äù, then in the submission form, click ‚ÄúSubmit‚Äù again.  GIT will start uploading files to the server. <br><img src="http://casepress.org/media/1wS45X0iGrxGhrKCEJ2bQX1Xsc0D-ZCAojhgYFA.png" alt="image"><br>  7. After the data is loaded into the server repository (origin), the publishing scripts will automatically run: <br><img src="http://casepress.org/media/11ykZEwtnE9oVWFuvPNAB4ZBl65OPOwYanz0LLQ.png" alt="image"><br><h5>  Customize WordPress </h5><br>  And here comes the first difference from the traditional work with WordPress, we cannot edit the files on the server in any way other than GIT without consequences. <br><br>  On the one hand, this is sadness - unnecessary actions, on the other hand, it allows you to simplify changes, they are easy to roll back in case of errors, and it is not replaceable if more than one person works on the application. <br><br>  Because the standard, simple and familiar dialog to create files wp-config.php we can not see.  You have to change it on your PC and upload it to the server via GIT.  And it's not easy to change, but to change a little slyly, taking into account the peculiarities of the OpenShift environment. <br><br>  If you do not really want to learn GIT, you can do this via SFTP.  To work with him there is a <a href="http://www.youtube.com/watch%3Fv%3Dg6G-Pkl_fzs">video instruction (in English)</a> and a <a href="http://www.mediaent.org/blog/archives/537">text (in Russian, with obscenities)</a> .  Under Windows, I managed to log in via FileZilla.  But you need to understand that you still have to reckon with GIT, if the changes made in some way are not reflected in the GIT, then with the next download via GIT, all changes will be washed away. <br><br>  <b>Go:</b> <br>  1. If you have a new WordPress installation, then you do not have a wp-config file in the folder, but there is a wp-config-sample.php.  Take it, copy and rename it to wp-config.php <br>  2. Open the new wp-config.php and specify the key parameters: database name, database user name, database password, database connection address.  You do not need to know them, because  they are specified as variables.  You can bravely and completely copy them from here.  I did this: <br><img src="http://casepress.org/media/1bvcOraEC7e7mrmHVVYwCvQdVgckuyjtXlfUxZw.png" alt="image"><br>  3. Now you need to manually adjust the salt: <br>  3.1.  As stated in the file, for this you need to go to <a href="https://api.wordpress.org/secret-key/1.1/salt/">api.wordpress.org/secret-key/1.1/salt</a> <br>  3.2.  The result is copied to the appropriate section wp-config.php <br>  4. At the end of the change wp-config.php finished.  We save.  We are closing.  Go to git ... <br>  5. GIT should show that it has detected changes in the wp-config.php file, we accept, commit, push. <br>  6. Now, if you go to the page of our application, you will see that the installation of WordPress immediately begins with the settings of the site name, etc., i.e.  we passed the setting of the connection to the database, due to the fact that we did everything through GIT. <br><img src="http://casepress.org/media/153Q1hMMbCqUGKGYGPDtaIXExnrpBD6mAXFA-HA.png" alt="image"><br>  7. Further installation occurs as usual. <br><br><h4>  Brakes in the application </h4><br>  After installation, noticed hard braking.  One page was loaded for a very long time (1-4 seconds per page with 30 queries to the database), despite the fact that on a regular virtual hosting, in the same conditions, this figure is: 0.2-0.4 seconds. <br><br>  Communication on the forum was reduced to the arguments that I live in Siberia.  And they are in the USA - because their website with the database is faster <br><br>  Disassembling the server is not my way.  I am looking for simple solutions. <br><br>  Appeal to the official email allowed to negotiate an increase in resources for my applications to the Medium level (Small is by default given). <br><br>  I have become available to create an application with the choice of Gears = Medium.  Then the site approached the normal parameters: 0.3-0.4 seconds per page. <br><img src="http://casepress.org/media/224.png" alt="image"><br><br><h4>  Features and notes </h4><br>  1. You need to choose a scheme for working with the site: <br><br>  1.1.  traditional (console, SFTP ...) <br><br>  1.2.  GIT - will have to give up all the amenities that you get in WordPress, the ease of adding plug-ins, the ability to add, remove or fix something via SFTP.  But in return, you get a full audit and versioning of all changes to the application, without exception, with the ability to track history, rollback, etc. If you choose SFTP, the principles of site administration are not very different from traditional ones, except that if you decide to try GIT, you can accidentally demolish the entire site; <br><br>  2. To make an archive of the application with all the files is very easy: <br><br>  2.1.  To do this, you must have the Installing OpenShift RHC Client Tools <br><br>  2.2.  further, if we want to get the archive to our D: drive, then we give the following command: ‚Äúrhc app snapshot save -a {appName} -fd: \ appname.tar.gz‚Äù, where {appName} is the name of the application you specified on the page for adding an application (p.4, Put the basic maps). <br><br>  3. You can set up a phpMyAdmin cartridge for working with MySQL, this can be done easily via the web console on the page of your application. <br><br>  4. It would be good after all installations to add the .gitignore file to the ‚Äú/ appname / php /‚Äù directory, and exclude wp-content / uploads from there, so that the site‚Äôs files do not get into GIT attention. <br><br>  5. There is a free fare, this is good.  But at this tariff the site noticeably slows down (page loading 1-4 seconds with 30 queries to the database), even without any plug-ins compared to regular hosting for 1500-2000 rubles.  per year (page load in 0.2-0.4 seconds with 30 queries to the database).  The transition to Medium Gears partially solves this problem, but now it is done only through the support service, and in the future it will be a paid option. <br><br>  If someone knows how to configure the DBMS on OpenShift with the acceleration of work, without switching to Medium mode - I will be very grateful. </div><p>Source: <a href="https://habr.com/ru/post/182094/">https://habr.com/ru/post/182094/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../182080/index.html">Siloviki propose to prohibit software that hides the user on the web</a></li>
<li><a href="../182082/index.html">Yota network jammers</a></li>
<li><a href="../182084/index.html">Launched a global competition for mobile developers Samsung Smart App Challenge 2013</a></li>
<li><a href="../182086/index.html">Jelly Bean for Xperia S, Acro S and Ion</a></li>
<li><a href="../182088/index.html">Databases in online games. From Allods Online to Skyforge</a></li>
<li><a href="../182098/index.html">Metric # 9 - Podcast on technologies and design of interfaces and services</a></li>
<li><a href="../182104/index.html">Mega-Data Centers - the pioneers of innovation</a></li>
<li><a href="../182106/index.html">CAPTHCA or reverse Turing test</a></li>
<li><a href="../182110/index.html">Cute castle - from modeling to the finished image</a></li>
<li><a href="../182114/index.html">Infographics about the study of Mars</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>