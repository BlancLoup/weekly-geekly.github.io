<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Chasing yourself, or a great way to start your day.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Translation of the post Mariusz Jankowski " A Rat Race, or a Great Way to Start the Day ". 
 The code given in the article can be downloaded here . 
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Chasing yourself, or a great way to start your day.</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/files/c9c/e32/ff4/c9ce32ff4e7a4febb167b26ed80534a8.png"></div><br>  <i>Translation of the post Mariusz Jankowski " <a href="http://blog.wolfram.com/2015/03/24/a-rat-race-or-a-great-way-to-start-the-day/">A Rat Race, or a Great Way to Start the Day</a> ".</i> <i><br></i>  <i>The code given in the article can be downloaded <a href="">here</a> .</i> <i><br></i>  <i><a href="http://habrahabr.ru/users/kirillguzenko/" class="user_link">Many</a> thanks to Kirill Guzenko <a href="http://habrahabr.ru/users/kirillguzenko/" class="user_link">KirillGuzenko</a> for help with the translation.</i> <hr>  Not so long ago, when winter was raging, clearing the access to the house from snow debris, I decided to recall the good weather, having considered my bicycle route to work using <a href="http://www.wolfram.com/language/">Wolfram Language</a> . <br><br>  Last year, I decided to engage in such a very common activity as recording my activity data.  I noted that over the past few years my trips have become faster and easier for me as the season draws to a close, so it was interesting for me to make sure that there are similar improvements in my fitness.  Using only a smartphone and the corresponding application, I recorded 27 trips between home and work, and then used the Wolfram Language to read, analyze and visualize the results. <br><br>  Here is an image from Google Earth showing my morning bike route, which is a little less than 18 km from east to west. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img title="Morning ride to work" src="https://habrastorage.org/getpro/habr/post_images/4ea/881/835/4ea8818352da21148bea5c343a6abd17.png" width="500" height="414"><br><a name="habracut"></a><br>  To transfer data from a smartphone, I used <a href="http://reference.wolfram.com/language/ref/format/GPX.html">GPX (GPS Exchange Format)</a> , a file format supported by major manufacturers of GPS devices and available in most applications.  A regular GPX file includes location and elevation data with time stamps, and Wolfram Language returns this data as a list of rules with talking names <b>Geometry</b> , <b>PointElevation,</b> and <b>PointTimestamp</b> . <br><br>  Here is a fragment of one of the GPX files: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dab/3ef/224/dab3ef224c76391d6d797783bf636780.png" width="466" height="462"><br><br>  Using the new features in the field of working with geodata in the Wolfram Language and the available time and position data, I was able to quickly and easily create a day trip animation (more details are available in the Initialization section of the attached CDF). <br><br><img src="https://habrastorage.org/files/176/fc2/a30/176fc2a30d2f4a2587ae1516431b45ef.jpg"><br><img src="https://habrastorage.org/files/ae4/bc6/10b/ae4bc610bfc54f9b97eac7666ce0e664.gif"><br><br>  A little more effort, and here's something interesting: I combined all the morning trips for the season in one animated race - these were the rat races to work!  The leader of the season is shown in yellow, of course! <br><br><img src="https://habrastorage.org/files/635/14a/4bd/63514a4bdea54ab38f3b082f4f9d8862.jpg"><br><img src="https://habrastorage.org/files/d12/649/69f/d1264969fc85467cb25a52023232b1d4.gif"><br><br>  Here are the results of this "race": <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b2c/463/209/b2c46320995d58dd9f32147008ec3179.png" width="409" height="466"><br><br>  Consider now travel in chronological order.  It turns out that my assumption about the improvement of travel time towards the end of the season and with the increase in mileage turned out to be true. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b54/070/5be/b540705be399fbfe47e9aa0d026a7e07.png" width="494" height="267"><br><br>  And let the previous calculations and visualizations are good enough, but we can do something more.  GPX files contain elevation data with a time reference, however, not only will this easily visualize the overall profile of the road, but also something else: the detection of the ascent and descent sections by means of a new functionality from the signal processing area ‚Äî peak detection. <br><br>  Let's start with the standard road profile: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e14/251/170/e14251170e920d3972fe573f48a2dd7b.png" width="506" height="221"><br><br>  To determine the ups and downs, I smoothed the data on the rises to record only the largest local maxima and minima in the signal.  To do this, I first constructed a linear interpolation of the entire function to get rid of too unstable intervals in the recorded data, and then smoothed it with a <a href="http://reference.wolfram.com/language/ref/GaussianFilter.html"><b>GaussianFilter</b></a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fb7/2a7/4e0/fb72a74e02cbf684d6f9cf9970a560b1.png" width="503" height="298"><br><br>  The smoothing operation removes the ‚Äúparasitic‚Äù peaks and declines in the height data.  I identified the remaining large peaks with <b>FindPeaks</b> and divided the route into ascending and descending sections. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6c6/2d1/f0f/6c62d1f0f3ea6cba741ffa493dbacf80.png" width="424" height="94"><br><br>  Visualize the sections of the ascent and descent of the morning trip on the elevation chart: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dfe/46f/b1a/dfe46fb1ad3d36a7661a94be0037ab47.png" width="498" height="207"><br><br>  And here are some more useful visualizations - sections of the ascents and descents of the route on the map: <br><br><img src="https://habrastorage.org/files/318/e3e/7f3/318e3e7f357f4470800267418c2b7e08.jpg"><br><img src="https://habrastorage.org/files/650/109/c14/650109c14fe24f64ba0e0c9f121df020.jpg"><br><br>  The approximate distances of the sections of ascent and descent are available from the lists of ascents and descents calculated earlier.  The following result confirms the simple truth that it is <i>always</i> harder to go to work (i.e. uphill), and therefore less pleasant than to return from it. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6c1/c90/48e/6c1c9048e0a633afa286ebe3cfb266ec.png" width="393" height="124"><br><br>  I am already looking forward to the next season and all sorts of interesting facts in the analysis of my data using the Wolfram Language. </div><p>Source: <a href="https://habr.com/ru/post/263537/">https://habr.com/ru/post/263537/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../263513/index.html">Continuous Success and why this should not be forgotten when developing a project (using the example of Drupal)</a></li>
<li><a href="../263515/index.html">Parsing a function from the standard library D</a></li>
<li><a href="../263531/index.html">We write and listen to conversations in 3CX</a></li>
<li><a href="../263533/index.html">The Magic of Tensor Algebra: Part 12 - Rodrigues-Hamilton Parameters in Solid Kinematics</a></li>
<li><a href="../263535/index.html">IBM, along with 200 universities around the world, is preparing the next generation of cloud service developers</a></li>
<li><a href="../263539/index.html">Emmett Shire: How to Twitch Talk to Users</a></li>
<li><a href="../263541/index.html">PostgreSQL: Production Techniques</a></li>
<li><a href="../263545/index.html">nxweb - HTTP server for C applications</a></li>
<li><a href="../263547/index.html">Pseudo OOP in C</a></li>
<li><a href="../263549/index.html">Multithreaded SOCKS 4 server on Qt</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>