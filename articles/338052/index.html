<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Magento updates, Protection against harmful administrators, data leaks, code execution</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Updates Magento 2.1.9, 2.0.16, brought a lot of patches including XSS, CSRF, unauthorized data breaches, protection from administrators / store operat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Magento updates, Protection against harmful administrators, data leaks, code execution</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/dee/e19/5de/deee195de4a3188c48caf06d10d3cde4.jpg" alt="image"><br><br>  Updates Magento 2.1.9, 2.0.16, brought a lot of patches including XSS, CSRF, unauthorized data breaches, protection from administrators / store operators. <br>  Even hooked Magento 1.x, 1.9.3.6 and 1.14.3.6 received updates. <br><br>  For simplicity, call the bad administrator / operator - Odmin. <br>  Update: Added description of how data leaks about ordered products. <br><a name="habracut"></a><br><h2>  Critical (1) </h2><br>  <b>APPSEC-1800: Remote Code Execution vulnerability in CMS and layouts</b> <br>  Literally: Audmin can write code that will be executed on the server.  This is all thanks to the layouts in which code execution could be called.  Once it was possible to write in Magento 1.x such a configuration, which allowed to show the contents of any file on the product page.  Most likely, something very similar is used or one of the blocks allows you to set it a ‚Äúharmful parameter‚Äù. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  High risk (3) </h2><br>  <b>APPSEC-1887</b> Odmin could read what was not worth reading. <br>  <b>APPSEC-1850</b> Audmin could remove something very important, stop the shop <br>  <b>APPSEC-1851</b> RCE Odmin could execute malicious code, we can imagine the consequences. <br><br><h2>  Medium risk (29) </h2><br>  <b>APPSEC-1567 The</b> buyer could get data about orders, after accessing some, but you need to try to make a cookie. <br>  <b>APPSEC-1769</b> Audmin could write the sitemap wrong <br>  <b>APPSEC-1713</b> You can get important data on system links <br>  <b>APPSEC-1852</b> XSS and CSRF Audmin could lay XSS and CSRF <br>  <b>APPSEC-1482</b> Ability to send "not there" <br>  <b>APPSEC-1502</b> XSS Audmin could name the type of goods <br>  <b>APPSEC-1494</b> XSS If someone between the server and xml with the news inserts your xml. <br>  <b>APPSEC-1793</b> CRE For servers with Nginx, you can upload and execute the file <br>  <b>APPSEC-1819</b> Interception of a client session that is not out of date <br>  <b>APPSEC-1802</b> CSRF Could Capture Customer Account Management <br>  <b>APPSEC-1493</b> XSS Code could be <b>entered</b> in the title of the page <br>  <b>APPSEC-1755</b> CSRF You could do things after the client logged in <br>  <b>APPSEC-1853</b> XSS and CSRF. Odmin could add in the mailing module <br>  <b>APPSEC-1729</b> XSS Audmin could add code in order status title <br>  <b>APPSEC-1591</b> XSS Odmin could lay a problem in pictures of goods <br>  <b>APPSEC-1896</b> XSS Audit could put a harmful code in the order <br>  <b>APPSEC-1673</b> XSS Audmin via SVG favicon to throw a problem <br>  <b>APPSEC-1773</b> DoS Audmin could specify a page ID when creating it to make it impossible to create new <br>  <b>APPSEC-1577</b> XSS Audmin could add code when activating integrations <br>  <b>APPSEC-1510</b> Audmin with limited rights could replace favicon <br>  <b>APPSEC-1545</b> XSS Odmin could write off the code in the client fields <br>  <b>APPSEC-1535</b> Audmin could edit values ‚Äã‚Äãthrough quick editing in tables. <br>  <b>APPSEC-1588 A</b> pest could ‚Äúmerge‚Äù data on all previous orders during order placement <br>  <b>APPSEC-1701</b> Possible reuse of API sessions <br>  <b>APPSEC-1630</b> You could get acquainted with the status of the system update <br>  <b>APPSEC-1628</b> Getting an absolute path on the server <br>  <b>APPSEC-1599</b> Browser tries to use auto-substitution login to admin panel <br><br><h2>  Low risk (2) </h2><br>  <b>APPSEC-1709</b> You could get admin mail <br>  <b>APPSEC-1495</b> Editing order field without viewing rights <br><br><h3>  Interesting attacks </h3><br>  Interestingly, they can work on Magento 1.x. <br>  <b>APPSEC-1793</b> nginx is very often used in combat systems. <br>  <b>APPSEC-1588</b> You could get information about <s>customers of</s> purchased goods from a competitor. <br>  Using the identifiers of the order lines, we try to add the product to our basket by the line identifier from the order earlier, the product will be added. <br><br>  It does not give time, order and date, but if you start to ‚Äúfollow‚Äù the store from the moment X, you can collect data about what customers bought since X. To collect such data, you need to regularly poll the system. <br><br>  At time X, you need to know the ID of the last item ordered.  You can also collect a database of best-selling goods store, if the goods are not removed. <br><br>  <b>Instead of ending</b> <br>  18 out of 35 vulnerabilities is an attack from the inside when the store administrator is harming themselves. <br><br>  <b>Agencies and module suppliers</b> <br>  It would be worth updating your demo booths, so that Odmin did not come. <br><br>  <b>Store owners</b> <br>  1. It is time to check the lists of administrators, so that the Odmins are not among them. <br>  2. It would be worth updating, so as not to give order data to competitors <s>or spammers</s> . <br><br>  ‚Üí <a href="https://magento.com/security/patches/magento-2016-and-219-security-update">Source</a> <br><br>  Patches can be viewed on Gitkhab: <a href="">2.015-2.0.16</a> and <a href="">2.1.8-2.1.9</a> <br><br>  <b>Update:</b> Added description of how data leaks about ordered products. </div><p>Source: <a href="https://habr.com/ru/post/338052/">https://habr.com/ru/post/338052/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../338040/index.html">The evolution of cross-platform development: the pros and cons of Xamarin</a></li>
<li><a href="../338044/index.html">Development for Sailfish OS: Using Sensors (Part 1)</a></li>
<li><a href="../338046/index.html">Analysis of the article ‚ÄúChief, I want to work from home‚Äù</a></li>
<li><a href="../338048/index.html">Welcome to Android Devs Meetup September 22</a></li>
<li><a href="../338050/index.html">Security Week 37: Together we turn off Bluetooth, a hole in Tor for a million, botnets on Elasticsearch servers</a></li>
<li><a href="../338054/index.html">Nobody needs your software. Or why software development requires a fresh approach.</a></li>
<li><a href="../338056/index.html">Streaming service Roku is going to IPO: what can go wrong</a></li>
<li><a href="../338060/index.html">Cut XML by XQuery Markup</a></li>
<li><a href="../338064/index.html">The principle of sole responsibility: the foundation of decomposition</a></li>
<li><a href="../338066/index.html">Moki and explicit contracts</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>