<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Making HTML5 / Flash games in Java</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="PlayN and ‚ÄúHow Rovio Angry Birds Wrote HTML5‚Äù 
 At the last Google IO conference in San Francisco, the PlayN library was introduced. The session was c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Making HTML5 / Flash games in Java</h1><div class="post__text post__text-html js-mediator-article"><h4>  PlayN and ‚ÄúHow Rovio Angry Birds Wrote HTML5‚Äù </h4><br>  At the last Google IO conference in San Francisco, the PlayN library was introduced.  The session was called - Kick-ass Game Programming.  And this technology really looks tempting.  Just imagine that you write the game in the same language on any OS and using your favorite IDE, and you get the game under HTML5 / Android / Native / Flash (!).  PlayN is free and open source, and Angry Birds (HTML5) was also made on it. <br><a name="habracut"></a><br><h4>  Viper Engine and PlayN </h4><br>  A couple of weeks ago, I decided to make a game on PlayN and realized that the level of abstraction that the developers chose does not make it possible to quickly create games.  The platform needs a framework that will solve common problems when writing 2d games.  Such tasks as: animation, particle effects, game camera, game scene and scene change, simple physics, assembling game objects into groups. <br>  A week later, the alpha version of the Viper engine was made with the help of which we will create a simple HTML5 game in Java. <br><br><h4>  Cooking tools </h4><br><h5>  1. Install PlayN </h5><br>  First, let's start playn and its examples: <br>  <a href="http://code.google.com/p/playn/wiki/GettingStarted">Getting Started with PlayN</a> <br>  Clone the library PlayN: <br>  PlayN code is contained in Git.  If you have Git installed: <br><br>  git clone <a href="https://code.google.com/p/playn">code.google.com/p/playn</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      You need Maven version 3 or higher to build PlayN.  You can install Maven via the following link: <a href="http://maven.apache.org/">install Maven</a> . <br><br>  Check the version of Maven: <br>  mvn -V <br>  It should be 3 and up. <br><br>  After we set the playn to the maven local storage. <br><br>  cd playn <br>  mvn clean install <br><br>  To run one of the PlayN examples: <br><br>  cd playn / sample / showcase <br>  mvn clean package <br>  mvn test -P test-html <br><br>  Open the browser (of course Google Chrome) and enter: 127.0.0.1:8080/ <br>  Great, you can see the demo that Google engineers presented at IO. <br><br>  mvn test -P test-flash <br>  And now flash.  Enter: localhost: 8080 / <br><br>  cd android <br>  mvn android: deploy <br>  And Android. <br><br>  And don't forget to install Eclipse plugins to continue your work in the IDE. <br>  Install Maven Integration for Eclipse, choose Help ‚Üí Install New Software, select All Available Sites and search for the word maven. <br>  Install the <a href="http://code.google.com/eclipse/">Google Plugin for Eclipse</a> . <br>  Install the Web Tools Platform for Eclipse.  Choose Help ‚Üí Install New Software ..., enter <a href="http://download.jboss.org/jbosstools/updates/m2eclipse-wtp">download.jboss.org/jbosstools/updates/m2eclipse-wtp</a> select Work with, and install Maven Integration for WTP. <br><br><h5>  2. Create the skeleton of the future game in Eclipse </h5><br>  Open File ‚Üí New ‚Üí Other ..., then select Maven ‚Üí Maven Project then click next. <br><br>  We tick Include snapshot archetypes and double-click on playn-archetype in the list of archetypes. <br><br>  Customize Group Id, Artifact Id, Version, Package, and gameName. <br>  Group ID example: com.mydomain.myproject. <br>  Artifact ID example: gameamazing <br>  Version example: 1.0-SNAPSHOT or 0.01a <br>  Package example: com.mydomain.myproject <br>  Well, gameName example: LolGame <br><br>  Click Finish and get 5 projects in the Package Explorer. <br>  Great we have a skeleton game. <br>  For a note, the setup procedure for all of this will take significantly more time than writing the game itself. <br><br><h5>  3. We get Viper Engine with examples </h5><br><br>  <a href="http://viperplayn.appspot.com/">Viper demos</a> <br>  git clone <a href="">Partysun@github.com/Partysun/Viper-Engine-Demos.git</a> <br><br>  cd viper-engine-demos <br>  mvn clean install <br>  mvn test -P test-html <br><br>  Now import the project into Eclipse. <br><br>  And you can use. <br><br><h4>  We write games </h4><br><br>  A game on the Viper Engine must have an input class inherited from VipGame. <br><br>  In the constructor set the initial values ‚Äã‚Äãfor the game. <br> <code>public ViperExamples() { <br> //       . <br> //    . <br> //   . <br> super(640, 480, 800, 800, new LogoDemo(), 33); <br> } <br></code> <br><br>  The game scene on the Viper should be inherited from VipState. <br>  And it requires an overload of the create () method; <br>  It describes everything that should be on stage.  And for dynamic processing in game cycles, you need to overload the update () method; <br><br>  Here is an example of simply creating a pair of sprites and modifying them in time: <br> <code>public class MovingDemo extends VipState{ <br> <br> private VipSprite img; <br> private VipSprite img2; <br> private VipKeyboardStandart kListener; <br> <br> @Override <br> public void create() { <br> img = new VipSprite(20, 20, "images/house.png"); <br> add(img); <br> img.velocity.x = 0.2f; <br> <br> img2 = new VipSprite(270, 200, "images/house.png"); <br> add(img2); <br> img2.angularVelocity = 0.002f; <br> <br> kListener = new VipKeyboardStandart(); <br> addKeybordControl(kListener); <br> } <br> <br> @Override <br> public void update() { <br> super.update(); <br> if (kListener.ESC) { <br> VipG.switchState(new LogoDemo()); <br> } <br> if (img.x &gt; 350) <br> img.velocity = new VipPoint(0, 0.2f); <br> if (img.y &gt; 250) <br> img.velocity = new VipPoint(- 0.2f, 0); <br> if (img.x &lt; 20) <br> img.velocity = new VipPoint(); <br> <br> if (img2.scale.x &lt; 2) <br> img2.scale.x += 0.002f; <br> if (img2.scale.x &gt; 2) <br> img2.scale.x = 1.0f; <br> } <br> }</code> <br> <br><h4>  Summarizing </h4><br>  So, in the end, we have a framework for writing games for Html5 / flash / android. <br>  No no no!  Everything is not very stable and works so badly.  So far, only HTML5 works great and very fast.  After all, it was not for nothing that he was demonstrated for so long on IO and Angry Birds wrote.  This can not fail to please because writing html5 games on java is much more convenient for me than on js.  Pleases only the very potential of future opportunities.  And this potential can only be realized when working together on PlayN projects from Google and the Viper Engine (@Partysun). </div><p>Source: <a href="https://habr.com/ru/post/129735/">https://habr.com/ru/post/129735/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../129723/index.html">Competition for the new default design LiveStreet CMS</a></li>
<li><a href="../129725/index.html">Droider Chart. Issue 72, multifaceted</a></li>
<li><a href="../129728/index.html">+1 GLONASS-M, total complete set</a></li>
<li><a href="../129730/index.html">Invitation to stream Apple presentation ‚ÄúLet's talk iPhone‚Äù</a></li>
<li><a href="../129733/index.html">Embedding Spring Security in the ZK + Spring Framework + Hibernate: Part Two</a></li>
<li><a href="../129737/index.html">Home media server: setup and application aspects</a></li>
<li><a href="../129738/index.html">Habrachtets or how I did this summer</a></li>
<li><a href="../129739/index.html">Assembler for beginners</a></li>
<li><a href="../129742/index.html">Social advertising: is it possible to survive in the USA with a salary of $ 9 / hour</a></li>
<li><a href="../129743/index.html">"Smart Home" with their own hands</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>