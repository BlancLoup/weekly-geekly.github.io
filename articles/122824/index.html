<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Reading an XML file using App Inventor</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello. I want to dedicate this topic to Google App Inventor (hereinafter simply inventor), with which I think you are familiar from previous topics of...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Reading an XML file using App Inventor</h1><div class="post__text post__text-html js-mediator-article">  Hello.  I want to dedicate this topic to Google App Inventor (hereinafter simply inventor), with which I think you are familiar from previous topics of other people.  He is accused of a small functional.  I also thought so, and when it first started, I could only make a couple of trinkets.  But, having come the other day to the inventor, I was pleasantly surprised, because in the June update, many interesting blocks were added, such as: <br>  Web, TinyWebDB, TinyDB, Notifier.  In this topic, we will look at how to read the XML file using the example of getting the user's karma (I thought of using this example after one of the users wrote a topic about Python and SL4A).  The interface will not be considered in detail, it is easy to understand and so. <br><a name="habracut"></a><br>  First, I will show what kind of scheme we end up with: <br> <a href=""><img src="http://imglink.ru/pictures/28-06-11/8eee3e76b6e87c0e0971c04f2b1d179e.jpg" alt="image"></a> <br><br><h5>  Add components </h5><br>  Open the appinventor.googlelabs.com page in the browser, create a new project and add the following components to the screen layout: <br>  Web, Notifier, Button, Label, TextBox, if necessary, change the labels on them. <br>  I did it like this: <br><img src="http://i23.fastpic.ru/big/2011/0623/c6/f3f8e6f2ee2c2c6cd54ae110c9df7cc6.png" alt="image"><br><br><h5>  Creating variables </h5><br>  Open the Block Editor (such as the top right button) and start creating blocks of code. <br>  First you need to make two variables: <i>lworking and lCopyofWorking</i> . <br>  Creating variables is done like this: <br>  On the left, go through the tabs in the <b>Built-In</b> ‚Üí <b>Definition</b> menu and drag the <i>def variable</i> to the workspace.  Both variables will be of the <i>list</i> type, so go to <b>Built-In</b> ‚Üí <b>Lists</b> and drag <i>make a list</i> to variables twice.  After that, you need to add to the list variable two item type <b>text</b> ( <i>Built-In</i> ‚Üí <i>Text</i> ) with the value&gt; and &lt;. <br>  This is what should have happened: <br><img src="http://habrastorage.org/storage1/dd35d883/d3debaff/0801a9c6/c1becefc.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Button click processing </h5><br>  Button click processing can be found in <b>My Blocks</b> ‚Üí <b>Button1</b> , this block is called <i>Button1.Click</i> .  Transfer it to the work area.  What will be done by pressing?  It is necessary to make it so that when the button is pressed, the url is set to request the XML file and the request itself is sent.  To do this, go to <b>My Blocks</b> ‚Üí <b>Web1</b> and drag the <i>set Web1.Url</i> and <i>call Web1.Get</i> blocks to the <i>workspace</i> , then paste them into <i>Button1.Click</i> .  Now it is necessary to make the url itself, for which we need the <b>join</b> ( <i>Built-In</i> ‚Üí <i>Text</i> ), <b>text</b> (ibid) blocks, into which we need to drive the <i>http: //habrahabr.ru/api/profile/</i> and <b>TextBox1.Text</b> ( <i>My Blocks</i> ‚Üí <i>TextBox1</i> ).  From their name, I think it is clear what they are doing and in what order to place them.  Here's how I did: <br><img src="https://habrastorage.org/storage1/ae6e8efc/3170cc2c/f188999b/f7b72fba.png"><br><br><h5>  Getting and opening XML </h5><br>  Add a <b>Web1.GotText</b> block ( <i>My Blocks</i> ‚Üí <i>Web1</i> ) to the <i>workspace</i> .  This block is triggered when the <i>Web1.Url</i> command is successfully executed and a response is received from the server. <br>  First you need to separate the text using this design: <br><img src="https://habrastorage.org/storage1/f09f36e4/baefaa15/22f33d74/a9269393.png"><br>  The first block sets the value of the variable (It is located in <i>My Blocks</i> ‚Üí <i>My Definitions</i> ). <br>  The second divides the text <i>responseContent</i> using <i>lCopyofWorking</i> .  (As a result, the resulting text will be approximately <i>login nick / login karma 66 / karma</i> ...). <br>  After that, you need to check if there is such a user.  Due to the fact that in case of incorrect spelling of the user name, Habr returns a file with an error, then we can easily check if there is such a user with the help of such blocks: <br><img src="https://habrastorage.org/storage1/8fcf7dd3/66171598/58fe07ea/c0c4f9e1.png"><br>  I think everything is clear with the appointment of blocks.  <b>ifelse</b> is located in <i>Built-In</i> ‚Üí <i>Control</i> .  <b>contains</b> in <i>Built-In</i> ‚Üí <i>Text</i> .  <b>global</b> in <i>My Blocks</i> ‚Üí <i>My Definitions</i> . <br>  Now you need to <b>loop</b> through all the items in the <b>lworking</b> sheet using the <b>foreach</b> function ( <i>Built-In</i> ‚Üí <i>Control</i> ). <br>  Here's what it looks like: <br><img src="https://habrastorage.org/storage1/8332933e/61780fd1/53d05415/1456419a.png"><br>  It is necessary to substitute this construction in <i>else-do</i> . <br>  It remains only to find out: is there a karma tag in the current case and output its value. <br>  You can find out with the help of the already known to us <i>contains</i> , <i>if</i> (to be in the same place as ifelse), the text <i>/ karma,</i> and the <i>sworkingitem2</i> variable like this: <br><img src="https://habrastorage.org/storage1/81d9970b/347fa937/4cc07b6f/f187e04d.png"><br>  Everything!  It remains only to derive the value of karma, which we will do with the help of the <b>Notifier1.ShowAlert</b> function ( <i>My Blocks</i> ‚Üí <i>Notifier1</i> ).  There is nothing difficult with it, so we will only consider the construction of the message text: <br><img src="http://i23.fastpic.ru/big/2011/0623/27/c15859c293eb2d59e2d6a342eefbf027.png" alt="image"><br>  As you can see, I got this pretty cumbersome.  With <i>join</i> you are already familiar, we will not dwell on it.  But the second part should be disassembled. <br>  <b>select list item</b> ( <i>Built-In</i> ‚Üí <i>Lists</i> ), as the name implies, selects an item from the <i>lworking</i> sheet.  <i>Attach</i> the subtraction function ( <i>Built-In</i> ‚Üí <i>Math</i> ) to the <i>index</i> argument in which the <b>number</b> ( <i>Built-In ‚Üí Math</i> ) variable with value 1 will be subtracted from the position of the current tag ( <i>/ karma</i> ) with the value 1. The function of determining the position of the current tag is called <b>position in list</b> and is located in <i>Built-In</i> ‚Üí <i>Lists</i> . <br><br><h5>  Completion </h5><br>  We connect our blocks as shown in the first screenshot and test. <br><img src="https://habrastorage.org/storage1/91bdf925/1d46b9c3/f41b7500/ce51f7fa.png"><br>  As you can see, in fact, App Inventor is not such a bauble, which, at first glance, is only suitable for creating a meowing cat. <br>  <a href="https://sites.google.com/site/blocks123/xmlparsing">The lesson from which this article was made</a> <br>  <b>Download the application:</b> <br><img src="http://img12.imageshost.ru/img/2011/06/23/image_4e035064e8c96.png" alt="image"></div><p>Source: <a href="https://habr.com/ru/post/122824/">https://habr.com/ru/post/122824/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../122812/index.html">Remote hand control</a></li>
<li><a href="../122818/index.html">Config :: YAML :: Modern - working with .yaml configuration files on steroids</a></li>
<li><a href="../122820/index.html">Canada goes to plastic money</a></li>
<li><a href="../122822/index.html">Briefly about reading the blog "SHTOSM" in the feed of friends in LiveJournal</a></li>
<li><a href="../122823/index.html">File transfer by signals</a></li>
<li><a href="../122826/index.html">Qt applications in the Mac App Store</a></li>
<li><a href="../122827/index.html">Functional programming in 1C: Enterprise 8 environment</a></li>
<li><a href="../122828/index.html">comScore: The network is "shrinking" because of Facebook</a></li>
<li><a href="../122829/index.html">Data binding in JavaScript applications: auto-authoring events</a></li>
<li><a href="../122830/index.html">Checkout right</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>