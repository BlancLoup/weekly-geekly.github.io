<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The power of CSS will help you take shape, SVG!</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We need: 


1. Set your own icons on the site using SVG. 
2. They should be controlled using CSS (shape, size, fill, effects, including their behavior...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The power of CSS will help you take shape, SVG!</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/77d/443/cd6/77d443cd6a054bef94c656c2eec4030f.png"><br>  We need: <br><ol><li>  Set your own icons on the site using SVG. </li><li>  They should be controlled using CSS (shape, size, fill, effects, including their behavior). </li><li>  They must be lightweight and in one place to save http requests. </li><li>  Work in all major modern browsers. </li></ol><br>  <a href="http://codepen.io/sol0mka/pen/Kljoq">demo</a> <br><a name="habracut"></a><br><h4>  Why am I writing this? </h4><br>  Despite the <a href="http://coding.smashingmagazine.com/2012/08/20/towards-retina-web/">growing popularity of the</a> vector in the browser, <a href="http://caniuse.com/svg">its age and browser support</a> , there are very few good usage decisions, as it seems to me.  Let me explain.  <a href="http://habrahabr.ru/post/157087/">Of course,</a> <a href="http://softwaremaniacs.org/blog/2005/12/26/svg-css-insane-mix/">they wrote</a> and <a href="http://vhardy.github.com/presentations/html5-community-meet-up-2012/">told a</a> <a href="http://softwaremaniacs.org/blog/2005/12/26/svg-css-insane-mix/">lot</a> <a href="http://coding.smashingmagazine.com/2012/01/16/resolution-independence-with-svg/">about SVG</a> .  Even about <a href="http://tutorials.jenkov.com/svg/svg-and-css.html">SVG and CSS</a> together.  But when I was faced with the need to make SVG icons for the site, I could not find good flexible solutions.  SVG in the browser now looks like a forgotten older person, it's time to comb it, shake it off the dust and send it to the gym.  I hope the method described in this article will be useful for someone. <br><br>  At once I will say yes, I used icon fonts, here are the problems here: <br>  1. Such icons in the browser are rendered as a font and in Windows, for example, soap edges are often obtained.  There are <a href="http://daneden.me/2010/12/css-font-smoothing/">CSS properties</a> that should solve this problem, but they only work in WebKit and only under MAC - that is, they are useless.  The designer swore. <br>  2. Only in 23 Chrome and only under Windows such a font began to disappear, and in some cases, strongly ‚Äútear‚Äù the rest of the layout of the site.  I used such fonts many times, but for the first time with my own icons.  And the first time such a problem. <br>  3. It is impossible to add an internal shadow.  In the project it was necessary.  The designer swore. <br>  4. The weight of such a font.  C SVG does not compare. <br>  5. Still, SVG has more features than the font. <br><br><h4>  Proceed or baseline data. </h4><br>  The initial data is a clean HTML document with main.css connected to it or the place where we will write the styles of our icons. <br>  Also add the SVG document to the body tag.  In it, in the defs section, we will declare the forms of our icons in the form of a clip-path and filters for them (internal shadow). <br>  How to declare SVG is better to look at the <a href="http://msdn.microsoft.com/en-us/ie/hh410107.aspx">harmful old man</a> , since he is the most agile. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!doctype html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">utf-8</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"main.css"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" standalone="no"?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">svg</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">version</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2000/svg"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">defs</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--            --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">defs</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">svg</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br><h4>  Add form icons </h4><br>  How to get the SVG code, I think you do not need to write?  Simply open the SVG file in a text editor or use any vector editor, such as Illustrator.  For clarity, here I show only the SVG code from our HTML document (remember that it is in the body tag).  Create a clipPath tag and add an SVG form of an icon to it. <br><br><pre> <code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" standalone="no"?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">svg</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">version</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2000/svg"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">defs</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">clipPath</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"heart-path"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">path</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">fill-rule</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"evenodd"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">clip-rule</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"evenodd"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">d</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"M256,512c0,0-256-144.938-256-311.694C0,29.22,240.62,10.145,256,192 c18.467-181.721,256-162.784,256,8.306C512,367.062,256,512,256,512z"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">clipPath</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">defs</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">svg</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  We created a path for an icon in the shape of a heart.  Please pay attention to the id = "heart-path" attribute of the clipPath tag. <br>  Through it we will refer to the form of our icon. <br><br><h4>  Add icons </h4><br>  Insert our icon into the HTML document.  It consists of a small SVG document, inside which a square is inserted: <br><br><pre> <code class="html hljs xml"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">svg</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"heart-icon icon"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">viewBox</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0 0 512 512"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">rect</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"512"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"512"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">svg</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Immediately we see a small lack of approach - the icon consists of two elements.  The problem, in my opinion, is tolerable since the structure of all the icons is absolutely the same.  If anything, you can easily find / replace / remove through the search for the entire project. <br><br>  Notice the number 512. This is the size of the square in which the icon was inscribed when drawn in the editor.  Your icon might be different.  The class heart-icon to set the shape of the icon in CSS, the class icon - the unifying class for all icons (will there be mass of them?). <br><br><h4>  Last step.  Adding CSS </h4><br>  Let's see what happened.  If you did everything correctly, you <a href="http://codepen.io/sol0mka/pen/pDxdq">will see a</a> black square of 512 by 512 pixels.  Malevich already approves.  But, I'm afraid, no one will appreciate our <a href="http://shkolazhizni.ru/archive/0/n-54167/">manifesto of Suprematism</a> anymore.  We continue. <br><br>  All right, no icons?  Getting to the most interesting - CSS. <br><br>  In main.css which we connected to the document we write styles for the classes heart-icon and icon. <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.icon</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>:<span class="hljs-number"><span class="hljs-number">32px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>:<span class="hljs-number"><span class="hljs-number">32px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">cursor</span></span>:pointer; <span class="hljs-attribute"><span class="hljs-attribute">fill</span></span>: <span class="hljs-number"><span class="hljs-number">#ccc</span></span>; }</code> </pre>  Our black square turns gray and 32x32 pixels.  The fill property sets the fill of our icon. <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.heart-icon</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">rect</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">clip-path</span></span>:<span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(<span class="hljs-string"><span class="hljs-string">'#heart-path'</span></span>); }</code> </pre>  The form of the icon finally <a href="http://codepen.io/sol0mka/pen/lzgmC">appears</a> !  The clip-path is exactly the property that causes the browser to take the form along the # heart-path and apply it to the square. <br><br>  Add behavior for the icon.  These will be: hover,: active states and the checked class. <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.heart-icon</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">rect</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">clip-path</span></span>:<span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(<span class="hljs-string"><span class="hljs-string">'#heart-path'</span></span>); } <span class="hljs-selector-class"><span class="hljs-selector-class">.icon</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:hover</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">fill</span></span>: <span class="hljs-number"><span class="hljs-number">#999</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.icon</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:active</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.icon</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.checked</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">fill</span></span>:red; }</code> </pre><br><br>  For <a href="http://codepen.io/sol0mka/pen/jivFK">clarity,</a> I copied the icon and added a checked class to it. <br>  That's all, our system is ready.  Yes, it is simplified for this example.  In my project, I would set the color for different icons and, accordingly, the behavior through a separate class.  After all, the icons we can have different colors and the behavior can be different (not all the same icons are gray).  But do not fill it with a head, let's keep things simple now. <br><br>  To add a new icon to our system, you need only: <br><br><ol><li>  Declare a new clip-path with the shape of the icon and its id in the general SVG document (in the &lt;defs&gt; section). </li><li>  Create a new class for the shape of the icon in CSS. </li></ol><br>  <a href="http://codepen.io/sol0mka/pen/upkzj">So simple.</a> <br><br>  I added the play icon since its code is very simple and well illustrates that not only paths can be used as a clip-path, but also any shapes (which SVG supports of course). <br><br><h4>  Add Inner Shadow </h4><br>  For this we will use the SVG filter. <br>  Immediately warn.  For this example, I had a little difficulty with icons when using a filter on top of them.  Some of them sometimes disappeared.  Sometimes.  Maybe just me.  Be on the alert.  And one more problem - so that the filter overlaps nicely, you need to add another element to the icon.  Very pity.  Now filter icon = 3 elements.  So if you need to come up with a <a href="http://www.kickstarter.com/">trend</a> <a href="https://new.myspace.com/">flat</a> <a href="https://layervault.com/">design</a> , feel free to <a href="https://habr.com/ru/post/167085/">rewind</a> . <br><br>  Add an item: <br><pre> <code class="html hljs xml"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">svg</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"heart-icon icon"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">viewBox</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0 0 512 512"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">g</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">rect</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"512"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"512"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">g</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">svg</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre>  The &lt;g&gt; tag is the element that is used for the filter. <br><br>  Add a filter to the SVG section of the document: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">filter</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'inset-shadow'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--   --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">feOffset</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">dx</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'0'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">dy</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'0'</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--   --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">feGaussianBlur</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">stdDeviation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'20'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">result</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'offset-blur'</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--  drop shadow     --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">feComposite</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">operator</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'out'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">in</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'SourceGraphic'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">in2</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'offset-blur'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">result</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'inverse'</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--    --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">feFlood</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">flood-color</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'black'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">flood-opacity</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'.65'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">result</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'color'</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--     --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">feComposite</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">operator</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'in'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">in</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'color'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">in2</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'inverse'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">result</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'shadow'</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- c    --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">feComposite</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">operator</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'over'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">in</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'shadow'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">in2</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'SourceGraphic'</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">filter</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Describe how the filter works, I will not.  You can easily <a href="http://www.w3.org/TR/SVG/filters.html">read</a> it on the Internet.  This is a topic for a separate post.  Just cover it with comments. <br>  Note that the filter also has id = 'inset-shadow' <br><br>  Add a shadow to the icons <br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.icon</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">g</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">filter</span></span>:<span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(<span class="hljs-string"><span class="hljs-string">'#inset-shadow'</span></span>) }</code> </pre><br>  That's <a href="http://codepen.io/sol0mka/pen/Kljoq">all</a> .  I want to write.  But that would not be true. <br><a name="true_is_love"></a><br><h4>  True or love everyone </h4><br>  The fact is that if you open <a href="http://codepen.io/sol0mka/pen/Kljoq">an example</a> in Opera, you will see a set of 3 squares.  Those icons that with the shadow disappear altogether and this is the problem of SVG filters.  If the browser does not find the filter, it renders the icon transparent, instead of just not applying it. <br><br>  But why not find it ?!  The fact is that 2 browser worlds collide here.  Our path url ('# heart-path') Opera takes as a path a relative CSS file or url ('main.css # heart-path') instead of a url ('index.html # heart-path'), as everyone else does.  If you set the path exclusively as url ('index.html # heart-path'), then browsers do not parse the SVG document inside index.html, as they consider it to be an external source.  Mozilla has the same problems as soon as you move main.css outside the directory with the index.html file.  IE also agrees with WebKit on this issue.  And WebKit, in turn, is not very friendly with external sources.  They need an internal one. <br><br><h4>  Bred worlds in the corners. </h4><br>  In the sense of peace.  That is, we force to drive a round dance. <br>  Yes, we will talk about cross-browser compatibility. <br><br>  So we need: <br><ol><li>  Two CSS files with different paths for two different worlds. </li><li>  Edit and maintain styles of icons in one place (file). </li><li>  Have one source of declaration of icon forms and filters - one SVG document. </li><li>  Do not think about it later in the development. </li></ol><br>  Let's get started  In solving these problems, we will be helped by preprocessors.  As a CSS preprocessor in this example, I will use <a href="http://learnboost.github.com/stylus/">Stylus</a> , which is undeservedly deprived of the attention of the Russian-speaking developer community, but will illustrate this example as simply and clearly as possible. <br>  As an HTML preprocessor, I will use PHP, the most popular preprocessor and server language at the same time.  Any developer who has ever used a preprocessor will easily write this example for his favorite tool.  The main principle. <br><br>  Let's rename the index.html file to index.php.  After that, we will create the / css folder and place the icons.svg file in it, where we will transfer our large SVG document with icon form declarations. <br><br><img src="https://habrastorage.org/storage2/59b/461/f4d/59b461f4d7c612de32f33f9e5313ffa3.png"><br><br>  In place of a large SVG document in index.php, we write a PHP expression <br>  &lt;? php include "css / icons.svg";  ?&gt; <br>  which includes the text of the file icons.svg at the place where the expression itself is found. <br>  Point 3 is completed, you can delete. <br><br>  Now point 1 and 2. <br><br>  Create the icons.styl file in the / css directory.  This will be exactly the one place where we will edit the styles of our icons.  Move all the contents of the main.css file into it and design it as a mixin of icons_mixin: <br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">icons_mixin</span></span>( <span class="hljs-selector-tag"><span class="hljs-selector-tag">path</span></span> = '' ) <span class="hljs-selector-class"><span class="hljs-selector-class">.heart-icon</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">rect</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">clip-path</span></span>:<span class="hljs-built_in"><span class="hljs-built_in">url</span></span>( path + <span class="hljs-string"><span class="hljs-string">'#heart-path'</span></span>); } <span class="hljs-selector-class"><span class="hljs-selector-class">.play-icon</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">rect</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">clip-path</span></span>:<span class="hljs-built_in"><span class="hljs-built_in">url</span></span>( path + <span class="hljs-string"><span class="hljs-string">'#play-path'</span></span>); } <span class="hljs-selector-class"><span class="hljs-selector-class">.icon</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>:<span class="hljs-number"><span class="hljs-number">32px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>:<span class="hljs-number"><span class="hljs-number">32px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">cursor</span></span>:pointer; <span class="hljs-attribute"><span class="hljs-attribute">fill</span></span>: <span class="hljs-number"><span class="hljs-number">#ccc</span></span>; g{ <span class="hljs-attribute"><span class="hljs-attribute">filter</span></span>:<span class="hljs-built_in"><span class="hljs-built_in">url</span></span>( path + <span class="hljs-string"><span class="hljs-string">'#inset-shadow'</span></span>) } &amp;<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:hover</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">fill</span></span>: <span class="hljs-number"><span class="hljs-number">#999</span></span>; } &amp;<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:active</span></span>, &amp;<span class="hljs-selector-class"><span class="hljs-selector-class">.checked</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">fill</span></span>:red; } }</code> </pre><br>  Mixin takes as a parameter the path to SVG forms.  We will use it when creating paths for different browsers. <br>  CSS styles of icons have not changed at all, I just added <a href="http://learnboost.github.com/stylus/try.html">nesting</a> for the convenience and clarity of the example. <br><br>  Now create another 2 .styl file.  webkit_ie.styl and ff_op.styl. <br>  The first will be used on our website by default, the second only for Mozilla and Opera. <br><br>  Add to webkit_ie.styl file: <br><pre> <code class="css hljs">@<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'icons.styl'</span></span> icons_mixin()</code> </pre><br>  We import the file with the mixin of icons and execute it without parameters. <br>  In the file ff_op.styl add: <br><pre> <code class="css hljs">@<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'icons.styl'</span></span> icons_mixin(<span class="hljs-string"><span class="hljs-string">'icons.svg'</span></span>)</code> </pre><br>  Import the file with the mixin of icons and pass it the path to icons.svg. <br><br>  Point 1 and 2 are met.  Cross out. <br><br>  If confused, the project looks like this: <br><img src="https://habrastorage.org/storage2/b39/af4/340/b39af43408b818e8291f212ca5523662.png"><br><br>  In index.php we will fix the path to the styles of icons, now this <br>  &lt;link rel = "stylesheet" href = "css / webkit_ie.css"&gt; <br><br>  And at the very end, before the closing &lt;/ body&gt; tag, add a script to conditionally add icon styles for browsers with a different engine than WebKit or Trident (IE): <br><br><pre> <code class="javascript hljs">&lt;script type=<span class="hljs-string"><span class="hljs-string">"text/javascript"</span></span>&gt; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> firefox = navigator.userAgent.indexOf(<span class="hljs-string"><span class="hljs-string">"Firefox"</span></span>) != <span class="hljs-number"><span class="hljs-number">-1</span></span> ; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> opera = navigator.userAgent.indexOf(<span class="hljs-string"><span class="hljs-string">"Opera"</span></span>) != <span class="hljs-number"><span class="hljs-number">-1</span></span> ; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( firefox || opera ) { <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.write(<span class="hljs-string"><span class="hljs-string">'&lt;link rel="stylesheet" href="css/ff_op.css"&gt;'</span></span>); } &lt;<span class="hljs-regexp"><span class="hljs-regexp">/script&gt;</span></span></code> </pre><br>  That's all.  <a href="http://legomushroom.dropmark.com/101369/1444963">source code</a> <br><br><h4>  What have we done !? </h4><br>  Let's look back and see what we‚Äôve done.  Despite the fact that at first glance, the system may seem too complex, it seems to me that it turned out to be quite flexible and simple (at my second glance) to have the right to life. <br><ul><li>  It is completely controlled by CSS. </li><li>  She can work in </li><li><ul><li>  IE 9-10 </li><li>  Mozilla 4+ </li><li>  Opera 11.6+ </li><li>  Safari 5.1+ </li><li>  Chrome 14+ (I‚Äôm thinking 4+ too, but only checked before this version) </li></ul></li><li>  It is fairly light in weight.  (Recall the play icon &lt;polygon fill-rule = "evenodd" clip-rule = "evenodd" points = "0.0 512.256 0.512" /&gt; its weight is only 85 bytes) </li><li>  All the icons are in the same file, so we will not get the server requests. </li></ul><br>  All tasks are completed.  I will stop here with your permission.  Thank you all for your attention and time, I hope you spent it with benefit. </div><p>Source: <a href="https://habr.com/ru/post/167085/">https://habr.com/ru/post/167085/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../167067/index.html">Database Connection Dialog</a></li>
<li><a href="../167071/index.html">Headphones Monster DNA: a comparative review on the background of Beats Solo HD</a></li>
<li><a href="../167073/index.html">THL A1 - budget smartphone with IPS screen</a></li>
<li><a href="../167075/index.html">The use of procedural generators in creating content for real-time 3D applications: Part 1. Oil Rush</a></li>
<li><a href="../167083/index.html">Winter Rating</a></li>
<li><a href="../167087/index.html">‚ÄúUnnecessary‚Äù MIDI recordings, or How software developers follow standards</a></li>
<li><a href="../167089/index.html">Program PyCon Russia 2013 formed</a></li>
<li><a href="../167093/index.html">How to start flying, even on something, on your own</a></li>
<li><a href="../167095/index.html">BitTorrent Labs: Welcome to the Experimental Site</a></li>
<li><a href="../167099/index.html">Running FreeBSD on Linux KVM</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>