<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Storage Performance</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Since LSI (now part of Avago Technologies) sold its division of flash controllers from the notorious Seagate, their main focus is again on solutions f...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Storage Performance</h1><div class="post__text post__text-html js-mediator-article">  Since LSI (now part of Avago Technologies) sold its division of flash controllers from the notorious Seagate, their main focus is again on solutions for RAID and SAS (a kind of back to basics).  To mark this ‚Äúreturn to the roots,‚Äù I decided to translate an interesting article by Thomas Pavel, director of sales for the EMEA storage division.  Not sure about whether this article is posted on the Internet, at least not yet found. <br><a name="habracut"></a><br>  The influx of data and does not think to subside, feeding on demanding applications, such as business analytics, social media, video broadcasting and grid computing.  This merciless data growth poses many challenges for system architects.  How to handle such huge amounts of information effectively at a price?  And, perhaps, the main question is how to maintain storage performance at the same level (or even improve)? <br><br>  In fact, it is difficult to find in the IT industry those who are not affected by the influx of data.  Even home users generate photo and video materials more both in quantity and quality, which, in turn, requires an increase in storage sizes in their PCs and smartphones.  That is why social networks, such as Facebook, get more and more information.  According to materials published by Facebook back in 2012, the amount of data they receive throughout the day reached 0.5 petabyte. <br><br>  As data volumes increase, the time it takes to access it increases.  This is what is behind the continuous improvement of storage technologies, and in this article we will look at how the third generation of SAS will help overcome various bottlenecks in storage systems. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      When designing high-performance optimized data warehouses, you need to carefully consider potential bottlenecks.  This is especially difficult, given the fact that these same bottlenecks change every time, as storage technologies are updated.  There are three most important elements affecting performance: a PCIe (Peripheral Component Interconnect Express) server, a SAS solution implemented in the Host Bus Adapter (HBA) adapter, and, directly, disks connected via Serial Attached SCSi interfaces or Serial Advanced Technology Attachment (SAS and SATA, respectively). <br><br>  SAS is now in the third generation of development, and each generation has doubled the performance characteristics, starting with the original 3 Gb / s to 6 Gb / s and now 12 Gb / s.  SAS, like PCIe, uses pipes, and high-performance storage systems typically use many SAS lines to support high data rates.  Both conventional HDD and SSD solid state are now able to support SAS or SATA interfaces. <br><br>  Storage Performance <br><br>  When developing a storage system designed for high performance, it is necessary to take into account the capacity of each of the elements of the system.  Typical characteristics of this value for different generations of critical elements discussed in this article are listed in Table 1. <br><br>  Table 1 - approximate throughput of various types of disks and generation of SAS and PCIe. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/48a/b7d/111/48ab7d111d0f6ba9951344e5efb0cae7.png"><br><br>  Table 2 contains several examples of configurations that show bottlenecks in the case when the maximum limit of the disks (usually the slowest component of the system) is reached. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c93/89c/b4d/c9389cb4d007359102294abf6d24e60d.png"><br><br>  Table 2 shows an example of storage configurations showing bottlenecks and using the maximum number of disks with peak performance. <br><br>  As can be seen from the table, the need to use more disks to increase capacity requires the use of more modern generations of SAS and / or PCIe, or more SAS lanes.  On the other hand, in a system with a small number of disks, their relatively low total bandwidth is a bottleneck, so there is no need to ‚Äúreconfigure‚Äù the configuration with modern technologies and / or an increase in channels.  The example disks have a 6 Gb / s interface and have a capacity of 230 Mb / s and 55 Mb / s for 15K RPM HDD and SSD, respectively. <br><br>  Please note that table 2 implies that all drives operate with a maximum load at the same time, which does not always happen in real life.  It should also be borne in mind that the number of I / O operations per second (IOPs) in most modern systems in many cases is a more important characteristic than the total bandwidth.  Therefore, in real life, most configurations can support more disks than in the table below. <br><br>  Switch to 12 Gb / s SAS <br><br>  The main problem in the transition to the third generation of SAS is familiar to many: investment protection.  Many organizations have already invested very noticeable amounts in SAS disks and want to save these investments during the transition.  The main essence of the problem is that due to backward compatibility, the third generation of the SAS standard provides for slowing down the work to the slowest data transfer rate among all devices in the system. <br><br>  In small point-to-point configurations, this problem is not always noticeable, since the transition will require updating both the initiator and the target device.  But in most companies, such configurations are very rare.  Because of this, due to the restriction ‚Äúto the slowest node of the system‚Äù, without the use of point-to-point configurations, the maximum speed will be unattainable until all disks are replaced with those supporting the new standard. <br><br>  Fortunately, there is a way to overcome this limitation.  First, a few explanations on how SAS extenders work.  SAS extenders allow one (or several) initiators to communicate with several target devices at once, as shown in Figure 1. Extenders help to scale SAS, since each of them is capable of supporting multiple disks, which in turn allows aggregating their throughput. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dc9/a6f/b7a/dc9a6fb7aa32f0d666f2776bbd1dcd1c.png"><br><br>  Figure 1 - Two 48-port SAS Extenders, each connected to 12 initiators and 36 target devices. <br><br>  This figure shows a redundant scheme in which 48-port extenders are connected to two RAID controllers and disk storage.  Additional storages can be connected in daisy-chain configuration.  Some SAS extenders support connecting up to 2000 drives in this mode. <br><br>  In accordance with the third generation of the SAS standard, if any of the SATA or SAS drives works at a speed of 6 Gb / s, the RAID controller interfaces will also work at that speed.  But what if we can combine the bandwidth of two 6 Gb / s disks into one 12 Gb / s channel, just as several channels can be aggregated into a PCIe? <br><br>  This bandwidth aggregation of target devices (disks) is what is behind the bandwidth aggregation technology, which is called DataBolt in LSI, an Avago Technologies Company.  This technology allows you to immediately increase the number of I / O operations per second and the total bandwidth, while maintaining the investment made in the first and second generation SAS devices.  Aggregation allows 12 Gb / s SAS to work with existing 6 Gb / s devices using double speed.  In fact, with aggregation of bandwidth, the mandatory need to use 12 Gb / s SAS disks in order to achieve maximum system performance is completely eliminated. <br><br>  Bandwidth aggregation works by using 12 Gb / s buffers on each port, which allows the use of communications at a speed of 12 Gb / s with disks of any speed, both SAS and SATA.  Despite the fact that the technology is proprietary, it works completely ‚Äúinside‚Äù the extender, which allows all interfaces to be fully compatible with the standard.  Thus, a 12 Gb / s SAS port connected to a 6 Gb / s SAS disk will work with the disk as a backward compatible SAS port at 6 Gb / s, but the system will work at 12 Gb / s. <br>  Conclusion <br><br>  Storage bottlenecks are always encountered during the migration of different generations of technology.  With the advent of the third generation PCIe, for example, the second generation SAS has become such a bottleneck.  LSI technology eliminates this bottleneck, making PCIe a bottleneck in a system using 12 Gb / s SAS. </div><p>Source: <a href="https://habr.com/ru/post/228041/">https://habr.com/ru/post/228041/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../228031/index.html">Variadic templates. Tuples, unpacking and more</a></li>
<li><a href="../228033/index.html">Westone Company History</a></li>
<li><a href="../228035/index.html">Astro Tracker Field Tests</a></li>
<li><a href="../228037/index.html">Inheritance grammars in Sprache (or another customizable expression calculator for .NET)</a></li>
<li><a href="../228039/index.html">What experiments Facebook puts on its users</a></li>
<li><a href="../228043/index.html">Mobile marketing: how to distinguish "live" traffic from "garbage"</a></li>
<li><a href="../228047/index.html">8 things that are not worth living in Silicon Valley</a></li>
<li><a href="../228049/index.html">Preemptive multitasking on Z80 assembler</a></li>
<li><a href="../228055/index.html">New technology allowed paralyzed man to control his own hand</a></li>
<li><a href="../228059/index.html">We are friends with your software with antiviruses: how to avoid false positives</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>