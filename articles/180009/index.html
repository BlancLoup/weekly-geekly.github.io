<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The program for drawing a four-dimensional cube</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Let's start with an explanation of what four-dimensional space is. 


 This is a one-dimensional space, that is, simply the axis OX. Any point on it i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The program for drawing a four-dimensional cube</h1><div class="post__text post__text-html js-mediator-article"> Let's start with an explanation of what four-dimensional space is. <br><br><img src="https://habrastorage.org/storage2/e7f/1a2/909/e7f1a290956eb77b96af364aa44f05d7.jpg"><br>  This is a one-dimensional space, that is, simply the axis OX.  Any point on it is characterized by one coordinate. <br><br><img src="https://habrastorage.org/storage2/c70/61c/81d/c7061c81de7025f24e716aef3df7a9a7.jpg"><br>  We now draw the OY axis perpendicular to the OX axis.  So it turned out two-dimensional space, that is, the plane XOY.  Any point on it is characterized by two coordinates - the abscissa and the ordinate. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage2/797/a1e/f29/797a1ef29924916a33c6a4240027f70f.jpg"><br>  Draw the axis OZ perpendicular to the axes OX and OY.  The result is a three-dimensional space in which any point has an abscissa, ordinate, and applicate. <br><br><img src="https://habrastorage.org/storage2/01c/89d/8d4/01c89d8d4104bf92d794a7a0d99e710b.jpg"><br>  It is logical that the fourth axis, OQ, should be perpendicular to the axes OX, OY and OZ simultaneously.  But we cannot precisely construct such an axis, and therefore it remains only to try to imagine it.  Each point in the four-dimensional space has four coordinates: x, y, z and q. <br><a name="habracut"></a><br>  Now let's see how the four-dimensional cube appeared. <br><br><img src="https://habrastorage.org/storage2/4c3/f9a/10c/4c3f9a10c487e5d5f3b5168d071b9ed7.jpg"><br>  The picture shows a figure of one-dimensional space - the line. <br><br><img src="https://habrastorage.org/storage2/f7a/416/f71/f7a416f7158f15af9f24be0a6417d4d8.jpg"><br>  If you make a parallel transfer of this line along the OY axis, and then connect the corresponding ends of the two resulting lines, you will get a square. <br><br><img src="https://habrastorage.org/storage2/c06/908/a70/c06908a704aea2a59aab47212f9e9f9f.jpg"><br>  Similarly, if you make a parallel transfer of a square along the OZ axis and connect the corresponding vertices, you will get a cube. <br><br><img src="https://habrastorage.org/storage2/09b/8f5/ac1/09b8f5ac15c677579f23921943e5099e.jpg"><br>  And if you make a parallel transfer of the cube along the OQ axis and connect the vertices of these two cubes, then we get a four-dimensional cube.  By the way, it is called a <i>tesseract</i> . <br><br>  To draw a cube on a plane, you need to <i>project it</i> .  It clearly looks like this: <br><img src="https://habrastorage.org/storage2/4d9/364/43b/4d936443bf3fb15deade811253a83a5c.jpg"><br>  Imagine that a <i>frame model of a</i> cube hangs in the air above the surface, that is, as if made of wire, and a light bulb above it.  If you turn on the light bulb, draw a pencil around the shadow of the cube, and then turn off the light bulb, then the projection of the cube will be displayed on the surface. <br><br>  We turn to a little more complicated.  Look again at the drawing with a light bulb: as you can see, all the rays converged at one point.  It is called <i>a vanishing point</i> and is used to construct a <i>perspective projection</i> (and sometimes parallel, when all the rays are parallel to each other. The result is not a sensation of volume, but it is lighter, and if the vanishing point is sufficiently far from the projected object, then the difference these two projections are hardly noticeable).  To project a given point on a given plane, using the vanishing point, you need to draw a straight line through the vanishing point and this point, and then find the intersection point of the resulting straight line and plane.  And in order to project a more complex shape, say, a cube, you need to project each of its vertices, and then connect the corresponding points.  It should be noted that the <i>algorithm of the projection of space on a subspace</i> can be generalized for the case of 4D-&gt; 3D, and not just 3D-&gt; 2D. <br><br>  As I have already said, we cannot imagine for sure exactly what the OQ axis looks like, nor does the tesseract.  But we can get a limited idea of ‚Äã‚Äãit, if we project it on volume, and then draw it on the computer screen! <br><br>  Now let's talk about the tesseract projection. <br><br><img src="https://habrastorage.org/storage2/6e3/5e4/718/6e35e47188c5766117054c8e2993b7f2.jpg"><br>  On the left is the projection of the cube onto the plane, and on the right is the tesseract on the volume.  They are quite similar: the projection of the cube looks like two squares, small and large, one inside the other, and whose corresponding vertices are connected by lines.  A tesseract projection looks like two cubes, small and large, one inside the other, and whose corresponding vertices are connected.  But we all saw a cube, and we can confidently say that a small square, a large one, and four trapeziums above, below, to the right and left of a small square are actually squares, and they are equal.  And the tesseract is the same.  And the big cube, and the small cube, and the six truncated pyramids on the sides of the small cube are all cubes, with what they are equal. <br><br>  My program can not only draw a tesseract projection onto a volume, but also rotate it.  Consider how this is done. <br><br>  To begin, I'll tell you what <i>rotation is parallel to the plane</i> . <br><br>  Imagine that a cube rotates around the axis OZ.  Then each of its vertices describes a circle around the axis OZ. <br><img src="https://habrastorage.org/storage2/776/f1e/49b/776f1e49b5be25c57767cb1c501b6c2c.jpg"><br>  And the circle is a flat figure.  And the planes of each of these circles are parallel to each other, and in this case parallel to the XOY plane.  That is, we can speak not only about rotation around the OZ axis, but also about rotation parallel to the XOY plane. As we see, for points that rotate parallel to the XOY axis only the abscissa and ordinate change, the applicate remains unchanged And, in fact, we we can talk about rotation around a line only when we are dealing with a three-dimensional space.  In two-dimensional everything revolves around a point, in four-dimensional - around a plane, in five-dimensional space we speak about rotation around a volume.  And if we can imagine a rotation around a point, then a rotation around a plane and a volume is something unthinkable.  And if we talk about rotation parallel to the plane, then in any n-dimensional space a point can rotate parallel to the plane. <br><br>  Many of you have probably heard of the turn matrix.  Multiplying a point on it, we get a point rotated parallel to the plane by an angle phi.  For two-dimensional space, it looks like this: <br><img src="https://habrastorage.org/storage2/622/0d4/f6e/6220d4f6e3265c7d56a3d53a9c0d0b66.jpg"><br>  How to multiply: X of a point rotated by phi = cosine of phi * x of the original point minus sine of the angle phi * of the original point; <br>  Yy of a point rotated by phi = sine of phi * x of the original point plus the cosine of phi * of the original point. <br>  Xa` = cosf * Xa - sinf * Ya <br>  Ya` = sinf * Xa + cos * Ya <br>  where Xa and Ya are the abscissa and ordinate of the point to be rotated, Xa` and Ya` are the abscissa and ordinate of the already rotated point <br><br>  For three-dimensional space, this matrix is ‚Äã‚Äãsummarized as follows: <br><img src="https://habrastorage.org/storage2/8d6/8fa/df0/8d68fadf0dd22408acc6bd127f923c18.jpg"><br>  Rotation is parallel to the XOY plane.  As you can see, the Z coordinate does not change, only X and Y change. <br>  Xa` = cosf * Xa - sinf * Ya + Za * 0 <br>  Ya` = Sinf * Xa + cosf * Ya + Za * 0 <br>  Za` = Xa * 0 + Ya * 0 + Za * 1 (in fact, Za` = Za) <br><br><img src="https://habrastorage.org/storage2/0f6/1ed/bce/0f61edbcebcce13342f05de07f15b3e9.jpg"><br>  Rotation is parallel to the XOZ plane.  Nothing new, <br>  Xa` = cosf * Xa + Ya * 0 - sinf * Za <br>  Ya` = Xa * 0 + Ya * 1 + Za * 0 (in fact, Ya` = Ya) <br>  Za` = sinf * Xa + Ya * 0 + cosf * Za <br><br><img src="https://habrastorage.org/storage2/fa1/b4a/d7c/fa1b4ad7c9a2d490953f91f0fcf7dab4.jpg"><br>  And the third matrix. <br>  Xa` = Xa * 1 + Ya * 0 + Za * 0 (in fact, Xa` = Xa) <br>  Ya` = Xa * 0 + cosf * Ya - sinf * Za <br>  Za` = Xa * 0 + sinf * Ya + cosf * Za <br><br>  And for the fourth dimension, they look like this: <br><img src="https://habrastorage.org/storage2/4aa/fb4/ad6/4aafb4ad69013d02a0c1c04194802815.jpg"><br>  I think you have already understood what to multiply, because I will not paint once again.  But I note that it does the same thing as the matrix for turning parallel to a plane in three-dimensional space!  Both this and this change only the ordinate and applicate, and do not touch the other coordinates, so it can be used in the three-dimensional case, simply ignoring the fourth coordinate. <br><br>  But the projection formula is not so simple.  No matter how I read the forums, none of the projection methods came up to me.  Parallel did not suit me, since the projection will not look voluminous.  In some projection formulas, to find the point, you need to solve a system of equations (but I don‚Äôt know how to teach a computer to solve them), I simply didn‚Äôt understand others ... In general, I decided to think of my own way.  Consider for this the projection 2D-&gt; 1D. <br><br><img src="https://habrastorage.org/storage2/7f2/bf2/263/7f2bf22637ad6a30c2e20c70e7c423d0.jpg"><br>  pov means ‚ÄúPoint of view‚Äù (ptp) means ‚ÄúPoint to project‚Äù (the point to be projected), and ptp` is the desired point on the OX axis. <br><br>  The angles povptpB and ptpptp`A are equal as appropriate (the dotted line is parallel to the axis OX, the straight line povptp is the secant). <br>  The x point of the ptp` is equal to the x of the ptp point minus the length of the segment ptp`A.  This segment can be found from the triangle ptpptp`A: ptp`A = ptpA / tangent of the angle ptpptp`A.  We can find this tangent from the triangle povptpB: the tangent of the angle ptpptp`A = (Ypov-Yptp) (Xpov-Xptp). <br>  Answer: Xptp` = Xptp-Yptp / tangent of ptpptp`A angle. <br><br>  I did not elaborate on this algorithm here, since there are a lot of special cases where the formula changes somewhat.  To whom it is interesting - look in the source code of the program, everything is painted in the comments. <br><br>  In order to project a point of three-dimensional space on a plane, simply consider two planes - XOZ and YOZ, and for each of them we will solve this problem.  In the case of four-dimensional space, it is necessary to consider already three planes: XOQ, YOQ and ZOQ. <br><br>  And finally, about the program.  It works like this: initialize sixteen tesseract vertices -&gt; depending on the commands entered by the user, rotate it -&gt; project to volume -&gt; depending on the commands entered by the user, rotate its projection -&gt; project to the plane -&gt; draw. <br><br>  Projections and turns I wrote myself.  They work according to the formulas that I just described.  The OpenGL library draws lines, as well as mixing colors.  And the coordinates of the tesseract vertices are calculated as follows: <br><br>  The coordinates of the vertices of the line centered at the origin and the length of 2 - (1) and (-1); <br>  - "-" - squares - "-" - and an edge of length 2: <br>  (1; 1), (-1; 1), (1; -1) and (-1; -1); <br>  - "-" - cube - "-" -: <br>  (1; 1; 1), (-1; 1; 1), (1; -1; 1), (-1; -1; 1), (1; 1; -1), (-1; 1 ; -1), (1; -1; -1), (-1; -1; -1); <br>  As you can see, the square is one line above the OY axis and one line below the OY axis;  a cube is one square in front of the XOY plane, and one behind it;  Tesseract is one cube on the other side of the XOYZ volume, and one on this.  But it is much easier to perceive this alternation of units and minus ones if they are written in a column <br><br>  one;  one;  one <br>  -one;  one;  one <br>  one;  -one;  one <br>  -one;  -one;  one <br>  one;  one;  -one <br>  -one;  one;  -one <br>  one;  -one;  -one <br>  -one;  -one;  -one <br><br>  In the first column, one and minus one alternate.  In the second column, there are two plus points first, then two minuses.  In the third - four plus units, and then four minus one.  These were the tops of the cube.  Tesseracts have twice as many of them, and therefore it was necessary to write a cycle to declare them, otherwise it is very easy to get confused. <br><br>  My program can also draw anaglyph.  Happy owners of 3D glasses can watch a stereoscopic image.  There is nothing tricky in drawing a picture, just two projections are drawn on the plane, for the right and left eyes.  But the program becomes much more visual and interesting, and most importantly - it gives a better idea of ‚Äã‚Äãthe four-dimensional world. <br><br>  Less significant functions are the highlighting of one of the faces in red, so that you can better see the turns, as well as minor conveniences ‚Äî adjusting the coordinates of the eye points, increasing and decreasing the speed of turning. <br><br>  Archive with the program, source code and instructions for use: <a href="">www.dropbox.com/s/xilxouqmgnsf6zs/%D0%A2% D0% B5% D1% 81% D1% 81% D0% B5% D1% 80% D0% B0% D0% BA% D1% 82.rar</a> (you need to download and install the program Dropbox: <a href="http://www.dropbox.com/">www.dropbox.com</a> ) <br><br>  Source: <a href="https://docs.google.com/document/d/1sGjBTb-od84Qp_la0LS9tWFZL4aYk-1exUs0Za5_Uq0/edit">docs.google.com/document/d/1sGjBTb-od84Qp_la0LS9tWFZL4aYk-1exUs0Za5_Uq0/edit</a> </div><p>Source: <a href="https://habr.com/ru/post/180009/">https://habr.com/ru/post/180009/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../179993/index.html">Crypt: user "eyes" of Yandex</a></li>
<li><a href="../179997/index.html">US froze Bitcoin Mt.Gox account</a></li>
<li><a href="../179999/index.html">Yahoo is going to buy Tumblr for $ 1 billion</a></li>
<li><a href="../180001/index.html">Output WordPress posts outside the site</a></li>
<li><a href="../180005/index.html">Larry Page believes that there must be a place on earth for the realization of crazy scientific ideas</a></li>
<li><a href="../180011/index.html">AJAX Integration in ASP.NET MVC 4</a></li>
<li><a href="../180013/index.html">Basics of professional layout of emails</a></li>
<li><a href="../180015/index.html">Building HA systems based on Jboss AS 6</a></li>
<li><a href="../180017/index.html">Introduction to IBM Tivoli Monitoring</a></li>
<li><a href="../180019/index.html">SSI mapping when using a proxy on nginx and splitting the cache by language</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>