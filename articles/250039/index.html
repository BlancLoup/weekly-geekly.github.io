<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Symfony2. Universal tool for quick cooking of table lists in the administrative panel</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It's about the symfony2 bundle, the first version of which I wrote more than two years ago. All this time, my colleagues and I actively used it, the b...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Symfony2. Universal tool for quick cooking of table lists in the administrative panel</h1><div class="post__text post__text-html js-mediator-article">  It's about the symfony2 bundle, the first version of which I wrote more than two years ago.  All this time, my colleagues and I actively used it, the bundle improved periodically.  Decided to share it with the community. <br><br>  Practically in any application it is required to display a tabular list of entities, there must be pagination, it is also nice to be able to sort by all fields and flexible filtering.  These are the tasks that the AdminPanelBundle provided by your court solves.  Of course, this is not something new - the same SonataAdminBundle provides similar functionality, but the Sonata is a monster (in the good sense of the word), with a lot of settings and dependencies, and my goal was to implement fast and flexible navigation through large table arrays. <br><a name="habracut"></a><br>  What can a bundle do: <br><ul><li>  Input can be <i>array, Doctrine \ ORM \ Query, Doctrine \ ORM \ QueryBuilder, Doctrine \ Common \ Collection \ ArrayCollection</i> </li><li>  Only certain fields are displayed (properties) </li><li>  For any field (property), you can define an unlimited number of filters (AND, OR) with the choice of the operator (=,&gt;, &lt;, LIKE, etc ...) </li><li>  You can enable / disable sorting for any field. </li><li>  When a filter is applied, the filtering parameters are remembered in the session, and when you re-visit the page, apply </li><li>  It is possible to output the auto sum on any numeric column. </li></ul><br>  You can watch the demonstration <a href="http://admin-panel.zeka.guru/">here</a> , the source code <a href="https://github.com/zk2/admin-panel-bundle">here</a> . <br><br><h2>  Installation and Basic Configuration </h2><br>  As usual - we start <br><pre><code class="bash hljs">composer require <span class="hljs-string"><span class="hljs-string">"zk2/admin-panel-bundle:dev-master"</span></span></code> </pre> <br>  The <i>bundle</i> uses <i>knplabs / knp-paginator-bundle</i> and <i>braincrafted / bootstrap-bundle</i> , if they are not in your application, they will be installed 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">Configure KnpPaginatorBundle</b> <div class="spoiler_text">  In app / AppKernel.php initialize the bundle <br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// app/AppKernel.php public function registerBundles() { return array( // ... new Knp\Bundle\PaginatorBundle\KnpPaginatorBundle(), // ... ); }</span></span></code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Customize BraincraftedBootstrapBundle</b> <div class="spoiler_text">  In app / AppKernel.php initialize the bundle <br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// app/AppKernel.php public function registerBundles() { return array( // ... new Braincrafted\Bundle\BootstrapBundle\BraincraftedBootstrapBundle(), // ... ); }</span></span></code> </pre><br>  The setting is well described <a href="http://bootstrap.braincrafted.com/getting-started.html">here</a> ; if quick, then: <br><br><pre> <code class="smalltalk hljs"># app/config/config.yml ....... # <span class="hljs-type"><span class="hljs-type">Assetic</span></span> <span class="hljs-type"><span class="hljs-type">Configuration</span></span> assetic: debug: <span class="hljs-comment"><span class="hljs-comment">"%kernel.debug%"</span></span> use_controller: <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> bundles: [ ] filters: #   node less: node: /usr/bin/node #     <span class="hljs-string"><span class="hljs-string">$ </span></span>whereis node node_paths: [/usr/lib/node_modules] # <span class="hljs-string"><span class="hljs-string">$ </span></span>whereis node_modules apply_to: <span class="hljs-comment"><span class="hljs-comment">"\.less$"</span></span> cssrewrite: ~ braincrafted_bootstrap: less_filter: less jquery_path: %kernel.root_dir%/../web/js/jquery<span class="hljs-number"><span class="hljs-number">-1.11</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span>.js #   jQuery</code> </pre><br>  Next, perform: <br><br><pre> <code class="bash hljs">php app/console braincrafted:bootstrap:install php app/console assetic:dump</code> </pre><br></div></div><br>  In app / AppKernel.php, we initialize the bundle, in app / config / config.yml we add the necessary settings: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// app/AppKernel.php public function registerBundles() { return array( // ... new Zk2\Bundle\AdminPanelBundle\Zk2AdminPanelBundle(), // ... ); }</span></span></code> </pre><br><pre> <code class="smalltalk hljs"># app/config/config.yml ...... twig: ...... form: resources: - <span class="hljs-comment"><span class="hljs-comment">"Zk2AdminPanelBundle:AdminPanel:bootstrap_form_div_layout.html.twig"</span></span> #     zk2_admin_panel: check_flag_super_admin: <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> # --  <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>,       <span class="hljs-comment"><span class="hljs-comment">"flagSuperAdmin()"</span></span>,    pagination_template: <span class="hljs-type"><span class="hljs-type">Zk2AdminPanelBundle</span></span>:<span class="hljs-type"><span class="hljs-type">AdminPanel</span></span>:pagination.html.twig # -    sortable_template: <span class="hljs-type"><span class="hljs-type">Zk2AdminPanelBundle</span></span>:<span class="hljs-type"><span class="hljs-type">AdminPanel</span></span>:sortable.html.twig # -       </code> </pre><br>  And we load styles, icons, etc. <br><br><pre> <code class="bash hljs">php app/console asset:install web --symlink</code> </pre><br><br><h2>  Using </h2><br>  I will demonstrate on the example of a small application <a href="http://admin-panel.zeka.guru/">"Cars"</a> . <br>  Classical structure - Country -&gt; Brand -&gt; Model <br>  Do not judge strictly for the completed data - all "from the lantern." <br><br>  The controller should inherit from Zk2 \ Bundle \ AdminPanelBundle \ AdminPanel \ AdminPanelController <br>  Parent constructor accepts: <br><ul><li>  Main essence </li><li>  Alias ‚Äã‚Äãfor this entity </li><li>  Optional parameter ‚Äúentity_manager name‚Äù - default is ‚Äúdefault‚Äù </li></ul><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">AppBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Controller</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Sensio</span></span>\<span class="hljs-title"><span class="hljs-title">Bundle</span></span>\<span class="hljs-title"><span class="hljs-title">FrameworkExtraBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Configuration</span></span>\<span class="hljs-title"><span class="hljs-title">Route</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Zk2</span></span>\<span class="hljs-title"><span class="hljs-title">Bundle</span></span>\<span class="hljs-title"><span class="hljs-title">AdminPanelBundle</span></span>\<span class="hljs-title"><span class="hljs-title">AdminPanel</span></span>\<span class="hljs-title"><span class="hljs-title">AdminPanelController</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Symfony</span></span>\<span class="hljs-title"><span class="hljs-title">Component</span></span>\<span class="hljs-title"><span class="hljs-title">HttpFoundation</span></span>\<span class="hljs-title"><span class="hljs-title">Request</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Symfony</span></span>\<span class="hljs-title"><span class="hljs-title">Component</span></span>\<span class="hljs-title"><span class="hljs-title">Security</span></span>\<span class="hljs-title"><span class="hljs-title">Core</span></span>\<span class="hljs-title"><span class="hljs-title">Exception</span></span>\<span class="hljs-title"><span class="hljs-title">AccessDeniedException</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Symfony</span></span>\<span class="hljs-title"><span class="hljs-title">Component</span></span>\<span class="hljs-title"><span class="hljs-title">HttpKernel</span></span>\<span class="hljs-title"><span class="hljs-title">Exception</span></span>\<span class="hljs-title"><span class="hljs-title">NotFoundHttpException</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DefaultController</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AdminPanelController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** * Constructor */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>::__construct(<span class="hljs-string"><span class="hljs-string">'AppBundle\Entity\Model'</span></span>,<span class="hljs-string"><span class="hljs-string">'m'</span></span>); }</code> </pre><br>  listAction - the main method <br><pre> <code class="php hljs"> <span class="hljs-comment"><span class="hljs-comment">/** * listAction * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@Route</span></span></span><span class="hljs-comment">("/", name="model_list") * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> renderView */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">listAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( Request $request )</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//      //  isZk2Granded      //   app/config.yml  zk2_admin_panel.check_flag_super_admin == true, //    " " /* if ( false === $this-&gt;isZk2Granded(array('ROLE_LIST')) ) { throw new AccessDeniedException(); }*/ //     if( $this-&gt;isReset() ) { return $this-&gt;redirect( $this-&gt;generateUrl( $this-&gt;get('request')-&gt;get('_route') ) ); } //    $this-&gt;buildListFields(); //        $items = $this-&gt;getListFields(); //   $this-&gt;getEm()-&gt;buildQuery(); //         -- "m,b,c" , //       -- "b.id AS brand_id,b.name AS brand_name,m.name,m.color" //   ,        ,      //         $this-&gt;getQuery() -&gt;select( 'b.id AS brand_id,b.name AS brand_name,c.name AS country_name,b.logo,m.id AS id,m.name,' .'m.color,m.airbag,m.sales,m.speed,m.price,m.dateView') -&gt;leftJoin('m.brand','b') -&gt;leftJoin('b.country','c') ; //    if( !$this-&gt;get('request')-&gt;query-&gt;has('sort') ) { $this-&gt;getQuery()-&gt;orderBy('m.id','DESC'); } //   $this-&gt;buildFilterFields(); //   $this-&gt;checkFilters(); //  KnpPaginator $pagination = $this-&gt;getPaginator(30); //       $filter_form = $this-&gt;getViewFiltersForm(); //    -  $this-&gt;initAutosum(); $autosum = $this-&gt;getSumColumns(); return $this-&gt;render('AppBundle:Model:list.html.twig', array( 'results' =&gt; $pagination, 'items' =&gt; $items, 'filter_form' =&gt; $filter_form, //        'is_new' =&gt; false, //$this-&gt;isZk2Granded(array('ROLE_NEW_ITEM')), 'autosum' =&gt; $autosum, //     (PHP::number_format),      'zkNumberFormat' =&gt; array('0','.',' '), )); }</span></span></code> </pre><br>  The construction of the table columns: <br><br>  The addInList method accepts an array: <br><ul><li>  entity property </li><li>  column header (trans method is an analogue of the standard symfony function. Accepts value, domain, array of parameters) </li><li>  entity alias </li><li>  array of options </li></ul><br>  Default values ‚Äã‚Äãof the options array: <br><ul><li>  'sort' =&gt; true - sorts the column </li><li>  'func' =&gt; null, - functions (dateTimeFormat) </li><li>  'filter' =&gt; null, - filters (yes_no) </li><li>  'method' =&gt; null, - the name of the property or method </li><li>  'autosum' =&gt; null, is a unique alias for auto sum </li></ul><br><ul><li>  Also in the array of options may be present: </li><li>  'link_id' =&gt; 'brand_edit' is the name of the route </li><li>  'lid' =&gt; 'brand_id' - the property or name of the method for transmitting the ID to the route </li><li>  'style' =&gt; 'text-align: center' - any css style (will apply to a table cell) </li><li>  'icon_path' =&gt; '/ img /' - will turn into a tag img src = "{icon_path} value" </li><li>  'icon_width' =&gt; 24 - used with icon_path (image width) </li><li>  'zkNumberFormat' =&gt; array (2, '.', '') - PHP :: number_format </li><li>  'dateTimeFormat' =&gt; 'Ymd' - used for func :: dateTimeFormat </li></ul><br>  More information about the options and their use can be viewed in the source code <i>AdminPanelBundle / Resources / views / AdminPanel / adminList.html.twig</i> <br><br>  You can pass any of your options, but then you need to redefine the adminList.html.twig template in one of the ways of overriding in Symfony and process them as you see fit: <br><br><pre> <code class="php hljs"> <span class="hljs-comment"><span class="hljs-comment">/** *    */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">buildListFields</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span> -&gt;addInList(<span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-comment"><span class="hljs-comment">//   $this-&gt;trans('Brand','messages'), //   'b', //   array( //      ,    ( b.name AS brand_name ) //      ,      // (    Model::getBrandName() ) 'method' =&gt; 'brand_name', //     ( @Route("/brand/{id}/edit", name="brand_edit") ) 'link_id' =&gt; 'brand_edit', //      ,    ( b.id AS brand_id ) //      ,      // (    Model::getBrandId() ) //  link_id ,  lid ,     ID    'lid' =&gt; 'brand_id' ), )) -&gt;addInList(array( 'name', $this-&gt;trans('Country','messages'), 'c', array( 'method' =&gt; 'country_name', ), )) -&gt;addInList(array( 'logo', $this-&gt;trans('Logo','messages'), 'b', array( 'sort' =&gt; false, 'style' =&gt; 'text-align:center', 'icon_path' =&gt; '/img/' ), )) -&gt;addInList(array( 'name', $this-&gt;trans('Model','messages'), 'm', array( 'link_id' =&gt; 'model_edit', ), )) -&gt;addInList(array( 'color', $this-&gt;trans('Color','messages'), 'm', array( 'style' =&gt; 'text-align:center' ), )) -&gt;addInList(array( 'airbag', $this-&gt;trans('Airbag','messages'), 'm', array( 'filter' =&gt; 'yes_no', //   ""  "" 'style' =&gt; 'text-align:center' ), )) -&gt;addInList(array( 'sales', $this-&gt;trans('Sales','messages'), 'm', array( 'autosum' =&gt; 'sales_sum', //     'style' =&gt; 'text-align:center' ), )) -&gt;addInList(array( 'speed', $this-&gt;trans('Max speed','messages'), 'm', array( 'style' =&gt; 'text-align:center' ), )) -&gt;addInList(array( 'price', $this-&gt;trans('Price','messages'), 'm', array( 'style' =&gt; 'text-align:center', 'zkNumberFormat' =&gt; array(2,'.',' ') ), )) -&gt;addInList(array( 'dateView', $this-&gt;trans('Date','messages'), 'm', array( 'func' =&gt; 'dateTimeFormat', //  DateTime 'dateTimeFormat' =&gt; 'Ym-d', 'style' =&gt; 'text-align:center' ), )) ; }</span></span></code> </pre><br>  Building filters: <br><br>  The addInFilter method accepts an array: <br><ul><li>  'b_name' - alias and the name of the property through the underscore </li><li>  'zk2_admin_panel_XXXXX_filter' - filter type </li><li>  Filter name </li><li>  number of filters for the field </li><li>  the set of available operators (LIKE, =,&gt;, &lt;, etc ...).  Read more - <i>AdminPanel / ConditionOperator.php</i> </li><li>  array of parameters </li></ul><br>  Filter Types: <br><ul><li>  'zk2_admin_panel_boolean_filter' - boolean filter (yes / no) </li><li>  'zk2_admin_panel_choice_filter' - drop-down list defined here </li><li>  'zk2_admin_panel_date_filter' - filter by date </li><li>  'zk2_admin_panel_entity_filter' - drop-down list containing entities (database query is being made) </li><li>  'zk2_admin_panel_text_filter' - plain text field </li></ul><br><pre> <code class="php hljs"> <span class="hljs-comment"><span class="hljs-comment">/** *   */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">buildFilterFields</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span> -&gt;addInFilter(<span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-comment"><span class="hljs-comment">// --  ,   'b_name', 'zk2_admin_panel_entity_filter', $this-&gt;trans('Brand','messages'), 5, 'smal_int', array( 'entity_type' =&gt; 'entity', 'entity_class' =&gt; 'AppBundle\Entity\Brand', 'property' =&gt; 'name', 'sf_query_builder' =&gt; array( //      'alias' =&gt; 'b', 'where' =&gt; 'b.id IS NOT NULL', 'order_field' =&gt; 'b.name', 'order_type' =&gt; 'ASC', ) ))) -&gt;addInFilter(array( 'm_name', 'zk2_admin_panel_text_filter', $this-&gt;trans('Model','messages'), 5, 'light_text' )) -&gt;addInFilter(array( //  ,  - 'm_color', 'zk2_admin_panel_choice_filter', $this-&gt;trans('Color','messages'), 5, 'smal_int', array('sf_choice' =&gt; array( 'black' =&gt; 'black', 'blue' =&gt; 'blue', 'brown' =&gt; 'brown', 'green' =&gt; 'green', 'red' =&gt; 'red', 'silver' =&gt; 'silver', 'white' =&gt; 'white', 'yellow' =&gt; 'yellow', )), )) -&gt;addInFilter(array( 'm_airbag', 'zk2_admin_panel_boolean_filter', $this-&gt;trans('Airbag','messages'), )) -&gt;addInFilter(array( 'm_door', 'zk2_admin_panel_text_filter', $this-&gt;trans('Number of doors','messages'), 5, 'medium_int' )) -&gt;addInFilter(array( 'm_speed', 'zk2_admin_panel_text_filter', $this-&gt;trans('Max speed','messages'), 5, 'medium_int' )) -&gt;addInFilter(array( 'm_prise', 'zk2_admin_panel_text_filter', $this-&gt;trans('Price','messages'), 5, 'medium_int' )) -&gt;addInFilter(array( //    'm_dateView', 'zk2_admin_panel_date_filter', $this-&gt;trans('Date','messages'), 2 )) ; }</span></span></code> </pre><br>  Methods for forms <br><pre> <code class="php hljs"> <span class="hljs-comment"><span class="hljs-comment">/** * edit Brand Action * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@Route</span></span></span><span class="hljs-comment">("/brand/{id}/edit", name="brand_edit") * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> Request $request * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> integer $id * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> renderView */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">editBrandAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( Request $request, $id )</span></span></span><span class="hljs-function"> </span></span>{ ............ } <span class="hljs-comment"><span class="hljs-comment">/** * edit Action * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@Route</span></span></span><span class="hljs-comment">("/model/{id}/edit", name="model_edit") * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> Request $request * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> integer $id * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> renderView */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">editAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( Request $request, $id )</span></span></span><span class="hljs-function"> </span></span>{ ..... } }</code> </pre><br>  Well, very simple template <br><pre> <code class="smalltalk hljs"># <span class="hljs-type"><span class="hljs-type">AppBundle</span></span>:<span class="hljs-type"><span class="hljs-type">Model</span></span>:list.html.twig {% extends <span class="hljs-comment"><span class="hljs-comment">"Zk2AdminPanelBundle::base.html.twig"</span></span> %} {% block zk2_title %}<span class="hljs-type"><span class="hljs-type">Models</span></span> list{% endblock %} {% block zk2_h %}&lt;h1&gt;<span class="hljs-type"><span class="hljs-type">General</span></span> list&lt;/h1&gt;{% endblock %} {% block zk2_body %} {% if filter_form %} {% include <span class="hljs-string"><span class="hljs-string">'Zk2AdminPanelBundle:AdminPanel:adminFilter.html.twig'</span></span> with { <span class="hljs-string"><span class="hljs-string">'filter_form'</span></span>: filter_form, <span class="hljs-string"><span class="hljs-string">'colspan'</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, {# -     #} <span class="hljs-string"><span class="hljs-string">'this_path'</span></span>: path(<span class="hljs-string"><span class="hljs-string">'model_list'</span></span>) } %} {% endif %} {% include <span class="hljs-string"><span class="hljs-string">'Zk2AdminPanelBundle:AdminPanel:adminList.html.twig'</span></span> with { <span class="hljs-string"><span class="hljs-string">'items'</span></span>: items, <span class="hljs-string"><span class="hljs-string">'results'</span></span>: results, <span class="hljs-string"><span class="hljs-string">'Zk2NumberFormat'</span></span>: zkNumberFormat } %} {% if is_new %}  <span class="hljs-comment"><span class="hljs-comment">""</span></span> {% endif %} {% endblock %}</code> </pre></div><p>Source: <a href="https://habr.com/ru/post/250039/">https://habr.com/ru/post/250039/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../250025/index.html">Git game or in search of Linus Torvalds</a></li>
<li><a href="../250027/index.html">Export Favorites on Habr√© to PDF. Version 2.0</a></li>
<li><a href="../250029/index.html">Compiling nested classes: javac and ecj</a></li>
<li><a href="../250031/index.html">Interval reps "in the pocket"</a></li>
<li><a href="../250035/index.html">The digest of interesting materials for the mobile developer # 89 (February 2-8)</a></li>
<li><a href="../250043/index.html">Developing microservices using Scala, Spray, MongoDB, Docker and Ansible</a></li>
<li><a href="../250045/index.html">Imarker usage statistics (SORM-like web analytics system)</a></li>
<li><a href="../250047/index.html">Raspberry Pi 2 freezes from flash</a></li>
<li><a href="../250049/index.html">DevCon 2015: announcement of key speakers of the plenary session</a></li>
<li><a href="../250053/index.html">Why developers don't like Unit Tests</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>