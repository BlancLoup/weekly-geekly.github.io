<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Binary operations on ordered sets</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the previous article I wrote about binary operations on disordered sets . In this article we will look at algorithms with less complexity of execut...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Binary operations on ordered sets</h1><div class="post__text post__text-html js-mediator-article">  In the previous article I wrote about <a href="http://habrahabr.ru/post/248229/">binary operations on disordered sets</a> .  In this article we will look at algorithms with less complexity of execution, for ordered sets. <br><img src="https://habrastorage.org/files/e01/c50/801/e01c50801b8845729d4645a0f034ca6d.png"><br><a name="habracut"></a><br><br>  Content <br>  <a href="https://habr.com/ru/post/250191/">I. Intersection of ordered sets</a> <br>  <a href="https://habr.com/ru/post/250191/">Ii.</a>  <a href="https://habr.com/ru/post/250191/">Difference of ordered sets</a> <br>  <a href="https://habr.com/ru/post/250191/">Iii.</a>  <a href="https://habr.com/ru/post/250191/">Union of ordered sets</a> <br>  <a href="https://habr.com/ru/post/250191/">Iv.</a>  <a href="https://habr.com/ru/post/250191/">Symmetric difference of ordered sets</a> <br>  <a href="https://habr.com/ru/post/250191/">Conclusion</a> <br><br><h1><a name="tag1"></a>  I. Intersection of ordered sets </h1><br>  The intersection of two ordered sets <b>A</b> and <b>B</b> is a set with only those elements <b>A</b> and <b>B</b> that simultaneously belong to both sets, without duplicates.  The complexity of the algorithm is <b>O (m + n)</b> , where <b>m</b> and <b>n</b> are the lengths of the input sets <b>A</b> and <b>B,</b> respectively. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Made a little animation to show how the algorithm works. <br><img src="https://habrastorage.org/files/46b/8a2/f93/46b8a2f9302a451c949d800357abb64d.gif" alt="image"><br><br>  Javascript implementation example: <br><pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">intersec_sort_arr</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">array_1,array_2</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> n = array_1.length, m = array_2.length, i = <span class="hljs-number"><span class="hljs-number">0</span></span>, k = <span class="hljs-number"><span class="hljs-number">0</span></span>, j = <span class="hljs-number"><span class="hljs-number">0</span></span>, array_3 = []; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ((i &lt; n) &amp;&amp; (j &lt; m)) <span class="hljs-comment"><span class="hljs-comment">//       { if (array_1[i] == array_2[j]) { array_3[k] = array_1[i]; //     array_3 k++,i++,j++; //      3  } else { if (array_1[i] &lt; array_2[j]) { i++; //      } else { j++; //      } } } return array_3; }</span></span></code> </pre> <br><br>  Function call: <br><pre> <code class="javascript hljs">intersec_sort_arr([<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>], [<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">24</span></span>, <span class="hljs-number"><span class="hljs-number">47</span></span>]); <span class="hljs-comment"><span class="hljs-comment">//   [3, 8]</span></span></code> </pre><br><br><h1><a name="tag2"></a>  Ii.  Difference of ordered sets </h1><br>  The difference of two ordered sets <b>A</b> and <b>B</b> is a set with elements <b>A</b> that do not coincide with elements <b>B</b> , without duplicates.  The complexity of the algorithm is <b>O (m + n)</b> , where <b>m</b> and <b>n</b> are the lengths of the input ordered sets <b>A</b> and <b>B,</b> respectively. <br><br><img src="//habrastorage.org/files/c51/aaf/c52/c51aafc52aa545f6af0cf37ad60e27d5.gif"><br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">diff_sort_arr</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">array_1,array_2</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> n = array_1.length, m = array_2.length, i = <span class="hljs-number"><span class="hljs-number">0</span></span>, k = <span class="hljs-number"><span class="hljs-number">0</span></span>, j = <span class="hljs-number"><span class="hljs-number">0</span></span>, array_3 = []; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ((i &lt; n) &amp;&amp; (j &lt; m)) <span class="hljs-comment"><span class="hljs-comment">//       { if (array_1[i] == array_2[j]) { i++,j++; } else { if (array_1[i] &lt; array_2[j]) { array_3[k] = array_1[i]; k++; i++; //      } else { j++; //      } } } while (i &lt; n) { array_3[k] = array_1[i]; k++, i++; } return array_3; }</span></span></code> </pre><br><br><pre> <code class="javascript hljs">diff_sort_arr([<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>], [<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">24</span></span>, <span class="hljs-number"><span class="hljs-number">47</span></span>]); <span class="hljs-comment"><span class="hljs-comment">//   [1, 2, 5]</span></span></code> </pre><br><br><h1><a name="tag3"></a>  Iii.  Union of ordered sets </h1><br>  The union of two ordered sets <b>A</b> and <b>B</b> is a set with elements <b>A</b> and elements of set <b>B</b> , without duplicates.  The complexity of the algorithm is <b>O (m + n)</b> , where <b>m</b> and <b>n</b> are the lengths of the input ordered sets <b>A</b> and <b>B,</b> respectively. <br><br><img src="//habrastorage.org/files/f6b/260/9ad/f6b2609ad9724d8abbff5e968d9a028f.gif"><br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sum_sort_arr</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">array_1,array_2</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> n = array_1.length, m = array_2.length, i = <span class="hljs-number"><span class="hljs-number">0</span></span>, k = <span class="hljs-number"><span class="hljs-number">0</span></span>, j = <span class="hljs-number"><span class="hljs-number">0</span></span>, array_3 = []; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ((i &lt; n) &amp;&amp; (j &lt; m)) <span class="hljs-comment"><span class="hljs-comment">//       { if (array_1[i] == array_2[j]) { array_3[k] = array_1[i]; k++,i++,j++; } else { if (array_1[i] &lt; array_2[j]) { array_3[k] = array_1[i]; k++; i++; //      } else { array_3[k] = array_2[j]; k++; j++; //      } } } while (i &lt; n) { array_3[k] = array_1[i]; k++, i++; } while (j &lt; m) { array_3[k] = array_2[j]; k++, j++; } return array_3; }</span></span></code> </pre><br><br><pre> <code class="javascript hljs">sum_sort_arr([<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>], [<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">24</span></span>, <span class="hljs-number"><span class="hljs-number">47</span></span>]); <span class="hljs-comment"><span class="hljs-comment">//   [1, 2, 3, 5, 6, 8, 12, 24, 47]</span></span></code> </pre><br><br><h1><a name="tag4"></a>  Iv.  Symmetric difference of ordered sets </h1><br>  The symmetric difference of two ordered sets <b>A</b> and <b>B</b> is a set that includes all those elements of the first ordered set that are not in the second ordered set, as well as those elements of the second ordered set that are not included in the first ordered set.  The complexity of the algorithm is <b>O (2 (m + n))</b> , where <b>m</b> and <b>n</b> are the lengths of the input ordered sets <b>A</b> and <b>B,</b> respectively. <br><br>  In essence, this is the subtraction of sets, first <b>A</b> from <b>B</b> , then <b>B</b> from <b>A.</b> <br><br><div class="spoiler">  <b class="spoiler_title">2 passes</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">symmetric_diff_sort_arr</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">array_1,array_2</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> n = array_1.length, m = array_2.length, i = <span class="hljs-number"><span class="hljs-number">0</span></span>, k = <span class="hljs-number"><span class="hljs-number">0</span></span>, j = <span class="hljs-number"><span class="hljs-number">0</span></span>, array_3 = []; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ((i &lt; n) &amp;&amp; (j &lt; m)) <span class="hljs-comment"><span class="hljs-comment">//       { if (array_1[i] == array_2[j]) { i++,j++; } else { if (array_1[i] &lt; array_2[j]) { array_3[k] = array_1[i]; k++; i++; //      } else { j++; //      } } } while (i &lt; n) { array_3[k] = array_1[i]; k++, i++; } n = array_2.length, m = array_1.length, j = 0, i = 0; while ((i &lt; n) &amp;&amp; (j &lt; m)) //       { if (array_2[i] == array_1[j]) { i++,j++; } else { if (array_2[i] &lt; array_1[j]) { array_3[k] = array_2[i]; k++; i++; //      } else { j++; //      } } } while (i &lt; n) { array_3[k] = array_2[i]; k++, i++; } return array_3; }</span></span></code> </pre><br></div></div><br><br>  The method <a href="http://habrahabr.ru/post/250191/">proposed by</a> <a href="http://habrahabr.ru/users/0legg/" class="user_link">0leGG</a> . <br><div class="spoiler">  <b class="spoiler_title">1 pass</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">symmetric_diff_sort_arr</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">array_1,array_2</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> n = array_1.length, m = array_2.length, i = <span class="hljs-number"><span class="hljs-number">0</span></span>, k = <span class="hljs-number"><span class="hljs-number">0</span></span>, j = <span class="hljs-number"><span class="hljs-number">0</span></span>, array_3 = []; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ((i &lt; n) &amp;&amp; (j &lt; m)) <span class="hljs-comment"><span class="hljs-comment">//       { if (array_1[i] &lt; array_2[j]) { array_3[k] = array_1[i]; k++; i++; //      } else if (array_1[i] &gt; array_2[j]) { array_3[k] = array_2[j]; k++; j++; //      } else { i++, j++; } } while (i &lt; n) { array_3[k] = array_1[i]; k++, i++; } while (j &lt; m) { array_3[k] = array_2[j]; k++, j++; } return array_3; }</span></span></code> </pre><br></div></div><br><br><pre> <code class="javascript hljs">symmetric_diff_sort_arr([<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>], [<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">24</span></span>, <span class="hljs-number"><span class="hljs-number">47</span></span>]); <span class="hljs-comment"><span class="hljs-comment">//   [1, 2, 5, 6, 12, 24, 47]</span></span></code> </pre><br><br><h1><a name="tag5"></a>  Conclusion </h1><br>  I often have to work with sorted arrays, so these algorithms greatly accelerate the process.  An example of the implementation of the <a href="https://habr.com/ru/post/250191/">intersec_sort_arr</a> method, you can see in <a href="http://vk.com/app4236781">my application</a> for vk.com.  Using this method, I find common community members working with sorted arrays, in millions of elements, the method copes very quickly.  Prior to that, I used the method described in my <a href="http://habrahabr.ru/post/248229/">previous article</a> , array processing was very slow. </div><p>Source: <a href="https://habr.com/ru/post/250191/">https://habr.com/ru/post/250191/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../250179/index.html">New tool for checking structured data, documentation and more</a></li>
<li><a href="../250183/index.html">Windows server 2012 r2 Hyper-V role installation or how you can make mistakes during the installation process</a></li>
<li><a href="../250185/index.html">Back in the 90s or how to send a message to a pager via java</a></li>
<li><a href="../250187/index.html">Gaming Industry News Digest: January</a></li>
<li><a href="../250189/index.html">How Evernote Finds Text in Images</a></li>
<li><a href="../250193/index.html">Flames in CSS</a></li>
<li><a href="../250195/index.html">Ubuntu 14.04 + Asterisk 11 + CDR-Stats</a></li>
<li><a href="../250197/index.html">How to be ready or DR on Nutanix: asynchronous replication</a></li>
<li><a href="../250199/index.html">What every programmer should know about compiler optimization</a></li>
<li><a href="../250201/index.html">Load balancing: basic algorithms and methods</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>