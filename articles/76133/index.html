<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>OpenCV (computer vision). Installation under MSVS 2008. "Hello World"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="OpenCV is a library of computer vision and image processing algorithms. The source code is public. 

 This thing is very interesting and you can find ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>OpenCV (computer vision). Installation under MSVS 2008. "Hello World"</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/geektimes/post_images/7e8/cc6/fd5/7e8cc6fd537d4e8776572aabff4b47dc.png" alt="image"><br>  OpenCV is a library of computer vision and image processing algorithms.  The source code is public. <br><br>  This thing is very interesting and you can find many uses for it: user identification at the computer, object recognition, object tracking, and even more in robotics! <br><br>  In this post I will describe the detailed installation of this library and we will write the simplest program - a sort of ‚ÄúHello World‚Äù in computer vision.  :) <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Installation </h4><br><h5>  one. </h5>  You need to download and install OpenCV for Windows.  Better download version 1.0 - this version was created back in Intel. <br>  <a href="http://opencvlibrary.sourceforge.net/">opencvlibrary.sourceforge.net</a> (I installed in the default folder C: / Program Files / OpenCV /) <br><br><h5>  2 </h5>  Download and install MS Visual Studio 2008, if you have not already done so, or MS Visual C ++ 2008 Express Edition via the link <a href="http://www.microsoft.com/express/vc">www.microsoft.com/express/vc</a> (I think it‚Äôs not necessary to remind you about registration :)). <br><br><h5>  3 </h5>  Now you have everything you need installed, so let's proceed to including OpenCV in MSVS 2008: <br><ul><li>  In the main menu, select Tools-&gt; Options (Tools-&gt; Options). </li><li>  In the list on the right, select Projects and Solutions-&gt; VC ++ Directories (Projects and Solutions-&gt; VC ++ Directories) </li><li>  First, from the ‚ÄúShow Directories for:‚Äù list box, select ‚ÄúInclude Files‚Äù (‚ÄúInclude Files‚Äù). </li><li>  Click on the Insert New icon and add the following lines: </li></ul><br>  "C: \ Program Files \ OpenCV \ cv \ include" <br>  "C: \ Program Files \ OpenCV \ cxcore \ include" <br>  "C: \ Program Files \ OpenCV \ otherlibs \ highgui" <br>  "C: \ Program Files \ OpenCV \ cvaux \ include" <br>  "C: \ Program Files \ OpenCV \ otherlibs \ cvcam \ include" <br>  "C: \ Program Files \ OpenCV \ ml \ include" <br>  "C: \ Program Files \ OpenCV \ otherlibs \ _graphics \ include" <br>  "C: \ Program Files \ OpenCV \ otherlibs \ _graphics \ include \ jasper" <br>  The result can be seen in the screenshot. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/47f/db6/1fe/47fdb61fedd0b2c1b9679632f27be97c.png" alt="image"><br><br>  Next, select ‚ÄúLibrary files‚Äù in the list box and add <br>  following lines: <br>  "C: \ Program Files \ OpenCV \ lib" <br>  "C: \ Program Files \ OpenCV \ otherlibs \ _graphics \ lib" <br><img src="https://habrastorage.org/getpro/geektimes/post_images/f71/a1d/3fa/f71a1d3fa473dbdfa0fa837b24366a4a.png" alt="image"><br><br>  Then, in the same list box, select ‚ÄúSource Files‚Äù and add: <br>  "C: \ Program Files \ OpenCV \ cv \ src" <br>  "C: \ Program Files \ OpenCV \ cxcore \ src" <br>  "C: \ Program Files \ OpenCV \ cvaux \ src" <br>  "C: \ Program Files \ OpenCV \ otherlibs \ highgui" <br>  "C: \ Program Files \ OpenCV \ otherlibs \ cvcam \ src \ windows" <br>  "C: \ Program Files \ OpenCV \ ml \ src" <br>  "C: \ Program Files \ OpenCV \ otherlibs \ _graphics \ src" <br><img src="https://habrastorage.org/getpro/geektimes/post_images/45c/c75/5e2/45cc755e2c3d74203c8fa0766ec11e5a.png" alt="image"><br><br><h5>  four. </h5>  When you create a new project using OpenCV, you need to do the following: <br><br>  - In MSVS, select File-&gt; Create-&gt; Project (File-&gt; Create-&gt; Project) and create a console application in VC ++ <br><img src="https://habrastorage.org/getpro/geektimes/post_images/164/5b3/0b7/1645b30b70d0e35c46e8dd2614937d68.png" alt="image"><br><br><ul><li>  In an open project, select: Project-&gt; Properties (Project-&gt; Properties). </li><li>  Further Configuration Properties-&gt; Linker-&gt; Input </li><li>  And add library names to the ‚ÄúAdditional Dependencies‚Äù field (Additional dependencies): cxcore.lib cv.lib highgui.lib cvaux.lib cvcam.lib </li></ul><br><img src="https://habrastorage.org/getpro/geektimes/post_images/a1d/e44/87a/a1de4487afc81eb9ae7871fc63f753ce.png" alt="image"><br><br>  Remember that when you switch from Debug mode to Release, you will need to re-add the libraries to ‚ÄúAdditional dependencies‚Äù! <br><br>  So with the settings complete and we can proceed to the first program! <br><br><h4>  The first program. </h4><br>  In the first program, we will learn how to create a window, display an image, wait for a keystroke, and close the application. <br><br>  OpenCV provides opportunities to work with a wide range of image types, as well as video and video streams from cameras.  These features are part of the HighGUI library, which is included in the OpenCV package. <br><br>  Here is the listing of our first program: <br><br> <code>#include "stdafx.h" <br> #include "highgui.h" <br> <br> int main (int argc, char** argv) <br> { <br> IplImage* img = cvLoadImage( argv[1] ); <br> cvNamedWindow( "Example1", CV_WINDOW_AUTOSIZE); <br> cvShowImage( "Example1", img ); <br> cvWaitKey(0); <br> cvReleaseImage( &amp;img ); <br> cvDestroyWindow( "Example1" ); <br> } <br></code> <br>  This program must be run from the command line, passing as the first parameter the path to the image. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/c65/c6b/faa/c65c6bfaa71b6a304d7d724d5513e9cc.png" alt="image"><br>  <i>As an image for upload, I chose the screen from the first program.</i> <br><br>  Consider the principle of operation.  When it starts, the program loads the image transmitted by the first argument into memory and displays it on the screen, then waits for any key to be pressed and closes after pressing. <br><br><h5>  Now we will consider each team separately. </h5><br> <code>IplImage* img = cvLoadImage( argv[1] );</code> <br>  This line directly loads the image.  The cvLoadImage () function itself allocates the required amount of memory for an image and can work with a large number of formats, including: <br>  BMP, DIB, JPEG, JPE, PNG, PBM, PGM, PPM, SR, RAS, and TIFF.  As a result, it returns a pointer to the image data structure.  This structure is called IplImage.  We use the cvLoadImage () pointer to work with the image and its data. <br><br> <code>cvNamedWindow( "Example1", CV_WINDOW_AUTOSIZE);</code> <br>  cvNamedWindow () creates a window that can contain an image.  The first parameter we pass the name of the window itself, and the second is its size, the CV_WINDOW_AUTOSIZE flag, which indicates that the window will be the same size as the loaded image.  You can pass the second parameter "0" (zero) and then you can resize the window yourself when the program is running. <br><br> <code>cvShowImage( "Example1", img );</code> <br>  Directly displays the image in the window, the name of which we pass by the first parameter, the second parameter passes the image itself. <br><br> <code>cvWaitKey(0);</code> <br>  This function stops the program and waits for the key to be pressed, if the function argument is greater than zero, then the program expects this number of milliseconds and continues the program if nothing is pressed.  If the argument is zero or less, then the program will wait for the key to be pressed and then continue. <br><br> <code>cvReleaseImage( &amp;img );</code> <br>  The function frees the memory associated with the image and then sets the img pointer to NULL. <br><br> <code>cvDestroyWindow( "Example1" );</code> <br>  At the end we close the window and release the allocated memory.  In simple programs, the last two actions are not mandatory, since the OS will do everything itself, after closing the program.  But do not always rely on it, and for safety it is better to do everything yourself.  :) <br><br>  Thanks for attention. <br>  This is my first post here, I hope that many will like it.  ;) </div><p>Source: <a href="https://habr.com/ru/post/76133/">https://habr.com/ru/post/76133/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../76128/index.html">Create a robot at home</a></li>
<li><a href="../76129/index.html">Pegatron has 10-inch smartbook ready for release.</a></li>
<li><a href="../76130/index.html">Malicious DDOS and protection</a></li>
<li><a href="../76131/index.html">Under Wine or not under Wine?</a></li>
<li><a href="../76132/index.html">New versions of software from Microsoft</a></li>
<li><a href="../76134/index.html">New HP Solid State Drives</a></li>
<li><a href="../76135/index.html">Team development using git and Trac in the Midnight Commander project</a></li>
<li><a href="../76138/index.html">Your provider gives fair unlimited tariffs?</a></li>
<li><a href="../76144/index.html">Writing Comet-chat</a></li>
<li><a href="../76147/index.html">The action "Interface = understanding": the results of the first stage are summed up</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>