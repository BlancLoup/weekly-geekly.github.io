<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Graphics in Julia. Strange patterns, the reflection of a triangle from a straight line and the construction of the normals of a spherical cat in a vacuum</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We continue to get acquainted with a very young, but incredibly beautiful and powerful programming language Julia . The six-year beta is finally over,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Graphics in Julia. Strange patterns, the reflection of a triangle from a straight line and the construction of the normals of a spherical cat in a vacuum</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/webt/wg/fb/gi/wgfbgicw9esjjntpiixuyi0xj0e.png"></p><br><p>  We continue to get acquainted with a very young, but incredibly beautiful and powerful programming language <a href="https://julialang.org/">Julia</a> .  The six-year beta is finally over, so now you can not be afraid of changes in syntax.  And while everyone is arguing, it‚Äôs good or bad to start indexing from one, the excited community has been actively messed up: new libraries are coming out, old ones are being updated, serious projects are being launched, and students are actively taught this language at universities.  So let's not fall behind!  Brew tea stronger, because this night we will code! </p><a name="habracut"></a><br><h2 id="podgotovka-k-rabote">  Preparation for work </h2><br><p>  <a href="https://ailev.livejournal.com/1440499.html">There</a> is a small overview in Russian, as well as on Habr√© there is an <a href="https://habr.com/post/423811/">acquaintance with the language and installation guide</a> .  Again, I draw attention to the need for the <a href="https://docs.microsoft.com/ru-ru/powershell/wmf/5.1/install-configure">Windows Management Framework</a> , there will be problems with loading packages. </p><br><p>  The <a href="https://juliacomputing.com/products/juliapro"><strong>JuliaPRO package</strong></a> after the update now includes only <em>Juno</em> .  But personally, I prefer <a href="http://freecad.ru/play/default/showtask/196">Jupyter</a> : there were no problems with it on a laptop, plus it‚Äôs convenient to work in the browser and immediately create notes and formulas, in general, ideal for creating reports, slides or manuals. </p><br><div class="spoiler">  <b class="spoiler_title">Marry Jupyter and Julia 1.0.1</b> <div class="spoiler_text"><ul><li>  Download the latest version of Julia from the <a href="https://julialang.org/downloads/">official site</a> </li><li>  The link to the jupiter in the set of <em>Anaconda is</em> given above, I used the one that was in the old <a href="https://juliacomputing.com/products/olderreleases/olderrelease.html">JuliaPRO</a> </li><li>  Launch Julia.  It is already possible to fully use the language, but only in interpreter mode.  Execute commands: <br><pre><code class="plaintext hljs">julia&gt;] pkg&gt; add IJulia pkg&gt; build IJulia #     build</code> </pre> </li><li>  Now creation of Julia 1.0.1 file is available in <em>Jupyter.</em> </li></ul></div></div><br><p>  There are several packages for Julia, the most successful ones are included in <em>Plots</em> as backends.  <code>Plots.jl</code> is a meta-language for plotting a graph: that is, an interface for various graph libraries.  Thus, <code>Plots.jl</code> actually just interprets your commands, and then creates graphs using any kind of graph library.  These background graphic libraries are called backends.  The best part is that you can use many different graphic libraries with the syntax <code>Plots.jl</code> , and we will also see that <code>Plots.jl</code> adds new functions to each of these libraries! </p><br><div class="spoiler">  <b class="spoiler_title">Installing graphics packages</b> <div class="spoiler_text"><p>  To install packages, run the commands in REPL, Juno, or Jupyter: </p><br><pre> <code class="plaintext hljs"># Pkg.add("Plots") #      0.7.0 julia&gt;] pkg&gt;add Plots pkg&gt;add GR pkg&gt;add PyPlot pkg&gt;add Gadfly pkg&gt;add PlotlyJS pkg&gt;add UnicodePlots</code> </pre> <br><p>  It is not necessary to install all the packages, but you should know that each of them has its own <a href="http://docs.juliaplots.org/latest/backends/">characteristics</a> .  I prefer <em>plotlyjs ()</em> : although it does not differ in speed, but very interactive.  There is a zoom, movement along the plane, as well as the ability to save a file, and if you save the <em>Jupyter</em> document as html, all possibilities will be preserved.  So you can add to the site or make an interactive presentation.  More information on the pages: <a href="http://docs.juliaplots.org/latest/">Plots</a> , <a href="http://gadflyjl.org/stable/man/plotting.html">Gadfly</a> </p></div></div><br><h2 id="beskonechnyy-uzor-na-osnove-prostyh-chisel">  Endless pattern based on prime numbers </h2><br><p>  Implemented the idea of ‚Äã‚Äãan <a href="https://habr.com/post/417861/" title="Dude, thanks for the endless desktop background generator">article on Habr√©</a> .  In a few words: what if we take the coordinate of a point and between an abscissa and ordinate, apply some operation, say, <strong>XOR</strong> or bitwise <strong>AND</strong> , and then check the number for simplicity or for belonging to Fibonacci numbers, and if the answer is positive, fill the point with one color, and with a negative in the other?  Check: </p><br><div class="spoiler">  <b class="spoiler_title">For operation%</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">using Plots plotlyjs() function eratosphen(n, lst) #   ar = [i for i=1:n] ar[1] = 0 for i = 1:n if ar[i] != 0 push!(lst, ar[i]) for j = i:i:n ar[j] = 0 end end end end ertsfn = [] eratosphen(1000, ertsfn) # print(ertsfn) # print( size(ertsfn) ) # -&gt; 168 N = 80 M = 80 W1 = [in( x % y, ertsfn) for x = 1:N, y = 1:M]; W2 = [x % y for x = 1:N, y = 1:M]; p1 = spy(W1, title = "x % y is prime?") p2 = spy(W2, title = "x % y") plot(p1, p2, layout=(2),legend=false)</code> </pre> <br><p><img src="https://habrastorage.org/webt/sl/sy/mx/slsymxjk4p4jui3pgjdg-55wgvm.png"></p></div></div><br><div class="spoiler">  <b class="spoiler_title">For operation +</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">W1 = [in( x + y, ertsfn) for x = 1:N, y = 1:M]; W2 = [x + y for x = 1:N, y = 1:M]; p1 = spy(W1, title = "x + y is prime?") p2 = spy(W2, title = "x + y") plot(p1, p2, layout=(2),legend=false)</code> </pre> <br><p><img src="https://habrastorage.org/webt/yc/kb/0-/yckb0-mn1rrtp2vlj0_cnijekhi.png"></p></div></div><br><div class="spoiler">  <b class="spoiler_title">For operation |</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">W1 = [in( x | y, ertsfn) for x = 1:N, y = 1:M]; W2 = [x | y for x = 1:N, y = 1:M]; p1 = spy(W1, title = "x | y is prime?") p2 = spy(W2, title = "x | y") plot(p1, p2, layout=(2),legend=false)</code> </pre> <br><p><img src="https://habrastorage.org/webt/in/ab/0e/inab0es2iotf0dh5righrxuxnvi.png"></p></div></div><br><div class="spoiler">  <b class="spoiler_title">For operation &amp;</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">W1 = [in( x &amp; y, ertsfn) for x = 1:N, y = 1:M]; W2 = [x &amp; y for x = 1:N, y = 1:M]; p1 = spy(W1, title = "x &amp; y is prime?") p2 = spy(W2, title = "x &amp; y") plot(p1, p2, layout=(2),legend=false)</code> </pre> <br><p><img src="https://habrastorage.org/webt/tw/7g/ju/tw7gju5lap1nxuok6mp66kosgf8.png"></p></div></div><br><div class="spoiler">  <b class="spoiler_title">For operation xor</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">W1 = [in( xor(x, y), ertsfn) for x = 1:N, y = 1:M]; W2 = [xor(x, y) for x = 1:N, y = 1:M]; p1 = spy(W1, title = "x xor y is prime?") p2 = spy(W2, title = "x xor y") plot(p1, p2, layout=(2),legend=false)</code> </pre> <br><p><img src="https://habrastorage.org/webt/hk/vv/w8/hkvvw80hunhtvrb2dzmioo2lqdk.png"></p></div></div><br><div class="spoiler">  <b class="spoiler_title">And now everything is the same, but for Fibonnachi numbers</b> <div class="spoiler_text"><p>  It is possible, as usual, to form a series with something like: </p><br><pre> <code class="plaintext hljs">function fib(n) a = 0 b = 1 for i = 1:n a, b = b, a + b end return a end fbncc = fib.( [i for i=1:10] )</code> </pre> <br><p>  But let's use the matrix representation ( <a href="https://habr.com/post/261159/">more</a> ): <br><img src="https://habrastorage.org/webt/hy/-v/ul/hy-vulaepoeitqtnptrgk_59qcc.png"></p><br><pre> <code class="plaintext hljs">matr_fib = n -&gt; [1 1; 1 0]^(n-1) #  ,     n-1 mfbnc = [ matr_fib( i )[1,1] for i=1:17]; #  1,1    n-    N = 100 M = N W1 = [in( x % y, mfbnc) for x = 1:N, y = 1:M]; W2 = [in( x | y, mfbnc) for x = 1:N, y = 1:M]; p1 = spy(W1, title = "x % y ‚àà fibonacci?") p2 = spy(W2, title = "x | y ‚àà fibonacci?") plot(p1, p2, layout=(2),legend=false)</code> </pre> <br><p><img src="https://habrastorage.org/webt/_m/hy/d3/_mhyd36hgpztm1pr48arvp25qwc.png"></p><br><pre> <code class="plaintext hljs">W1 = [in( xor(x, y), mfbnc) for x = 1:N, y = 1:M]; W2 = [in( x &amp; y, mfbnc) for x = 1:N, y = 1:M]; p1 = spy(W1, title = "x xor y ‚àà fibonacci?") p2 = spy(W2, title = "x &amp; y ‚àà fibonacci?") plot(p1, p2, layout=(2),legend=false)</code> </pre> <br><p><img src="https://habrastorage.org/webt/b2/vd/lh/b2vdlhm6nspeud08ah_u91pcoyo.png"></p></div></div><br><h2 id="otrazhenie-figury-otnositelno-pryamoy">  The reflection of the figure is relatively straightforward. </h2><br><p>  This type of display is determined by the matrix: </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mo stretchy=&quot;false&quot;>[</mo><mi>T</mi><mo stretchy=&quot;false&quot;>]</mo><mo>=</mo><mo stretchy=&quot;false&quot;>[</mo><msup><mi>T</mi><mo>&amp;#x2032;</mo></msup><mo stretchy=&quot;false&quot;>]</mo><mo stretchy=&quot;false&quot;>[</mo><mi>R</mi><mo stretchy=&quot;false&quot;>]</mo><mo stretchy=&quot;false&quot;>[</mo><msup><mi>R</mi><mo>&amp;#x2032;</mo></msup><mo stretchy=&quot;false&quot;>]</mo><mo stretchy=&quot;false&quot;>[</mo><mi>R</mi><msup><mo stretchy=&quot;false&quot;>]</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x2212;</mo><mn>1</mn></mrow></msup><mo stretchy=&quot;false&quot;>[</mo><msup><mi>T</mi><mo>&amp;#x2032;</mo></msup><msup><mo stretchy=&quot;false&quot;>]</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x2212;</mo><mn>1</mn></mrow></msup></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="27.949ex" height="3.021ex" viewBox="0 -987.6 12033.4 1300.8" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/426387/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi483E1KBcUIAb50ntd02mTS90mKg#MJMAIN-5B" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/426387/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi483E1KBcUIAb50ntd02mTS90mKg#MJMATHI-54" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/426387/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi483E1KBcUIAb50ntd02mTS90mKg#MJMAIN-5D" x="983" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/426387/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi483E1KBcUIAb50ntd02mTS90mKg#MJMAIN-3D" x="1539" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/426387/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi483E1KBcUIAb50ntd02mTS90mKg#MJMAIN-5B" x="2595" y="0"></use><g transform="translate(2874,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/426387/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi483E1KBcUIAb50ntd02mTS90mKg#MJMATHI-54" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/426387/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi483E1KBcUIAb50ntd02mTS90mKg#MJMAIN-2032" x="1047" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/426387/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi483E1KBcUIAb50ntd02mTS90mKg#MJMAIN-5D" x="3909" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/426387/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi483E1KBcUIAb50ntd02mTS90mKg#MJMAIN-5B" x="4187" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/426387/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi483E1KBcUIAb50ntd02mTS90mKg#MJMATHI-52" x="4466" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/426387/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi483E1KBcUIAb50ntd02mTS90mKg#MJMAIN-5D" x="5225" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/426387/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi483E1KBcUIAb50ntd02mTS90mKg#MJMAIN-5B" x="5504" y="0"></use><g transform="translate(5782,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/426387/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi483E1KBcUIAb50ntd02mTS90mKg#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/426387/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi483E1KBcUIAb50ntd02mTS90mKg#MJMAIN-2032" x="1074" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/426387/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi483E1KBcUIAb50ntd02mTS90mKg#MJMAIN-5D" x="6837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/426387/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi483E1KBcUIAb50ntd02mTS90mKg#MJMAIN-5B" x="7115" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/426387/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi483E1KBcUIAb50ntd02mTS90mKg#MJMATHI-52" x="7394" y="0"></use><g transform="translate(8153,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/426387/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi483E1KBcUIAb50ntd02mTS90mKg#MJMAIN-5D" x="0" y="0"></use><g transform="translate(278,412)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/426387/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi483E1KBcUIAb50ntd02mTS90mKg#MJMAIN-2212" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/426387/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi483E1KBcUIAb50ntd02mTS90mKg#MJMAIN-31" x="778" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/426387/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi483E1KBcUIAb50ntd02mTS90mKg#MJMAIN-5B" x="9436" y="0"></use><g transform="translate(9715,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/426387/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi483E1KBcUIAb50ntd02mTS90mKg#MJMATHI-54" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/426387/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi483E1KBcUIAb50ntd02mTS90mKg#MJMAIN-2032" x="1047" y="583"></use></g><g transform="translate(10750,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/426387/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi483E1KBcUIAb50ntd02mTS90mKg#MJMAIN-5D" x="0" y="0"></use><g transform="translate(278,412)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/426387/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi483E1KBcUIAb50ntd02mTS90mKg#MJMAIN-2212" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/426387/&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi483E1KBcUIAb50ntd02mTS90mKg#MJMAIN-31" x="778" y="0"></use></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mo stretchy="false">[</mo><mi>T</mi><mo stretchy="false">]</mo><mo>=</mo><mo stretchy="false">[</mo><msup><mi>T</mi><mo>‚Ä≤</mo></msup><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>R</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><msup><mi>R</mi><mo>‚Ä≤</mo></msup><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>R</mi><msup><mo stretchy="false">]</mo><mrow class="MJX-TeXAtom-ORD"><mo>‚àí</mo><mn>1</mn></mrow></msup><mo stretchy="false">[</mo><msup><mi>T</mi><mo>‚Ä≤</mo></msup><msup><mo stretchy="false">]</mo><mrow class="MJX-TeXAtom-ORD"><mo>‚àí</mo><mn>1</mn></mrow></msup></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> [T] = [T '] [R] [R'] [R] ^ {- 1} [T '] ^ {- 1} </script></p><br><p><img src="https://habrastorage.org/webt/5s/0b/hs/5s0bhs8dmtta6e4wm7km24rpdlq.png"></p><br><p>  where [T '], [R] and [R'], respectively, of the matrix of displacement, rotation and reflection.  How it works?  Using an example of an offset, for a point with coordinates (x, y), the offset by m by ix and by n by the game will be determined by the transformation: </p><br><p><img src="https://habrastorage.org/webt/ch/2b/uf/ch2bufqo3eawdogdpgoozhsquxm.png"></p><br><p>  These matrices allow conversions for different polygons, the main thing is to write down the coordinates under each other and not forget about the column of ones at the end.  Thus [T]: </p><br><ul><li>  shifts the line at the origin along with the polygon to be transformed </li><li>  turns it to coincide with the X axis </li><li>  reflects all points of the polygon relative to X </li><li>  then reverse and translate </li></ul><br><p>  In more detail the topic is disclosed in the book of <a href="http://sernam.ru/book_mm3d.php">Rogers D., Adams J. Mathematical foundations of computer graphics</a> </p><br><p>  Now code it! </p><br><pre> <code class="plaintext hljs">using Plots plotlyjs() f = x -&gt; 0.4x + 2 #    #       X = [2 4 2 2]' Y = [4 6 6 4]' xs = [-2; 7] #    ys = f(xs) inptmtrx = [ XY ones( size(X, 1), 1 ) ] #    m = 0 n = -f(0) #   Y displacement = [1 0 0; 0 1 0; mn 1] a = (ys[2]-ys[1]) / (xs[2]-xs[1]) #     Œ∏ = -atan(a) rotation = [cos(Œ∏) sin(Œ∏) 0; -sin(Œ∏) cos(Œ∏) 0; 0 0 1] reflection = [1 0 0; 0 -1 0; 0 0 1] T = displacement * rotation * reflection * rotation^(-1) * displacement^(-1) #    outptmtrx = inptmtrx * T plot( X, Y) plot!( xs, ys ) plot!( outptmtrx[:,1], outptmtrx[:,2] )</code> </pre> <br><p><img src="https://habrastorage.org/webt/y_/jc/fi/y_jcfi0bwd6spitksbxmwrs7n7s.png"><br>  <em>Interesting fact:</em> if you get rid of the Greek characters and replace the first line with </p><br><pre> <code class="plaintext hljs">function y=f(x,t) y=0.4*x + 2 endfunction,</code> </pre> <br><p>  brackets <strong>[]</strong> framing indices of arrays on <strong>()</strong> , and rafts on <code>plot( X, Y, xs, ys, trianglenew(:,1), trianglenew(:,2) )</code> , then this code runs in <em>Scilab</em> . </p><br><h2 id="rabota-s-trehmernoy-grafikoy">  Work with three-dimensional graphics </h2><br><p>  Some of the listed packages support the construction of three-dimensional graphs.  But separately I would like to mention <a href="">Makie‚Äôs</a> rather powerful visualization <a href="">tool</a> , which works in <a href="">conjunction</a> with the <a href="">GLFW</a> and <a href="">GLAbstraction</a> packages <a href="">that</a> implement the OpenGL features in julia.  More information about <a href="http://makie.juliaplots.org/stable/basic-tutorials.html">Makie</a> .  His approbation hide under </p><br><div class="spoiler">  <b class="spoiler_title">spoiler</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">using Makie N = 51 x = linspace(-2, 2, N) y = x z = (-x .* exp.(-x .^ 2 .- (y') .^ 2)) .* 4 scene = wireframe(x, y, z) xm, ym, zm = minimum(scene.limits[]) scene = surface!(scene, x, y, z) contour!(scene, x, y, z, levels = 15, linewidth = 2, transformation = (:xy, zm)) scene</code> </pre> <br><p><img src="https://habrastorage.org/webt/_b/bc/z-/_bbcz-albqyjsyyj8fplvztsmrq.jpeg"></p><br><pre> <code class="plaintext hljs">wireframe(Makie.loadasset("cat.obj"))</code> </pre> <br><p><img src="https://habrastorage.org/webt/f8/1j/fn/f81jfno9waxgk6n2ys7zq28kzgc.jpeg"></p><br><pre> <code class="plaintext hljs">using FileIO scene = Scene(resolution = (500, 500)) catmesh = FileIO.load(Makie.assetpath("cat.obj"), GLNormalUVMesh) mesh(catmesh, color = Makie.loadasset("diffusemap.tga"))</code> </pre> <br><p><img src="https://habrastorage.org/webt/h8/3x/5r/h83x5rgs4zbtd_7jh0ulqgi2mhe.jpeg"></p><br><pre> <code class="plaintext hljs">x = Makie.loadasset("cat.obj") mesh(x, color = :black) pos = map(x.vertices, x.normals) do p, n p =&gt; p .+ (normalize(n) .* 0.05f0) end linesegments!(pos, color = :blue)</code> </pre> <br><p><img src="https://habrastorage.org/webt/v7/in/tv/v7intvint3twei0wpipnsmirtd0.jpeg"></p></div></div><br><p>  On this with all the graphics.  Interactivity, animation, 3d, big data or fast construction of the simplest graphs - constantly evolving packages will satisfy almost every taste and need, moreover, everything is quite easy to master.  Feel free to download <a href="https://github.com/JuliaComputing/JuliaBoxTutorials">practical tasks</a> and continues to comprehend Julia! </p><br><p>  <strong>UPD:</strong> All the above listings are made in Jupyter with julia 0.6.4.  Unfortunately, some functions of the Plots metapacket were either removed or renamed, so that we continue to follow the updates, but in the meantime, the spy is completely replaced: </p><br><pre> <code class="plaintext hljs">julia&gt; using GR julia&gt; Z = [x | y for x = 1:40, y = 1:40]; julia&gt; heatmap(Z)</code> </pre> </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/426387/">https://habr.com/ru/post/426387/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../426375/index.html">Technology analysis: where to start work on the patent landscape</a></li>
<li><a href="../426377/index.html">Play using math graphs instead of graphs</a></li>
<li><a href="../426379/index.html">Deliverance from illusions</a></li>
<li><a href="../426381/index.html">How to make Python functions even better</a></li>
<li><a href="../426385/index.html">Why you should not learn academic English</a></li>
<li><a href="../426389/index.html">The digest of fresh materials from the world of the frontend for the last week ‚Ññ334 (October 7 - 14, 2018)</a></li>
<li><a href="../426391/index.html">PHP Digest number 141 (October 1 - 15, 2018)</a></li>
<li><a href="../426395/index.html">The duty for goods from foreign online stores will be charged at the time of purchase.</a></li>
<li><a href="../426397/index.html">Internet keepers</a></li>
<li><a href="../426399/index.html">Kronos: no time travel even in distributed systems</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>