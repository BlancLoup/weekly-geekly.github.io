<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Learning Go by porting a small Python web backend</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Content: To learn Go, I ported my backend of a small site from Python to Go and got a fun and painless experience in the process. 

 I wanted to start...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Learning Go by porting a small Python web backend</h1><div class="post__text post__text-html js-mediator-article"><blockquote>  Content: To learn Go, I ported my backend of a small site from Python to Go and got a fun and painless experience in the process. </blockquote><p>  I wanted to start learning Go for a while - I liked his philosophy: a small language, a nice learning curve and a very fast compilation (as for a statically-typed language).  What finally made me step further and begin to teach him was the fact that I began to see more and more fast and serious programs written in Go - <a href="https://github.com/docker">Docker</a> and <a href="https://github.com/inconshreveable/ngrok">ngrok</a> , in particular, from those that I recently used. </p><br><p>  Go philosophy is not for everyone‚Äôs taste (there are no exceptions, you cannot create your own generics, etc.), but it fit well into my mental model.  Simple, fast, making things in an obvious way.  During porting, I was particularly impressed with how complete the standard library and toolbox was. </p><br><h1 id="portirovanie">  Porting </h1><br><p>  I started with a couple of 20 lower case scripts on Go, but this was not enough to understand the language and the ecosystem.  So I decided to take a bigger project and chose a backend for my site <a href="https://giftyweddings.com/">GiftyWeddings.com to port</a> . </p><br><p>  On Python, this was about 1300 lines of code, using Flask, WTForms, Peewee, SQLite, and a few more libraries for S3, image resizing, etc. </p><br><p>  For the Go version, I wanted to use as few external dependencies as possible in order to better master the language and work as much as possible with the standard library.  In particular, Go has excellent libraries for working with HTTP, and I decided not to look at web frameworks at all.  But I still used several third-party libraries for S3, Stripe, SQLite, work with passwords and resize images. </p><a name="habracut"></a><br><p>  Because of the static typing of Go, and since I used fewer libraries, I expected the code to be more than twice the original number.  But the result was 1900 lines (about 50% more than 1300 in Python). </p><br><p> The porting process itself went very smoothly, and most of the business logic was ported by almost mechanically translating the code line to line from Python to Go.  I was surprised how well many concepts from Python translate to Go, down to <code>things[:20]</code> slice syntax. </p><br><p>  I also ported part of <a href="http://pythonhosted.org/itsdangerous/">itsdangerous</a> library that Flask uses, so that I could transparently decode session cookies from the Python service during the migration to the Go version.  All the code for cryptography, compression and serialization was in the standard library and it was a simple process. </p><br><p>  In general, between <a href="https://tour.golang.org/welcome/1">Go Tour</a> , <a href="https://golang.org/doc/effective_go.html">Effective Go,</a> and glancing at various examples of code on the Internet, the language learning process went effortlessly.  The documentation is fairly brief, but very well written. </p><br><p>  Also very pleased with the language toolkit: everything you need to build, run, format, and test the code is available through the <code>go</code> sub-commands.  During development, I simply used <code>go run *.go</code> to compile on the fly and run the server.  Compilation and launch took about a second, which was a breath of fresh air after a <a href="https://xkcd.com/303/">battle with swords</a> of 20 seconds incremental and 20 minutes of full compilation in Scala. </p><br><h1 id="testirovanie">  Testing </h1><br><p>  The standard Go library has a basic <a href="https://golang.org/pkg/testing/">testing</a> package and a ready test runner ( <code>go test</code> ), which finds, compiles and runs your tests.  This package is very easy and simple (maybe even too much), but you can easily add your helpers if necessary. </p><br><p>  In addition to unit tests, I wrote a test script (also with the use of the <code>testing</code> package), which runs the HTTP tests set against the real Gifty Weddings server.  I did this at the HTTP level, and not at the level of the Go code on purpose, to be able to set this test on the old Python server and make sure that the results are identical.  This gave me enough confidence that everything works as it should before I changed the server. </p><br><p>  I also did some white-box testing: the script checks the responses, but it also decodes cookies and checks that they contain valid data. </p><br><p>  Here is one example of such a test that creates a registry and removes a gift: </p><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TestDeleteGift</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(t *testing.T)</span></span></span></span> { client := NewClient(baseURL) response := client.PostJSONOK(t, <span class="hljs-string"><span class="hljs-string">"/api/create"</span></span>, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) AssertMatches(t, response[<span class="hljs-string"><span class="hljs-string">"slug"</span></span>], <span class="hljs-string"><span class="hljs-string">`temp\d+`</span></span>) slug := response[<span class="hljs-string"><span class="hljs-string">"slug"</span></span>].(<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>) html := client.GetOK(t, <span class="hljs-string"><span class="hljs-string">"/"</span></span>+slug, <span class="hljs-string"><span class="hljs-string">"text/html"</span></span>) _, gifts := ParseRegistryAndGifts(t, html) AssertEqual(t, <span class="hljs-built_in"><span class="hljs-built_in">len</span></span>(gifts), <span class="hljs-number"><span class="hljs-number">3</span></span>) gift := gifts[<span class="hljs-number"><span class="hljs-number">0</span></span>].(<span class="hljs-keyword"><span class="hljs-keyword">map</span></span>[<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>]<span class="hljs-keyword"><span class="hljs-keyword">interface</span></span>{}) giftID := <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>(gift[<span class="hljs-string"><span class="hljs-string">"id"</span></span>].(<span class="hljs-keyword"><span class="hljs-keyword">float64</span></span>)) response = client.PostJSONOK(t, fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"/api/registries/%s/gifts/%d/delete"</span></span>, slug, giftID), <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) expected := <span class="hljs-keyword"><span class="hljs-keyword">map</span></span>[<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>]<span class="hljs-keyword"><span class="hljs-keyword">interface</span></span>{}{ <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, } AssertDeepEqual(t, response, expected) html = client.GetOK(t, <span class="hljs-string"><span class="hljs-string">"/"</span></span>+slug, <span class="hljs-string"><span class="hljs-string">"text/html"</span></span>) _, gifts = ParseRegistryAndGifts(t, html) AssertEqual(t, <span class="hljs-built_in"><span class="hljs-built_in">len</span></span>(gifts), <span class="hljs-number"><span class="hljs-number">2</span></span>) }</code> </pre> <br><h1 id="kross-kompilyaciya">  Cross compilation </h1><br><p>  I think it's just unreal cool - you can say on macOS: </p><br><pre> <code class="hljs ruby">$ GOOS=linux GOARCH=amd64 go build</code> </pre> <br><p>  and this will compile you with a ready-to-use Linux binaries directly on your Mac.  And, of course, you can do it in the opposite direction, and cross-compile to and from Windows too.  It just works. </p><br><p>  Cross-compiling cgo modules (like SQLite) was a bit more complicated, as it required installing the correct version of GCC for compilation - which, unlike Go, was not too trivial.  As a result, I just used Docker with the following command to build under Linux: </p><br><pre> <code class="hljs go">$ docker run --rm -it -v ~/<span class="hljs-keyword"><span class="hljs-keyword">go</span></span>:/<span class="hljs-keyword"><span class="hljs-keyword">go</span></span> -w /<span class="hljs-keyword"><span class="hljs-keyword">go</span></span>/src/gifty golang:<span class="hljs-number"><span class="hljs-number">1.9</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> \ <span class="hljs-keyword"><span class="hljs-keyword">go</span></span> build -o gifty_linux -v *.<span class="hljs-keyword"><span class="hljs-keyword">go</span></span></code> </pre> <br><h1 id="horoshie-momenty">  Good moments </h1><br><p>  One of the coolest things in Go is that everything feels like <strong>solid, reliable</strong> : a standard library, tools (go sub-commands), and even third-party libraries.  My inner gut shows that this is partly due to the fact that there are no exceptions in Go, and there is some kind of "error handling culture" imposed because of the way that errors are handled. </p><br><p>  <strong>Network and HTTP libraries</strong> especially look cool.  You can run a net / http web server (production-level and with HTTP / 2 support, please note) just a couple of lines of code. </p><br><p>  <strong>The standard library</strong> contains most of the necessary things: html / template, ioutil.WriteFile, ioutil.TempFile, crypto / sha1, encoding / base64, smtp.SendMail, zlib, image / jpeg and image / png and you can go on and on.  The library APIs are very understandable, and where there are low-level APIs, they are usually wrapped up in higher-level functions, for the most frequent uses. </p><br><p>  As a result, writing a web backend without a framework on Go turned out to be quite easy. </p><br><p>  I was pleasantly surprised how easy it was to work with <strong>JSON</strong> in a statically-typed language: you simply call <code>json.Unmarshal</code> directly into the structure, and with the help of reflection, the correct fields are filled in automatically.  It was very easy to load the server configuration from the json file: </p><br><pre> <code class="go hljs">err = json.Unmarshal(data, &amp;config) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { log.Fatalf(<span class="hljs-string"><span class="hljs-string">"error parsing config JSON: %v"</span></span>, err) }</code> </pre> <br><p>  By the way, about <strong>err! = Nil</strong> - it wasn‚Äôt as bad as some people come up with (verification occurs about 70 times on my 1900 lines of code).  And it gives a very good feeling "this is really reliable, I correctly handle every error." </p><br><p>  By the way, since each request handler works in its gorutin, I also used <code>panic()</code> calls for things like database calls, which "should always work."  And at the very top level, I caught these panic attacks using <code>recover()</code> and correctly logged them and even added some code to send me a frame-mail to me. </p><br><p>  After Python and Flask, my hands were very itchy to use a special value for panic for Not Found or Bad Request responses, but I restrained these urges and decided to go more idiomatic Go (correct return values). </p><br><p>  I also like the <strong>single synchronous API</strong> for everything, plus the great <code>go</code> keyword to run things in the background gorutin.  This contrasts strongly with the Python / C # / JavaScript asynchronous APIs - which lead to new APIs for each I / O function, which doubles the surface of the API. </p><br><p>  The format is in time. <code>time.Parse()</code> bit quirky with the idea of ‚Äã‚Äãa "reference date", but in practice it is very easy to read when you return to the code later (there is no this "again, what does% b mean here?") </p><br><p>  The <code>context</code> library took some time to enter it, but it turned out to be useful for transmitting various additional information (user session data, etc.) to all involved in processing the request. </p><br><h1 id="obschie-prichudy">  Common fads </h1><br><p>  Go definitely has fewer of them than Python (but, again, Go is not 26 years old, after all), but there are still a few.  Here are some that I noticed during my porting process. </p><br><p>  <strong>You cannot take the address of the result of a function or expression</strong> .  You can take the address of a variable or, as a special case, a literal structure, like <code>&amp;Point{2, 3}</code> , but you cannot do <code>&amp;time.Now()</code> .  This was a bit annoying because it made it create a temporary variable: </p><br><pre> <code class="go hljs">now := time.Now() thing.TimePtr = &amp;now</code> </pre> <br><p>  It seems to me that the Go compiler could easily create it for me and allow writing a <code>thing.TimePtr = &amp;time.Now()</code> . </p><br><p>  <strong>The HTTP handler accepts http.ResponseWriter instead of returning a response.</strong>  The <a href="http/">http.ResponseWriter</a> API <a href="http/">is a</a> bit weird for basic cases, and you need to remember the correct order of calling <code>Header().Set</code> , <code>WriteHeader</code> and <code>Write</code> .  It would be easier if the handlers simply returned an object with a response. </p><br><p>  It also makes it a bit awkward to get the HTTP response code after calling the handler (for example, for logging).  You have to use the fake ResponseWriter, which stores the response code. </p><br><p>  There was probably a good reason for this design (efficiency? Compatibility?), But I can't see it right away.  I could easily make wrappers for my handlers to return an object, but I decided not to do so. </p><br><p>  <strong>The template engine seems to be nothing, but there are also some quirks.</strong> The <a href="https://golang.org/pkg/html/template/">html / template</a> package seemed pretty good to me, but it took me a while to understand what the "associated templates" are and what they are for.  Slightly more examples, in particular for template inheritance, would be very useful.  I liked that the template engine is expanding quite well (for example, it is easy to add your own functions). </p><br><p>  Loading templates is a bit strange, so I wrapped the <code>html/template</code> in my rendering package, which loaded the entire directory and the base template at once. </p><br><p>  The pattern syntax is also ok, but the expression syntax is a bit strange.  It seems to me that it would be better to use syntax more similar to Go itself.  In fact, next time I‚Äôll most likely use something like <a href="https://github.com/benbjohnson/ego">ego</a> or <a href="https://github.com/valyala/quicktemplate">quicktemplate</a> , because they, in fact, use the Go syntax and do not force them to learn another syntax for expressions. </p><br><p>  <strong>The <a href="https://golang.org/pkg/database/sql/">database / sql</a> package is too light.</strong>  I am not the biggest fan of ORM, but it would be nice if <code>database/sql</code> could use reflection and fill in the structure fields by analogy with <code>encoding/json</code> .  <code>Scan()</code> is really quite low-level.  There is an <a href="https://github.com/jmoiron/sqlx">sqlx</a> package <a href="https://github.com/jmoiron/sqlx">though</a> , which seems to do just that. </p><br><p>  <strong>Testing is too simple</strong> Although I am a fan of <code>go test</code> and ease of testing in Go as a whole, but it seems to me that it would be good to have at least <code>AssertEqual</code> -style functions in the standard set.  In the end, I just wrote my <code>AssertEqual</code> and <code>AssertMatches</code> functions.  Although, again, it seems that there are third-party packages that do just that: <a href="https://github.com/stretchr/testify">stretchr / testify</a> . </p><br><p>  <strong>Package <code>flag</code> fancy.</strong>  Apparently, the design <a href="https://groups.google.com/d/msg/golang-nuts/3myLL-6mA94/VUkLtSOyS-YJ">was based</a> on the command line flagship package in Google, but the <code>-</code> format still looks weird, considering that the GNU format with <code>-s</code> and <code>--long</code> is practically standard.  Again, there are plenty of replacements for this package, including drop-in replacements in which even the code does not need to be changed. </p><br><p>  <strong>The built-in URL router ( <a href="http/">ServeMux</a> ) is</strong> too simple because it allows you to do checks only on fixed prefixes, but creating a router based on <a href="https://golang.org/pkg/regexp/"><code>regexp</code></a> was a trivial task (a dozen lines of code). </p><br><h1 id="pretenzii-ot-pitonista">  Pitonist claims </h1><br><p>  After Python, the code does look a bit more verbose in some places.  Although, as I already wrote, most of the code translates the string into a string from Python, and it was quite natural. </p><br><p>  But I really missed the <strong>inclusion of lists and dictionaries</strong> .  It would be great if I could turn this: </p><br><pre> <code class="go hljs">gifts := []<span class="hljs-keyword"><span class="hljs-keyword">map</span></span>[<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>]<span class="hljs-keyword"><span class="hljs-keyword">interface</span></span>{}{} <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> _, g := <span class="hljs-keyword"><span class="hljs-keyword">range</span></span> registryGifts { gifts = <span class="hljs-built_in"><span class="hljs-built_in">append</span></span>(gifts, g.Map()) }</code> </pre> <br><p>  in it: </p><br><pre> <code class="go hljs">gifts := [g.Map() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> _, g := <span class="hljs-keyword"><span class="hljs-keyword">range</span></span> registryGifts]</code> </pre> <br><p>  Although, in fact, such places were much smaller than I expected. </p><br><p>  Similarly, <a href="https://golang.org/pkg/sort/">sort.Interface is</a> <strong>too verbose</strong> .  Adding <a href="https://golang.org/pkg/sort/">sort.Slice ()</a> was the right step.  But I still like how easy it is to sort by key in Python, without touching the slice indices at all.  For example, to sort the list of strings case-insensitive, in Python it would be: </p><br><pre> <code class="python hljs">strs.sort(key=str.lower)</code> </pre> <br><p>  Go: </p><br><pre> <code class="go hljs">sort.Slice(strs, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(i, j </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bool</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> strings.ToLower(strs[i]) &lt; strings.ToLower(strs[j]) })</code> </pre> <br><p>  And this, in principle, is all I lacked.  I expected that I would miss the exceptions, but it turned out not.  And, contrary to popular opinion, the lack of generics has disturbed me only once in all time. </p><br><h1 id="pochemu-go">  Why go? </h1><br><p>  I'm not going to stop using Python for the foreseeable future.  I continue to use it for my scripts, small projects and web backends.  But I'm seriously looking at Go for more projects (static typing makes refactoring much easier) and for utilities or systems where language performance is important (although, frankly, with all the low-level libraries in Python that are written in C, it is often not important). </p><br><p>  Summarizing, some of the reasons why I liked Go, and why you might like it: </p><br><ul><li>  good learning curve: it's a small language with quite <a href="https://golang.org/ref/spec">readable specification</a> and simple type system </li><li>  fast compile time </li><li>  some unique and excellent features: slices, gorutiny and the keyword <code>go</code> , <code>defer</code> <code>:=</code> for concise type inference, type system on interfaces. </li><li>  excellent and concise documentation for the language and standard library </li><li>  Excellent built-in tools: <br><ul><li>  <code>go build</code> : build a program (no Makefile needed) </li><li>  <code>go fmt</code> : automatically format code, no more style wars </li><li>  <code>go test</code> : run tests in all <code>*_test.go</code> files </li><li>  <code>go run</code> : compile and run the program instantly, it feels like scripting </li><li>  <code>dep</code> : package manager, <code>go dep</code> soon </li><li>  Good and growing ecosystem (database libraries, web frameworks, AWS, Stripe, GraphQL, etc.) </li><li>  Stability: Go 1 already exists for more than 5 years and has a <a href="https://golang.org/doc/go1compat">strong promise of compatibility</a> .  Go authors are very conservative in terms of what they add to the language, and there are good reasons for this. </li><li>  Not everyone will like the philosophy of the language, but it fits very well with my mental model: simplicity, clarity and speed. </li></ul></li></ul><br><p>  So go ahead, try <a href="https://www.youtube.com/watch%3Fv%3DLJvEIjRBSDA">writing something on Go (Write in Go)</a> ! </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/342218/">https://habr.com/ru/post/342218/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../342208/index.html">How to create a blockchain project on Exonum: a quick guide</a></li>
<li><a href="../342210/index.html">Product Design Digest October 2017</a></li>
<li><a href="../342212/index.html">Director of common sense: how to stop everything in control and start working in a team</a></li>
<li><a href="../342214/index.html">JSON error handling with Spring Boot</a></li>
<li><a href="../342216/index.html">How to break a bicycle over crutches when testing your distribution</a></li>
<li><a href="../342220/index.html">Architecture of the collection service and classification of housing ads from Vkontakte</a></li>
<li><a href="../342222/index.html">The digest of fresh materials from the world of the frontend for the last week ‚Ññ288 (November 6 - 12, 2017)</a></li>
<li><a href="../342224/index.html">Hackquest 2017. Results & Writeups</a></li>
<li><a href="../342226/index.html">New features for monitoring Java applications in Zabbix 3.4</a></li>
<li><a href="../342228/index.html">The latest Windows Server version 1709 is available in the Azure Pack Infrastructure cloud from InfoboxCloud</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>