<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Migration SCCM 2007 to SCCM 2012 \ 1511</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It has long been "dreamed" to write on this topic, it was all too lazy ... Stock up on cookies, this is a long time. There may be some number of error...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Migration SCCM 2007 to SCCM 2012 \ 1511</h1><div class="post__text post__text-html js-mediator-article"> It has long been "dreamed" to write on this topic, it was all too lazy ... Stock up on cookies, this is a long time.  There may be some number of errors - let me know if you find them, please.  Hard to deduct ~ 35,000 characters.  I deliberately do not want to divide the post into several parts, so all the information collected by me will be in one place. <br><br>  Upd.  <b>you can migrate from 2007 to 1511 directly, without 2012. And in general, everything written in this article is true for migration to 1511.</b> <br><br><a name="habracut"></a><br>  <b>1. Architecture</b> <br>  The SCCM 2012 hierarchy consists of three types of servers: Central Administration Site, Primary Site and Secondary Site.  Creating a four-level hierarchy similar to the existing SCCM 2007 hierarchy using SCCM 2012 is impossible, because the SCCM 2012 hierarchy is three-level.  The relationship between the servers in the Parent-Child hierarchy, at the head of the hierarchy is the CAS server, the Primary Site of the server is subordinate to it, and the Secondary Site of the server is subordinate to it.  Starting with version 2012 SP1, stand alone Primary can be ‚Äúconverted‚Äù to the SCCM hierarchy, so if you have less than 90000-95000 clients in the hierarchy, there is no point in the SCCM 2012 hierarchy with the CAS server. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The source and destination SCCM hierarchies cannot contain the same site codes, so all site codes must be changed during migration. <br><br>  Only SCCM 2007 servers with SP2 or later installed can participate in the migration. <br>  The extension of the Active Directory directory service schema to install the SCCM 2012 hierarchy in parallel with SCCM 2007 is not necessary (in case the schema extension was made to install SCCM 2007). <br><br>  <b>1.1.</b>  <b>Central Administration Site</b> <br>  The CAS server is the main SCCM hierarchy server.  The SCCM 2012 hierarchy cannot contain more than one CAS server, in addition it must be installed first in the hierarchy (not relevant after 2012 SP1).  CAS server does not support all roles, as it is not used to interact with clients. <br><br>  The CAS server is used to manage the entire SCCM infrastructure and is the only server on which information about the entire infrastructure is available, for example, assign detection methods for the Primary Site servers or manage the access roles of administrators to the SCCM hierarchy. <br><br>  The CAS server supports up to 100,000 clients in the SCCM infrastructure if the SQL server is edited as ‚Äúenterprise‚Äù or ‚Äúdatacenter‚Äù and up to 50,000 clients if the SQL server is edited as ‚Äústandard‚Äù. <br><br>  <b>1.2.</b>  <b>Primary Site</b> <br>  More than 25 Primary Site servers cannot be connected to a CAS server.  Primary Site server is responsible for interacting with clients and with Secondary Site servers, consolidates the data and sends them to the CAS server. <br><br>  Primary Site server supports up to 10 client management points each of which supports up to 25,000 clients. <br>  Primary Site server can manage only clients connected directly to this server or clients connected to its child servers. <br>  Primary Site server supports up to 250 Secondary Site servers and 250 distribution points.  Primary site server may transfer data to the Secondary Site server and to Distribution points according to schedule and / or may limit the bandwidth used by it. <br><br>  Primary Site server supports up to 50,000 clients in case it coexists with SQL server and up to 100,000 clients if SQL server exists separately from Primary Site server.  The edition of the SQL server is not important, unlike the CAS server.  In addition, Secondary Site servers do not increase the limit of clients connected to the Primary Site server.  If the CAS server has a database installed on the SQL server of the ‚Äústandard‚Äù edition, the limit of the clients connected to the Primary Site server and its child servers is 50,000. <br>  Primary Site server can not contain child Primary Site servers. <br><br>  <b>1.3.</b>  <b>Secondary Site and Distribution Point</b> <br>  The Secondary Site servers are migrated as follows: deleting the source Secondary Site server, waiting for the next collection cycle, if the successful removal of the Secondary Site server is confirmed after collecting the information, the Distribution Point is installed and all data that was located on the source Secondary Site server is imported. <br><br>  For a Distribution Point to migrate, it is necessary for the server to have an operating system supported by SCCM 2012 and the availability of free space twice the size of all the packages at the Distribution Point. <br><br>  With the help of the Distribution Point and the Secondary Site server, you cannot manage the SCCM infrastructure, all administrative actions must be performed on the CAS and Primary Site servers.  The main task of Distribution Points and Secondary Site servers is to reduce file traffic on the network and consolidate data from clients for transfer to the parent Primary Site server. <br>  The Secondary Site server cannot be used to assign SCCM site code to clients.  If boundary groups are used to assign sites to clients and the client is assigned a Secondary Site code, the client is assigned the code of the parent site of this Secondary Site server. <br><br>  Secondary Site server supports up to 250 distribution points.  Distribution point supports up to 4,000 clients. <br>  Secondary Site server supports up to 5000 clients. <br><br>  <b>2. Ability to migrate various types of objects</b> <br><img src="https://habrastorage.org/getpro/habr/post_images/e30/449/775/e3044977599a4372672025bab58e320f.png" alt="image"><br><br>  <b>Unfortunately, I did not understand how to insert a tablet, therefore a picture.</b> <br>  Collection migration ‚Äî when migrating collections, all objects are automatically migrated (this function can be disabled when creating a ‚Äúmigration job‚Äù) that are associated with this collection (except for those that cannot be migrated).  Re-migration of collections is identical to the original. <br>  Migration of objects - when performing migration of objects, it is necessary to select all objects that should participate in the migration. <br><br>  However, there are some limitations.  Collections must contain only users or only computers.  Empty collections cannot be migrated and a folder will be created instead.  If there are deployments that include all subcollections aimed at an empty collection during migration, a new collection will be created containing all subcollections and expansions will be aimed at it.  Collections containing an unknown computer object will be migrated, but this item will be removed from the collection.  Migration of related collections is not supported (linked collections are collections containing users and computers). <br>  The following objects and data cannot be migrated: queries, reports, customer inventory data, Intel AMT data, modified boot images, SCCM 2007 agent cache data, client history, security settings, mof files. <br><br>  Report migration is not possible using SCCM.  However, you can use the SQL Server Reporting Services Report Builder utility to migrate reports.  To do this, you need to convert all the reports in the source infrastructure so that they use SQL mechanisms.  To do this, install the SQL Server Reporting Services role on the databases, then configure the access of the SCCM source hierarchy to this service (via the SCCM console, server management, role management), convert all reports to SQL reports (via the SCCM console, select the required reports and Click ‚ÄúCopy Reports to Reporting Services‚Äù).  Further report migration is performed using SQL Server Reporting Services Report Builder or ReportSync utility. <br><br>  Query migration is not possible using SCCM.  You need to re-create the queries or export the queries as ‚Äúmof‚Äù files from the SCCM 2007 hierarchy and import them into SCCM 2012, this is done by the SCCM console of the source and target hierarchies. <br><br>  Mof files cannot be migrated using SCCM.  You need to re-configure them in the new hierarchy.  The mechanism of interaction with mof files has not changed, however, changes in existing mof files may be required for full compatibility with SCCM 2012. <br><br>  <b>3. SQL Server Requirements</b> <br>  For all server roles, 64-bit SQL server editions and windows authentication should be used to access the database. <br><br>  The SQL Server Replication component is not used to replicate data between SCCM servers.  This process is carried out by SMS Provider.  If you need to generate and view reports, you need to install the SQL Server Reporting Services component on the SQL server. <br><br>  For each SCCM server, a separate instance of the SQL server should be used and the ‚ÄúCollation‚Äù parameter of the SQL server must be the same on all servers in the SCCM hierarchy.  The only supported ‚ÄúCollation‚Äù is SQL_Latin1_general_CP1_CI_AS. <br><br>  For correct operation, the site of the servers of the SCCM 2012 hierarchy requires that the SQL server supports windows authentication.  Since the mixed mode supports windows authentication, its use on SQL servers in the SCCM hierarchy is possible.  Thus, it is possible to use mixed or windows authentication, ‚ÄúBest practice‚Äù - Windows mode. <br><br>  It is necessary to use the following settings for SQL server memory consumption: <br>  - in the case of coexistence of the installation of SQL and the SCCM server, limit the memory consumption of the SQL server to 50-80% of the RAM of the server. <br>  - in case of separate installation of SQL and SCCM server, limit the memory consumption of the SQL server to 80-90% of the RAM of the server. <br>  - Primary Site server and CAS server require backup of 8GB of RAM on the SQL server, and Secondary Site server requires backup of 4GB of RAM of the SQL server. <br><br>  <b>4. Network infrastructure requirements</b> <br>  <a href="https://gallery.technet.microsoft.com/SCCM-2012-R2-Network-scheme-b01fd985">gallery.technet.microsoft.com/SCCM-2012-R2-Network-scheme-b01fd985</a> <br>  This scheme without CAS role, did not find another scheme.  But I think 99% of those reading this will do. <br><br>  <b>5. Preparing for migration</b> <br>  Since the SCCM 2012 hierarchy differs from the SCCM 2007 hierarchy, it is necessary to reorganize the existing SCCM 2007 structure and make it flatter.  For the migration, you need an account with ‚ÄúRead‚Äù access to all objects of the SCCM 2007 hierarchy and an account with ‚ÄúRead‚Äù and ‚ÄúWrite‚Äù rights to the database, in addition, you must open the following ports: 135, 445, 1433 (all TCP). <br><br>  To migrate SCCM 2007 to SCCM 2012, you must select the source server in infrastructure 2007, it must be the ‚Äúhighest‚Äù server of the existing hierarchy, because once the source server is selected, it will not be possible to migrate all objects, servers and clients that are ‚Äúabove‚Äù the selected server. <br><br>  Since SCCM 2012 does not support the creation of child Primary Site servers on a Primary Site server to migrate such a hierarchy, it is necessary to consolidate all the clients of all child Primary Site servers in the existing hierarchy into the corresponding parent Primary Site servers in the new hierarchy.  Consolidation of clients occurs during the "migration" of the client.  Prior to direct migration, clients are under the control of the SCCM 2007 hierarchy. When migrating a client, it must receive the code for the parent site of the SCCM 2012 when installing the client (via the command line key).  Assigning to clients the corresponding site codes of their parent Primary Site servers and is a consolidation. <br><br>  All servers in the hierarchy that will participate in the migration must be upgraded to SCCM 2007 SP2 or higher. <br>  Secondary servers cannot be migrated, it is necessary to remove the server and install the Secondary server on it from the SCCM 2012 infrastructure (possibly along with saving data at the Distribution point). <br><br>  For the uninterrupted provision of infrastructure services, SCCM can share existing Distribution Points.  Setting up the sharing of existing Distribution points is done at the initial stages of the migration. To do this, you need an account with ‚ÄúModify‚Äù rights to the SCCM object. <br>  To migrate SCCM objects, you need to prepare public folders for migration, those that give access to public folders to accounts that will be responsible in the new hierarchy for access to public folders.  In addition, you need to reconfigure SCCM objects so that they use the UNC path to the shared folder, this will allow you not to reconfigure objects after migration. <br><br>  Collections can not be mixed, they can not contain both computers and users.  All mixed collections need to be reorganized into collections that contain only users and only devices.  In addition, collections that contain mixed collections and collections containing unknown computers cannot be migrated.  Empty collections will be migrated as folders. <br><br>  To migrate reports, you must install the SQL Server Reporting Services (SRS) role and convert all reports to SRS format.  Report migration using SCCM is not possible, however it is possible using SQL. <br>  Migration of clients allows you to avoid re-distribution of packages, this happens because during migration of packages SCCM 2012 stores in the database information about the SCCM 2007 package number, and the client, in turn, during migration saves data about installed packages. <br>  For client migrations, it is necessary to create and distribute packages for installing SCCM 2012 clients in the SCCM 2007 hierarchy. In addition, it is possible to distribute SCCM 2012 clients in any available way, since client migration is actually impossible in place upgrade. <br><br>  <b>6. Preparing the target system for migration</b> <br>  The target hierarchy should be deployed from top to bottom: the central site should be deployed first, its child sites should be deployed after it, and then the lower level servers and distribution points should be deployed.  If it is impossible to deploy a server from a new hierarchy at some sites, you must take advantage of the opportunity to create a content distribution point on the client system. <br><br>  It is possible to transfer content according to a customized schedule, that is, without loading a channel during business hours, or using the ‚ÄúPrestage Content File‚Äù and transfer it to the site offline.  The ‚ÄúPrestage Content File‚Äù is created at the central site of the hierarchy and contains all the necessary packages. <br><br>  After expanding the hierarchy, it is necessary to perform testing.  Check the replication of data between sites in the hierarchy, check the health of client management points and content distribution points.  Check the ability of clients to connect to each client management point in the hierarchy, the ability to send and receive customer data.  Test the availability of deployments and all data distribution points in the hierarchy. <br><br>  The next step in preparing the target infrastructure should be the ‚ÄúDefault Client Settings‚Äù, ‚ÄúBoundary‚Äù, ‚ÄúBoundary Group‚Äù, ‚ÄúSecurity Scope‚Äù and Administrative Accounts settings.  In addition, you need to create 2 accounts to access the old hierarchy and to access the database of the old hierarchy (you may need to create more accounts if you cannot connect to different sites of the hierarchy and different database servers with the same credentials).  ‚ÄúSecurity Scope‚Äù and ‚ÄúBoundary Group‚Äù are needed to reassign content management rights and specify the location of content in a new hierarchy. <br><br>  At the beginning of the process, in the new system, the SCCM 2007 server addresses and credentials for access to them are specified, starting from the highest to the lowest server, all servers that will be involved in the migration are specified in the hierarchy.  Then a selection is made of which data must be transferred from the old system to the new one. <br>  In fact, the migration is the copying of objects from the source hierarchy to the target one.  Objects are migrated using ‚Äúmigration jobs‚Äù.  Each ‚Äúmigration job‚Äù can migrate any number of SCCM objects.  It is possible to re-migrate SCCM objects if necessary (for example, the object has been changed).  The order of migration of objects is not important.  Migrating the roles or Primary Site of the SCCM servers is not possible (content distribution points and Secondary Site servers can be migrated). <br><br>  To copy objects from the source hierarchy to the target, you need to collect data about the source hierarchy.  The data collection process establishes a relationship between hierarchies.  Data collection occurs by reading information about objects and their dependencies, collections, sites and clients from the database of the target hierarchy. <br><br>  For client migration, you need to use the console of the original hierarchy or other means, since client migration occurs by ‚Äúin place‚Äù client updates.  The mechanisms for installing the agent on the client computer have not changed in SCCM 2012. The update can be triggered by a startup script, group policy, or installed as a package from the server of the original hierarchy.  Before the client is migrated, it is under the control of the original hierarchy. <br><br>  The SCCM 2007 client cannot be controlled by the SCCM 2012 hierarchy and vice versa, the SCCM 2012 client cannot be controlled by the SCCM 2007 hierarchy. In case of incorrectly configured site boundaries in the SCCM hierarchies, clients that received the wrong site code (those site code from the ‚Äúother‚Äù hierarchy) will not be managed until the right site code is assigned to them.  Prior to the migration, all clients are managed by the SCCM 2007 hierarchy; as the clients migrate, they become under the control of SCCM 2012. <br><br>  When the migration of clients and objects is complete, you can start migrating the content distribution points.  It occurs using the target hierarchy server's CAS console (the ‚ÄúMigrate Distribution Point‚Äù task).  When migrating a content distribution point, binary files are updated and file storage is migrated.  To migrate storage, it is necessary that the server has 2-2.5 times more free space than that occupied by all SCCM 2007 packages on this server, since the SCCM package storage is being rebuilt. <br>  Migration of Secondary Site servers is not possible.  Instead, there is an ‚Äúin place‚Äù upgrade of the Secondary Site server only to the content distribution point of the target hierarchy (this is a technical limitation of the system introduced by Microsoft due to changes in package replication mechanisms in the hierarchy and improvements in package replication traffic control mechanisms) while maintaining all packages.           2-2.5       SCCM 2007   ,       SCCM. <br><br>  Primary Site  ,   Primary Site      Primary Site     CAS (   Primary Site )  .  ,  ¬´¬ª Primary Site      SCCM 2012           .     , CAS                       . <br><br>  : <br><br> ReportSync ‚Äì       SCCM 2007   SCCM 2012.     . <br> RegKeytoMof ‚Äì    mof       .     . <br> ExtractContent ‚Äì     ¬´Prestage Content¬ª .     SCCM 2012,    ¬´BIN¬ª  SCCM <br> CMTrace ‚Äì    .     SCCM 2012,    ¬´Tools¬ª  SCCM. <br> Notepad ‚Äì    . <br><br> <b>7.   </b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Migration occurs in stages. You can proceed to the next stage of migration only after the full completion of the previous stage. In case of failure of the target hierarchy, a painless return of the IT infrastructure to the original hierarchy is possible, since migration does not imply any changes that impede the functioning of the initial hierarchy (before the client migration phase). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In the first step of the migration, you must create an SCCM target hierarchy in parallel with the existing hierarchy. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The second stage is the preparation of hierarchies and the collection of information about the original hierarchy. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">At the third stage, the migration of SCCM objects takes place. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The fourth stage is the migration of SCCM clients. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The fifth step is to test the target hierarchy and decommission the source hierarchy.</font></font><br><br> <b>7.1.   SCCM 2012</b> <br> 1.       . <br> 2.       . <br> 3.    . <br> 4.       CAS . <br> 5.  CAS . <br>       ,      SCCM,    (      CAS           ,  ,          TCI\IP),     CAS .    ,         ‚Äì . <br> 6.   CAS :    CAS  ( Monitoring,  ¬´Site Status¬ª  ¬´Component Status¬ª),   . <br> 7.       Primary Site  (  2-4). <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8. Install Primary Site Server. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">During the installation process, you must specify the database server (the account on behalf of which the server is installed must have appropriate permissions to access the database server, in addition, TCI \ IP access must be enabled on the database server), the site code and the server should be specified which will be the parent of this Primary Site server, that is, the CAS server of the new hierarchy. To install the Primary Site server, the same distribution kit is used as for installing the CAS server.</font></font><br> 9.   Primary Site :    Primary Site  ( Monitoring,  ¬´Site Status¬ª  ¬´Component Status¬ª),   ,        CAS  (replmgr.log, rcmctrl.log   Monitoring,  ¬´Site Status¬ª  ¬´Component Status¬ª),          (mpmsi.log, mpsetup.log, smsdpmon.log  Monitoring,  ¬´Site Status¬ª  ¬´Component Status¬ª),           ,      . <br> 10.    Primary site    (  8  9). <br> 11.    SCCM 2012:       ( Monitoring,  ¬´Site Status¬ª  ¬´Component Status¬ª),      ( Monitoring,  ¬´Site Hierarchy¬ª),              . <br> 12.          (  ,  , ¬´push¬ª     ). <br> 13.         ¬´security scopes¬ª. <br><br> <b>7.2.     </b> <br> 1.     .      ,     SCCM 2007.         ,               .  ,         ,        . <br> 2.             .      . <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. After that, you need to connect Primary Site with unique content to the SCCM 2012 hierarchy. Both actions are performed using the SCCM 2012 console (Migration tab, Administration tabs). To do this, select the ‚ÄúSpecify Source Hierarchy‚Äù item and enter the necessary data for the connection. SCCM 2007 hierarchy sites are connected to a central site.</font></font><br> 4.           ¬´Share Distribution Points¬ª ( Migration,  Administration).            .        ,     Secondary Site       .                 (       Primary Site ). <br><br> <b>7.3.   SCCM</b> <br> 1.               .      ¬´Create Migration Job¬ª ( Migration,  Administration).         : ¬´Collection Migration¬ª  ¬´Object Migration¬ª.     ,  ,  ¬´Security Scope¬ª,  ,     .     SCCM.              .        ¬´Collection Migration¬ª. <br>  ¬´Collection Migration¬ª     (       ),      ¬´Object Migration¬ª   (       ).    Primary Site  SCCM  (    Secondary Site  ‚Äì   ).  ,              . <br> 2.          ( 1)      .        :      Reporting  Monitoring,  Migration jobs   Administration,        SCCM     ‚Äì migmctrl.log    logs. <br>       SQL Server Reporting Services.           ,     SQL.         SQL Server Reporting Services,       SCCM    (  SCCM,  ,  ),     SQL  (  SCCM,      ‚ÄúCopy Reports to Reporting Services‚Äù).      SQL Server Reporting Services Report Builder   ReportSync. <br>  ¬´¬ª sms_def.mof       SCCM 2012    WMI               SCCM 2012.  Administration,  Client Settings,           ( ),  ¬´Hardware Inventory¬ª  ¬´Set Classes¬ª.  Import        WMI. <br> 3.              SCCM         SCCM 2012. <br> 4.    ¬´Boundary Group¬ª   ,    ¬´Boundaries¬ª    ¬´Boundary Groups¬ª ( Hierarchy Configuration,  Administration). <br> 5.  ¬´Prestage Content¬ª        (  SCCM).         ¬´Software Library¬ª    ,     ¬´Create Prestage Content File¬ª. <br> 6.  ¬´Prestage Content¬ª          extractcontent   /p. <br><br>  <b>7.4.</b> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Migrating SCCM clients</font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1. Before installing the SCCM 2012 agents, it is recommended to install the SCCM 2012 software necessary for the client to work on the client machines in advance. This step is optional, but desirable because it reduces the installation time of the SCCM 2012 client and the number of installation failures. Prior to client migration, they are serviced by servers in the Source hierarchy. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Since the client's migration, in fact, is the agent reinstallation, it can be done in all the ways that it is possible to install the SCCM agent. Client installation methods have not changed in the new version of SCCM.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Client migration should be carried out in stages (500-1000 clients each) to reduce the load on the network infrastructure and the database server. When migrating, you need to consolidate customers. Clients of the target hierarchy may belong to one of the Primary Site servers. All clients from each Primary Site server migrate from the corresponding Primary Site server of the second level of the hierarchy of the original hierarchy and all its child sites. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To create an agent installation package for a new hierarchy in the source hierarchy, you must copy the contents of the agent installation package from the new hierarchy. The agent must be installed with the key SMSSITECODE = XXX, where XXX is the code of the parent Primary Site of the server for this client. This is necessary for the client to bind to the hierarchy.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If the installation of the SCCM 2012 agent is not made, you need to check the ccmsetup.log log on the client machine for errors. If this log is not detected on the machine, you must repeat the installation of the agent on it, since the initial attempt to install the agent was not made (perhaps the computer was turned off). </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.5. Testing the target hierarchy and decommissioning the source hierarchy</font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1. The content distribution points are migrated after the clients have completed their migration. To migrate content distribution points, use the ‚ÄúUpgrade Distribution Point‚Äù item (Migration tab, Administration tabs).</font></font><br>      (    )     SCCM      SCCM  .        ¬´Prestage Content¬ª . <br>    SCCM 2007      . <br> 2.   Primary Site   SCCM 2007     (Distribution Point, Secondary Site )  .     ¬´Create Site Systems Server¬ª      ¬´Create Secondary Site¬ª  Secondary Site . <br> 3.   :       ,         ,           ,      .          . <br> 4.     . <br><br>  <b>References</b> : <br> <a href="https://technet.microsoft.com/en-us/library/gg712683.aspx">Administrator Checklists for Migration Planning in System Center 2012 Configuration Manager</a> <br> <a href="https://technet.microsoft.com/en-us/library/gg699364.aspx">Introduction to Migration in System Center 2012 Configuration Manager</a> <br> <a href="https://technet.microsoft.com/en-us/library/gg712320.aspx">Install Sites and Create a Hierarchy for Configuration Manager</a> <br> <a href="https://technet.microsoft.com/en-us/library/gg682075.aspx">Planning for Configuration Manager Sites and Hierarchy</a> <br> <a href="https://technet.microsoft.com/en-us/library/gg682077.aspx">Supported Configurations for Configuration Manager</a> <br> <a href="http://www.microsoft.com/en-us/download/details.aspx%3Fid%3D29265">System Center 2012 ‚Äì Configuration Manager Component Add-ons and Extensions (Tools)</a> <br> <a href="https://technet.microsoft.com/en-us/virtuallabs/bb467605.aspx">Migrating from Configuration Manager 2007 to Microsoft System Center 2012 R2 Configuration Manager ()</a> <br> <a href="http://www.vansurksum.com/configmgr-client-automatic-site-assignment-behavior-in-a-multi-site-environment/">ConfigMgr client automatic site assignment behavior in a multi site environment</a> <br> <a href="http://www.windows-noob.com/forums/topic/4926-using-sccm-2012-rc-in-a-lab-part-14-performing-a-side-by-side-migration-from-configuration-manager-2007/">Performing a side-by-side Migration from Configuration Manager 2007 (WindowsNoob)</a> <br> <a href="http://blogs.technet.com/b/neilp/archive/2012/04/20/system-center-2012-configuration-manager-migration-tool-deep-ish-dive-part-1.aspx">System Center 2012 Configuration Manager Migration ‚Äî Deep(ish) Dive Part 1 (troubleshooting)</a> <br> <a href="http://social.technet.microsoft.com/wiki/contents/articles/7075.system-center-2012-configuration-manager-survival-guide.aspx">System Center 2012 Configuration Manager Survival Guide</a> <br><br> <b> :</b> <br> <a href="http://www.css-security.com/blog/sccm-2012-migration-made-easy-part-1/">www.css-security.com/blog/sccm-2012-migration-made-easy-part-1</a> <br> <a href="http://www.css-security.com/blog/sccm-2012-migration-made-easy-part-2/">www.css-security.com/blog/sccm-2012-migration-made-easy-part-2</a> <br> <a href="http://www.css-security.com/blog/sccm-2012-migration-made-easy-part-3/">www.css-security.com/blog/sccm-2012-migration-made-easy-part-3</a> <br> <a href="http://anoopcnair.com/2015/08/20/upgrading-from-sccm-2007-to-sccm-2012-with-adaptiva-onesite/">anoopcnair.com/2015/08/20/upgrading-from-sccm-2007-to-sccm-2012-with-adaptiva-onesite</a> <br> <a href="https://activedirectory.ncsu.edu/services/sccm/">activedirectory.ncsu.edu/services/sccm</a> </div><p>Source: <a href="https://habr.com/ru/post/268449/">https://habr.com/ru/post/268449/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../268439/index.html">Take part in TechDays technology seminars in your city</a></li>
<li><a href="../268441/index.html">We invite to Media Hack Weekend. October 16-18, Kiev</a></li>
<li><a href="../268443/index.html">Conference SGTech Europe 2015: a look from Russia</a></li>
<li><a href="../268445/index.html">Simple motion recognition algorithm</a></li>
<li><a href="../268447/index.html">Where do data centers live? Rating of countries by number of data centers</a></li>
<li><a href="../268451/index.html">Unwanted Android AdDisplay software specializes in circumventing Google Bouncer checks</a></li>
<li><a href="../268453/index.html">Basic information security certificates for IT professionals and enterprises</a></li>
<li><a href="../268455/index.html">Trends of the global e-commerce market in 2015-2016</a></li>
<li><a href="../268459/index.html">NGINX - Acceleration or Detective for the programmer "Optimization for Windows"</a></li>
<li><a href="../268461/index.html">Checklist: How to load pages faster</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>