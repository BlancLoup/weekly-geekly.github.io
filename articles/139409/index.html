<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Headphone amplifier, a little more complicated</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I recently upgraded the computer to the LGA2011 , on the box of a relatively expensive motherboard was the inscription ‚Äúsuper duper sound, 110 dB all ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Headphone amplifier, a little more complicated</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/geektimes/post_images/7cd/e09/bbc/7cde09bbc716fb3eba51ef7af2373b4d.jpg" align="right">  <a href="http://3.14.by/forum/viewtopic.php%3Ff%3D7%26t%3D1402">I recently upgraded the computer to the LGA2011</a> , on the box of a relatively expensive motherboard was the inscription ‚Äúsuper duper sound, 110 dB all garbage‚Äù.  I thought well, good sound never hurts.  The next 2 days I frantically drove the iron, and everything was fine.  And then he returned to normal work, and of course, to working music.  Quiet.  Not.  QUIET!  100% loudness was barely enough for comfortable volume with my usual 32 ohm headphones ( <a href="http://www.sennheiser.ru/cat/sennheiser/head/headphones/wired/wired_33.html">Sennheiser HD 448</a> , which are not very sensitive), and if the recording was made with a low signal level, then at least pull out the hair. <br><br>  From despair, I started even to listen through the <a href="http://www.dealextreme.com/p/bluetooth-2-0-a2dp-avrcp-stereo-music-receiver-and-handsfree-black-8422">bluetooth A2DP adapter</a> , but of course the quality and the batteries (~ 6 hours) drove into sadness ... <br><br>  It became clear that it was no longer possible to live like this ... <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      But back down 3 months ago: I bought the parts for my MP3 player in <a href="http://www.terraelectronica.ru/">terraelectronica</a> , which was supposed to finally replace my iPod, and went through the list of audio chips (sorting by availability and price) at the beginning of the MAX9724 list at a phenomenal price of 7.78 rubles.  Although it was a specialized headphone amplifier, I didn‚Äôt need it for that project - the purchased audio codec already gave the signal for the level needed by the headphones.  Well, I decided, I will buy in reserve stuff 5, you never know where it is useful, especially with such a price ... <br><br>  Our days: <br><br><h4>  So, our Design goals for the amplifier </h4><br>  1. Everything should be collected from what is there to solve the problem ‚Äútoday‚Äù (super-expensive opamps disappear) <br>  2. Powered strictly by USB, no non-standard power supplies and the more batteries <br>  3. Quality should be better than what a person can hear. <br>  4. As a consequence of clause 3, capacitors in the path of the audio signal are a problem (albeit solvable).  Film capacitors are expensive and rare, and with electrolytes it is always difficult here. <br>  5. The lack of a potentiometer volume control - they are noisy (with rotation / just from old age) and generally unreliable. <br><br><h4>  Existing designs: </h4><br>  1. For example, the recent article <a href="http://habrahabr.ru/blogs/DIY/136768/">Headphone amplifier is simple and fast</a> - the article tactfully omitted the power supply question :-) Also, after reading the relevant articles, it is clear that it is not easy to build normal amplifiers on operational amplifiers - many nuances (like self-excitation, bias 0, input current and input impedance limits).  Well, in general - operational amplifiers require bipolar power supply, from USB to do it - you need another chip and debugging. <br><br>  2. <a href="http://habrahabr.ru/blogs/DIY/138962/">USB-DACs</a> also disappear due to availability and, in general, I like the ‚Äúiron‚Äù sound card more. <br><br>  3. <a href="http://habrahabr.ru/blogs/gadgets/109816/">Ready-made portable amplifiers</a> - in addition to waiting, you need to believe that they did not save on anything inside.  By the way, the chip inside this FiiO E3 is a functional analogue of what I have, the difference is that the MAX9724 can work from 5V, and the LM4917 - 3.3V maximum (which also limits the applicability for 300-ohm headphones). <br><br><h4>  Decision </h4><br>  Obviously, I pulled out my MAX9724 - it contains a bipolar voltage generator (makes -5V out of 5V) and 2 operational amplifiers, sharpened for sound amplification.  By quality - THD + N distortions according to the typical inclusion scheme in my conditions are about 0.04% (not everyone will hear distortions even at 0.5%).  The circuit does not require the presence of capacitors at the output, since  the signal is amplified immediately "relative to the ground" - which dramatically reduces the number of possible places of loss of quality. <br><br>  This level of distortion (0.04%) can be further reduced - in the typical scheme 2 capacitors of a negative voltage generator with a nominal value of 1 microfarad, and according to the schedule, when the capacitance increases to 2.2 microfarads, there is a significant reduction in distortion.  I put about 20 microfarads of ceramic capacitors in all 3 places (voltage generator + power), and I think I can count on the parameters better than in a typical circuit <img src="http://c.14.by"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/34a/af7/b05/34aaf7b0570358df550744df1df5eb03.png"><br>  The scheme is simple as boots.  It is worth paying attention only to the resistors, they set the gain, in this case 2 (20kOhm / 10kOhm).  If you have headphones for 150-300 ohms, you can put 40kom instead of 20, then the maximum signal amplitude at the output of the amplifier will be 8V, which should be enough with a margin.  Also on the diagram in the datasheet are the input capacitors - I removed them, because  From my sound card, the signal is already on relatively zero, and cutting off the extra bottoms / making distortions with capacitors is no good to me.  As a result, the amplifier amplifies signals from 0Hz (but of course the sound card has its limitations). <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/d78/a76/ab8/d78a76ab880fb626c12f1f5241a762c6.png"><br>  One-way wiring is trivial, you should pay attention only to 2 jumpers, as well as the fact that USB and audio connectors are on the ‚Äúreverse‚Äù side of the board. <br><br><h4>  We collect </h4><br><img src="https://habrastorage.org/getpro/geektimes/post_images/325/272/c90/325272c906982db044a4890ba728a422.jpg"><br>  The chip, although it looks hardcore, is easily soldered with the help of surface tension magic (all smeared with LTI-120 liquid flux, and the solder itself climbs onto the legs only).  Capacitors are here from a broken computer hardware - of course you can't put them in the audio section, but everything is ok for power.  In each of the three places - a small group of large ones (4.7-10 ŒºF), and 1 small (0.1 ŒºF) - so that their resonant frequencies do not coincide. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/37e/dc6/cbe/37edc6cbe4cdd07bfbbe821398da59a9.jpg"><br>  The scheme was very compact.  The capacitor in the center is connected to 5V power from USB.  When connected to a computer port of 1000 microfarad, of course, the standard allows only 10 microfarads, but usually everything works. <br><br>  <a href="">We download archive with the project for Eagle and the necessary libraries</a> . <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/8a1/b5c/ac3/8a1b5cac307978fd5c8d4d6e095f4f26.jpg"><br>  High-tech body of electrical tape.  Initially, the board made a shrink tube - but literally a millimeter was not enough, it did not fit.  Well, nevertheless, I like it. <img src="http://c.14.by"><br><br><h4>  Issue price </h4><br>  A piece of one-sided PCB: 2 rubles <br>  MAX9724 - 7.78 rubles <br>  4 resistors - 0.07 * 4 = 0.28 rubles <br>  Capacitors - 0 (even if you buy, ~ 30 rubles max.) <br>  Connectors - 0 (if you buy, ~ 20-30 rubles) <br>  Electrical tape for high-tech body - 1 ruble <br><br>  Total is exactly 11.06 rubles for me, and about 61.06 rubles if you buy everything :-) <br><br><h4>  results </h4><br>  Of course, I immediately stumbled upon a well-known problem: when working with audio, you cannot connect to one earth in two places (the ground of USB and the ground of the sound connector).  In this case, interference will pass through the ground, which cannot be filtered out, and no power stabilizer will help here.  (the problem is that USB has its own ground level, sound has its own, and our board has its own. Depending on the current consumed, the earth rises everywhere in different ways and this gives an unavoidable interference). <br><br>  You can solve this problem by either getting rid of the audio connection (USB DAC) or power (battery or other power supply).  Using a power supply with USB output completely suits me due to the fact that they are everywhere and standard. <br><br>  The end result is above all expectations.  No complaints about the quality, absolute 0 noise, comfortable volume level - from 22 to 40%, and a margin for ‚Äúpulling out‚Äù silent recordings.  The sound is smarter (the main thing to remember is that the bass is from 0Hz here) and all that, and in general - hand-made audio devices always sound especially good :-) <br><br>  From ready-made Chinese devices (like the FiiO E3), a lower price (sic!), An assembly with spare parts, no capacitors in the audio path, more power when working with high-impedance headphones (300 Ohms) due to higher supply voltage and the sound quality in theory promises to be higher (in practice, I probably would not have heard the difference). <br><br>  <b>Ps.</b>  As I mentioned above - the amplifier is not needed in order to spoil your hearing with ultra-high volume (not to mention the torn headphones <img src="http://c.14.by">  ), and for the buildup of "heavy" headphones with low sensitivity, if the output of the sound card is too dead.  Well, quiet recordings / movies to pull out without software ... <br><br>  <b>PS2.</b>  The gap between the benefits of "added to favorites" is 4 times, the record :-) </div><p>Source: <a href="https://habr.com/ru/post/139409/">https://habr.com/ru/post/139409/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../139396/index.html">Review of fresh materials, January-February 2012</a></li>
<li><a href="../139397/index.html">How to adapt the service for mobile platforms</a></li>
<li><a href="../139398/index.html">Enyo framework updated to Enyo 2.0b2</a></li>
<li><a href="../139399/index.html">Egor, stop hacking Github!</a></li>
<li><a href="../139407/index.html">Lightpack 6. Review backlight for the monitor</a></li>
<li><a href="../139410/index.html">MS Windows Server 2003, failover cluster</a></li>
<li><a href="../139411/index.html">Notes Asterisker. Corporate - a holy thing ...</a></li>
<li><a href="../139412/index.html">Samsung AllShare and Linux</a></li>
<li><a href="../139415/index.html">CircuitLab: create schemes in the browser</a></li>
<li><a href="../139416/index.html">Droider Show # 30. Means war!</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>