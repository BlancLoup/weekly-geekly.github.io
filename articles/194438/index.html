<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>WiFi Kettle, or how an idea turns into a serial device</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I think it makes no sense to introduce myself, as many here know me, both as the author of various articles , and as the creator of Box Overview . I d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>WiFi Kettle, or how an idea turns into a serial device</h1><div class="post__text post__text-html js-mediator-article">  I think it makes no sense to introduce myself, as many here know me, both <a href="http://habrahabr.ru/post/160793/">as the</a> <a href="http://habrahabr.ru/company/boxowerview/blog/179577/">author of</a> <a href="http://habrahabr.ru/post/150661/">various</a> <a href="http://habrahabr.ru/post/157947/">articles</a> , and as the creator of <a href="http://habrahabr.ru/company/boxowerview/profile/">Box Overview</a> .  I did not write for a long time, because I was busy with one interesting project. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4e0/fd4/e30/4e0fd4e30709e842eaadf5e38bef3a29.jpg"><br><br>  Yes, that very article ( <a href="http://habrahabr.ru/post/192980/">Smart kettle for smart home</a> ) is about us.  I did not plan that they would write about our project so quickly, but it became clear that there was interest in it, and it was worthwhile to write more about it. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      It all started here with <a href="http://habrahabr.ru/post/149289/">this</a> article of mine, written literally in a couple of hours, in which I showed how using the board on MSP430 and the <a href="http://7del.net/reviews/minix.html">Chinese box</a> with android you can remotely turn the load on and off via a browser.  He also suggested that you can turn on the kettle in this way, when you are too lazy to go to another room. <br><a name="habracut"></a><br>  Eight months after its publication, a man called me who offered to organize the production and development of the very device I was talking about - a teapot controlled via WiFi.  I could not refuse. <br>  After that, there was half a year of interesting work - finding a place for an office-laboratory, moving from Vladivostok to Moscow, arranging, searching for people, discussing, developing, testing, assembling, checking and many other things that I don‚Äôt even remember. <br>  However, now I can not say that the work is finished - everything is just beginning. <br><br><h4>  How did we make the kettle </h4> <br>  In general, of course, I <b>know</b> how to ideally develop a new device.  The customer writes what he needs, according to this list TK is written, components are selected, documentation is prepared, and everything is given to production.  But this is the ideal. <br>  But the reality is that, besides, actually, the idea itself, we had nothing at all.  The idea, in fact, was to "make a kettle that can be controlled from the phone," but there were no details. <br>  Is it enough just to turn it on from the phone, but should it shut itself down? <br>  Do I need a temperature setting?  And the water level?  And maintenance? <br>  What sensor to change the temperature?  How to measure the amount of water?  Float?  Resistive?  Scales? <br>  What are the "chips" in the kettle?  What can attract the user? <br>  Do I need a server, or enough direct control within the network? <br><br>  In short, to work through all these points, it was decided to make a working kettle, based on some kind of serial.  So you need a developer.  It did not take long to search.  As befits a real hipster, we were looking for a developer on Twitter! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b3e/f3c/2be/b3ef3c2be943e2ba3d3d25000ebd6466.png"><br><br>  And they found a person who agreed to take up production - Sergey Zorin (@zorins), the first <a href="http://zorins.livejournal.com/">director-topblogger</a> , or more famous in Habr√© for posts about the Russian smartphone: <a href="http://habrahabr.ru/post/175683/">The first real Russian smartphone?</a>  and <a href="http://habrahabr.ru/post/175793/">Russian smartphone - strange answers from the developers</a> <br><br>  Long thought over the design: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c0c/59d/380/c0c59d38016f440a341ce39e29e96256.jpg"><br><br>  But finally decided.  On the left - the weight and size mockup of our design teapot from special model clay.  Here Sergey just talked about the process of working on such a layout.  By the way, in his post just on the photos is exactly the layout that stands in the center: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/72e/dee/e39/72edeee39575d2c0461184736741b8a1.jpg"><br>  And on the right is our working prototype. <br><br>  We made a prototype very simply - we developed electronics: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/34e/0d6/5f2/34e0d65f24a2401fa94042100558134e.jpg" alt="image"><br><br>  Bought a serial kettle, made their fees to the size of the seats: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b06/7c9/695/b067c9695af4ec192bf8cc44958d4896.jpg"><br><br>  And put them in the kettle: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/352/72c/a19/35272ca196f0f413232ca64346ba92ec.jpg"><br><br>  For a long time we went through different variants of the water quantity sensor.  For example, resistive: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c2f/62b/cc1/c2f62bcc17619a4eefd60cae666fd2de.jpg"><br><br>  Simply contact pads on the board, which are connected through the megaohm resistance to the power supply.  Water, closing the next pad with the ground drops the level to zero, and the controller monitors it.  It did not work out - after a dozen boils, the water, due to the passing current, began to corrode the pads.  Yes, and the solder mask could not stand such a mockery.  This, of course, could be corrected - by getting rid of the mask in general, by covering the pads with immersion gold, and by changing the firmware, so that the constant measurement could be changed to impulse.  But the real problem was scum - settling on the sensor, she played the role of a sponge, on which the water joyfully climbed a couple of steps above the real water level. <br><br>  We tried a capacitive sensor in the form of two glass test tubes with silver coating inside: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/967/995/759/967995759c7c4e1fbdf521f1aec7bed8.jpg"><br><br>  Did not work out.  The glass turned out to be too good a dielectric, and the presence of water between the test tubes had very little effect on the readings, the resolution turned out to be low even for 10% of the steps. <br><br>  In the end, they found a solution - a capacitive sensor on the boards, but filled in food grade silicone.  It is applied with liquid, can withstand temperatures up to 150 degrees, is approved for use near food products.  We take two boards, connect them with racks, and dip them in liquid silicone.  Suspend, part of the silicone drains, and the board remains frozen film: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/be1/18c/1d9/be118c1d9df00ddb8b23df35dbe710f0.jpg"><br><br>  Fix it inside the cover and seal it with the same silicone: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/739/db4/634/739db46346a03aa7072614376d0687a0.jpg"><br><br>  But this is all a collective farm, of course, and the mass production is not oriented at all from the word - just to get the idea to test and work out the interaction with the program.  The series will most likely be a solution for measuring the water level based on strain gauges. <br><br>  In parallel, we were engaged in the design of programs for Android, and I wrote heroically (or rather, drew) in <a href="http://beta.appinventor.mit.edu/">AppInvertor</a> .  As a result, the program now looks like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c2e/ae9/5f2/c2eae95f2f41f8f75bfe411f31cbdb85.jpg"><br><br>  And its code (hehe), like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/05f/7ca/f8e/05f7caf8e7bc1836ee7254837aa2569f.png"><br><br>  In fact, of course, before mass production - as before the moon.  Yes, and there is something to tell us, from a study on the topic ‚Äúwhy teapots make noise,‚Äù to a description of the preparation of production and work with the Chinese. <br>  Ahead is still the organization of production, the publication of our project on KickStarter-e, work on the protocol of communication with the server, the creation of a full-fledged application for Android and much more. <br><br>  By the way, if you do not want to miss the epic with a kettle or want to see all the new posts of our company, you can subscribe to <img src="https://habrastorage.org/getpro/habr/post_images/ce4/0f1/d16/ce40f1d1668436a03738295da0147749.png" alt="image">  <a href="http://habrahabr.ru/company/avi/">on the company‚Äôs page</a> (‚Äúsubscribe‚Äù button). <br><a name="people"></a><br><br>  By the way, we need people.  Many people.  We need: <br>  1) Electronics engineers - both programmers and circuitry - in the idea of ‚Äã‚Äãat least another 2-3 devices that need to be thought out, assembled, debugged and prepared for production. <br>  2) PR who are able to think through, plan and organize an advertising campaign on the Internet and / or in real life. <br>  3) System programmers who can write server applications <br>  4) Mobile developers able to develop under Andoid and / or iOS. <br>  5) Managers who can organize communication between all these people and other companies. <br><br>  If you are able to do something from this list, and want to work on a project in the field of SmartHouse - write me an e-mail vvzvlad@gmail.com </div><p>Source: <a href="https://habr.com/ru/post/194438/">https://habr.com/ru/post/194438/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../194426/index.html">Unity gets closer - report on what's happening</a></li>
<li><a href="../194430/index.html">Linus Torvalds asked to insert a backdoor into the kernel</a></li>
<li><a href="../194432/index.html">External 3D / IR sensor for mobile devices collected $ 500k in 2 days</a></li>
<li><a href="../194434/index.html">You do not need Hadoop - you simply do not have so much data</a></li>
<li><a href="../194436/index.html">Interview with Eben Upton, the creator of Raspberry Pi</a></li>
<li><a href="../194440/index.html">vrAse: turn your smartphone into glasses for virtual reality</a></li>
<li><a href="../194446/index.html">3D printing in high energy physics</a></li>
<li><a href="../194448/index.html">Questions to Carlos Olguin about his work in the field of 3d-bioprinting, substance programming, 4d design and not only</a></li>
<li><a href="../194450/index.html">Officially announced the specifications of the first smartphone on Sailfish OS</a></li>
<li><a href="../194452/index.html">X Series Games on Sale Humble Weekly Sale</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>