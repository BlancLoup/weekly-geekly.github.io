<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Independent testing of various AntiSpam solutions (commercial and free products)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The purpose of this test was to evaluate the effectiveness of various anti-spam systems. The following products were selected for testing: 
 ‚Ä¢ Apache ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Independent testing of various AntiSpam solutions (commercial and free products)</h1><div class="post__text post__text-html js-mediator-article">  The purpose of this test was to evaluate the effectiveness of various anti-spam systems.  The following products were selected for testing: <br>  ‚Ä¢ Apache Spamassassin - SA (free) <br>  ‚Ä¢ Yandex Spamooborona 2.3 - SO (commercial) <br>  ‚Ä¢ Kaspersky Antispam 3.0 - KAS (commercial) <br>  ‚Ä¢ FastBL 0.7.0 (free) <br>  ‚Ä¢ dnsbl listings: <br>  <b>bl.spamcop.net</b> <b><br></b>  <b>cbl.abuseat.org</b> <b><br></b>  <b>dnsbl.sorbs.net</b> <b><br></b>  <b>dul.nsbl.sorbs.net</b> <b><br></b>  <b>dul.ru</b> <b><br></b>  <b>sbl-xbl.spamhaus.org</b> <b><br></b>  <b>zen.spamhaus.org</b> <br><a name="habracut"></a><br><br>  DNSBL listings were chosen for popularity of use. <br>  A separate server (P4 3.0GHz HT / 1GB RAM / FreeBSD 7.2-PRERELEASE) was allocated for each product, on which mail correspondence was tested.  As MTA, sendmail compiled with milter support was used to connect the SA, SO, KAS services.  To test commercial products, temporary licenses obtained from the developers site were used. <br><br>  Mail traffic was used incoming for two domains, registered in 2002 and 2003.  The total daily traffic for these domains ranges from 5 to 12 thousand letters, which is an ample amount of mail for testing.  These domains are mainly used for personal correspondence, subscription to mailing lists and have about 10 real mail recipients available.  Personal traffic on these domains ranges from 10 to 40 emails per day, which allows us to evaluate the effectiveness of the products tested, as well as the False Negative coefficient for each of the systems.  Unfortunately, because of the small personal traffic, it was not possible to estimate the False Positive coefficient, but this is not a problem, since the systems under test use standard methods for evaluating spam and the probability of normal email getting into spam is very small. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The server connectivity for analysis was as follows: <br><img src="https://habrastorage.org/getpro/habr/post_images/689/f9e/e0f/689f9ee0f8b92814045b06563baed2fa.png"><br><br>  The main relay accepted all incoming connections and performed their initial analysis by querying DNSBL lists, verifying the compliance of the RFC session (FastBL), then redirecting the letters further to the servers with the tested products.  At once I will say that the requests in the DNSBL zone were only for receiving information about the IP address, but the address was not blocked.  Testing was carried out without additional ‚Äútuning‚Äù of products in the form of overstatement of estimated coefficients, i.e.  "As is". <br><br>  Due to the fact that the systems under test have different methods for testing letters, the products were updated according to the following scheme: <br>  "Apache Spamassassin" - sa-update once a day <br>  "Kaspersky Antispam" - every 3 minutes <br>  Yandex Spamooborona - every 20 minutes <br><br>  The specified time intervals are due to the possible frequency of new updates and recommendations of the developers. <br><br>  Each of the products has its own characteristics of testing email content: <br>  Kaspersky Anti-Spam uses offline testing, regularly updating its local databases, plus the ability to connect dnsbl sheets. <br>  Yandex Spam Defense uses online-testing technology, constantly working with its central server, as well as updating its local databases as needed, while also having the ability to connect dnsbl sheets. <br>  Apache Spamassassin uses offline data processing, as well as online services of DNSBL, Razor, Pyzor, DKIM, SPF lists. <br><br>  SA and KAS use fork () to process each letter, and SO, in turn, uses Threads, which is much more economical in terms of memory consumption.  At the same time, SA uses preforked processes, limiting the likelihood of memory overruns, and KAS forks as needed, without exceeding the level of filtering processes above the limit specified in the configuration file. <br>  Approximate memory consumption for each process: <br>  SA ~ 40 MB <br>  KAS ~ 30 MB <br>  SO ~ 90 MB <br><br>  Below are the results table with comments. <br>  Abbreviations used in the tables: <br>  PS - Passed (number of missed letters) <br>  BL - Blocked (the number of blocked letters defined as SPAM) <br>  FN - FalseNegative (The number of emails identified as good but being spam) <br>  FP - FalsePositive (The number of letters defined as SPAM, but not such). <br><table><tbody><tr><td>  Date: 04/02/2009.  Count: 10291 </td><td>  PS </td><td>  BL </td><td>  Fn </td><td>  FP </td></tr><tr><td>  <b>Spamooborona</b> </td><td>  56 </td><td>  10235 </td><td>  42 </td><td>  0 </td></tr><tr><td>  <b>SpamAssassin</b> </td><td>  887 </td><td>  9406 </td><td>  873 </td><td>  0 </td></tr><tr><td>  <b>Kaspersky Antispam</b> </td><td>  277 </td><td>  10014 </td><td>  264 </td><td>  one </td></tr><tr><td>  <b>bl.spamcop.net</b> </td><td>  5107 </td><td>  5184 </td><td>  5093 </td><td>  0 </td></tr><tr><td>  <b>cbl.abuseat.org</b> </td><td>  2353 </td><td>  7938 </td><td>  2339 </td><td>  0 </td></tr><tr><td>  <b>dnsbl.sorbs.net</b> </td><td>  5732 </td><td>  4559 </td><td>  5718 </td><td>  0 </td></tr><tr><td>  <b>dul.nsbl.sorbs.net</b> </td><td>  7773 </td><td>  2518 </td><td>  7759 </td><td>  0 </td></tr><tr><td>  <b>dul.ru</b> </td><td>  10255 </td><td>  36 </td><td>  10241 </td><td>  0 </td></tr><tr><td>  <b>Fastbl</b> </td><td>  89 </td><td>  10202 </td><td>  75 </td><td>  0 </td></tr><tr><td>  <b>sbl-xbl.spamhaus.org</b> </td><td>  2336 </td><td>  7955 </td><td>  2322 </td><td>  0 </td></tr><tr><td>  <b>zen.spamhaus.org</b> </td><td>  395 </td><td>  9896 </td><td>  381 </td><td>  0 </td></tr></tbody></table><br>  The first day of testing began with a strange breakdown of the anti-spam protection of the Kaspersky Antispam product, and therefore KAS missed more letters than expected.  The same day showed the weakness of the separate work of dnsbl lists and SpamAssassin against Russian spam.  When testing, I specifically sent 4 letters with quoting of one of the spam emails with word mixing to the test server.  Kaspersky in connection with contextual content analysis sent a valid letter signed by DKIM from gmail.com to SPAM.  On the one hand, the content of the letter was indeed spam, but, in turn, the letter was rated [SPAM] instead of [Possible Spam].  Taking into account that this letter could be forwarded to the system administrator to analyze the contents of the headers, KAS received 1 FP. <br><table><tbody><tr><td>  Date: 04/03/2009  Count: 6357 </td><td>  PS </td><td>  BL </td><td>  Fn </td><td>  FP </td></tr><tr><td>  <b>Spamooborona</b> </td><td>  61 </td><td>  6296 </td><td>  31 </td><td>  0 </td></tr><tr><td>  <b>SpamAssassin</b> </td><td>  780 </td><td>  5579 </td><td>  750 </td><td>  0 </td></tr><tr><td>  <b>Kaspersky Antispam</b> </td><td>  65 </td><td>  6292 </td><td>  35 </td><td>  0 </td></tr><tr><td>  <b>bl.spamcop.net</b> </td><td>  3455 </td><td>  2902 </td><td>  3425 </td><td>  0 </td></tr><tr><td>  <b>cbl.abuseat.org</b> </td><td>  1571 </td><td>  4786 </td><td>  1541 </td><td>  0 </td></tr><tr><td>  <b>dnsbl.sorbs.net</b> </td><td>  3759 </td><td>  2598 </td><td>  3729 </td><td>  0 </td></tr><tr><td>  <b>dul.nsbl.sorbs.net</b> </td><td>  4801 </td><td>  1556 </td><td>  4771 </td><td>  0 </td></tr><tr><td>  <b>dul.ru</b> </td><td>  6331 </td><td>  26 </td><td>  6301 </td><td>  0 </td></tr><tr><td>  <b>Fastbl</b> </td><td>  77 </td><td>  6280 </td><td>  47 </td><td>  0 </td></tr><tr><td>  <b>sbl-xbl.spamhaus.org</b> </td><td>  1557 </td><td>  4800 </td><td>  1527 </td><td>  0 </td></tr><tr><td>  <b>zen.spamhaus.org</b> </td><td>  325 </td><td>  6032 </td><td>  295 </td><td>  0 </td></tr></tbody></table><br>  On the second day of testing, Spamooborona and Kaspersky Antispam leveled their positions. <br><table><tbody><tr><td>  Date: 04/05/2009.  Count: 7025 </td><td>  PS </td><td>  BL </td><td>  Fn </td><td>  FP </td></tr><tr><td>  <b>Spamooborona</b> </td><td>  59 </td><td>  6966 </td><td>  39 </td><td>  0 </td></tr><tr><td>  <b>SpamAssassin</b> </td><td>  1291 </td><td>  5739 </td><td>  1271 </td><td>  0 </td></tr><tr><td>  <b>Kaspersky Antispam</b> </td><td>  29 </td><td>  6996 </td><td>  9 </td><td>  0 </td></tr><tr><td>  <b>bl.spamcop.net</b> </td><td>  4170 </td><td>  2855 </td><td>  4150 </td><td>  0 </td></tr><tr><td>  <b>cbl.abuseat.org</b> </td><td>  2031 </td><td>  4994 </td><td>  2011 </td><td>  0 </td></tr><tr><td>  <b>dnsbl.sorbs.net</b> </td><td>  4424 </td><td>  2601 </td><td>  4404 </td><td>  0 </td></tr><tr><td>  <b>dul.nsbl.sorbs.net</b> </td><td>  5180 </td><td>  1845 </td><td>  5160 </td><td>  0 </td></tr><tr><td>  <b>dul.ru</b> </td><td>  6986 </td><td>  39 </td><td>  6966 </td><td>  0 </td></tr><tr><td>  <b>Fastbl</b> </td><td>  42 </td><td>  6983 </td><td>  22 </td><td>  0 </td></tr><tr><td>  <b>sbl-xbl.spamhaus.org</b> </td><td>  2018 </td><td>  5007 </td><td>  1998 </td><td>  0 </td></tr><tr><td>  <b>zen.spamhaus.org</b> </td><td>  368 </td><td>  6657 </td><td>  348 </td><td>  0 </td></tr></tbody></table><br>  On the third and fourth day of testing (weekends), Spamooborona‚Äôs protection was worn out a little because of a sharp surge in single messages.  Since the data on the constituent components of letters from Yandex Spamooborona are processed online, it is likely that there will be misses of messages that have not had frequent repetitions.  Kaspersky Antispam, in turn, showed the advantages of its offline rating system. <br><br><table><tbody><tr><td>  Date: 04/06/2009.  Count: 9963 </td><td>  PS </td><td>  BL </td><td>  Fn </td><td>  FP </td></tr><tr><td>  <b>Spamooborona</b> </td><td>  53 </td><td>  9906 </td><td>  33 </td><td>  0 </td></tr><tr><td>  <b>SpamAssassin</b> </td><td>  1506 </td><td>  8459 </td><td>  1486 </td><td>  0 </td></tr><tr><td>  <b>Kaspersky Antispam</b> </td><td>  125 </td><td>  9837 </td><td>  105 </td><td>  0 </td></tr><tr><td>  <b>bl.spamcop.net</b> </td><td>  7042 </td><td>  2921 </td><td>  7022 </td><td>  0 </td></tr><tr><td>  <b>cbl.abuseat.org</b> </td><td>  2562 </td><td>  7401 </td><td>  2542 </td><td>  0 </td></tr><tr><td>  <b>dnsbl.sorbs.net</b> </td><td>  6420 </td><td>  3543 </td><td>  6400 </td><td>  0 </td></tr><tr><td>  <b>dul.nsbl.sorbs.net</b> </td><td>  7561 </td><td>  2402 </td><td>  7541 </td><td>  0 </td></tr><tr><td>  <b>dul.ru</b> </td><td>  9907 </td><td>  56 </td><td>  9887 </td><td>  0 </td></tr><tr><td>  <b>Fastbl</b> </td><td>  68 </td><td>  9895 </td><td>  48 </td><td>  0 </td></tr><tr><td>  <b>sbl-xbl.spamhaus.org</b> </td><td>  2549 </td><td>  7414 </td><td>  2529 </td><td>  0 </td></tr><tr><td>  <b>zen.spamhaus.org</b> </td><td>  308 </td><td>  9655 </td><td>  288 </td><td>  0 </td></tr></tbody></table><br>  On the fifth day, there were no special surprises, except for an increase in the number of breakouts in Kaspersky Antispam. <br><table><tbody><tr><td>  Date: 04/07/2009.  Count: 10923 </td><td>  PS </td><td>  BL </td><td>  Fn </td><td>  FP </td></tr><tr><td>  <b>Spamooborona</b> </td><td>  88 </td><td>  10832 </td><td>  48 </td><td>  one </td></tr><tr><td>  <b>SpamAssassin</b> </td><td>  1418 </td><td>  9503 </td><td>  1377 </td><td>  0 </td></tr><tr><td>  <b>Kaspersky Antispam</b> </td><td>  190 </td><td>  10727 </td><td>  149 </td><td>  0 </td></tr><tr><td>  <b>bl.spamcop.net</b> </td><td>  6405 </td><td>  4518 </td><td>  6364 </td><td>  0 </td></tr><tr><td>  <b>cbl.abuseat.org</b> </td><td>  2651 </td><td>  8272 </td><td>  2610 </td><td>  0 </td></tr><tr><td>  <b>dnsbl.sorbs.net</b> </td><td>  6478 </td><td>  4445 </td><td>  6437 </td><td>  0 </td></tr><tr><td>  <b>dul.nsbl.sorbs.net</b> </td><td>  8237 </td><td>  2686 </td><td>  8196 </td><td>  0 </td></tr><tr><td>  <b>dul.ru</b> </td><td>  10877 </td><td>  46 </td><td>  10836 </td><td>  0 </td></tr><tr><td>  <b>Fastbl</b> </td><td>  103 </td><td>  10820 </td><td>  62 </td><td>  0 </td></tr><tr><td>  <b>sbl-xbl.spamhaus.org</b> </td><td>  2633 </td><td>  8290 </td><td>  2592 </td><td>  0 </td></tr><tr><td>  <b>zen.spamhaus.org</b> </td><td>  293 </td><td>  10630 </td><td>  252 </td><td>  0 </td></tr></tbody></table><br>  On the sixth day, Spamooborona grabbed FP, blocking a valid newsletter with subscribe.newsland.ru.  On all days of testing, quite a large number of NDRs came with reports about non-delivery of spam messages, but all NDRs were filtered by products like SPAM and did not deal with this.  Although this is not true. <br><table><tbody><tr><td>  Total.  Count: 44552 </td><td>  PS </td><td>  BL </td><td>  Fn </td><td>  FP </td></tr><tr><td>  <b>Spamooborona</b> </td><td>  317 </td><td>  44235 </td><td>  193 </td><td>  one </td></tr><tr><td>  <b>SpamAssassin</b> </td><td>  5882 </td><td>  38686 </td><td>  5757 </td><td>  0 </td></tr><tr><td>  <b>Kaspersky Antispam</b> </td><td>  686 </td><td>  43866 </td><td>  562 </td><td>  one </td></tr><tr><td>  <b>bl.spamcop.net</b> </td><td>  26178 </td><td>  18374 </td><td>  26053 </td><td>  0 </td></tr><tr><td>  <b>cbl.abuseat.org</b> </td><td>  11168 </td><td>  33384 </td><td>  11043 </td><td>  0 </td></tr><tr><td>  <b>dnsbl.sorbs.net</b> </td><td>  26812 </td><td>  17740 </td><td>  26687 </td><td>  0 </td></tr><tr><td>  <b>dul.nsbl.sorbs.net</b> </td><td>  33551 </td><td>  11001 </td><td>  33426 </td><td>  0 </td></tr><tr><td>  <b>dul.ru</b> </td><td>  44353 </td><td>  199 </td><td>  44228 </td><td>  0 </td></tr><tr><td>  <b>Fastbl</b> </td><td>  379 </td><td>  44173 </td><td>  254 </td><td>  0 </td></tr><tr><td>  <b>sbl-xbl.spamhaus.org</b> </td><td>  11093 </td><td>  33459 </td><td>  10968 </td><td>  0 </td></tr><tr><td>  <b>zen.spamhaus.org</b> </td><td>  1689 </td><td>  42863 </td><td>  1564 </td><td>  0 </td></tr></tbody></table><br>  At the end of all tests, 125 absolutely valid letters were allocated from the total volume of letters (44552 letters), on the basis of which the parameters FalseNegative and FalsePositive were calculated.  If we exclude the first day of testing, then we see how commercial products go hand in hand when analyzing spam.  Spamassassin is still designed for the analysis of foreign spam and often misses letters due to the lack of content normalization.  Commercial products lead letters to a particular type.  For example, the method used by spammers to insert extra characters in words like: ‚ÄúPAA, S.Y., L = KI,‚Äù and also replacing Russian letters with similar English letters is completely ineffective against normalization, in which the distorted the word will still turn into ‚Äúmailings‚Äù and will fall under contextual analysis, adding for each such word a certain amount of points to the entire letter.  In turn, SpamAssassin quite well distinguishes foreign spam of the type ‚ÄúMedical, Viagra, Cialis, Enlargement‚Äù, and also well filters ‚Äúbayes poisoning‚Äù context analyzers. <br><br>  Concerning dnsbl-lists the opinion has developed ambiguous.  On the one hand, the popularity of public dnsbl is very high, and they can provide protection against spam to a certain extent.  But, on the other hand, dnsbl lists cannot be used as a panacea, since there are still FPs when working with valid domains.  As for checking incoming connections by RFC (FastBL), not a single FP happened during testing and the level of filtering is comparable to commercial products.  But that's another story.  :) <br><br>  Well, and finally, I decided to tabulate the variants of events in the event that the context analyzers worked in conjunction with DNSBL lists.  As expected, I got 100% effective spam filtering even when using a foreign Apache SpamAssassin product. <br><br><table><tbody><tr><td>  Total Count: 44552 </td><td>  PS </td><td>  BL </td><td>  Fn </td><td>  FP </td></tr><tr><td>  <b>bl.spamcop.net + so</b> </td><td>  124 </td><td>  44243 </td><td>  184 </td><td>  one </td></tr><tr><td> <b>bl.spamcop.net + sa</b> </td><td>  125 </td><td>  38702 </td><td>  5725 </td><td>  0 </td></tr><tr><td>  <b>bl.spamcop.net + kas</b> </td><td>  124 </td><td>  44050 </td><td>  377 </td><td>  one </td></tr><tr><td colspan="5"></td></tr><tr><td>  <b>cbl.abuseat.org + so</b> </td><td>  124 </td><td>  44266 </td><td>  161 </td><td>  one </td></tr><tr><td>  <b>cbl.abuseat.org + sa</b> </td><td>  125 </td><td>  40541 </td><td>  3886 </td><td>  0 </td></tr><tr><td>  <b>cbl.abuseat.org + kas</b> </td><td>  124 </td><td>  44264 </td><td>  163 </td><td>  one </td></tr><tr><td colspan="5"></td></tr><tr><td>  <b>dnsbl.sorbs.net + so</b> </td><td>  124 </td><td>  44258 </td><td>  169 </td><td>  one </td></tr><tr><td>  <b>dnsbl.sorbs.net + sa</b> </td><td>  125 </td><td>  39832 </td><td>  4595 </td><td>  0 </td></tr><tr><td>  <b>dnsbl.sorbs.net + kas</b> </td><td>  124 </td><td>  44068 </td><td>  359 </td><td>  one </td></tr><tr><td colspan="5"></td></tr><tr><td>  <b>dul.nsbl.sorbs.net + so</b> </td><td>  124 </td><td>  44247 </td><td>  180 </td><td>  one </td></tr><tr><td>  <b>dul.nsbl.sorbs.net + sa</b> </td><td>  125 </td><td>  39398 </td><td>  5029 </td><td>  0 </td></tr><tr><td>  <b>dul.nsbl.sorbs.net + kas</b> </td><td>  124 </td><td>  44013 </td><td>  414 </td><td>  one </td></tr><tr><td colspan="5"></td></tr><tr><td>  <b>dul.ru + so</b> </td><td>  124 </td><td>  44236 </td><td>  191 </td><td>  one </td></tr><tr><td>  <b>dul.ru + sa</b> </td><td>  125 </td><td>  38714 </td><td>  5713 </td><td>  0 </td></tr><tr><td>  <b>dul.ru + kas</b> </td><td>  124 </td><td>  43872 </td><td>  555 </td><td>  one </td></tr><tr><td colspan="5"></td></tr><tr><td>  <b>FastBL + so</b> </td><td>  124 </td><td>  44413 </td><td>  14 </td><td>  one </td></tr><tr><td>  <b>FastBL + sa</b> </td><td>  125 </td><td>  44374 </td><td>  53 </td><td>  0 </td></tr><tr><td>  <b>FastBL + kas</b> </td><td>  124 </td><td>  44412 </td><td>  15 </td><td>  one </td></tr><tr><td colspan="5"></td></tr><tr><td>  <b>sbl-xbl.spamhaus.org + so</b> </td><td>  124 </td><td>  44268 </td><td>  159 </td><td>  one </td></tr><tr><td>  <b>sbl-xbl.spamhaus.org + sa</b> </td><td>  125 </td><td>  40519 </td><td>  3908 </td><td>  0 </td></tr><tr><td>  <b>sbl-xbl.spamhaus.org + kas</b> </td><td>  124 </td><td>  44265 </td><td>  162 </td><td>  one </td></tr><tr><td colspan="5"></td></tr><tr><td>  <b>zen.spamhaus.org + so</b> </td><td>  124 </td><td>  44309 </td><td>  118 </td><td>  one </td></tr><tr><td>  <b>zen.spamhaus.org + sa</b> </td><td>  125 </td><td>  43747 </td><td>  680 </td><td>  0 </td></tr><tr><td>  <b>zen.spamhaus.org + kas</b> </td><td>  124 </td><td>  44387 </td><td>  40 </td><td>  one </td></tr></tbody></table><br><br>  Now about the saddest thing in this informative story about anti-spam - about setting up and licensing commercial products. <br>  Despite the almost flawless core of products, the outer wrapper is very unsuccessful and inconvenient.  Personally, I expected more professionalism from the developers of such products. <br>  So, a few "spoons of tar in a barrel of honey." <br>  Both products are focused on installation on the FreeBSD 6.2 system, which has long been outdated in terms of security, as well as the product versions used in the release (I had to use shaman compat6x). <br>  <i>Kaspersky antispam</i> contains perl 5.6.2 in its distribution, as well as some of the specific perl modules.  The KAS administration console uses thttpd and system harness in the form of pearl barley CGI scripts.  Of course, it looks beautiful, but, in my opinion, not very informative, although it has filter schedules.  It is possible to create user groups with different filtering methods, there are white / black lists - both users and ip addresses.  Unfortunately, I did not find the ability to use external databases of users and groups in the administrator‚Äôs web console (perhaps buried somewhere in console utilities).  With licensing, it is also not entirely clear; formally, I have nowhere found a quantitative unit by which per-user licensing is assessed.  In a temporary license, the specified processing threshold of 250 megabytes actually ranges from 250 to 499 megabytes.  Product licensing is based on the license file obtained upon purchase.  The system supports the addition and installation of multiple licenses.  Well, my biggest ‚Äúfi‚Äù towards KAS developers is the method of installing the milter filter in the sendmail.cf configuration file. <br>  <b>Guys!!!</b>  <b>Why do you rule the WORKING COMPUTER CONFIG, which, with the FIRST update, will cancel all the changes made?</b> <br>  The script of adding a filter to the config upon closer inspection has the same-hidden flag, which allows you to specify sendmail.mc to inject the lines that call the filter, but this flag is not called from the MTA-config.pl configuration script <br>  All KAS processes run under the user mailflt3, which has its own directory for / usr / local / ap-mailfilter3.  Startup scripts use the old service startup mechanism, which is not controlled from /etc/rc.conf. <br><br>  <i>Yandex Spamooborona</i> also surprised me.  The configurator is written in DIALOG, I didn‚Äôt expect this at installation.  The branches of the configurator are very "razlapistye" and very easy to get lost there.  Most of the settings are already preset, but it is better to go through all the items in the menu and set the parameters you need.  SO has the ability to work with plaintext files, LDAP and judging by the pieces of SQL code in the config, it also knows MySQL.  After I set up the work of SO, one person asked me: ‚ÄúI just heard reviews from some anti-spam vendors that supposedly spam defense was terribly difficult to set up and no one who bought direct support from Yandex couldn‚Äôt get it.  Or are you the only one rare, or someone lying somewhere. ‚Äù <br>  In reality, setting up with plaintext files is not so complicated, and, in principle, completely transparent.  But it seems to me that the main configuration problems are still related to LDAP and MySQL.  Licensing policy is also unusual.  To protect against spam, you must either manually or automatically register all email addresses that the system will protect.  Because  it is really uncomfortable in a dynamically growing network, it makes you wonder.  Per-user licensing is based on this list of users.  I can‚Äôt say what will happen if the list of users increases the maximum level specified in the license, but it seems to me that this is not entirely correct.  In my organization there are about 30 domains, 600 users and about 50 groups.  Given that each user can have addresses from two domains (for example, alias), I will have to buy an almost unlimited license for the normal operation of my company.  A separate article is the licensing key.  The key is generated from two files: spam.ini (the main config of the filter) and domains (the list of protected domains).  These two files are sent to the SO web server ‚Äúmanually‚Äù and, after filling in the necessary information in the web form, the server generates a key.  The key is saved to the so.key file and placed in the directory where the other SO settings are located.  And God forbid you to fix at least one bit in the spam.ini and domains files - the whole registration procedure will have to be repeated, otherwise the filter will not work.  A good plus for novice administrators is the Russification of the SO configuration interface. <br><br>  Describing the configuration and operation of SpamAssassin makes no special sense, since it is installed on the vast majority of mail relays. <br><br>  Well, in principle, everything seems to be.  What I wanted to write and say - wrote and explained. <br>  Doubts about the bias of testing, I, of course, accept from anyone.  If you think that this testing was biased and you can get other results without seriously tightening the screws, you can send me a personal configuration file of the product you are interested in, and I can put a couple more servers with the existing and your configs, then we will again compare the results. <br><br>  PS: If there are questions about testing, then Kaspersky Lab wrote a wonderful document: <a href="http://www.spamtest.ru/document.html%3Fcontext%3D15948%26pubid%3D16638">www.spamtest.ru/document.html?context=15948&amp;pubid=16638</a> , in which you can find all the recommendations for tests.  In my tests, they were observed as accurately as possible, except for the testing time, all the same 2004 document. <br>  ZZY: Ready to catch the stones in your garden. <br><br>  ABORCHE 2009 <br><br>  SpamAssassin config: <br>  bayes_auto_learn 1 <br>  bayes_ignore_header X-Bogosity <br>  bayes_ignore_header X-Spam-Flag <br>  bayes_ignore_header X-Spam-Status <br>  loadplugin Mail :: SpamAssassin :: Plugin :: AWL <br>  loadplugin Mail :: SpamAssassin :: Plugin :: AutoLearnThreshold <br>  loadplugin Mail :: SpamAssassin :: Plugin :: Bayes <br>  loadplugin Mail :: SpamAssassin :: Plugin :: BodyEval <br>  loadplugin Mail :: SpamAssassin :: Plugin :: Check <br>  loadplugin Mail :: SpamAssassin :: Plugin :: DKIM <br>  loadplugin Mail :: SpamAssassin :: Plugin :: DNSEval <br>  loadplugin Mail :: SpamAssassin :: Plugin :: HTMLEval <br>  loadplugin Mail :: SpamAssassin :: Plugin :: HTTPSMismatch <br>  loadplugin Mail :: SpamAssassin :: Plugin :: Hashcash <br>  loadplugin Mail :: SpamAssassin :: Plugin :: HeaderEval <br>  loadplugin Mail :: SpamAssassin :: Plugin :: ImageInfo <br>  loadplugin Mail :: SpamAssassin :: Plugin :: MIMEEval <br>  loadplugin Mail :: SpamAssassin :: Plugin :: MIMEHeader <br>  loadplugin Mail :: SpamAssassin :: Plugin :: Pyzor <br>  loadplugin Mail :: SpamAssassin :: Plugin :: Razor2 <br>  loadplugin Mail :: SpamAssassin :: Plugin :: RelayEval <br>  loadplugin Mail :: SpamAssassin :: Plugin :: ReplaceTags <br>  loadplugin Mail :: SpamAssassin :: Plugin :: Rule2XSBody <br>  loadplugin Mail :: SpamAssassin :: Plugin :: SPF <br>  loadplugin Mail :: SpamAssassin :: Plugin :: SpamCop <br>  loadplugin Mail :: SpamAssassin :: Plugin :: URIDNSBL <br>  loadplugin Mail :: SpamAssassin :: Plugin :: URIDetail <br>  loadplugin Mail :: SpamAssassin :: Plugin :: URIEval <br>  loadplugin Mail :: SpamAssassin :: Plugin :: VBounce <br>  loadplugin Mail :: SpamAssassin :: Plugin :: WLBLEval <br>  loadplugin Mail :: SpamAssassin :: Plugin :: WhiteListSubject <br>  report_safe 0 <br>  rewrite_header Subject ***** SPAM ***** <br>  use_bayes 1 </div><p>Source: <a href="https://habr.com/ru/post/56779/">https://habr.com/ru/post/56779/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../56769/index.html">Parcels from China: Wireless Remote Shutter.</a></li>
<li><a href="../56771/index.html">Hot-swap disk replacement in gmirror under FreeBSD</a></li>
<li><a href="../56776/index.html">JuffEd 0.6.0 release</a></li>
<li><a href="../56777/index.html">Trying to invent something exclusive for a T-shirt</a></li>
<li><a href="../56778/index.html">Testing VDS. Act II.</a></li>
<li><a href="../56782/index.html">The last step to release is Mandriva Linux 2009 Spring RC2</a></li>
<li><a href="../56783/index.html">Business in Russian</a></li>
<li><a href="../56785/index.html">New iPhone 3G Ads: Itchy, Office and Student</a></li>
<li><a href="../56786/index.html">Sync iTunes with your phone or player. (Mac OS only)</a></li>
<li><a href="../56787/index.html">Where we are going?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>