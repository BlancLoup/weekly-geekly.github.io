<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Yii2, quick start. The easiest site on Yii2 with static pages without using a database</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="First, I wrote a lengthy preface to this text, and then deleted it. In general, this text is for those who, like me, love to do first, and then to und...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Yii2, quick start. The easiest site on Yii2 with static pages without using a database</h1><div class="post__text post__text-html js-mediator-article">  First, I wrote a lengthy preface to this text, and then deleted it.  In general, this text is for those who, like me, love to do first, and then to understand what he did.  To collect the information below, I had to rummage around for various days in various sources.  So, I hope someone will come in handy.  This is a good cheat sheet. <br><br>  <b>1.</b> Install Yii2 Basic on the server, <a href="http://stuff.cebe.cc/yii2docs-ru/guide-start-installation.html">as written in the documentation</a> .  Everything is described there clearly and in the case, I have nothing to add. <br><br>  Unless here: locally on OpenServer it was put without a hitch, without a hitch.  But remotely, on KVM Ubuntu 16.04 with 1Gb of RAM, Composer did not have enough memory.  Fought two hours, and did not master.  Fortunately, the site can be easily transferred from a local server to a remote one by simple copying. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>2.</b> I repeat, the installation is <b>basic</b> (for example, to the <b>/ www / site / basic</b> folder, but then, for simplicity, we will count from the <b>basic</b> folder in which you created the project, as recommended in the manual). <br><br>  You immediately install the <b>basic / web</b> folder as a DocumentRoot - how to do this is also <a href="http://stuff.cebe.cc/yii2docs-ru/guide-start-installation.html">in the official Russian manual</a> . <br><a name="habracut"></a><br>  <b>3.</b> Open <b>basic / controllers / SiteController.php</b> and change <br><br><pre><code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">actions</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ <span class="hljs-string"><span class="hljs-string">'error'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'class'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'yii\web\ErrorAction'</span></span>, ], <span class="hljs-string"><span class="hljs-string">'captcha'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'class'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'yii\captcha\CaptchaAction'</span></span>, <span class="hljs-string"><span class="hljs-string">'fixedVerifyCode'</span></span> =&gt; YII_ENV_TEST ? <span class="hljs-string"><span class="hljs-string">'testme'</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, ], ]; }</code> </pre> <br>  on <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">actions</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ <span class="hljs-string"><span class="hljs-string">'error'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'class'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'yii\web\ErrorAction'</span></span>, ], <span class="hljs-string"><span class="hljs-string">'captcha'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'class'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'yii\captcha\CaptchaAction'</span></span>, <span class="hljs-string"><span class="hljs-string">'fixedVerifyCode'</span></span> =&gt; YII_ENV_TEST ? <span class="hljs-string"><span class="hljs-string">'testme'</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, ], <span class="hljs-string"><span class="hljs-string">'page'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'class'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'yii\web\ViewAction'</span></span>, ], ]; }</code> </pre> <br><br>  This will allow you not to write a separate <i>action</i> for each static page.  From now on, they will be picked up by you automatically from the folder basic / views / site / pages. <br><br>  Create a <b>one.php</b> file in this folder and copy the contents of the <b>basic / views / site / about.php</b> file into it (for clarity). <br><br>  Now the contents of this file are available at: <br><br> <code>http://yoursite.com/index.php?r=site%2Fpage&amp;view=one</code> <br> <br>  Accordingly, you can create as many files as you need. <br><br>  <b>4.</b> Turn on the CNC as written <a href="http://stuff.cebe.cc/yii2docs-ru/guide-runtime-routing.html">here</a> . <br><br>  Settings are made in the file basic / config / web.php. <br><br>  <b>5.</b> To url <br><br> <code>http://yoursite.com/index.php?r=site%2Fpage&amp;view=one</code> <br> <br>  looked like <br><br> <code>http://yoursite.com/one</code> <br> <br>  you need to set such a rule for CNC <br><br>  <b>'view' =&gt; 'site / page',</b> <br><br>  (Attention !!! The word <i>view</i> in the above example should be taken in angle brackets, could not write as it is, because Habra-HTML-filters do not pass, but below - everything is fine, paradox ... * shrug *) <br><br>  That is, the piece of code responsible for the CNC in basic / config / web.php will look like this: <br><br><pre> <code class="php hljs"><span class="hljs-string"><span class="hljs-string">'urlManager'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'enablePrettyUrl'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, <span class="hljs-string"><span class="hljs-string">'showScriptName'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, <span class="hljs-string"><span class="hljs-string">'enableStrictParsing'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, <span class="hljs-string"><span class="hljs-string">'rules'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'&lt;view&gt;'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'site/page'</span></span>, ], ],</code> </pre> <br>  <b>6.</b> Now the meta tags for each page.  Initially, only the title is set there. <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;title = <span class="hljs-string"><span class="hljs-string">'  one.php'</span></span>;</code> </pre> <br>  And we, for example, need to add OG-meta tags (if you don‚Äôt know what it is - by all means google it - an indispensable thing for social networks).  Write straight below line something like: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;registerMetaTag([ <span class="hljs-string"><span class="hljs-string">'property'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'og:title'</span></span>, <span class="hljs-string"><span class="hljs-string">'content'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'OG-  one.php'</span></span> ]);</code> </pre> <br>  The rest of the meta tags are added by analogy with this.  If something is unclear - there is documentation on registerMetaTag () <br><br>  <b>7.</b> Trick for <b>og: url</b> <br><br>  Under the line <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">yii</span></span>\<span class="hljs-title"><span class="hljs-title">helpers</span></span>\<span class="hljs-title"><span class="hljs-title">Html</span></span>;</code> </pre> <br>  at the very top of the page, add: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">yii</span></span>\<span class="hljs-title"><span class="hljs-title">helpers</span></span>\<span class="hljs-title"><span class="hljs-title">Url</span></span>;</code> </pre> <br>  And <b>og: url you</b> register so: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;registerMetaTag([ <span class="hljs-string"><span class="hljs-string">'property'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'og:url'</span></span>, <span class="hljs-string"><span class="hljs-string">'content'</span></span> =&gt; Url::to(<span class="hljs-string"><span class="hljs-string">''</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) ]);</code> </pre> <br>  Now, with any transfers from server to server, the og-url will be fine. <br><br>  <b>8.</b> The same with internal links on the site.  Connect the helper (at the top of the page): <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">yii</span></span>\<span class="hljs-title"><span class="hljs-title">helpers</span></span>\<span class="hljs-title"><span class="hljs-title">Url</span></span>;</code> </pre> <br>  And, for example, a link to our one-page is placed in this form: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span>= Url::to([<span class="hljs-string"><span class="hljs-string">'site/page'</span></span>, <span class="hljs-string"><span class="hljs-string">'view'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'one'</span></span>]); <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre> <br>  It will now display correctly no matter what rules you set for the CNC. <br><br>  And yes, please note that in the NavBar layout widget ( <b>basic / views / layouts / main.php</b> ) the same link will look something like this: <br><br><pre> <code class="php hljs">[<span class="hljs-string"><span class="hljs-string">'label'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'  One'</span></span>, <span class="hljs-string"><span class="hljs-string">'url'</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'/site/page'</span></span>, <span class="hljs-string"><span class="hljs-string">'view'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'one'</span></span>]],</code> </pre> <br>  That's all.  A simple site on Yii2 is quite ready to work (it‚Äôs a pity that smiles are forbidden to be installed). <br><br>  Anyway, you still need to read the Yii2 documentation, at least, the introductory part.  But now you know how to immediately create a ready-to-use web application, and not just a blank.  If I had such a guide right away - then I would not have been sitting online for three days, but I would have walked more.  Spring is the same. <br><br>  Be healthy! </div><p>Source: <a href="https://habr.com/ru/post/323416/">https://habr.com/ru/post/323416/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../323402/index.html">How does it feel to write articles</a></li>
<li><a href="../323404/index.html">Application we made for Russian Railways</a></li>
<li><a href="../323410/index.html">New on PHDays VII: Hacking IPv6 Networks, Future WAFs, and POS Terminals</a></li>
<li><a href="../323412/index.html">OOP is beautifully cracked with C ++ 14</a></li>
<li><a href="../323414/index.html">The history of the engineer-radiophysics, who decided to watch</a></li>
<li><a href="../323420/index.html">My Material Design Framework</a></li>
<li><a href="../323422/index.html">Search without internet. New beta application Yandex</a></li>
<li><a href="../323424/index.html">Search space strategies. AI driver</a></li>
<li><a href="../323426/index.html">Duke Nukem 3D Source Code Analysis: Part 1</a></li>
<li><a href="../323430/index.html">GitHub Pages for the site on March 8</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>