<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Evolution of War: Total War II Series AI (Part 2)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This is the second part of the article on Total War artificial intelligence. In the first part of the article, I talked about Shogun: Total War , a ga...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Evolution of War: Total War II Series AI (Part 2)</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/972/866/67d/97286667db1b8e4e1ef6f967d8a74503.png"></div><br>  This is the second part of the article on Total War artificial intelligence.  In the <a href="https://habrahabr.ru/post/348148/" rel="noopener">first part of the article,</a> I talked about <em>Shogun: Total War</em> , a game that changed the face of real-time strategy games, in Creative Assembly 2000.  In <em>Shogun,</em> there are three separate layers of AI systems: <strong>AI units</strong> , managing individual units and preserving their structure and location, <strong>combat AI</strong> , grouping and defining units, and <strong>AI campaign / diplomacy</strong> , leading a step-by-step strategy and seeking to seize control of feudal Japan.  I finished the first part on <em>Medieval: Total War</em> 2002: a game that redefined and improved the fundamental systems created by <em>Shogun</em> .  But it was only the very beginning of a long journey to improve and restructure the AI ‚Äã‚Äãsystems of the franchise, both from the side of the Creative Assembly and from the hands of <em>Total War</em> fans.  Therefore, let us consider the following releases of the series and observe how the evolution of the war took place. <br><a name="habracut"></a><br><h1>  Rome and the flowering of the modder community </h1><br>  <em>Rome: Total War</em> 2004 made changes to the gameplay and significantly improved the graphic part of the game.  In the third part of the series, a three-dimensional diplomatic map, as well as fully rendered 3D units, appeared.  The plot of the game was transferred to Italy in 270 BC, at the time of the birth of the Roman Empire.  It is this part that turned the niche strategic simulator into a full-scale bestseller.  However, it also began to show the flaws of the gameplay.  They are most noticeable in a campaign where the AI ‚Äã‚Äãis trying to be as efficient as possible in a rich and interesting set of diplomatic mechanics.  This is partly due to the longer and more thoughtful development of the actions necessary to build and grow their own corner of the Roman Empire.  As I said in the first part, the AI ‚Äã‚Äãcampaign is based on state machines and is reactive in nature, that is, it is not very good at making long-term decisions, because such an approach rarely considers the history of previously performed actions and long-term consequences. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dc5/e86/b35/dc5e86b35457fb512fb6e09ea8f828a1.png"></div><br>  Despite these problems, the game remained a valuable and interesting contribution to the series, creating a large and strong community of fans around itself.  Rome was the beginning of a long history of mods created for Total War.  It was easy enough to work with him, because most of the data that controlled the gameplay of the early parts of the series was available to the player in the installation files.  Therefore, the modders managed to create tools for data manipulation for their own purposes.  Many of these mods were aimed at improving graphics and management, expanding the narrative and creating a richer world, for example, <a href="http://www.twcenter.net/forums/forumdisplay.php%3F251-Roma-Surrectum" rel="noopener"><em>Roma Surrectum</em></a> and <a href="http://www.moddb.com/mods/rome-total-realism" rel="noopener"><em>Rome: Total Realism</em></a> .  Some of the mods even took the basic mechanics and AI, and transferred them to other worlds, for example, the mod in the world of Tolkien <a href="http://www.moddb.com/mods/the-fourth-age-total-war" rel="noopener">The Fourth Age</a> and, ironically, the <a href="http://www.moddb.com/mods/warhammer-total-war" rel="noopener"><em>Warhammer: Total War</em></a> mod.  One of the most impressive was <em>DarthMod</em> : the first of a series of mods by Nick Tomadis, developed from <em>Rome: Total War</em> up to <em>Total War: Shogun 2</em> released in 2011.  <a href="http://www.moddb.com/mods/darthmod-rome" rel="noopener">DarthMod</a> not only changes the appearance and gameplay of the game, but also often makes significant changes to the parameters affecting the behavior of AI in combat and campaigns, giving more experienced players the opportunity to turn around: new combat constructions have appeared, improved performance characteristics and more flexible and aggressive behavior created. AI. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4ab/204/ee1/4ab204ee1689a4d7bb549d66ac68df55.png"></div><br>  The deep-seated problems that arose when the engine was reworked in Rome reached their peak with the release in 2006 of <em>Medieval II: Total War</em> .  <em>Medieval II</em> is essentially a rework of <em>Medieval: Total War</em> on the <em>Rome</em> engine, but many of the underlying structural problems of AI have survived.  However, the evolved community modders most of them fixed.  Therefore, it is time to change, the AI ‚Äã‚Äãsystems needed to be rebuilt from the very foundation, which happened with the release of <em>Empire: Total War</em> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1>  AI empire </h1><br>  While Rome was a rework aimed at updating basic systems and gameplay, <em>Empire: Total War of</em> 2009 sought higher goals.  The game had to not only update the basic formula of Total War, but also make the game more accessible to a mass audience.  This led to an update of the UI systems, hints and tutorials, as well as the basic gameplay components.  In combat, a large variety of units that depend on firearms appeared: cavalry, musketeers, riflemen and heavy artillery;  along with this, a free system of detachment navigation using shelters was added, allowing them to use relief details while hiding from intense fire.  The most serious innovation of the Empire was the transition to sea battles in real time, when players give orders to fleets of ships and attack enemy forces.  In addition, the main campaign now occupied a much larger area - both America, Europe and India, not to mention the sea routes connecting them.  To further enrich the game, at this stage, the AI ‚Äã‚Äãcampaign also had to control armies and flotilla, perform a spatial analysis of the game map, recognize the enemy threat on different types of terrain, engage in diplomacy, control their resources, and make decisions about taxes, construction and much a friend. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/536/045/5a4/5360455a47a2be41e5d42b152eb5da7c.jpg"></div><br>  There is no doubt that this has led to an increase in the scope of the franchise and heightened the need for improved technology.  For Empire, Rome: Total War was completely rewritten, which led not only to the new implementation of AI at the unit, combat and campaign levels, but also made changes in the presentation of the game to the user, which greatly influenced the further development of modding tools. <br><br>  In <em>Empire: Total War,</em> developers completely rebuilt AI campaigns and combat to get rid of reactive and state-driven behavior: thus, the systems not only learned how to actively respond to decisions made by opponents, but also had their own personality, driven by sets of configurations and behaviors.  When developing Empire, the authors sought to create an AI that takes into account longer-term results, as well as balancing several goals simultaneously.  This led to the use of <a href="http://alumni.media.mit.edu/~jorkin/goap.html" rel="noopener">Goal Oriented Action Planning (GOAP)</a> in the development of a method for <a href="http://alumni.media.mit.edu/~jorkin/goap.html" rel="noopener"><strong>planning actions</strong></a> .  This technique became popular in 2005 thanks to <em>First Encounter Assault Recon (FEAR)</em> and was used in games such as <em>Fallout 3</em> , <em>STALKER: Shadow of Chernobyl</em> and <em>Deus Ex: Human Revolution</em> .  GOAP is a classical planning method: agents (AIs) use an abstract model of the world to make a series of decisions that transform the world in order to create the desired result.  This approach is ideal for situations in which there are many consistent individual actions;  he can evaluate several goals at the same time and carry out actions to achieve them, if they do not contradict each other.  Many of the original tactics of <em>Shogun were</em> able to be transferred here quite simply, given that the logic of <em>Art of War</em> can be coded for search and execution in the planning language.  If you want to learn more about AI planning and how it works, study my <a href="https://aiandgames.com/facing-your-fear/" rel="noopener">FEAR and Goal Oriented Action Planning</a> , as well as using GOAP and <a href="https://aiandgames.com/cybertron-intel/" rel="noopener">planning based on hierarchical tasks in Transformers</a> High Moon Studio <a href="https://aiandgames.com/cybertron-intel/" rel="noopener">games</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0a6/6f9/35f/0a66f935fa3e47ab1db010a8e3819b2d.jpg"></div><br>  One of the most important aspects in this version was that now AI was modeled inside the game itself.  In Rome: Total War, the AI ‚Äã‚Äãgame combined with the logic of the game itself.  This meant that he had become part of the game and could potentially perform inaccessible actions for the players or have access to information that he should not know.  In this and subsequent versions of the AI ‚Äã‚Äãcampaign is separated in such a way that now he actively plays the game as a person;  its interface is associated with a code base, which allows it to exchange data with the game, and vice versa. <br><br>  The actions of the AI ‚Äã‚Äãcampaign are determined on the basis of three main questions: <br><br><ul><li>  <strong>How good is my current state?</strong> </li><li>  <strong>What can I do next?</strong> </li><li>  <strong>What resources can I allocate for this?</strong> </li></ul><br>  These three questions allow you to use the <a href="https://ru.wikipedia.org/wiki/%25D0%259C%25D0%25BE%25D0%25B4%25D0%25B5%25D0%25BB%25D1%258C_%25D1%2583%25D0%25B1%25D0%25B5%25D0%25B6%25D0%25B4%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B9,_%25D0%25B6%25D0%25B5%25D0%25BB%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B9_%25D0%25B8_%25D0%25BD%25D0%25B0%25D0%25BC%25D0%25B5%25D1%2580%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B9" rel="noopener"><strong>model of beliefs, desires and intentions</strong></a> (BDI system).  This means that the campaign's AI models a set of beliefs, desires, and intentions that govern its decision-making processes.  Beliefs give the AI ‚Äã‚Äãan understanding of the world, but given the fact that they may be wrong, for example, regarding the location of the player‚Äôs resources or his relationship with other factions.  Desires are the motivational stimulus of the player and set the goals that the system wants to achieve, both immediate and long-term.  Examples of desires could be the seizure or defense of a territory, obstructing enemy agents, recruiting armies, setting priorities for construction and conducting diplomacy with neighboring factions.  The last aspect is extremely complex, I will return to it and will discuss it in more detail in the next part of this series of articles.  Finally, intentions represent the contemplative state of an agent: as soon as he chooses to do something, these intentions stimulate him to continue striving towards the goal, even he is distracted by another goal until it is achieved.  It works in the system on the basis of planning as follows: it can continue to track unfinished goals and strive to fulfill them while solving immediate tasks.  However, as we will see from the third part of the series of articles, the system cannot recognize many of the overlaps arising from its actions, and the conflicts they create in their own decision-making systems led to another improvement in the AI ‚Äã‚Äãcampaign several years later. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/972/866/67d/97286667db1b8e4e1ef6f967d8a74503.png"></div><br>  In combat, AI systems fulfill many goals that allow them to be more effective not only in fulfilling their mission, but also in controlling their own resources.  For example, an active combat objective of a unit may be an attack on a selected enemy unit, but at the same time it may have a goal of ensuring the safety of the flanks, taking into account the location of the enemy forces.  The balance and priority of these two goals may vary depending on the events taking place at the current moment: taking into account the size and location of its own army, the actions it takes, the relief occupied by the enemy and the assessment of its forces.  While the targets of an attack on an enemy may change or be eliminated after completion, defensive targets are constantly shifted based on the current situation, and priorities are distributed to all these tasks based on the current state on the battlefield.  The result is a system that, even in the case when the current execution plan is interrupted due to a change of priorities (for example, for a short-term task of protecting oneself by maneuvering, or for saving the general from flank attack), can eventually return to the original goals and continue its implementation.  And vice versa - when an AI attacks a player, it does not make rash decisions, for example, transferring artillery from a wide flank to attack another target, if this can pose a serious threat to the survival of the remaining forces. <br><br>  <em>Empire: Total War</em> was released in February 2009, but, unfortunately, turned out to be ambiguous.  At the time of launching the AI ‚Äã‚Äãcampaign and the battlefield, they suffered under the weight of the problems they faced.  And this was not particularly surprising: planning solutions to large-scale tasks of this type is incredibly costly, and developers could only foresee some of the many possible outcomes and situations.  Here, as Creative Assembly creative director Mike Simpson said: <br><br><blockquote>  ‚ÄúThis AI was not similar to any other, written by us earlier ... This is the most complex code construction I have seen in games.  I wrote most of the AI ‚Äã‚Äãcode of the campaign for Shogun and Medieval I, and I know that even a fairly simple "static" AI of evaluating actions without any planning or memory can be difficult enough to exhibit chaotic behavior (here we mean chaos in the style mathematical "butterfly effect").  It works as it works, but not quite as it should have been.  Maybe this is good - we cut off bad behaviors and leave only good ones, as well as a simple system that is not too predictable. <br><br>  AI Empire is much more complicated than in any of the previous versions ... As a result, we have an AI that plans actively and intelligently, but is at odds with itself in decisions on time and often turns out to be paralyzed by indecision. " <br><br>  <a href="http://blogs.sega.com/totalwar/2009/10/09/blog-the-second-by-mike-simpson/"><strong>[Blog the Second, Mike Simpson, Total War blog, October 9, 2009]</strong></a> </blockquote><br>  Creative Assembly, for six months after release, tried to solve this problem by creating AI patches prior to version 1.5 of the game.  These improvements were transferred to the 2010 <em>Napoleon: Total War</em> project, which in many respects remained functionally the same game, only in a different theater of operations.  This was partly due to the fact that, during the development of <em>Napoleon</em> , the AI ‚Äã‚Äãdevelopment teams of the campaign and the battlefield were forced to constantly return to solving problems in the <em>Empire</em> .  Therefore, in the next part of the game, only minor changes and improvements were made. <br><br><h2>  Modding </h2><br>  At the same time, the modders community stumbled across <em>Empire</em> as a barrier caused by a change in engine.  In previous versions of Total War, there were many variables and performance settings in the form of external data that were loaded into the game at startup, which simplified the creation of modding tools.  Perhaps the ideal for modders was the state of the game in Shogun, but it was impossible to maintain it, since the size and scale of each new game increased: campaign cards and tactical combat possibilities expanded.  During tests prior to the release of the game, it turned out that the increased amount of data and the expected limits on the amount of memory of gaming computers led to serious bottlenecks in performance.  Therefore, most of the data was pre-processed and compiled into a ready-made executable file, which blocked modders access to much of the game's architecture. <br><br>  However, the mods continued to appear, including in <em>Empire</em> , the ever-popular <a href="http://www.moddb.com/mods/darthmod-empire" rel="noopener"><em>DarthMod was back</em></a> , changing the internal parameters of the game to make the AI ‚Äã‚Äãmore stable.  The <a href="http://www.twcenter.net/forums/showthread.php%3F597416-Bran-s-Empire-Campaign-AI" rel="noopener"><em>Bran's Empire AI</em></a> mod took DarthMod as a basis and perfected it, reducing the number of ridiculous AI decisions in the game. <br><br>  Such difficulties in the development of mods forced Creative Assembly to invest more effort to provide modders access to the insides of later versions of the game.  <em>Total War: Shogun 2 has</em> more extensive mod support, and many subsequent releases have added compatibility with the Steam Workshop API. <br><br><h1>  Finally </h1><br>  The evolution of the war brought with it many problems, but as a result, it provided players with smarter and more fun gameplay.  Players sought greater credibility and control over this process, and this led to the flowering of the modders community, which is still active in the many games of the Total War franchise.  I hope you enjoyed the second part of the series, devoted to AI <em>Total War</em> .  In the third part, I will consider one of the most important, but conflicting reviews of the game series: <em>Total War: Rome II</em> 2013.  This part has made the most serious changes in AI and allowed to reconsider views on AI systems used in AAA-class games. </div><p>Source: <a href="https://habr.com/ru/post/348830/">https://habr.com/ru/post/348830/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../348818/index.html">Amazing Angular</a></li>
<li><a href="../348820/index.html">Game development under NES in C. Chapters 7-10. Work with the joystick. Sprite collisions</a></li>
<li><a href="../348822/index.html">Mining in blockchain networks: how it works</a></li>
<li><a href="../348824/index.html">Google Chrome will start tagging all http pages as ‚Äúnot protected‚Äù with the release of Chrome 68 in July 2018</a></li>
<li><a href="../348828/index.html">Prototyping is easy how to assemble a puzzle. Multicomponent System Design in Figma</a></li>
<li><a href="../348832/index.html">Service control panel. Part 3. Reconnaissance</a></li>
<li><a href="../348836/index.html">The digest of interesting materials for the mobile developer # 240 (February 5 ‚Äî February 11)</a></li>
<li><a href="../348838/index.html">Predicting Random Numbers in Ethereum Smart Contracts</a></li>
<li><a href="../348840/index.html">CC1101 running a PIC controller or building a peer-to-peer network for a radio engineer (part 2, continued)</a></li>
<li><a href="../348842/index.html">Information architecture and technology DITA. Based on a lecture in Yandex</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>