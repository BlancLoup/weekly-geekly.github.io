<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Restrictions on the use of smart LEDs WS2812, WS2801 and similar in modern projects of decorative lighting</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For several years on the market of lighting, you can find such names as: "smart led strip", "smart led pixel" and the like. As a rule, a ‚Äúsmart pixel‚Äù...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Restrictions on the use of smart LEDs WS2812, WS2801 and similar in modern projects of decorative lighting</h1><div class="post__text post__text-html js-mediator-article">  For several years on the market of lighting, you can find such names as: "smart led strip", "smart led pixel" and the like.  As a rule, a ‚Äúsmart pixel‚Äù is an assembly of a miniature 3-channel LED driver (with integrated current stabilizer, PWM modulator and shift register) connected to an RGB LED.  Based on these pixels, many manufacturers produce "smart" flexible LED strips, LED "nails" and LED clusters.  You can also find such chip models as WS2812, WS2813, with an integrated LED driver directly into the case of a 5050 RGB LED.  Small dimensions, a large number of consecutively included pixels (more than 1000 pcs.), Simplicity of control over 1 (2) wire and relatively low solution cost - more than justify their use. <br><a name="habracut"></a><br><img src="https://habrastorage.org/files/d2d/9da/10f/d2d9da10f6474ff9a656b8e198b5f204.jpg"><br><br>  This is my first publication on Habr√©, in which I want to convey my experience of using and identify the shortcomings of such pixels.  Over the past few years I have managed to work with the following LED drivers: LPD6803, WS2801, WS2811, WS2812 (B), TM1903, UCS1903, TM1804, TM1803, SM16716 and other less running.  On the Internet, you can often come across such a term as ‚Äúpixel addressable LED strip‚Äù - I completely disagree with this, and this is the <b>first limitation</b> . <br><br>  Information in such tapes / pixels is loaded via a serial channel, namely via shift registers with 24-bit resolution (as a rule), i.e.  3 channels of 8 bits for RGB.  Such addresses do not remember any LED pixels and work solely on a consistent basis.  The absence of a control signal on the data line or synchronization (if any), serves as a command to convert the values ‚Äã‚Äãin the registers into PWM signals for RGB LEDs.  For this reason, if the information channel of one of the pixels fails, the subsequent pixels will no longer work correctly.  Many inexperienced LED "advertisers" have stepped on this rake, applying such pixels to street screens. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The figure below shows broken stripes. <br><br><img src="https://habrastorage.org/files/f80/c9a/cf2/f80c9acf215b4b5e80160847ba2980f3.png"><br><br>  <b>The second limitation is</b> related to the temperature of use.  In most cases, the pixels that are controlled only by one wire "DATA", for example, WS2812B - lower temperature use -25 degrees.  In practice, often from -15 degrees.  This is due to the lack of a good quartz signal regeneration unit inside the chip.  Thus, at low temperatures, the pixel stops working correctly, there are ‚Äúcrickets‚Äù, etc.  to the complete lack of pictures.  Another thing - chips with synchronization: WS2801, LPD6803, for example.  Here there is a good regeneration of signals by levels, in time - regeneration is not needed, since there is a synchronization line.  The working temperature in this case is -40 degrees.  But these chips cost twice as much. <br><br>  <b>The third limitation</b> is the depth of color. <br><br>  The figure below shows the screens assembled on WS2801 chips. <br><br><img src="https://habrastorage.org/files/8c1/ddd/685/8c1ddd6855144297aa66d68355c1310f.png"><br><br>  With the naked eye it is noticeable that the screen with the background is illuminated.  The low levels of the ‚Äúsmart pixels‚Äù gradient (WS2812, WS2801, etc., almost all) are not able to reproduce in the way that modern screens do.  This is due to the low bit depth of the generator integrated into the PWM chip (only 8 bits per channel) and, as a result, the absence of a full gamma correction.  Simply put, the LED shines too brightly when you want quite a bit and nothing can be done about it. <br><br>  A noticeable drawback, in any case for me, was the lack of good software for preparing and converting animation directly for outputting to the hardware.  This was the <b>fourth limitation</b> . <br>  At first, I used the LedEdit software. <br><br><img src="https://habrastorage.org/files/fb1/795/fd1/fb1795fd17b74f07a6a40d0ccc74eac6.jpg"><br><br>  "LedEdit" provides the ability to create and edit video animation, capture and then convert to hardware.  But I can only use this software with their controllers.  I also revealed the big drawbacks of LedEdit software in terms of video capture quality and stability of frame processing. <br><br>  Since I was very interested in this topic and had quite good knowledge in the field of programming, including microcontrollers, I wrote my ‚Äúgrabber‚Äù video with subsequent conversion to ‚Äúpixels‚Äù.  I immediately put off the idea of ‚Äã‚Äãcombining the ability to create and convert animation in one program, since this is not a professional approach.  The animation needs to be created and edited in specialized programs, for example, I chose FREE Jinx! Software. <br><br><img src="https://habrastorage.org/files/30d/531/868/30d531868ccd40fda035ca8fa27eb553.png"><br><br>  At the output of the Jinx! Software, you can get an open binary * .out file representing the bit representation of the rectangular matrix data of pixels for each frame.  Now it remains for the few: compare the rectangular matrix of data for each frame with the real location of the "smart pixel" on the pixel field and generate a hornbeam animation.  This is how I came up with the FREE LS Terminal software. <br><br><img src="https://habrastorage.org/files/1c0/d72/f5a/1c0d72f5a82c4684a72fe65265f95d23.png"><br><br>  Now ‚ÄúLS Terminal‚Äù software allows working with most video formats * .avi, * .flv and etc., use dozens of ports, process video capture for tens of thousands of ‚Äúsmart pixels‚Äù placed by the user.  For video processing and visualization I used the OpenCV and OpenGL libraries.  I upload data to smart pixels through a microcontroller that reads data from an SD card. <br><br>  In general, I cited all the main drawbacks of the ‚Äúsmart pixels‚Äù and if we put them outside the brackets, then we can see tens of thousands of completed projects.  Here are some of them made with my video grabber: <br><br>  - for LED suits: <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/Eq2v0KZE7-4%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjoldbvTOZRF5wjt0rVLiom6fss0Q" frameborder="0" allowfullscreen=""></iframe><br><br>  - small curved screen on WS2812: <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/cvwVDFwUMwM%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjsmFMKKzMM6vNV9xqF6FtqmXO0Fw" frameborder="0" allowfullscreen=""></iframe><br><br>  - There are several thousand WS2801 smart pixels in this object: <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/lU7MybQ_6wo%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700248,15700253&amp;usg=ALkJrhit2CeOjUpOU1wCNPkIOcwsRI7-wg" frameborder="0" allowfullscreen=""></iframe></div><p>Source: <a href="https://habr.com/ru/post/305876/">https://habr.com/ru/post/305876/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../305864/index.html">Freelance: reboot</a></li>
<li><a href="../305866/index.html">List of useful resources on Microsoft SQL Server</a></li>
<li><a href="../305868/index.html">Speech synthesizer "for robots" from scratch</a></li>
<li><a href="../305870/index.html">How Linus Torvalds made software development freer</a></li>
<li><a href="../305872/index.html">Solution of the problem "Performance Evaluation" mlbootcamp.ru</a></li>
<li><a href="../305878/index.html">How to choose a server for 1C, SQL and terminals</a></li>
<li><a href="../305880/index.html">What's new is expected in v4.8-rc1 core for Intel Edison. Digest</a></li>
<li><a href="../305882/index.html">Pass a technical interview (Level 4)</a></li>
<li><a href="../305886/index.html">VShBI Lectures: Game Design and Game Operations</a></li>
<li><a href="../305888/index.html">Agile API - is it possible?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>