<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Random search heuristics and motor ships</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Once upon a time I had already written a fairly large article on the use of heuristics in programming , but today I want to give a small practical exa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Random search heuristics and motor ships</h1><div class="post__text post__text-html js-mediator-article">  Once upon a time I had already written a fairly large <a href="http://gorkoff.ru/wp-content/FoAT/FoAT_12.pdf">article on the use of heuristics in programming</a> , but today I want to give a small practical example.  This summer, I <a href="http://gorkoff.ru/tag/%25D1%2582%25D0%25B5%25D0%25BF%25D0%25BB%25D0%25BE%25D1%2585%25D0%25BE%25D0%25B4/">sailed on the</a> Moscow-Rostov-on-Don-Moscow route, and noticed that every evening the cruise director was trying to find the optimal seating group for tourist groups on buses.  The task is not so difficult, but at least 15 minutes a day is spent on its solution.  Of course, I tried to automate this process. <a name="habracut"></a><br>  But, before describing my solution, it is necessary to formulate the problem more precisely.  At the very beginning of the cruise, all the tourists were divided into several excursion groups (in the case under consideration there were 15 groups), with no more than 10 people in each group.  All groups were numbered in order, and the resulting list of groups did not change until the very end of the cruise.  This list looked like this: <br><img src="https://habrastorage.org/storage2/ae6/a73/725/ae6a73725baaffe9b977c565dbff181d.png">  Every day, tourists notify the director of the cruise about what excursions they are planning to go.  Anyone who does not plan to go on the main tour, cross out of this list.  It is with the modified list that we have to work.  The director of the cruise counts how many people go on a tour (usually 100-120 people) and makes an appropriate order for buses.  Travel agencies on the coast take this order and report the following information: ‚ÄúThree buses with 48, 48 and 50 seats will be waiting for you at the pier‚Äù.  As a result, the task turns out to be the following: it is necessary to seat the tourists in buses, observing the following requirements (in order of importance): <br>  1. Do not split the group; <br>  2. Fill buses as evenly as possible; <br>  3. It is desirable that groups sitting in the same bus go in a row.  Those.  the first bus is groups 1-5, the second bus is 6-10, etc. <br>  The first step towards automation was made using Excel and the ‚ÄúSearch for Solution‚Äù add-on (to my surprise, very few people know about this setting, although the piece is incredibly useful). <br><img src="https://habrastorage.org/storage2/c05/d4f/a90/c05d4fa90fbaf80afa7aaaca1e42deec.png">  The first requirement, of course, was fulfilled, but the second and third requirements had to be forgotten.  Considering that the search for a solution took about 15 seconds on an old laptop, it was decided to write my bike.  But here again there was a question how to do all this: the simplex method, dynamic programming, the branch and bound method, heuristics?  Surely there is some complicated algorithm that will help in solving this problem, but writing something complicated on vacation, and then debugging it on a laptop with a small screen?  I decided to try some heuristics.  I immediately put off climbing the hill after some hesitation, as well as the heuristics of the minimum cost and balanced profit. <br>  And then I remembered the random search heuristics.  To be honest, I have never used it before, and I was almost sure that a random search would not lead to an effective solution.  But curiosity took over.  The result is the following algorithm of seating: <br>  1. Choose a random group and a random bus. <br>  2. Check whether we can put the selected group in the selected bus (we look, if this group is not sitting in another bus, and if there are enough seats) <br>  2.1.  If we cannot, then we increase the counter of unsuccessful attempts by one. <br>  2.2.  If we can, reset the failed attempts counter. <br>  3. If the number of unsuccessful attempts exceeded 50, we exit the cycle, otherwise, to item 1 <br>  4. Check if all groups are seated. <br>  4.1.  If all, calculate the maximum difference between the number of empty seats in buses (this is the number that will be considered an estimate) <br>  4.2.  If not all, report an unsuccessful seating. <br>  Performing this procedure hundreds of times, we can choose a seating with the best estimate.  This algorithm worked surprisingly well.  At least the first and second points of the requirements were met perfectly. <br>  To execute the third point, a small change is needed in the algorithm.  Even before the start of the implementation of the seating algorithm, we will plant in each bus 5 groups (1-5.6-10.11-15-15), and perform the seating.  If she succeeds, we remember the best estimate, and the result is output.  Then we try to put 4 groups in each bus (1-4, 5-8, ...), and again we carry out the seating.  If the estimate obtained turned out to be better than it was at the previous stage, we memorize it and again display the result.  Then we try to put the bus into groups of 2, 2, and 1 groups each, and finally, we perform the seating procedure without any prior information.  If at some stage, the estimate has improved, the resulting solution is displayed. <br>  Of course, more actions are performed, but the value of the results obtained is much higher.  Lastly, I will give a small example of the program: <br><img src="https://habrastorage.org/storage2/e51/8b7/150/e518b71508dbfe1b05d5081da9df634e.png"><br>  It is clear that most of you already know about random search heuristics, but suddenly this post was read by people who do not know about it, or for some reason were afraid to use it.  I hope that now, having learned this heuristic a little better, you can at least simplify a little the solution of some of your problems. </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/149821/">https://habr.com/ru/post/149821/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../149814/index.html">Harvard scientists write 643 kilobytes of data into a DNA molecule</a></li>
<li><a href="../149815/index.html">Basic principles of interaction with the user's computer with visual impairment</a></li>
<li><a href="../149816/index.html">Grids without problems</a></li>
<li><a href="../149817/index.html">Vim: bw,: bd,: bun,: quit,: close. What to do with all this?</a></li>
<li><a href="../149818/index.html">What compiler for C ++ do you use?</a></li>
<li><a href="../149822/index.html">Screenshots of the new Skype for Windows 8 Metro style</a></li>
<li><a href="../149824/index.html">Installing and configuring memcacheq on CentOS 6.2</a></li>
<li><a href="../149825/index.html">Do you like ‚ÄúMetro‚Äù design apps?</a></li>
<li><a href="../149826/index.html">Sticking law</a></li>
<li><a href="../149828/index.html">Belarusians made a drone running Linux</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>