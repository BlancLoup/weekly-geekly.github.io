<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Overview and installation of the iRedMail mail server</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day! 

 I present to your attention a review, installation and configuration of the wonderful iRedMail package based on Debian Lenny. 

 iRedMail...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Overview and installation of the iRedMail mail server</h1><div class="post__text post__text-html js-mediator-article"> Good day! <br><br>  I present to your attention a review, installation and configuration of the wonderful iRedMail package based on Debian Lenny. <br><br><a name="habracut"></a>  <b>iRedMail</b> is: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      1) Full mail server. <br>  2) It runs under Red Hat¬Æ Enterprise Linux (5.x), CentOS (5.x), Debian (5.0.x), Ubuntu (8.04, 9.04, 9.10), FreeBSD (7.x, 8.0). <br>  3) It works both on a regular system and on a virtual machine: VMware, OpenVZ, Xen, etc. <br>  4) Support for i386 and x86_64 architectures. <br>  5) Uses compatible components for installation and configuration, such as Postfix, Dovecot, SpamAssassin, etc. <br>  6) When installing, it uses binary packages from your distribution. <br>  7) The project is open source, distributed under the GPL v2 license. <br>  8) Support for two backends for storing virtual domains and users: OpenLDAP and MySQL. <br>  9) Unlimited number of support for domains, users, mail aliases. <br>  10) Support for two Web Interfaces (RoundCube and SquirrelMail). <br><br>  This package is very easy to configure and install. <br><br>  1) Convenient this package is that: <br>  but.  You don't need a lot of knowledge, i.e.  The installation and configuration process is not complicated at all. <br>  b.  Requires a minimum of time to turn corporate mail.  I spent on the installation of this assembly literally 20 minutes. <br>  at.  Included is all the necessary software for the mail server. (Antivirus, Antispam, 2 Web Interfaces (optional) <br><br>  2) Analogs of this package does not exist. <br><br>  IRedMail operation scheme: <br><br><img src="https://habrastorage.org/storage/habraeffect/5e/b4/5eb44fe08663e1dc703d7fb1aa4b50ec.png" alt="image"><br><br>  Anti-Spam and Anti-Virus. <br>  Two popular packages act as anti-spam and anti-virus, these are SpamAssassin and ClamAV <br><br>  What iRedMail supports for email protection: <br>  1. Support SPF (Sender Policy Framework). <br>  2. Support DKIM (DomainKeys Identified Mail). <br>  3. Greylist support. <br>  4. Support for ‚ÄúWhite lists‚Äù (based on DNS name and IP address) <br>  5. Support ‚ÄúBlack lists‚Äù (based on DNS name and IP address) <br>  6. Support for the "Black List" HELO requests. <br>  7. HPR support (HELO Randomization Prevention) <br>  8. Spamtrap support. <br>  9. Integration SpamAssassin <br>  10. ClamAV integration, auto update of virus databases. <br><br>  Email client support: <br><br>  Email clients with POP3 / POP3S and IMAP / IMAPS support.  For example: Mozilla Thunderbird, Microsoft Outlook, Sylpheed. <br><br>  <b>Install iRedMail.</b> <br><br>  As a mail server, I chose iRedMail.  This build Postfix + LDAP (MySQL) + SpamAssassin + ClamAV + AmaViS + Dovecot + RoundCube (SquirrelMail), etc.  In this article we will look at setting up this wonderful server based on OpenLDAP. <br><br>  <u><b>Attention!</b></u>  <u><b>Remember to change example.com to your domain name.</b></u> <br><br>  Few fix our hostname: <br> <code>vi /etc/hosts</code> <br> <br> <code>127.0.0.1 mail.example.com localhost localhost.localdomain</code> <br> <br> <code>vi /etc/hostname</code> <br> <code>mail.example.com</code> <br> <br>  Save the changes with the command: <br> <code>/etc/init.d/hostname.sh start</code> <br> <br>  Check the FQDN of the host name: <br> <code>hostname ‚Äìf</code> <br> <br>  <b><u>The entire installation is done under the root user!</u></b> <br><br>  Download this file to the / tmp directory: <br><br> <code>cd /tmp &amp;&amp; wget iredmail.googlecode.com/files/iRedMail-0.6.0.tar.bz2</code> <br> <br>  Install the archiver: <br> <code>apt-get install bzip2</code> <br> <br>  You need to unpack this archive: <br> <code>tar -xvjf iRedMail-0.6.0.tar.bz2</code> <br> <br>  Go to the directory /tmp/iRedMail-0.6.0/pkgs/ and run the installation script: <br> <code>bash get_all.sh</code> <br> <br>  The required packages will be downloaded. <br>  For dovecot to work, you need to install the Candidate version of the package.  <b><u>C another will not work!</u></b> <br> <code>apt-cache policy dovecot-common dovecot-pop3d dovecot-imapd | grep 'Candidate'</code> <br>  The team will give an empty result. <br><br>  Go to the installation script directory: <br> <code>cd /tmp/iRedMail-0.6.0/</code> <br> <br>  Run the installation script: <br> <code>bash iRedMail.sh</code> <br>  The installer window will appear: <br><img src="https://habrastorage.org/storage/habraeffect/b6/e4/b6e47c75ee0ff8a313ab7f32de550bb5.png" alt="image"><br><br>  Choose a path where all our mail will be stored: <br><img src="https://habrastorage.org/storage/habraeffect/d5/dc/d5dc294dfa1460c2d44f326c8038c723.png" alt="image"><br><br>  We select backend for our server.  MySQL and OpenLDAP are supported.  We will choose OpenLDAP: <br><img src="https://habrastorage.org/storage/habraeffect/9c/74/9c74e8ba16317f30d588b9817f793b91.png" alt="image"><br><br>  The LDAP suffix for our server is added like this: dc = example, dc = com <br><img src="https://habrastorage.org/storage/habraeffect/cf/c2/cfc2ce04fc421851a892e32d5b1b47b7.png" alt="image"><br><br>  Enter the password for the LDAP server administrator.  The default administrator account is located in /etc/ldap/slapd.conf.  Usually this: cn = Manager, dc = example, dc = com <br><img src="https://habrastorage.org/storage/habraeffect/01/de/01dea44a3e48826a0830b0002c00b698.png" alt="image"><br><br>  Enter the name of our domain: <br><img src="http://ipicture.ru/uploads/100611/PYKhB0qTta.png" alt="image"><br><br>  Enter the administrator password (postmaster): <br><img src="https://habrastorage.org/storage/habraeffect/5a/fd/5afd73e62a3f2de89b8a5a7443741df3.png" alt="image"><br><br>  The first user to be created is user: www@example.com.  We need to come up with a password for it: <br><img src="https://habrastorage.org/storage/habraeffect/91/ed/91ed98a745548b6aaea4aab6bc403b0b.png" alt="image"><br><br>  Enable the SPF check and DKIM check function: <br><img src="https://habrastorage.org/storage/habraeffect/ad/6c/ad6c1ca3ebaa9470a460636884ac8126.png" alt="image"><br><br>  We put extra.  Components: <br><img src="https://habrastorage.org/storage/habraeffect/bf/c6/bfc6494dcc1b47d1013974a902ed6653.jpg" alt="image"><br><br>  Let's make an alias for the root user: <br><img src="https://habrastorage.org/storage/habraeffect/e2/28/e228cace65a98bdf34d91eaa02980f00.png" alt="image"><br><br>  Configuration complete. <br>  The message appears: <br> <code><a href="https://example.com/postfixadmin"></a> <a href="http://debian.org/"></a> <a href="http://iredmail.org/"></a> <a href="http://www.postfix.org/"></a> <a href="http://www.openldap.org/"></a> <a href="http://www.mysql.com/"></a> <a href="http://spamassassin.apache.org/"></a> <a href="http://www.clamav.net/"></a> <a href="http://www.amavis.org/"></a> <a href="http://www.dovecot.org/"></a> <a href="http://roundcube.net/"></a> <a href="http://squirrelmail.org/"></a> <a href="http://awstats.sourceforge.net/"></a> <a href="http://phpldapadmin.sourceforge.net/wiki/index.php/Main_Page"></a> <a href="http://www.phpmyadmin.net/home_page/index.php"></a> Configuration completed. <br> <br> ************************************************************************* <br> **************************** WARNNING *********************************** <br> ************************************************************************* <br> * * <br> * Please do remember to *REMOVE* configuration file after installation * <br> * completed successfully. * <br> * * <br> * * /root/iRedMail-xyz/config <br> * * <br> ************************************************************************* <br> &lt;&lt;&gt;&gt; Continue? [Y|n] # &lt;- Type 'Y' or 'y' here, and press 'Enter' to continue <br> <br> <br>  Y    . <br>     : example.com/postfixadmin <br>   postfixadmin  postmaster@example.com     ‚Äú ‚Äù <br> <img src="http://habrastorage.org/storage/habraeffect/23/ea/23eabcfad879aacacb130b6524667724.png" alt="image"> <br> <br>  ! <br> <br>  PostfixAdmin : <br> 1.   . <br> 2.  . <br> 3.   . <br> 4.  . <br> 5.   . <br> 6.     . <br> 7.     . <br> <br>    : <br> <img src="http://habrastorage.org/storage/habraeffect/1e/69/1e69e3365c066ba9d5ae021ddff3b3f1.png" alt="image"> <br> <br>    ! <br> <br> <u><b>UPD:        MX   DNS ,     !</b></u> <br>   : <br> Debian <br> iRedMail <br> Posftix <br> OpenLDAP <br> MySQL <br> SpamAssasin <br> ClamAV <br> AMaViS <br> Dovecot <br> RoundCube <br> SquirrelMail <br> Awstats <br> phpLDAPAdmin <br> phpMyAdmin <br> <br> <i><sup>       . <br> r0ster (http://exbyte.ru)  t1mbo (http://greentale.ru)</sup></i></code> <h6> <code><u><b><a href="https://example.com/postfixadmin"></a> <a href="http://debian.org/"></a> <a href="http://iredmail.org/"></a> <a href="http://www.postfix.org/"></a> <a href="http://www.openldap.org/"></a> <a href="http://www.mysql.com/"></a> <a href="http://spamassassin.apache.org/"></a> <a href="http://www.clamav.net/"></a> <a href="http://www.amavis.org/"></a> <a href="http://www.dovecot.org/"></a> <a href="http://roundcube.net/"></a> <a href="http://squirrelmail.org/"></a> <a href="http://awstats.sourceforge.net/"></a> <a href="http://phpldapadmin.sourceforge.net/wiki/index.php/Main_Page"></a> <a href="http://www.phpmyadmin.net/home_page/index.php"></a> Configuration completed. <br> <br> ************************************************************************* <br> **************************** WARNNING *********************************** <br> ************************************************************************* <br> * * <br> * Please do remember to *REMOVE* configuration file after installation * <br> * completed successfully. * <br> * * <br> * * /root/iRedMail-xyz/config <br> * * <br> ************************************************************************* <br> &lt;&lt;&gt;&gt; Continue? [Y|n] # &lt;- Type 'Y' or 'y' here, and press 'Enter' to continue <br> <br> <br>  Y    . <br>     : example.com/postfixadmin <br>   postfixadmin  postmaster@example.com     ‚Äú ‚Äù <br> <img src="http://habrastorage.org/storage/habraeffect/23/ea/23eabcfad879aacacb130b6524667724.png" alt="image"> <br> <br>  ! <br> <br>  PostfixAdmin : <br> 1.   . <br> 2.  . <br> 3.   . <br> 4.  . <br> 5.   . <br> 6.     . <br> 7.     . <br> <br>    : <br> <img src="http://habrastorage.org/storage/habraeffect/1e/69/1e69e3365c066ba9d5ae021ddff3b3f1.png" alt="image"> <br> <br>    ! <br> <br> UPD:        MX   DNS ,     ! <br>   : <br> Debian <br> iRedMail <br> Posftix <br> OpenLDAP <br> MySQL <br> SpamAssasin <br> ClamAV <br> AMaViS <br> Dovecot <br> RoundCube <br> SquirrelMail <br> Awstats <br> phpLDAPAdmin <br> phpMyAdmin <br> <br> <i><sup>       . <br> r0ster (http://exbyte.ru)  t1mbo (http://greentale.ru)</sup></i></b></u></code> </h6> <code><a href="https://example.com/postfixadmin"></a> <a href="http://debian.org/"></a> <a href="http://iredmail.org/"></a> <a href="http://www.postfix.org/"></a> <a href="http://www.openldap.org/"></a> <a href="http://www.mysql.com/"></a> <a href="http://spamassassin.apache.org/"></a> <a href="http://www.clamav.net/"></a> <a href="http://www.amavis.org/"></a> <a href="http://www.dovecot.org/"></a> <a href="http://roundcube.net/"></a> <a href="http://squirrelmail.org/"></a> <a href="http://awstats.sourceforge.net/"></a> <a href="http://phpldapadmin.sourceforge.net/wiki/index.php/Main_Page"></a> <a href="http://www.phpmyadmin.net/home_page/index.php"></a> Configuration completed. <br> <br> ************************************************************************* <br> **************************** WARNNING *********************************** <br> ************************************************************************* <br> * * <br> * Please do remember to *REMOVE* configuration file after installation * <br> * completed successfully. * <br> * * <br> * * /root/iRedMail-xyz/config <br> * * <br> ************************************************************************* <br> &lt;&lt;&gt;&gt; Continue? [Y|n] # &lt;- Type 'Y' or 'y' here, and press 'Enter' to continue <br> <br> <br>  Y    . <br>     : example.com/postfixadmin <br>   postfixadmin  postmaster@example.com     ‚Äú ‚Äù <br> <img src="http://habrastorage.org/storage/habraeffect/23/ea/23eabcfad879aacacb130b6524667724.png" alt="image"> <br> <br>  ! <br> <br>  PostfixAdmin : <br> 1.   . <br> 2.  . <br> 3.   . <br> 4.  . <br> 5.   . <br> 6.     . <br> 7.     . <br> <br>    : <br> <img src="http://habrastorage.org/storage/habraeffect/1e/69/1e69e3365c066ba9d5ae021ddff3b3f1.png" alt="image"> <br> <br>    ! <br> <br> <u><b>UPD:        MX   DNS ,     !</b></u> <br>   : <br> Debian <br> iRedMail <br> Posftix <br> OpenLDAP <br> MySQL <br> SpamAssasin <br> ClamAV <br> AMaViS <br> Dovecot <br> RoundCube <br> SquirrelMail <br> Awstats <br> phpLDAPAdmin <br> phpMyAdmin <br> <br> <i><sup>       . <br> r0ster (http://exbyte.ru)  t1mbo (http://greentale.ru)</sup></i></code> <h6> <code><i><sup><a href="https://example.com/postfixadmin"></a> <a href="http://debian.org/"></a> <a href="http://iredmail.org/"></a> <a href="http://www.postfix.org/"></a> <a href="http://www.openldap.org/"></a> <a href="http://www.mysql.com/"></a> <a href="http://spamassassin.apache.org/"></a> <a href="http://www.clamav.net/"></a> <a href="http://www.amavis.org/"></a> <a href="http://www.dovecot.org/"></a> <a href="http://roundcube.net/"></a> <a href="http://squirrelmail.org/"></a> <a href="http://awstats.sourceforge.net/"></a> <a href="http://phpldapadmin.sourceforge.net/wiki/index.php/Main_Page"></a> <a href="http://www.phpmyadmin.net/home_page/index.php"></a> Configuration completed. <br> <br> ************************************************************************* <br> **************************** WARNNING *********************************** <br> ************************************************************************* <br> * * <br> * Please do remember to *REMOVE* configuration file after installation * <br> * completed successfully. * <br> * * <br> * * /root/iRedMail-xyz/config <br> * * <br> ************************************************************************* <br> &lt;&lt;&gt;&gt; Continue? [Y|n] # &lt;- Type 'Y' or 'y' here, and press 'Enter' to continue <br> <br> <br>  Y    . <br>     : example.com/postfixadmin <br>   postfixadmin  postmaster@example.com     ‚Äú ‚Äù <br> <img src="http://habrastorage.org/storage/habraeffect/23/ea/23eabcfad879aacacb130b6524667724.png" alt="image"> <br> <br>  ! <br> <br>  PostfixAdmin : <br> 1.   . <br> 2.  . <br> 3.   . <br> 4.  . <br> 5.   . <br> 6.     . <br> 7.     . <br> <br>    : <br> <img src="http://habrastorage.org/storage/habraeffect/1e/69/1e69e3365c066ba9d5ae021ddff3b3f1.png" alt="image"> <br> <br>    ! <br> <br> <u><b>UPD:        MX   DNS ,     !</b></u> <br>   : <br> Debian <br> iRedMail <br> Posftix <br> OpenLDAP <br> MySQL <br> SpamAssasin <br> ClamAV <br> AMaViS <br> Dovecot <br> RoundCube <br> SquirrelMail <br> Awstats <br> phpLDAPAdmin <br> phpMyAdmin <br> <br>        . <br> r0ster (http://exbyte.ru)  t1mbo (http://greentale.ru)</sup></i></code> </h6> </div><p>Source: <a href="https://habr.com/ru/post/96314/">https://habr.com/ru/post/96314/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../96300/index.html">Subversion Installation on Synology DS210j</a></li>
<li><a href="../96305/index.html">Thinking out loud about protocol X</a></li>
<li><a href="../96307/index.html">Thunderbird 3.1 RC2 released</a></li>
<li><a href="../96308/index.html">Black market reopened</a></li>
<li><a href="../96310/index.html">Project Offset</a></li>
<li><a href="../96315/index.html">Habrex first update</a></li>
<li><a href="../96316/index.html">Intel¬Æ Parallel Debugger Extension</a></li>
<li><a href="../96323/index.html">Using IPv4 addresses on a Russian scale</a></li>
<li><a href="../96324/index.html">Search car on mail.ru</a></li>
<li><a href="../96325/index.html">Foxconn may close its plants in China</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>