<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Node v0.10.0</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I am pleased to announce the release of a new stable version of Node. 

 Going to it brings significant improvements in many areas, focused on improvi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Node v0.10.0</h1><div class="post__text post__text-html js-mediator-article">  I am pleased to announce the release of a new stable version of Node. <br><br>  Going to it brings significant improvements in many areas, focused on improving the API, on ease of use, on backward compatibility. <br><br>  A very brief overview of significant API changes compared to v0.8, please, <a href="">on the wiki page about API changes</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Streams2 </h2><br>  In the <a href="http://blog.nodejs.org/2012/12/20/streams2/">previous blog post,</a> we presented you an API change called ‚Äú <a href="http://blog.nodejs.org/2012/12/20/streams2/">Streams2</a> ‚Äù.  If you did not have time to examine them, please read, now at least the then subsection <nobr>"tl; dr".</nobr> <br><br>  Changes to the thread interface were prepared a long time ago.  From the earliest days of Node, we all seemed to know <nobr>that ‚Äú</nobr> data <nobr>events</nobr> start coming right away‚Äù <nobr>and ‚Äúcalling</nobr> pause () does not necessarily have an <nobr>effect‚Äù is</nobr> a terrible and unnecessary garbage.  In version 0.10, we finally strained and made radical changes that improved the behavior of threads. <br><br>  More importantly, now all the threads in the Node core are based on the same set of easily extensible main classes, so that their behavior is much more predictable, and it‚Äôs unbelievably easier to create streaming interfaces for your own user programs. <br><br>  In truth, the Streams2 API was developed as it was used for modules from the npm registry.  Currently, <a href="https://npmjs.org/browse/depended/readable-stream">37 published Node modules</a> already use the <a href="https://npmjs.org/package/readable-stream">readable-stream</a> library as one of their dependencies.  The npm readable-stream package allows you to use the new form of the Stream interface in your previous v0.8 code. <br><br><a name="habracut"></a><h2>  Error domains and error handling </h2><br>  The status of the <b>domain</b> module is upgraded from "experimental" <nobr>to "unstable."</nobr>  The internal module has undergone additional first-class processing, which will simplify its use in a number of boundary cases observed when using this module for error handling on top of <nobr>version v0.8.</nobr>  In particular, home error handling no longer relies on the <b>process.on ('uncaughtException')</b> handler, <nobr>and C ++ code</nobr> in Node is now aware of domains. <br><br>  If you have not used domain catching errors in your programs before, but sometimes you would like to receive improved debugging information about errors thrown out (especially in the middle of many requests and asynchronous calls), then you should definitely try this module. <br><br><h2>  Acceleration process.nextTick </h2><br>  In version 0.8 (and even earlier), the <b>process.nextTick (</b> ) function placed the callback function passed to it in the event queue.  This <b>usually</b> led to the launch of a <i>callback</i> before <nobr>I / O</nobr> operations began <nobr>.</nobr>  However, this behavior was not guaranteed. <br><br>  As a result, in a variety of programs (and in some parts of the Node engine), the use of <nobr><b>process.nextTick</b></nobr> began as an interface "to do this later - but before real <nobr>I / O</nobr> begins <nobr>."</nobr>  And since everything usually happened this way, this approach seemed to be suitable. <br><br>  However, under load, it was possible for the server to queue such a large number of <nobr>I / O</nobr> operations that the calls transmitted <nobr>via <b>nextTick were</b></nobr> pushed back.  And this led to ridiculous mistakes, caused a race condition - and this could not be fixed, unless the nextTick semantics were changed. <br><br>  So that's exactly what we did.  In version 0.10, the <b>nextTick</b> handlers <b>are</b> triggered immediately after each call, <nobr>from C ++</nobr> to JavaScript of what is happening.  And this means that if <nobr><code>process.nextTick</code></nobr> is called in your javascript code <nobr>,</nobr> then the transferred callback function will start immediately after the main code has been processed - <b>before</b> the moment when the processing of the event queue begins.  The race is over.  All is well. <br><br>  However, there were also such programs that used the recursive <b>process.nextTick</b> call to postpone the next step of long-term low-priority tasks until the moment when the <nobr>I / O</nobr> event queue was completed <nobr>.</nobr>  So that nothing breaks, the Node engine will now print a warning about this situation and ask you to switch to the new <b>setImmediate</b> function for such calls. <br><br><h2>  Response time and garbage collection in free time </h2><br>  In languages ‚Äã‚Äãthat rely on garbage collection, it is far from easy to configure correctly.  To avoid unnecessary use of memory, the Node engine previously attempted to point the V8 engine to the need for garbage collection whenever the event queue was empty. <br><br>  Unfortunately, it is very difficult to know exactly when such a need arises.  "Free time" may not be <nobr>very</nobr> free, and if you make a mistake, you can spend a lot of time collecting garbage at the most unexpected moment.  In practice, it turned out that disabling the <b>IdleNotification</b> call leads to improved performance, but not to unnecessary memory usage, because the V8 engine itself knows quite well when it is better to start garbage collection. <br><br>  So in version 0.10 we picked out this challenge.  (There is such a point of view that we got rid of the bug, which was the very use of this call from the very beginning.) As a result, the response time became predictable and stable.  You will not notice differences in benchmarks as a result, however, you will probably find that the response times of your application have become more reliable. <br><br><h2>  Performance and benchmarks </h2><br><blockquote><blockquote>  <b>Translator's note:</b> on Habrahabr, as far as I know, there are no <nobr>tolerable</nobr> means at all for changing the background in blocks of text written in a single-width font.  Therefore, I will refrain from translating this subsection with piles of numbers - read it in the original source, who needs it.  Its essence is that the performance of the Node engine in a number of its possible applications, but in some it decreased (for example, buffers <nobr>and UTF-8 strings</nobr> are sent a little slower through the network). </blockquote></blockquote><br><h2>  Continuous integration </h2><br>  To maintain a high level of code stability (and so you can hope for an earlier error trapping), we use Jenkins, which runs each commit through a set of tests on each of the supported operating systems.  You can watch this <a href="http://jenkins.nodejs.org/"><nobr>on the</nobr> Node Jenkins <nobr>web portal</nobr></a> . <br><br>  Soon, we will begin the daily autogeneration of nightly builds <i>(nightly builds),</i> and over time the whole process of releasing new versions of Node will be automated. <br><br>  Although the developers rather scrupulously used tests and benchmarks, with a manual and private approach, some of the shortcomings could be overlooked.  General automated product testing will prevent product deterioration, similar to the <nobr>one for which</nobr> <nobr>release of 0.10 was</nobr> delayed for several months. <br><br><h2>  External development </h2><br>  A year ago, we announced that innovations in the Node world would occur in the field of custom modules.  Now we have embodied this opinion in its logically complete form, developing new versions of the <b>internal</b> modules of Node as user ones.  The appearance of <b>readable-stream</b> <nobr>and <b>tlsnappy modules</b></nobr> in this form allowed them to get more user testing, experimentation, code donations. <br><br>  Such a module can be used as a compatibility layer, allowing libraries to use the new Node features even if they need to support older versions of the Node engine.  This way of developing internal Node modules is extremely effective.  Further development of future developments in the form of custom modules will continue. <br><br><h2>  Growing up </h2><br>  Often they ask with interest whether the Node engine is ready for the real business.  I usually answer that it depends on the requirements of your present business, and many high-load sites work on Node, and the possibilities of ‚Äúreal‚Äù companies using Node <i>in Business</i> have increased more <nobr>than ever</nobr> before. <br><br>  There is not enough space here to provide a complete list of companies using Node, and a full list of support and training options.  However, here are a few options that quickly expand and fill the ‚ÄúNode for Enterprise‚Äù space. <br><br>  Those looking for commercial support come in handy with <a href="http://strongloop.com/">StrongLoop</a> (Ben Noordhuis and Bert Belder‚Äôs company), releasing a distro containing <nobr>Node v0.10,</nobr> which they will support on Windows, Macs, Red Hat / Fedora, Debian / Ubuntu and many cloud platforms.  You can download their distribution Node <a href="http://strongloop.com/products">there</a> . <br><br>  <a href="http://thenodefirm.com/">The Node Firm</a> is the worldwide organization of key Node code authors and community members helping businesses successfully use Node.  They provide training services for staff, consulting, architectural instructions, <a href="http://thenodefirm.com/nodejs-consulting-subscriptions">subscribing to consultations</a> , which helped Skype, Qualcomm and other customers to quickly and efficiently learn Node. <br><br>  Node in its current form is inconceivable without <a href="https://npmjs.org/">npm</a> , and npm - without its register of published modules.  However, for many businesses it is problematic to rely on the public registry.  <a href="https://www.irisnpm.com/">Iris npm</a> offers a fully managed private <nobr>npm registry</nobr> <nobr>from <a href="http://www.iriscouch.com/">Iris Couch</a> , the</nobr> team responsible for running the public <nobr>npm registry.</nobr> <br><br>  <a href="http://joyent.com/">Joyent</a> - a company that is probably known to you as the keeper of the Node project - provides a high-performance cloud infrastructure, specializing in real-time applications in site building and for mobile devices.  Joyent makes extensive use of Node in its engineering solutions, and also offers impressive <a href="http://dtrace.org/blogs/dap/2012/05/31/debugging-node-js-in-production-fluent-slides/">tools for debugging applications after crashes and real-time performance analysis</a> for applications on Node.js.  Joyent is also my employer, so I would have to look for ‚Äúreal‚Äù work if they were not <nobr>sponsors of Node :)</nobr> <br><br><h2>  What's next: v0.12 </h2><br>  The development of Node v0.12 will focus on improving HTTP.  The current implementation of HTTP in Node is quite good, and it is quite enough for many interesting applications.  But: <br><br><ol><li>  The source code is excessively confused.  A lot of code is simultaneously used in the server and the client, but in such a way that it is unpleasant to even read it, not to mention the correction of errors.  There will be a separation of server and client code, their interfaces will become more clear. <br></li><li>  The behavior of the socket poll maker is puzzling and unnatural.  We will make it configurable and render it into a separate utility.  That will make KeepAlive more reasonable, and also make all these elements suitable for use in your own programs. </li></ol><br>  Experiments are underway on the <a href="https://github.com/indutny/tlsnappy">tlsnappy</a> module, which can later become an internal implementation of TLS and significantly speed up this matter. <br><br><h2>  1.0 </h2><br>  After 0.12, the next major stable version will be 1.0.  At that moment, not much will change in the daily work of the project, however, this version will become an important milestone of stability and reduced readiness for the introduction of new features.  However, even without that, we are strictly striving for backward compatibility, so that the change will not prove to be strong either. <br><br>  New versions, however, will continue to be released, especially as new versions of the components on which the Node is based are released, and bugs will be fixed.  They discussed the linking of the Node release cycles to the V8 and some interesting possibilities to automate the release process of the new versions. <br><br>  The goal of Node has always been to achieve the ‚Äúfinal‚Äù state of the main program over time.  Of course, this strap is fairly sublime, and not even out of reach.  But with the widespread introduction of Node and the growing diversity of Node applications, we are getting closer to the day when significant innovations will occur outside the main Node program. <br><br>  Stability of the platform provides development on top of it. <br><br>  And now - the traditional release report: <br><br><h2>  March 11, 2013, version 0.10.0 (stable) </h2><br><ul><li>  npm: upgrade to version 1.2.14 <br></li><li>  core: correctly complement the file name in dlopen under Windows (isaacs) <br></li><li>  zlib: correctly handle havoc flags (isaacs) <br></li><li>  domains: handle errors thrown in nested error handlers (isaacs) <br></li><li>  buffer: clear high bits when converting to ASCII (Ben Noordhuis) <br></li><li>  win / msi: unlock modification and restoration (Bert Belder) <br></li><li>  win / msi: make some parts of Node selectable (Bert Belder) <br></li><li>  win / msi: constancy of paths to keys in the registry (Bert Belder) <br></li><li>  child_process: support dgram socket send (Andreas Madsen) <br></li><li>  fs: a Windows EISDIR error will occur when applying fs.read/write to a directory (isaacs) <br></li><li>  unix: eliminate strict pseudonymity warnings, macro-define functions (Ben Noordhuis) <br></li><li>  unix: respect the environment variable UV_THREADPOOL_SIZE (Ben Noordhuis) <br></li><li>  win / tty: correct typo in the color attribute enumeration (Bert Belder) <br></li><li>  win / tty: do not touch the insert mode or quick edit (Bert Belder) </li></ul></div><p>Source: <a href="https://habr.com/ru/post/172363/">https://habr.com/ru/post/172363/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../172345/index.html">Making a VoIP GSM gateway from Tp-link mr-3020 and Huawei E-171 - part two - add Siemens Gigaset c470IP and SMS</a></li>
<li><a href="../172351/index.html">Leap Motion. Impressions</a></li>
<li><a href="../172353/index.html">Procter & Gamble found guilty of attempting to illegally seize a domain</a></li>
<li><a href="../172357/index.html">Electronic tattoo applied directly to the skin</a></li>
<li><a href="../172361/index.html">Interactive ‚Äúmap‚Äù of Twitter employee interactions</a></li>
<li><a href="../172365/index.html">RoboEarth Cloud Engine: a cloud platform and ‚Äúcollective intelligence‚Äù for robots</a></li>
<li><a href="../172369/index.html">Five ways to save Windows 8</a></li>
<li><a href="../172373/index.html">Monitoring a web application using a browser</a></li>
<li><a href="../172375/index.html">How to get more from trainings and seminars</a></li>
<li><a href="../172381/index.html">Antimonopoly Service of Russia will check Gmail</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>