<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Basics of creating a 2D character in Unity 3D 4.3. Part 1: character preparation and animation of rest</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Part 1: character preparation and animation of rest 
 Part 2: Running Character 
 Part 3: jumping (and falling) 

 Good day everyone. In a relatively ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Basics of creating a 2D character in Unity 3D 4.3. Part 1: character preparation and animation of rest</h1><div class="post__text post__text-html js-mediator-article"> <b>Part 1: character preparation and animation of rest</b> <br>  <a href="http://habrahabr.ru/post/211847/">Part 2: Running Character</a> <br>  <a href="http://habrahabr.ru/post/212309/">Part 3: jumping (and falling)</a> <br><br>  Good day everyone.  In a relatively recently released Unity 4.3 tools for creating 2D games appeared.  Of course, such games could have been created before, but this was done with the help of additional tricks (here's <a href="http://habrahabr.ru/post/122197/">an example</a> from Habr).  Now there is support for 2D "out of the box."  I hope the developers will continue to develop it, but for now I want to talk about some of the techniques for working with new 2D tools. <br><a name="habracut"></a><br>  For the basis of the lesson, I took the official <a href="http://unity3d.com/learn/tutorials/modules/beginner/2d/2d-controllers">video tutorial</a> from Unity3d.com.  It creates an animated controlled 2D character.  He can stand, run, jump.  All this is accompanied by appropriate animations.  The lesson is quite long (almost an hour and a half) and contains a bit of ‚Äúwater‚Äù, so I decided to do some text translation.  In this part we will discuss the very basics - we will create a static platform for our character, the character himself, and make the character a rest animation.  Running and jumping will be discussed later, but we will create the basis for this now.  I will try to describe all operations in detail, but you should have basic knowledge about the Unity interface.  On the same official site of Unity there are good and fast lessons on the interface. <br><br>  So, let's begin.  Let's create a new project in Unity.  Select the folder for the project location, we will not import additional packages.  Be sure to indicate that we are creating a project that is configured for a 2D game ( <i>Setup defaults for: 2D</i> ). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Project created.  In the <i>Project</i> window we should have one folder - <i>Assets</i> .  Let's create in it a subfolder of <i>Sprites</i> , where we will store the sprites - the graphic files needed to display characters, background, gender, bonuses and other game objects.  We need a sprite to display the platform on which our character will run.  For this fit any rectangular image.  At the end of the post I indicated a link to the archive with the sprites that were used in the lesson.  This is a little sprites from the game Capitan Claw.  The platform sprite file is called <i>Platform.png</i> .  Copy it to the folder <i>Sprites</i> .  Now we need to drag the <i>Platform</i> sprite onto the <i>Scene</i> window.  Our project has a camera called <i>Main Camera</i> .  It will display what we see in the game.  Drag the sprite of the platform so that it appears in the lower corner of the camera's field of view (if you click on the camera, then a <i>Camera Preview</i> window will appear at the bottom of the scene, by which you can control what the camera is currently seeing).  Unity will automatically create a game object with two components ‚Äî <i>Transform</i> and <i>Sprite Render</i> .  The first is responsible for the position of our platform, the second is responsible for its rendering.  But we still need to prevent the character from falling through this platform, so we‚Äôll add the <i>Box Collider 2D</i> component to the platform object from the <i>Physics 2D</i> section.  So now we should have something like this: <br><img src="https://habrastorage.org/getpro/habr/post_images/f65/aab/ecf/f65aabecfb6ba79cc3dfec96dfa4a9f7.png"><br><br>  Now let's take a character.  Create an empty game object ( <i>Game Object</i> - <i>Create Empty</i> ) and drag it so that it hangs over the left side of the platform.  Rename this object as <i>Character</i> and add the <i>Rigidbody 2D</i> component to it to give our character the physical properties of a solid body.  In the <i>Rigidbody 2D</i> component, select the <i>Fixed Angle</i> checkbox to prevent accidental rotations of our character, for example, from colliding with other solid bodies.  Then set <i>Interpolate</i> to <i>Interpolate</i> .  Documentation Unity recommends setting this value for player-controlled characters, especially if it is followed by a camera.  This is due to the synchronization of the calculation of physics and drawing graphics.  Details in the documentation. <br><br>  The next step is to add the <i>Sprite Render</i> component to draw the character.  Why can not we just transfer the desired sprite, and get automatically generated <i>Sprite Render</i> , as is the case with platforms?  Because our character, unlike platforms, will be drawn not with one, but with several sprites in order to get an animated character.  To do this, we will have to perform a series of actions and the first of them is to get the appropriate sprite sheet ( <i>Sprite Sheet</i> ).  A sprite is an image that contains animation frames for our character.  I think it is no secret to anyone that the animation is a consistent and fast display of non-animated frames, each of which is slightly different from the previous one.  Google on request <i>Sprite Sheet</i> , and you will immediately understand what it is.  We need spriteshits for rest, running and jumping.  In the archive with sprites there are files <i>Idle.png</i> , <i>Run.png</i> , and <i>Jump.png</i> .  Copy them to the folder <i>Sprites</i> .  At this stage there should be the following: <br><img src="https://habrastorage.org/getpro/habr/post_images/b1e/903/d5f/b1e903d5f20cd63f8b474ca4072d26be.png"><br><br>  Let's start animating the character, and specifically - to animate the state of rest, when the character just stands and does nothing.  More precisely, he does not do anything from the point of view of game logic, but he can shift from one foot to the other, blink, make gestures, showing that he is bored so easy to stand and so on.  To animate the rest we need the file <i>Idle</i> from our folder <i>Sprites</i> .  Highlight this file.  The <i>Inspector</i> window displays the properties of this file.  The <i>Texture Type</i> property is set as <i>Sprite</i> , and this is what we need, but the value of the <i>Sprite Mode</i> property must be changed from <i>Single</i> to <i>Multiple</i> .  Thus, we have indicated that the file does not play the role of a single sprite, but is a collection of sprites.  However, this collection still needs to be initialized.  To do this, just click on the button <i>Sprite Editor</i> , which is all in the same <i>Inspector</i> window just below the <i>Pixels To Units</i> property.  A new window will open.  In it we see the contents of our spriteshit for the state of rest: several similar frames.  We need to cut them into separate images.  To do this, click on the <i>Slice</i> button in the upper left corner of the window.  First, we need to set the method ( <i>Type</i> ) of cutting the image: <i>Grid</i> or <i>Automatic</i> .  The first way is to cut our image with a mesh with customizable cell sizes ( <i>Pixel Size</i> - X ... Y ...).  That is, in this mode, it is necessary to select such values ‚Äã‚Äãso that all the frames fit in the cells normally, so that nothing extra is cut off, etc.  In the second mode, cutting into frames will be performed automatically.  The cutting itself will occur after pressing the <i>Slice</i> button.  Try different cutting methods and see what comes out of it.  In the case of my sprite, the <i>Automatic</i> method normally works.  Even if some of the frames came out a bit unsuccessfully - it can be edited by clicking on it and changing the values ‚Äã‚Äãof the height / width / location and other parameters in the corresponding window or using the mouse.  Confirm the cutting by clicking on the <i>Apply</i> button in the upper right corner and close this window. <br><img src="https://habrastorage.org/getpro/habr/post_images/f3f/c8f/865/f3fc8f8653e02574d4fa3c4f7dffe297.png"><br><br>  Now we need to find our imported <i>Idle</i> file in the <i>Project</i> window.  There is a triangle on the right side of the file (or on the left, with the smallest mastabe icons).  Clicking on a triangle, we expand the collection of images obtained as a result of cutting.  They will have the names <i>Idle_0</i> , <i>Idle_1</i> , etc. Now, in the <i>Hierarchy</i> window, select our <i>Character</i> , and drag the image <i>Idle_0</i> into the <i>Sprite</i> field of the <i>Sprite Rende</i> r component.  Our character appears on stage.  If it turned out small - you can increase its size to the required.  Like this: <br><img src="https://habrastorage.org/getpro/habr/post_images/458/5b0/ae9/4585b0ae98fcc1119f3e39f4722532e7.png"><br><br>  Let's immediately add to our character the <i>Box Collider 2D</i> component, which does not fall through the platform.  At the same time, we will adjust the size and location of the collider so that it is not too large and is located at the level of the legs of the character.  This is enough so that the character does not fall through the platform.  You can start the game and check it out. <br><img src="https://habrastorage.org/getpro/habr/post_images/2fc/453/710/2fc4537100ec3796320e4cd0ff36212e.png"><br><br>  Let's return to the rest animation.  To do this, we add to our <i>Character</i> another component - <i>Animator</i> (section <i>Miscellaneous</i> ).  Change some of its properties - remove the flag from the <i>Apply Root Motion</i> and set the <i>Anymate Physics</i> flag.  <i>Apply Root Motion</i> allows you to change the position of the object from the animation itself (which we do not need now), and the included flag <i>Anymate Physics</i> sets the animation to run in the physics calculation cycle, which is recommended for moving solids.  Now we will create an <i>Animator Controller</i> file in the <i>Assets</i> folder.  Let's call it <i>CharacterController</i> .  In the <i>Hierarchy</i> window, select our <i>Character</i> and drag the <i>CharacterController</i> into the <i>Controller</i> field of the <i>Animator</i> component: <br><img src="https://habrastorage.org/getpro/habr/post_images/f07/817/c98/f07817c981c36ca9e70673e252b09f67.png"><br><br>  Double click on <i>CharacterController</i> - a new window <i>Animator</i> will open.  In it, we will create different states of animation (rest, run, jump) and set the conditions for the transition between them.  To create animations directly, we need an animation window.  If you don‚Äôt see it yet, you can enable it from the Unity main menu ( <i>Window</i> - <i>Animation</i> ).  Now select our Character <i>Character</i> in the <i>Hierarchy</i> window, and in the <i>Animation</i> window, click the button to create a new animation and select <i>Create New Clip</i> .  In the screenshot below, I marked this button with a red circle: <br><img src="https://habrastorage.org/getpro/habr/post_images/acf/ae5/8f4/acfae58f4b0d7d551b461afab37d4048.png"><br><br>  In the standard file save dialog, first create the <i>Animations</i> folder, and in it save our animation file, naming it I <i>dle</i> . <br><img src="https://habrastorage.org/getpro/habr/post_images/495/a88/5af/495a885af48e2bb5444aa2c577490d5f.png"><br><br>  After saving, our <i>Idle</i> animation will appear in the <i>Animator</i> window as an orange rectangle.  Orange color means that this will be the default animation - just what we need right now. <br><br>  Only a couple of steps left.  Go to the folder <i>Sprites</i> , expand the sprite <i>Idle</i> , <i>select the</i> first image <i>Idle_0</i> , <i>hold down the</i> shift and <i>select the</i> last image <i>Idle_7</i> .  All selected images are transferred by mouse to the <i>Animation</i> window.  Set the <i>Sample</i> value to 10 ‚Äî this parameter indicates the number of frames of animation per second.  As you know, for good animation it is necessary that it be displayed at a speed of at least 24 frames per second, however, in our case, the animation consists of a rather small number of frames and at a value of 24 it will be displayed too quickly. <br><img src="https://habrastorage.org/getpro/habr/post_images/d01/aea/960/d01aea960858e4b7bf0cc76d7fc08f7c.png"><br><br>  Run the game!  If done correctly, our Captain Claw must stand on the platform, breathe, and wag his tail. <br><img src="https://habrastorage.org/getpro/habr/post_images/03a/85a/581/03a85a5815ce1cd31c5eb549c83a0d94.png"><br><br>  That's all for now.  Next time we will talk about the implementation of the character running left and right and the corresponding animation. <br><br>  <a href="https://drive.google.com/file/d/0B5GzwYagj4HgeFhOTFVvQy10VEk/edit%3Fusp%3Dsharing">Link</a> to sprites. </div><p>Source: <a href="https://habr.com/ru/post/211472/">https://habr.com/ru/post/211472/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../211462/index.html">FlightCar: peer-to-peer car exchange and the fight against bureaucrats</a></li>
<li><a href="../211464/index.html">Testing Digium phones with Asterisk and setting up Smart BLF</a></li>
<li><a href="../211466/index.html">A simple Python script to learn English words or why I don‚Äôt use flashcards</a></li>
<li><a href="../211468/index.html">VLC stereo player</a></li>
<li><a href="../211470/index.html">How to run a program without an operating system: part 5. Accessing the BIOS from the OS</a></li>
<li><a href="../211474/index.html">The easiest cross-platform server with ssl support</a></li>
<li><a href="../211476/index.html">About liberties in the links or the simplest messaging</a></li>
<li><a href="../211478/index.html">Experience of implementing caching in a small project with a strong social component</a></li>
<li><a href="../211480/index.html">Playing MIDI sounds in JAVA</a></li>
<li><a href="../211482/index.html">Unity3D WWW Wrapper</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>