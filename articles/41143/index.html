<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Managed operating system are you talking about? Give me a couple ...</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Typical developer error 
 Perhaps every programmer at least once attended the idea at night that it would be nice to write your own Operating System. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Managed operating system are you talking about? Give me a couple ...</h1><div class="post__text post__text-html js-mediator-article"><h4>  Typical developer error </h4><br>  Perhaps every programmer at least once attended the idea at night that it would be nice to write your own Operating System. <br>  In any case, I made a mistake by allowing this thought to absorb my own interests. <br><br><h4>  On the development of operating systems: modern realities. </h4><br>  Roughly speaking, there are monolithic cores and micronuclei.  First, all I / O, process control and many of the main drivers are inside one big process.  The second ones carry out the solution of these tasks in separate small modules. <br><br>  While the latter provide at least one obvious advantage, which is better stability (the dead module can be replaced), in practice Linux and Windows use monolithic kernels.  Why?  They are easier to implement. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br>  Actually, I know only 3 microkernels: <a href="http://en.wikipedia.org/wiki/Mach_kernel">Mach</a> kernel MacOS X, kernel <a href="http://en.wikipedia.org/wiki/L4_microkernel_family">L4</a> and kernel Minix OS, written by the well-known Andrew Tanenbaum. <br><br>  Although the most common operating system, Windows, still has a monolith inside, the guys from Microsoft have been developing a completely new kernel for a long time. <br><br><h4>  Singularity </h4><br>  Back in the early 20th year, when C # and .NET were just gaining momentum, I got the idea of ‚Äã‚Äãtrying to write an operating system on managed code.  However, at that time this thought remained a thought.  What was my surprise when a year later I saw on Microsoft Research a page dedicated to the development of a new OS.  They decided to apply the benefits of managed code to the development of the operating system.  This is how the <a href="http://research.microsoft.com/os/singularity">Singularity</a> project came about. <br><br><h4>  Managed code </h4><br>  With the transition to managed code, we get one huge advantage: we can control the program before it starts to run.  What can be learned from this? <br><br>  The property of the entire managed code: the programmer can not make a mistake in working with memory.  And this means that as long as we are confident in the compiler of our intermediate code, we can also be sure that our programs do not contain buffer overflow vulnerabilities (the most common critical vulnerability), do not write to other people's memory by mistake and do not read data by hanging signs.  The garbage collector takes on the heavy burden of managing the program's memory (for now, though with some loss of performance). <br><br>  We can rely on the static analysis of the program, thus eliminating the need for hardware memory protection.  For the simplest processors, this means that at last you can safely run a multi-tasking OS and not be afraid that the programs will kill each other.  For modern processors of the x86 line, this makes it possible to run all programs in kernel mode, which removes the overhead of switching from one mode to another on every system call. <br><br>  We can add other rules of almost arbitrary complexity and check whether the program satisfies them before launching it, rather than with each access to the resource, as is done in many cases in existing OSs. <br><br>  Singularity combines all of these benefits.  For obvious reasons, Microsoft used its own Common Language Infrastructure implementation as a virtual machine.  OS processes can all work in kernel mode, while remaining protected from each other.  Drivers get API and advanced features based on contracts.  A programmer can write his programs in any .NET compatible language. <br><br><h4>  Open projects </h4><br>  Microsoft is one part of the world.  An ordinary programmer is different.  Yes, Singularity RDK is laid out, but the company is unlikely to provide an opportunity to participate directly in the development of the OS. <br><br>  The idea has spread.  In the open source community, there are some developments.  <a href="http://en.wikipedia.org/wiki/Cosmos_(operating_system)">Cosmos</a> and <a href="http://en.wikipedia.org/wiki/SharpOS_(operating_system)">SharpOS</a> .  For the first one, I even wrote more than a dozen lines (basically translating MSIL into assembly code). <br><br>  Both of these developments have been around for quite a while.  However, some things forced me to abandon assiduous participation in these projects. <br><br>  First, none of them has yet implemented the most important thing: the garbage collector.  Therefore, the code of Cosmos and SharpOS is in fact not manageable. <br><br>  Secondly, none of the projects follow the path that seems more correct to me - development from the lowest level to the highest, from the kernel and compiler to drivers and user programs.  In Cosmos, there is already code for working with Ethernet, but there is no JIT compiler and such important OS concepts as process and stream. <br><br><h4>  Virtual machine with your own hands? </h4><br>  Learn and practice.  As a student of the system programming department, it is very interesting for me to practice writing a compiler and / or OS.  But at the same time to understand something new. <br><br>  F # is selected as the language, the target architecture is AMD64 (it is somewhat easier to write for it than for the usual x86).  This afternoon (after a couple of months of irregular programming in my spare time), I still managed to compile the simplest function (the nth member of the Fibonacci sequence) with my MSIL -&gt; AMD64 binary translator.  The generated code is still wrong (:)), because  some things have not yet been completed, but already close enough to what is needed. <br><br><h4>  Conclusion </h4><br>  I really hope that SharpOS and / or Cosmos will eventually become full-fledged operating systems (not from outsiders) and that my own workings will take part in the race of managed technologies. <br><br>  PS Join OS community! <br></div><p>Source: <a href="https://habr.com/ru/post/41143/">https://habr.com/ru/post/41143/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../41131/index.html">My idea for a better world</a></li>
<li><a href="../41134/index.html">Five steps to build a crisis-proof business</a></li>
<li><a href="../41136/index.html">Why prices continue to rise?</a></li>
<li><a href="../41141/index.html">About online communities</a></li>
<li><a href="../41142/index.html">LJ - is it possible to catch up with traffic or something more?</a></li>
<li><a href="../41148/index.html">Enable NX-bits in a 32-bit core on a 64-bit CPU</a></li>
<li><a href="../41149/index.html">I don't understand anything in SEO</a></li>
<li><a href="../41150/index.html">jQuery will ship with Visual Studio</a></li>
<li><a href="../41151/index.html">Svn. Rolling back server changes</a></li>
<li><a href="../41152/index.html">Unkillable flash drive. Homemade</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>