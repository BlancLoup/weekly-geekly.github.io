<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to be friends with STM32</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="No, no, no, it's not like that ! 

 Let's be friends with STM32 right! 

 The main mistake made by the author is the wrong toolkit.  Starting to be fr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to be friends with STM32</h1><div class="post__text post__text-html js-mediator-article">  No, no, no, it's not <a href="http://habrahabr.ru/post/247241/">like that</a> ! <br><br>  Let's be friends with STM32 right! <br><br>  The main mistake made by the author is the wrong toolkit. <a name="habracut"></a>  Starting to be friends with STM32 controllers should, of course, with the STM32Fx-Discovery boards.  They already have a programmer-debugger, all the necessary body kit, legs for connecting peripherals and buns in the form of LEDs, screens, sensors and DACs, depending on the board.  The price of discovery starts from 10 dollars.  This is a penny for an instant and trouble-free start.  Those.  you don‚Äôt need to buy anything more from hardware (mini-USB cable, I suppose you will find it at home) to flash the LED, study spatial orientation systems, work with sound and graphics output and make a USB device. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      An additional bonus is that the external MK can be programmed using the programmer from the discovery; <br><br>  But let's say your soul does not have a discovery.  All right, I understand.  We look then, on what ST-Link V1 / V2 debuggers are built.  And they are built on the microcontroller STM32F103C8T6 (@ eta4ever, yes, yes, he is).  Accordingly, if you have a board on this MK, then it can be turned into a ST-Link V2 programmer.  To fill the firmware, you can use either the instruction from STM ( <a href="http://www.st.com/web/en/resource/technical/document/application_note/CD00161640.pdf">AN2557 STM32F10x in-application programming using the USART</a> ) or the same discovery, if available, and the utility <a href="http://www.st.com/web/en/catalog/tools/PF258168">STM32 ST-LINK utility</a> .  Or buy a debugger.  It costs $ 25, but the thing is useful if you are going to at least seriously deal with it. <br><br>  By the way, about the board.  The Chinese sell a lot of ready-made boards, like <a href="http://www.aliexpress.com/snapshot/6194978016.html">these</a> .  Such a shawl for $ 6 - not bad at all.  Better just such a scarf for $ 4.  So, we order such scarves, after receiving we turn one into a programmer, and have fun with the others.  Well, not a fairy tale? <br><br>  So how do you make a programmer?  A pair of resistors, a little wire and fifteen minutes to read <a href="http://forum.easyelectronics.ru/viewtopic.php%3Ff%3D17%26t%3D6620%26start%3D200">this topic here</a> .  What to connect with: <br><blockquote>  - connect PA5 and PB13 is a SWCLK line <br>  - between PB14 and PB12 a 220 Ohm resistor <br>  - SW14 line SWDIO <br>  - Connect PA0 to a divider of two 4.7 kOhm cuts between GND and + 3.3V </blockquote><br>  <a href="http://forum.easyelectronics.ru/viewtopic.php%3Fp%3D342403">We</a> <a href="http://forum.easyelectronics.ru/viewtopic.php%3Fp%3D282160">are flashing this firmware</a> . <br><br>  Check everything and try.  If the programmer is recognized by the system, then we connect it to another board and try to flash it with some firmware (at least with the same St-Link), but using the programmer.  Everything should work. <br><br>  A few words about IDE.  CooCox is not bad, convenient and all that, but they are very tight with resources and they do not have time to support new microcontrollers, and besides, their priority seems to be LPC.  I ran into this with the support of the MK on the STM32F0-Discovery board.  I waited for the promised support for several months, but I spat and went to IAR.  Iarov's environment is called EWARM (Embedded Workbench for ARM), the free version is enough for the eyes (the code limit is 8 kb, I have never stuck with it), it is downloaded <a href="http://www.iar.com/Service-Center/Downloads/">from here</a> .  Another KuCox sin is that they break something periodically in new releases and the stability of the environment is low - it can simply close all windows without saving changes.  Whoever did not live in the hostel, where the light was cut out once an hour and does not have the habit of pressing Ctrl + S every 30 seconds, can get very badly.  IAR is also not without sins, in the first place, the ugly markup of the code infuriates and the lack of selection of active / inactive code depending on the preprocessor directives, but you can live with it.  It is important that just to take and build a project under STM32 will not work (sorry, I will not insert a picture with Boromir).  If you want, I will write a detailed step-by-step instruction (with pictures!) About how to create your own project from scratch. <br><br>  PS But still, savages!  Because on something else to take and make a fig from scratch: <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/-9VUFPyy_9Y%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253&amp;usg=ALkJrhhVDJZekwqhhDzJnxLrOOttNsppyQ" frameborder="0" allowfullscreen=""></iframe></div><p>Source: <a href="https://habr.com/ru/post/247255/">https://habr.com/ru/post/247255/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../247243/index.html">Conferences that are waiting for us in 2015</a></li>
<li><a href="../247247/index.html">All about versions of Windows 8.1 and how to legally download the latest image without a subscription</a></li>
<li><a href="../247249/index.html">Zsh: fucky new year</a></li>
<li><a href="../247251/index.html">Programming Philosophy - Three-Way Programming</a></li>
<li><a href="../247253/index.html">Java Check State</a></li>
<li><a href="../247257/index.html">Fitts law or how to use it</a></li>
<li><a href="../247261/index.html">Integration of PayPal to the site as a payment system and the problem with https</a></li>
<li><a href="../247263/index.html">Dagaz: Factorial is easy!</a></li>
<li><a href="../247265/index.html">Evolution of Zeus. Part III</a></li>
<li><a href="../247267/index.html">Win32 / Virlock - the first self-propagating extortionist</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>