<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Pro trackpoint and mouse emulation</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Why do you need it and how to implement it programmatically 
 A lot of reasoning 
 In the previous article about setting up docking stations, I mentio...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Pro trackpoint and mouse emulation</h1><div class="post__text post__text-html js-mediator-article"><h1>  Why do you need it and how to implement it programmatically </h1><br><h2>  A lot of reasoning </h2><br>  In the previous article about setting up docking stations, I mentioned how hard it was, at one time, I was using laptops in the ‚Äúconsumer‚Äù segment.  The lack of a docking port and the need to connect a bunch of cables every time you come home or to work is annoying and annoying, but what really caused suffering is the lack of a trackpoint: the very ‚Äúred one‚Äù that can be found on laptops from IBM / Lenovo (blue or gray in the case of HP and DELL).  Details can be read on the same <a href="https://ru.wikipedia.org/wiki/%25D0%25A2%25D0%25B5%25D0%25BD%25D0%25B7%25D0%25BE%25D0%25BC%25D0%25B5%25D1%2582%25D1%2580%25D0%25B8%25D1%2587%25D0%25B5%25D1%2581%25D0%25BA%25D0%25B8%25D0%25B9_%25D0%25B4%25D0%25B6%25D0%25BE%25D0%25B9%25D1%2581%25D1%2582%25D0%25B8%25D0%25BA">Wikipedia</a> . <br><br>  Why is it needed?  When most operations are performed from the keyboard, be it writing code or working in the command shell, the need to move the hand to the mouse in order to move the graphic cursor and click something there does not cause much joy. <br><br><img src="https://habrastorage.org/files/fe5/76c/4d1/fe576c4d11364046945f1d144315c874.png"><br><a name="habracut"></a><br>  The particular dislike of using the mouse creates the habit of working at a sufficient distance from the monitor (up to two meters), placing the keyboard on your lap.  Here a wonderful mini-joystick comes to the rescue: to manipulate the graphic cursor, the whole brush does not need to leave the limits of the home row, you only need to move the index finger of the right or left hand, and the keys are under the thumbs.  For clarity, here is an old video from IBM: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/n4Ss6F1qIHU%3Ffeature%3Doembed&amp;xid=17259,15700023,15700043,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhqScXRYQjlIzVs__yJzUh-xzE07g" frameborder="0" allowfullscreen=""></iframe><br><br>  The problem is that at the moment, finding a decent keyboard equipped with such a device is getting harder: only <a href="http://www.pckeyboard.com/">Unicomp</a> produces them serially, while the keyboards themselves are quite cumbersome, with the classic 104-key layout. <br><br>  There are models from Lenovo that are mainly oriented for use in the server rack (that is, most of the time, lying there, connected to the console) with a rather low quality of materials (cheap, quickly wiping plastic, flimsy legs), plus all these keyboards are membrane. <br><br> <a href=""><img src="https://habrastorage.org/files/85d/e3a/c96/85de3ac9653643ef86fe9df6f4d9584b.jpg"></a> <br><br>  Of the three IBM / Lenovo keyboards, the Space Saver 2 is the warmest feeling: a rather heavy, rough plastic, strong legs and rubber inserts that did not peel off after about eight years of operation.  The disadvantage of this keyboard is exactly one: it is also membrane with all the consequences. <br><br>  The so-called 60% keyboards with a trackpoint are literally very handy when used in a Unix environment: <a href="https://geekhack.org/index.php%3Ftopic%3D58458.0">Tex Yoda</a> and <a href="http://www.guru-board.com/">Guru-board</a> , and they are rather custom than serial-made. <br><br> <a href=""><img src="https://habrastorage.org/files/f79/881/37b/f7988137baa447c0b835dc3308caf3c2.jpg"></a> <br> <a href=""><img src="https://habrastorage.org/files/da4/67f/f19/da467ff19060455bb4b6eb11e5d470f4.jpg"></a> <br><br>  In general, it‚Äôs hard now for trackpoint lovers: the choice is very small.  You have to either look for model M rarities from IBM, or purchase Unicomp, or be content with Lenovo's scissor membranes (by the way, it‚Äôs not quite cheap either). <br><br> <a href=""><img src="https://habrastorage.org/files/1f8/6b7/cc3/1f86b7cc36704766aa8e42481bc8601e.jpg"></a> <br><br>  Thus, the idea was born that it would be nice to emulate the trackpoint itself.  That is, control the movement of the graphic cursor from the keyboard. <br><br><h2>  Few settings </h2><br>  Immediately I remembered that in the X-system the necessary functionality was once available: you can use padpad to control the graphic cursor (activation by Shift + Numlock). <br><br>  True, I haven‚Äôt been using keyboards with nampads for a long time, and again pulling the brush back and forth is not the case.  Therefore, this method is not suitable.  We will go the other way. <br><br>  There is a utility: xdotool, which allows to emulate keystrokes and mouse movements.  It is suitable not only to simulate mouse movements, but also to automate any mouse-keyboard actions. <br><br>  And so, the script is simple: bind the call to xdotool with the necessary parameters for hot keys, or enter an additional keyboard mode. <br><br>  Install: <br><pre><code class="hljs vala"><span class="hljs-meta"><span class="hljs-meta">#apt-get install xdotool</span></span></code> </pre> <br><br>  Since I use the <a href="https://i3wm.org/">i3</a> window manager, I will show it by example.  It is a pleasure to create keyboard modes that can be used both for keychains and modified input, in this WM: <br><pre> <code class="hljs objectivec">mode <span class="hljs-string"><span class="hljs-string">"name"</span></span>{ bindsym &lt;key&gt; action bindsym &lt;key&gt; mode <span class="hljs-string"><span class="hljs-string">"default"</span></span> <span class="hljs-meta"><span class="hljs-meta">#  } bindsym </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;key&gt;</span></span></span><span class="hljs-meta"> mode </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"name"</span></span></span><span class="hljs-meta"> #  </span></span></code> </pre><br><br>  In order to move the mouse cursor to a given position relative to the current location, run the following command: <br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">xdotool</span></span> mousemove_relative xy</code> </pre><br><br>  To emulate a click: <br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">xdotool</span></span> click [<span class="hljs-number"><span class="hljs-number">123</span></span>]</code> </pre><br>  Where 1 is the left button, 2 is the middle button, 3 is the right button. <br><br>  And the config for i3 will look like this: <br><pre> <code class="hljs perl">mode <span class="hljs-string"><span class="hljs-string">"rat"</span></span> { bindsym f <span class="hljs-keyword"><span class="hljs-keyword">exec</span></span> --<span class="hljs-keyword"><span class="hljs-keyword">no</span></span>-startup-id xdotool click --delay <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> bindsym --release a <span class="hljs-keyword"><span class="hljs-keyword">exec</span></span> --<span class="hljs-keyword"><span class="hljs-keyword">no</span></span>-startup-id xdotool click --delay <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> bindsym --release i <span class="hljs-keyword"><span class="hljs-keyword">exec</span></span> --<span class="hljs-keyword"><span class="hljs-keyword">no</span></span>-startup-id xdotool key --clearmodifiers --delay <span class="hljs-number"><span class="hljs-number">20</span></span> Shift+Insert bindsym --release l <span class="hljs-keyword"><span class="hljs-keyword">exec</span></span> --<span class="hljs-keyword"><span class="hljs-keyword">no</span></span>-startup-id xdotool mousemove_relative <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> bindsym --release h <span class="hljs-keyword"><span class="hljs-keyword">exec</span></span> --<span class="hljs-keyword"><span class="hljs-keyword">no</span></span>-startup-id xdotool mousemove_relative -- -<span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> bindsym --release j <span class="hljs-keyword"><span class="hljs-keyword">exec</span></span> --<span class="hljs-keyword"><span class="hljs-keyword">no</span></span>-startup-id xdotool mousemove_relative <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> bindsym --release k <span class="hljs-keyword"><span class="hljs-keyword">exec</span></span> --<span class="hljs-keyword"><span class="hljs-keyword">no</span></span>-startup-id xdotool mousemove_relative <span class="hljs-number"><span class="hljs-number">0</span></span> -<span class="hljs-number"><span class="hljs-number">20</span></span> bindsym Return <span class="hljs-keyword"><span class="hljs-keyword">exec</span></span> --<span class="hljs-keyword"><span class="hljs-keyword">no</span></span>-startup-id xdotool click --delay <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; mode <span class="hljs-string"><span class="hljs-string">"default"</span></span> bindsym Escape mode <span class="hljs-string"><span class="hljs-string">"default"</span></span> bindsym Mod1+Escape mode <span class="hljs-string"><span class="hljs-string">"default"</span></span> } bindsym Mod1+Escape mode <span class="hljs-string"><span class="hljs-string">"rat"</span></span></code> </pre><br>  I think that the config does not need excessive comments: everything seems to be pretty obvious. <br><br>  Unfortunately, to implement the acceleration of the cursor offhand failed. <br><br>  For those who use other window managers or DE, I can recommend the utility <a href="http://www.nongnu.org/xbindkeys/">xbindkeys</a> . <br><br>  A trackpoint is certainly much more convenient, but it's still better than reaching for a mouse every time. <br><br>  Someone may ask: if we work for a laptop, then why not use the touchpad?  First of all, I personally use it hard, right up to the onset of pain: without tearing the fingers off the home row, the control is performed by the thumb of a strong hand, turned out at an obtuse angle.  In this position, the finger quickly begins to hurt.  If you poke your index finger, then again there is the problem of transferring the brush, and in this case it is much easier and more logical to take on the mouse.  Also terribly annoyed by false positives while typing, learned to turn off when typing not so long ago, and even then not all. <br><br>  That's all for now.  Such a solution is quite suitable as a temporary measure.  And as a permanent, I plan to restore IBM SpaceSaver 2 and convert it into a mechanic. </div><p>Source: <a href="https://habr.com/ru/post/275427/">https://habr.com/ru/post/275427/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../275415/index.html">Collect and use game statistics with Google Player Analytics</a></li>
<li><a href="../275417/index.html">DevFest Kaliningrad-2015: photo report</a></li>
<li><a href="../275419/index.html">Android application development contest for students</a></li>
<li><a href="../275421/index.html">New podcasts about professional development for Android</a></li>
<li><a href="../275425/index.html">DevTips: Web Developer Tips (33-48)</a></li>
<li><a href="../275429/index.html">Counterfeiters vs. Bankers: Bleed adversarial networks in Theano</a></li>
<li><a href="../275431/index.html">Hibernate envers. Substitution ID of the user who made the change</a></li>
<li><a href="../275435/index.html">Redux Tutorial from Library Creator</a></li>
<li><a href="../275439/index.html">Working with Arduino from a C # application</a></li>
<li><a href="../275441/index.html">Experience installing SolidWorks on a Windows 7 virtual machine on a Ubuntu host OS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>