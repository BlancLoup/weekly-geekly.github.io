<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>VicoVR - the subtleties of the development of the Russian controller for mobile virtual reality</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="3DiVi recently introduced its VicoVR project at the IndieGoGo crowdfunding platform, where it plans to raise $ 75,000. 
 The technical director of 3Di...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>VicoVR - the subtleties of the development of the Russian controller for mobile virtual reality</h1><div class="post__text post__text-html js-mediator-article"><h2>  3DiVi recently introduced its VicoVR project at the IndieGoGo crowdfunding platform, where it plans to raise $ 75,000. </h2><br>  The technical director of 3DiVi, Andrey Valik, answered my questions. <br><img src="https://habrastorage.org/files/343/b80/46b/343b8046bdeb48469fcf7eb231ab48de.png"><br><br>  VicoVR is a sensor for mobile virtual reality.  We can say that this is a 3D sensor with built-in processing of the depth map, which transmits already prepared data via Bluetooth to a smartphone or any other device, thereby transferring your body to virtual reality. <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/eMK_2wmWG9g%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhgvaVMCO-lRfhoO2cX2rW8Ssz29SA" frameborder="0" allowfullscreen=""></iframe><br><a name="habracut"></a><br><br><h3>  Tell us more about the product </h3><br>  In the hardware part, the sensor consists of a 3D sensor (we use an OEM Orbbec module) and a controller to process the depth map received from the sensor and transfer data to the smartphone. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>The software consists of two parts:</b> <br>  firmware that runs on the sensor controller.  Here, the main value is software, which contains our middleware for processing the depth map, highlighting segments of people, further highlighting skeletons and recognizing gestures.  We have been developing middleware for more than four years. <br><br>  The client part that runs on the smartphone actually receives the data and sends it to the top application. <br><br>  Thus, we removed the heavy processing of the depth map from the smartphone, freeing all its resources for working with VR.  We have worked a lot and continue to work on reducing the delay in processing and transferring data.  Much work has been done on optimizing and compressing data during transmission over Bluetooth. <br><br><h3>  What goals did you set for yourself by launching a crowdfunding campaign? </h3><br>  <b>We set ourselves 2 goals:</b> <br><ul><li>  probe the market and find out the interest of people in a similar solution for Mobile VR. </li><li>  collect pre-orders and raise funds to start the production of sensors. </li></ul><br><br><img src="https://habrastorage.org/files/04d/4bb/d1e/04d4bbd1ef5a47a2960c166370572b58.png"><br><br><h3>  What is the difference from Microsoft Kinect? </h3><br>  The physical principle of the sensor is the same, but all the processing of the depth map is transferred to the sensor itself.  In this way, we release the host device from the depth map processing and gesture recognition, leaving all the resources for the final application.  In addition, we have a wireless interface to communicate with the host device. <br><br>  We also focused on optimizing our middleware for ARM platforms, which are more energy efficient than desktop solutions, are cheaper and more compact, which allows us to process data in real-time on the embedded controller.  Moreover, Microsoft does not position Kinect as a sensor for VR applications. <br><br><h3>  Why did you decide to concentrate on mobile virtual reality? </h3><br>  We see the future in mobile virtual reality, and not in desktop VR solutions. <br><br>  <b>The advantages of mobile VR platform over heavy desktop VR solutions are as follows:</b> <br><br><ul><li>  cheapness </li><li>  lack of wires </li><li>  constant updating of smartphones and a gradual approach of their capabilities to desktop solutions </li><li>  increasing the market share of mobile gaming applications </li></ul><br><br><img src="https://habrastorage.org/files/592/75a/388/59275a388828449da2932a18083e9e93.jpg"><br><br>  Currently, Google has released an announcement of the software platform for mobile virtual reality Daydream.  This platform will be released this fall and in fact it will be the next Android update for smartphones that will support this platform. <br>  This platform will bring the quality of mobile virtual reality to the quality of desktop solutions in terms of minimizing delays and comfort.  VicoVR would be a great addition to Daydream ... <br><br><h3>  Have you developed all the development yourself or turned to third-party companies? </h3><br>  The design of the sensor case for us was developed by the company Innozen Design, and the rest is all by ourselves. <br>  For hardware, we received support from Samsung - they were interested in our project and as a result we made a controller on an Exynos processor. <br><br><img src="https://habrastorage.org/files/21e/2a8/597/21e2a8597e664ccdb6c7c7e882f55605.jpg"><br><br><h3>  Production and assembly where will happen? </h3><br>  Production and assembly will be in China and Taiwan.  Final assembly, testing and packaging will take place at Foxconn, in Taiwan.  This company consolidates production of most 3D sensors on the market.  For start-up projects like ours, they produce the first test batches in Taiwan at the head office, then, as production increases, they transfer it to other countries. <br>  Printed circuit boards are manufactured, assembled, and tested, also in Taiwan, at Foxconn partners.  Body parts are manufactured in China. <br><br><h3>  Tell us about the first prototypes. </h3><br>  We started with prototypes using Asus Xtion sensors and Odroid U3 debugging boards, the first demonstration was made at the MWC exhibition in March 2015.  After that we started developing our controller.  In October 2015, we launched the first revision of the prototype on our controller.  Still without a case, as a separate board <br><br><img src="https://habrastorage.org/files/214/913/54c/21491354cd494bb6a285b5fe64f45090.jpg"><br><br>  In December, the cases and the second revision of the controller were made, the first sample was assembled and demonstrated at CES 2016. At the moment, the third revision of the controller with a coprocessor is being tested to authorize the connection to iOS, apparently this is the final revision that will go into mass production if it does not appear EMC certification problems. <br><br>  We have made two models of cases, one of an alloy of zinc and aluminum, the second contains partially plastic elements for cheaper prices.  Currently testing both. <br><br><h3>  What difficulties did you encounter during the design process?  What has undergone significant changes? </h3><br>  There were all sorts of difficulties, it is good when they exist, otherwise it would be boring to live :) The very first difficulty we faced was the search for Russian manufacturers who can make a printed circuit board of such complexity as ours. <br><br>  The technological complexity of the board is due to the components used - these are chips in the BGA package: PMIC with 0.4mm pitch and SoC (Samsung Exynos) with 0.5mm pitch.  These enclosures involve the use of HDI (High Density Interconnection) PCB ‚Äî high interconnect density printed circuit boards. <br><br>  Within this technology, ‚Äúblind‚Äù and ‚Äúburied‚Äù vias are used.  Their peculiarity lies in the fact that they are not performed through the entire PCB, but only to a depth of several layers.  ‚ÄúDeaf‚Äù holes connect one of the outer layers with the inner ones (performed by a laser), and ‚Äúhidden‚Äù connect the topology between the inner layers, they do not have access to the outer layers (depending on the diameter and depth, they are performed either by laser or by traditional drilling) . <br><br>  These types of holes impose a limit on the thickness of dielectrics - the depth of the hole cannot exceed its diameter.  The thickness of the dielectric between the metallization layers in turn affects the configuration of high-speed tracks (in our case, this is DDR3).  With a thin dielectric, these paths should have a small width (in our case, up to 79 Œºm) to provide the required impedance.  Also, a small width of the conductors is required to display links between the Exynos contact pads - we have 65 microns.  The gaps between the elements of the topology in the Exynos trace area and in the RAM are the toughest and up to 65 microns. <br><br>  For HDI boards, the introduction of several cycles of metallization of holes, the filling of cavities of microholes is characteristic (for execution of the so-called stacked via are composite vias).  All this, together with the small size of the topology, requires tighter tolerances on the mutual arrangement of the layers, the pressing processes of thin dielectric materials, the processes of chemical etching and deposition of copper on the foil, the application of the finishing coating on the contact pads. <br><br>  One of the manufacturers in the Russian Federation first agreed to perform the necessary work, but then began to put forward requirements for the alteration of the printed circuit board to reduce the complexity, we did several iterations, which took as a result almost 2 months, and as a result decided to turn directly to Chinese manufacturers.  The first prototype of the board was made in China, and then Foxconn recommended us its partner for the production of printed circuit boards in Taiwan. <br><br>  Installation of printed circuit boards for prototypes and testing during development, we do in Chelyabinsk on Technocom. <br><br>  Then there were problems with the purchase of prototype collations.  For example, some of the components that were recommended in the Samsung device simply do not come to Russia. <br><br>  Separate song with customs clearance and collation.  For example, we cleared the batch of Orbbec sensors for almost a month. <br><br>  We will most likely go to the next such iron development in China, where it is possible to shorten the development time by about two times, despite the current ‚Äútendency‚Äù to import substitution and transfer of production to Russia. <br><br>  As a result, they first raised the U-Boot in the internal memory of the processor, then for two weeks they started DDR, until they found three and a half thousand pages in the description of a light mention of special memory protection registers, and found the correct configuration using a scientific method :) <br>  Then we loaded the kernel and compiled a minimal distribution based on ubunt. <br>  Then there was a long struggle with the bluetooth wifi controller and its firmware. <br><br>  At the moment, all the pressing problems of an iron nature have been solved, we are demonstrating sensors at various exhibitions.  Development goes in the field of software optimization for our hardware. <br><br><img src="https://habrastorage.org/files/26e/2b2/bde/26e2b2bded9e42e2aea5a734a841a9ff.jpg"><br><br><h3>  Tell us about the stuffing, what processor are you using, etc.? </h3><br><ul><li>  The processor is used by the Samsung Exynos HEXA 5260 SCP variant, that is, without DDR memory installed on it. </li><li>  RAM also samsung DDR3 dual channel 1GB </li><li>  EMMC also samsung 4GB </li><li>  Bluetooth-WiFi module AP6210. </li></ul><br><br><h3>  How was the design developed? </h3><br>  At first, they turned to a Russian company for design, received sketches, and somehow did not get hooked. <br>  Then we were recommended by the company Innozen Design, we received sketches of three options from them and the majority liked the concept of Power Crystal. <br><br><img src="https://habrastorage.org/files/755/751/cd2/755751cd21e34819903b6f31c367ef94.png"><br><br><h3>  Now specifically what are you working on? </h3><br>  Now we are working on software optimization.  To maximize CPU utilization and reduce processing time.  In addition, we are constantly working to improve the quality of skeletonization. <br><br>  Special attention is given to the development of applications and approaches to management in virtual reality.  At the moment, more than 10 applications have been developed for our sensor and mobile VR, part of it is done by ourselves, part of our partners.  You have to look for convenient, intuitive and easy ways to interact with VR. <br><br>  The main problem that users face is nausea, now the term Virtual reality sickness is often encountered.  This happens because of the inconsistency of movements in VR with movements in real life, or rather not even movements, but accelerations that act on the vestibular apparatus of a person. <br><br>  Many people write that this is strongly influenced by the delay in transmitting movements and movements to the screen of the VR helmet.  For almost two years we have been developing and testing various applications for VR with active movements that are monitored by our sensor and we came to the conclusion that there are 2 types of movements in VR: <br><br>  Head rotation  In our experience, they should be worked out quickly, with a minimum delay, which in principle is decided by the fact that they are processed in the smartphone based on its sensors or on the basis of helmet sensors, for example in GearVR.  A further to reduce this delay will allow the recently announced Google Daydream platform.  It is this delay that very critically affects the comfort in VR, because there are always accelerations and there is no way to do without them. <br><br>  Linear displacement.  These movements are not very critical, provided that often accelerations are either absent or they are consistent with human actions.  There are two options to avoid discomfort in VR during linear movements: <br>  The exclusion of acceleration.  It is possible to eliminate accelerations - for example, games like runners with movement in one direction with constant speed or just playing on the spot without moving, or using teleportation to move to VR. <br>  The consistency of human movement in real life and in VR.  If the human brain receives conflicting information from the organs of vision and from the vestibular apparatus, then nausea and discomfort occur.  In our experience, if movements in reality (coming from the vestibular apparatus) are consistent with movements in VR (coming from the organs of vision), then the brain easily compensates for the delay between them and there are no unpleasant sensations.  Thus, the main thing is to transfer movements from the real world to the virtual world as best as possible, albeit with a slight delay.  And as much as possible to exclude unpredictable accelerations in VR. <br><br>  On an ongoing basis, we are faced with the task of improving the quality of skeleton recognition to reduce errors during transmission. <br><br><h3>  What are the future plans? </h3><br>  The nearest plans are to collect a sufficient number of pre-orders for the crowdfunding campaign and launch production.  Until the end of the year everything is pretty tightly painted. <br><br>  1. EVT (Engineering Validation Test) 03/2016 - 05/2016, we are at the very end of this phase. <br>  - PCB testing and correction <br>  - manufacture of molds <br>  - development of testing stands for production <br>  - assembly of 15 EVT samples for testing <br>  - production of devkits for developers <br><br>  2. DVT (Design Validation Test) 05/2016 - 07/2016 <br>  - PCB correction <br>  - mold correction <br>  - making 20 DTV samples <br>  - began certification procedures, FCC, CE, Laser <br><br>  3. Product Validation Test 07/2016 - 09/2016 <br>  - build and test 100 PVT samples <br>  - certification completion, FCC, CE, Laser <br><br>  4. MP - 11/2016, the first volume 5000pcs. <br>  the start of production of the first batch of 5000 pieces <br><br><img src="https://habrastorage.org/files/1f2/98c/b48/1f298cb483944288a2f477574682dc5d.jpg"><br><br>  At the end of this year, it will be necessary to start the development of the next generation of the controller using a new processor and a new sensor.  We have proposals from Asus to use their new 3D sensor module in the future, and Samsung put forward proposals for new processor lines. We are also looking forward to the release of the Google Daydream platform for porting our SDK and applications. </div><p>Source: <a href="https://habr.com/ru/post/394279/">https://habr.com/ru/post/394279/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../394267/index.html">Online sales in the B2B sector</a></li>
<li><a href="../394269/index.html">Roskomnadzor proposes to fine for poor-quality wiretapping and incomplete recording of telephone conversations of Russians</a></li>
<li><a href="../394271/index.html">Gadgets to simplify the rest in the country and outside the city</a></li>
<li><a href="../394273/index.html">26-year-old man received a prosthetic arm with a phone charger, a flashlight and a drone</a></li>
<li><a href="../394277/index.html">The first satellite in the world made by primary school students was launched into space.</a></li>
<li><a href="../394283/index.html">Disney lets you stroll through the Millennium Falcon in the Disney Movies VR app.</a></li>
<li><a href="../394285/index.html">Twitter will cease to consider links in the limit of 140 characters per message</a></li>
<li><a href="../394287/index.html">Windows Phone ... everything? OS takes only 0.7% of the smartphone market</a></li>
<li><a href="../394289/index.html">Customs officers of the Russian Federation: Apple Watch is an ordinary wrist watch with a customs rate of 10%</a></li>
<li><a href="../394291/index.html">Entrepreneur collects money for reproduction of events 9/11</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>