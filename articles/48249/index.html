<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Introduction to text search</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Probably any programmer at least once in his life faced the task of finding a string in a string. Once I had to face it. Since then, this business is ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Introduction to text search</h1><div class="post__text post__text-html js-mediator-article">  Probably any programmer at least once in his life faced the task of finding a string in a string.  Once I had to face it.  Since then, this business is very fond of me.  Not to say that I have achieved a lot in this, but I am not going to stop. <br>  That's why I decided to write, but, in order to start more or less smoothly, I would like to make an introduction in the form of several introductory articles on the basics of text search. <br><br><a name="habracut"></a><br>  When an ‚Äúordinary‚Äù person needs to find some subsequence of characters in an ‚Äúordinary‚Äù text, he almost always looks for approximately, that is, not necessarily an exact match, because the text may have an error, and in real text the form may be somewhat different. from the search pattern. <br>  Thus, two types of search can be distinguished: Exact String Matching Algorithm and Fuzzy String Matching Algorithm. <br><br><h3>  Exact search </h3><br>  Exact search is simpler to implement, but the simplest one is brute force, called the brute force algorithm in accordance with the translation. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote><code><font color="black"><font color="#0000ff">int</font> Match( <font color="#0000ff">string</font> input, <font color="#0000ff">string</font> pattern) <br> { <br> <font color="#0000ff">int</font> inputLength = input.Length; <br> <font color="#0000ff">int</font> patternLength = pattern.Length; <br> <br> <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt;= inputLength - patternLength; i++) <br> { <br> <font color="#0000ff">bool</font> success = <font color="#0000ff">true</font> ; <br> <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; patternLength; j++) <br> { <br> <font color="#0000ff">if</font> (input[i + j] != pattern[j]) <br> { <br> success = <font color="#0000ff">false</font> ; <br> <font color="#0000ff">break</font> ; <br> } <br> } <br> <font color="#0000ff">if</font> (success) <font color="#0000ff">return</font> i; <br> } <br> <font color="#0000ff">return</font> -1; <br> }</font></code> </blockquote> <br><br>  The algorithm attempts to match the search pattern with a part of the input string of the same length starting from the zero character.  If this attempt fails, the match is made from the first character, and so on. <br><img alt="brute force" src="http://smages.com/i/39/0b/390b13c58c026f57c449c1ee46859538.gif"><br><br><h3>  Fuzzy search </h3><br>  What we have with a fuzzy search?  In principle, a fuzzy search can be organized by slightly modifying an already written algorithm. <br>  But first, a little theory. <br>  Let us be given some integer k, and some function of the distance (distance) of the substring under consideration from the sample.  We need to find a substring s such that distance (s) &lt;k. <br><br><h3>  Hamming distance </h3><br>  The simplest option is to look for the remoteness of two lines of the same length - to determine the number of mismatched characters in the corresponding positions, or the number of substitutions to get an identical line, which is essentially the same.  This option was proposed by Hemming, and therefore the remoteness function is called the Hamming distance. <br><br><h3>  Levenshtein distance </h3><br>  If you want to compare rows of different lengths, then you need to use the delete and insert operations. <br>  There are also two options here. <br><img src="http://smages.com/i/e1/92/e19226a41c29c6e4a700ef13731404d5.gif"><br><ol><li>  The remoteness function or distance d is defined as the number of replacements, deletions or insertions necessary to obtain the desired pattern from the considered line. <br><img src="http://smages.com/i/22/b5/22b5dca8f5313046d00c5b5020846d7f.gif"><br></li><li>  d is defined as the sum of the prices of changes in a substring to get the desired pattern, where <br><ul><li>  removal cost = 1 </li><li>  insert price = 1 </li><li>  replacement price = 2 (first delete the character for 1 and also for the price of 1, insert the desired one) </li></ul><br><img src="http://smages.com/i/61/b4/61b47ca2acf6618b565605b96ab97002.gif"><br></li></ol><br><br>  Fuzzy search can be used to search for possible fixes when checking spelling, the main thing is not to set the number k too small, or glitches are possible like in Firefox: <br><img src="http://smages.com/i/b4/93/b49398a2a1d4ea056e335a72a7d11743.gif"><br><br>  Let's try to implement a fuzzy search on the brute force algorithm.  We change the inner loop so that for each substring it finds the Hamming distance.  You will also need another parameter - k.  And for this case, in my opinion, it will be more convenient to use real k in the range from zero to one.  This number will show the maximum percentage of mismatches.  Then the formula will be somewhat different: <br>  distance (s) &lt;= length (s) * k. <br>  So, the implementation: <br><br><blockquote> <code><font color="black"><font color="#0000ff">int</font> Match( <font color="#0000ff">string</font> input, <font color="#0000ff">string</font> pattern, <font color="#0000ff">double</font> k) <br> { <br> <font color="#0000ff">if</font> (k &lt; 0 || k &gt; 1) <br> <font color="#0000ff">throw</font> <font color="#0000ff">new</font> ArgumentException( <font color="#A31515">"Invalid value for coefficient"</font> , <font color="#A31515">"k"</font> ); <br> <br> <font color="#0000ff">int</font> inputLength = input.Length; <br> <font color="#0000ff">int</font> patternLength = pattern.Length; <br> <br> <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt;= inputLength - patternLength; i++) <br> { <br> <font color="#0000ff">int</font> distance = 0; <br> <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; patternLength; j++) <br> { <br> <font color="#0000ff">if</font> (input[i + j] != pattern[j]) <br> { <br> distance++; <br> } <br> } <br> <font color="#0000ff">if</font> (distance &lt;= k * patternLength) <font color="#0000ff">return</font> i; <br> } <br> <font color="#0000ff">return</font> -1; <br> }</font></code> </blockquote> <br><br>  And a little refactor code for decency: <br><br><blockquote> <code><font color="black"><font color="#0000ff">public</font> <font color="#0000ff">int</font> Match( <font color="#0000ff">string</font> input, <font color="#0000ff">string</font> pattern, <font color="#0000ff">double</font> k) <br> { <br> <font color="#0000ff">if</font> (k &lt; 0 || k &gt; 1) <br> <font color="#0000ff">throw</font> <font color="#0000ff">new</font> ArgumentException( <font color="#A31515">"Invalid value for coefficient"</font> , <font color="#A31515">"k"</font> ); <br> <br> <font color="#0000ff">int</font> inputLength = input.Length; <br> <font color="#0000ff">int</font> patternLength = pattern.Length; <br> <br> <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt;= inputLength - patternLength; i++) <br> { <br> <font color="#0000ff">if</font> (GetDistance(input.Substring(i, patternLength), pattern) &lt;= k * patternLength) <br> <font color="#0000ff">return</font> i; <br> } <br> <font color="#0000ff">return</font> -1; <br> } <br> <br> <font color="#0000ff">private</font> <font color="#0000ff">int</font> GetDistance( <font color="#0000ff">string</font> subString, <font color="#0000ff">string</font> pattern) <br> { <br> <font color="#0000ff">int</font> changesCount = 0; <br> <font color="#0000ff">int</font> patternLength = pattern.Length; <br> <br> <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt; patternLength; i++) <br> { <br> <font color="#0000ff">if</font> (subString[i] != pattern[i]) <br> changesCount++; <br> } <br> <font color="#0000ff">return</font> changesCount; <br> } <br></font></code> </blockquote><br><br>  Summing up, I will say that the presented algorithms are very inefficient, however, the topic does not pretend to be anything but an introduction to the text search. <br><br>  <a href="">Here</a> you can download the archive of the project with tests. <br><br>  <font color="#cccccc">ps Next, I plan to continue my undertakings in the form of a series ‚Äúparsing for dummies‚Äù, which I am for now :)</font> </div><p>Source: <a href="https://habr.com/ru/post/48249/">https://habr.com/ru/post/48249/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../48239/index.html">Yellowsn0w - promised soft unlock for iPhone 3G</a></li>
<li><a href="../48241/index.html">I am looking for javascript tagging</a></li>
<li><a href="../48242/index.html">Network applications under Symbian OS</a></li>
<li><a href="../48246/index.html">yellowsn0w and native cellular networks</a></li>
<li><a href="../48248/index.html">Sticking / duplicating characters</a></li>
<li><a href="../48251/index.html">Xdrive resigns.</a></li>
<li><a href="../48253/index.html">Windows 7 beta 1: Performance. Comparison with Vista and XP</a></li>
<li><a href="../48254/index.html">I? Smart?</a></li>
<li><a href="../48255/index.html">Remote torrent download</a></li>
<li><a href="../48256/index.html">Medical Question # 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>