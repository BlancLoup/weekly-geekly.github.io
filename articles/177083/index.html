<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>JQuery plugin for translating pages using html5 data- * attributes</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day! 

 I want to share my experience to translate the pages of the site with the help of the simplest jQuery plugin and such a nice new html5 bu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>JQuery plugin for translating pages using html5 data- * attributes</h1><div class="post__text post__text-html js-mediator-article">  Good day! <br><br>  I want to share my experience to translate the pages of the site with the help of the simplest jQuery plugin and such a nice new html5 bun, as data- * attributes. <br><br>  So, the goal: the ability to easily and quickly provide support for multiple languages ‚Äã‚Äãfor the developed web application. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Now for some code.  Suppose we have such a simple html markup: <br><br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-translate-key</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"HEADING-ONE"</span></span></span><span class="hljs-tag">&gt;</span></span>Heading 1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-translate-key</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"SOME-TEXT"</span></span></span><span class="hljs-tag">&gt;</span></span>Some text in tag P<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-translate-key</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ANOTHER-TEXT"</span></span></span><span class="hljs-tag">&gt;</span></span>another text<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><a name="habracut"></a><br>  As you can see in the listing above, we have several html elements that have a key declared using the data-translate-key attribute for translation, using which we will receive the text itself from the dictionary.  Also inside the tags is the text "by default". <br><br>  The organization of the dictionary will be implemented by means of standard JavaScript objects: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dict = { <span class="hljs-attr"><span class="hljs-attr">en</span></span>: { <span class="hljs-string"><span class="hljs-string">'SITE-TITLE'</span></span>: <span class="hljs-string"><span class="hljs-string">'Site title'</span></span>, <span class="hljs-string"><span class="hljs-string">'HEADING-ONE'</span></span>: <span class="hljs-string"><span class="hljs-string">'Heading 1'</span></span>, <span class="hljs-string"><span class="hljs-string">'SOME-TEXT'</span></span>: <span class="hljs-string"><span class="hljs-string">'Some text in tag P'</span></span>, <span class="hljs-string"><span class="hljs-string">'ANOTHER-TEXT'</span></span>: <span class="hljs-string"><span class="hljs-string">'another text1'</span></span> }, <span class="hljs-attr"><span class="hljs-attr">ru</span></span>: { <span class="hljs-string"><span class="hljs-string">'SITE-TITLE'</span></span>: <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">'HEADING-ONE'</span></span>: <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">'SOME-TEXT'</span></span>: <span class="hljs-string"><span class="hljs-string">'     P'</span></span>, <span class="hljs-string"><span class="hljs-string">'ANOTHER-TEXT'</span></span>: <span class="hljs-string"><span class="hljs-string">' '</span></span> } };</code> </pre><br><br>  As you can see in this example, we have two dictionaries.  For Russian and English languages. <br><br>  Now the most important thing.  Actually the plugin itself.  It has only a few lines of code: <br><br><pre> <code class="javascript hljs">$.html5Translate = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">dict, lang</span></span></span><span class="hljs-function">)</span></span>{ $(<span class="hljs-string"><span class="hljs-string">'[data-translate-key]'</span></span>).each(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ $(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).html( dict[ lang ][ $(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).data(<span class="hljs-string"><span class="hljs-string">'translateKey'</span></span>) ] ); }); };</code> </pre><br><br>  Here, as can be seen from the listing, we get all the elements of the html page that have the data-translation-key attribute and scroll through the entire array of these elements using the each callback.  Later in each iteration, we set the text for each element, according to which dictionary is selected, and also according to the value of the data-translation-key attribute, for each specific element.  The function accepts only two variables as arguments: <b>dict</b> - contains a dictionary object and <b>lang</b> - contains the names of the language that should be used now. <br><br>  To apply the plugin it‚Äôs enough to do the following: <br><br>  1. Connect the jQuery library. <br>  2. Connect the plugin itself. <br>  3. Mark up the html document by placing the data-translation-key attributes for the desired elements. <br>  4. Create a dictionary (it is also recommended to connect it with a separate js file). <br>  5. Call the translation function when the DOM document is ready and specify the necessary parameters to the function: <br><br><pre> <code class="javascript hljs">$(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>).ready(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ $.html5Translate(dict, <span class="hljs-string"><span class="hljs-string">'en'</span></span>); });</code> </pre><br><br>  Here, as you can see, we call the translation function, indicating to it that we need to use the dict dictionary object and translate the text of all elements into English. <br><br>  Thanks for attention. </div><p>Source: <a href="https://habr.com/ru/post/177083/">https://habr.com/ru/post/177083/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../177069/index.html">How to reduce the amount of code written with ajax requests? And asynchronous file sending</a></li>
<li><a href="../177071/index.html">We make a video surveillance system</a></li>
<li><a href="../177073/index.html">Features of the transition from 300 mm to 450 mm silicon wafers</a></li>
<li><a href="../177075/index.html">Data Dependency Template</a></li>
<li><a href="../177079/index.html">And how much "weigh" the pages of your site?</a></li>
<li><a href="../177085/index.html">Creating and storing backup copies of databases in MS SQL. Practical advice</a></li>
<li><a href="../177089/index.html">Understanding the construction of multi-regional sites</a></li>
<li><a href="../177095/index.html">Impressions of the Hannover Messe</a></li>
<li><a href="../177097/index.html">How does LTE cope with inter-cell interference</a></li>
<li><a href="../177099/index.html">Methods for assessing the subjective quality of speech</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>