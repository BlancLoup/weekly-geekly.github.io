<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Optical switch with sound effect on arduino. Continuation</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the first article, I compiled and tested a prototype switch on the Arduino Nano V.7. The Arduino controller used as a convenient device for debuggi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Optical switch with sound effect on arduino. Continuation</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/geektimes/post_images/c85/7bb/ce6/c857bbce67a25eb89daf832ef2b77231.jpg" alt="image"><br>  In the <a href="http://habrahabr.ru/post/144180/">first article,</a> I compiled and tested a prototype switch on the Arduino Nano V.7.  The Arduino controller used as a convenient device for debugging the circuit and the code, but for the finished Arduino device it is redundant and expensive.  Therefore, I present the scheme of the end device on the Atmega328 controller. <a name="habracut"></a><br>  Why Atmega328, not Tiny or Atmega48?  Because sound effects occupy approximately 28kB of flash memory of the controller's programs, and the Atmega328 controller has a total memory capacity of 32kB.  In addition, for Tiny, the control code of the program would have to be rewritten and the debugging performed again. <br><br>  I will not describe the work of the circuit breaker here, since his work is <a href="http://habrahabr.ru/post/144180/">described</a> in the <a href="http://habrahabr.ru/post/144180/">previous article</a> , so I will go straight to the description of the device circuit. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/c46/3d2/3bd/c463d23bd5465ec64b2156f63f9feebb.png" alt="image"><br><br>  The optocoupler MOC3061 and the triac BTA140 are used to control the load.  The optocoupler provides galvanic isolation from the controller.  I also use an optocoupler with a zero detector, to reduce interference in the electrical network at the time of switching on.  The triac is selected with a high operating current of 25A to ensure maximum reliability of operation, it can withstand a current of 190A in a pulse.  In addition, the price of this triac is almost the same as on the BTA136.  IR LED BL-L314IRCB, you can use the same or from any remote control.  Phototransistor LTR-3208E or any of its analogs. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The diagram provides a connector for programming the ICSP chip. <br>  Hex file for controller firmware can be downloaded <a href="http://cyber-place.ru/attachment.php%3Fattachmentid%3D363%26d%3D1339390692">here.</a> <br><br>  I plan to power the device from a mobile phone charger adapter.  Slightly modifying it for higher reliability. <br><br>  Why do adapters fail? <br>  In most of the network adapter circuits, a low-power transistor in the TO-92 package is functioning - KSP44, MPSA44, 13001 and other similar transistors.  These are quite low-voltage transistors, breakdown voltage 400V, BF420 - up to 300V, they work practically at the limit of their capabilities, including in terms of temperature conditions (the temperature of their body at the rated load current reaches 70 ¬∞ C).  Therefore, they often fail (usually when the adapter is turned on in the network or in the incorrect operation mode, this is when the mobile phone is connected to the output of the adapter already connected to the network). <br><br>  Typical diagrams of two adapters <br><img src="https://habrastorage.org/getpro/geektimes/post_images/534/c51/9c8/534c519c880301dec4975ab4517440da.png" alt="image"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/114/2df/cdd/1142dfcdd800929b97ff50633da2d24d.png" alt="image"><br><br>  For the reliability of the adapter, you need to replace the transistor 13001 to 13002. <br><br>  Considering the fact that the circuit breaker in standby mode consumes no more than 50mA, and the power adapter is designed for 500mA and the circuit is powered continuously, it can be said that no extreme loads for the adapter will work and it will work for a long time and stably. <br><br>  If anyone has any questions on the scheme, ask, I will answer with pleasure. </div><p>Source: <a href="https://habr.com/ru/post/145639/">https://habr.com/ru/post/145639/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../145631/index.html">Copyright and copyright specialists are getting closer</a></li>
<li><a href="../145632/index.html">Screencasts on Ruby, Android, Autocad, etc. on hasBrains.ru</a></li>
<li><a href="../145633/index.html">Podcast Chiptune 3x000002 - Mogvaysky happiness</a></li>
<li><a href="../145635/index.html">Droider Show # 44. Apple vs Samsung: Mortal Kombat</a></li>
<li><a href="../145637/index.html">Issyk-Kul cyber police detained distributor of computer viruses</a></li>
<li><a href="../145640/index.html">Andy Rubin: Android activate 900,000 times a day</a></li>
<li><a href="../145641/index.html">Funny vulnerability in MySQL under Linux 64-bit</a></li>
<li><a href="../145642/index.html">LinkedIn started using salt</a></li>
<li><a href="../145643/index.html">Magenta: an open source iOS clone</a></li>
<li><a href="../145644/index.html">TV shows: online viewing or downloading?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>