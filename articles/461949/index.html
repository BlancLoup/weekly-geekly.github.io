<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>AppCode 2019.2: Swift 5.1, analysis of code coverage by tests, display of disassembled code and more</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Astrologers have announced a week of releases at JetBrains, the number of blog posts has tripled! In fact, this is also a release post, so if you part...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>AppCode 2019.2: Swift 5.1, analysis of code coverage by tests, display of disassembled code and more</h1><div class="post__text post__text-html js-mediator-article"><p>  Astrologers have announced a week of releases at JetBrains, the number of blog posts has tripled!  In fact, this is also a release post, so if you participated in EAP, you already know everything. </p><br><p>  If not, be sure to check out the cut, because in this release we not only have analysis of code coverage with tests and display of disassembled code, but also DSL support for Ruby and a lot of other interesting things! </p><br><p><img alt="Run with coverage" width="742" src="https://habrastorage.org/webt/ch/tz/an/chtzanor5xqbwp4v6lshksmy5vy.gif"></p><br><p><a name="habracut"></a></p><br><h2>  Swift </h2><br><h3>  Language support </h3><br><p>  Started supporting Swift 5.1: </p><br><ul><li>  <a href="">SE-0242</a> : Synthesize default values ‚Äã‚Äãfor the memberwise initializer. </li><li>  <a href="">SE-0254</a> : Static and class subscripts. </li><li> <a href="">SE-0068</a> : Expanding Swift <code>Self</code> to class members and value types. </li><li>  <a href="">SE-0260</a> : Library Evolution for Stable ABIs. </li><li>  <a href="">SE-0258</a> : Property Wrappers </li></ul><br><p>  While in the process, the degree of readiness can be viewed <a href="https://youtrack.jetbrains.com/issue/OC-18443">here</a> . </p><br><h3>  Code folding </h3><br><p>  Did folding closures: </p><br><p><img alt="Closure folding" width="456" src="https://habrastorage.org/webt/we/ku/bd/wekubde1wqxtrdsnaayxkcxj7ma.gif"></p><br><h3>  Backlight </h3><br><p>  You can‚Äôt just take and highlight a line of code without knowing what specific entities we are dealing with.  Therefore, full highlighting is possible only after the complete construction of caches.  But we know the keywords of the language in advance and can highlight them - now they are highlighted for Swift, even if indexing with caching has not yet ended: </p><br><p><img alt="Keywords" width="455" src="https://habrastorage.org/webt/cu/mg/c9/cumgc90o0s3nwcb18bwgrmyfchm.png"></p><br><h3>  Enumeration Element Generation </h3><br><p>  We continue to expand the scope of <strong>Create From Usage</strong> : now you can create an enumeration element from its use in the code, simply by pressing ‚å•‚èé: </p><br><p><img alt="Create from usage" width="455" src="https://habrastorage.org/webt/t7/2e/m2/t72em23zvq8xdyjbqrzjm0rpowy.gif"></p><br><h3>  Usage Search </h3><br><p>  The search for uses in AppCode searches for specific code constructs (variables, classes, functions, class methods, etc.) - this allows you to greatly narrow the search area compared to full-text.  Until recently, for Swift, we only displayed <em>where</em> a particular design is used.  In 2019.2, we implemented a grouping of uses by type, so now we can quickly understand also <em>how</em> we use a variable, function or class: </p><br><p><img alt="Find usages" width="455" src="https://habrastorage.org/webt/k9/s6/tv/k9s6tvjyqmbvax9tnkzegbwgvvs.png"></p><br><h3>  Merging lines of code </h3><br><p>  Nothing special, just now you can glue the declaration and initialization of the variable using <strong>Join Lines</strong> ( <code>‚åÉ‚áßJ</code> ): </p><br><p><img alt="Join lines" width="456" src="https://habrastorage.org/webt/ck/cg/w8/ckcgw8nkx-r3_d8ihfor1m2yqss.gif"></p><br><h2>  Auto Imports </h2><br><p>  There is such a build system - <a href="https://buck.build/">BUCK</a> .  The BUCK build system by default uses header maps, the support of which we <a href="https://blog.jetbrains.com/objc/2018/04/appcode-2018-1-1/">added a</a> year ago, but did not have time to throw it into auto imports.  As a result, after pressing ‚å•‚èé, a long path to the header was inserted, which is absolutely unnecessary.  Now this does not happen, now everything is correct. </p><br><h2>  Debugging </h2><br><h3>  Disassembled code display </h3><br><p>  Colleagues from CLion <a href="https://habr.com/ru/company/JetBrains/blog/445646/">made the</a> mapping of disassembled code for LLDB in version 2019.1, and we creatively reused it in this release: </p><br><p><img alt="Disassembly view" width="455" src="https://habrastorage.org/webt/hh/9p/z1/hh9pz1q-yxa2e_iavwp2nu58hiw.png"></p><br><h3>  Auto completion </h3><br><p>  Another useful thing originally made in CLion is the autocompletion of debugger commands in the LLDB console by pressing ‚á• (the same as in a regular console): </p><br><p><img alt="LLDB commands completion" width="455" src="https://habrastorage.org/webt/gz/hy/yv/gzhyyvq_v0drruo70kyf1ta_8c0.gif"></p><br><h2>  Test coverage analysis code </h2><br><p>  Finally done, and done well.  We select the test configuration, click <strong>Run With Coverage</strong> and <strike>leave to finalize the tests, we are</strike> happy with the result: </p><br><p><img alt="Run with coverage" width="742" src="https://habrastorage.org/webt/ch/tz/an/chtzanor5xqbwp4v6lshksmy5vy.gif"></p><br><p>  To the left in the editor are the coverage results: </p><br><p><img alt="Coverage results" width="744" src="https://habrastorage.org/webt/tw/ye/xl/twyexlp_di19c7hpoko6-f9r34i.png"></p><br><p>  By clicking on the color indicator, a plate is displayed with the number of calls in this section of the code and useful actions: </p><br><p><img alt="Hit count" width="744" src="https://habrastorage.org/webt/qz/su/bp/qzsubpw0dppdsbzjzoqtfmtfmee.png"></p><br><p>  Coverage statistics are displayed briefly in the <strong>Project</strong> view, and in more detail in a separate window: </p><br><p><img alt="Toolwindows" width="795" src="https://habrastorage.org/webt/rn/iz/yy/rnizyyrzs_8ndfwx6czdamvu5hs.gif"></p><br><h2>  Build, run, debug, and test during indexing </h2><br><p>  Indexing and building caches is not a fast process, especially on large projects and especially the very first indexation.  Nevertheless, you can do some actions with the project while it is going on, for example, build or run the application. </p><br><p>  For a long time, these actions were blocked for us, because for normal use of the launch configuration it was necessary to first build caches on the project.  Actually, this is not so necessary, therefore, in version 2019.2, we decisively untied the creation of launch configurations from caching, and now you can assemble, launch, debug or test the project immediately after its opening: </p><br><p><img alt="Build, Run, Debug and Test during indexing" width="800" src="https://habrastorage.org/webt/rn/iz/yy/rnizyyrzs_8ndfwx6czdamvu5hs.gif"></p><br><h2>  Integration </h2><br><h3>  TextMate Plugin </h3><br><p>  Often they are asked to add support for some language, which is not the main one for AppCode.  Sometimes we do this if we understand that many users really need it, so at some point we dragged a part of WebStorm to ourselves, so that developers on React Native and PhoneGap would be comfortable working with HTML / CSS / JavaScript. </p><br><p>  Then came the plugin for <a href="https://plugins.jetbrains.com/plugin/7793-markdown">Markdown</a> , because any README needs to be able to conveniently and quickly edit.  There is also a plug-in for <a href="https://plugins.jetbrains.com/plugin/8149-applescript-support">AppleScript</a> made by one of the colleagues simply because he was interested in writing language support. </p><br><p>  But you cannot cram the immensity, therefore we cannot implement support for all languages.  For example, in iOS development, DSLs made in Ruby (CocoaPods and Fastlane configs) are often found.  Initially, the request sounded like ‚Äúturn on the entire Ruby support‚Äù, but in reality these configs are not often edited, and pulling half-RubyMine because of them does not seem reasonable.  At the same time, having no support is not good either. </p><br><p>  In this release, colleagues from WebStorm included in the default installation a plugin with support for the TextMate bundles, which gives a bunch of languages ‚Äã‚Äãa simple highlight and auto-completion.  We followed their example, and now we also have this: </p><br><p><img alt="TextMate Bundles Plugin" width="455" src="https://habrastorage.org/webt/rn/ef/no/rnefnopgtqq6jgm_xztzoaywzzm.png"></p><br><p>  Due to some inconsistencies in the support of Fastlane on the part of these bundles themselves, the configuration principle for Ruby DSL is still the same (however, you can <a href="https://youtrack.jetbrains.com/issue/OC-13269">help correct</a> this situation). </p><br><h3>  Shell Script Plugin </h3><br><p>  Scripts are common in projects, so we have included support for editing them: </p><br><p><img alt="Shell script plugin" width="455" src="https://habrastorage.org/webt/dj/cl/yk/djclykvhgldtr9yrw8cvit0zdzo.png"></p><br><h2>  Commit window </h2><br><p>  More precisely, there is no longer any separate window - now it has become part of the <strong>Local Changes</strong> tab <strong>:</strong> </p><br><p><img alt="Commit window" width="455" src="https://habrastorage.org/webt/om/_9/5i/om_95isimu-bfdtwmy8cidphohq.png"></p><br><p>  This is the end.  Write all questions and suggestions right here in the comments - we will be happy to answer! </p><br><p>  <em>AppCode Team</em> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/461949/">https://habr.com/ru/post/461949/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../461935/index.html">How to work with Postgres in Go: practices, features, nuances</a></li>
<li><a href="../461937/index.html">Parkinson's law and how to break it</a></li>
<li><a href="../461939/index.html">Year of adventure with graphene-python</a></li>
<li><a href="../461941/index.html">Massage it</a></li>
<li><a href="../461945/index.html">The digest of events for HR professionals in the field of IT for August 2019</a></li>
<li><a href="../46196/index.html">Causes and Effects</a></li>
<li><a href="../46197/index.html">Silverlight & pseudo-animated images.</a></li>
<li><a href="../462/index.html">HabraTODO - rating is set by habrauers</a></li>
<li><a href="../4620/index.html">Five reasons not to use flash</a></li>
<li><a href="../46200/index.html">MacUpdate Promo - a package of 11 applications with 91% discount !!!</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>