<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Copying Amazon S3 Objects and Baskets to Windows Azure Storage</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article - how to copy an object and a basket (bucket) from Amazon S3 to the Windows Azure blob storage. 

 One of the major innovations since ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Copying Amazon S3 Objects and Baskets to Windows Azure Storage</h1><div class="post__text post__text-html js-mediator-article">  <i>In this article - how to copy an object and a basket (bucket) from Amazon S3 to the Windows Azure blob storage.</i> <br><br>  One of the major innovations since June 7, 2012 was the improvement of the Copy Blob function.  When writing this article I used the materials of the development team, which can be found here: <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2012/06/12/introducing-asynchronous-cross-account-copy-blob.aspx">http://blogs.msdn.com/b/windowsazurestorage/archive/2012/06/12/introducing-asynchronous-cross-account-copy-blob.aspx</a> .  What caught my attention - <b><i>the</i></b> <b><i>copy</i></b> <b><i>blob</i></b> <b><i>functionality</i></b> <b><i>allows copying blobs from outside</i></b> <b><i>Windows</i></b> <b><i>Azure, if they are publicly available.</i></b>  That is, they do not need to be in Windows Azure. <br><br><h3>  IT IS VERY COOL!!! </h3><br><a name="habracut"></a><br>  This made me sit down and think .. So now I have the option of simply transferring my files to the Windows Azure blob storage, with most of the work being done by the platform itself.  That's why I thought instead of writing a simple application that tries to copy a file (object) from Amazon S3 to the Windows Azure blobs storage.  It turned out to be done in a few hours (hours because there was no account in S3 until a certain point, respectively, knowledge of the client library for the repository was somewhat limited).  But what I want to say is: <b><i>it really works and it is really easy to do.</i></b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Why do this? </h4><br><br>  I thought about several scenarios in which it might be necessary to copy content from one cloud provider to a Windows Azure blob storage. <br><br><h5>  Windows Azure blob storage really competitive </h5><br>  With all the new features and lower prices, Windows Azure Storage is a real alternative to other cloud providers that provide cloud storage services.  This may be one of the reasons why you will switch from your provider to Windows Azure Storage.  Or you always wanted to go, but could not figure out how to transfer data from the repository.  The new function Copy Blob makes the solution to this problem super simple. <br><br><h5>  Windows Azure blob storage as a backup for existing data </h5><br>  Now you can easily use the blob storage as a place to back up data from your cloud storage.  It was possible before, but it was a rather painful process, as it required a lot of code. <br><br>  With the latest innovations it has become really simple.  Now you do not need to write code to copy the bytes from the source to the blob in Windows Azure.  All this makes the platform.  You just say where the source is and where it should be transferred, call the copy function and that's it. <br><br><h3>  Show me the code !!! </h3><br>  OK, stop talking!  Let's look at the code.  I created a simple console application (code below), but before I go to it, I would like to discuss a couple more points.  . <br><br><h4>  Prerequisites </h4><br>  Before running the code, you need to perform several actions: <br><br>  1. <strong>Create a storage account:</strong> note that the new functionality will work only if the storage account was created after June 7, 2012 (why - see <a href="https://habr.com/ru/post/146469/">note</a> , for an interpreter). <br><br>  2. <strong>Download the latest version of the client library of the repository:</strong> at the time of this writing, the officially released version of the library is 1.7.  Unfortunately, the new functionality does not work in it, so you need to download 1.7.1 from <a href="">GitHub</a> .  Download the source and compile. <br><br>  3. <strong>Check the public availability of the object / blob:</strong> Copy Blobs function can only copy publicly available blobs from outside Windows Azure.  Therefore, in the case of <strong>Amazon S3</strong> , you need to make sure that the object has at least <strong>READ</strong> permissions for anonymous users. <br><br><h5>  Code </h5><br>  As I said above, the code is very simple: <br><br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Linq; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Text; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Microsoft.WindowsAzure; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Microsoft.WindowsAzure.StorageClient; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">CopyAmazonObjectToBlobStorage</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Program</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> azureStorageAccountName = ‚Äú<span class="hljs-string"><span class="hljs-string">"; private static string azureStorageAccountKey = "</span></span><span class="hljs-string"><span class="hljs-string">"; private static string azureBlobContainerName = "</span></span><span class="hljs-string"><span class="hljs-string">"; private static string amazonObjectUrl = "</span></span><span class="hljs-string"><span class="hljs-string">"; private static string azureBlobName = "</span></span><span class="hljs-string"><span class="hljs-string">"; static void Main(string[] args) { CloudStorageAccount csa = new CloudStorageAccount(new StorageCredentialsAccountAndKey(azureStorageAccountName, azureStorageAccountKey), true); CloudBlobClient blobClient = csa.CreateCloudBlobClient(); var blobContainer = blobClient.GetContainerReference(azureBlobContainerName); Console.WriteLine("</span></span>Trying to create the blob container....<span class="hljs-string"><span class="hljs-string">"); blobContainer.CreateIfNotExist(); Console.WriteLine("</span></span>Blob container created....<span class="hljs-string"><span class="hljs-string">"); var blockBlob = blobContainer.GetBlockBlobReference(azureBlobName); Console.WriteLine("</span></span>Created a reference <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> block blob <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> Windows Azure....<span class="hljs-string"><span class="hljs-string">"); Console.WriteLine("</span></span>Blob Uri: <span class="hljs-string"><span class="hljs-string">" + blockBlob.Uri.AbsoluteUri); Console.WriteLine("</span></span>Now trying to initiate copy....<span class="hljs-string"><span class="hljs-string">"); blockBlob.StartCopyFromBlob(new Uri(amazonObjectUrl), null, null, null); Console.WriteLine("</span></span>Copy started....<span class="hljs-string"><span class="hljs-string">"); Console.WriteLine("</span></span>Now tracking blob<span class="hljs-string"><span class="hljs-string">'s copy progress...."); bool continueLoop = true; while (continueLoop) { Console.WriteLine(""); Console.WriteLine("Fetching lists of blobs in Azure blob container...."); var blobsList = blobContainer.ListBlobs(true, BlobListingDetails.Copy); foreach (var blob in blobsList) { var tempBlockBlob = (CloudBlob) blob; var destBlob = blob as CloudBlob; if (tempBlockBlob.Name == azureBlobName) { var copyStatus = tempBlockBlob.CopyState; if (copyStatus != null) { Console.WriteLine("Status of blob copy...." + copyStatus.Status); var percentComplete = copyStatus.BytesCopied / copyStatus.TotalBytes; Console.WriteLine("Total bytes to copy...." + copyStatus.TotalBytes); Console.WriteLine("Total bytes copied...." + copyStatus.BytesCopied); if (copyStatus.Status != CopyStatus.Pending) { continueLoop = false; } } } } Console.WriteLine(""); Console.WriteLine("=============================================="); System.Threading.Thread.Sleep(1000); } Console.WriteLine("Process completed...."); Console.WriteLine("Press any key to terminate the program...."); Console.ReadLine(); } } }</span></span></code> </pre> <br><br>  The code is quite simple.  What I do: I specify credentials for accessing Windows Azure storage and the source blob URL (in Amazon S3);  I create the blob container in Windows Azure and start copying the blob from the source URL.  After sending a request for copying everything that the application does, it monitors the copying process.  As you can see, not a single line of code to copy bytes from the source to the receiver.  All this makes Windows Azure. <br><br>  This is what an object in Amazon S3 looks like: <br><img src="https://habrastorage.org/getpro/habr/post_images/e27/cbb/d25/e27cbbd25600169f83cdb196c778d3cb.png" alt="image"><br><br>  After the object is copied, I can see it in the Windows Azure blob storage using <a href="http://www.cerebrata.com/Products/CloudStorageStudio">Cloud Storage Studio</a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e7c/32e/b3b/e7c32eb3ba84b342d5ecdcac466668ac.png" alt="image"><br><br>  As you saw, Windows Azure provides the ability to easily transfer data.  If you are considering the possibility of moving from another cloud platform to Windows Azure, but were worried about any related problems, one problem has become less. <br><br>  I created a simple example that copies a single file from Amazon S3 to the Windows Azure blob storage.  This functionality can be extended to copy all objects from the Amazon S3 recycle bin to the Windows Azure blob container.  Let's move on to the next article - how to copy a cart from Amazon S3 to the Windows Azure blob storage using Copy Blob. <br><br><h4>  Prerequisites </h4><br>  Before running the code, you need to perform several actions: <br><br><ol><li>  <strong>Check the public availability of the object / blob:</strong> the Copy Blobs function can only copy publicly available blobs from outside Windows Azure.  Therefore, in the case of <strong>Amazon S3</strong> , you need to make sure that the object has at least <strong>READ</strong> permissions for anonymous users. </li><li>  <strong>Create a storage account:</strong> note that the new functionality will only work if the storage account was created after June 7, 2012 (why - see <a href="https://habr.com/ru/post/146469/">note</a> , for an interpreter). </li><li>  <strong>Download the latest version of the client library of the repository:</strong> at the time of this writing, the officially released version of the library is 1.7.  Unfortunately, the new functionality does not work in it, so you need to download 1.7.1 from <a href="">GitHub</a> .  Download the source and compile. </li><li>  <b>Amazon SDK for .Net</b> : You need to download the Amazon SDK for .Net from <a href="http://aws.amazon.com/sdkfornet/">Amazon AWS</a> . </li><li>  <b>Keep</b> <b>Amazon</b> <b>credentials close by</b> : You‚Äôll need to use Amazon AccessKey and SecretKey to get a list of objects stored in your Amazon S3 bucket. </li></ol><br><br><h5>  Code </h5><br>  The code is very simple.  Note that it is only for demonstration.  You can modify it as you need. <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Linq; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Text; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Amazon.S3; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Amazon.S3.Model; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Amazon.S3.Transfer; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Amazon.S3.Util; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Microsoft.WindowsAzure; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Microsoft.WindowsAzure.StorageClient; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Globalization; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">CopyAmazonBucketToBlobStorage</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Program</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> azureStorageAccountName = ‚Äú‚Äù; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> azureStorageAccountKey = ‚Äú‚Äù; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> azureBlobContainerName = ‚Äú‚Äù; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> amazonAccessKey = ‚Äú‚Äù; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> amazonSecretKey = ‚Äú‚Äù; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> amazonBucketName = ‚Äú‚Äù; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> objectUrlFormat = ‚Äúhttps:<span class="hljs-comment"><span class="hljs-comment">//{0}.s3.amazonaws.com/{1}‚Äù; private static Dictionary&lt;string, CopyBlobProgress&gt; CopyBlobProgress; static void Main(string[] args) { //     Windows Azure CloudStorageAccount azureCloudStorageAccount = new CloudStorageAccount(new StorageCredentialsAccountAndKey(azureStorageAccountName, azureStorageAccountKey), true); //    ,    . var blobContainer = azureCloudStorageAccount.CreateCloudBlobClient().GetContainerReference(azureBlobContainerName); //  ,   . Console.WriteLine(¬´Trying to create the blob container....¬ª); blobContainer.CreateIfNotExist(); Console.WriteLine(¬´Blob container created....¬ª); //    Amazon AmazonS3Client amazonClient = new AmazonS3Client(amazonAccessKey, amazonSecretKey); //  CopyBlobProgress = new Dictionary&lt;string, CopyBlobProgress&gt;(); string continuationToken = null; bool continueListObjects = true; //  ListObjects        1000 , //    ,      . while (continueListObjects) { ListObjectsRequest requestToListObjects = new ListObjectsRequest() { BucketName = amazonBucketName, Marker = continuationToken, MaxKeys = 100, }; Console.WriteLine(¬´Trying to list objects from S3 Bucket....¬ª); //    Amazon S3 var listObjectsResponse = amazonClient.ListObjects(requestToListObjects); //  var objectsFetchedSoFar = listObjectsResponse.S3Objects; Console.WriteLine(¬´Object listing complete. Now starting the copy process....¬ª); //,     .    ,        continuation token. continuationToken = listObjectsResponse.NextMarker; foreach (var s3Object in objectsFetchedSoFar) { string objectKey = s3Object.Key; //ListObjects    ,  ,     S3 Object Key.     /,    . if (!objectKey.EndsWith(¬´/¬ª)) { // URL   string urlToCopy = string.Format(CultureInfo.InvariantCulture, objectUrlFormat, amazonBucketName, objectKey); //  CloudBlockBlob CloudBlockBlob blockBlob = blobContainer.GetBlockBlobReference(objectKey); var blockBlobUrl = blockBlob.Uri.AbsoluteUri; if (!CopyBlobProgress.ContainsKey(blockBlobUrl)) { CopyBlobProgress.Add(blockBlobUrl, new CopyBlobProgress() { Status = CopyStatus.NotStarted, }); // .     try/catch //    Amazon S3       . try { Console.WriteLine(string.Format(¬´Trying to copy \¬ª{0}\¬ª to \¬ª{1}\¬ª¬´, urlToCopy, blockBlobUrl)); blockBlob.StartCopyFromBlob(new Uri(urlToCopy)); CopyBlobProgress[blockBlobUrl].Status = CopyStatus.Started; } catch (Exception exception) { CopyBlobProgress[blockBlobUrl].Status = CopyStatus.Failed; CopyBlobProgress[blockBlobUrl].Error = exception; } } } } Console.WriteLine(¬´¬´); Console.WriteLine(¬´==========================================================¬´); Console.WriteLine(¬´¬´); Console.WriteLine(¬´Checking the status of copy process....¬ª); //  bool checkForBlobCopyStatus = true; while (checkForBlobCopyStatus) { //      var blobsList = blobContainer.ListBlobs(true, BlobListingDetails.Copy); foreach (var blob in blobsList) { var tempBlockBlob = blob as CloudBlob; var copyStatus = tempBlockBlob.CopyState; if (CopyBlobProgress.ContainsKey(tempBlockBlob.Uri.AbsoluteUri)) { var copyBlobProgress = CopyBlobProgress[tempBlockBlob.Uri.AbsoluteUri]; if (copyStatus != null) { Console.WriteLine(string.Format(¬´Status of \¬ª{0}\¬ª blob copy....¬ª, tempBlockBlob.Uri.AbsoluteUri, copyStatus.Status)); switch (copyStatus.Status) { case Microsoft.WindowsAzure.StorageClient.CopyStatus.Aborted: if (copyBlobProgress != null) { copyBlobProgress.Status = CopyStatus.Aborted; } break; case Microsoft.WindowsAzure.StorageClient.CopyStatus.Failed: if (copyBlobProgress != null) { copyBlobProgress.Status = CopyStatus.Failed; } break; case Microsoft.WindowsAzure.StorageClient.CopyStatus.Invalid: if (copyBlobProgress != null) { copyBlobProgress.Status = CopyStatus.Invalid; } break; case Microsoft.WindowsAzure.StorageClient.CopyStatus.Pending: if (copyBlobProgress != null) { copyBlobProgress.Status = CopyStatus.Pending; } break; case Microsoft.WindowsAzure.StorageClient.CopyStatus.Success: if (copyBlobProgress != null) { copyBlobProgress.Status = CopyStatus.Success; } break; } } } } var pendingBlob = CopyBlobProgress.FirstOrDefault(c =&gt; c.Value.Status == CopyStatus.Pending); if (string.IsNullOrWhiteSpace(pendingBlob.Key)) { checkForBlobCopyStatus = false; } else { System.Threading.Thread.Sleep(1000); } } if (string.IsNullOrWhiteSpace(continuationToken)) { continueListObjects = false; } Console.WriteLine(¬´¬´); Console.WriteLine(¬´==========================================================¬´); Console.WriteLine(¬´¬´); } Console.WriteLine(¬´Process completed....¬ª); Console.WriteLine(¬´Press any key to terminate the program....¬ª); Console.ReadLine(); } } public class CopyBlobProgress { public CopyStatus Status { get; set; } public Exception Error { get; set; } } public enum CopyStatus { NotStarted, Started, Aborted, Failed, Invalid, Pending, Success } }</span></span></code> </pre><br><br>  The code is quite simple.  Application: <br><br><ol><li>  Creates a blob container in Windows Azure storage, if necessary. </li><li>  Gets a list of objects from the Amazon S3 bucket.  Note that Amazon S3 can return up to 1000 objects in one function call, otherwise the continuation token is returned, which is used to get a marker that represents the next subset of entities. </li><li>  For each object returned, a URL is generated that is used for the Copy Blob function. </li><li>  The application checks the status of the copy process.  After all copying processes are completed, steps 2-4 are repeated until all objects are copied. </li></ol><br><br>  To manage content in Amazon S3, I used <a href="http://www.bucketexplorer.com/"><b>Bucket Explorer</b></a> , which showed the following state: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6af/7ed/a61/6af7eda613cdc3eb52aefee17c221f9a.png" alt="image"><br><br>  After the end of the copy, the next state of Windows Azure blob storage was shown by <a href="http://www.cerebrata.com/Products/CloudStorageStudio"><b>Cloud Storage Studio</b></a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/904/2db/85a/9042db85a2ba83b90c9b1565237da6e8.png" alt="image"><br><br>  <b>Summary</b> <br><br>  I created a simple example that copies all the content from the Amazon S3 bucket to the Windows Azure blob storage. <br><br>  <b>Resume from translator</b> <br><br>  Emotions of Gaurav about the new features of the API are clear - to be honest, before June 7, 2012, the API for using the storage services in some places was lame in functionality, as evidenced by the translation series of articles by the same Gaurav about the comparison of Windows Azure and Amazon storage.  Now, the ability to use Windows Azure storage as the same backup space, and even with the ability to adjust the degree of redundancy (two types are available now), allows you to avoid the consequences of any cataclysm and create a truly tolerant (:) service. <br><br><br>  <b>Note from the translator</b> <br><br>  Windows Azure storage services can receive requests that indicate a specific version of each operation (service), while the developer can specify the version using the x-ms-version header.  Naturally, the functionality of different versions and mechanisms of work (non-conceptual) may vary. <br><br>  It is necessary to take into account the rules of the system by which the blob service determines which version to use to interpret the SAS parameters: <br><br>  1. If there is an x-ms-version header in the request, but no signedversion is present, version 2009-07-17 is used to interpret the SAS parameters, while the version specified in x-ms-version is used for the operation. <br><br>  2. If there is no x-ms-version header in the request and there is no signedversion, but the account owner has installed the service version using the Set Blob Service Properties operation, version 2009-07-07 will be used to interpret the SAS parameters, for the operation the version specified account owner for the service. <br><br>  3. If the request does not have an x-ms-version header, there is no signedversion and the account owner has not installed the service version, version 2009-07-17 will be used to interpret the SAS parameters.  If the container has public rights and access restrictions have been set using the Set Container ACL operation using version 2009-09-19 (or newer). Version 2009-09-19 will be used for the operation. <br><br>  <a href="http://msdn.microsoft.com/en-us/library/windowsazure/dd894041">Learn more</a> about the version and the functionality they support. <br><br>  Translation related posts Gaurav Mantri: <br><br>  <a href="http://gauravmantri.com/2012/06/14/how-to-copy-an-object-from-amazon-s3-to-windows-azure-blob-storage-using-copy-blob/">Objects</a> <br><br>  <a href="http://gauravmantri.com/2012/06/15/how-to-copy-a-bucket-from-amazon-s3-to-windows-azure-blob-storage-using-copy-blob/">Baskets</a> <br></div><p>Source: <a href="https://habr.com/ru/post/146469/">https://habr.com/ru/post/146469/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../146464/index.html">Installing the OS using SmartStart</a></li>
<li><a href="../146465/index.html">Technological startups in Russia. Interview with Renat Garipov</a></li>
<li><a href="../146466/index.html">Became known technical characteristics of the tablet Google Nexus</a></li>
<li><a href="../146467/index.html">Android keyboard with arrows</a></li>
<li><a href="../146468/index.html">Android users do not know anything about their smartphones?</a></li>
<li><a href="../146471/index.html">Function call through a tuple</a></li>
<li><a href="../146472/index.html">Online consumer lending service - debriefing 9 months later</a></li>
<li><a href="../146473/index.html">Separation of configurations in Yii by adult</a></li>
<li><a href="../146474/index.html">RichFaces 3.0, File Shaping and Uploading, jQuery and Crutches</a></li>
<li><a href="../146475/index.html">xNet - C # library for working with the Web</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>