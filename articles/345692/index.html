<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Installing 1C Fresh from scratch using Linux and PostgreSQL</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article with pictures, the Button will tell you how to deploy your own fresh Blackjack with PostgreSQL and Linux. We hope that it will help th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Installing 1C Fresh from scratch using Linux and PostgreSQL</h1><div class="post__text post__text-html js-mediator-article">  In this article with pictures, the Button will tell you how to deploy your own fresh <s>Blackjack</s> with PostgreSQL and Linux.  We hope that it will help those who are trying to install 1C Fresh and drowned a bit in the volumes of official documentation.  When deploying, we will make the most of free software. <br><br><img src="https://habrastorage.org/webt/_b/ph/mw/_bphmwvjrn_2vlo1oljf0ez2bom.png"><br><a name="habracut"></a><br><h2>  What is 1C Fresh </h2><br>  1C Fresh is a technology for publishing solutions.  That is, it is a service that allows you to publish access to various solutions based on 1C to a mass user, to link these solutions into a single system with general administration and maintenance. <br><br>  The central element is the Service Manager, a control configuration that links the remaining elements.  It stores all information about the components of the service, about the versions of configurations, about users, data areas, distributes commands to perform various operations. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The right hand of the Service Manager is the Service Agent, a service configuration that deals with the maintenance of application configurations.  typical tasks of the Service Agent are: <br><br><ul><li>  Update the configuration of the application database; </li><li>  Update upload (dump) to the current version of the application configuration; </li><li>  Prepare initial data for the new version of the configuration; </li><li>  Collect statistics and errors from application databases. </li></ul><br>  These tasks are done by the Service Agent using the configurator.  Until recently, it was the only service element requiring the Windows platform.  But in the new version of the technology 1C Fresh 1.0.19, developers have eliminated this restriction, now the Service Agent can work on Linux. <br><br>  Information databases are application configurations published through the Service Manager.  Configurations that currently support service mode operation: <br><br><ul><li>  1C: ERP Enterprise Management 2; </li><li>  1C: BusinessStart; </li><li>  1: Accounts department of public institution, edition 2.0; </li><li>  1: Accounting of the enterprise, edition 3.0; </li><li>  1C: Accounts department of the enterprise KORP, edition 3.0; </li><li>  1: Accounting of the enterprise (basic), edition 3.0; </li><li>  1: Accounting of the enterprise (basic for 1), edition 3.0; </li><li>  1C: The allowance of 8; </li><li>  1C: Salary and personnel of a public institution; </li><li>  1: Salary and personnel management ", edition 3; </li><li>  1: Salary and personnel management of KORP, edition 3; </li><li>  1: Complex automation, edition 2.0; </li><li>  1C: Reporting entrepreneur, edition 2.0; </li><li>  1C: Entrepreneur 2015; </li><li>  1C: Management of our company, edition 1.6; </li><li>  1C: Trade Management, edition 11; </li><li>  1C: Cashier. </li></ul><br>  There is an opportunity to publish your own solutions, ITS has recommendations for improvement. <br><br>  These elements listed above are basic and necessary for deployment.  There are also others that provide additional functionality, but they are not necessary: <br><br><ul><li>  Application Gateway is a service that allows you to "hide" the internal structure of the service.  It proxies and redirects requests to IB.  All addresses look the same; </li><li>  Service Website - provides a simple and convenient user interface for interacting with the service, launching applications, providing access to their applications; </li><li>  Availability Manager - stores information about the inaccessibility of service resources and allows you to display messages about inaccessibility to users of the site and forum, even if all other components of the service do not function. </li></ul><br>  There are other components of the service, you can read about them <a href="http://v8.1c.ru/fresh/">on the site</a> <br><br><h2>  Input data </h2><br>  Briefly describe the hosts and services that will work on them.  The entire infrastructure will be deployed on a virtualization server, so we will spread services across different virtual machines.  When using KORP licensing, you can also divide the functionality, for example, to transfer the processing of background jobs to a separate application server.  In the minimum configuration, you can build on two hosts: place the database and the application server on Linux, and put the Agent of the Service under the control of Windows. <br><br><table><tbody><tr><th>  Hostname </th><th>  Software and functionality </th><th>  VM resources </th></tr><tr><td>  fresh-db.knopka.int </td><td>  Debian 9, PostgreSQL 9.6 DBMS </td><td>  4 core \ 10Gb </td></tr><tr><td>  fresh-app-01.knopka.int </td><td>  Debian 9, 1C: Enterprise server, application configurations </td><td>  4-6 core \ 12-16Gb </td></tr><tr><td>  fresh-app-02.knopka.int </td><td>  Debian 9, 1C: Enterprise Server, Service Manager </td><td>  4 core \ 8Gb </td></tr><tr><td>  fresh-app-sa.knopka.int </td><td>  Windows 1C: Enterprise Server, Service Agent </td><td>  4 core \ 8Gb </td></tr><tr><td>  fresh-app-sa.knopka.int </td><td>  Debian 9, Apache 2.4, 1C: Enterprise server, web module </td><td>  2 core \ 4Gb </td></tr></tbody></table><br><br><h2>  Initial machine preparation </h2><br><h3>  There will be databases: fresh-db.knopka.int </h3><br>  We use PostgreSQL as the database server.  For convenience of updating we will connect PostgresPro repositories.  1C also provides the distribution, you can safely use it. <br><br><pre><code class="bash hljs">sh -c <span class="hljs-string"><span class="hljs-string">'echo "deb http://1c.postgrespro.ru/deb/ $(lsb_release -cs) main" &gt; /etc/apt/sources.list.d/postgrespro-1c.list'</span></span> wget --no-verbose -O - http://1c.postgrespro.ru/keys/GPG-KEY-POSTGRESPRO-1C | apt-key add - &amp;&amp; apt-get update apt-get install postgresql-pro-1c-9.6</code> </pre> <br>  For each database, we will create a cluster that will serve a separate PostgreSQL instance.  This allows you to manage each database and replicate. <br><br><pre> <code class="bash hljs">pg_createcluster 9.6 &lt;clustername&gt; -d &lt;dir&gt; systemctl daemon-reload</code> </pre> <br>  <i>&lt;</i> <i>clustername</i> <i>&gt;</i> is the name of our cluster, we will call it the same as the database serviced in the cluster; <br>  <i>&lt;</i> <i>dir</i> <i>&gt;</i> is the directory in which the cluster will be created. <br><br>  The next free port after 5432 will be used unless explicitly specified during creation.  You can check the list of clusters like this: <br><br><pre> <code class="hljs pgsql">pg_lsclusters</code> </pre> <br>  Connect to the cluster (specifying the port on which it works) and create a role (you need a superuser), under which the administration server will interact with the database: <br><br><pre> <code class="bash hljs">su postgres psql -p 5433</code> </pre> <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">role</span></span> unoconnector <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> login superuser; <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">role</span></span> unoconnector <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> encrypted <span class="hljs-keyword"><span class="hljs-keyword">password</span></span> <span class="hljs-string"><span class="hljs-string">'password'</span></span>;</code> </pre> <br>  Be sure to perform the initial setup.  Each cluster creates its own configuration files.  For simplicity, you can use <a href="http://pgtune.leopard.in.ua/">PgTune</a> .  Set the environment parameters and get the recommended settings at the output: <br><br><img src="https://habrastorage.org/webt/wn/di/p1/wndip1owxknhk8xlcq2-0bjpxv4.png"><br><br>  Immediately, we note that the recommended does not mean optimal, in the process of work you may need to make adjustments.  In one of the <a href="https://habrahabr.ru/company/knopka/blog/333480/">previous articles</a> we looked at PostgreSQL setup, you can learn something useful from there. <br><br><h3>  Here are the application servers on Linux: fresh-app- [01-02] .knopka.int </h3><br>  Install the necessary packages: <br><br><pre> <code class="bash hljs">apt-get install libperl5.24 libxslt1.1 libicu57 tcl8.5 libpython3.5 libpython2.7 libssl-dev krb5-multidev ssl-cert libssl-dev libgsf-1-114 imagemagick libgsf-1-dev ttf-mscorefonts-installer</code> </pre> <br>  Activate the fonts and overload the server: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">fc</span></span>-cache -fv reboot</code> </pre> <br>  Download the archive with the 1C: Enterprise server packages and unpack it into a separate directory, then install: <br><br><pre> <code class="bash hljs">dpkg -i 1c-enterprise83-common_*_amd64.deb 1c-enterprise83-server_*_amd64.deb 1c-enterprise83-ws_*_amd64.deb 1c-enterprise83-common-nls_*_amd64.deb 1c-enterprise83-server-nls_*_amd64.deb 1c-enterprise83-ws-nls_*_amd64.deb</code> </pre> <br>  We grant usr1cv8 rights to the / opt / 1C directory: <br><br><pre> <code class="bash hljs">chown -R usr1cv8:grp1cv8 /opt/1C</code> </pre> <br>  We will set up a technological journal, at the installation stage it will be useful if something goes wrong.  We will collect exceptional events that may not be processed, but will also cause the application to crash, as well as write server requests and responses.  Bonus will store dumps.  To do this, create a directory: <br><br><pre> <code class="xml hljs">mkdir -p /opt/1C/v8.3/x86_64/conf</code> </pre> <br>  And put the logcfg.xml file there with the following content: <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">config</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://v8.1c.ru/v8/tech-log"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">log</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">location</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/var/log/1c/excp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">history</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"24"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">event</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">eq</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">property</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"name"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"excp"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">event</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"all"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">log</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">log</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">location</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/var/log/1c/vrs"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">history</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"24"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">event</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">eq</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">property</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"name"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"vrsrequest"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">event</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">event</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">eq</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">property</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"name"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"vrsresponse"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">event</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"all"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">log</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dump</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">location</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/var/log/1c/dumps"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">create</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"3"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">config</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Create directories for logs and dumps, and give rights to the user usr1cv8: <br><br><pre> <code class="bash hljs">mkdir -p /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/1c/excp /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/1c/vrs /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/1c/dumps chown -R usr1cv8:grp1cv8 /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/1c</code> </pre> <br>  Run: <br><br><pre> <code class="bash hljs">/etc/init.d/srv1cv83 start</code> </pre> <br>  Make a unit to start the remote administration server (ras).  Create the file /etc/systemd/system/ras.service with the content: <br><br><pre> <code class="diff hljs">[Unit] Description=RAS After=syslog.target After=network.target [Service] Type=forking WorkingDirectory=/opt/1C/v8.3/x86_64 User=usr1cv8 Group=grp1cv8 OOMScoreAdjust=-100 ExecStart=/opt/1C/v8.3/x86_64/ras cluster --daemon -p 1545 ExecReload=/bin/kill -s HUP $MAINPID ExecStop=/bin/kill -s QUIT $MAINPID TimeoutSec=300 Restart=always [Install] WantedBy=multi-user.target</code> </pre> <br><br>  Activate our unit and start the service: <br><br><pre> <code class="bash hljs">systemctl daemon-reload systemctl <span class="hljs-built_in"><span class="hljs-built_in">enable</span></span> ras systemctl start ras</code> </pre> <br><h3>  There will be an application server on Windows: fresh-app-sa.knopka.int </h3><br>  To update the service agent will need to run the Configurator.  We have already written that in the new version the restriction on the use of Linux has been removed, but for example we will use Windows, so that it is clear how the work in this environment happens. <br><br>  To start the administration server (ras) you need to register it as a service.  Create a reg-ras.bat file with the following content: <br><br><pre> <code class="diff hljs">@echo off rem %1 -    1: set SrvUserName=&lt; &gt; set SrvUserPwd=&lt; &gt; set CtrlPort=1540 set AgentName=localhost set RASPort=1454 set SrvcName="1C:Enterprise 8.3 Remote Server" set BinPath="\"C:\Program Files\1cv8\%1\bin\ras.exe\" cluster --service --port=%RASPort% %AgentName%:%CtrlPort%" set Description="  1: 8.3" sc stop %SrvcName% sc delete %SrvcName% sc create %SrvcName% binPath= %BinPath% start= auto obj= %SrvUserName% password= %SrvUserPwd% displayname= %Description%</code> </pre> <br>  We change the username and password to those from which the service will run.  If Description is in Russian, do not forget to create a file in the desired encoding.  Let's run the file execution, transfer the platform version as a parameter: <br><br><pre> <code class="bash hljs">reg-ras.bat 8.3.11.2899</code> </pre> <br>  Then we start the service. <br><br><h3>  There will be a web-server of publications: fapache.knopka.int </h3><br>  Install apache: <br><br><pre> <code class="bash hljs">apt-get install apache2</code> </pre> <br>  Download the archive with the server 1C: Enterprise and unpack into a separate directory, then install: <br><br><pre> <code class="bash hljs">dpkg -i 1c-enterprise83-common_*_amd64.deb 1c-enterprise83-server_*_amd64.deb 1c-enterprise83-ws_*_amd64.deb 1c-enterprise83-common-nls_*_amd64.deb 1c-enterprise83-server-nls_*_amd64.deb 1c-enterprise83-ws-nls_*_amd64.deb</code> </pre> <br>  Create a configuration file to load the module at the start of apache and restart the service: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"LoadModule _1cws_module \"/opt/1C/v8.3/x86_64/wsap24.so\""</span></span> &gt; /etc/apache2/conf-available/1cws_module.conf ln -s /etc/apache2/conf-available/1cws_module.conf /etc/apache2/conf-enabled/1cws_module.conf /etc/init.d/apache2 restart</code> </pre> <br>  We will set up a technological journal, for this we will create a directory: <br><br><pre> <code class="bash hljs">mkdir -p /opt/1C/v8.3/x86_64/conf</code> </pre> <br>  And put the logcfg.xml file there with the following content: <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">config</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://v8.1c.ru/v8/tech-log"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">log</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">location</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/var/log/1c/excp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">history</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"24"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">event</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">eq</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">property</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"name"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"excp"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">event</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"all"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">log</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">log</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">location</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/var/log/1c/vrs"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">history</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"24"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">event</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">eq</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">property</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"name"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"vrsrequest"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">event</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">event</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">eq</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">property</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"name"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"vrsresponse"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">event</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"all"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">log</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dump</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">location</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/var/log/1c/dumps"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">create</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"3"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">config</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Create directories for logs and dumps, and give rights so that apache can write there: <br><br><pre> <code class="bash hljs">mkdir -p /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/1c/excp /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/1c/vrs /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/1c/dumps chown -R www-data:www-data /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/1c</code> </pre> <br><h3>  Creating a symbolic link to platform directories </h3><br>  New versions of the platform are installed in new directories containing a version number, for example, <br><br>  C: \ Program Files \ 1cv8 \ 8.3.11.2899 \.  To automate the update process a bit, create a SetCurrent1CVersion.cmd script that we will run when updating so that the symbolic link it creates is relevant: <br><br><pre> <code class="diff hljs">@echo off if /%1 == / goto help pushd "C:\Program Files\1cv8" if exist current\ rmdir current mklink /j current %1 popd goto end :help echo Usage: SetCurrent1CVersion.cmd &lt;version&gt; :end</code> </pre> <br>  In our case, execute: <br><br><pre> <code class="bash hljs">SetCurrent1CVersion.cmd 8.3.11.2899</code> </pre> <br>  Thus, we will always have a permanent path to the current version of C: \ Program Files \ 1cv8 \ current \ <br><br><h2>  Adding a cluster and production servers in the administration console </h2><br>  We start the administration console of the 1C: Enterprise server and add a new central server.  For authorized access, we add the central server administrator: <br><br><img src="https://habrastorage.org/webt/fz/gl/-g/fzgl-gtfijsuwokvlsn6d6ojn6c.png"><br><br>  In the same way we add the cluster administrator: <br><br><img src="https://habrastorage.org/webt/7q/3b/0l/7q3b0l68z-rm1lipnr_j7tbera8.png"><br><br><h2>  Service Manager Setup </h2><br><h3>  Expand base </h3><br>  First of all, we will prepare a cluster for the database using pg_createcluster, we will get the unoconnector user in it. <br><br>  In the server administration snap-in, we will create a database for the service manager.  Connecting to a non-standard port is carried out with the line fresh-app-02.knopka.int port = 5433. <br><br><img src="https://habrastorage.org/webt/ku/wi/bm/kuwibmwg0etjj0m3josn2wuwspa.png"><br><br>  After creating the database, go to the configurator, fill the configuration of the service manager.  Then we enter the service manager under the Administrator login without a password.  When you first start, it will set default values ‚Äã‚Äãand create predefined users. <br><br><img src="https://habrastorage.org/webt/pd/cf/iq/pdcfiqecsvmva4b2pvgt1nq_knq.png"><br><br>  Include password complexity: <br><br><img src="https://habrastorage.org/webt/32/42/9p/32429pmvjt0okifgsrrvve-quqs.png"><br><br>  Set logging logging details: <br><br><img src="https://habrastorage.org/webt/-1/ze/qx/-1zeqxznhjmim8ivtb4cxhm0_be.png"><br><br>  Set passwords for service users other than Anonymous (ProtectedUser, RemoteAccess, Administrator, Operator), set the parameters: <br><br><img src="https://habrastorage.org/webt/y0/vn/9d/y0vn9dnpy3mgycpjgrpls9kwwww.png"><br><br><h3>  Create a publication </h3><br>  Now you need to publish the service manager so that you can access it via web services or a web client. <br><br>  On the fapache.knopka.int server, put the sm.conf file with the following contents in the / etc / apache2 / sites-available directory: <br><br><pre> <code class="apache hljs"><span class="hljs-comment"><span class="hljs-comment"># sm   Alias /ext/sm /var/www/1cfresh/ext/sm &lt;Directory /var/www/1cfresh/ext/sm/&gt; AllowOverride All Options None Order allow,deny Allow from all SetHandler 1c-application ManagedApplicationDescriptor /var/www/1cfresh/ext/sm/default.vrd &lt;/Directory&gt; # sm   Alias /int/sm /var/www/1cfresh/int/sm &lt;Directory /var/www/1cfresh/int/sm/&gt; AllowOverride All Options None Order allow,deny Allow from all SetHandler 1c-application ManagedApplicationDescriptor /var/www/1cfresh/int/sm/default.vrd &lt;/Directory&gt;</span></span></code> </pre><br>  and enable the use of this site: <br><br><pre> <code class="bash hljs">a2ensite sm</code> </pre> <br>  Now we need to create directories in which we place the default.vrd files: <br><br><pre> <code class="bash hljs">mkdir -p /var/www/1cfresh/ext/sm /var/www/1cfresh/int/sm</code> </pre> <br>  default.vrd for external publishing: <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">point</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://v8.1c.ru/8.2/virtual-resource-system"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xs</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">base</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/ext/sm"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ib</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Srvr=fresh-app-02.knopka.int;Ref=sm;"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">enableStandardOData</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">point</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  default.vrd for internal publishing: <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">point</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://v8.1c.ru/8.2/virtual-resource-system"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xs</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">base</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/int/sm"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ib</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Srvr=fresh-app-02.knopka.int;Ref=sm;"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">enableStandardOData</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ws</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">point</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Rereading apache settings: <br><br><pre> <code class="bash hljs">systemctl reload apache2</code> </pre> <br>  Let's check how the publication works.  In the web client in the address bar enter fapache.knopka.int/ext/sm <br><br>  If everything is done correctly, the user authentication window will appear in the window.  Go to the Administrator user and see the admin desktop: <br><br><img src="https://habrastorage.org/webt/hl/ns/wl/hlnswlswl_pp6zggzaplhmgl7ku.png"><br><br><h2>  Description of the service structure </h2><br>  For the service to function properly, its structure must be described. <br><br><h3>  Access settings </h3><br>  On the ‚ÄúAdministration‚Äù tab, open ‚ÄúConfiguration Settings‚Äù ‚Üí ‚ÄúAccess Settings‚Äù, register the external and internal addresses of the service manager and password for the RemoteAccess user. <br><br>  The external address will be <a href="http://fapache.knopka.int/ext/sm">fapache.knopka.int/ext/sm</a> <br>  As an internal <a href="http://fapache.knopka.int/int/sm">fapache.knopka.int/int/sm</a> <br><br>  To start, this will be enough; we‚Äôll return to the settings of the other fields later. <br><br><img src="https://habrastorage.org/webt/wm/zz/jr/wmzzjrbupkp2g5mhk_s1nmjdgkg.png"><br><br><h3>  Service segments </h3><br>  On the ‚ÄúAdministration‚Äù tab, open the ‚ÄúService Segments‚Äù and create a new segment.  Let's call it "Local Area Network". <br><br><h3>  Registration of versions of the 1C: Enterprise platform </h3><br>  The service allows the use of multiple server clusters using different platforms.  Each version of the platform must be registered in the service manager. <br>  ‚ÄúAdministration‚Äù ‚Üí ‚ÄúVersions of 1C: Enterprise platform‚Äù <br><br><h3>  Administration Server Registration (ras) </h3><br>  ‚ÄúAdministration‚Äù ‚Üí ‚ÄúAdministration Servers (ras)‚Äù.  Add all servers where ras is raised, for example: <br><br><img src="https://habrastorage.org/webt/gs/sg/hy/gssghykdc1mbpn3hagw5c0epe1k.png"><br><br><h3>  Registration of working servers </h3><br>  "Administration" ‚Üí "Working servers".  Add all of our working servers and a working server administrator account: <br><br><img src="https://habrastorage.org/webt/du/im/au/duimauqthqz0oco5uf_gsselnvw.png"><br><br><h3>  Registering a server cluster </h3><br>  "Administration ‚Üí Clusters".  Add clusters and a cluster administrator account: <br><br><img src="https://habrastorage.org/webt/zs/cf/52/zscf52-ulkp3l0rtemktmafat6w.png"><br><br><h3>  Service Manager Registration </h3><br>  "Administration ‚Üí Configurations".  We create a new configuration, the type of configuration for the service manager is ‚ÄúManaging‚Äù.  The configuration name must exactly match the configuration name in the Configurator. <br><br><img src="https://habrastorage.org/webt/hr/vn/ql/hrvnqlbockhqjukuwqgdfpk0c0k.png"><br><br>  In the same window in the left part, select "Configuration Versions" and create a new entry by selecting "Enter version information manually."  Now you can not add the configuration file, it is only needed to update the configuration for this version.  The remaining fields are filled with: <br><br><img src="https://habrastorage.org/webt/m_/4u/nt/m_4untk0zm62ywlbjwcvbdbccyq.png"><br><br>  Now you need to register the information database of the service manager: ‚ÄúAdministration ‚Üí Information databases‚Äù.  Fill in the screenshot, do not forget to put a tick "on support." <br><br><img src="https://habrastorage.org/webt/n-/0p/sf/n-0psf_48jvlvixrc8yvhamj-js.png"><br><br>  Next, go to "Administration ‚Üí Service Managers" and add an entry: <br><br><img src="https://habrastorage.org/webt/eh/hx/gp/ehhxgpof-j9gx0lvsm7ogqnyx4w.png"><br><br>  Returning to ‚ÄúAdministration‚Äù, open ‚ÄúConfiguration Settings‚Äù ‚Üí ‚ÄúAccess Settings‚Äù and select our service manager in the ‚ÄúThis Service Manager‚Äù field. <br><br><img src="https://habrastorage.org/webt/jk/y2/oh/jky2ohc0k1w6zhrmjiyzq---yhc.png"><br><br>  At the moment, the description of the structure of the service can be completed, we will return to the additional settings of web servers and their groups later when the application gateway will function. <br><br><h2>  Configure the service agent </h2><br><h3>  Unwrap </h3><br>  The process of creating and adding a service agent is similar to adding a service manager.  We prepare a cluster for the new database on the database server fresh-db.knopka.int for a new database with the help of pg_createcluster, we get a user to connect. <br><br>  In the 1C server administration console, we add the server fresh-app-sa.knopka.int, create the fresh-app-sa cluster of the same name, add the central server and cluster administrators, create the sa database with the connection parameters fresh-db.knopka.int port = 5434 . <br><br>  Go to the Configurator and load the configuration of the service agent.  After loading the configuration, run the interactive launch.  If everything is correct, then we will see this window: <br><br><img src="https://habrastorage.org/webt/fh/c4/a6/fhc4a6_b6urgf9xhzcp6lgwfubk.png"><br><br>  Go to ‚ÄúConfiguration and Administration‚Äù ‚Üí ‚ÄúLaunch the Configurator‚Äù and set the path.  Recall that current is a symbolic link to the current platform version. <br><br><img src="https://habrastorage.org/webt/hr/oz/nc/hrozncv9be4obm8jzkuhwssiyh8.png"><br><br><h3>  Publish </h3><br>  Let's publish our service agent on the web-publications server fapache.knopka.int. <br>  In the directory / etc / apache2 / sites-available put the file sa.conf with the following content: <br><br><pre> <code class="apache hljs"><span class="hljs-comment"><span class="hljs-comment"># sa   Alias /int/sa /var/www/1cfresh/int/sa &lt;Directory /var/www/1cfresh/int/sa/&gt; AllowOverride All Options None Order allow,deny Allow from all SetHandler 1c-application ManagedApplicationDescriptor /var/www/1cfresh/int/sa/default.vrd &lt;/Directory&gt;</span></span></code> </pre> <br>  For a service agent, you only need an internal publication.  We include the use of this site: <br><br><pre> <code class="bash hljs">a2ensite sa</code> </pre> <br>  Now you need to create a directory in which we place the default.vrd files. <br><br><pre> <code class="bash hljs">mkdir -p /var/www/1cfresh/int/sa</code> </pre> <br>  default.vrd: <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">point</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://v8.1c.ru/8.2/virtual-resource-system"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xs</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">base</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/int/sa"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ib</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Srvr=fresh-app-sa.knopka.int;Ref=sa;"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">enableStandardOData</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ws</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">point</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Restart apache and check in the browser the address: <br><br>  <i><a href="http://fapache.knopka.int/int/sa/ws/InterfaceVersion%3Fwsdl">fapache.knopka.int/int/sa/ws/InterfaceVersion?wsdl</a></i> <br><br>  If everything is done correctly, a WSDL description of the web service provided by the service agent database will appear. <br><br><h3>  We will register </h3><br>  To begin, register the configuration and its version.  In the service manager, open ‚ÄúAdministration‚Äù ‚Üí ‚ÄúConfigurations‚Äù and create a new entry.  The name is the same as the configuration name in the Configurator, the type is ‚ÄúService‚Äù: <br><br><img src="https://habrastorage.org/webt/vy/en/uo/vyenuoqsihydtsagodasjjtubia.png"><br><br>  Go to the "Configuration Version", add a new entry manually. <br><br><img src="https://habrastorage.org/webt/l7/xa/c2/l7xac2-54b8fzec9oo9onwhtmza.png"><br><br>  We register information base.  Open ‚ÄúAdministration‚Äù ‚Üí ‚ÄúInformation databases‚Äù and create a new entry with the name ‚ÄúService Agent‚Äù.  Immediately check the connection to the database. <br><br><img src="https://habrastorage.org/webt/nt/it/n-/ntitn-u9flrcb1vq0hg-ou9ztqa.png"><br><br>  Next, ‚ÄúAdministration ‚Üí Service Agents‚Äù, add an entry: <br><br><img src="https://habrastorage.org/webt/na/7d/cw/na7dcwj1th4qmjibiw3g0zeascm.png"><br><br>  Everything, the agent of service is ready to use. <br><br><h2>  Configuring the information base of the application solution on the example of "Enterprise Accounting" </h2><br><h3>  Unwrap </h3><br>  And again, the familiar process of creating a base.  We deploy a cluster on a database server.  In the administration console, we connect the server fresh-app-01.knopka.int, create the ea_01 database on fresh-db.knopka.int port = 5435. <br><br>  We load the configuration of Enterprise Accounting 3.0.52.42, we perform an interactive launch. <br>  Create an Administrator user, set a password for him, forbid him to change and display the login in the selection list.  When saving, we agree to enter the user in the Administrators group: <br><br><img src="https://habrastorage.org/webt/po/ia/yc/poiayczkeso49gfpwdikshe1xyg.png"><br><br><h3>  Set constants </h3><br>  In the official documentation, the installation of constants is described only for information bases of applied solutions, but they must also be installed in the service manager.  Enable the option "All functions": <br>  Main menu ‚Üí Tools ‚Üí Options ‚Üí Display the "All Functions" command. <br>  and set the following values ‚Äã‚Äãto the constants: <br><br>  Detail the update of information security in the log <b>on</b> <br>  Use offline work in service model <b>On</b> <br>  Use data sync <b>On</b> <br>  Use data sync in local <b>off</b> mode <br>  Use data synchronization in service model <b>On</b> <br>  Use data synchronization in the service model with the local program <b>Off</b> <br>  Use data synchronization in the service model with the application on the Internet <b>On</b> <br><br>  You also need to create a RemoteAccess user; we do this in the Configurator, having previously included the complexity of password checking in the information base parameters.  We set the password, prohibit it from changing, remove the display in the selection list. <br><br>  We assign the following roles to the RemoteAccess user: <br><br><ul><li>  Perform data synchronization </li><li>  Remote access (administration of the information base in the service model); </li><li>  Remote access (Basic functionality); </li><li>  Remote access (data exchange in the service model); </li><li>  Remote access (messaging); </li><li>  Remote access (standard OData interface) </li></ul><br>  At this time we finish with the Configurator and close it. <br><br><h3>  Publish </h3><br>  Create a /etc/apache2/sites-available/ea_01.conf configuration file on the fapache.knopka.int server: <br><br><pre> <code class="apache hljs"><span class="hljs-comment"><span class="hljs-comment"># ea_01   Alias /ext/ea_01 /var/www/1cfresh/ext/ea_01 &lt;Directory /var/www/1cfresh/ext/ea_01/&gt; AllowOverride All Options None Order allow,deny Allow from all SetHandler 1c-application ManagedApplicationDescriptor /var/www/1cfresh/ext/ea_01/default.vrd &lt;/Directory&gt; # ea_01   Alias /int/ea_01 /var/www/1cfresh/int/ea_01 &lt;Directory /var/www/1cfresh/int/ea_01/&gt; AllowOverride All Options None Order allow,deny Allow from all SetHandler 1c-application ManagedApplicationDescriptor /var/www/1cfresh/int/ea_01/default.vrd &lt;/Directory&gt;</span></span></code> </pre> <br>  and enable the use of this site: <br><br><pre> <code class="bash hljs">a2ensite ea_01</code> </pre> <br>  Now we need to create directories in which we place the default.vrd files: <br><br><pre> <code class="bash hljs">mkdir -p /var/www/1cfresh/ext/ea_01 /var/www/1cfresh/int/ea_01</code> </pre> <br>  default.vrd for external publishing: <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">point</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://v8.1c.ru/8.2/virtual-resource-system"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xs</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">base</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/ext/ea_01"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ib</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Srvr=fresh-app-01.knopka.int;Ref=ea_01;"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">enableStandardOData</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">zones</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">zone</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">specify</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">safe</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">zone</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">specify</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">safe</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">zones</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ws</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">pointEnableCommon</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">point</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Exchange"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alias</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"exchange.1cws"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">enable</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">point</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Exchange_2_0_1_6"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alias</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"exchange_2_0_1_6.1cws"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">enable</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">point</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"InterfaceVersion"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alias</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"InterfaceVersion.1cws"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">enable</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ws</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">point</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  default.vrd for internal publishing: <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">point</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://v8.1c.ru/8.2/virtual-resource-system"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xs</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">base</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/int/ea_01"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ib</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Srvr=fresh-app-01.knopka.int;Ref=ea_01;"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">enableStandardOData</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ws</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">point</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Rereading apache settings: <br><br><pre> <code class="bash hljs">systemctl reload apache2</code> </pre> <br><h3>  We will register </h3><br>  Go to the service manager and register the new configuration in ‚ÄúAdministration‚Äù ‚Üí ‚ÄúConfigurations‚Äù.  This time the name will be ‚ÄúAccounting Enterprise‚Äù, and the type will be ‚ÄúApplied‚Äù. <br><br><img src="https://habrastorage.org/webt/hv/he/gf/hvhegfsy_mb5y4y6yfndremlt-g.png"><br><br>  In the ‚ÄúConfiguration Versions‚Äù section, we create a new entry in which we indicate the current version, the release version type, and the current platform version. <br><br>  Open ‚ÄúAdministration‚Äù ‚Üí ‚ÄúInformation databases‚Äù and register information database: <br><br><img src="https://habrastorage.org/webt/44/zr/jk/44zrjkkuyqxel0f0nifgauflacc.png"><br><br>  Now for this information base you need to register an administration account.  This is necessary for the service agent so that it can connect to the database with administrator rights, update and manage it.  This is done here, in the infobase window in the ‚ÄúAdministrative Accounts‚Äù section. <br><br><img src="https://habrastorage.org/webt/-u/_u/ot/-u_uoti7maxx9lguy3ssm_i-ume.png"><br><br>  In the application information base we will create data areas.  To do this, in the main section of the information database window, go to the "Advanced" tab, check the "Add new areas" box and remove the "Fill in the areas with initial data".  We did not prepare the initial data, so they simply do not exist. <br><br><img src="https://habrastorage.org/webt/zi/q5/pz/ziq5pzxovpkuo6ox6kbb-s2n87y.png"><br><br>  Messages are used to exchange information between the agent, the service manager, and the application information databases.  For example, you can see the list in the service manager in the section ‚ÄúAdministration‚Äù ‚Üí ‚ÄúMessaging‚Äù.  We will not dwell on the messages in detail; information on working with them can be found in the official documentation of 1C Fresh. <br><br>  You can monitor the readiness of preparing areas in the ‚ÄúDesktop‚Äù ‚Üí ‚ÄúApplications‚Äù window.  Uncheck the ‚ÄúOnly used‚Äù box and see three areas with the ‚ÄúNew‚Äù status.  As soon as all the operations on the preparation of the region are finished, she will change the state to ‚ÄúFinish‚Äù. <br><br><h2>  Service user and subscriber user </h2><br>  In order to be able to use the application in the service model, it is necessary to register the service user, grant him the right to work in his data area.  The service-subscriber scheme itself is the following: The user is registered in the service, a subscriber is created for him, the subscribers of this subscriber, who are also users of the service, are added to the subscriber. <br><br>  User registration requires setting up an email account to send an activation code.  You can configure it in the service manager in the section ‚ÄúAdministration‚Äù ‚Üí ‚ÄúE-mail accounts‚Äù.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We will not dwell on this in detail, since each has its own settings and everything is intuitively understandable. You can do without it and get the activation code in another way, we will tell about it below. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We go to the service manager on behalf of the user Anonymous without a password, after successful login click "Register" and enter data on the new user of the service. The e-mail address must be valid: </font></font><br><br><img src="https://habrastorage.org/webt/fm/s2/fd/fms2fdgmmj8ejjs9yvcnvu2_fyw.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When you click the "Register" button, a window appears asking about the readiness to go through the activation of the created user, to which we will respond positively.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Next, we will need to enter the activation code sent to the e-mail specified during registration, but we will take it in the section ‚ÄúService‚Äù ‚Üí ‚ÄúRequests for registration‚Äù. </font><font style="vertical-align: inherit;">Open the request and copy the request code of the form 0414fb84-cf59-11e7-f094-00155d003608 from there, this is the activation code we need. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After creating the service user, the service manager will also automatically create the subscriber and add the user's rights to the subscriber to the user. </font><font style="vertical-align: inherit;">He can manage his applications, invite new users to work with them in the subscriber's applications.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Adding an application to the subscriber </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Let's enter the service manager using the login sharikov.p: </font></font><br><br><img src="https://habrastorage.org/webt/u7/3a/p3/u73ap3sa6oifa7y01x9fhxlsnfg.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Press the ‚ÄúAdd‚Äù button and add the application ‚ÄúEnterprise Accounting‚Äù. It is enough to select only the type of application and wait until the ‚ÄúUsed‚Äù column is in the ‚ÄúAvailability‚Äù column. </font></font><br><br><img src="https://habrastorage.org/webt/v8/mi/al/v8mialkslohyjp-5x_d1diiorpy.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When you click the "Login to application" button, the browser opens the address </font></font><a href="http://fapache.knopka.int/ext/ea_01/1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fapache.knopka.int/ext/ea_01/1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , where the last unit is the area number. In other areas, the user has no rights and can not log in. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">From now on, we have a minimum running service 1C Fresh As you can see, deploying it is quite simple.</font></font><br><br><h2>  Conclusion </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This is not all the functionality. </font><font style="vertical-align: inherit;">You can configure the planned configuration updates, data synchronization in the service. </font><font style="vertical-align: inherit;">Adding an application gateway ensures the scalability of the service instance by adding new information databases to it and keeping a single external address for similar information databases. </font><font style="vertical-align: inherit;">The website and the service forum, monitoring inaccessibility and others can be easily commissioned in conjunction with the 1C Fresh service, which gives flexibility in the choice of functionality depending on your needs.</font></font></div><p>Source: <a href="https://habr.com/ru/post/345692/">https://habr.com/ru/post/345692/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../345670/index.html">JetBrains CLion for microcontrollers</a></li>
<li><a href="../345672/index.html">Search under the hood Chapter 1. Network spider</a></li>
<li><a href="../345674/index.html">Product Design Digest, December 2017</a></li>
<li><a href="../345688/index.html">How to capture / protect an open-source project</a></li>
<li><a href="../345690/index.html">Harmful spells in programming</a></li>
<li><a href="../345694/index.html">My experience is to get into IT in comparison with a tambovka taxi driver</a></li>
<li><a href="../345696/index.html">Do you want a 6.5 deposit? Calculation of the rate of return on shares and full return using the Moex API and the dividend parser</a></li>
<li><a href="../345698/index.html">We turn speakers into speakers on the example of HighLoad ++</a></li>
<li><a href="../345700/index.html">Mobile retargeting - the main tool for promoting mobile applications in 2018</a></li>
<li><a href="../345702/index.html">The story of the emergence of financial accounting in my life</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>