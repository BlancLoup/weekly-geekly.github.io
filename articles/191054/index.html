<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>STM32 vs Arduino</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A tiny shawl arrived yesterday at the STM32F103C8. 

  STM32F103C8 Front 

 This is a 48-bit 32bit microcontroller. And this is a great upgrade option...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>STM32 vs Arduino</h1><div class="post__text post__text-html js-mediator-article">  A tiny shawl arrived yesterday at the STM32F103C8. <br><br> <a href=""><img alt="STM32F103C8 Front" src="https://habrastorage.org/storage2/f0e/c51/dd4/f0ec51dd4ed92ff09dfe941f96d05dbb.jpg" width="800" height="706"></a>  STM32F103C8 Front <br><br>  This is a 48-bit 32bit microcontroller.  And this is a great upgrade option for those who use Arduino. <br><a name="habracut"></a><br>  For the scale put next to the Arduino Pro, which is smaller than the usual Arduino Uno: <br> <a href=""><img alt="Arduino vs STM32F103C8_r" src="https://habrastorage.org/storage2/5a2/d1f/f78/5a2d1ff781412bc6d32d55181eb3951e.jpg" width="800" height="535"></a> <br>  The size of the microcontroller itself is exactly the same, only the pitch of the legs is not 0.8, but 0.5mm, so they fit into the same building 48, not 32. But the board is smaller and costs from $ 10 with delivery. <br>  And what about the functionality? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Arduino </h2><br>  32 kB Flash <br>  2 kB RAM <br>  1 kB EEPROM <br>  ATMEL AVR's 8-bit architecture, up to 20 MHz, in Arduino runs at 16 MHz.  1 MIPS / MHz <br>  The supply voltage is 5V or 3.3V at 8MHz and is not 5V-tolerant. <br><br>  GPIO general purpose pins - 20 <br>  Of them: <br>  PWM - 6 (hardware PWM for servo control - 2) <br>  ADC inputs - 6 (10 bit) <br>  <strong>Periphery:</strong> <br>  I2C tire <br>  SPI Bus <br>  1 UART <br>  1x 16 bit timer <br>  2x 8 bit timer <br>  Well and on trifles it is a little: interrupt controller, watchdog. <br>  It is programmed either via SPI - 4-wire interface (MOSI, MISO, SCK, RST) or via UART, if you first flash the bootloader, which takes up to 2kb flash. <br><br><h2>  STM32F103C8 </h2><br>  64 kB Flash (128 kb if you put STM32F103CB (from $ 2.6 each)) <br>  20 kB RAM <br>  ARM CORTEX-M3 32-bit architecture, up to 72 MHz, 1.25 MIPS / MHz <br>  Power supply 3.3V (2.7-3.6), almost all pins are 5V-tolerant.  The board has a 3.3V voltage regulator, which is powered by an external 5V or USB. <br><br>  GPIO general purpose pins - 26 <br>  Of them: <br>  PWM - 12 (all suitable for servo control) <br>  ADC inputs - 6 (12 bit, 1¬µs) <br>  <strong>Periphery:</strong> <br>  3x USART <br>  2x I2C <br>  2x SPI (18Mbit / s) <br>  1 x CAN 2.0B <br>  USB 2.0 FS (FullSpeed ‚Äã‚Äã- 12Mbit) <br>  3x 16 bit timer + 1 PWM timer <br>  DMA - 7 channels (ADC, SPI, I2C, USART) <br>  RTC - real time clock (32768 Hz quartz is already unsoldered), can run on battery when the MC is sleeping or stopped altogether. <br>  Backup registers - registers powered by a battery together with a clock at the time of turning off the MC from the main power supply <br>  CRC - checksum calculation unit <br>  96-bit unique ID MK <br><br>  Programmable via SWD - 2-wire interface or JTAG (industry standard). <br>  There is hardware debugging - you can look into the registers of the processor, look at the state of all the peripherals, execute the program step by step, change the values ‚Äã‚Äãin RAM and Flash, look at the values ‚Äã‚Äãof variables at any time, put Breakpoint. <br>  There is also a sewn bootloader, which is impossible to erase and it allows you to flash the MK through a normal UART by moving the jumper. <br><br> <a href=""><img alt="Board functionality" src="https://habrastorage.org/storage2/bef/a7b/6f4/befa7b6f4c512af528212e7300d191e5.jpg" width="600" height="830"></a>  Board functionality <br><br>  Functional chic.  Of the shortcomings, only a higher entry threshold during training is that the MC is stuffed with possibilities that it does not immediately work out with them.  But there is detailed documentation, there are examples.  They are not as primitive as for AVR Atmega and especially Arduino with its Wiring, but they are also not particularly complicated. <br><br>  In general, in my opinion, the board <em>in all respects exceeds the</em> Arduino including the price.  And considering that all MK STM32 series STM32F100, F101, F102, F103, F104, F105, F107 are fully pin to pin compatible in one package, you can extend the functionality of the board without changing its layout, but simply by replacing the chip.  There are 48, 64, 100, 144 legs to choose from.  And the older episodes (for example, F4) have more. <br><br>  Understood yesterday with a USB HID for this board, the project without any changes adapted for this MK.  As a result, we connect the USB board with a cord.  No drivers need to be installed - the board is seen as a standard HID device.  USB support is fully hardware, up to 8 endpoints.  I use 1 endpoint for two-way communication with the PC.  The Delphi program can control the LEDs and get the button states in the form of regular HID reports.  Packet exchange is much more convenient than the UART stream, in which you need to mess with the headers, search for the beginning and end of the package.  If the COM port is occupied by the program, then no one can connect.  If the device is disabled, the program will not be able to close the COM port correctly.  There are no such problems with USB HID.  Fully hot-plug.  I pulled it out, put the device back in, the program can reconnect to it on the fly without restarting. <br><br>  In the MK, everything works on interrupts, so most of the time it just rests and can be occupied with useful things, unlike V-USB for the AVR, where the MK barely copes with USB software emulation and that is flawed. <br><br>  Well, for lovers of clarity, we blink LEDs :) <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/tXuZpR0LMZI%3Ffeature%3Doembed&amp;xid=25657,15700019,15700043,15700186,15700190,15700253,15700258&amp;usg=ALkJrhgAElZligVOm942nP2NztO2razbew" frameborder="0" allowfullscreen=""></iframe><br><br>  Soon I will lay out on my site the development toolkit for STM32: IDE EmBlocks along with the toolchain, which I modified to support ColinkEx and a little combed the templates for the MK I often use: STM32F103VE, STM32F103C8, STM32F100RB </div><p>Source: <a href="https://habr.com/ru/post/191054/">https://habr.com/ru/post/191054/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../191030/index.html">Analysis of all tasks and results of Yandex. Algorithm</a></li>
<li><a href="../191032/index.html">Python inside. Process structures</a></li>
<li><a href="../191044/index.html">Rootkit Avatar and HiddenFsReader</a></li>
<li><a href="../191048/index.html">IBM Unveils New Wind and Solar Prediction System</a></li>
<li><a href="../191052/index.html">Nginx has a paid version - Nginx Plus</a></li>
<li><a href="../191060/index.html">Minimalistic RSS reader for the Yandex.Following service</a></li>
<li><a href="../191066/index.html">Cowon AE1: another unusual recorder from the manufacturer of players</a></li>
<li><a href="../191072/index.html">Jolla: pre-order over, design updated</a></li>
<li><a href="../191074/index.html">Localization of templates on the client in AngularJS</a></li>
<li><a href="../191078/index.html">jTap - event of a click for touch devices</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>