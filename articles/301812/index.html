<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We test the project on SaltStack using KitchenCI</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 



 I have a pet project that I do in my free time. This project is completely devoted to infrastructure experiments. I use SaltStack fo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We test the project on SaltStack using KitchenCI</h1><div class="post__text post__text-html js-mediator-article"><h2>  Introduction </h2><br><img src="https://habrastorage.org/files/b22/a0a/dc1/b22a0adc14ec4a1b8377e33671965636.png" align="left" width="250"><br><p>  I have a <a href="https://en.wiktionary.org/wiki/pet_project">pet project</a> that I do in my free time.  This project is completely devoted to infrastructure experiments.  I use <a href="https://saltstack.com/">SaltStack</a> for configuration management.  SaltStack is a centralized infrastructure management system.  This means there is a master server that configures the slave servers. </p><br><p>  During the life of the project, I stepped on a small set of rakes, but in the end I came to a very convenient approach to working with him.  In general, about this and the article - how it all began and what it came to. </p><a name="habracut"></a><br><h2>  When the trees were big </h2><br><p>  The whole project was monolithic, it had everything: </p><br><ul><li>  states (states) - instructions-descriptions of how and what to configure; </li><li>  data structures (pillars) - data that is used in the states.  For example: <br><ul><li>  list of system packages for some task; </li><li>  login / password from Docker hub'a, which are used in the states for deploying Docker containers; <br>  server lists and their assigned states and data. </li></ul></li></ul><br><p>  The whole project was in one git repository, which was connected to the master server via <a href="https://docs.saltstack.com/en/latest/topics/tutorials/gitfs.html">gitfs</a> .  It is terribly convenient - no need to worry about updating the data on the master server.  SaltStack collects everything from the repository itself. </p><br><p>  I could raise a test copy of my infrastructure and test everything through it using a separate branch in the git repository.  But to raise a copy of test infrastructure is expensive: </p><br><ul><li>  for money, if it's clouds; </li><li>  on time, in any case - it‚Äôs necessary to take and do and maintain in working condition. </li></ul><br><p>  On the other hand, the ‚Äúbattle‚Äù is one continuous ‚Äútest‚Äù and it's okay if I break it (well, as it‚Äôs not scary, it hurts).  And since it's not scary, then every change, including an intermediate one, I deploy via push to the repository.  Commit-log began to look creepy, to say the least: </p><br><ul><li>  <em>try to solve the problem of installing the package ...;</em> </li><li>  <em>another attempt to correct the error ...;</em> </li><li>  <em>magic‚Ä¶;</em> </li><li>  <em>Well, now everything is exactly;</em> </li><li>  <em>Well, now everything is exactly number 2;</em> </li><li>  <em>any changes that I forgot last time;</em> </li></ul><br><p>  In fact, not everything was so bad, but on the whole the picture gives an example of the correct%) </p><br><p>  Then it became even worse - over time, I began to forget what state it is doing and how it does it.  Still, this is a personal project and I work on it not always, but from time to time.  The README file has already poorly solved this problem. </p><br><p>  There was also the connectivity of states through data.  Different states used the same data, if the data structure was changed for one state - others were guaranteed to break.  Because of this, at some point in time, the "combat" configuration is in a state of "gut out".  I can fix the bug for several days, which means that at this time some of the states could remain inoperative.  In general, this spoke of the poor design of the project architecture. </p><br><p>  But all these cons I was a little worried.  In my mode, I was ready to live with them.  I could not put up with only one thing - by changing something in the data structure, I forgot to check all the states.  Catching then such "pending" errors is long and dumb. </p><br><h2>  Solution - write tests </h2><br><p>  I realized that if I write tests, I will have a guarantee that if I changed something, then auto-tests will check the result of all states.  Hooray!  Everything is quite simple.  The task is clear: I want to check the result of the work of the states in the project. </p><br><p>  So, what do we have for testing?  The output of SaltStack is configuration files, services, Docker containers, firewall settings, SElinux, and so on.  This is all very well tested using <a href="http://serverspec.org/">Serverspec tests</a> . </p><br><p>  I began to recall the conferences where I was, to recall the articles I had on this topic.  In general, only one author, Igor Kurochkin <a href="https://habrahabr.ru/users/igoritl/" class="user_link">IgorITL</a> , who I listened to live at DevConf'e 2015, was spinning in Russian from actual and good in my head. You can watch his report ‚ÄúWe are testing infrastructure as a code‚Äù: </p><br><ul><li>  <a href="https://www.youtube.com/watch%3Fv%3D6_OS_dFPpTY">Video</a> (although it is already Rootconf) </li><li>  <a href="http://www.slideshare.net/ikurochkin/ss-46998701">Slides</a> </li><li>  The same report, revised into the format of the <a href="https://habrahabr.ru/company/express42/blog/256725/">article.</a> </li></ul><br><p>  I also found a good article for understanding the problem <a href="http://www.ibm.com/developerworks/library/a-devops5/">"Agile DevOps: Test-driven infrastructure"</a> . </p><br><img src="https://habrastorage.org/files/f53/8b1/c50/f538b1c50ab04563a238bfb198c1e91d.png" align="left" width="140"><br><p>  After reading all the materials, I realized that the <a href="http://kitchen.ci/">KitchenCI</a> tool is suitable for my task, since it: </p><br><ul><li>  Works with SaltStack; </li><li>  runs infrastructure code anywhere ‚Äî Vagrant, Docker, lxc, and a bunch of different clouds; </li><li>  supports test frameworks: bats, RSpec, Serverspec and others. </li></ul><br><p>  I considered that, it seems, now I know everything.  There is a theory, everything went in my head - now you can definitely start writing tests, isn't it? </p><br><h2>  The first pancake is lumpy </h2><br><p>  I looked at the project and saw that somehow the theory in my head, well, doesn‚Äôt fit my reality at all.  How to approach my project?  Where to put the tests?  How to run them? </p><br><p>  In search of an answer, I again climbed carefully to the KitchenCI documentation.  Unfortunately, it greatly distracts the specialization of this tool in Chef and its features.  Examples again everything for him. </p><br><p>  Let's take a closer look at KitchenCI.  In this tool we operate with the following objects: </p><br><ul><li>  <em>Drivers</em> - plugins with which KitchenCI starts virtual machines.  For example, vagrant, docker, digitlocean, etc.  By default, vagrant is used and it suits me completely - I want to test the tests locally; </li><li>  <em>engine</em> (provisioner), which describes our configuration.  The default is Chef in masterless mode; </li><li>  <em>platform</em> - the name of the image that will be used as the base for our test virtual machine; </li><li>  <em>test suite</em> for running (suite).  If nothing is changed, then KitchenCI will try to find tests in the default directory, which is the name of the default set; </li></ul><br><p>  I use SaltStack.  Google tells us that there is a third-party project <a href="https://github.com/simonmcc/kitchen-salt">'kitchen-salt'</a> , which implements the provisioner <em>salt_solo</em> for SaltStack.  There is also a detailed <a href="">lesson and an example of</a> how to use it. </p><br><p>  After reading the KitchenCI and kitchen-salt documentation, I took out the main thing - individual recipes are being tested (in Chef terminology), and not the entire configuration.  In SaltStack, an analogue of Chef's recipes are formulas - independent states, made into an independent project.  These formulas are used to reuse code in other projects.  For example, a whole bunch of such formulas are available on <a href="https://github.com/saltstack-formulas/">GitHub</a> . </p><br><p>  This is the main reason why my project is "not suitable" for KitchenCI - it is monolithic.  The words ‚Äúrefactoring,‚Äù ‚Äúcode connectivity,‚Äù ‚Äúmodular approach,‚Äù and the like spun in my head.  I felt sad.  As a non-programmer, I should not know such words. </p><br><h2>  Project refactoring </h2><br><p>  Challenge accepted!  As I recall the first rule of refactoring, it should have a clear, achievable and measurable goal.  This is usually a detailed answer to the question ‚ÄúWhy do we make changes?‚Äù.  In my case, it was worded as follows: </p><br><ul><li>  all states of the main project must be placed in separate subsidiary formula projects; </li><li>  each formula must have a README file with its own description; </li><li> Each formula must be accompanied by a <code>pillar.example</code> file, with an example of the data storage structure that this state expects; </li><li>  Each formula must be designed in accordance with the requirements and recommendations that can be found in the official <a href="https://docs.saltstack.com/en/latest/topics/development/conventions/formulas.html">documentation</a> . </li></ul><br><p>  Having made a list of tasks, I again became sad, drank coffee and went to do.  The state of the state turned into separate formulas.  Taking out the state of the main project, I added a <a href="https://docs.saltstack.com/en/latest/topics/development/conventions/formulas.html">link to a new formula</a> to the master server configuration.  Thus, the performance of the project did not suffer much throughout the rework. </p><br><p>  Due to the connectedness of some of the states, I had to revise the data storage structure - I made it more independent, broke into non-intersecting parts for different formulas, and at the same time tried to avoid duplication of data.  This was perhaps the most difficult.  Because of this, some of the logic of some states was transferred to others. </p><br><p>  The result of the work was almost two dozen separate formulas, simple and clear, with examples of the data used and minimal documentation.  The resulting data structure has become noticeably simpler.  Even at this stage, I felt a positive result - I now knew that my formulas are independent, and you can more boldly make changes to them. </p><br><h2>  Testing </h2><br><p>  As soon as I began to consider a separate formula as an object of testing, I immediately had a picture in my head about how to apply KitchenCI.  Let's analyze the testing process by the example of the simplest formula "Common packages".  This formula installs system packages that I expect to meet on any of my servers.  These are just habitual utilities for me. </p><br><p>  <em>NB!</em>  <em>Further in the text, all commands are executed in the root of the draft formula.</em> </p><br><p>  This is what the original file structure of the formula looks like: </p><br><pre> <code class="hljs swift">.git common-packages/<span class="hljs-keyword"><span class="hljs-keyword">init</span></span>.sls pillar.example <span class="hljs-type"><span class="hljs-type">README</span></span>.md</code> </pre> <br><p>  <code>init.sls</code> : </p><br><pre> <code class="hljs django"><span class="xml"><span class="xml">packages: pkg.latest: - pkgs: </span></span><span class="hljs-template-tag"><span class="hljs-template-tag">{%- </span><span class="hljs-name"><span class="hljs-name"><span class="hljs-template-tag"><span class="hljs-name"><span class="hljs-name">if</span></span></span></span></span><span class="hljs-template-tag"> pillar['packages'] is defined %}</span></span><span class="xml"><span class="xml"> </span></span><span class="hljs-template-tag"><span class="hljs-template-tag">{%- </span><span class="hljs-name"><span class="hljs-name"><span class="hljs-template-tag"><span class="hljs-name"><span class="hljs-name">for</span></span></span></span></span><span class="hljs-template-tag"> package </span><span class="hljs-keyword"><span class="hljs-template-tag"><span class="hljs-keyword">in</span></span></span><span class="hljs-template-tag"> pillar['packages'] %}</span></span><span class="xml"><span class="xml"> - </span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{ package }}</span></span><span class="xml"><span class="xml"> </span></span><span class="hljs-template-tag"><span class="hljs-template-tag">{% </span><span class="hljs-name"><span class="hljs-name"><span class="hljs-template-tag"><span class="hljs-name"><span class="hljs-name">endfor</span></span></span></span></span><span class="hljs-template-tag"> %}</span></span><span class="xml"><span class="xml"> </span></span><span class="hljs-template-tag"><span class="hljs-template-tag">{% </span><span class="hljs-name"><span class="hljs-name"><span class="hljs-template-tag"><span class="hljs-name"><span class="hljs-name">endif</span></span></span></span></span><span class="hljs-template-tag"> %}</span></span><span class="xml"></span><span class="xml"></span></code> </pre> <br><p>  Sample data, <code>pillar.example</code> : </p><br><pre> <code class="hljs perl">packages: - <span class="hljs-keyword"><span class="hljs-keyword">bind</span></span>-utils - whois - git - psmisc - mlocate - openssl - bash-completion - net-tools</code> </pre> <br><p>  For KitchenCI, we will need the installed Vagrant and ruby ‚Äã‚Äã(and gem bundler, of course).  Create a <code>Gemfile</code> with the list of required ruby ‚Äã‚Äãgems in the root of the project of our formula: </p><br><pre> <code class="hljs mel"><span class="hljs-keyword"><span class="hljs-keyword">source</span></span> <span class="hljs-string"><span class="hljs-string">"https://rubygems.org"</span></span> gem <span class="hljs-string"><span class="hljs-string">"test-kitchen"</span></span> gem <span class="hljs-string"><span class="hljs-string">"kitchen-salt"</span></span> gem <span class="hljs-string"><span class="hljs-string">"kitchen-vagrant"</span></span></code> </pre> <br><p>  Install the following dependencies: </p><br><pre> <code class="hljs sql">$ bundle <span class="hljs-keyword"><span class="hljs-keyword">install</span></span></code> </pre> <br><p>  Let KitchenCI create us a stub structure and files for tests: </p><br><pre> <code class="hljs swift">$ sudo kitchen <span class="hljs-keyword"><span class="hljs-keyword">init</span></span> -<span class="hljs-type"><span class="hljs-type">P</span></span> salt_solo</code> </pre> <br><p>  We have appeared: </p><br><ul><li>  directory for integration tests by default: <code>test/integration/default</code> </li><li>  The <code>chefignore</code> file, which we can safely remove, is a "legacy" of the tight integration of KitchenCI and Chef </li><li><p>  the <code>.gitignore</code> file (if it was not created by you before) where the lines were added: </p><br><pre> <code class="hljs pgsql">.kitchen/ .kitchen.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>.yml</code> </pre> <br></li><li>  and the most important <code>.kitchen.yml</code> file with the following contents </li></ul><br><pre> <code class="hljs delphi">--- driver: <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>: vagrant provisioner: <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>: salt_solo platforms: - <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>: ubuntu-<span class="hljs-number"><span class="hljs-number">14.04</span></span> - <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>: centos-<span class="hljs-number"><span class="hljs-number">7.2</span></span> suites: - <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> run_list: attributes:</code> </pre> <br><p>  We <code>.kitchen.yml</code> in <code>.kitchen.yml</code> description of our formula: </p><br><pre> <code class="hljs delphi">--- driver: <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>: vagrant provisioner: <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>: salt_solo formula: common-packages # &lt;-    pillars-from-files: packages.sls: pillar.example # &lt;-  pillar.example,       pillars: # &lt;-      (pillar<span class="hljs-string"><span class="hljs-string">'),        ! top.sls: base: '</span></span>*<span class="hljs-string"><span class="hljs-string">': - packages state_top: # &lt;-  state.sls      base: '</span></span>*<span class="hljs-string"><span class="hljs-string">': - common-packages platforms: - name: centos-7.2 # &lt;---     CentOS 7,      suites: - name: default run_list: attributes:</span></span></code> </pre> <br><p>  In general, everything is ready.  Let's create a virtual machine, configure it and run the formula in it: </p><br><pre> <code class="hljs ruby">$ kitchen converge centos-<span class="hljs-number"><span class="hljs-number">7.2</span></span></code> </pre> <br><p> <a href="https://asciinema.org/a/abk42794ltdvpxx9vlrui35yu"><img src="https://habrastorage.org/getpro/habr/post_images/1ab/20e/5c9/1ab20e5c95f11c62b0405bfbf141913d.png" width="600"></a> </p><br><p>  Yes, KitchenCI did the following for us: </p><br><ol><li>  created a virtual machine based on CentOS 7; </li><li>  installed and configured SaltStack in masterless mode inside this machine; </li><li>  applied the formula; </li><li>  issued detailed logs of all the above steps. </li></ol><br><p>  Ho ho!  I can now develop formulas and fix bugs in them without having to commit intermediate changes to the master and upload them to the ‚Äúbattle‚Äù.  The "combat" infrastructure will be noticeably more stable and, it seems, my commit-log now will not be ashamed to show if you suddenly have to. </p><br><p>  You can see with your hands the result of the formula, going inside the machine: </p><br><pre> <code class="hljs pgsql">$ kitchen <span class="hljs-keyword"><span class="hljs-keyword">login</span></span> centos<span class="hljs-number"><span class="hljs-number">-7.2</span></span></code> </pre> <br><p>  I learned how to run formulas using KitchenCI and test their performance.  Checking with your hands is great.  But where are the autotests?  Let's still check the result of the formula autotests. <br>  To do this, follow these steps: </p><br><ul><li>  Create a directory <code>./test/integration/default/serverspec</code> </li><li>  And in it we place the packages_spec.rb file </li></ul><br><div class="spoiler">  <b class="spoiler_title">packages_spec.rb</b> <div class="spoiler_text"><p>  <em><strong>Attention!</strong></em>  <em>The _spec suffix is ‚Äã‚Äãrequired.</em>  <em>You can read about this and other nuances and generally get acquainted with Serverspec on the official website: <a href="http://serverspec.org/">http://serverspec.org/</a> .</em> </p><br><pre> <code class="ruby hljs"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'serverspec'</span></span> <span class="hljs-comment"><span class="hljs-comment"># Required by serverspec set :backend, :exec describe package('bind-utils') do it { should be_installed } end describe package('whois') do it { should be_installed } end describe package('git') do it { should be_installed } end describe package('psmisc') do it { should be_installed } end describe package('mlocate') do it { should be_installed } end describe package('openssl') do it { should be_installed } end describe package('bash-completion') do it { should be_installed } end describe package('net-tools') do it { should be_installed } end</span></span></code> </pre> </div></div><br><p>  To save time and not wait again until the machine is created and configured from scratch, let's just ask KitchenCI to run away the tests: </p><br><pre> <code class="hljs dos">$ kitchen <span class="hljs-built_in"><span class="hljs-built_in">verify</span></span> centos-<span class="hljs-number"><span class="hljs-number">7</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre> <br><p> <a href="https://asciinema.org/a/1nyu78sup3u8wqjf2qf7nqzdw"><img src="https://habrastorage.org/getpro/habr/post_images/c8c/d47/1ba/c8cd471ba618e86b605ff9a64305b922.png" width="600"></a> </p><br><p>  That's all the magic. </p><br><p>  KitchenCI allows you to do all the above steps with one command: kitchen test.  A virtual machine will be created, the formula and tests will be run, then the machine will be destroyed. </p><br><h2>  Functional testing </h2><br><p>  kitchen-salt can test not only individual formulas, but also their sets.  That is, you can easily test the final result of several formulas.  This check will show whether your formulas can work together and give the expected result.  All this is possible thanks to the various combinations of the options of the provisioner: <a href="">https://github.com/simonmcc/kitchen-salt/blob/master/provisioner_options.md</a> .  And this means that I could easily tie KitchenCI and tests to the original view of my project, but it seems to me that the result was much better. </p><br><h2>  findings </h2><br><p>  Now I slowly cover my old formulas with tests and write new ones, and I am writing much faster than before.  And at any moment I am confident in the performance of my formulas, both new and old.  Yes, despite the time spent on refactoring and writing tests, I received a clear increase in working with my pocket project.  Now there are no concerns that, having postponed the project for a long period of time, I will not be able to continue it due to the complexity of the project itself or it is not clear why not working formulas.  Yes, refactoring ate several days of my personal time.  Yes, writing tests is boring, but they give a feeling of confidence in the project.  Great feeling. </p><br><p>  I will be glad to answer questions, listen to comments and tips for the future :) </p><br><h3>  Links </h3><br><ul><li>  SaltStack documentation: <a href="https://docs.saltstack.com/en/latest/">https://docs.saltstack.com/en/latest/</a> </li><li>  Provisioner <code>salt_solo</code> : <a href="https://github.com/simonmcc/kitchen-salt">https://github.com/simonmcc/kitchen-salt</a> </li><li>  KitchenCI: <a href="http://kitchen.ci/">http://kitchen.ci</a> </li><li>  Serverspec: <a href="http://serverspec.org/">http://serverspec.org</a> </li></ul></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/301812/">https://habr.com/ru/post/301812/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../301802/index.html">All lie, and you do not lie, or the debunking of the myth of memorization</a></li>
<li><a href="../301804/index.html">Event system and responses or the makings of Visual Scripting for Unity3D</a></li>
<li><a href="../301806/index.html">DevConf :: PHP 2016 - the final vote on the section reports is over, manage to cast your vote before May 31</a></li>
<li><a href="../301808/index.html">PostgreSQL is not Rocket Science. How much is the eggs now?</a></li>
<li><a href="../301810/index.html">Squeezing gigabits: or undocumented ViPNet Client / Coordinator feature</a></li>
<li><a href="../301814/index.html">How to choose ITshnika in Russia: myth number 2, number 3</a></li>
<li><a href="../301816/index.html">Are the "top" sites safe: exploring Alexa ranking</a></li>
<li><a href="../301820/index.html">Postgres in Chinese or setting Full Text Search in Postgres for Chinese</a></li>
<li><a href="../301822/index.html">Websocket in production</a></li>
<li><a href="../301826/index.html">Dropbox explained why it is embedded in the operating system kernel</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>