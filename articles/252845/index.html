<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>As a mini PBX manager with GSM and call recordings did</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today, in the era of high technology and impeccable customer service, everyone wants to be on a level. Many companies, regardless of rank and size, co...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>As a mini PBX manager with GSM and call recordings did</h1><div class="post__text post__text-html js-mediator-article">  Today, in the era of high technology and impeccable customer service, everyone wants to be on a level.  Many companies, regardless of rank and size, constantly try to make communication with the client more convenient and more pleasant.  In our intern agency, the manager, whom I am, one of such "amenities" was the commissioning of a small mini-PBX based on Openvox and Asterisk, assembled by hand.  But let's order: <br><br><h4>  <b>Problem</b> </h4><br>  Telephone - is one of the main channels of communication with customers in our work.  During the day there are many calls that need to be processed.  We refused to use the analog line immediately, due to the greed and unreliability of local providers.  Yes, and now obsolete analog technology.  The decision to use GSM-communication was unanimous and unshakable.  In the first few years of work for the reception of calls, this was the answer to such an unkillable device: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/93f/bf0/7b4/93fbf07b49d64193924d27dd40af39c4.jpg" alt="Nokia C2-00"></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Initially, calls were received by me and my partner in the queue, being in different corners of the same office.  When a client called and listened to several signals of a soulless buzzer, he asked to connect with someone, then with high probability he could hear the wind whistling that created this Finnish device, flying from one corner of the office to another.  ‚ÄúMulti-channel‚Äù was implemented due to the presence of two SIM-card slots in this phone.  There was no talk about recording conversations, there was no voice greeting and menu, the method of transferring calls from one specialist to another was described above.  Solid minuses, in general, and most importantly, that the person who called us from the first minutes would have thought that another sharashkin office was calling from one and a half freelancers.  That was quite a shame, because we did our work well, with guarantees and soul. <br><br>  Having had enough to suffer, one fine day I said a loud ‚ÄúEnough!‚Äù And no less loud ‚ÄúWe need to do something!‚Äù <br><a name="habracut"></a><br><h4>  <b>Task</b> </h4><br>  It is necessary to make such a ‚Äúpiece‚Äù, <s>which will solve all our problems,</s> which will replace the old Nokia.  This "thing" should be able to do the following: <br><br><ul><li>  At least 3 GSM lines; </li><li>  Head of greeting; </li><li>  Music instead of beeps; </li><li>  Call hold; </li><li>  Call transfer; </li><li>  At least three independent tubes, expandable; </li><li>  Flexible setting call forwarding; </li><li>  Call recording; </li><li>  AND HE; </li><li>  List of contacts; </li><li>  Minimum wires; </li><li>  Compact size of the equipment. </li></ul><br><h4>  <b>Selection of solutions</b> </h4><br>  To solve the problem, a budget of no less than 40,000 rubles of the Russian Federation was allocated.  First of all, I chose the most trivial way, namely: phoned all the companies in the city that could install and configure the mini-PBX.  The companies turned out to be ‚Äúa great many‚Äù, namely one (oh, these regions), which said that if I multiply our budget by 4, then we get an amount that will be enough for them to do all our Wish list.  I didn‚Äôt want to multiply by 4, so go to plan ‚ÄúB‚Äù - a cloud PBX.  Fortunately, now there are many similar services with any functionality and for any wallet.  But one thing confuses ‚Äî the complete dependence of communication on service: there is no Internet ‚Äî there is no connection, on the service of those.  work - no connection, not on time paid subs.  fee - no connection.  Yes, and the service can at any time increase the cost of its services or not return data (call records, for example).  This option also did not suit me.  There was a third option - ‚Äúbicycle-bicycle‚Äù.  Well, hemorrhoids more interesting for that.  On it and stopped. <br><br><h4>  <b>Selection and purchase of equipment and software</b> </h4><br>  Since the budget is small, and I'm a fan of all sorts of Linux and open source.  Therefore, I immediately decided on the software - Asterisk as a telephony server.  As the OS used Ubuntu.  It's not so simple with the equipment, after a little thought and having transferred a bunch of paper, I concocted such a scheme: <br><br><img src="https://habrastorage.org/files/fb6/6ea/bd7/fb66eabd720c408ba4c2ff9087c2b7c5.jpg" alt="telephony scheme"><br><br>  The main elements here are: <br><br><ul><li>  server where Asterisk is installed; </li><li>  GSM gateway; </li><li>  base of wireless handsets; </li><li>  router as a link; </li><li>  handsets. </li></ul><br>  Everything works as follows: A call arrives at the gateway, it receives the call and sends it to the server using a twisted pair and router.  The server ‚Äúpicks up the phone‚Äù, plays a greeting, throws a call to the standby mode and communicates with the base of the handsets.  The base selects the desired handset and makes it ring.  When the manager takes a call, the server connects the client and the manager. <br><br>  I go to the nearest online store and put the following items in the basket: <br><br><ul><li>  GSM Gateway OpenVox VoxStack VS-GW1202-4G - <i>16,932 rubles</i> ; </li><li>  Base and 1 tube Yealink W52P - <i>4 828 rubles</i> ; </li><li>  Two additional tubes Yealink W52H - <i>3,175 rubles</i> . </li></ul><br>  I delete three items from the list of equipment, the remaining two can be easily obtained at any computer store in our town.  And a good reason to walk a bit: <br><br><ul><li>  As a server: Nettop DNS Porto 0166749 [Intel i53333U, 2x1800 MHz, 4096 MB, HDD 500 GB] - <i>11,500 rubles</i> ; </li><li>  Zyxel Keenetic 4G II household router - <i>1 500 rubles</i> . </li></ul><br>  <b>Total: 37921 rubles</b> <br>  Well, very well, even on the ice cream left. <br>  <i>Note</i>  <i>author: It was in the fall of 2014, so prices are slightly lower than now.</i> <br><br><h4>  <b>Receipt and assembly of equipment</b> </h4><br>  Two weeks of agonizing wait passed, and the curious courier handed me a long-awaited package.  Content: <br><br><h5>  OpenVox VoxStack VS-GW1202-4G </h5><br>  The gateway is a small unit (about the size of a standard DVD drive) and a board that fits inside.  This model of the gateway supports 4 SIM cards, but can be expanded to eight by buying another board, which is inserted side by side.  The gateway connects to the local network with a normal twisted pair and into an electrical network using a power adapter. <br><br><img src="https://habrastorage.org/files/121/ff9/6e8/121ff96e8f674f258e0e970eb15a42ce.jpg" alt="GSM Gateway OpenVox VoxStack VS-GW1202-4G"><br><br><h5>  Yealink W52P base and tubes </h5><br>  Compact wireless base and three handsets.  Each tube is equipped with a charging station, has a color display and a belt clip.  Everything looks pretty neat.  The base is designed for a maximum of 5 phones.  In case of further expansion, another database will be purchased.  Signal powerful, good reception through the brick wall.  There is no need to complain about the quality of communication either. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/aac/c01/883/aacc01883147429988a431eceb32c8c1.jpg" alt="Yealink W52P base and tubes"></div><br><br><h5>  Nettop DNS Porto 0166749 </h5><br>  A compact computer acts as a server.  The size of the device is comparable to the above-mentioned OpenVox.  Characteristics are sufficient for uninterrupted telephony and keeping records of conversations for several months.  And his name is, by the way, Artem. <br><br><img src="https://habrastorage.org/files/f8d/b32/f08/f8db32f08d12495f8aca5e8a70a3bceb.jpg" alt="Nettop DNS Porto 0166749"><br><br>  Putting it all together in accordance with the approved scheme and installing the Ubuntu OS: <br><br><img src="https://habrastorage.org/files/446/6b7/07a/4466b707a5a14808b2c1375a5e2c9251.jpg" alt="Fast PBX"><br><br>  Now everything is ready to go to the most interesting step: setting up our server. <br><br><h4>  <b>Installation and Setup</b> </h4><br><br>  Initially install Asterisk itself and the GUI to it.  Step-by-step manual how to achieve this: <a href="">http://wiki.enchtex.info/howto/asterisk/asterisk-ubuntu-10.04</a> .  Why not freePBX?  The taste and color of all the markers are different, the article is aimed at beginners, but it seemed to me that the Digium GUI is easier to install and use, in other matters, this is purely my opinion. <br><br>  Now we need to make friends with OpenVox and Asterisk.  Make it simple enough.  First, we enter the Asterisk web GUI (by default: <a href="http://localhost/">localhost</a> : 8088), we will enter the login and password specified during installation.  Without hesitation, we go along the path: Trunks -&gt; VOIP Trunks -&gt; New SIP / IAX Trunk and specify the following settings: <br><br>  Type: sip <br>  Context Naming: Based on Username <br>  Provider Name: openvox <br>  Hostname: openvox address (default: 172.16.99.1) <br>  Username: <i>create a username</i> <br>  Password: we <i>invent a password</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/5aa/e64/dd0/5aae64dd096d47dd93d1b3f25ac6ddd4.png" alt="Trunks -> VOIP Trunks -> New SIP / IAX Trunkmage"></div><br><br>  Further we follow the address openvox (by default: 172.16.99.1, default login and password is admin: admin) and we see the control panel.  Click SIP -&gt; SIP endpoints -&gt; Add New SIp Endpoint: <br><br>  Name - think up a name <br>  User Name - <i>the username that was invented earlier</i> <br>  Password - the <i>password that was invented earlier</i> <br>  Registration - this gateway registers with the endpoint <br><br><img src="https://habrastorage.org/files/218/e69/e78/218e69e7869445e09be22abd88f0a61a.png" alt="SIP -> SIP endpoints -> Add New SIp Endpoint"><br><br>  Go to ADVANCED -&gt; Asterisk CLI and write the sip show registry, if successful, we will see "1 SIP registrations", which means that everything works. <br><br>  Now we will configure the rules for incoming and outgoing calls in ROUTING -&gt; Call Routing Rules -&gt; New Call Routing Rule. <br><br>  Outgoing: <br><br>  Routing Name - the name of the route (let it be ‚Äúout-route‚Äù) <br>  Call Comes in From - choose a trunk <br>  Send Call Through - select the openvox port <br><br>  For incoming calls, everything is configured in a similar way; the only item that can cause difficulties is the ‚ÄúForward Number‚Äù parameter for the rules, here you need to write an Extension on the asterisk side to which the call will go. <br><br>  Let's continue with the Asterisk GUI setup, create users and rules for calls, here‚Äôs a small manual how to do it: <a href="http://invoip.net/2011/11/vvedenie-v-asterisk-gui/">http://invoip.net/2011/11/vvedenie-v-asterisk-gui/</a> <br><br>  After the initial configuration of Asterisk and Openvox is made, you need to configure the base of the handsets, it also has a web interface, and the configuration is reduced to the comparison of Asterisk users and telephone sets.  Now you can make and receive calls.  It is time to do something more interesting. <br><br><h4>  <b>We fasten various kinds of "whistles"</b> </h4><br>  One of the most interesting Asterisk files is ‚Äúextensions.conf‚Äù, where most of the settings are made.  Through the GUI, we will create a voice menu and translate all incoming calls to it, let's call it ‚Äúvoicemenu-custom-1‚Äù.  After that, you can set various parameters of that menu using either the built-in GUI editor, or by opening the extensions.conf file in any text editor. <br><br><h5>  Voice greeting </h5><br>  Initially, it was thought that the client, having called us, heard a voice greeting in which he was informed where he had got.  The recording of the greeting itself can be done both independently and by contacting a specialized company, where a professional announcer will record it with his voice, impose music and other sound effects.  We drive in Google "voice greeting recording" and choose what you like.  On average, one record costs from 1000 to 5000 rubles.  You will receive the recording in mp3 format, which is not very willing to work with Asterisk without dancing with a tambourine.  Let's convert the file to a format convenient for Asterisk: <br><br><pre><code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">sudo</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">apt-get</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">install</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">sox</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">lame</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">lame</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">--decode</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">musicfile</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.mp3</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">musicfile</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.wav</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">sox</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-V</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">musicfile</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.wav</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-r</span></span> 8000 <span class="hljs-selector-tag"><span class="hljs-selector-tag">-c</span></span> 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">-t</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ul</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">hello</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.ulaw</span></span></code> </pre> <br><br>  The resulting file, put in the folder "asterisk / sounds" and go back to editing the menu.  Initially, we need to pick up the phone and lose the greeting, then connect with the desired user: <br><br><pre> <code class="hljs ruby">exten=s,<span class="hljs-number"><span class="hljs-number">1</span></span>,Answer() exten=s,<span class="hljs-number"><span class="hljs-number">2</span></span>,Background(<span class="hljs-regexp"><span class="hljs-regexp">/var/lib</span></span><span class="hljs-regexp"><span class="hljs-regexp">/asterisk/sounds</span></span><span class="hljs-regexp"><span class="hljs-regexp">/hello) exten=s,3,Dial(SIP/</span></span><span class="hljs-number"><span class="hljs-number">500</span></span>,<span class="hljs-number"><span class="hljs-number">30</span></span>,tm)</code> </pre><br><br>  In ‚ÄúBackground‚Äù we overeat the path to the greeting file (only the file name, without the extension).  In ‚ÄúDial‚Äù we give the Asterisk user ID, the time in seconds that is needed to play the greeting and two parameters ‚Äút‚Äù (allows the answering user to transfer the call) and ‚Äúm‚Äù (play standby music).  About the rest of the parameters "Dial" can be found <a href="http://voip.rus.net/tiki-index.php%3Fpage%3DAsterisk%2Bcmd%2BDial">here</a> . <br><br><h5>  Conversation recording </h5><br>  After the voice greeting has started and editing ‚Äúextensions.conf‚Äù is easy, we can add a recording of conversations.  Let all records be added to directories divided by years, months and days, and the name of the record file contains the date, time and number of the caller.  Sounds hard?  And it is done simply: <br><br><pre> <code class="hljs perl">... exten=<span class="hljs-keyword"><span class="hljs-keyword">s</span></span>,n,Set(fname=${STRFTIME(${EPOCH},,%Y-%m-%d_%H-%M-%S)}<span class="hljs-number"><span class="hljs-number">_</span></span>${CALLERID(number)}_in) exten=<span class="hljs-keyword"><span class="hljs-keyword">s</span></span>,n,MixMonitor(    /${STRFTIME(${EPOCH},,%Y)}/${STRFTIME(${EPOCH},,%m)} ....</code> </pre><br><br><h5>  Multi-channel and redirection </h5><br>  In ovenvox, I inserted three SIM cards, to two of them are attached numbers to which you can make a call, the third card is reserved.  At the operator level, set up call forwarding from the first to the second, from the second to the third, from the third back to the first.  Thus, we got three full lines for the call.  I want to emphasize that the flow of calls in my company is large, but not so much that three people would call at the same time, so this scheme is acceptable to me.  If the flow becomes more, you can increase the number of SIM cards to 8 and set up a queue of calls. <br><br>  Now we will build the logic in this way: the first client calls, the manager picks up the telephone number 1, the second incoming call immediately occurs, the telephone number 2 should ring, which the second manager will use.  The third client will be connected with the third manager.  To realize this, you can use the ‚ÄúGotoIf‚Äù condition: <br><br><pre> <code class="hljs mel">... exten=s,n,Dial(SIP/<span class="hljs-number"><span class="hljs-number">500</span></span>,<span class="hljs-number"><span class="hljs-number">30</span></span>,tm) exten=s,n,GotoIf($[${DIALSTATUS}=BUSY]?ZANAT,<span class="hljs-number"><span class="hljs-number">1</span></span>) exten=ZANAT,<span class="hljs-number"><span class="hljs-number">1</span></span>,Dial(SIP/<span class="hljs-number"><span class="hljs-number">501</span></span>,<span class="hljs-number"><span class="hljs-number">30</span></span>,tm) exten=ZANAT,<span class="hljs-number"><span class="hljs-number">2</span></span>,GotoIf($[${DIALSTATUS}=BUSY]?ZANAT1,<span class="hljs-number"><span class="hljs-number">1</span></span>) exten=ZANAT1,<span class="hljs-number"><span class="hljs-number">1</span></span>,Dial(SIP/<span class="hljs-number"><span class="hljs-number">502</span></span>,<span class="hljs-number"><span class="hljs-number">30</span></span>,tm) exten=ZANAT1,<span class="hljs-number"><span class="hljs-number">2</span></span>,GotoIf($[${DIALSTATUS}=BUSY]?ZANAT2,<span class="hljs-number"><span class="hljs-number">1</span></span>) exten=ZANAT2,<span class="hljs-number"><span class="hljs-number">1</span></span>,Dial(SIP/<span class="hljs-number"><span class="hljs-number">500</span></span>,<span class="hljs-number"><span class="hljs-number">30</span></span>,tm) ...</code> </pre><br>  But what happens if no one picks up the phone?  Suppose everyone left for lunch or the call arrived on a day off.  The exit is banal: we select the most responsible manager and write down his mobile phone number.  We rule "extensions.conf" as follows: <br><br><pre> <code class="hljs mel">... exten=s,n,Dial(SIP/<span class="hljs-number"><span class="hljs-number">500</span></span>,<span class="hljs-number"><span class="hljs-number">30</span></span>,tm) exten=s,n,GotoIf($[${DIALSTATUS}=BUSY]?ZANAT,<span class="hljs-number"><span class="hljs-number">1</span></span>) exten=s,n,Dial(SIP/<span class="hljs-number"><span class="hljs-number">8914</span></span>XXXXXXX@openvox,<span class="hljs-number"><span class="hljs-number">20</span></span>,tm) ...</code> </pre><br>  Now, if nobody picked up the phone within 20 seconds, the call will be transferred to the specified mobile phone.  From the client‚Äôs side, this will look like a slightly increased response time.  You can go ahead and make forwarding after hours without waiting, but I will not consider this case. <br><br><h5>  Transfer, caller ID, contact list </h5><br>  All these functions are supported by default and work well enough to satisfy the needs of my company, but if you want, you can always improve them.  For example, the list of contacts can be uploaded in the xml file from the CRM system. <br><br><h4>  <b>Completion of work</b> </h4><br>  Having collected everything, setting it up and checking it out, I enjoyed a lot of the work done.  It remains all these boxes and wires, gently remove somewhere out of sight, for example in a large iron box: <br><br><img src="https://habrastorage.org/files/3fc/8f7/288/3fc8f72888134bd5ae5864d08dcad707.jpg" alt="Installation of PBX"><br><br>  <i>Later it turned out that putting the base of the cordless tubes into the tin box was not the best idea, so after a couple of days they took it out and stuck it to the side.</i> <br><br><h4>  <b>findings</b> </h4><br>  About 4 months have passed since the events described.  During this time, minor deficiencies were eliminated and everything works clearly and without failures.  Without taking into account the time of delivery of the glands, all the work took about 5 days of time.  As a result, customers and managers are satisfied, calls are being written, voice greetings are played, music in the handsets is heard, the level of service is growing.  Thank you all for your attention, I hope that my story was useful and interesting. </div><p>Source: <a href="https://habr.com/ru/post/252845/">https://habr.com/ru/post/252845/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../252829/index.html">Sound effects in Windows Phone 8 applications</a></li>
<li><a href="../252831/index.html">Track devices via passive WiFi listening</a></li>
<li><a href="../252833/index.html">Calculation of prescaler parameters for 8250-compatible USART</a></li>
<li><a href="../252837/index.html">Freedom dependent variables</a></li>
<li><a href="../252843/index.html">What is wrong with online courses and how to fix it: HTML Academy experience</a></li>
<li><a href="../252847/index.html">Apple's disappointment, Unity and Epic Games generosity, Paris Hilton game - and other news of the week for a mobile developer</a></li>
<li><a href="../252849/index.html">Rewrite Require.js using Promise. Part 2</a></li>
<li><a href="../252851/index.html">30 wonderful libraries for PHP programmers</a></li>
<li><a href="../252853/index.html">Gears and rails on CNC milling cutter without additional equipment and modular milling</a></li>
<li><a href="../252855/index.html">Conquering Android and iOS using Enterprise Mobility Suite</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>