<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Anticipation in developing a dialogue with a chat bot</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="How applied work differs from paper theorizing is how problems arise. Constantly faced with new difficulties, which in turn provide food for the mind....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Anticipation in developing a dialogue with a chat bot</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/h6/_r/jj/h6_rjjvn_wenp28iincgcgeeo7o.jpeg"><br><br>  How applied work differs from paper theorizing is how problems arise.  Constantly faced with new difficulties, which in turn provide food for the mind. <br><br>  In the process of working on a chat bot, I was faced with the need to anticipate (that is, anticipate) the development of dialogue.  Previously, I somehow did not think about it, but here, when deciding which words to put into computer mouths in response to a particular human phrase, I had to think about it. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The conclusions seemed interesting to me.  They lie on the surface of the problematic and may not be a revelation for those who have been engaged in AI before, but I have not seen any direct formulations in print.  Therefore, let's start ... <br><a name="habracut"></a><br>  Dialogue of the person and chatbot: the person says something, the chatbot has to answer <b>reasonably</b> .  It seems that the main difficulty of programming is in the unpredictability of what will be uttered by a person now, because a person can literally say anything.  And if anything, then finding a reasonable answer is difficult: the list of answers to unpredictable questions should be infinite, but infinity is technically impracticable.  Consequently, the chat bot must ‚Äúunderstand‚Äù what the interlocutor told him - further along the gauge run by the developers of the AI, far beyond the bounds of the announced topic ... <br><br>  The humor of the situation is that there is no only need but also a special need for a chat bot to ‚Äúunderstand‚Äù, ‚Äúcomprehend‚Äù the phrase of the interlocutor, because ... the people themselves do not communicate like that.  If you think that people analyze what they have heard with the help of the thinking apparatus - the brain, then, based on the analysis, they voice the answer, then the communication does not quite happen, it happens differently. <br><br>  Have you ever thought about why you are pleased to talk with friends?  Is it because, in response, you hear from your friends mostly pleasant, not only in the ‚Äúcomplimentary‚Äù sense, but also in the ‚Äúinteresting‚Äù, ‚Äúfascinating‚Äù sense, etc.?  Exactly for the same reason, it is unpleasant for you to talk with enemies, because the information coming from them has an opposite sign or vector for you.  In other words, <b>you know in advance what information you will get from someone, and act in accordance with circumstances</b> : joyfully go on contact with friends, avoid encounters with enemies if possible. <br><br>  Here is the question: why do you need to contact with friends, if you know in advance what they will say?  No, I understand and share: have a good time, relax ... but the desire to get new information here is clearly in last place.  Information - in the sense of new information for themselves - people receive mostly from other sources, and when communicating with friends they catch a buzz from something else, namely from the predictability of the conversation, just like when communicating with enemies, long before communication, they experience negative emotions, thanks to all the same predictability of what will happen. <br><br>  Most conversations are predictable, and this can only mean one thing: people know in advance the course of the future conversation with one or another interlocutor. <br><br>  In reality, communication between people is a little different from what is assumed by default: <br><br><ul><li>  the interlocutor says something </li><li>  you analyze the heard phrase and give the answer. </li></ul><br>  In reality, communication between people is as follows: <br><br><ul><li>  <b>you anticipate that the interlocutor will tell you, and prepare in advance the answer to the expected phrase</b> , </li><li>  if the expectations were met, issue a blank, </li><li>  otherwise, you also give out a blank, but not an individual one, for a given interlocutor, but situational, suitable for any interlocutors. </li></ul><br>  This is anticipation, and its laws apply not only to conversations with people whose attitude is determined (positive or negative), but also to any conversations in principle. <br><br>  Suppose you meet a friend and say to him: "Hi." <br><br>  This phrase is subject to the situation: in accordance with certain rules, the origin of which in this case does not matter, it is used at the beginning of the dialogue.  It makes no sense to wait for the answer, which is probably known, you can begin to construct the next phrase.  Hearing a greeting greeting, you let the prepared phrase into the course immediately, without additional deliberation. <br><br>  However, in response, you can hear something else, for example: "Yes, you go ...".  Previously scheduled conversation turned the other way, the script has changed dramatically.  Well, it happens.  In this case, your brain produces a standard answer like: ‚ÄúYou go!‚Äù, Just a moment later than a phrase that would have been heard if the planned scenario was unchanged.  A moment is, strictly speaking, not a time for reflection, but a time for accessing a library of situational blanks.  What a reflection there, when everything is done ‚Äúon the machine‚Äù, almost at an unconscious level! <br><br>  It is possible to imagine that the interlocutor ‚Äúmisses the move‚Äù: he does not greet, but in a friendly way says the following phrase, which is usual for your past communication.  The habitual means the intended.  You (or rather, your brain) have no reason to wait for an answer, which is already known, but it makes sense to prepare phrases for the subsequent dialogue.  Then the likelihood is high that the subsequent phrase after the missed "hello" will not catch surprise: the stored preparation will go to your mouth without the slightest delay.  If desired, the absence of a reciprocal greeting can be counted not as a ‚Äúmissed move‚Äù, but as a new offshoot of the scenario, but this does not change the overall picture. <br><img src="https://habrastorage.org/webt/pc/3x/d7/pc3xd7ooqrlclenfgmxv1niqeuu.png"><br><br>  The third option makes you decide on the depth of anticipation.  If we are not able to anticipate the phrase that the non-greeted interlocutor utters, we will have to analyze it after uttering.  Thereby, it is ideal to anticipate not only the subsequent phrase, but the whole dialogue as a whole - but this is from the area of ‚Äã‚Äãgood wishes.  People are incapable of this: during the dialogue they are forced to constantly jump from individual libraries to situational blanks. <br><br>  So, <b>any replica involves a set of subsequent responses, and a very limited set</b> .  In the case of greetings, this is due to the ritual of politeness, in general - the limit of human reactions to an event: joy, sorrow, admiration, contempt, etc.  Several dozens of sensations, you can‚Äôt think of others - people simply don‚Äôt feel anything else.  Reactions allow to anticipate a dialogue, having at hand blanks for any possible phrase of the interlocutor. <br><br>  Thus, the dialogue is not at all the endless possibilities to say something arbitrary and answer something arbitrary, but narrow paths that you can walk along.  They are like tracks on an autodrome: it is allowed to turn only where it is provided for by the designer of the track - human psychology.  On the roads do not go: the main fence is set, you know. <br><br>  Like cars on a circuit, conversations also move in a circle.  Friends get a buzz from the greasy topic, girlfriends gossip among themselves no less enthusiastically.  If a dispute arises between hostile people, the arguments of the opposite side are passed between the ears.  In the latter case, they say: "He does not hear me."  Ears can hear, probably, but only your reaction is not provided for in the outgoing interlocutor, because the interlocutor responds with a standard blank, which does not suit you already.  Movement in a circle is a hopeless situation. <br><img src="https://habrastorage.org/webt/oo/1x/4t/oo1x4t9aif0knawcd6oosugrck0.png"><br><br>  Typical graphs.  Any phrase can be spoken, the choice of a particular answer is always there: accordingly, each node must have at least one input edge and several outgoing edges-continuations. <br><br>  Ideally, a chat bot needs a reserve of several graphs ‚Äî plans for conversations: individual for each interlocutor with whom he spoke, and common for strangers.  It is obvious that, for example, in a man who communicates with his beloved woman and with a useless subordinate, everything will be different: the subject, vocabulary, intonation, emotional color, loudness, etc., but first of all - the direction of thought. <br><br>  It should be understood that anticipation is not a panacea, but one of many techniques, and not the most essential in the development of AI, is more important.  In addition, the technique is extremely difficult to implement. <br><br>  If the interlocutor has greeted in some unusual way, the chat bot can ‚Äúnot guess‚Äù about the greeting, and accordingly respond in a different way (the variability of human speech is the problem of the problems, damn it).  But the greeting is the simplest case: anticipating subsequent remarks is much more complicated. <br><br>  Further, when generating your own phrase, the chat bot may schedule an erroneous response of the interlocutor, which will lead to discrepancies with the expected response. <br><br>  Finally, in some cases, for purely algorithmic reasons, it is more profitable to wait for the interlocutor's phrase, then analyze it.  If a chat bot is used to order tickets, it is obvious that there is neither a sense nor a possibility to foresee, a ticket for which date and what route the buyer asks for - you need to wait for the information.  At the same time, in the free dialogue characteristic of AI, anticipation is necessary: ‚Äã‚Äãit can save a great deal of processing time, at least due to the possibility of anticipating during the process of deliberation or pronouncing your phrase by the interlocutor. <br><br>  In connection with the anticipation and the library of situational blanks a curious case is recalled.  An acquaintance came to my wife.  After a while, she mentioned her husband, who always forgets to turn off the light: she began to tell with enthusiasm how he chewed him, and so on.  "Well, of course!  Of course!  You are absolutely right, dear! ‚Äù- I heard the compassionate remarks of my wife.  The joke was that in my family exactly the opposite.  The wife basically does not turn off the light: a minute after her arrival home, the light is on everywhere ‚Äî in the rooms, the hallway, in the kitchen, in the toilet and in the bathroom.  Passing by, I automatically turn it off, and my wife turns on no less automatically, and nothing can be done about it.  But the conversation with a friend was just that.  The wife used individual blanks that were appropriate for the meeting, but at the same time nothing interfered with communication.  The women, as they say, sang in unison - were completely unanimous and happy. <br><br><div class="spoiler">  <b class="spoiler_title">P.S</b> <div class="spoiler_text">  This article was written as part of a series on the development of a syntax chatbot by Vanya Reasonable. <br><br>  Previous articles: <br><br><ol><li>  <a href="https://habr.com/ru/post/420197/">Creation of AI by the method of "coarse kuzdra"</a>  <a href="https://habr.com/ru/post/420197/">Intellectual odyssey</a> ; </li><li>  <a href="https://habr.com/ru/post/433974/">Chat bot gains hearing, or suffering amateur</a> . </li></ol><br>  If someone wants to meet Vanya in his current state, release 2.0 is here: <a href="https://bitbucket.org/mikejum/intellectualivan/downloads/">bitbucket.org/mikejum/intellectualivan/downloads</a> <br><br>  Compared with the previous version, Vanya spoke and became less buggy - one could say that he had become wiser, although not as much as he would have liked.  As my six-year-old nephew said after talking to the chat bot, ‚ÄúYour Vanya is a fool like Siri‚Äù. <br><br>  In connection with the transition from Access to PostgreSQL, there were problems with the installation: now unzip the file is not enough, you have to install PostgreSQL and deploy the dump, instructions are attached. <br><br>  To the inevitable question, and how far is the anticipation implemented in version 2.0, I will answer so.  It is implemented partially, at the initial level, but it is problematic to notice it during the dialogue.  As mentioned earlier, anticipation is one of the many features required when developing AI, which is far from the most essential. <br></div></div></div><p>Source: <a href="https://habr.com/ru/post/442332/">https://habr.com/ru/post/442332/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../442316/index.html">Compact C ++ library for programming finite-difference methods in operator style. Part 1. Semantics</a></li>
<li><a href="../442318/index.html">How to bring about change with retrospective</a></li>
<li><a href="../442320/index.html">Laptop Compaq LTE 5000, part two - about the shortcomings and their treatment</a></li>
<li><a href="../442328/index.html">Typical programmer errors when applying for a job</a></li>
<li><a href="../442330/index.html">Some tasks of school mathematics. Part II</a></li>
<li><a href="../442336/index.html">Planning poker: notes about the first developer experience</a></li>
<li><a href="../442338/index.html">Redis changes license again</a></li>
<li><a href="../442340/index.html">novtable optimization</a></li>
<li><a href="../442342/index.html">500 Gbit / s - record speed in fiber optic networks</a></li>
<li><a href="../442344/index.html">Improving Development Productivity with Vue - Part 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>