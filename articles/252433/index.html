<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>HSTS-based super cookies will track you even in private mode</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For several years, all browsers have been offering settings for private browsing. In private mode, they may not save cookies, page history and tempora...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>HSTS-based super cookies will track you even in private mode</h1><div class="post__text post__text-html js-mediator-article">  For several years, all browsers have been offering settings for private browsing.  In private mode, they may not save cookies, page history and temporary files.  People who value privacy rely on this opportunity.  But recently another method has been proposed to track the user even in this case, if he does not take special measures. <br><br>  The irony is that this tracking system is facilitated by a mechanism called HTTP Strict Transport Security.  It is needed so that sites can make sure that the user works with their servers only via the HTTPS protocol.  If the server adds the corresponding flag to the headers, then according to the HSTS rules, all connections to the server should be encrypted.  Thus, the user is protected from various possible attacks. <br><a name="habracut"></a><br><img src="https://habrastorage.org/getpro/habr/post_images/b76/6db/357/b766db35706fdd806ec0ca5a37956db7.jpg" alt="image"><br><br>  Sam Greenkhalh, a consultant for RadicalResearch, thought of how to turn this safety feature into a user tracking function.  He called his concept HSTS Super Cookies.  Like regular cookies, supercooks track a user and can identify him if he returns to the site in the future.  One of the features of superkuk - they work even in private mode.  Another - these cookies can be read from other domain names, and not just from the fact that they set. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  How it works </h4><br>  For a single site, HSTS can contain one binary value ‚Äî on or off.  To circumvent this limitation, Greenhalch puts together 32 sites, adds all their binary values ‚Äã‚Äãand stores the result as one number.  As a result, it is possible to create more than two billion variants of browsers.  For simplicity, the decimal number is converted to base36, so 169ze7 represents 71009647, or lm8nsf represents 1307145327. <br><br>  When you enter the <a href="http://www.radicalresearch.co.uk/lab/hstssupercookies">hacker's site</a> as usual, the script checks your HSTS settings for different sites and calculates the identifier.  A unique identifier is set and saved, even if you later turn on private mode.  Moreover, other sites will be able to read the ID, thus tracking the user when visiting different sites.  Usually, people expect a reverse behavior from private mode.  In addition, regular cookies can only be read from the domain that set them. <br><br>  Fortunately, all but Safari users on the iPhone or iPad can remove these flags used for tracking by deleting all cookies.  Usually, browsers reset the HSTS flags with this operation.  In addition, if you visited a site that is trying to track you, only in private mode, then this flag will not be cocked. <br><br>  HSTS Super Cookies is a good example of how new features can turn into security holes.  The whole point of HSTS is that the browser always uses HTTPS when querying sites that support this protocol.  Browser developers obviously wanted to provide increased security for their users, but now they will have to think about their decision again. <br><br>  <i>Note:</i> after the publication of the article, it was reviewed by the developers of Chrome and Firefox.  The former decided to change nothing in their attempts to ‚Äústrike a balance between privacy and security.‚Äù  The latter, starting with version 34, excluded the possibility of transferring flag settings to private mode. </div><p>Source: <a href="https://habr.com/ru/post/252433/">https://habr.com/ru/post/252433/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../252415/index.html">LVS + OpenVZ</a></li>
<li><a href="../252417/index.html">Announcement of the book by Brian Kernigan "The Go Programming Language"</a></li>
<li><a href="../252419/index.html">C #: how not to "shoot yourself in the leg"</a></li>
<li><a href="../252421/index.html">A hundred lines of code for the beloved</a></li>
<li><a href="../252429/index.html">DICOM Viewer from the inside. Voxel render</a></li>
<li><a href="../252435/index.html">Configuring Amazon Elastic Load Balancing: with email forwarding and redirects</a></li>
<li><a href="../252437/index.html">Unexpected exception filter behavior in C # 6</a></li>
<li><a href="../252439/index.html">Auto registration of tests on C language tools</a></li>
<li><a href="../252441/index.html">Reconnect - Facebook Login Vulnerability</a></li>
<li><a href="../252443/index.html">Documentation in Doxygen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>