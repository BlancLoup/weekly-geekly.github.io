<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Is there a problem with the MTS mobile traffic in some regions, or the skis do not travel?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, dear habrovchane. I lead a small project for monitoring motor transport, but this has nothing to do with business. The essence is the following...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">🔎</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">📜</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">⬆️</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">⬇️</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Is there a problem with the MTS mobile traffic in some regions, or the skis do not travel?</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/512/bfb/237/512bfb2375cc3bb58082d897547e2cac.png" alt="image"><br><br>  Hello, dear habrovchane.  I lead a small project for monitoring motor transport, but this has nothing to do with business.  The essence is the following - the equipment is equipped with SIM cards of the MTS company, WISMO 228 cellular modems are used. For several years everything went well, but recently, specifically from July 21, 2015 I began to notice oddities in the behavior of some objects: <br><a name="habracut"></a><br>  At the entrance of the car in any of the regions - Tatarstan, Bashkortostan, Penza region, strange glitches with a connection begin, namely: <br><br>  UDP packets from devices reach the server. <br>  TCP packets from the devices reach the server (the server shows an open TCP connection). <br>  In the opposite direction, the data do not reach. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Devices work with the server using the FTP protocol, and they cannot wait for the greeting from the FTP server to start authorization. <br>  I tried to force authorization on FTP - in the server logs there is not even a mention of authorization attempts from such devices. <br><br>  The following patterns are observed: <br><br>  The majority of devices have an “external” IP address in the 213.87.xxx.xx range (Internet access gateway), while the buggy devices have the IP address 85.140.xxx, or 95.153.167.xx (Volgograd region).  This address is assigned automatically, i.e.  the device takes a PPN session when it picks up a session; it doesn’t invent anything by itself. <br><br>  When leaving the buggy regions, the data exchange work is completely restored. <br>  In other regions, such as the Far East, the device address is 80.83.237.xx, while the exchange is normal. <br>  In Kazakhstan, it also works fine (with a Kazakhstan sim card). <br><br>  For the sake of interest, I built a route to the IP address. <br><br>  traceroute 85.140.0.87 <br>  traceroute to 85.140.0.87 (85.140.0.87), 64 hops max, 52 byte packets <br>  1 gw.ispsystem.net (37.230.113.254) 0.318 ms 0.287 ms 0.286 ms <br>  2 edge.webdc.ru (92.63.108.97) 14.326 ms 7.129 ms 0.579 ms <br>  3 213.219.206.17 (213.219.206.17) 1.082 ms 1.235 ms 15.737 ms <br>  4 vl–709.sr5.msk7.ip.di–net.ru (213.248.3.133) 0.969 ms 0.932 ms 0.835 ms <br>  5 m9 –cr03–ae10.995.msk.stream–internet.net (212.188.60.173) 1.258 ms 1.241 ms 1.246 ms <br>  6 bek–cr01–ae7.52.nnov.stream–internet.net (212.188.28.70) 8.423 ms 7.997 ms 7.996 ms <br>  7 pgag–cr02–a5.52.nnov.stream–internet.net (195.34.59.97) 10.143 ms 7.984 ms 7.968 ms <br>  eight * * * <br>  9 * * * <br>  ten * * * <br><br>  This is a “buggy” IP.  When I build a route to this address range, it always ends on the 7th line host.  And it doesn’t matter where I’m trying to punch the route from the server from which the exchange is being performed, or from any other computer connected to other providers. <br><br>  The track of a <s>healthy person</s> to a non-buggy device <br><br>  ~ traceroute 213.87.123.66 <br>  traceroute to 213.87.123.66 (213.87.123.66), 64 hops max, 52 byte packets <br>  1 gw.ispsystem.net (37.230.113.254) 0.433 ms 0.401 ms 0.393 ms <br>  2 edge.webdc.ru (92.63.108.97) 0.358 ms 0.386 ms 0.356 ms <br>  3 213.219.206.17 (213.219.206.17) 5.998 ms * 130.690 ms <br>  4 vl–709.sr5.msk7.ip.di–net.ru (213.248.3.133) 1.000 ms 0.899 ms 0.961 ms <br>  5 m9 –cr03–a10.995.msk.stream–internet.net (212.188.60.173) 1.354 ms 1.374 ms 1.337 ms <br>  6 m9 –cr05–a1.199.msk.stream–internet.net (195.34.53.49) 53.896 ms 53.863 ms 53.900 ms <br>  7 psnmich–cr01– a4.62.rzn.stream–internet.net (212.188.42.70) 60.579 ms 128.957 ms <br>  psnmich–cr01–ae6.62.rzn.stream–internet.net (212.188.29.194) 98.938 ms <br>  8 pstamb–cr01–ae5.68.tam.stream–internet.net (212.188.28.202) 54.318 ms <br>  pstamb –cr01–ae7.68.tam.stream–internet.net (212.188.29.186) 53.930 ms 54.087 ms <br>  9 pspenz–cr01–ae4.58.pen.stream–internet.net (212.188.29.182) 54.744 ms <br>  pspenz–cr01–ae3.58.pen.stream–internet.net (212.188.28.246) 54.070 ms 54.829 ms <br>  10 psulnsk–cr01–ae2.73.uln.stream–internet.net (212.188.28.210) 63.088 ms 57.998 ms <br>  psulnsk–cr01–ae5.73.uln.stream–internet.net (212.188.42.34) 54.026 ms <br>  11 pskir–cr01– a1.63.sam.stream–internet.net (212.188.28.226) 54.266 ms 54.288 ms <br>  pskir–cr01– a3.63.sam.stream–internet.net (212.188.42.30) 56.315 ms <br>  12 psbek–cr01–ae4.2.ufa.stream–internet.net (212.188.42.82) 53.956 ms 66.351 ms <br>  psbek–cr01–ae2.2.ufa.stream–internet.net (212.188.28.50) 53.901 ms <br>  13 psshag–cr01–ae3.74.chel.stream–internet.net (212.188.42.98) 31.250 ms 31.555 ms 31.370 ms <br>  14 psber–cr01–ae4.72.tum.stream–internet.net (212.188.29.226) 60.442 ms 54.279 ms 54.335 ms <br>  15 pstav–cr01–ae5.55.omsk.stream–internet.net (212.188.28.162) 53.861 ms 63.988 ms 53.835 ms <br>  16 psvost–cr01–ae6.54.nsk.stream–internet.net (212.188.28.158) 52.932 ms 53.157 ms 53.471 ms <br>  17 stn–cr03–be3.54.nsk.stream–internet.net (212.188.29.133) 58.571 ms 57.156 ms 73.175 ms <br>  18 mts –siberia.nsk.stream–internet.net (195.34.36.58) 81.223 ms 53.714 ms 53.786 ms <br>  19 217.8.224.126 (217.8.224.126) 54.576 ms 54.527 ms 54.414 ms <br>  20 * * * <br>  21 213.87.117.245 (213.87.117.245) 56.088 ms 56.120 ms 55.998 ms <br>  22 * * * <br><br>  I have been torturing the support service for a week now, but they can only say that "the balance in your account is positive."  There is no hope for them. <br>  To techies are not allowed.  I can not determine where the problem is. <br><br>  Maybe someone from the community has the opportunity to help track the bug?  Thank. <br><br>  - Update of 08/06/2015 - <br>  In general, this is the case - we managed to “catch” the machine on the approach to the problem region and copy the FTP config to another port. <br>  I rewrote the FTP configuration on the server, replacing one value - the port number. <br><br>  - Update from 08/07/2015 - <br>  After writing the post, several people responded, including MTS specialists, the problem was solved.  For which many thanks to them. </div><p>Source: <a href="https://habr.com/ru/post/264207/">https://habr.com/ru/post/264207/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../264193/index.html">How to find out the year of release of the song on the set of audio characteristics?</a></li>
<li><a href="../264195/index.html">Hybrid Conf - the first conference on programmatic-advertising in Russia</a></li>
<li><a href="../264197/index.html">HDD sled - cost effective grain</a></li>
<li><a href="../264199/index.html">Triggers and Background Jobs in Windows Store Applications</a></li>
<li><a href="../264201/index.html">Intervals in C ++, part 1: Intervals with limiters</a></li>
<li><a href="../264209/index.html">PHP library for integration with the New Mail API</a></li>
<li><a href="../264213/index.html">Are you still using CJSON?</a></li>
<li><a href="../264217/index.html">Apply correlation in retail</a></li>
<li><a href="../264219/index.html">ipgeobase in nginx</a></li>
<li><a href="../264221/index.html">Oracle Exadata, or About the Use of Engineered Systems (Part 2)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>