<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating a web application on Go in 2017. Part 3</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Content 

1. Part 1 
2. Part 2 
3. Part 3 
4. Part 4 


 As a result of previous articles, we got an application for Go, which can serve a small piece...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating a web application on Go in 2017. Part 3</h1><div class="post__text post__text-html js-mediator-article"><div class="spoiler">  <b class="spoiler_title">Content</b> <div class="spoiler_text"><ol><li>  <a href="https://habrahabr.ru/post/329582/">Part 1</a> </li><li>  <a href="https://habrahabr.ru/post/329584/">Part 2</a> </li><li>  <strong>Part 3</strong> </li><li>  <a href="https://habrahabr.ru/post/329622/">Part 4</a> </li></ol></div></div><br><p>  As a result of previous articles, we got an application for Go, which can serve a small piece of HTML.  This article will tell about the client part, which, alas, consists mainly of JavaScript, and not Go. </p><a name="habracut"></a><br><h2 id="javascript-v-2017-godu">  JavaScript in 2017 </h2><br><p>  This part grieved me the most.  I really don‚Äôt know, nor how to classify the mess that today's JavaScript represents, how to explain it.  Attempting to sort things out will lead to a great, but completely different article.  So let's take it as a reality that we cannot change, and move on to how best to work with it. </p><br><h2 id="vidy-js">  Kinds of JS </h2><br><p>  The most common type of JS today is known as ES2015 (aka ES6 or ECMAScript 6th edition) and <em>is mainly</em> supported by more or less recent browsers.  The latest released JavaScript specification is ES7 (aka ES2016), but since browsers are still catching up with ES6, it looks like ES7, as such, will never be accepted, because most likely the next ES8 will be released in 2017, which will replace ES7 in terms of waiting for browser readiness. </p><br><p>  This is odd, but it seems that there is no easy way to create an environment that is fully consistent with a specific version of ECMAScript.  You can not even return to the old fully supported version of ES5 or ES4, and therefore it is not possible to check your script for compliance.  The most you can do is test it in all available browsers and hope for the best. </p><br><p> Due to the constantly changing and significantly different support of the language among platforms and browsers, <em>transpilation has</em> emerged as a general idea to solve this problem.  Transpilation basically comes down to transforming code into one that matches a particular ES version or specific environment.  For example, <code>import Bar from 'foo';</code>  can become <code>var Bar = require('foo');</code>  .  Therefore, if a particular feature is not supported, it can be made available using the appropriate plug-in or transpiler.  I suspect that the phenomenon of transpiliation prevalence has led to additional problems, such that the input expected by the transpiler assuming the existence of a no longer supported feature coincides with the conclusion.  Often this can be fixed by additional plugins, and it can be very difficult to figure this out.  Repeatedly, I spent a lot of time trying to make money to find out later that my whole approach was out of date due to a new and better solution, now embedded in some other tool. </p><br><h2 id="js-freymvorki">  Js frameworks </h2><br><p>  There is also a lot of disagreement about which JS framework is the best.  This question further confuses the fact that the same framework may be radically different from version to version.  It's amazing why not just change the name. </p><br><p>  I have no idea which one is the best, but I only had enough patience for a couple.  About a year ago I spent a lot of time dealing with AngularJS, and this time, for the sake of diversity, I was messing with React.  React seemed more logical to me, so this example application uses it, however. </p><br><h2 id="react-i-jsx">  React and JSX </h2><br><p>  If you don‚Äôt know what React is, here‚Äôs my (technically incorrect) explanation: this is HTML embedded in JavaScript.  We all have brainwashed about the fact that JavaScript is embedded in HTML and this is the natural order of things, so that the inversion of this relationship does not occur to anyone.  Because of the fundamental simplicity of this revolutionary (!) Principle, I consider React ingenious. </p><br><p>  "Hello World!"  in React it looks like this: </p><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Hello</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ render() { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> who = <span class="hljs-string"><span class="hljs-string">"World"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> Hello {who}! </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); } }</code> </pre> <br><p>  Please note - the HTML code starts without any wrappers or delimiters.  Oddly enough, the opening angle bracket (‚Äù&lt;‚Äù) works quite reliably as a marker that marks the beginning of the HTML code.  And inside HTML, the opening brace indicates that we are temporarily returning to JavaScript, and thus the values ‚Äã‚Äãof the variables are substituted inside HTML.  This is almost all you need to know to ‚Äúcomprehend‚Äù React. </p><br><p>  Technically, the aforementioned file format is known as <code>JSX</code> , while React is a library that provides classes for creating React objects, such as <code>React.Component</code> above.  JSX is transpiled into regular JavaScript using a tool known as Babel, and, in fact, JSX is not even required - the React component can be written in pure JavaScript, and there is an approach in which React is used without JSX.  Personally, I think that the "without JSX" method is somewhat more noisy, and I like the fact that Babel allows using a more modern dialect of JS (although, not dealing with transpilers is definitely a plus). </p><br><h2 id="minimalno-rabotayuschiy-primer">  Minimally working example </h2><br><p>  First, we need three external JavaScript libraries.  These are (1) React and ReactDOM, (2) the Babel browser transpiler and (3) a small library called Axios, which is useful for performing JSON HTTP requests.  I'll take them from Cloudflare CDN, but you can use some other way.  To connect libraries, we need to expand our <code>indexHTML</code> variable to this form: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ( cdnReact = <span class="hljs-string"><span class="hljs-string">"https://cdnjs.cloudflare.com/ajax/libs/react/15.5.4/react.min.js"</span></span> cdnReactDom = <span class="hljs-string"><span class="hljs-string">"https://cdnjs.cloudflare.com/ajax/libs/react/15.5.4/react-dom.min.js"</span></span> cdnBabelStandalone = <span class="hljs-string"><span class="hljs-string">"https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.24.0/babel.min.js"</span></span> cdnAxios = <span class="hljs-string"><span class="hljs-string">"https://cdnjs.cloudflare.com/ajax/libs/axios/0.16.1/axios.min.js"</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> indexHTML = <span class="hljs-string"><span class="hljs-string">` &lt;!DOCTYPE HTML&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset="utf-8"&gt; &lt;title&gt;Simple Go Web App&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id='root'&gt;&lt;/div&gt; &lt;script src="`</span></span> + cdnReact + <span class="hljs-string"><span class="hljs-string">`"&gt;&lt;/script&gt; &lt;script src="`</span></span> + cdnReactDom + <span class="hljs-string"><span class="hljs-string">`"&gt;&lt;/script&gt; &lt;script src="`</span></span> + cdnBabelStandalone + <span class="hljs-string"><span class="hljs-string">`"&gt;&lt;/script&gt; &lt;script src="`</span></span> + cdnAxios + <span class="hljs-string"><span class="hljs-string">`"&gt;&lt;/script&gt; &lt;script src="/js/app.jsx" type="text/babel"&gt;&lt;/script&gt; &lt;/body&gt; &lt;/html&gt; `</span></span></code> </pre> <br><p>  At the very end, <code>"/js/app.jsx"</code> now loaded, which we have yet to create.  In the previous section, using <code>http.Dir()</code> we filled in a field in the UI configuration structure called <code>cfg.Assets</code> .  Now we need to wrap it in a handler that serves the files, and Go will easily provide us with this: </p><br><pre> <code class="go hljs"> http.Handle(<span class="hljs-string"><span class="hljs-string">"/js/"</span></span>, http.FileServer(cfg.Assets))</code> </pre> <br><p>  Thus, all files in the <code>"assets/js"</code> directory will be accessible via the <code>"/js/"</code> path. </p><br><p>  Now create the <code>assets/js/app.jsx</code> : </p><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Hello</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ render() { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> who = <span class="hljs-string"><span class="hljs-string">"World"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> Hello {who}! </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); } } ReactDOM.render( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Hello</span></span></span></span><span class="xml"><span class="hljs-tag">/&gt;</span></span></span></span>, <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelector(<span class="hljs-string"><span class="hljs-string">"#root"</span></span>));</code> </pre> <br><p>  The only difference from the previous listing in the very last line, which, in fact, causes the application to be drawn. </p><br><p>  If we now go to the main page with a browser (JS-compatible), we will see ‚ÄúHello World‚Äù. </p><br><p>  How it works: the browser uploaded ‚Äúapp.jsx‚Äù, as it was told, but since ‚Äújsx‚Äù is an unfamiliar file type, the browser simply ignored it.  When Babel got his chance to work, he looked at our document for script tags with the type ‚Äútext / babel‚Äù and re-requested these pages (so they appear twice in the developer‚Äôs tools, but the second request must be served completely from the browser cache).  Babel then transformed this script into a valid javascript and executed it, which in turn made React actually display ‚ÄúHello World‚Äù. </p><br><h2 id="spisok-lyudey">  List of people </h2><br><p>  First we need to go back to the server side and create a URI that will display a list of people.  To do this, we need an http-handler that can look like this: </p><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">peopleHandler</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(m *model.Model)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">http</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Handler</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> http.HandlerFunc(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(w http.ResponseWriter, r *http.Request)</span></span></span></span> { people, err := m.People() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { http.Error(w, <span class="hljs-string"><span class="hljs-string">"This is an error"</span></span>, http.StatusBadRequest) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } js, err := json.Marshal(people) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { http.Error(w, <span class="hljs-string"><span class="hljs-string">"This is an error"</span></span>, http.StatusBadRequest) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } fmt.Fprintf(w, <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>(js)) }) }</code> </pre> <br><p>  And we need to register it: </p><br><pre> <code class="go hljs"> http.Handle(<span class="hljs-string"><span class="hljs-string">"/people"</span></span>, peopleHandler(m))</code> </pre> <br><p>  Now, if we go to <code>"/people"</code> , we should get in reply <code>"[]"</code> .  If we add an entry to our table of people with: </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> people (<span class="hljs-keyword"><span class="hljs-keyword">first</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">last</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span>(<span class="hljs-string"><span class="hljs-string">'John'</span></span>, <span class="hljs-string"><span class="hljs-string">'Doe'</span></span>);</code> </pre> <br><p>  The answer should change to <code>[{"Id":1,"First":"John","Last":"Doe"}]</code> . </p><br><p>  Finally, we need to connect our React / JSX code so that it displays everything. </p><br><p>  To do this, we will create a <code>PersonItem</code> component and another one, called <code>PeopleList</code> , that will use <code>PersonItem</code> . </p><br><p>  The <code>PersonItem</code> component should only know how to display itself as a table row: </p><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PersonItem</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">td</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> {this.props.id} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">td</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">td</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> {this.props.first} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">td</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">td</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> {this.props.last} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">td</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); } }</code> </pre> <br><p>  <code>PeopleList</code> bit more complicated: </p><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PeopleList</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(props) { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(props); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = { <span class="hljs-attr"><span class="hljs-attr">people</span></span>: [] }; } componentDidMount() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.serverRequest = axios .get(<span class="hljs-string"><span class="hljs-string">"/people"</span></span>) .then(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">result</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({ <span class="hljs-attr"><span class="hljs-attr">people</span></span>: result.data }); }); } render() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> people = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.people.map(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">person, i</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">PersonItem</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">key</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{i}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{person.Id}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">first</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{person.First}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">last</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{person.Last}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> ); }); return ( </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">table</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">tbody</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">th</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Id</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">th</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">th</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">First</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">th</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">th</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Last</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">th</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> {people} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">tbody</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">table</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> ); } }</span></span></code> </pre> <br><p>  It has a constructor that initializes the variable <code>this.state</code> .  It also declares the <code>componentDidMount()</code> method, which will be called by React at the moment when the component should be ready for drawing, i.e.  this is the right place (one of) to get data from the server.  The method retrieves the data through an Axios call and stores the result in <code>this.state.people</code> .  Finally, <code>render()</code> <code>this.state.people</code> through the contents of <code>this.state.people</code> , creating an instance of <code>PersonItem</code> for each item. </p><br><p>  That's all, our application responds with a table (albeit a rather scary one) with a list of people from our database. </p><br><h2 id="zaklyuchenie">  Conclusion </h2><br><p>  In fact, this is all you need to know to create a full-featured web application on Go.  This application, of course, has a number of flaws, which, if possible, I will consider later.  For example, browser transpilation is not ideal, and although this option is suitable for a not very valuable application, for which page load time is not important, we will probably want to find a way to pre-transplant.  In addition, our JSX is limited to one file, this approach makes it difficult to manage any serious-sized application with a large number of components.  The application has no navigation.  No style.  There are things that I forget ... </p><br><p>  Enjoy! </p><br><p>  PS All the code is completely <a href="https://github.com/grisha/gowebapp">here</a> . </p><br><p>  <a href="https://habrahabr.ru/post/329622/">Continuation</a> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/329612/">https://habr.com/ru/post/329612/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../329596/index.html">A bit of reverse-engineering USB flash on the SK6211 controller</a></li>
<li><a href="../329598/index.html">Online course "Functional Security of Computer Systems"</a></li>
<li><a href="../329600/index.html">How to use implicits in Scala and keep sanity</a></li>
<li><a href="../329602/index.html">Completion of the 11th All-Russian Conference of IT & Security Forum</a></li>
<li><a href="../329604/index.html">Solving the traveling salesman problem using the nearest neighbor method in Python</a></li>
<li><a href="../329614/index.html">Demo access to IOT platforms</a></li>
<li><a href="../329616/index.html">Release of 3CX V15.5 RC and the new Call Flow Designer Beta (formerly 3CX VAD)</a></li>
<li><a href="../329618/index.html">How to build the infrastructure of the building. class c using servers Dell R730xd E5-2650 v4 worth 9000 euros for a penny?</a></li>
<li><a href="../329622/index.html">Creating a web application on Go in 2017. Part 4</a></li>
<li><a href="../329624/index.html">The story of the move from Odessa to Russia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>