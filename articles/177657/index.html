<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>An inexpensive failover cluster? Easy!</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When it comes to an inexpensive cluster solution, coupled with the ability to share access to drives and pack it all into a 2U form factor, then, at f...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>An inexpensive failover cluster? Easy!</h1><div class="post__text post__text-html js-mediator-article">  When it comes to an inexpensive cluster solution, coupled with the ability to share access to drives and pack it all into a 2U form factor, then, at first glance, the satisfaction of all three requirements at the same time looks unlikely.  But Fujitsu managed to fulfill all these conditions in the PRIMERGY CX420 S1 cluster, which is being delivered as a turnkey solution to ensure business application continuity in small and medium-sized businesses (SMBs), yet deprived of the choice of low-cost, fault-tolerant solutions. <br><br><img src="https://habrastorage.org/storage2/547/992/e48/547992e48e339758e0822fbc2138e021.jpg"><br><a name="habracut"></a><br><br><h4>  Ideology </h4><br>  It is no secret that SMB companies usually do not have the ability to hire system administrators with experience in building fault-tolerant systems.  At the same time, the activities of many companies are directly related to ensuring business continuity.  For example, a drop of an online store server for minutes will lead to loss of orders, hours of idleness will affect reputation, and a day or two of idle time will drastically reduce the attractiveness of the business and may lead to its collapse ... And if a DDoS attack is more effective to reflect at the provider level, then from a drop the server itself is easier to protect by using redundancy, which is taken into account in the server in question. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      PRIMERGY CX420 S1 is designed as a fault-tolerant cluster for Windows Server 2012 oriented towards the use of the SMB segment. Its configuration is available for a system administrator familiar with Windows Server and does not require special training.  Thus, engineering services can plan time very accurately, and the financial department can plan for its implementation.  Another feature of the CX420 cluster is that it is a complete solution that does not require a separate external storage system, providing the shared access of both server nodes to the 12 drives installed in the cluster building itself, which again reduces implementation costs. <br><br><h4>  Architecture </h4><br>  Fujitsu PRIMERGY CX420 S1 is a two-node cluster that runs under Microsoft Windows Server 2012. The CX420 S1 itself is a 2U chassis, in which two server nodes are installed.  Each node is a PRIMERGY CX272 S1 server, which includes a pair of modern (up to 8-core) Intel Xeon E5-2600 processors (CPUs from E5-2603 to E5-2680 are supported).  The processor supports four-channel data exchange with memory; in total, each node allows you to install 16 modules with a capacity of up to 16 GB, which gives a maximum of 256 GB of RAM per node. <br><br><img src="https://habrastorage.org/storage2/039/8e3/68f/0398e368f2f266352ddebab220d87eb2.jpg"><br><img src="https://habrastorage.org/storage2/d5a/7ca/9b9/d5a7ca9b92784676e461287d50116454.jpg"><br><br>  In addition to the two external gigabit network ports, each server has a service LAN port and three PCIe slots, one of which is equipped with a SAS-expander.  The CX272 S1 server has up to two internal SATA boot disks (without hot swapping, with mirroring) and a SAS connection to the shared access drives located in the CX420 chassis.  Drives (up to 12 pcs.) Have a form factor of 3.5 inches, but it is possible to use the same number of 2.5-inch disks in special adapters for a 3.5-inch slot. <br><br>  Shared drives and give the first unique properties of the cluster under consideration.  All 12 dual-port cluster drives are combined into a single disk space using Windows Storage Spaces technology.  The presence of two ports provides simultaneous access to the space from both nodes.  If necessary, this disk space can be expanded by connecting an additional two-port external JBOD array to 12 SAS disks. <br><br>  Nodes have a height of 2U and are located horizontally relative to each other.  Between them in the chassis is a central compartment containing fans and hot plug power supplies.  The nodes are interconnected by a gigabit Ethernet channel (implemented on the backplane inside the chassis).  This channel is used to synchronize the cluster (‚Äúheartbeat‚Äù).  The ventilation system forms two independent air flows through both nodes and throws air through the central unit back.  The nodes themselves are fanless and unpackaged, which, by the way, has reduced the cost of the system.  The power consumption of the cluster - no more than 1200 watts. <br><br>  Thus, the entire cluster fits into a standard 2U rack and does not require special power and cooling conditions. <br><br><h4>  Readiness </h4><br>  Hardware and software redundancy is required for high availability.  Hardware redundancy in the Fujitsu PRIMERGY CX420 S1 is provided by the duplication of compute nodes, each of which allows hot swapping.  In addition, it is possible to replace on-the-go power supplies.  As mentioned above, the synchronization of the cluster nodes is organized via the Gigabit Ethernet channel, which is located on the backplane.  Depending on the scenario, if one of the nodes is disconnected, or the entire load is transferred to another node without delay in operation, from the user's point of view, or in a short time a failover is performed to start tasks from the failed active node on the passive backup node.  And failover is supported for both native applications and those working in a virtual environment.  SAS adapters on the board do not require the use of RAID, since the work of the shared disk space is organized by means of Windows 2012 Storage Spaces.  This technology provides a number of advantages compared to traditional RAID-systems, representing something rather closer to Netap's WAFL, than simply ‚Äúsmearing‚Äù data across RAID group drives.  In particular, it provides thin provisioning: you can fine-tune the use of various disks from those that are in a cluster.  This is especially true if different types of drives are used. <br><br><img src="https://habrastorage.org/storage2/fd6/a2f/f0f/fd6a2ff0f3828477affb1a4feccca374.png"><br><br>  About the possibilities of Storage Spaces on the cluster can be found <a href="http://technet.microsoft.com/ru-ru/library/hh831739.aspx">here</a> , and about the setting <a href="http://habrahabr.ru/company/microsoft/blog/156777">here</a> . <br><br><h4>  Total </h4><br>  "In the face" of Fujitsu PRIMERGY CX420 S1, users get a compact (2U) and low-cost high-availability cluster with shared storage, without needing to use an external storage system.  In addition to saving on the hardware itself, the partner can save on maintenance, as the system is designed to work under Windows Server 2012. It does not require special knowledge in the field of fault tolerance and clustering from the engineers serving it. <br>  At the same time, the Fujitsu PRIMERGY CX420 S1 is designed for use in standard server racks and is designed for traditional air cooling without additional requirements (and therefore at no cost) to the infrastructure. <br><br>  *** <br><br><h4>  FAQ </h4><br>  This cluster was presented to our partners a bit earlier at the <a href="http://www.fujitsu.com/ru/about/resources/events/">Fujitsu PRIMERGY CX420 S1 Server Cluster webinar</a> , so we wanted to immediately answer the typical questions that the students asked our employee Pavel Borokh, Product Marketing Manager, PRIMERGY servers in Russia and the CIS countries. <br><br>  <b>1) Alternative operating systems</b> <br>  It is possible to use operating systems other than Windows Server 2012, only through virtualization using Hyper-V.  Programs that will work in a virtual environment, too, will be restored after failover. <br><br>  <b>2) Differences from other Fujitsu servers</b> <br>  For example, we have put together an alternative system with support for 12 SAS-disks with a capacity of 900 GB and duplication functions. <br><br><img src="https://habrastorage.org/storage2/deb/f43/c08/debf43c08b7442fc0db4fe3138a8257f.png"><br><br>  When using two single-unit PRIMERGY RX200 S7 servers and ETERNUS DX60 S2 disk storage, as seen in the picture, it took up more rack space, has a higher consumption, and most importantly, it costs 32,300 euros instead of 26,530 euros for Fujitsu PRIMERGY CX420 S1.  This does not mean that we picked up a bad set of servers and storage systems; it is just that the CX420 S1 meets the stated goals as accurately as possible - a compact high-availability server with standard infrastructure requirements. <br>  Please note that the above prices are the European List Price, in order to find out the cost in Russia, you need to contact our partners. <br><br>  <b>3) Differences from other 2U clusters</b> <br>  We do not claim exclusive design - two servers and a connecting unit in the 2U form factor.  However, for example, servers from other manufacturers make it possible to assemble a cluster for high-performance computing in this volume, while the CX420 is designed to build a cluster for high reliability, with built-in recovery procedures in case of failure. <br><br>  <b>4) Development potential</b> <br>  PRIMERGY CX420 S1 is one of a series of planned off-the-shelf solutions from Fujitsu for Microsoft software.  Soon we will also present ready-made solutions (‚Äúappliances‚Äù) for Microsoft SQL Server and Sharepoint Server. </div><p>Source: <a href="https://habr.com/ru/post/177657/">https://habr.com/ru/post/177657/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../177643/index.html">Bitcoin: implementation of the farm of two ati 7850 video cards on ubuntu</a></li>
<li><a href="../177645/index.html">jRIApp - new HTML5 framework for creating Internet business applications</a></li>
<li><a href="../177647/index.html">Installing usbip on ubuntu 12.04 server</a></li>
<li><a href="../177649/index.html">DNS query filtering</a></li>
<li><a href="../177653/index.html">The ethical and technical problem of ‚Äúdigital snapping‚Äù with automatic recognition of the faces of wanted citizens</a></li>
<li><a href="../177659/index.html">Metric # 5 - Podcast on technologies and design of interfaces and services</a></li>
<li><a href="../177661/index.html">s3ql - file system based on cloud storage</a></li>
<li><a href="../177665/index.html">What will happen if you press the dishcloth in space?</a></li>
<li><a href="../177671/index.html">Russian programming center in Dubna goes under water!</a></li>
<li><a href="../177673/index.html">‚ÄúRelcomization of the whole country‚Äù</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>