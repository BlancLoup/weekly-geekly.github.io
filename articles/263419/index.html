<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>A simple and obvious replacement for android.util.Log</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Once I wrote one project. The project turned out to be big and I wrote it for a long time. 
 There was everything that could be crammed in - and retro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>A simple and obvious replacement for android.util.Log</h1><div class="post__text post__text-html js-mediator-article">  Once I wrote one project.  The project turned out to be big and I wrote it for a long time. <br>  There was everything that could be crammed in - and retrolambda / java8, and a couple of dozen <br>  other libraries (the customer‚Äôs greed for new features knew no bounds, and therefore <br>  the number of dependencies grew). <br><br>  But it is not even about that.  It's time to make a release.  And it turned out that the project <br>  a lot of logs and it would be nice to remove them from the release build.  A well-known <br>  The ProGuard method did not work the first time.  With each new "-keep" <br>  The application fell in some new place.  So ProGuard had to disable <br>  until better times. <br><br>  All this time I have not had a feeling that log level management c <br>  using bytecode changes is ridiculous.  And then in half an hour I wrote my <br>  primitive logger. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Usually, I rarely bring my projects to the end, but here it was so simple - that now it lies on the <a href="https://github.com/zserge/log">githaba</a> , <a href="https://github.com/zserge/log">if you</a> wish, use it. <a name="habracut"></a><br><br><h2>  Compatible API - the key to simple migration </h2><br>  One of the reasons why I didn't use Timber is because my fingers <br>  used to print Log.d.  I also called my class ‚ÄúLog‚Äù, and made the methods compatible with ‚Äúandroid.util.Log‚Äù. <br><br>  This means that if you want to jump off the standard logger - just <br>  replace imports.  This can be done with sed, or with your favorite <br>  IDE. <br><br><h2>  And what is the advantage? </h2><br>  Well, here are some code snippets showing the main features of the logger: <br><br><pre><code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//          Log.d(tag, "X equals " + x); //          Log.d(tag, "X", x)</span></span></code> </pre> <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//     ,        class Foo { public void foo() { Log.d("Hello"); //  'D/Foo: Hello' } } //        "tag" ( "TAG") class Foo { private final static String TAG = "Bar"; public void foo() { Log.d("Hello"); //  'D/Bar: Hello' Log.d(TAG, "Hello"); //  'D/Bar: Hello',  'D/Bar: Bar Hello' } } // ,           class Foo { static { Log.useTags(new String[]{"tag", "TAG", "MYTAG", "_TAG", "iLoveLongFieldName"}); } private final static String _TAG = "Bar"; ... }</span></span></code> </pre><br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//   ,     - Exception e = new Exception("foo"); Log.d("Something bad happened", someObject, "error:", e); //       Log .d("First") .d("Second") .d("Third line") //      -     Log.level(Log.I); Log.d("foo"); //    //    ,   String.format() Log.useFormat(true); Log.d("X equals %d", x); //  'X equals 42' //       -      Log.d("Value of X", x); //  'Value of X 42' //     '\n'.    4000 //       .   //   JSON-  HTML Log.d("Hello\nworld"); //  'D/SomeTag: Hello',  'D/SomeTag: world' //     ,    JVM. //       ,    - //  System.out.println //       Log.usePrinter(Log.SYSTEM.true).usePrinter(Log.ANDROID, false).d("hello"); //  System.out,       //      "",   Crashlytics Log.usePrinter(mCrashlyricsPrinter, true);</span></span></code> </pre><br><br><h2>  Persuaded where to get? </h2><br>  Github sources: <a href="https://github.com/zserge/log">github.com/zserge/log</a> <br><br>  In build.gradle, the library is connected as usual: <br><br><pre> <code class="hljs objectivec">repositories { jcenter() <span class="hljs-comment"><span class="hljs-comment">//  mavenCentral() } dependencies { compile 'co.trikita:log:1.1.5' }</span></span></code> </pre><br>  This is how import can be replaced: <br><br><pre> <code class="bash hljs">$ find -name <span class="hljs-string"><span class="hljs-string">"*.java"</span></span> -<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> f -<span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> sed -i <span class="hljs-string"><span class="hljs-string">'s/import android.util.Log/import trikita.log.Log/g'</span></span> {} \;</code> </pre><br><br>  Logger under the MIT license, use on health.  There's one class without <br>  dependencies, only 250 lines, so that your project will not be harder / slower. <br><br>  Any wishes or bug reports (especially with patches) are welcome! <br><br>  <b>UPD:</b> Thank you all for the code review and constructive comments.  Thanks to you posted version 1.1.5. <br><ul><li>  Thread safety had to be done in the forehead, through synchronized.  I measured the speed - it practically did not slow down, but multiline messages do not break if you print them from different streams.  And so it is quieter if suddenly the printer is not multi-threaded </li><li>  I checked the benchmarks - yes, my logger is slower than android.util.Log due to reflection.  However, he is no slower than Timber.  In general, if you write less than 10,000 logs per second, there will be no performance problems </li><li>  I added a private constructor, and there, on trifles - where the names put in order, where the documentation </li></ul></div><p>Source: <a href="https://habr.com/ru/post/263419/">https://habr.com/ru/post/263419/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../263405/index.html">Video of reports from Zabbix Moscow Meetup</a></li>
<li><a href="../263407/index.html">Dirty secrets of express programming courses</a></li>
<li><a href="../263409/index.html">The end of the IT era</a></li>
<li><a href="../263413/index.html">Profiling Android applications for battery consumption</a></li>
<li><a href="../263417/index.html">Features withCredentials</a></li>
<li><a href="../263423/index.html">Voice control computer and Python</a></li>
<li><a href="../263427/index.html">Common sense is more important than algorithmic mastery.</a></li>
<li><a href="../263429/index.html">Beeline automatically changes HTML tags</a></li>
<li><a href="../263431/index.html">Configure Ubiquiti Wi-Fi and Cisco (Guest DHCP and VLANs)</a></li>
<li><a href="../263433/index.html">Responsive Sites, or How to Get Google Favor</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>