<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The battlefield is augmented reality. Part III: engine capabilities, animation and POI</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the last two articles, we became acquainted with the basics of the process and began to sort out the case for working with AR. Read to stay up to d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The battlefield is augmented reality. Part III: engine capabilities, animation and POI</h1><div class="post__text post__text-html js-mediator-article">  In the last two articles, we became acquainted with the basics of the process and began to sort out the case for working with AR.  Read to stay up to date. <br><br>  <a href="https://habrahabr.ru/post/342950/">Part I: The Basics of Object Recognition</a> <br>  <a href="https://habrahabr.ru/post/343648/">Part II: how to recognize the object and show the 3D model</a> <br><br>  We are pleased to present the final third part (yukh!), In which we will discuss the engine's capabilities in more detail and find out: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  How to animate a 3D object for AR.  Display the text by clicking on the object. </li><li>  How to show a 3D object at given coordinates as a POI (point of interest). </li><li>  How to show a 3D object in relation to you. </li></ul><br><a name="habracut"></a><h3>  A few words about 3D models and animation </h3><br>  We have already seen an application for downloading images for recognition.  So, Wikitude has an editor for loading models and animations.  The tool is called the Wikitude 3D encoder. <br>  With it, you can download content from files of the type * .fbx or * .dae, and subsequently export it in a format friendly for Wikitude * .wt3. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1d4/69c/bc4/1d469cbc4f52ccff81094e9cb92dbefc.png" alt="image"><br>  <i>3D model in the Wikitude 3D encoder editor</i> <br><br>  We have already disassembled the example with the 3D model, let's talk about animation.  Animation can be exported from special software, or programmed independently.  In the first case, the Autodesk maya program was used for this. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ac1/55e/35f/ac155e35f96bf8e9cc6f8153a7ed9101.png" alt="image"><br>  <i>An example of animation right in the editor.</i>  <i>Notice that all the available animations appeared on the right side.</i> <br><br><cut></cut>  A bit of code never hurts: <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/d60f9b28613b72675395201c5bb19dac.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"><div id="gist84287944" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-animation-js" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-javascript ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-animation-js-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-animation-js-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span>       ModelAnimation</span></td>
      </tr>
      <tr>
        <td id="file-animation-js-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-animation-js-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-c1">this</span>.<span class="pl-smi">animationDoorL</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.ModelAnimation</span>(<span class="pl-c1">this</span>.<span class="pl-smi">model</span>, <span class="pl-s"><span class="pl-pds">"</span>DoorOpenL_animation<span class="pl-pds">"</span></span>);</td>
      </tr>
      <tr>
        <td id="file-animation-js-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-animation-js-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-c1">this</span>.<span class="pl-smi">animationDoorR</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.ModelAnimation</span>(<span class="pl-c1">this</span>.<span class="pl-smi">model</span>, <span class="pl-s"><span class="pl-pds">"</span>DoorOpenR_animation<span class="pl-pds">"</span></span>);</td>
      </tr>
      <tr>
        <td id="file-animation-js-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-animation-js-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-c1">this</span>.<span class="pl-smi">animationEngine</span><span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.ModelAnimation</span>(<span class="pl-c1">this</span>.<span class="pl-smi">model</span>, <span class="pl-s"><span class="pl-pds">"</span>EngineWindow_animation<span class="pl-pds">"</span></span>);</td>
      </tr>
      <tr>
        <td id="file-animation-js-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-animation-js-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-c1">this</span>.<span class="pl-smi">animationHood</span>  <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.ModelAnimation</span>(<span class="pl-c1">this</span>.<span class="pl-smi">model</span>, <span class="pl-s"><span class="pl-pds">"</span>Trunkopen_animation<span class="pl-pds">"</span></span>); </td>
      </tr>
      <tr>
        <td id="file-animation-js-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-animation-js-LC6" class="blob-code blob-code-inner js-file-line"> </td>
      </tr>
      <tr>
        <td id="file-animation-js-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-animation-js-LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span>    </span></td>
      </tr>
      <tr>
        <td id="file-animation-js-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-animation-js-LC8" class="blob-code blob-code-inner js-file-line"><span class="pl-c1">this</span>.<span class="pl-smi">model</span>.<span class="pl-en">onClick</span> <span class="pl-k">=</span> <span class="pl-k">function</span>( <span class="pl-smi">drawable</span>, <span class="pl-smi">model_part</span> ) {</td>
      </tr>
      <tr>
        <td id="file-animation-js-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-animation-js-LC9" class="blob-code blob-code-inner js-file-line">			<span class="pl-k">switch</span>(model_part)</td>
      </tr>
      <tr>
        <td id="file-animation-js-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-animation-js-LC10" class="blob-code blob-code-inner js-file-line">			{</td>
      </tr>
      <tr>
        <td id="file-animation-js-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-animation-js-LC11" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">'</span>WindFL<span class="pl-pds">'</span></span>: </td>
      </tr>
      <tr>
        <td id="file-animation-js-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-animation-js-LC12" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">'</span>DoorL[0]<span class="pl-pds">'</span></span>:</td>
      </tr>
      <tr>
        <td id="file-animation-js-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-animation-js-LC13" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">'</span>DoorL[1]<span class="pl-pds">'</span></span>:</td>
      </tr>
      <tr>
        <td id="file-animation-js-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-animation-js-LC14" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">'</span>DoorL[2]<span class="pl-pds">'</span></span>:</td>
      </tr>
      <tr>
        <td id="file-animation-js-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-animation-js-LC15" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">'</span>DoorL[3]<span class="pl-pds">'</span></span>:					</td>
      </tr>
      <tr>
        <td id="file-animation-js-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-animation-js-LC16" class="blob-code blob-code-inner js-file-line">			        <span class="pl-smi">World</span>.<span class="pl-smi">animationDoorL</span>.<span class="pl-c1">start</span>();</td>
      </tr>
      <tr>
        <td id="file-animation-js-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-animation-js-LC17" class="blob-code blob-code-inner js-file-line">					<span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="file-animation-js-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-animation-js-LC18" class="blob-code blob-code-inner js-file-line"> </td>
      </tr>
      <tr>
        <td id="file-animation-js-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-animation-js-LC19" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">'</span>WindFR<span class="pl-pds">'</span></span>: </td>
      </tr>
      <tr>
        <td id="file-animation-js-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-animation-js-LC20" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">'</span>DoorR[0]<span class="pl-pds">'</span></span>:</td>
      </tr>
      <tr>
        <td id="file-animation-js-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-animation-js-LC21" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">'</span>DoorR[1]<span class="pl-pds">'</span></span>:</td>
      </tr>
      <tr>
        <td id="file-animation-js-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-animation-js-LC22" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">'</span>DoorR[2]<span class="pl-pds">'</span></span>:</td>
      </tr>
      <tr>
        <td id="file-animation-js-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-animation-js-LC23" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">'</span>DoorR[3]<span class="pl-pds">'</span></span>:</td>
      </tr>
      <tr>
        <td id="file-animation-js-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-animation-js-LC24" class="blob-code blob-code-inner js-file-line">			        <span class="pl-smi">World</span>.<span class="pl-smi">animationDoorR</span>.<span class="pl-c1">start</span>();</td>
      </tr>
      <tr>
        <td id="file-animation-js-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-animation-js-LC25" class="blob-code blob-code-inner js-file-line">					<span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="file-animation-js-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-animation-js-LC26" class="blob-code blob-code-inner js-file-line"> </td>
      </tr>
      <tr>
        <td id="file-animation-js-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-animation-js-LC27" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">'</span>Rear[0]<span class="pl-pds">'</span></span>:</td>
      </tr>
      <tr>
        <td id="file-animation-js-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-animation-js-LC28" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">'</span>Rear[1]<span class="pl-pds">'</span></span>:</td>
      </tr>
      <tr>
        <td id="file-animation-js-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-animation-js-LC29" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">'</span>WindR1[0]<span class="pl-pds">'</span></span>:</td>
      </tr>
      <tr>
        <td id="file-animation-js-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-animation-js-LC30" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">'</span>WindR1[1]<span class="pl-pds">'</span></span>:</td>
      </tr>
      <tr>
        <td id="file-animation-js-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-animation-js-LC31" class="blob-code blob-code-inner js-file-line">					<span class="pl-smi">World</span>.<span class="pl-smi">animationEngine</span>.<span class="pl-c1">start</span>();</td>
      </tr>
      <tr>
        <td id="file-animation-js-L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="file-animation-js-LC32" class="blob-code blob-code-inner js-file-line">					<span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="file-animation-js-L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="file-animation-js-LC33" class="blob-code blob-code-inner js-file-line"> </td>
      </tr>
      <tr>
        <td id="file-animation-js-L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="file-animation-js-LC34" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">'</span>Hood<span class="pl-pds">'</span></span>:</td>
      </tr>
      <tr>
        <td id="file-animation-js-L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="file-animation-js-LC35" class="blob-code blob-code-inner js-file-line">					<span class="pl-smi">World</span>.<span class="pl-smi">animationHood</span>.<span class="pl-c1">start</span>();</td>
      </tr>
      <tr>
        <td id="file-animation-js-L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="file-animation-js-LC36" class="blob-code blob-code-inner js-file-line">					<span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="file-animation-js-L37" class="blob-num js-line-number" data-line-number="37"></td>
        <td id="file-animation-js-LC37" class="blob-code blob-code-inner js-file-line">			}</td>
      </tr>
      <tr>
        <td id="file-animation-js-L38" class="blob-num js-line-number" data-line-number="38"></td>
        <td id="file-animation-js-LC38" class="blob-code blob-code-inner js-file-line">		}</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">Animation.js</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br>  This will start the animation.  The original animation itself is embedded in the file type * .wt3 <br>  Diversify the task: let's program the animation.  Let's make the model appear with animation when the picture is recognized. <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/7ae3de15ae54bce7743f3594fde85509.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"><div id="gist84288321" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-manual_animation-js" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-javascript ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-manual_animation-js-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-manual_animation-js-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-en">createAppearingAnimation</span><span class="pl-k">:</span> <span class="pl-k">function</span> <span class="pl-en">createAppearingAnimationFn</span>(<span class="pl-smi">model</span>, <span class="pl-smi">scale</span>) {</td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-manual_animation-js-LC2" class="blob-code blob-code-inner js-file-line">   <span class="pl-c"><span class="pl-c">/**</span></span></td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-manual_animation-js-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-c">    *  AR.PropertyAnimation           0   .  </span></td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-manual_animation-js-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-c">    * ‚Äòeasing curve‚Äô      </span></td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-manual_animation-js-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-c">    *       </span></td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-manual_animation-js-LC6" class="blob-code blob-code-inner js-file-line"><span class="pl-c">    *      .</span></td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-manual_animation-js-LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-c">    <span class="pl-c">*/</span></span></td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-manual_animation-js-LC8" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">var</span> sx <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.PropertyAnimation</span>(model, <span class="pl-s"><span class="pl-pds">"</span>scale.x<span class="pl-pds">"</span></span>, <span class="pl-c1">0</span>, scale, <span class="pl-c1">1500</span>, {</td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-manual_animation-js-LC9" class="blob-code blob-code-inner js-file-line">			type<span class="pl-k">:</span> <span class="pl-c1">AR</span>.<span class="pl-c1">CONST</span>.<span class="pl-c1">EASING_CURVE_TYPE</span>.<span class="pl-c1">EASE_OUT_ELASTIC</span></td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-manual_animation-js-LC10" class="blob-code blob-code-inner js-file-line">		});</td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-manual_animation-js-LC11" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">var</span> sy <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.PropertyAnimation</span>(model, <span class="pl-s"><span class="pl-pds">"</span>scale.y<span class="pl-pds">"</span></span>, <span class="pl-c1">0</span>, scale, <span class="pl-c1">1500</span>, {</td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-manual_animation-js-LC12" class="blob-code blob-code-inner js-file-line">			type<span class="pl-k">:</span> <span class="pl-c1">AR</span>.<span class="pl-c1">CONST</span>.<span class="pl-c1">EASING_CURVE_TYPE</span>.<span class="pl-c1">EASE_OUT_ELASTIC</span></td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-manual_animation-js-LC13" class="blob-code blob-code-inner js-file-line">		});</td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-manual_animation-js-LC14" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">var</span> sz <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.PropertyAnimation</span>(model, <span class="pl-s"><span class="pl-pds">"</span>scale.z<span class="pl-pds">"</span></span>, <span class="pl-c1">0</span>, scale, <span class="pl-c1">1500</span>, {</td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-manual_animation-js-LC15" class="blob-code blob-code-inner js-file-line">			type<span class="pl-k">:</span> <span class="pl-c1">AR</span>.<span class="pl-c1">CONST</span>.<span class="pl-c1">EASING_CURVE_TYPE</span>.<span class="pl-c1">EASE_OUT_ELASTIC</span></td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-manual_animation-js-LC16" class="blob-code blob-code-inner js-file-line">		});</td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-manual_animation-js-LC17" class="blob-code blob-code-inner js-file-line"> </td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-manual_animation-js-LC18" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">AR.AnimationGroup</span>(<span class="pl-c1">AR</span>.<span class="pl-c1">CONST</span>.<span class="pl-c1">ANIMATION_GROUP_TYPE</span>.<span class="pl-c1">PARALLEL</span>, [sx, sy, sz]);</td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-manual_animation-js-LC19" class="blob-code blob-code-inner js-file-line">	},</td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-manual_animation-js-LC20" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-manual_animation-js-LC21" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span>   </span></td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-manual_animation-js-LC22" class="blob-code blob-code-inner js-file-line"><span class="pl-c1">this</span>.<span class="pl-smi">appearingAnimation</span> <span class="pl-k">=</span> <span class="pl-c1">this</span>.<span class="pl-en">createAppearingAnimation</span>(<span class="pl-c1">this</span>.<span class="pl-smi">model</span>, <span class="pl-c1">0.045</span>);</td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-manual_animation-js-LC23" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-manual_animation-js-LC24" class="blob-code blob-code-inner js-file-line"><span class="pl-k">...</span></td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-manual_animation-js-LC25" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-manual_animation-js-LC26" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span>    </span></td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-manual_animation-js-LC27" class="blob-code blob-code-inner js-file-line"><span class="pl-en">loadingStep</span><span class="pl-k">:</span> <span class="pl-k">function</span> <span class="pl-en">loadingStepFn</span>() {</td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-manual_animation-js-LC28" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">if</span> (<span class="pl-smi">World</span>.<span class="pl-smi">resourcesLoaded</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-smi">World</span>.<span class="pl-smi">model</span>.<span class="pl-en">isLoaded</span>()) {</td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-manual_animation-js-LC29" class="blob-code blob-code-inner js-file-line"> </td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-manual_animation-js-LC30" class="blob-code blob-code-inner js-file-line">			<span class="pl-k">if</span> ( <span class="pl-smi">World</span>.<span class="pl-smi">trackableVisible</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-k">!</span><span class="pl-smi">World</span>.<span class="pl-smi">appearingAnimation</span>.<span class="pl-en">isRunning</span>() ) {</td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-manual_animation-js-LC31" class="blob-code blob-code-inner js-file-line">				<span class="pl-smi">World</span>.<span class="pl-smi">appearingAnimation</span>.<span class="pl-c1">start</span>();</td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="file-manual_animation-js-LC32" class="blob-code blob-code-inner js-file-line">			}</td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="file-manual_animation-js-LC33" class="blob-code blob-code-inner js-file-line">		}</td>
      </tr>
      <tr>
        <td id="file-manual_animation-js-L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="file-manual_animation-js-LC34" class="blob-code blob-code-inner js-file-line">	},</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">manual_animation.js</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br>  It remains to slightly edit the initialization functions of the tracker and we will get this example: <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/0dedbd6bad3c8356c287144e4d179c27.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"><div id="gist84288407" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-full_animation-js" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-javascript ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-full_animation-js-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-full_animation-js-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">var</span> World <span class="pl-k">=</span> {</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-full_animation-js-LC2" class="blob-code blob-code-inner js-file-line">	loaded<span class="pl-k">:</span> <span class="pl-c1">false</span>,</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-full_animation-js-LC3" class="blob-code blob-code-inner js-file-line">	trackableVisible<span class="pl-k">:</span> <span class="pl-c1">false</span>,</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-full_animation-js-LC4" class="blob-code blob-code-inner js-file-line">	resourcesLoaded<span class="pl-k">:</span> <span class="pl-c1">false</span>,</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-full_animation-js-LC5" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-full_animation-js-LC6" class="blob-code blob-code-inner js-file-line">	<span class="pl-en">init</span><span class="pl-k">:</span> <span class="pl-k">function</span> <span class="pl-en">initFn</span>() {</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-full_animation-js-LC7" class="blob-code blob-code-inner js-file-line">		<span class="pl-c1">this</span>.<span class="pl-en">createOverlays</span>();</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-full_animation-js-LC8" class="blob-code blob-code-inner js-file-line">	},</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-full_animation-js-LC9" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-full_animation-js-LC10" class="blob-code blob-code-inner js-file-line">	<span class="pl-en">createOverlays</span><span class="pl-k">:</span> <span class="pl-k">function</span> <span class="pl-en">createOverlaysFn</span>() {</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-full_animation-js-LC11" class="blob-code blob-code-inner js-file-line">	</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-full_animation-js-LC12" class="blob-code blob-code-inner js-file-line">		<span class="pl-c1">this</span>.<span class="pl-smi">targetCollectionResource</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.TargetCollectionResource</span>(<span class="pl-s"><span class="pl-pds">"</span>assets/tracker.wtc<span class="pl-pds">"</span></span>, {</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-full_animation-js-LC13" class="blob-code blob-code-inner js-file-line">			<span class="pl-en">onLoaded</span><span class="pl-k">:</span> <span class="pl-k">function</span> () {</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-full_animation-js-LC14" class="blob-code blob-code-inner js-file-line">				<span class="pl-smi">World</span>.<span class="pl-smi">resourcesLoaded</span> <span class="pl-k">=</span> <span class="pl-c1">true</span>;</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-full_animation-js-LC15" class="blob-code blob-code-inner js-file-line">				<span class="pl-c1">this</span>.<span class="pl-smi">loadingStep</span>;</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-full_animation-js-LC16" class="blob-code blob-code-inner js-file-line">			},</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-full_animation-js-LC17" class="blob-code blob-code-inner js-file-line">            <span class="pl-en">onError</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">errorMessage</span>) {</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-full_animation-js-LC18" class="blob-code blob-code-inner js-file-line">            	<span class="pl-en">alert</span>(errorMessage);</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-full_animation-js-LC19" class="blob-code blob-code-inner js-file-line">            }</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-full_animation-js-LC20" class="blob-code blob-code-inner js-file-line">		});</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-full_animation-js-LC21" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-full_animation-js-LC22" class="blob-code blob-code-inner js-file-line">		<span class="pl-c1">this</span>.<span class="pl-smi">tracker</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.ImageTracker</span>(<span class="pl-c1">this</span>.<span class="pl-smi">targetCollectionResource</span>, {</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-full_animation-js-LC23" class="blob-code blob-code-inner js-file-line">			onTargetsLoaded<span class="pl-k">:</span> <span class="pl-c1">this</span>.<span class="pl-smi">loadingStep</span>,</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-full_animation-js-LC24" class="blob-code blob-code-inner js-file-line">            <span class="pl-en">onError</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">errorMessage</span>) {</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-full_animation-js-LC25" class="blob-code blob-code-inner js-file-line">            	<span class="pl-en">alert</span>(errorMessage);</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-full_animation-js-LC26" class="blob-code blob-code-inner js-file-line">            }</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-full_animation-js-LC27" class="blob-code blob-code-inner js-file-line">		});</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-full_animation-js-LC28" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-full_animation-js-LC29" class="blob-code blob-code-inner js-file-line">		<span class="pl-c1">this</span>.<span class="pl-smi">model</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.Model</span>(<span class="pl-s"><span class="pl-pds">"</span>assets/car_animated.wt3<span class="pl-pds">"</span></span>, {</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-full_animation-js-LC30" class="blob-code blob-code-inner js-file-line">			onLoaded<span class="pl-k">:</span> <span class="pl-c1">this</span>.<span class="pl-smi">loadingStep</span>,</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-full_animation-js-LC31" class="blob-code blob-code-inner js-file-line">			scale<span class="pl-k">:</span> {</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="file-full_animation-js-LC32" class="blob-code blob-code-inner js-file-line">				x<span class="pl-k">:</span> <span class="pl-c1">0</span>,</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="file-full_animation-js-LC33" class="blob-code blob-code-inner js-file-line">				y<span class="pl-k">:</span> <span class="pl-c1">0</span>,</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="file-full_animation-js-LC34" class="blob-code blob-code-inner js-file-line">				z<span class="pl-k">:</span> <span class="pl-c1">0</span></td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="file-full_animation-js-LC35" class="blob-code blob-code-inner js-file-line">			},</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="file-full_animation-js-LC36" class="blob-code blob-code-inner js-file-line">			translate<span class="pl-k">:</span> {</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L37" class="blob-num js-line-number" data-line-number="37"></td>
        <td id="file-full_animation-js-LC37" class="blob-code blob-code-inner js-file-line">				x<span class="pl-k">:</span> <span class="pl-c1">0.0</span>,</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L38" class="blob-num js-line-number" data-line-number="38"></td>
        <td id="file-full_animation-js-LC38" class="blob-code blob-code-inner js-file-line">				y<span class="pl-k">:</span> <span class="pl-c1">0.05</span>,</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L39" class="blob-num js-line-number" data-line-number="39"></td>
        <td id="file-full_animation-js-LC39" class="blob-code blob-code-inner js-file-line">				z<span class="pl-k">:</span> <span class="pl-c1">0.0</span></td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L40" class="blob-num js-line-number" data-line-number="40"></td>
        <td id="file-full_animation-js-LC40" class="blob-code blob-code-inner js-file-line">			},</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L41" class="blob-num js-line-number" data-line-number="41"></td>
        <td id="file-full_animation-js-LC41" class="blob-code blob-code-inner js-file-line">			rotate<span class="pl-k">:</span> {</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L42" class="blob-num js-line-number" data-line-number="42"></td>
        <td id="file-full_animation-js-LC42" class="blob-code blob-code-inner js-file-line">				z<span class="pl-k">:</span> <span class="pl-k">-</span><span class="pl-c1">25</span></td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L43" class="blob-num js-line-number" data-line-number="43"></td>
        <td id="file-full_animation-js-LC43" class="blob-code blob-code-inner js-file-line">			}</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L44" class="blob-num js-line-number" data-line-number="44"></td>
        <td id="file-full_animation-js-LC44" class="blob-code blob-code-inner js-file-line">       	} );</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L45" class="blob-num js-line-number" data-line-number="45"></td>
        <td id="file-full_animation-js-LC45" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L46" class="blob-num js-line-number" data-line-number="46"></td>
        <td id="file-full_animation-js-LC46" class="blob-code blob-code-inner js-file-line">		<span class="pl-c1">this</span>.<span class="pl-smi">animationDoorL</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.ModelAnimation</span>(<span class="pl-c1">this</span>.<span class="pl-smi">model</span>, <span class="pl-s"><span class="pl-pds">"</span>DoorOpenL_animation<span class="pl-pds">"</span></span>);</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L47" class="blob-num js-line-number" data-line-number="47"></td>
        <td id="file-full_animation-js-LC47" class="blob-code blob-code-inner js-file-line">		<span class="pl-c1">this</span>.<span class="pl-smi">animationDoorR</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.ModelAnimation</span>(<span class="pl-c1">this</span>.<span class="pl-smi">model</span>, <span class="pl-s"><span class="pl-pds">"</span>DoorOpenR_animation<span class="pl-pds">"</span></span>);</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L48" class="blob-num js-line-number" data-line-number="48"></td>
        <td id="file-full_animation-js-LC48" class="blob-code blob-code-inner js-file-line">		<span class="pl-c1">this</span>.<span class="pl-smi">animationEngine</span><span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.ModelAnimation</span>(<span class="pl-c1">this</span>.<span class="pl-smi">model</span>, <span class="pl-s"><span class="pl-pds">"</span>EngineWindow_animation<span class="pl-pds">"</span></span>);</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L49" class="blob-num js-line-number" data-line-number="49"></td>
        <td id="file-full_animation-js-LC49" class="blob-code blob-code-inner js-file-line">		<span class="pl-c1">this</span>.<span class="pl-smi">animationHood</span>  <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.ModelAnimation</span>(<span class="pl-c1">this</span>.<span class="pl-smi">model</span>, <span class="pl-s"><span class="pl-pds">"</span>Trunkopen_animation<span class="pl-pds">"</span></span>); </td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L50" class="blob-num js-line-number" data-line-number="50"></td>
        <td id="file-full_animation-js-LC50" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L51" class="blob-num js-line-number" data-line-number="51"></td>
        <td id="file-full_animation-js-LC51" class="blob-code blob-code-inner js-file-line">		<span class="pl-c1">this</span>.<span class="pl-smi">model</span>.<span class="pl-en">onClick</span> <span class="pl-k">=</span> <span class="pl-k">function</span>( <span class="pl-smi">drawable</span>, <span class="pl-smi">model_part</span> ) {</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L52" class="blob-num js-line-number" data-line-number="52"></td>
        <td id="file-full_animation-js-LC52" class="blob-code blob-code-inner js-file-line">			<span class="pl-k">switch</span>(model_part)</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L53" class="blob-num js-line-number" data-line-number="53"></td>
        <td id="file-full_animation-js-LC53" class="blob-code blob-code-inner js-file-line">			{</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L54" class="blob-num js-line-number" data-line-number="54"></td>
        <td id="file-full_animation-js-LC54" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">'</span>WindFL<span class="pl-pds">'</span></span>: </td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L55" class="blob-num js-line-number" data-line-number="55"></td>
        <td id="file-full_animation-js-LC55" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">'</span>DoorL[0]<span class="pl-pds">'</span></span>:</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L56" class="blob-num js-line-number" data-line-number="56"></td>
        <td id="file-full_animation-js-LC56" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">'</span>DoorL[1]<span class="pl-pds">'</span></span>:</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L57" class="blob-num js-line-number" data-line-number="57"></td>
        <td id="file-full_animation-js-LC57" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">'</span>DoorL[2]<span class="pl-pds">'</span></span>:</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L58" class="blob-num js-line-number" data-line-number="58"></td>
        <td id="file-full_animation-js-LC58" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">'</span>DoorL[3]<span class="pl-pds">'</span></span>:					</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L59" class="blob-num js-line-number" data-line-number="59"></td>
        <td id="file-full_animation-js-LC59" class="blob-code blob-code-inner js-file-line">			        <span class="pl-smi">World</span>.<span class="pl-smi">animationDoorL</span>.<span class="pl-c1">start</span>();</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L60" class="blob-num js-line-number" data-line-number="60"></td>
        <td id="file-full_animation-js-LC60" class="blob-code blob-code-inner js-file-line">					<span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L61" class="blob-num js-line-number" data-line-number="61"></td>
        <td id="file-full_animation-js-LC61" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L62" class="blob-num js-line-number" data-line-number="62"></td>
        <td id="file-full_animation-js-LC62" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">'</span>WindFR<span class="pl-pds">'</span></span>: </td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L63" class="blob-num js-line-number" data-line-number="63"></td>
        <td id="file-full_animation-js-LC63" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">'</span>DoorR[0]<span class="pl-pds">'</span></span>:</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L64" class="blob-num js-line-number" data-line-number="64"></td>
        <td id="file-full_animation-js-LC64" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">'</span>DoorR[1]<span class="pl-pds">'</span></span>:</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L65" class="blob-num js-line-number" data-line-number="65"></td>
        <td id="file-full_animation-js-LC65" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">'</span>DoorR[2]<span class="pl-pds">'</span></span>:</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L66" class="blob-num js-line-number" data-line-number="66"></td>
        <td id="file-full_animation-js-LC66" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">'</span>DoorR[3]<span class="pl-pds">'</span></span>:</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L67" class="blob-num js-line-number" data-line-number="67"></td>
        <td id="file-full_animation-js-LC67" class="blob-code blob-code-inner js-file-line">			        <span class="pl-smi">World</span>.<span class="pl-smi">animationDoorR</span>.<span class="pl-c1">start</span>();</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L68" class="blob-num js-line-number" data-line-number="68"></td>
        <td id="file-full_animation-js-LC68" class="blob-code blob-code-inner js-file-line">					<span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L69" class="blob-num js-line-number" data-line-number="69"></td>
        <td id="file-full_animation-js-LC69" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L70" class="blob-num js-line-number" data-line-number="70"></td>
        <td id="file-full_animation-js-LC70" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">'</span>Rear[0]<span class="pl-pds">'</span></span>:</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L71" class="blob-num js-line-number" data-line-number="71"></td>
        <td id="file-full_animation-js-LC71" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">'</span>Rear[1]<span class="pl-pds">'</span></span>:</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L72" class="blob-num js-line-number" data-line-number="72"></td>
        <td id="file-full_animation-js-LC72" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">'</span>WindR1[0]<span class="pl-pds">'</span></span>:</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L73" class="blob-num js-line-number" data-line-number="73"></td>
        <td id="file-full_animation-js-LC73" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">'</span>WindR1[1]<span class="pl-pds">'</span></span>:</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L74" class="blob-num js-line-number" data-line-number="74"></td>
        <td id="file-full_animation-js-LC74" class="blob-code blob-code-inner js-file-line">					<span class="pl-smi">World</span>.<span class="pl-smi">animationEngine</span>.<span class="pl-c1">start</span>();</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L75" class="blob-num js-line-number" data-line-number="75"></td>
        <td id="file-full_animation-js-LC75" class="blob-code blob-code-inner js-file-line">					<span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L76" class="blob-num js-line-number" data-line-number="76"></td>
        <td id="file-full_animation-js-LC76" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L77" class="blob-num js-line-number" data-line-number="77"></td>
        <td id="file-full_animation-js-LC77" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">'</span>Hood<span class="pl-pds">'</span></span>:</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L78" class="blob-num js-line-number" data-line-number="78"></td>
        <td id="file-full_animation-js-LC78" class="blob-code blob-code-inner js-file-line">					<span class="pl-smi">World</span>.<span class="pl-smi">animationHood</span>.<span class="pl-c1">start</span>();</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L79" class="blob-num js-line-number" data-line-number="79"></td>
        <td id="file-full_animation-js-LC79" class="blob-code blob-code-inner js-file-line">					<span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L80" class="blob-num js-line-number" data-line-number="80"></td>
        <td id="file-full_animation-js-LC80" class="blob-code blob-code-inner js-file-line">			}</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L81" class="blob-num js-line-number" data-line-number="81"></td>
        <td id="file-full_animation-js-LC81" class="blob-code blob-code-inner js-file-line">		}</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L82" class="blob-num js-line-number" data-line-number="82"></td>
        <td id="file-full_animation-js-LC82" class="blob-code blob-code-inner js-file-line">		<span class="pl-c1">this</span>.<span class="pl-smi">appearingAnimation</span> <span class="pl-k">=</span> <span class="pl-c1">this</span>.<span class="pl-en">createAppearingAnimation</span>(<span class="pl-c1">this</span>.<span class="pl-smi">model</span>, <span class="pl-c1">0.045</span>);</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L83" class="blob-num js-line-number" data-line-number="83"></td>
        <td id="file-full_animation-js-LC83" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L84" class="blob-num js-line-number" data-line-number="84"></td>
        <td id="file-full_animation-js-LC84" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">var</span> trackable <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.ImageTrackable</span>(<span class="pl-c1">this</span>.<span class="pl-smi">tracker</span>, <span class="pl-s"><span class="pl-pds">"</span>*<span class="pl-pds">"</span></span>, {</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L85" class="blob-num js-line-number" data-line-number="85"></td>
        <td id="file-full_animation-js-LC85" class="blob-code blob-code-inner js-file-line">			drawables<span class="pl-k">:</span> {</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L86" class="blob-num js-line-number" data-line-number="86"></td>
        <td id="file-full_animation-js-LC86" class="blob-code blob-code-inner js-file-line">				cam<span class="pl-k">:</span> [<span class="pl-c1">this</span>.<span class="pl-smi">model</span>]</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L87" class="blob-num js-line-number" data-line-number="87"></td>
        <td id="file-full_animation-js-LC87" class="blob-code blob-code-inner js-file-line">			},</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L88" class="blob-num js-line-number" data-line-number="88"></td>
        <td id="file-full_animation-js-LC88" class="blob-code blob-code-inner js-file-line">			onImageRecognized<span class="pl-k">:</span> <span class="pl-c1">this</span>.<span class="pl-smi">appear</span>,</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L89" class="blob-num js-line-number" data-line-number="89"></td>
        <td id="file-full_animation-js-LC89" class="blob-code blob-code-inner js-file-line">			onImageLost<span class="pl-k">:</span> <span class="pl-c1">this</span>.<span class="pl-smi">disappear</span>,</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L90" class="blob-num js-line-number" data-line-number="90"></td>
        <td id="file-full_animation-js-LC90" class="blob-code blob-code-inner js-file-line">            <span class="pl-en">onError</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">errorMessage</span>) {</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L91" class="blob-num js-line-number" data-line-number="91"></td>
        <td id="file-full_animation-js-LC91" class="blob-code blob-code-inner js-file-line">            	<span class="pl-en">alert</span>(errorMessage);</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L92" class="blob-num js-line-number" data-line-number="92"></td>
        <td id="file-full_animation-js-LC92" class="blob-code blob-code-inner js-file-line">            }</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L93" class="blob-num js-line-number" data-line-number="93"></td>
        <td id="file-full_animation-js-LC93" class="blob-code blob-code-inner js-file-line">		});</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L94" class="blob-num js-line-number" data-line-number="94"></td>
        <td id="file-full_animation-js-LC94" class="blob-code blob-code-inner js-file-line">	},</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L95" class="blob-num js-line-number" data-line-number="95"></td>
        <td id="file-full_animation-js-LC95" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L96" class="blob-num js-line-number" data-line-number="96"></td>
        <td id="file-full_animation-js-LC96" class="blob-code blob-code-inner js-file-line">	<span class="pl-en">removeLoadingBar</span><span class="pl-k">:</span> <span class="pl-k">function</span>() {</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L97" class="blob-num js-line-number" data-line-number="97"></td>
        <td id="file-full_animation-js-LC97" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">if</span> (<span class="pl-k">!</span><span class="pl-smi">World</span>.<span class="pl-smi">loaded</span>) {</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L98" class="blob-num js-line-number" data-line-number="98"></td>
        <td id="file-full_animation-js-LC98" class="blob-code blob-code-inner js-file-line">			<span class="pl-k">var</span> e <span class="pl-k">=</span> <span class="pl-c1">document</span>.<span class="pl-c1">getElementById</span>(<span class="pl-s"><span class="pl-pds">'</span>loadingMessage<span class="pl-pds">'</span></span>);</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L99" class="blob-num js-line-number" data-line-number="99"></td>
        <td id="file-full_animation-js-LC99" class="blob-code blob-code-inner js-file-line">			<span class="pl-smi">e</span>.<span class="pl-smi">parentElement</span>.<span class="pl-c1">removeChild</span>(e);</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L100" class="blob-num js-line-number" data-line-number="100"></td>
        <td id="file-full_animation-js-LC100" class="blob-code blob-code-inner js-file-line">			<span class="pl-smi">World</span>.<span class="pl-smi">loaded</span> <span class="pl-k">=</span> <span class="pl-c1">true</span>;</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L101" class="blob-num js-line-number" data-line-number="101"></td>
        <td id="file-full_animation-js-LC101" class="blob-code blob-code-inner js-file-line">		}</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L102" class="blob-num js-line-number" data-line-number="102"></td>
        <td id="file-full_animation-js-LC102" class="blob-code blob-code-inner js-file-line">	},</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L103" class="blob-num js-line-number" data-line-number="103"></td>
        <td id="file-full_animation-js-LC103" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L104" class="blob-num js-line-number" data-line-number="104"></td>
        <td id="file-full_animation-js-LC104" class="blob-code blob-code-inner js-file-line">	<span class="pl-en">loadingStep</span><span class="pl-k">:</span> <span class="pl-k">function</span> <span class="pl-en">loadingStepFn</span>() {</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L105" class="blob-num js-line-number" data-line-number="105"></td>
        <td id="file-full_animation-js-LC105" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">if</span> (<span class="pl-smi">World</span>.<span class="pl-smi">resourcesLoaded</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-smi">World</span>.<span class="pl-smi">model</span>.<span class="pl-en">isLoaded</span>()) {</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L106" class="blob-num js-line-number" data-line-number="106"></td>
        <td id="file-full_animation-js-LC106" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L107" class="blob-num js-line-number" data-line-number="107"></td>
        <td id="file-full_animation-js-LC107" class="blob-code blob-code-inner js-file-line">			<span class="pl-k">if</span> ( <span class="pl-smi">World</span>.<span class="pl-smi">trackableVisible</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-k">!</span><span class="pl-smi">World</span>.<span class="pl-smi">appearingAnimation</span>.<span class="pl-en">isRunning</span>() ) {</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L108" class="blob-num js-line-number" data-line-number="108"></td>
        <td id="file-full_animation-js-LC108" class="blob-code blob-code-inner js-file-line">				<span class="pl-smi">World</span>.<span class="pl-smi">appearingAnimation</span>.<span class="pl-c1">start</span>();</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L109" class="blob-num js-line-number" data-line-number="109"></td>
        <td id="file-full_animation-js-LC109" class="blob-code blob-code-inner js-file-line">			}</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L110" class="blob-num js-line-number" data-line-number="110"></td>
        <td id="file-full_animation-js-LC110" class="blob-code blob-code-inner js-file-line">			</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L111" class="blob-num js-line-number" data-line-number="111"></td>
        <td id="file-full_animation-js-LC111" class="blob-code blob-code-inner js-file-line">			<span class="pl-k">var</span> cssDivLeft <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span> style='display: table-cell;vertical-align: middle; text-align: right; width: 50%; padding-right: 15px;'<span class="pl-pds">"</span></span>;</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L112" class="blob-num js-line-number" data-line-number="112"></td>
        <td id="file-full_animation-js-LC112" class="blob-code blob-code-inner js-file-line">			<span class="pl-k">var</span> cssDivRight <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span> style='display: table-cell;vertical-align: middle; text-align: left;'<span class="pl-pds">"</span></span>;</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L113" class="blob-num js-line-number" data-line-number="113"></td>
        <td id="file-full_animation-js-LC113" class="blob-code blob-code-inner js-file-line">			<span class="pl-c1">document</span>.<span class="pl-c1">getElementById</span>(<span class="pl-s"><span class="pl-pds">'</span>loadingMessage<span class="pl-pds">'</span></span>).<span class="pl-smi">innerHTML</span> <span class="pl-k">=</span></td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L114" class="blob-num js-line-number" data-line-number="114"></td>
        <td id="file-full_animation-js-LC114" class="blob-code blob-code-inner js-file-line">				<span class="pl-s"><span class="pl-pds">"</span>&lt;div<span class="pl-pds">"</span></span> <span class="pl-k">+</span> cssDivLeft <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>&gt;Scan CarAd Tracker Image:&lt;/div&gt;<span class="pl-pds">"</span></span> <span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L115" class="blob-num js-line-number" data-line-number="115"></td>
        <td id="file-full_animation-js-LC115" class="blob-code blob-code-inner js-file-line">				<span class="pl-s"><span class="pl-pds">"</span>&lt;div<span class="pl-pds">"</span></span> <span class="pl-k">+</span> cssDivRight <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>&gt;&lt;img src='assets/car.png'&gt;&lt;/img&gt;&lt;/div&gt;<span class="pl-pds">"</span></span>;</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L116" class="blob-num js-line-number" data-line-number="116"></td>
        <td id="file-full_animation-js-LC116" class="blob-code blob-code-inner js-file-line">		}</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L117" class="blob-num js-line-number" data-line-number="117"></td>
        <td id="file-full_animation-js-LC117" class="blob-code blob-code-inner js-file-line">	},</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L118" class="blob-num js-line-number" data-line-number="118"></td>
        <td id="file-full_animation-js-LC118" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L119" class="blob-num js-line-number" data-line-number="119"></td>
        <td id="file-full_animation-js-LC119" class="blob-code blob-code-inner js-file-line">	<span class="pl-en">createAppearingAnimation</span><span class="pl-k">:</span> <span class="pl-k">function</span> <span class="pl-en">createAppearingAnimationFn</span>(<span class="pl-smi">model</span>, <span class="pl-smi">scale</span>) {</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L120" class="blob-num js-line-number" data-line-number="120"></td>
        <td id="file-full_animation-js-LC120" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">var</span> sx <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.PropertyAnimation</span>(model, <span class="pl-s"><span class="pl-pds">"</span>scale.x<span class="pl-pds">"</span></span>, <span class="pl-c1">0</span>, scale, <span class="pl-c1">1500</span>, {</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L121" class="blob-num js-line-number" data-line-number="121"></td>
        <td id="file-full_animation-js-LC121" class="blob-code blob-code-inner js-file-line">			type<span class="pl-k">:</span> <span class="pl-c1">AR</span>.<span class="pl-c1">CONST</span>.<span class="pl-c1">EASING_CURVE_TYPE</span>.<span class="pl-c1">EASE_OUT_ELASTIC</span></td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L122" class="blob-num js-line-number" data-line-number="122"></td>
        <td id="file-full_animation-js-LC122" class="blob-code blob-code-inner js-file-line">		});</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L123" class="blob-num js-line-number" data-line-number="123"></td>
        <td id="file-full_animation-js-LC123" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">var</span> sy <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.PropertyAnimation</span>(model, <span class="pl-s"><span class="pl-pds">"</span>scale.y<span class="pl-pds">"</span></span>, <span class="pl-c1">0</span>, scale, <span class="pl-c1">1500</span>, {</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L124" class="blob-num js-line-number" data-line-number="124"></td>
        <td id="file-full_animation-js-LC124" class="blob-code blob-code-inner js-file-line">			type<span class="pl-k">:</span> <span class="pl-c1">AR</span>.<span class="pl-c1">CONST</span>.<span class="pl-c1">EASING_CURVE_TYPE</span>.<span class="pl-c1">EASE_OUT_ELASTIC</span></td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L125" class="blob-num js-line-number" data-line-number="125"></td>
        <td id="file-full_animation-js-LC125" class="blob-code blob-code-inner js-file-line">		});</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L126" class="blob-num js-line-number" data-line-number="126"></td>
        <td id="file-full_animation-js-LC126" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">var</span> sz <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.PropertyAnimation</span>(model, <span class="pl-s"><span class="pl-pds">"</span>scale.z<span class="pl-pds">"</span></span>, <span class="pl-c1">0</span>, scale, <span class="pl-c1">1500</span>, {</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L127" class="blob-num js-line-number" data-line-number="127"></td>
        <td id="file-full_animation-js-LC127" class="blob-code blob-code-inner js-file-line">			type<span class="pl-k">:</span> <span class="pl-c1">AR</span>.<span class="pl-c1">CONST</span>.<span class="pl-c1">EASING_CURVE_TYPE</span>.<span class="pl-c1">EASE_OUT_ELASTIC</span></td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L128" class="blob-num js-line-number" data-line-number="128"></td>
        <td id="file-full_animation-js-LC128" class="blob-code blob-code-inner js-file-line">		});</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L129" class="blob-num js-line-number" data-line-number="129"></td>
        <td id="file-full_animation-js-LC129" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L130" class="blob-num js-line-number" data-line-number="130"></td>
        <td id="file-full_animation-js-LC130" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">AR.AnimationGroup</span>(<span class="pl-c1">AR</span>.<span class="pl-c1">CONST</span>.<span class="pl-c1">ANIMATION_GROUP_TYPE</span>.<span class="pl-c1">PARALLEL</span>, [sx, sy, sz]);</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L131" class="blob-num js-line-number" data-line-number="131"></td>
        <td id="file-full_animation-js-LC131" class="blob-code blob-code-inner js-file-line">	},</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L132" class="blob-num js-line-number" data-line-number="132"></td>
        <td id="file-full_animation-js-LC132" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L133" class="blob-num js-line-number" data-line-number="133"></td>
        <td id="file-full_animation-js-LC133" class="blob-code blob-code-inner js-file-line">	<span class="pl-en">appear</span><span class="pl-k">:</span> <span class="pl-k">function</span> <span class="pl-en">appearFn</span>() {</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L134" class="blob-num js-line-number" data-line-number="134"></td>
        <td id="file-full_animation-js-LC134" class="blob-code blob-code-inner js-file-line">		<span class="pl-smi">World</span>.<span class="pl-en">removeLoadingBar</span>();</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L135" class="blob-num js-line-number" data-line-number="135"></td>
        <td id="file-full_animation-js-LC135" class="blob-code blob-code-inner js-file-line">		<span class="pl-smi">World</span>.<span class="pl-smi">trackableVisible</span> <span class="pl-k">=</span> <span class="pl-c1">true</span>;</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L136" class="blob-num js-line-number" data-line-number="136"></td>
        <td id="file-full_animation-js-LC136" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">if</span> ( <span class="pl-smi">World</span>.<span class="pl-smi">loaded</span> ) {</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L137" class="blob-num js-line-number" data-line-number="137"></td>
        <td id="file-full_animation-js-LC137" class="blob-code blob-code-inner js-file-line">			<span class="pl-c"><span class="pl-c">//</span> Resets the properties to the initial values.</span></td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L138" class="blob-num js-line-number" data-line-number="138"></td>
        <td id="file-full_animation-js-LC138" class="blob-code blob-code-inner js-file-line">			<span class="pl-smi">World</span>.<span class="pl-en">resetModel</span>();</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L139" class="blob-num js-line-number" data-line-number="139"></td>
        <td id="file-full_animation-js-LC139" class="blob-code blob-code-inner js-file-line">			<span class="pl-smi">World</span>.<span class="pl-smi">appearingAnimation</span>.<span class="pl-c1">start</span>();		</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L140" class="blob-num js-line-number" data-line-number="140"></td>
        <td id="file-full_animation-js-LC140" class="blob-code blob-code-inner js-file-line">		}</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L141" class="blob-num js-line-number" data-line-number="141"></td>
        <td id="file-full_animation-js-LC141" class="blob-code blob-code-inner js-file-line">	},</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L142" class="blob-num js-line-number" data-line-number="142"></td>
        <td id="file-full_animation-js-LC142" class="blob-code blob-code-inner js-file-line">	<span class="pl-en">disappear</span><span class="pl-k">:</span> <span class="pl-k">function</span> <span class="pl-en">disappearFn</span>() {</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L143" class="blob-num js-line-number" data-line-number="143"></td>
        <td id="file-full_animation-js-LC143" class="blob-code blob-code-inner js-file-line">		<span class="pl-smi">World</span>.<span class="pl-smi">trackableVisible</span> <span class="pl-k">=</span> <span class="pl-c1">false</span>;</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L144" class="blob-num js-line-number" data-line-number="144"></td>
        <td id="file-full_animation-js-LC144" class="blob-code blob-code-inner js-file-line">	},</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L145" class="blob-num js-line-number" data-line-number="145"></td>
        <td id="file-full_animation-js-LC145" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L146" class="blob-num js-line-number" data-line-number="146"></td>
        <td id="file-full_animation-js-LC146" class="blob-code blob-code-inner js-file-line">	<span class="pl-en">resetModel</span><span class="pl-k">:</span> <span class="pl-k">function</span> <span class="pl-en">resetModelFn</span>() {</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L147" class="blob-num js-line-number" data-line-number="147"></td>
        <td id="file-full_animation-js-LC147" class="blob-code blob-code-inner js-file-line">		<span class="pl-smi">World</span>.<span class="pl-smi">model</span>.<span class="pl-smi">rotate</span>.<span class="pl-c1">z</span> <span class="pl-k">=</span> <span class="pl-k">-</span><span class="pl-c1">25</span>;</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L148" class="blob-num js-line-number" data-line-number="148"></td>
        <td id="file-full_animation-js-LC148" class="blob-code blob-code-inner js-file-line">	},</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L149" class="blob-num js-line-number" data-line-number="149"></td>
        <td id="file-full_animation-js-LC149" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L150" class="blob-num js-line-number" data-line-number="150"></td>
        <td id="file-full_animation-js-LC150" class="blob-code blob-code-inner js-file-line">};</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L151" class="blob-num js-line-number" data-line-number="151"></td>
        <td id="file-full_animation-js-LC151" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-full_animation-js-L152" class="blob-num js-line-number" data-line-number="152"></td>
        <td id="file-full_animation-js-LC152" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">World</span>.<span class="pl-en">init</span>();</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">full_animation.js</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br><cut></cut>  We considered two approaches to animation: <br><br>  - Created earlier and put into a * .wt3 file <br>  - Manually programmed <br><br><h3>  How to display the caption </h3><br>  The most frequent case is to display the text.  It is quite simple.  So: <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/cb8f4c0890518acfbf88a006ef587bc6.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"><div id="gist84288479" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-show_text-js" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-javascript ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-show_text-js-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-show_text-js-LC1" class="blob-code blob-code-inner js-file-line">modelAsset <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.Model</span>(<span class="pl-s"><span class="pl-pds">"</span>assets/car.wt3<span class="pl-pds">"</span></span>, {</td>
      </tr>
      <tr>
        <td id="file-show_text-js-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-show_text-js-LC2" class="blob-code blob-code-inner js-file-line">             onLoaded<span class="pl-k">:</span> <span class="pl-c1">this</span>.<span class="pl-smi">onModelLoaded</span>,</td>
      </tr>
      <tr>
        <td id="file-show_text-js-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-show_text-js-LC3" class="blob-code blob-code-inner js-file-line">             onClick<span class="pl-k">:</span> <span class="pl-c1">this</span>.<span class="pl-smi">onModelClick</span>,</td>
      </tr>
      <tr>
        <td id="file-show_text-js-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-show_text-js-LC4" class="blob-code blob-code-inner js-file-line">             scale<span class="pl-k">:</span> {</td>
      </tr>
      <tr>
        <td id="file-show_text-js-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-show_text-js-LC5" class="blob-code blob-code-inner js-file-line">                 x<span class="pl-k">:</span> <span class="pl-c1">0.07</span>,</td>
      </tr>
      <tr>
        <td id="file-show_text-js-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-show_text-js-LC6" class="blob-code blob-code-inner js-file-line">                 y<span class="pl-k">:</span> <span class="pl-c1">0.07</span>,</td>
      </tr>
      <tr>
        <td id="file-show_text-js-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-show_text-js-LC7" class="blob-code blob-code-inner js-file-line">                 z<span class="pl-k">:</span> <span class="pl-c1">0.07</span></td>
      </tr>
      <tr>
        <td id="file-show_text-js-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-show_text-js-LC8" class="blob-code blob-code-inner js-file-line">             },</td>
      </tr>
      <tr>
        <td id="file-show_text-js-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-show_text-js-LC9" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-show_text-js-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-show_text-js-LC10" class="blob-code blob-code-inner js-file-line"><span class="pl-en">onModelLoaded</span><span class="pl-k">:</span> <span class="pl-k">function</span> <span class="pl-en">onModelLoadedFn</span>() {</td>
      </tr>
      <tr>
        <td id="file-show_text-js-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-show_text-js-LC11" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">var</span> rotateAnimation <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.PropertyAnimation</span>(modelAsset, <span class="pl-s"><span class="pl-pds">'</span>rotate.heading<span class="pl-pds">'</span></span>, <span class="pl-c1">0</span>, <span class="pl-c1">360</span>, <span class="pl-c1">1500</span>);</td>
      </tr>
      <tr>
        <td id="file-show_text-js-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-show_text-js-LC12" class="blob-code blob-code-inner js-file-line">        <span class="pl-smi">rotateAnimation</span>.<span class="pl-c1">start</span>(<span class="pl-k">-</span><span class="pl-c1">1</span>);</td>
      </tr>
      <tr>
        <td id="file-show_text-js-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-show_text-js-LC13" class="blob-code blob-code-inner js-file-line">    },</td>
      </tr>
      <tr>
        <td id="file-show_text-js-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-show_text-js-LC14" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-show_text-js-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-show_text-js-LC15" class="blob-code blob-code-inner js-file-line"><span class="pl-en">onModelClick</span><span class="pl-k">:</span> <span class="pl-k">function</span> <span class="pl-en">onModelClickFn</span>() {</td>
      </tr>
      <tr>
        <td id="file-show_text-js-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-show_text-js-LC16" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">var</span> e <span class="pl-k">=</span> <span class="pl-c1">document</span>.<span class="pl-c1">getElementById</span>(<span class="pl-s"><span class="pl-pds">'</span>loadingMessage<span class="pl-pds">'</span></span>);</td>
      </tr>
      <tr>
        <td id="file-show_text-js-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-show_text-js-LC17" class="blob-code blob-code-inner js-file-line">        <span class="pl-smi">e</span>.<span class="pl-smi">innerHTML</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>  10 !<span class="pl-pds">"</span></span>;</td>
      </tr>
      <tr>
        <td id="file-show_text-js-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-show_text-js-LC18" class="blob-code blob-code-inner js-file-line">    },</td>
      </tr>
      <tr>
        <td id="file-show_text-js-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-show_text-js-LC19" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-show_text-js-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-show_text-js-LC20" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span>   index.html     </span></td>
      </tr>
      <tr>
        <td id="file-show_text-js-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-show_text-js-LC21" class="blob-code blob-code-inner js-file-line"><span class="pl-k">&lt;</span>div<span class="pl-k">&gt;</span></td>
      </tr>
      <tr>
        <td id="file-show_text-js-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-show_text-js-LC22" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">&lt;</span>div <span class="pl-k">class</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>loadingMessage<span class="pl-pds">"</span></span> id<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>loadingMessage<span class="pl-pds">"</span></span><span class="pl-k">&gt;</span>Loading <span class="pl-k">...</span><span class="pl-k">&lt;</span><span class="pl-k">/</span>div<span class="pl-k">&gt;</span></td>
      </tr>
      <tr>
        <td id="file-show_text-js-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-show_text-js-LC23" class="blob-code blob-code-inner js-file-line"><span class="pl-k">&lt;</span><span class="pl-k">/</span>div<span class="pl-k">&gt;</span></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">show_text.js</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br><cut></cut>  Let's look at what we did: <br><br><ul><li>  Creates a window for text. </li><li>  A 3D model appears. </li><li>  At loading animation of rotation is appropriated. </li><li>  When you click on the model, an inscription appears in the window. </li></ul><br>  As you can see, we have a loadable model.  When loading, it is assigned an animation that twists the model around its axis. <br><br>  When you click on this model, we have an inscription in the window.  In the window there is also an animation button.  It appears only when the object is recognized and animates the car in its own way. <br><br><cut></cut><h3>  Geolocation and POI </h3><br>  POI - points of interests, object marked with a pin. <br><br>  In our case, POI means an object that is too far from us.  When we are with him within a radius of 100 meters, he ceases to be for us a point in the world, and is transformed into a model inside the add.  reality and we get the opportunity to interact with it. <br><br>  The question arises: why not use the model immediately? <br><br>  As you saw in the game Pokemon go, Pokemon appear in front of you at a certain point.  It turns out that they are not tied to their geo-location, they are tied to your geo-position and you are for them the center of the universe (the point 0.0.0) from which it is read. <br><br><cut></cut>  This is due to several points, the most obvious - the GPS sensor, which indicates the objects by geo.  He is thrown 50 meters back and forth.  This was especially noticeable on the map when you were first on one side of the house, and then suddenly on the other. <br><br>  The second nuance is that we display the POI as a 2D image and its size does not depend on the distance to the point.  Otherwise, when working with 3D, it is necessary to calculate the dimensions and dynamically change as they approach, which in my opinion, makes work much more difficult. <br><br><cut></cut>  First of all, launch the geo tracking sensor: <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/9b46a224a0a1e0e1f360a45d8b771a11.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"><div id="gist84289450" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-geo_detection-js" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-javascript ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-geo_detection-js-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-geo_detection-js-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span> location updates, fired every time you call architectView.setLocation() in native environment</span></td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-geo_detection-js-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-en">locationChanged</span><span class="pl-k">:</span> <span class="pl-k">function</span> <span class="pl-en">locationChangedFn</span>(<span class="pl-smi">lat</span>, <span class="pl-smi">lon</span>, <span class="pl-smi">alt</span>, <span class="pl-smi">acc</span>) {</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-geo_detection-js-LC3" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-geo_detection-js-LC4" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span> (<span class="pl-k">!</span><span class="pl-smi">World</span>.<span class="pl-smi">initiallyLoadedData</span>) {</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-geo_detection-js-LC5" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-geo_detection-js-LC6" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">var</span> indicatorImage <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.ImageResource</span>(<span class="pl-s"><span class="pl-pds">"</span>assets/indi.png<span class="pl-pds">"</span></span>);</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-geo_detection-js-LC7" class="blob-code blob-code-inner js-file-line">        <span class="pl-smi">World</span>.<span class="pl-smi">indicatorDrawable</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.ImageDrawable</span>(indicatorImage, <span class="pl-c1">0.1</span>, {</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-geo_detection-js-LC8" class="blob-code blob-code-inner js-file-line">                                                           verticalAnchor<span class="pl-k">:</span> <span class="pl-c1">AR</span>.<span class="pl-c1">CONST</span>.<span class="pl-c1">VERTICAL_ANCHOR</span>.<span class="pl-c1">TOP</span></td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-geo_detection-js-LC9" class="blob-code blob-code-inner js-file-line">                                                       });</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-geo_detection-js-LC10" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-geo_detection-js-LC11" class="blob-code blob-code-inner js-file-line">        <span class="pl-smi">World</span>.<span class="pl-smi">targetLocation</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.GeoLocation</span>(<span class="pl-c1">59.000573</span>, <span class="pl-c1">30.334724</span>, <span class="pl-c1">AR</span>.<span class="pl-c1">CONST</span>.<span class="pl-c1">UNKNOWN_ALTITUDE</span>);</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-geo_detection-js-LC12" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-geo_detection-js-LC13" class="blob-code blob-code-inner js-file-line">        <span class="pl-smi">World</span>.<span class="pl-en">loadPoisFromJsonData</span>();</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-geo_detection-js-LC14" class="blob-code blob-code-inner js-file-line">        <span class="pl-smi">World</span>.<span class="pl-en">createModelAtLocation</span>();</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-geo_detection-js-LC15" class="blob-code blob-code-inner js-file-line">        <span class="pl-smi">World</span>.<span class="pl-smi">initiallyLoadedData</span> <span class="pl-k">=</span> <span class="pl-c1">true</span>;</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-geo_detection-js-LC16" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-geo_detection-js-LC17" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-geo_detection-js-LC18" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"><span class="pl-c">//</span> store user's current location in World.userLocation, so you always know where user is</span></td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-geo_detection-js-LC19" class="blob-code blob-code-inner js-file-line">    <span class="pl-smi">World</span>.<span class="pl-smi">userLocation</span> <span class="pl-k">=</span> {</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-geo_detection-js-LC20" class="blob-code blob-code-inner js-file-line">        <span class="pl-s"><span class="pl-pds">'</span>latitude<span class="pl-pds">'</span></span><span class="pl-k">:</span> lat,</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-geo_detection-js-LC21" class="blob-code blob-code-inner js-file-line">        <span class="pl-s"><span class="pl-pds">'</span>longitude<span class="pl-pds">'</span></span><span class="pl-k">:</span> lon,</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-geo_detection-js-LC22" class="blob-code blob-code-inner js-file-line">        <span class="pl-s"><span class="pl-pds">'</span>altitude<span class="pl-pds">'</span></span><span class="pl-k">:</span> alt,</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-geo_detection-js-LC23" class="blob-code blob-code-inner js-file-line">        <span class="pl-s"><span class="pl-pds">'</span>accuracy<span class="pl-pds">'</span></span><span class="pl-k">:</span> acc</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-geo_detection-js-LC24" class="blob-code blob-code-inner js-file-line">    };</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-geo_detection-js-LC25" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-geo_detection-js-LC26" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span> (<span class="pl-smi">World</span>.<span class="pl-smi">targetLocation</span>)</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-geo_detection-js-LC27" class="blob-code blob-code-inner js-file-line">    {</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-geo_detection-js-LC28" class="blob-code blob-code-inner js-file-line">        <span class="pl-smi">World</span>.<span class="pl-en">stateOnDistance</span>();</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-geo_detection-js-LC29" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-geo_detection-js-LC30" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">var</span> latDirection <span class="pl-k">=</span> <span class="pl-smi">World</span>.<span class="pl-smi">targetLocation</span>.<span class="pl-smi">latitude</span> <span class="pl-k">-</span> <span class="pl-smi">World</span>.<span class="pl-smi">userLocation</span>.<span class="pl-smi">latitude</span>;</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-geo_detection-js-LC31" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">var</span> lonDirection <span class="pl-k">=</span> <span class="pl-smi">World</span>.<span class="pl-smi">targetLocation</span>.<span class="pl-smi">longitude</span> <span class="pl-k">-</span> <span class="pl-smi">World</span>.<span class="pl-smi">userLocation</span>.<span class="pl-smi">longitude</span>;</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="file-geo_detection-js-LC32" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="file-geo_detection-js-LC33" class="blob-code blob-code-inner js-file-line">},</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="file-geo_detection-js-LC34" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="file-geo_detection-js-LC35" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">World</span>.<span class="pl-en">init</span>();</td>
      </tr>
      <tr>
        <td id="file-geo_detection-js-L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="file-geo_detection-js-LC36" class="blob-code blob-code-inner js-file-line"><span class="pl-c1">AR</span>.<span class="pl-smi">context</span>.<span class="pl-smi">onLocationChanged</span> <span class="pl-k">=</span> <span class="pl-smi">World</span>.<span class="pl-smi">locationChanged</span>;</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">geo_detection.js</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br>  Next, we need to do a few things: <br><br>  - Add point of interest.  We do this in the loadPoisFromJsonData method <br>  - Add 3D model.  Above we have already done it.  Now we just wrap the createModelAtLocation () function and add a trigger + attach it to the geo. <br>  - Track the distance to a given point and take appropriate action. <br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/ca7fa1ffd5544ad825501fd18748a98c.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"><div id="gist84289773" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-main_detection-js" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-javascript ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-main_detection-js-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-main_detection-js-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span> inject poi</span></td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-main_detection-js-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-en">loadPoisFromJsonData</span><span class="pl-k">:</span> <span class="pl-k">function</span> <span class="pl-en">loadPoisFromJsonDataFn</span>() {</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-main_detection-js-LC3" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">var</span> markerAsset <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.ImageResource</span>(<span class="pl-s"><span class="pl-pds">"</span>assets/marker_idle.png<span class="pl-pds">"</span></span>);</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-main_detection-js-LC4" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">var</span> markerImageDrawable_idle <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.ImageDrawable</span>(markerAsset, <span class="pl-c1">2.5</span>, {</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-main_detection-js-LC5" class="blob-code blob-code-inner js-file-line">                                                            zOrder<span class="pl-k">:</span> <span class="pl-c1">0</span>,</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-main_detection-js-LC6" class="blob-code blob-code-inner js-file-line">                                                            opacity<span class="pl-k">:</span> <span class="pl-c1">1.0</span></td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-main_detection-js-LC7" class="blob-code blob-code-inner js-file-line">                                                        });</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-main_detection-js-LC8" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-main_detection-js-LC9" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span>  geo object   .      ,     </span></td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-main_detection-js-LC10" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">World</span>.<span class="pl-smi">targetPOIObject</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.GeoObject</span>(<span class="pl-smi">World</span>.<span class="pl-smi">targetLocation</span>, {</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-main_detection-js-LC11" class="blob-code blob-code-inner js-file-line">                                        drawables<span class="pl-k">:</span> {</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-main_detection-js-LC12" class="blob-code blob-code-inner js-file-line">                                            cam<span class="pl-k">:</span> [markerImageDrawable_idle],</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-main_detection-js-LC13" class="blob-code blob-code-inner js-file-line">                                            indicator<span class="pl-k">:</span> [<span class="pl-smi">World</span>.<span class="pl-smi">indicatorDrawable</span>]</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-main_detection-js-LC14" class="blob-code blob-code-inner js-file-line">                                        }</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-main_detection-js-LC15" class="blob-code blob-code-inner js-file-line">                                    });</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-main_detection-js-LC16" class="blob-code blob-code-inner js-file-line">},</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-main_detection-js-LC17" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-main_detection-js-LC18" class="blob-code blob-code-inner js-file-line"><span class="pl-en">createModelAtLocation</span><span class="pl-k">:</span> <span class="pl-k">function</span> <span class="pl-en">createModelAtLocationFn</span>() {</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-main_detection-js-LC19" class="blob-code blob-code-inner js-file-line">    modelAsset <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.Model</span>(<span class="pl-s"><span class="pl-pds">"</span>assets/car.wt3<span class="pl-pds">"</span></span>, {</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-main_detection-js-LC20" class="blob-code blob-code-inner js-file-line">         onLoaded<span class="pl-k">:</span> <span class="pl-c1">this</span>.<span class="pl-smi">onModelLoaded</span>,</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-main_detection-js-LC21" class="blob-code blob-code-inner js-file-line">         onClick<span class="pl-k">:</span> <span class="pl-c1">this</span>.<span class="pl-smi">onModelClick</span>,</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-main_detection-js-LC22" class="blob-code blob-code-inner js-file-line">         scale<span class="pl-k">:</span> {</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-main_detection-js-LC23" class="blob-code blob-code-inner js-file-line">             x<span class="pl-k">:</span> <span class="pl-c1">0.6</span>,</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-main_detection-js-LC24" class="blob-code blob-code-inner js-file-line">             y<span class="pl-k">:</span> <span class="pl-c1">0.6</span>,</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-main_detection-js-LC25" class="blob-code blob-code-inner js-file-line">             z<span class="pl-k">:</span> <span class="pl-c1">0.6</span></td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-main_detection-js-LC26" class="blob-code blob-code-inner js-file-line">         },</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-main_detection-js-LC27" class="blob-code blob-code-inner js-file-line">    });</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-main_detection-js-LC28" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-main_detection-js-LC29" class="blob-code blob-code-inner js-file-line">   <span class="pl-c"><span class="pl-c">//</span>     </span></td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-main_detection-js-LC30" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">var</span> relativeLoc <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.RelativeLocation</span>(<span class="pl-c1">null</span>, <span class="pl-c1">4</span>, <span class="pl-c1">0</span>, <span class="pl-k">-</span><span class="pl-c1">4</span>);</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-main_detection-js-LC31" class="blob-code blob-code-inner js-file-line">    <span class="pl-smi">World</span>.<span class="pl-smi">targetGeoObject</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.GeoObject</span>(relativeLoc, {</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="file-main_detection-js-LC32" class="blob-code blob-code-inner js-file-line">       drawables<span class="pl-k">:</span> {</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="file-main_detection-js-LC33" class="blob-code blob-code-inner js-file-line">           cam<span class="pl-k">:</span> [modelAsset],</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="file-main_detection-js-LC34" class="blob-code blob-code-inner js-file-line">           indicator<span class="pl-k">:</span> [<span class="pl-smi">World</span>.<span class="pl-smi">indicatorDrawable</span>]</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="file-main_detection-js-LC35" class="blob-code blob-code-inner js-file-line">       }</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="file-main_detection-js-LC36" class="blob-code blob-code-inner js-file-line">   });</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L37" class="blob-num js-line-number" data-line-number="37"></td>
        <td id="file-main_detection-js-LC37" class="blob-code blob-code-inner js-file-line">},</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L38" class="blob-num js-line-number" data-line-number="38"></td>
        <td id="file-main_detection-js-LC38" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L39" class="blob-num js-line-number" data-line-number="39"></td>
        <td id="file-main_detection-js-LC39" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span>   ,     ,  ,   poi</span></td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L40" class="blob-num js-line-number" data-line-number="40"></td>
        <td id="file-main_detection-js-LC40" class="blob-code blob-code-inner js-file-line"><span class="pl-en">stateOnDistance</span><span class="pl-k">:</span> <span class="pl-k">function</span> <span class="pl-en">stateOnDistanceFn</span>() {</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L41" class="blob-num js-line-number" data-line-number="41"></td>
        <td id="file-main_detection-js-LC41" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">var</span> distance <span class="pl-k">=</span> <span class="pl-smi">World</span>.<span class="pl-smi">targetLocation</span>.<span class="pl-en">distanceToUser</span>();</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L42" class="blob-num js-line-number" data-line-number="42"></td>
        <td id="file-main_detection-js-LC42" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L43" class="blob-num js-line-number" data-line-number="43"></td>
        <td id="file-main_detection-js-LC43" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">var</span> e <span class="pl-k">=</span> <span class="pl-c1">document</span>.<span class="pl-c1">getElementById</span>(<span class="pl-s"><span class="pl-pds">'</span>loadingMessage<span class="pl-pds">'</span></span>);</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L44" class="blob-num js-line-number" data-line-number="44"></td>
        <td id="file-main_detection-js-LC44" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span> (distance <span class="pl-k">&lt;</span> <span class="pl-c1">100</span>)</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L45" class="blob-num js-line-number" data-line-number="45"></td>
        <td id="file-main_detection-js-LC45" class="blob-code blob-code-inner js-file-line">    {</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L46" class="blob-num js-line-number" data-line-number="46"></td>
        <td id="file-main_detection-js-LC46" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">if</span> (<span class="pl-smi">World</span>.<span class="pl-smi">targetGeoObject</span> <span class="pl-k">!=</span> <span class="pl-c1">true</span>)</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L47" class="blob-num js-line-number" data-line-number="47"></td>
        <td id="file-main_detection-js-LC47" class="blob-code blob-code-inner js-file-line">        {</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L48" class="blob-num js-line-number" data-line-number="48"></td>
        <td id="file-main_detection-js-LC48" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">World</span>.<span class="pl-smi">targetGeoObject</span>.<span class="pl-smi">enabled</span> <span class="pl-k">=</span> <span class="pl-c1">true</span>;</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L49" class="blob-num js-line-number" data-line-number="49"></td>
        <td id="file-main_detection-js-LC49" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">World</span>.<span class="pl-smi">targetPOIObject</span>.<span class="pl-smi">enabled</span> <span class="pl-k">=</span> <span class="pl-c1">false</span>;</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L50" class="blob-num js-line-number" data-line-number="50"></td>
        <td id="file-main_detection-js-LC50" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">e</span>.<span class="pl-smi">innerHTML</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>   !   !<span class="pl-pds">"</span></span>;</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L51" class="blob-num js-line-number" data-line-number="51"></td>
        <td id="file-main_detection-js-LC51" class="blob-code blob-code-inner js-file-line">        }</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L52" class="blob-num js-line-number" data-line-number="52"></td>
        <td id="file-main_detection-js-LC52" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L53" class="blob-num js-line-number" data-line-number="53"></td>
        <td id="file-main_detection-js-LC53" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">else</span></td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L54" class="blob-num js-line-number" data-line-number="54"></td>
        <td id="file-main_detection-js-LC54" class="blob-code blob-code-inner js-file-line">    {</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L55" class="blob-num js-line-number" data-line-number="55"></td>
        <td id="file-main_detection-js-LC55" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">if</span> (<span class="pl-smi">World</span>.<span class="pl-smi">targetPOIObject</span> <span class="pl-k">!=</span> <span class="pl-c1">true</span>)</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L56" class="blob-num js-line-number" data-line-number="56"></td>
        <td id="file-main_detection-js-LC56" class="blob-code blob-code-inner js-file-line">        {</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L57" class="blob-num js-line-number" data-line-number="57"></td>
        <td id="file-main_detection-js-LC57" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">World</span>.<span class="pl-smi">targetGeoObject</span>.<span class="pl-smi">enabled</span> <span class="pl-k">=</span> <span class="pl-c1">false</span>;</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L58" class="blob-num js-line-number" data-line-number="58"></td>
        <td id="file-main_detection-js-LC58" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">World</span>.<span class="pl-smi">targetPOIObject</span>.<span class="pl-smi">enabled</span> <span class="pl-k">=</span> <span class="pl-c1">true</span>;</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L59" class="blob-num js-line-number" data-line-number="59"></td>
        <td id="file-main_detection-js-LC59" class="blob-code blob-code-inner js-file-line">        }</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L60" class="blob-num js-line-number" data-line-number="60"></td>
        <td id="file-main_detection-js-LC60" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L61" class="blob-num js-line-number" data-line-number="61"></td>
        <td id="file-main_detection-js-LC61" class="blob-code blob-code-inner js-file-line">        <span class="pl-smi">e</span>.<span class="pl-smi">innerHTML</span> <span class="pl-k">=</span> distance <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span> <span class="pl-pds">"</span></span>;</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L62" class="blob-num js-line-number" data-line-number="62"></td>
        <td id="file-main_detection-js-LC62" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L63" class="blob-num js-line-number" data-line-number="63"></td>
        <td id="file-main_detection-js-LC63" class="blob-code blob-code-inner js-file-line">},</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L64" class="blob-num js-line-number" data-line-number="64"></td>
        <td id="file-main_detection-js-LC64" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L65" class="blob-num js-line-number" data-line-number="65"></td>
        <td id="file-main_detection-js-LC65" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L66" class="blob-num js-line-number" data-line-number="66"></td>
        <td id="file-main_detection-js-LC66" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">var</span> relativeLoc <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.RelativeLocation</span>(<span class="pl-c1">null</span>, <span class="pl-c1">4</span>, <span class="pl-c1">0</span>, <span class="pl-k">-</span><span class="pl-c1">4</span>);</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L67" class="blob-num js-line-number" data-line-number="67"></td>
        <td id="file-main_detection-js-LC67" class="blob-code blob-code-inner js-file-line">    <span class="pl-smi">World</span>.<span class="pl-smi">targetGeoObject</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.GeoObject</span>(relativeLoc, {</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L68" class="blob-num js-line-number" data-line-number="68"></td>
        <td id="file-main_detection-js-LC68" class="blob-code blob-code-inner js-file-line">       drawables<span class="pl-k">:</span> {</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L69" class="blob-num js-line-number" data-line-number="69"></td>
        <td id="file-main_detection-js-LC69" class="blob-code blob-code-inner js-file-line">           cam<span class="pl-k">:</span> [modelAsset],</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L70" class="blob-num js-line-number" data-line-number="70"></td>
        <td id="file-main_detection-js-LC70" class="blob-code blob-code-inner js-file-line">           indicator<span class="pl-k">:</span> [<span class="pl-smi">World</span>.<span class="pl-smi">indicatorDrawable</span>]</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L71" class="blob-num js-line-number" data-line-number="71"></td>
        <td id="file-main_detection-js-LC71" class="blob-code blob-code-inner js-file-line">       }</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L72" class="blob-num js-line-number" data-line-number="72"></td>
        <td id="file-main_detection-js-LC72" class="blob-code blob-code-inner js-file-line">   });</td>
      </tr>
      <tr>
        <td id="file-main_detection-js-L73" class="blob-num js-line-number" data-line-number="73"></td>
        <td id="file-main_detection-js-LC73" class="blob-code blob-code-inner js-file-line">},</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">main_detection.js</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br><img src="https://habrastorage.org/getpro/habr/post_images/ddd/880/2be/ddd8802be7e13ecdaa715c876f364728.png" alt="image"><br>  <i>At a distance from us we see POI</i> <i><br></i> <br><img src="https://habrastorage.org/getpro/habr/post_images/3d0/987/7dc/3d09877dc92a67ac3f11e719b96d4b31.png" alt="image"><br>  <i>Zoom in on the object and see a 3D model with a constant rotation animation.</i> <br><br>  Let's summarize our work on the case.  Here is what we got: <br><br>  - Pattern recognition. <br>  - Overlay animation on the 3D model in the place of recognition. <br>  - A 3D model that is far away from us by geography and is reflected in the form of POI. <br>  - Transformation of POI in a 3D model when approaching. <br>  - Processing clicks, display labels. <br>  - 3D model instead of geo-referencing is attached to our geo-location and is located relative to us. <br><br><cut></cut>  At the same time, we absolutely had no problems with loading the image for recognition or loading the 3D model / animation.  The whole process is intuitive and simple. <br><br>  I hope you can find a useful application for everything I wrote.  I understand that this is not the only option.  Therefore, I will be glad to your suggestions in the comments. <br><br>  All augmented reality, peace and chewing gum! <br><br><cut></cut>  <b>PS</b> <br>  Initially, I did not even dare to think that the topic would stretch into three articles.  The paradox is that this is not all.  This area is extremely interesting and difficult.  Just yesterday, Google announced the closure of Google Tango, because it was no longer necessary, because ARCore and so wonderful copes with the task.  Well, what's going on in the market of neural networks here and can not say. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f3c/554/f6e/f3c554f6e428c947441d6d238d10cafa.jpg" alt="image"><br><br>  Author: Vitaly Zarubin, Senior Development Engineer <a href="http://www.reksoft.com/ru/">Reksoft</a> </div><p>Source: <a href="https://habr.com/ru/post/345062/">https://habr.com/ru/post/345062/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../345050/index.html">Micromodule data centers - solution for small VPS / VDS providers</a></li>
<li><a href="../345052/index.html">Focus groups for user research: participant's impressions, criticism and adaptation of the method</a></li>
<li><a href="../345056/index.html">Exfiltration in Metasploit: DNS Tunnel for Meterpreter</a></li>
<li><a href="../345058/index.html">Another theft through SWIFT. Now in Russia</a></li>
<li><a href="../345060/index.html">Top 10 React Libraries on GitHub</a></li>
<li><a href="../345064/index.html">First look at the RPG: it turns out, this is not only role-playing games</a></li>
<li><a href="../345066/index.html">How we overcame iron obstacles in test automation</a></li>
<li><a href="../345070/index.html">On the wave of mining. New virus distributed through Facebook</a></li>
<li><a href="../345072/index.html">Good news for the webmaster: Hamster Marketplace placed an offer on the RunCPA site</a></li>
<li><a href="../345074/index.html">How not to drown in the landing: the history of the creation of the Japanese CarPrice</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>