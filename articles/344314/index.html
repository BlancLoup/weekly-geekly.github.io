<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Dagger 2 for novice Android developers. Dagger 2. Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article is the fourth part of a series of articles, which, according to the author, are intended for those who cannot understand the implementati...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Dagger 2 for novice Android developers. Dagger 2. Part 1</h1><div class="post__text post__text-html js-mediator-article">  <i>This article is the <b>fourth</b> part of a series of articles, which, according to the author, are intended for those who cannot understand the <a href="https://en.wikipedia.org/wiki/Dependency_injection">implementation of dependencies</a> and the <a href="https://google.github.io/dagger/users-guide.html">Dagger 2</a> framework, or are only going to do it.</i>  <i>The original was written on December 10, 2017.</i>  <i>Free translation.</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b9f/c21/449/b9fc21449f6b48f4e9518486148121c4.jpg" alt="image"><br><a name="habracut"></a><br>  This is the fourth article in the series <i>"Dagger 2 for novice Android developers."</i> .  If you have not read the previous, then you <a href="https://habrahabr.ru/post/343248/">here</a> . <br><br><h4>  Article series </h4><br><ul><li>  <a href="https://habrahabr.ru/post/343248/">Dagger 2 for novice Android developers.</a>  <a href="https://habrahabr.ru/post/343248/">Introduction</a> </li><li>  <a href="https://habrahabr.ru/post/343250/">Dagger 2 for novice Android developers.</a>  <a href="https://habrahabr.ru/post/343250/">The introduction of dependencies.</a>  <a href="https://habrahabr.ru/post/343250/">Part 1</a> . </li><li>  <a href="https://habrahabr.ru/post/343658/">Dagger 2 for novice Android developers.</a>  <a href="https://habrahabr.ru/post/343658/">The introduction of dependencies.</a>  <a href="https://habrahabr.ru/post/343658/">Part 2</a> . </li><li>  <a href="https://habrahabr.ru/post/344314/">Dagger 2 for novice Android developers.</a>  <a href="https://habrahabr.ru/post/344314/">Dagger 2. Part 1 (you are here)</a> . </li><li>  <a href="https://habrahabr.ru/post/344886/">Dagger 2 for novice Android developers.</a>  <a href="https://habrahabr.ru/post/344886/">Dagger 2. Part 2</a> . </li><li>  <a href="https://habrahabr.ru/post/345372/">Dagger 2 for novice Android developers.</a>  <a href="https://habrahabr.ru/post/345372/">Dagger 2. Advanced.</a> <a href="https://habrahabr.ru/post/345372/"><br></a>  <a href="https://habrahabr.ru/post/345372/">Part 1</a> . </li><li>  <a href="https://habrahabr.ru/post/345898/">Dagger 2 for novice Android developers.</a>  <a href="https://habrahabr.ru/post/345898/">Dagger 2. Advanced.</a> <a href="https://habrahabr.ru/post/345898/"><br></a>  <a href="https://habrahabr.ru/post/345898/">Part 2.</a> </li></ul><br><h4>  Earlier in the series of articles </h4><br>  In the last article, we realized that a class should not create dependencies.  Instead, he should receive them outside. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      We also looked at a simple example of dependency injection in action.  They took the example of the battle of bastards and tried to get rid of hard connections <i>(hard dependencies)</i> through the introduction of dependencies. <br><br><h4>  How can dependency injection get complicated? </h4><br>  If the project is as simple as the previously reviewed example, then creating instances and manually <code>onCreate()</code> small number of dependencies through the entry point ( <code>main()</code> or <code>onCreate()</code> method) into the program is very reasonable.  However, in many projects there are many classes, each of which has different dependencies that must be satisfied.  Creating an instance and connecting everything together takes a large amount of code.  Even worse, this code will constantly change every time new classes are added to the application and existing classes change to introduce new dependencies. <br><br>  To illustrate the problem described, let's complicate our example a little.  During the war, the battle of bastards ( <code>BattleOfBastards</code> ) will probably need the help of the Allies ( <code>Allies</code> ).  Also, the Iron Bank ( <code>IronBank</code> ) will finance the house.  The modified main method will be as follows: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BattleOfBastards</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span></span>{ IronBank bank = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> IronBank(); Allies allies = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Allies(bank); Starks starks = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Starks(allies, bank); Boltons boltons = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Boltons(allies, bank); War war = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> War(starks, boltons); war.prepare(); war.report(); } }</code> </pre><br>  Very quickly, the entry point into the application will be filled with a huge amount of code to initialize all dependencies.  To create one class with which we will work, you need to initialize several others.  As the application grows and new classes are added to it, the entry point into the application will swell and eventually this method will become very difficult to maintain. <br><br><h4>  Dagger 2 to the rescue </h4><br>  Dagger 2 is one of the open source frameworks for dependency injection (I‚Äôll use DI from Dependency Injection), which generates a large amount of generic code for you.  Why is he better than others?  Now it is the only DI framework that generates fully traceable Java code that simulates the code that you could write manually.  This means that there is no magic in building a dependency graph.  Dagger 2 is less dynamic than others (it does not use reflection), but the simplicity and performance of the generated code are at the same level as that of the handwritten code.  In short, Dagger 2 generates all the template code for dependency injection for you. <br><br>  Manual dependency injection management is like dragon glass mining.  First, you get permission from the Queen of Dragons, then forge weapons, and only then go to fight with the White Walkers (problems of strong ties).  Dagger 2 is like a Valyrian sword - it was created by craftsmen, and all you need is just to use it. <br><br><div class="spoiler">  <b class="spoiler_title">media</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/2f6/c30/672/2f6c306723753af7c5a26601598d00a4.gif" alt="image"><br></div></div><br><h2>  Understanding Annotation Processors </h2><br><h4>  # Annotations </h4><br>  Annotations are a kind of metadata that can be associated with classes, methods, fields, and even other annotations.  Annotations are used in Java to provide additional information as an alternative to XML or marker interfaces (empty interfaces).  Annotations can also be accessed during program execution <i>(runtime)</i> through the reflection mechanism. <br><br><h4>  # Annotation Processors </h4><br>  Annotation handlers are code generators that hide template code from you, creating it for you at compile time.  As long as these actions are performed at compile time, there is no negative impact on performance. <br><br><h4>  # Why should I know about annotation handlers? </h4><br>  Dagger 2 uses them.  Thus, it is possible to track all the generated code during compilation.  Therefore, there is no performance degradation, and errors are easily tracked. <br><br><h4>  Examples </h4><br>  You often see the <code>@Override</code> annotation in classes.  If you used <a href="http://jakewharton.github.io/butterknife/">Butterknife</a> , <code>@BindView</code> is also an annotation that hides behind itself some metadata that helps generate code. <br><br><h2>  Dagger 2 Annotations </h2><br>  Consider some Dagger 2 annotations before using it.  Now <code>@Inject</code> focus on the two - <code>@Inject</code> and <code>@Component</code> . <br><br><h4> <code>@Inject</code> </h4> <br>  This is the most important annotation.  JSR-330 defines this annotation as a label for dependencies that must be provided by the framework for dependency injection. <br><br><ul><li>  Constructor Injection using the constructor is used with the class constructor. </li><li>  Field Injection ‚Äî Used with class fields. </li><li>  Implementation using the method (Method Injection) - used with methods </li></ul><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Starks</span></span></span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** *    *  Inject  Dagger **/</span></span> <span class="hljs-comment"><span class="hljs-comment">//Feild injection @Inject Allies allies; //Constructor injection @Inject public Starks(){ // -  } //Method injection @Inject private void prepareForWar(){ // -  } }</span></span></code> </pre><br>  In other words, the <code>@Inject</code> annotation will tell Dagger which dependencies should be provided to the dependent object.  It's like the agents of the iron bank, who negotiate with the houses and determine the amount of credit that they can provide the house. <br><br><h4> <code>@Component</code> </h4> <br>  This annotation is used for an interface that integrates all parts of the dependency injection process.  When using this annotation, we determine from which modules or other components dependencies will be taken.  Also here you can determine which dependencies will be visible openly (can be embedded) and where the component can embed objects.  <code>@Component</code> , in general, is something like a bridge between <code>@Module</code> (consider this annotation later) and <code>@Inject</code> . <br><br>  In other words, this annotation is like an agent of an iron bank who is responsible for approving a loan and transferring money to the appropriate account. <br><br><h2>  Kill the White Walkers with a Valirian sword </h2><br>  Let's use Dagger 2 for an example with the battle of the bastards.  In this example, we need two dependencies for the <code>War</code> class - <code>Starks</code> and <code>Boltons</code> . <br><br><h4>  Dagger 2 Setup </h4><br>  To configure Dagger 2 in IntelliJ Idea, use the <code>build.gradle</code> file from the <a href="https://github.com/Hariofspades/Dagger-2-For-Android-Beginners/tree/Example_1_Dagger2">branch of</a> my project.  Also make sure that the annotation processing is enabled (File -&gt; Settings -&gt; Build, execution and deployment -&gt; Compiler -&gt; Annotation Processing -&gt; Enable annotation processing (the flag should be checked)).  Do not forget to note this: File -&gt; Settings -&gt; Build, execution and deployment -&gt; Gradle -&gt; Runner -&gt; Delegate IDE build / run to cradle. <br><br><h4>  Adding <code>@Inject</code> annotation </h4><br>  The plan is to inject the <code>Starks</code> and <code>Boltons</code> into the <code>War</code> class with the help of Dagger 2. What we should explicitly tell him.  Below is an example of how to do this using an implementation using a constructor. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Boltons</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">House</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Inject</span></span> <span class="hljs-comment"><span class="hljs-comment">//Dagger 2 public Boltons(){ } @Override public void prepareForWar() { // -  System.out.println(this.getClass().getSimpleName()+" prepared for war"); } @Override public void reportForWar() { // -  System.out.println(this.getClass().getSimpleName()+" reporting.."); } }</span></span></code> </pre><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Starks</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">House</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Inject</span></span> <span class="hljs-comment"><span class="hljs-comment">//Dagger 2 public Starks(){ } @Override public void prepareForWar() { // -  System.out.println(this.getClass().getSimpleName()+" prepared for war"); } @Override public void reportForWar() { // -  System.out.println(this.getClass().getSimpleName()+" reporting.."); } }</span></span></code> </pre><br>  These two dependencies are used in the constructor of the <code>War</code> class, where we must note this. <br><br>  <i>The plan is to make a dependency or object of class <code>War</code></i> <i><br></i>  <i>available to all other classes.</i>  <i>But for the class to work, <code>War</code> needs to provide him with two classes on which he depends - <code>Starks</code> and <code>Boltons</code> .</i> <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">War</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Starks <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Boltons boltons; <span class="hljs-meta"><span class="hljs-meta">@Inject</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">War</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Starks starks, Boltons bolton)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.starks = starks; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.boltons = bolton; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">prepare</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ starks.prepareForWar(); boltons.prepareForWar(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">report</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ starks.reportForWar(); boltons.reportForWar(); } }</code> </pre><br><h4>  Adding <code>@Component</code> annotation </h4><br>  As we learned earlier, <code>@Component</code> is a bridge between generated code and dependencies.  Also <code>@Component</code> tells Dagger 2 how to <code>@Component</code> dependency.  Let's make the <code>BattleComponent</code> interface inside the <code>BattleOfBastards</code> class (can be done separately). <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Component</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BattleComponent</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">War </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getWar</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; }</code> </pre><br>  This interface will be implemented by a class that Dagger 2 will generate, and the <code>getWar()</code> function will return an instance of <code>War</code> that we can use in the right place. <br><br>  <i><b>Now you need to rebuild the project!</b></i> <br><br>  After building the project, you will see that Dagger 2 has generated a class called <code>DaggerBattleComponent</code> - it will help us implement the <code>War</code> class.  Use this class to get a copy of <code>War</code> . <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Component</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BattleComponent</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">War </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getWar</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BattleOfBastards</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span></span>{ <span class="hljs-comment"><span class="hljs-comment">//    // Starks starks = new Starks(); // Boltons boltons = new Boltons(); // War war = new War(starks,boltons); // war.prepare(); // war.report(); //  Dagger 2 BattleComponent component = DaggerBattleComponent.create(); War war = component.getWar(); war.prepare(); war.report(); } }</span></span></code> </pre><br>  Using the <code>DaggerBattleComponent</code> class we can use the <code>getWar()</code> method, which returns an instance of <code>War</code> that embeds the <code>Starks</code> and <code>Boltons</code> . <br><br>  Congratulations!  You created the first project using Dagger 2. I really appreciate you taking the time to go so far.  Time to celebrate. <br><br><h2>  Summary </h2><br>  We discussed how using DI manually complicates the work and increases the amount of template code.  We further discussed how Dagger 2 helps us get rid of this pain and generates template code itself. <br><br>  After we have analyzed the information on the annotation processors and the basic annotations of Dagger 2 ( <code>@Inject</code> and <code>@Component</code> ).  Then we applied annotations in our example and implemented dependencies using Dagger 2. <br><br><h2>  What's next? </h2><br>  In the next article, we will work with the classes that Dagger 2 generates and look at the other annotations of this framework.  The next article will be released in a week. </div><p>Source: <a href="https://habr.com/ru/post/344314/">https://habr.com/ru/post/344314/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../344302/index.html">Multi-ary functions in Java</a></li>
<li><a href="../344304/index.html">Language Lua and Corona SDK (1/3 part)</a></li>
<li><a href="../344306/index.html">Life at the Unity Asset Store. Briefly</a></li>
<li><a href="../344310/index.html">Fake design</a></li>
<li><a href="../344312/index.html">Language Lua and Corona SDK (2/3 part)</a></li>
<li><a href="../344320/index.html">Sparse matrices: how scientists accelerated machine learning on the GPU</a></li>
<li><a href="../344324/index.html">Continuous integration and deployment of Docker in GitLab CI</a></li>
<li><a href="../344326/index.html">Introduction to VxLAN</a></li>
<li><a href="../344328/index.html">Accelerate the site. How to understand if this is relevant for your site</a></li>
<li><a href="../344330/index.html">The digest of interesting materials for the mobile developer # 233 (December 4 - December 10)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>