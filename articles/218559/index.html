<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>lemongrab: web forms validation plugin</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day. 
 In this topic, I will talk about a convenient jQuery plugin for validating web forms, simple and powerful, moreover, it is completely redu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>lemongrab: web forms validation plugin</h1><div class="post__text post__text-html js-mediator-article">  Good day. <br>  In this topic, I will talk about a convenient jQuery plugin for validating web forms, simple and powerful, moreover, it is completely redundant.  If you are not interested in the details of the creation and comparison with analogues (more precisely, with an analog), see the end of the topic, there is a link to examples and source code. <br><br>  Some time ago I had to refine the client-side of the resource, including just an incredible number of questionnaire forms.  One of the unpleasant features of these forms was the eerie number of different types of input validation rules and an even greater number of relationships between fields. <br>  Example: if the checkbox A is selected, then only numbers can be entered in the X field, and the Y field should be hidden, but if the Z radio button is additionally selected, then the Y field should be shown, and everything except numbers can be entered in the X field. <br>  In other words - a living hell, born unhealthy mind marketers. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e41/e47/850/e41e478503b973748623a6185fa022c2.png" title="UNACCEPTABLE !!!"><br><a name="habracut"></a><br>  Despite the fact that there are a considerable number of ways to validate the contents of input fields (up to standard browser ... only, unfortunately, not cross-browser), there was only one suitable client solution that allowed to establish <b>complex</b> relationships between <b>several</b> fields - the <a href="http://zforms.ru/">ZForms</a> framework, which was originally used on the resource.  Perhaps, on the fact that he was able to do it, his advantages ended and then solid cons began: <br>  - An unobvious and inconvenient way of setting validation rules in the onclick (!) Handler.  There is still an undocumented way of setting these rules through XML-like inserts directly into the code of the page, but this is even more terrifying. <br>  - The framework modifies the DOM tree, while requiring special conditions for its structure.  For example, the property that is changed during validation is not applied to the field, but ... to its ancestor of the second (!!) order, which had to be taken into account during layout. <br>  - Validated controls, in fact, are replaced by the framework widgets, even where it is not required.  In most cases this means that it is impossible to use any other means of working with the field.  Do not describe in words how much evil I generated by crossing the ZForms with the jQuery UI ... <br>  - Disgusting event model work.  ZForms works only with the events of its own widgets, and you can only subscribe to them.  It got to the point that you had to hang up checking the validity of the timer. <br>  - A bunch of bugs (getting out, as usual, already on production), which had to be corrected by getting into the minimized code of the framework, or by crushing this code with their own. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      And, in the end, the latest version of ZForms was released in 2009, and its jQuery version did not want to work with the latest versions of the library at all. <br>  In general, there was clearly the case when it was necessary to roll up the sleeves and solve the problem from scratch.  I did this by writing jquery.lemongrab. <br><br>  The main ideas of lemongrab are: <br>  - The plugin is not trying to be something that it is not.  He does one task, but he does it well. <br>  - The plugin uses the features of HTML5, while leaving the opportunity to work on older browsers. <br>  - Validation is set most conveniently for a particular case. <br>  - Plugin does not conflict with other handlers. <br><br>  The work of the plugin was tested on all modern and not very browsers, both desktop and mobile.  As a result, it all depends on the version of jQuery used - problems (however, easily solved) arose only on IE less than version 9. <br><br><h1>  What can lemongrab do? </h1><br>  - The plugin is able to check the status of any input fields, and depending on the specified rules, change the state of the elements (the same, or any other).  Changeable states: validity, commitment, accessibility, visibility. <br>  If everything is clear with accessibility and visibility (this is, respectively, an attribute of the enabled and css-property display), then about the validity and commitment should be explained.  Both are peeped in the same ZForms;  in essence, these attributes are simply classes added to the field in case it is valid / non-valid and in case it must be filled in (in this case the HTML5 attribute is also required).  The plugin will not give a form in which there are fields with such attributes (although this is configurable). <br>  - The plugin has a simple and obvious event model.  An event happened, say, an element became valid, - an event lemongrab.valid was generated for it.  Has ceased to be valid - lemongrab.novalid has been generated. <br>  - The rules are set in JSON, which can be registered both directly in the data attribute of the element being validated and loaded when the plug-in is initialized.  The first is convenient to set the rules directly in the page code, the last - when removing the rules to a separate file (ZForms, by the way, does not know how). <br>  - For validation, simple properties can be used (for example, checked / unchecked for checkbox), regular expressions, the state of field sets, and even jQuery selectors.  If this is not enough, you can use a custom function to check the status. <br>  - The number of rules for an element is unlimited, and they can be combined in any way.  The plugin can set the logic of combining rules (and / or / not), for more complex options there are all the same user-defined functions. <br>  - In the plugin a lot of any small extra plush described in the documentation. <br><br>  What does this look like? <br>  A couple of illustrative examples: <br><br>  The field will be valid (it will add the class ACCEPTABLE), if its contents match the regexp: <br><br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sample"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-rule-valid</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'[{"key":"regexp","value":"^.{1,5}$"}]'</span></span></span><span class="hljs-tag"> /&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">code</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript">$(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#sample"</span></span></span><span class="javascript">).lemongrab();</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  The field # id2 will be available for input if the second radio button is selected: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sample"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fieldset</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"selectbox"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"radio"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"test"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"radio"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"test"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"2"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"radio"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"test"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"3"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"3"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"radio"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"test"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"4"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"4"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fieldset</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-rule-enabled</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'[{"key":"c", "selector":"#3"}]'</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript">$(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#sample1"</span></span></span><span class="javascript">).lemongrab();</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  <a href="http://pozitronik.me/lemongrab">Documentation and interactive examples</a> . <br><br>  Since I wrote this thing, my life has become deceptive and loving, which I wish you, and therefore I am putting the code in open access: the <a href="https://github.com/pozitronik/jquery.lemongrab">repository on github</a> . </div><p>Source: <a href="https://habr.com/ru/post/218559/">https://habr.com/ru/post/218559/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../218547/index.html">Update for Nokia Asha platform released</a></li>
<li><a href="../218549/index.html">Presetting Mozilla products for corporate environments is easy.</a></li>
<li><a href="../218551/index.html">How do we build the information protection of Russia</a></li>
<li><a href="../218553/index.html">Jump Start on April 8th. Data Center Virtualization with Windows Server 2012 R2 and System Center 2012 R2. Configure virtualization hosts</a></li>
<li><a href="../218557/index.html">Start-up screensavers of all SNES-games in a single 9-hour video (+ video for NES-games)</a></li>
<li><a href="../218561/index.html">All about motivation</a></li>
<li><a href="../218563/index.html">bcat: viewing console output in a browser</a></li>
<li><a href="../218565/index.html">Azure News Digest: all announcements of the Build 2014 conference</a></li>
<li><a href="../218567/index.html">Perfeo 1019-IPS - budget wagon</a></li>
<li><a href="../218569/index.html">Raspberry Pi Compute Module: ‚Äúraspberry‚Äù with the size of the memory bar of a laptop from the creators of Raspberry Pi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>