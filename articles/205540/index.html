<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>AutoOffice - a view from the inside</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the last article, ‚ÄúQuick Start of Sales for Internet Business,‚Äù a brief review was made of the key features of AvtoOffice. 

 Today I will try to g...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>AutoOffice - a view from the inside</h1><div class="post__text post__text-html js-mediator-article">  In the last article, ‚ÄúQuick Start of Sales for Internet Business,‚Äù a brief review was made of the key features of AvtoOffice. <br><br>  Today I will try to go through all the stages of the design and development of our CRM. <br><img src="https://habrastorage.org/getpro/habr/post_images/d88/d73/6c6/d88d736c6161d6a444e1d5c713e0aa88.jpg"><br><a name="habracut"></a><br><h4>  Idea, system functionality </h4><br>  Our company has been selling on the Internet for more than 8 years, all this time we have lacked the opportunity to see our business as a whole, to see the whole picture. <br><br>  Realizing that in business, as in any field of activity, a decisive criterion for success is a systematic approach, we thought about finding a CRM system that allows you to automate everything and everyone, giving a complete picture of states and development trends for our business, which has all the most advanced tools for conducting sales and conducting marketing research, providing tools for managing employees and distributing business tasks between them, a system that allows you to collect as much information as possible about our customers, segment your customer base,  to make a portrait of an ideal client, to see the entire history of client actions and much more.  And, of course, this system should be as simple and convenient to use. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      After searching for a panacea, comparing and weighing all the pros and cons, the well-known western solution salesforce.com became the leaders. Unfortunately, it was not possible to find a project meeting the set requirements on the Russian market ... <br><br>  Then we decided to focus all our efforts on creating our own CRM, which in terms of functionality will not be inferior to Western solutions, and will be focused on the Russian market and will work with all payment systems. <br><br><h4>  Architecture </h4><br>  The basis was chosen bundle Apache + PHP + MySQL.  This combination has justified itself and judging by the organization of such famous projects as Facebook and Vkontakte, it is fully capable of withstanding enormous loads. <br><br>  As the development environment was chosen quite popular Eclipse.  Of course the choice is controversial, but he approached us.  From the pros: collaborative development, support for PHPUnit, phpDocumentor, and besides, it is free. <br><br>  Next came the question of choosing a framework. <br>  After reviewing various tests of all popular frameworks, we made an unequivocal conclusion - Yii.  In terms of speed, it is inferior only to CodeIgniter, but greatly surpasses it in capabilities.  In addition, CodeIgniter does not have a normal ORM or Unit tests for the framework.  The remaining options were not considered due to the lack of a large Russian-speaking community, a high threshold of entry and the speed of the work of other frameworks. <br><br>  Naturally, because  we took Yii as a basis, we laid down the system in multilanguage and already at the moment all the steps of placing an order for goods of online stores connected to us can be displayed in Russian, English and Ukrainian. <br><br><h4>  Structure </h4><br>  <a href="https://autokassir.ru/%3Fr%3Dacs%26id%3D33%26lg%3Dru">The showcase of our product</a> - a website with all the information about our CRM, blog, contacts, help, etc., we placed on a separate VPS from our database, and it works under the control of the well-known CMS Joomla.  Thus, we have separated the service itself from the storefront, which is very important for security reasons, no failure of the website with a description will affect the service. <br>  In addition, this approach has saved a lot of time, and the forces of the best programmers have been thrown on writing the service core. <br><br>  From the features of the structure of the service can be called a complete system modularity.  It was very important, because  allowed us to independently increase the system, without affecting the other modules.  When you gradually connect dozens of payment systems, in which APIs are constantly being modified, modularity really saves. <br><br>  Here is what it looks like: <br><img src="https://habrastorage.org/getpro/habr/post_images/ce4/c32/9d1/ce4c329d17890055f69b721292c194e3.jpg"><br><br>  there is a kernel (framework, database, models, common extensions, common controllers components) and there are a lot of almost independent modules using their translation files, their controllers and views (modules, if not for good reason, use core models to access the database ). <br><br><h5>  And now about the database itself </h5><br>  To start working with the service, the owners of online stores need to register their store in the system, get goods and connect the necessary payment methods. <br>  Therefore, when we thought through the database structure, we had a choice, to dump all the data for all the stores into one database or create a separate database and an individual user with their rights for each store. <br><br>  In order to improve security and for several other reasons, it was decided to physically share data from two different stores, placing them in different databases. <br>  Why exactly so: <br><ol><li>  This approach allows in case of a single store's database falling, it is easy to restore data without interfering with the work of other Internet projects. </li><li>  We almost completely exclude the possibility of the emergence of someone else's financial information in the accounts of other clients, due to a technical error of the programmer. </li><li>  It is possible that as the service grows and develops, a number of online stores with high turnover will need a solution of the ‚ÄúStand-Alone‚Äù type. </li></ol><br>  Of course, working with thousands of databases brings some inconvenience, difficulty in writing code, and unfortunately Yii is not able to solve this task using standard methods, so I had to think a bit to deploy such a system, but all this is minor compared to the benefits of this approach. . <br><br><h4>  Accommodation </h4><br>  Where to place our CRM?  Having a fairly extensive experience with domestic hosting companies, we immediately began to look in the west. <br><br>  We tried many companies, but constantly because of the complexity of the system and the reluctance to take a full-fledged dedicated server at the start of the project with a full-time sysadmin (we decided to limit VPS first), constantly ran into those or other limitations or inconveniences on the part of the hoster. <br><br>  After a few weeks of searching, on the recommendation of one of the colleagues in the workshop, we got to <a href="https://bill2fast.com/aff.php%3Faff%3D3149">FastVPS</a> <br>  The guys resell the hosting of one of the leaders of the German market, Hetzner and, best of all, added the competent Russian-speaking technical support service to the quality of Hetzner. <br>  Of the pleasant things of this hosting company, not the worst UpTime (according to Yandex.Metrica: 99.68%) <br><img src="https://habrastorage.org/getpro/habr/post_images/4dc/57d/5d5/4dc57d5d5cb540d3d84fc655288c023e.png"><br><br>  In general, I showed how our service is arranged.  That's all for now. <br>  Of course, if you have any questions or you want to learn more about the implementation of this or that functionality, then write everything in the comments, I will try to help and answer. <br><br>  And in the future on Habr√©, we plan to publish articles about the problems we encountered while working on the project and how we organized the work of the company. <br><br>  <b>UPDATE - 12/25/2013:</b> To increase the reliability of our servers (increase in the UpTime index), we transferred our servers to a new cloud hosting: <a href="https://www.digitalocean.com/%3Frefcode%3D555fd9791fab">DigitalOcean</a> <br><br>  Now the expected annual UpTime should be at least 99.99% </div><p>Source: <a href="https://habr.com/ru/post/205540/">https://habr.com/ru/post/205540/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../205530/index.html">Bitcoin: development history, from CPU to FPGA</a></li>
<li><a href="../205532/index.html">pChart - we build graphs and diagrams in PHP. Practice</a></li>
<li><a href="../205534/index.html">The digital pursuit of the golden goose, or how the biggest scam in the history of Bitcoin has turned into a farce</a></li>
<li><a href="../205536/index.html">Show your gadgets!</a></li>
<li><a href="../205538/index.html">Have you met with a forest analysis of a SQL query population of an industrial application (for example, for optimization)?</a></li>
<li><a href="../205542/index.html">Firefox 26 release</a></li>
<li><a href="../205548/index.html">FreeBSD developers will limit the use of hardware random number generators due to suspicions of backdoors</a></li>
<li><a href="../205550/index.html">12 important elements for website promotion and sales</a></li>
<li><a href="../205552/index.html">Developer at a crossroads: how to vectorize?</a></li>
<li><a href="../205554/index.html">Bitcoin: development history, ASIC</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>