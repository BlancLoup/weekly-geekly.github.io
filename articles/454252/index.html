<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Even the web resources of well-known organizations are not protected from children's mistakes.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Disclaimer. All events took place in 2017. All the vulnerabilities mentioned in the article were reported to the representatives of the companies as s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Even the web resources of well-known organizations are not protected from children's mistakes.</h1><div class="post__text post__text-html js-mediator-article">  <i>Disclaimer.</i>  <i>All events took place in 2017.</i>  <i>All the vulnerabilities mentioned in the article were reported to the representatives of the companies as soon as possible since their discovery.</i>  <i>Some resources, for 2019, have been fully updated (frontend and backend).</i> <i><br></i>  <i>The article is purely informational and educational in nature.</i> <br><br>  Running through the old folders, I came across saved screenshots that I made for representatives of a couple of well-known companies in our financial and IT market. <br>  It all started with the fact that I decided to change my job profile and try myself in QA or an allied profession, just not self-taught alone, but to work on it in the staff of some large organization, so that I could learn from experience, work in a team ... <br><br>  After placing my resume, Sberbank-Technologies crossed over with me, the Bank of which I will discover a small story. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      After the invitation to chat, I decided to see what lives on the company's domains for interesting vulnerabilities.  It is always nice to have a trump card in the negotiations. <br><a name="habracut"></a><br><h2>  Sberbank </h2><br>  Sberbank is primarily associated with Russia, but it also has branches in other countries.  Therefore, I decided to go on the "simple" way.  Almost after a couple of attempts, two passive XSS vulnerabilities were found in the web interface of the <u>Belarusian</u> Sberbank. <br><br>  <b>The first children's mistake is not to check incoming data from the user.</b>  As a result, cross-site scripting in the search field and login form to Sberbank Online. <br><br><img src="https://habrastorage.org/webt/b5/rd/95/b5rd95_qfjj43ee4-aq_edofxe8.png"><br><br><img src="https://habrastorage.org/webt/8o/zt/vj/8oztvjevdtm-t8agdt9tw1rcfik.png"><br><br>  A separate moment in the Sberbank Online login form - although the form transmitted values ‚Äã‚Äãthrough POST, the scripts on the web server successfully processed my GET request. <br><br>  I also decided to look at the domain from which Sberbank's HR wrote me.  It turned out to be the Sberbank Talanta portal. <br><br>  Having tortured various forms and hidden fields, I did not get anything worthwhile, except that the portal revolves on ASP.NET. <br><br>  After reviewing the source of the main HTML page once again, I noticed that all JS and CSS files are sent through a script that combines and compresses the files specified in the GET request. <br><br>  <b>The second child error is not to limit the list of files / directories that can be downloaded from the server to the white list.</b> <br><br><img src="https://habrastorage.org/webt/ri/wz/ob/riwzobwvpkv29xk_ksoqlw4vohu.png"><br><br><img src="https://habrastorage.org/webt/eg/rl/qp/egrlqph0gn5odo75040ayog6v94.png"><br><br>  In the end, I got access to the web server configuration file.  And also, to a more interesting file with logs, where both passwords from SQL and other services, as well as actual API tokens for publication in social networks were indicated. <br><br><img src="https://habrastorage.org/webt/eg/rl/qp/egrlqph0gn5odo75040ayog6v94.png"><br><br><h2>  Opening </h2><br>  Here I also decided not to waste time on the main portal, but to immediately see which web resources the bank refers to.  Experimental, by a random analogy with Sberbank, was the "Opening portal of the Bank" Opening "." <br><br>  It turned out that the portal works on CMS Bitrix.  As a rule, large commercial or open source engines do not contain children's mistakes, but ... <br><br>  Okay Google, how to get access to the admin Beatrix? <br><br>  <b>The third child error is not to close the directory listing on the server.</b> <br><br>  In principle, everything is clear - Apache was configured so that the directories without index files showed their contents.  This is not a very critical problem, if not a fatal set of circumstances.  On the career portal, you can upload your contact information and file your resume.  A couple of minutes and I already look at the listing directory with the data of applicants. <br><br><img src="https://habrastorage.org/webt/fe/ll/v5/fellv59b26thudr7oc55f7olu4i.png"><br><br><img src="https://habrastorage.org/webt/kg/lo/vl/kglovlevkgk7-kuyx917qfkk-me.png"><br><br>  This is all interesting, but not the admin.  Therefore, we scroll through all the folders in the hope of finding something. <br>  <b>Not a childish mistake - the human factor.</b>  I do not know ‚Äúhow‚Äù and most importantly ‚Äúwhy‚Äù, but in one of the directories with PDF / RTF / DOC files there was a file without an extension, which was a PHP script. <br><br><img src="https://habrastorage.org/webt/cy/m7/i-/cym7i-akyd1gwqzhjtk4anbwpi8.png"><br><br>  Thanks to this file, a new search vector was received - the folder / estaff /, where the logs of adding / deleting jobs with a login / password pair lay, the module scripts, as well as one of the files lit up the details that fit the Bitrix admin panel. <br><br><img src="https://habrastorage.org/webt/qt/v2/kj/qtv2kj6gzb46i6riay_39xwfnh8.png"><br><br><img src="https://habrastorage.org/webt/2i/rn/ix/2irnix5qlvq8xdakwtxcg3wz2_o.png"><br><br><blockquote>  Now, Ball, you're still going to run after him for half a day - to give photos ... </blockquote><br>  Unfortunately, for me this story ended without a happy ending.  First, it took a long time to look for a real representative of the bank associated with IT.  The first line of support for banks (like HR themselves), in principle, did not understand the problem, what was expected, but they could not transfer these data to their colleagues from the necessary departments. <br><br>  The solution was LinkedIn and sending personal messages to the heads of various departments, at least somehow related to IT infrastructure. <br><br>  Secondly, both banks lack the Bug Bounty program, as a result, everything was limited to concise ‚ÄúThank you‚Äù. <br><br>  And thirdly, the HR of both banks did not consider my resume, citing lack of experience. </div><p>Source: <a href="https://habr.com/ru/post/454252/">https://habr.com/ru/post/454252/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../45424/index.html">New sales record in the gaming industry</a></li>
<li><a href="../454242/index.html">‚ÄúLook what a jet pack I have!‚Äù - ‚ÄúHa, look what a rocket I have!‚Äù (Notes from the rocket-making championship)</a></li>
<li><a href="../454246/index.html">Varieties of coordinates used in Unity3d GUI</a></li>
<li><a href="../454248/index.html">Serfs in the era of artificial intelligence</a></li>
<li><a href="../45425/index.html">Christmas present</a></li>
<li><a href="../454254/index.html">We write Reverse socks5 proxy on powershell. Part 3</a></li>
<li><a href="../454256/index.html">What is wrong with our IT</a></li>
<li><a href="../454260/index.html">Children's Day from a bad code</a></li>
<li><a href="../454262/index.html">Why Every Data Scientist Should Know Dask</a></li>
<li><a href="../454264/index.html">4 intelligent channels on Youtube about technical interviews</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>