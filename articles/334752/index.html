<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Contra, Battledods and Mortal Kombat in one box. The story of how I made a slot machine and put it in the office</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Many children of the Russian 90s warmly remember the hours they spent on consoles ‚Äî they played ‚Äútanchiki‚Äù, Battletods, Rockenroll Racing and a bunch ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Contra, Battledods and Mortal Kombat in one box. The story of how I made a slot machine and put it in the office</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/web/6e6/318/731/6e631873165f40ac890d2e6b1858fe67.png"><br><br>  Many children of the Russian 90s warmly remember the hours they spent on consoles ‚Äî they played ‚Äútanchiki‚Äù, Battletods, Rockenroll Racing and a bunch of other games with friends.  I am sure that among you there are those who still play and collect classic consoles and games for them.  Something in them is such that connects with a carefree childhood. <br><br>  I myself am partly sick of it.  But when I immersed myself a bit in the world of retrogaming, it turned out that in my childhood there was a lot of things that somehow bypassed me.  Now I'm talking about arcade machines - a phenomenon that in the 80-90s was actually the engine of progress.  Many familiar games to us were first written under the arcade machines, and only then they were ported to home consoles in a reduced form. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Among those interested in retrogaming there is an opinion that it is necessary to play on the original hardware, and emulation is not true.  This means that if you decide to remember the old days and drive Chip and Dale with your friends, please get yourself a prefix (preferably the original NES or Famicom) and a couple of cartridges for it.  In the modern world, this is not a problem - you can buy all this at online auctions.  The only question is how much you are willing to part with. <br><br>  But what to do with arcade games?  You can buy the original machine.  But its delivery will cost an indecently large amount of American money, and the game will be there alone. <br><br>  Here we inevitably come to emulation.  But the feeling of the game you want to get special, as in the arcade room. <br><br>  Exit - to collect the arcade machine yourself <br><a name="habracut"></a><br><h2>  What will be built our arcade machine </h2><br>  The heart of the arcade machine is an arcade joystick, it is he along with the general entourage that should help us go back to the 80-90s and try to catch the atmosphere of the arcade room. <br><br>  Which joystick to use is not important.  On AliExpress, a lot of offers a variety of DIY-kits.  My choice fell on <a href="https://www.aliexpress.com/item/Arcade-Joystick-DIY-Kit-Zero-Delay-Arcade-DIY-Kit-USB-Encoder-To-PC-Arcade-Sanwa-Joystick/32638284047.html%3Fspm%3D2114.13010708.0.0.J9OLms">this</a> . <br><br><img src="https://habrastorage.org/web/6e5/207/9a9/6e52079a9904427f94224e0b65c8d2e5.jpg"><br><br>  As I already wrote, the games we are going to run on the emulator.  So, the brain of our machine will be quite an ordinary PC.  You can, of course, do everything on a single-board computer, but: <br><br><ul><li>  I chose the full version of the machine.  Its height is about two meters.  So you can not save on the place inside the machine. </li><li>  With a full-fledged PC is easier in terms of modifications and connection of peripherals. </li><li>  Since the machine needs a 4: 3 monitor, you do not want to create a problem for you to connect an old monitor via HDMI. </li><li>  I got the system unit cheaper than a single board computer. </li></ul><br>  Power in this case is not very important.  Let me just say that I used a PC on Core 2 Duo, 1GB RAM, 120GB HDD. <br><br>  As for the monitor: having run through commission fees, the maximum that I could find suitable was a 20-inch HP L2035 monitor.  The main criterion was the 4: 3 aspect ratio.  Well, the bonus turned out to be a convenient design, which is extremely well amenable to modification. <br><br>  The last major part of the machine is its body.  Without it, it's just a PC.  I decided to assemble it from LDSP - so that it is reliable. <br><br><h2>  Housing assembly </h2><br>  It seems that the most difficult task for the person who decided to make a gaming machine is the assembly of the case for the machine.  It sounds easy - in fact, you just need to build a cabinet in which the PC will be installed and the monitor is built in.  In fact, everything is a little more complicated - it is difficult to find ready-made size drawings (or I was looking bad).  What I found allowed us to sketch a 3D model curve. <br><br><img src="https://habrastorage.org/web/7a4/c08/e75/7a4c08e75eb84622958e015042c61675.jpg"><br><br>  Evaluating the result as satisfactory, I decided that it was easier and more convenient to order a saw cut. <br><br>  To do this, you need a specific list of parts with exact dimensions.  Therefore, we recall the students and the "Compass" and draw a drawing of the side panel.  We mark on it all the internal details.  Now with these artifacts you can go to any company that sells laminated chipboard and provides cutting services for it. <br><br>  That's what happened specifically for me: <a href="https://docs.google.com/spreadsheets/d/1-c_MwdGJiHGoeOFk4e9Gzoudb9lH7DtPY2S_ZLvGqm0/edit%3Fusp%3Dsharing">cutting</a> and <a href="https://drive.google.com/file/d/0ByhmS7KegLiHNldvYXc5bmlaVHM/view%3Fusp%3Dsharing">drawing</a> <br><br><img src="https://habrastorage.org/web/020/8d6/f61/0208d6f61d904648be1684a33e72df30.png"><br><br>  In principle, for most parts you can order PVC-edging, but, most likely, curved parts will refuse to edge at the place where you order the cut.  There are three ways out: <br><br><ul><li>  Buy PVC tape and cut off the ends independently with the help of a building hair dryer. </li><li>  Buy invoice piping and stick it on double-sided tape or glue. </li><li>  Buy a mortise edging and install it using a milling cutter, charged face milling cutter and mallet. </li></ul><br>  I chose the latter option, since it is the most canonical one and I had access to the tool. <br><br>  In the designs of all the arcade machines of the 80-90s there was always a visor on which the game logo glowed proudly, luring players.  Of course, here he is also needed.  I made the logo myself from a piece of plexiglass, pasted over with a pre-printed sticker with the name of the machine. <br><br><img src="https://habrastorage.org/web/d28/27f/757/d2827f7576db43fab99ae0817cb1c300.jpg"><br><br>  To make the front panel of the machine look beautiful, you need a piece of Plexiglas 5 mm thick, ordering such a size is not a problem.  On one of the sides we paint the plexiglass with black spray paint, leaving a non-painted rectangle the size of a monitor screen in the center. <br><br>  I summarize the algorithm: <br><br><ul><li>  We order cutting chipboard according to the list of details. </li><li>  We buy the edging (mortise, invoice or tape). </li><li>  We buy consumables (evrovint, furniture hinges, locks on the doors if necessary, ventilation grilles, etc.). </li><li>  We order plexiglas in the <a href="https://docs.google.com/spreadsheets/d/1HSoIyczYdz3YFPVeTqu64CqvuiUK-AnPpoy-G6g-LwY/edit%3Fusp%3Dsharing">sizes</a> . </li><li>  Armed with a drill, screwdriver, jigsaw, mill (optional). </li><li>  We spend an unpredictable amount of time on the assembly of the hull. </li><li>  Profit! </li></ul><br><img src="https://habrastorage.org/web/4e2/fe9/01b/4e2fe901b3134af1a959367c2cbff323.jpg"><br><br><h2>  Soft </h2><br>  Since the inside of the machine in my version - the PC, the question arises of choosing the operating system.  The task can be solved on both Windows and Linux.  The last option is somehow closer to me (and I don‚Äôt need to buy a system), so I‚Äôll tell you a little about how to deploy everything on Linux.  The most appropriate distribution kit, in my opinion, for this purpose is Lubuntu 16.04 LTS. <br><br>  An important question is the convenience of selecting and launching games, I want to control the machine only with the help of an installed joystick.  For this you need a kind of frontend-shell, conveniently showing the list of games and launching an emulator with the selected game on demand.  The benefit of the Open source community has long solved this problem.  As the saying goes: "everything is already written before us."  For example, the <a href="http://attractmode.org/">Attract-mode</a> project has versions for all popular platforms, including those of interest to Ubuntu.  The shell supports themes that, by the way, are written in Squirrel, so that mod lovers will have where to turn.  Well, or you can visit the project forum and find something to your liking. <br><br>  Working with the shell is extremely simple: after launch, press the tab and get into the menu.  First of all, we set up emulators - the paths to games and all sorts of beautiful things: logos, video previews, covers, posters.  Depending on the theme different beauty can be used.  By the way, you can try to pull them down using the built-in <b>scrape artwork</b> function.  Do not think that there is everything, but for most popular games, everything will come automatically.  To search for video previews of games, you can still use the project <a href="http://www.progettosnaps.net/videosnaps/">Progettosnaps.net</a> - the guys have collected a very large collection of videos and distribute it absolutely free. <br><br>  After setting up the paths, it is necessary to press the <b>generate romlist item</b> - after the counter reaches 100%, the screen (display) of this emulator will be automatically added.  After leaving the menu, on this screen you can already look through the list of games and try to run something. <br><br>  The main emulator will be the famous MAME - good, its build exists under Linux.  For me, it was a discovery that the Roma for this emulator is also versioned as the emulator itself, so it will not work on the new emulator to run the rum from the old version.  But since the version of the Roma will not work out, you will have to download a lot of update packs and update the Roma that you choose for your arcade machine.  Many rums and updates to them can be found on the project <a href="https://www.emuparadise.me/">Emuparadise.me</a> . <br><br>  For a change, you can put a few more emulators: nestopia, gens, zsnes and configure them in attract-mode. <br><br>  There is a small nuance - not all emulators have the opportunity to wipe the output from the emulator on the joystick button.  It is solved by installing the <a href="https://github.com/AntiMicro/antimicro">antimicro</a> package, which is hanging in the processes and map the joystick buttons to the keyboard buttons: simply select the button on the joystick and map it to Esc. <br><br>  It only remains to do so that the attraction-mode and antimicro are started immediately upon login and that's it! <br><br><h2>  Wires and stuff </h2><br>  So, we already have a case and a configured PC. All that is left for us is to build in the joystick, speakers, lights and dissipate the wires inside the case. <br>  Embed the joystick in the machine, or rather, in the control panel, is not difficult.  In fact, you just need to drill holes of the required size.  But to arrange them is a creative process and a field for experiments.  I did it like this: <br><br><img src="https://habrastorage.org/web/3ee/aed/c0a/3eeaedc0ab864fbc81a67bc9572e4f2d.png"><br><img src="https://habrastorage.org/web/74b/161/e3d/74b161e3dfe844cb8bb143c746a8b781.jpg"><br><br>  The drawing can be found <a href="https://drive.google.com/file/d/0ByhmS7KegLiHM24xVV9ObE5GYjQ/view%3Fusp%3Dsharing">here.</a> <br><br>  To illuminate the logo, I used two 12V LED tapes (because the easiest way to power the PC power supply). <br><br>  The speakers are easier to take with USB power - it is somehow more comfortable to work with 5V instead of 220V. <br><br>  To make it convenient to turn the machine on and off, adjust the volume level and turn on the backlight, we make a small control unit on the front panel of the machine. <br><br>  We take out on the panel: <br><br><ul><li>  power button from the system unit; </li><li>  volume control; </li><li>  sound switch (just solder the power switch to the power supply column); </li><li>  backlight switch. </li></ul><br><img src="https://habrastorage.org/web/06f/b48/944/06fb4894444e4170a02308621d9d7711.png"><br><br>  At this point, only the design work remains: if you can design and print beautiful sideboards, so that the black box will play with new colors, then I envy you white envy.  And if you are the same techie as me, then you have to look for ways to get out of the situation.  For example, to buy an abstract vinyl sticker or to order indecently on AliExpress a lot of stickers and close up the whole machine.  The last option I took advantage of.  It took about 500 stickers. <br><br><h2>  Instead of conclusion </h2><br>  I told the story of the assembly of an arcade machine, but the story of his life has just begun.  Almost immediately, a desire to share joy and emotions with my colleagues arose in my head, because playing is always better in a company. <br><br>  As a result, the arcade machine has moved to the 2GIS office on the 20th floor and at the moment is causing good and causing joy to everyone.  Feels like a lot of people trying to play the machine.  After work, you can consistently catch someone who is trying to find exactly the game from his childhood, even had orders to add something.  On Friday evening, a small crowd of people creates the feeling of a small arcade room.  It seems to me exactly as it was - when you wait for your turn to play the machine - you watch with interest how your friends play and sincerely experience with them particularly difficult moments. <br><br>  All right, with the obligatory program finished, now an arbitrary part. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/R3dkqcIRm64" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  <b>UPD:</b> According to the requests of users: <br><br><img src="https://habrastorage.org/web/d85/f6d/3f5/d85f6d3f5866473daae51756f5b7ed15.jpg"></div><p>Source: <a href="https://habr.com/ru/post/334752/">https://habr.com/ru/post/334752/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../334740/index.html">We invite you to the –∞–ø Java and Linux - Fight for microseconds ‚Äô</a></li>
<li><a href="../334742/index.html">It's time to recover data. Do you know where they are?</a></li>
<li><a href="../334744/index.html">As we multiplayer for NFS MW wrote</a></li>
<li><a href="../334748/index.html">6 reasons why real estate automation requires breaking stereotypes</a></li>
<li><a href="../334750/index.html">5 easy ways to mess up a font</a></li>
<li><a href="../334754/index.html">Series of webinars on the SAP Cloud Platform and PaaS Market</a></li>
<li><a href="../334756/index.html">Python Click Generator for Data Engineer</a></li>
<li><a href="../334760/index.html">Javascript as a phenomenon</a></li>
<li><a href="../334762/index.html">Business of Software Europe - conference about IT business (almost) without Growth Hacks</a></li>
<li><a href="../334764/index.html">The fate of programmers in the Russian Federation or how to leave the city of Ensk</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>