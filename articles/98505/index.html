<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Own search engine on the site</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I often encounter such a situation when my own internal full-text search is required on Internet sites. Implementing it is not so difficult, and the e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Own search engine on the site</h1><div class="post__text post__text-html js-mediator-article">  I often encounter such a situation when my own internal full-text search is required on Internet sites.  Implementing it is not so difficult, and the effect of its implementation is huge. <br>  So on one of its projects it was necessary to implement a quick search for thematic information from the database.  At the moment, to solve such problems, tags and headings to records are used.  But in my case it was not an option.  The formulation of the problem is as follows: on the basis of the entered two or three words, it is necessary to output records containing these words. <br>  The structure in a simplified form of the database is shown in the figure. <br><br><img src="https://habrastorage.org/storage/habraeffect/11/bb/11bbd414d076f5731349df71929b20df.png" alt="image"><a name="habracut"></a><br><br>  The ‚ÄúWords‚Äù table contains all the words that are found in the existing records, the ‚ÄúRecords‚Äù table, respectively, the texts of the records, and the ‚ÄúLinks‚Äù table includes references to the use of the corresponding words by the records. <br>  All the work of this simplified search engine contains a number of stages.  The first step is to add a new entry.  So the entire text of the record is divided into an array of words.  After that, several queries to the database are executed: it is checked whether these words already exist in the ‚ÄúWords‚Äù table, if they are not present, all the necessary records are added.  Identifies the identifiers of each word.  The final step is to add pairs of word ids and entries to the "Links" table. <br>  Editing is essentially the same as adding a record, except that it is necessary to delete all the records related to the edited text from the table ‚ÄúLinks‚Äù.  With removal, I think, questions will not arise. <br>  Now regarding the search itself records.  Suppose a user enters a word in the search field.  The search field itself is an input field with self-completion. <br>  Step 1: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage/habraeffect/a5/9e/a59e7b3bff47d11f75bea73d47f2141e.png" alt="image"><br><br>  Step 2: <br><br><img src="https://habrastorage.org/storage/habraeffect/b2/bb/b2bb85f6ae5612d002c0ce6282229427.png" alt="image"><br><br>  Step 3: <br><br><img src="https://habrastorage.org/storage/habraeffect/b1/65/b165a1e91a8b45cced084f8a48050126.png" alt="image"><br><br>  That is, when you enter the next word, it is checked which of the available words, in the first case, with the letter ‚Äúc‚Äù, are in the records of the ‚ÄúRecords‚Äù table.  In the second step, it is checked which words starting with ‚Äúra‚Äù are in the entries containing the word ‚Äúmethod‚Äù.  In the third step, the words are searched for ‚Äúk‚Äù in the records, where the words ‚Äúmethod‚Äù and ‚Äúallow‚Äù already exist.  I believe that three words to search is quite enough even among a large number of entries. <br>  After the formed set of words we start the search.  Everything is simple here.  Identifies the identifiers of words that are entered in the input field, filtered entries in the table "Links", in which there are identifiers of words.  From the resulting array, the identifiers of records from the table ‚ÄúRecords‚Äù are determined for which all the search words are present. <br><br><h4>  What do we end up with? </h4><br>  In the end, the user has the opportunity to quickly search for the necessary records by his request, while the system itself helps him formulate this very request.  In addition, if we talk about the tag system, then the need for it completely disappears.  But it is rather a matter of taste. </div><p>Source: <a href="https://habr.com/ru/post/98505/">https://habr.com/ru/post/98505/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../98495/index.html">iPhone5 preview</a></li>
<li><a href="../98496/index.html">Perhaps a bug in PHP, maybe a feature ...</a></li>
<li><a href="../98499/index.html">Opening of free access and new services in Synchronet</a></li>
<li><a href="../98502/index.html">How to search for free LJ with TIC</a></li>
<li><a href="../98504/index.html">Fido For Dummies. Part one</a></li>
<li><a href="../98506/index.html">About the weather for tomorrow</a></li>
<li><a href="../98508/index.html">Gosbook.ru - a social network for Russian officials has opened registration for everyone</a></li>
<li><a href="../98511/index.html">E-government to the masses</a></li>
<li><a href="../98512/index.html">On democracy in the information age</a></li>
<li><a href="../98514/index.html">Robot PR2 taught to bring beer from the fridge</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>