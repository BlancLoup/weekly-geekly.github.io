<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Rich Notifications, utm-tags, webhook and other innovations PushAll</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Over the past 5 months there have been many changes in PushAll . There are many minor changes, edits of errors and optimizations, but there are also m...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Rich Notifications, utm-tags, webhook and other innovations PushAll</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/web/569/6eb/23e/5696eb23e4f24824b5c0df3069057fa4.png" width="500"></div><br>  Over the past 5 months there have been many changes in <a href="https://pushall.ru/">PushAll</a> .  There are many minor changes, edits of errors and optimizations, but there are also major changes, which we will describe in the article.  Each item is made in the style of how-to. <br><a name="habracut"></a><br><h2>  Rich Push Notifications. </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/web/d76/47a/fe7/d7647afe717242f18d805c27e12dd8c3.png" width="300"></div><br>  Rich Notifications are notifications with additional elements.  For example, a standard set consists of an icon, title and text.  Rich Notifications adds buttons and a large image to this set. <br><br>  We are very long with this "feature", but in vain.  <a href="https://github.com/GoogleChrome/chrome-app-samples/tree/master/samples/rich-notifications">The demo in the form of add-on for chromium from 2014 has long been hanging</a> , and for Android, Rich Notifications were introduced back in 2012.  And only half a year ago they became available for Web Push. <br><br>  We did support Rich Notifications for Chrome add-ons, Android apps, Email (notifications come with buttons and a big picture) and Web Push.  Also, such notifications are available through the notification history in any browser. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div style="text-align:center;"><img src="https://habrastorage.org/web/2ac/17a/e4a/2ac17ae4a5db4b428c2fee3144ad1be1.png" width="500"></div><br>  This is a very useful feature.  For example, if you have a preview of your news - you can put it on a large image.  If your notification has a branch ‚Äî for example, you updated the applications for iOS and Android at once, and you can send one notification with both links.  Also based on this mechanics, you can do polls, or give the user a choice so that he can respond to the notification.  For example, if you have a service for reminders, then the notification may have 2 buttons - postpone for an hour and cancel, and when you click on the notification itself, the details of the reminder will open. <br><br>  It must be remembered that on some platforms, such as iOS and Safari, such buttons are not supported.  You should provide this on your side, displaying a similar choice by clicking on the notification. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/cad/417/f20/cad417f20f6341dd8c974fc0fbcbb20b.png" width="500"></div><br>  Such notifications can be sent via manual mailing, using the "Additional fields" button and through the API.  To do this, add the bigimage and actions field to the regular structure for sending any notification (inside it there is an array of buttons with a title and a link) <br><br><pre><code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"bigimage"</span></span>:<span class="hljs-string"><span class="hljs-string">"https:\/\/urlimage"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"actions"</span></span>:[ { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>:<span class="hljs-string"><span class="hljs-string">"test"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"url"</span></span>:<span class="hljs-string"><span class="hljs-string">"https:\/\/url1"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>:<span class="hljs-string"><span class="hljs-string">"test2"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"url"</span></span>:<span class="hljs-string"><span class="hljs-string">"https:\/\/url2"</span></span> } ] }</code> </pre> <br><h2>  UTM tags </h2><br>  To track conversion on clicks, you had to manually add utm tags.  Now, by default, the utm-tag = pushall utm-tag is added to the free rate, this field can be edited at the paid rate. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/c95/d65/960/c95d659604e245609846a476d82d4e89.png" width="500"></div><br>  We also optimized the work of the settings by distributing them into 4 separate sections.  This is much more convenient than one big ribbon of settings. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/e8c/b6d/a53/e8cb6da53ece4d4c9755f62ed0b048fd.png" width="500"></div><br><h2>  WebHook </h2><br>  We were often told that it would be good to make an alternative to a callback link.  Now you can link your webhook-address and get real-time subscription or unsubscribe data from the channel. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/8f2/003/db8/8f2003db8d3b45ce85c3b461dea8192c.png" width="500"></div><br>  If you have a small personal channel, you can receive notifications about the subscription or unsubscribe. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/7da/d1f/aca/7dad1faca0884f17a6fb95dd61797661.png" width="500"></div><br>  The most important thing is that you can pass your string, which you get through the webhook.  Just add 'authstring'.  For example, pushall.ru/news?authstring=teststring.  And you get the teststring along with other public user data as JSON in postdata.  The authstring transfer is available free of charge until the end of the week, then at a paid rate.  Also, this line will be passed to the callback very soon. <br><br>  Also, extended Webhook actions will be available for paid tariffs, for example, changing the status of individual notifications (unicast).  This will allow you to send a notification even if the status has not changed within 10 minutes (if it has not been delivered), send it via another communication channel, for example, an SMS message. <br><br><h2>  Other innovations </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/web/d6c/ab4/182/d6cab41824fc45faabe72cc5add522cc.png" width="400"></div><br>  We have corrected many errors in the service.  After the hurricane in Moscow, we made a <a href="https://pushall.ru/mchsmsk">channel-mirror of the Emergencies Ministry's Twitter.</a> Now we will compensate the commission of Yandex when replenishing the balance, that is, how much you spent on the transfer, so much will come to the balance. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/689/159/f74/689159f748ee4675a93de220f29168cc.png" width="500"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/web/756/ff5/b31/756ff5b319f649cd9c07c95f459df62b.png" width="500"></div><br>  At a paid rate, you can edit the colors of the channel (just do not overdo it). <br><br><img src="https://habrastorage.org/web/8ff/419/721/8ff419721f1746959ea92a55e1084730.png"><br><br>  We switched to Let's Encrypt and enabled encryption for Email-mailings. <br><br><img src="https://habrastorage.org/web/88a/1e3/327/88a1e3327fdb413b93c024d303cea32c.png"><br><br>  Meanwhile, about 100 million notifications have been sent. </div><p>Source: <a href="https://habr.com/ru/post/330922/">https://habr.com/ru/post/330922/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../330910/index.html">Russian Minesweeper - multiplayer version of the game "Sapper"</a></li>
<li><a href="../330914/index.html">Entertainment for intellectuals: playing ‚ÄúWhat? Where? It depends?</a></li>
<li><a href="../330916/index.html">Cloud Expo Asia Hong Kong - report from the largest IT exhibition in Asia</a></li>
<li><a href="../330918/index.html">Create faster and more optimized WordPress sites</a></li>
<li><a href="../330920/index.html">Spreadsheet over Google Maps</a></li>
<li><a href="../330926/index.html">Startup of the day (May 2017)</a></li>
<li><a href="../330928/index.html">IT Management: What ITSM is and the ServiceNow Platform</a></li>
<li><a href="../330930/index.html">It is a little about ServiceNow, ITSM and ServiceDesk in a format of selection of useful materials</a></li>
<li><a href="../330932/index.html">40 unusual questions asked at the interview at Apple</a></li>
<li><a href="../330934/index.html">And terrible Russian firewall will burst</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>