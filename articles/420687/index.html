<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Using VS Code to call a REST API in Azure IoT Hub [+ helpful stuff]</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! Today we are sharing a mini-tutorial on using Visual Studio Code to call the REST API in the Azure internet hub. Consider all the necessary ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Using VS Code to call a REST API in Azure IoT Hub [+ helpful stuff]</h1><div class="post__text post__text-html js-mediator-article">  Hi, Habr!  Today we are sharing a mini-tutorial on using Visual Studio Code to call the REST API in the Azure internet hub.  Consider all the necessary tools, creating an HTTP request, generating SAS and sending a request.  Well, at the end of the article you will find 3 useful resources on the topic. <br><br><img src="https://habrastorage.org/webt/8v/gp/pl/8vgppl6itaxyzdqfmcwd-1xvdag.jpeg"><a name="habracut"></a><br><br>  REST APIs for the Center for Internet of Things (IoT Hub) provide programmatic access to device services, messages, and tasks, as well as to the resource provider in the Internet of Things Center.  <a href="https://marketplace.visualstudio.com/items%3FitemName%3Dvsciot-vscode.azure-iot-toolkit">The Azure IoT Toolkit</a> for Visual Studio Code <a href="https://marketplace.visualstudio.com/items%3FitemName%3Dvsciot-vscode.azure-iot-toolkit">extension</a> simplifies the use of IoT Hub REST APIs in VS Code, without the need for an additional chain of tools.  Let's see how easy it is to send messages from your device to the cloud using the Azure Internet of Things Center! 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Required items </h2><br><ul><li>  If you do not have an IoT Hub, see our <a href="">tutorial</a> on how to create an IoT Hub and device. </li><li>  <a href="https://marketplace.visualstudio.com/items%3FitemName%3Dvsciot-vscode.azure-iot-toolkit">Azure Extension IoT Toolkit</a> - Internet of Things tool Azure. </li><li>  <a href="https://marketplace.visualstudio.com/items%3FitemName%3Dhumao.rest-client">The REST Client extension</a> is used to send HTTP requests to VS Code. </li></ul><br><h2>  Creating an HTTP request </h2><br>  In VS Code, create the file d2c.http with the following CURL request, then replace {iothub-name} and {device-id}: <br><br><pre><code class="cs hljs">curl --request POST \ --url <span class="hljs-string"><span class="hljs-string">'https://{iothub-name}.azure-devices.net/devices/{device-id}/messages/events?api-version=2018-06-30'</span></span> \ --header <span class="hljs-string"><span class="hljs-string">'authorization: {sas-token}'</span></span> \ --data <span class="hljs-string"><span class="hljs-string">'Hello IoT Hub!'</span></span></code> </pre> <br><h2>  SAS Marker Generation </h2><br>  Right-click on your device and select <b>Generate SAS Token for Device</b> .  The SAS token will be created and placed on the clipboard, after which you need to replace {sas-token} <b>d2c.http in it</b> . <br><br><img width="300" src="https://habrastorage.org/webt/9i/ip/uv/9iipuvtchbqwfotdxaraqwnsm3c.png"><br><br><h2>  Sending an HTTP request </h2><br><ol><li>  Right-click on your device and select Start Monitoring D2C Message to initiate monitoring of messages sent from the device to the cloud. </li><li>  In the d2c.http file, click the Send Request link to call the Azure IoT Hub REST API to send a d2c message. </li><li>  In the answer area on the right, you will see an HTTP response in the form of ‚ÄúHTTP 204‚Äù, which means that the message was successfully sent. </li><li>  In the Output Channel output channel in the Azure IoT Toolkit, you will see that the IoT Hub received the message ‚ÄúHello IoT Hub!‚Äù. </li></ol><br><img src="https://habrastorage.org/webt/nw/c4/45/nwc445rt5j61u2bss2sohhjpenm.png"><br><br>  You do not need an extra chain of tools to invoke the Azure IoT REST APIs in Visual Studio Code.  If you want to learn more about how the <a href="https://marketplace.visualstudio.com/items%3FitemName%3Dvsciot-vscode.azure-iot-toolkit">Azure IoT Toolkit extension</a> helps developers make the most of the Azure IoT Hub, visit our <a href="https://github.com/Microsoft/vscode-azure-iot-toolkit/wiki">Wiki page for</a> detailed descriptions and lessons. <br><br><h2>  Useful materials </h2><br><h4>  [E-book] How to grow with Azure </h4><br>  This guide is designed to help your team more effectively implement and integrate cloud technologies.  You will get to know key cloud concepts, as well as tips for working with Azure, DevOps, integration, planning, and more. <br><br>  <a href="https://azure.microsoft.com/en-us/resources/azure-strategy-and-implementation-guide/en-us/%3Fwt.mc_id%3DAID729732_QSG_270346">Download</a> <br><br><h4>  The Evolution of Server Computing: Virtual Machines, Containers, or Serverless ‚Äî What to Choose? </h4><br>  Thanks to the rapid advances in cloud computing, developers now have a number of capabilities to create and deploy applications and services.  For example, new computing capabilities, such as containers and serverless, provide more flexibility in determining how your organization consumes computing resources.  Although the options are excellent, they can also make it difficult to choose the right technology for each need.  What to choose?  Read in this study. <br><br>  <a href="https://azure.microsoft.com/en-us/resources/gartner-evolution-server-computing/en-us/%3Fwt.mc_id%3DAID729732_QSG_270345">Download</a> <br><br><h4>  [Mini ebook] Benefits of Azure Cosmos DB </h4><br>  Read the e-book, Creating Modern, Big Data-Based Applications Globally, to see how the ready-to-use, globally distributed Azure Cosmos DB database service is changing the way you manage data.  Ensure data availability, consistency and protection, using industry-leading, industry-leading technologies for regulatory compliance and security.  Start developing the best applications for your users based on one of five well-defined consistency models. <br><br>  <a href="https://azure.microsoft.com/ru-ru/resources/cosmosdb-modern-apps-big-data-global-scale-ru-ru/%3Fwt.mc_id%3DAID729732_QSG_270344">Download</a> </div><p>Source: <a href="https://habr.com/ru/post/420687/">https://habr.com/ru/post/420687/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../420675/index.html">SOC is people. ‚ÄúHello, we are looking for talents‚Äù or where do analysts from the center for monitoring and responding to cyber attacks come from</a></li>
<li><a href="../420677/index.html">The tale of how the Epson planet 30 million "Factories" provided</a></li>
<li><a href="../420679/index.html">New Python courses from Mail.Ru Group</a></li>
<li><a href="../420681/index.html">AMD ThreadRipper 2: First Meet</a></li>
<li><a href="../420685/index.html">To fix and neutralize: how we tamed silver. A word about bactericides for water</a></li>
<li><a href="../420689/index.html">Game design from scratch: how to start making games without experience</a></li>
<li><a href="../420691/index.html">Kivy. Xamarin. React Native. Three frameworks - one experiment</a></li>
<li><a href="../420693/index.html">The course "Development in Java" from Mail.Ru Group on Tekhnostrim channel</a></li>
<li><a href="../420695/index.html">Ray: Distributed system for using AI</a></li>
<li><a href="../420697/index.html">Perpetual Theme with PHP and MySQL</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>