<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Meeting #RuPostgres: scaling applications on PostgreSQL</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On September 15, a meeting dedicated to scaling applications on PostgreSQL will take place at Avito's office. Let's talk about the algorithms and nuan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Meeting #RuPostgres: scaling applications on PostgreSQL</h1><div class="post__text post__text-html js-mediator-article"><p>  On September 15, a meeting dedicated to scaling applications on PostgreSQL will take place at Avito's office.  Let's talk about the algorithms and nuances of implementing transactionalities in programming languages, building business transactions in the database per service pattern, how OZO is built - the asynchronous type-safe PostgreSQL client-client for C ++ 17, and PostgreSQL transaction isolation levels.  Stas Kelvich (Postgres Professional), Sergey Handrikov (Yandex), Konstantin Evteev (Avito) and Mikhail Tyurin will make presentations.  Register for a meeting and invite colleagues.  Under the cut - theses of speeches of speakers, a link to the registration and information on the broadcast of the mitap. </p><br><p><img src="https://habrastorage.org/webt/60/7b/ua/607buap3rcoql_icygh7baryx-e.jpeg" alt="image"></p><a name="habracut"></a><br><h2 id="doklady">  Reports </h2><br><h3 id="raspredelennye-tranzakcii-i-puteshestviya-vo-vremeni-stas-kelvich-postgres-professional">  Distributed transactions and time travel.  Stas Kelvich, Postgres Professional </h3><br><p><img src="https://habrastorage.org/webt/ub/zu/27/ubzu27zc1tjw8g-rtc2ee_crhmw.png" alt="image" align="left"><br>  ‚ÄúThe discussion will be based on the article‚Äú Clock-SI: Snapshot for Partitioned Data Stores Using Loosely Synchronized Clocks ‚Äùby Jiaqing Du, Sameh Elnikety and Willy Zwaenepoel.  We will try to deal with the Clock-SI protocol, we will also talk about the existing algorithms and nuances of the implementation of transactionality in programming languages ‚Äã‚Äã(for example, Software Transactional Memory in Clojure) and databases (from IBM System-R to Google Spanner);  why the isolation levels described in ANSI SQL weakly reflect reality and touch upon the topic of transaction anomalies. ‚Äù </p><br><h3 id="masshtabirovanie-prilozheniya-na-postgresql-v-avito-tips-and-tricks-konstantin-evteev-avito">  Scaling an application to PostgreSQL in Avito: tips and tricks.  Konstantin Evteev, Avito </h3><br><p><img src="https://habrastorage.org/webt/sk/yw/vv/skywvvkidub_7dkr2bmbpsctkvs.png" alt="image" align="left"><br>  ‚ÄúI want to talk about community solutions that we have implemented in Avito architecture to scale our application under ever-increasing loads. <br>  I'll tell you about the "two-level smart" cache for more efficient use of standby. <br>  I‚Äôll share a story about Avito‚Äôs experience in solving one of the challenges of the microservice architecture - implementing business transactions while maintaining data consistency between services using the Database per Service architectural pattern. ‚Äù <br><br clear="left"></p><br><h3 id="logicheskaya-replikaciya-i-urovni-izolyacii-tranzakciy-postgresql-mihail-tyurin">  Logical replication and PostgreSQL transaction isolation levels.  Mikhail Tyurin </h3><br><p><img src="https://habrastorage.org/webt/ym/_t/rp/ym_trpc14hssaljddtouvdtou94.png" alt="image" align="left"><br>  ‚ÄúFrom the tenth version of PostgreSQL, in addition to physical replication, the built-in logical one is also available to us.  In addition, for many years, solutions on trigger logical replication exist and have been successfully applied.  On the other hand, relatively recently, from version 9.1, we have transactions with an ‚Äúhonest‚Äù level of Serializable.  These two significant circumstances (as well as debates on the Internet) prompted the author to review the problem of applying isolation levels for various existing replication methods, including analyzing the presence of Serializable on the replica. ‚Äù <br><br clear="left"></p><br><h3 id="ozo--asinhronnaya-tipobezopasnaya-header-only-biblioteka-klient-postgresql-dlya-c17-sergey-handrikov-yandeks">  OZO is an asynchronous type-safe header-only PostgreSQL client library for C ++ 17.  Sergey Khandrikov, Yandex </h3><br><p><img src="https://habrastorage.org/webt/rz/e-/kt/rze-ktpep8puxo4jrupts-an4nq.png" alt="image" align="left"><br>  ‚ÄúThe library is built on the basis of Boost.Asio, thanks to which it provides support for all types of asynchrony from callbacks to corutin.  The library communicates with PostgeSQL using libpq and a binary protocol, providing both asynchronous data reception and asynchronous request sending.  OZO supports both Compile-time query designers, as well as the possibility of their run-time configuration.  All query parameters are automatically serialized to a binary representation.  The results of query execution are also automatically deserialized into both simple types and those adapted using Boost.Fusion and Boost.Hana structures. ‚Äù <br><br clear="left"></p><br><h1 id="raspisanie">  schedule </h1><br><p>  12:00 - 12:30 - Registration <br>  12:30 - 13:15 - <strong>Distributed transactions and time travel</strong> - <em>Stas Kelvich, Postgres Professional</em> <br>  13:25 - 14:05 - <strong>PG Saga: dependent data changes in several services without two-phase commits and synchronous dependencies</strong> - <em>Konstantin Evteev, Avito</em> <br>  14:05 - 14:35 - Break <br>  14:35 - 15:20 - <strong>Logical replication and PostgreSQL transaction isolation levels</strong> - <em>Mikhail Tyurin</em> <br>  15:20 - 16:10 - <strong>OZO - asynchronous type-safe header-only library PostgreSQL client for C ++ 17</strong> - <em>Sergey Khandrikov, Yandex</em> <br>  16:30 - .......  - Afterparty </p><br><h1 id="kak-popast-i-gde-smotret">  How to get and where to look </h1><br><p>  Participation in the event is free, but you need to <a href="http://bit.ly/rupostgresql">register</a> .  Please indicate your full name as in your passport and take documents with you, otherwise you will not be allowed into our office. </p><br><p>  Address: Avito office, <a href="https://goo.gl/maps/AbeQA3zyLC62">Lesnaya 7</a> . </p><br><p>  Look for the live broadcast link on the AvitoTech YouTube channel on the day of the event. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/421683/">https://habr.com/ru/post/421683/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../421667/index.html">CJM Meetup at MegaFon - how it was and what we talked about (video reports)</a></li>
<li><a href="../421669/index.html">The court banned the free distribution of weapons CAD-files, so the creator began to sell them</a></li>
<li><a href="../421671/index.html">Five nanotechnologies from nature that can inspire us to new developments</a></li>
<li><a href="../421675/index.html">Finally there was a task that only quantum computers can solve.</a></li>
<li><a href="../421677/index.html">How to identify risks in state control and why machine learning for this</a></li>
<li><a href="../421685/index.html">Why working in IT is not so cool</a></li>
<li><a href="../421687/index.html">How to organize Knowledge Sharing in and out</a></li>
<li><a href="../421689/index.html">Plus one percent automation</a></li>
<li><a href="../421691/index.html">Statistical Process Management (Part 1. Implementation Experience)</a></li>
<li><a href="../421693/index.html">The Story Of An API: How We Turned Frankenstein Into A Handsome Boy</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>