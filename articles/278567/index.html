<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Still messing around with debugging?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, dear readers. 

 In Russian there is not so much universal non-aging literature on the principles of the PLO. Taking this opportunity, we propo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Still messing around with debugging?</h1><div class="post__text post__text-html js-mediator-article">  Hello, dear readers. <br><br>  In Russian there is not so much universal non-aging literature on the principles of the PLO.  Taking this opportunity, we propose to download Matt Weisfeld‚Äôs " <a href="http://www.piter.com/collection/kompyutery-i-internet/product/obektno-orientirovannoe-myshlenie">Object-Oriented Thinking</a> ", which is almost no longer on paper.  However, such books appear from time to time, and there are those that are written in an innovative and applied style, and not just grind known truths.  One of them is called " <a href="http://www.amazon.com/Elegant-Objects-Yegor-Bugayenko/dp/1519166915/">Elegant Objects</a> ", we are seriously thinking of publishing it in Russian. <br><br><img src="https://habrastorage.org/files/ae2/afd/066/ae2afd066ed0459195d0953cead5256f.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      We propose to evaluate the style and philosophy of the author to translate one of the latest articles from his blog. <br><br><a name="habracut"></a><br><br>  <a href="https://ru.wikipedia.org/wiki/%25D0%259E%25D1%2582%25D0%25BB%25D0%25B0%25D0%25B4%25D0%25BA%25D0%25B0_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D1%258B">Debugging</a> is ‚Äúthe process of interactively launching a program / method, and the execution flow after each instruction is suspended and the result is displayed ...‚Äù.  In essence, this is a very efficient technique ... for a bad programmer.  Or for an old school programmer who still writes a procedural code in C. OOP specialists do not debug the code ‚Äî they write unit tests.  I would like to say that unit testing will completely remove debugging from the agenda.  If debugging is required, then the <b>program is designed poorly</b> . <br><br><img src="https://habrastorage.org/files/bd7/e23/b3b/bd7e23b3bed04ecd9ee3afe3aaf8f6dc.jpg"><br><br>  Suppose I am a <a href="http://www.yegor256.com/2014/05/05/oop-alternative-to-utility-classes.html">bad</a> programmer, I write in an imperative procedural style, and issue the following Java code: <br><br><pre><code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FileUtils</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Iterable&lt;String&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">readWords</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(File f)</span></span></span><span class="hljs-function"> </span></span>{ String text = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String( Files.readAllBytes(Paths.get(f)), <span class="hljs-string"><span class="hljs-string">"UTF-8"</span></span> ); Set&lt;String&gt; words = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HashSet&lt;&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (String word : text.split(<span class="hljs-string"><span class="hljs-string">" "</span></span>)) { words.add(word); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> words; } }</code> </pre> <br><br>  This static <a href="http://www.yegor256.com/2014/05/05/oop-alternative-to-utility-classes.html">helper</a> method reads the contents of the file, and then finds all unique words in it.  It's simple.  However, if he refuses to work, what will we do?  Suppose here is a file: <br><br><pre> <code class="java hljs">We know what we are, but know not what we may be.</code> </pre><br><br>  From it we extract the following list of words: <br><br><pre> <code class="java hljs"><span class="hljs-string"><span class="hljs-string">"We"</span></span> <span class="hljs-string"><span class="hljs-string">"know"</span></span> <span class="hljs-string"><span class="hljs-string">"what"</span></span> <span class="hljs-string"><span class="hljs-string">"we"</span></span> <span class="hljs-string"><span class="hljs-string">"are,\n"</span></span> <span class="hljs-string"><span class="hljs-string">"but"</span></span> <span class="hljs-string"><span class="hljs-string">"not"</span></span> <span class="hljs-string"><span class="hljs-string">"may"</span></span> <span class="hljs-string"><span class="hljs-string">"be\n"</span></span></code> </pre><br><br>  In this case, I do not like ... just the next step - which one?  Either the file is read with an error, or an error in the breaking of lines.  Let's <b>debug it</b> , right?  We run the file through the input and step by step we work it out, tracking all the variables and watching them.  We find a bug, fixed.  But if a similar problem occurs again, it will have to be debugged again!  These are the cases that should be <b>prevented</b> with unit tests. <br><br>  We need to write a unit test once and thereby reproduce the problem.  Then we fix the problem and make sure the test passes.  Thus, problems are solved rationally.  We will not have to fix anything again, since the error will no longer occur.  Our <b>test</b> is guaranteed. <br><br>  However, all this works only if writing a unit test is easy.  If it will be difficult to write it, I will become ashamed and will not write.  Just do the debugging and fix the problem.  In this particular case, writing a test is not easy.  That is, the level of complexity of the test is quite high.  It is required to create a temporary file, fill it with data, run the method and check the result.  To understand what is happening, and where is the bug, you will need more than one test.  To avoid duplicate code, I also need to write a few utilities that will help me create a temporary file and fill it with data.  A lot of work.  Maybe ‚Äúnot too much‚Äù, but with debugging I would manage in a few minutes. <br><br>  Accordingly, if it seems to you that debugging is too complex and stalled, think about the quality of your code.  I bet there will be plenty of refactoring options for it, just like for the code from the listing above.  This is how I would change it.  First, we redo it into a class, because auxiliary static methods are <a href="http://www.yegor256.com/2014/05/05/oop-alternative-to-utility-classes.html">flawed</a> : <br><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Words</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Iterable</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">String</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> File file; Words(File src) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.file = src; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Iterator&lt;String&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">iterator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ String text = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String( Files.readAllBytes(Paths.get(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.file)), <span class="hljs-string"><span class="hljs-string">"UTF-8"</span></span> ); Set&lt;String&gt; words = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HashSet&lt;&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (String word : words.split(<span class="hljs-string"><span class="hljs-string">" "</span></span>)) { words.add(word); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> words.iterator(); } }</code> </pre><br><br>  Already much better, but still difficult.  Next, break it into smaller classes: <br><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Text</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> File file; Text(File src) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.file = src; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String( Files.readAllBytes(Paths.get(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.file)), <span class="hljs-string"><span class="hljs-string">"UTF-8"</span></span> ); } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Words</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Iterable</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">String</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String text; Words(String txt) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.text = txt; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Iterator&lt;String&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">iterator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Set&lt;String&gt; words = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HashSet&lt;&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (String word : <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.text.split(<span class="hljs-string"><span class="hljs-string">" "</span></span>)) { words.add(word); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> words.iterator(); } }</code> </pre><br><br>  Well, how?  Write a test for the <code>Words <br></code> class <code>Words <br></code>  - a completely trivial task: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.junit.Test; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.hamcrest.MatcherAssert.*; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.hamcrest.Matchers.*; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WordsTest</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parsesSimpleText</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ assertThat( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Words(<span class="hljs-string"><span class="hljs-string">"How are you?"</span></span>), hasItems(<span class="hljs-string"><span class="hljs-string">"How"</span></span>, <span class="hljs-string"><span class="hljs-string">"are"</span></span>, <span class="hljs-string"><span class="hljs-string">"you"</span></span>) ); } }</code> </pre><br><br>  How much time did I spend on it?  Less than a minute.  You do not have to create a temporary file, fill it with data, because the <code>Words</code> class does not work with files.  It simply parses the incoming line and finds unique words in it.  Now it is easy to fix the error, because the test is small, and we will not be difficult to write other tests, for example: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.junit.Test; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.hamcrest.MatcherAssert.*; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.hamcrest.Matchers.*; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WordsTest</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parsesSimpleText</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ assertThat( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Words(<span class="hljs-string"><span class="hljs-string">"How are you?"</span></span>), hasItems(<span class="hljs-string"><span class="hljs-string">"How"</span></span>, <span class="hljs-string"><span class="hljs-string">"are"</span></span>, <span class="hljs-string"><span class="hljs-string">"you"</span></span>) ); } <span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parsesMultipleLines</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ assertThat( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Words(<span class="hljs-string"><span class="hljs-string">"first line\nsecond line\n"</span></span>), hasItems(<span class="hljs-string"><span class="hljs-string">"first"</span></span>, <span class="hljs-string"><span class="hljs-string">"second"</span></span>, <span class="hljs-string"><span class="hljs-string">"line"</span></span>) ); } }</code> </pre><br><br>  I believe that debugging is necessary when it takes significantly more time to write a unit test than to press the Trace-In / Trace-Out buttons.  This is logical.  We are all lazy, we love simple and quick solutions.  But debugging is a waste of time and effort.  It only helps to find problems, but not to insure against their reappearance. <br><br>  Debugging is needed in procedural and algorithmic code, when the code describes how the goal is achieved, and not what the goal is.  Reconsider the above examples.  The entire first static method talks about how to read a file, parse it, and find words.  It is even called <code>readWords()</code> (‚Äúread‚Äù is a <b>verb</b> ).  On the contrary, the second example indicates which goal should be achieved.  Speech is either about the text of the <code>Text</code> file or about the words <code>Words</code> in the text (these are <b>nouns</b> ). <br><br>  I believe that in the right OOP, debugging is inappropriate.  Only unit testing! </div><p>Source: <a href="https://habr.com/ru/post/278567/">https://habr.com/ru/post/278567/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../278557/index.html">Three small but useful buns in Laravel 5.2.22</a></li>
<li><a href="../278559/index.html">New resource about Intel technologies for game developers on Unity3D.com</a></li>
<li><a href="../278561/index.html">Interfaces - the most important concept in software development</a></li>
<li><a href="../278563/index.html">Intensive announcement on ASP.NET Core at the Microsoft DevCon 2016 conference</a></li>
<li><a href="../278565/index.html">libuniset2 is a library for creating ACS. It is better to see once ... Part 3 (Creating a management process)</a></li>
<li><a href="../278569/index.html">Critical vulnerability of Cisco Nexus 3000 Series Switches and 3500 Platform allows remote access to them</a></li>
<li><a href="../278571/index.html">Preparing an ASP.NET 5 (Core) project and DNX environment to participate in the hackathon as part of hack.summit () 2016 at Koding.com</a></li>
<li><a href="../278573/index.html">Adaptive Split View Controller and Popover in iOS 9 (Swift). Part 1</a></li>
<li><a href="../278575/index.html">Superscalar Stacking Processor: We Cross Horror And Hedgehog</a></li>
<li><a href="../278577/index.html">Automation of easy database 1C list management</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>