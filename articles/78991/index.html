<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The scope of a variable in Javascript (educational program)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For me, one of the most problematic places in Javascript was variable management. I set out in simple Russian. 


 Variable scope 
 Variables in Javas...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The scope of a variable in Javascript (educational program)</h1><div class="post__text post__text-html js-mediator-article">  For me, one of the most problematic places in Javascript was variable management.  I set out in simple Russian. <br><a name="habracut"></a><br><br><h2>  Variable scope </h2><br>  Variables in Javascript are global and local.  The global variable is available everywhere, local - only in the current scope. <br><br>  Technically, global variables are just properties of the <code>window</code> object, since all code runs in its context. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> &lt;script&gt;
   alert (location);  // tell window.location
 &lt;/ script&gt;
</pre><br><br>  From this it follows that <strong>global variables can overwrite the properties of the <code>window</code></strong> (I‚Äôm not talking about the fact that they are evil, break encapsulation and all that). <br><br><h2>  Variable declaration </h2><br>  <strong>When assigning a value to an undefined local variable, a global variable is used or created.</strong> <br><br><pre> function foo () {
   a = 2;
   b = 3;
   return a + b;
 }
 alert (a);  // undefined
 a = 'very important';
 alert (a);  // very important
 foo ();
 alert (a);  // 2
</pre><br><br>  This way you can easily wipe off the excess.  In my opinion, this behavior is absolutely illogical, but, well, this is not the strangest place of javascript.  In any case, the <strong>implicit definition of variables should be avoided</strong> . <br><br>  <strong>Explicitly declaring variables can and should be done with the <code>var</code> keyword.</strong> <br><br><pre> var a = 2;
</pre><br><br>  Such a string always creates a new local variable.  If the declaration occurs outside functions, then it will be global, which is quite logical. <br><br><pre> function foo () {
   var a = 2;
   var b = 3;
   return a + b;
 }
 alert (a);  // undefined
 var a = 'very important';
 alert (a);  // very important
 foo ();
 alert (a);  // very important
</pre><br><br>  How to declare a global variable from a function?  How to access a global variable if there is a local variable with the same name?  Very simple - you need to access it as a <code>window</code> property: <br><br><pre> function foo () {
   var location = 'location';
   alert (location);  // returns 'location'
   alert (window.location);  // returns window.location
   window.a = 'variable from function';
 }
 alert (a);  // undefined
 foo ();
 alert (a);  // variable from function
</pre><br><br><h2>  Inheritance of scope </h2><br>  I was always confused by the fact that in Javascript you can define functions inside functions, and then use them anywhere.  <em>Well, yes, if you look, exactly the same can be done in Ruby, and, probably, in many other languages ‚Äã‚Äãtoo.</em> <br><br>  In this case, variables are transmitted very simply: if at the time of defining a function, a variable existed, then it will exist inside the function.  From where it would not cause. <br><br><pre> function alertOnTimeout (message, timeout) {
  return setTimeout (function () { 
     // message will be available in an unnamed function passed to the timeout
     alert (message); 
   }, timeout);
 }
</pre><br><br>  Passing the code in the old manner - a string that is run through <code>eval()</code> - does not fall under this rule, the code is executed in the scope where it is defined. <br><br>  Since objects in Javascript are also of the function type, the property of an object is defined in the same way as a variable. <br><br><pre> function myObject () {
   var property = 0;
   // By itself, property will be available only inside the object.
 }
</pre><br><br>  And in Javascript, the scope of a variable is limited only by functions, and not blocks of type <code>if</code> (hello, Pascal).  Therefore, it is most convenient to declare variables at the beginning of a function. <br><br><h2> <code>this</code> </h2> <br>  And what is <code>this</code> ?  And the fact that this variable automatically appears in the methods of objects and overwrites the value of this from the previous scope.  The solution is simple - reassign its value to another variable. <br><br><pre> $ ('div.with-links'). click (function () {
   var theDiv = this;  // store the value of this
   $ (this) .find ('a'). click (function () {
     alert ($ (this) .attr ('href'));  // this is a link
     theDiv.remove ();  // and the Div is still a div
   });
 });
</pre><br><br>  Separately, I note that when wrapping some behavioral logic into an object, you need to remember that in the DOM events created, the this value of the object itself is lost. <br><br><pre> function myObject () {
   var _this = this;  // save the link to the parent object
   var linkRemoved = false;<font></font>
<font></font>
   $ ('a'). click (function () {
     $ (this) .remove ();  // this is the link object
     _this.linkRemoved = true;  // _this is the parent object
   });
 }
</pre></div><p>Source: <a href="https://habr.com/ru/post/78991/">https://habr.com/ru/post/78991/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../78979/index.html">MTS and M.B.A. Finance "against customers</a></li>
<li><a href="../78981/index.html">Plenoptic camera of 12 kenons</a></li>
<li><a href="../78983/index.html">Opera 10.50 pre-alpha for Labs, official description</a></li>
<li><a href="../78985/index.html">Convenient work with tabs in VS2008</a></li>
<li><a href="../78987/index.html">MTS and Poison: an erroneous payment. In search of common sense</a></li>
<li><a href="../78992/index.html">WebReady merges the database of e-mail contestants ... they also</a></li>
<li><a href="../78994/index.html">Scammers: skype-mobile.net</a></li>
<li><a href="../78995/index.html">Backup My App - backup sites on Ruby on Rails</a></li>
<li><a href="../78996/index.html">Questions to Michael Widenius (MySQL)</a></li>
<li><a href="../78998/index.html">Remote control of a PC based on radio channel security systems</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>