<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Results of the third round of the Russian Code Cup 2017</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On April 29, the third and final qualifying round of the Russian Code Cup 2017 was held . By tradition, we brag a little bit of the results and lay ou...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Results of the third round of the Russian Code Cup 2017</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/web/80d/12d/29e/80d12d29e8434b8c8cf7f0bd31f2d1ad.jpg" alt="image"></p><br><p>  On April 29, the third and final qualifying round of the <a href="http://www.russiancodecup.ru/ru/">Russian Code Cup 2017 was held</a> .  By tradition, we brag a little bit of the results and lay out the analysis of tasks. </p><br><p>  A. <a href="https://habrahabr.ru/company/mailru/blog/327592/">Spreadsheets</a> <br>  B. <a href="https://habrahabr.ru/company/mailru/blog/327592/">Mortal combat</a> <br>  C. <a href="https://habrahabr.ru/company/mailru/blog/327592/">Slightly palindromic numbers</a> <br>  D. <a href="https://habrahabr.ru/company/mailru/blog/327592/">Tree and polynomials</a> <br>  E. <a href="https://habrahabr.ru/company/mailru/blog/327592/">Beautiful report</a> </p><br><p>  This time 5681 people registered (473 of them are new members) - again we beat our own records.  According to the results of the round, we took another 202 participants in the qualifying round.  All five tasks successfully solved five people. </p><a name="habracut"></a><br><p>  Top three: </p><br><ol><li>  In the first place with a significant margin from the pursuers (3 minutes) was Igor Pyshkin from St. Petersburg. </li><li>  The second place was taken by user xyz2606. </li><li>  In third place with a slight lag from second place (only 6 seconds) - Shik Chen from Taiwan. </li></ol><br><p>  In addition, the top 10 hit: </p><br><ol><li>  Oleg Merkuryev, Yekaterinburg, Russia </li><li>  Ivan Smirnov, Moscow, Russia </li><li>  Alexander Ostanin, Moscow, Russia </li><li>  Dmitry Yakutov, St. Petersburg, Russia </li><li>  Maleki Mohammadreza, Tehran, Iran </li><li>  Kohji Liu, Tokyo, Japan </li><li>  Konstantin Khadaev, Novosibirsk, Russia </li></ol><br><p>  Congratulations to all who passed in the qualifying round, which is waiting for us on May 14.  And now - analysis of tasks. </p><br><h2 id="a-elektronnye-tablicy">  A. Spreadsheets </h2><br><p>  Time limit - 1 second <br>  Memory limit - 256 megabytes </p><br><p>  Petya is developing his own spreadsheet editor.  In its editor, the columns will be called as follows: the first 26 columns - the corresponding letters of the Latin alphabet: A, B, C, ..., Z. The following columns, starting from 27, are called pairs of letters: AA, AB, ..., AZ , BA, BB, ..., BZ, ..., ZZ.  Further three letters are used: AAA, AAB, AAC, ..., then fours, and so on. </p><br><p>  Now Petya needs to determine his name by the column number.  Help him write the appropriate code snippet. </p><br><p>  <strong>Input Format</strong> </p><br><p>  The input contains several test cases.  The first line contains an integer <em>t</em> - the number of tests (1 ‚â§ <em>t</em> ‚â§ 1000). </p><br><p>  The following <em>t</em> lines contain one integer <em>k</em> each (1 ‚â§ <em>k</em> ‚â§ 10 <sup>9</sup> ). </p><br><p>  <strong>Output format</strong> </p><br><p>  For each test, print the name of the <em>k-</em> th column in a separate line. </p><br><p>  <strong>Examples</strong> </p><br><p>  Input data <br>  four <br>  one <br>  ten <br>  100 <br>  1000 </p><br><p>  Output <br>  A <br>  J <br>  CV <br>  ALL </p><br><div class="spoiler">  <b class="spoiler_title">Task analysis</b> <div class="spoiler_text"><p>  We subtract from <em>k the</em> unit by going to the numbering of the columns with 0. We first find out how many characters are in the name of the column.  To this end, we will successively subtract from <em>k the</em> degrees of the number 26 until the next power is greater than the remaining number <em>k</em> '. </p><br><p>  Now, to get the column name, it suffices to translate <em>k</em> 'into the 26th number system with numbers A ‚Äì Z and add leading zeros (more precisely, A characters) to the required number of characters.  This can be done using standard programming language methods (although this will result in digits 0‚Äì9, A ‚Äì P, they will have to be replaced) or by independently implementing an algorithm for transferring to a number system with a given base. </p></div></div><br><h2 id="b-smertnyy-boy">  B. Mortal combat </h2><br><p>  Time limit - 1 second <br>  Memory limit - 256 megabytes </p><br><p>  Recently Vasya started playing a new computer game.  At the end of the first level, the boss was waiting for him, whom he needed to win in order to continue to pass the game.  Vasya has a squad of <em>n</em> characters, the <em>i-</em> th of whom has <em>h <sub>i</sub></em> health units and <em>a <sub>i</sub></em> attack units.  The boss has <em>H</em> units of health and <em>A</em> units of attack. </p><br><p>  The battle takes place as follows: </p><br><ul><li>  If Vasya no longer has characters, he lost; </li><li>  Otherwise, he chooses one of them and fights against the boss; </li><li>  Let Vasya choose character number <em>i</em> .  Then: <br><ul><li>  The character attacks the boss and shoots him <em>a <sub>i</sub></em> health units; </li><li>  If the boss is still alive, that is, his number of health units is positive, he attacks in response and removes character <em>A</em> health units; </li><li>  As long as both the character and the boss are both alive, the actions are repeated. </li></ul></li><li>  If the boss is dead, the battle ends, Vasya wins.  Otherwise, all actions are repeated. </li><li>  Since Vasya has yet to complete the following levels, he wants to lose as few characters as possible.  Help him - find the minimum possible number of characters that he can lose in a battle with the boss.  If Vasya does not win even using all the characters, output - 1. </li></ul><br><p>  Consider test examples. </p><br><p>  In the first example, Vasya can first send a character 2 to fight, which will strike three times, reduce the number of health units of the boss by 12, and then die, and then send the character 3, who will immediately remove 6 health points from the boss and kill him .  Thus, Vasya will lose only one character. </p><br><p>  In the second example, even if Vasya sends all the characters one by one, the boss will not be killed. </p><br><p>  <strong>Input Format</strong> </p><br><p>  The input contains several test cases.  The first line contains the number of tests <em>t</em> (1 ‚â§ <em>t</em> ‚â§ 1000). </p><br><p>  Each of the following <em>t</em> tests is described as follows: the first line of the test description contains three integers <em>n, H, A</em> - the number of characters for Vasya, the number of health units and attacks for the boss, respectively (1 ‚â§ <em>n</em> ‚â§ 10 <sup>5</sup> , 1 ‚â§ <em>H, A</em> ‚â§ 10 <sup>9</sup> ). </p><br><p>  Each of the next n lines contains two integers <em>h <sub>i</sub></em> , <em>a <sub>i</sub></em> - the number of health and attack units in the <em>i-</em> th character, respectively (1 ‚â§ <em>h <sub>i</sub></em> , <em>a <sub>i</sub></em> ‚â§ 10 <sup>9</sup> ). </p><br><p>  It is guaranteed that the sum <em>n</em> in all tests of one input data does not exceed 10 <sup>5</sup> . </p><br><p>  <strong>Output format</strong> </p><br><p>  For each test, output the answer to it - the minimum number of characters Vasya can lose to defeat the boss, or - 1 if he loses the battle in any case. </p><br><p>  <strong>Examples</strong> </p><br><p>  Input data <br>  2 <br>  4 18 4 <br>  4 5 <br>  9 4 <br>  sixteen <br>  3 3 <br>  4 27 4 <br>  4 5 <br>  9 4 <br>  sixteen <br>  3 3 </p><br><p>  Output <br>  one <br>  -one </p><br><div class="spoiler">  <b class="spoiler_title">Task analysis</b> <div class="spoiler_text"><p>  Let us calculate the number of health units that the <em>i-</em> th character can take to the boss alone before his death: <em>p <sub>i</sub></em> = <em>a <sub>i</sub></em> ‚Ä¢ ‚åà <em>h <sub>i</sub></em> / <em>A</em> ‚åâ.  After that, we sort the characters in descending order of <em>p <sub>i</sub></em> and send them to the boss one by one in this order until he is killed. </p></div></div><br><h2 id="c-slegka-palindromnye-chisla">  C. Slightly palindromic numbers </h2><br><p>  Time limit - 1 second <br>  Memory limit - 256 megabytes </p><br><p>  An integer will be called slightly palindrome if the first digit of its decimal notation without leading zeros coincides with the last.  Your task is to count the number of slightly palindromic numbers on the segment from <em>l</em> to <em>r</em> , inclusive. </p><br><p>  In the first test case, slightly palindromic numbers - 8, 9, 11 and 22. </p><br><p>  In the second - 1251 and 1261. </p><br><p>  <strong>Input Format</strong> </p><br><p>  The input contains several tests.  The first line contains the number <em>t</em> - the number of tests (1 ‚â§ <em>t</em> ‚â§ 5 ¬∑ 10 <sup>4</sup> ). </p><br><p>  Each test is given in one line, which contains the integers <em>l</em> and <em>r</em> (1 ‚â§ <em>l</em> ‚â§ <em>r</em> ‚â§ 10 <sup>18</sup> ). </p><br><p>  <strong>Output format</strong> </p><br><p>  For each test, print on a separate line the number of slightly palindromic numbers on a given segment. </p><br><p>  <strong>Examples</strong> </p><br><p>  Input data <br>  3 <br>  8 25 <br>  1251 1266 <br>  12 21 </p><br><p>  Output <br>  four <br>  2 <br>  0 </p><br><div class="spoiler">  <b class="spoiler_title">Task analysis</b> <div class="spoiler_text"><p>  We will learn to count the number of slightly palindromic numbers among the first <em>n</em> natural numbers.  To get the number of such numbers on the segment from <em>l</em> to <em>r</em> , you need to count their number among the first <em>r</em> and <em>l</em> - 1 natural numbers and subtract one from the other. </p><br><p>  All numbers from 1 to 9 are slightly palindromic, so if <em>n</em> ‚â§ 9, then the answer is <em>n</em> .  Otherwise, add 9 to the answer and calculate the number of slightly palindromic numbers on the interval from 10 to <em>n</em> .  Consider the ten numbers from 10 <em>k</em> to 10 <em>k</em> + 9, where <em>k</em> ‚â† 0. Among them, exactly one slightly palindromic, since the last digit should be equal to the first digit <em>k</em> .  Thus, there is one slightly palindromic number on the segments from 10 to 19, from 20 to 29, etc. </p><br><p>  Let <em>n</em> = 10 <em>k</em> + <em>d</em> , where 0 ‚â§ <em>d</em> ‚â§ 9. Then on the interval from 10 to <em>n</em> there are <em>k</em> slightly palindromic numbers, if <em>d is</em> not less than the first digit of <em>k</em> (and it is equal to the first digit of <em>n</em> ), and <em>k</em> - 1, if less. </p></div></div><br><h2 id="d-derevo-i-mnogochleny">  D. Tree and polynomials </h2><br><p>  Time limit - 2 seconds <br>  Memory limit - 256 megabytes </p><br><p>  Nick is a freshman.  On a course of algorithms, he studies trees.  On the algebra course, Nick studies polynomials.  Nick also loves what he sees.  Recently, he came up with a problem, but can not solve it.  Help him. </p><br><p>  Given a hanging tree with n vertices numbered from 1 to <em>n</em> .  Initially, the number 0 is written in each vertex of the tree. For the vertex <em>v,</em> we denote by <em>d</em> [ <em>v</em> ] the depth of the vertex <em>v</em> - the number of vertices on the path from the root of the tree to the vertex <em>v</em> , in particular, the root has a depth of 1. </p><br><p>  Given the number <em>k</em> .  Required to handle requests of two kinds. </p><br><ol><li>  Given the vertex <em>v</em> and the polynomial <em>q</em> ( <em>t</em> ) = <em>q</em> 0 + <em>q</em> 1 <em>t</em> + <em>q</em> 2 <em>t</em> <sup>2</sup> + ... + <em>qkt <sup>k</sup></em> .  For each vertex <em>u</em> in the subtree of the vertex <em>v,</em> it is necessary to add the value <em>q</em> ( <em>d</em> [ <em>u</em> ]) to the value at this vertex. </li><li>  Given the vertex <em>v</em> and the polynomial <em>q</em> ( <em>t</em> ) = <em>q</em> 0 + <em>q</em> 1 <em>t</em> + <em>q</em> 2 <em>t</em> <sup>2</sup> + ... + <em>qkt <sup>k</sup></em> .  For each vertex <em>u</em> on the path from the root to the vertex <em>v</em> , inclusive, it is required to add the value <em>q</em> ( <em>d</em> [ <em>u</em> ]) to the value at this vertex. </li></ol><br><p>  All actions are performed modulo 10 <sup>9</sup> + 7. </p><br><p>  Help Nick understand what numbers will be written in the tree tops after performing all the operations. </p><br><p>  <strong>Input Format</strong> </p><br><p>  The input contains several tests.  The first line contains the number <em>t</em> - the number of tests (1 ‚â§ <em>t</em> ‚â§ 10 <sup>5</sup> ). </p><br><p>  The following is a description of the tests.  The test description starts with the number <em>n</em> - the number of vertices in the tree, and the number <em>k</em> - the maximum degree of polynomials (1 ‚â§ <em>n</em> ‚â§ 10 <sup>5</sup> , 1 ‚â§ <em>k</em> ‚â§ 20). </p><br><p>  This is followed by <em>n</em> numbers <em>p</em> <sub>1</sub> , <em>p</em> <sub>2</sub> , ..., <em>p <sub>n</sub></em> , the number <em>p <sub>i</sub></em> specifies the parent number of the vertex <em>i</em> , or is 0 if the vertex <em>i</em> is a root.  It is guaranteed that the numbers <em>p <sub>i</sub></em> define the correct hanging tree. </p><br><p>  The next line contains the number <em>q</em> - the number of queries (1 ‚â§ <em>q</em> ‚â§ 10 <sup>5</sup> ).  The next <em>q</em> lines contain queries, the query description consists of the number <em>t</em> equal to 1 or 2 - the type of the query, followed by the number <em>v</em> - the number of the vertex, and then <em>k</em> + 1 integer <em>q</em> <sub>0</sub> , <em>q</em> <sub>1</sub> , ..., <em>q <sub>k</sub></em> - polynomial coefficients (0 ‚â§ <em>q <sub>i</sub></em> &lt;10 <sup>9</sup> + 7). </p><br><p>  It is guaranteed that the sum of the values ‚Äã‚Äãof <em>n</em> in all tests of one input data does not exceed 10 <sup>5</sup> .  Also, the sum of <em>q</em> values ‚Äã‚Äãin all tests of one input data does not exceed 10 <sup>5</sup> . </p><br><p>  <strong>Output format</strong> </p><br><p>  For each test, output <em>n</em> numbers, for each vertex, print the number that will appear in it after all the requests have been completed.  Once again we recall that all calculations are carried out modulo 10 <sup>9</sup> + 7. </p><br><p>  <strong>Examples</strong> </p><br><p>  Input data <br>  one <br>  4 2 <br>  2 4 2 0 <br>  3 <br>  1 2 0 1 0 <br>  2 3 1 0 0 <br>  2 1 0 0 1 </p><br><p>  Output <br>  12 7 4 2 </p><br><div class="spoiler">  <b class="spoiler_title">Task analysis</b> <div class="spoiler_text"><p>  We formulate the key ideas of the solution.  First, we note that the problem can be solved independently for two types of queries, since the operations are independent of the values ‚Äã‚Äãat the vertices. <br>  Secondly, instead of storing numbers at the vertices, we will store the sum of all polynomials, the results of which were applied to the values ‚Äã‚Äãat the vertices.  Then at the end, simply calculate the value of the polynomial at each vertex from its depth and obtain the value at the vertex. </p><br><p>  However, we cannot execute queries explicitly, considering all the vertices appearing in the query and adding the polynomials from the query to the polynomials stored in them: such a solution will work in <em>O</em> ( <em>n</em> <sup>2</sup> ‚Ä¢ <em>k</em> ) and will not meet the time constraints.  Therefore, we use the idea of ‚Äã‚Äãdeferred operations. </p><br><p>  In queries of the first type, you need to add the polynomial <em>q (x)</em> to each vertex of the subtree <em>v</em> .  To do this, just leave a note that it needs to be done: we will store the <em>push1 [v]</em> polynomial at the vertex <em>v</em> , and when we perform the first type of query, we add the <em>q</em> polynomial to the <em>push1 [v]</em> polynomial.  Similarly, for requests of the second type, we will use the <em>push2 [v]</em> polynomial, which for each vertex will store the sum of polynomials from the second type of queries to this vertex. </p><br><p> Let now <em>sum1 [u]</em> be the sum of all polynomials that should have been taken into account at the top of <em>u</em> in queries of the first type.  To calculate <em>sum1 [u],</em> perform a deep search from the root of the tree, which will support the polynomial <em>cur</em> , add the value <em>push1 [v] to it</em> when you visit the new vertex <em>v</em> and subtract it back when you exit it.  Accordingly, being at the vertex <em>u</em> , we assign <em>sum1 [u] = cur</em> . </p><br><p>  In the same way, let‚Äôs denote by <em>sum2 [u] the</em> sum of all polynomials that should have been taken into account at vertex u in queries of the second type.  To calculate <em>sum2 [u], we</em> also use depth traversal.  The value of <em>sum2 [u]</em> is equal to the sum of the values ‚Äã‚Äãof <em>sum2 [v]</em> for children <em>u</em> and the values <em>push2 [u]</em> . </p><br><p>  Having received polynomials <em>sum1 [u]</em> and <em>sum2 [u]</em> at each vertex, we calculate their value from <em>d [u]</em> and add, the result will be the answer.  Solution time is <em>O (nk)</em> . </p></div></div><br><h2 id="e-krasivyy-otchyot">  E. Beautiful report </h2><br><p>  Time limit - 5 seconds <br>  Memory limit - 256 megabytes </p><br><p>  Andrey is engaged in the analysis of the subscription graph in one social network.  This graph is oriented: if user <em>a is</em> subscribed to user <em>b</em> , then user <em>b is</em> not necessarily subscribed to user <em>a</em> . </p><br><p>  The manager Andrei asked him to calculate for each user <em>x</em> how many user <em>y</em> exist, such that from user <em>x</em> you can get in the subscription column to user <em>y</em> . </p><br><p>  Typing the exact value does not make sense, because it looks ugly and instantly out of date, therefore, you are only interested in approximate value.  Perform the task manager and find these values ‚Äã‚Äãwith an error no more than twice. </p><br><p>  <strong>Input Format</strong> </p><br><p>  The first line contains integers <em>n</em> and <em>m</em> (1 ‚â§ <em>n</em> , <em>m</em> ‚â§ 200 000) - the number of users of the social network and the number of situations when one user is subscribed to another. </p><br><p>  Further, in <em>m</em> lines there is a description of the graph, the <em>i</em> -th of these lines contains two integers <em>a <sub>i</sub></em> and <em>b <sub>i</sub></em> (1 ‚â§ <em>a <sub>i</sub></em> , <em>b <sub>i</sub></em> ‚â§ <em>n</em> , <em>a <sub>i</sub></em> <em>b <sub>i</sub></em> ) and means that user <em>a <sub>i is</sub></em> subscribed to user <em>b <sub>i</sub></em> .  Each ordered pair ( <em>a <sub>i</sub></em> , <em>b <sub>i</sub></em> ) occurs in the input data no more than once. </p><br><p>  <strong>Output format</strong> </p><br><p>  Print <em>n</em> integers <em>q <sub>i</sub></em> - the estimate for the number of users <em>y</em> , such that you can get from user <em>i</em> in the subscription column to user <em>y</em> .  If the present number of such pairs is <em>z <sub>i</sub></em> , the inequalities <em>q <sub>i</sub></em> ‚â§ 2 <em>z <sub>i</sub></em> and <em>z <sub>i</sub></em> ‚â§ 2 <em>q <sub>i</sub></em> must be satisfied.  In addition, it is permissible for no more than 10 users to output <em>q <sub>i</sub></em> that does not satisfy the specified restrictions. </p><br><p>  Note: The jury uses the exact number of users sought to check your answers.  In this case, the jury does not guarantee that the exact number can be found within the limits of time and memory, and recommends using the opportunity to derive an approximate value. </p><br><p>  In the example from user 1 you can reach all five users.  However, the shown answer 7 is also admissible, since it differs from 5 no more than twice.  Similarly, answer 2 for user 4 is valid. </p><br><p>  <strong>Examples</strong> </p><br><p>  Input data <br>  5 6 <br>  12 <br>  13 <br>  2 4 <br>  2 5 <br>  3 5 <br>  4 2 </p><br><p>  Output <br>  7 <br>  3 <br>  2 <br>  2 <br>  one </p><br><div class="spoiler">  <b class="spoiler_title">Task analysis</b> <div class="spoiler_text"><p>  Before solving the main task, we solve the following problem, which is weakly connected with the original one: the input is a sequence of elements ( <em>a</em> <sub>1</sub> , <em>a</em> <sub>2</sub> , ..., <em>a <sub>n</sub></em> ), and the number of different elements in the sequence must be calculated.  The peculiarity of this task: </p><br><ol><li>  The elements can be read only sequentially and only once: after reading the element <em>a <sub>i</sub></em> there will be reading <em>a <sub>i</sub></em> + 1, it is impossible to return to <em>a <sub>i</sub></em> . </li><li>  You cannot use more O (1) additional memory. </li></ol><br><p>  To approach the solution of this subtask, recall that the expectation of the minimum of random variables uniformly distributed on the interval [0; 1] is 1 / ( <em>m</em> + 1).  For example, if you take four random numbers from the interval [0; 1], then the minimum of these numbers will be on average 0.2. </p><br><p>  Take the hash function <em>h</em> : <em>A</em> ‚Üí [0; 1], mapping the elements <em>a <sub>i</sub></em> to numbers on the interval [0; 1].  Calculate the value <em>M = min {h (a <sub>1</sub> ), h (a <sub>2</sub> ), ..., h (a <sub>n</sub> )}</em> .  As a response to the problem, let us return 1 / <em>M</em> - 1. The problem with this solution: we may not be lucky ‚Äî for example, <em>h (a <sub>i</sub> )</em> will be very small, which will significantly affect the answer.  To smooth this problem, we repeat the described process several times for different hash functions <em>h</em> <sub>1</sub> , <em>h</em> <sub>2</sub> , ..., <em>h <sub>k</sub></em> for some fixed <em>k</em> and average the results obtained. </p><br><p>  Let us return to our task of finding the number of reachable vertices.  We first consider the case of an acyclic graph.  It differs from the graph with cycles, including the fact that it has topological sorting: such a sequence of vertices, in which the edges of the graph go only from the vertices that are in a later order, to the vertices that are in the earlier order.  Topological sorting will allow to calculate for the graph in which at each vertex a random number from the segment [0; 1] is written, which minimum number is reachable from each vertex.  This can be done with the help of dynamic programming: viewing the vertices in the order of topological sorting will allow you to calculate the value for the current vertex based on those already found reachable from it.  Considering the minimum attainable number <em>M <sub>i</sub></em> from each vertex, you can specify the answer for this vertex 1 / <em>M <sub>i</sub></em> - 1. The described need to be repeated several times and the results averaged. </p><br><p>  However, in this problem there can be cycles in the graph.  To solve this problem, we construct a condensation graph.  In the obtained acyclic graph, in each vertex there are actually several vertices of the initial graph.  For all these vertices the answer will be the same.  The difference in calculating the answer will be that the vertex is written not a random number from [0; 1], but a minimum of wi random numbers from [0; 1], where <em>w <sub>i</sub></em> is the number of vertices of the initial graph contained in the <em>i</em> top of the condensed. </p></div></div><br><p>  A curious reader can learn more about the method of solving this and some other similar problems in the article ‚ÄúSize-Estimation Framework with Applications for Transitive Closure and Reachability‚Äù available <a href="http://cohenwang.com/edith/Papers/tcest.pdf">here</a> . </p><br><h2 id="otborochnyy-raund-sovsem-skoro">  Qualifying round soon </h2><br><p>  We remind you: the qualifying stage will be held on May 14 from 1:00 pm to 3:00 pm Moscow time.  Slightly more than 600 participants will take part in the round, and only 50 of the best will reach the final, which will be held on September 10. </p><br><p>  Now, thanks to the <a href="https://t.me/mrgrcc">official championship chat,</a> you can ask your question directly to the organizers.  And also to ask for advice, share suggestions on solving problems, talk on various topics related to sports programming.  They will help you with fresh ideas and kind words. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/327592/">https://habr.com/ru/post/327592/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../327582/index.html">How does the testing of the developers KOMPAS-3D</a></li>
<li><a href="../327584/index.html">Development: technical task on the site or concept?</a></li>
<li><a href="../327586/index.html">Cheeky telegram bot</a></li>
<li><a href="../327588/index.html">We are testing a new line of SSD VPS + a little insider from the life of a hoster</a></li>
<li><a href="../327590/index.html">Gixy - open source from Yandex, which will make configuring Nginx safe</a></li>
<li><a href="../327594/index.html">How to use the HTTP API to send emails</a></li>
<li><a href="../327596/index.html">Tale of creating a classic RTS at home from scratch (Part 2: "Resurrection")</a></li>
<li><a href="../327598/index.html">Security Week 17: DoublePulsar broke free, a hundred thousand Linksys found holes, SMSVova expelled from Google Play</a></li>
<li><a href="../327600/index.html">Outstanding portfolio creation guide</a></li>
<li><a href="../327604/index.html">learnopengl. Lesson 1.9 - Camera</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>