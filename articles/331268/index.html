<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to run add-on bitcoin blockchain</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Lightning Network (LN) is probably one of the most anticipated innovations for Bitcoin blockchain. The idea first proposed by Joseph Poon (Joseph Poon...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to run add-on bitcoin blockchain</h1><div class="post__text post__text-html js-mediator-article">  Lightning Network (LN) is probably one of the most anticipated innovations for Bitcoin blockchain.  The idea first proposed by Joseph Poon (Joseph Poon) and Taj Dria (Tadge Dryja) about two years ago.  Lightning Network promises support for an unlimited number of transactions between users performed in a network of payment channels deployed on top of the blockchain.  At the same time, the system inherits the reliability of Bitcoin blockchain. <br><br>  Several companies are working on the implementation of the LN protocol, including Lightning Labs, Blockstream, ACINQ, and Bitfury.  This technology will allow to make micropayments using bitcoins, which will significantly expand the possibilities and scope of cryptocurrency.  In this article we will talk about what the Lightning Network concept is built on and how this network works. <br><br> <a href="https://habrahabr.ru/company/bitfury/blog/331268/"><img src="https://habrastorage.org/web/523/9db/87b/5239db87bf6643a69b0000327b10052f.jpg"></a> <a name="habracut"></a>  <i>/ image <a href="https://www.flickr.com/photos/aiari/5677230288/">Iraia Mart√≠nez</a> <a href="https://creativecommons.org/licenses/by/2.0/">CC</a></i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <a href="https://lightning.network/">Lightning Network</a> is a network of two-way payment channels through which you can perform an unlimited number of transactions, without recording each transaction in the blockchain.  The network is built according to the principles of mesh networks, that is, it is decentralized and distributed. <br><br>  This allows you to eliminate the threat of transaction censorship and violation of users' privacy, monopolization of the transaction processing market, and also to avoid having a single point of failure.  The security of the system is ensured with the help of contracts with hashing and temporary blocking, which are implemented using built-in bitcoin scripts. <br><br>  The concept of <a href="https://bitcoinmagazine.com/articles/checklocktimeverify-or-how-a-time-lock-patch-will-boost-bitcoin-s-potential-1446658530">payment channels</a> was introduced even before the Lightning Network.  Classic payment channels are useful for performing a certain range of tasks, but they have a limitation - they are unidirectional.  In this case, one user can send Bitcoins to another, but to perform the reverse operation, you will have to create a new channel.  Therefore, Poon and Dria proposed to introduce trustworthy bidirectional payment channels. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/53e/8eb/e2f/53e8ebe2f32740c6b260a11a4357e060.png" width="400"></div><br>  <i><a href="http://bitfury.com/content/5-white-papers-research/whitepaper_flare_an_approach_to_routing_in_lightning_network_7_7_2016.pdf">Lightning high-level network layout</a></i> <br><br>  As a result, two users are able to conduct transactions among themselves within the payment channel without any restrictions.  The funds transferred in this way become ‚Äúreal‚Äù at the moment when the last (closing) transaction is sent and recorded in the Bitcoin blockchain.  Consider in more detail how this works. <br><br><h2>  <b>Establishing Bidirectional Channel</b> </h2><br>  To <a href="https://bitcoinmagazine.com/articles/understanding-the-lightning-network-part-building-a-bidirectional-payment-channel-1464710791/">set up a</a> bidirectional payment channel, two participants define a funding transaction ‚Äî that is, they deposit a certain amount of funds to one 2-of-2 multisig address.  Bitcoins at this address can be spent (sent to other bitcoin addresses) only if the transaction is signed by both channel creators (we will call them Alice and Bob) with their private keys.  Each member of the payment channel has exactly one private key.  In addition, participants generate secrets ‚Äî random sequences of bits ‚Äî and exchange their hashes. <br><br>  After that, Alice forms a so-called commitment transaction based on the opening transaction.  This transaction, being published on the blockchain, sends the number of bitcoins available on the channel to the address controlled by Alice, and the balance to another multisig address.  This second address can be unblocked by Bob, but only after 1 thousand blocks arrive in the blockchain.  In general, a delay of 1 thousand blocks is a parameter that is configured when a channel is opened. <br><br>  Also, bitcoins at this address can be unlocked by Alice, but only if she attaches a secret, the hash of which Bob sent to her at the time of the channel establishment (she does not know the secret, therefore she cannot unblock bitcoins immediately).  Then Alice signs a transaction commitment, but sends it not to the blockchain, but directly to Bob.  This transaction will allow Bob to close the channel at any time by publishing it to the blockchain, which will cause Alice to receive her money instantly, and Bob will be able to pick up her bitcoins with a delay of 1,000 blocks.  In turn, Bob creates the same but symmetrical transaction, then signs it and sends it to Alice. <br><br>  After exchanging semi-correct transactions, Alice and Bob sign and send the funding transaction to the blockchain.  It is believed that after that the bidirectional channel is open.  Now both Alice and Bob can send money to each other within the payment channel directly and an unlimited number of times.  At the same time, Alice and Bob must draw up new transaction-commitments with an updated distribution of funds in the channel and with new secrets (which they again sign and send to each other). <br><br>  However, now both participants reveal their secrets from the previous operation.  This makes it impossible for them to send a previous transaction to the blockchain in order to get bitcoins already sent: for example, if Alice tries to send an old obligation from Bob to the network, Bob will be able to pick up all bitcoins from the established channel.  This means that Alice and Bob are economically interested in following the rules and broadcasting only actual transactions to the network. <br><br>  If Alice and Bob want to <a href="https://bitcoinmagazine.com/articles/understanding-the-lightning-network-part-completing-the-puzzle-and-closing-the-channel-1466178980/">close the</a> channel by mutual agreement, they can simply create a transaction that overrides everything that happened after the opening transaction.  After its signing and sending the channel is considered closed.  Thus, only opening and closing transactions will be transferred to the bitcoin network, even if between Alice and Bob made millions of payments to each other.  It is this feature that allows you to significantly unload the blockchain. <br><br><h2>  <b>Networking and tripartite sharing</b> </h2><br>  If one of the participants in a bilateral channel <a href="https://bitcoinmagazine.com/articles/understanding-the-lightning-network-part-creating-the-network-1465326903/">wants</a> to transfer bitcoins to a third party, he can use his ‚Äúpartner‚Äù as a guarantor of the transaction (if the latter already has a payment channel with a third party).  Suppose Alice wants to send one bitcoin to a third party, say Carlos.  She can send this bitcoin to Bob, after which Bob will send him to Carlos as an intermediary. <br><br>  The integrity and security of such a transaction is achieved through the use of cryptography techniques.  Alice asks Carlos to generate a secret and send her his hash to her, and exchange the secret for a bitcoin from the Bob channel.  After that, she returns Bitcoin to Bob when he provides the secret obtained from Carlos (Alice‚Äôs hash is known and she can easily verify the accuracy of the secret).  At the same time, Bob can withhold a small and pre-negotiated part of bitcoins as a commission for making a payment. <br><br>  In this scenario, the broker (Bob) should not trust Carlos and Alice.  To ensure its security, so-called hash and temporary blocking contracts (HTLC) are used.  When creating an HTLC channel Alice-Bob, bitcoins are sent to a new address with a multi-signature, which can be unblocked in two ways: either Bob specifies the address and secret, or Alice specifies only the signature - however, in the latter case, the <a href="https://bitcoinmagazine.com/articles/checklocktimeverify-or-how-a-time-lock-patch-will-boost-bitcoin-s-potential-1446658530">CLTV lock</a> will work: network only after a certain (long) time.  During this time, Bob must have time to create a transaction with a signature and a value in order to get the funds locked.  Thus, as soon as Bob gives the money to Carlos, he learns the secret, which means that he is guaranteed to be able to withdraw his money from the channel with Alice.  This idea is generalized to more than one intermediary. <br><br><h2>  <b>Lightning Network Routing</b> </h2><br>  The Lightning Network technology is considered to be one of the best solutions for increasing the bandwidth of the Bitcoin network, offering, as already noted, a way to perform most transactions outside the blockchain.  One of the defining features of LN is the ability to send payments to any member of the network through a chain of payment channels between users.  Due to this, network members may not create new payment channels every time they need to conduct a transaction with a network member with which there is no payment channel.  However, the construction of the route of payment channels from the recipient to the sender is quite a difficult task - it is necessary to select the optimal path (according to different criteria, for example, by time or cost), which would allow Bitcoins to ‚Äúpass‚Äù from the sender to the recipient. <br><br>  The bitcoin community offered several routing algorithms for LN.  One of the first decisions was the proposal to divide the nodes into two classes: wallets and routing nodes (hubs), which are remunerated for their services.  The first could only make payments, and the second - redirect them.  This scheme proved to be quite effective, since the knowledge of all the hubs allows you to accurately build a route to any node.  At the same time, such an approach was detrimental to the concept of decentralization, one of the principles of the Bitcoin network. <br><br>  Therefore, another idea was proposed.  Several nodes daily and randomly received the status of "beacons".  All nodes tried to make routes to these lighthouses and use the built ‚Äútracks‚Äù to send payments.  This scheme turned out to be more decentralized than the previous one, however, open for conducting Sibylla attacks (since being in the status of a beacon is beneficial for the node).  Moreover, most of the built routes became useless after changing the cluster of lighthouses. <br><br>  Therefore, Bitfury <a href="http://bitfury.com/content/5-white-papers-research/whitepaper_flare_an_approach_to_routing_in_lightning_network_7_7_2016.pdf">proposed a</a> new (hybrid) version of the routing algorithm, called Flare.  The algorithm consists of two stages.  The first is a proactive update of the subset scheme of existing channels, which stores information about the general network topology.  The second stage is the reactive construction of the route based on the request for finding the path to a specific recipient, as well as collecting dynamic information about the LN network - the size of the commissions, the reliability of the nodes, the delay time, etc. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/fd0/024/49c/fd002449cdc04fdf91384d971d2c83b0.png" width="400"></div><br>  <i><a href="http://bitfury.com/content/5-white-papers-research/whitepaper_flare_an_approach_to_routing_in_lightning_network_7_7_2016.pdf">Flare routing algorithm</a></i> <br><br>  The information gathered at the proactive stage includes the channels of the closest nodes (environment) and the paths to randomly selected nodes (personal beacons) at a remote distance.  The existence of payment channels is verified using bitcoin blockchain information and data provided by channel members. <br><br>  Each node updates its network information by regularly filling out the routing table.  When a node decides to send bitcoins using LN, it looks at its own routing table and the nearest neighbor table that is closest to the destination in the address space to find the likely routes in the network.  The table defines the subsystem of open channels and helps to find the recipient of funds (or, if it was not possible to find it, identifies those beacons that can "help" with this). <br><br>  As a result, the node has at its disposal a map of the local environment within the network with random "areas of visibility" formed by beacon nodes.  The combination of local nodes and beacon nodes allows customers to minimize the cost of routing and increase the likelihood of finding a route. <br><br>  Using this specification, the ACINQ research team was able <a href="https://medium.com/%40BitFuryGroup/bitfury-lightning-network-algorithm-successfully-tested-935efd43e92b">to</a> implement and test the algorithm on 2.5 thousand AWS nodes.  True, the part that was tested was only the first of the two stages of Lightning routing.  However, according to the test results, it was found that the Flare algorithm is able to determine the payment path in 5 seconds with a probability of 80%.  And this is a very good step towards the commercial implementation of the Lightning network. </div><p>Source: <a href="https://habr.com/ru/post/331268/">https://habr.com/ru/post/331268/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../331258/index.html">Atmosphere at InfoWatch</a></li>
<li><a href="../331260/index.html">CocoaHeads Russia in Tutu.ru office</a></li>
<li><a href="../331262/index.html">How can PVS-Studio help in finding vulnerabilities?</a></li>
<li><a href="../331264/index.html">Analytical tools: a review of lucrative offers</a></li>
<li><a href="../331266/index.html">Hosting provider paid a million dollars to ransomware hackers</a></li>
<li><a href="../331270/index.html">Speed ‚Äã‚Äãreading: does it work or not? Part 1</a></li>
<li><a href="../331272/index.html">GraphicsJS - Graphic JavaScript Library</a></li>
<li><a href="../331274/index.html">Material motivation of staff in the department of Internet marketing</a></li>
<li><a href="../331276/index.html">Antipatterns to search for applicants</a></li>
<li><a href="../331280/index.html">Kotlin aftertaste, part 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>