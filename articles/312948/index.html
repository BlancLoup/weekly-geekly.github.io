<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How I created seamless Wi-Fi</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In our office, not so long ago, there was a task to make a seamless Wi-Fi-coverage, we were patient for a long time and were re-processed, but in the ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How I created seamless Wi-Fi</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/b79/536/d05/b79536d05f854516853b185bd73bd9d2.jpg"><br><br>  In our office, not so long ago, there was a task to make a seamless Wi-Fi-coverage, we were patient for a long time and were re-processed, but in the end we did it.  I will share the experience as it was.  It began with the fact that two years ago we completely switched to IP-PBX and almost wiped out analog phones including, as a result, DECT.  However, portable handsets are needed and in addition to the desktop SIP phones, we bought several Wi-Fi Tecom phones.  I myself, as a responsible for the technical part in the company, constantly go around the office with various Wi-Fi devices, and of course, too.  Many in their hands mentioned Wi-Fi SIP-phones, + in-store a couple of Wi-Fi terminals, there are simply Androids and Apples with installed SIP-clients from PBX.  Previously, everything was decided by several Wi-Fi routers, in principle, it was also acceptable (the office is small), but just as long as you sit still - everything went, everything ended, the conversation went on, and the Skype connection crashes even faster.  It became pretty annoying to the management and managers and the raids went that the Wi-Fi was not Wi-Fi.  Attempts to simply increase the number of routers have clearly not solved the problem. <br><br>  I began to read and still read that everything was invented before us a long time ago.  There are Wi-Fi points that can make a client transfer to each other without breaking or almost without breaking the connection.  Moreover, there is a lot of such equipment on the market, it remains only to choose according to budget and adequacy.  It turned out that there are a lot of publications on this topic in the foreign Internet, we have less.  A huge disadvantage of these systems is that they all want a controller that stands as a cast-iron bridge and some of the particularly greedy ones also need licenses to connect each point.  I brought a quote to our office on one such reputable equipment, the general‚Äôs eyes widened and the answer was visible on his face even before he had finished reading this calculation. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In general, as the task is studied, a sport interest has already awakened - is it possible to make a smooth WiFi-coverage (just like on the forums) into normal money and so without these controllers?  It turned out you can. <br><a name="habracut"></a><br>  True, the choice of the option took time, but after zaguglivaniya it turned out that we need access points that support the protocols 802.11r and 802.11k.  These protocols are responsible for fast, almost instant switching of subscribers from one point to another.  The market gives a lot of options with the support of these protocols, but either past the price or again on the controller.  As a result, stumbled upon the desired option quite by accident.  There was a summer in the Ibis hotel in Kazan on the weekends with my wife and in all the corridors on the ceiling there were "pancakes" with the inscription EDIMAX.  When you look for a long time and intently, you begin to pay attention to how it is done ‚Äúin adults‚Äù.  Googled what it is, found it - it turned out not to be a great problem.  And lo and behold!  This Edimax turned out to work without a controller.  All that is needed is to assign one of the points as a controller. <br><br>  On the manufacturer's website there was such a clever picture, where they praise how everything ‚Äúflows‚Äù from one point to another. <br><br><img src="https://habrastorage.org/files/506/4f1/705/5064f170576f4aae8b226703064cb02c.jpg"><br><br>  For her, to be honest and caught.  The same two floors are drawn like ours, the stairs are straight shot to the head. <br><br>  Looked closer specifications - seems to fit, the price is not shocking. <br>  We first bought two: 1 ceiling and one wall (honestly embarrassed that I hadn‚Äôt come across this brand before, but the benefit of the OZPP gives us 14 days to return). <br>  And, oddly enough, it worked. <br><br>  Now in order. <br><br>  First, a little theory.  Briefly about the mentioned 802.11r / k protocols (excerpts from the Internet): <br><br>  <i>802.11k</i> - reduces the search time for access points with the best signal parameters.  According to this protocol, information about neighboring access points and the status of their channels is transmitted to the client. <br><br>  That is, as I understand it, even without starting the movement, the subscriber device already knows in advance where roaming is possible, and which access point will serve it better.  And this is actually what we need. <br><br>  <i>802.11r</i> - uses Fast Basic Service Set Transition technology, which allows you to store encryption keys for everyone from network access points.  As a result, the client is released from the process of full authentication with the server - all you need is 4 short messages to go to the new access point.  This property allows you to spend on the transition no more than 50 milliseconds. <br><br>  In general, these protocols turned out to be very common, but not all subscriber / client devices and even access points on the market support these protocols.  Although, for example, apple devices (as if someone did not belong to them) turned out to support these standards almost from 2011.  Therefore, building a connection, so to speak, based on household access points, will reduce the attempt to organize seamless roaming to nothing - without 802.11k / r support, switching can take up to 3 seconds.  About the seamlessness with such lags in the switching of speech does not go!  What I stumbled upon in my experiments with routers. <br><br>  Now turn to the direct construction of a WiFi network.  As I said, we initially took 2 points of this Edimax and, after a successful test, we expanded the park a little within the budget.  I specifically took several different access points (of course, the same manufacturer), working both in the 802.11ac standard and only in the 802.11n, for the network as a whole it does not matter.  Basically, they support the 802.11k / r protocols.  Why took different?  - they have different radiation patterns and some of them are cheaper.  For example, in places where there are few subscribers, I put relatively simple access points, and in negotiation rooms, with management, as well as other places where people had more top-mounted models.  Well, again, Wi-Fi AC, fashionable, fast and free range of 5 GHz.  And they don't care about the warehouse and the N300 will go. <br><br>  As for specifics, I chose from the EDIMAX PRO models: <a href="http://www.edimax-ru.eu/edimax/merchandise/merchandise_detail/data/edimax/ru/smb_access_points_n300_ceiling_mount/cap300/">CAP300</a> , <a href="http://www.edimax-ru.eu/edimax/merchandise/merchandise_detail/data/edimax/ru/smb_access_points_ac1750/cap1750/">CAP1750</a> , <a href="http://www.edimax-ru.eu/edimax/merchandise/merchandise_detail/data/edimax/ru/smb_access_points_ac1200/wap1200/">WAP1200</a> and <a href="http://www.edimax-ru.eu/edimax/merchandise/merchandise_detail/data/edimax/ru/smb_access_points_ac1750/wap1750/">WAP1750</a> .  And the WAP1750 in this case acts as a controller.  Generally, Edimax has a lot of personal household type network equipment, but you shouldn‚Äôt be confused with it, I‚Äôm talking about their business series now and it‚Äôs really not bad equipment according to my feelings. <br><br>  <b>About installation:</b> <br><br>  Placed access points in the office. <br><br><img src="https://habrastorage.org/files/ab3/362/b78/ab3362b78aa34e97a71a9f709977fe18.jpg"><br><br>  I received the broadcast according to the plan that you see on the screenshot of the Edimaks point control system.  It is at every point, and in principle, any one could be a controller.  This system provides the e-map function.  That is, you can drag in the web-interface the scheme of the building or the territory there and indicate the scale and places where there are points.  As a result, the system will show approximate coverage areas.  In general, not a breakthrough, but convenient. <br><br><img src="https://habrastorage.org/files/e05/1a6/5f7/e051a65f7c904ae1953dca58ad88ed26.jpg"><br><br>  In my office there are two floors and for the test I placed one access point in the meeting room on the first floor (on the plan to the right), and the other three access points were located on the second along the corridor.  I emphasize that the signal level everywhere should be good enough - yet I do seamless roaming and here it is unacceptable to walk with a laptop and look for the place of the best reception.  The screenshot shows the stage of about half of the work, only 4 points are mounted, now there are already 7 of them. All the points are RoE-shny, so I had to start another PoE switch on the farm.  Available ports were already occupied by phones.  As a result, every corner is covered and the same Tekomovskie phones work on the network better than DECTs. <br><br>  By the way, photos of real access points involved in solving the problem: <br><br><img src="https://habrastorage.org/files/1e8/b54/54d/1e8b5454d1c94d58907da2a324f101f8.jpg"><br><br>  <i>- EDIMAX CAP300</i> <br><br><img src="https://habrastorage.org/files/923/c80/e27/923c80e2718a409b83b519ae8ab6de04.jpg"><br><br>  <i>- EDIMAX WAP1200</i> <br><br><img src="https://habrastorage.org/files/573/b1a/59f/573b1a59f91f4aeb93960b0b24aae665.jpg"><br><br>  <i>- EDIMAX CAP1750</i> <br><br>  This is the Edimaks most fashionable point.  Built-in MIMO 3x3 antenna, 2 ranges and all cakes.  In the picture it is not big, but in real life it is slightly more than the brothers SAR300 / SAR1200 - the size of a small pancake pan with low sides. <br><br><img src="https://habrastorage.org/files/aad/16a/4f8/aad16a4f805a4dc3b440523dc309a0e7.jpg"><br><br>  <i>- EDIMAX WAP1750</i> <br><br>  At the ceiling points, the radiation pattern is approximately 190 degrees for the wall 360 and the antenna is external, therefore more powerful and illuminate spherically.  But for the sake of truth, I would like the antennas to be a little more powerful.  I put WAPs in ‚Äúlonely‚Äù zones and difficult places with thick floors.  In principle, the brick wall and ceiling pierces, but the horns would be more powerful would be even better.  Perhaps in the future I will replace with other third-party antennas the benefit of the connector at the WAP-points of the standard RP-SMA.  Along the way, the problem has surfaced that there are almost no 2.4 + 5 GHz combined antennas on the market.  Why not understand.  The advantage of WAPs is the presence of 2 ROE ports, POE at the input (the point itself is powered) and POE af at the output, you can connect something else to it.  In the conditions of my shortage, the PoE ports can be very useful in the future. <br><br>  So, after the installation of the points, we proceed to the roaming setting itself.  We turn to the WAP1750 point planned to be a controller and tell her that she is now the leader in the pack.  We check the connection with other points, open the Edimax Pro NMS control panel (Network Management Suite) and see that all access points are on the network. <br><br><img src="https://habrastorage.org/files/19d/b06/c15/19db06c15c6f4a8591a5621f6199bc1b.jpg"><br><br>  Everything lives, stupid checking of Internet access in different parts of the office says that everything seems to be OK.  The connection is not broken, but you need to somehow make sure that it is so on something more substantial. <br><br>  Well, let's get to the most important thing - we are testing the network in load (There comes a moment of truth. Now we‚Äôll check who is really lying).  To do this, we carry out field tests - we load WiFi with streaming video downloaded from YouTube and broadcast it to the network.  It would be possible to connect directly to YouTube, but then we would depend on an external Internet channel, where there are theoretically possible failures that would affect the purity of the experiment. <br><br><img src="https://habrastorage.org/files/f08/b00/50e/f08b0050eb2b4418a33829c3fd07821b.jpg"><br><br>  Now the most important thing is to take a tablet, pick up a video, broadcast it over a Wi-Fi network, and go around the office.  I move from one room to another, go along the corridor, go down the stairs to the floor below, walk there, go upstairs and come to the starting point.  The whole process took a few minutes, was registered by an external action camera and is located by <a href="https://youtu.be/-P2sBGrKUqw">reference</a> . <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/-P2sBGrKUqw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  The following <a href="https://youtu.be/AQqbtiSgj7k">link</a> can be seen the same video, but with a show of the process of preparing the broadcast. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/AQqbtiSgj7k" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  I ask you not to judge strictly for the quality of the shooting and still look at both materials, but here I cite only a few still frames. <br><br><img src="https://habrastorage.org/files/780/3fb/4f6/7803fb4f6a02444abee740c21ada57c8.jpg"><br><br><img src="https://habrastorage.org/files/84f/148/387/84f148387f9c4ecb8aa9ff2ee7883afe.jpg"><br><br><img src="https://habrastorage.org/files/64d/9a9/3bd/64d9a93bd59f425ca3f659e524042b83.jpg"><br><br>  Actually, this video is the main goal of the experiment.  I specifically installed the external camera so that both the tablet and the office were visible at the same time in order to confirm the purity of the tests.  Please note that the video with the motorcyclist flows smoothly, is not interrupted for a second and does not slow down.  And the word second in this case looks too large in scale - there are no failures even for a tenth of a second.  Naturally, if such heavy traffic as streaming video is broadcast without failures, then substantially lighter VoIP traffic is transmitted simply to URA. <br><br>  So, this function can be used for organizing voice communication inside offices via SIP phones or communicators, as is the case with us.  That is, DECT with such a normally constructed network is not needed at all. <br><br>  In this case, I didn‚Äôt go into details and didn‚Äôt show WiFi and network settings.  The purpose of the experiment was to demonstrate the possibility of organizing wireless access with seamless coverage and real roaming, which really works.  This turned out to be possible without a controller and most of the time took the installation and cable pulling.  The setup is elementary. <br><br>  I hope you repeat the experiment, make sure that I'm not lying.  Well, spread the best practices further.  And I will go to promote the director for the award.  Joke. <br><br>  PS I want the author of the video ‚ÄúMoto Trial in the City‚Äù Mikhail Vichkasov not to beat me for using his personal <a href="https://youtu.be/U5MU91GRjxQ">video</a> for my educational purposes. </div><p>Source: <a href="https://habr.com/ru/post/312948/">https://habr.com/ru/post/312948/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../312932/index.html">Algorithm of reading books on programming</a></li>
<li><a href="../312934/index.html">Setting up a dedicated Source server for Linux, part 3</a></li>
<li><a href="../312936/index.html">Setting up a Source Source Server for Linux, Part 4</a></li>
<li><a href="../312940/index.html">Free courses, books and other development materials</a></li>
<li><a href="../312942/index.html">What's new in Swift 3?</a></li>
<li><a href="../312950/index.html">Simplicity criteria</a></li>
<li><a href="../312952/index.html">Entertaining task ‚ÄúUnlucky Ticket‚Äù (Elixir edition)</a></li>
<li><a href="../312954/index.html">How to find subdomains in minutes?</a></li>
<li><a href="../312956/index.html">Use Veeam Cloud Connect. Store client backups and replicas</a></li>
<li><a href="../312958/index.html">7 services for monitoring sites</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>