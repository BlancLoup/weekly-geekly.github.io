<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Testing web applications with mechanize</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the footsteps of Habratopic about Watir , an automated testing tool for web applications in Ruby, I decided to write a short article about a simila...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Testing web applications with mechanize</h1><div class="post__text post__text-html js-mediator-article">  In the footsteps of <a href="http://kingofnothing.habrahabr.ru/blog/52551/">Habratopic about Watir</a> , an automated testing tool for web applications in Ruby, I decided to write a short article about a similar tool for the Python language.  It's about a wonderful library <a href="http://wwwsearch.sourceforge.net/mechanize/">mechanize</a> .  Unlike Watir, mechanize is not sharpened by any OS, and is a superstructure above the Python libraries urllib and urllib2. <br><br>  The library itself is a browser emulator (without javascript support) and allows you to solve problems of any class (with a debugging for ‚Äúdisabled‚Äù javascript) in which the use of a browser is necessary.  In particular, I first went to this library, when I had to download a huge number of scientific articles from a single repository that required authorization and stored PDF documents so that without the help of auxiliary tools I had to download only one document, which I did for 2 hours, until I didn‚Äôt remember WWW :: Mechanize PERL library (I read about its capabilities some time ago) and didn‚Äôt type <a href="http://www.google.ru/search%3Fq%3DWWW%253A%253AMechanize%2Bpython"><em>WWW :: Mechanize python</em></a> in Google, which led me to sorforge. <br><br>  But pretty lyrics. <br><a name="habracut"></a><br>  It all starts with the installation of the library.  It is best to read about this <a href="http://wwwsearch.sourceforge.net/mechanize/">in detail in the download section</a> .  In short, there are 3 main ways to get this library: <br><ul><li>  <a href="http://wwwsearch.sourceforge.net/mechanize/">download source from repository</a> </li><li>  <a href="http://wwwsearch.sourceforge.net/mechanize/">archive source download</a> </li><li>  <a href="http://wwwsearch.sourceforge.net/mechanize/">installation via easy_install</a> </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Personally, I chose a third way for myself, which makes no sense to describe in detail in this article, because I‚Äôll fail to write better and in more detail than it was done on the offsite. <br><br>  In order to show a couple of possibilities of this library, I wrote a small script that goes to Habr, tries to log in, and if I managed to do this, I search for the main Habratopik with the maximum number of comments and display all this to the user. <br><br><blockquote><ol><li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*- <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></font></code> </li> <li></li><li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li></li><li> <code><font color="black"><font color="#696969"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser #  ,      root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li></li><li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li></li><li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li></li><li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li></li><li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li></li><li> <code><font color="black"><font color="#696969"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() #        ,    <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li></li><li> <code><font color="black"><font color="#696969"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username #         max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) #          ,     <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></font></code> </li> <li> <code><font color="black"><font color="#696969"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> # ,         ,  br.links(...)   <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></font></code> </li> <li> <code><font color="black"><font color="#696969"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> #     <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) #   ,     <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li></li><li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> <li> <code><font color="black"><font color="#696969"># -*- coding: utf-8 -*-</font> <font color="#0000ff">import</font> re <font color="#0000ff">from</font> mechanize <font color="#0000ff">import</font> Browser <font color="#696969">#  ,     </font> root_url = <font color="#008000">'http://habrahabr.ru/'</font> login_url = <font color="#008000">'http://habrahabr.ru/login/'</font> username = <font color="#008000">'krig'</font> userpass = <font color="#008000">'******'</font> comments_re = r <font color="#008000">'habrahabr\.ru/blog.*/#comments'</font> count_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'(\d+)\s*\+(\d+)'</font> ) post_id_re = <b>re</b> . <b>compile</b> ( <font color="#008000">'habrahabr\.ru/blog.*/(\d+)/#comments'</font> ) <font color="#0000ff">def</font> <font color="#cc6633">is_logged_in</font> (page_text): <font color="#0000ff">return not</font> login_url <font color="#0000ff">in</font> page_text br = Browser() home_page = br. <b>open</b> (root_url) <font color="#0000ff">print</font> <font color="#008000">'  '</font> , br.title() <font color="#696969">#        ,   </font> <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (home_page.read()): <font color="#0000ff">print</font> <font color="#008000">" "</font> br.follow_link(text= <font color="#008000">''</font> ) br.select_form(name= <font color="#008000">"login"</font> ) br[ <font color="#008000">"login"</font> ] = username br[ <font color="#008000">"password"</font> ] = userpass result_page = br.submit() <font color="#0000ff">if not</font> <font color="#cc6633">is_logged_in</font> (result_page.read()): <font color="#0000ff">print</font> <font color="#008000">"  "</font> exit( <font color="#008000">1</font> ) <font color="#0000ff">else</font> : <font color="#0000ff">print</font> <font color="#008000">"  "</font> , username <font color="#696969">#        </font> max = zero_comments = 0 title = url = <font color="#008000">''</font> <font color="#0000ff">print</font> <font color="#008000">"    "</font> br. <b>open</b> (root_url) <font color="#696969">#          ,    </font> <font color="#696969"># ,         ,  br.links(...)  </font> <font color="#696969">#    </font> <font color="#0000ff">for</font> comments_url <font color="#0000ff">in</font> [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=comments_re)]: m = count_re.search(comments_url.text) <font color="#696969">#   ,    </font> <font color="#0000ff">if not</font> m: zero_comments += <font color="#008000">1</font> <font color="#0000ff">else</font> : <font color="#0000ff">if</font> <b>int</b> (m.group( <font color="#008000">1</font> )) &gt; max: max = <b>int</b> (m.group( <font color="#008000">1</font> )) habrapost_id = post_id_re.search(comments_url.absolute_url).group( <font color="#008000">1</font> ) post_url = [url <font color="#0000ff">for</font> url <font color="#0000ff">in</font> br.links(url_regex=r <font color="#008000">'habrahabr\.ru/blog.*/'</font> + habrapost_id + <font color="#008000">'/?$'</font> )][0] title = post_url.text url = post_url.absolute_url <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , zero_comments <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , max <font color="#0000ff">if</font> max: <font color="#0000ff">print</font> <font color="#008000">'  :'</font> , title <font color="#0000ff">print</font> <font color="#008000">'    :'</font> , url</font></code> </li> </ol></blockquote><br>  <a href="http://s-c.me/dw">Source</a> <br><br>  Run the script and get something like: <br><pre>  $ python habratest.py 
 Welcome to Habrahabr
 Trying to login
 Successfully logged in as krig
 We are starting to search for articles on the main page.
 Habratopikov without habrakatment: 0
 Maximum number of habrakazment: 72
 Most Commented Topic: Free Computers
 And it is located at: http://habrahabr.ru/blogs/startup_ideas/52540/ </pre><br><br>  Other, no less interesting features of this wonderful library, you can look at its <a href="http://wwwsearch.sourceforge.net/mechanize/">offsite</a> . <br></div><p>Source: <a href="https://habr.com/ru/post/52554/">https://habr.com/ru/post/52554/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../52548/index.html">These trailing images.</a></li>
<li><a href="../52549/index.html">Google Translate Non Ajax API</a></li>
<li><a href="../52551/index.html">Watir - Automated testing tool. Installation and the first script.</a></li>
<li><a href="../52552/index.html">Course "Interactive Communication in Advertising"</a></li>
<li><a href="../52553/index.html">Selective connection of USB flash drives in Windows XP</a></li>
<li><a href="../52556/index.html">Visual explanation of the financial crisis</a></li>
<li><a href="../52557/index.html">Oh, what a convenient Google translator after all!</a></li>
<li><a href="../52566/index.html">Training Course - Building a computer from scratch</a></li>
<li><a href="../52567/index.html">Now new comments are scrolled horizontally: - /</a></li>
<li><a href="../52568/index.html">Do you watch TV?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>