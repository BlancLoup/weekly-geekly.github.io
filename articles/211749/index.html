<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We receive an image of random access memory</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The contents of the RAM is very important information when studying previous actions with the machine. RAM can contain both parts of the executable pr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We receive an image of random access memory</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/ce6/339/265/ce6339265e2221f1db6527e499c09076.jpg" alt="image"><br>  The contents of the RAM is very important information when studying previous actions with the machine.  RAM can contain both parts of the executable processes themselves, and parts of deleted files, user sessions, and cryptographic keys.  With the current spread of complex information security systems based on encryption, restoring their keys becomes almost one of the main tasks for research.  In secure systems, RAM is often the only place where security keys and other temporary, but very important information can be saved. <br><a name="habracut"></a><br><br>  The process of obtaining information that is contained in RAM consists of two stages: removal of the contents of RAM <br>  and <br>  analysis of the data obtained during the seizure. <br><br>  Paying attention to the first stage, it is worth noting that the removal of RAM can be accomplished using a number of means: direct memory access using special expansion cards, a FireWire port, and even physical removal of the RAM memory (it will require freezing of the boards), 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/e3b/bda/506/e3bbda506e4d49271f77e689fb7fdd1a.jpg" alt="image"><br><br>  but in this article we will look at software tools that allow you to remove the contents of the RAM of protected machines by the so-called ‚Äúhot‚Äù reboot and start the machine in Live mode. <br><br>  To accomplish this task, we will use a special <a href="http://sourceforge.net/projects/ualinux/files/Ubuntu%2520CyberPack/">Ubuntu CyberPack (IRF) 1.0</a> distribution, consisting of a minimum set of components, namely, only those that are necessary to remove data from memory.  Accordingly, there is no graphical interface. <br><br>  Using this approach to removing the contents of RAM has a number of advantages and disadvantages compared with the other tools listed above. <br>  Pros: <br>  - the use of the Live distribution kit allows you to perform an action regardless of which operating system is installed on the machine being examined; <br>  - there are no costs for the purchase of expensive special devices, cables, circuit boards, etc. <br>  Disadvantage: <br>  - the contents of the RAM will be incomplete - part of it will be overwritten with the data necessary to run the Live distribution (approximately 125 MB). <br><br>  Specially assembled distributions for machines with memory up to 3 GB (38386) and over 3 GB (amd64) are available for use.  With their help, you can create a bootable CD / DVD-ROM or bootable USB-drive. <br><br>  <b>Remarks:</b> <br>  - the <b>system does not give us a second chance</b> - we have only one attempt.  that is, when you restart the computer being investigated again, there is a high probability that we will not find the necessary information.  It follows that you do not need to reboot it several times, experiment, aim. <br>  <b>It is necessary to prepare in advance</b> and know how the computer will behave after a reboot. <br>  Most modern computers allow you to specify where to start right from the start, but if this is not the case, then you need to configure the machine's BIOS to boot from a CD / DVD drive or USB drive / drive, and then download the Live distribution from the specified device. <br><br>  So let's get started. <br><br>  Reboot the computer. <br>  <b>IMPORTANT:</b> in no case should the reboot be cold (by pressing the ‚Äúreset‚Äù button or turning off / on the power), namely, the reboot must be performed by means of the operating system itself (for example, by pressing the Ctrl-Alt-Del buttons or by selecting ‚Äú reboot "in the system) <br><br>  After downloading the distribution kit, the user has access to the familiar Linux console line, and brief information for launching the module. <br><img src="https://habrastorage.org/getpro/habr/post_images/c7e/d48/dd1/c7ed48dd131095affdb6ac66f7f7870c.png" alt="image"><br><br>  Preparation of the fmem program is to execute the following commands: <br>  <i>$ sudo -s</i> <i><br></i>  <i># cd / opt (go to the folder where the program is located);</i> <i><br></i>  <i># ./run-fmem.sh (launch script for memory removal module);</i> <br><br>  <b>Note:</b> For further action, you need to mount a previously prepared medium (external hard disk, flash drive) with the ext2 / 3/4 file system, in which the file with the contents of RAM will be saved. <br><br>  In order to find out what identifier the system assigned to the attached media, after connecting it to the computer, enter the following command: <br>  # dmesg |  tail (The command displays the kernel message buffer information. We will be interested in the last entry.) <br>  Like for example this: <br>  <i>[16091.995428] sd 9: 0: 0: 0: Attached scsi generic sg2 type 0</i> <i><br></i>  <i>[16091.995996] sd 9: 0: 0: 0: [sdb] 32096120 512-byte logical blocks: (16.4 GB / 15.3 GiB)</i> <i><br></i>  <i>[16091.998192] sd 9: 0: 0: 0: [sdb] Write Protect is off</i> <i><br></i>  <i>[16091.998205] sd 9: 0: 0: 0: [sdb] Mode Sense: 0b 00 00 08</i> <i><br></i>  <i>[16091.999433] sd 9: 0: 0: 0: [sdb] No Caching mode page found</i> <i><br></i>  <i>[16091.999447] sd 9: 0: 0: 0: [sdb] Assuming drive cache: write through</i> <i><br></i>  <i>[16092.003486] sd 9: 0: 0: 0: [sdb] No Caching mode page found</i> <i><br></i>  <i>[16092.003495] sd 9: 0: 0: 0: [sdb] Assuming drive cache: write through</i> <i><br></i>  <i>[16092.004251] sdb: sdb1</i> <br>  (where "sdb" is the assigned designation of the physical drive, and "sdb1" is the assigned designation of the logical partition of the drive). <br><br>  Next, mount the logical partition of the drive to the / tmp folder of the operating system loaded in the Live mode: <br><br>  <i># mount / dev / sdb1 / tmp</i> <br>  (Where <br>  "Mount" - mount device command <br>  "/ Dev / sdb1" - the address of the file of the logical partition of the attached drive <br>  "/ Tmp" - the folder in which you want to connect the drive). <br><br>  All preparatory steps have been taken - you can proceed to the removal of the contents of RAM: <br><br>  # <i>dd if = / dev / fmem of = / tmp / ram-image.mem bs = 1K count = `head -1 / proc / meminfo |</i>  <i>awk '{print $ 2}' `</i> <br>  (Where <br>  ‚ÄúDd‚Äù - image creation command <br>  "If = / dev / fmem" - the data source, namely RAM <br>  ‚ÄúOf = / tmp / ram-image.mem‚Äù - writing to the file ‚Äúram-image.mem‚Äù in the folder ‚Äú/ tmp‚Äù <br>  ‚ÄúBs = 1K‚Äù - information block size - 1 Kb <br>  ‚ÄúCount =` head -1 / proc / meminfo |  awk '{print $ 2}' `" - the amount of RAM, information about which is extracted from the file / proc / meminfo). <br><br>  And wait ... <br>  As a result of successful execution of the command, we will receive a message similar to this: <br><img src="https://habrastorage.org/getpro/habr/post_images/fab/1c1/c62/fab1c1c6273b2c4e2862f23472c50b65.png" alt="image"><br>  521453568 bytes (521 MB) copied, 158.405 s, 3.3 MB / s <br>  (Where <br>  "521453568 bytes (521 MB) copied" - the amount of copied information <br>  "158.405 s" - the time during which the operation was performed <br>  "3.3 MB / s" - the speed at which the operation was performed) <br><br>  As a result, we received the contents of the machine‚Äôs RAM in the ram-image.mem file on the drive.  Now it can be processed incl.  extracting parts of executable processes, deleted files, information about user sessions, cryptographic keys, and much more. <br><br>  <b>PS</b> <br>  It is also worth noting that all modern systems use swap-memory in their work (the so-called ‚Äúswap file‚Äù) <br>  The paging file is a kind of addition to the RAM (which is used to temporarily store data for quick delivery to the processor) of your computer.  Even not so much addition as its broadening or, one may say, continuation.  The fact is that when there is not enough RAM, the system can transfer data from memory to disk (the so-called additional memory), in which data is also stored accordingly. <br>  And for a complete picture of the analysis of memory, you must also get them. <br>  Different operating systems use different storage methods. <br><br>  In the case of Windows, these are usually the files in the root on the system disk C: <br>  pagefile.sys for Win XP and Win 7 and just copy the file <br><br>  For Linux, this is a separate partition on the media. <br>  For example: <br>  Sudo fdisk -l / dev / sda command <br>  will show us all sections in the system <br>  / dev / sda1 * 2048 78125055 39061504 83 Linux <br>  / dev / sda2 78125056 117186559 19530752 82 Linux swap / Solaris <br>  / dev / sda3 117186560 625141759 253977600 83 Linux <br>  Based on this, we see that the swap partition is in / dev / sda2 <br>  You can also copy it using the dd command. <br>  For example: <br>  dd if = / dev / sda2 of = / media / &lt;path where to write&gt; /linux-swap.dd <br><br>  For MacOS, you must copy all the files from the / private / var / vm / swapfile * directory <br><br>  Processing and analysis of the results (as a dump of RAM and swap-memory) can be carried out manually using for example HEX-editor, and with the help of a number of programs which will be discussed next time. </div><p>Source: <a href="https://habr.com/ru/post/211749/">https://habr.com/ru/post/211749/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../211739/index.html">Proper Use of Yii</a></li>
<li><a href="../21174/index.html">I am Tyoma, or do my lynch</a></li>
<li><a href="../211741/index.html">6 things that Satya Nadella has to do right now</a></li>
<li><a href="../211743/index.html">Using CRTP Pattern in C #</a></li>
<li><a href="../211747/index.html">Do you know arrays?</a></li>
<li><a href="../21175/index.html">New Eee PC 900: 8.9 "@ 1024x600</a></li>
<li><a href="../211751/index.html">Just about make</a></li>
<li><a href="../211755/index.html">Bacula: for those who need to quickly and in pictures</a></li>
<li><a href="../211759/index.html">Installing software from source for MGTS ZTE F-660 router in chroot environment</a></li>
<li><a href="../21176/index.html">The action "Gather your friends and get a notebook" is completed!</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>