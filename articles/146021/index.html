<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Installing ruby ‚Äã‚Äãin Ubuntu using rbenv-installer</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On Habr√© there are already several articles about rbenv ( one , two , three ), but none of them mention the very convenient rbenv-installer tool. I wi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Installing ruby ‚Äã‚Äãin Ubuntu using rbenv-installer</h1><div class="post__text post__text-html js-mediator-article"> On Habr√© there are already several articles about <b>rbenv</b> ( <a href="http://habrahabr.ru/post/131968/">one</a> , <a href="http://habrahabr.ru/post/137333/">two</a> , <a href="http://habrahabr.ru/post/131836/">three</a> ), but none of them mention the very convenient <b>rbenv-installer</b> tool.  I will fill this gap with this article. <br><br>  Before I begin to describe the installation, I want to say what pleased <b>rbenv with</b> me and why I switched to it from <b>RVM</b> . <br><br>  In one of my projects I needed to periodically run tasks (rake tasks) using cron.  Tasks for cron I wrote and wrote to the crontab using the <a href="https://github.com/javan/whenever">whenewer</a> heme.  Then I also used <b>RVM</b> and cron wrote something to the log like: <br> <code>bundle: command not found</code> <br> <br>  I was looking for a solution using Google and found mention of the same problem in issues whenewer.  The ticket was closed and it was mentioned that everything works in <b>rbenv</b> .  I installed rbenv and without any additional settings my cron tasks began to work as I wanted.  From that day on, I only use rbenv in new projects. <br><a name="habracut"></a><br>  Well, now on the topic. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Install rbenv </h4><br>  I will describe the installation process on Ubuntu, because I myself use this OS as a desktop and on servers.  Step by step, consider the full installation on fresh <b>Ubuntu Server 12.04</b> . <br><br>  First, install git and curl. <br> <code>sudo apt-get -y install git-core curl</code> <br> <br>  Then download and run the installation script. <br> <code><a href="https://raw.github.com/fesplugas/rbenv-installer/master/bin/rbenv-installer"></a> curl -L raw.github.com/fesplugas/rbenv-installer/master/bin/rbenv-installer | bash</code> <br> <br>  The script will install not only rbenv, but also ruby-build and rbenv-vars. <br><br>  Next, you need to add the following piece of code to the <b>.bashrc file</b> located in your home directory. <br> <code>if [ -d $HOME/.rbenv ]; then <br> export PATH="$HOME/.rbenv/bin:$PATH" <br> eval "$(rbenv init -)" <br> fi</code> <br> <br>  It is very important to put this code in front of the lines: <br> <code># If not running interactively, don't do anything <br> [ -z "$PS1" ] &amp;&amp; return <br></code> <br>  The commentary says - do nothing if not running interactively. <br><br>  Surely because of this nuance, cron could not find the bundle with the installed RVM, which itself is written at the end of the file.  In rvm notes it is written: <br><br>  <i>If you wish, you can use the RVM for bash and the .bash_profile for bash and .zshenv for zsh), after all PATH / variable settings</i> <br><br>  Perhaps, if you initialize RVM also at the beginning of .bashrc, cron learns what a bundle is, but I have finally switched to rbenv, although it is possible to test it on occasion. <br><br>  After saving .bashrc, you need to reload it with the command: <br> <code>. ~/.bashrc</code> <br> <br>  <b>Rbenv</b> is now ready to use. <br><br><h4>  Install everything you need for ruby </h4><br>  Everyone knows that in order for ruby ‚Äã‚Äãto work properly in Ubuntu, you must first install a bunch of packages.  RVM has a rvm requirements command that helps figure out what needs to be installed.  In rbenv, this step is more conveniently organized: <br> <code>rbenv bootstrap-ubuntu-12-04</code> <br> <br>  This command will install all the necessary packages, after which you can install the necessary version of Ruby. <br><br>  <b>Install ruby</b> <br>  Here I want to mention that on the <b>Tab</b> key you can see which commands are available for rbenv, and before installing Ruby, you can see the available versions by clicking the tab after entering the <b>rbenv install</b> command: <br><img src="https://habrastorage.org/storage2/8a0/e1d/cd4/8a0e1dcd4d2cebcb1ce9fca533c4ae44.png" alt="image"><br><br>  Install the latest version of Ruby: <br> <code>rbenv install 1.9.3-p194</code> <br> <br>  At the time of installation, you can go to drink tea, and upon its completion we make the installed version of Ruby Global in the system: <br> <code>rbenv global 1.9.3-p194</code> <br> <br><h4>  Finishing touches </h4><br>  Now let's set gemsets, bundler and rake: <br> <code>rbenv bootstrap</code> <br> <br>  Finally, run <b>rbenv rehash</b> to access the executable bundle file. <br><br>  Actually for the server it is enough.  Now it has a full-fledged cut, which is visible even to cron. <br>  On my working machine, I also install <a href="https://github.com/carsomyr/rbenv-bundler">rbenv-bundler</a> in order not to write bundle exec before the same <a href="https://github.com/ctran/annotate_models">annotate</a> . <br><br>  You can read about its installation and use on <a href="https://github.com/carsomyr/rbenv-bundler">the project page</a> . <br><br><h4>  Related links and around it </h4><ul><li>  <a href="https://github.com/sstephenson/rbenv">rbenv</a> - rbenv-a page </li><li>  <a href="https://github.com/fesplugas/rbenv-installer">rbenv-installer</a> - the page of the hero of this article </li><li>  <a href="https://github.com/carsomyr/rbenv-bundler">rbenv-bundler</a> - a plugin for those who don‚Äôt like to write bundle exec </li><li>  <a href="http://railscasts.com/episodes/335-deploying-to-a-vps">Railscast # 335: Deploying to a VPS</a> - in this webcast, Ryan Bates tells how to install and configure a full-featured server for RoR. </li></ul></div><p>Source: <a href="https://habr.com/ru/post/146021/">https://habr.com/ru/post/146021/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../146016/index.html">Runet Today, June 18, 2012 Issue Experts: Arkady Sandler, Ilya Dronov</a></li>
<li><a href="../146017/index.html">We invite you to a free webinar "Audit file servers"</a></li>
<li><a href="../146018/index.html">HP adds deduplication catalyst to StoreOnce</a></li>
<li><a href="../146019/index.html">Depth in Agile: Shodan Adherence Metrics</a></li>
<li><a href="../146020/index.html">Browser driven machine</a></li>
<li><a href="../146023/index.html">MemSQL has launched!</a></li>
<li><a href="../146024/index.html">On the need for self-development in the modern world</a></li>
<li><a href="../146025/index.html">Google I / O Extended Developer Events</a></li>
<li><a href="../146026/index.html">Kenya abolishes software import tax in hopes of reducing piracy</a></li>
<li><a href="../146027/index.html">Sun boom in Japan and myths about alternative energy</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>