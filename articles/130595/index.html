<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Cloud file storage support in 1C-Bitrix: Site Management 11</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="With this article we are opening a whole cycle of posts devoted to new products implemented in the new, 11th version of ‚Äú1C-Bitrix: Site Management‚Äù ....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Cloud file storage support in 1C-Bitrix: Site Management 11</h1><div class="post__text post__text-html js-mediator-article">  With this article we are opening a whole cycle of posts devoted to new products implemented in the <a href="http://www.1c-bitrix.ru/products/cms/new/">new, 11th version of ‚Äú1C-Bitrix: Site Management‚Äù</a> . <br><br>  One of the most interesting features that appeared in the new release is support for cloud storage. <br><br><img src="https://habrastorage.org/storage1/35642753/b4b5d50c/47f0d667/8385d967.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In this post we will tell you what it is, what kind of repositories are, how they work, and how you can use them with great benefit on your website. <br><br><a name="habracut"></a>  <b>First, let's look at any new or already working web project?</b> <br><br>  <b>What does its owner strive for?</b>  With the exception of highly specialized resources - the growth of the site, the expansion of its audience, the increase in the profit (monetary - in an explicit form, or "profit by attention"), which brings the project.  A good and understandable goal for any online store, information resource, social network, etc. <br><br>  Such a goal by itself implies several smaller tasks that need to be learned in the most efficient way to solve: <br><ul><li>  Minimizing operating costs and reducing financial risks at the start of the project </li><li>  Scaling with increasing load and reverse scaling </li><li>  Reliability - ensuring SLA, with which, perhaps, a different level of SLA for different categories of customers </li><li>  Fast return of dynamic and static content </li></ul><br>  You can invent several bicycles to solve all these problems: put several servers, instead of one, to ensure reliability;  permanently upgrade iron as it grows;  render statics on a separate file server ... <br><br>  The solution, it seems to us, is not very flexible. <br><br>  It is much more convenient, and most importantly - more effective (in our opinion) - to learn how to work in a cloud infrastructure, use its services, scale and be ready to develop not just a site, but a real cloud service.  ( <a href="http://habrahabr.ru/blogs/hosting/127287/">We have already written</a> about the advantages of the ‚Äúcloud‚Äù compared to the traditional hosting <a href="http://habrahabr.ru/blogs/hosting/127287/">on Habr√©</a> , <a href="http://habrahabr.ru/blogs/hosting/127287/">we</a> invite all those who are not indifferent to the topic) to the discussion). <br><br>  That is why in the 11th version of ‚Äú1C-Bitrix Site Management‚Äù a <a href="http://www.1c-bitrix.ru/products/cms/new/">module</a> appeared to <a href="http://www.1c-bitrix.ru/products/cms/new/">support the most common cloud storages</a> . <br><br>  <b>What is it - cloud storage?</b> <br><br>  If you try to describe literally in two words: for a user, this is a large-large server for storing static content that can be distributed very quickly via HTTP.  :) From the inside (from the point of view of the provider) - everything is ‚Äúslightly‚Äù more complicated: all data in the repository is replicated at several points, which ensures its reliability;  There is an API for working with files in the repository, etc.  (For some features, we will write further in more detail.) <br><br>  The idea of ‚Äã‚Äãthe cloud storage module in our product is very simple - any files that the system user can work with can be absolutely transparent for him to be stored not on the local server of the website, but in the cloud storage. <br><br>  <b>What problems do we solve by transferring files to the "cloud"?</b> <br><br>  <b>1. Reducing the cost of operation</b> <br><br>  In the general case, the cost of placing files in the cloud will be lower than using a file server of a similar size.  If you carry out independent calculations, do not forget to calculate the cost of the server (you can‚Äôt use a ‚Äúbare‚Äù disk;)), organization of backups, traffic, etc. <br><br>  <b>2. We can use it in conjunction with CDN to speed up content delivery.</b> <br><br>  Almost all cloud storage providers offer customers a CDN (Content Delivery Network or Content Distribution Network) - a geographically distributed network infrastructure that allows you to optimize content delivery and distribution to end users on the Internet, <a href="http://ru.wikipedia.org/wiki/CDN">Wikipedia</a> ). <br><br>  <b>3. We reduce the load on web-sites</b> <br><br>  Your application servers can only run scripts and deliver dynamic content to users.  Web server processes are not busy with static return (especially true for video and distribution kits).  Plus reduces the load on the disk. <br><br>  <b>4. Using a centralized repository, we solve the problem of synchronizing content between multiple web sites.</b> <br><br>  If you use a load balancer and several web servers, you need to solve the problem of synchronizing content between them.  Options - either periodically start synchronization on local storage (rsync, csync2), which is quite problematic when working with large amounts of data;  or use one or another centralized repository.  For example, cloudy. <br><br>  <b>5. Accelerate rendering pages in the browser</b> <br><br>  If all site images are <a href="http://www.site.ru/">sent</a> from the main domain (for example, <a href="http://www.site.ru/">www.site.ru</a> ), then almost all browsers by default open a limited number of connections to a single domain (most often - 5). <br><br>  Therefore, even if the speed of your Internet channel allows you to receive content from the site very quickly, you will be limited to the number of connections.  Visually, the page in the browser will not be drawn too quickly. <br><br>  If the pictures are placed on a separate domain relative to the site itself - this speeds up the download of all the necessary content. <br><br>  <b>Cloud storage providers</b> <br><br>  We support Amazon S3 cloud storage, Google Storage, Microsoft's Windows Azure Storage, RackSpace, OpenStack. <br><br>  Almost all of them offer approximately similar functionality (from the user's point of view): <br><ul><li>  Any number of objects (most often - up to several TB each) </li><li>  The possibility of placing in different data centers (regions) </li><li>  Object Grouping </li><li>  Authorization and ACL mechanisms </li><li>  REST and SOAP interfaces for working with objects </li><li>  HTTP Direct File Upload </li><li>  High availability </li><li>  Low price </li><li>  Access via external tools (FUSE, clients) </li></ul><br>  However, of course, have their own characteristics. <br><br> <a href="http://aws.amazon.com/s3/"><img src="https://habrastorage.org/storage1/42a77bde/67b845df/46d5e3ed/0f318ab2.png" align="left"></a>  <a href="http://aws.amazon.com/s3/"><b>Amazon Simple Storage Service (Amazon S3)</b></a> <br><br>  The service implemented within the framework of the whole complex of cloud services from Amazon - Amazon Web Services (AWS). <br><br>  Can be shared with another Amazon service - <a href="http://aws.amazon.com/cloudfront/">CloudFront</a> - Amazon's own CDN <br><br>  Files from S3 can be distributed not only via HTTP, but also via BitTorrent protocol. <br><br>  An interesting feature - you can use a special type of storage - Reduced Redundancy Storage (RRS).  In this case, less reliability of data is guaranteed (compared to standard storage), however, users are offered a lower cost of data storage.  Can be used for renewable content. <br><br>  Prices (for standard storage; vary by region): <br><ul><li>  Storage - 1 GB (up to 1 TB) $ 0.14 / month. </li><li>  $ 0.01 for 1000 PUT, COPY, POST or LIST requests </li><li>  $ 0.01 for 10,000 GET requests </li><li>  Traffic - 1 GB (up to 10 TB) $ 0.12 (the first 1 GB is free) </li></ul><br><br> <a href="http://code.google.com/intl/ru-RU/apis/storage/"><img src="https://habrastorage.org/storage1/fdbf79d0/a7106579/15b13025/27300877.png" align="left"></a>  <a href="http://code.google.com/intl/ru-RU/apis/storage/"><b>Google Cloud Storage</b></a> <br><br>  The storage implemented by Google, mainly for data storage when working with Google App Engine (but, of course, can be used in other applications). <br><br>  Content can be delivered via Google CDN. <br><br>  Until the end of 2011, there is an opportunity to use the free trial offer (the size of the storage is up to 5 GB, there are limits on traffic and the number of requests).  A good offer for those who want to just try and evaluate the service. <br><br>  Prices (vary by region): <br><ul><li>  Storage - 1 GB (up to 1 TB) $ 0.13 / month. </li><li>  $ 0.01 for 1000 PUT, COPY, POST or LIST requests </li><li>  $ 0.01 for 10,000 GET requests </li><li>  Traffic - 1 GB (up to 1 TB) $ 0.12 </li></ul><br><br> <a href="http://www.microsoft.com/windowsazure/features/storage/"><img src="https://habrastorage.org/storage1/c2c4c646/fd4e7b3c/78014e9e/6e16dd6d.png" align="left"></a>  <a href="http://www.microsoft.com/windowsazure/features/storage/"><b>Windows Azure Storage</b></a> <br><br>  Storage created by Microsoft companies in the framework of the development of the Windows Azure cloud platform. <br><br>  Have your own CDN.  Additional services are interesting (for example, Table Service, Queue Service). <br><br>  Users can use the <a href="http://www.microsoft.com/windowsazure/free-trial/">free trial</a> for the entire Windows Azure platform as a whole, including by accessing the storage (trial limits - 20 GB of storage, 50,000 transactions). <br><br>  Prices (vary by region): <br><ul><li>  Storage - 1 GB $ 0.15 / month </li><li>  $ 0.01 for 10,000 requests </li><li>  Traffic - 1 GB $ 0.15 </li></ul><br><br> <a href="http://www.rackspace.com/cloud/cloud_hosting_products/files/"><img src="https://habrastorage.org/storage1/3afb328b/51737b36/ae2ab83f/aec1c0aa.png" align="left"></a>  <a href="http://www.rackspace.com/cloud/cloud_hosting_products/files/"><b>Rackspace Cloud Files</b></a> <br><br>  Rackspace is one of the world's largest cloud providers.  Which among other services offers its customers and cloud storage. <br><br>  Files can be distributed through the CDN, which is organized in partnership with <a href="http://www.akamai.com/">Akamai</a> . <br><br>  Prices: <br><ul><li>  Storage - 1 GB $ 0.15 / month </li><li>  Requests for files less than 250 KB, as well as HEAD, GET, DELETE - for free </li><li>  Traffic - 1 GB $ 0.18 </li></ul><br><br> <a href="http://www.openstack.org/"><img src="https://habrastorage.org/storage1/729a49e7/938b68bb/4675c146/11a6c5bb.png" align="left"></a>  Already mentioned earlier, Rackspace and NASA were developing the Nebula cloud platform. <br><br>  In mid-2010, it was decided to open this platform and create a new project on its basis - OpenStack. <br><br>  Currently, OpenStack is a whole complex of software that anyone can use to create their own cloud.  One of the components of OpenStack - OpenStack Swift - a complex for organizing file storage. <br><br>  The project is supported by very many companies (Citrix, Dell, AMD, Intel, etc.) <br><br>  <b>Universal support of the OpenStack Swift API at the 1C-Bitrix platform level allows any hoster to implement its own file storage based on OpenStack - and any owner of the website created on Bitrix can immediately use it</b> (without additional costs for integration and learning a new specific API) . <br><br>  The first (and, as far as we know, the only ones so far) in Russia, own cloud-based file storage based on OpenStack <a href="http://www.clodo.ru/cloud-storage/review/">implemented Clodo.ru</a> . <br><br>  Some technical features of the implementation of the storage are <a href="http://habrahabr.ru/company/clodo/blog/130410/">described in the blog Clodo.ru on Habr√©</a> . <br><br>  As a result, you can buy a hosting (virtual machine) from Clodo under ‚Äú1C-Bitrix‚Äù, immediately with it - a license for the product, and then connect the cloud storage to the project.  <a href="http://www.clodo.ru/bitrix-server/bitrix-hosting/">Great package deal for customers</a> ! <br><br>  <b>We urge Russian hosting providers to develop their own cloud solutions!</b> <br><br>  We hope that the emergence of such solutions will give impetus to the development of cloud infrastructure and CDN-networks in Russia. <br><br>  <b>How does all this work in the 1C-Bitrix platform?</b> <br><br>  One or several storages can be connected to any site operating on 1C-Bitrix.  This is done in the administrative interface - this is done simply, just specify a few parameters: <br><br><img src="https://habrastorage.org/storage1/5b7f7263/2b930be9/598b46ab/f2be5761.png"><br><br>  In the simplest version, you can simply transfer all project files to the cloud by selecting the desired item in the context menu: <br><br><img src="https://habrastorage.org/storage1/5509a4bd/f082a408/3a277f4c/b16748a5.png"><br><br>  In the future, all new files (photos in the photo gallery, pictures of product descriptions in the online store, user avatars in social networks, etc.) will automatically be uploaded to the cloud, and links to them will be automatically generated in the right way. <br><br>  If you want more flexibility in managing files, you can use the system of ‚Äúfilter rules‚Äù implemented in the platform. <br><br>  Rules are configured: <br><ul><li>  by system modules </li><li>  by file extensions </li><li>  by file size </li></ul><br><img src="https://habrastorage.org/storage1/9bbd2f69/aeb364af/5a1c4491/2d8bc5f3.png"><br><br>  For example, you can connect two different repositories and for each of them set up your own filter rules.  Suppose that all files over 100 MB are moved to the Google Storage cloud, and all videos are moved to Amazon S3.  Depending on the profitability of the providers' offers, you can change your rules by ‚Äúpouring‚Äù data into other ‚Äúcloud‚Äù folders.  Or completely turn off the storage, which became expensive or inconvenient. <br><br>  <b>A little bit of "insides" for developers</b> <br><br>  Most importantly, we consider the possibility of ‚Äútransparent‚Äù work with the ‚Äúcloud‚Äù very important for customers.  That is why the cloud storage support module is included in all product editions, starting with ‚ÄúStart‚Äù. <br><br>  At first glance, the implementation of support for the ‚Äúclouds‚Äù in the platform may seem rather simple.  However, our developers had to modify about 30 modules in the system!  All of them somehow work with files.  And for a user who decides to ‚Äúmove to the cloud,‚Äù everything should be transparent. <br><br>  API for developers working with files remained the same transparent (you can read in detail in <a href="http://dev.1c-bitrix.ru/community/blogs/oracle/clouds.php">Maxim Smirnov‚Äôs blog</a> ). <br><br>  And this means that any developer, working with the platform API, can fully use the full functionality of cloud storage. <br><br>  * * * <br><br>  The 1C-Bitrix platform has become even more flexible for both end users and developers.  There are new tools for scaling sites and effectively solving other problems. <br><br>  We strive to make 1C-Bitrix a platform not only for creating websites, but also for developing cloud web services, large scalable web projects hosted in the cloud. </div><p>Source: <a href="https://habr.com/ru/post/130595/">https://habr.com/ru/post/130595/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../130589/index.html">Why I do not believe in Dart</a></li>
<li><a href="../130590/index.html">Underline in username</a></li>
<li><a href="../130592/index.html">Only one cloud icon in the whole Universe</a></li>
<li><a href="../130593/index.html">QIWI Wallet in Q3 2011: numbers and events</a></li>
<li><a href="../130594/index.html">Uneven hours</a></li>
<li><a href="../130596/index.html">Exchange of experience and informal communication on .NET development - all this is Ciklum .NET Subbotnik (22.10)</a></li>
<li><a href="../130597/index.html">Exception! = Error</a></li>
<li><a href="../130598/index.html">HP Innovative Worlds Forum</a></li>
<li><a href="../130600/index.html">Social network buttons on sites in the zone. RF</a></li>
<li><a href="../130601/index.html">Saga about batch converting pdf to text</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>