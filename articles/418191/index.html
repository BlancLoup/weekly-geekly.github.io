<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Analogs in Python and JavaScript. Part three</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Continuing to translate a series of articles about analogs in Python and JavaScript 


 In previous releases, we relied on the syntax of the classic v...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Analogs in Python and JavaScript. Part three</h1><div class="post__text post__text-html js-mediator-article"><p>  Continuing to translate a series of articles about analogs in Python and JavaScript </p><br><p>  In previous releases, we relied on the syntax of the classic versions of Python (2.7) and JS based on ECMAScript 5. This time we will use the new functions that appeared in Python 3.6 and JS of the ECMAScript 6 standard. </p><br><p>  ECMAScript 6 is a relatively new standard <a href="https://kangax.github.io/compat-table/es6/">supported by most modern browsers</a> .  To use standard 6 in older browsers, you need <a href="https://babeljs.io/">Babel</a> to translate modern JS6 designs into cross-browser support. </p><br><p>  In today's article: variables in lines, unpacking of lists, lambda functions, iteration without indices, generators and sets (sets). </p><a name="habracut"></a><br><p>  Content of other issues: </p><br><ol><li>  <a href="https://habr.com/post/416617/">The first part</a> is a type conversion, a ternary operator, access to a property by property name, dictionaries, lists, strings, string concatenation </li><li>  <a href="https://habr.com/post/417513/">The second part</a> is serialization of dictionaries, JSON, regulars, errors and exceptions. </li><li>  This article </li><li>  <a href="https://habr.com/post/419271/">The fourth part</a> is the function arguments, creating and working with classes, inheritance, setter getters, and class properties. </li></ol><br><h4 id="peremennye-v-strokah">  Variables in strings </h4><br><p>  The traditional way of constructing strings with variables uses the concatenation of strings and variables: </p><br><pre><code class="python hljs">name = <span class="hljs-string"><span class="hljs-string">'World'</span></span> value = <span class="hljs-string"><span class="hljs-string">'Hello, '</span></span> + name + <span class="hljs-string"><span class="hljs-string">'!\nWelcome!'</span></span></code> </pre> <br><p>  Such a record may seem scattered and poorly readable, you can also often make a mistake in the spaces around the words in the lines. </p><br><p>  Starting from version 3.6 in Python and in JS ECMAScrip6 you can use string interpolation, or, in Python terms, f-strings.  These are string patterns in which values ‚Äã‚Äãfrom variables are substituted. </p><br><p>  In Python, f-strings are marked with f in front of quotes: </p><br><pre> <code class="python hljs">name = <span class="hljs-string"><span class="hljs-string">'World'</span></span> value = <span class="hljs-string"><span class="hljs-string">f"""Hello, </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{name}</span></span></span><span class="hljs-string">! Welcome!"""</span></span> price = <span class="hljs-number"><span class="hljs-number">14.9</span></span> value = <span class="hljs-string"><span class="hljs-string">f'Price: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{price:</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">.2</span></span></span></span><span class="hljs-string"><span class="hljs-subst">f}</span></span></span><span class="hljs-string"> ‚Ç¨'</span></span> <span class="hljs-comment"><span class="hljs-comment"># 'Price: 14.90 ‚Ç¨'</span></span></code> </pre> <br><p>  In JS, <a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/template_strings">string patterns begin and end with a backquote</a> (backtrick) ` </p><br><pre> <code class="javascript hljs">name = <span class="hljs-string"><span class="hljs-string">'World'</span></span>; value = <span class="hljs-string"><span class="hljs-string">`Hello, </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${name}</span></span></span><span class="hljs-string">! Welcome!`</span></span>; price = <span class="hljs-number"><span class="hljs-number">14.9</span></span>; value = <span class="hljs-string"><span class="hljs-string">`Price </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${price.toFixed(</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">2</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string"> ‚Ç¨`</span></span>; <span class="hljs-comment"><span class="hljs-comment">// 'Price: 14.90 ‚Ç¨'</span></span></code> </pre> <br><p>  Note that templates can be both single and multiline. <br>  In Python, you can set the formatting of variables. </p><br><h4 id="raspakovka-spiskov">  Unpacking lists </h4><br><p>  In Python, and now in JS, there is an interesting opportunity to assign elements of a sequence to different variables.  For example, we can assign three values ‚Äã‚Äãto three variables from the list: </p><br><pre> <code class="python hljs">[a, b, c] = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>]</code> </pre> <br><p>  For tuples, parentheses may be omitted. <br>  The following example is very popular in Python as a way to exchange the values ‚Äã‚Äãof two variables: </p><br><pre> <code class="python hljs">a = <span class="hljs-number"><span class="hljs-number">1</span></span> b = <span class="hljs-number"><span class="hljs-number">2</span></span> a, b = b, a <span class="hljs-comment"><span class="hljs-comment">#  </span></span></code> </pre> <br><p>  In JS6 + it is also possible: </p><br><pre> <code class="javascript hljs">a = <span class="hljs-number"><span class="hljs-number">1</span></span>; b = <span class="hljs-number"><span class="hljs-number">2</span></span>; [a, b] = [b, a]; <span class="hljs-comment"><span class="hljs-comment">//  </span></span></code> </pre> <br><p>  In Python, in case we have an indefinite number of elements in a list or a tuple, we can assign these elements to a tuple of variables in which the last few values ‚Äã‚Äãreturn as a list: </p><br><pre> <code class="python hljs">first, second, *the_rest = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>] <span class="hljs-comment"><span class="hljs-comment"># first == 1 # second == 2 # the_rest == [3, 4]</span></span></code> </pre> <br><p>  The same can be done in JS (ECMAScrip6): </p><br><pre> <code class="javascript hljs">[first, second, ...the_rest] = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>]; <span class="hljs-comment"><span class="hljs-comment">// first === 1 // last === 2 // the_rest === [3, 4]</span></span></code> </pre> <br><h4 id="lyambda-funkcii">  Lambda functions </h4><br><p>  Both Python and JS have fairly clear functionality for creating single-line functions.  Such functions are called lambda functions.  Lambdas are functions that take one or more arguments and return a calculated value.  Usually, lambda functions are used when you need to transfer one function to another function as a callback or in the case when you need to process each element of the sequence. </p><br><p>  In Python, you can define a lambda function using the <code>lambda</code> keyword: </p><br><pre> <code class="python hljs">sum = <span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x, y: x + y square = <span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: x ** <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre> <br><p>  JS uses <code>=&gt;</code> notation.  If there are more than one arguments, they are placed in brackets: </p><br><pre> <code class="javascript hljs">sum = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x, y</span></span></span><span class="hljs-function">) =&gt;</span></span> x + y; square = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.pow(x, <span class="hljs-number"><span class="hljs-number">2</span></span>);</code> </pre> <br><h4 id="iteraciya-bez-indeksov">  Iteration without indices </h4><br><p>  Many YaPs allow you to bypass arrays only using access to a particular element by index number and a cycle with an increment of this index. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i=<span class="hljs-number"><span class="hljs-number">0</span></span>; i&lt;items.length; i++) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(items[i]); }</code> </pre> <br><p>  This is not a very beautiful record, and a bit complicated for beginners - this record does not look natural.  In Python there is a beautiful laconic way of traversing the list: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> [<span class="hljs-string"><span class="hljs-string">'A'</span></span>, <span class="hljs-string"><span class="hljs-string">'B'</span></span>, <span class="hljs-string"><span class="hljs-string">'C'</span></span>]: print(item)</code> </pre> <br><p>  In modern JS, this is implemented using the <code>for..of</code> operator: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> item <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> [<span class="hljs-string"><span class="hljs-string">'A'</span></span>, <span class="hljs-string"><span class="hljs-string">'B'</span></span>, <span class="hljs-string"><span class="hljs-string">'C'</span></span>]) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(item); }</code> </pre> <br><p>  You can also bypass the string character in Python: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> character <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-string"><span class="hljs-string">'ABC'</span></span>: print(character)</code> </pre> <br><p>  And in modern javascript: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> character <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-string"><span class="hljs-string">'ABC'</span></span>) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(character); }</code> </pre> <br><h4 id="generatory">  Generators </h4><br><p>  Both Python and modern JS allow you to define special functions that will look like iterators.  For each call (iteration), they will return the next generated value from the sequence.  Such functions are called generators. </p><br><p>  Generators are usually used to obtain: numbers from a range, strings from a file, data page by page from the external API, Fibonacci numbers and other dynamically generated sequences. </p><br><p>  Technically, generators look like normal functions, but instead of returning one value (and stopping work), they return one value and pause until the next call.  They will generate the following values ‚Äã‚Äãfrom the list with each call until the end of the list is reached. </p><br><p>  Consider an example on Python in which a countdown () generator is created which returns numbers from a given number to 1 in the reverse order (10,9,8, ..., 1): </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">countdown</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(counter)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> counter &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> counter counter -= <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> counter <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> countdown(<span class="hljs-number"><span class="hljs-number">10</span></span>): print(counter)</code> </pre> <br><p>  The same can be obtained in modern JS, but pay attention to * in the description of the function.  This defines it as a generator: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">* </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">countdown</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">counter</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (counter &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> counter; counter--; } } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> counter <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> countdown(<span class="hljs-number"><span class="hljs-number">10</span></span>)) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(counter); }</code> </pre> <br><h4 id="mnozhestva-sets">  Sets </h4><br><p>  We have already met with lists (lists), tuples (tuples), arrays (arrays).  But there is another data type - sets.  Sets are arrays of data in which each unique element is present only in a single copy.  Set theory defines with sets such operations as union (union), intersection (intersection), and difference (difference), but we will not consider them now. </p><br><p>  Create a set, add an element to it, check the existence of an element, get the total number of elements, go around the set by elements and delete one element using Python: </p><br><pre> <code class="python hljs">s = set([<span class="hljs-string"><span class="hljs-string">'A'</span></span>]) s.add(<span class="hljs-string"><span class="hljs-string">'B'</span></span>); s.add(<span class="hljs-string"><span class="hljs-string">'C'</span></span>) <span class="hljs-string"><span class="hljs-string">'A'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> s len(s) == <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> elem <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> s: print(elem) s.remove(<span class="hljs-string"><span class="hljs-string">'C'</span></span>)</code> </pre> <br><p>  The same on JS: </p><br><pre> <code class="javascript hljs">s = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Set</span></span>([<span class="hljs-string"><span class="hljs-string">'A'</span></span>]); s.add(<span class="hljs-string"><span class="hljs-string">'B'</span></span>).add(<span class="hljs-string"><span class="hljs-string">'C'</span></span>); s.has(<span class="hljs-string"><span class="hljs-string">'A'</span></span>) === <span class="hljs-literal"><span class="hljs-literal">true</span></span>; s.size === <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> elem <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> s.values()) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(elem); } s.delete(<span class="hljs-string"><span class="hljs-string">'C'</span></span>)</code> </pre> <br><h4 id="podytozhim">  Summarize </h4><br><ul><li>  String patterns (f-lines) can improve readability and simplify the code, even in the case of multi-line objects. </li><li>  You can bypass arrays, groups, or strings without using indexes. </li><li>  Using generators, one can obtain sequences with an almost unlimited number of elements. </li><li>  Using sets makes it easy to check the uniqueness of an element in an array. </li><li>  Use lambda when you need small single-line functions. </li></ul><br><p>  In the next section, let's talk about function arguments, classes, inheritance, and properties. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/418191/">https://habr.com/ru/post/418191/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../418181/index.html">Roskomnadzor re-blocked the Hideme.ru VPN service. The site again moved to a new address.</a></li>
<li><a href="../418183/index.html">The use of speech analytics in business</a></li>
<li><a href="../418185/index.html">The story of one autopsy: how we reversed Hancitor</a></li>
<li><a href="../418187/index.html">In America, they suggested replacing all libraries with Amazon hubs. The public is indignant</a></li>
<li><a href="../418189/index.html">The heir of Zeus: how dangerous is IcedID Trojan for bank customers</a></li>
<li><a href="../418193/index.html">How does it feel to create a game for Game Boy in 2017</a></li>
<li><a href="../418195/index.html">MIT course "Computer Systems Security". Lecture 4: "Separation of privileges", part 1</a></li>
<li><a href="../418197/index.html">MIT course "Computer Systems Security". Lecture 4: "Separation of privileges", part 2</a></li>
<li><a href="../418199/index.html">How to make a simple technical task and not lose money and nerves</a></li>
<li><a href="../418201/index.html">Can we revive the "Duck Hunt"?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>