<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Adaptive Layout with SCSS and Gulp</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day, colleagues! 

 It has long been wondered how to optimize and make more convenient code using the @media screen . For code 



 body{font-siz...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Adaptive Layout with SCSS and Gulp</h1><div class="post__text post__text-html js-mediator-article"> Good day, colleagues! <br><br>  It has long been wondered how to optimize and make more convenient code using the <code>@media screen</code> .  For code <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">1em</span></span>;} @<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> screen and (max-width: <span class="hljs-number"><span class="hljs-number">1024px</span></span>){ <span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">0.8em</span></span>;} }</code> </pre> <br>  creates quite large files. <a name="habracut"></a>  Of course, you can write a mixin like respond-to (tablet), many use it and it looks nicer and more convenient than the above described option, but it does not solve the main problem.  In large projects, we get a lot of <code>@include</code> and it's not that difficult to figure out, but we have to do a lot of carouseling around the file, looking for the right class or attachment. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      And how can we get a readable one, well, or at least a file in two or even three times less?  I asked myself this question and came to the answer: <br><br>  ‚ÄúMake it possible to register all permissions in one line, i.e.  don't duplicate values. " <br><br>  The result should be something like <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: [<span class="hljs-number"><span class="hljs-number">1em</span></span>, <span class="hljs-number"><span class="hljs-number">0.8em</span></span>]}</code> </pre> <br>  where the first value [1em] is for all screens, and the second one [0.8em] for screens less than 1024px.  Agree, this option greatly simplifies life and reduces the file at times, it is easy to describe the rule for all permissions. <br><br>  The answer to the first question is found.  But another question, how to achieve this?  The first thought was to write a module for Gulp, which would transfer the values ‚Äã‚Äãfrom [] to the <code>@media screen</code> ... But this option is not very good, because firstly, it is a rather complicated process.  It is necessary to think a lot, to be able to do non-conflicting modules, in general, in my case this is problematic.  Secondly, no idea will accept such a syntax, and such antics will be underlined in red, which is not good either. <br><br>  So I decided that <code>@mixin</code> in Sass is a suitable option, although not as elegant and readable as using [].  And so, here's what I got: <br><br><pre> <code class="hljs mel"><span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> $screens: (all, <span class="hljs-number"><span class="hljs-number">1024</span></span>, <span class="hljs-number"><span class="hljs-number">640</span></span>); @mixin media($property, $values){ <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> @for $i from <span class="hljs-number"><span class="hljs-number">1</span></span> through length($values) { <span class="hljs-comment"><span class="hljs-comment">/*,     ''   */</span></span> @if nth($values, $i) != <span class="hljs-string"><span class="hljs-string">''</span></span>{ @if nth($screens, $i) == <span class="hljs-string"><span class="hljs-string">'all'</span></span>{ <span class="hljs-comment"><span class="hljs-comment">/*   ,     @media screen */</span></span> #{$property}: unquote(#{nth($values, $i)}); } @else { <span class="hljs-comment"><span class="hljs-comment">/*    @media screen   */</span></span> @media screen and (<span class="hljs-keyword"><span class="hljs-keyword">max</span></span>-width: nth($screens, $i) + <span class="hljs-string"><span class="hljs-string">'px'</span></span>) { #{$property}: unquote(#{nth($values, $i)}); } } } } }</code> </pre><br>  Now you can call mixin like this: <br><br><pre> <code class="hljs actionscript">body{ @<span class="hljs-meta"><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> media(font-size, (1em, 0.8em));</span></span> }</code> </pre> <br>  CSS: <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">1em</span></span>;} @<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> screen only (max-width: <span class="hljs-number"><span class="hljs-number">1024px</span></span>){ <span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">0.8em</span></span>;} }</code> </pre> <br>  It seems to be how they got the desired result, but it only seems so, it hasn't done without additional modules for Gulp.  When I described a few rules <br><br><pre> <code class="hljs pgsql">body{ @<span class="hljs-keyword"><span class="hljs-keyword">include</span></span> media(font-size, (<span class="hljs-number"><span class="hljs-number">1</span></span>em, <span class="hljs-number"><span class="hljs-number">0.8</span></span>em, <span class="hljs-number"><span class="hljs-number">0.6</span></span>em)); @<span class="hljs-keyword"><span class="hljs-keyword">include</span></span> media(color, (black, green, red)); } .<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>{ @<span class="hljs-keyword"><span class="hljs-keyword">include</span></span> media(display, (<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>, block, <span class="hljs-keyword"><span class="hljs-keyword">none</span></span>)); }</code> </pre> <br>  I ended up with not the best CSS: <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">1em</span></span>;} @<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> screen only (max-width: <span class="hljs-number"><span class="hljs-number">1024px</span></span>){ <span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">0.8em</span></span>;} } @<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> screen only (max-width: <span class="hljs-number"><span class="hljs-number">640px</span></span>){ <span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">0.6em</span></span>;} } <span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: black;} @<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> screen only (max-width: <span class="hljs-number"><span class="hljs-number">1024px</span></span>){ <span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: green;} } @<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> screen only (max-width: <span class="hljs-number"><span class="hljs-number">640px</span></span>){ <span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: red;} } <span class="hljs-selector-class"><span class="hljs-selector-class">.class</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">display</span></span>:none;} @<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> screen only (max-width: <span class="hljs-number"><span class="hljs-number">1024px</span></span>){ <span class="hljs-selector-class"><span class="hljs-selector-class">.class</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">display</span></span>:block;} } @<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> screen only (max-width: <span class="hljs-number"><span class="hljs-number">640px</span></span>){ <span class="hljs-selector-class"><span class="hljs-selector-class">.class</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">display</span></span>:none;} }</code> </pre> <br>  You need to get rid of the duplication of <code>@media screen only (max-width: 1024px)</code> .  For this, I installed a module for Gulp - <b>gulp-group-css-media-queries</b> , a description of the installation <a href="https://www.npmjs.com/package/gulp-group-css-media-queries">here</a> <br><br>  Result: <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">1em</span></span>;} <span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: black;} <span class="hljs-selector-class"><span class="hljs-selector-class">.class</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: none;} @<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> screen only (max-width: <span class="hljs-number"><span class="hljs-number">640px</span></span>){ <span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">0.6em</span></span>;} <span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: red;} <span class="hljs-selector-class"><span class="hljs-selector-class">.class</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: none;} } @<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> screen only (max-width: <span class="hljs-number"><span class="hljs-number">1024px</span></span>){ <span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">0.8em</span></span>;} <span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: green;} <span class="hljs-selector-class"><span class="hljs-selector-class">.class</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: block;} }</code> </pre> <br>  So much better, but still not good, since each value is described again with a new body element.  The <b>gulp-minify-css</b> module, the description <a href="https://www.npmjs.com/package/gulp-minify-css">here</a> , helped me in solving this problem. <br><br>  And voila: <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">1em</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: black; } <span class="hljs-selector-class"><span class="hljs-selector-class">.class</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: none;} @<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> screen only (max-width: <span class="hljs-number"><span class="hljs-number">640px</span></span>){ <span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">0.6em</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: red; } <span class="hljs-selector-class"><span class="hljs-selector-class">.class</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: none;} } @<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> screen only (max-width: <span class="hljs-number"><span class="hljs-number">1024px</span></span>){ <span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">0.8em</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: green; } <span class="hljs-selector-class"><span class="hljs-selector-class">.class</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: block;} }</code> </pre> <br>  We get the perfect css using a minimum of lines in Sass.  I use Gulp + Sass, but for fans of Less + Webpack or Sass + Compass, or in any other bundle, I think there will be no problem rewriting the mixin and finding the necessary modules. <br><br>  I myself immediately tested my version on a not-so-large project, but I still had to edit quite a lot, and as a result I was pleased with the process.  The only thing that is not very convenient, when using a large number of permissions, this kind of code appears: <br><br><pre> <code class="hljs mel">.class{ @include media(<span class="hljs-keyword"><span class="hljs-keyword">color</span></span>, (red, <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>, green, black)); @include media(width, (<span class="hljs-number"><span class="hljs-number">50</span></span>%, <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>%)); }</code> </pre> <br>  In this case, at first you get lost a little and it is not always clear for which screen you are correcting, but this was not a problem or inconvenience for me (opened, checked, changed).  If you have 2-3 resolutions, everything will look readable and succinct, though not familiar at first. <br><br><h3>  Conclusion </h3><br>  With this mixin, I achieved the desired result, all the screen options are in one line.  Of course, the code is damp, and perhaps something similar has already been written by someone much better than I did, but I did not find it, maybe I looked badly.  In any case, I will be glad to hear your opinion on this method.  Maybe someone knows something better, or knows how to embellish this method, write.  Maybe I wrote a complete heresy, and you will never use this method because ... In this case, please justify why it is important for me to understand how useful / useful this method can be. <br><br>  PS <br>  For those who decided to try it out, I want to clarify that if you use abbreviated properties of the type <code>rgin: 0 auto;</code>  , then ‚Äú0 auto‚Äù must be quoted, otherwise you will get a <code>margin: 0;</code> <br><br>  Thank you all for your attention, and in advance for your comments! </div><p>Source: <a href="https://habr.com/ru/post/350466/">https://habr.com/ru/post/350466/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../350454/index.html">Surprisingly simple messaging with Spring Cloud Stream</a></li>
<li><a href="../350456/index.html">Digital events in Moscow from March 5 to 11</a></li>
<li><a href="../350458/index.html">Publish the game on Google Play. Configuring Play Games Plugin for Unity</a></li>
<li><a href="../350462/index.html">Configuring VoIP FXS of the Yeastar Neogate TAXXX gateway to work with 3CX</a></li>
<li><a href="../350464/index.html">Fintech news. Another pair of national cryptocurrency and cryptonalogues</a></li>
<li><a href="../350468/index.html">How to avoid SQL queries inside loops</a></li>
<li><a href="../350470/index.html">Hacking Nuclear Crackme</a></li>
<li><a href="../350472/index.html">On the black market they sell valid signature certificates of executable code to bypass antiviruses</a></li>
<li><a href="../350474/index.html">SOC is people. How to build a team in terms of personnel hunger</a></li>
<li><a href="../350476/index.html">One-to-many translation: do you need a media server?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>