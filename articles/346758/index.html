<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Burn after reading. We make one-time links to naked Nginx</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="First you need to clarify that I strongly do not recommend using this solution in combat conditions. It‚Äôs better not to do that at all. Everything you...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Burn after reading. We make one-time links to naked Nginx</h1><div class="post__text post__text-html js-mediator-article">  First you need to clarify that I strongly do not recommend using this solution in combat conditions.  It‚Äôs better not to do that at all.  Everything you do, you do at your own peril and risk.  The reasons that force to give such advice will be given in the content of the article.  If this warning did not scare you away, then welcome under cat. <br><a name="habracut"></a><br>  By ‚Äúnaked Nginx‚Äù is meant a package for Ubuntu 16.04 from the mainline of the <a href="https://nginx.ru/ru/linux_packages.html">official repository</a> branch, which is already compiled with the key - with-http_dav_module. <br><br>  It is assumed that you already have configured nginx in the same ‚Äúconfiguration‚Äù, therefore, the following will only describe the configuration of several locations that you add to your server section of the nginx config. <br><br>  In my case, all the temporary files will be stored in the / var / www / upload folder along the path of the / random_folder_name / filename, where the random_folder_name will be a randomized line of the required number of bytes, therefore we create a location of the form: <br><pre><code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">location</span></span> <span class="hljs-regexp"><span class="hljs-regexp">~ ^/upload/([\w]+)/([^/]*)?$</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">root</span></span> /var/www; <span class="hljs-attribute"><span class="hljs-attribute">if</span></span> (<span class="hljs-variable"><span class="hljs-variable">$request_method</span></span> !<span class="hljs-regexp"><span class="hljs-regexp">~ ^(PUT|DELETE)$)</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">return</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span>; } <span class="hljs-attribute"><span class="hljs-attribute">client_body_buffer_size</span></span> <span class="hljs-number"><span class="hljs-number">2M</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">client_max_body_size</span></span> <span class="hljs-number"><span class="hljs-number">1G</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">dav_methods</span></span> PUT DELETE; <span class="hljs-attribute"><span class="hljs-attribute">dav_access</span></span> group:rw all:r; <span class="hljs-attribute"><span class="hljs-attribute">create_full_put_path</span></span> <span class="hljs-literal"><span class="hljs-literal">on</span></span>; }</code> </pre> <br>  We check that the loading and deleting of files and folders works with commands in the console. <br><pre> <code class="bash hljs">curl -X PUT -T test.txt https://example.com/upload/random_folder_name/ curl -X DELETE https://example.com/upload/random_folder_name/</code> </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In order to protect your server from an uncontrolled stream of downloadable files, we will add a check of the token, which we will transmit with the Token header.  In the config it will look like this. <br><pre> <code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">if</span></span> (<span class="hljs-variable"><span class="hljs-variable">$http_token</span></span> != <span class="hljs-string"><span class="hljs-string">"cb110ef4c4165e495001e297feae7092"</span></span>) { <span class="hljs-attribute"><span class="hljs-attribute">return</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span>; }</code> </pre><br>  The token itself can be generated in the console with a command like <br><pre> <code class="bash hljs">hexdump -n 16 -e <span class="hljs-string"><span class="hljs-string">'/4 "%x"'</span></span> &lt;/dev/urandom</code> </pre> <br>  Check again, with commands in the console, that loading and deleting files and folders works, but only if the request contains the Token header <br><pre> <code class="bash hljs">curl -X PUT -H <span class="hljs-string"><span class="hljs-string">"Token: cb110ef4c4165e495001e297feae7092"</span></span> -T test.txt https://example.com/upload/random_folder_name/ curl -X DELETE -H <span class="hljs-string"><span class="hljs-string">"Token: cb110ef4c4165e495001e297feae7092"</span></span> https://example.com/upload/random_folder_name/</code> </pre><br><br>  We learned how to download and delete files, but in order to download files we will create a separate location <br><pre> <code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">location</span></span> <span class="hljs-regexp"><span class="hljs-regexp">~ ^/download/(?&lt;folder&gt;[\w]+)/([^/]*)$</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">root</span></span> /var/www; <span class="hljs-attribute"><span class="hljs-attribute">if</span></span> (<span class="hljs-variable"><span class="hljs-variable">$request_method</span></span> != GET) { <span class="hljs-attribute"><span class="hljs-attribute">return</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span>; } <span class="hljs-attribute"><span class="hljs-attribute">rewrite</span></span><span class="hljs-regexp"><span class="hljs-regexp"> ^/download/([\w]+)/([^/]*)$</span></span> /upload/<span class="hljs-variable"><span class="hljs-variable">$1</span></span>/<span class="hljs-variable"><span class="hljs-variable">$2</span></span> <span class="hljs-literal"><span class="hljs-literal">break</span></span>; }</code> </pre><br>  Checking that receiving files works as a command in the console. <br><pre> <code class="bash hljs">curl https://example.com/download/random_folder_name/test.txt</code> </pre><br>  If the tests were successful, it is necessary to bring this location to a state that meets our requirements: <br><ul><li>  If you ask a nginx file once, it will cache it and give it back again and again, even if the file is deleted from the disk.  This does not fit into our concept of one-time links, therefore it is necessary, following the <a href="http_core_module.html">instructions, to</a> bring the open_file_cache directive to off. <br><pre> <code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">open_file_cache</span></span> <span class="hljs-literal"><span class="hljs-literal">off</span></span>;</code> </pre> </li><li>  In order for all files to be given as attachments, including html, you need to give them with the headings Content-Type: application / octet-stream and Content-Disposition: attachment.  And also, so that smart browsers, such as Internet Explorer, cannot override the content type based on the file content, you need the X-Content-Type-Options header: nosniff.  In the config it will look like this. <br><pre> <code class="nginx hljs"><span class="hljs-section"><span class="hljs-section">types</span></span> { } <span class="hljs-attribute"><span class="hljs-attribute">default_type</span></span> application/octet-stream; <span class="hljs-attribute"><span class="hljs-attribute">add_header</span></span> Content-Disposition <span class="hljs-string"><span class="hljs-string">"attachment"</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">add_header</span></span> X-Content-Type-Options <span class="hljs-string"><span class="hljs-string">"nosniff"</span></span>;</code> </pre></li></ul><br><br>  Now we have learned to download and safely receive, but we need to make sure that they are deleted immediately after downloading, and for this we will create a separate location <br><pre> <code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">location</span></span> <span class="hljs-variable"><span class="hljs-variable">@delete</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">proxy_method</span></span> DELETE; <span class="hljs-attribute"><span class="hljs-attribute">proxy_set_header</span></span> Token <span class="hljs-string"><span class="hljs-string">"cb110ef4c4165e495001e297feae7092"</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">proxy_pass</span></span> https://example.com/upload/<span class="hljs-variable"><span class="hljs-variable">$folder</span></span>/; }</code> </pre> <br>  And we will call this location from the location ~ ^ / download / ... directive <br><pre> <code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">post_action</span></span> <span class="hljs-variable"><span class="hljs-variable">@delete</span></span>;</code> </pre> <br>  It looks quite decent, but, as I wrote above, I highly do not recommend using what is <a href="https://forum.nginx.org/read.php%3F2,274880,274886">incomprehensible how it works and is not documented</a> .  That is why I hope that no one will use this solution "in combat" <br><br>  Now everything is fine, because we can upload, download files, and after downloading they are deleted, but the received links cannot be transferred in messengers, because  bots make requests for these links in the hope of getting content and generating a preview, which causes the file to be immediately removed, and the recipient observes 404 instead of the coveted file when clicking on the link. <br>  To solve this problem, we will use the fact that we will send the recipient not a direct link to download the file, but a link to an intermediate page, and we will do it only thanks to the capabilities of the ‚Äúboxed‚Äù Nginx. <br>  First we create another location, which will give out the html file <br><pre> <code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">location</span></span> <span class="hljs-regexp"><span class="hljs-regexp">~ ^/get/(?&lt;folder&gt;[\w]+)/(?&lt;file&gt;[^/]*)$</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">root</span></span> /var/www; <span class="hljs-attribute"><span class="hljs-attribute">ssi</span></span> <span class="hljs-literal"><span class="hljs-literal">on</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">if</span></span> (<span class="hljs-variable"><span class="hljs-variable">$request_method</span></span> != GET) { <span class="hljs-attribute"><span class="hljs-attribute">return</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span>; } <span class="hljs-attribute"><span class="hljs-attribute">rewrite</span></span><span class="hljs-regexp"><span class="hljs-regexp"> ^(.*)$</span></span> /download.html <span class="hljs-literal"><span class="hljs-literal">break</span></span>; }</code> </pre><br>  The most important thing about this location is the ssi on; directive.  It is with the help of <a href="http_ssi_module.html">ngx_http_ssi_module that</a> we will give out dynamic html, no matter how strange this phrase may sound. <br>  Create in the folder / var / www the same file download.html with the contents of the following form <br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> After downloading this data will be destroyed <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'/download/&lt;!--# echo var="folder" --&gt;/&lt;!--# echo var="file" --&gt;'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">method</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"get"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"download"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">form</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"download"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Submit"</span></span></span><span class="hljs-tag">&gt;</span></span>Download<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Now, instead of giving a direct link to the download of <a href="https://example.com/download/random_folder_name/filename">example.com/download/random_folder_name/filename</a> , we will send the link to the intermediate page.  A link to this page will look like <a href="https://example.com/get/random_folder_name/filename">example.com/get/random_folder_name/filename</a> , when you go to it, the file will remain unharmed.  to download it you will need to click on the button.  And to make sure that the bots will not follow the link from this page, we‚Äôll add a check Referer header to the location ~ ^ / download / ... so that the file will be given only if it was actually downloaded from the intermediate page <br><pre> <code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">if</span></span> (<span class="hljs-variable"><span class="hljs-variable">$http_referer</span></span> !<span class="hljs-regexp"><span class="hljs-regexp">~ ^https://example\.com/get/([\w]+)/([^/]*)$)</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">return</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span>; }</code> </pre><br><br>  The final config in my case is as follows <br><pre> <code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">location</span></span> <span class="hljs-regexp"><span class="hljs-regexp">~ ^/upload/([\w]+)/([^/]*)?$</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">root</span></span> /var/www; <span class="hljs-attribute"><span class="hljs-attribute">if</span></span> (<span class="hljs-variable"><span class="hljs-variable">$request_method</span></span> !<span class="hljs-regexp"><span class="hljs-regexp">~ ^(PUT|DELETE)$)</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">return</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span>; } <span class="hljs-attribute"><span class="hljs-attribute">if</span></span> (<span class="hljs-variable"><span class="hljs-variable">$http_token</span></span> != <span class="hljs-string"><span class="hljs-string">"cb110ef4c4165e495001e297feae7092"</span></span>) { <span class="hljs-attribute"><span class="hljs-attribute">return</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span>; } <span class="hljs-attribute"><span class="hljs-attribute">client_body_buffer_size</span></span> <span class="hljs-number"><span class="hljs-number">2M</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">client_max_body_size</span></span> <span class="hljs-number"><span class="hljs-number">1G</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">dav_methods</span></span> PUT DELETE; <span class="hljs-attribute"><span class="hljs-attribute">dav_access</span></span> group:rw all:r; <span class="hljs-attribute"><span class="hljs-attribute">create_full_put_path</span></span> <span class="hljs-literal"><span class="hljs-literal">on</span></span>; } <span class="hljs-attribute"><span class="hljs-attribute">location</span></span> <span class="hljs-regexp"><span class="hljs-regexp">~ ^/get/(?&lt;folder&gt;[\w]+)/(?&lt;file&gt;[^/]*)$</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">root</span></span> /var/www; <span class="hljs-attribute"><span class="hljs-attribute">ssi</span></span> <span class="hljs-literal"><span class="hljs-literal">on</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">if</span></span> (<span class="hljs-variable"><span class="hljs-variable">$request_method</span></span> != GET) { <span class="hljs-attribute"><span class="hljs-attribute">return</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span>; } <span class="hljs-attribute"><span class="hljs-attribute">rewrite</span></span><span class="hljs-regexp"><span class="hljs-regexp"> ^(.*)$</span></span> /download.html <span class="hljs-literal"><span class="hljs-literal">break</span></span>; } <span class="hljs-attribute"><span class="hljs-attribute">location</span></span> <span class="hljs-regexp"><span class="hljs-regexp">~ ^/download/(?&lt;folder&gt;[\w]+)/([^/]*)$</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">root</span></span> /var/www; <span class="hljs-attribute"><span class="hljs-attribute">open_file_cache</span></span> <span class="hljs-literal"><span class="hljs-literal">off</span></span>; <span class="hljs-section"><span class="hljs-section">types</span></span> { } <span class="hljs-attribute"><span class="hljs-attribute">default_type</span></span> application/octet-stream; <span class="hljs-attribute"><span class="hljs-attribute">add_header</span></span> Content-Disposition <span class="hljs-string"><span class="hljs-string">"attachment"</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">add_header</span></span> X-Content-Type-Options <span class="hljs-string"><span class="hljs-string">"nosniff"</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">if</span></span> (<span class="hljs-variable"><span class="hljs-variable">$request_method</span></span> != GET) { <span class="hljs-attribute"><span class="hljs-attribute">return</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span>; } <span class="hljs-attribute"><span class="hljs-attribute">if</span></span> (<span class="hljs-variable"><span class="hljs-variable">$http_referer</span></span> !<span class="hljs-regexp"><span class="hljs-regexp">~ ^https://example\.com/get/([\w]+)/([^/]*)$)</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">return</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span>; } <span class="hljs-attribute"><span class="hljs-attribute">rewrite</span></span><span class="hljs-regexp"><span class="hljs-regexp"> ^/download/([\w]+)/([^/]*)$</span></span> /upload/<span class="hljs-variable"><span class="hljs-variable">$1</span></span>/<span class="hljs-variable"><span class="hljs-variable">$2</span></span> <span class="hljs-literal"><span class="hljs-literal">break</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">post_action</span></span> <span class="hljs-variable"><span class="hljs-variable">@delete</span></span>; } <span class="hljs-attribute"><span class="hljs-attribute">location</span></span> <span class="hljs-variable"><span class="hljs-variable">@delete</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">proxy_method</span></span> DELETE; <span class="hljs-attribute"><span class="hljs-attribute">proxy_set_header</span></span> Token <span class="hljs-string"><span class="hljs-string">"cb110ef4c4165e495001e297feae7092"</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">proxy_pass</span></span> https://example.com/upload/<span class="hljs-variable"><span class="hljs-variable">$folder</span></span>/; }</code> </pre><br><br>  So that now it was convenient to use and not to drive into the console long commands to download files and folders, I sketched in .zshrc (I assume that it will work in .bashrc) <br><div class="spoiler">  <b class="spoiler_title">function</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">upload</span></span></span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ <span class="hljs-variable"><span class="hljs-variable">$#</span></span> -eq 0 ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Usage: upload [file|folder] [option] cat file | upload [name] [option] Options: gpg - Encrypt file. The folder is pre-packed to tar gzip - Pack to gzip archive. The folder is pre-packed to tar "</span></span> <span class="hljs-built_in"><span class="hljs-built_in">return</span></span> 1 <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> uri=<span class="hljs-string"><span class="hljs-string">"https://example.com/upload"</span></span> token=<span class="hljs-string"><span class="hljs-string">"cb110ef4c4165e495001e297feae7092"</span></span> random=$(hexdump -n 8 -e <span class="hljs-string"><span class="hljs-string">'/4 "%x"'</span></span> &lt;/dev/urandom) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> tty -s; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> name=$(basename <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$1</span></span></span><span class="hljs-string">"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$2</span></span></span><span class="hljs-string">"</span></span> = <span class="hljs-string"><span class="hljs-string">"gpg"</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> passphrase=$(tr -dc <span class="hljs-string"><span class="hljs-string">"[:graph:]"</span></span> &lt;/dev/urandom | head -c16) <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$passphrase</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$1</span></span></span><span class="hljs-string">"</span></span> = <span class="hljs-string"><span class="hljs-string">"-"</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> name=$(basename $(<span class="hljs-built_in"><span class="hljs-built_in">pwd</span></span>)) tar cf - `ls -1 $(<span class="hljs-built_in"><span class="hljs-built_in">pwd</span></span>)` | gpg --passphrase-file &lt;(<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> -n <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$passphrase</span></span></span><span class="hljs-string">"</span></span>) --batch -ac -o- | curl -I --progress-bar -H <span class="hljs-string"><span class="hljs-string">"Token: </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$token</span></span></span><span class="hljs-string">"</span></span> -T <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$uri</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$random</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$name</span></span></span><span class="hljs-string">.tar.gpg"</span></span> | grep <span class="hljs-string"><span class="hljs-string">"Location: "</span></span> | cut -d <span class="hljs-string"><span class="hljs-string">" "</span></span> -f2 | sed <span class="hljs-string"><span class="hljs-string">"s'/upload/'/get/'g"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> [ -d <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$1</span></span></span><span class="hljs-string">"</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> tar cf - `ls -1 <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$1</span></span></span><span class="hljs-string">"</span></span>` | gpg --passphrase-file &lt;(<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> -n <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$passphrase</span></span></span><span class="hljs-string">"</span></span>) --batch -ac -o- | curl -I --progress-bar -H <span class="hljs-string"><span class="hljs-string">"Token: </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$token</span></span></span><span class="hljs-string">"</span></span> -T <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$uri</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$random</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$name</span></span></span><span class="hljs-string">.tar.gpg"</span></span> | grep <span class="hljs-string"><span class="hljs-string">"Location: "</span></span> | cut -d <span class="hljs-string"><span class="hljs-string">" "</span></span> -f2 | sed <span class="hljs-string"><span class="hljs-string">"s'/upload/'/get/'g"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> [ -f <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$1</span></span></span><span class="hljs-string">"</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> gpg --passphrase-file &lt;(<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> -n <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$passphrase</span></span></span><span class="hljs-string">"</span></span>) --batch -ac -o- <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$1</span></span></span><span class="hljs-string">"</span></span> | curl -I --progress-bar -H <span class="hljs-string"><span class="hljs-string">"Token: </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$token</span></span></span><span class="hljs-string">"</span></span> -T <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$uri</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$random</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$name</span></span></span><span class="hljs-string">.gpg"</span></span> | grep <span class="hljs-string"><span class="hljs-string">"Location: "</span></span> | cut -d <span class="hljs-string"><span class="hljs-string">" "</span></span> -f2 | sed <span class="hljs-string"><span class="hljs-string">"s'/upload/'/get/'g"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> [ <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$2</span></span></span><span class="hljs-string">"</span></span> = <span class="hljs-string"><span class="hljs-string">"gzip"</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$1</span></span></span><span class="hljs-string">"</span></span> = <span class="hljs-string"><span class="hljs-string">"-"</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> name=$(basename $(<span class="hljs-built_in"><span class="hljs-built_in">pwd</span></span>)) tar czf - `ls -1 $(<span class="hljs-built_in"><span class="hljs-built_in">pwd</span></span>)` | curl -I --progress-bar -H <span class="hljs-string"><span class="hljs-string">"Token: </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$token</span></span></span><span class="hljs-string">"</span></span> -T <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$uri</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$random</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$name</span></span></span><span class="hljs-string">.tar.gz"</span></span> | grep <span class="hljs-string"><span class="hljs-string">"Location: "</span></span> | cut -d <span class="hljs-string"><span class="hljs-string">" "</span></span> -f2 | sed <span class="hljs-string"><span class="hljs-string">"s'/upload/'/get/'g"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> [ -d <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$1</span></span></span><span class="hljs-string">"</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> tar czf - `ls -1 <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$1</span></span></span><span class="hljs-string">"</span></span>` | curl -I --progress-bar -H <span class="hljs-string"><span class="hljs-string">"Token: </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$token</span></span></span><span class="hljs-string">"</span></span> -T <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$uri</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$random</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$name</span></span></span><span class="hljs-string">.tar.gz"</span></span> | grep <span class="hljs-string"><span class="hljs-string">"Location: "</span></span> | cut -d <span class="hljs-string"><span class="hljs-string">" "</span></span> -f2 | sed <span class="hljs-string"><span class="hljs-string">"s'/upload/'/get/'g"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> [ -f <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$1</span></span></span><span class="hljs-string">"</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> gzip -c <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$1</span></span></span><span class="hljs-string">"</span></span> | curl -I --progress-bar -H <span class="hljs-string"><span class="hljs-string">"Token: </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$token</span></span></span><span class="hljs-string">"</span></span> -T <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$uri</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$random</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$name</span></span></span><span class="hljs-string">.gz"</span></span> | grep <span class="hljs-string"><span class="hljs-string">"Location: "</span></span> | cut -d <span class="hljs-string"><span class="hljs-string">" "</span></span> -f2 | sed <span class="hljs-string"><span class="hljs-string">"s'/upload/'/get/'g"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$1</span></span></span><span class="hljs-string">"</span></span> = <span class="hljs-string"><span class="hljs-string">"-"</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> name=$(basename $(<span class="hljs-built_in"><span class="hljs-built_in">pwd</span></span>)) tar cf - `ls -1 $(<span class="hljs-built_in"><span class="hljs-built_in">pwd</span></span>)` | curl -I --progress-bar -H <span class="hljs-string"><span class="hljs-string">"Token: </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$token</span></span></span><span class="hljs-string">"</span></span> -T <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$uri</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$random</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$name</span></span></span><span class="hljs-string">.tar"</span></span> | grep <span class="hljs-string"><span class="hljs-string">"Location: "</span></span> | cut -d <span class="hljs-string"><span class="hljs-string">" "</span></span> -f2 | sed <span class="hljs-string"><span class="hljs-string">"s'/upload/'/get/'g"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> [ -d <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$1</span></span></span><span class="hljs-string">"</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> tar cf - `ls -1 <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$1</span></span></span><span class="hljs-string">"</span></span>` | curl -I --progress-bar -H <span class="hljs-string"><span class="hljs-string">"Token: </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$token</span></span></span><span class="hljs-string">"</span></span> -T <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$uri</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$random</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$name</span></span></span><span class="hljs-string">.tar"</span></span> | grep <span class="hljs-string"><span class="hljs-string">"Location: "</span></span> | cut -d <span class="hljs-string"><span class="hljs-string">" "</span></span> -f2 | sed <span class="hljs-string"><span class="hljs-string">"s'/upload/'/get/'g"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> [ -f <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$1</span></span></span><span class="hljs-string">"</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> curl -I --progress-bar -H <span class="hljs-string"><span class="hljs-string">"Token: </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$token</span></span></span><span class="hljs-string">"</span></span> -T <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$1</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$uri</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$random</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$name</span></span></span><span class="hljs-string">"</span></span> | grep <span class="hljs-string"><span class="hljs-string">"Location: "</span></span> | cut -d <span class="hljs-string"><span class="hljs-string">" "</span></span> -f2 | sed <span class="hljs-string"><span class="hljs-string">"s'/upload/'/get/'g"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$2</span></span></span><span class="hljs-string">"</span></span> = <span class="hljs-string"><span class="hljs-string">"gpg"</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> passphrase=$(tr -dc <span class="hljs-string"><span class="hljs-string">"[:graph:]"</span></span> &lt;/dev/urandom | head -c16) <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$passphrase</span></span></span><span class="hljs-string">"</span></span> gpg --passphrase-file &lt;(<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> -n <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$passphrase</span></span></span><span class="hljs-string">"</span></span>) --batch -ac -o- | curl -I --progress-bar -H <span class="hljs-string"><span class="hljs-string">"Token: </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$token</span></span></span><span class="hljs-string">"</span></span> -T <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$uri</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$random</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$1</span></span></span><span class="hljs-string">.gpg"</span></span> | grep <span class="hljs-string"><span class="hljs-string">"Location: "</span></span> | cut -d <span class="hljs-string"><span class="hljs-string">" "</span></span> -f2 | sed <span class="hljs-string"><span class="hljs-string">"s'/upload/'/get/'g"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> [ <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$2</span></span></span><span class="hljs-string">"</span></span> = <span class="hljs-string"><span class="hljs-string">"gzip"</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> gzip | curl -I --progress-bar -H <span class="hljs-string"><span class="hljs-string">"Token: </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$token</span></span></span><span class="hljs-string">"</span></span> -T <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$uri</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$random</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$1</span></span></span><span class="hljs-string">.gz"</span></span> | grep <span class="hljs-string"><span class="hljs-string">"Location: "</span></span> | cut -d <span class="hljs-string"><span class="hljs-string">" "</span></span> -f2 | sed <span class="hljs-string"><span class="hljs-string">"s'/upload/'/get/'g"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> curl -I --progress-bar -H <span class="hljs-string"><span class="hljs-string">"Token: </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$token</span></span></span><span class="hljs-string">"</span></span> -T <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$uri</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$random</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$1</span></span></span><span class="hljs-string">"</span></span> | grep <span class="hljs-string"><span class="hljs-string">"Location: "</span></span> | cut -d <span class="hljs-string"><span class="hljs-string">" "</span></span> -f2 | sed <span class="hljs-string"><span class="hljs-string">"s'/upload/'/get/'g"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> }</code> </pre><br></div></div><br><br>  Cons of this solution: <br><ul><li>  Using undocumented post_action directive, which <a href="https://forum.nginx.org/read.php%3F2,274880,274886">cannot be</a> used <br></li><li>  No resume.  If the connection fails, then nginx will execute the post_action directive and delete the file. </li><li>  It all looks like magic </li></ul><br><br>  <b>UPD</b> : Article updated on 01/18/2018.  Anyone who has previously managed to set up a similar one at home, I strongly recommend making the appropriate changes, guided by the updated article. <br><br>  PS: I express my gratitude to <a href="https://habrahabr.ru/users/el777/" class="user_link">el777</a> , because  his <a href="https://habrahabr.ru/post/346758/">advice</a> led to the fact that enlightenment descended on me, and the configs with the article were rewritten. <br></div><p>Source: <a href="https://habr.com/ru/post/346758/">https://habr.com/ru/post/346758/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../346748/index.html">Pentestit Corporate Laboratories: Practical Information Security Skills</a></li>
<li><a href="../346750/index.html">How we spent the day at Veeam</a></li>
<li><a href="../346752/index.html">An explanation of HTTPS on homing pigeons</a></li>
<li><a href="../346754/index.html">The book "React and Redux: functional web development"</a></li>
<li><a href="../346756/index.html">How far the unmanned vehicle will reach? Ask a question to an Intel expert</a></li>
<li><a href="../346760/index.html">TeamLead - our all: the most popular reports from HighLoad ++ 2017. Part 1</a></li>
<li><a href="../346762/index.html">The magic of the word "blockchain" and other materials in our collection</a></li>
<li><a href="../346764/index.html">January fixing holes in the .NET Framework and Core</a></li>
<li><a href="../346766/index.html">Recognizing motion gestures on Android using Tensorflow</a></li>
<li><a href="../346768/index.html">Two-factor authentication for Cisco Meraki Client VPN using Token2 TOTPRadius</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>