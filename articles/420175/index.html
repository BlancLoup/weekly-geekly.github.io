<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Vanessa-Automation is a tool for autodocumenting application solutions on the 1C: Enterprise platform. Cinema and BDD</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="What is it and what is necessary 





 I am not interested in stories that leave the viewer indifferent. I want to leave the cinema man thought: "Gos...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Vanessa-Automation is a tool for autodocumenting application solutions on the 1C: Enterprise platform. Cinema and BDD</h1><div class="post__text post__text-html js-mediator-article"><h1 id="chto-eto-i-dlya-chego-nado">  What is it and what is necessary </h1><br><p><img src="https://imageshack.com/a/img923/4036/GNstEc.jpg" alt="Cinema" title="Cinema"></p><br><p>  I am not interested in stories that leave the viewer indifferent.  I want to leave the cinema man thought: "Gosh, I need a drink."  (c) Killian Murphy <br>  So what does Kino and BDD mean ?!  Welcome under cat. <a name="habracut"></a></p><br><p>  I will talk about the tool, which from the script written on Gherkin (there is such a scripting language), makes the instruction, or rather, the <strong>actual documentation</strong> (Living documentation). </p><br><p>  In order not to torment you, I will immediately show the result of my (and not only) works. <br>  I will tell you how, from the script written below, to make such a <a href="https://youtu.be/zkPZtI0lvQQ">video</a> here with one click.  I note that scripts can be written not only in Russian, but also in other languages. </p><br><p>  It's not a secret - the documentation becomes obsolete with time, but it is expensive to keep it up to date, and it also ‚Äúbreaks‚Äù.  The documentation is already there, but it is always necessary to supplement something, change screenshots, etc.  Here bearded guys come up out of nowhere and assure that there is a magical way to do all your development in a cool way (all of your trendy TDDs / BDDs, etc.), with which all your code is written by itself, it tests and documents itself. </p><br><p>  And so, driven by laziness and faith in a bright future, 1C programmers decided to implement this concept.  I will show how this works using the example of the <a href="https://habr.com/post/418303/">Vanessa-Automation</a> tool. </p><br><p>  I forgot to say (in fact, of course I did not forget, but deliberately delayed :-) - this tool for 1C.  My goal is to tell you about the tool that complements 1C.  Yes, there are such tools, even more - they are posted on github and are actively developing.  Beg a small digression.  Many people know that now there are many frameworks for JavaScript, that is, they live in the present, but for some reason, many people in the 1C relationship live in the past.  I want to show that the world is developing 1C.  There are normal open source tools for 1C. </p><br><p>  So.  One user needs documentation in the form of textual documentation (HTML, Markdown), another in the form of a screencast, and the third in the form of auto-video.  And for all the "hotelok" there is a solution in one bottle. </p><br><h1 id="generaciya-html-i-markdown">  Generate HTML and Markdown </h1><br><p>  In order to generate HTML and text in markdown, you need to install a utility for taking screenshots (IrfanView, nircmd or the like).  Next, turn on this setting.  (Service - Autoinstructions. We are looking for the HTML and Markdown sections).  Configure the folder in which we will save the automatically generated auto-instructions.  Example: </p><br><p><img src="https://imageshack.com/a/img921/1275/7K64OS.png" alt="autoinstruction" title="autoinstruction1"></p><br><p>  We start our feature, if there were no errors - the auto-instruction is saved: </p><br><p><img src="https://imageshack.com/a/img923/420/WXtrpq.png" alt="autoinstruction" title="autoinstruction2"></p><br><h1 id="generaciya-video">  Video generation </h1><br><p>  Without any difficulty, we can make a video.  To do this, you need to set up the environment for recording video according to the <a href="">instructions</a> and enjoy the process.  No need to cut the video, glue and impose sound.  This is all done automatically. </p><br><p><img src="https://imageshack.com/a/img922/6929/BlbPDO.png" alt="autoinstruction" title="autoinstruction3"></p><br><p>  Every video comes with subtitles.  We can pause and read.  Not difficult.  We do the most convenient for the user. </p><br><p>  If it is boring to read, you can make the voice acting by voice.  To do this, install the <a href="">library</a> and run our script.  In a couple of minutes, the voice over video will be ready. </p><br><p><img src="https://imageshack.com/a/img924/6136/80u3Wv.png" alt="autoinstruction" title="autoinstruction4"></p><br><p>  There is a function of overlaying a watermark, highlighting the active element on the screen (this feature works for platform versions 8.3.11 and below) (yes, users like it when they chew on everything) and mouse movements to where the ‚ÄúAction‚Äù takes place. </p><br><h1 id="gibkaya-kastomizaciya-video">  Flexible video customization </h1><br><p>  It all starts with the script and ends there.  Exactly. </p><br><p> You can configure your CI server so that it does not generate documentation for all scripts, but only for the necessary ones.  To do this, we add a tag in scenarios intended for autodocs, for example <code>@tree</code> (the selection for this tag will work later) and ... enjoy the process. </p><br><p>  In theory, when you write a big script, you still have to divide it into logical blocks, make comments in it (that this super important flag must be set, otherwise it will not work). <br>  The idea of ‚Äã‚Äãavtovideo is that these comments become part of the ‚Äústory‚Äù that we show to the user. </p><br><p>  For this, for example, you can change the text of the step, make it more ‚Äúhumane‚Äù, as we write the script on Gherkin, but for users it is not always convenient to listen to the business language and therefore there is a directive <code>#[autodoc.text]</code> .  For me, this is one of the important features of Vanessa-Automation, since users have different competencies - I try to write as clearly as possible. </p><br><p>  Some steps in the scenario you want to combine into one (often this concerns some obvious operations).  For example, add data to the tabular part.  Or when one step of a business scenario (filling in the header of a document) consists of dozens of actions.  Then the directive <code>#[autodoc.groupsteps]</code> .  I want to note that the autodoc directives work for both video and html and markdown instructions.  The remaining directives are described in the <code> </code> project. </p><br><p>  When we watch the generated video, there will initially only be video without sound.  Some screenshots and text flash, it becomes boring and you stop to delve into it.  Yes, and sad somehow without music.  The background to the video, you can put the "light" music (or any weight, every whim) to read more fun.  The learning process will go faster :) The experience of creating such videos has shown that when the background music is played, the video is easier to understand.  Without music - dry somehow. </p><br><p>  When recording a video, the cursor is not displayed and you cannot see where we click on which element.  For this there is a setting for displaying the cursor and highlighting a form element. </p><br><p>  All of the above settings are shown in the video and in the script that was generated after the successful passage of the script. </p><br><h1 id="avtoobnovlenie-video-na-yutub">  Auto update video on YouTube </h1><br><p>  For the nightly assembly (well, we are not going to upload videos on YouTube with our hands, right?), You can implement automatic uploading of the video to the youtube channel. <br>  We set a script on our folder with our feature that determines that the file has changed, then builds the video and uploads it to the right place. <br>  For avtovideo, I made a simple <a href="https://github.com/hawk911/youtube_api">application</a> on <code>Golang</code> (why on it? I studied go and there was a real task where I could apply it. If there was something else, it would be on something else), which sends the finished video to the youtube channel.  This, of course, is just an example.  Videos can be added to your wiki or knowledge base, etc. </p><br><h1 id="zaklyuchenie">  Conclusion </h1><br><p>  I give you a test script that generated the video. <br>  Example, feature. </p><br><pre> <code class="hljs rust">#language: ru @tree :   . :      TestClient     <span class="hljs-meta"><span class="hljs-meta">#[autodoc.ignore.scenarioslide]</span></span> :  . <span class="hljs-meta"><span class="hljs-meta">#[autodoc.text]</span></span>   ,       .       <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-string"><span class="hljs-string">"  Habr"</span></span>    <span class="hljs-string"><span class="hljs-string">"      !   -     ..."</span></span>    <span class="hljs-string"><span class="hljs-string">"      :-)"</span></span> <span class="hljs-meta"><span class="hljs-meta">#[autodoc.groupsteps]</span></span>   .        ,      .      <span class="hljs-string"><span class="hljs-string">""</span></span>      <span class="hljs-string"><span class="hljs-string">""</span></span>    <span class="hljs-string"><span class="hljs-string">" Habr"</span></span>    <span class="hljs-string"><span class="hljs-string">""</span></span>    <span class="hljs-string"><span class="hljs-string">"14,00"</span></span>    <span class="hljs-string"><span class="hljs-string">""</span></span>    <span class="hljs-string"><span class="hljs-string">"14.08.2018"</span></span>      <span class="hljs-string"><span class="hljs-string">""</span></span>    <span class="hljs-string"><span class="hljs-string">"  !"</span></span>      <span class="hljs-string"><span class="hljs-string">"  "</span></span>    <span class="hljs-string"><span class="hljs-string">"  ."</span></span></code> </pre><br><p>  A quick tutorial on how to set up auto-documentation is <a href="">here</a> . <br>  Instructions on how to configure <a href="https://www.youtube.com/watch%3Fv%3DBfXowJH5uP0">autodocumentation</a> . </p><br><p>  Thank you for your time.  No matter how wild this may sound, the 1C community has stepped forward ( <del>  and in some things even overtook someone </del>  ), opensource testing tools appeared, CI - integration.  1C does API for its products - this allows enthusiasts to automate areas that 1C hasn‚Äôt reached yet, but it is on the sly.  And soon we will have a new brave world :) I‚Äôm waiting for us to create in EDT without critical errors. </p><br><h1 id="ps">  PS </h1><br><p>  Support the <a href="https://github.com/Pr-Mex/vanessa-automation">project with a</a> kind word, like, criticism (the project chat in Gitter is <a href="https://gitter.im/vanessa-automation/Lobby">here</a> ) is always nice for the authors. </p><br><h1 id="ssylki">  Links </h1><br><ul><li>  <a href="https://youtu.be/KbImzcrj_58">Webinar</a> </li><li>  <a href="https://youtu.be/m9o6pMDTM3U">Report at infostart event 2015</a> </li><li>  <a href="https://youtu.be/FtkSS2VvHQA">Report on infostart event 2016</a> and <a href="https://youtu.be/sha1_at1FQo">answers to questions</a> </li></ul></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/420175/">https://habr.com/ru/post/420175/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../420159/index.html">R & Python Web Services</a></li>
<li><a href="../420161/index.html">1500 publications, a captcha game for programmers and a broken brain and brain: 10 years to our blog</a></li>
<li><a href="../420167/index.html">MBLT DEV 2018: price increase and new speakers</a></li>
<li><a href="../420171/index.html">ICO 2.0 and Business Tokenization</a></li>
<li><a href="../420173/index.html">IoT architecture - first look under the hood</a></li>
<li><a href="../420177/index.html">Conference hackers DEFCON. Hacking speed</a></li>
<li><a href="../420181/index.html">Which Sony Xperia smartphones will get Android 9.0 Pie and when the update will be available</a></li>
<li><a href="../420183/index.html">High power immersion cooling</a></li>
<li><a href="../420185/index.html">Virtual server - for data storage</a></li>
<li><a href="../420189/index.html">No Excuses Club: Massimiliano Sichi's Unlimited Perseverance</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>