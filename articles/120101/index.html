<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Testing in Java. Junit</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today, test-driven development (TDD) , a software development technique, is becoming increasingly popular, in which a test is first written for a spec...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Testing in Java. Junit</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage/6b40a243/72bc5769/d3c49ea1/bb80fd15.jpg" align="left"><br>  Today, <a href="http://ru.wikipedia.org/wiki/%25D0%25A0%25D0%25B0%25D0%25B7%25D1%2580%25D0%25B0%25D0%25B1%25D0%25BE%25D1%2582%25D0%25BA%25D0%25B0_%25D1%2587%25D0%25B5%25D1%2580%25D0%25B5%25D0%25B7_%25D1%2582%25D0%25B5%25D1%2581%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5">test-driven development (TDD)</a> , a software development technique, is becoming increasingly popular, in which a test is first written for a specific functionality, and then the implementation of this functionality is written.  In practice, everything, of course, is not so perfect, but as a result, the code is not only written and tested, but the tests implicitly set the requirements for the functionality, and also show an example of using this functionality. <br><br>  So, the technique is pretty clear, but the question arises, what to use to write these same tests?  In this and other articles, I would like to share my experience in using various tools and techniques for testing code in Java. <br><br>  Well, I'll start with, perhaps, the most famous, and therefore the most used framework for testing - <a href="http://junit.org/">JUnit</a> .  It is used in two versions of JUnit 3 and JUnit 4. I will consider both versions, since the old projects still use the 3rd, which supports Java 1.4. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I do not pretend to the author of any original ideas, and perhaps many things that will be discussed in the article are familiar.  But if you are still interested, then welcome under cat. <br><a name="habracut"></a><br><h1>  JUnit 3 </h1><br>  To create a test, you need to inherit the test class from <i>TestCase</i> , override the <i>setUp</i> and <i>tearDown methods</i> if necessary, and most importantly, create test methods (must start with <i>test</i> ).  When a test is run, an instance of the test class is first created (for each test in the class a separate instance of the class), then the <i>setUp</i> method is <i>executed</i> , the test itself is started, and finally the <i>tearDown</i> method is <i>executed</i> .  If any method throws an exception, the test is considered failed. <br><br>  Note: test methods must be <i>public void</i> , may be <i>static</i> . <br><br>  The tests themselves consist of executing some code and checks.  Checks are most often performed using the <i>Assert</i> class, although sometimes the <i>assert</i> keyword is used. <br><br>  Consider an example.  There is a utility for working with strings, there are methods for checking the empty string and presenting a sequence of bytes as a hexadecimal string: <br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StringUtils</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> HI_BYTE_MASK = <span class="hljs-number"><span class="hljs-number">0xf0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> LOW_BYTE_MASK = <span class="hljs-number"><span class="hljs-number">0x0f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span>[] HEX_SYMBOLS = { <span class="hljs-string"><span class="hljs-string">'0'</span></span>, <span class="hljs-string"><span class="hljs-string">'1'</span></span>, <span class="hljs-string"><span class="hljs-string">'2'</span></span>, <span class="hljs-string"><span class="hljs-string">'3'</span></span>, <span class="hljs-string"><span class="hljs-string">'4'</span></span>, <span class="hljs-string"><span class="hljs-string">'5'</span></span>, <span class="hljs-string"><span class="hljs-string">'6'</span></span>, <span class="hljs-string"><span class="hljs-string">'7'</span></span>, <span class="hljs-string"><span class="hljs-string">'8'</span></span>, <span class="hljs-string"><span class="hljs-string">'9'</span></span>, <span class="hljs-string"><span class="hljs-string">'a'</span></span>, <span class="hljs-string"><span class="hljs-string">'b'</span></span>, <span class="hljs-string"><span class="hljs-string">'c'</span></span>, <span class="hljs-string"><span class="hljs-string">'d'</span></span>, <span class="hljs-string"><span class="hljs-string">'e'</span></span>, <span class="hljs-string"><span class="hljs-string">'f'</span></span>, }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isEmpty</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> CharSequence sequence)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sequence == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> || sequence.length() &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toHexString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] data)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> StringBuffer builder = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringBuffer(<span class="hljs-number"><span class="hljs-number">2</span></span> * data.length); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> item : data) { builder.append(HEX_SYMBOLS[(HI_BYTE_MASK &amp; item) &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">4</span></span>]); builder.append(HEX_SYMBOLS[(LOW_BYTE_MASK &amp; item)]); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> builder.toString(); } }</code> </pre> <br>  We write tests for it using JUnit 3. In my opinion, the most convenient way is to write tests, considering the ney class as a black box, write a separate test for each significant method in this class, for each set of input parameters some expected result.  For example, a test for the <i>isEmpty</i> method: <br><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testIsEmpty</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> actual = StringUtils.isEmpty(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>); assertTrue(actual); actual = StringUtils.isEmpty(<span class="hljs-string"><span class="hljs-string">""</span></span>); assertTrue(actual); actual = StringUtils.isEmpty(<span class="hljs-string"><span class="hljs-string">" "</span></span>); assertFalse(actual); actual = StringUtils.isEmpty(<span class="hljs-string"><span class="hljs-string">"some string"</span></span>); assertFalse(actual); }</code> </pre><br>  You can separate the data and logic of the test by transferring data creation to the <i>setUp</i> method: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StringUtilsJUnit3Test</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TestCase</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Map toHexStringData = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HashMap(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ toHexStringData.put(<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[<span class="hljs-number"><span class="hljs-number">0</span></span>]); toHexStringData.put(<span class="hljs-string"><span class="hljs-string">"01020d112d7f"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] { <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>, <span class="hljs-number"><span class="hljs-number">17</span></span>, <span class="hljs-number"><span class="hljs-number">45</span></span>, <span class="hljs-number"><span class="hljs-number">127</span></span> }); toHexStringData.put(<span class="hljs-string"><span class="hljs-string">"00fff21180"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] { <span class="hljs-number"><span class="hljs-number">0</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">14</span></span>, <span class="hljs-number"><span class="hljs-number">17</span></span>, -<span class="hljs-number"><span class="hljs-number">128</span></span> }); <span class="hljs-comment"><span class="hljs-comment">//... } protected void tearDown() throws Exception { toHexStringData.clear(); } public void testToHexString() { for (Iterator iterator = toHexStringData.keySet().iterator(); iterator.hasNext();) { final String expected = (String) iterator.next(); final byte[] testData = (byte[]) toHexStringData.get(expected); final String actual = StringUtils.toHexString(testData); assertEquals(expected, actual); } } //... }</span></span></code> </pre><br><h2>  Additional features </h2><br>  In addition to what has been described, there are a few additional features.  For example, you can group tests.  To do this, use the <i>TestSuite</i> class: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StringUtilsJUnit3TestSuite</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TestSuite</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">StringUtilsJUnit3TestSuite</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ addTestSuite(StringUtilsJUnit3Test.class); addTestSuite(OtherTest1.class); addTestSuite(OtherTest2.class); } }</code> </pre><br>  You can run the same test several times.  To do this, use <i>RepeatedTest</i> : <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StringUtilsJUnit3RepeatedTest</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RepeatedTest</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">StringUtilsJUnit3RepeatedTest</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringUtilsJUnit3Test(), <span class="hljs-number"><span class="hljs-number">100</span></span>); } }</code> </pre><br>  Inheriting the test class from <i>ExceptionTestCase</i> , you can check for throwing an exception: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StringUtilsJUnit3ExceptionTest</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ExceptionTestCase</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">StringUtilsJUnit3ExceptionTest</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> String name)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(name, NullPointerException.class); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testToHexString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ StringUtils.toHexString(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>); } }</code> </pre><br>  As you can see from the examples, everything is quite simple, nothing superfluous, the minimum necessary for testing (although some necessary things are lacking). <br><br><h1>  JUnit 4 </h1><br>  Support for new features from Java 5 has been added here; tests can now be announced using annotations.  At the same time, there is backward compatibility with the previous version of the framework, almost all the examples discussed above will work here (with the exception of <i>RepeatedTest</i> , it is not in the new version). <br><br>  So what has changed? <br><br><h2>  Basic annotations </h2><br>  Consider the same example, but using new features: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StringUtilsJUnit4Test</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Assert</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Map&lt;String, <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[]&gt; toHexStringData = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HashMap&lt;String, <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[]&gt;(); <span class="hljs-meta"><span class="hljs-meta">@Before</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUpToHexStringData</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ toHexStringData.put(<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[<span class="hljs-number"><span class="hljs-number">0</span></span>]); toHexStringData.put(<span class="hljs-string"><span class="hljs-string">"01020d112d7f"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] { <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>, <span class="hljs-number"><span class="hljs-number">17</span></span>, <span class="hljs-number"><span class="hljs-number">45</span></span>, <span class="hljs-number"><span class="hljs-number">127</span></span> }); toHexStringData.put(<span class="hljs-string"><span class="hljs-string">"00fff21180"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] { <span class="hljs-number"><span class="hljs-number">0</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">14</span></span>, <span class="hljs-number"><span class="hljs-number">17</span></span>, -<span class="hljs-number"><span class="hljs-number">128</span></span> }); <span class="hljs-comment"><span class="hljs-comment">//... } @After public static void tearDownToHexStringData() { toHexStringData.clear(); } @Test public void testToHexString() { for (Map.Entry&lt;String, byte[]&gt; entry : toHexStringData.entrySet()) { final byte[] testData = entry.getValue(); final String expected = entry.getKey(); final String actual = StringUtils.toHexString(testData); assertEquals(expected, actual); } } }</span></span></code> </pre><br>  What do we see here? <br><ul><li>  To simplify the work, I prefer to inherit from the <i>Assert</i> class, although this is optional. </li><li>  <i><a href="https://habrahabr.ru/users/before/" class="user_link">Before the</a></i> annotation indicates the methods that will be called before the test is executed, the methods must be <i>public void</i> .  Here presets are usually placed for the test, in our case it is the generation of test data ( <i>setUpToHexStringData</i> method). </li><li>  The <i>@BeforeClass annotation</i> refers to the methods that will be called before creating an instance of the test class; the methods must be <i>public static void</i> .  It makes sense to place presets for a test in the case where a class contains several tests using different presets, or when several tests use the same data in order not to waste time creating them for each test. </li><li>  <i><a href="https://habrahabr.ru/users/after/" class="user_link">After the</a></i> annotation indicates the methods that will be called after the test execution, the methods must be <i>public void</i> .  This is where the resource release operations are placed after the test, in our case, the test data clearing (the <i>tearDownToHexStringData</i> method). </li><li>  The <i>@AfterClass annotation</i> is connected with <i>@BeforeClass</i> , but it performs methods after the test, as in the case of <i>@BeforeClass</i> , the methods must be <i>public static void</i> . </li><li>  <i><a href="https://habrahabr.ru/users/test/" class="user_link">Test</a></i> annotation refers to test methods.  As before, these methods must be <i>public void</i> .  Here are the checks themselves.  In addition, this annotation has two parameters, <i>expected</i> - sets the expected exception and <i>timeout</i> - sets the time after which the test is considered failed. </li></ul><br><pre> <code class="java hljs"> <span class="hljs-meta"><span class="hljs-meta">@Test</span></span>(expected = NullPointerException.class) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testToHexStringWrong</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ StringUtils.toHexString(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>); } <span class="hljs-meta"><span class="hljs-meta">@Test</span></span>(timeout = <span class="hljs-number"><span class="hljs-number">1000</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">infinity</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); }</code> </pre><br>  If any test for any serious reason needs to be turned off (for example, this test constantly falls, but its correction is postponed until a bright future), you can zannotirovat <i>@Ignore</i> .  Also, if you place this annotation on a class, all tests in this class will be disabled. <br><pre> <code class="java hljs"> <span class="hljs-meta"><span class="hljs-meta">@Ignore</span></span> <span class="hljs-meta"><span class="hljs-meta">@Test</span></span>(timeout = <span class="hljs-number"><span class="hljs-number">1000</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">infinity</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); }</code> </pre><br><h2>  rules </h2><br>  In addition to all of the above, there is a rather interesting thing - the rules.  Rules are a kind of utility for tests that add functionality before and after the test. <br><br>  For example, there are built-in rules for setting a timeout for a test ( <i>Timeout</i> ), for specifying expected exceptions ( <i>ExpectedException</i> ), for working with temporary files ( <i>TemporaryFolder</i> ), etc.  To declare a rule, you need to create a <i>public</i> non- <i>static</i> field of the type derived from <i>MethodRule</i> and annotate it using <i><a href="https://habrahabr.ru/users/rule/" class="user_link">Rule</a></i> . <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OtherJUnit4Test</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Rule</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> TemporaryFolder folder = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TemporaryFolder(); <span class="hljs-meta"><span class="hljs-meta">@Rule</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Timeout timeout = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Timeout(<span class="hljs-number"><span class="hljs-number">1000</span></span>); <span class="hljs-meta"><span class="hljs-meta">@Rule</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> ExpectedException thrown = ExpectedException.none(); <span class="hljs-meta"><span class="hljs-meta">@Ignore</span></span> <span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">anotherInfinity</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); } <span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testFileWriting</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> File log = folder.newFile(<span class="hljs-string"><span class="hljs-string">"debug.log"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> FileWriter logWriter = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FileWriter(log); logWriter.append(<span class="hljs-string"><span class="hljs-string">"Hello, "</span></span>); logWriter.append(<span class="hljs-string"><span class="hljs-string">"World!!!"</span></span>); logWriter.flush(); logWriter.close(); } <span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testExpectedException</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ thrown.expect(NullPointerException.class); StringUtils.toHexString(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>); } }</code> </pre><br>  Also on the network you can find other uses.  For example, <a href="http://blog.mycila.com/2009/11/writing-your-own-junit-extensions-using.html">here</a> the possibility of a parallel test run <a href="http://blog.mycila.com/2009/11/writing-your-own-junit-extensions-using.html">is</a> considered. <br><br><h2>  Launch </h2><br>  But the possibilities of the framework don't end there.  The way the test is run can also be configured using <i>@RunWith</i> .  In this case, the class specified in the annotation must be inherited from <i>Runner</i> .  Consider the launchers that come bundled with the framework itself. <br><br>  <i>JUnit4</i> - the default launch, as the name implies, is designed to run JUnit 4 tests. <br><br>  <i>JUnit38ClassRunner is</i> designed to run tests written using JUnit 3. <br><br>  <i>SuiteMethod</i> or <i>AllTests are</i> also designed to run JUnit 3 tests.  Unlike the previous launcher, a class with a static suite method that returns a test (a sequence of all tests) is passed to this class. <br><br>  <i>The suite</i> is equivalent to the previous one, only for JUnit 4 tests.  To customize the tests run, use the <i>@SuiteClasses</i> annotation. <br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Suite</span></span>.SuiteClasses( { OtherJUnit4Test.class, StringUtilsJUnit4Test.class }) <span class="hljs-meta"><span class="hljs-meta">@RunWith</span></span>(Suite.class) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JUnit4TestSuite</span></span></span><span class="hljs-class"> </span></span>{ }</code> </pre><br>  <i>Enclosed</i> is the same as the previous version, but instead of setting using annotation all inner classes are used. <br><br>  <i>Categories</i> - an attempt to organize tests in categories (groups).  To do this, the tests are <i>assigned a</i> category using <i>@Category</i> , then the run test categories in the suite are configured.  It might look like this: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StringUtilsJUnit4CategoriesTest</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Assert</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//... @Category(Unit.class) @Test public void testIsEmpty() { //... } //... } @RunWith(Categories.class) @Categories.IncludeCategory(Unit.class) @Suite.SuiteClasses( { OtherJUnit4Test.class, StringUtilsJUnit4CategoriesTest.class }) public class JUnit4TestSuite { }</span></span></code> </pre><br>  <i>Parameterized</i> is a rather interesting start-up; it allows you to write parameterized tests.  To do this, a static method is declared in the test class that returns a list of data that will then be used as arguments to the class constructor. <br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@RunWith</span></span>(Parameterized.class) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StringUtilsJUnit4ParameterizedTest</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Assert</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> CharSequence testData; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> expected; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">StringUtilsJUnit4ParameterizedTest</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> CharSequence testData, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">boolean</span></span></span></span><span class="hljs-function"><span class="hljs-params"> expected)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.testData = testData; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.expected = expected; } <span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testIsEmpty</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> actual = StringUtils.isEmpty(testData); assertEquals(expected, actual); } <span class="hljs-meta"><span class="hljs-meta">@Parameterized</span></span>.Parameters <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> List&lt;Object[]&gt; isEmptyData() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Arrays.asList(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Object[][] { { <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> }, { <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> }, { <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> }, { <span class="hljs-string"><span class="hljs-string">"some string"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> }, }); } }</code> </pre><br>  <i>Theories</i> is somewhat similar to the previous one, but it parameterizes the test method, not the constructor.  The data is marked with <i>@DataPoints</i> and <i>@DataPoint</i> , the test method is marked with <i><a href="https://habrahabr.ru/users/theory/" class="user_link">Theory</a></i> .  A test using this functionality will look something like this: <br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@RunWith</span></span>(Theories.class) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StringUtilsJUnit4TheoryTest</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Assert</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@DataPoints</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Object[][] isEmptyData = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Object[][] { { <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> }, { <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> }, { <span class="hljs-string"><span class="hljs-string">"some string"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> }, }; <span class="hljs-meta"><span class="hljs-meta">@DataPoint</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Object[] nullData = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Object[] { <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> }; <span class="hljs-meta"><span class="hljs-meta">@Theory</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testEmpty</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Object... testData)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> actual = StringUtils.isEmpty((CharSequence) testData[<span class="hljs-number"><span class="hljs-number">0</span></span>]); assertEquals(testData[<span class="hljs-number"><span class="hljs-number">1</span></span>], actual); } }</code> </pre><br>  As with the rules, other uses can be found online.  For example, <a href="http://blog.mycila.com/2009/11/writing-your-own-junit-extensions-using.html">here</a> we consider the same possibility of running the test in parallel, but using the launcher. <br><br><h1>  Conclusion </h1><br>  This, of course, is not all that could be said about JUnit, but I tried to be brief and to the point.  As you can see, the framework is quite simple to use, there are few additional features, but there is a possibility of expansion with the help of rules and startups.  But despite all this, I still prefer <a href="http://testng.org/doc/index.html">TestNG</a> with its powerful functionality, which I will discuss in the next article. <br><br>  Examples can be found on the <a href="https://github.com/sody/samples/tree/master/testing">githaba</a> . <br><br><h1>  Literature </h1><br><ul><li>  <a href="http://junit.org/">Junit</a> </li><li>  <a href="http://www.cavdar.net/2008/07/21/junit-4-in-60-seconds/">JUnit 4 in 60 Seconds</a> </li><li>  <a href="http://isagoksu.com/2009/development/agile-development/test-driven-development/using-junit-datapoints-and-theories/">Using JUnit DataPoints and Theories</a> </li><li>  <a href="http://isagoksu.com/2009/development/agile-development/test-driven-development/using-junit-parameterized-annotation/">Using JUnit Parameterized Annotation</a> </li><li>  <a href="http://blog.mathieu.photography/post/60454975151/writing-your-own-junit-extensions-using-rule">Writing your own JUnit extensions using @Rule</a> </li><li>  <a href="http://junit.org/node/589">Junior tests with RunnerScheduler for a concurrent execution</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/120101/">https://habr.com/ru/post/120101/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../120093/index.html">Youtube 3D video is better</a></li>
<li><a href="../120094/index.html">Computex2011 - Apacer Prepares Many Technical Surprises</a></li>
<li><a href="../120095/index.html">During fashion and money: mobile application development</a></li>
<li><a href="../120096/index.html">Not so scary, XTS-AES</a></li>
<li><a href="../120100/index.html">DEVCONF 2011 - June 4 (Saturday)> 55 reports, 6 halls, 5 master classes (HighLoad +)</a></li>
<li><a href="../120103/index.html">IBM Watson supercomputer mastered the knowledge of the 2nd year of medical school</a></li>
<li><a href="../120104/index.html">Spotify will be integrated into Facebook</a></li>
<li><a href="../120105/index.html">Canobuvosti, 93rd edition</a></li>
<li><a href="../120106/index.html">Startup Jobs from PRUFFI (May 23-27)</a></li>
<li><a href="../120107/index.html">The company Envision introduced the gaming console Evo 2 on Android</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>