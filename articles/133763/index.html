<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Logging a C # application to a FireBird Embedded database using NLog 2.0</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Getting started on my first desktop application in C #, I wondered about logging. Having studied the proposals on this topic, for good reviews and the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Logging a C # application to a FireBird Embedded database using NLog 2.0</h1><div class="post__text post__text-html js-mediator-article"> Getting started on my first desktop application in C #, I wondered about logging.  Having studied the proposals on this topic, for good reviews and the lack of fees for use, my choice fell on NLog 2.0.  After reading the documentation on the site, as well as local articles, I easily set up debug information output to a text file.  But an inquiring mind does not stand still, and since my application uses the FireBird Embedded database, I decided to set up logging in it.  That's where I got a puzzle of 5 hours. <a name="habracut"></a>  There is practically no information on configuring NLog for FireBird (whether embedded or not plays a large role), and the one that exists is relevant to earlier versions of NLog and has already lost relevance.  Having rolled up my sleeves and stocking up with kefir, I began to overcome this obstacle, which is what this article is about. <br><br>  I want to note that the article does not affect the connection of the FireBird .Net provider to the project, as well as the initial installation of NLog. <br><br>  NLog configuration is the correct configuration of the NLog.config file, which is an XML file.  In the first couple, I ran into the problem that after switching on the logging system, the project simply stopped running, failing to initialize the main form of the application.  This was due to a poorly configured NLog.  To simplify your task and save your nerves, you need to add two lines to the configuration file: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <code>throwExceptions="true" <br> internalLogFile="file.txt" <br></code> <br>  The next time you start the application, a file.txt will be created in the folder with the executable file, which contains a rather detailed log of the NLog system itself and will allow you to catch configuration errors. <br>  Setting the "receiver" logs is in the tag "target".  The most difficult was to get 3 things: <br>  1) The name of the database provider with its token <br>  2) DB connection string <br>  3) Query to the database and its parameters <br><br>  The first point was overcome with the help of Google.  But with the second and third paragraph was more difficult.  I received the connection string from my application, which, based on other manuals, could already connect to the FireBird database.  I disassembled the request and its parameters with the help of a not quite scientific method of ‚Äúspear‚Äù.  In order not to torment, I will immediately give the working config of the "receiver": <br> <code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">target</font> <br> <font color="#ff0000">xsi:type</font> <font color="#0000ff">="Database"</font> <br> <font color="#ff0000">name</font> <font color="#0000ff">="db"</font> <br> <font color="#ff0000">dbProvider</font> <font color="#0000ff">="FirebirdSql.Data.FirebirdClient.FbConnection, FirebirdSql.Data.FirebirdClient, Version=2.6.5.0, Culture=neutral, PublicKeyToken=3750abcc3150b00c"</font> <br> <font color="#ff0000">useTransactions</font> <font color="#0000ff">="true"</font> <br> <font color="#ff0000">connectionString</font> <font color="#0000ff">="server type=Embedded;initial catalog=FYT.FDB;character set=WIN1251;dialect=3;client library=fbembed.dll;user id=SYSDBA;password=masterkey"</font> <br> <font color="#ff0000">keepConnection</font> <font color="#0000ff">="true"</font> <br> <font color="#ff0000">commandText</font> <font color="#0000ff">="INSERT INTO logs (DT, LOG_TEXT, LEVEL_ID, CLASS, STACK_TRACE) values (@DT, @LOG_TEXT, @LEVEL_ID, @CLASS, @STACK_TRACE);"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">parameter</font> <font color="#ff0000">layout</font> <font color="#0000ff">="${longdate}"</font> <font color="#ff0000">name</font> <font color="#0000ff">="@DT"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">parameter</font> <font color="#ff0000">layout</font> <font color="#0000ff">="${level}"</font> <font color="#ff0000">name</font> <font color="#0000ff">="@LEVEL"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">parameter</font> <font color="#ff0000">layout</font> <font color="#0000ff">="${message}"</font> <font color="#ff0000">name</font> <font color="#0000ff">="@LOG_TEXT"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">parameter</font> <font color="#ff0000">layout</font> <font color="#0000ff">="${logger}"</font> <font color="#ff0000">name</font> <font color="#0000ff">="@CLASS"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">parameter</font> <font color="#ff0000">layout</font> <font color="#0000ff">="${stacktrace}"</font> <font color="#ff0000">name</font> <font color="#0000ff">="@STACK_TRACE"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">target</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> <br></code></code> <blockquote> <code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">target</font> <br> <font color="#ff0000">xsi:type</font> <font color="#0000ff">="Database"</font> <br> <font color="#ff0000">name</font> <font color="#0000ff">="db"</font> <br> <font color="#ff0000">dbProvider</font> <font color="#0000ff">="FirebirdSql.Data.FirebirdClient.FbConnection, FirebirdSql.Data.FirebirdClient, Version=2.6.5.0, Culture=neutral, PublicKeyToken=3750abcc3150b00c"</font> <br> <font color="#ff0000">useTransactions</font> <font color="#0000ff">="true"</font> <br> <font color="#ff0000">connectionString</font> <font color="#0000ff">="server type=Embedded;initial catalog=FYT.FDB;character set=WIN1251;dialect=3;client library=fbembed.dll;user id=SYSDBA;password=masterkey"</font> <br> <font color="#ff0000">keepConnection</font> <font color="#0000ff">="true"</font> <br> <font color="#ff0000">commandText</font> <font color="#0000ff">="INSERT INTO logs (DT, LOG_TEXT, LEVEL_ID, CLASS, STACK_TRACE) values (@DT, @LOG_TEXT, @LEVEL_ID, @CLASS, @STACK_TRACE);"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">parameter</font> <font color="#ff0000">layout</font> <font color="#0000ff">="${longdate}"</font> <font color="#ff0000">name</font> <font color="#0000ff">="@DT"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">parameter</font> <font color="#ff0000">layout</font> <font color="#0000ff">="${level}"</font> <font color="#ff0000">name</font> <font color="#0000ff">="@LEVEL"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">parameter</font> <font color="#ff0000">layout</font> <font color="#0000ff">="${message}"</font> <font color="#ff0000">name</font> <font color="#0000ff">="@LOG_TEXT"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">parameter</font> <font color="#ff0000">layout</font> <font color="#0000ff">="${logger}"</font> <font color="#ff0000">name</font> <font color="#0000ff">="@CLASS"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">parameter</font> <font color="#ff0000">layout</font> <font color="#0000ff">="${stacktrace}"</font> <font color="#ff0000">name</font> <font color="#0000ff">="@STACK_TRACE"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">target</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> <br></code></code> </blockquote> <code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">target</font> <br> <font color="#ff0000">xsi:type</font> <font color="#0000ff">="Database"</font> <br> <font color="#ff0000">name</font> <font color="#0000ff">="db"</font> <br> <font color="#ff0000">dbProvider</font> <font color="#0000ff">="FirebirdSql.Data.FirebirdClient.FbConnection, FirebirdSql.Data.FirebirdClient, Version=2.6.5.0, Culture=neutral, PublicKeyToken=3750abcc3150b00c"</font> <br> <font color="#ff0000">useTransactions</font> <font color="#0000ff">="true"</font> <br> <font color="#ff0000">connectionString</font> <font color="#0000ff">="server type=Embedded;initial catalog=FYT.FDB;character set=WIN1251;dialect=3;client library=fbembed.dll;user id=SYSDBA;password=masterkey"</font> <br> <font color="#ff0000">keepConnection</font> <font color="#0000ff">="true"</font> <br> <font color="#ff0000">commandText</font> <font color="#0000ff">="INSERT INTO logs (DT, LOG_TEXT, LEVEL_ID, CLASS, STACK_TRACE) values (@DT, @LOG_TEXT, @LEVEL_ID, @CLASS, @STACK_TRACE);"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">parameter</font> <font color="#ff0000">layout</font> <font color="#0000ff">="${longdate}"</font> <font color="#ff0000">name</font> <font color="#0000ff">="@DT"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">parameter</font> <font color="#ff0000">layout</font> <font color="#0000ff">="${level}"</font> <font color="#ff0000">name</font> <font color="#0000ff">="@LEVEL"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">parameter</font> <font color="#ff0000">layout</font> <font color="#0000ff">="${message}"</font> <font color="#ff0000">name</font> <font color="#0000ff">="@LOG_TEXT"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">parameter</font> <font color="#ff0000">layout</font> <font color="#0000ff">="${logger}"</font> <font color="#ff0000">name</font> <font color="#0000ff">="@CLASS"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">parameter</font> <font color="#ff0000">layout</font> <font color="#0000ff">="${stacktrace}"</font> <font color="#ff0000">name</font> <font color="#0000ff">="@STACK_TRACE"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">target</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> <br></code> <br>  <b>dbProvider</b> is the name of the FireBird .NET provider, which corresponds to its current official version 2.6.5.  For future versions, you only need to change the digits, the Token (PublicKeyToken = 3750abcc3150b00c) should remain the same. <br><br>  <b>connectionString</b> is a <b>connection</b> string.  By and large, when it is formed, it will not be difficult to understand and change something in it for yourself.  In this example, the connection is configured on the FireBird Embedded server, the FYT.FDB database, which lies in the directory with the executable file.  For FireBird Classic or SuperServer, you only need to change the ‚Äúserver type‚Äù and ‚Äúclient library‚Äù. <br><br>  <b>commandText</b> - request to insert data into the database.  Parameters that are transmitted by the logger are marked with a ‚Äúdog‚Äù, i.e.  @.  Below, the attributes in the ‚Äúparameter‚Äù tags show the NLog what you need to substitute for each parameter in the request.  A list of all available replacement options (layout) can be found on the NLog website. <br><br>  In conclusion, I will give a complete listing of the configuration file NLog.config: <br> <code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;?</font> <font color="#800000">xml</font> <font color="#ff0000">version</font> <font color="#0000ff">="1.0"</font> <font color="#ff0000">encoding</font> <font color="#0000ff">="utf-8"</font> ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">nlog</font> <font color="#ff0000">xmlns</font> <font color="#0000ff">="http://www.nlog-project.org/schemas/NLog.xsd"</font> <br> <font color="#ff0000">xmlns:xsi</font> <font color="#0000ff">="http://www.w3.org/2001/XMLSchema-instance"</font> <br> <font color="#ff0000">throwExceptions</font> <font color="#0000ff">="true"</font> <br> <font color="#ff0000">internalLogFile</font> <font color="#0000ff">="file.txt"&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">targets</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">target</font> <br> <font color="#ff0000">xsi:type</font> <font color="#0000ff">="Database"</font> <br> <font color="#ff0000">name</font> <font color="#0000ff">="db"</font> <br> <font color="#ff0000">dbProvider</font> <font color="#0000ff">="FirebirdSql.Data.FirebirdClient.FbConnection, FirebirdSql.Data.FirebirdClient, Version=2.6.5.0, Culture=neutral, PublicKeyToken=3750abcc3150b00c"</font> <br> <font color="#ff0000">useTransactions</font> <font color="#0000ff">="true"</font> <br> <font color="#ff0000">connectionString</font> <font color="#0000ff">="server type=Embedded;initial catalog=FYT.FDB;character set=WIN1251;dialect=3;client library=fbembed.dll;user id=SYSDBA;password=masterkey"</font> <br> <font color="#ff0000">keepConnection</font> <font color="#0000ff">="true"</font> <br> <font color="#ff0000">commandText</font> <font color="#0000ff">="INSERT INTO logs (DT, LOG_TEXT, LEVEL_ID, CLASS, STACK_TRACE) values (@DT, @LOG_TEXT, @LEVEL_ID, @CLASS, @STACK_TRACE);"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">parameter</font> <font color="#ff0000">layout</font> <font color="#0000ff">="${longdate}"</font> <font color="#ff0000">name</font> <font color="#0000ff">="@DT"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">parameter</font> <font color="#ff0000">layout</font> <font color="#0000ff">="${level}"</font> <font color="#ff0000">name</font> <font color="#0000ff">="@LEVEL"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">parameter</font> <font color="#ff0000">layout</font> <font color="#0000ff">="${message}"</font> <font color="#ff0000">name</font> <font color="#0000ff">="@LOG_TEXT"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">parameter</font> <font color="#ff0000">layout</font> <font color="#0000ff">="${logger}"</font> <font color="#ff0000">name</font> <font color="#0000ff">="@CLASS"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">parameter</font> <font color="#ff0000">layout</font> <font color="#0000ff">="${stacktrace}"</font> <font color="#ff0000">name</font> <font color="#0000ff">="@STACK_TRACE"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">target</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">targets</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">rules</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">logger</font> <font color="#ff0000">name</font> <font color="#0000ff">="*"</font> <font color="#ff0000">minlevel</font> <font color="#0000ff">="Debug"</font> <font color="#ff0000">writeTo</font> <font color="#0000ff">="db"</font> <font color="#ff0000">final</font> <font color="#0000ff">="true"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">rules</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">nlog</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> <br></code></code> <blockquote> <code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;?</font> <font color="#800000">xml</font> <font color="#ff0000">version</font> <font color="#0000ff">="1.0"</font> <font color="#ff0000">encoding</font> <font color="#0000ff">="utf-8"</font> ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">nlog</font> <font color="#ff0000">xmlns</font> <font color="#0000ff">="http://www.nlog-project.org/schemas/NLog.xsd"</font> <br> <font color="#ff0000">xmlns:xsi</font> <font color="#0000ff">="http://www.w3.org/2001/XMLSchema-instance"</font> <br> <font color="#ff0000">throwExceptions</font> <font color="#0000ff">="true"</font> <br> <font color="#ff0000">internalLogFile</font> <font color="#0000ff">="file.txt"&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">targets</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">target</font> <br> <font color="#ff0000">xsi:type</font> <font color="#0000ff">="Database"</font> <br> <font color="#ff0000">name</font> <font color="#0000ff">="db"</font> <br> <font color="#ff0000">dbProvider</font> <font color="#0000ff">="FirebirdSql.Data.FirebirdClient.FbConnection, FirebirdSql.Data.FirebirdClient, Version=2.6.5.0, Culture=neutral, PublicKeyToken=3750abcc3150b00c"</font> <br> <font color="#ff0000">useTransactions</font> <font color="#0000ff">="true"</font> <br> <font color="#ff0000">connectionString</font> <font color="#0000ff">="server type=Embedded;initial catalog=FYT.FDB;character set=WIN1251;dialect=3;client library=fbembed.dll;user id=SYSDBA;password=masterkey"</font> <br> <font color="#ff0000">keepConnection</font> <font color="#0000ff">="true"</font> <br> <font color="#ff0000">commandText</font> <font color="#0000ff">="INSERT INTO logs (DT, LOG_TEXT, LEVEL_ID, CLASS, STACK_TRACE) values (@DT, @LOG_TEXT, @LEVEL_ID, @CLASS, @STACK_TRACE);"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">parameter</font> <font color="#ff0000">layout</font> <font color="#0000ff">="${longdate}"</font> <font color="#ff0000">name</font> <font color="#0000ff">="@DT"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">parameter</font> <font color="#ff0000">layout</font> <font color="#0000ff">="${level}"</font> <font color="#ff0000">name</font> <font color="#0000ff">="@LEVEL"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">parameter</font> <font color="#ff0000">layout</font> <font color="#0000ff">="${message}"</font> <font color="#ff0000">name</font> <font color="#0000ff">="@LOG_TEXT"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">parameter</font> <font color="#ff0000">layout</font> <font color="#0000ff">="${logger}"</font> <font color="#ff0000">name</font> <font color="#0000ff">="@CLASS"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">parameter</font> <font color="#ff0000">layout</font> <font color="#0000ff">="${stacktrace}"</font> <font color="#ff0000">name</font> <font color="#0000ff">="@STACK_TRACE"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">target</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">targets</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">rules</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">logger</font> <font color="#ff0000">name</font> <font color="#0000ff">="*"</font> <font color="#ff0000">minlevel</font> <font color="#0000ff">="Debug"</font> <font color="#ff0000">writeTo</font> <font color="#0000ff">="db"</font> <font color="#ff0000">final</font> <font color="#0000ff">="true"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">rules</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">nlog</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> <br></code></code> </blockquote> <code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;?</font> <font color="#800000">xml</font> <font color="#ff0000">version</font> <font color="#0000ff">="1.0"</font> <font color="#ff0000">encoding</font> <font color="#0000ff">="utf-8"</font> ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">nlog</font> <font color="#ff0000">xmlns</font> <font color="#0000ff">="http://www.nlog-project.org/schemas/NLog.xsd"</font> <br> <font color="#ff0000">xmlns:xsi</font> <font color="#0000ff">="http://www.w3.org/2001/XMLSchema-instance"</font> <br> <font color="#ff0000">throwExceptions</font> <font color="#0000ff">="true"</font> <br> <font color="#ff0000">internalLogFile</font> <font color="#0000ff">="file.txt"&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">targets</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">target</font> <br> <font color="#ff0000">xsi:type</font> <font color="#0000ff">="Database"</font> <br> <font color="#ff0000">name</font> <font color="#0000ff">="db"</font> <br> <font color="#ff0000">dbProvider</font> <font color="#0000ff">="FirebirdSql.Data.FirebirdClient.FbConnection, FirebirdSql.Data.FirebirdClient, Version=2.6.5.0, Culture=neutral, PublicKeyToken=3750abcc3150b00c"</font> <br> <font color="#ff0000">useTransactions</font> <font color="#0000ff">="true"</font> <br> <font color="#ff0000">connectionString</font> <font color="#0000ff">="server type=Embedded;initial catalog=FYT.FDB;character set=WIN1251;dialect=3;client library=fbembed.dll;user id=SYSDBA;password=masterkey"</font> <br> <font color="#ff0000">keepConnection</font> <font color="#0000ff">="true"</font> <br> <font color="#ff0000">commandText</font> <font color="#0000ff">="INSERT INTO logs (DT, LOG_TEXT, LEVEL_ID, CLASS, STACK_TRACE) values (@DT, @LOG_TEXT, @LEVEL_ID, @CLASS, @STACK_TRACE);"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">parameter</font> <font color="#ff0000">layout</font> <font color="#0000ff">="${longdate}"</font> <font color="#ff0000">name</font> <font color="#0000ff">="@DT"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">parameter</font> <font color="#ff0000">layout</font> <font color="#0000ff">="${level}"</font> <font color="#ff0000">name</font> <font color="#0000ff">="@LEVEL"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">parameter</font> <font color="#ff0000">layout</font> <font color="#0000ff">="${message}"</font> <font color="#ff0000">name</font> <font color="#0000ff">="@LOG_TEXT"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">parameter</font> <font color="#ff0000">layout</font> <font color="#0000ff">="${logger}"</font> <font color="#ff0000">name</font> <font color="#0000ff">="@CLASS"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">parameter</font> <font color="#ff0000">layout</font> <font color="#0000ff">="${stacktrace}"</font> <font color="#ff0000">name</font> <font color="#0000ff">="@STACK_TRACE"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">target</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">targets</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">rules</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">logger</font> <font color="#ff0000">name</font> <font color="#0000ff">="*"</font> <font color="#ff0000">minlevel</font> <font color="#0000ff">="Debug"</font> <font color="#ff0000">writeTo</font> <font color="#0000ff">="db"</font> <font color="#ff0000">final</font> <font color="#0000ff">="true"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">rules</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">nlog</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> <br></code> <br>  Thanks for attention!  I hope my article will help you not to spend 5 hours on setting up the logging system in the FireBird database! </div><p>Source: <a href="https://habr.com/ru/post/133763/">https://habr.com/ru/post/133763/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../133758/index.html">Finish fullcalendar</a></li>
<li><a href="../133759/index.html">Amazon Kindle Fire - partial Russification</a></li>
<li><a href="../133760/index.html">iBar from MAC G4</a></li>
<li><a href="../133761/index.html">How to enable new google design</a></li>
<li><a href="../133762/index.html">Evernote update for Windows Phone: Russian support, pinning notes on the home screen, templates and much more</a></li>
<li><a href="../133764/index.html">Microsoft WebMatrix Installation. ‚ÄúThe life of WebMatrix-ista designer is hard and unsightly‚Äù - an essay about how things went wrong ... and it started off so beautifully</a></li>
<li><a href="../133766/index.html">We work with a COM port from Java using jSSC</a></li>
<li><a href="../133767/index.html">The transmission of the useful signal in adjacent bands of the spectrum of the carrier signal</a></li>
<li><a href="../133769/index.html">Octree visualization and algorithms for working on its structure. Part 1</a></li>
<li><a href="../133770/index.html">How Confluence is used in SAP</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>