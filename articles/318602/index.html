<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Translation system (localization) text in the Unreal engine</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, my name is Dmitry. I create computer games on the Unreal Engine as a hobby. A couple of days ago I wrote an article about the editor of quests ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Translation system (localization) text in the Unreal engine</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/932/2a8/5d2/9322a85d2f824646bfeb3682a3278488.jpg"><br><br>  Hello, my name is Dmitry.  I create computer games on the Unreal Engine as a hobby.  A couple of days ago I wrote an article about the <a href="https://habrahabr.ru/post/318366/">editor of quests and dialogues.</a>  Well, since you wrote the dialogues for the game, then you probably want to translate them into other languages.  In this article I will describe how the module works designed to localize text in the Unreal engine. <br><a name="habracut"></a><br>  So first you need to turn it on Editor Preferens ‚Üí Experemental ‚Üí Localization Dasbord.  Unfortunately, the module is still experimental. <br><br><img src="https://habrastorage.org/files/70c/b19/15c/70cb1915cbdb42c5bfcc0979af07067b.png" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      After that, you need to restart Unreal engin.  Once you do this, Localization Dasbord appears in the Windows menu.  We go into it and see this. <br><br><img src="https://habrastorage.org/files/fd0/bf1/30e/fd0bf130e3914dc7a9629815792f05d0.png" alt="image"><br><br>  Here you need to add a new culture (Add new culture) and select the Native language, this is the language on which your text is written. In my case, this is English, you probably will have Russian. <br><br>  Now you need to determine where the Unreal engine will extract the text from. <br><br>  Firstly, it must be said that the Unreal engine will extract text from all variables whose type is FText (in fact, this is the main difference between this type and FString).  If you have the FText variable but you do not want the Unreal engine to translate this text, then this can be turned off: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/548/24d/eeb/54824deebea746619d87d2acad882f81.png" alt="image"></div><br>  Turning on the Gather from text files switch will enable us to extract text from c ++ files.  By default, the text will be extracted from ".h", ".cpp", ".ini". Naturally, the variables in these files should be defined as FText in c ++. This is done like this: <br><br><pre><code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* Top of File */</span></span> <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> LOCTEXT_NAMESPACE </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Your Namespace"</span></span></span><span class="hljs-meta"> ... FText TestHUDText = LOCTEXT( </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Your Key"</span></span></span><span class="hljs-meta">, </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Your Text"</span></span></span><span class="hljs-meta"> ) ... #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">undef</span></span></span><span class="hljs-meta"> LOCTEXT_NAMESPACE </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Bottom of File */</span></span></span></span></code> </pre> <br>  or so <br><br><pre> <code class="cpp hljs">FText TestHUDText = NSLOCTEXT( <span class="hljs-string"><span class="hljs-string">"Your Namespace"</span></span>, <span class="hljs-string"><span class="hljs-string">"Your Key"</span></span>, <span class="hljs-string"><span class="hljs-string">"Your Text"</span></span> )</code> </pre> <br>  By turning on the Gather from Packages switch, the Unreal engine will extract text from assets.  The default is ".uasset" and ".umap". <br><br>  I looked like this: <br><br><img src="https://habrastorage.org/files/742/43c/785/74243c78518245c6877adba12c0ce59d.png" alt="image"><br><br>  Now you can click the ‚ÄúGather text‚Äù button and the Unreal engine will create localization files.  You can translate either directly into the Unreal engine or import a translation file and use the ".po" file editor.  I used Poedit. <br><br>  <b>Important:</b> After you complete the translation, do not forget to click the Compile Text button.  And then the translation will not appear in the game. <br><br>  To switch the text in the game, you can use the function: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> AHUD_StoryGraph::ChangeLocalization(FString target) { FInternationalization::Get().SetCurrentCulture(target); }</code> </pre> <br>  As the target you need to substitute the abbreviations en - English, ru - Russian and so on. <br><br>  <b>Important:</b> To see the transfer, the game must be launched in the Standalon Game mode, if you run it in the export, you will not see the transfer. <br><br>  When packing the game, go to the Project setting ‚Üí Packing and select Include prerequisites, select the languages ‚Äã‚Äãthat you will include in the game and change the Intarnacialization support option from English only to All. <br><br><img src="https://habrastorage.org/files/24f/434/59e/24f43459e3fd48bab3980135511d5ba0.png" alt="image"><br><br>  Actually everything, now you can localize your game into all languages ‚Äã‚Äãof the world. <br><br>  Here is <a href="https://github.com/Deema35/StoryGraph">an example</a> </div><p>Source: <a href="https://habr.com/ru/post/318602/">https://habr.com/ru/post/318602/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../318592/index.html">Boring about the work of decoding ngfw</a></li>
<li><a href="../318594/index.html">Simplifying is difficult - to complicate is easy. GUI program for creating deb-packages</a></li>
<li><a href="../318596/index.html">Open Data Council: News from the Fields</a></li>
<li><a href="../318598/index.html">Serious design serious sites. Part 1. Analytics</a></li>
<li><a href="../318600/index.html">8 JavaScript libraries for data visualization in the form of interactive maps</a></li>
<li><a href="../318604/index.html">Sparrow - user scripts management system</a></li>
<li><a href="../318606/index.html">Serious vulnerabilities detected in Siemens power substation control systems</a></li>
<li><a href="../318608/index.html">JetBrains Night in Moscow. Video. Using ReSharper in .NET Development Teams</a></li>
<li><a href="../318610/index.html">HTML basics video course - to help informatics teacher</a></li>
<li><a href="../318612/index.html">Ten IT jobs that are hardest to find people</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>