<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We build our full stack on JavaScript: Client</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="JavaScript on the client is changing rapidly: libraries, frameworks, packers quickly appear and replace one another. But despite this, many key operat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We build our full stack on JavaScript: Client</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/files/ecc/a63/fda/ecca63fdad2b451e90112d5ca484a29e.png"></div><br><p>  JavaScript on the client is changing rapidly: libraries, frameworks, packers quickly appear and replace one another.  But despite this, many key operations are the same for any client application.  And in modern front-end frameworks, with all their diversity, there is much in common. <a name="habracut"></a></p><br><ul><li>  <a href="https://habrahabr.ru/post/309466/">Article 1: Basics</a> </li><li>  <a href="https://habrahabr.ru/post/310042/">Article 2: Server</a> </li><li>  Article 3: Customer </li></ul><br><p>  The article is based on the code of the project <a href="https://github.com/yegor-sytnyk/contoso-express">Contoso Express</a> . </p><br><p>  List of resources where you can get acquainted with some of the topics of the article <a href="https://gist.github.com/yegor-sytnyk/a3d2dafb62864016429635527a127c1e">here</a> . </p><br><h2>  A bit of history </h2><br><p>  Web standards are changing slowly: for example, the latest version of HTML 5 was approved 2 years ago, and the previous XHTML first appeared in 2000, i.e.  The gap between the new versions was 14 years.  At the same time, nothing fundamentally new appeared in the new version.  CSS is also developing not fast: the first time I heard about the flexbox layout in 2012, 4 years have passed, and now, it seems, you can use it if you are satisfied with partial support in IE11, and its absence in earlier versions.  Even JavaScript is not changing as fast as it may seem: before the recent update of ES6, the previous major version 5.0 was released as much as 6 years ago.  At the same time, the emergence of a new standard does not mean that it can be used immediately.  It should take a long time until all the major browsers will support it (and for IE you can not wait). </p><br><p>  However, requirements for client applications are constantly growing.  Google raised the bar by releasing Google Maps and the Gmail client, an interactive SPA (Single Page Application) with an unprecedented level of usability, back in 2005.  Such applications were difficult to write, and not every company could afford it.  They became widespread relatively recently (3-4 years ago). </p><br><p>  In order to write complex SPA applications that would be supported by the main browsers, it is necessary to use various auxiliary techniques, and it is in this area that changes are constantly taking place. </p><br><h2>  SPA </h2><br><p>  SPA is becoming a standard in modern web applications, providing the best level of user experience (user experience).  The application loads the main resources (styles, code, markup) when the page is first loaded, after which subsequent state changes occur on the client.  Data from the server is loaded via AJAX requests, HTML is rendered on the client based on HTML templates or directly from JS (React). </p><br><p>  This is different from the traditional architecture, where every state change requires reloading the updated page from the server. </p><br><p>  Web applications can be written as a set of several SPA modules or combined with parts operating in the classic mode of postbacks (round trips).  In <em>Contoso,</em> authentication pages work through postbacks, the rest of the application is done as a SPA. </p><br><h2>  Style Preprocessors </h2><br><p>  CSS syntax has a number of flaws, which are eliminated by preprocessors - add-on languages ‚Äã‚Äãover CSS: LESS / SASS / Stylus </p><br><p>  Major standard CSS improvements: </p><br><ul><li>  nested selectors: </li></ul><br><pre><code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.my-class</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-color</span></span>: blue; div { <span class="hljs-attribute"><span class="hljs-attribute">background-color</span></span>: red; // -&gt; .my-class div { <span class="hljs-attribute"><span class="hljs-attribute">background-color</span></span>: red; } } }</code> </pre> <br><ul><li>  variables, expressions and functions: </li></ul><br><pre> <code class="css hljs">@<span class="hljs-keyword"><span class="hljs-keyword">myPadding</span></span> = <span class="hljs-number"><span class="hljs-number">10px</span></span>; <span class="hljs-selector-class"><span class="hljs-selector-class">.my-class</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">padding-top</span></span>: @myPadding; // 10px <span class="hljs-attribute"><span class="hljs-attribute">padding-bottom</span></span>: @myPadding + <span class="hljs-number"><span class="hljs-number">5px</span></span>; // 15px }</code> </pre> <br><ul><li>  mixings: </li></ul><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.error</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: red; <span class="hljs-attribute"><span class="hljs-attribute">font-weight</span></span>: bold; } <span class="hljs-selector-class"><span class="hljs-selector-class">.admin-error</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">border</span></span>: <span class="hljs-number"><span class="hljs-number">1px</span></span> solid black; .error // -&gt; .error styles inserted here }</code> </pre> <br><p>  Preprocessors make it easier to write and maintain styles, especially if there are a lot of them.  LESS is used in <em>Contoso</em> , although now SASS is more popular, the difference between them is not big. </p><br><h2>  Choosing a CSS framework </h2><br><p>  CSS frameworks provide a set of template styles that make it easy to position elements (Grid System), override the standard style settings (HTML looks nice by default), and provide a set of widgets with JS included, such as modal windows, navigation menus, date picker, etc. d. </p><br><p>  Basic options: </p><br><p>  <a href="http://getbootstrap.com/"><strong>Bootstrap</strong></a> is the main choice and the first mass css framework.  Originally created by Twitter, well suited for both desktop and mobile development.  A large set of components.  Due to the high popularity of the site on the bootstrap may look like a template. </p><br><p>  <a href="http://foundation.zurb.com/"><strong>Foundation</strong></a> is a popular choice, a good set of components and a convenient positioning system. </p><br><p>  <a href="http://semantic-ui.com/"><strong>Semantic UI</strong></a> - focuses on well-designed semantics (naming) of classes of elements, not so good for mobile development. </p><br><p>  <a href="https://material.google.com/"><strong>Material Design</strong></a> is not a framework, but style recommendations from Google that are used in the company's products (Android).  There are implementations of this design for React <a href="http://www.material-ui.com/">Material UI</a> and for other JS frameworks. </p><br><p>  Additionally, you can use the library with a set of icons in the form of a font, the most popular of these <a href="http://fontawesome.io/"><strong>Font Awesome</strong></a> . </p><br><p>  <em>Contoso</em> uses Font Awesome and Bootstrap. </p><br><h2>  We select client JS framework </h2><br><p>  Let's look at the main options: </p><br><p>  <a href="https://jquery.com/"><strong>JQuery</strong></a> is a library that allows convenient direct manipulation of DOM elements with a single interface for different browsers, is well documented, supports AJAX requests and writing plug-ins.  Poorly suited for writing complex client applications, does not provide reactive data binding capabilities. </p><br><p>  <em>Reactivity</em> in client JS libraries is the ability to dynamically link data (model) and display (HTML view).  When a model changes, the display changes automatically (reactively), and vice versa, a change in the display state (the input value changes) changes the model.  Here is a <a href="https://jsfiddle.net/yeggor/kbjzjdwf/">jsfiddle</a> link to a simple example of reactivity using Vue.js.Evaluate how much simpler this is than to perform all DOM manipulations manually. </p><br><p>  <a href="https://angularjs.org/"><strong>Angular 1.X</strong></a> - the first mass-popular jet framework (there were others, for example Knockout).  In addition to reactivity, Angular provided a way to structure the organization of the application, support reusable components (directives), and more.  Unfortunately, Angular 1.x is overly confused, has many crutches, is difficult to study and develop, especially as regards reactivity.  There are performance issues.  Initially, Angular was an independent open-source library.  It is then developed and maintained by Google.  Angular reached a peak of its popularity in 2014. React is actively supplanted in the future. </p><br><p>  <a href="https://facebook.github.io/react/"><strong>React</strong></a> - unlike Angular, this is a library, not a framework, which is designed to generate client mappings.  Uses the Virtual DOM technique for faster rendering.  This allows React to completely re-render the display each time it changes data, without significant damage to performance. </p><br><p>  React is recommended for use with Flux architecture, where data changes always occur in the same direction.  Initially, these models are initiated, a display is built on them, the display generates an event that changes the state of the model, which entails updating the display.  This makes it easier to understand how state changes occur in an application and makes development much easier. </p><br><p>  React involves the use of JSX, which allows you to operate XML (HTML) syntax inside the JS code.  This is used instead of traditional HTML templates.  JSX makes it possible to use all the features of JS to generate templates, but it can be more difficult to support and collaborate with layout designers.  React was created by facebook and is used in some of their projects. </p><br><p>  <a href="https://angular.io/"><strong>Angular 2.x</strong></a> is the most recent framework (final release September 2016).  Focused on the development of complex client applications, excellent performance.  Written from scratch and has little resemblance to Angular 1.x.  Reactivity is implemented in a much simpler way: native HTML attributes (for example, click, not ng-click) are used for buying.  It uses many advanced features of TypeScript: for example, Dependency Injection is implemented through the class constructor and the type of the variable (as in C # / Java).  Intensively used decorators.  To work Angular requires the connection of third-party libraries (zone.js) uses polyfiles and overrides many standard browser functions.  At the moment, it is not clear what will happen with the standard practice for the organization of the system state.  Angular 2 can work with Flux architecture (for example using Redux), but Flux is not recommended as the only true architecture. </p><br><p>  <a href="http://vuejs.org/"><strong>VueJS</strong></a> is a great alternative to React / Angular.  Adheres to the principle from simple to complex (progressive).  It's very easy to start with Vue by getting basic reactive capabilities, but at the same time, Vue can be expanded by adding everything you need to build complex SPAs.  Vue is easy to integrate, it is fast and intuitive.  For a long time, it has constantly been on the JS trending repos list on GitHub and there are good reasons for this.  Template syntax is similar to Angular2.  To store the state, Vuex with Flux architecture is used.  The 2nd version of Vue is coming out soon, where, among other things, performance is improved (with Virtual DOM) and optionally the ability to use JSX is added. </p><br><p>  <strong>Others</strong> - a lot of frameworks / libraries.  If you are interested in considering other options, you should look at the <a href="http://todomvc.com/">TodoMVC</a> site where the implementations of a simple TODO application sheet on various MV * frameworks are compiled. </p><br><h3>  What to choose </h3><br><p>  It depends on the specific project.  If you are going to build a complex SPA application from the very beginning, then you should try React, as the most popular option for today.  But it will take some time to learn new concepts and set up the environment. </p><br><p>  If you want a simple solution that can be expanded along with the development of your project, Vue is an excellent option, although it is not so popular and not supported by a well-known developer company. </p><br><p>  If you have a complex application, the release of which will not be soon, and you are focused on the future, you can try Angular2. </p><br><p>  I would not recommend starting new projects on Angular1, it is better to use Vue for this, it has a very similar syntax, but it is much simpler and more convenient for work. </p><br><p>  There is still a performance issue.  Many articles comparing different frameworks devote a lot of time to this issue.  You need to understand that for most applications, client performance will not be a problem, performance is important if you need to dynamically render large amounts of data or your application will be actively used on low-performing mobile devices.  Nevertheless, here is a <a href="https://rawgit.com/krausest/js-framework-benchmark/master/webdriver-ts/table.html">table</a> with tests of various JS frameworks. </p><br><p>  Another criterion for selection is a set of plugins / libraries for a particular framework.  In this regard, React / Angular1 is clearly leading, although for VueJs there are already many auxiliary libraries of components, and for Angular2 their number should rapidly grow after the recent release.  In the <a href="https://github.com/sindresorhus/awesome">Awesome Lists</a> repository you can find an awesome (delightful) list of resources on the framework you are interested in. </p><br><p>  In the future, I will describe various aspects of writing client applications with implementation features on React / Vue.  In <em>Contoso, the</em> main version is made using React, there is an alternative branch on Vue, I also wanted to add a branch with the implementation on Angular2, but unfortunately, the framework ecosystem is not yet stable (libraries and tools using Angular2 have not yet fully adapted to the new release) . </p><br><h2>  Structure </h2><br><p>  The structure of the client part depends on the chosen framework.  In <em>Contoso, the</em> common part for client implementations (React / Vue) are: </p><br><p>  <strong>Services</strong> (services) - data access modules via API.  If necessary, additional data transformations take place here. </p><br><p>  <strong>Formatters</strong> (formatters) - provide formatting of data on the client (date, currency, display name, etc.). </p><br><p>  <strong>Helpers</strong> - perform such common client operations as AJAX requests, configuration access, pop-up message display, and the like. </p><br><p>  In addition, there are parts that are implemented depending on the chosen framework: </p><br><p>  <strong>Components</strong> (components) - the building blocks for the client interface.  All modern frameworks support the creation of a UI as a component tree, but the specific implementation is different.  Usually components are grouped into folders depending on the functionality (Project, UserAccount, Orders, eg). </p><br><p>  Separately, the state (data) and system events are stored: for React, these are the 'actions', 'store', 'reducers' folders, for Vue - the 'vuex' folder. </p><br><h2>  Routing </h2><br><p>  With the classic organization of a web application, different routes (URLs) download different pages from the server.  In the SPA application, all data is loaded immediately.  When switching to another page, a new page is not downloaded from the server and the URL remains the same. </p><br><p>  This is not very convenient for the user: he can not save the current link in the browser, can not use the forward / back buttons to navigate between pages. </p><br><p>  There are several ways to add routing to the SPA: </p><br><ul><li>  With a hashtag - used to support older browsers (IE9), the address looks like www.mysite.com/#/product/list </li><li>  With HTML5 History API, the address looks the same as in a regular web application www.mysite.com/product/list </li></ul><br><p>  For each client framework there is a separate library for routing. </p><br><p>  <em>Contoso</em> uses the History API (pushState) mode. </p><br><p>  Using client routing requires a bit of configuration on the server.  It is necessary that all unknown server routes are redirected to the main page of the application.  Then, after the initial page load from the server, client routing will be able to work. </p><br><h2>  AJAX requests </h2><br><p>  This is a task that does not depend much on the chosen JS framework.  For Vue and Angular there are specially designed libraries, but their use is optional.  There are a lot of AJAX libraries, here are some nice options. </p><br><p>  If the project is still using <strong>jQuery for</strong> something, then you can use it for AJAX queries.  In <em>Contoso,</em> jQuery is wrapped with promises and used through the httpHelper module. </p><br><p>  Another good option is <a href="https://github.com/mzabriskie/axios"><strong>axios</strong></a> .  This library has a convenient API, supports promises, and what is very important for full-stack development, works the same way on the server as well as on the client. </p><br><p>  Using XMLHttpRequest directly from JS is difficult, so the Fetch native method is suggested to replace it, it is not supported in all major browsers, but as always in such cases, there is a library with the <a href="https://github.com/github/fetch"><strong>fetch polyfill polyfill</strong></a> that works with the same API. </p><br><p>  There are several actions that can be performed with each AJAX request. </p><br><p>  You can block the UI so that the user cannot perform any other actions until the AJAX request is completed and the state of the system is not updated. </p><br><p>  If an error occurs during the request, by default you can display a general message (for example, "Server Error") for any request. </p><br><p>  Optionally, you can add local logging of all AJAX requests to the browser console. </p><br><h2>  Validation </h2><br><p>  Validation on the client is different from validation on the server.  On the server you need to validate all incoming parameters.  You cannot trust that the client has validated the data, or that the call comes from your client code, and not by the request of the malicious user. </p><br><p>  On the client, the situation is different, it is necessary to validate only those places where the user can make a mistake.  But, for example, if a third-party component is used to enter the date and there you simply cannot enter an incorrect or empty date, then it is not necessary to validate.  At the same time, you need to think more about what error to show and how. </p><br><p>  Client validation is usually closely related to the client framework used, because  tied to the verification of data that are in the model and errors should dynamically depend on the state of the data model. </p><br><p>  In <em>Contoso</em> , in React, auxiliary libraries are not used for validation; for Vue, the "vue-validator" package is used. </p><br><h2>  Configuration </h2><br><p>  Typically, the client does not have a large number of configuration settings, but nevertheless they are needed.  For example, the settings for formatting (date, full name, currency) data on the client, a flag for optional logging of all AJAX requests to the console, etc. can be used. </p><br><p>  For convenience, you can read client configuration values ‚Äã‚Äãfrom the server configuration, and on the client, use an auxiliary module that subtracts the values ‚Äã‚Äãfrom the server through a separate AJAX request. </p><br><p>  In <em>Contoso,</em> this is implemented exactly this way, see the file "helpers / clientConfig". </p><br><h2>  Error processing </h2><br><p>  The main source of errors on the client is AJAX requests.  If you are developing both client and server parts, it is easier to immediately send the error text that can be displayed on the client.  If the API is developed separately, then the error is handled by the HTTP code or the custom line code, it is better to do it right away in the service method that makes the AJAX request. </p><br><p>  The remaining errors are often not processed at all, it is assumed that they should not be, and if they did happen, the user will guess to reload the page. </p><br><p>  However, in production you can log errors from the client, there are several services for this, for example <a href="https://blog.logentries.com/2016/04/client-side-logging-in-javascript/">logentries</a> . </p><br><h2>  Packaging </h2><br><p>  When writing a large client application, you have to break it into many small modules, while the browser does not work well with a large number of files (HTTP2 will fix this).  Therefore, there is a practice of client builds, when several files, with code or styles, are combined into one or several bundles.  To do this, use different tools. </p><br><p>  <strong>Task managers</strong> (task runners) are designed for a wide range of tasks, such as combining and compressing JS files, compiling SASS / LESS, copying, renaming files, and more.  The necessary work is divided into tasks that can be performed separately through the CLI (console).  To perform various tasks, plugins for a specific manager are used.  The most popular task managers are <a href="http://gulpjs.com/"><strong>Gulp</strong></a> and <a href="http://gruntjs.com/"><strong>Grunt</strong></a> .  Recently, there is a tendency to use the npm tools to run scripts and write the scripts themselves to Node without using the task manager and its plugins. </p><br><p>  Module bundlers in addition to the common tasks of the client assembly, analyze dependencies in JavaSrcript files and merge the original assembly, respectively.  For example, if you have module1.js which imports module2.js, which in turn imports module3.js and lodash.  Then the modules in the initial assembly will be in the correct sequence (lodash, 3, 2, 1).  Module builders by default expect to see external modules as npm packages in the 'node_modules' folder. </p><br><p>  The most popular at the moment is <a href="https://webpack.github.io/"><strong>WebPack</strong></a> .  The first tool of this type was <a href="http://browserify.org/"><strong>Browserify</strong></a> , it is simpler than WebPack, but requires more configuration.  <a href="http://rollupjs.org/"><strong>Rollup</strong></a> is gaining popularity - it differs in that when using the ES6 syntax for import, you can determine which parts of the external libraries are used and include only them, which allows you to reduce the size of the client assembly. </p><br><p>  In <em>Contoso</em> , WebPack is used for client builds, and npm or the console itself is used to run tasks.  WebPack does the following: combining modules, transcribing TypeScript into ES5, converting styles from LESS to CSS and combining them into one file, minifying JS and CSS for production build. </p><br><p>  For development, you need to run WebPack in monitoring mode, with any changes in client files, the assembly will be rebuilt and you need to reload the page in the browser. </p><br><pre> <code class="bash hljs">webpack --watch //-w shorter</code> </pre> <br><p>  WebPack allows for some JS frameworks to support HotReload mode - this is when JS and CSS are updated without full page overload.  It is supported in React and Vue, but difficult to configure and sometimes does not work correctly.  Not used in <em>Contoso</em> . </p><br><p>  I would be happy to comment comments. </p><br><p>  Stay tuned! </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/310788/">https://habr.com/ru/post/310788/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../310774/index.html">Yahoo user accounts are compromised.</a></li>
<li><a href="../310776/index.html">From physicists to Data Science (From science engines to office plankton). The second part of</a></li>
<li><a href="../310778/index.html">Security Week 38: Firefox vulnerability, Windows hacking via Safe Mode and Tesla via Wifi</a></li>
<li><a href="../310782/index.html">Code Evolution Visualization</a></li>
<li><a href="../310784/index.html">How to develop an application for automation almost not knowing how to program. I'll have to learn IDE ...</a></li>
<li><a href="../310790/index.html">learnopengl. Lesson 1.1 - OpenGL</a></li>
<li><a href="../310792/index.html">Mobile VR development with Oculus and Gear VR</a></li>
<li><a href="../310794/index.html">Data structures for the smallest</a></li>
<li><a href="../310798/index.html">Setting up voice gateways Huawei eSpace IAD on the example of working with Asterisk PBX</a></li>
<li><a href="../310800/index.html">Michael Pryor, Trello: How to build a product for the mass market. Continuation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>