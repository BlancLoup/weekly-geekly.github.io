<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Containers and virtualization: faster, more efficient, more reliable</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Modern virtualization technologies, without exception, seek to find a middle ground: to help in the maximum fast operation of systems, efficient use o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Containers and virtualization: faster, more efficient, more reliable</h1><div class="post__text post__text-html js-mediator-article">  Modern virtualization technologies, without exception, seek to find a middle ground: to help in the maximum fast operation of systems, efficient use of equipment and security.  Today we want to share our vision of the history of the development of virtualization and its immediate prospects. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/388/84b/0ef/38884b0efcfe2b4f2559565649cfae70.jpg" alt="image"><a name="habracut"></a><br>  As you know, virtualization in its usual format (that is, implying the launch of a full-fledged operating system within another operating system) was not always so vigorous and efficient as it is now.  The first versions of hypervisors differed in relative slowness and really led to a serious decrease in performance compared to how the operating systems and applications running in them worked on "real hardware". <br><br>  That is why, when our company was just beginning to work on a product that is called today Virtuozzo, we chose the direction that is called today ‚ÄúOS Containers‚Äù or ‚ÄúLight VMs‚Äù.  What is the difference?  And the difference is that our light VMs did not require and do not require the launch of a separate kernel for each ‚Äúentity‚Äù running on the server.  Instead, we take a ready-made Linux kernel and offer it to share all the resources between different users.  This, of course, was not entirely about the standard Linux distribution, but about a modified version that could isolate users among themselves, giving them access, for example, only to separate parts of the process tree, to individual network adapters, and so on.  All this was very much in demand, as it worked ten times faster than full virtualization. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      But the user actually received his isolated Linux distribution: when accessing via SSH, he sees certain resources, allowed processes and cannot influence other users.  This is exactly how the model of providing virtual hosting based on OS containers (or ‚ÄúLight VMs‚Äù) has developed - maximum efficiency with minimal server load. <br><br><h3>  Progress is inevitable </h3><br>  Since the first version of Virtuozzo was introduced back in 1999, a lot of time has passed, during which virtualization technologies, both containerized and full, have undergone major changes, and the main search vectors for the Holy Grail have been outlined. for modern cloud-native tasks. <br><br>  Throughout this time, container security requirements were mostly imposed on container virtualization, and full virtualization schemes were criticized for insufficient performance and density of resource allocation. <br><br>  Well, during this time, the virtualization tools that allow you to run full versions of the guest OS have made great strides forward, which, in particular, can be seen on VMware products.  Due to the fact that modern processors support a number of optimizations for working with virtual environments, the number of processes that have to be emulated has decreased significantly.  As a result, the guest core is increasingly turning directly to the hardware, and only on demand, requests pass through the hypervisor. <br><img src="https://habrastorage.org/getpro/habr/post_images/0b7/2ab/da7/0b72abda7d2af3bed03a11faf4c0567f.jpg" alt="image"><br>  Why emulate the simplest instructions?  For example, arithmetic or moving bytes can be performed by the processor directly.  The same can be said about the function ret (return the result of the procedure).  Due to the fact that you do not need to contact the hypervisor every time, virtual environments began to work faster.  And today, processor manufacturers continue to add a virtual context to their products, making virtualization systems even more efficient. <br><img src="https://habrastorage.org/getpro/habr/post_images/9a9/6be/d3d/9a96bed3d792c95897920345b6b61228.jpg" alt="image"><br>  Container technology has also become increasingly perfect.  For example, in our own version of Virtuozzo Linux, we implemented ReadyKernel technology, which allows you to install security updates without restarting services, which means doing it at any time, including immediately after their announcement.  Or another example is the encryption of container disks in order to avoid the possibility of data theft when the ‚ÄúEasy VM‚Äù is in an inactive state.  So while the means of full virtualization became faster, their alternative in the form of OS containers became more secure. <br><br><h3>  Paravirtualization </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/ec8/a14/44c/ec8a1444ce3d66c35b79192c57a5bca8.jpg" alt="image"><br>  On the other hand, the operating system manufacturers themselves began to assist in the implementation of virtual initiatives.  Today, both Linux and Windows are paravirtualized systems.  This means that, while working in guest mode, the OS "consciously" does not refer to real hardware, but to the hypervisor.  Thus, they can once declare to the hypervisor a series of privileged operations and save a lot of time, which used to be emulated.  In particular, memory management and work with I / O systems have become much better and faster, because in fact the ‚Äúvirtual iron‚Äù layer has been excluded from the system. <br><br><h3>  Proxy </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/87f/4e3/e73/87f4e3e7391a3401556bc23c897d6154.jpg" alt="image"><br>  Another interesting technology that today is only gaining momentum and can give a big impetus to the development of ‚ÄúLight VM‚Äù is proxying.  The first of this decision said the company Apporeto.  The developers suggested the following idea: they analyzed the database of vulnerabilities and concluded that vulnerabilities in file systems and network stack are found only 1-2 times a year.  But in the interface part it happens much more often.  As a result, it was proposed to use all clients the same layer of work with the network, files and other "deep" OS services, but at the same time to bring to the guest system everything related to interfaces.  Thus, even if the attacker can use the fresh vulnerability, he will not be able to get beyond the specific "Light VM".  At the moment, to implement the approach, you need to use a special Linux distribution, but given the promise of the approach, we will soon see the implementation of this principle in most standard distributions. <br><br><h3>  With an eye to the application </h3><br>  However, the victorious march of Docker has identified another very interesting trend: many people want to run ready-made microservices - separate applications.  And it doesn't seem to make a whole virtual machine for this.  In this case, you can give the owner the opportunity to choose which functions are available to the application.  And this approach has become very popular in the absence of other ready-made solutions.  But it is only suitable for those applications that do not need many functions.  Otherwise, you have to sacrifice something, but this is not interesting. <br><img src="https://habrastorage.org/getpro/habr/post_images/e2c/9cb/70d/e2c9cb70d7108d535548e6523a38c4eb.jpg" alt="image"><br>  Instead, it became possible to launch an application in a hypervisor without a kernel, but to provide it with the necessary libraries.  Such solutions are called Unikernel.  They include modified system libraries that initially know that they work in the hypervisor.  For the hypervisor, the guest OS is 1 process.  So what's the difference?  Why not launch our application in the form of this process? <br><br>  The only difference is that the application along with the libraries is formed as a "monolith", which includes the necessary modules.  However, today enough automated tools have been created that help assemble such kits and run them directly in the hypervisor, providing both a high degree of isolation of processes from each other and high performance. <br><br><h3>  Perspectives </h3><br>  Summing up the above, we want to express our confidence that virtualization technologies will develop in both directions, deepening their specialization to solve various problems.  Increasingly deeper paravirtualization and new proxying methods will provide higher performance and resource efficiency for guest operating systems in the hypervisor, and the additional protection of the ‚Äúlightweight VMs‚Äù will make them even more attractive for hosters and corporate environments.  Thus, in the near future, a full-fledged virtual ecosystem will have to support ready guest VMs, light VMs, and ready applications in the form of Unikernel or Docker containers. </div><p>Source: <a href="https://habr.com/ru/post/319998/">https://habr.com/ru/post/319998/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../319986/index.html">Windows 10 Creators Update: Increased Security and Advanced IT Tools</a></li>
<li><a href="../319988/index.html">Lessons of the year to combat information security breaches</a></li>
<li><a href="../319990/index.html">Optimization of mechanics and graphics in the game of the genre "simulator" on iOS</a></li>
<li><a href="../319994/index.html">From the life of parallelist</a></li>
<li><a href="../319996/index.html">OdataToEntity is an easy way to create .Net Core OData services</a></li>
<li><a href="../320000/index.html">A fresh selection of resources for a mobile application marketer: books and blogs</a></li>
<li><a href="../320002/index.html">Linux-2017: the most promising distributions</a></li>
<li><a href="../320006/index.html">ESP8266 + PCA9685 + LUA</a></li>
<li><a href="../320010/index.html">A brief overview of the innovations in Laravel 5.4</a></li>
<li><a href="../320012/index.html">Hearst Shkulev Media: ‚ÄúWe need to make content for people, not for search engines‚Äù</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>