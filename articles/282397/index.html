<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Angular.js - webApi module development</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The desire to develop your own Angular.js webApi module arose when working with a large number of http requests in the project. 


 It was important n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Angular.js - webApi module development</h1><div class="post__text post__text-html js-mediator-article"><blockquote>  <em>The desire to develop your own Angular.js webApi module arose when working with a large number of http requests in the project.</em> </blockquote><br><p>  It was important not just to create a file with constants, but to develop a module to simplify the support of the existing functionality.  In turn, it was necessary to take care of possible subsequent expansion without violating the integrity of the current core of the module. </p><br><img src="https://habrastorage.org/files/6b8/f9a/ec0/6b8f9aec0751490db266bbb5ad1acde2.png" align="left"><br><p>  Tasks that the future webApi module should solve: </p><br><ol><li>  Prevent duplication of http requests in the project. </li><li>  Group an existing list of requests by functional categories to make it easier to make changes to specific methods. </li><li>  Be a completely independent functional unit of the application that connects to any other Angular.js project with simple Dependency Injection. </li><li>  Encapsulate internal implementation to avoid problems when working with external sources. </li></ol><br><p><br clear="all"></p><br><p>  <strong>Demo</strong> </p><br><p>  View the source code of the module: <a href="https://github.com/asduser/webApi-angularjs">github</a> . </p><br><p>  Further we will talk about each of these points in more detail. <a name="habracut"></a></p><br><h2>  Duplicate http requests </h2><br><p>  It is about using one request in several places of an application (controllers, services, factories).  When the methods are 10-20, then making changes to each request will not be a big problem.  But when it comes to the number of 100, 200 and more url'ov, support for such a code causes more and more difficulties. </p><br><p>  <strong>Example # 1</strong> </p><br><p>  There is a method that gets a list of user groups.  Suppose it is displayed in the corresponding dropdown.  When a group is selected, its users are loaded by another request, where the " <em>id</em> " of the group is transmitted.  Also on the page there is an additional functionality for visualizing some user data. </p><br><pre><code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//    $http.get("api/group-manage/get-all") //     $http.get("api/group-manage/2/get-users")</span></span></code> </pre> <br><p>  In another controller there is a table where you need to display all users of the system for a specific group.  This page provides much more opportunities for user analysis and management. </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//     $http.get("api/group-manage/2/get-users")</span></span></code> </pre><br><p>  Actually similar requests can be much more. </p><br><p>  <strong>Solution to the problem</strong> </p><br><pre> <code class="hljs 1c">  <span class="hljs-type"><span class="hljs-type"></span></span>  ,    http-  , ..     url'.</code> </pre> <br><p>  This approach will save time when searching for the necessary query in the project and its modification. </p><br><p>  Again, working with such a file will only work if there are a small number of requests to the server.  It is hard to imagine a convenient support for a file with constants, which are more than 200. </p><br><h2>  Group requests by category </h2><br><p>  This approach will solve the resulting problem.  How exactly the definition of independent categories will take place is determined by the developer.  For simplicity, you can focus on the name of the controller method from <code>api</code> . </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// http://yourapi.com/api/group-manage/2/get-users // http://yourapi.com/api/group-manage/get-all</span></span></code> </pre> <br><p>  From the example above it can be seen that the queries have a common root <code>/api/group-manage/</code> .  Create a category with the appropriate name <code>groupManage.js</code> . </p><br><blockquote>  In the Angular.js environment, this file is declared as <strong>constant</strong> , which is later connected to the main functionality of the webApi module. </blockquote><br><p>  There may be several such groups in the project.  But now we definitely know where to look for requests related to the management of groups. </p><br><p>  If you call the added url directly, then sooner or later there will be a series of similar dependencies in the code.  Therefore, it is necessary to create a common block that provides a list of all existing requests for operating with them in the " <em>core</em> " webApi. </p><br><h2>  Functional encapsulation </h2><br><p>  One of the most difficult tasks was to develop a kernel that can handle all requests to the server, while not only not revealing its internal implementation, but also providing the ability to easily configure the webApi module for a specific Angular.js application. </p><br><p>  An example query is as follows: </p><br><pre> <code class="javascript hljs">{ <span class="hljs-attr"><span class="hljs-attr">Url</span></span>: <span class="hljs-string"><span class="hljs-string">'/api/acc/login'</span></span>, <span class="hljs-attr"><span class="hljs-attr">CustomOptions</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">Method</span></span>: <span class="hljs-string"><span class="hljs-string">'post'</span></span>, <span class="hljs-attr"><span class="hljs-attr">InvokeName</span></span>: <span class="hljs-string"><span class="hljs-string">'login'</span></span> }</code> </pre> <br><ul><li>  customOptions - whether to use advanced query settings.  Usually, there may be specified headers for a particular request, a timeout value, a parameter withCredentials, etc. </li></ul><br><p>  This approach allows not only to group several url by a common type, but also to have an idea what each method will do with the data. </p><br><p>  In the <code>webApi/config/</code> directory there is a file with API settings.  This is where we specify the DOMAIN url. </p><br><p>  <strong>Example # 2</strong> </p><br><p>  Almost all modern Angular.js applications work with an authentication system.  This is usually a post-method that sends user data to the server (login, password). </p><br><p>  With successful respons'e, the main route of the application is notified, after which the user will be redirected to the page with the functionality. </p><br><p>  Call the method: </p><br><pre> <code class="javascript hljs">webApi.login({ <span class="hljs-string"><span class="hljs-string">"Login"</span></span>: <span class="hljs-string"><span class="hljs-string">"user"</span></span>, <span class="hljs-string"><span class="hljs-string">"Password"</span></span>: <span class="hljs-string"><span class="hljs-string">"qwerty"</span></span> }).success(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">response, status, headers, config</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-comment"><span class="hljs-comment">// -  })</span></span></code> </pre> <br><p>  Thus, we are working at a special level of abstractions, which allows us to focus on the process of building the logic of the application.  It is advisable to give adequate names to the methods so that you can understand what a specific call is doing: </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//     { Url: '/api/acc/logout', CustomOptions: false, Method: 'get', InvokeName: 'logout' } // -   webApi.logout([]);</span></span></code> </pre> <br><p>  Probably, it is not at all clear how to use an empty array in the get-method, but then everything will be discussed later. </p><br><h2>  Request Templates </h2><br><p>  Quite often, when developing an application, the server-side provides the client with the following request format: </p><br><ul><li>  / api / admin / delete / profile / {id} </li><li>  / api / admin / update / profile / {id} / block </li></ul><br><p>  And so that when sending a request to the server in the right place of the application not to perform unnecessary operations with the construction of such a url, a special component was developed that automatically generates the correct address based on the received parameters. </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//     { Url: '/api/admin/update/profile/{id}/block', CustomOptions: false, Method: 'put', InvokeName: 'blockAdminProfileById' } // -   webApi.blockAdminProfileById({ "url": { "id": 5 } });</span></span></code> </pre> <br><p>  Generated request: <code>/api/admin/update/profile/5/block</code> (plus domain url, of course). </p><br><p>  And if we need to send a more complex request to the server (for example, blocking duration and type), then we simply specify the remaining parameters as fields of the "url" object: </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//     { Url: '/api/admin/update/profile/{id}/block/{type}/{time}', CustomOptions: false, Method: 'put', InvokeName: 'blockAdminProfileById' } // -   webApi.blockAdminProfileById({ "url": { "id": 5, "type": "week", "time": 2 } });</span></span></code> </pre> <br><p>  Generated request: <code>/api/admin/update/profile/5/block/week/2</code> .  And now the user will be blocked by the system for 2 weeks. </p><br><p>  Templating works for all types of requests, including get.  It is desirable to form all requests in this way: we save time, do not litter the internal code with unnecessary operations. </p><br><p>  <strong>Data transfer in request body</strong> </p><br><p>  It should be noted that if you want to send in addition to the template url to the server also some data (for example, a post request), you need to send them as follows: </p><br><pre> <code class="javascript hljs">webApi.createPost({ <span class="hljs-string"><span class="hljs-string">"data"</span></span>: { <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Test post"</span></span>, <span class="hljs-string"><span class="hljs-string">"category"</span></span>: <span class="hljs-string"><span class="hljs-string">"sport"</span></span>, <span class="hljs-string"><span class="hljs-string">"message"</span></span>: <span class="hljs-string"><span class="hljs-string">"Content..."</span></span> } });</code> </pre> <br><p>  Naturally, you can use both url-templating and transferring an object with data.  The latter will be sent to the server in the request body. </p><br><p>  <strong>Work with GET methods</strong> </p><br><p>  No data in the request body is transmitted here, but everyone knows that a get request can be generated like this: </p><br><p> <code>api/admin/news/10?category=sport&amp;period=week</code> </p> <br><p>  or so: </p><br><p> <code>api/admin/manage/get-statistic/5/2016</code> </p> <br><p>  or so: </p><br><p>  <code>api/admin/manage/get-all</code> . </p><br><p>  Consider each of the options for generation. </p><br><div class="spoiler">  <b class="spoiler_title">Examples of creating a get request</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// Case #1 -&gt; api/admin/manage/get-all //   -&gt; "Url" : 'api/admin/manage/get-all', ... //   webApi.getAllAdmins([]).success(//...) // Case #2 -&gt; api/admin/manage/get-statistic/5/2016 //   -&gt; "Url" : 'api/admin/manage/get-statistic/{id}/{year}', ... //   webApi.getAdminStatsticById({ "url": { "id": 5, "year": 2016 } }).success(//...) // Case #3 -&gt; admin/news/10?category=sport&amp;period=week //   -&gt; "Url" : 'admin/news', ... //   webApi.getNews({ before: ['10'], after: { "category": "sport", "period": "week" } }).success(//...)</span></span></code> </pre> </div></div><br><p>  We already dealt with the second type of requests above. </p><br><p>  In the first case, we always pass an empty collection when you just need to send a request to the server. </p><br><p>  In case # 3, the <em>before</em> field defines a series of parameters that go as far as the <em>"?"</em>  , and the <em>after</em> field is the key-value set.  Naturally, in some cases, you can leave <em>before</em> an empty collection []. </p><br><p>  <strong>CustomOptions option in settings</strong> </p><br><p>  Get request without templating url: </p><br><pre> <code class="javascript hljs">webApi.getNewsById([<span class="hljs-number"><span class="hljs-number">10</span></span>, {<span class="hljs-string"><span class="hljs-string">"headers"</span></span>: {<span class="hljs-string"><span class="hljs-string">"Content-Type"</span></span>: <span class="hljs-string"><span class="hljs-string">"text/plain"</span></span>} } ]);</code> </pre> <br><p>  In all other cases (including get-requests with url templating): </p><br><pre> <code class="javascript hljs">webApi.login({ <span class="hljs-attr"><span class="hljs-attr">options</span></span>: {<span class="hljs-string"><span class="hljs-string">"timeout"</span></span>: <span class="hljs-number"><span class="hljs-number">100</span></span>, {<span class="hljs-string"><span class="hljs-string">"headers"</span></span>: {<span class="hljs-string"><span class="hljs-string">"Content-Type"</span></span>: <span class="hljs-string"><span class="hljs-string">"text/plain"</span></span>} } });</code> </pre> <br><h2>  Setting up webApi in a new project </h2><br><p>  The structure of the module is as follows: </p><br><ul><li>  module.js file - declaration of the module itself; </li><li>  main / directory contains webApi core, it does not change; </li><li>  categories directory - request groups, one group - one * .js file; </li><li>  The categories-handler directory registers all requests in the webApi module. </li></ul><br><p>  You will have to work with the last two directories. </p><br><p>  <strong>Example # 3</strong> </p><br><p>  Suppose a book accounting system is being developed at a university.  A high probability of splitting queries into the following groups: </p><br><ul><li>  <em>account.js</em> - requests for authorization, deauthorization, password recovery, etc .; </li><li>  <em>bookManage.js</em> - requests for CRUD operations with books; </li><li>  <em>studentManage.js</em> - student management; </li><li>  <em>adminManage.js</em> - a series of requests for managing the admin part of the application. </li></ul><br><p>  Of course, this list can be expanded. </p><br><pre> <code class="hljs erlang"> -     ,          .</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">We declare a new category of requests</b> <div class="spoiler_text"><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ angular .module(<span class="hljs-string"><span class="hljs-string">"_webApi_"</span></span>) .constant(<span class="hljs-string"><span class="hljs-string">"cat.account"</span></span>, { <span class="hljs-string"><span class="hljs-string">"DATA"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">Url</span></span>: <span class="hljs-string"><span class="hljs-string">'/api/acc/login'</span></span>, <span class="hljs-attr"><span class="hljs-attr">CustomOptions</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">Method</span></span>: <span class="hljs-string"><span class="hljs-string">'post'</span></span>, <span class="hljs-attr"><span class="hljs-attr">InvokeName</span></span>: <span class="hljs-string"><span class="hljs-string">'login'</span></span> }, <span class="hljs-comment"><span class="hljs-comment">//   ] }); })();</span></span></code> </pre> </div></div><br><p>  Request file created.  Now we need to connect it with our webApi core. </p><br><div class="spoiler">  <b class="spoiler_title">Add a group of requests to a special handler.</b> <div class="spoiler_text"><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ angular .module(<span class="hljs-string"><span class="hljs-string">"_webApi_"</span></span>) .service(<span class="hljs-string"><span class="hljs-string">"webApi.requests"</span></span>, webApiRequests); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">webApiRequests</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">catAccount</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-comment"><span class="hljs-comment">//     //    ,     } // IoC container. webApiRequests.$inject = [ "cat.account" ]; })();</span></span></code> </pre> </div></div><br><p>  In this case, all the constants are written using the " <em>cat.constant name</em> ", and are connected to the recorder " <em>catName Constants</em> ". </p><br><p>  Thus, webApi uses the extra namespace " <em>cat.</em> " To avoid conflicts with other constants in the application. </p><br><p>  And now we call the method according to the template described: </p><br><p> <code>webApi.login( //-   )</code> </p> <br><h2>  Work with repositories </h2><br><p>  In order not to reveal the webApi functionality to the internal code of the application, it was decided to use the additional abstraction "repository". </p><br><pre> <code class="hljs 1c">   ,   ,    <span class="hljs-keyword"><span class="hljs-keyword"></span></span>      http-.  -webApi ,          .</code> </pre> <br><p>  Suppose we have a ‚Äú <em>FoodController</em> ‚Äù and the corresponding foodManage request group.  Each method from this category is responsible for its specific implementation of data management on the server. </p><br><p>  We announce the repository: </p><br><pre> <code class="javascript hljs"> (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-string"><span class="hljs-string">"use strict"</span></span>; angular .module(<span class="hljs-string"><span class="hljs-string">"app.repositories"</span></span>) .factory(<span class="hljs-string"><span class="hljs-string">"repository.food"</span></span>, foodRepository); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foodRepository</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">webApi</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">get</span></span>: getById getAll: getAll, <span class="hljs-attr"><span class="hljs-attr">remove</span></span>: removeById, <span class="hljs-attr"><span class="hljs-attr">removeAll</span></span>: removeAll } <span class="hljs-comment"><span class="hljs-comment">//   ,  function getById(id){ return webApi.getFoodItemById({ "url": { "id": id } }); } function getAll(){ return webApi.getAllFoodItems([]); } //    } // IoC container. foodRepository.$inject = [ "webApi" ]; })();</span></span></code> </pre> <br><p>  Thus, we have created an abstract factory for managing data from the controller, without revealing the functionality of webApi.  And at any time we can replace the current implementation with any other. </p><br><p>  For example, when receiving information about the item, we now need to specify the type: "vegetables", "fruits", "milk-made", etc.  Due to the presence of a special level of abstraction, we simply need to make the following changes to the method: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getById</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">id, category</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> webApi.getFoodItemById({ <span class="hljs-string"><span class="hljs-string">"url"</span></span>: { <span class="hljs-string"><span class="hljs-string">"id"</span></span>: id, <span class="hljs-string"><span class="hljs-string">"category"</span></span>: category } }); }</code> </pre> <br><p>  <strong>Connecting the repository to the application</strong> </p><br><p>  As mentioned above, the repository is an entity that provides open methods for managing data through an internal call to the webApi module. </p><br><p>  Therefore, it will be enough for us to call a specific method and pass the corresponding parameters to it. </p><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-string"><span class="hljs-string">"use strict"</span></span>; angular .module(<span class="hljs-string"><span class="hljs-string">"app"</span></span>) .controller(<span class="hljs-string"><span class="hljs-string">"FoodController"</span></span>, FoodController); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FoodController</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">foodRepository</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* jshint validthis:true */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> vm = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  ,   vm.foodItems = []; vm.getAllFood = function(){ foodRepository.getAll().success(function(response){ vm.foodItems = response.data; }); }; //        vm.getAllFood(); } // IoC container. FoodController.$inject = [ "repositories.food" ]; })();</span></span></code> </pre><br><p>  HTML snippet for data visualization: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-controller</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"FoodController as fc"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-repeat</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"food in fc.foodItems track by food.Id"</span></span></span><span class="hljs-tag">&gt;</span></span> Title: <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"item-title"</span></span></span><span class="hljs-tag">&gt;</span></span> {{food.title}} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> Cost: <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"item-cost"</span></span></span><span class="hljs-tag">&gt;</span></span> {{food.cost}} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Thus, the repository returns data and Angular.js automatically substitutes it in the view.  And we cannot directly access webApi by deleting some item there or adding it without agreeing with the central controller. </p><br><pre> <code class="hljs erlang">           ,     .</code> </pre> <br><h2>  Conclusion </h2><br><p>  We considered the option of creating a configurable and extensible webApi module for working with Angular.js. </p><br><p>  This approach will help you get rid of duplication of logic in the code, reduce the time for editing the required method, as well as facilitate the work with complex queries. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/282397/">https://habr.com/ru/post/282397/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../282385/index.html">5 stages of the API: what we understood by writing two versions</a></li>
<li><a href="../282387/index.html">Cybercriminals tried to commit the largest bank robbery</a></li>
<li><a href="../282391/index.html">Optimization of the game on unity and dev story Tap Tap Builder</a></li>
<li><a href="../282393/index.html">GitLab in Russia</a></li>
<li><a href="../282395/index.html">New memory for new storage architecture</a></li>
<li><a href="../282399/index.html">On the International Penguin Day, a meditative video and a story about Ubuntu and Bash in Windows 10 from Scott Hanselman</a></li>
<li><a href="../282401/index.html">Cheap and angry or Why develop a website from scratch, if you have WordPress?</a></li>
<li><a href="../282403/index.html">Is it possible to create an algorithm for trading on the exchange by analyzing the tonality of messages on the Internet</a></li>
<li><a href="../282405/index.html">Game development digest</a></li>
<li><a href="../282407/index.html">Yii: best practices</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>