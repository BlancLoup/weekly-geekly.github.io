<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>WavesKit - PHP framework for working with the blockchain Waves</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I like PHP for development speed and excellent portability. This is very good when there is always a tool ready for problem solving in your pocket. 

...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>WavesKit - PHP framework for working with the blockchain Waves</h1><div class="post__text post__text-html js-mediator-article"><p>  I like <a href="https://en.wikipedia.org/wiki/PHP">PHP</a> for development speed and excellent portability.  This is very good when there is always a tool ready for problem solving in your pocket. </p><br><p>  It was rather disappointing when, when meeting the <a href="https://wavesplatform.com/">Wales Platform</a> blockchain in our country, there was no PHP ready SDK in its arsenal.  Well, I had to write it. </p><a name="habracut"></a><br><p>  At first, I had to use <a href="https://docs.wavesplatform.com/en/waves-full-node/what-is-a-full-node.html">nodes</a> to sign transactions.  So, to manage the three addresses had to run three nodes ... It was a pitiful sight, although it solved some problems.  Until the understanding has come that to rely on nodes is a dead end.  Firstly, because of the limited <a href="https://docs.wavesplatform.com/en/waves-api-and-sdk/waves-node-rest-api.html">API</a> functionality, and secondly, because of the speed (in those days the nodes were very slow). </p><br><p>  I started two parallel works.  One is to make the blockchain browser, which will be fast and completely independent of the API nodes.  The second is to collect all the functions for working with the Waves Platform in one place.  So there were projects <a href="https://github.com/deemru/w8io">w8io</a> and <a href="https://github.com/deemru/WavesKit">WavesKit</a> . </p><br><p>  The first step backstage at the Waves blockchain was <a href="https://w8io.ru/">the w8io browser</a> .  It was not easy, but still managed to write an independent calculation of all balances and even find an error in the calculations on the original nodes ( <a href="https://forum.wavesplatform.com/t/bug-bounty-program/1127">the bug-bounty program</a> works by the way, they pay for errors found).  You can learn more about the w8io browser functionality in this topic: <a href="https://forum.wavesplatform.com/t/w8io-waves-explorer-based-on-php-sqlite">https://forum.wavesplatform.com/t/w8io-waves-explorer-based-on-php-sqlite</a> </p><br><p>  In the process of working on w8io, I already had doubts, but when the work came to a logical end and I started creating the SDK, the doubts were confirmed.  I could not find some functions anywhere, including the most important, cryptographic ones.  Then I started by building my own bricks for the foundation.  So were born: <a href="https://github.com/deemru/ABCode">ABCode</a> for encoding in base58 (actually for encoding any alphabet in any), <a href="https://github.com/deemru/Curve25519">Curve25519</a> for creating and verifying compatible signatures (with options <a href="https://github.com/deemru/Curve25519/blob/0ba56fa566f4a29b06126465b9ebbe59c915ffbd/src/Curve25519.php">on steroids</a> ), <a href="https://github.com/deemru/Blake2b">Blake2b</a> for calculating one of the hashes (which was available only since PHP 7.2) etc. </p><br><p>  Here I have to thank <a href="https://twitter.com/ikardanoff">Inal Kardanov</a> for some valuable advice that sent me towards the <a href="https://en.wikipedia.org/wiki/Composer_(software)">composer</a> instead of the usual for me, but obsolete, include files. </p><br><p>  After a couple of months, <a href="https://forum.wavesplatform.com/t/client-libraries-for-php-elm-and-rust/3001/15">WavesKit saw the light</a> , came out of the <a href="https://twitter.com/ikardanoff/status/1091241637706190848">beta version</a> and is now ready to work with all the standard functionality of the Waves platform.  All transactions available on the <a href="https://docs.wavesplatform.com/en/waves-environment/waves-mainnet.html">core network</a> can be easily created, signed and sent by just one package running on all 64-bit PHP versions from 5.6 inclusive. </p><br><p>  We connect WavesKit to your project: </p><br><pre><code class="php hljs">composer <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> deemru/waveskit</code> </pre> <br><p>  We use: </p><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">deemru</span></span>\<span class="hljs-title"><span class="hljs-title">WavesKit</span></span>; $wk = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WavesKit( <span class="hljs-string"><span class="hljs-string">'T'</span></span> ); $wk-&gt;setSeed( <span class="hljs-string"><span class="hljs-string">'manage manual recall harvest series desert melt police rose hollow moral pledge kitten position add'</span></span> ); $tx = $wk-&gt;txBroadcast( $wk-&gt;txSign( $wk-&gt;txTransfer( <span class="hljs-string"><span class="hljs-string">'test'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span> ) ) ); $tx = $wk-&gt;ensure( $tx );</code> </pre> <br><p>  In the example above, we create a WavesKit object that runs on the test network "T".  Set the led phrase, from which the keys and the address of the account are automatically calculated based on the public key.  Next, we create a transfer transaction 0.00000001 Waves with the address automatically calculated by the phrase phrase to the alias address "test", transfer it to the signature with the private key and send it to the network.  After that we are convinced that the transaction has been successfully confirmed by the network. </p><br><p>  Work with transactions is concentrated in <a href="">functions starting with tx</a> .  For a better understanding of working with transactions, you can study the <a href="">documentation of WavesKit</a> or immediately refer to illustrative examples in <a href="https://github.com/deemru/WavesKit/blob/2c4937199c88bc4ae105f60657b1389482471c1f/test/selftest.php">tests of continuous integration</a> . </p><br><p>  Since WavesKit was developing in terms of real use, it already had advanced features.  The first killer feature is <a href="">the ensure function</a> , which controls the achievement of the required level of confidence that the transaction was not lost, but, on the contrary, was confirmed and reached the required number of confirmations on the network. </p><br><p>  Another bulletproof mechanism is how WavesKit communicates with nodes.  Under greenhouse conditions, the framework works only with the main node, maintaining a permanent connection with it, but in case of errors it can automatically switch to the backup ones.  If you set up an array of backup nodes, you can call the <a href="">setBestNode</a> function to determine the best node as the primary one based on the maximum value of the current height and response speed.  Now add to this the internal query cache and feel the care of both the users and the owners of the nodes. </p><br><p>  One of the latest advanced mechanisms is the <a href="">txMonitor</a> function.  She appeared in connection with the need to respond to incoming transactions in real time.  This function completely solves all the nuances associated with processing transactions in the blockchain.  No more pain, just set up your callback function with the desired options and wait for new transactions that will start your processes.  For example, another of my <a href="https://github.com/deemru/VECRO">VECRO projects is</a> completely built around this function, you can easily study how it works right <a href="https://github.com/deemru/VECRO/blob/85d8373de56baff7c05697475211633b521bca7d/src/VECRO.php">in the project code</a> . </p><br><p>  I like open source, this is one of the greatest achievements of humanity.  Since I am the only developer and have reached the state that all my needs are resolved, I invite you to use and contribute to <a href="https://github.com/deemru/WavesKit">WavesKit</a> . </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/446110/">https://habr.com/ru/post/446110/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../446098/index.html">Soviet Mission Control Center of Vostok and Voskhod times</a></li>
<li><a href="../446100/index.html">Automatic creation of Android and iOS localization files from Excel spreadsheet</a></li>
<li><a href="../446104/index.html">The Python Paradox (The Python Paradox)</a></li>
<li><a href="../446106/index.html">Oleg Shelaev about GraalVM on jug.msk.ru</a></li>
<li><a href="../446108/index.html">Building blocks distributed applications. First approach</a></li>
<li><a href="../446114/index.html">50 year old modem: inside view</a></li>
<li><a href="../446116/index.html">A selection of books on how to learn, think and make effective decisions.</a></li>
<li><a href="../446118/index.html">Open Rack v3: what to expect from the new standard of architecture of server racks</a></li>
<li><a href="../446120/index.html">American telecoms will fight phone spam</a></li>
<li><a href="../446124/index.html">Digital events in Moscow from April 1 to April 7</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>