<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Problem aspects of C ++ programming</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In C ++, there are a lot of features that can be considered potentially dangerous - when they are miscalculated in design or inaccurate coding, they c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Problem aspects of C ++ programming</h1><div class="post__text post__text-html js-mediator-article"><hr><p>  <i>In C ++, there are a lot of features that can be considered potentially dangerous - when they are miscalculated in design or inaccurate coding, they can easily lead to errors.</i>  <i>The article provides a selection of such features, given tips on how to reduce their negative impact.</i> <i><br></i> </p><hr><br><a name="habracut"></a><br><h1>  Table of contents </h1><br><div class="spoiler">  <b class="spoiler_title">Table of contents</b> <div class="spoiler_text"><p>  <a href="https://habr.com/ru/post/428898/">Introduction</a> <br>  <a href="https://habr.com/ru/post/428898/">1. Types</a> <br>  <a href="https://habr.com/ru/post/428898/">1.1.</a>  <a href="https://habr.com/ru/post/428898/">Conditional instructions and operators</a> <br>  <a href="https://habr.com/ru/post/428898/">1.2.</a>  <a href="https://habr.com/ru/post/428898/">Implicit conversions of type (implicit conversions)</a> <br>  <a href="https://habr.com/ru/post/428898/">2. Name resolution</a> <br>  <a href="https://habr.com/ru/post/428898/">2.1.</a>  <a href="https://habr.com/ru/post/428898/">Hiding variables in nested scopes</a> <br>  <a href="https://habr.com/ru/post/428898/">2.2.</a>  <a href="https://habr.com/ru/post/428898/">Function overload</a> <br>  <a href="https://habr.com/ru/post/428898/">3. Constructors, destructors, initialization, removal</a> <br>  <a href="https://habr.com/ru/post/428898/">3.1.</a>  <a href="https://habr.com/ru/post/428898/">Compiler generated member functions</a> <br>  <a href="https://habr.com/ru/post/428898/">3.2.</a>  <a href="https://habr.com/ru/post/428898/">Uninitialized variables</a> <br>  <a href="https://habr.com/ru/post/428898/">3.3.</a>  <a href="https://habr.com/ru/post/428898/">The order of initialization of base classes and non-static class members</a> <br>  <a href="https://habr.com/ru/post/428898/">3.4.</a>  <a href="https://habr.com/ru/post/428898/">Initialization order for static class members and global variables</a> <br>  <a href="https://habr.com/ru/post/428898/">3.5.</a>  <a href="https://habr.com/ru/post/428898/">Destructor exceptions</a> <br>  <a href="https://habr.com/ru/post/428898/">3.6.</a>  <a href="https://habr.com/ru/post/428898/">Removing dynamic objects and arrays</a> <br>  <a href="https://habr.com/ru/post/428898/">3.7.</a>  <a href="https://habr.com/ru/post/428898/">Deletion on incomplete class declaration</a> <br>  <a href="https://habr.com/ru/post/428898/">4. Operators, expressions</a> <br>  <a href="https://habr.com/ru/post/428898/">4.1.</a>  <a href="https://habr.com/ru/post/428898/">Operators priority</a> <br>  <a href="https://habr.com/ru/post/428898/">4.2.</a>  <a href="https://habr.com/ru/post/428898/">Operator Overloading</a> <br>  <a href="https://habr.com/ru/post/428898/">4.3.</a>  <a href="https://habr.com/ru/post/428898/">The procedure for calculating subexpressions</a> <br>  <a href="https://habr.com/ru/post/428898/">5. Virtual Functions</a> <br>  <a href="https://habr.com/ru/post/428898/">5.1 Redefining Virtual Functions</a> <br>  <a href="https://habr.com/ru/post/428898/">5.2 Overloading and using default parameters</a> <br>  <a href="https://habr.com/ru/post/428898/">5.3 Calling virtual functions in constructor and destructor</a> <br>  <a href="https://habr.com/ru/post/428898/">5.4 Virtual Destructor</a> <br>  <a href="https://habr.com/ru/post/428898/">6. Direct work with memory</a> <br>  <a href="https://habr.com/ru/post/428898/">6.1 Going beyond the buffer</a> <br>  <a href="https://habr.com/ru/post/428898/">6.2 Z-terminated strings</a> <br>  <a href="https://habr.com/ru/post/428898/">6.3 Functions with a variable number of parameters</a> <br>  <a href="https://habr.com/ru/post/428898/">7. Syntax</a> <br>  <a href="https://habr.com/ru/post/428898/">7.1 Complicated Ads</a> <br>  <a href="https://habr.com/ru/post/428898/">7.2 Syntax ambiguity</a> <br>  <a href="https://habr.com/ru/post/428898/">8. Miscellaneous</a> <br>  <a href="https://habr.com/ru/post/428898/">8.1 Keyword inline and ODR</a> <br>  <a href="https://habr.com/ru/post/428898/">8.2 Header Files</a> <br>  <a href="https://habr.com/ru/post/428898/">8.3 switch statement</a> <br>  <a href="https://habr.com/ru/post/428898/">8.4 Passing parameters by value</a> <br>  <a href="https://habr.com/ru/post/428898/">8.5 Resource Management</a> <br>  <a href="https://habr.com/ru/post/428898/">8.6 Owning and not owning links</a> <br>  <a href="https://habr.com/ru/post/428898/">8.7 Binary compatibility</a> <br>  <a href="https://habr.com/ru/post/428898/">8.8 Macros</a> <br>  <a href="https://habr.com/ru/post/428898/">9. Results</a> <br>  <a href="https://habr.com/ru/post/428898/">Bibliography</a> <br></p><br></div></div><br><p>  <i>Praemonitus, praemunitus.</i> <i><br></i>  <i>Forewarned is forearmed.</i>  <i>(lat.)</i> <br></p><br><a name="id-introdaction"></a><br><h1>  Introduction </h1><br><p>  In C ++, there are a lot of features that can be considered potentially dangerous - when they are miscalculated in design or inaccurate coding, they can easily lead to errors.  Some of them can be attributed to difficult childhood, some to the obsolete C ++ 98 standard, but others are already related to the features of modern C ++.  Consider the main ones and try to give advice on how to reduce their negative impact. </p><br><a name="id-1"></a><br><h1>  1. Types </h1><br><a name="id-1-1"></a><br><h2>  1.1.  Conditional instructions and operators </h2><br><p> The need for compatibility with C leads to the fact that in the <code>if(...)</code> and similar instructions you can substitute any numeric expression or pointer, and not just expressions of the <code>bool</code> type.  The problem is aggravated by the implicit conversion from <code>bool</code> to <code>int</code> in arithmetic expressions and the priority of some operators.  This leads, for example, to such errors: </p><br><p>  <code>if(a=b)</code> when <code>if(a==b)</code> correct, <br>  <code>if(a&lt;x&lt;b)</code> , <code>if(a&lt;x &amp;&amp; x&lt;b)</code> correct <code>if(a&lt;x &amp;&amp; x&lt;b)</code> , <br>  <code>if(a&amp;x==0)</code> when <code>if((a&amp;x)==0)</code> correct, <br>  <code>if(Foo)</code> when correct <code>if(Foo())</code> , <br>  <code>if(arr)</code> , if correctly <code>if(arr[0])</code> , <br>  <code>if(strcmp(s,r))</code> when correct <code>if(strcmp(s,r)==0)</code> . </p><br><p>  Some of these errors cause a compiler warning, but not an error.  Also, code analyzers can sometimes help.  In C #, such errors are almost impossible, <code>if(...)</code> and similar instructions require the <code>bool</code> type, you cannot mix <code>bool</code> and numeric types in arithmetic expressions. </p><br><p>  How to fight: </p><br><ul><li>  Program without warnings.  Unfortunately, this does not always help, some of the errors described above do not give warnings. </li><li>  Use static code analyzers. </li><li>  Old-fashioned reception: when compared with a constant, put it on the left, for example <code>if(MAX_PATH==x)</code> .  It looks pretty kondovo (and even has its own name - ¬´Yoda notation¬ª), and it helps in a small number of the considered cases. </li><li>  Use the <code>const</code> qualifier as widely as possible.  Again, it does not always help. </li><li>  Train yourself to write correct logical expressions: <code>if(x!=0)</code> instead of <code>if(x)</code> .  (Although it is possible to fall into the trap of the priorities of the operators, see the third example.) </li><li>  Be extremely attentive. </li></ul><br><a name="id-1-2"></a><br><h2>  1.2.  Implicit conversions of type (implicit conversions) </h2><br><p>  C ++ refers to languages ‚Äã‚Äãwith strong typing, but implicit type conversions are quite widely used to make the code shorter.  These implicit conversions can in some cases lead to errors. </p><br><p>  The most annoying implicit conversions are conversions of a numeric type or pointer to <code>bool</code> and from <code>bool</code> to <code>int</code> .  It is these transformations (necessary for compatibility with C) that cause the problems described in section 1.1.  Also implicit conversions are not always appropriate, potentially causing a loss of precision of numeric data (narrowing conversions), for example, from <code>double</code> to <code>int</code> .  In many cases, the compiler issues a warning (especially when there may be a loss of precision in numeric data), but a warning is not an error.  In C #, conversions between numeric types and <code>bool</code> forbidden (even explicit), and conversions that potentially cause a loss of precision of numeric data are almost always an error. </p><br><p>  A programmer can add other implicit conversions: (1) a single-parameter constructor definition without the <code>explicit</code> keyword;  (2) the definition of a type conversion operator.  These transformations make additional security holes based on strong typing principles. </p><br><p>  In C #, the number of embedded implicit conversions is much smaller; user-defined implicit conversions must be declared using the <code>implicit</code> keyword. </p><br><p>  How to fight: </p><br><ul><li>  Program without warnings. </li><li>  Be very careful about the structures described above, do not use them without extreme need. </li></ul><br><a name="id-2"></a><br><h1>  2. Name resolution </h1><br><a name="id-2-1"></a><br><h2>  2.1.  Hiding variables in nested scopes </h2><br><p>  In C ++, the following rule applies.  Let be </p><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//   {    int x;    // ... //  ,       {        int x;        // ...    } }</span></span></code> </pre> <br><p>  According to the rules of C ++, the variable <code></code> , declared in <code></code> , hides (hide) the variable <code></code> , declared in <code></code>  The first declaration of <code>x</code> does not have to be in a block: it can be a member of a class or a global variable, it should just be visible in block <code></code> </p><br><p>  Imagine now the situation when you need to refactor the following code. </p><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//   {    int x;    // ... //  ,       {    // -         } }</span></span></code> </pre> <br><p>  By mistake, changes are made: </p><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//   {    //  , :    int x;    // -         // ...    //  :    // -      }</span></span></code> </pre> <br><p>  And now the code ‚Äúsomething is done with <code></code> from <code></code> ‚Äù will have something to do with <code></code> from <code></code> !  It is clear that everything does not work the way it used to, and it is often not easy to find what is happening.  Not for nothing in C # to hide local variables is prohibited (though members of the class can).  Note that the mechanism for hiding variables in one way or another is used in almost all programming languages. </p><br><p>  How to fight: </p><br><ul><li>  Declare variables in the narrowest possible scope. </li><li>  Do not write long and deep nested blocks. </li><li>  Use coding conventions to visually distinguish between identifiers of different scopes. </li><li>  Be extremely attentive. </li></ul><br><a name="id-2-2"></a><br><h2>  2.2.  Function overload </h2><br><p>  Function overloading is an integral feature of many programming languages, and C ++ is no exception.  But this opportunity should be used deliberately, otherwise you can come across trouble.  In some cases, for example, when the constructor is overloaded, the programmer has no choice, but in other cases, refusing the overload can be quite justified.  Consider the problems that arise when using overloaded functions. </p><br><p>  If you try to consider all the possible options that may arise during overload resolution, the overload resolution rules turn out to be very complex and, therefore, difficult to predict.  Additional complexity is introduced by template functions and overloading of built-in operators.  C ++ 11 added problems with rvalue links and initialization lists. </p><br><p>  Problems can create an algorithm for finding candidates for overload resolution in nested scopes.  If the compiler has found some candidates in the current scope, then the further search is terminated.  If the found candidates are not suitable, conflicting, deleted or inaccessible, an error is generated, but no further search is attempted.  And only if there are no candidates in the current scope, the search moves to the next, wider scope.  The name hiding mechanism works, almost the same as that discussed in section 2.1, see [Dewhurst]. </p><br><p>  Overloading of functions can reduce the readability of the code, and thus provoke errors. </p><br><p>  Using functions with default parameters looks similar to using overloaded functions, although, of course, there are fewer potential problems.  But the problem with the deterioration of readability and possible errors remains. </p><br><p>  Be especially careful to use overload and default parameters for virtual functions, see section 5.2. </p><br><p>  C # also supports function overloading, but the rules for overload resolution are slightly different. </p><br><p>  How to fight: </p><br><ul><li>  Do not abuse the overloading of functions, as well as the design of functions with default parameters. </li><li>  If the functions are overloaded, then use signatures that are not in doubt when overload is resolved. </li><li>  Do not declare like-named functions in nested scopes. </li><li>  Do not forget that the mechanism of remote functions ( <code>=delete</code> ), which appeared in C ++ 11, can be used to prohibit certain overload options. </li></ul><br><a name="id-3"></a><br><h1>  3. Constructors, destructors, initialization, removal </h1><br><a name="id-3-1"></a><br><h2>  3.1.  Compiler generated member functions </h2><br><p>  If the programmer has not defined the class member functions from the following list ‚Äî the default constructor, the copy constructor, the copy assignment operator, the destructor ‚Äî then the compiler can do it for him.  C ++ 11 added a relocation constructor and a move assignment operator to this list.  These member functions are called special member functions.  They are generated only if they are used, and additional conditions specific to each function are fulfilled.  Note that this usage may be quite hidden (for example, when implementing inheritance).  If the requested function cannot be generated, an error is generated.  (With the exception of moving operations, they are replaced by copying ones.) The member functions generated by the compiler are public and embedded.  Details about special member functions can be found in [Meyers2]. </p><br><p>  In some cases, such help from the compiler may turn out to be a ‚Äúdisservice.‚Äù  The absence of custom special member functions can lead to the creation of a trivial type, and this, in turn, causes the problem of uninitialized variables, see section 3.2.  The generated member functions are public, and this is not always consistent with the design of the classes.  In base classes, the constructor must be protected; sometimes, for a more subtle management of the life cycle of an object, a protected destructor is needed.  If a class has a raw resource descriptor as a member and owns that resource, then the programmer must implement the copy constructor, copy assignment operator, and destructor.  The so-called ‚ÄúBig Three Rule‚Äù is well known, which states that if a programmer has defined at least one of the three operations ‚Äî a copy constructor, a copy assignment operator, or a destructor ‚Äî then he must define all three operations.  The displacement constructor and the displacement assignment operator generated by the compiler are also far from always what is needed.  The destructor generated by the compiler in some cases leads to very subtle problems, which may result in resource leaks, see section 3.7. </p><br><p>  The programmer can prohibit the generation of special member functions, in C ++ 11, you must apply the construction <code>"=delete"</code> when declaring, in C ++ 98, declare the corresponding member function closed and not define it. </p><br><p>  If the programmer is satisfied with the member functions generated by the compiler, then in C ++ 11 he can designate this explicitly, rather than simply dropping the declaration.  To do this, the declaration should use the construction <code>"=default"</code> , while the code is better readable and additional features related to access level control appear. </p><br><p>  In C #, the compiler can generate a default constructor, usually it does not cause any problems. </p><br><p>  How to fight: </p><br><ul><li>  Control generation of special member functions by the compiler.  If necessary, implement them yourself or prohibit. </li></ul><br><a name="id-3-2"></a><br><h2>  3.2.  Uninitialized variables </h2><br><p>  Constructors and destructors can be called key elements of the C ++ object model.  When an object is created, the constructor is invoked, and when it is deleted, the destructor is called.  But compatibility issues with C forced to make some exceptions, and this exception is called trivial types.  They are introduced to model the sish types and the life cycle of variables, without necessarily calling the constructor and destructor.  Critical code, if compiled and executed in C ++, should work in the same way as in C. Trivial types include numeric types, pointers, enumerations, as well as classes, structures, unions, and arrays consisting of trivial types.  Classes and structures must satisfy some additional conditions: the absence of a custom constructor, destructor, copy, virtual functions.  For a trivial class, the compiler can generate a default constructor and destructor.  The default constructor resets the object, the destructor does nothing.  But this constructor will be generated and used, only if it is explicitly called when the variable is initialized.  A variable of the trivial type will be uninitialized if no option of explicit initialization is used.  The initialization syntax depends on the type and context of the declaration of the variable.  Static and local variables are initialized upon declaration.  For a class, immediate base classes and non-static class members are initialized in the constructor initialization list.  (C ++ 11 allows to initialize non-static class members when declaring, see below.) For dynamic objects, the expression <code>new T()</code> creates an object initialized by the default constructor, while <code>new T</code> for trivial types creates an uninitialized object.  When creating a dynamic array of the trivial type, <code>new T[N]</code> , its elements will always be uninitialized.  If an instance of <code>std::vector&lt;T&gt;</code> is created or expanded and no parameters are provided for explicitly initializing elements, then they are guaranteed to invoke the default constructor.  In C ++ 11, a new initialization syntax has appeared - using curly braces.  An empty pair of parentheses means initialization using the default constructor.  Such initialization is possible wherever traditional initialization is used, except that it became possible to initialize non-static members of the class when declaring, which replaces initialization in the initialization list of the constructor. </p><br><p>  An uninitialized variable is arranged as follows: if it is defined in the scope of the <code>namespace</code> (globally), it will have all the bits zero, if it is local, or dynamically created, then it will receive a random set of bits.  It is clear that the use of such a variable can lead to unpredictable program behavior. </p><br><p>  True progress does not stand still, modern compilers, in some cases, find uninitialized variables and give an error.  Uninitialized code analyzers detect even better. </p><br><p>  In the standard C ++ 11 library, there are templates called type properties (header file <code>&lt;type_traits&gt;</code> ).  One of them allows you to determine whether a type is trivial.  The <code>std::is_trivial&lt;&gt;::value</code> expression is <code>true</code> if <code>T</code> trivial type and <code>false</code> otherwise. </p><br><p>  Cinnamon structures are also often referred to as Plain Old Data (POD).  We can assume that POD and ‚Äútrivial type‚Äù are practically equivalent terms. </p><br><p>  In C #, uninitialized variables cause an error, this is controlled by the compiler.  Fields of reference type objects are initialized by default if explicit initialization is not performed.  Fields of objects of a meaningful type are initialized either by default or all must be explicitly initialized. </p><br><p>  How to fight: </p><br><ul><li>  Have a habit of explicitly initializing a variable.  An uninitialized variable must "cut the eye." </li><li>  Declare variables in the narrowest possible scope. </li><li>  Use static code analyzers. </li><li>  Do not design trivial types.  In order for the type not to be trivial, it suffices to define a custom constructor. </li></ul><br><a name="id-3-3"></a><br><h2>  3.3.  The order of initialization of base classes and non-static class members </h2><br><p>  When implementing a class constructor, immediate base classes and non-static class members are initialized.  The initialization order defines the standard: first, the base classes in the order in which they are declared in the list of base classes, then the non-static members of the class in the order of declaration.  If necessary, explicit initialization of base classes and non-static members is used to list the constructor initialization.  Unfortunately, the elements of this list are not required to be in the order in which initialization occurs.  This must be taken into account if, when initializing, the elements of the list use references to other elements of the list.  If an error occurs, the link may be to an object that has not yet been initialized.  C ++ 11 allows you to initialize non-static class members when they are declared (using curly braces).               . </p><br><p>  C#    :   ,      ,       .    . </p><br><p>  : </p><br><ul><li>       . </li><li>         . </li><li>      . </li></ul><br><a name="id-3-4"></a><br><h2>  3.4.         </h2><br><p>   ,   ,     <code>namespace</code> ()     (),   ,  .   ,          .        . </p><br><p>  : </p><br><ul><li>       . ,     (),     . </li></ul><br><a name="id-3-5"></a><br><h2>  3.5.    </h2><br><p>     .        ,    . </p><br><p>  : </p><br><ul><li>      . </li></ul><br><a name="id-3-6"></a><br><h2>  3.6.      </h2><br><p>       <code>T</code> </p><br><pre> <code class="cpp hljs">T* pt = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> T(<span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span>);</code> </pre> <br><p>     <code>delete</code> </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> pt;</code> </pre> <br><p>     </p><br><pre> <code class="cpp hljs">T* pt = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> T[N];</code> </pre> <br><p>     <code>delete[]</code> </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">delete</span></span>[] pt;</code> </pre> <br><p>     ,    ,     ,  :  ,    ..  . [Meyers1]. </p><br><p>  : </p><br><ul><li>    <code>delete</code> . </li></ul><br><a name="id-3-7"></a><br><h2>  3.7.      </h2><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Certain problems can be created by the operator‚Äôs ‚Äúomnivorous nature‚Äù </font></font><code>delete</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; it can be applied to a type pointer </font></font><code>void*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">or to a pointer to a class that has an incomplete (proactive) declaration. </font><font style="vertical-align: inherit;">The operator </font></font><code>delete</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">applied to the pointer to the class is a two-phase operation, first the destructor is called, then the memory is released. </font><font style="vertical-align: inherit;">If the operator is applied </font></font><code>delete</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to a pointer to a class with an incomplete error declaration, the compiler simply skips the destructor call (although a warning is issued).</font></font> Consider an example: </p><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">X</span></span></span><span class="hljs-class">;</span></span> <span class="hljs-comment"><span class="hljs-comment">//   X* CreateX(); void Foo() {    X* p = CreateX();    delete p; }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This code is compiled, even if the </font></font><code>delete</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">full class declaration is not available </font><font style="vertical-align: inherit;">at the call point </font></font><code>X</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Visual Studio gives the following warning:</font></font><br><p> <code>warning C4150: deletion of pointer to incomplete type 'X'; no destructor called</code> <br> </p><br><p>    <code>X</code>  <code>CreateX()</code> ,   ,  <code>CreateX()</code>    ,   <code>new</code> ,   <code>Foo()</code>  ,     . ,       ,          . </p><br><p>    ,           -.      ,  .       ,      ,   ,   ,   .        [Meyers2]. </p><br><p>  : </p><br><ul><li>   . </li><li>            . </li><li>     . </li></ul><br><a name="id-4"></a><br><h1> 4. ,  </h1><br><a name="id-4-1"></a><br><h2>  4.1.   </h2><br><p>   ++ ,     .      .       .   ,    1.1. </p><br><p>  Let's give an example: </p><br><pre> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::out&lt;&lt;c?x:y;</code> </pre> <br><p>        </p><br><pre> <code class="cpp hljs">(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::out&lt;&lt;c)?x:y;</code> </pre> <br><p>   </p><br><pre> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::out&lt;&lt;(c?x:y);</code> </pre> <br><p> ,  ,  . </p><br><p>         .            <code>&lt;&lt;</code>      <code>?:</code>      <code>std::out</code>  <code>void*</code> .  ++            ,     . -,          ,    .    <code>?:</code>      .       ,     (  ). </p><br><p>   :  <code>x&amp;f==0</code>    <code>x&amp;(f==0)</code> ,   <code>(x&amp;f)==0</code> , ,  ,  .     -  , ,     ,         ,   . </p><br><p>  . /          .  /    ,  /,    . ,     <code>x/4+1</code>  <code>x&gt;&gt;2+1</code> ,   <code>x&gt;&gt;(2+1)</code> ,   <code>(x&gt;&gt;2)+1</code> ,  . </p><br><p> C#      ,   C++,      ,    -      . </p><br><p>  : </p><br><ul><li>   ,     . , ,    . </li></ul><br><a name="id-4-2"></a><br><h2>  4.2.   </h2><br><p> ++     ,      .        .        ,          , .  4.1.    ‚Äî    <code>+</code>  <code>+=</code>   .     . ,   : <code>,</code> (), <code>&amp;&amp;</code> , <code>||</code>  .   ,         (-),            (short-circuit evaluation semantics),        ,        .      &amp; ( ).     &amp;    , ..       . </p><br><p>        ,  -    (-) ,  .      . </p><br><p>  -  ,    ,    .  . [Dewhurst]. </p><br><p> C#    ,     , ,   . </p><br><p>  : </p><br><ul><li>    . </li><li>       . </li></ul><br><a name="id-4-3"></a><br><h2>  4.3.    </h2><br><p>   ++           ,         . (   : <code>,</code> (), <code>&amp;&amp;</code> , <code>||</code> , <code>?:</code> .)     ,  ,   ,    .    : </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x=<span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> y=(++x*<span class="hljs-number"><span class="hljs-number">2</span></span>)+(++x*<span class="hljs-number"><span class="hljs-number">3</span></span>);</code> </pre> <br><p>  <code>y</code>     . </p><br><p>      ,        .  . </p><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">X</span></span></span><span class="hljs-class">;</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Y</span></span></span><span class="hljs-class">;</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">std</span></span></span></span><span class="hljs-function"><span class="hljs-params">::</span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">shared_ptr</span></span></span></span><span class="hljs-function"><span class="hljs-params">&lt;X&gt;, </span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">std</span></span></span></span><span class="hljs-function"><span class="hljs-params">::</span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">shared_ptr</span></span></span></span><span class="hljs-function"><span class="hljs-params">&lt;Y&gt;)</span></span></span></span>;</code> </pre> <br><p>  <code>Foo()</code>   : </p><br><pre> <code class="cpp hljs">Foo(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">shared_ptr</span></span>&lt;X&gt;(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> X()), <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">shared_ptr</span></span>&lt;Y&gt;(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Y()));</code> </pre> <br><p>     :  <code>X</code> ,  <code>Y</code> ,  <code>std::shared_ptr&lt;X&gt;</code> ,  <code>std::shared_ptr&lt;Y&gt;</code> .   <code>Y</code>  ,   <code>X</code>   . </p><br><p>     : </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> p1 = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">shared_ptr</span></span>&lt;X&gt;(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> X()); <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> p2 = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">shared_ptr</span></span>&lt;Y&gt;(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Y()); Foo(p1, p2);</code> </pre> <br><p>     <code>std::make_shared&lt;Y&gt;</code> (    ,     ): </p><br><pre> <code class="cpp hljs">Foo(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::make_shared&lt;X&gt;(), <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::make_shared&lt;Y&gt;());</code> </pre> <br><p>  . [Meyers2]. </p><br><p>  : </p><br><ul><li>    . </li></ul><br><a name="id-5"></a><br><h1> 5.   </h1><br><a name="id-5-1"></a><br><h2>  5.1.    </h2><br><p>  ++98  ,           ( ), ,     (     ,    ).      <code>virtual</code> ,   ,    .   ( ),   ,   ,     . ,     ,  .  ,  ++11    <code>override</code> ,    ,    ,       .          . </p><br><p>  : </p><br><ul><li>    <code>override</code> . </li><li>    .    ,         . </li></ul><br><a name="id-5-2"></a><br><h2>  5.2.       </h2><br><p>            .   ,              ,     .               .    . [Dewhurst]. </p><br><p>  : </p><br><ul><li>           . </li></ul><br><a name="id-5-3"></a><br><h2>  5.3.        </h2><br><p> ,     ,          . , ,     post_construct  pre_destroy. ,      ‚Äî         .    .   ,        :     ( )   . (, ,      .)     ,           ( ),    ( ).  . [Dewhurst]. ,         ,  . </p><br><p>       ‚Äî  -         . </p><br><p> ,   C#  ,     ,   ,     .  C#    :   ,      ,       .  ,           ( ,    ). </p><br><p>  : </p><br><ul><li>        ,     ,   . </li></ul><br><a name="id-5-4"></a><br><h2>  5.4.   </h2><br><p>     ,        ,           <code>delete</code>     .          , -    . </p><br><p>  : </p><br><ul><li>     . </li></ul><br><a name="id-6"></a><br><h1> 6.     </h1><br><p>        ‚Äî      C/C++,        .           .        .     ¬´  ¬ª. </p><br><p>  C#        unsafe mode,    . </p><br><a name="id-6-1"></a><br><h2>  6.1.     </h2><br><p>    /++  ,        : <code>strcpy()</code> , <code>strcat()</code> , <code>sprinf()</code> , etc.    ( <code>std::vector&lt;&gt;</code> , etc.)         ,    . (,         ,         ,     . . <strong>Checked Iterators</strong>  MSDN.)      ,      :   ,      ,     ;     ,      . </p><br><p>  C#,   unsafe mode,      . </p><br><p>  : </p><br><ul><li>    , . </li><li>     . </li><li>   z-terminated   ,    <code>_s</code> (.   ). </li></ul><br><a name="id-6-2"></a><br><h2>  6.2. Z-terminated  </h2><br><p>       ,  .    ,  : </p><br><pre> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">strncpy</span></span>(dst,src,n);</code> </pre> <br><p>  <code>strlen(src)&gt;=n</code> ,  <code>dst</code>     (,      ).      ,       , .  .       ‚Äî       .   <code>if(*str)</code> ,  <code>if(strlen(str)&gt;0)</code> ,           .         [Spolsky]. </p><br><p>  C#  <code>string</code>      . </p><br><p>  : </p><br><ul><li>    . </li><li>     z-terminated   ,    <code>_s</code> (.   ). </li></ul><br><a name="id-6-3"></a><br><h2>  6.3.      </h2><br><p>    <code>...</code>    .      <code>printf</code> - ,     C.          , ,  ,     ,      .         ,       . </p><br><p>  C#    <code>printf</code> ,     . </p><br><p>  : </p><br><ul><li>     . ,  <code>printf</code> -    /. </li><li>   . </li></ul><br><a name="id-7"></a><br><h1> 7.  </h1><br><a name="id-7-1"></a><br><h2>  7.1.   </h2><br><p>  ++     , ,   ,        .  Here is an example: </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> N = <span class="hljs-number"><span class="hljs-number">4</span></span>, M = <span class="hljs-number"><span class="hljs-number">6</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x,                <span class="hljs-comment"><span class="hljs-comment">// 1    *px,              // 2    ax[N],            // 3    *apx[N],          // 4    F(char),          // 5    *G(char),          // 6    (*pF)(char),      // 7    (*apF[N])(char),  // 8    (*pax)[N],        // 9    (*apax[M])[N],    // 10    (*H(char))(long);  // 11</span></span></code> </pre> <br><p>        : </p><br><ol><li>   <code>int</code> ; </li><li>   <code>int</code> ; </li><li>   <code>N</code>   <code>int</code> ; </li><li>   <code>N</code>     <code>int</code> ; </li><li> ,  <code>char</code>   <code>int</code> ; </li><li> ,  <code>char</code>     <code>int</code> ; </li><li>   ,  <code>char</code>   <code>int</code> ; </li><li>   <code>N</code>     ,  <code>char</code>   <code>int</code> ; </li><li>     <code>N</code>   <code>int</code> ; </li><li>   <code>M</code>       <code>N</code>   <code>int</code> ; </li><li> ,  <code>char</code>     ,  <code>long</code>   <code>int</code> . </li></ol><br><p> ,             . (     .) </p><br><p>     <code>*</code>    <code>&amp;</code>     . (    .) </p><br><p>        <code>typedef</code> ( <code>using</code> -). ,       : </p><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">typedef</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">int</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(*P)</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">long</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; PH(<span class="hljs-keyword"><span class="hljs-keyword">char</span></span>);</code> </pre> <br><p>      ,     . </p><br><p>  C#    ,    . </p><br><p>  : </p><br><ul><li>   . </li></ul><br><a name="id-7-2"></a><br><h2>  7.2.   </h2><br><p>           .     </p><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">X</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>:    X(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> val = <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-comment"><span class="hljs-comment">// ... };</span></span></code> </pre> <br><p>     </p><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">X </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">x</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">5</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>;</code> </pre> <br><p>    <code>x</code>  <code>X</code> ,   5.    </p><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">X </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">x</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>;</code> </pre> <br><p>    <code>x</code> ,    <code>X</code>    ,     <code>x</code>  <code>X</code> ,    .     <code>X</code> ,    ,     : </p><br><pre> <code class="cpp hljs">X x; X x = X(); X x{};    <span class="hljs-comment"><span class="hljs-comment">//   C++11</span></span></code> </pre> <br><p>   ,    ,          ,   .         [Sutter]. </p><br><p>  ,  ,   C++     (      ).         . (    C++  .) </p><br><p>  , ,      ,       ,         . </p><br><p>  C#   ,         ,      . </p><br><p>  : </p><br><ul><li>    . </li></ul><br><a name="id-8"></a><br><h1> 8.  </h1><br><a name="id-8-1"></a><br><h2>  8.1.   <code>inline</code>  ODR </h2><br><p>   ,    <code>inline</code> ‚Äî             .  ,     .   <code>inline</code>          (One Defenition Rule, ODR).  .            ,   .          ,  ODR.       <code>static</code> :    ,       ,   .   <code>static</code>  <code>inline</code> .      ,        ,  ODR,     . ,       .   - ,          -.         . </p><br><p>  : </p><br><ul><li>  ¬´¬ª <code>inline</code> .          <code>namespace</code> .      ,     . </li><li>        ‚Äî  <code>namespace</code> . </li></ul><br><a name="id-8-2"></a><br><h2> 8.2.   </h2><br><p>        .        .    ,    ,     ,   ,      . </p><br><p>  : </p><br><ul><li>     ,     . </li><li>  ,     :  () ,    -. </li><li>            <code>using</code> -: <code>using namespace <i></i></code> ,   <code>using</code> -. </li><li>           . </li></ul><br><a name="id-8-3"></a><br><h2> 8.3.  <code>switch</code> <br></h2><br><p>   ‚Äî  <code>break</code>    <code>case</code> . (  .)  C#     . </p><br><p>  : </p><br><ul><li>   . </li></ul><br><a name="id-8-4"></a><br><h2>  8.4.     </h2><br><p>  ++    ,      ‚Äî     , ‚Äî       .    (  <code>class</code>  <code>struct</code> )    ,         . (      ,      #  Java.)    ‚Äî   ,     . </p><br><ol><li>      ,   .           (  <code>std::string</code> , <code>std::vector</code> , etc.),    ,           . </li><li>    ,        ,     . </li><li>          ,      (slicing),      ,       . </li></ol><br><p>     ,      ,  ,     .      . ,       ,         . ,          .           .    ‚Äî     ( <code>=delete</code> ),   ‚Äî     <code>explicit</code> . </p><br><p>  C#      ,           . </p><br><p>  : </p><br><ul><li>   ,     . </li><li>       . </li></ul><br><a name="id-8-5"></a><br><h2> 8.5.   </h2><br><p>  ++         .     ,     . -       (    ),   ++11   ,        ,   ,           . </p><br><p>      C++   <a href="https://habr.com/post/425837/"></a> . </p><br><p>  C#   ,       .        ,     .        (using-)      Basic Dispose. </p><br><p>  : </p><br><ul><li>  -       . </li></ul><br><a name="id-8-6"></a><br><h2>  8.6.     </h2><br><p>     ¬´¬ª     .     ,  , C++ , STL-   - . </p><br><p>       .         .     ,        .      .        ¬´¬ª,      .          COM-      . (,    .)      ,    C++   .      ‚Äî      .        .            .  ,      (¬´¬ª     )    ,      .        . </p><br><p>  #    ,     .     ‚Äî    . </p><br><p>  : </p><br><ul><li>   . </li><li>        . </li></ul><br><a name="id-8-7"></a><br><h2> 8.7.   </h2><br><p>  C++      ,     :   ,    ,   . (     !)      .        ,      .     ,   .     ,   ,     . (,           .) </p><br><p>      C (    ),   C++       C  (   <code>extern "C"</code> ).      C/C++ . </p><br><p>          -.   <code>#pragma</code> -    ,    ,   . </p><br><p>        , ,    ,    . </p><br><p>     , ,    COM. COM-,    ,   (     ,      ).  COM     ,   ,     . </p><br><p>  C#     . ,   ‚Äî    ,      C#,    C#  C/C++. </p><br><p>  : </p><br><ul><li>        . </li></ul><br><a name="id-8-8"></a><br><h2> 8.8.  Macros </h2><br><p>        ,         .    ,       .  C++    .  Instead </p><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> XXL 32</span></span></code> </pre> <br><p>   </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> XXL=<span class="hljs-number"><span class="hljs-number">32</span></span>;</code> </pre> <br><p>   .       <code>inline</code>   . </p><br><p>  #   (   ). </p><br><p>  : </p><br><ul><li>       . </li></ul><br><a name="id-conclusion"></a><br><h1> 9.  </h1><br><ol><li>      .       .   .      ,       . </li><li>    . </li><li>    .   ++      ‚Äî ++11/14/17. </li><li>   - ,  -   . </li><li>        . </li></ol><br><a name="id-refs"></a><br><h1>   </h1><br><div class="spoiler">  <b class="spoiler_title">List</b> <div class="spoiler_text"><p> [Dewhurst] <br> ,  .   C++.         .: .  from English ‚Äî .:  , 2012. </p><br><p> [Meyers1] <br> , .   C++. 55        .: .  from English ‚Äî .:  , 2014. </p><br><p> [Meyers2] <br> , .    C++: 42    C++11  C++14.: .  from English ‚Äî .:  ¬´.. ¬ª, 2016. </p><br><p> [Sutter] <br> , .     C++.: .  from English ‚Äî :  ¬´.. ¬ª, 2015. </p><br><p> [Spolsky] <br> , .   .: .  from English ‚Äî .: -, 2008. </p><br></div></div><br><br></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/428898/">https://habr.com/ru/post/428898/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../428888/index.html">qml: power and simplicity</a></li>
<li><a href="../428890/index.html">The whole truth about the RTOS. Article # 18. Event flag groups: helper services and data structures</a></li>
<li><a href="../428892/index.html">How to create a game AI: guide for beginners</a></li>
<li><a href="../428894/index.html">VAT on domestic purchases</a></li>
<li><a href="../428896/index.html">Neural networks against hentai censorship</a></li>
<li><a href="../428900/index.html">Robots on wheels begin shipping goods to residents of the United States and Britain</a></li>
<li><a href="../428902/index.html">NFC wireless tags</a></li>
<li><a href="../428904/index.html">Fintech-digest: robotization of the Central Bank, Ethereum 2.0, control of cryptocurrency by Rosfinmonitoring and trends in Fintech</a></li>
<li><a href="../428906/index.html">Creating Puzzle Games on Puzzle Script</a></li>
<li><a href="../428908/index.html">Frostpank: disassemble mechanics</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>