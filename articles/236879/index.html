<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How not to do federal information systems</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article will be of interest to a narrow circle of Habr's readers ‚Äî developers of federal information systems and a wide audience ‚Äî those who alre...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How not to do federal information systems</h1><div class="post__text post__text-html js-mediator-article">  This article will be of interest to a <i>narrow</i> circle of Habr's readers ‚Äî developers of federal information systems and a wide audience ‚Äî those who already have, have to, or have to interact in the future. <br>  The narration will be conducted on the example of <a href="http://ru.wikipedia.org/wiki/%25D0%25A4%25D0%2598%25D0%25A1_%25D0%2595%25D0%2593%25D0%25AD_%25D0%25B8_%25D0%25BF%25D1%2580%25D0%25B8%25D1%2591%25D0%25BC%25D0%25B0">FIS GIA and reception</a> (this name was assigned by D. Medvedev on August 31, 2013, the previous year and a half the system was known by the name given by V. Putin - FIS EGE and reception). <br><br><img src="https://habrastorage.org/files/3a5/d57/73b/3a5d5773b9cd4b12b9cc125f93eb7b3f.png" alt="image"><br><a name="habracut"></a><br><h4>  What is it all about and who needs it? </h4><br>  The federal information system to ensure the state final certification of students and the admission of citizens to educational organizations ( <a href="http://www.rg.ru/2013/09/06/obr-dok.html">full name by reference</a> ) is a system created for the benefit of Rosobrnadzor, to which universities and colleges for 3 years must enter information about the admission campaign, including personal data of all applicants .  Namely, before the start of admission there in a certain format, the number of places, lists of admission tests, permitted benefits, and in time - data on applicants' applications, including full name and passport details, are transmitted practically in real time. <br><br>  Theoretically, the supervisory authority thus checks to see if a procedure approved by the Ministry is not violated.  In practice, the penalties so far only happened for non-transfer of data to the system. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Interaction of educational institutions with FIS </h4><br>  All institutions of higher and secondary vocational education are obliged to transmit information on the admission process to FIS every day.  For this purpose, both a web interface for data input and viewing, and an automated interaction service for packet transmission in XML format are provided.  Theoretically, everything is beautiful, but there are thick nuances.  The first is the speed of interaction: in manual mode, it takes up to 20 minutes to enter a single application at peak hours, and in automated mode, packages can wait for processing in a queue for days.  The second is errors in the operation of the software, generating contradictions in the data.  But first things first. <br><br><h4>  Data Model Design </h4><br>  In the subject area of ‚Äã‚Äãthe admission campaign, one applicant can submit up to three applications to the university.  In the case of transferring data to XML, various entities are represented as tree elements.  How would you solve the problem of submitting applications in XML?  Obviously, the applications are tied to the applicant and it is logical to place information about the identity of the applicant in a higher level element, and on the applications filed by him - in nested elements.  However, the FIS developers did the opposite: information about the applicant is repeated in each application and may even contradict each other, and then several lines appear in the web interface with the same full name, but different, for example, passport data.  At the same time, the links from all such lines lead to the same card, in which only one random passport of several contradictory ones is displayed. <br><br>  More from the wonderful.  It is clear that only data exchange is performed in XML, and the internal representation in the system is still relational and is stored in a decent DBMS.  And then a very good idea arises - to add to the exchange protocol the primary keys of the entities used in the university systems that are the data sources.  After all, this should simplify the identification of new entities and the update of old ones.  But should it be assumed that all client systems have a similar data model and is it relational in them at all?  Certainly, university programmers of data exchange clients will have to face the need to generate a unique and immutable identifier where it has never been, or to encounter an experimental error in which the identifier of the certificate and, for example, the olympiad diploma cannot be the same (apparently, in FIS Documents are stored in one table, but where is this reflected in the documentation?) <br><br><h4>  Documentation </h4><br>  Competent documentation for the publication in the production system, which should dock hundreds and thousands of disparate systems smaller - the key to success.  It is sad that the FIS developers could not solve this problem even after 3 years, although there is still some progress.  The published XML structure in the form of a PDF document and an XSD schema is certainly necessary.  But it is important to at least check that XSD is, firstly, valid, and secondly, it does not conflict with the reference XML document.  Otherwise, hundreds of third-party developers will fix the clumsy regex and annoying length = "50" instead of maxLength = "50" instead of those to whom it is supposed to. <br>  In addition, the formal description of the exchange protocol is categorically insufficient, because in the case of a complex data structure, the system will not accept any valid packet, but only one that satisfies a number of additional checks for adequacy.  One of the examples with foreign keys is shown above. <br><br><h4>  Limitations and checks when interacting with external clients </h4><br>  In general, do not cross the thin line between the necessary checks and redundant restrictions that do not miss the correct data - almost like to stay on the blade of a knife.  And the main thing here is a thorough understanding of the subject area before starting development.  In particular, the developers of FIS this year began to cut the admission of applications for zero quotas quite acceptable in some cases.  When the goal is to collect information, it is better to allow the loading of seemingly incorrect data for further analysis, and cut off only obviously incomplete ones. <br><br><h4>  Errors in the system and recommendations to the developers of the mating systems </h4><br>  In particular, FIS and, I suspect, state systems in general are a remarkable example of unstable ‚Äúpartners‚Äù to hone skills of interaction with remote systems when everything should be checked.  For example, XML is sent in an HTTP request and another XML is expected in response, but: <br><br>  1. It may just break the network connection. <br>  2. There may be a timeout and, by the way, it is better to make it reasonable in advance, because otherwise waiting for an answer may take hours. <br>  3. In response, it can come not XML at all, but anything. <br>  4. XML may come that does not correspond to the scheme declared by the developer. <br>  5. XML will come, but the data in it will be inconsistent.  Example - the request sent 100 objects for import, the response is expected to be the number of successfully imported and a list of unloaded due to errors.  In actual fact, only 83 objects turn out to be in response, and where to look for the remaining 17 and which eventually are loaded at all is a mystery. <br><br>  Theoretically, all the situations described are banal, but far from any system they all occur regularly with high probability. <br><br><h4>  Organization of connection to the system and protection of PD </h4><br>  For those who read up to this paragraph - the most interesting.  FIS GIA and admission is located in the closed network of the Federal Testing Center, to which universities are connected via ViPNET VPN clients.  In addition, for decent money, a unique solution is being imposed on a little-known monopolist company for filtering data on the client side, "so as not to extricate too much from the system with the personal data of millions of citizens."  There is no explanation why this filtering should be done for each client, and not the only time on the server side.  By indirect evidence, this unique solution is only a proxy server that filters valid URLs when working with an FIS server. <br><br>  However, recently <a href="http://forum.ege.edu.ru/index.php%3Fs%3D8ec315c5d9dd09ff2c8ad12a99a62a30%26showtopic%3D25223">inquiring minds have</a> noticed that if you accidentally (or intentionally) specify another package identifier in viewing the results of importing packages in the web interface, it will open!  And it will not only open, but also allow you to download an XML file with all the data of all applicants, including passports, data on previous education, information on benefits, including  medical, etc.  <b>Thus, any user who has access to FIS has the opportunity to obtain a simple search of the data of a significant part of applicants for the last 3 years.</b> <br><br><img src="https://habrastorage.org/files/03c/638/5f0/03c6385f05f44c6ba72507a853218c5a.png"><br><br><h4>  Summary </h4><br>  In conclusion, some banalities suggest themselves, but since thousands and thousands of IT specialists will have to face this FIS and her ilk, I think you can write them. <br><br>  For those who have to interact with insufficiently thought-out, poorly documented specific information systems made under the state order - be prepared for everything and immediately lay into the exchange algorithm all conceivable and unthinkable errors, you can not trust in anything.  Even in the face of lack of development time, it is better to lay a maximum of checks. <br><br>  Good luck to you! </div><p>Source: <a href="https://habr.com/ru/post/236879/">https://habr.com/ru/post/236879/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../236867/index.html">How Om Nom from Cut the Rope 2 moved to Amazon Fire Phone</a></li>
<li><a href="../236871/index.html">HP Unified Wired and Wireless Access</a></li>
<li><a href="../236873/index.html">A battery-free pacemaker works like a clock</a></li>
<li><a href="../236875/index.html">Django + API Vkontakte: post entries with attachments, get a list of groups and entries</a></li>
<li><a href="../236877/index.html">Discussion of the prohibition of Bitcoin in Russia continues and goes to a new level</a></li>
<li><a href="../236881/index.html">An open letter from Autodesk CIS CEO to Russian customers and partners</a></li>
<li><a href="../236883/index.html">Why small technology companies have stopped going IPO</a></li>
<li><a href="../236885/index.html">The first intermediate results of the competition Android-developers Moverio Apps Market</a></li>
<li><a href="../236887/index.html">The results of the survey ‚ÄúHow I work‚Äù and some disappointing conclusions</a></li>
<li><a href="../236889/index.html">Opera 25 Beta: Bookmarks and New Express Panel</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>