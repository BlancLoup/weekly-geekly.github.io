<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>3CX Integration with 1C: Trade Management - Configuration Extension Installation Method</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Due to numerous requests from partners and customers, we have released 3CX v15.5 server integration with the popular 1C: Enterprise system. 

 Integra...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>3CX Integration with 1C: Trade Management - Configuration Extension Installation Method</h1><div class="post__text post__text-html js-mediator-article">  Due to numerous requests from partners and customers, we have released 3CX v15.5 server integration with the popular 1C: Enterprise system. <br><br>  Integration is an extension of the typical configuration ‚ÄúTrade management, edition 11 (11.4.3.167) for Russia‚Äù (the <a href="">.cfe file</a> ), which is installed in the configuration in the standard way (see below).  From the 3CX server side, a CRM template is loaded to interact with the web service of the published 1C configuration. <br><br>  Expansion of the 1C configuration: Trade Management implements the REST API, which maps incoming call numbers with counterpart numbers in 1C.  When a call arrives at 3CX, it requests RAC from 1C the counterparty data associated with the Caller ID of the subscriber via REST.  If the counterparty is found, its data is added to the 3CX Contacts and displayed in the 3CX web client (first and last name). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      If Enable call journaling is enabled in 3CX, 1C will keep a call log in 1C. <a name="habracut"></a><br><br><h3>  1C: Enterprise Configuration Requirements </h3><br>  To use the extension, you need a version of the 1C: Enterprise platform not lower than 8.3.11.  The typical configuration ‚ÄúTrade management, edition 11‚Äù (11.4.3.167) is delivered in the mode of compatibility with the platform 8.3.10.  To use the 3CX extension, you must set the configuration compatibility mode to Not use.  If the configuration is on support, you should enable the ability to change the configuration. <br><br>  We show it in the screenshots: <br><br>  In Configurator 1C, go to Configuration - Support - Configure Support. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dd8/4f7/221/dd84f7221ce8952dbf7e63d462a0f27f.png"><br><br>  Click the Enable Change button and confirm in the pop-up window. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/774/775/e7d/774775e7ddbec8a9508b5231c6eae5b5.png"><br><br>  In the Configure Support Rules window, select Objects with the "Changes allowed" rule - The supplier's object is edited while maintaining support and Objects with the "Changes are not recommended" rule - The supplier's object is not edited. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ab9/9e4/afe/ab99e4afea19cf2c65fee167cd68f058.png"><br><br>  Right-click on the root section of Trade Management, select Properties and set the Compatibility Mode to Do not use. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9f2/63a/90b/9f263a90b8be85c746335c5446233fe9.png"><br><br>  Select Configuration - Update Database Configuration. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e17/2be/cdb/e172becdbb2db3034a9d30ac9a3c54aa.png"><br><br>  And click Accept to complete the changes. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cfe/3a5/740/cfe3a574011492d196b5402d5cfea0b0.png"><br><br><h3>  Connection extensions to interact with 3CX </h3><br>  Close the Configurator and run the 1C configuration in Enterprise mode.  In the top left menu, select All Features ... <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3bd/18f/64c/3bd18f64ce5e40abbf1086f193623d1a.png"><br><br>  Select Manage Configuration Extensions. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c73/897/66c/c7389766ccaed307412c87e20e62be44.png"><br><br>  Make sure that the Scope is set when installing the configuration extension - <a href="">Infobase</a> , click the Add button and add the extension, specifying the <a href="">file 3cx1cextension.cfe</a> from the archive. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e60/3d9/c11/e603d9c117e64665d54940f1c4151d0f.png"><br><br>  After installing the extension, the Manage Configuration Extension tab should look like the one below. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fc0/47a/49e/fc047a49ea0b67fa0880c3dc0233c9d3.png"><br><br><h3>  Publishing an HTTP service of the 1C: Enterprise extension on a web server </h3><br>  Publication of the 1C configuration on the web server is performed in a standard way, taking into account the features of the software environment. <br><br><ul><li>  The procedure of publication is described in detail in 1C: ITS at this <a href="https://its.1c.ru/db/v837doc">link</a> . <br></li><li>  Instructions for configuring web services for 1C v8.3 and IIS 8.5 on the resource <a href="https://infostart.ru/public/275820/">Infostart</a> . <br></li><li>  Article with comments <a href="http://tavalik.ru/nastrojka-veb-dostupa-k-bd-1spredpriyatie-na-iis/">Publication of 1C: Enterprise 8.3 databases on IIS web server in Microsoft Windows Server 2008/2012</a> . <br></li></ul><br>  When publishing, set the option Publish HTTP extension services by default. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/83e/d18/692/83ed18692599571142b1d0b8a0c21364.png"><br><br>  If there are users in the configuration (in rare cases, configurations without users are used), it is necessary to change the connection string to the 1C: Enterprise database. <br><br>  Consider this with an example of an IIS web server: <br><br>  In the publication directory, find the file default.vrd. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/170/04b/674/17004b67411136ac24f1f1be4f64af96.png"><br><br>  Change the connection string in it by adding the credentials of the user on whose behalf the database will respond to HTTP requests.  The connection string should look something like this. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ecc/96e/7a3/ecc96e7a37895fe1a51560454c6a8cd3.png"><br><br><h3>  Installing the CRM 1C: Enterprise XML template in 3CX </h3><br>  Open the 3CX management interface and go to Settings - CRM Integration - Server Side Tab. <br><br>  In the Available CRM Integration section, select 1C and click Download Selected. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d82/877/15f/d8287715fa623a980ab1371ff0e07cf0.png"><br><br>  Then in the Domain Part field, specify the URL of the published HTTP service of the 1C configuration. <br>  To account for calls in 1C, enable the Enable call journaling option. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6f3/78a/46e/6f378a46eab8127c9dea16c0cdef6c62.png"><br><h3>  1C: Enterprise integration capabilities with 3CX </h3><br>  As mentioned above, the extension compares incoming Caller ID with counterparties in the 1C database.  If a match is found, the 3CX web client will display the caller's first and last name. <br><br><h4>  Call accounting in 1C </h4><br>  If call logging is enabled in the CRM template, 1C will keep a log of incoming and outgoing calls with the following parameters: <br><br><ul><li>  Call date <br></li><li>  Call type: incoming / outgoing / missed by an extension / no answer from an outside party <br></li><li>  Call duration <br></li><li>  Caller ID <br></li><li>  Extension number (extension number 3CX) <br></li><li>  Counterparty 1C (if a match is found) <br></li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/25e/4ea/958/25e4ea958461fddcb3e2ad74df646931.png"><br><br>  In the call log, you can set the conditions for selecting and sorting the columns you are interested in to quickly analyze the situation of missed or failed calls in the organization. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/337/d30/fe0/337d30fe0686f55bc823bc62d832c88e.png"><br><br><h4>  Technical log of interaction 3CX and 1C </h4><br>  The technical journal 3CX keeps a log of all 3CX calls to 1C via the REST API. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/45a/3ae/2d8/45a3ae2d859a476bce2e370ad68f21d6.png"><br><br>  This log can be used for diagnostics by the administrator or 1C programmer. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/677/e6e/169/677e6e169544975c37523367536e85d2.png"><br><br><h3>  Downloads and Documentation </h3><br><ul><li>  <a href="">Expansion of a typical 1C: Enterprise configuration ‚ÄúTrade management, edition 11 (11.4.3.167) for Russia‚Äù</a> <br></li><li>  <a href="https://www.3cx.ru/topic/%25D1%2581%25D0%25B5%25D1%2580%25D0%25B2%25D0%25B5%25D1%2580%25D0%25BD%25D0%25B0%25D1%258F-crm-%25D0%25B8%25D0%25BD%25D1%2582%25D0%25B5%25D0%25B3%25D1%2580%25D0%25B0%25D1%2586%25D0%25B8%25D1%258F-3cx-%25D1%2581-1%25D1%2581-beta/">Discussion of integration in the 3CX Forum</a> <br></li></ul><br><h3>  Frequently asked Questions </h3><br><ol><li>  What happens if the client is not found?  At the moment, the 1C platform does not have the ability to call the form to add a new client via an HTTP link. <br></li><li>  If the contact is displayed in the web client, is it possible to open its full card in 1C?  At the moment, the 1C platform does not have the ability to call a client card via an HTTP link. <br></li><li>  Can I make an outgoing call from a thin or thick client 1C?  This is possible, but for this to happen, appropriate support must be provided by the 3CX REST API. <br></li><li>  Is it possible to redirect a call from 1C or to implement a bunch of ‚Äúclient - fixed manager‚Äù?  This is possible, but for this to happen, appropriate support must be provided by the 3CX REST API. <br></li><li>  Is it possible to implement an on-line monitoring panel (telephony panel) of calls in 1C?  At the moment when an incoming call 3CX transmits only Caller ID of the subscriber without additional service information (for example, busy specific line, extension number of the call recipient, etc.).  Additional service information is transmitted after the end of the call.  In addition, the dashboard implies user interaction with calls, but this requires support from the 3CX REST API. <br></li><li>  Can I see the missed calls in the counterparty card?  Use the Call Log in 1C, which implements the extension.  In it, you can quickly select your counterparties. <br></li></ol></div><p>Source: <a href="https://habr.com/ru/post/423397/">https://habr.com/ru/post/423397/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../423383/index.html">Modifying ajax js for ajax Asp .net mvc</a></li>
<li><a href="../423385/index.html">Course "Basics of Programming"</a></li>
<li><a href="../423391/index.html">CLRium # 4: Community .Net Meeting</a></li>
<li><a href="../423393/index.html">Rule-based neural networks</a></li>
<li><a href="../423395/index.html">Tesla set a quarterly record for the volume of produced electric cars</a></li>
<li><a href="../423399/index.html">An example of a simple versioning of PostgreSQL entries</a></li>
<li><a href="../423403/index.html">Test drive VW e-Golf, Nissan Leaf and Tesla Model 3</a></li>
<li><a href="../423405/index.html">We study Adversarial Tactics, Techniques & Common Knowledge (ATT @ CK). Enterprise Tactics. Part 1</a></li>
<li><a href="../423407/index.html">I‚Äôm actually afraid of children, my dear sir, are noisy, cruel and selfish, and if children rule the state?</a></li>
<li><a href="../423409/index.html">How to make the moon rover</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>