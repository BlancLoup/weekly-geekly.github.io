<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>A soft introduction to Coq: use tactics</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Proof by simplification 
 So, in the previous parts we defined new data types and functions on them. It is time to address the question of how to form...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>A soft introduction to Coq: use tactics</h1><div class="post__text post__text-html js-mediator-article"><h4>  Proof by simplification </h4><br>  So, in the previous parts we defined new data types and functions on them.  It is time to address the question of how to formulate and prove their properties and behavior.  In a sense, we have already begun to do this ‚Äî in the first part, we wrote a kind of unit test using the <code>Example</code> keyword, which contained some statements about the behavior of a certain function applied to a specific set of arguments.  Using the definition of a function, Coq simplifies the expression and checks its left and right parts for equality. <a name="habracut"></a><br><br>  This kind of evidence can be used for a fairly wide range of tasks.  Let us show that 0 is a neutral element for the left addition operation: <br><br><pre> Theorem plus_O_n: forall n: nat, 0 + n = n.
 Proof.
   simpl.  reflexivity.  Qed.
</pre><br>  The <code>reflexivity</code> command implicitly simplifies both sides of an expression before comparing. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The keywords <code>simpl</code> and <code>reflexivity</code> are examples of tactics.  The main goal of tactics is to tell Coq how to check the correctness of the necessary statements.  There is a rather narrow circle of problems whose correctness can be automatically proved.  Prove that 2 + 2 = 4: <br><br><pre> Coq &lt;Lemma using_auto: 2 + 2 = 4.
 1 subgoal
  
   ============================
    2 + 2 = 4

 using_auto &lt;Proof.  auto.  Qed.

 Proof completed.

 auto.

 using_auto is defined
</pre><br>  In most cases, it is necessary to use tactics. <br><br><h4>  <code>intros</code> tactics </h4><br>  In addition to unit tests that apply functions to a set of arguments, we will be interested in proving the properties of programs whose formulation contains mathematical quantifiers (for example, ‚Äúfor all natural numbers <code>n</code> ‚Äù) and hypotheses (for example, ‚Äúlet <code>a = b</code> ‚Äù).  The <code>intros</code> tactic allows <code>intros</code> to transfer quantifiers and hypotheses from statements to the context of current arguments.  Let us prove that the result of multiplying the left of any natural number by zero is zero: <br><br><pre> Theorem mult_zero: forall n: nat, 0 * n = 0.
 Proof.  intros n.  reflexivity.  Qed.
</pre><br><h4>  Proof overwrite </h4><br>  Consider a more interesting example: <br><br><pre> Theorem plus_id_example: forall nm: nat,
 n = m -&gt;
 n + m = m + n.
</pre><br>  Instead of formulating and proving a universal statement for any <code>n</code> and <code>m</code> , this theorem speaks of narrower properties that take place for <code>n = m</code> .  Since <code>n</code> and <code>m</code> are arbitrary numbers, we cannot use simplification for the proof.  Instead, we will prove that replacing <code>m</code> with <code>n</code> in the condition (assuming <code>n = m</code> ), we obtain the correct identity.  The tactic that tells Coq to make this change is called <code>rewrite</code> : <br><br><pre> Proof.
  intros n m.
  intros H.
  rewrite -&gt; H.
  reflexivity.  Qed.
</pre><br>  In order to better understand what happened here, I strongly recommend that you run this example in CoqIDE and go through this evidence step by step. <br><br>  So, we formulate the theorem and begin the proof: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2b0/060/aaa/2b0060aaaedd5a0a2709802ea0fa4dd0.png" alt="image"><br><br>  The next step is to transfer the expressions from under the quantifiers of universality and hypothesis into the current context of the proof (in the upper right part of CoqIDE, we observe how the current context of the proof changes): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/073/072/0bc/0730720bc5143e44f4701375f064f287.png" alt="image"><br><br>  We rewrite the current goal of the proof: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/122/1ba/ad7/1221baad782468d3ca360db46590e180.png" alt="image"><br><br>  We finish the proof with simplification: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/eae/aae/a49/eaeaaea49b85e82883ba3bb7882a1422.png" alt="image"><br><br><h4>  Conclusion </h4><br>  In the next part, we will introduce more advanced tactics and start working with data structures in Coq.  Once again I draw the reader's attention to the importance of self-launching examples in CoqIDE. <br><br>  Links to previous parts: <br><ol><li>  <a href="http://habrahabr.ru/post/182442/">Start</a> </li><li>  <a href="http://habrahabr.ru/post/182748/">Inductive definitions</a> . </li></ol></div><p>Source: <a href="https://habr.com/ru/post/182936/">https://habr.com/ru/post/182936/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../182922/index.html">Lawsuit for $ 3 billion against the NSA, Obama, Verizon and the US Justice Department</a></li>
<li><a href="../182924/index.html">Several different VPN connections with local DNS servers</a></li>
<li><a href="../182928/index.html">Apple has provided the ability to transfer applications from one developer to another</a></li>
<li><a href="../182930/index.html">It is contagious: tightening the screws in the information space of Ukraine</a></li>
<li><a href="../182932/index.html">IOS 7 for iPhone Review</a></li>
<li><a href="../182938/index.html">How we built a fail-safe data center level TIER-III</a></li>
<li><a href="../182942/index.html">Edward Snowden checked out of a hotel in Hong Kong and hid</a></li>
<li><a href="../182944/index.html">Browser game "Cyberset" - a socio-economic strategy</a></li>
<li><a href="../182946/index.html">Sony has finally shown a PlayStation 4</a></li>
<li><a href="../182948/index.html">Dell Alienware M18X laptop video review</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>