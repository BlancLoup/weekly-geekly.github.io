<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>AMQP in Russian</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today, quite a bit of information about the AMQP (Advanced Message Queueing Protocol) protocol and its application, especially in Russian. In general,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>AMQP in Russian</h1><div class="post__text post__text-html js-mediator-article">  Today, quite a bit of information about the <a href="http://www.amqp.org/">AMQP</a> (Advanced Message Queueing Protocol) protocol and its application, especially in Russian.  In general, it is a wonderful, already widely supported open protocol for transferring messages between system components with low latency and at high speed.  In this case, the semantics of messaging is customized to the needs of a particular project.  Such solutions existed before, but this is the first standard for which there are a large number of free implementations. <br><br>  The basic idea is that individual subsystems (or independent applications) can exchange messages in an arbitrary manner through an AMQP broker that performs routing, it is possible to guarantee delivery, distribution of data streams, and subscription to the desired types of messages.  As classical examples, financial applications are usually cited, for example, related to the delivery of information about securities rates to consumers in real time, it is also possible RPC-interaction of two subsystems that have no connection with each other (interaction through a common AMQP protocol) and so further and the like. <br><br>  Today, the topic of real-time information delivery is extremely relevant (just recall at least Twitter, Google Wave).  Here, messaging systems can serve as an internal data exchange mechanism that ensures the delivery of data (data changes) to customers. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      My goal today is not to talk about how to write applications for AMQP.  I just want to tell you a little about the fact that this is not at all scary, not very difficult, and it really works, although the standard is still in development, new versions of the protocol, brokers, etc. come out.  But this is already quite production-quality.  I'll tell you only basic tips to help ‚Äúenter‚Äù the protocol. <br><a name="habracut"></a><br>  For a start, a small collection of links (mostly in English): what is <a href="http://www.zeromq.org/whitepapers:amqp-analysis">messaging in general and</a> why AMQP is like that ( <a href="http://www.zeromq.org/whitepapers:amqp-analysis">Messaging in general and AMQP design</a> );  comparison of different messaging implementations, in particular those based on AMQP ( <a href="http://wiki.secondlife.com/wiki/Message_Queue_Evaluation_Notes">Message Queue Comparison</a> );  Thrift-enabled AMQP client library for Twisted Framework (Python) ( <a href="http://us.pycon.org/2009/conference/schedule/event/28/">Thrift, AMQP in Twisted</a> );  Red Hat's guide on what is messaging and how to work with AMQP describes their ‚Äúboxed‚Äù product based on AMQP, but is also suitable for any AMQP brokers ( <a href="http://www.redhatpress.org/docs/en-US/Red_Hat_Enterprise_MRG/1.0/pdf/Messaging_Tutorial/Messaging_Tutorial.pdf">AMQP Programming Tutorial for C ++, Java, and Python</a> );  there is a lot of documentation, descriptions of architectural solutions on the <a href="http://www.zeromq.org/">ZeroMQ</a> website, which is not exactly an AMQP broker, but a common architecture, implementation details are of particular interest;  Duncan McGregor's review article on txAMQP and AMQP in general ( <a href="http://feedproxy.google.com/~r/ElectricDuncan/~3/NKiCEOnzXe0/sinfonia-on-messaging-with-txamqp.html">A Simfonia on Messaging with txAMQP</a> , <a href="http://feedproxy.google.com/~r/ElectricDuncan/~3/f3QMwXP6OwI/sinfonia-on-messaging-with-txamqp-part.html">II</a> , <a href="http://feedproxy.google.com/~r/ElectricDuncan/~3/Xi5GBHBooNg/sinfonia-on-messaging-with-txamqp-part_18.html">III</a> ). <br><br>  Next you need to select the AMQP broker that you will use.  When choosing, you should consider the server‚Äôs actual characteristics: speed, reliability, ease of installation and support, but also look carefully at the broker‚Äôs version of the AMQP protocol ‚Äî it must match the version of the client‚Äôs AMQP library.  From brokers, I would advise <a href="http://www.rabbitmq.com/">RabbitMQ</a> , written in Erlang, and <a href="http://qpid.apache.org/">Qpid</a> , C ++ (AMQP 0-10) and Java (0-8, 0-9) versions. <br><br>  The AMQP protocol itself is quite interesting: at the lowest level, the coding format of the data into a binary form for transmission over a TCP connection is defined, the format for transferring RPC requests between the server and the client is above.  The semantics of working with messages, creating queues, etc.  described in the XML specification, which essentially sets the RPC interface of the server and the client (examples of such XML files for versions <a href="">0-8</a> and <a href="">0-10</a> ).  This XML is the latest and final protocol specification.  Moreover, protocol versions 0-8 and 0-10 differ so much that it is hardly possible to support them simultaneously in one program.  Even more interesting, sometimes these spec files for different AMQP brokers, formally supporting the same version of the protocol, are so different that they are not interchangeable.  But these are rather minor technical problems. <br><br>  AMQP is based on three concepts: <br><ol><li>  Message (message) is a unit of transmitted data, its main part (content) is not interpreted by the server in any way, structured headers can be attached to the message. </li><li> Exchange point - messages are sent to it.  The point of exchange distributes messages in one or more queues.  However, messages are not stored at the exchange point.  Exchange points are of three types: fanout - the message is transmitted to all queues attached to it;  direct - the message is transferred to the queue with the same name as the routing key (the routing key is specified when sending the message);  topic is something between fanout and exchange, the message is sent to the queues for which the mask matches the routing key, for example, <code>app.notification.sms.*</code> - all messages sent with the keys beginning with <code>app.notification.sms</code> will be delivered to the <code>app.notification.sms</code> . </li><li>  Queue ‚Äî messages are stored here until collected by the client.  The client always picks up messages from one or more queues. </li></ol><br>  At AMQP, I was attracted by an efficient binary protocol, protocol focusing on minimal latency and configuration flexibility.  I used it to send messages to all servers of the cluster (fanout exchange) and to organize analogues of ‚Äúmailboxes‚Äù to which messages addressed to specific clients (direct exchange) are delivered.  To receive messages, there is no need to poll the server, it is enough to subscribe to messages from the queue, and the server will transmit them at the moment they appear. <br><br>  As the client library, I chose the txAMQP library for Twisted Framework (Python).  In general, everything works, but somewhere you need small ‚Äúfinishing touches‚Äù and ‚Äúspin-ups‚Äù, which I plan to publish on a launchpad.  In AMQP and around AMQP there is a lot of interesting and promising.  For example, the RabbitMQ broker can scale and work in a single cluster.  I think this is a very useful and promising technology. </div><p>Source: <a href="https://habr.com/ru/post/62502/">https://habr.com/ru/post/62502/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../62489/index.html">Redsn0w - iPhone OS 3.0 jailbreak, iPhone 2g & 3g unlock (Mac & Win)</a></li>
<li><a href="../62490/index.html">Your choice? And why?</a></li>
<li><a href="../62495/index.html">Shortcut.ru</a></li>
<li><a href="../62498/index.html">Profit sharing</a></li>
<li><a href="../62501/index.html">Bing is coming?</a></li>
<li><a href="../62503/index.html">Methods of binding a user to his IP on the network</a></li>
<li><a href="../62504/index.html">Germany has quietly and imperceptibly passed a law on barriers to the Internet</a></li>
<li><a href="../62507/index.html">iPhone. Year of practical use</a></li>
<li><a href="../62508/index.html">Paid name change on vKontakte</a></li>
<li><a href="../62509/index.html">How young we were‚Ä¶</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>