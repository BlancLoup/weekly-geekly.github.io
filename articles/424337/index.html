<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Code in the style of Ruby: competently, beautifully and rationally. Beginner Example</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This is a translation of Michael McKee's post . Michael is a professional programmer who from time to time shares his experience and skills with colle...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Code in the style of Ruby: competently, beautifully and rationally. Beginner Example</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/9c1/f4c/f22/9c1f4cf227bf427254c84cd607314324.jpg" alt="image"><br><br>  This is a translation of Michael McKee's <a href="https://medium.com/%40mikecm/writing-pretty-code-ruby-style-edf740a7cb81">post</a> .  Michael is a professional programmer who from time to time shares his experience and skills with colleagues, both novice coders and professionals. <br><br>  Most programmers are the last thing to think about the aesthetics of the code they create.  Of course, almost everyone adheres to the general rules.  But what if you go on?  A good code, first of all, should work.  But I think that he should have his own style, this concerns not only the content, but also the form. <br><a name="habracut"></a><br><blockquote>  <b>Skillbox recommends:</b> Practical annual course <a href="https://skillbox.ru/php/%3Futm_source%3Dskillbox.media%26utm_medium%3Dhabr.com%26utm_campaign%3DPHPDEV%26utm_content%3Darticles%26utm_term%3Drubybeautifulcode">"PHP developer from scratch to PRO"</a> . <br>  <b>We remind:</b> <i>for all readers of "Habr" - a discount of 10,000 rubles when recording for any Skillbox course on the promotional code "Habr".</i> </blockquote><br>  In fact, it is not.  Here are some problems faced by all novice programmers who are engaged in self-education.  There are tons of articles and notes about this, but I want to tell you how to arrange the code visually so that it is not only correct, but also looks good from the outside.  I believe that you can express yourself not only in the visual arts - it can be done always and everywhere. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Organization of work is very important for me, as well as its visual form.  Ruby is a great version of a programming language, as if specially made to meet my requirements, because it allows us to do what we want without any problems.  He is flexible, stylish and logical. <br><br>  Let's look at this example. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/446/d41/af4/446d41af4402a42a4ecce12d6d46e004.png"><br><br>  Even a novice programmer will understand what is wrong here.  This code is just painful to watch.  But the corrected version, which already looks better. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/612/2bb/b77/6122bbb7721a5459adc95430c9dbebdf.png"><br><br>  Phew!  Much better.  Now we see what relates to what and how.  But this code can be improved.  Declaring attr_reader and attr_accessor can be made even more expressive. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c73/ec2/07b/c73ec207bcb0655395db307fa6a1ca64.png"><br><br>  Announcement of each new attribute from a new line is much easier to read.  Now we have a list of attributes that are assigned to each accessor.  You can go further. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fbb/dac/3de/fbbdac3de8f25c5b17a7a017db7ac9f1.png"><br><br>  Here it is already easy to understand where there is only the possibility of reading, where there is read and write. <br><br>  Let's now look at the next part of this class, the initialization method.  Here you can do a lot of things. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/953/570/c7b/953570c7b234a30606cebc2e3e1a913f.png"><br><br>  In principle, the code is read, everything seems to be fine.  But you can do better. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3e1/d2e/e57/3e1d2ee57da93ca7980066e68fe3a290.png"><br><br>  If you put down all the assignment operators in one column, it turns out very well.  Looking at this code, it is easy to say what, how and why it will work. <br><br>  Let's see how the whole InvoiceItem will look now. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7a2/f80/a99/7a2f80a99dd87f57ae07083d758d8175.png"><br><br>  Now we have a class that is easy to read and understand at first glance.  Assignments are easy to select, attribute accessors are simple to use. <br><br>  What else is the possibility of optimizing our code?  In most cases, writing tests at the very beginning of learning programming can cause problems due to the lack of necessary knowledge.  Time is spent creating fake data.  There is nothing terrible in this, but in many cases this leads to the creation of large arrays of difficult to read text.  Let's take a look at this. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/424/140/4f5/4241404f5191e334630edb5f46b01201.png"><br><br>  Oh, damn it.  Here, at the very beginning, a new repository is created to store the transaction classes.  A total of three, each used for the test, falling into the hash for later use.  And for the class that we are going to create, many attributes are required.  Each of them has a rather long name and value.  What can be improved to make the code look good? <br><br>  It's simple. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/32d/0cf/86c/32d0cf86c8bf5a7cb82ecaf52457991a.png"><br><br>  We split each of these hashes with a line break with each new value declaration.  In addition, the same method was used as in the optimization of InvoiceTeam.  Now you can see all the test data in a rather narrow field of view in the editor without any problems.  We can see the key values.  If necessary, they can be changed without scrolling back and forth. <br><br>  A similar strategy can be used when we work with a large number of attributes. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/471/fb2/1b7/471fb21b7437ac63c2409dbd1846a382.png"><br><br>  In this case, we do not see the entire code structure, at least in the current viewport.  In order to see the attributes, you need to constantly scroll, which is not very convenient.  Let's fix this in the same way as we did above, in the hashes example. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a40/7bd/2d0/a407bd2d08d40d826edd4fd5f59dbcaf.png"><br><br>  The new code is readable - and much more human friendly, so to speak.  All attributes and assignments are clearly visible.  Possible debugging becomes easier.  Something can go wrong, and then find out what does not work and why, it will be difficult if you do not bring the code to a ‚Äúbeautiful‚Äù view. <br><br>  When we write programs, we must not forget: it is important not only that they work correctly, but also that the principle of their functioning was clear to colleagues, if necessary.  The code should be logical, divided into paragraphs, sentences and structural sections. <br><br>  Well, in the end, my favorite Ruby example.  Let's consider it. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ed1/1bd/2a6/ed11bd2a627b583e2e160d6a818ab42d.png"><br><br>  Let's take each element from animals and apply the capitalize method.  It looks good, but even better is that the code can be slightly reduced and made more readable to humans. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/04d/ed6/410/04ded6410e5c7f542b04e2fad9699f16.png"><br><br>  This method works in many cases and I recommend using it whenever possible. <br><br>  In general, the article can be called trivial, but it allows the novice to understand the beauty of the code.  That is, the code itself must be not only working, but also understandable - even if the program is written only for itself.  If you develop the habit of creating beautiful working code, it can help your professional growth. <br><br><blockquote>  <b>Skillbox recommends:</b> <br><br><ul><li>  Online course <a href="https://skillbox.ru/frontend-developer/%3Futm_source%3Dskillbox.media%26utm_medium%3Dhabr.com%26utm_campaign%3DFRENDEV%26utm_content%3Darticles%26utm_term%3Drubybeautifulcode">"Profession Frontend-developer"</a> . </li><li>  Educational online course <a href="https://skillbox.ru/webdev/%3Futm_source%3Dskillbox.media%26utm_medium%3Dhabr.com%26utm_campaign%3DWEBDEV%26utm_content%3Darticles%26utm_term%3Drubybeautifulcode">"Profession web developer"</a> . </li><li>  Practical course <a href="https://skillbox.ru/agima/%3Futm_source%3Dskillbox.media%26utm_medium%3Dhabr.com%26utm_campaign%3DAGIMA%26utm_content%3Darticles%26utm_term%3Drubybeautifulcode">"Mobile Developer PRO"</a> . </li></ul></blockquote></div><p>Source: <a href="https://habr.com/ru/post/424337/">https://habr.com/ru/post/424337/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../424327/index.html">Zuckerberg finances: How to "make friends" optical technology and biomedicine</a></li>
<li><a href="../424329/index.html">Take it and do it: how to pump in programming and development</a></li>
<li><a href="../424331/index.html">Kubernetes 1.12: a review of major innovations</a></li>
<li><a href="../424333/index.html">My experience of dating and working with the Robot Framework</a></li>
<li><a href="../424335/index.html">Let there be light</a></li>
<li><a href="../424339/index.html">Tandem author and expert: how to make it effective?</a></li>
<li><a href="../424341/index.html">Elm. Comfortable and awkward. Composition</a></li>
<li><a href="../424343/index.html">Collaboration and access rights in DentalTap</a></li>
<li><a href="../424345/index.html">How I studied data science</a></li>
<li><a href="../424349/index.html">"Calendar tester" for September. Optimize tests</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>