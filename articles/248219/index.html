<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Home automation with openHAB: lighting and remote control of heaters. Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="My last article was about the choice of lighting lamps for a residential workshop. This time I will talk about the implementation of home automation i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Home automation with openHAB: lighting and remote control of heaters. Part 1</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/05d/7b8/28d/05d7b828d4aa4e118d88a54f881c04b7.jpg"><br><br>  My last article was about the <a href="http://habrahabr.ru/post/161997/">choice of</a> lighting <a href="http://habrahabr.ru/post/161997/">lamps</a> for a residential workshop.  This time I will talk about the implementation of home automation in the same room.  The workshop is heated by two electric heaters.  I wanted to turn them on remotely in order not to come to a cold room.  And I also wanted to maintain the set temperature, before this, when the temperature on the street changed, I had to turn the ‚Äúthermostats‚Äù of the heaters each time.  Well, lighting control, door opening sensor, etc. <br><a name="habracut"></a><br><h1>  Table of contents </h1><br>  Part 1 <br>  <a href="https://habr.com/ru/post/248219/">Introduction</a> <br>  <a href="https://habr.com/ru/post/248219/">general description</a> <br>  <a href="https://habr.com/ru/post/248219/">Load management</a> <br>  <a href="https://habr.com/ru/post/248219/">Light control</a> <br>  <a href="https://habr.com/ru/post/248219/">Light switches</a> <br>  <a href="https://habr.com/ru/post/248219/">How switches work with OpenHAB</a> <br>  <a href="https://habr.com/ru/post/248219/">Arduino Nano + Ehernet Shield</a> <br>  <a href="https://habr.com/ru/post/248219/">Raspberry pi</a> <br>  <a href="https://habr.com/ru/post/248219/">my.openHAB</a> <br><br>  Part 2 <br>  Heater control <br>  Thermal sensors <br>  Data storage <br>  Charts <br>  Remote control <br>  Impressions of OpenHAB <br>  Persistence <br>  Interfaces <br>  Monitoring 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1><a name="intro"></a>  Introduction </h1><br>  I used quite standard hardware, in some places not optimal, comments and recommendations are especially interesting about it. <br>  The choice of software was partially made in order to try unfamiliar tools, for example, in this way for storing data <a href="http://influxdb.com/">InfluxDB</a> <br><br>  After a cursory search for open-source solutions for home automation, <a href="http://www.openhab.org/">OpenHAB</a> was chosen, a rather mature tool with a modular architecture, and it is also actively developing.  About him there is already an <a href="http://habrahabr.ru/post/232969/">article</a> on Habr√©, I recommend it to look to those who want to use OpenHAB. <br>  You can also take a look at the <a href="http://demo.openhab.org/">demo interface</a> . <br>  I will describe the hardware part of my solution and at the same time cite excerpts from the OpenHAB configuration. <br><br>  To make it easier to understand my configuration, I will briefly describe the concepts used when setting up OpenHAB: <br><ul><li>  <b>Items</b> are something like a globally accessible object, usually representing an external device or a data source.  There may be different types, for example, Switch for switch, Dimmer for dimmer.  There is also a String and Number, these are Items which contain a string and a number. </li><li>  <b>Sitemaps</b> - describe the interface.  In fact, this is an enumeration of Items with the addition of display settings. </li><li>  <b>Rules</b> - scripts that run on a schedule or an event.  Events occur when the Items state changes, for example, when the Light_1 switch is set to ON. </li><li>  <b>Persistence</b> - files that describe the rules for maintaining the state of Items in different databases. </li><li>  <b>Bindings</b> - plug-ins, you can probably call plug-ins.  Used to add to OpenHAB the ability to interact with different hard and software.  For example, binding for KNX or for MySQL, etc. </li></ul><br><br>  Here are the <a href="https://github.com/openhab/openhab/wiki/Bindings">Bindings</a> I use: <br><table><tbody><tr><th>  Title </th><th>  Application </th></tr><tr><td>  xmpp </td><td>  I receive messages from OpenHAB </td></tr><tr><td>  mail </td><td>  Receive notifications by mail </td></tr><tr><td>  networkhealth </td><td>  Monitoring the availability of hosts on the network </td></tr><tr><td>  myopenhab </td><td>  OpenHAB Remote Access </td></tr><tr><td>  onewire </td><td>  Receiving temperature sensors from owserever </td></tr><tr><td>  http </td><td>  Interaction with HTTP API </td></tr><tr><td>  freetts </td><td>  Speech synthesis </td></tr><tr><td>  jpa </td><td>  Saving data to PostgreSQL </td></tr><tr><td>  db4o </td><td>  Saving data to db4o </td></tr><tr><td>  influxdb </td><td>  Saving data to influxdb </td></tr></tbody></table><br><img align="left" src="https://habrastorage.org/files/aae/d4c/ede/aaed4cedef3a46669829854ccf383057.png"><br>  About xmpp in more detail: this binding allows you to receive messages in Google chat (or another Jabber account) and use chat as a console to send OpenHAB commands.  Commands beginning with '&gt;' will be executed and the result will be returned in the response message.  I found this useful for debugging when writing Rules.  Further in the text, examples of OpenHAB commands begin with the symbol '&gt;'. <br><br>  OpenHAB configuration, switch scripts, etc.  available in the <a href="https://github.com/klenov/homeAutomationExample">homeAutomationExample</a> repository <br><br clear="all"><h2><a name="overview"></a>  general description </h2><br><img src="https://habrastorage.org/files/0ca/ee9/554/0caee9554eaa4de79e26d24827d81761.png"><br>  System components: <br><br><ul><li>  Server (OpenHAB, InfluxDB, ...) </li><li>  Arduino MEGA + Ehernet Shield Relay Control Module </li><li>  <i>Switch</i> five buttons Arduino Nano + Ehernet Shield </li><li>  <i>Switch</i> five buttons Raspberry Pi </li></ul><br><br>  On the picture is the OpenHAB web interface. <br><img align="left" src="https://habrastorage.org/files/63b/531/ca8/63b531ca801a49f4953a0c67389c124e.png"><br>  It was immediately clear that in addition to the web interface, you need to make several physical switches, since  Using the web interface is not always convenient. <br>  At first, I thought of making wireless switches, but I did not find affordable and reliable options, maybe now there is something to choose from, but then I decided to use Ethernet. <br>  When possible, I did so that the system components communicate with each other using the HTTP protocol. <br>  It is chosen because of simplicity, transparency and familiarity.  As an alternative, I considered <a href="http://en.wikipedia.org/wiki/MQTT">MQTT</a> , but I would need software for the server, since OpenHAB can only be a client. <br><br>  The load is controlled by a relay, now there are seven of them.  From each relay there is a separate cable core, that is, for three controllable outlets, a 4-core cable is used (three for the phase and one for the zero). <br><br clear="all">  Relay usage: <br><br><ul><li>  3 sockets, heaters are connected to two of them (220v) </li><li>  2 daylight lines (220v) </li><li>  1 evening light, incandescent lamp (12v) </li><li>  1 diode tape (12v) </li></ul><br><br>  All DC consumers are connected to one computer power supply. <br><br>  About security and access control: in OpenHAB, you can <a href="https://github.com/openhab/openhab/wiki/Security">add users and deny anonymous access</a> , but I did not.  Now any host on my local network has access to the OpenHAB web interface and other devices available over HTTP. <br><br><br><br><br><h1><a name="relays"></a>  Load management </h1><br><img src="https://habrastorage.org/files/7aa/8b8/5ef/7aa8b85efbbc489488e256c4832c4a13.jpg"><br>  I wanted to make an HTTP API to enable the load.  Used for this combination Arduino MEGA + Ehernet Shield + relay.  Megu bought a long time ago, it cost as much as $ 50, was not useful, and lay idle. <br>  Based on the load management <a href="http://arduino-info.wikispaces.com/ArduinoPower">recommendations</a> with Arduino, the pins to which the relays are connected are initialized like this: <br><pre><code class="cpp hljs">digitalWrite(pin, HIGH); pinMode(pin, OUTPUT);</code> </pre> <br>  So you can avoid short-term switching on the relay when you turn on the Arduino. <br><br>  All but one relay uses a normally open contact (NO, Normally Open) so that by default the entire load is turned off, for example after a temporary power cut.  An exception is made for the diode tape - it is connected to a normally-closed contact for emergency lighting. <br><br>  In general, Arduino + Ehernet Shield work without problems, there were interruptions only when I turned on their monitoring from OpenHAB.  There is an assumption that OpenHAB opened keepalive connection and because of this other connections were not established. <br>  And then there is an unpleasant moment in the work of Ethernet Shield: <br><blockquote>  PROBLEM: <br>  <b>Ehernet Shield does not work after powering on the Arduino, but only after the reset.</b>  As I understand it, this is the problem of the first version of the shild on the w5100 chip.  <a href="http://marco.guardigli.it/2010/11/arduino-wiznet-ethernet-shield-proper.html">Here is a possible solution</a> . <br></blockquote><br><br>  API sources for Arduino in the <a href="https://github.com/klenov/minimalArduinoWebApi">minimalArduinoWebApi</a> repository. <br>  Here is an example of a request for the state of pin 40, to which a relay controlling one of the lamps is connected: <br><br>  Request Status: <br><pre> <code class="hljs objectivec"> GET http:<span class="hljs-comment"><span class="hljs-comment">//192.168.2.15/pins/40</span></span></code> </pre><br>  The response text will be ON or OFF. <br><br>  Shutdown: <br><pre> <code class="hljs ruby"> PUT <span class="hljs-symbol"><span class="hljs-symbol">http:</span></span>/<span class="hljs-regexp"><span class="hljs-regexp">/192.168.2.15/pins</span></span><span class="hljs-regexp"><span class="hljs-regexp">/40/</span></span>OFF</code> </pre><br><br>  Turning on: <br><pre> <code class="hljs ruby"> PUT <span class="hljs-symbol"><span class="hljs-symbol">http:</span></span>/<span class="hljs-regexp"><span class="hljs-regexp">/192.168.2.15/pins</span></span><span class="hljs-regexp"><span class="hljs-regexp">/40/</span></span>ON</code> </pre><br><br>  So, there is an HTTP API for turning on lights and sockets, now you need to somehow use it from OpenHAB.  Each pin to which the relay is connected is added to the OpenHAB configuration as a switch via <a href="https://github.com/openhab/openhab/wiki/Http-Binding">http binding</a> . <br><br>  For example, here‚Äôs a description of pin 40 from <a href="https://github.com/klenov/homeAutomationExample/blob/master/openhab/configurations/items/main.items">main.items</a> file: <br>  Here, a Switch is defined with the name Light_1, which is a member of the Lights and DayLights groups: <br><pre> <code class="hljs php"> <span class="hljs-keyword"><span class="hljs-keyword">Switch</span></span> Light_1 <span class="hljs-string"><span class="hljs-string">"First Day Light"</span></span> (Lights, DayLights) { http=<span class="hljs-string"><span class="hljs-string">" &gt;[ON:PUT:http://192.168.2.15/pins/40/ON] &gt;[OFF:PUT:http://192.168.2.15/pins/40/OFF] &lt;[http://192.168.2.15/pins/40:60000:REGEX(.*&lt;status&gt;(.+)&lt;/status&gt;.*)] "</span></span> }</code> </pre><br>  (Groups in OpenHAB are useful, for example, to turn off all the lights or take the average from temperature sensors.) <br>  (Line breaks have been added for readability; they will not work in this form.) <br><br>  The string&gt; [ON: ... specifies the request that OpenHAB will execute when the Light_1 command is received ON. <br>  That is, if you send to the console: <br><pre> <code class="hljs pgsql"> &gt; Light_1.sendCommand(<span class="hljs-keyword"><span class="hljs-keyword">ON</span></span>)</code> </pre><br>  then OpenHAB will send a PUT <a href="http://192.168.2.15/pins/40/ON">192.168.2.15/pins/40/ON</a> request. <br>  In addition to the console, you can control Light_1 through the OpenHAB <a href="https://github.com/openhab/openhab/wiki/REST-API">REST API</a> itself. <br><br>  &lt;[http://192.168.2.15/pins/40:60000:REGEX (. * (. +). *)] means that the query is executed once every two minutes and a regular expression is applied to the response text, the result of which determines the state of Light_1 .  In short, this is a polling of the state. <br><br>  In order for the Light_1 switch to appear in the OpenHAB web interface, you need to add it to your Sitemap, for example: <br><pre> <code class="hljs nginx"> <span class="hljs-attribute"><span class="hljs-attribute">Switch</span></span> item=Light_1</code> </pre><br><br><h1><a name="light"></a>  Light control </h1><br><h2><a name="switches"></a>  Light switches </h2><br>  I made two <i>switches</i> , each with four buttons and one standard switch.  (So ‚Äã‚Äãthat in the previous sentence there is no recursion, the <i>switch is</i> written in italics and means the whole module with buttons, in contrast to the switch - a conventional switch.) <br>  At first, only buttons were made, but it turned out that it was inconvenient to grope them in the dark and I added an ordinary switch.  Three buttons and a conventional switch control the light, and one button is used to inform about the temperature inside and outside (using a speech generator). <br><br><h2><a name="how"></a>  How <i>switches</i> work with OpenHAB </h2><br>  When you press a button or switch, an HTTP request is sent to OpenHAB. <br>  This is how Light_1 can be enabled via OpenHAB REST API from Python: <br><pre> <code class="python hljs"> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> requests requests.post(<span class="hljs-string"><span class="hljs-string">"http://OPENHAB_URL/rest/items/Light_1"</span></span>, data=<span class="hljs-string"><span class="hljs-string">"ON"</span></span>)</code> </pre><br><br>  But to use this method, the <i>switches</i> must know the state of Light_1 in OpenHAB.  To, if the light is off, send the command ON and vice versa.  For this would have to use polling. <br>  It turned out that OpenHAB also supports such requests: <br><pre> <code class="hljs pgsql"> <span class="hljs-keyword"><span class="hljs-keyword">GET</span></span> /CMD?Light_1=TOGGLE .. <span class="hljs-keyword"><span class="hljs-keyword">GET</span></span>     Item ;(</code> </pre><br>  This option allows you to not store the state, so I use it. <br><br>  And yet, for flexibility, management does not take place directly through Light_1, Light_2, etc., but through Virtual_Switch_1, Virtual_Switch_2, etc.  For example, when you press the first button on any of the <i>switches, the</i> request is sent to Virtual_Switch_1, and what happens at the same time is determined in <a href="https://github.com/klenov/homeAutomationExample/blob/master/openhab/configurations/rules/virtual_switches.rules">virtual_switches.rules</a> .  Thus, if you need to change the actions of the buttons, you will not have to reflash the Arduino and change the script code to Raspeberry, but only change the rules in OpenHAB. <br><br>  Until I finally chose which actions to assign with buttons and a switch.  Now three buttons and a switch control the light, and one is used to alert the temperature inside and outside (through a speech generator). <br>  Often when turning off the light, it is convenient that it turns off not at the moment when the button is pressed, but later.  Therefore, for the switch, I wrote a rule so that it works like this: <br><br><ul><li>  if all the lights are turned off, the lights turn on by default (these are Items from the SmartSwitchDefaultLights group) </li><li>  if some light is on, then all daylight is turned off, the light turns on by default and a timer is set for 5 minutes to turn off the light </li></ul><br><br>  Here is the code for this rule: <br><pre> <code class="java hljs"> rule <span class="hljs-string"><span class="hljs-string">"Virtual_Switch_5"</span></span> when Item Virtual_Switch_5 changed then <span class="hljs-comment"><span class="hljs-comment">/*       ,         */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(virtual_switch_off_timer != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; !virtual_switch_off_timer.hasTerminated) { virtual_switch_off_timer.cancel() virtual_switch_off_timer = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">null</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">playSound</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'Beep_Negative.mp3'</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> SmartSwitchDefaultLights.members .</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">filter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( item| item.state == OFF )</span></span></span><span class="hljs-function"> .</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">forEach</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( item| item.sendCommand(ON)</span></span></span><span class="hljs-function"> ) } </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">else</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//    ,      if ( Lights.members.filter( item| item.state == ON ).isNullOrEmpty ) { SmartSwitchDefaultLights.members.forEach( item| item.sendCommand(ON) ) } else { /*          **  ,      */ if ( NightLights.members .filter( item| item.state == ON ).isNullOrEmpty ) SmartSwitchDefaultLights.members .filter( item| item.state == OFF ) .forEach( item| item.sendCommand(ON) ) DayLights.members .filter( item| item.state == ON ) .forEach( item| item.sendCommand(OFF) ) playSound('Bleep.mp3') virtual_switch_off_timer = createTimer( now.plusMinutes(5)) [| Lights.members .filter( item| item.state == ON ) .forEach( item| item.sendCommand(OFF) ) ] } } end</span></span></code> </pre><br><br>  Next, I briefly describe the hardware <i>switches</i> . <br><br><h3><a name="ino"></a>  Arduino Nano + Ehernet Shield </h3><br><img align="left" src="https://habrastorage.org/files/e51/f11/e07/e51f11e07d61478b8bf06df3cacff4e3.jpg"><br>  This <i>switch</i> consists of Arduino Nano and Ehernet Shield.  <a href="">Sketch</a> code in the file <a href="">light_switch.ino</a> .  For HTTP requests to OpenHAB, the library <a href="https://github.com/csquared/arduino-restclient">github.com/csquared/arduino-restclient is used</a> . <br>  Arduino eats through pin 5v from the power supply unit on a wire ~ 10 meters long. <br>  At first I connected 12v to vin.  I thought that because of the voltage drop, it would not be possible to use 5v, but at 12v, of course, the Arduino regulator was very hot. <br><br>  Power is supplied via four wires of the UTP cable, two + 5v conductors and two Gnd conductors. <br><br>  In this <i>switch,</i> I use Ehernet Shield based on the ENC28J60 chip, this is a budget and less common option, compared to the shields based on w5100. <br>  When using it, instead of the standard Ethernet library, you <a href="https://github.com/ntruchsess/arduino_uip">need to</a> connect <a href="https://github.com/ntruchsess/arduino_uip">arduino_uip</a> <br><img align="left" src="https://habrastorage.org/files/7ec/07d/e0a/7ec07de0af804d5cb9de57db1709509b.jpg"><br>  After that, for the scripts for standard modules to work, you need to replace: <br><pre> <code class="hljs css"> <span class="hljs-selector-id"><span class="hljs-selector-id">#include</span></span> &lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">SPI</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.h</span></span>&gt; <span class="hljs-selector-id"><span class="hljs-selector-id">#include</span></span> &lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">Ethernet</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.h</span></span>&gt;</code> </pre><br>  on <br><pre> <code class="hljs cpp"> <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;UIPEthernet.h&gt;</span></span></span></span></code> </pre><br><br>  The same should be done in the libraries used, if they connect Ethernet.h <br>  From 2kB of available memory, arduino_uip uses 400-600B, it is worth considering. <br><br><br><br><h2><a name="pi"></a>  Raspberry pi </h2><br><img align="left" src="https://habrastorage.org/files/468/3c3/55d/4683c355d30a4aaba26cbf99577fe178.jpg"><br>  It is a bit strange to update Linux on the <i>switch</i> , it‚Äôs me that using Raspberry only to turn on the light is, of course, not optimal.  Now, except for the buttons, only the door sensor (reed switch) is connected to the Raspberry. <br><h3>  Nutrition </h3><br>  The Raspberry Pi has <a href="">test points</a> for measuring voltage during operation.  The voltage between the points should be in the range of 4.75 - 5.25V.  After connecting to the 5V line from the power supply, the voltage was below the minimum (the wire was too long) and the regulator had to be used. <br><img align="left" src="https://habrastorage.org/files/fd3/aad/ad8/fd3aadad899341338406b77a33da7e20.gif"><br>  I use a simple linear regulator 7805, which I fixed on the radiator.  Before and after the regulator installed capacitors as in the diagram. <br><img align="left" src="https://habrastorage.org/files/9fd/694/314/9fd694314e5c454e864d7e63d386b17d.jpg"><br>  To reduce the power that is dissipated on the regulator radiator, three her801 diodes are connected in series between it and the power supply unit.  If we assume that the voltage drop on each diode is 1V, then at the input of the regulator we get approximately 9V.  The input voltage must be at least 2.5V higher than the output, that is, for 7805 7.5v at the input, this is the minimum. <br><br>  To avoid false positives button <br><br>  The code for Raspberry Pi is written in Python, you can watch it in the file <a href="">light_switch.py3</a> <br><br><h1><a name="myopenhab"></a>  my.openHAB </h1><br>  At the end of the first part I will tell you about the service from the creators of OpenHAB, it will allow you to connect to OpenHAB while you are behind the local network.  For me, this is convenient since the workshop does not have a separate external ip.  You can connect via a browser or from mobile applications (Android, iOS).  While the project is in closed beta, an application for an invite can be submitted <a href="https://my.openhab.org/enroll">here</a> . </div><p>Source: <a href="https://habr.com/ru/post/248219/">https://habr.com/ru/post/248219/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../248207/index.html">Xargs: a variety of use cases</a></li>
<li><a href="../248211/index.html">Simple acceptance of bank card payments in Windows Universal Apps</a></li>
<li><a href="../248213/index.html">The path from beginner to pro: CMS development on the Kohana 3.3 framework</a></li>
<li><a href="../248215/index.html">7 common mistakes when designing a checkout process</a></li>
<li><a href="../248217/index.html">Try / Catch / Finally</a></li>
<li><a href="../248225/index.html">Yandex investigation: full disclosure about the virus on Facebook</a></li>
<li><a href="../248227/index.html">Pivotal stops developing Groovy & Grails from March 31</a></li>
<li><a href="../248229/index.html">Binary operations on unordered sets</a></li>
<li><a href="../248231/index.html">The main functions of ETL-systems</a></li>
<li><a href="../248235/index.html">I offer a custom .Net questionnaire</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>