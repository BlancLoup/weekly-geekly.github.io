<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Posting a group of pictures with text using Vkontakte API</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The task of posting text with a picture to the Vkontakte group is simple with the PHP script, especially since the Vkontakte API is considered to be u...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Posting a group of pictures with text using Vkontakte API</h1><div class="post__text post__text-html js-mediator-article">  The task of posting text with a picture to the Vkontakte group is simple with the PHP script, especially since the Vkontakte API is considered to be understandable and reliable.  However, I was not able to find on the Internet a clear step-by-step guide for beginners, which would contain ready-made answers to all the small questions that arise along the way. <br><img src="https://habrastorage.org/getpro/habr/post_images/42a/f9d/1aa/42af9d1aa9dcd75f53c03d3c957e4ca6.png" alt="image"><br><br><a name="habracut"></a><br><br>  To begin, you must be logged in to an account that has the right to add posts to the group. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Create an application </h4><br>  First of all, you need <a href="https://vk.com/editapp%3Fact%3Dcreate">to create a</a> standalone application.  You must have a VC account for this with an associated phone number.  In my practice, if the account does not have an associated phone number, the contact starts to respond very quickly to the API with errors asking to enter the captcha)) that is, you will need to also put the captcha operator next to the script. <br><br><h4>  Generate access token </h4><br>  Next, we need access token for authorization in the API.  To generate it, you need to follow a special link. <br><br>  <a href="https://oauth.vk.com/blank.html%26display%3Dpage%26v%3D5.21%26response_type%3Dtoken">https://oauth.vk.com/authorize?client_id=12343547&amp;scope=groups,wall,offline,photos&amp;redirect_uri=https://oauth.vk.com/blank.html&amp;display=page&amp;v=5.21&amp;response_type=token</a> , where the client_id parameter is the identifier previously created application.  The scope parameter wraps the set of rights that you award the application.  Read more about the rights in the <a href="http://vk.com/dev/permissions">documentation</a> .  After clicking on the link, you need to confirm the transfer of rights to the application and copy the access token directly from the URL, despite the warning of the contact. <i>Please do not copy the data from the address bar for third-party sites.</i>  <i>This way you can lose access to your account</i> .  The token generated in this way will be enough to work with the group for an unlimited time. <br><br><h4>  We write some code </h4><br>  Solving this problem, I tried to find a ready-made library, I found <a href="https://github.com/bocharsky-bw/vkontakte-php-sdk">this one</a> , and as a result I got a <a href="https://github.com/Vastly/vkontakte-php-sdk">fork</a> , which is used in the example below.  For code quality experts: this library is intended solely for demonstration purposes, it does not have extensive functionality, tests, good documentation, performance optimization, cross-platform (php 5.4 is needed) and other things - all this is left to the tireless reader to implement. <br>  So, we post the text with a picture and tags to the Vkontakte community: <br><pre><code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// git clone https://github.com/Vastly/vkontakte-php-sdk require_once('../src/Vkontakte.php'); $accessToken = 'your access token'; $vkAPI = new \BW\Vkontakte(['access_token' =&gt; $accessToken]); $publicID = 70941690; if ($vkAPI-&gt;postToPublic($publicID, " !", '/tmp/habr.png', [' api', '', ' '])) { echo "!  ,  \n"; } else { echo ",   ((  \n"; }</span></span></code> </pre> <br><br>  <a href="http://vk.com/hurmmma%3Fw%3Dwall-70941690_101">The result of executing</a> this code with my token.  If you look at the code, then interaction with the VKontakte API takes place strictly according to the <a href="http://vk.com/dev/upload_files">documentation</a> .  Thanks for attention! </div><p>Source: <a href="https://habr.com/ru/post/226585/">https://habr.com/ru/post/226585/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../226565/index.html">Textbook on programming language D. Part 2</a></li>
<li><a href="../226571/index.html">The story of creating a world map for the game ‚ÄúC & C Tiberium Alliances‚Äù. Postmortem</a></li>
<li><a href="../226573/index.html">Creating audio plugin, part 7</a></li>
<li><a href="../226575/index.html">Siemens SGold: I / O sniffer</a></li>
<li><a href="../226581/index.html">‚ÄúIt still works!‚Äù: As two friends accidentally made a 3d revolution, inventing a doodler</a></li>
<li><a href="../226591/index.html">Filmstrips on the barrel organ: rakes, cones and pitfalls</a></li>
<li><a href="../226593/index.html">OpenSSL CCS Vulnerability</a></li>
<li><a href="../226595/index.html">The second Russian conference "Wolfram Technologies": story and materials</a></li>
<li><a href="../226601/index.html">Sony SmartBand Review</a></li>
<li><a href="../226603/index.html">Huawei routers and switches successfully passed the test</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>