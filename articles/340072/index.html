<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Moments in the development and sale of modules Bitrix</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Here it will be told not so much about the technical aspects of the Beatrix expansion (one of the reasons why they do not like it), but rather about t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Moments in the development and sale of modules Bitrix</h1><div class="post__text post__text-html js-mediator-article"><p>  Here it will be told not so much about the technical aspects of the Beatrix expansion (one of the reasons why they do not like it), but rather about the moments related to the Bitrix ecosystem (another reason why they do not like it), although there will also be technical things, but to a much lesser extent do not repeat the documentation. </p><br><p>  In this article there will be no subjective assessment of a cms or company, only dry facts and thoughts that will help you earn on the modules.  We will list those moments that we were taught by our own experience of selling modules through the <a href="http://marketplace.1c-bitrix.ru/">Marketplace</a> .  Some of them seem very obvious and common, while others are very specific to the platform, but they all relate to the work on the modules of Bitrix, and therefore are included in the list. </p><br>  This article will be useful to those who want to start selling their modules on the Marketplace or promote their company with its help. <br><a name="habracut"></a><br><h2>  Earn on support, not on purchase </h2><br>  Purchase, of course, may be paid, in an ideal world it would have to be 100?  the amount of earnings from ready-made solutions (for that they are ready), but buyers will almost always be non-programmers and will not have a programmer on staff.  This is the ecosystem that cms creates, and especially Bitrix. <br><br><p>  Therefore, the task of integrating functionality or edits in design often falls on the creators themselves.  And since the time of programmers is expensive, you have to take money from the client on top of the purchase, and the client to pay twice. </p><br><p>  A good solution may be to reduce the price of the module, even to zero, despite the fact that you want to earn from sales, but clearly announce the price of an hour of work.  With increasing autonomy of the installation, you can increase the purchase price.  But autonomy will never be 100%, because sites are far from always being made on the guidelines of Beatrix. </p><br><p>  The advice, of course, is relevant only if you are going to make money on modules. </p><br><h2>  Let's be able to reinstall the module </h2><br><p>  Sometimes you just need to remove the module and reinstall it.  Maybe there are a million situations when something went wrong: the module didn‚Äôt download completely, updates were somehow crooked, someone changed the source code of your solution on the buyer's site, ... </p><br><p>  The problem is that the module needs to store data in a database or files. </p><br><p>  With the complete removal of the module, of course, you should cover all traces of its presence, otherwise, by the way, you can not go through moderation.  But when reversing, on the contrary, you need to somehow save everything so that the user does not need to re-fill and adjust everything. </p><br><p>  Giving a choice when deleting a module whether to erase the data or not is the best way out in this situation, despite what Bitrix usually says about the complete erasure of the module‚Äôs traces upon uninstallation. </p><br><h2>  A lot of functionality inside one module or many small modules? </h2><br><p>  I will explain the problem on the example of the comments module. </p><br><p>  Here you have made such a product (comment module) and released it in the Marketplace.  With it, you can write comments to the goods.  And maybe even delete, edit and respond to others. </p><br><p>  But here one buyer wanted all the same that you have, and even in the same design, but so that it would be full reviews: with ratings, photos, fields of advantages and disadvantages. </p><br><p>  Do the second module or expand the functionality of the first?  It may seem that the question is purely individual, but if you look at the entire Bitrix ecosystem: expensive cms with a lot of functionality out of the box, typical sites and even designer sites are very popular in the store, development prices are quite large, you can identify the trend that redundancy and prices not so important to buyers. </p><br><p>  Also it should be taken into account that buyers are often a business, therefore sales take a long time, and prices do not matter as much as when working with physical.  by individuals. </p><br><p>  Plus, we communicated directly with customers and many of them answered that they had bought some expensive product because of one particular chip.  For example, the purchase of a site designer for several tens of thousands of rubles (and with terrible reviews) occurred because they liked the banners.  Yes, and you probably heard from their customers the stories, why they want Beatrix as such, and heard about the same answers. </p><br><h2>  Customer Support </h2><br><p>  Here you have released a good module with clean and easy-to-read code, wrote documentation and instructions for all occasions, the module performs only its specific and explicitly stated functions, it installs itself - download and use.  But in real life, if there is any problem on the site, in which your module is somehow involved, it will first be written to you. </p><br><p>  By the way, any problem that occurred on the customer‚Äôs site after installing your module and before installing another module or major design changes will also be considered a problem with your module.  Even if you have a callback module and it was installed 4 months ago, and yesterday unloading into 1C fell off, they can still write to you. </p><br><p>  This is partly due to the policy of technical support for Beatrix.  They answer all, but if they see someone else's code, they immediately wash their hands.  For example, if your module uses any event of the kernel (and it most likely uses it), then those.  support will quickly transfer the client problem to you if this event is raised somewhere in the error script.  For example, an error occurs when creating an order, and the module has an event handler for receiving the price of the goods.  And they can be understood.  Who would want to understand someone else's code for free? </p><br><p>  And then, almost no one will read your instructions or go to your intuitively understandable settings page, in 80% of cases they will immediately write to you for technical support.  Probably so in any field of activity.  But it seems to us that the huge Beatrix admin panel and the need to read several courses add fuel to the fire in order to be able to use it. </p><br><p>  Keep this in mind when pricing and planning work. </p><br><h2>  Ability to customize component templates by copying against customization through component connection settings </h2><br><p>  All sites are different and, accordingly, they need different things from your components, for example, other texts of the inscriptions, design, a set of elements. </p><br><p>  In Bitrix, you can copy component templates and change them in your own way.  This is a normal practice.  But experience has shown that it is better to guard users from such actions. </p><br><p>  After all, if there is an error in the template or you just improve it, add new chips, you can not update the template at the client, as it is customized.  So you cannot even help the client with his mistake in displaying your own functionality. </p><br><p>  Therefore, it is a good solution to provide as many component connection settings as possible so that all the necessary customizations can be carried out without editing its code, but simply ‚Äútwisting‚Äù the settings. </p><br><p>  An additional advantage of this approach is the absence of the client's need for a programmer. </p><br><h2>  Storing javascript code </h2><br>  Technical moment, also associated with customization.  Here is the structure of the component in general <br><br><ul><li>  <b>my.component /</b> <br><ul><li>  class.php </li><li>  component.php </li><li>  .parameters.php </li><li>  .description.php </li><li>  <b>templates /</b> <br><ul><li>  <b>.default /</b> <br><ul><li>  .parameters.php </li><li>  result_modifier.php </li><li>  template.php </li><li>  style.css </li><li>  script.js </li><li>  component_epilog.php </li><li>  <b>lang /</b> <br><ul><li>  <b>ru /</b> <br><ul><li>  .parameters.php </li><li>  result_modifier.php </li><li>  template.php </li><li>  component_epilog.php </li></ul><br></li></ul><br></li></ul></li></ul><br></li><li>  <b>lang /</b> <br><ul><li>  <b>ru /</b> <br><ul><li>  class.php </li><li>  component.php </li><li>  .parameters.php </li><li>  .description.php </li></ul></li></ul><br></li></ul></li></ul><br><p>  But how best to redo it in the presence of Ajax calls or logic inside js: </p><br><ul><li>  <b>my.component /</b> <br><ul><li>  class.php </li><li>  component.php </li><li>  <b><i>script.js</i></b> </li><li>  .parameters.php </li><li>  .description.php </li><li>  <b>templates /</b> <br><ul><li>  <b>.default /</b> <br><ul><li>  .parameters.php </li><li>  result_modifier.php </li><li>  template.php </li><li>  style.css </li><li>  script.js </li><li>  component_epilog.php </li><li>  <b>lang /</b> <br><ul><li>  <b>ru /</b> <br><ul><li>  .parameters.php </li><li>  result_modifier.php </li><li>  template.php </li><li>  component_epilog.php </li></ul><br></li></ul></li></ul></li></ul><br></li><li>  <b>lang /</b> <br><ul><li>  <b>ru /</b> <br><ul><li>  class.php </li><li>  component.php </li><li>  .parameters.php </li><li>  .description.php </li></ul><br></li></ul></li></ul></li></ul><p>  That is, to make important js in the component, and not to keep it in the template.  In the latter, only the API should be twitched and handlers hung on elements should be used. </p><br><p>  Well, thank you, KO.  Common for the js module can be placed in the folder of the module itself. </p><br><p>  The point of this is that everything in the component template folder is related only to the display, and not to logic.  Accordingly, when customizing the template, the entire folder, including your script.js, is copied.  And there are the same problems with support and updates as in the previous paragraph, but with the proposed structure, you can significantly reduce them. </p><br><h2>  Jquery and bitrix javascript library </h2><br>  Few people want to write Ajax calls or do hover processing on pure js, so many are drawn to jQuery, which is now hard to miss on a random site.  Also, some people know about the Bitrix js-library, which also provides some kind of wrappers for convenience. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>  But the reality is that the cms js library itself is really meaningless, and besides, sometimes harmful, for example, because for some reason it does not work with the composite. </p><br><p>  And with jQuery, the problem is that it is connected almost everywhere, but still not everywhere.  And if it is connected, it may be too old version. </p><br><p>  We advise you to write on vanilla or configure the ‚ÄúConnect to jQuery?‚Äù Component so that you can fine-tune this moment and disable it where necessary.  The latter, by the way, is quite a popular way among developers of modules. </p><br><h2>  As much as possible unique css classes, as much as possible rules for the selector </h2><br>  Of course, class names should be unique, this applies to all typical web solutions that have a visual part, since the site can use the same classes as yours.  We generally include the full name of the module in the name of the classes and use the names of the BEM. <br><br><p>  But the presence (and popularity) of ‚Äúconstructor sites‚Äù makes it necessary to prescribe almost every parameter for each selector explicitly, even prescribe ‚Äúcontent: ''‚Äù for pseudo-elements if you do not use them.  Moreover, be prepared for a large number of uses of ‚Äú! Important‚Äù in your css. </p><br><h2>  Always take ftp accesses if you need to edit the code </h2><br>  You may know that there is a built-in file editor in the Bitrix admin panel, so the code can be edited through a browser.  But experience has shown that if for repairing or analyzing a problem you need to edit at least some file on the site, it‚Äôs better to take ftp right away, since you can hit some code that is invoked in init.php (and this is often) and the site immediately will fall without the ability to roll back changes through the admin area, which also will not work. <br><br><p>  Plus, some developers manage to make the page so that it falls, just if you look at its code through Beatrix.  The causes of this behavior are still not clear to us, but such cases do occur. </p><br><p>  Therefore, editing files through the browser is quite a risky task if you cannot re-raise the site in a minute. </p><br><h2>  Buyers are almost always business </h2><br>  For all the time of the sale of the modules, we only once communicated with the buyer, who did not have a settlement account, since there was no company or company.  Of course, we are sure that we had more than one individual among buyers, but this is difficult to find out since not all buyers write to us, some just silently buy through the Marketplace. <br><br><p>  It seems to us that the prevalence of the official business in Bitrix will be practically in any customer cuts, at least because it is not cheap - it will very rarely be just a blog. </p><br><p>  For us as sellers, this means a large amount of sales per unit of product, but a longer cycle of purchase and anguish with customer accountants. </p><br><h2>  Bad environment </h2><br>  Your module will be affected by the Bitrix kernel code, the code for the site itself, and the code for other modules that the client bought. <br><br><p>  Whatever you say, you should not worry about the kernel code.  It has been tested tens of thousands of times, does not change from site to site, updates always have backward compatibility.  Yes, and tech support can help with it for free. </p><br><p>  But the code of the site itself is another matter.  There may be a terrible code, since many sites have been made for a long time, many have become poor programmers, since the threshold for entering php itself is rather low. </p><br><p>  And some sites, on the contrary, were made by ‚Äúgood‚Äù programmers, but those who came from frameworks or other systems (sometimes self-written) and did not even try to understand Beatrix.  Apparently because of pride.  By the way, there is another ‚Äúend‚Äù of the code, when only the name and admin panel remains from Beatrix, and most of the functionality is done to bypass the Beatrix modules, and accordingly, the events and database tables. </p><br><p>  Plus, third-party modules can overlap your module with their handlers. </p><br><p>  All this brings problems, mainly in support.  Also be prepared that your module may simply not be installed on the client‚Äôs site, not fully installed or not earn, and you will have to debug the site for a long time and explain to the client what he will have to pay for the add-on.  work on the site, because otherwise nothing will not work. </p><br><h2>  Do I need to know D7 perfectly? </h2><br>  For quite a while, Bitrix released a new core of its system, in which almost everything was rewritten, a lot of new chips appeared, classes were unified a bit and everything became OOP.  But we decided not to write our solutions on pure d7. <br><br><p>  We do so because of the spread of technology.  Despite the fact that the release took place for a long time, albeit occasionally, but we meet sites on the old core.  There are few such clients and most likely there will be a lot of problems with them (because they will be updated and everything will fly), so they can be neglected in the reflections. </p><br><p>  For us, the key factor was the lack of documentation and the fact that the technology is little ‚Äúrun-in‚Äù, which means that a quick search for a solution on the Internet is unlikely to provide a solution to the problem. </p><br><p>  But with the support of the old kernel, we have not yet encountered a single problem. </p><br><h2>  Instead of conclusion </h2><br>  Of course, some points sound like ‚Äúto write modules, you have to write them‚Äù.  But all these moments are better understood and kept in mind to avoid mistakes full of experience and not to recruit it yourself. <br><br><p>  We are going to replenish the article as experience is gained in order to use it as a cheat sheet within the company. </p><br>  And in addition to the link to the <a href="https://dev.1c-bitrix.ru/learning/course/index.php%3FCOURSE_ID%3D101%26amp%3BCHAPTER_ID%3D04793">official Bitrix documentation</a> on the development of modules. </div><p>Source: <a href="https://habr.com/ru/post/340072/">https://habr.com/ru/post/340072/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../340062/index.html">Due to which Tarantool is so optimal</a></li>
<li><a href="../340064/index.html">What is DFD (data flow diagrams)</a></li>
<li><a href="../340066/index.html">How to hack more than 17,000 sites in one night</a></li>
<li><a href="../340068/index.html">Microsoft has demonstrated a working fuel-powered data center</a></li>
<li><a href="../340070/index.html">Golden ratio (Phi number) and time, your opinion?</a></li>
<li><a href="../340074/index.html">Amazon EFS is faster when there is a lot of data.</a></li>
<li><a href="../340076/index.html">Nuances of encryption in git</a></li>
<li><a href="../340086/index.html">When to be kind is beneficial</a></li>
<li><a href="../340088/index.html">Caution! Angry dog! Or how to tame the registration form</a></li>
<li><a href="../340090/index.html">Simple loading animation in Material Design (CSS3)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>