<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Hands-On Programming With R - Garrett Grolemund</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Full translation of the book Hands-on Programming With R - Garrett Grolemund into Russian. 



 Enjoy reading! 

 Foreword 
 Studying programming is v...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Hands-On Programming With R - Garrett Grolemund</h1><div class="post__text post__text-html js-mediator-article">  Full translation of the book Hands-on Programming With R - Garrett Grolemund into Russian. <br><br><img src="https://habrastorage.org/files/98e/98a/2f7/98e98a2f790a4a1f8486e4d8a3213548.png"><br><br>  Enjoy reading! <br><a name="habracut"></a><br><h1>  Foreword </h1><br>  Studying programming is very important if we want to learn how to analyze data.  Without a doubt, ‚Äúdata science‚Äù should be performed on modern computers, but we have a choice between using graphical interfaces of ready-made software products and programming in existing languages.  Garrett and I both are convinced that programming in the modern world is an essential and vital skill for those who constantly work with data.  The graphical interface, despite all its comforts, prevents good data analysis: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  <b>Reproducibility</b> (ability to recreate previous results) </li><li>  <b>Automation</b> (the ability to quickly get results when data changes) </li><li>  <b>Communication</b> (code is just a text, so it is easier to understand. When learning, it is very easy to get help, be it Google Groups, email, Stack Overflow, etc.) </li></ul><br>  Do not be afraid to program!  Anyone can learn how to program with the right motivation, and this book is organized to keep you motivated.  This is not a reference;  This is a book about three issues.  The book will guide you through the fascinating basics of the R language and even allow you to look into the next level of complexity.  Real tasks are the best way to learn, because you don‚Äôt memorize functions out of context, you learn them to solve problems from the real world.  You will be trained in completing tasks. <br><br>  In the process of learning programming, you will be disappointed / upset.  Learning a new language takes time and patience.  It is worth remembering that disappointment is a natural feeling, the appearance of which must be fixed and perceived as a positive moment.  Frustration is the way the brain is lazy, diverting your attention to things that are simpler and more fun.  If you really want to get in good shape, you must continue to work, despite all the pain in the body.  If you really want to learn how to program, then you need to force the brain to concentrate and get involved in the work.  Remember this moment, because it means that you have started stretching - stretching yourself.  Every day, push yourself to move forward and soon you will become a confident programmer. <br><br>  We hope that reading our joint work with Garrett will bring you pleasure. <br><br><h1>  Introduction </h1><br>  This book will teach you how to program in the R language. Your journey will begin with data loading and end with the writing of your own functions (which will easily surpass the functions of other users of the R language).  However, this is no ordinary introduction to the R language. I want to help you become <a href="https://ru.wikipedia.org/wiki/%25D0%259D%25D0%25B0%25D1%2583%25D0%25BA%25D0%25B0_%25D0%25BE_%25D0%25B4%25D0%25B0%25D0%25BD%25D0%25BD%25D1%258B%25D1%2585">datologists (analysts)</a> , as well as computer specialists, so this book will focus on programming skills for solving problems in <a href="https://ru.wikipedia.org/wiki/%25D0%259D%25D0%25B0%25D1%2583%25D0%25BA%25D0%25B0_%25D0%25BE_%25D0%25B4%25D0%25B0%25D0%25BD%25D0%25BD%25D1%258B%25D1%2585">datology</a> . <br><br>  The chapters in the book are divided and sorted in order of increasing complexity of the implementation of three practical projects.  I chose these projects for two reasons.  First, they display the broad capabilities of the R language. You will learn how to load data, assemble and parse objects, write your own functions and use all the tools available in R, such as if-else constructions, for loops, classes, packages, debugging tools.  Projects also teach you to write vectorized code that uses all the power of R. <br><br>  However, most importantly, projects will teach you how to solve logical problems in data science - and there are really a lot of problems!  Working with data we need to store them, retrieve and modify large arrays of values ‚Äã‚Äãwithout introducing errors.  In the process of learning, we will learn not only to program in R, but also to use our programmer skills to maintain our work as a datologist. <br><br>  Not every programmer needs to be a datologist, so not every programmer will find this book useful.  You will find this book useful for yourself if you belong to one of the following categories: <br><br><ol><li>  You already use R as a statistical tool, but want to learn how to write your own functions and simulations on R. </li><li>  You want to learn how to program and see the point in learning a language able to work with data </li></ol><br>  One of the big disappointments in this book is the lack of references and consideration of the use of the R language in traditional applications - models and graphs.  I perceive R as a typical programming language.  Why such a narrow focus?  R was designed as a tool to help professionals analyze data.  It has many excellent features for graphing and modeling.  As a result, a lot of extras use R as if it were ordinary software ‚Äî they only learn the functions they need, but they don‚Äôt pay attention to the rest. <br><br><h1>  Part number 1 </h1><br><h2>  Project 1: weighted dice </h2><br>  Computers allow you to collect, manipulate, visualize arrays of data and all this with a speed that would surprise yesterday‚Äôs scientists.  In short, computers give you a scientific super power!  However, in order to learn how to use these super powers, you will need to acquire programming skills. <br><br>  As a data scientist and programmer, you can enhance your skills in the following areas: <br><br><ul><li>  Memorize (store) large data arrays </li><li>  Request data </li><li>  Make complex calculations on large amounts of data </li><li>  Perform repetitive tasks without getting bored </li></ul><br>  Computers can solve all these problems quickly and accurately, which allows your mind to do what it does best: make decisions and give meaning. <br><br>  Sounds amazing?  Wonderful!  Let's get started <br><br>  Being a college student I wanted to go to Las Vegas.  At that time, I was sure that knowing the statistics would help me to make a big win.  If this is what prompted you to study the science of data, then I ask you to sit down.  I have bad news for you.  In the long run, even a statistician will lose a lot of money at the casino.  And all because in every single game the chances of winning are greater than the casino.  However, you can always find a loophole.  You can make money - securely.  All you need to do is become a casino owner. <br><br>  Believe it or not, R can help you with that.  Throughout the book, we will use R to create three virtual objects: a pair of dice that we can throw;  a deck of cards that we can shuffle and hand out;  slot machine in which we simulate a game from a real gaming terminal.  After that, all you need to do is add some graphics and open a bank account (and get several state licenses), and you are in!  Understand the rest of the details yourself. <br><br>  Projects seem insignificant, but in reality each of them will allow you to look deep ‚Äúunder the hood‚Äù of R. After their completion, you will become an expert in the field of data analysis and processing.  You will learn how to store data in computer memory, process it, convert it to another type, make transformations, etc.  You will also learn how to write programs on R, which can then be used for data analysis and simulation. <br><br>  If the simulation of slot machines (dice, cards) seems like child's play, then think about this: playing on slot machines is a process.  Once you can simulate it, then you can simulate other processes.  These projects provide specific examples of using the components of the R language: objects, data types, classes, notations, functions, environment variables, loops, conditional statements, vectorization.  The first project will introduce you to the basics of the R language, which will further help you learn all of the above. <br><br>  The first task is simple: write the code in R, which will simulate the throwing of two dice.  After that, we will change the weights of the dice values ‚Äã‚Äãso that you will win more :) <br><br>  In this project you will learn how to: <br><br><ul><li>  Use R and <a href="https://www.rstudio.com/products/rstudio/">RStudio</a> </li><li>  Execute commands on R </li><li>  Create objects </li><li>  Write your own functions and scripts </li><li>  Download and use packages </li><li>  Generate test data </li><li>  Build graphics </li><li>  Use documentation </li></ul><br>  Do not be afraid if you think that the information is too much and you will not have time to deal with it.  These topics will be covered over 2 and 3 projects. <br><br><h1>  Chapter 1 </h1><br><h2>  Basics </h2><br>  This chapter is an overview of the R language, which will allow you to start programming without delay.  You will create two virtual dice that will generate random values.  If you have not programmed before - do not be afraid, this chapter will teach you everything you need. <br><br>  In order to simulate the dice it is necessary to describe their properties.  We will not put a physical object into the computer, and if we place it, then it is unlikely that we will be able to collect it back, but we can store information about the object in the computer‚Äôs memory. <br><br>  What information needs to be kept?  A dice has six different ‚Äúpieces‚Äù of useful information: the result of throwing a dice can be only one value out of 6 (1, 2, 3, 4, 5, 6).  We can save this data as a set of integer values. <br><br>  Let's see first with the preservation of these values, and then consider the method of "throwing" the dice. <br><br><h2>  User Interface R </h2><br>  Before you ask your computer to save certain values, you need to learn how to talk with it.  And here R and RStudio already come to our aid.  RStudio gives you the opportunity to talk with a computer, and R - the language you will speak.  Run RStudio. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/565/606/4d9/5656064d97cd775d0565975e5a0e2e9b.jpg" alt="image"><br><br>  The RStudio interface is simple.  Enter commands into the RStudio console, press Enter to execute them.  The code you enter into the console is called a <i>command</i> , because it tells the computer to perform certain actions.  The line on which the command is entered is called the <i>command line</i> .  After you type something into the command line and press Enter, the computer executes this command and displays the result on the screen.  Immediately after the result of the previous command, a new RStudio query line appears. <br>  For example, if you type 1 + 1 and press Enter, RStudio displays: <br><br><pre><code class="hljs markdown"><span class="hljs-quote"><span class="hljs-quote">&gt; 1+1 [1] 2 &gt;</span></span></code> </pre> <br>  You probably noticed [1] right before the results of the calculations.  R just tells us that this is the first line of the resulting output. <br><br>  Some commands return more than one value and they may take several lines.  For example, the command 100: 130 returns 31 values;  it creates a sequence of integers from 100 to 130. Note that the numbers in square brackets are displayed at the very beginning of the first and second lines of output.  These values ‚Äã‚Äãindicate that the second line starts with 26 values ‚Äã‚Äãfrom the sequence.  In most cases, you can ignore the values ‚Äã‚Äãin square brackets: <br><br><pre> <code class="hljs css">&gt; 100<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:130</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1]</span></span> 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 <span class="hljs-selector-attr"><span class="hljs-selector-attr">[26]</span></span> 125 126 127 128 129 130 &gt;</code> </pre><br>  The colon operator (:) returns all integer values ‚Äã‚Äãbetween two numbers.  This is an easy way to create integer sequences. <br><br>  <b>When does the compilation happen?</b> <br>  <i>In some languages, such as C / Java / C ++ / FORTRAN, you need to convert readable code into machine code before you execute it.</i>  <i>If you previously programmed in one of these languages, then you probably wonder if it is necessary to compile the code in R. Answer: no.</i>  <i>R is a dynamic programming language, which means that R automatically interprets your code as soon as you run it.</i> <br><br>  If you enter an incomplete command and press Enter, R will display the continuation of the prompt for input - "+".  Either complete the command or press Esc to abort it and start again: <br><br><pre> <code class="hljs markdown"><span class="hljs-quote"><span class="hljs-quote">&gt; 5- + 1 [1] 4 &gt;</span></span></code> </pre><br>  If you enter a command that R cannot recognize, an error message will be displayed.  If you ever see an error message, do not panic.  R just informs you that he was unable to execute a specific command for some reason.  You can then try another command on the following command line: <br><br><pre> <code class="hljs pgsql">&gt; <span class="hljs-number"><span class="hljs-number">3</span></span> % <span class="hljs-number"><span class="hljs-number">6</span></span> Error: unexpected <span class="hljs-keyword"><span class="hljs-keyword">input</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> "3 % 6" &gt;</code> </pre><br>  As soon as you feel free to work on the command line, you can do everything that the most advanced calculator does.  For example, let's start with basic arithmetic: <br><br><pre> <code class="hljs markdown"><span class="hljs-quote"><span class="hljs-quote">&gt; 2 * 3 [1] 6 &gt; 4 - 1 [1] 3 &gt; 6 / (4 - 1) [1] 2 &gt;</span></span></code> </pre><br>  R handles hashtags (#) in a special way.  No command will be executed after the hashtag (#).  This makes hashtags useful when commenting or documenting code.  The hashtag is known in R as the ‚Äúcomment character‚Äù. <br><br>  <b>Cancel commands</b> <br>  <i>Some commands in R can be executed for a long time.</i>  <i>You can interrupt the execution with ctrl + c, but remember that the interruption of the command itself may take a long time.</i> <br><br>  Now that you know how to use R, let's create a virtual die.  The operator ":", with which we have already met a few pages back, allows you to conveniently create a group of numbers from 1 to 6. <br><br>  The ":" operator returns a <i>vector</i> , one-dimensional array of numbers: <br><br><pre> <code class="hljs css">&gt; 1<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:6</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1]</span></span> 1 2 3 4 5 6</code> </pre><br>  This is how virtual dice look like!  But do not be in a hurry to get upset, this is not all.  Execution of the ‚Äú1: 6‚Äù command only creates and displays an integer vector, but we do not save it anywhere.  If we want to be able to reuse these numbers, then we need to save them somewhere.  This will help us to create <i>objects</i> . <br><br><h2>  Objects </h2><br>  R allows you to store data in <i>objects</i> .  What is an <i>object</i> ?  Just the name that is used to refer to the stored data.  For example, you can save data in objects <i>a</i> or <i>b</i> .  In any place where R meets an object, it replaces it with a value stored inside, for example: <br><br><pre> <code class="hljs css">&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">a</span></span> &lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> 1 &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">a</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1]</span></span> 1 &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">a</span></span> + 2 <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1]</span></span> 3</code> </pre><br>  1. To create an object in R, create a name for it and use the "&lt;-" symbol to save data.  R will create an object, give it a name and save everything that is to the right of "&lt;-". <br><br>  2. When you ask R what is in ‚Äúa‚Äù, then R displays the saved data on the next line. <br><br>  3. You can also use the created objects in subsequent commands. <br><br>  Another example, the code below creates a new object called <i>die</i> containing numbers from 1 to 6. To see what the object contains, just type the name of the object and press Enter. <br><br><pre> <code class="hljs perl">&gt; <span class="hljs-keyword"><span class="hljs-keyword">die</span></span> &lt;- <span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">6</span></span> &gt; <span class="hljs-keyword"><span class="hljs-keyword">die</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span></code> </pre><br>  After you have created an object, it will appear in the RStudio variable panel.  In this part of the interface you can find all created objects since the launch of RStudio. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a96/b46/7fe/a96b467fee102a98af3f2b1856b0a748.jpg" alt="image"><br><br>  You can name objects in R as you wish, however there are several basic rules.  First, the object name cannot begin with a digit.  Secondly, the name cannot contain special characters - ^,!, $, @, +, -, /, *. <br><br><table><tbody><tr><th>  Correct names </th><th>  Wrong names </th></tr><tr><td>  my_var </td><td>  ^ mean </td></tr><tr><td>  FOO </td><td>  2nd </td></tr><tr><td>  b </td><td>  ! bad </td></tr></tbody></table><br><br>  It is worth remembering that in R the <i>Name</i> and <i>name</i> variables are two different variables. <br><br>  R overwrites any previously stored information in the object without any request for permission to perform this action.  Therefore, it is good practice to avoid reusing existing variables: <br><br><pre> <code class="hljs xml">&gt; my_number <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">-</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span><span class="hljs-tag"> &gt;</span></span> my_number [1] 1 &gt; my_number <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">-</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">999</span></span></span><span class="hljs-tag"> &gt;</span></span> my_number [1] 999</code> </pre><br>  Using the <i>ls ()</i> function, you can get a list of variable names that are already in use: <br><br><pre> <code class="hljs mel">&gt; <span class="hljs-keyword"><span class="hljs-keyword">ls</span></span>() [<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-string"><span class="hljs-string">"a"</span></span> <span class="hljs-string"><span class="hljs-string">"die"</span></span> <span class="hljs-string"><span class="hljs-string">"my_number"</span></span></code> </pre><br>  You can also just look at the variables panel in RStudio to determine which variable names are already used and what data is stored in them. <br><br>  Now you have a virtual dice that is stored in the computer's memory.  At any time you can access it simply by typing <i><b>die</b></i> in the command line.  What can you do with the dice?  Enough.  R will replace the object with its contents in any command.  Therefore, for example, you can perform various arithmetic operations on the values ‚Äã‚Äãof the dice.  Mathematics is not so important when throwing a die, but when working with a lot of data will become an indispensable tool.  Let's see how and what can be done: <br><br><pre> <code class="hljs perl">&gt; <span class="hljs-keyword"><span class="hljs-keyword">die</span></span> - <span class="hljs-number"><span class="hljs-number">1</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> &gt; <span class="hljs-keyword"><span class="hljs-keyword">die</span></span> / <span class="hljs-number"><span class="hljs-number">2</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">1.0</span></span> <span class="hljs-number"><span class="hljs-number">1.5</span></span> <span class="hljs-number"><span class="hljs-number">2.0</span></span> <span class="hljs-number"><span class="hljs-number">2.5</span></span> <span class="hljs-number"><span class="hljs-number">3.0</span></span> &gt; <span class="hljs-keyword"><span class="hljs-keyword">die</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">die</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-number"><span class="hljs-number">25</span></span> <span class="hljs-number"><span class="hljs-number">36</span></span></code> </pre><br>  If you are a big fan of linear algebra (and who is not?), Then you probably noticed that R does not always follow the rules of matrix multiplication.  Instead, R uses per-element multiplication.  When you work with a set of numbers, R will apply a specific operation to each element in the set separately.  For example, when we launch <b><i>die - 1</i></b> , then R subtracts a unit from each element in <i>die</i> . <br><br>  When using several vectors in operations, R first equalizes the lengths of the vectors and only then elementwise performs the operation itself.  For example, when performing the operation <b>die * die</b> , R aligns the lengths of the two vectors, and then multiplies the first value from the first vector by the first value from the second vector, etc., until all the elements are multiplied.  The result of this operation will be a new vector of the same length as the two multiplied vectors. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/82c/ef1/9b7/82cef19b7e0a32d58d58a98b43d5ed1f.jpg" alt="image"><br><br>  If you pass R two vectors of different lengths, then R will ‚Äúrepeat‚Äù / ‚Äúloop‚Äù a vector of shorter length until it becomes equal in length to the larger vector.  The change in the smaller vector is not a constant change (the source vector does not change), it is supplemented only for the duration of the operation.  If the length of the larger vector is not a multiple of the length of the smaller vector, then R will issue a warning.  This behavior is known as <i>vector recycling</i> and allows R to perform in-element operations: <br><br><pre> <code class="hljs css">&gt; 1<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:4</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1]</span></span> 1 2 3 4 &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">die</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1]</span></span> 1 2 3 4 5 6 &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">die</span></span> + 1<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:2</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1]</span></span> 2 4 4 6 6 8 &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">die</span></span> + 1<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:4</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1]</span></span> 2 4 6 8 6 8 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Warning</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">message</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">In</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">die</span></span> + 1<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:4</span></span> : <span class="hljs-selector-tag"><span class="hljs-selector-tag">longer</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">object</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">length</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">not</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">a</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">multiple</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">of</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">shorter</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">object</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">length</span></span></code> </pre><br><img src="https://habrastorage.org/getpro/habr/post_images/305/f2a/c39/305f2ac39f07a872e34d7db2674fdff3.jpg" alt="image"><br><br>  By-element operations are extremely important in R, as they allow processing of groups of values ‚Äã‚Äãin a specific order.  When you begin to work with a variety of data, per-element operations will make sure that the data from one observation exactly matches the data from another observation.  By-element operations also simplify the creation of eigenfunctions and programs on R. <br><br>  However, do not think that R abandoned the traditional matrix work.  You just need to use the right operator. <br><br>  Use the <i>% *%</i> operator for the inner work, and <i>% o%</i> for the outer work. <br><br><pre> <code class="hljs css">&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">die</span></span> %*% <span class="hljs-selector-tag"><span class="hljs-selector-tag">die</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[,1]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1,]</span></span> 91 &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">die</span></span> %<span class="hljs-selector-tag"><span class="hljs-selector-tag">o</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">die</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[,1]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[,2]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[,3]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[,4]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[,5]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[,6]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1,]</span></span> 1 2 3 4 5 6 <span class="hljs-selector-attr"><span class="hljs-selector-attr">[2,]</span></span> 2 4 6 8 10 12 <span class="hljs-selector-attr"><span class="hljs-selector-attr">[3,]</span></span> 3 6 9 12 15 18 <span class="hljs-selector-attr"><span class="hljs-selector-attr">[4,]</span></span> 4 8 12 16 20 24 <span class="hljs-selector-attr"><span class="hljs-selector-attr">[5,]</span></span> 5 10 15 20 25 30 <span class="hljs-selector-attr"><span class="hljs-selector-attr">[6,]</span></span> 6 12 18 24 30 36</code> </pre><br>  You can also transpose the matrix using the <i>t</i> function and calculate its determinant using the <i>det</i> function. <br><br>  Do not worry if you are not familiar with these features.  Their description is simply found in the documentation, besides, in this book you will not need them. <br><br>  Now that you have figured out how to perform math operations on the values ‚Äã‚Äãof the die, let's see how we can program the throw (throwing the dice).  To throw the dice you need something more magical than basic arithmetic;  You will need to randomly select one of the dice values.  But for this you need a <i>function</i> . <br><br><h2>  Functions </h2><br>  R initially contains many useful and surprising functions that you can use for such tasks as, for example, generating a random sample.  For example, you can round the number with the <i>round ()</i> function, or calculate the factorial of the number with the <i>factorial ()</i> function.  Using functions is quite simple.  You write the name of the function you want to use, and in parentheses the data over which you need to perform the calculations: <br><br><pre> <code class="hljs css">&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">round</span></span>(3<span class="hljs-selector-class"><span class="hljs-selector-class">.1415</span></span>) <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1]</span></span> 3 &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">factorial</span></span>(3) <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1]</span></span> 6</code> </pre><br>  The data you pass to a function is called a function argument.  The argument can be as raw data, objects or other functions of R. In the latter case, R will perform functions in the order of decreasing their nesting. <br><br><pre> <code class="hljs css">&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">mean</span></span>(1<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:6)</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1]</span></span> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.5</span></span> &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">mean</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">die</span></span>) <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1]</span></span> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.5</span></span> &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">round</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">mean</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">die</span></span>)) <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1]</span></span> 4</code> </pre><br>  To our happiness, there is a function in R that can help us with the implementation of the die roll.  You can simulate a die roll using the <i>sample</i> function.  The <i>sample</i> function takes two arguments: the vector <i>x</i> and the name parameter <i>size</i> .  The <i>sample</i> function returns the <i>size of</i> elements from the <i>x</i> vector. <br><br><pre> <code class="hljs matlab">&gt; sample(x = <span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">size</span></span> = <span class="hljs-number"><span class="hljs-number">2</span></span>) [<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre><br>  To simulate a <i>die</i> roll and get one numeric value as a result, set <i>x</i> to <i>die</i> and highlight / select one random element. <br>  Each time you start you will have a different value: <br><br><pre> <code class="hljs matlab">&gt; sample(x = die, <span class="hljs-built_in"><span class="hljs-built_in">size</span></span> = <span class="hljs-number"><span class="hljs-number">1</span></span>) [<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-number"><span class="hljs-number">2</span></span> &gt; sample(x = die, <span class="hljs-built_in"><span class="hljs-built_in">size</span></span> = <span class="hljs-number"><span class="hljs-number">1</span></span>) [<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-number"><span class="hljs-number">6</span></span> &gt; sample(x = die, <span class="hljs-built_in"><span class="hljs-built_in">size</span></span> = <span class="hljs-number"><span class="hljs-number">1</span></span>) [<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre><br>  The set of functions in R takes several arguments that help it perform its stated task.  You can pass as many arguments to the function as long as each of them is separated by a comma. <br><br>  You could have noticed that I assigned the values <i>die</i> and 1 to the specific named arguments of the <i>sample</i> function <i>x</i> and <i>size</i> .  Each argument in the R function has its own name.  You can specify which values ‚Äã‚Äãto assign to which arguments, as was shown in the previous example.  It becomes extremely convenient to do when you pass multiple parameters into one function;  Named arguments eliminate errors with passing the wrong data to the wrong arguments.  The use of names is the solution of each and is not mandatory.  You may notice that R users often do not specify the name of the first argument of the function.  The previous code can be rewritten as follows: <br><br><pre> <code class="hljs perl">&gt; sample(<span class="hljs-keyword"><span class="hljs-keyword">die</span></span>, size = <span class="hljs-number"><span class="hljs-number">1</span></span>) [<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-number"><span class="hljs-number">2</span></span> &gt; sample(<span class="hljs-keyword"><span class="hljs-keyword">die</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) [<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre><br>  Very often, the name of the first argument is not very meaningful, and most often it is clear what data must be passed to the function first. <br><br>  How do you know which argument names to use?  If you try to use names that the function does not expect, you will most likely get an error message: <br><br><pre> <code class="hljs vbscript">&gt; <span class="hljs-built_in"><span class="hljs-built_in">round</span></span>(<span class="hljs-number"><span class="hljs-number">3.1415</span></span>, corners = <span class="hljs-number"><span class="hljs-number">4</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">Error</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">round</span></span>(<span class="hljs-number"><span class="hljs-number">3.1415</span></span>, corners = <span class="hljs-number"><span class="hljs-number">4</span></span>) : unused argument (corners = <span class="hljs-number"><span class="hljs-number">4</span></span>)</code> </pre><br>  If you doubt which argument names can be passed to a function, you can use the <i>args</i> function, which will list all possible named arguments of a particular function.  To do this, put the name of the function in parentheses as an argument - <i>args (the name of the function)</i> .  For example, you see that the <i>round</i> function takes two arguments ‚Äî one with the name <i>x</i> , the second with the name <i>digits</i> : <br><br><pre> <code class="hljs lisp">&gt; args(<span class="hljs-name"><span class="hljs-name">round</span></span>) function (<span class="hljs-name"><span class="hljs-name">x</span></span>, digits = <span class="hljs-number"><span class="hljs-number">0</span></span>) NULL &gt; args(<span class="hljs-name"><span class="hljs-name">sample</span></span>) function (<span class="hljs-name"><span class="hljs-name">x</span></span>, size, replace = FALSE, prob = NULL) NULL &gt; args(<span class="hljs-name"><span class="hljs-name">args</span></span>) function (<span class="hljs-name"><span class="hljs-name">name</span></span>) NULL</code> </pre><br>  Did you notice that the <i>digits</i> name argument in the <i>round</i> function is set to 0 by default?  Often functions in R accept optional parameters, such as <i>digits</i> .  These arguments are considered optional because they have already been assigned a default value.  You can pass a new value for such a parameter if you want, or use the default provided.  For example, <i>round</i> rounds clean to the nearest 0 decimal values ‚Äã‚Äãby default.  To overwrite the default, pass in the new: <br><br><pre> <code class="hljs pgsql">&gt; round(<span class="hljs-number"><span class="hljs-number">3.14151617</span></span>, digits = <span class="hljs-number"><span class="hljs-number">3</span></span>) [<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-number"><span class="hljs-number">3.142</span></span></code> </pre><br>  You should specify named arguments after the first or second argument of the function when calling a function with multiple arguments.  Why?  First, it will help you and other developers understand the code.  It is often clear what the transmitted data refers to in the first and second arguments.  However, you will need a phenomenal memory to remember all subsequent argument names for all existing functions in R. Secondly, and more importantly, this will avoid annoying errors. <br><br>  If you do not use named arguments, then R will automatically match the arguments with the parameters in the order in which you passed them.  For example, in the example below, the first <i>die</i> value will be assigned to the variable <i>x</i> , the second value 1 will be assigned to <i>size</i> . <br><br><pre> <code class="hljs markdown"><span class="hljs-quote"><span class="hljs-quote">&gt; sample(die, 1) [1] 2</span></span></code> </pre><br>  The more arguments you pass, the greater the likelihood of diverging the order in which arguments are passed.  As a result, values ‚Äã‚Äãcan be passed to the wrong arguments.  Named arguments exclude such errors.  R will always correctly assign a value to a named argument, regardless of the order in which they follow. <br><br><pre> <code class="hljs matlab">&gt; sample(<span class="hljs-built_in"><span class="hljs-built_in">size</span></span> = <span class="hljs-number"><span class="hljs-number">1</span></span>, x = die) [<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-number"><span class="hljs-number">4</span></span></code> </pre><br><h2>  Sampling with recovery </h2><br>  If you set size = 2, then you almost modeled the dice rolls.  Before you run this code, think a minute, what‚Äôs wrong? <br>  <i>sample</i> returns two numbers, one for each die: <br><br><pre> <code class="hljs matlab">&gt; sample(<span class="hljs-built_in"><span class="hljs-built_in">size</span></span> = <span class="hljs-number"><span class="hljs-number">2</span></span>, x = die) [<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre><br>  I said ‚Äúalmost‚Äù because this method works a bit differently than we expect.  If we run the code above several times, we note that the second value will never coincide with the first, which means we will never be able to throw two triples or two sixes.  What's happening? <br><br>  By default, <i>sample</i> samples <u>without recovery</u> .  To figure out what this means, imagine that <i>sample</i> places all <i>die</i> values ‚Äã‚Äãin an urn (basket).  Then <i>sample</i> randomly fetches the values ‚Äã‚Äãone by one from the basket for building the sample.  After <i>sample has</i> used the selected value, it is not returned back and cannot be reused.  Therefore, if the value of 6 falls for the first time, then the second time it will no longer be able to drop;  6 is no longer in the basket. <br><br>  A side effect of this behavior is the dependence of subsequent shots from previous ones.  In the real world, however, when you roll a pair of dice, each dice is independent of the others.  If 6 falls on the first die, this does not prevent the loss of 6 and on the second die.  You can recreate this behavior in <i>sample by</i> simply passing the optional argument <i>replace = TRUE</i> . <br><br><pre> <code class="hljs vbscript">&gt; sample(die, size = <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">replace</span></span> = <span class="hljs-literal"><span class="hljs-literal">TRUE</span></span>) [<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre><br>  The argument <i>replace = TRUE</i> changes the operation of the <i>sample</i> function.  Our initial basket example is a good way to show how a <i>sample</i> works with and without replacement / repair.  <i>sample</i> with replacement after selecting an arbitrary value from the basket returns it back.  As a result, we have achieved the desired effect. <br><br>  Sampling with recovery is an easy way to create independent random samples (blah blah blah ...).  Each value in your sample will be a sample of size 1 that does not depend on other values.  The correct way to simulate a roll of a pair of dice: <br><br><pre> <code class="hljs vbscript">&gt; sample(die, size = <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">replace</span></span> = <span class="hljs-literal"><span class="hljs-literal">TRUE</span></span>) [<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span></code> </pre><br>  You can praise yourself;  you have just implemented your first simulation on R!  You now have a method to simulate a roll of a die.  If you want to add the dropped dice values, you can simply pass the result of the <i>sample</i> to the <i>sum</i> function. <br><br><pre> <code class="hljs xml">&gt; dice <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">-</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">sample</span></span></span><span class="hljs-tag">(</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">die</span></span></span><span class="hljs-tag">, </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">size</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">2,</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">replace</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">TRUE)</span></span></span><span class="hljs-tag"> &gt;</span></span> dice [1] 3 3 &gt; sum(dice) [1] 6</code> </pre><br>  What happens if you call <i>dica</i> several times?  Will R generate a new pair of values ‚Äã‚Äãfor each roll?  Let's try: <br><br><pre> <code class="hljs css">&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">dice</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1]</span></span> 3 3 &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">dice</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1]</span></span> 3 3 &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">dice</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1]</span></span> 3 3</code> </pre><br>  Not.  Each time you call dica in R, the values ‚Äã‚Äãthat were once stored in this object will be displayed as a result. <br><br>  However, it would be logical to have an object that would be able to generate a new pair of values ‚Äã‚Äãwith each simulation of the throw.  You can implement this by writing your own R function. <br><br><h2>  We write our own functions </h2><br>  Recall that you already have a working code on R that simulates a roll of two dice: <br><br><pre> <code class="hljs xml">&gt; die <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">-</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">1:6</span></span></span><span class="hljs-tag"> &gt;</span></span> dice <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">-</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">sample</span></span></span><span class="hljs-tag">(</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">die</span></span></span><span class="hljs-tag">, </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">size</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">2,</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">replace</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">T)</span></span></span><span class="hljs-tag"> &gt;</span></span> dice [1] 2 5</code> </pre><br>  You can reprint this code into the console R each time you want to make a new dice roll.  However, this is quite a strange way.  It would be much more convenient to use this code once in our function and then call it.  This we now do.  We are going to write the <i>roll</i> function, which you can use to simulate a roll of a virtual dice.  When you are done, the function will work as follows: each time <i>roll () is</i> called, R will return the sum of the values ‚Äã‚Äãof the two rolled dice. <br><br><pre> <code class="hljs lisp">&gt; roll() &gt; <span class="hljs-number"><span class="hljs-number">8</span></span> &gt; roll() &gt; <span class="hljs-number"><span class="hljs-number">3</span></span> &gt; roll() &gt; <span class="hljs-number"><span class="hljs-number">7</span></span></code> </pre><br>  Functions may seem magical and bizarre, but they are nothing more than the type of object in R. Functions do not contain data, but code.  This code is stored in a format that allows it to be reused in other programs. <br><br><h2>  Function constructor </h2><br>  Each function in R consists of three main parts: a name, a body, a list of arguments.  To write your own function, you need to create these three parts and store them in an object using the <i>function () function</i> : <br><br><pre> <code class="hljs matlab">my_function &lt;- <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> {}</span></span></code> </pre><br>  <i>function</i> will create a function from any R code that you place between the opening and closing curly braces.  For example, you can transfer all of your previous dice-throw code into a function: <br><br><pre> <code class="hljs matlab">&gt; roll &lt;- <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> { + </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">die</span></span></span><span class="hljs-function"> &lt;- 1:6 + </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dice</span></span></span><span class="hljs-function"> &lt;- </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sample</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(die, size = 2, replace =T)</span></span></span><span class="hljs-function"> + </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sum</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(dice)</span></span></span><span class="hljs-function"> + }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After opening the curly bracket, the command line R will wait for the remaining commands to enter until it finds the closing curly bracket of the function. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remember to save the result of the function </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">function</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> to an R object. </font><font style="vertical-align: inherit;">This object will now become a function. </font><font style="vertical-align: inherit;">To use the new function, enter the object name, opening and closing parentheses:</font></font><br><br><pre> <code class="hljs mel">&gt; <span class="hljs-keyword"><span class="hljs-keyword">roll</span></span>() [<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-number"><span class="hljs-number">7</span></span> &gt; <span class="hljs-keyword"><span class="hljs-keyword">roll</span></span>() [<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-number"><span class="hljs-number">10</span></span> &gt; <span class="hljs-keyword"><span class="hljs-keyword">roll</span></span>() [<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-number"><span class="hljs-number">11</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You can count the parentheses after the object name as a trigger that runs the code inside the object for execution. </font><font style="vertical-align: inherit;">If you enter a function name without parentheses, then R will show you directly the code stored in the function object:</font></font><br><br><pre> <code class="hljs matlab">&gt; roll <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> { </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">die</span></span></span><span class="hljs-function"> &lt;- 1:6 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dice</span></span></span><span class="hljs-function"> &lt;- </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sample</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(die, size = 2, replace =T)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sum</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(dice)</span></span></span><span class="hljs-function"> }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The code that you put into a function is called </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> function </font><i><font style="vertical-align: inherit;">body</font></i><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">When a function is executed in R, R will execute all the code that is in the function body and return the value that will be calculated on the last line. </font><font style="vertical-align: inherit;">If the last line does not return any value, it means that your function will not return anything. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Here is the code that displays the result after the execution on the last line:</font></font><br><br><pre> <code class="hljs pgsql">&gt; dice &gt; <span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span> &gt; sqrt(<span class="hljs-number"><span class="hljs-number">2</span></span>)</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> But the code that does not display the results after the execution on the last line: </font></font><br><pre> <code class="hljs xml">&gt; dice <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">-</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">sample</span></span></span><span class="hljs-tag">(</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">die</span></span></span><span class="hljs-tag">, </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">size</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">2,</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">replace</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">TRUE)</span></span></span><span class="hljs-tag"> &gt;</span></span> two <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">-</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span><span class="hljs-tag"> + </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span><span class="hljs-tag"> &gt;</span></span> a <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">-</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">sort</span></span></span><span class="hljs-tag">(</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">2</span></span></span><span class="hljs-tag">)</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notice the difference? </font><font style="vertical-align: inherit;">These lines of code do not return a value to the command line; </font><font style="vertical-align: inherit;">they store values ‚Äã‚Äãin the object.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Arguments </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What would happen if we removed one line from our code and renamed the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> variable </font><font style="vertical-align: inherit;">to </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bones</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><br><pre> <code class="hljs matlab">&gt; roll2 &lt;- <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> { + </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dice</span></span></span><span class="hljs-function"> &lt;- </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sample</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(bones, size=2, replace=T)</span></span></span><span class="hljs-function"> + </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sum</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(dice)</span></span></span><span class="hljs-function"> + }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If you now call the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">roll2</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> function </font><font style="vertical-align: inherit;">, you will get an error message. </font><font style="vertical-align: inherit;">For the function to work correctly, a </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bones</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> object is needed </font><font style="vertical-align: inherit;">, but such an object does not exist:</font></font><br><br><pre> <code class="hljs pgsql">&gt; roll2() Error <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> sample(bones, size = <span class="hljs-number"><span class="hljs-number">2</span></span>, replace = T) : <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> <span class="hljs-string"><span class="hljs-string">'bones'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-built_in"><span class="hljs-built_in">found</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You can pass </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bones</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> as an argument to the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">roll2</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> function </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">To do this, you must specify the name of the argument in parentheses in the function declaration:</font></font><br><br><pre> <code class="hljs matlab">&gt; roll2 &lt;- <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(bones)</span></span></span><span class="hljs-function"> { + </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dice</span></span></span><span class="hljs-function"> &lt;- </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sample</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(bones, size = 2, replace = TRUE)</span></span></span><span class="hljs-function"> + </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sum</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(dice)</span></span></span><span class="hljs-function"> + }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">roll2</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> function </font><font style="vertical-align: inherit;">will work if you pass </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bones to it</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">You can use this to throw away different types of dice. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remember that we are throwing two dice:</font></font><br><br><pre> <code class="hljs css">&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">roll2</span></span>(1<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:4)</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1]</span></span> 5 &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">roll2</span></span>(1<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:6)</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1]</span></span> 8 &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">roll2</span></span>(1<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:20)</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1]</span></span> 12</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Note that when you call </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">roll2, it</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> will still return an error if you do not pass values ‚Äã‚Äãto the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bones</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> argument </font><font style="vertical-align: inherit;">.</font></font><br><br><pre> <code class="hljs vbscript">&gt; roll2() <span class="hljs-keyword"><span class="hljs-keyword">Error</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> sample(bones, size = <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">replace</span></span> = <span class="hljs-literal"><span class="hljs-literal">TRUE</span></span>) : argument <span class="hljs-string"><span class="hljs-string">"bones"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> missing, <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> no <span class="hljs-keyword"><span class="hljs-keyword">default</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You can prevent this error from appearing on such a call by </font><font style="vertical-align: inherit;">setting the default </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bones</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> argument </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">You can do this as follows:</font></font><br><br><pre> <code class="hljs matlab">&gt; roll2 &lt;- <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(bones = 1:6)</span></span></span><span class="hljs-function">{ + </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dice</span></span></span><span class="hljs-function"> &lt;- </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sample</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(bones, size = 2, replace = TRUE)</span></span></span><span class="hljs-function"> + </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sum</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(dice)</span></span></span><span class="hljs-function"> + }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now you can safely call the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">roll2</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> function </font><i><font style="vertical-align: inherit;">to</font></i><font style="vertical-align: inherit;"> simulate a roll of two dice:</font></font><br><br><pre> <code class="hljs css">&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">roll2</span></span>() <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1]</span></span> 8 &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">roll2</span></span>(1<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:100)</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1]</span></span> 82</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You can pass an unlimited number of arguments to your functions. To do this, list their names separated by commas between parentheses when declaring a function. Each time the function is started, R will automatically replace the argument name with the value that was passed to it. If no value was passed, then R will use the default value. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Summing up, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">function is</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> used to declare eigenfunctions in R. The function code is placed between two curly braces. Arguments are specified after the function name, separated by commas between two parentheses.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After you have written your function, R will perceive it as any other function. </font><font style="vertical-align: inherit;">Just imagine how useful and convenient this is. </font><font style="vertical-align: inherit;">Have you ever tried to create a new function for Excel and add it to the panel with the menu? </font><font style="vertical-align: inherit;">Or a new type of animation as a new option in PowerPoint? </font><font style="vertical-align: inherit;">When you work with a programming language, all this becomes available to you. </font><font style="vertical-align: inherit;">While learning the R language, you will learn how to create new, customizable, reproducible tools for any occasion. </font><font style="vertical-align: inherit;">In part 3, we take a closer look at the functions. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remember:</font></font><br><img src="https://habrastorage.org/getpro/habr/post_images/677/eb8/648/677eb8648665e9d76151166e63229326.jpg" alt="image"><br><br><h2>  Scripts </h2><br>  To be continued‚Ä¶ </div><p>Source: <a href="https://habr.com/ru/post/268731/">https://habr.com/ru/post/268731/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../268721/index.html">How ABBYY Cloud OCR SDK helps to catch cheap flights</a></li>
<li><a href="../268723/index.html">Netbeans IDE 8.1 - Yet RC</a></li>
<li><a href="../268725/index.html">Preparing and launching an Email campaign in Siebel CRM</a></li>
<li><a href="../268727/index.html">DPC without copper</a></li>
<li><a href="../268729/index.html">Installing the PROXY server on DD-WRT</a></li>
<li><a href="../268733/index.html">Preparing ASP.NET5, issue number 5 - Gulp and Bower rush to the rescue</a></li>
<li><a href="../268735/index.html">Adminer - web interface for databases of one .php file size</a></li>
<li><a href="../268737/index.html">Work with Veeam Endpoint Backup FREE: file-level backup, support for BitLocker, use of paid connections</a></li>
<li><a href="../268739/index.html">New features of Safari 9 in iOS 9 and Mac OS X</a></li>
<li><a href="../268741/index.html">How Snake can introduce OOP: a complex concept in simple words</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>