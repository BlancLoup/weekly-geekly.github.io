<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Adding application settings to Settings</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="If you have a non-game application (in games it‚Äôs customary to place settings in the application itself, although there are no rules without exception...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Adding application settings to Settings</h1><div class="post__text post__text-html js-mediator-article">  If you have a non-game application (in games it‚Äôs customary to place settings in the application itself, although there are no rules without exceptions) with a number of settings, instead of implementing the selection and storage of settings in the application itself, you can add them to the Settings application. the phone itself, and it is done very quickly and easily. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b24/705/592/b247055921e1d8d402fa850e7d03cda3.jpg" alt="Image Hosted by ImageShack.us" width="50%" height="50%"><br><br>  I was faced with the need to add a few settings to the application, I looked through a number of lessons and articles, but almost everywhere the descriptions were fragmentary and too confusing, so now I will try to briefly and easily explain the basic principles of creating the settings window of my application in Settings. <br><a name="habracut"></a><br>  If we describe the whole process in a nutshell, then we must do the following: <br><ul><li>  Add a set of Settings.bundle files to the project </li><li>  Describe all the necessary interface elements of the settings window in the Root.plist file </li><li>  Add an object of type NSUserDefaults to the project and get all the settings from it </li></ul><br>  Now everything is in order and in more detail.  To add all the necessary files to your project, go to the menu File -&gt; New -&gt; New file and select Resource -&gt; Settings Bundle there: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/745/e9c/f75/745e9cf753a0feb47f1f17a7cee719d5.jpg" alt="Image Hosted by ImageShack.us"><br><br>  After that, the new Settings.bundle folder will appear in the file list of your project, consisting of the Root.plist file and the en.lproj folder.  It is this file that contains all the information on the basis of which the settings section of your application will be decorated in Settings, and the folder is needed to implement the application localization for different languages. <br>  The Root.plist file is simply a list of interface elements with their properties that will constitute your settings window.  By default, it looks like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/041/c3c/1a7/041c3c1a77217c57b1cf1c8d6b621f29.jpg" alt="Image Hosted by ImageShack.us"><br><br>  If you compile the application now, a line with the application name will appear in Settings, after selecting which a window will appear consisting of a title, a text field, a switch and a slider (slider).  They are located in the same order in which they go in the file.  By adding, deleting and swapping lines in the file, you can customize the appearance of the settings window in Settings. <br><br>  Now more about the main interface elements and their properties. <br><br>  All elements have a <b>Type</b> property - determines the type of an element, all elements except Slider have a <b>Title</b> property - an interface element title, all elements except Group have a <b>Identifier</b> property - determine the element identifier on which it can later be accessed. <br>  The list of properties unique for each element: <br><br>  <b>Group</b> - has only two properties, Title and Type, and is needed only for creating labels and visually separating settings into groups. <br><br>  <b>Text field</b> <br><ul><li>  Autocapitalization Style - autocapitalization of the text (disabled, beginning of sentences, every word, all capital letters) </li><li>  Autocorrection Style - correction of errors in the text </li><li>  Default Value - the default text field value </li><li>  Text Field Is Secure - password field </li><li>  Keyboard Type - the keyboard type for this field (alphabet, numbers and characters, numbers, URL, eMail) </li></ul><br>  <b>Toggle switch</b> <br><ul><li>  Default Value - the default value (yes / no) </li><li>  Value for OFF - the value that will return the element in the case of OFF (if you need to get a value other than NO, for example 234) </li><li>  Value for ON - the value that will return the element in the case of ON (in case you need to get a value other than YES, for example, 143) </li></ul><br>  <b>Slider</b> <br><ul><li>  Default Value - the default value </li><li>  Maximum Value- the maximum allowable value </li><li>  Minimum Value - the minimum acceptable value. </li><li>  Max Value Image Filename - image near the maximum </li><li>  Min Value Image Filename - image near the minimum </li></ul><br>  <b>Multi value</b> <br><ul><li>  Titles - an array of labels in the selection table </li><li>  Values ‚Äã‚Äã- the value returned when choosing each of the options </li><li>  Default Value - Default Value </li></ul><br>  Separately, I want to describe the process of adding images to the Slider element.  Simply dragging image files into your application will not work here, because after compiling the application files will be in one sandbox, and the Settings files in another.  To add files to the sandbox of the Settings application, go to the Finder, find the folder with your application, there will be the Settings.bundle element, right-click on it and select Show Package Contents <br><br><img src="http://img585.imageshack.us/img585/3720/screenshot20110813at194.jpg" alt="Image Hosted by ImageShack.us"><br><br>  A folder with the files already familiar to us will open, and it is in it that you need to copy the image files. <br><br>  Now.  when the appearance of the settings window is created, it remains only to receive these settings from the application.  To do this, you need to create an object of type NSUserDefaults, assign application settings data to it, and get the values ‚Äã‚Äãof these settings using the keys that were specified in the Identifier property of each of the settings. <br><br><pre><code class="cpp hljs">NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults]; text = [defaults objectForKey:@<span class="hljs-string"><span class="hljs-string">"textField"</span></span>];</code> </pre> <br>  The reverse process also works, that is, you can change settings from the application and save them: <br><br><pre> <code class="cpp hljs"> NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults]; [defaults setValue:text forKey:@<span class="hljs-string"><span class="hljs-string">"textField"</span></span>];</code> </pre><br>  Following the link you can download an example of an application that has all the main elements of the settings window, it is also possible to change the settings of the slider and switch. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/60c/f70/c17/60cf70c179d542170c01eb35345b6b53.png" alt="Image Hosted by ImageShack.us"><br><img src="https://habrastorage.org/getpro/habr/post_images/137/806/2dd/1378062dd4211bca2d0cfbf5a134c3c9.png" alt="Image Hosted by ImageShack.us"><br><br>  <a href="http://depositfiles.com/files/ffg7c2m8o">Download application source</a> </div><p>Source: <a href="https://habr.com/ru/post/126245/">https://habr.com/ru/post/126245/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../126236/index.html">Firefox 6.0</a></li>
<li><a href="../126237/index.html">Load balancing on MPD5 PPPoE server</a></li>
<li><a href="../126238/index.html">My Exercise PaintUp - coloring colorful sketches</a></li>
<li><a href="../126239/index.html">Alpha version of the Raspberry Pi came from the factory</a></li>
<li><a href="../126243/index.html">AVCHD. Porting camcorder time codes to video subtitles</a></li>
<li><a href="../126247/index.html">Antipattern presentation of itself ‚ÄúMBA interested in friends‚Äù</a></li>
<li><a href="../126248/index.html">Using semantic annotation to identify requirements</a></li>
<li><a href="../126250/index.html">Practice interviewing or how I moved to the capital</a></li>
<li><a href="../126251/index.html">Work with WebMoney API</a></li>
<li><a href="../126255/index.html">Watchman syndrome</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>