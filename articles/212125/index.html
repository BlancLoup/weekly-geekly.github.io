<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Create an album gallery</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The article describes the creation of synchronization functionality for album covers. 
 Comments are found both directly in the code, and in the form ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Create an album gallery</h1><div class="post__text post__text-html js-mediator-article">  The article describes the creation of synchronization functionality for album covers. <br>  Comments are found both directly in the code, and in the form of explanations to commits. <br>  There will be quite a lot of code and very few images. <br><a name="habracut"></a><br>  Task: <br>  - create an album list <br>  - Find missing covers for each album <br>  - Save them on your device so that album covers can be seen by our player as well as third-party ones. <br><br>  <a href="https://bitbucket.org/recoilme/freeamp/commits/fac00e6f04133172ac9d2bf1bc48ea4c0f80f885">118: create a child activity in which we will display the loaded album art</a> <br><br>  - Create an empty activ stub <br>  - Add a context menu in the actionbar, consisting of a "wheel" update. <br>  - When creating a menu - "the wheel starts spinning" (replaced by the progress bar). <br>  - Define custom ActionBar background 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Further, I will leave mainly references to commits, with a few explanations.  Since otherwise the article will be too voluminous. <br><br><pre><code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Created by recoil on 26.01.14. */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ActArtworks</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Activity</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> AQuery aq; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Menu optionsMenu; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> refreshing = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Activity activity; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState); <span class="hljs-comment"><span class="hljs-comment">//    getActionBar().setBackgroundDrawable(getResources().getDrawable(R.drawable.ab_bgr)); //   getActionBar().setDisplayHomeAsUpEnabled(true); activity = this; aq = new AQuery(activity); } @Override public boolean onCreateOptionsMenu(Menu menu) { this.optionsMenu = menu; //    MenuInflater inflater = getMenuInflater(); inflater.inflate(R.menu.artwork, menu); //      -   update(); return super.onCreateOptionsMenu(menu); } public void update() { AQUtility.debug("Update progress"); //   "" refreshing = true; //  setRefreshActionButtonState(); } @Override public boolean onOptionsItemSelected(MenuItem item) { switch (item.getItemId()) { case android.R.id.home: //      finish(); return true; } return super.onOptionsItemSelected(item); } public void setRefreshActionButtonState() { //   -       if (optionsMenu != null) { final MenuItem refreshItem = optionsMenu .findItem(R.id.menu_refresh); if (refreshItem != null) { if (refreshing) { refreshItem.setActionView(R.layout.actionbar_indeterminate_progress); } else { refreshItem.setActionView(null); } } } } }</span></span></code> </pre> <br><br>  <a href="https://bitbucket.org/recoilme/freeamp/commits/9cd35d10fe45376f1f711583b16b88a8fd1f33c7">118: create the fillmediastoretracks class to read all the tracks from the media library</a> <br><br>  - The class reads records from the <a href="http://developer.android.com/reference/android/provider/MediaStore.html">MediaStore</a> database table. <br>  When the phone is restarted, the system starts the service that scans the added files.  Files that fall under the definition of ‚Äúmedia‚Äù are added to the database. <br>  - Upon completion of reading all the data from the table of tracks - the serialized ArrayList is <a href="">written</a> as a binary object. <br><br>  <a href="https://bitbucket.org/recoilme/freeamp/commits/ce53da0356def521bc416730ed5f3ee893c8e7f1">118: read the tracks</a> <br><br>  - First we try to create an ArrayList of all tracks by serializing it from a saved object. <br>  - If ‚Äúsave‚Äù but not, we form a list of tracks and ‚Äúsave‚Äù <br><br>  <a href="https://bitbucket.org/recoilme/freeamp/commits/0bd00eae2c12e3f160a0934866784c9cb347dccb">118: displaying the list of albums</a> <br><br>  - Add GridView to activity <br>  - Adding an adapter to display data <br>  - In the adapter we define getView, consisting of a single text field <br>  - Display a list of all album titles known to android <br><br>  <a href="https://bitbucket.org/recoilme/freeamp/commits/b8af45a373bfbca7fb97e6f12e56bccf95b841a0">118: throwing out duplicate albums</a> <br><br>  - Sort the track list by album. <br>  - We start the iterator, and go through the list.  When duplicating an album in the list, we throw it out of the array. <br><br>  <a href="https://bitbucket.org/recoilme/freeamp/commits/a56723ed5003a1812702b9c104c7fb19eab4c240">118: added compatibility with android 8+ (phew!)</a> <br><br>  - Add the source code of the compatibility library <a href="http://developer.android.com/tools/support-library/features.html">appcompat</a> <br>  - We rewrite all the context menus - we add our own scheme and within it define how to show the menu item <br><pre> <code class="java hljs">&lt;menu xmlns:android=<span class="hljs-string"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span> xmlns:FreeAmp=<span class="hljs-string"><span class="hljs-string">"http://schemas.android.com/apk/res-auto"</span></span>&gt; &lt;item android:id=<span class="hljs-string"><span class="hljs-string">"@+id/menu_refresh"</span></span> android:icon=<span class="hljs-string"><span class="hljs-string">"@drawable/ic_action_refresh"</span></span> android:title=<span class="hljs-string"><span class="hljs-string">""</span></span> android:alphabeticShortcut=<span class="hljs-string"><span class="hljs-string">"r"</span></span> android:orderInCategory=<span class="hljs-string"><span class="hljs-string">"1"</span></span> FreeAmp:showAsAction=<span class="hljs-string"><span class="hljs-string">"always"</span></span> /&gt; &lt;/menu&gt;</code> </pre><br>  - Inherited from the built-in style library <br><pre> <code class="java hljs">&lt;style name=<span class="hljs-string"><span class="hljs-string">"theme"</span></span> parent=<span class="hljs-string"><span class="hljs-string">"@style/Theme.AppCompat"</span></span>&gt;</code> </pre><br>  - All activity is inherited from ActionBarActivity <br>  - Override menu creation <br><pre> <code class="java hljs">- refreshItem.setActionView(R.layout.actionbar_indeterminate_progress); + MenuItemCompat.setActionView(refreshItem, R.layout.actionbar_indeterminate_progress);</code> </pre><br>  - Import the ListPopupWindow library - from the compatibility library <br><br>  I had to digress a little bit to a few weakly related modifications (mostly bugs) <br>  <a href="https://bitbucket.org/recoilme/freeamp/commits/a7d3401987a790991295319da1d51e883b6c3153">118: notification background</a> <br>  <a href="https://bitbucket.org/recoilme/freeamp/commits/29f75e20b26e6bbff6e998c3bac8bbd6414f5c1f">118: ape without tags processed.</a>  <a href="https://bitbucket.org/recoilme/freeamp/commits/29f75e20b26e6bbff6e998c3bac8bbd6414f5c1f">Check on other ape</a> <br>  <a href="https://bitbucket.org/recoilme/freeamp/commits/882bfe637cb71122b2b209869827f05e2576f5ac">118: added support for .opus files</a> <br><br>  <a href="https://bitbucket.org/recoilme/freeamp/commits/9db50a11673eb8849892fd3f7b528cf43f532fcb">119: curl library added</a> <br><br>  - <a href="https://github.com/liudongmiao/curl-android">curl for android</a> <br>  libcurl.so size: <br>  (default is ftp, https with ares) <br>  https: ~ 169K (including http, https) <br>  ares: ~ 28K (adding to https, with ares support) <br>  ipv6: ~ 0K (no extra size) <br>  + full: ~ 278K (all protocols, with ares) <br>  This is quite a bold and in many ways an experimental solution that has both unconditional advantages and unconditional disadvantages.  Since I plan to write a player for all popular platforms - if possible I try cross-platform libraries.  Whether curla comes out is good - we'll see. <br><br>  Again, a slight hiccup from the main line: <br>  <a href="https://bitbucket.org/recoilme/freeamp/commits/b596520d43670103fc7f3ad3fc4ebac388f26b86">119: set ringtone</a> <br><br>  - Method to set the current track as a ringtone (torn from the sorts). <br><br>  <a href="https://bitbucket.org/recoilme/freeamp/commits/e2fdd372b6ae47f71cccdfef78555e7831720090">119: easy curl request</a> <br><br>  - Class wrapper to call curl.  So far everything is quite ascetic.  At the input url - at the output an array of bytes (ByteArrayOutputStream).  If you want, make a string of it, but if you don't, make a bitmap.  Or something else. <br><br>  People came and started asking for <a href="https://bitbucket.org/recoilme/freeamp/commits/a4a07ac28b39d1efd6f019a771672b261b923313">support from external sd cart</a> <br><br>  <a href="https://bitbucket.org/recoilme/freeamp/commits/df18ed3a6087e1317b35576f04c0a519065d25ad">121: we throw out an album not found and create a grid with a list of albums</a> <br><br>  - Wrap the generation of the list of covers in the asynchronous task <br>  <a href="https://bitbucket.org/recoilme/freeamp/commits/5f4179c5a8e077b33bf87745a4aa880438b25291">121: generic pictures for gridview</a> <br><br>  - Read json with the album cover with last.fm through a wrapper around curl <br><pre> <code class="java hljs"> String url = String.format(<span class="hljs-string"><span class="hljs-string">"http://ws.audioscrobbler.com/2.0/?method=album.getinfo&amp;api_key=0cb75104931acd7f44f571ed12cff105&amp;artist=%s&amp;album=%s&amp;format=json"</span></span>, Uri.encode(track.getArtist()),Uri.encode(currentAlbum)); getHttpData = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GetHttpData(); getHttpData.setUrl(url); getHttpData.request(); String result = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(getHttpData.getByteArray());</code> </pre><br><br>  - Parsim answer <br><pre> <code class="java hljs">JSONObject jsonObject = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> JSONObject(result); jsonObject = jsonObject.getJSONObject(<span class="hljs-string"><span class="hljs-string">"album"</span></span>); JSONArray image = jsonObject.getJSONArray(<span class="hljs-string"><span class="hljs-string">"image"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;image.length();i++) { jsonObject = image.getJSONObject(i); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (jsonObject.getString(<span class="hljs-string"><span class="hljs-string">"size"</span></span>).equals(<span class="hljs-string"><span class="hljs-string">"extralarge"</span></span>)) { albumArtImageLink = Uri.decode(jsonObject.getString(<span class="hljs-string"><span class="hljs-string">"#text"</span></span>)); AQUtility.debug(track.getArtist()+<span class="hljs-string"><span class="hljs-string">":"</span></span>+currentAlbum,albumArtImageLink); } }</code> </pre><br><br>  - Upload a picture <br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//download image getHttpData = new GetHttpData(); getHttpData.setUrl(albumArtImageLink); getHttpData.request(); ContentResolver res = activity.getContentResolver(); Bitmap bm = BitmapFactory.decodeByteArray(getHttpData.getByteArray(),0,getHttpData.getByteArray().length);</span></span></code> </pre><br><br>  - Save the link to the image in the database table (peeped in the source code, we try to spoil in the same folders that already shat android) <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// Put the newly found artwork in the database. // Note that this shouldn't be done for the "unknown" album, // but if this method is called correctly, that won't happen. // first write it somewhere String file = Environment.getExternalStorageDirectory() + "/albumthumbs/" + String.valueOf(System.currentTimeMillis()); if (FileUtils.ensureFileExists(file)) { try { OutputStream outstream = new FileOutputStream(file); if (bm.getConfig() == null) { bm = bm.copy(Bitmap.Config.RGB_565, false); if (bm == null) { //return getDefaultArtwork(context); } } boolean success = bm.compress(Bitmap.CompressFormat.JPEG, 75, outstream); outstream.close(); if (success) { ContentValues values = new ContentValues(); values.put("album_id", track.getAlbumId()); values.put("_data", file); Uri newuri = res.insert(MediaUtils.sArtworkUri, values); if (newuri == null) { // Failed to insert in to the database. The most likely // cause of this is that the item already existed in the // database, and the most likely cause of that is that // the album was scanned before, but the user deleted the // album art from the sd card. // We can ignore that case here, since the media provider // will regenerate the album art for those entries when // it detects this. success = false; } } if (!success) { File f = new File(file); f.delete(); iterator.remove(); } } catch (FileNotFoundException e) { AQUtility.debug( "error creating file", e); } catch (IOException e) { AQUtility.debug( "error creating file", e); } }</span></span></code> </pre><br><br>  <a href="https://bitbucket.org/recoilme/freeamp/commits/905ccd8141664d477fe0fc9db3419c7ffdb58ffb">121: out of memory</a> <br><br>  - Scroll the grid up and down and find two things: <br>  1. Creepy lags (that's right, you need to optimize) <br>  2. out of memory (also true, though caught a bit earlier than expected, since a surprise crept into the code stolen from the sorts) <br><br>  <a href="https://bitbucket.org/recoilme/freeamp/commits/8d5a02cc3d4e75ff2e120c33eecbe00be498eb32">121: LRU Cashe</a> <br><br>  - Create a dedicated memory area for storing images, which will be repressed as it fills <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// LruCache: http://developer.android.com/training/displaying-bitmaps/cache-bitmap.html + int cacheSize = 20 * 360000; // &lt;7MiB = 300width * 300heigth * 4bytesperpixel * 20images + LruCache bitmapCache = new LruCache(cacheSize) { + protected int sizeOf(int key, Bitmap value) { + return value.getRowBytes() * value.getHeight();//    + } + }; + + public void addBitmapToMemoryCache(int key, Bitmap bitmap) { + synchronized (bitmapCache) { + if (getBitmapFromMemCache(key) == null) { + bitmapCache.put(key, bitmap); + } + } + } + + public Bitmap getBitmapFromMemCache(int key) { + return (Bitmap) bitmapCache.get(key); + }</span></span></code> </pre><br><br>  - Read previously downloaded pictures from the cache, add new pictures to the cache when loading <br><br>  <a href="https://bitbucket.org/recoilme/freeamp/commits/8e34322b011d0bac4bea15bbd5a13fa889a4cf6b">121: load images asynchronously</a> <br><br>  After switching to the forcing cache, two things happened: <br>  1. Missing out of memory (which is logical) <br>  2. But the brakes when scrolling remained <br><br>  - Read pictures asynchronously <br><br>  <a href="https://bitbucket.org/recoilme/freeamp/commits/ea697c12e281af14d33f2849a8b35b5405d4912d">121: onScrollStateChanged, onConfigurationChanged</a> <br><br>  - Turn off the loading of the picture, at the moment when the user "katnul" scroll and it "soars" by inertia <br><br>  - We recreate the adapter when the device orientation changes <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">applyAdapter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tracks == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; adapter = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AdpArtworks(activity,tracks); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> iDisplayWidth = getResources().getDisplayMetrics().widthPixels ; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> numColumns = (iDisplayWidth / <span class="hljs-number"><span class="hljs-number">310</span></span>); gridView.setColumnWidth( (iDisplayWidth / numColumns) ); gridView.setNumColumns(numColumns); gridView.setStretchMode( GridView.NO_STRETCH ) ; gridView.setAdapter(adapter); gridView.setOnScrollListener(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AbsListView.OnScrollListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onScrollStateChanged</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AbsListView view, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> scrollState)</span></span></span><span class="hljs-function"> </span></span>{ adapter.setScrollState(scrollState); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (scrollState == AbsListView.OnScrollListener.SCROLL_STATE_IDLE) { adapter.notifyDataSetChanged(); } } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onScroll</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AbsListView view, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> firstVisibleItem, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> visibleItemCount, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> totalItemCount)</span></span></span><span class="hljs-function"> </span></span>{ } }); }</code> </pre><br>  <a href="https://bitbucket.org/recoilme/freeamp/commits/36e4e86c24bd77a6e49f45bb0c3d4b30b5dc87bb">121: convert drawable 2 bitmap, update</a> <br><br>  - Convert xml placeholder to image <br>  - We hang up the update call by clicking on the "wheel" in the menu <br><br><pre> <code class="java hljs">+ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Drawable imgBgr = activity.getResources().getDrawable(R.drawable.row_bgr); + <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Bitmap bitmap = Bitmap.createBitmap(width, width, Bitmap.Config.ARGB_8888); + Canvas canvas = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Canvas(bitmap); + imgBgr.setBounds(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, canvas.getWidth(), canvas.getHeight()); + imgBgr.draw(canvas); + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.placeHolder = bitmap;</code> </pre><br><br>  <a href="https://bitbucket.org/recoilme/freeamp/commits/ffb27cc6321efd74b8b1870a10f45c3f1fc59199">121: download indicator</a> <br>  <a href="https://bitbucket.org/recoilme/freeamp/commits/374969978e81402ac6a06510ff7df488c63071c6">121: notification</a> <br><br>  - Add progress to indicate the progress of the download and display a notification about the number of albumists found. <br><br>  And now there will be slides! <br><br><img src="http://habrastorage.org/files/6b4/28b/e2b/6b428be2bd454de693dc281661ce0c67.png" alt="image"><br><br><img src="http://habrastorage.org/files/8ef/959/742/8ef9597424ed46518c483c1f94516753.png" alt="image"></div><p>Source: <a href="https://habr.com/ru/post/212125/">https://habr.com/ru/post/212125/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../212115/index.html">C ++ IDE from JetBrains: when?</a></li>
<li><a href="../212117/index.html">Bitcoin protocol feature that led to delays in Mtgox pinouts and general commotion</a></li>
<li><a href="../212119/index.html">4 billion rubles for an intelligent video surveillance system for the Moscow Metro</a></li>
<li><a href="../212121/index.html">Classic Scala Design Patterns</a></li>
<li><a href="../212123/index.html">Lightpack went on sale in Russia</a></li>
<li><a href="../212127/index.html">Freaks and Geeks: the main cranks of the IT world</a></li>
<li><a href="../212131/index.html">Open Data Day February 22 in Moscow</a></li>
<li><a href="../212137/index.html">Qwt and Qt Creator. Part 3: Graph as a Designer Form Element</a></li>
<li><a href="../212141/index.html">The service approach of publishing or transmitting data is strictly not earlier than the specified date and / or only in a certain geolocation</a></li>
<li><a href="../212143/index.html">What browser are you using?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>