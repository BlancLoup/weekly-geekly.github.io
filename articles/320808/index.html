<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Development for Sailfish OS: QML Components Testing</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! This article is a continuation of a series of articles devoted to the development of the mobile platform Sailfish OS. This time we will talk ab...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Development for Sailfish OS: QML Components Testing</h1><div class="post__text post__text-html js-mediator-article">  Hello!  This article is a continuation of a series of articles devoted to the development of the mobile platform Sailfish OS.  This time we will talk about how to organize testing QML-components of applications written for mobile devices.  Consider all the steps from writing code to running tests on a real device. <br><a name="habracut"></a><br><h3>  Test application </h3><br>  As an example, we will consider a simple application counter.  It contains a field displaying the current value of the counter.  If you click on the "add" button, the counter value is increased by one.  In the pull-out menu there is an item to reset the counter value to zero. <br><table><tbody><tr><td><div style="text-align:center;"><img src="https://habrastorage.org/files/9e3/16f/3d0/9e316f3d0a4e4815a92daa2d26d358b8.png"></div></td><td><div style="text-align:center;"><img src="https://habrastorage.org/files/ed3/55e/378/ed355e3789a74f47b23f2bff3e889632.png"></div></td></tr></tbody></table><br><h3>  Application setup </h3><br>  The <a href="http://doc.qt.io/qt-5/qttest-index.html">QtTest</a> framework, specifically the QML object of type <a href="http://doc.qt.io/qt-5/qml-qttest-testcase.html">TestCase, is used</a> to write tests.  With it, you can make actions of pressing the screen and check the expected values ‚Äã‚Äãagainst the real.  It should be noted that at the time of writing the article, the Sailfish SDK uses Qt version 5.2, so not all methods listed in the documentation are available. <br><br>  In order to use the QtTest framework in an application, you need to add a dependency in the * .yaml file for building under PkgConfigBR: <code>- Qt5Test</code> .  Next, you need to register the installation path for the tests in the * .pro file as follows: <br><br><pre> <code class="hljs ruby">tests.files = tests/* tests.path = <span class="hljs-regexp"><span class="hljs-regexp">/usr/share</span></span><span class="hljs-regexp"><span class="hljs-regexp">/counter-application/tests</span></span> INSTALLS += tests OTHER_FILES += tests/*</code> </pre><br>  In this example, the variable <i>tests.files contains the</i> address of the directory with tests in the project, and <i>tests.path the</i> way in which these tests will be installed on the device. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Implementation of tests </h3><br>  Test files must begin with the prefix <i>tst_</i> .  QML tests are written, where the root element is an object of type <i>TestCase</i> , inside which functions are declared.  Those functions that start with the <i>test_</i> prefix are considered tests and will be run by the framework.  For example, create a simple test and place it in the <i>tst_counter.qml</i> file: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> QtQuick <span class="hljs-number"><span class="hljs-number">2.0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Sailfish.Silica <span class="hljs-number"><span class="hljs-number">1.0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> QtTest <span class="hljs-number"><span class="hljs-number">1.0</span></span> TestCase { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_addition</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ compare(<span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>); } }</code> </pre><br>  To test QML components of an application, you need to use its main element, which is defined in the <i>qml / project-name</i> file.  It is important that you can apply only to elements defined in files with names in the CamelCase format.  Therefore, an auxiliary file is created with the name of a suitable format ( <i>qml / ProjectName</i> ) in which the entire contents of the <i>qml / project_name are</i> transferred.  And in order to start the application, the <i>ProjectName</i> element is inserted into the source file as before.  In our case, the contents of the file <i>counter-application.qml are</i> transferred to the new <i>CounterApplication.qml</i> file.  In the file <i>counter-application.qml,</i> we leave the following: <br><br><pre> <code class="hljs nginx"><span class="hljs-section"><span class="hljs-section">CounterApplication</span></span> { }</code> </pre><br>  Now we need to configure TestCase to run the tests after the application is loaded.  Consider the properties of this object: <br><br><ul><li>  <i>completed</i> : bool - set to <i>true</i> after completion of the test suite </li><li>  <i>name</i> : string - the name of the test suite for report output </li><li>  <i>optional</i> : bool - if the flag is <i>true</i> , then the test is skipped (by default, <i>false</i> ) </li><li>  <i>running</i> : bool - <i>true</i> if the test suite is running </li><li>  <i>when</i> : bool - must be set to <i>true</i> to run the test suite ( <i>true by</i> default) </li><li>  <i>windowShown</i> : bool - <i>true</i> if the component containing the <i>TestCase</i> was displayed </li></ul><br>  In order to test the QML components of our application, we need to put <i>TestCase</i> inside the object that describes the application.  Earlier we selected the object in a separate file and can use it in other files.  We must use the <i>when</i> and <i>windowShown</i> properties to run tests only when the application window is displayed.  Also set the name for the test suite in the <i>name</i> property.  For our tests, it looks like this: <br><br><pre> <code class="hljs matlab">CounterApplication { TestCase { name: <span class="hljs-string"><span class="hljs-string">"Counter tests"</span></span> when: windowShown <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_addition</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> { </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">compare</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(2 + 2, 4)</span></span></span><span class="hljs-function">; } } }</span></span></code> </pre><br>  Now the CounterApplication object is available in tests and we can interact with it and with the views it displays. <br><br>  The QtTest framework provides methods for interacting with standard Qt components.  Unfortunately, components from Sailfish Silica are not standard, so we need to write our own methods for working with them.  To solve this problem, we extend the <i>TestCase</i> class, to which we add methods for interacting with Sailfish components.  We create the <i>SailfishTestCase.qml</i> file in which the root element is the <i>TestCase</i> object.  Inside this <i>TestCase,</i> we add the methods we want to use inside our tests.  Later in the test files, we use the <i>SailfishTestCase</i> object instead of the <i>TestCase</i> object and use the added methods. <br><br>  First we need to find some element displayed by the view.  In QML, the <i>id</i> property is used to access view elements, but it is not accessible from the outside.  Therefore, for elements that need to be searched in the displayed form, we set the value of the <i>objectName</i> property and look for elements using it.  For a search, you can organize a recursive descent into depth with checking the value of the property of the object for equality to the desired one.  A method has been implemented that allows you to find an element for which a certain property has a specified value: <br><br><pre> <code class="hljs php"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findElementWithProperty</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(parent, propertyKey, propertyValue, exact, root)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>.visible) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (exact &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>[propertyKey] === propertyValue) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!exact &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>[propertyKey] !== undefined &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>[propertyKey].search(propertyValue) !== <span class="hljs-number"><span class="hljs-number">-1</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span> } } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>.children !== undefined &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>.visible) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>.children.length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> element = findElementWithProperty(<span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>.children[i], propertyKey, propertyValue, exact, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (element !== undefined) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> element; } } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (root) { fail(<span class="hljs-string"><span class="hljs-string">"Element with property key '"</span></span> + propertyKey + <span class="hljs-string"><span class="hljs-string">"' and value '"</span></span> + propertyValue + <span class="hljs-string"><span class="hljs-string">"' not found"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> undefined; } }</code> </pre><br>  Parameters of this method are: <br><br><ol><li>  <i>parent</i> - the element to start the search with. </li><li>  <i>propertyKey</i> - the property whose value is being checked </li><li>  <i>propertyValue</i> - the value of the property to be found </li><li>  <i>exact</i> - true if you want full compliance of the desired value to the one found, otherwise the value is searched as a substring </li><li>  <i>root</i> - true if the current item is the start item </li></ol><br>  To search for an item by <i>objectName</i> , an additional method was implemented, since this type of search is most in demand: <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> findElementWithObjectName(root, <span class="hljs-type"><span class="hljs-type">name</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> findElementWithProperty(root, "objectName", <span class="hljs-type"><span class="hljs-type">name</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); }</code> </pre><br>  A prime example of a non-standard Qt component is the pull-out menu, which is widely used in Sailfish applications.  Among the <i>TestCase</i> methods, there is no one that would allow a single call to select an element from such a menu, so the following implementation of this behavior was helpful: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">openPullDownMenu</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">element</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> x = element.width / <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> startY = element.height / <span class="hljs-number"><span class="hljs-number">10</span></span>; mousePress(element, x, startY); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>; i &lt;= <span class="hljs-number"><span class="hljs-number">5</span></span>; i++) { mouseMove(element, x, startY * i); } mouseRelease(element, x, startY * i); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clickElement</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">element</span></span></span><span class="hljs-function">) </span></span>{ mouseClick(element, element.width / <span class="hljs-number"><span class="hljs-number">2</span></span>, element.height / <span class="hljs-number"><span class="hljs-number">2</span></span>); wait(<span class="hljs-number"><span class="hljs-number">1000</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clickPullDownElement</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">parent, name</span></span></span><span class="hljs-function">) </span></span>{ openPullDownMenu(parent); clickElement(findElementWithObjectName(parent, name)); }</code> </pre><br>  The <i>openPullDownMenu (element)</i> method allows you to imitate the stretching of the menu as the user would: the screen is pressed first, and then the pointer is held down to open the menu and released.  The parameter is the object containing this menu itself. <br><br>  The <i>clickElement (element)</i> method is also useful, allowing you to click on the specified element and wait a second to complete the action initiated by pressing. <br><br>  Combining the methods described above, we create the <i>clickPullDownElement (parent, name)</i> method, which allows you to open the menu that is contained in the <i>parent</i> element passed to the method and click on the element whose <i>objectName</i> property <i>value</i> is equal to the <i>name</i> parameter value. <br><br>  Using these methods, we can write tests for our application.  The first will increase the counter value twice and check that the value has increased.  The second will increase the value of the counter and reset it, then check that it has become equal to 0. <br><br><pre> <code class="hljs actionscript">CounterApplication { SailfishTestCase { name: <span class="hljs-string"><span class="hljs-string">"Counter tests"</span></span> when: windowShown <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_counterAdd</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> button = findElementWithObjectName(pageStack.currentPage, <span class="hljs-string"><span class="hljs-string">"addButton"</span></span>); clickElement(button); clickElement(button); compare(findElementWithObjectName(pageStack.currentPage, <span class="hljs-string"><span class="hljs-string">"countText"</span></span>).text, <span class="hljs-string"><span class="hljs-string">"2"</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_counterReset</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> button = findElementWithObjectName(pageStack.currentPage, <span class="hljs-string"><span class="hljs-string">"addButton"</span></span>); clickElement(button); clickElement(button); clickPullDownElement(pageStack.currentPage, <span class="hljs-string"><span class="hljs-string">"resetItem"</span></span>); compare(findElementWithObjectName(pageStack.currentPage, <span class="hljs-string"><span class="hljs-string">"countText"</span></span>).text, <span class="hljs-string"><span class="hljs-string">"0"</span></span>); } } }</code> </pre><br>  The application does not close between running the tests and does not clear the data.  Responsibility for pre-tuning and data cleansing before and after performing tests rests entirely with the developer.  There are two methods in <i>TestCase</i> that are called before and after the execution of each test: <i>init ()</i> , <i>cleanup ()</i> .  These methods should be used to return the state of the application to its original state.  There are also <i>initTestCase ()</i> and <i>cleanupTestCase ()</i> methods that are called once before and after all the tests, respectively. <br><br>  In our example, you need to reset the counter after each test, for this we add the following implementation of the <i>cleanup ()</i> method: <br><br><pre> <code class="hljs matlab">CounterApplication { SailfishTestCase { name: <span class="hljs-string"><span class="hljs-string">"Counter tests"</span></span> when: windowShown ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cleanup</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> { </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clickPullDownElement</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pageStack.currentPage, "resetItem")</span></span></span><span class="hljs-function">; } } }</span></span></code> </pre><br>  Upon completion of each test, the ‚Äúreset‚Äù button from the pullout menu will be pressed. <br><br><h3>  Build and run tests </h3><br>  Before you run the tests, you need to build and deploy the application on the device (both a physical device and an emulator will do).  This process is described <a href="https://habrahabr.ru/post/305510/">in one of the previous articles of the</a> cycle.  In order to be able to run tests on the device, you need to install two packages using the commands: <br><br><pre> <code class="hljs sql">pkcon <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> qt5-qtdeclarative-<span class="hljs-keyword"><span class="hljs-keyword">import</span></span>-qttest pkcon <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> qt5-qtdeclarative-devel-tools</code> </pre><br>  Thus, we install the QtTest framework on the device, which will allow us to run the tests we have written. <br><br>  To run the tests, we use the qmltestrunner utility, which as a parameter is passed the path to the files with tests.  It looks like this: <br><br><pre> <code class="hljs pgsql">/usr/lib/qt5/bin/qmltestrunner -<span class="hljs-keyword"><span class="hljs-keyword">input</span></span> /usr/<span class="hljs-keyword"><span class="hljs-keyword">share</span></span>/counter-application/tests/</code> </pre><br>  As a result, we see the following: <br><br><pre> <code class="hljs css">********* <span class="hljs-selector-tag"><span class="hljs-selector-tag">Start</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">testing</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">of</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qmltestrunner</span></span> ********* <span class="hljs-selector-tag"><span class="hljs-selector-tag">Config</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">Using</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">QtTest</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span> 5<span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Qt</span></span> 5<span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">PASS</span></span> : <span class="hljs-selector-tag"><span class="hljs-selector-tag">qmltestrunner</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::Counter</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">tests</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::initTestCase()</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">PASS</span></span> : <span class="hljs-selector-tag"><span class="hljs-selector-tag">qmltestrunner</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::Counter</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">tests</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::test_counterAdd()</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">PASS</span></span> : <span class="hljs-selector-tag"><span class="hljs-selector-tag">qmltestrunner</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::Counter</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">tests</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::test_counterReset()</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">PASS</span></span> : <span class="hljs-selector-tag"><span class="hljs-selector-tag">qmltestrunner</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::Counter</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">tests</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::cleanupTestCase()</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Totals</span></span>: 4 <span class="hljs-selector-tag"><span class="hljs-selector-tag">passed</span></span>, 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">failed</span></span>, 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">skipped</span></span> ********* <span class="hljs-selector-tag"><span class="hljs-selector-tag">Finished</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">testing</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">of</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qmltestrunner</span></span> *********</code> </pre><br>  In the output, in addition to the two tests we added, <i>test_counterAdd ()</i> and <i>test_counterReset ()</i> , calls to the <i>initTestCase ()</i> and <i>cleanupTestCase ()</i> methods are <i>displayed</i> . <br><br><h3>  Conclusion </h3><br>  As a result, a method for writing tests for testing QML components in applications for the Sailfish OS platform was considered.  As an example, a simple counter-application was considered, the source code of which (along with tests) are available on <a href="https://github.com/ExAnimoso/counter-application">GitHub</a> . <br><br>  Technical issues can also be discussed on <a href="https://t.me/sailfishos">the Sailfish OS Russian-speaking community channel in a Telegram</a> or <a href="https://vk.com/merproject">VKontakte group</a> . <br><br>  Author: Sergey Averkiev </div><p>Source: <a href="https://habr.com/ru/post/320808/">https://habr.com/ru/post/320808/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../320796/index.html">How to make a girl an offer with the help of social engineering</a></li>
<li><a href="../320798/index.html">The first Russian motherboard of the mass segment</a></li>
<li><a href="../320800/index.html">Creating a realistic chat in the game Mr. Robot: 1.51exfiltrati0n</a></li>
<li><a href="../320802/index.html">How IT professionals work. Anton Charchenko, Technical Lead at EnglishDom</a></li>
<li><a href="../320806/index.html">Oracle Cloud Machine in the enterprise data center</a></li>
<li><a href="../320810/index.html">New SQLite ORM for C ++</a></li>
<li><a href="../320812/index.html">Using the interview method to develop IT products: is it possible to conduct qualitative research on your own?</a></li>
<li><a href="../320814/index.html">Features of the development of mobile MMO RTS. Part 3</a></li>
<li><a href="../320818/index.html">Shooting article: marketing and PR in IT</a></li>
<li><a href="../320824/index.html">Free SSL for CP Vesta - easy. And SSL for Laravel</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>