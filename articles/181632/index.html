<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We create Apple-media storage on a PC-based</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 
 On a tip from a colleague from Twitter @ ripper2k, my story is about the implementation of the iTunes project and the DLNA media server and f...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We create Apple-media storage on a PC-based</h1><div class="post__text post__text-html js-mediator-article">  Hello! <br>  On a tip from a colleague from Twitter <a href="https://twitter.com/ripper2k">@ ripper2k,</a> my story is about the implementation of the iTunes project and the DLNA media server and file storage for the apple home infrastructure.  <i>Successful implementation</i> . <br><br><a name="habracut"></a><br>  A few words about the ingredients of my computer park: <br><ul><li>  Apple iMac MC813 All-in-One PC; </li><li>  Apple Macbook Air MD224; </li><li>  LCD TV Philips 40PFL8505H; </li><li>  Pioneer Blu-ray Player BDP-140; </li><li>  Apple TV 3 generation; </li><li>  IP TV from Rostelecom; </li><li>  iPhones; </li><li>  ASUS DSL-N10 ADSL modem and Apple Airport Extreme Base Station router ( <a href="http://schidakov.ru/all/wi-fi/">here we read a detailed story about the network implementation</a> ); </li><li>  <s>microwave with Internet access and TV-in</s> (joke). </li></ul><br>  As you can see, the actual computer subsystem is based on Macs, which impose their own requirements for the organization of file and media storage, which must be taken into account when implementing the project, of course: <br><ul><li>  software emulation of Time Machine (TM hereinafter) to create backup copies of both home Macintoshes; </li><li>  access to shared data through AFP. </li></ul><br>  I emphasize that AFP (Apple File Protocol) is the preferred choice in my situation, because it is the native file system for Mac OS, and secondly, it is practically established that the resources shared from Windows 7 are not compatible with Mac OS X (on both Macs the version 10.8 - Mountain Lion).  With Windows XP, everything is much simpler and friendlier, but the operating system imposes restrictions on the size of hard drives. <br><br>  iOS devices in the face of iPhones and Apple TV consoles also impose their limitations: <br><ul><li>  in order must be lifted iTunes-library of music and video; </li><li>  As a separate point, I stress the importance of creating a ‚ÄúHome Collection‚Äù in iTunes and giving access to devices on the local network. </li></ul><br>  To TV devices (in my set, at least) take out and put a separate DLNA server to access the library. <br>  Well, the last item is my personal Wishlist: <br><ul><li>  torrento and file rocking; </li><li>  common document library; </li><li>  music and video storage for home theater; </li><li>  the ability to fit and see at least three hard drives with a data volume of more than 1 TB; </li><li>  remote access from anywhere in the world, even from a mobile device. </li></ul><br>  So, the conditions of the problem are known, but what options are there for its solution?  We list the main ones: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Autonomous NAS </h5><br>  From the undoubted merits of ready-made NAS solutions, I will highlight: <br><ul><li>  compactness; </li><li>  low consumption of electrical energy; </li><li>  flexible options for installing additional hard drives; </li><li>  big enough software features out of the box. </li></ul><br>  But all these nishtyaki more than cover the fact of the existence of <i>proprietary</i> operating systems on board;  for example, a full-fledged iTunes-server with support for the Home collection is no longer lifted, therefore, we delete the NAS from the list.  Well, and a separate nuance - their price: instead of a device for 4 hard disks and software capabilities for the above needs, you can quite easily buy a Mac mini + external Thunderbolt box for HDD and not be soared with the choice. <br><br>  Once the finished hardware does not suit us, we can create it ourselves!  And such a scheme will have much more advantages - this is the price, this is the possibility of selecting components for specific needs, this is the scope for choosing a software shell, etc.  In my case, this is the simplest PC-desktop with a bunch of hard drives, operating in 7/24 mode and optionally connected to the TV. <br><br>  But under such a hardware solution you need to select the necessary software, what do we have in this part? <br><br><h5>  Linux distributions </h5><br>  As part of the search for the right decision, I installed <a href="http://www.freenas.org/">FreeNAS</a> on my media server, here are the impressions: <br><ul><li>  the project is free, based on FreeBSD and constantly evolving; </li><li>  You can install it on an external USB flash drive and boot from it; </li><li>  implementation of a large number of services I need: AFP, TM, iTunes (but without the Home Collection); </li><li>  support for hard drives with large volumes of 2 TB; </li><li>  humane hardware requirements that allow running FreeNAS on fairly weak configurations. </li></ul><br>  For two months I lived this distribution in the installed state, but in the end I refused it due to the following considerations: <br><ul><li>  I know Linux at the level of basic commands, and I have no desire to study it more deeply; </li><li>  no home collection; </li><li>  hard drives for maximum compatibility and performance must be reformatted to UFS; </li><li>  <i>inflexibility</i> : as an IT geek, I still want to fully manage the system, not through a web browser (see ¬ß 1). </li></ul><br>  You could, of course, have another Mac mini with an external Thunderbolt box for hard drives ... but sometime in the future. <br><blockquote>  Attentive dorchiteli, of course, will ask that I clung to this Home Collection?  The answer is: this technology allows iTunes to share data with Apple TV and stream video and music to the iOS device through the air - it‚Äôs really convenient not to store the library on the iPhone, but to catch it through the air </blockquote><br><h5>  Final cut </h5><br>  So, in the last iteration of the search, I came to the final version of the solution, based on Windows 7 that was hated by all Apple employees. <br>  A suitable PC-desktop was found, in which - with some difficulties - 3 hard disks with data were installed: <br><img src="https://habrastorage.org/storage2/fbf/c99/b54/fbfc99b548f191dd2883b52e92b3d6db.jpg"><br>  (In view of the limited engine compartment, the system was installed on a 2.5 ‚Äùnotebook - a la hard disk‚Äú in our collective farm is corrupted ‚Äù) <br><br>  The hard drives are Western Digital in the green series, the terabyte package in the kit has been in its fifth year, and I don‚Äôt have the slightest comment on it.  Today's trendy red series, designed specifically for use in such systems, will be involved in the subsequent upgrades of the system. <br><br>  The software component was led by the licensed Windows 7 and the following services were raised: <br><ul><li>  data access for Windows-based computers (standard sharing in the local network); </li><li>  access to Ô£ø-computers via AFP and perfectly working Time Machine for two Macs; </li><li>  iTunes Server with Home Collection, which both iPhones and Apple TV perfectly see; </li><li>  Free <a href="http://www.utorrent.com/intl/ru/">¬µTorrent</a> and <a href="http://www.freedownloadmanager.org/">Free Download Manager</a> you know for what; </li><li>  ‚Äú <a href="http://www.homemediaserver.ru/index.htm">Home media server (UPnP, DLNA, HTTP)</a> ‚Äù for accessing television devices via DLNA (excellent program, by the way, I want to praise the author separately!); </li><li>  due to the fact that the computer is connected via HDMI to the TV, it can be used as a computer, and as an <a href="http://xbmc.org/">XBMC</a> media center (this is rare); </li><li>  remote server control is performed via RDP, moreover, both in the local network and outside;  besides, access to ¬µTorrent WebUI is also slightly open; </li><li>  due to the dynamic allocation of IP addresses by Rostelecom, the <a href="http://dyn.com/dns/">DynDNS</a> service with the <a href="http://dyn.com/support/clients/windows/">Dyn Updater</a> program installed is used to automatically register the current IP address (the modem can also do this, but somehow it is <i>crooked</i> ); </li><li>  on the server, various utilities like MKVmerge and so on are sometimes launched </li></ul><br>  Hard disks have quite successfully taken root in the new system: <br><img src="https://habrastorage.org/storage2/a00/41c/f18/a0041cf18b4818dbb6f05d53397dbe64.png"><br>  (I suggest to the dorchiteli to evaluate a certain redness of the Windows Explorer) <br><br><h5>  The conclusion is he is one and he is </h5><br>  Practical experience of using the system proves the success of such a solution, coped with the assigned tasks by 5 points.  The server fits perfectly into the nonstandard (from the point of view of the epic Windows-storage) apple infrastructure, ranging from Macs and ending with iPhone. <br><br>  For the future, I estimate the possibility of upgrading the hardware subsystem to the HP ProLiant MicroServer G7 N40L (largely inspired by the excellent <a href="http://www.3dnews.ru/storage/644612">review</a> on 3DNews), but in our area such exotic in retail does not occur, must be ordered separately.  But on the other hand, the hardware performance is still rather weak, and sometimes you have to load the system with all sorts of processing, so this fad is still in the deep alpha stage. </div><p>Source: <a href="https://habr.com/ru/post/181632/">https://habr.com/ru/post/181632/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../181616/index.html">Generate 3D grids with predefined surface regions using NetGen</a></li>
<li><a href="../181618/index.html">Popularity of Javascript Framework</a></li>
<li><a href="../181624/index.html">Three new Evernote security features</a></li>
<li><a href="../181626/index.html">How to run a program without an operating system: part 4. Parallel computing</a></li>
<li><a href="../181630/index.html">Learn Pebble Watch to understand Russian.</a></li>
<li><a href="../181634/index.html">A quick look at DesignSpark PCB</a></li>
<li><a href="../181636/index.html">How we arranged brunches for each task</a></li>
<li><a href="../181638/index.html">Public VPS templates for Linux / Windows - invite authors and admins to create a service like AWS AMI</a></li>
<li><a href="../181640/index.html">How books are written</a></li>
<li><a href="../181642/index.html">Validation of dynamically added fields in Yii</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>