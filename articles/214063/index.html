<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Angular boilerplate. Simplicity - the trend of youth</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Any physical system tends to the state with the lowest potential energy. And programmers are no exception. Therefore, we will discuss how to simplify ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Angular boilerplate. Simplicity - the trend of youth</h1><div class="post__text post__text-html js-mediator-article"><img align="left" src="https://habrastorage.org/getpro/habr/post_images/69a/dbc/39c/69adbc39c2886a2070b47e1e54f2910a.png">  Any physical system tends to the state with the lowest potential energy.  And programmers are no exception.  Therefore, we will discuss how to simplify your life when developing on angular.js, while using services that are now in trend.  Mainly, I will unobtrusively promote my <a href="https://github.com/galkinrost/angular-boilerplate">angular-boilerplate</a> architectural solution, and for a snack I will offer to share my experience and ideas in the comments. <br><br><h2>  Motivation </h2><br>  Reduce routine to a minimum, create an intuitive architecture and bring together what is called the best practices. <br><a name="habracut"></a><br>  Immediately, I <a href="https://github.com/galkinrost/angular-boilerplate">‚Äôll</a> make a reservation that <a href="https://github.com/galkinrost/angular-boilerplate">angular-boilerplate</a> is the result of creating several projects of varying degrees of complexity from scratch, in the process of working on which I tried my best to get rid of unnecessary complications, first of all, my own workflow.  Therefore, in some ways my decisions are caused by a subjective view of the development, but nevertheless they all passed the test of time and showed practical benefits. <br><br><h2>  Special features </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Grunt </h4><br>  To begin with, we need grunt.js.  Grunt will need, first of all, to collect and compress code and style files.  The project already has two tasks in <a href="">Gruntfile.js</a> : <b>grunt install</b> and <b>grunt build</b> - the first allows you to perform various operations during the installation and in the initial version installs the necessary libraries through <b>bower</b> , the second, as I wrote above, collects and minifitsirut files using <b>require. js</b> . <br><br><h4>  Bower </h4><br>  In order not to run on the githabs once again, libraries are easier to load via bower.  Here I will <a href="https://github.com/galkinrost/angular-boilerplate/blob/master/.bowerrc">mark the .bowerrc</a> file, in which you can simply define the path and name of the module folder. <br><br><h4>  Require.js </h4><br>  Practice, when libraries and code are included in the html page, personally causes cognitive dissonance in me.  And I always wanted to have in javascipt the usual opportunity for other languages ‚Äã‚Äãto programmatically connect code and define dependencies.  Therefore, I am very enthusiastic about <a href="http://requirejs.org/">Require.js</a> and using it as a framework for an application.  In this place, I will probably omit the detailed introduction to Require.js, but simply point out how it is used in the project. <br><br>  So, the main thing that require.js gives us, besides modularity, is the ability to merge the entire application into one file and then compress.  But, of course, I would like to deal with the development of a normal version of the files, so the <a href="https://github.com/galkinrost/angular-boilerplate/blob/master/index.html">index</a> has two options for connecting logic and styles: <br><pre><code class="html hljs xml"><span class="hljs-comment"><span class="hljs-comment">&lt;!--Development--&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"app/styles/styles.css"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--Production--&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"app/styles/styles.min.css"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--Development--&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-main</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"app/js/app"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"app/lib/requirejs/require.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--Production--&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"app/js/app.min.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Which allow you to switch between development and production. <br><br>  All libraries, modules, etc. are connected at the same time when the application is initialized, and their settings are defined in the <a href="">app.js</a> file: <br><pre> <code class="hljs lua"><span class="hljs-built_in"><span class="hljs-built_in">require</span></span>.<span class="hljs-built_in"><span class="hljs-built_in">config</span></span>({ baseUrl: <span class="hljs-string"><span class="hljs-string">'app'</span></span>, paths: { <span class="hljs-string"><span class="hljs-string">'jquery'</span></span>: <span class="hljs-string"><span class="hljs-string">'lib/jquery/dist/jquery'</span></span>, <span class="hljs-string"><span class="hljs-string">'angular'</span></span>: <span class="hljs-string"><span class="hljs-string">'lib/angular/angular'</span></span>, <span class="hljs-string"><span class="hljs-string">'text'</span></span>: <span class="hljs-string"><span class="hljs-string">'lib/requirejs-text/text'</span></span> }, shim: { <span class="hljs-string"><span class="hljs-string">'jquery'</span></span>: { exports: <span class="hljs-string"><span class="hljs-string">'jQuery'</span></span> }, <span class="hljs-string"><span class="hljs-string">'angular'</span></span>: { exports: <span class="hljs-string"><span class="hljs-string">'angular'</span></span>, <span class="hljs-string"><span class="hljs-string">'deps'</span></span>: [<span class="hljs-string"><span class="hljs-string">'jquery'</span></span>] }, <span class="hljs-string"><span class="hljs-string">'lib/angular-route/angular-route'</span></span>: { <span class="hljs-string"><span class="hljs-string">'deps'</span></span>: [<span class="hljs-string"><span class="hljs-string">'angular'</span></span>] } }, <span class="hljs-built_in"><span class="hljs-built_in">config</span></span>: { <span class="hljs-string"><span class="hljs-string">'js/services'</span></span>: { apiUrl: <span class="hljs-string"><span class="hljs-string">'http://localhost/api'</span></span> } } });</code> </pre><br>  Next, go through the files. <br><br><h4>  Files </h4><br><pre> <code class="hljs pgsql">/app /js app.js app.min.js controllers.js directives.js filters.js services.js /styles styles.js styles.min.js /templates someone-<span class="hljs-keyword"><span class="hljs-keyword">template</span></span>.html <span class="hljs-keyword"><span class="hljs-keyword">index</span></span>.html bower.json package.json .bowerrc Gruntfile.js</code> </pre><br>  The overall structure of the project should not cause any special questions.  Services, directives, controllers, filters are set in the appropriate files, which are then <a href="">automatically connected</a> when the application is loaded: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> angular = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'angular'</span></span>), controllers = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'js/controllers'</span></span>), services = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'js/services'</span></span>), directives = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'js/directives'</span></span>), filters = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'js/filters'</span></span>); ... angular.forEach(services, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">service, name</span></span></span><span class="hljs-function">) </span></span>{ $provide.factory(name, service); }); ... angular.forEach(directives, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">directive, name</span></span></span><span class="hljs-function">) </span></span>{ app.directive(name, directive); }); angular.forEach(filters, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">filter, name</span></span></span><span class="hljs-function">) </span></span>{ app.filter(name, filter); }); angular.forEach(controllers, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">controller, name</span></span></span><span class="hljs-function">) </span></span>{ app.controller(name, controller); });</code> </pre><br><br>  I think that many people, and I myself, at first wondered how to properly form logic that is not tied to a specific display, but is executed globally.  Often the answer to this question is the controller, which is called somewhere in <b>index.html</b> using the <b>ng-controller</b> .  Of course, this is not fatal, but I personally consider this option more correct: <br><pre> <code class="javascript hljs">app.run(controllers.GlobalCtrl);</code> </pre><br>  That is, this controller is called once when the application is started and is not formally associated with any template. <br><br>  One of the nice additions of requirejs is the <b>text</b> module, which allows loading through require () not only AMD modules, but also plain text files, for example, html, which can then be included when compiling.  This allows us to <a href="">add template files to the shared build</a> . <br><br><pre> <code class="javascript hljs">... .when(<span class="hljs-string"><span class="hljs-string">'/'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">controller</span></span>: controllers.MainCtrl, <span class="hljs-attr"><span class="hljs-attr">template</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'text!templates/main.html'</span></span>) }); ...</code> </pre><br><br>  And finally, with regard to: <br><pre> <code class="javascript hljs">$httpProvider.interceptors.push([<span class="hljs-string"><span class="hljs-string">'$q'</span></span>, <span class="hljs-string"><span class="hljs-string">'$error'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$q, $error</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-string"><span class="hljs-string">'request'</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">config</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> config; }, <span class="hljs-string"><span class="hljs-string">'response'</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">response</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> response; }, <span class="hljs-string"><span class="hljs-string">'responseError'</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">rejection</span></span></span><span class="hljs-function">) </span></span>{ $error(<span class="hljs-string"><span class="hljs-string">'Connection error!'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $q.reject(rejection); } } }]);</code> </pre><br>  In my opinion, the intermediary in the processing of requests is an integral part of the client-server interaction, which allows you to format the response or, in a particular case, implement centralized processing of all errors. <br><br>  I do not want to say more than necessary, so that's all.  As promised, I invite in the comments to share my practice, thoughts and suggestions. </div><p>Source: <a href="https://habr.com/ru/post/214063/">https://habr.com/ru/post/214063/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../214041/index.html">Can a programmer become a factory director?</a></li>
<li><a href="../214043/index.html">Facebook SDK (iOS) integration into mobile free-to-play games</a></li>
<li><a href="../214047/index.html">Review of new technologies in the production of food sources</a></li>
<li><a href="../214053/index.html">We invite you to take part in the Siberian Hackath 1-2 March</a></li>
<li><a href="../214055/index.html">Ban on continents</a></li>
<li><a href="../214071/index.html">Adaptive images without shamanism</a></li>
<li><a href="../214075/index.html">DSM 5.0 Beta is a new OS version for Synology NAS. Part 1 - For home, for family</a></li>
<li><a href="../214079/index.html">Atom: the new code editor from Github</a></li>
<li><a href="../214081/index.html">E-commerce trends: Work on order</a></li>
<li><a href="../214083/index.html">Megabytes is NOT cool!</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>