<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We raise Owncloud from scratch with dynamic IP and Let's Encrypt. A thousand elephants! *</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I have long wanted to write a holistic tutorial on raising Owncloud in a home server or a small company with up to 500 users. Owncloud is a great open...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We raise Owncloud from scratch with dynamic IP and Let's Encrypt. A thousand elephants! *</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/630/c84/1f5/630c841f52aa4d9dbaf064d0429b14ac.jpg"><br><br>  I have long wanted to write a holistic tutorial on raising Owncloud in a home server or a small company with up to 500 users.  Owncloud is a great open-source project that allows you to raise your version of the synchronization server on your own infrastructure.  By capabilities it is very similar to Dropbox, and in some ways it is superior.  A huge plus is the lack of storage restrictions, full control over the server.  The disadvantages are also obvious: you yourself will have to monitor all this disgrace and worry about the reliability of the server, lying on the mezzanine or in the closet. <br><br>  Most recently, I turned up the task of deploying Owncloud in home-combat conditions.  I honestly worked my two liters of kosher Russian imperial stout and decided to share my experience, putting everything together.  So today we look at: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li>  Deploying the current LEMP stack </li><li>  Https.  Let's Encrypt for Nginx with automatic certificate renewal </li><li>  Configuring Nginx for Owncloud </li><li>  Php-apcu caching </li><li>  Connecting external main storage via NFS </li></ol><a name="habracut"></a><br><h3>  Starter kit </h3><br>  <b>The operating system</b> for our server is <a href="">Ubuntu 04/16/1 Server</a> ( <a href="http://releases.ubuntu.com/16.04/ubuntu-16.04-server-amd64.iso.torrent">torrent</a> ).  The best option is a virtual machine.  This is quite a good solution due to the ease of migration, the ability to dynamically allocate resources, snapshots and other goodies.  The size of the virtual machine is 10-15 GB.  This is more than enough under the system. <br><br>  <b>External storage</b> (data directory for owncloud), where all your data will be stored.  Size - depending on your needs.  I would recommend to consider the option of 100 GB.  Separating storage and server core logic provides more configuration flexibility.  In this case, SSD for the system and HDD from the NAS for data.  When an external data partition is connected, there is flexibility in terms of migration and the ability to increase speed or volume, if it is suddenly needed. <br><br>  <b>Domain and external ip-address</b> - in the conditions of a dying pool of free ipv4 addresses, providers less and less often give up just white external address.  If you have a gray address, then there is little that can be done.  Only forward the VPN tunnel to your VPS with a white IP and dance from there.  But sometimes providers give completely white addresses, but not statics, but dynamics.  Moreover, the address can be changed simply at the behest of the left heel, the session breaks at midnight, and the subscriber receives a new IP.  The current case is a router MikroTik, which is able to free dynamic DNS, starting with RouterOS v6.14.  This joy is in the <a href="http://wiki.mikrotik.com/wiki/Manual:IP/Cloud">IP / Cloud</a> section.  After connecting the function, the router receives a domain name of the form <b>123456b7890f.sn.mynetname.net</b> .  This domain always points to the ipv4 address issued by the provider. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fa0/fdf/d7c/fa0fdfd7c68a0546336300f70b497f97.jpg" alt="image"><br><br>  Domain give 4th level.  Normal StartSSL and other certification centers will not work with you if you do not own Level 2.  Previously, this led to the use of a self-signed certificate, which the browser cursed.  Now let's appear Encrypt, which solves the problem. <br><br>  There are alternatives that are well described in the publication <a href="https://habrahabr.ru/post/313426/">Home hosting sites with dynamic IP</a> user <a href="https://habrahabr.ru/users/spectreob/" class="user_link">spectreob</a> . <br><br><h3>  Deploy LEMP </h3><br>  It‚Äôs probably worth starting with installing the most familiar utilities for work: htop, iotop, iftop, mc.  Then we proceed to LEMP itself ‚Äî Linux, Nginx (pronounced Engine X), MySQL / MariaDB, and PHP.  We already have Linux.  Why Ubuntu 16.04, and not, say, Debian or CentOS?  I do not like rpm, and with Ubuntu it is easier in terms of repositories with fresh versions of software.  I really do not like the practice of "make install" on combat servers.  Nevertheless, the way of using the package manager is more optimal.  We will adhere to this principle. <br><br>  <b>UPD</b> First, do the usual sudo apt install nginx, so that after updating to a fresh repository, all configs remain in their usual places. <br><br>  Add a repository with more recent versions of nginx.  There were closed some bugs and vulnerabilities.  Copy GPG key Nginx developers and create a new source repository for apt: <br><pre><code class="bash hljs">wget http://nginx.org/keys/nginx_signing.key sudo apt-key add nginx_signing.key sudo nano /etc/apt/sources.list.d/nginx.list</code> </pre> <br>  We add links to the repository for Ubuntu 16.04 Xenial to the file: <br> <code>deb http://nginx.org/packages/mainline/ubuntu/ xenial nginx <br> deb-src http://nginx.org/packages/mainline/ubuntu/ xenial nginx <br></code> <br>  Install nginx, configure later: <br><pre> <code class="bash hljs">sudo apt-get update sudo apt-get install nginx</code> </pre><br>  Deploy MariDB (actual fork of MySQL) and check service performance: <br><br><pre> <code class="bash hljs">sudo apt-get install mariadb-server mariadb-client sudo systemctl status mysql.service</code> </pre><br>  We perform a hardening procedure, disabling test bases and other potential security holes: <br><br><pre> <code class="bash hljs">sudo mysql_secure_installation</code> </pre><br>  A dialogue will be launched in which you will have to answer a series of questions.  <b>In the same dialog, we set the password for root</b> .  You will need it later when we create the base for our owncloud. <br><br>  Install PHP7.0, php-fpm and the modules required for owncloud to work with related services: <br><br><pre> <code class="bash hljs">sudo apt-get install php7.0 php7.0-mysql php7.0-fpm php7.0-gd php7.0-json php7.0-curl php7.0-zip php7.0-xml php7.0-mbstring</code> </pre><br>  Also, for Owncloud to work, you need to edit the environment variables: <br><br><pre> <code class="bash hljs">sudo nano /etc/php/7.0/fpm/pool.d/www.conf</code> </pre><br>  You need to uncomment the following lines: <br><br><pre> <code class="hljs mel"><span class="hljs-keyword"><span class="hljs-keyword">env</span></span>[HOSTNAME] = $HOSTNAME <span class="hljs-keyword"><span class="hljs-keyword">env</span></span>[PATH] = /usr/local/bin:/usr/bin:/bin <span class="hljs-keyword"><span class="hljs-keyword">env</span></span>[TMP] = /tmp <span class="hljs-keyword"><span class="hljs-keyword">env</span></span>[TMPDIR] = /tmp <span class="hljs-keyword"><span class="hljs-keyword">env</span></span>[TEMP] = /tmp</code> </pre><br><h3>  Configure Let's Encrypt and configure Nginx </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/99a/ca8/9f3/99aca89f32c663b0d64117ab4764ef1b.png" alt="image"><br><br>  Let's Encrypt is a nonprofit initiative that provides a free, automated, and open certification authority.  For which many thanks to them.  Probably, certification centers that trade, in fact, their reputation, will now be forced to make the most of the high-end certificates from the Organization Validation (OV) or Extended Validation (EV) certificates.  This type of certificate is available only to legal entities and confirms the existence of a conditional LLC ‚ÄúHorns and Hooves‚Äù.  This checks the ownership of the domain, the company itself, notarized documents and other nuances. <br><br>  For personal use, the Domain Validation certificate from Let's Encrypt will be enough for us.  This option essentially only certifies the fact that you are connected to the example.com domain.  And at the same time protects us from Man-in-the-Middle attacks, injection of all sorts of rubbish on the landing page (say hello to MosMetro Wi-Fi and mobile operators) and interception of passwords when using public networks.  Ideal for your own owncloud.  Why not use a self-signed certificate? <br><br><img src="https://habrastorage.org/files/ff7/925/ff3/ff7925ff348044faa76f474ed1cbbe3d.png"><br><br>  Owncloud has a great share link function that allows you to transfer a link to a file or directory to a person.  It is very convenient when you suddenly need to transfer something weighing 50 GB, and the more familiar Dropbox and Google Drive do not allow this.  You definitely do not want to explain to the accountant Olympiad Sigmundovna why her browser is glowing red and screaming that <s>Pakistani hackers</s> have <s>hacked it</s> all badly because of an invalid certificate.  Moreover, everything is very simple. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bab/bd8/314/babbd83142ffb56d1d9b9266f7725d06.png" alt="image"><br><br>  The main idea of ‚Äã‚ÄãLet's Encrypt is <b>automatically</b> issuing certificates with a short validity period of 90 days.  According to the authors of the project, it will increase security due to the automatic removal from circulation of compromised certificates.  For domain validation, the service offers certbot-auto with several scenarios: <br><br><ol><li>  <b>Apache</b> - automatically obtains and installs a certificate for Apache 2.4.  Uses port 443 </li><li>  <b>Nginx</b> - automatically receives and installs a certificate for Nginx.  <b>Alpha version</b> , for production early.  Uses port 443 </li><li>  <b>webroot</b> - creates in the root directory of the current server the files necessary for domain validation.  Uses port 80 </li><li>  <b>standalone</b> - raises a standalone server that responds to necessary requests from outside for validation.  Uses port 80 or 443.  For systems that do not have a valid web server and other cases. </li><li>  <b>manual</b> - full manual mode, requiring manual copy-paste.  It is used when you generate keys not on the target machine.  For example, for a router. </li></ol><br>  As a result, we have a good universal set for different use cases, including situations when you do not have full control on the server.  We will not use the automatic installation of the certificate in Nginx because of its alpha status, and editing the working web server config is an extremely intimate process.  I really do not want to face the curve of the work is not debugged script.  Nevertheless, we automate the process of obtaining a certificate. <br><br>  First, let's download and install the latest version of certbot: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/sbin sudo wget https://dl.eff.org/certbot-auto sudo chmod a+x /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/sbin/certbot-auto</code> </pre><br>  We edit the nginx config and allow access to the directory to which the webroot version of the certbot will write: <br><br><pre> <code class="bash hljs"> sudo nano /etc/nginx/sites-available/default</code> </pre><br>  Add the lines: <br><br><pre> <code class="bash hljs">location ~ /.well-known { allow all; }</code> </pre><br>  Restart the nginx service: <br><br><pre> <code class="bash hljs">sudo service nginx restart</code> </pre><br>  Now you can run certbot and generate certificates for our domain.  In our particular case, this is the <b>fourth level</b> domain from Mikrotik DDNS.  No one else is valid for browsers certificates you will not sign even for the third.  <b>UPD</b> : I was wrong with the default webroot path.  In Ubuntu 16.04, not / usr / share / nginx / html, but / var / www / html.  Just in case, check what is written in / etc / nginx / sites-available / default after the root directive.  For example root / var / www / html; <br><br><pre> <code class="bash hljs">sudo certbot-auto certonly -a webroot --webroot-path=/var/www/html -d example.sn.mynetname.net</code> </pre><br>  In the dialog box, you will need to enter an email address and agree to the terms of use: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/62d/58b/f21/62d58bf2179b7fa8bac6cd3abb7d308d.png" alt="image"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/23a/cd6/e1b/23acd6e1beadc3f6e78e3eed510596ec.png" alt="image"><br><br>  Certbot adds the current versions of certificates to the / etc / letsencrypt / live / directory, creating symlinks.  Inside there will be files: <br><br><ul><li>  cert.pem: certificate of your domain </li><li>  chain.pem: chain certificate Let's Encrypt </li><li>  fullchain.pem: combined certificate from cert.pem and chain.pem </li><li>  privkey.pem: private key of your certificate </li></ul><br>  Generating the Diffie - Hellman key: <br><br><pre> <code class="bash hljs">sudo openssl dhparam -out /etc/ssl/certs/dhparam.pem 4096</code> </pre><br>  Fine.  Now, having written a link to / etc / letsencrypt / live / in the Nginx config, we will always have the current version.  Create a new config for our domain: <br><br><pre> <code class="bash hljs">sudo nano /etc/nginx/sites-available/example.sn.mynetname.net</code> </pre><br>  <s>Ready config with optimizations that are recommended by the owncloud manual.</s>  <s>Port 80 automatically redirects to 443</s> <br>  <b>The configuration file was rewritten in the light of comments, a special thank you to <a href="https://habrahabr.ru/users/grozaman/" class="user_link">grozaman</a> .</b>  Now at the cost of abandoning support for Windows XP and some outdated systems, we have increased the level of security.  The Diffie - Hellman key has also been increased to 4096. This will slightly increase the time of the handshake, but should not be significant.  However, you can use 2048 bits.  Added ssl_stapling and a number of additional headers to increase security. <br><img src="https://habrastorage.org/files/d8e/89e/3e8/d8e89e3e86dc44d6acf0e55a2cfce507.png"><br>  With this configuration option, the site dials A + at <a href="http://ssllabs.com/">https://www.ssllabs.com</a> . <br>  Also with this config we get A-grade at <a href="https://securityheaders.io/">https://securityheaders.io</a> . <br><div class="spoiler">  <b class="spoiler_title">Corrected config</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">upstream php-<span class="hljs-keyword"><span class="hljs-keyword">handler</span></span> { #<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-number"><span class="hljs-number">127.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span>:<span class="hljs-number"><span class="hljs-number">9000</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">server</span></span> unix:/run/php/php7<span class="hljs-number"><span class="hljs-number">.0</span></span>-fpm.sock; } <span class="hljs-keyword"><span class="hljs-keyword">server</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">listen</span></span> <span class="hljs-number"><span class="hljs-number">80</span></span>; server_name meklon.net; #   HTTPS  . <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">301</span></span> https://$server_name$<span class="lua"><span class="lua">request_uri; } server { #  HTTPS listen </span><span class="hljs-number"><span class="lua"><span class="hljs-number">443</span></span></span><span class="lua"> ssl; server_name meklon.net; #    index index.php index.html index.htm index.nginx-debian.html; #   error_log /var/</span><span class="hljs-built_in"><span class="lua"><span class="hljs-built_in">log</span></span></span><span class="lua">/nginx/cloud.</span><span class="hljs-built_in"><span class="lua"><span class="hljs-built_in">error</span></span></span><span class="lua">.</span><span class="hljs-built_in"><span class="lua"><span class="hljs-built_in">log</span></span></span><span class="lua">; access_log /var/</span><span class="hljs-built_in"><span class="lua"><span class="hljs-built_in">log</span></span></span><span class="lua">/nginx/cloud.access.</span><span class="hljs-built_in"><span class="lua"><span class="hljs-built_in">log</span></span></span><span class="lua">; ### SSL CONFIGURATION ### ssl on; ssl_certificate /etc/letsencrypt/live/meklon.net/fullchain.pem; ssl_certificate_key /etc/letsencrypt/live/meklon.net/privkey.pem; ssl_trusted_certificate /etc/letsencrypt/live/meklon.net/fullchain.pem; ssl_dhparam /etc/ssl/certs/dh4096.pem; ssl_protocols TLSv1 TLSv1</span><span class="hljs-number"><span class="lua"><span class="hljs-number">.1</span></span></span><span class="lua"> TLSv1</span><span class="hljs-number"><span class="lua"><span class="hljs-number">.2</span></span></span><span class="lua">; ssl_prefer_server_ciphers on; ssl_ciphers </span><span class="hljs-string"><span class="lua"><span class="hljs-string">"EECDH+AESGCM:EECDH+CHACHA20:EECDH+AES256:!AES128"</span></span></span><span class="lua">; ssl_stapling on; ssl_stapling_verify on; resolver </span><span class="hljs-number"><span class="lua"><span class="hljs-number">8.8</span></span></span><span class="hljs-number"><span class="lua"><span class="hljs-number">.4</span></span></span><span class="hljs-number"><span class="lua"><span class="hljs-number">.4</span></span></span><span class="lua"> </span><span class="hljs-number"><span class="lua"><span class="hljs-number">8.8</span></span></span><span class="hljs-number"><span class="lua"><span class="hljs-number">.8</span></span></span><span class="hljs-number"><span class="lua"><span class="hljs-number">.8</span></span></span><span class="lua">; ###   SSL ### #     ,  ,     HSTS add_header Strict-Transport-Security </span><span class="hljs-string"><span class="lua"><span class="hljs-string">'max-age=631138519; includeSubDomains; preload'</span></span></span><span class="lua"> always; add_header Content-Security-Policy </span><span class="hljs-string"><span class="lua"><span class="hljs-string">"default-src 'self'; script-src 'self' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' blob data:"</span></span></span><span class="lua">; add_header X-Content-Security-Policy </span><span class="hljs-string"><span class="lua"><span class="hljs-string">"default-src 'self'; script-src 'self' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' blob data:"</span></span></span><span class="lua">; add_header X-WebKit-CSP </span><span class="hljs-string"><span class="lua"><span class="hljs-string">"default-src 'self'; script-src 'self' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' blob data:"</span></span></span><span class="lua">; add_header X-Frame-Options </span><span class="hljs-string"><span class="lua"><span class="hljs-string">"SAMEORIGIN"</span></span></span><span class="lua"> always; add_header X-Xss-Protection </span><span class="hljs-string"><span class="lua"><span class="hljs-string">"1; mode=block"</span></span></span><span class="lua"> always; add_header X-Content-Type-Options </span><span class="hljs-string"><span class="lua"><span class="hljs-string">"nosniff"</span></span></span><span class="lua"> always; add_header X-Proxy-Cache </span><span class="hljs-string"><span class="lua"><span class="hljs-string">"EXPIRED"</span></span></span><span class="lua"> always; #     Nextcloud add_header X-Robots-Tag </span><span class="hljs-string"><span class="lua"><span class="hljs-string">"none"</span></span></span><span class="lua"> always; add_header X-Download-Options </span><span class="hljs-string"><span class="lua"><span class="hljs-string">"noopen"</span></span></span><span class="lua"> always; add_header X-Permitted-Cross-Domain-Policies </span><span class="hljs-string"><span class="lua"><span class="hljs-string">"none"</span></span></span><span class="lua"> always; #    root /var/www/; #   ,        client_max_body_size </span><span class="hljs-number"><span class="lua"><span class="hljs-number">3</span></span></span><span class="lua">G; fastcgi_buffers </span><span class="hljs-number"><span class="lua"><span class="hljs-number">64</span></span></span><span class="lua"> </span><span class="hljs-number"><span class="lua"><span class="hljs-number">4</span></span></span><span class="lua">K; # C gzip      Nextcloud,      gzip off; #    </span><span class="hljs-number"><span class="lua"><span class="hljs-number">403</span></span></span><span class="lua">  </span><span class="hljs-number"><span class="lua"><span class="hljs-number">404.</span></span></span><span class="lua"> error_page </span><span class="hljs-number"><span class="lua"><span class="hljs-number">403</span></span></span><span class="lua"> /core/templates/</span><span class="hljs-number"><span class="lua"><span class="hljs-number">403.</span></span></span><span class="lua">php; error_page </span><span class="hljs-number"><span class="lua"><span class="hljs-number">404</span></span></span><span class="lua"> /core/templates/</span><span class="hljs-number"><span class="lua"><span class="hljs-number">404.</span></span></span><span class="lua">php; ###    /      ### ###        URL ### rewrite ^/.well-known/carddav /remote.php/carddav/ permanent; rewrite ^/.well-known/caldav /remote.php/caldav/ permanent; # Add index.php to the list </span><span class="hljs-keyword"><span class="lua"><span class="hljs-keyword">if</span></span></span><span class="lua"> you are using PHP index index.html index.htm index.nginx-debian.html; location ~ /.well-known { allow all; } location / { # First attempt to serve request as file, </span><span class="hljs-keyword"><span class="lua"><span class="hljs-keyword">then</span></span></span><span class="lua"> # as directory, </span><span class="hljs-keyword"><span class="lua"><span class="hljs-keyword">then</span></span></span><span class="lua"> fall back to displaying a </span><span class="hljs-number"><span class="lua"><span class="hljs-number">404.</span></span></span><span class="lua"> try_files $uri $uri/ =</span><span class="hljs-number"><span class="lua"><span class="hljs-number">404</span></span></span><span class="lua">; } location = /robots.txt { allow all; log_not_found off; access_log off; } location ~ ^/(?:\.htaccess|data|</span><span class="hljs-built_in"><span class="lua"><span class="hljs-built_in">config</span></span></span><span class="lua">|db_structure\.xml|README){ deny all; } location ~ ^/(build|tests|</span><span class="hljs-built_in"><span class="lua"><span class="hljs-built_in">config</span></span></span><span class="lua">|lib|</span><span class="hljs-number"><span class="lua"><span class="hljs-number">3</span></span></span><span class="lua">rdparty|templates|data)/ { deny all; } location ~ ^/(?:\.|autotest|occ|issue|indie|db_|console) { deny all; } location ~ \.php(?:$|/) { fastcgi_split_path_info ^(.+\.php)(/.+)$; include fastcgi_params; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; fastcgi_param PATH_INFO $fastcgi_path_info; fastcgi_param HTTPS on; fastcgi_param modHeadersAvailable </span><span class="hljs-literal"><span class="lua"><span class="hljs-literal">true</span></span></span><span class="lua">; #Avoid sending the security headers twice fastcgi_pass php-handler; fastcgi_intercept_errors on; } }</span></span></code> </pre><br><br></div></div><br><div class="spoiler">  <b class="spoiler_title">old nginx config</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">upstream php-<span class="hljs-keyword"><span class="hljs-keyword">handler</span></span> { #<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-number"><span class="hljs-number">127.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span>:<span class="hljs-number"><span class="hljs-number">9000</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">server</span></span> unix:/run/php/php7<span class="hljs-number"><span class="hljs-number">.0</span></span>-fpm.sock; } #Redirect <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-number"><span class="hljs-number">80</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-number"><span class="hljs-number">443</span></span> <span class="hljs-keyword"><span class="hljs-keyword">server</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">listen</span></span> <span class="hljs-number"><span class="hljs-number">80</span></span>; server_name example.sn.mynetname.net; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">301</span></span> https://$host$<span class="pgsql"><span class="pgsql">request_uri; } # HTTPS </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">server</span></span></span><span class="pgsql"> { </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">listen</span></span></span><span class="pgsql"> </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">443</span></span></span><span class="pgsql"> ssl; server_name example.sn.mynetname.net; ssl_certificate /etc/letsencrypt/live/example.sn.mynetname.net/fullchain.pem; ssl_certificate_key /etc/letsencrypt/live/example.sn.mynetname.net/privkey.pem; ssl_protocols TLSv1 TLSv1</span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">.1</span></span></span><span class="pgsql"> TLSv1</span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">.2</span></span></span><span class="pgsql">; ssl_prefer_server_ciphers </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">on</span></span></span><span class="pgsql">; ssl_dhparam /etc/ssl/certs/dhparam.pem; ssl_ciphers </span><span class="hljs-string"><span class="pgsql"><span class="hljs-string">'ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA'</span></span></span><span class="pgsql">; ssl_session_timeout </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">1</span></span></span><span class="pgsql">d; ssl_session_cache shared:SSL:</span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">50</span></span></span><span class="pgsql">m; ssl_stapling </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">on</span></span></span><span class="pgsql">; ssl_stapling_verify </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">on</span></span></span><span class="pgsql">; add_header </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">Strict</span></span></span><span class="pgsql">-Transport-</span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">Security</span></span></span><span class="pgsql"> max-age=</span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">15552001</span></span></span><span class="pgsql">; add_header </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">Cache</span></span></span><span class="pgsql">-Control "public, max-age=</span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">7200</span></span></span><span class="pgsql">"; # Add headers to serve security related headers add_header X-Content-Type-Options nosniff; add_header X-Frame-Options "SAMEORIGIN"; add_header X-XSS-Protection "</span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">1</span></span></span><span class="pgsql">; mode=block"; add_header X-Robots-Tag none; add_header "X-Download-</span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">Options</span></span></span><span class="pgsql">" "noopen"; add_header "X-Permitted-</span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">Cross</span></span></span><span class="pgsql">-</span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">Domain</span></span></span><span class="pgsql">-Policies" "</span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">none</span></span></span><span class="pgsql">"; root /var/www/; rewrite ^/.well-known/carddav /remote.php/carddav/ permanent; rewrite ^/.well-known/caldav /remote.php/caldav/ permanent; # Add index.php to the list if you are using PHP index index.html index.htm index.nginx-debian.html; location ~ /.well-known { allow all; } location / { # First attempt to serve request as file, then # as directory, then fall back to displaying a 404. try_files $uri $uri/ =404; } location = /robots.txt { allow all; log_not_found off; access_log off; } location ~ ^/(?:\.htaccess|data|config|db_structure\.xml|README){ deny all; } location ~ ^/(build|tests|config|lib|3rdparty|templates|data)/ { deny all; } location ~ ^/(?:\.|autotest|occ|issue|indie|db_|console) { deny all; } location ~ \.php(?:$|/) { fastcgi_split_path_info ^(.+\.php)(/.+)$; include fastcgi_params; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; fastcgi_param PATH_INFO $fastcgi_path_info; fastcgi_param HTTPS on; fastcgi_param modHeadersAvailable true; #Avoid sending the security headers twice fastcgi_pass php-handler; fastcgi_intercept_errors on; } }</span></span></code> </pre><br></div></div><br><br>  Of course, if you need compatibility with older versions of Java, Windows XP, and the like, you will need to resolve some potentially unsafe protocols. <br><br><h3>  Automating certificate renewal </h3><br>  We check the renewal of the certificate with the key --dry-run, which simulates the update, but does not change anything in reality: <br><br><pre> <code class="bash hljs">sudo certbot-auto renew --dry-run</code> </pre><br>  When you run this command, certbot will contact the EFF servers and try to update its version, if possible, and then the certificates.  And not only on all available domains.  Very comfortably.  If the period for changing the certificate did not fit, then nothing will happen, and the script will inform about it. <br><br><pre> <code class="bash hljs">------------------------------------------------------------------------------- Processing /etc/letsencrypt/renewal/example.sn.mynetname.net.conf ------------------------------------------------------------------------------- Cert not yet due <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> renewal The following certs are not due <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> renewal yet: /etc/letsencrypt/live/example.sn.mynetname.net/fullchain.pem (skipped) No renewals were attempted.</code> </pre><br>  Now you can add a regular run of the crontab script: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">sudo</span></span> crontab -e</code> </pre><br>  Inside we add the regular task of renewing certificates and reloading them in nginx: <br><br><pre> <code class="hljs pgsql"><span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> * * <span class="hljs-number"><span class="hljs-number">1</span></span> /usr/<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>/sbin/certbot-auto renew &gt;&gt; /var/<span class="hljs-keyword"><span class="hljs-keyword">log</span></span>/le-renew.<span class="hljs-keyword"><span class="hljs-keyword">log</span></span> <span class="hljs-number"><span class="hljs-number">35</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> * * <span class="hljs-number"><span class="hljs-number">1</span></span> /etc/init.d/nginx reload</code> </pre><br>  We activate our site: <br><br><pre> <code class="hljs dos">sudo ln -s /etc/nginx/sites-available/<span class="hljs-number"><span class="hljs-number">418402</span></span>b5554f.sn.mynetname.<span class="hljs-built_in"><span class="hljs-built_in">net</span></span> /etc/nginx/sites-enabled/</code> </pre><br><h3>  Install owncloud </h3><br><img src="https://habrastorage.org/getpro/habr/comment_images/bea/ef7/eea/beaef7eea4d08c19d85f2446353f6366.png" alt="image"><br>  There are several options, but most preferred in most cases is to install from the repository.  Let the package manager have a headache about the updates.  The main thing is not to forget to make a backup before rolling in new packages.  Sometimes there are unpleasant surprises.  First you need to add a GPG-key: <br><br><pre> <code class="hljs pgsql">wget -nv https://download.owncloud.org/download/repositories/<span class="hljs-keyword"><span class="hljs-keyword">stable</span></span>/Ubuntu_16<span class="hljs-number"><span class="hljs-number">.04</span></span>/<span class="hljs-keyword"><span class="hljs-keyword">Release</span></span>.key -O <span class="hljs-keyword"><span class="hljs-keyword">Release</span></span>.key sudo apt-key <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> - &lt; <span class="hljs-keyword"><span class="hljs-keyword">Release</span></span>.key</code> </pre><br>  After that, add the repository and install the package owncloud-files.  The usual owncloud package will also attract Apache, depending on its dependencies, but we do not need it. <br><br><pre> <code class="hljs swift">sudo sh -<span class="hljs-built_in"><span class="hljs-built_in">c</span></span> <span class="hljs-string"><span class="hljs-string">"echo 'deb http://download.owncloud.org/download/repositories/stable/Ubuntu_16.04/ /' &gt; /etc/apt/sources.list.d/owncloud.list"</span></span> sudo apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> update sudo apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> install owncloud-files</code> </pre><br>  As a result, in / var / www / owncloud you will have everything you need.  Since Nginx considers the root directory / var / www, access to the service will look like this: <b>example.com/owncloud</b> <br><br><h3>  Customize MariaDB </h3><br>  Since our installation is small, we will not go into the subtleties of optimization.  Therefore, we deploy with a more or less default config.  Username and password substitute those that will use owncloud to access its database. <br><br><pre> <code class="hljs sql">sudo mysql -uroot -p <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">database</span></span> owncloud; <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">user</span></span> username@localhost <span class="hljs-keyword"><span class="hljs-keyword">identified</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-string"><span class="hljs-string">'password'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">grant</span></span> all <span class="hljs-keyword"><span class="hljs-keyword">privileges</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> owncloud.* <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> username@localhost <span class="hljs-keyword"><span class="hljs-keyword">identified</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-string"><span class="hljs-string">'password'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">flush</span></span> <span class="hljs-keyword"><span class="hljs-keyword">privileges</span></span>; exit;</code> </pre><br><h3>  We connect external storage </h3><br>  As I said before, it seems to me a good idea to share a virtual machine with the very logic of the service and storage, where synchronized data will fall.  Here you can do as you please.  You can do nothing, and then the default storage will be / var / www / owncloud / data.  You can do as I do and create the directory / mnt / data, where the external volume will be mounted via fstab.  This may be SSD / HDD, it may lie locally, or it may be located on NAS-storage in the same local network.  Do not forget to just test the speed of the resulting hybrid.  <b>This is a potential bottleneck</b> .  In my home version, this is a samba server on the host machine, someone might prefer NFS. <br><br>  Additional convenience of such a hybrid design - ease of moving to faster or more capacious options, if necessary.  It is enough to stop the services and upload all the files from the old / mnt / data to the new connected volume, then change the mount point to fstab and restart the service again.  Suddenly you decide to transfer data from the old HDD to SSD RAID? <br><br><h3>  Caching </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/420/a9b/4cd/420a9b4cd07ec2ce44b0609fdfa94942.png" alt="image"><br><br>  An important point.  Without memory caching, owncloud can work significantly more thoughtfully.  And he will certainly remind you of this on the admin page.  The choice of caching method depends on the system architecture.  With recommendations from the developers you can find <a href="https://doc.owncloud.org/server/9.1/admin_manual/configuration_server/caching_configuration.html">here</a> .  In short, for personal use and small installations it is recommended to use only <b>APCu</b> .  For small organizations, when installed on a single server - <b>APCu for local caching and Redis for file locking</b> .  For installation on a cluster in a large organization: <b>Redis for everything except local caching</b> . <br><br>  Developers consider APCu the fastest option for a local cache.  If there is enough RAM, it is better to use APCu for local caching and Redis for file locking.  If there is not enough memory, then it is recommended to use Redis for both. <br><br>  In our variant we will use only <b>APCu</b> .  Install the appropriate module for php: <br><br><pre> <code class="hljs swift">sudo apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> install php-apcu</code> </pre><br>  Now it will be enough just to add them to the owncloud configuration file - <b>config.php</b> : <br><br><pre> <code class="hljs php"><span class="hljs-string"><span class="hljs-string">'memcache.local'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'\OC\Memcache\APCu'</span></span>,</code> </pre><br><h3>  The first launch of our brainchild </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/a9d/241/185/a9d241185a2087cee3f6810ee23ed4bf.jpg" alt="image"><br><br>  Reboot the machine just in case to restart all services.  Go to example.com/owncloud and carefully <s>click all the buttons indiscriminately</s> fill in the admin account lines, passwords, location of the data directory (/ mnt / data, as in this guide), login and password from the owncloud database user.  If everything went well, then you will soon boot into the main menu of the service and you will be able to make sure that all the <s>fuckin is broken</s> in order. <br><br><h3>  * Thousand Elephants </h3><br><div class="spoiler">  <b class="spoiler_title">Terry Pratchett, Moving Pictures</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/ec9/d9b/607/ec9d9b6070d8f70a1b8d8655ec50e562.jpg" alt="image"><br><br>  But Sustain no longer listened.  He pointed to a few planks leaning against the wall. <br><br>  - What it is?  - he asked. <br><br>  ‚ÄúAnd this is my idea,‚Äù Zilberkit said.  ‚ÄúWe thought it would be a manifestation of ... er, business sense,‚Äù he clearly relished these words as an unusual but exquisite delicacy, ‚Äútelling people about new moving pictures that we produce here.‚Äù <br><br>  Sustain picked up one of the planks and, holding it in his outstretched hand, examined it with a critical eye.  It read: <br><br>  On the next week we will <br><br>  "PELIAS AND MELISANDRA" <br><br>  Raman Trogy in 2 parts <br><br>  Thanks for attention <br><br>  ‚ÄúYeah," he said, without any expression. <br><br>  - Is it bad?  - Zilberkit uttered dumbly.  - Well, it is, because there is everything that the viewers need to know. <br><br>  ‚ÄúResolve,‚Äù said Doubt, taking a piece of chalk from Zilberkit‚Äôs table. <br><br>  For some time he scratched something on the back of the board, and then allowed me to read what was written: <br><br>  GODS AND PEOPLE SAID THIS THAT NEVER BE BUT BUT THEY HAVE NOTHING ANYTHING HEARED <br><br>  "PELIAS AND MELISANDRA", <br><br>  Hysteria of the Forbidden Lupvi <br><br>  Passion Pabradit Prasranstvo and Time! <br><br>  You will be stoned <br><br>  With the participation of 1000 slans! <br><br>  Victor and Zilberkit read the text with cautious attention.  So learn the lunch menu in a foreign language.  And the language really was a stranger.  But what is the worst, in appearance he was the same, dear. <br><br>  ‚ÄúWell, I don‚Äôt know ...‚Äù Zilberkit said carefully.  - As a matter of fact ... What is so forbidden there ... Uh ... Everything is based on a real story, only the names are changed.  I thought that the picture would be useful, so to speak, to the younger generation.  Heroes, if you please, never met - that's what the tragedy is.  All this, uh ... very, very sad.  - He looked at the tablet.  - Although, on the other hand, there is undoubtedly something in this.  Uh ... - He was obviously worried about something.  ‚ÄúBut I really don‚Äôt remember any elephants.‚Äù  - His voice sounded extremely guilty.  - On the day of the clicks, I was at work all day, but I don‚Äôt remember thousands of elephants at all, although I would have noticed them. <br><br>  Sustable bore him unblinking gaze.  Where the elephants came from, he didn‚Äôt know himself, but every new mental effort gave him another, very definite idea of ‚Äã‚Äãhow to produce paintings.  A thousand elephants - for starters, this is not bad at all. </div></div><br>  Thanks to all who read this sheet to the end.  I wanted to describe all the details as fully as possible, so that I would not have to rummage through various, often contradictory sources.  I do not exclude that I could have made typos or inaccuracies somewhere, although I checked everything twice.  I would be very grateful to be stuck in the error. <br><br><h4>  UPD </h4><br>  As I correctly pointed out - you need to go to Nextcloud, where all the developers have fled.  I missed this moment due to the fact that I have been sitting on this system for quite a long time. <br><br><h4>  UPD2 </h4><br>  The <a href="https://habrahabr.ru/users/grozaman/" class="user_link">grozaman</a> user contacted me and pointed out some non-optimal nginx settings related to encryption strength and other nuances.  A good additional manual can be found here: <a href="https://krasovsky.me/it/2016/08/nextcloud-nginx-config/">Setting up Nextcloud based on NGINX</a> <br><br><h4>  UPD3 </h4><br>  I have already been told several times that certbot / letsencrypt is in repositories and there is no point in dragging it separately.  For Ubuntu, this is: <br><br><pre> <code class="bash hljs">sudo apt-get install letsencrypt</code> </pre><br><br><h4>  UPD4 </h4><br>  Fixed the error with the default webroot and finalized the configuration file. </div><p>Source: <a href="https://habr.com/ru/post/310144/">https://habr.com/ru/post/310144/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../310134/index.html">Pixel Launcher vs Other Launchers</a></li>
<li><a href="../310136/index.html">A change in PHP 7 breaking some servers on Ubuntu when upgrading from version 5</a></li>
<li><a href="../310138/index.html">Cisco OpenSOC - open source solution for creating your own cyber threat monitoring center</a></li>
<li><a href="../310140/index.html">IBM Watson: the cognitive system in cinema</a></li>
<li><a href="../310142/index.html">The final release of Angular 2</a></li>
<li><a href="../310146/index.html">Chained together, or add comfort comments Vkontakte</a></li>
<li><a href="../310148/index.html">CUBA Platform: Java RAD open source framework</a></li>
<li><a href="../310150/index.html">4C: Kyiv - Video Game Developers Conference</a></li>
<li><a href="../310152/index.html">.Net Core, WCF and ODATA clients</a></li>
<li><a href="../310156/index.html">GDB was a tough nut to crack.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>