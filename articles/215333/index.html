<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Is Shared DAS concept an alternative to SAN?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Traditionally, if the server has its own storage subsystem is not enough, the choice is limited to DAS (directly connected disk shelves) and network b...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Is Shared DAS concept an alternative to SAN?</h1><div class="post__text post__text-html js-mediator-article"><img align="right" src="https://habrastorage.org/getpro/habr/post_images/192/b09/c48/192b09c48c54f371da0bfb56a5f7f291.jpg"><br><br>  Traditionally, if the server has its own storage subsystem is not enough, the choice is limited to DAS (directly connected disk shelves) and network block or file storage.  But recently, another very promising concept has been added to these options - Shared DAS.  What is she good at? <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      First, let's go through the advantages and disadvantages of the existing options. <br><br>  Let's start with the simplest, that is, Directed Attached Storage (DAS), typical examples of which are disk shelves that are connected via SAS to the controller in the server. <br><br> <a href="http://http:"><img src="https://habrastorage.org/files/d01/7fc/435/d017fc435a394921afb2ea10fb1d3cb0.jpg"></a> <br>  <i>Typical DAS</i> <br><br>  The list of advantages is as follows: <br><ul><li>  High performance </li><li>  Low cost </li><li>  Simple operation </li><li>  Data protection with a RAID controller </li></ul><br>  Disadvantages: <br><ul><li>  The inability to scale to multiple servers </li><li>  Impossibility to build solutions with high availability </li></ul><br><br>  Everything is very obvious.  If the requirements for continuity of work are high, then instead of DAS, we already use a shared storage system with ports of direct connection, in which several controllers are provided. <br><br> <a href="http://http:"><img src="https://habrastorage.org/files/8cd/a71/949/8cda7194902d48e3a135420519af7d2c.jpg"></a> <br>  <i>Shared storage</i> <br><br>  Advantages of this approach: <br><ul><li>  The cost is still below the full SAN </li><li>  Ability to expand disk space for multiple servers </li><li>  Simple operation </li><li>  Fault tolerance with full duplication of components </li></ul><br>  Minuses: <br><ul><li>  Modest performance for entry level systems </li><li>  Binding to proprietary solutions and components </li><li>  Scalability is significantly limited by the number of ports in the system. </li><li>  Relatively high cost </li><li>  The need to license many software features </li></ul><br><br>  And finally, network storage in the form of a Storage Area Network (SAN), built on FC or iSCSI. <br><br> <a href="http://http:"><img src="https://habrastorage.org/files/5a2/587/b8f/5a2587b8f8854fe698982b4baf6b39c5.jpg"></a> <br>  <i>SAN</i> <br><br>  Advantages: <br><ul><li>  Fault tolerance and continuity of service </li><li>  Extensive data management capabilities </li><li>  Good scalability </li></ul><br>  Disadvantages: <br><ul><li>  High price </li><li>  High complexity of configuration and management </li></ul><br><br>  The industry has long had various ideas on how to make a highly available solution suitable not only for large companies, but also for the SMB segment.  The number of such enterprises on the planet is hundreds of thousands, a huge and empty market. <br>  This solution was Shared DAS, shared disk storage.  From the disk shelves, this concept has absorbed low cost, high performance and ease of management, and high reliability and continuous availability have been taken from network solutions. <br>  A lot of development of SAS helped here, which from a simple transport became an advanced network protocol with the possibility of switching, zoning, to ensure data integrity, the T10 information security model was adopted. <br><br> <a href="http://http:"><img src="https://habrastorage.org/files/0d6/102/c5b/0d6102c5b13a48be902748eeb67fa7de.jpg"></a> <br>  <i>SharedDAS</i> <br><br>  The basis was the use of SAS as a switching environment and the use of self-configurable port extenders (SAS expanders).  It is SAS that provides fully duplicated access to drives and the ability to use extremely heterogeneous drives in one system: a mixed storage medium can simultaneously include SATA and SAS drives, as well as SSD drives, and SAS devices can be of different generation (3G, 6G , 12G).  Due to SAS-switches, which, in fact, are the same expanders in the external version, all this wealth can be pooled, organizing multi-level storage with the separation of data on the requirements for processing speed. <br>  A separate additional advantage of SAS is extremely low data transfer delays at the interface level - if in the case of hard drives whose response time was measured in milliseconds, this could be neglected, in the case of SSDs with a response of tens of microseconds, this moment came to the fore.  Switched SAS environment allows for multi-level data storage with their separation into ‚Äúhot‚Äù, ‚Äúwarm‚Äù and ‚Äúcold‚Äù according to the requirements of access speed in the most natural way, scaling a single storage network and operating on drives at a logical level, without the need to scale separately drives under each group of requirements. <br><br> <a href="http://http:"><img src="https://habrastorage.org/files/4a7/a58/f7c/4a7a58f7c0e740f7bb42496f634309bb.jpg"></a> <br>  <i>scaling</i> <br><br>  Excellent system scalability on SAS is provided by cascading switches.  Thus, the LSI SAS6160 provides a cascading depth of 6, the total number of devices in a cascade can reach up to 1000, and the configuration of the switches is carried out out-of-band with respect to the data transmission medium - via TCP / IP, Telnet.  The current state of development of equipment allows you to create complex systems, including dozens of servers and hundreds of drives. <br><br> <a href="http://http:"><img src="https://habrastorage.org/files/6c7/4ef/5dd/6c74ef5dd7914bcf9723f39b12848954.jpg"></a> <br>  <i>Access via multiple paths</i> <br><br>  As for the fault tolerance of the infrastructure built on SAS, it is ensured by the full duplication of all routes, including ports directly on the drives.  Here it is necessary to make an important note: the use of SATA drives, although possible in such an infrastructure using interposers (multiplexers providing access to SATA in two ways), will still reduce overall reliability, since it is the interposer that becomes the point of failure.  Switches are capable of generating fully-fledged independent disk access channels and, in the event of a failure of one of the paths, automatically redirect the load to another channel.  The role of the OS and control applications in these conditions is to provide a user-friendly failover. <br><br>  If we are talking about operating systems, it is worth noting that solutions within the framework of the SharedDAS concept have long been available on the basis of ZFS, but the configuration of such systems required quite deep specific knowledge, and some features of ZFS can only be taken into account at the design level system.  Therefore, a truly massive market for fault-tolerant solutions began with the release of Windows Server 2012, which included the Storage Spaces component, which made it possible to virtualize data storage at the OS level. <br><br> <a href="http://http:"><img src="https://habrastorage.org/files/274/09c/a04/27409ca0453443bf804985acae8c30f0.jpg"></a> <br>  <i>Sample Storage Spaces Features</i> <br><br>  Storage Spaces introduced spaces that are called Storage Spaces ‚Äî virtual storage facilities that operate on the basis of groups of physical media that are pooled (Pools).  This approach allowed us to separate the management of storage media from the management of data warehouses.  The main value of this component is that it supports the sharing of SAS devices, which means that in a server cluster running Windows Server 2012, the shared space Storage Spaces will be immediately available to all nodes in the cluster and can be used as part of the cluster volumes Cluster Shared Volumes (CSV) . <br><br>  Storage Spaces provides: <br><ul><li>  Creation of one or several pools of drives, including hybrid ones (from combinations of HDD and SSD), which can be dynamically expanded by adding drives </li><li>  Continuous availability using a clustering component that is only available for SAS storage (FC and iSCSI are not supported), pools are transferred between cluster nodes as needed </li><li>  Balancing CSV affiliates to different cluster nodes depending on load </li><li>  Different levels of data protection, such as backup drives (Hot Spares), background checking, error correction, various RAID levels (Simple, Mirror, Parity, Dual Parity) </li><li>  Disk Space Optimization (Thin Provisioning) </li><li>  Layered Storage of Hot and Cold Data on Hybrid Pools </li><li>  SSD write caching </li></ul><br>  And most importantly - everything is done very simply and clearly. <br><br>  As for us, we have already <a href="http://habrahabr.ru/company/etegro/blog/189520/">talked about ETegro Fastor FS200 G3</a> - a fault-tolerant data storage server built on this concept.  In addition, based on the SharedDAS concept, we already offer <a href="http://www.etegro.ru/configurator/servers/rackmount/performance/rs420g4">ETegro Hyperion RS420 G4</a> - a Cluster-in-a-box class server, which will be a separate material, for building fault-tolerant solutions of various types and a number of solutions based on disk shelves. <br><br>  If anyone thought that we had sold to Microsoft, then in vain - soon we will publish a way to raise a similar cluster of high availability on Linux. </div><p>Source: <a href="https://habr.com/ru/post/215333/">https://habr.com/ru/post/215333/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../215321/index.html">WCF RIA Services. Implement the Model-View-ViewModel (MVVM) pattern. Part 4</a></li>
<li><a href="../215323/index.html">1World Online: the very first post about who we are and why we are here?</a></li>
<li><a href="../215325/index.html">LEGO Keyboard</a></li>
<li><a href="../215327/index.html">Sony Xperia Z2 - hands-on preview</a></li>
<li><a href="../215331/index.html">Microwave passive radar in the 10 GHz band</a></li>
<li><a href="../215335/index.html">Microsoft released a set of updates, March 2014</a></li>
<li><a href="../215339/index.html">C ++ for Perl programmers</a></li>
<li><a href="../215341/index.html">Business Continuity: What can IBM offer?</a></li>
<li><a href="../215343/index.html">AST Transformations - First Step to Heavy Substances</a></li>
<li><a href="../215345/index.html">Problems with the code? Help the team write better code. Tips from Dino Esposito</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>