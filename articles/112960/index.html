<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Using Deferred Objects in jQuery 1.5</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Deferred objects appeared in jQuery 1.5. They allow you to separate the logic that depends on the results of the action from the action itself. For Ja...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Using Deferred Objects in jQuery 1.5</h1><div class="post__text post__text-html js-mediator-article">  Deferred objects appeared in jQuery 1.5.  They allow you to separate the logic that depends on the results of the action from the action itself.  For JavaScript Deferred objects are not new, they were already in MochiKit and Dojo, but with changes to jQuery ajax logic from Julian Aubourg, the introduction of Deferred objects was inevitable.  With Deferred objects, several callbacks can be associated with the result of the task and any of them can be tied to the action even after it has started.  The task to be performed may be asynchronous, but not necessary. <br><br>  Deferred objects are now built into $ .ajax () so you will receive them automatically.  Handlers can now be associated with the result as follows: <br><pre><code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// $.get, ajax ,     var req = $.get('foo.htm') .success(function( response ){ // -    }) .error(function(){ //  -    }); //      $.get()   doSomethingAwesome(); //  -     req.success(function( response ){ //  -    //      ,    ,     //      });</span></span></code> </pre> <br><a name="habracut"></a><br>  We are no longer limited to one successor, error or complete handler, we now have self-organizing callback queues (FIFO), instead of simple callback functions. <br><br>  As shown in the example above, callbacks can be hooked even after an AJAX request or after completing any task.  This is great for organizing code, the days of long callback blocks are numbered. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Digging deeper, imagine a situation in which we want to call a function after several simultaneous AJAX requests.  This is easy to do with the helper of pending objects - $ .when (): <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doAjax</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $.get(<span class="hljs-string"><span class="hljs-string">'foo.htm'</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doMoreAjax</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $.get(<span class="hljs-string"><span class="hljs-string">'bar.htm'</span></span>); } $.when( doAjax(), doMoreAjax() ) .then(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log( <span class="hljs-string"><span class="hljs-string">'I fire once BOTH ajax requests have completed!'</span></span> ); }) .fail(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log( <span class="hljs-string"><span class="hljs-string">'I fire if one or more requests failed.'</span></span> ); });</code> </pre> <br>  JsFiddle <a href="http://jsfiddle.net/ehynds/Mrqf8/">example jsfiddle.net/ehynds/Mrqf8</a> <br><br>  This all works because now all jQuery AJAX methods return an object containing a Promise object that is used to track asynchronous calls.  Promise is an observable result watcher.  Deferred objects look for the presence of the promise () method to determine whether it is possible to monitor the object or not (object is observable or not).  $ .when () waits for all AJAX requests to be executed, when this happens the callback functions attached to $ .when () via .then () and .fail () will be called depending on what the result is.  Callback functions are called in the order of arrival (fifo queue). <br><br>  All deferred methods (.then () and .fail ()) accept functions or arrays of functions, so you can create your own behaviors and assign them all with a single call or separate them at your convenience. <br><br>  $ .ajax () returns a non-standard object containing another Deferred-like object.  I have already described promise (), but you also found then (), success (), error () and many others.  You do not have access to the entire Ajax-Deferred object.  Only promise (), callback methods, as well as isRejected () and isResolved () methods, which can be used to check the status of a Deferred object. <br><br>  But why not return the entire object?  If this were the case, then it would be possible to programmatically complete the Ajax-Deferred object, without waiting for the Ajax response.  This potentially disrupts the entire paradigm. <br><br><h4>  Register Callbacks </h4><br>  In the examples shown above, the then (), success () and fail () methods are used to register callback functions in Deferred objects, but more methods are available to you, especially when you work with Ajax-Deferred. <br><br>  Methods are available to all Deferred objects (AJAX, $ .when, and those created by hands): <br><pre> <code class="javascript hljs">.then( doneCallbacks, failedCallbacks ) .done( doneCallbacks ) .fail( failCallbacks )</code> </pre> <br>  The Ajax-Deferred object has 3 additional methods that simply duplicate the ones described above.  They provide semantic alternatives and are similar in name to the old handlers to which we are all used: <br><pre> <code class="javascript hljs">.complete( doneCallbacks, failCallbacks ) .success( doneCallbacks ) .error( failCallbacks )</code> </pre> <br>  Thus, the following three examples are equivalent (success reads better than if it were in the context of an AJAX request, isn‚Äôt it?) <br><pre> <code class="javascript hljs">$.get(<span class="hljs-string"><span class="hljs-string">"/foo/"</span></span>).done( fn ); <span class="hljs-comment"><span class="hljs-comment">// : $.get("/foo/").success( fn ); // : $.get("/foo/", fn );</span></span></code> </pre> <br><br><h4>  Creating Your Deferred Behavior </h4><br>  We know that the $ .ajax and $ .when methods provide us with a deferred API inside, but we can make our own variant: <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getData</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $.get(<span class="hljs-string"><span class="hljs-string">'/foo/'</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showDiv</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dfd = $.Deferred(); $(<span class="hljs-string"><span class="hljs-string">'#foo'</span></span>).fadeIn( <span class="hljs-number"><span class="hljs-number">1000</span></span>, dfd.resolve ); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> dfd.promise(); } $.when( getData(), showDiv() ) .then(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> ajaxResult </span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'The animation AND the AJAX request are both done!'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// 'ajaxResult'     });</span></span></code> </pre> <br>  JsFiddle <a href="http://jsfiddle.net/ehynds/JSw5y/">example jsfiddle.net/ehynds/JSw5y</a> <br><br>  Inside showDiv (), I create a new Deferred object that performs the animation and returns the promise.  Deferred ends (remember dequeue () if you are familiar with the methods of working with queues in jQuery) after fadeIn () is completed.  Between the moment the promise returns and Deferred ends, we register a callback waiting for the successful execution of both tasks.  Therefore, when both tasks are completed, the callback will be executed. <br><br>  getData () returns an object with a promise method that allows $ .when () to monitor the execution of an action.  Similar object returns showDiv () <br><br><h4>  Deferred Objects Pending </h4><br>  We can take one more step to register individual callback functions for getData () and showDiv () and register their promises in one master-Deferred object. <br><br>  If you want something to happen after executing success getData () or success showDiv () independently, as well as after the success of both getData () and showDiv (), simply register a callback for their individual Deferred objects and link them together via $ .when <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getData</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $.get(<span class="hljs-string"><span class="hljs-string">'/foo/'</span></span>).success(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Fires after the AJAX request succeeds'</span></span>); }); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showDiv</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dfd = $.Deferred(); dfd.done(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Fires after the animation succeeds'</span></span>); }); $(<span class="hljs-string"><span class="hljs-string">'#foo'</span></span>).fadeIn( <span class="hljs-number"><span class="hljs-number">1000</span></span>, dfd.resolve ); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> dfd.promise(); } $.when( getData(), showDiv() ) .then(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> ajaxResult </span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Fires after BOTH showDiv() AND the AJAX request succeed!'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// 'ajaxResult' is the server's response });</span></span></code> </pre> <br>  JsFiddle <a href="http://jsfiddle.net/ehynds/W3cQc/">example jsfiddle.net/ehynds/W3cQc</a> <br><br><h4>  Deferred Chains </h4><br>  Deferred callbacks can be represented as chains, since promise returns from callback methods.  Here is a real example from <a href="http://www.twitter.com/">@ajpiano</a> : <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">saveContact</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> row </span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> form = $.tmpl(templates[<span class="hljs-string"><span class="hljs-string">"contact-form"</span></span>]), valid = <span class="hljs-literal"><span class="hljs-literal">true</span></span>, messages = [], dfd = $.Deferred(); <span class="hljs-comment"><span class="hljs-comment">/* bunch of client-side validation here */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( !valid ){ dfd.resolve({ <span class="hljs-attr"><span class="hljs-attr">success</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">errors</span></span>: messages }); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { form.ajaxSubmit({ <span class="hljs-attr"><span class="hljs-attr">dataType</span></span>: <span class="hljs-string"><span class="hljs-string">"json"</span></span>, <span class="hljs-attr"><span class="hljs-attr">success</span></span>: dfd.resolve, <span class="hljs-attr"><span class="hljs-attr">error</span></span>: dfd.reject }); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> dfd.promise(); }; saveContact( row ) .then(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">response</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( response.success ){ <span class="hljs-comment"><span class="hljs-comment">// saving worked; rejoice } else { // client-side validation failed // output the contents of response.errors } }) .fail(function(err) { // AJAX request failed });</span></span></code> </pre> <br>  The saveContact () function checks the form and saves the result in the valid variable.  If validation fails, the deferred object is completed with an object containing the succession and an array of errors.  If the form is validated, the deferred object is completed, but this time with a response from the AJAX request.  The fail () handler listens for transport errors (404, 500, and others) <br><br><h4>  Not observable tasks </h4><br>  Deferreds are especially useful when the execution logic may or may not be asynchronous, and you want to abstract this condition from the underlying code.  Your task may return a promise, but it may also return a string, an object, or something else. <br><br>  In this example, when we first click on the launch application link, an AJAX request tells the server to save and return the current timestamp.  Timestamp is stored in the item's data cache after an AJAX request has been completed.  The app only cares about the first click.  On subsequent clicks, the timestamp is taken from the data cache, instead of making a request to the server. <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">startTask</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> element </span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> timestamp = $.data( element, <span class="hljs-string"><span class="hljs-string">'timestamp'</span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( timestamp ){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> timestamp; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $.get(<span class="hljs-string"><span class="hljs-string">'/start-task/'</span></span>).success(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> timestamp </span></span></span><span class="hljs-function">)</span></span>{ $.data( element, <span class="hljs-string"><span class="hljs-string">'timestamp'</span></span>, timestamp ); }); } } $(<span class="hljs-string"><span class="hljs-string">'#launchApplication'</span></span>).bind(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> event </span></span></span><span class="hljs-function">)</span></span>{ event.preventDefault(); $.when( startTask(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) ).done(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> timestamp </span></span></span><span class="hljs-function">)</span></span>{ $(<span class="hljs-string"><span class="hljs-string">'#status'</span></span>).html( <span class="hljs-string"><span class="hljs-string">'&lt;p&gt;You first started this task on: '</span></span> + timestamp + <span class="hljs-string"><span class="hljs-string">'&lt;/p&gt;'</span></span>); }); loadApplication(); });</code> </pre> <br><br>  When $ .when () realizes that its first argument has no promise (and therefore it is not observable), it creates a new deferred object and terminates it with the data object and returns the promise of this pending object.  So that any object without promise can be observed. <br><br>  One small thing, you can't do a deferred launch of an object that returns an object with its promise method.  Deferred objects are determined about the presence of the promise method, but jQuery does not check whether the promise returns a necessary object.  Therefore, this code contains an error syntax error: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> obj = { <span class="hljs-attr"><span class="hljs-attr">promise</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-comment"><span class="hljs-comment">// do something } }; $.when( obj ).then( fn );</span></span></code> </pre> <br><br><h4>  Conclusion </h4><br>  Deferred objects introduce a new reliable way to write asynchronous tasks.  Instead of focusing on how to organize the callback logic in one callback, you can assign several separate actions to the callback queue, knowing that they will be executed, without worrying so much about their synchronicity.  The proposed information needs to be digested for a long time, but when you learn everything, then I think you will understand that asynchronous code is much simpler with Deferred objects. </div><p>Source: <a href="https://habr.com/ru/post/112960/">https://habr.com/ru/post/112960/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../112949/index.html">The last provider is disabled in Egypt</a></li>
<li><a href="../112950/index.html">The administrator of the UA zone, ‚ÄúHostmaster,‚Äù closes public access to information on domain owners.</a></li>
<li><a href="../112953/index.html">What you need to know about floating-point arithmetic</a></li>
<li><a href="../112957/index.html">Issued latest IPv4 / 8 blocks</a></li>
<li><a href="../112958/index.html">Accuracy of meteorological forecasts</a></li>
<li><a href="../112961/index.html">Microsoft Data Center Security</a></li>
<li><a href="../112962/index.html">Prefixes for Microsoft business critical applications</a></li>
<li><a href="../112963/index.html">Google launched a website with painting</a></li>
<li><a href="../112964/index.html">Is the trademark owner always right?</a></li>
<li><a href="../112965/index.html">Making a PDF book from a web comic with C # using the example of xkcd</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>