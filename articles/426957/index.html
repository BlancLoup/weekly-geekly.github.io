<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Introduction to WSGI Servers: Part One</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article is a translation of Kevin Goldberg‚Äôs ‚ÄúAn Introduction to Python WSGI Servers: Part 1‚Äù article blog.appdynamics.com/engineering/an-introdu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Introduction to WSGI Servers: Part One</h1><div class="post__text post__text-html js-mediator-article">  <i>This article is a translation of Kevin Goldberg‚Äôs ‚ÄúAn Introduction to Python WSGI Servers: Part 1‚Äù <a href="https://blog.appdynamics.com/engineering/an-introduction-to-python-wsgi-servers-part-1/">article blog.appdynamics.com/engineering/an-introduction-to-python-wsgi-servers-part-1</a> with minor additions from the translator</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e89/8a7/940/e898a7940907af77df732895bef18f11.png" alt="image"><br><br><h2>  A Brief History of WSGI Python Servers </h2><br>  <b>WSGI</b> servers appeared because web servers at that time could not interact with applications written in Python.  <b>WSGI</b> ( <i>pronounced ‚Äúwhiz-gee‚Äù with a solid ‚Äúg‚Äù</i> ) was developed by Philip J. Eby (along with Ian Bicking and others) in the early 2000s.  The Apache module, known as <a href="https://ru.wikipedia.org/wiki/Mod_python">mod_python</a> , developed by Gregory Trubetskim in the late 1990s, at that time processed most of the Python applications.  However, <b>mod_python was</b> not an official specification.  It was simply created so that developers can run Python code on the server.  Unfortunately, this approach was unsafe and developers began to look for a new solution. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <a href="http://citforum.ru/programming/python/wsgi/">WSGI</a> (Web Server Gateway Interface) is a descendant of <b>CGI</b> (Common Gateway Interface).  When the web began to evolve, <b>CGI</b> expanded due to the support of a huge number of languages ‚Äã‚Äãand the lack of other solutions.  However, such a decision was slow and limited.  <b>WSGI</b> was designed as an interface for routing requests from web servers (Apache, Nginx, etc.) to web applications. <br><a name="habracut"></a><br><h2>  Server and web application </h2><br>  In the simplest case, <b>WSGI</b> consists of two main entities: <br><br><ol><li>  Web server ( <a href="https://habr.com/post/267721/">Nginx, Apache</a> , etc.); </li><li>  A web application written in Python. </li></ol><br><h2>  Principle of operation: </h2><br>  The web server executes the code and sends the information related to the http request and the callback function to the web application.  Then the request on the application side is processed and a response is sent to the web server. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/227/c0d/cd0/227c0dcd04344a6fc7b7bf7f762414d7.png" alt="image"><br><br>  Periodically, there is one or more intermediate layers between the web server and the web application.  Such layers allow, for example, balancing between several web applications or preprocessing (preprocessing) the content that is sent. <br><br>  Here are some examples of frameworks that support WSGI: <br><br><ul><li>  <a href="https://www.djangoproject.com/">Django</a> </li><li>  <a href="https://cherrypy.org/">Cherrypy</a> , </li><li>  <a href="http://flask.pocoo.org/">Flask</a> </li><li>  <a href="http://www.turbogears.org/">TurboGears</a> , </li><li>  <a href="http://www.web2py.com/">web2py</a> . </li></ul><br><h2>  Why WSGI? </h2><br>  You might ask, <i>‚ÄúOkay, but why WSGI?‚Äù</i> .  There are several reasons for this: <br><br><ul><li>  <b>WSGI</b> servers were designed to handle multiple requests at the same time.  And the frameworks are not intended for processing thousands of requests and do not provide a solution for how to best route them (requests) from a web server. </li><li>  <b>WSGI</b> accelerates the development of web applications written in Python.  If you are developing a web application using a framework (Django or something else), you do not need to worry about how your particular infrastructure uses the <b>WSGI</b> standard. </li><li>  <b>WSGI</b> gives you the flexibility to change the components of a web stack without changing the application that works with <b>WSGI</b> . </li></ul><br>  <b>WSGI</b> servers are available in various variations.  Some are focused on a fullstack solution, while others are well suited for specific frameworks.  For example, <b>Gunicorn</b> works with <b>Django</b> right out of the box.  Here is a closer look at the six WSGI servers on the market today: <b>Bjoern</b> , <b>uWSGI</b> , <b>mod_wsgi</b> , <b>Meinheld</b> , <b>CherryPy</b> and <b>Gunicorn</b> . <br><br><h2>  Bjoern </h2><br>  <a href="https://github.com/jonashaag/bjoern">Bjoern</a> is an asynchronous WSGI server written in C. Written from scratch to be small and fast, it was developed using <b>http_parser</b> from Ryan Dahl (creator of Node.js) and the <b>Libev</b> event <b>cycle</b> from Mark Lehmann. <br>  With a download size of only 18 KB, it consists of less than 800 lines of code.  It takes up less than 1 MB of RAM and does not use <a href="https://ru.wikipedia.org/wiki/%25D0%25A1%25D0%25BE%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B0">cortutina</a> or streams.  <b>Bjoern is</b> fully compatible with <b>WSGI</b> and is considered one of the most high-performance <b>WSGI</b> servers. <br>  <b>Bjoern</b> supports persistent connections and can bind to Unix sockets or TCP addresses.  <b>Bjoern</b> is considered faster than Gunicorn and less bloated than <b>uWSGI</b> and <b>Meinheld</b> .  One of the drawbacks of this server is the lack of normal documentation with clear examples. <br><br><h2>  uWSGI </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/5b1/f72/866/5b1f7286639e1be15c1603e6ad0c353c.png" alt="image"><br><br>  <a href="https://uwsgi.readthedocs.io/en/latest/">uWSGI</a> was developed by <a href="http://unbit.com/">Unbit</a> (Italy) with the goal of becoming a fullstack solution capable of creating hosting services.  It is named after the <b>WSGI</b> standard and was created as a plugin for one of the company's projects. <br><br>  A wide and constantly developing project, <b>uWSGI</b> allows you to do much more than web applications for hosting.  Many find <b>uWSGI a</b> powerful tool, while others find it somewhat bloated.  Starting with version 2.0, uWSGI also supports launching web applications in Lua, Perl, Ruby and others. <br><br><h2>  mod_wsgi </h2><br>  <b>mod_wsgi</b> is an Apache HTTP server module developed by Graham Dumplton (previously, one of the <b>mod_python</b> developers) that provides the <b>WSGI</b> interface for web applications.  Compatible with versions of Python2 and Python3.  Created as an alternative to other web application integration solutions such as <b>CGI</b> , <b>FastCGI</b> and <b>mod_python</b> .  It can be installed as an Apache module or via the <b>mod_wsgi express</b> .  The second way simplifies installation for Python developers who are not so familiar with Apache.  Other benefits: <br><br>  ‚Ä¢ You do not need root-rights with a full installation. <br>  ‚Ä¢ A local environment is created, which reduces the risk of negative impact on existing settings. <br><br>  The development of <b>mod_wsgi</b> as a project may seem slow due to the fact that the module is developed by one developer.  Another disadvantage is that the documentation is currently poorly organized and may be outdated. <br><br>  Currently, the focus is on simplifying Apache implementation using <b>mod_wsgi</b> in <a href="https://habr.com/post/309556/">Docker</a> environments. <br><br><h2>  Meinheld </h2><br>  Created by Yutaka Matsubara, <b>Meinheld</b> is a <b>WSGI-</b> compliant server that uses the power of <a href="http://developer.cybozu.co.jp/archives/kazuho/2009/08/picoev-a-tiny-e.html">picoev</a> and <a href="https://pypi.org/project/greenlet/">greenlet</a> to perform asynchronous I / O operations.  It can be used with a standalone HTTP server or via <b>Gunicorn</b> . <br><br>  <b>Meinheld</b> has a dependency on a third-party component called greenlet. <br><br>  The source code repository is located on <a href="https://github.com/mopemope/meinheld">GitHub</a> .  <b>Meinheld</b> supports web sockets and includes several <a href="https://ru.wikipedia.org/wiki/Monkey_patch">monkeypatches</a> over other modules for enhanced functionality. <br><br><h2>  Cherrypy </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/e97/9c1/870/e979c18703e6aa4c1dafce6a9ea34833.png" alt="image"><br>  <b>CherryPy</b> - better known as a minimalistic Python-based framework for writing web applications, <b>CherryPy</b> also comes with a WSGI thread-pooled web server and support for the HTTP / 1.1 protocol.  The <b>CherryPy</b> development team describes its web server as a production-ready, high-speed, thread-pooled HTTP server.  He has: <br><br>  ‚Ä¢ Quick, easy setup; <br>  ‚Ä¢ Scalable; <br>  ‚Ä¢ Small and easy to use solution for your Python applications; <br>  ‚Ä¢ SSL support. <br><br>  <b>CherryPy</b> distinguishes itself from the more well-known <b>WSGI</b> servers due to its ease of use and convenience for developers.  You can write a small web application within a few minutes by running it in several processes and creating only one file called server.py.  By combining <b>CherryPy</b> with Nginx as a proxy server, you will get a reliable way to serve your web applications.  <b>CherryPy</b> was created by Remy Delon.  He wanted to create a structure that would be as close as possible to the <a href="https://tyapk.ru/blog/post/the-zen-of-python">main principles of development in the Python language</a> . <br><br><h2>  Gunicorn </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/76c/35a/7e5/76c35a7e585eaf75a2abdd988dba4bcd.png" alt="image"><br><br>  <a href="https://gunicorn.org/">Gunicorn</a> is a <b>WSGI</b> <a href="https://gunicorn.org/">server</a> created for use on UNIX systems.  The name is an abbreviated and combined version of the words "Green Unicorn".  On the project site itself there is a green unicorn.  <b>Gunicorn</b> was moved from the Unicorn project from Ruby.  It is relatively fast, resource-intensive, easy to run and works with a wide range of web frameworks. <br><br>  The development team recommends using <b>Gunicorn</b> in conjunction with Nginx, where Nginx is used as a proxy server. <br><br><h2>  Conclusion </h2><br>  In this article, six of the most popular WSGI servers at the moment were dismantled: <b>Bjoern</b> , <b>uWSGI</b> , <b>mod_wsgi</b> , <b>Meinheld</b> , <b>CherryPy</b> and <b>Gunicorn</b> .  Which server you use depends on the conditions and requirements for your application.  The next part will analyze the performance of these six WSGI servers. </div><p>Source: <a href="https://habr.com/ru/post/426957/">https://habr.com/ru/post/426957/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../426945/index.html">What I liked about Paul Allen</a></li>
<li><a href="../426947/index.html">"The devil pulled me to go to work in the office" - 10 questions to the programmer, 9 release</a></li>
<li><a href="../426949/index.html">Recreating Sound Deep Note from THX</a></li>
<li><a href="../426951/index.html">Altium Designer: what to do if the project has become difficult?</a></li>
<li><a href="../426953/index.html">Trial and installation methods for Arch Linux</a></li>
<li><a href="../426959/index.html">Installing kubernetes via kubespray (local-storage, installing Elasticsearch + Fluentd + Kibana, prometheus)</a></li>
<li><a href="../426961/index.html">How Microsoft rewrote the C # compiler in C # and made it open</a></li>
<li><a href="../426963/index.html">Do applications on Flutter dream about platform-oriented widgets?</a></li>
<li><a href="../426965/index.html">What will happen with error handling in C ++ 2a</a></li>
<li><a href="../426967/index.html">Online ABAP code generator</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>