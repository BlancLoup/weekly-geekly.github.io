<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Do not rewrite classes in Magento</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For about two years now I have been working closely with the Magento system. During this time, it was possible to work with foreign modules and projec...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Do not rewrite classes in Magento</h1><div class="post__text post__text-html js-mediator-article"><img align="left" src="https://habrastorage.org/storage1/130c8bd8/6ba2bc79/24046417/1f8b6442.jpg">  For about two years now I have been working closely with the Magento system.  During this time, it was possible to work with foreign modules and projects, and I realized that the code in our company is at a good level.  Probably because we narrowly specialize in Magento. <br><br>  So, it is often necessary to observe errors and compatibility problems in foreign modules.  The specific problem of most modules will be discussed in this article. <br><br>  If you are new to Magento and want to somehow change or expand its basic functionality, then on the Internet you will most likely be advised: <br>  1. make changes directly to core files; <br>  2. copy the class file with folder structure from app / code / core to app / code / local and make changes to the local copy; <br>  3. rewrite the class through the XML configuration in its module. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The first option should not be considered at all.  The second is in rare cases if you really need to rewrite some abstract class or library class.  The third is if you rewrite the class of a model, block, helper, or controller. <br><br>  I offer the fourth option: <br>  4. Do not rewrite classes in Magento! <br><br><a name="habracut"></a><br>  Why the fourth option?  The first two options are bad because they are not compatible with upgrading the kernel.  And this is a weighty problem, since Magento develops quickly and versions come out consistently often.  The option of rewriting via XML configuration allows you to inherit the rewritable class, so it is not so tied to the kernel version.  But there is a significant disadvantage of this approach - if the same class rewrites another module, then only one version will be used, yours or someone else's.  The priority is alphabetic and will depend on the name of your module.  That is, if your module is called Abc_ModuleOne, and the foreign one is Zyx_ModuleTwo, then, alas, your rewrite will not be used.  And even if you call your Zzzzzz_Zzz module, the problem will not go away - after installing your module, someone will break something and the store owners will blame you in the end. <br><br>  The alternative is the use of event observers, the benefit of events in Magento is quite a lot.  Do not be lazy, look for an event in the core that you would be comfortable using.  If no such event was found, try using the one closest in the course of the program.  In many cases, the task can be solved using event handlers.  How to use observers in Magento can be easily found on the Internet, but I can prepare an article here if it is interesting. <br><br>  For some problems, there are specific solutions.  For example, if you somehow need to change the method of calculating the total amount of the order or some component of this amount.  All this in Magento is called totals.  In the basic delivery there are subtotal, shipping, tax, discount, grandtotal, which are performed in a specific order.  But you can easily add your handler anywhere on the totals chain via XML.  Payment methods and shipping methods are also easily added.  If you wish to comment, I can highlight these topics in more detail. </div><p>Source: <a href="https://habr.com/ru/post/126887/">https://habr.com/ru/post/126887/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../126881/index.html">Wireless network on Dingoo A320</a></li>
<li><a href="../126882/index.html">The MP3tunes business was legal, Google and Amazon exhaled.</a></li>
<li><a href="../126883/index.html">8 lessons for an independent consultant</a></li>
<li><a href="../126885/index.html">Google made the +1 button more informative</a></li>
<li><a href="../126886/index.html">GIMP 2.7.3 with single-window mode released</a></li>
<li><a href="../126888/index.html">Evernote major update for iOS</a></li>
<li><a href="../126889/index.html">Completely new Evernote for Mac 3.0, Lion version</a></li>
<li><a href="../126890/index.html">Stages of development of the company in terms of IT</a></li>
<li><a href="../126891/index.html">HAF X Mini Bike is a very unusual modding gaming PC.</a></li>
<li><a href="../126892/index.html">Alerts from Nagios phone call</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>