<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Fast loading data from files in R</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently we wrote an application on Shiny, where it was necessary to use a very large block of data (dataframe). This directly affected the launch tim...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Fast loading data from files in R</h1><div class="post__text post__text-html js-mediator-article">  Recently we wrote an application on Shiny, where it was necessary to use a very large block of data (dataframe).  This directly affected the launch time of the application, so we had to consider a number of ways to read data from files in R (in our case, these were csv files provided by the customer) and determine the best one. <br><br>  The purpose of this note is to compare: <br><br><ol><li> <code>read.csv</code> from <code>utils</code> - the standard way to read csv files in R </li><li>  <code>read_csv</code> from <code>readr</code> , which in RStudio replaced the previous method </li><li>  <code>load</code> and <code>readRDS</code> from <code>base</code> , and </li><li>  <code>read_feather</code> from <code>feather</code> and <code>fread</code> from <code>data.table</code> . </li></ol><a name="habracut"></a><br><h2>  Data </h2><br>  First, let's generate some random data: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs haskell"><span class="hljs-title"><span class="hljs-title">set</span></span>.seed(<span class="hljs-number"><span class="hljs-number">123</span></span>) df &lt;- <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class">.frame(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">replicate</span></span></span><span class="hljs-class">(10, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sample</span></span></span><span class="hljs-class">(0:2000, 15 * 10^5, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">rep</span></span></span><span class="hljs-class"> = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">TRUE</span></span></span><span class="hljs-class">)), replicate(10, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">stringi</span></span></span><span class="hljs-class">::</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">stri_rand_strings</span></span></span><span class="hljs-class">(1000, 5)))</span></span></code> </pre> <br>  and save the files to disk to estimate the load time.  In addition to the format <code>csv</code> , still need files <code>feather</code> , <code>RDS</code> and <code>Rdata</code> . <br><br><pre> <code class="hljs haskell"><span class="hljs-title"><span class="hljs-title">path_csv</span></span> &lt;- '../assets/<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class">/fast_load/df.csv' path_feather &lt;- '../assets/</span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class">/fast_load/df.feather' path_rdata &lt;- '../assets/</span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class">/fast_load/df.</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">RData'</span></span></span><span class="hljs-class"> path_rds &lt;- '../assets/</span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class">/fast_load/df.rds' library(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">feather</span></span></span><span class="hljs-class">) library(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">table</span></span></span><span class="hljs-class">) write.csv(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">df</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">file</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">path_csv</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">row</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">names</span></span></span><span class="hljs-class"> = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">F</span></span></span><span class="hljs-class">) write_feather(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">df</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">path_feather</span></span></span><span class="hljs-class">) save(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">df</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">file</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">path_rdata</span></span></span><span class="hljs-class">) saveRDS(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">df</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">path_rds</span></span></span><span class="hljs-class">)</span></span></code> </pre> <br>  Now check the file sizes: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">files</span></span> &lt;- c(<span class="hljs-string"><span class="hljs-string">'../assets/data/fast_load/df.csv'</span></span>, <span class="hljs-string"><span class="hljs-string">'../assets/data/fast_load/df.feather'</span></span>, <span class="hljs-string"><span class="hljs-string">'../assets/data/fast_load/df.RData'</span></span>, <span class="hljs-string"><span class="hljs-string">'../assets/data/fast_load/df.rds'</span></span>) <span class="hljs-literal"><span class="hljs-literal">info</span></span> &lt;- file.<span class="hljs-literal"><span class="hljs-literal">info</span></span>(files) <span class="hljs-literal"><span class="hljs-literal">info</span></span><span class="hljs-variable"><span class="hljs-variable">$size_mb</span></span> &lt;- <span class="hljs-literal"><span class="hljs-literal">info</span></span><span class="hljs-variable"><span class="hljs-variable">$size</span></span>/(<span class="hljs-number"><span class="hljs-number">1024</span></span> * <span class="hljs-number"><span class="hljs-number">1024</span></span>) print(subset(<span class="hljs-literal"><span class="hljs-literal">info</span></span>, <span class="hljs-literal"><span class="hljs-literal">select</span></span>=c(<span class="hljs-string"><span class="hljs-string">"size_mb"</span></span>))) <span class="hljs-comment"><span class="hljs-comment">## size_mb ## ../assets/data/fast_load/df.csv 1780.3005 ## ../assets/data/fast_load/df.feather 1145.2881 ## ../assets/data/fast_load/df.RData 285.4836 ## ../assets/data/fast_load/df.rds 285.4837</span></span></code> </pre> <br>  As you can see, both file formats, and <code>csv</code> , and <code>feather</code> , take up much more disk space.  <code>Csv</code> - 6 times, and <code>feather</code> - more than 4 times more <code>RDS</code> and <code>RData</code> . <br><br><h2>  Performance test </h2><br>  The <code>microbenchmark</code> library was used to compare the reading time in 10 rounds.  Methods: <br><br><ul><li>  utils :: read.csv </li><li>  readr :: read_csv </li><li>  data.table :: fread </li><li>  base :: load </li><li>  base :: readRDS </li><li>  feather :: read_feather </li></ul><br><pre> <code class="hljs xml">library(microbenchmark) benchmark <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">-</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">microbenchmark</span></span></span><span class="hljs-tag">(</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">readCSV</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">utils::read.csv(path_csv),</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">readrCSV</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">readr::read_csv(path_csv,</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">progress</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">F),</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">fread</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">data.table::fread(path_csv,</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">showProgress</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">F),</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">loadRdata</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">base::load(path_rdata),</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">readRds</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">base::readRDS(path_rds),</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">readFeather</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">feather::read_feather(path_feather),</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">times</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">10)</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">print</span></span></span><span class="hljs-tag">(</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">benchmark</span></span></span><span class="hljs-tag">, </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">signif</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">2)</span></span></span><span class="hljs-tag"> ##</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Unit:</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">seconds</span></span></span><span class="hljs-tag"> ## </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">expr</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">min</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lq</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">mean</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">median</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">uq</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">max</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">neval</span></span></span><span class="hljs-tag"> ## </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">readCSV</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">200.0</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">200.0</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">211.187125</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">210.0</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">220.0</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">240.0</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">10</span></span></span><span class="hljs-tag"> ## </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">readrCSV</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">27.0</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">28.0</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">29.770890</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">29.0</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">32.0</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">33.0</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">10</span></span></span><span class="hljs-tag"> ## </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">fread</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">15.0</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">16.0</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">17.250016</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">17.0</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">17.0</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">22.0</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">10</span></span></span><span class="hljs-tag"> ## </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">loadRdata</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">4.4</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">4.7</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">5.018918</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">4.8</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">5.5</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">5.9</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">10</span></span></span><span class="hljs-tag"> ## </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">readRds</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">4.6</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">4.7</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">5.053674</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">5.1</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">5.3</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">5.6</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">10</span></span></span><span class="hljs-tag"> ## </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">readFeather</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">1.5</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">1.8</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">2.988021</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">3.4</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">3.6</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">4.1</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">10</span></span></span></span></code> </pre> <br>  And the <b>winner is</b> ... <code>feather</code> !  However, the use of <code>feather</code> involves the preliminary conversion of files into this format. <br><br>  Using <code>load</code> or <code>readRDS</code> can improve performance (second and third in terms of speed), storing a small / compressed file is also an advantage.  In both cases, you first need to convert your file to the appropriate format. <br><br>  As for reading from the <code>csv</code> format, <code>fread</code> significantly outperforms <code>read_csv</code> and <code>read.csv</code> , and accordingly, is the best option for reading from a <code>csv</code> file. <br><br>  In our case, we decided to work with the <code>feather</code> file, since the conversion from <code>csv</code> to this format was one-time, and we did not have a strict limit on the size of the files, because we did not consider the <code>RData</code> or <code>RData</code> . <br><br>  The final sequence of actions was: <br><br><ol><li>  reading the <code>csv</code> file provided by the customer using <code>fread</code> , </li><li>  write this file to <code>feather</code> via <code>write_feather</code> , and </li><li>  loading <code>feather</code> files when launching the application using <code>read_feather</code> . </li></ol><br>  The first two tasks were performed once and outside the application context on Shiny. <br><br>  There is another <a href="https://gist.github.com/hadley/6353939">interesting benchmark</a> for reading files in R. Unfortunately, if you use the functions mentioned in the article, you will get string type objects, and you will have to do some processing of string data before you can work with the most widely and frequently used <b>dataframe</b> . </div><p>Source: <a href="https://habr.com/ru/post/326616/">https://habr.com/ru/post/326616/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../326602/index.html">Terrible import kraken - how to use ES6-modules and not go crazy</a></li>
<li><a href="../326608/index.html">Personal vDisk in Citrix XenDesktop: what is the advantage and how it works</a></li>
<li><a href="../326610/index.html">Functional components</a></li>
<li><a href="../326612/index.html">The digest of interesting materials for the mobile developer # 199 (April 10-16)</a></li>
<li><a href="../326614/index.html">Simple JDBC Beginner Example</a></li>
<li><a href="../326618/index.html">K-Meleon 76 Pro - a new Russian browser assembly for oldfags and true connoisseurs.</a></li>
<li><a href="../326620/index.html">Got 1.2K stars on github with terrible architecture. How?</a></li>
<li><a href="../326622/index.html">VulnHub: New series - hackfest2016 Quaoar</a></li>
<li><a href="../326624/index.html">Financial mechanics startups. Startup School from Y Combinator 2017 (Part One)</a></li>
<li><a href="../326626/index.html">Own cryptocurrency on ethereum</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>