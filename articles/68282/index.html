<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Primitive performance comparison of search and indexOf in Javascript</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I constantly meet the recommendation to use, when it is reasonable, the usual search instead of regular expressions , since the latter are much slower...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Primitive performance comparison of search and indexOf in Javascript</h1><div class="post__text post__text-html js-mediator-article"> I constantly meet the recommendation to use, when it is reasonable, the <b>usual search</b> instead of <b>regular expressions</b> , since the latter are much slower.  But never seen how much slower and when they become more efficient.  But the itch of peace does not give and I decided to compare them and see what tsiferki can be seen in reality ... <br><a name="habracut"></a><br><br>  So, take the usual page and do a search for the lines in it.  I took my own document and searched for the id on the ‚Äúrun_test‚Äù button.  It looks trite: <br> <code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">for</font> (i=0;i&lt;100000;i++) { <font color="#0000ff">string</font> .indexOf( <font color="#A31515">'run_test'</font> ); } <br>  <br> <font color="#0000ff">for</font> (i=0;i&lt;100000;i++) { <font color="#0000ff">string</font> .search( <font color="#A31515">'run_test'</font> ); } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code></code> <blockquote> <code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">for</font> (i=0;i&lt;100000;i++) { <font color="#0000ff">string</font> .indexOf( <font color="#A31515">'run_test'</font> ); } <br>  <br> <font color="#0000ff">for</font> (i=0;i&lt;100000;i++) { <font color="#0000ff">string</font> .search( <font color="#A31515">'run_test'</font> ); } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code></code> </blockquote> <br>  But, since the hard one pulled me to take an id, I thought and added for comparison a sample of an element from a regular jQuery. <br> <code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">for</font> (i=0;i&lt;100000;i++) { $( <font color="#A31515">'#run_test'</font> ); } <br>  <br> <font color="#0000ff">for</font> (i=0;i&lt;100000;i++) { <font color="#0000ff">document</font> .getElementById( <font color="#A31515">'run_test'</font> ); } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code></code> <blockquote> <code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">for</font> (i=0;i&lt;100000;i++) { $( <font color="#A31515">'#run_test'</font> ); } <br>  <br> <font color="#0000ff">for</font> (i=0;i&lt;100000;i++) { <font color="#0000ff">document</font> .getElementById( <font color="#A31515">'run_test'</font> ); } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code></code> </blockquote> <br>  Well, I tried it on different browsers: <br><img src="https://habrastorage.org/getpro/habr/post_images/1f2/0fc/8c0/1f20fc8c0c38f90341c9a89caaac28dd.png" alt="image"><br><br>  We look at the result and draw conclusions: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Firstly, direct search is more than an order of magnitude faster than regulars, which means that 2-3 or even a dozen indexOf instead of search will be ‚Äújustified‚Äù, but in reality, if there are not thousands of them in loaded cycles, such optimization will not have the effect . <br><br>  Secondly, Chrome is really smart :) And if the FF, showing the same numbers on indexOf, was practically cut off from the outside world inside the cycles, then Chrome continued to cheer up the gif, and on the whole it wasn‚Äôt possible to load it with such simple things.  Opera seems to have chosen a reasonable compromise, normally working out the events and blinking pictures, not particularly slowing down on regulars. <br>  FF still has some oddity - the first few tests show good speed on regexps, but then the speed drops more than twice.  Maybe he decided that this script loads it too? <br><br>  Next jQuery.  Despite the fact that in the end there is an id through getElementById, several checks are made before that and everything is on regexps.  Of course, almost 20 microseconds of weather do not, but this is another argument in favor of chains of methods. <br>  The figures for IE are around 70 ... on such primitive tests, of course, one cannot say anything definite, but a relatively sharp drop in performance, with a slight increase in complexity usually indicates an unnecessarily complicated architecture.  If I do not give up this stupid lesson, it will be necessary to check the presence of the shelf with tests of medium complexity, this will mean an unnecessarily large number of options.  Either there will be rampant growth :) IE he is - he can!  :) <br><br>  A little surprised that getElementById was so unhurried. <br><br>  As a bonus - you can <a href="http://wott.uuuq.com/test/benchmark.html">touch</a> and <a href="">see the</a> original script.  Additions and comments are welcome. </div><p>Source: <a href="https://habr.com/ru/post/68282/">https://habr.com/ru/post/68282/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../68275/index.html">Hello Arab.net (Part 2)</a></li>
<li><a href="../68276/index.html">The correspondence of Elance.com users has been compromised.</a></li>
<li><a href="../68277/index.html">Philips Develops Emotional Clothing</a></li>
<li><a href="../68278/index.html">Javascript Malware Workshop</a></li>
<li><a href="../68280/index.html">3 in 1 minicombine USB</a></li>
<li><a href="../68283/index.html">Removing password from Phoenix BIOS and HDD</a></li>
<li><a href="../68285/index.html">Connecting to WiFi is like removing a prostitute))</a></li>
<li><a href="../68287/index.html">How Corbina Telecom Fights Spam</a></li>
<li><a href="../68288/index.html">Quick Config - program for quick change of the specified settings</a></li>
<li><a href="../68290/index.html">"Nigerian Letters", or How to recognize phishing spam</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>