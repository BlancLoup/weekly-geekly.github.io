<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Pure CSS parallax</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article shows how to make a parallax effect on a website using pure CSS using CSS transformations and frauds with 3d. 

 Parallax is almost alway...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Pure CSS parallax</h1><div class="post__text post__text-html js-mediator-article"> This article shows how to make a parallax effect on a website using pure CSS using CSS transformations and frauds with 3d. <br><br>  Parallax is almost always created using JavaScript and, more often, it turns out to be resource-intensive, due to hanging listeners to the scroll event, modifying the DOM directly and triggering unnecessary redrawing and permutations.  All this happens asynchronously with the flow, in which the browser renders the page, because of what the scroll starts to slow down, and the picture breaks into pieces.  More accurate parallax implementations track the scroll and use pending DOM updates using <code>requestAnimationFrame</code> .  It turns out a qualitatively different result, but why not get rid of JavaScript at all? <br><a name="habracut"></a><br>  The transfer of the parallax effect in CSS saves you from performance problems and unnecessary manipulations, allowing the browser to adjust everything itself through hardware acceleration.  As a result, almost all resource-intensive processes are processed directly by the browser engine.  The frame rate (FPS) remains stable, and the picture becomes smooth.  Plus, you can immediately combine parallax with other CSS chips ‚Äî media queries or supports.  Responsive parallax - what? <br><br>  <a href="http://keithclark.co.uk/articles/pure-css-parallax-websites/demo3/">Watch the demo</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Theory </h4><br>  Before diving into the understanding of the work of this mechanism, we will create the necessary markup: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parallax"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parallax__group"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parallax__layer parallax__layer--back"</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parallax__layer parallax__layer--base"</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parallax__group"</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  And basic styles: <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.parallax</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">perspective</span></span>: <span class="hljs-number"><span class="hljs-number">1px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">100vh</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">overflow-x</span></span>: hidden; <span class="hljs-attribute"><span class="hljs-attribute">overflow-y</span></span>: auto; } <span class="hljs-selector-class"><span class="hljs-selector-class">.parallax__layer</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: absolute; <span class="hljs-attribute"><span class="hljs-attribute">top</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">right</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.parallax__layer--base</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">transform</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">translateZ</span></span>(0); } <span class="hljs-selector-class"><span class="hljs-selector-class">.parallax__layer--back</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">transform</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">translateZ</span></span>(-1px); }</code> </pre><br>  All magic happens in the <code>parallax</code> class.  Defining the properties of the <code>height</code> and <code>perspective</code> styles will set the perspective of the element at its center, creating a fixed 3D viewport.  <code>overflow-y: auto</code> will allow the content inside the element to scroll normally, while the descendants of the element will be drawn relative to a fixed perspective.  This is the key to creating a parallax effect. <br><br>  Next, the <code>parallax__layer</code> class.  As the name implies, it defines the content layer to which the parallax effect will be applied.  An element with this class is torn out of the general flow of content and positioned to fill its container. <br><br>  Finally, we have the <code>parallax__layer--base</code> and <code>parallax__layer--back</code> modifier classes.  They are needed to adjust the speed of scrolling the parallax of elements, shifting them along the Z axis (removing or approaching the viewport).  For brevity, I made only two scrolling speeds - later we will add a few more. <br><br>  <a href="http://keithclark.co.uk/articles/pure-css-parallax-websites/demo1/">Watch the demo</a> <br><br><h4>  Depth correction </h4><br>  Since the parallax effect is created due to 3D transformations, the displacement of an element along the Z axis has a side effect - the dimensions of the element change, depending on whether it is closer or further to the viewport.  To fix this, we need to apply a <code>scale()</code> transformation so that the element is drawn in its original size: <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.parallax__layer--back</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">transform</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">translateZ</span></span>(-1px) <span class="hljs-built_in"><span class="hljs-built_in">scale</span></span>(2); }</code> </pre><br>  The scale factor can be calculated using the formula <code>1 + (translateZ * -1) / perspective)</code> .  For example, if the perspective of the viewport is set as <code>1px</code> and we shift the element by <code>-2px</code> along the Z axis, then the coefficient will be <code>scale(3)</code> . <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.parallax__layer--deep</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">transform</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">translateZ</span></span>(-2px) <span class="hljs-built_in"><span class="hljs-built_in">scale</span></span>(3); }</code> </pre><br>  <a href="http://keithclark.co.uk/articles/pure-css-parallax-websites/demo2/">Watch the demo with adjusted depth</a> <br><br><h4>  Bed speed regulation </h4><br>  Layer speed is controlled by a combination of perspective and Z offset values. Elements with negative Z values ‚Äã‚Äãwill scroll more slowly than elements with positive values.  The greater the difference in value from 0, the clearer the parallax effect. <br>  (i.e. <code>translateZ(-10px)</code> will scroll slower than <code>translateZ(-1px)</code> ). <br><br><h4>  Creating different sections of the parallax effect </h4><br>  The previous examples showed the basic technique of using simple content, but after all, most parallax sites divide a page into different sections with different effects.  Here's how to implement this in our method. <br><br>  First, we need the <code>parallax__group</code> element to group our layers together: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parallax"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parallax__group"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parallax__layer parallax__layer--back"</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parallax__layer parallax__layer--base"</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parallax__group"</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  for it the CSS will look like this: <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.parallax__group</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: relative; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">100vh</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">transform-style</span></span>: preserve-<span class="hljs-number"><span class="hljs-number">3</span></span>d; }</code> </pre><br>  In this example, I want each group to fill in the viewport, so I set <code>height: 100vh</code> , although, if necessary, the number for each group may be different.  <code>transform-style: preserve-3d</code> does not allow the browser to flatten elements with <code>parallax__layer</code> , and <code>position: relative</code> allows child <code>parallax__layer</code> elements to be positioned relative to their group. <br><br>  An important rule to remember is that when grouping elements we cannot trim content within the group, the <code>overflow: hidden</code> element of the <code>parallax__group</code> element will break the entire parallax effect.  Uncircumcised content will cause child elements to go beyond.  Therefore, you need to poshamanit with the group's <code>z-index</code> value in order to be sure that the content will be correctly hidden and displayed as the user scrolls the site. <br><br>  There are no hard or fast rules about working with layers and different methods imply different implementations.  But, to simplify debugging of positioning layers, you can use a simple transformation of group elements: <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.parallax__group</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">transform</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">translate3d</span></span>(700px, 0, -800px) <span class="hljs-built_in"><span class="hljs-built_in">rotateY</span></span>(30deg); }</code> </pre><br>  Take a look at the following example and notice the tick <code>debug</code> ! <br><br>  <a href="http://keithclark.co.uk/articles/pure-css-parallax-websites/demo3/">Watch demos with groups</a> . <br><br><h4>  Browser support </h4><br><ul><li>  Firefox, Safari, Opera and Chrome all support these effects. </li><li>  Firefox works, but it has a slight problem with alignment. </li><li>  IE does not yet support <code>preserve-3d</code> (on the way), so parallax will not work.  But this is normal, because you still need to design it so that the content is adequate and without parallax - Well, progressive enhancement and all that! </li></ul><br><br>  Article - translation (original on blog.keithclark.co.uk - <a href="http://keithclark.co.uk/articles/pure-css-parallax-websites/">‚ÄúPure CSS parallax scrolling websites‚Äù</a> ) </div><p>Source: <a href="https://habr.com/ru/post/235531/">https://habr.com/ru/post/235531/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../235521/index.html">About me, about school 1C and about the June module of the course "Management of software development"</a></li>
<li><a href="../235523/index.html">View Torrent-TV in the LiveTV XBMC interface, under Linux</a></li>
<li><a href="../235525/index.html">Recording the first lecture of the Swift-Course from MasterUp</a></li>
<li><a href="../235527/index.html">Smartphone on the edge: Samsung Galaxy Edge with a new curved display</a></li>
<li><a href="../235529/index.html">Optimization of business processes using survival curves</a></li>
<li><a href="../235533/index.html">We participate in the exhibition. Part 1: preparation</a></li>
<li><a href="../235537/index.html">Comparison of promotion services behavioral factors: SERPClick, Userator, Movebo</a></li>
<li><a href="../235539/index.html">Apple: iCloud not to blame, celebrities fall victim to targeted attacks</a></li>
<li><a href="../235541/index.html">A gift idea for colleagues: web developer circle</a></li>
<li><a href="../235545/index.html">Some interesting and useful things for web developer # 27</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>