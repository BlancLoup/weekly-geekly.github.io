<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Big Trouble (or "How I Gathered Geese in the Server Room")</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Not long ago, I was lucky enough to move to a new workplace as a system administrator, which brought me peace of mind for the near future. But, unfort...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Big Trouble (or "How I Gathered Geese in the Server Room")</h1><div class="post__text post__text-html js-mediator-article">  Not long ago, I was lucky enough to move to a new workplace as a system administrator, which brought me peace of mind for the near future.  But, unfortunately, the transfer of duties directly from the previous employee did not occur.  And I inherited a server in which, fortunately, everything works, regardless of me. <br>  As it should be, I decided to sort out a bit about what I got and put some order in order to understand what is stuck in and what to poke in case of problems.  My task was to match sockets, switch ports, machines and peripherals connected to the network.  In addition, there was a PBX, which was also desirable to understand (at least - to transfer the number from one outlet to another). <a name="habracut"></a><br>  First of all, it was necessary to match the MAC addresses of the machines and devices that are connected to the CISCO catalyst 2960 switch. <br>  The command% devicename% # sh mac address-table gives us the mapping of poppies to ports. <br><pre><code class="dos hljs"><span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">067</span></span>a.<span class="hljs-number"><span class="hljs-number">4</span></span>b61.c9f7 DYNAMIC Fa0/<span class="hljs-number"><span class="hljs-number">14</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">000</span></span>b.fc1e.<span class="hljs-number"><span class="hljs-number">26</span></span>a8 DYNAMIC Fa0/<span class="hljs-number"><span class="hljs-number">17</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">121</span></span>b.fc71.<span class="hljs-number"><span class="hljs-number">3</span></span>k58 DYNAMIC Fa0/<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">001</span></span>b.fc71.<span class="hljs-number"><span class="hljs-number">1728</span></span> DYNAMIC Fa0/<span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">001</span></span>c.c024.<span class="hljs-number"><span class="hljs-number">22</span></span>b0 DYNAMIC Fa0/<span class="hljs-number"><span class="hljs-number">6</span></span></code> </pre> <br>  The next step was to map the MAC addresses to the real IP and computer name. <br>  There are several ways: <br>  1. View the DHCP server settings (Scope - address leases).  It displays the mapping of reserved IPs. <br> <a href="http://www.fotolink.su/v.php%3Fid%3D693b0164da49d5afed612613cbca3f1b"><img src="http://www.fotolink.su/pic_s/693b0164da49d5afed612613cbca3f1b.jpg"></a> <br>  2. Use the very useful utility NetView.  Which is able to scan the network by arp-protocol and build a network map. <br> <a href="http://www.fotolink.su/v.php%3Fid%3D9d06b97d394bb5c4bc3cf6b2a03cb2e9"><img src="http://www.fotolink.su/pic_s/9d06b97d394bb5c4bc3cf6b2a03cb2e9.jpg"></a> <br>  3. The table on the switch itself.  Command% devicename% # sh ip arp <br><pre> <code class="dos hljs">Internet <span class="hljs-number"><span class="hljs-number">01</span></span>.<span class="hljs-number"><span class="hljs-number">012</span></span>.<span class="hljs-number"><span class="hljs-number">12</span></span>.<span class="hljs-number"><span class="hljs-number">123</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> abcd.<span class="hljs-number"><span class="hljs-number">1234</span></span>.<span class="hljs-number"><span class="hljs-number">6789</span></span> ARPA GigabitEthernet0/<span class="hljs-number"><span class="hljs-number">1</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre><br>  Accordingly, the output is the name of the connected device and the port of the switch to which it is connected, which contributes to the correct mapping of the network. <br> <a href="http://www.fotolink.su/v.php%3Fid%3Ddff40d929dc535d14139abf66afe7772"><img src="http://www.fotolink.su/pic_s/dff40d929dc535d14139abf66afe7772.jpg"></a> <br>  The main rule - do not allow noodles in the cabinet because of the constant change of cables. <br><img src="https://habrastorage.org/getpro/habr/post_images/9b4/a9e/a37/9b4a9ea371cc14612b8b7252897648de.jpg" alt="image"><br>  With the PBX was easier. <br>  There was a mapping socket / telephone in the cross, but I had to find out if everything was true.  An ordinary network tester was taken.  RJ-11 compressed (any two of UTP-5) <br> <a href="http://www.fotolink.su/v.php%3Fid%3D9baa01d51fd6c0729d8e637e8be71a66"><img src="http://www.fotolink.su/pic_s/9baa01d51fd6c0729d8e637e8be71a66.jpg"></a> <br>  and found contacts in the cross, which corresponded to the sockets on the plan.  The active one is plugged into the telephone jack, and I, with a passive receiver and a probe, poke contacts in the cross. <br> <a href="http://www.fotolink.su/v.php%3Fid%3Dc569a93bdb01f3d702dbfaa43b6a8919"><img src="http://www.fotolink.su/pic_s/c569a93bdb01f3d702dbfaa43b6a8919.jpg"></a> <br>  The requested contact was found and the phone was thrown.  I am sure that there are ways much more correct, but earlier I didn‚Äôt deal with PBX and telephony, so it was easiest for me to find and throw a contact without going into details, because the time was running out. <br>  In the future, plans to deal with the appointment of new numbers on the Panasonic KX-TDA100 PBX and setting up network multifunction devices in the print server. </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/159355/">https://habr.com/ru/post/159355/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../159345/index.html">About the dangers of part time employment</a></li>
<li><a href="../159347/index.html">Russian look at the Power of Community conference in Seoul</a></li>
<li><a href="../159349/index.html">RDS-like service for PostgreSQL</a></li>
<li><a href="../159351/index.html">Mash the brain with Forth?</a></li>
<li><a href="../159353/index.html">Bundle Transformer 1.6.10 released</a></li>
<li><a href="../159357/index.html">iTunes Music Store in Russia is already at the testing stage</a></li>
<li><a href="../159359/index.html">Approaches to the implementation of the adaptive menu</a></li>
<li><a href="../159365/index.html">IBM conducted a neurocomputer simulation comparable to that of a human brain.</a></li>
<li><a href="../159371/index.html">The deputy director of the National Highway Traffic Safety Management took on Google</a></li>
<li><a href="../159373/index.html">Solitaire.exe offline</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>