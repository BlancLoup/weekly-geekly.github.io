<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>QScintilla: highlight syntax in application</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, $ username! 

 UPD : the second and third part of the cycle about QScintilla. 

 Today I want to tell you about a great project - QScintilla, whic...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>QScintilla: highlight syntax in application</h1><div class="post__text post__text-html js-mediator-article">  Hi, $ username! <br><br>  <b>UPD</b> : the <a href="http://habrahabr.ru/post/144714/">second</a> and <a href="http://habrahabr.ru/post/144855/">third</a> part of the cycle about QScintilla. <br><br>  Today I want to tell you about a great project - QScintilla, which highlights the syntax of the code in Qt-applications.  Often there is a need to highlight something.  For example: C ++, Bash, PHP, Diff ... The list goes on and on.  But here is the solution: the Scintilla port on Qt: QScintilla. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In this post I will explain how to install and use QScintilla in my applications using the example of Ubuntu Linux. <br><a name="habracut"></a><br><h2>  Installation </h2><br>  Let's start, perhaps, with the most important thing - with the installation.  I propose to build QScintilla and install it in the system.  To do this, download the tarball <a title="qscintilla tarball" href="http://www.riverbankcomputing.com/software/qscintilla/download">qscintilla</a> .  Unpack it in the folder we need.  Now console.  We carry out a couple of simple commands: <br><br><pre><code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> Qt4 qmake make sudo make install</code> </pre> <br>  Excellent.  If you did everything correctly, libqscintilla2.so will appear on your system. <br><br><h2>  Open Qt Creator </h2><br>  Hooray!  You can start coding.  Open creeitor - create a project.  Now we add a line to the profile: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">LIBS</span></span> += -lqscintilla2</code> </pre> <br>  It is easy to guess that this line connects QScintilla.  We now turn directly to the coding of the project.  Constructor mainwindow.cpp: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;QtGui&gt; #include &lt;Qsci/qsciscintilla.h&gt; #include &lt;Qsci/qscilexercpp.h&gt; #include "mainwindow.h" MainWindow::MainWindow() { textEdit = new QsciScintilla; //   textEdit-&gt;setUtf8(true); //      setCentralWidget(textEdit); //    ui QsciLexerCPP * lexCpp = new QsciLexerCPP(this); //   ( ) textEdit-&gt;setLexer(lexCpp); //  ++    }</span></span></span></span></code> </pre><br>  Do not forget to add to MainWindow: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span>: QSciScintilla *textEdit;</code> </pre><br><br>  You can safely compile - we see an editor that highlights the C ++ code with a bang. <br><br> <a href=""><img title="The result of step number 1" src="https://habrastorage.org/getpro/habr/post_images/deb/012/e83/deb012e83935bb1f273aaf3413269d5c.png"></a> <br><br>  While it does not look very cool, but it is only for now.  And now the fun begins.  I propose to expand our editor and decorate it.  We add in the designer: <br><br><pre> <code class="cpp hljs"> <span class="hljs-comment"><span class="hljs-comment">//!       textEdit-&gt;setCaretLineVisible(true); textEdit-&gt;setCaretLineBackgroundColor(QColor("gainsboro")); //!  textEdit-&gt;setAutoIndent(true); textEdit-&gt;setIndentationGuides(false); textEdit-&gt;setIndentationsUseTabs(true); textEdit-&gt;setIndentationWidth(4); //! margin   ,     breakpoints textEdit-&gt;setMarginsBackgroundColor(QColor("gainsboro")); textEdit-&gt;setMarginLineNumbers(1, true); textEdit-&gt;setMarginWidth(1, 50); //! -      textEdit-&gt;setAutoCompletionSource(QsciScintilla::AcsAll); textEdit-&gt;setAutoCompletionCaseSensitivity(true); textEdit-&gt;setAutoCompletionReplaceWord(true); textEdit-&gt;setAutoCompletionUseSingle(QsciScintilla::AcusAlways); textEdit-&gt;setAutoCompletionThreshold(0); //!    textEdit-&gt;setBraceMatching(QsciScintilla::SloppyBraceMatch); textEdit-&gt;setMatchedBraceBackgroundColor(Qt::yellow); textEdit-&gt;setUnmatchedBraceForegroundColor(Qt::blue);</span></span></code> </pre><br><br>  Now we get a relatively working editor, which even can do something.  Of course, he has many flaws, but all of them are also fixable. <br><br> <a href=""><img title="The result of step number 2" src="https://habrastorage.org/getpro/habr/post_images/d5b/933/695/d5b9336951b174f3f40e6f36cf92cc18.png"></a> <br><br>  This is probably all.  I would like to tell you more about writing my lexer, managing the search and monitoring strings, but this is too much for one article.  But if you do not want to wait for the next article, read the documentation and most importantly - experiment! <br><br><h2>  Materials </h2><br><br><ul><li>  Sources of the application which we wrote with you: <a href="">qscintilla-demo</a> </li><li>  <a href="http://www.riverbankcomputing.com/static/Docs/QScintilla2/annotated.html">Qscintilla</a> official documentation </li></ul><br><br>  Thank you for your attention, and good coding! </div><p>Source: <a href="https://habr.com/ru/post/144411/">https://habr.com/ru/post/144411/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../144406/index.html">Protecting an Ajax Application Against Cross Site Request Attacks (CSRF)</a></li>
<li><a href="../144407/index.html">How do we find the inaccessible model</a></li>
<li><a href="../144408/index.html">Release LLVM 3.1</a></li>
<li><a href="../144409/index.html">Create a web form to send faxes through Asterisk</a></li>
<li><a href="../144410/index.html">What old games do you think are old school?</a></li>
<li><a href="../144412/index.html">Test Driven Design - the first implementation experience</a></li>
<li><a href="../144414/index.html">OutWiker. Open Source program for storing notes</a></li>
<li><a href="../144416/index.html">Argparse - Parsing arguments and command line parameters with ease</a></li>
<li><a href="../144417/index.html">CISCO ACE. Part 2: balancing remote servers and applications</a></li>
<li><a href="../144418/index.html">Data exchange between a web application and MantisBT</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>