<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Dropbox explained why it is embedded in the operating system kernel</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Exactly a month ago, Dropbox announced Dropbox Infinite - ‚Äúa revolutionary new way to access your files,‚Äù as the company wrote in a corporate blog. Th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Dropbox explained why it is embedded in the operating system kernel</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/1b8/893/ce5/1b8893ce586142b8a7d0398523fbd3a9.jpg"><br><br>  Exactly a month ago, Dropbox announced <a href="https://blogs.dropbox.com/business/2016/04/announcing-project-infinite/">Dropbox Infinite</a> - ‚Äúa revolutionary new way to access your files,‚Äù as the company wrote in a corporate blog.  The <a href="https://www.youtube.com/watch%3Fv%3DiT4rAaV9MhU">demo video</a> showed that the Dropbox desktop client provides direct access to the cloud file storage at the file system level, without the need to launch a browser.  The local disk is ‚Äúincreased‚Äù by the size of the cloud storage, the files are directly accessible.  Cloud storage may be larger than a local disk.  Now the company <a href="https://blogs.dropbox.com/tech/2016/05/going-deeper-with-project-infinite/">has disclosed technical details</a> on how this feature works. <br><br>  Immediately after the first announcement, <a href="https://twitter.com/info_dox/status/735389113751326721">experts</a> <a href="https://twitter.com/ultimateloather/status/735460387491971072">expressed</a> <a href="https://twitter.com/ahojmark_dk/status/735447162784501760">concern</a> that Project Infinite would allow access to the system to outsiders if they find vulnerabilities in the Dropbox client.  The native kernel extension from Dropbox will then become a kind of backdoor in the system. <br><a name="habracut"></a><br>  In principle, Dropbox technical clarifications now to some extent confirm these concerns.  Indeed, Dropbox Infinite integrates at the kernel level. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      ‚ÄúTraditionally, Dropbox worked completely in <a href="https://en.wikipedia.org/wiki/User_space">user space</a> , just like any other program on your machine,‚Äù <a href="https://blogs.dropbox.com/tech/2016/05/going-deeper-with-project-infinite/">writes</a> company developer Damien DeVille.  - With Dropbox Infinite, we delve deeper: into core space.  With this technology, the Dropbox client changes the role from a passive observer, who watches what is happening on the local disk, to an active role in your file system.  We have been working together for nearly two years to put the puzzle pieces together so that they work transparently. ‚Äù <br><br>  The developer explains that the usual FUSE scheme does not suit them in terms of performance: each file operation usually requires an extra context switch between the kernel space and the user space, see the FUSE diagram. <br><br><img src="https://habrastorage.org/files/490/ee5/a68/490ee5a689a148daa1319b5759e04f28.png"><br><br>  Such context switches are quite <a href="http://www.csl.sri.com/users/gehani/papers/SAC-2010.FUSE.pdf">expensive in terms of performance</a> . <br><br>  <b>Performance degradation with FUSE</b> <br><div class="slideshow"><iframe src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.slideshare.net/slideshow/embed_code/62420564&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhjKirwUt3vXbgbBuEwYugJ_uL85A" width="477" height="510" frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></iframe></div><br><br>  Performance is not the only reason.  Dropbox believes that replacing the standard FUSE libraries with a native kernel extension eliminates unnecessary complexity and, therefore, increases system security. <br><br>  One more useful thing: in the kernel extension, access rights checking via <a href="https://developer.apple.com/library/mac/technotes/tn2127/_index.html">Kernel Authorization</a> ( <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/cc144063(v%3Dvs.85).aspx">Copy Hooks</a> on Windows) works to detect and prohibit certain operations in the Dropbox folder. <br><br><img src="https://habrastorage.org/files/26f/772/39a/26f77239af474ed4b23a47048261b688.jpg"><br><br>  This check is much easier than it was possible to do through FUSE. <br><br><img src="https://habrastorage.org/files/a44/547/45a/a4454745a1dd41388095fbf7db322016.png"><br><br>  If an application runs in kernel space, it can afford much more than a regular program in user space.  In terms of security, this is quite risky.  ‚ÄúIf Dropbox is at the core, it can access anything,‚Äù <a href="http://motherboard.vice.com/read/dropbox-infinite">says</a> Sam Bowne, who conducts ethical hacking courses at San Francisco College.  ‚ÄúIf there is a bug in the Dropbox client, you can use it to capture the entire system.‚Äù <br><br>  Approximately in this way, hackers <a href="https://bugs.chromium.org/p/project-zero/issues/detail%3Fid%3D820">used a bug in antivirus software from Symantec / Norton</a> (CVE-2016-2208).  Antiviruses also work in kernel space, where Dropbox is also trying to penetrate. <br><br>  It would seem that could go wrong? <br><br><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="732365178872856577"></twitter-widget><script async="" src="//platform.twitter.com/widgets.js" charset="utf-8"></script><br>  ‚ÄúWe take security seriously and do everything to protect our users and their data,‚Äù writes Dropbox.  ‚ÄúOur <a href="https://en.wikipedia.org/wiki/Red_team">Red team</a> groups [internal independent vulnerability search divisions] offer Bug Bounty programs and regularly invite independent pentesters to help find vulnerabilities.‚Äù <br><br>  Dropbox is aware of the security risk.  The core expansion has been tested inside the company for almost a year, checking the stability and integrity of the system.  Understanding all the risks, the company believes that it will still be a convenient feature. </div><p>Source: <a href="https://habr.com/ru/post/301826/">https://habr.com/ru/post/301826/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../301812/index.html">We test the project on SaltStack using KitchenCI</a></li>
<li><a href="../301814/index.html">How to choose ITshnika in Russia: myth number 2, number 3</a></li>
<li><a href="../301816/index.html">Are the "top" sites safe: exploring Alexa ranking</a></li>
<li><a href="../301820/index.html">Postgres in Chinese or setting Full Text Search in Postgres for Chinese</a></li>
<li><a href="../301822/index.html">Websocket in production</a></li>
<li><a href="../301828/index.html">DevConf :: Hackathon by Yii at TASS June 18-19, 2016</a></li>
<li><a href="../301830/index.html">Using the ceiling clock as an information board</a></li>
<li><a href="../301834/index.html">Semantic gap "The Semantic Gap"</a></li>
<li><a href="../301836/index.html">A piece of space in your pocket: the results of the experiment</a></li>
<li><a href="../301838/index.html">Reversing the Android client of the music service Zaycev.net and implementing api on go</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>