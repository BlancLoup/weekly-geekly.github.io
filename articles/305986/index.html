<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Visualization of Euro 2016 statistics using Python and Inkscape</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! 

 A little more than a week has passed since the end of the European Championship 2016 in France. This championship will be remembered for ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Visualization of Euro 2016 statistics using Python and Inkscape</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/79f/9b8/d6a/79f9b8d6ac0549f7b8a0fcaf1333e558.jpg"><br><br>  Hi, Habr! <br><br>  A little more than a week has passed since the end of the European Championship 2016 in France.  This championship will be remembered for us by the unsuccessful performance of the Russian national team, shown by the will of the Icelandic national team, the amazing game of the national teams of France and Portugal.  In this article, we will work with the data, build several graphs and edit them in the Inkscape vector editor.  Who cares - I ask under the cat. <br><a name="habracut"></a><br><h4>  Content </h4><br><ol><li>  Work with API data </li><li>  Data Visualization with Python </li><li>  Editing vector graphics in Inkscape </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  1. Work with API data </h4><br>  To visualize football data, you must first obtain it.  For these purposes, we will use the <a href="http://api.football-data.org/">API football-data.org</a> .  The following methods are available to us: <br><ul><li>  List of competitions - "api.football-data.org/v1/competitions/?season={year}" </li><li>  The list of teams (by competition identifier) ‚Äã‚Äã- ‚Äúapi.football-data.org/v1/competitions/{competition_id}/teams‚Äù </li><li>  List of matches (by competition ID) - ‚Äúapi.football-data.org/v1/competitions/{competition_id}/fixtures‚Äù </li><li>  Team information - "api.football-data.org/v1/teams/{team_id}" </li><li>  List of players (by team ID) - "api.football-data.org/v1/teams/{team_id}/players" </li></ul><br>  Details on all methods are in the API documentation. <br>  Let's now try to work with the data.  To begin, let's try to study the structure of the returned data for the competitions method (list of competitions): <br><br><pre><code class="javascript hljs">[{<span class="hljs-string"><span class="hljs-string">'_links'</span></span>: {<span class="hljs-string"><span class="hljs-string">'fixtures'</span></span>: {<span class="hljs-string"><span class="hljs-string">'href'</span></span>: <span class="hljs-string"><span class="hljs-string">'http://api.football-data.org/v1/competitions/424/fixtures'</span></span>}, <span class="hljs-string"><span class="hljs-string">'leagueTable'</span></span>: {<span class="hljs-string"><span class="hljs-string">'href'</span></span>: <span class="hljs-string"><span class="hljs-string">'http://api.football-data.org/v1/competitions/424/leagueTable'</span></span>}, <span class="hljs-string"><span class="hljs-string">'self'</span></span>: {<span class="hljs-string"><span class="hljs-string">'href'</span></span>: <span class="hljs-string"><span class="hljs-string">'http://api.football-data.org/v1/competitions/424'</span></span>}, <span class="hljs-string"><span class="hljs-string">'teams'</span></span>: {<span class="hljs-string"><span class="hljs-string">'href'</span></span>: <span class="hljs-string"><span class="hljs-string">'http://api.football-data.org/v1/competitions/424/teams'</span></span>}}, <span class="hljs-string"><span class="hljs-string">'caption'</span></span>: <span class="hljs-string"><span class="hljs-string">'European Championships France 2016'</span></span>, <span class="hljs-string"><span class="hljs-string">'currentMatchday'</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-string"><span class="hljs-string">'id'</span></span>: <span class="hljs-number"><span class="hljs-number">424</span></span>, <span class="hljs-string"><span class="hljs-string">'lastUpdated'</span></span>: <span class="hljs-string"><span class="hljs-string">'2016-07-10T21:32:20Z'</span></span>, <span class="hljs-string"><span class="hljs-string">'league'</span></span>: <span class="hljs-string"><span class="hljs-string">'EC'</span></span>, <span class="hljs-string"><span class="hljs-string">'numberOfGames'</span></span>: <span class="hljs-number"><span class="hljs-number">51</span></span>, <span class="hljs-string"><span class="hljs-string">'numberOfMatchdays'</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-string"><span class="hljs-string">'numberOfTeams'</span></span>: <span class="hljs-number"><span class="hljs-number">24</span></span>, <span class="hljs-string"><span class="hljs-string">'year'</span></span>: <span class="hljs-string"><span class="hljs-string">'2016'</span></span>}, {<span class="hljs-string"><span class="hljs-string">'_links'</span></span>: {<span class="hljs-string"><span class="hljs-string">'fixtures'</span></span>: {<span class="hljs-string"><span class="hljs-string">'href'</span></span>: <span class="hljs-string"><span class="hljs-string">'http://api.football-data.org/v1/competitions/426/fixtures'</span></span>}, <span class="hljs-string"><span class="hljs-string">'leagueTable'</span></span>: {<span class="hljs-string"><span class="hljs-string">'href'</span></span>: <span class="hljs-string"><span class="hljs-string">'http://api.football-data.org/v1/competitions/426/leagueTable'</span></span>}, <span class="hljs-string"><span class="hljs-string">'self'</span></span>: {<span class="hljs-string"><span class="hljs-string">'href'</span></span>: <span class="hljs-string"><span class="hljs-string">'http://api.football-data.org/v1/competitions/426'</span></span>}, <span class="hljs-string"><span class="hljs-string">'teams'</span></span>: {<span class="hljs-string"><span class="hljs-string">'href'</span></span>: <span class="hljs-string"><span class="hljs-string">'http://api.football-data.org/v1/competitions/426/teams'</span></span>}}, <span class="hljs-string"><span class="hljs-string">'caption'</span></span>: <span class="hljs-string"><span class="hljs-string">'Premiere League 2016/17'</span></span>, <span class="hljs-string"><span class="hljs-string">'currentMatchday'</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'id'</span></span>: <span class="hljs-number"><span class="hljs-number">426</span></span>, <span class="hljs-string"><span class="hljs-string">'lastUpdated'</span></span>: <span class="hljs-string"><span class="hljs-string">'2016-06-23T10:42:02Z'</span></span>, <span class="hljs-string"><span class="hljs-string">'league'</span></span>: <span class="hljs-string"><span class="hljs-string">'PL'</span></span>, <span class="hljs-string"><span class="hljs-string">'numberOfGames'</span></span>: <span class="hljs-number"><span class="hljs-number">380</span></span>, <span class="hljs-string"><span class="hljs-string">'numberOfMatchdays'</span></span>: <span class="hljs-number"><span class="hljs-number">38</span></span>, <span class="hljs-string"><span class="hljs-string">'numberOfTeams'</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-string"><span class="hljs-string">'year'</span></span>: <span class="hljs-string"><span class="hljs-string">'2016'</span></span>},</code> </pre> <br>  Before we start working with Python, we need to make the necessary imports: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> datetime <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> random <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> re <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> requests <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> json <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> matplotlib.pyplot <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> plt <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> matplotlib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> rc pd.set_option(<span class="hljs-string"><span class="hljs-string">'display.width'</span></span>, <span class="hljs-number"><span class="hljs-number">1100</span></span>) plt.style.use(<span class="hljs-string"><span class="hljs-string">'bmh'</span></span>) DIR = os.path.dirname(<span class="hljs-string"><span class="hljs-string">'__File__'</span></span>) font = {<span class="hljs-string"><span class="hljs-string">'family'</span></span>: <span class="hljs-string"><span class="hljs-string">'Verdana'</span></span>, <span class="hljs-string"><span class="hljs-string">'weight'</span></span>: <span class="hljs-string"><span class="hljs-string">'normal'</span></span>} rc(<span class="hljs-string"><span class="hljs-string">'font'</span></span>, **font)</code> </pre><br>  The data structure is understandable, we will try to upload data about the competition for the 2015-2016 year in pandas.DataFrame.  In parallel, we will save data that we will work with in .csv files, since only 50 API requests per day can be made for free.  Restrictions are also imposed on the time period of the data - only 2015-2016 years are available to us for free. <br><br><pre> <code class="python hljs">competitions_url = <span class="hljs-string"><span class="hljs-string">'http://api.football-data.org/v1/competitions/?season={year}'</span></span> data = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> y <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> [<span class="hljs-number"><span class="hljs-number">2015</span></span>, <span class="hljs-number"><span class="hljs-number">2016</span></span>]: response = requests.get(competitions_url.format(year=y)) competitions = json.loads(response.text) competitions = [{<span class="hljs-string"><span class="hljs-string">'caption'</span></span>: c[<span class="hljs-string"><span class="hljs-string">'caption'</span></span>], <span class="hljs-string"><span class="hljs-string">'id'</span></span>: c[<span class="hljs-string"><span class="hljs-string">'id'</span></span>], <span class="hljs-string"><span class="hljs-string">'league'</span></span>: c[<span class="hljs-string"><span class="hljs-string">'league'</span></span>], <span class="hljs-string"><span class="hljs-string">'year'</span></span>: c[<span class="hljs-string"><span class="hljs-string">'year'</span></span>], <span class="hljs-string"><span class="hljs-string">'games_count'</span></span>: c[<span class="hljs-string"><span class="hljs-string">'numberOfGames'</span></span>], <span class="hljs-string"><span class="hljs-string">'teams_count'</span></span>: c[<span class="hljs-string"><span class="hljs-string">'numberOfTeams'</span></span>]} <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> c <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> competitions] COMP = pd.DataFrame(competitions) data.append(COMP) COMP = pd.concat(data) COMP.to_csv(os.path.join(DIR, <span class="hljs-string"><span class="hljs-string">'input'</span></span>, <span class="hljs-string"><span class="hljs-string">'competitions_2015_2016.csv'</span></span>)) COMP.head(<span class="hljs-number"><span class="hljs-number">20</span></span>)</code> </pre><br>  Fine!  We see the European Championship 2016 in the list: <br><br><table border="1"><thead><tr><th></th><th>  caption </th><th>  games_count </th><th>  id </th><th>  league </th><th>  teams_count </th><th>  year </th></tr></thead><tbody><tr><th>  12 </th><td>  League One 2015/16 </td><td>  552 </td><td>  425 </td><td>  EL1 </td><td>  24 </td><td>  2015 </td></tr><tr><th>  0 </th><td>  European Championships France 2016 </td><td>  51 </td><td>  424 </td><td>  EC </td><td>  24 </td><td>  2016 </td></tr></tbody></table><br>  Now we can get a list of teams by the identifier (id) of these competitions - we use the teams method to get the list of teams of Euro 2016. <br><br><pre> <code class="python hljs">teams_url = <span class="hljs-string"><span class="hljs-string">'http://api.football-data.org/v1/competitions/{competition_id}/teams'</span></span> response = requests.get(teams_url.format(competition_id=<span class="hljs-number"><span class="hljs-number">424</span></span>)) teams = json.loads(response.text)[<span class="hljs-string"><span class="hljs-string">'teams'</span></span>] teams = [dict(code=team[<span class="hljs-string"><span class="hljs-string">'code'</span></span>], name=team[<span class="hljs-string"><span class="hljs-string">'name'</span></span>], flag_url=team[<span class="hljs-string"><span class="hljs-string">'crestUrl'</span></span>], players_url=team[<span class="hljs-string"><span class="hljs-string">'_links'</span></span>][<span class="hljs-string"><span class="hljs-string">'players'</span></span>][<span class="hljs-string"><span class="hljs-string">'href'</span></span>]) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> team <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> teams] TEAMS = pd.DataFrame(teams) TEAMS.to_csv(os.path.join(DIR, <span class="hljs-string"><span class="hljs-string">'input'</span></span>, <span class="hljs-string"><span class="hljs-string">'teams_euro2016.cvs'</span></span>)) TEAMS.head(<span class="hljs-number"><span class="hljs-number">24</span></span>)</code> </pre><br><table border="1"><thead><tr><th></th><th>  code </th><th>  flag_url </th><th>  name </th><th>  players_url </th></tr></thead><tbody><tr><th>  0 </th><td>  Fra </td><td>  <a href="https://upload.wikimedia.org/wikipedia/en/c/c3">upload.wikimedia.org/wikipedia/en/c/c3</a> ... </td><td>  France </td><td>  <a href="http://api.football-data.org/v1/teams/773/players">api.football-data.org/v1/teams/773/players</a> </td></tr><tr><th>  one </th><td>  ROU </td><td>  <a href="https://upload.wikimedia.org/wikipedia/commons">upload.wikimedia.org/wikipedia/commons</a> ... </td><td>  Romania </td><td>  <a href="http://api.football-data.org/v1/teams/811/players">api.football-data.org/v1/teams/811/players</a> </td></tr><tr><th>  2 </th><td>  ALB </td><td>  <a href="https://upload.wikimedia.org/wikipedia/commons">upload.wikimedia.org/wikipedia/commons</a> ... </td><td>  Albania </td><td>  <a href="http://api.football-data.org/v1/teams/1065/pla">api.football-data.org/v1/teams/1065/pla</a> ... </td></tr><tr><th>  3 </th><td>  SUI </td><td>  <a href="https://upload.wikimedia.org/wikipedia/commons">upload.wikimedia.org/wikipedia/commons</a> ... </td><td>  Switzerland </td><td>  <a href="http://api.football-data.org/v1/teams/788/players">api.football-data.org/v1/teams/788/players</a> </td></tr><tr><th>  four </th><td>  WAL </td><td>  <a href="https://upload.wikimedia.org/wikipedia/commons">upload.wikimedia.org/wikipedia/commons</a> ... </td><td>  Wales </td><td>  <a href="http://api.football-data.org/v1/teams/833/players">api.football-data.org/v1/teams/833/players</a> </td></tr></tbody></table><br>  The structure of our table is a table (DataFrame) with the following columns: <br><ul><li>  code (three digit country code) </li><li>  flag_url (link to the .svg file of the country flag in our case, and in the original crestUrl, the .svg file of the team symbol) </li><li>  name (command name) </li><li>  players_url (link to the API page with player data - for some reason there is no player data for the national teams, perhaps this is another API restriction) </li></ul><br>  In our subsequent work, we will also need .svg command flag files - just download them to a separate directory, I did it quickly and easily using the Chrono extension for Chrome. <br><br>  Now let's try to get data directly about the matches of Euro 2016.  First, let's look at the structure of the server response for the selected ‚Äúorders‚Äù method.  For example, let us analyze the structure of information about a match that ends with a penalty shootout (this is the most complex composition of data from possible for this method). <br><br><pre> <code class="python hljs">games_url = <span class="hljs-string"><span class="hljs-string">'http://api.football-data.org/v1/competitions/{competition_id}/fixtures'</span></span> response = requests.get(games_url.format(competition_id=<span class="hljs-number"><span class="hljs-number">424</span></span>)) games = json.loads(response.text)[<span class="hljs-string"><span class="hljs-string">'fixtures'</span></span>] <span class="hljs-comment"><span class="hljs-comment">#       ,   . games_selected = [game for game in games if 'extraTime' in game['result']] games_selected[0]</span></span></code> </pre><br>  In the answer we get the following: <br><br><pre> <code class="javascript hljs">{<span class="hljs-string"><span class="hljs-string">'_links'</span></span>: {<span class="hljs-string"><span class="hljs-string">'awayTeam'</span></span>: {<span class="hljs-string"><span class="hljs-string">'href'</span></span>: <span class="hljs-string"><span class="hljs-string">'http://api.football-data.org/v1/teams/794'</span></span>}, <span class="hljs-string"><span class="hljs-string">'competition'</span></span>: {<span class="hljs-string"><span class="hljs-string">'href'</span></span>: <span class="hljs-string"><span class="hljs-string">'http://api.football-data.org/v1/competitions/424'</span></span>}, <span class="hljs-string"><span class="hljs-string">'homeTeam'</span></span>: {<span class="hljs-string"><span class="hljs-string">'href'</span></span>: <span class="hljs-string"><span class="hljs-string">'http://api.football-data.org/v1/teams/788'</span></span>}, <span class="hljs-string"><span class="hljs-string">'self'</span></span>: {<span class="hljs-string"><span class="hljs-string">'href'</span></span>: <span class="hljs-string"><span class="hljs-string">'http://api.football-data.org/v1/fixtures/150457'</span></span>}}, <span class="hljs-string"><span class="hljs-string">'awayTeamName'</span></span>: <span class="hljs-string"><span class="hljs-string">'Poland'</span></span>, <span class="hljs-string"><span class="hljs-string">'date'</span></span>: <span class="hljs-string"><span class="hljs-string">'2016-06-25T13:00:00Z'</span></span>, <span class="hljs-string"><span class="hljs-string">'homeTeamName'</span></span>: <span class="hljs-string"><span class="hljs-string">'Switzerland'</span></span>, <span class="hljs-string"><span class="hljs-string">'matchday'</span></span>: <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-string"><span class="hljs-string">'result'</span></span>: {<span class="hljs-string"><span class="hljs-string">'extraTime'</span></span>: {<span class="hljs-string"><span class="hljs-string">'goalsAwayTeam'</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'goalsHomeTeam'</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>}, <span class="hljs-string"><span class="hljs-string">'goalsAwayTeam'</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'goalsHomeTeam'</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'halfTime'</span></span>: {<span class="hljs-string"><span class="hljs-string">'goalsAwayTeam'</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'goalsHomeTeam'</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>}, <span class="hljs-string"><span class="hljs-string">'penaltyShootout'</span></span>: {<span class="hljs-string"><span class="hljs-string">'goalsAwayTeam'</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-string"><span class="hljs-string">'goalsHomeTeam'</span></span>: <span class="hljs-number"><span class="hljs-number">4</span></span>}}, <span class="hljs-string"><span class="hljs-string">'status'</span></span>: <span class="hljs-string"><span class="hljs-string">'FINISHED'</span></span>}</code> </pre><br>  To make it easier to work with the data and the process of loading them into the DataFrame, we will write a small function that accepts a dictionary with information about the match as an attribute and returns a dictionary of a type convenient for us. <br><br><div class="spoiler">  <b class="spoiler_title">Match dictionary processing function</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handle_game</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(game)</span></span></span><span class="hljs-function">:</span></span> date = game[<span class="hljs-string"><span class="hljs-string">'date'</span></span>] team_1 = game[<span class="hljs-string"><span class="hljs-string">'homeTeamName'</span></span>] team_2 = game[<span class="hljs-string"><span class="hljs-string">'awayTeamName'</span></span>] matchday = game[<span class="hljs-string"><span class="hljs-string">'matchday'</span></span>] team_1_goals_main = game[<span class="hljs-string"><span class="hljs-string">'result'</span></span>][<span class="hljs-string"><span class="hljs-string">'goalsHomeTeam'</span></span>] team_2_goals_main = game[<span class="hljs-string"><span class="hljs-string">'result'</span></span>][<span class="hljs-string"><span class="hljs-string">'goalsAwayTeam'</span></span>] status = game[<span class="hljs-string"><span class="hljs-string">'status'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-string"><span class="hljs-string">'extraTime'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> game[<span class="hljs-string"><span class="hljs-string">'result'</span></span>]: team_1_goals_extra = game[<span class="hljs-string"><span class="hljs-string">'result'</span></span>][<span class="hljs-string"><span class="hljs-string">'extraTime'</span></span>][<span class="hljs-string"><span class="hljs-string">'goalsHomeTeam'</span></span>] team_2_goals_extra = game[<span class="hljs-string"><span class="hljs-string">'result'</span></span>][<span class="hljs-string"><span class="hljs-string">'extraTime'</span></span>][<span class="hljs-string"><span class="hljs-string">'goalsAwayTeam'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-string"><span class="hljs-string">'penaltyShootout'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> game[<span class="hljs-string"><span class="hljs-string">'result'</span></span>]: team_1_goals_penalty = game[<span class="hljs-string"><span class="hljs-string">'result'</span></span>][<span class="hljs-string"><span class="hljs-string">'penaltyShootout'</span></span>][<span class="hljs-string"><span class="hljs-string">'goalsHomeTeam'</span></span>] team_2_goals_penalty = game[<span class="hljs-string"><span class="hljs-string">'result'</span></span>][<span class="hljs-string"><span class="hljs-string">'penaltyShootout'</span></span>][<span class="hljs-string"><span class="hljs-string">'goalsAwayTeam'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: team_1_goals_penalty = team_2_goals_penalty = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: team_1_goals_extra = team_2_goals_extra = team_1_goals_penalty = team_2_goals_penalty = <span class="hljs-number"><span class="hljs-number">0</span></span> team_1_goals = team_1_goals_main + team_1_goals_extra team_2_goals = team_2_goals_main + team_2_goals_extra <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (team_1_goals + team_1_goals_penalty) &gt; (team_2_goals + team_2_goals_penalty): team_1_win = <span class="hljs-number"><span class="hljs-number">1</span></span> team_2_win = <span class="hljs-number"><span class="hljs-number">0</span></span> draw = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> (team_1_goals + team_1_goals_penalty) &lt; (team_2_goals + team_2_goals_penalty): team_1_win = <span class="hljs-number"><span class="hljs-number">0</span></span> team_2_win = <span class="hljs-number"><span class="hljs-number">1</span></span> draw = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: team_1_win = team_2_win = <span class="hljs-number"><span class="hljs-number">0</span></span> draw = <span class="hljs-number"><span class="hljs-number">1</span></span> game = dict(date=date, team_1=team_1, team_2=team_2, matchday=matchday, status=status, team_1_goals=team_1_goals, team_2_goals=team_2_goals, team_1_goals_extra=team_1_goals_extra, team_2_goals_extra=team_2_goals_extra, team_1_win=team_1_win, team_2_win=team_2_win, draw=draw, team_1_goals_penalty=team_1_goals_penalty, team_2_goals_penalty=team_2_goals_penalty) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> game <span class="hljs-comment"><span class="hljs-comment">#           game = handle_game(games_selected[0]) print(game)</span></span></code> </pre><br></div></div><br>  Here is the returned dictionary: <br><br><pre> <code class="javascript hljs">{<span class="hljs-string"><span class="hljs-string">'date'</span></span>: <span class="hljs-string"><span class="hljs-string">'2016-06-25T13:00:00Z'</span></span>, <span class="hljs-string"><span class="hljs-string">'draw'</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'matchday'</span></span>: <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-string"><span class="hljs-string">'status'</span></span>: <span class="hljs-string"><span class="hljs-string">'FINISHED'</span></span>, <span class="hljs-string"><span class="hljs-string">'team_1'</span></span>: <span class="hljs-string"><span class="hljs-string">'Switzerland'</span></span>, <span class="hljs-string"><span class="hljs-string">'team_1_goals'</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'team_1_goals_extra'</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'team_1_goals_penalty'</span></span>: <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-string"><span class="hljs-string">'team_1_win'</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'team_2'</span></span>: <span class="hljs-string"><span class="hljs-string">'Poland'</span></span>, <span class="hljs-string"><span class="hljs-string">'team_2_goals'</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'team_2_goals_extra'</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'team_2_goals_penalty'</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-string"><span class="hljs-string">'team_2_win'</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>}</code> </pre><br>  Now we are ready to load data on all matches of Euro 2016 in the DataFrame. <br><br><pre> <code class="python hljs">games_url = <span class="hljs-string"><span class="hljs-string">'http://api.football-data.org/v1/competitions/{competition_id}/fixtures'</span></span> response = requests.get(games_url.format(competition_id=<span class="hljs-number"><span class="hljs-number">424</span></span>)) games = json.loads(response.text)[<span class="hljs-string"><span class="hljs-string">'fixtures'</span></span>] GAMES = pd.DataFrame([handle_game(g) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> g <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> games]) GAMES.to_csv(os.path.join(DIR, <span class="hljs-string"><span class="hljs-string">'input'</span></span>, <span class="hljs-string"><span class="hljs-string">'games_euro2016.csv'</span></span>)) GAMES.head()</code> </pre><br><table border="1"><thead><tr><th></th><th>  date </th><th>  draw </th><th>  matchday </th><th>  status </th><th>  team_1 </th><th>  team_1_goals </th><th>  team_1_goals_extra </th><th>  team_1_goals_penalty </th><th>  team_1_win </th><th>  team_2 </th><th>  team_2_goals </th><th>  team_2_goals_extra </th><th>  team_2_goals_penalty </th><th>  team_2_win </th></tr></thead><tbody><tr><th>  0 </th><td>  2016-06-10T19: 00: 00Z </td><td>  0 </td><td>  one </td><td>  FINISHED </td><td>  France </td><td>  2 </td><td>  0 </td><td>  0 </td><td>  one </td><td>  Romania </td><td>  one </td><td>  0 </td><td>  0 </td><td>  0 </td></tr><tr><th>  one </th><td>  2016-06-11T13: 00: 00Z </td><td>  0 </td><td>  one </td><td>  FINISHED </td><td>  Albania </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  Switzerland </td><td>  one </td><td>  0 </td><td>  0 </td><td>  one </td></tr></tbody></table><br>  Well, the data is loaded into the DataFrame, but this structure is not suitable for data analysis.  Guided by the principles of the document ‚ÄúTidy Data, Hadley Wickham (2014)‚Äù, we will adjust the structure of the DataFrame so that one variable (command) is identical to one line - in fact, we will double the number of lines in the Dataframe.  Also, adjust the column names to make it easier to work with. <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#         . GAMES['date'] = pd.to_datetime(GAMES.date) #            () GAMES = GAMES.reindex(columns=['date', 'matchday', 'status', 'team_1', 'team_1_win', 'team_1_goals', 'team_1_goals_extra', 'team_1_goals_penalty', 'team_2', 'team_2_win', 'team_2_goals', 'team_2_goals_extra', 'team_2_goals_penalty', 'draw']) new_columns = ['date', 'mday', 'status', 't1', 't1w', 't1g', 't1ge', 't1gp', 't2', 't2w', 't2g', 't2ge', 't2gp', 'draw'] GAMES.columns = new_columns GAMES.head() #    DataFrame #   DataFrame  ,  ,      DataFrame. GAMES_2 = GAMES.ix[:,[0, 1, 2, 8, 9, 10, 11, 12, 3, 4, 5, 6, 7, 13]] GAMES_2.columns = new_columns GAMES_F = pd.concat([GAMES, GAMES_2]) GAMES_F.sort(['date'], inplace=True) GAMES_F.head()</span></span></code> </pre><br><table border="1"><thead><tr><th></th><th>  date </th><th>  mday </th><th>  status </th><th>  t1 </th><th>  t1w </th><th>  t1g </th><th>  t1ge </th><th>  t1gp </th><th>  t2 </th><th>  t2w </th><th>  t2g </th><th>  t2ge </th><th>  t2gp </th><th>  draw </th></tr></thead><tbody><tr><th>  0 </th><td>  2016-06-10 19:00:00 </td><td>  one </td><td>  FINISHED </td><td>  France </td><td>  one </td><td>  2 </td><td>  0 </td><td>  0 </td><td>  Romania </td><td>  0 </td><td>  one </td><td>  0 </td><td>  0 </td><td>  0 </td></tr><tr><th>  0 </th><td>  2016-06-10 19:00:00 </td><td>  one </td><td>  FINISHED </td><td>  Romania </td><td>  0 </td><td>  one </td><td>  0 </td><td>  0 </td><td>  France </td><td>  one </td><td>  2 </td><td>  0 </td><td>  0 </td><td>  0 </td></tr><tr><th>  one </th><td>  2016-06-11 13:00:00 </td><td>  one </td><td>  FINISHED </td><td>  Albania </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  Switzerland </td><td>  one </td><td>  one </td><td>  0 </td><td>  0 </td><td>  0 </td></tr></tbody></table><br>  This structure is much better, but for further work we will need a few more minor changes. <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#           - "g" -  -     GAMES_F['g'] = GAMES_F.t1g + GAMES_F.t2g GAMES_F['idx'] = GAMES_F.index #              . #  ,     51,   15  -,  -  . #      DataFrame TP = pd.DataFrame({'typ': ['']*36 + ['1/8']*8 + ['1/4']*4 + ['1/2']*2 + ['']*1, 'idx': range(0, 51)}) #   DataFrame GAMES_F= pd.merge(GAMES_F, TP, how='left', left_on=GAMES_F.idx, right_on=TP.idx) GAMES_F.head()</span></span></code> </pre><br><table border="1"><thead><tr><th></th><th>  date </th><th>  mday </th><th>  status </th><th>  t1 </th><th>  t1w </th><th>  t1g </th><th>  t1ge </th><th>  t1gp </th><th>  t2 </th><th>  t2w </th><th>  t2g </th><th>  t2ge </th><th>  t2gp </th><th>  draw </th><th>  g </th><th>  idx_x </th><th>  idx_y </th><th>  typ </th></tr></thead><tbody><tr><th>  0 </th><td>  2016-06-10 19:00:00 </td><td>  one </td><td>  FINISHED </td><td>  France </td><td>  one </td><td>  2 </td><td>  0 </td><td>  0 </td><td>  Romania </td><td>  0 </td><td>  one </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  3 </td><td>  0 </td><td>  0 </td><td>  Groups </td></tr><tr><th>  one </th><td>  2016-06-10 19:00:00 </td><td>  one </td><td>  FINISHED </td><td>  Romania </td><td>  0 </td><td>  one </td><td>  0 </td><td>  0 </td><td>  France </td><td>  one </td><td>  2 </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  3 </td><td>  0 </td><td>  0 </td><td>  Groups </td></tr><tr><th>  2 </th><td>  2016-06-11 13:00:00 </td><td>  one </td><td>  FINISHED </td><td>  Albania </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  Switzerland </td><td>  one </td><td>  one </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  one </td><td>  one </td><td>  one </td><td>  Groups </td></tr></tbody></table><br><h4>  2. Data Visualization with Python </h4><br>  For data visualization we will use the matplotlib library.  At this stage, we will actually prepare graphics in the .svg format for further processing in a vector editor. <br>  To begin, we will prepare a timeline schedule for all matches of Euro 2016.  It seemed to me that it would look and form comfortably in the form of horizontal columns. <br><br><pre> <code class="python hljs">GAMES_W = GAMES_F[(GAMES_F.t1w==<span class="hljs-number"><span class="hljs-number">1</span></span>) | (GAMES_F.draw==<span class="hljs-number"><span class="hljs-number">1</span></span>)] GAMES_W[<span class="hljs-string"><span class="hljs-string">'dt'</span></span>] =[d.strftime(<span class="hljs-string"><span class="hljs-string">'%d.%m.%Y'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> d <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> GAMES_W.date] <span class="hljs-comment"><span class="hljs-comment">#     GAMES_W['l1'] = (GAMES_W.idx_x + 1).astype(str) + ' - ' + GAMES_W.dt + ' ' + (GAMES_W.typ) GAMES_W['l2'] = GAMES_W.t2 + ' ' + GAMES_W.t2g.astype(str) + ':' + GAMES_W.t1g.astype(str) + ' ' + GAMES_W.t1 fig, ax1 = plt.subplots(figsize=[10, 30]) ax1.barh(GAMES_W.idx_x, GAMES_W.t1g, color='#01aae8') ax1.set_yticks(GAMES_W.idx_x + 0.5) ax1.set_yticklabels(GAMES_W.l1.values) ax2 = ax1.twinx() ax2.barh(GAMES_W.idx_x, -GAMES_W.t2g, color='#f79744') ax2.set_yticks(GAMES_W.idx_x + 0.5) ax2.set_yticklabels(GAMES_W.l2.values) # .           -    #    ,   . ax3 = ax1.twinx() ax3.barh(GAMES_W.idx_x, GAMES_W.t2gp, 0.5, alpha=0.2, color='blue') ax3.barh(GAMES_W.idx_x, -GAMES_W.t1gp, 0.5, alpha=0.2, color='orange') ax1.grid(False) ax2.grid(False) ax1.set_xlim(-6, 6) ax2.set_xlim(-6, 6) #        plt.show() fig.savefig(os.path.join(DIR, 'output', 'barh_1.svg'))</span></span></code> </pre><br>  At the exit, we get here such an unsightly timeline schedule. <br><div class="spoiler">  <b class="spoiler_title">All matches Euro 2016 (Python)</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/a41/6d2/2d1/a416d22d1af94791be77f9a182769657.png"><br></div></div><br>  Let's now find out which team scored the most goals.  To do this, create a grouped DataFrame from the existing one and calculate some aggregated indicators. <br><br><pre> <code class="python hljs">GAMES_GR = GAMES_F.groupby([<span class="hljs-string"><span class="hljs-string">'t1'</span></span>]) GAMES_AGG = GAMES_GR.agg({<span class="hljs-string"><span class="hljs-string">'t1g'</span></span>: np.sum}) GAMES_AGG.sort([<span class="hljs-string"><span class="hljs-string">'t1g'</span></span>], ascending=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>).head()</code> </pre><br>  teams goals <br>  France 13 <br>  Wales 10 <br>  Portugal 10 <br>  Belgium 9 <br>  Iceland 8 <br><br>  Interesting, but let's calculate some more indicators: <br><ul><li>  Number of matches played </li><li>  Number of wins / draws / losses </li><li>  Number of goals scored </li><li>  Number of matches with extra time </li><li>  Number of matches, a series of penalties </li></ul><br><pre> <code class="python hljs">GAMES_F[<span class="hljs-string"><span class="hljs-string">'n'</span></span>] = <span class="hljs-number"><span class="hljs-number">1</span></span> GAMES_GR = GAMES_F.groupby([<span class="hljs-string"><span class="hljs-string">'t1'</span></span>]) GAMES_AGG = GAMES_GR.agg({<span class="hljs-string"><span class="hljs-string">'n'</span></span>: np.sum, <span class="hljs-string"><span class="hljs-string">'draw'</span></span>: np.sum, <span class="hljs-string"><span class="hljs-string">'t1w'</span></span>: np.sum, <span class="hljs-string"><span class="hljs-string">'t2w'</span></span>:np.sum, <span class="hljs-string"><span class="hljs-string">'t1g'</span></span>: np.sum, <span class="hljs-string"><span class="hljs-string">'t2g'</span></span>: np.sum}) GAMES_AGG[<span class="hljs-string"><span class="hljs-string">'games_extra'</span></span>] = GAMES_GR.apply(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: x[x[<span class="hljs-string"><span class="hljs-string">'t1ge'</span></span>]&gt;<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-string"><span class="hljs-string">'n'</span></span>].count()) GAMES_AGG[<span class="hljs-string"><span class="hljs-string">'games_penalty'</span></span>] = GAMES_GR.apply(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: x[x[<span class="hljs-string"><span class="hljs-string">'t1gp'</span></span>]&gt;<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-string"><span class="hljs-string">'n'</span></span>].count()) GAMES_AGG.reset_index(inplace=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) GAMES_AGG.columns = [<span class="hljs-string"><span class="hljs-string">'team'</span></span>, <span class="hljs-string"><span class="hljs-string">'draw'</span></span>, <span class="hljs-string"><span class="hljs-string">'goals_lose'</span></span>, <span class="hljs-string"><span class="hljs-string">'lose'</span></span>, <span class="hljs-string"><span class="hljs-string">'win'</span></span>, <span class="hljs-string"><span class="hljs-string">'goals'</span></span>, <span class="hljs-string"><span class="hljs-string">'games'</span></span>, <span class="hljs-string"><span class="hljs-string">'games_extra'</span></span>, <span class="hljs-string"><span class="hljs-string">'games_penalty'</span></span>] GAMES_AGG = GAMES_AGG.reindex(columns = [<span class="hljs-string"><span class="hljs-string">'team'</span></span>, <span class="hljs-string"><span class="hljs-string">'games'</span></span>, <span class="hljs-string"><span class="hljs-string">'games_extra'</span></span>, <span class="hljs-string"><span class="hljs-string">'games_penalty'</span></span>, <span class="hljs-string"><span class="hljs-string">'win'</span></span>, <span class="hljs-string"><span class="hljs-string">'lose'</span></span>, <span class="hljs-string"><span class="hljs-string">'draw'</span></span>, <span class="hljs-string"><span class="hljs-string">'goals'</span></span>, <span class="hljs-string"><span class="hljs-string">'goals_lose'</span></span>])</code> </pre><br>  Now visualize these distributions: <br><pre> <code class="python hljs">GAMES_P = GAMES_AGG GAMES_P.sort([<span class="hljs-string"><span class="hljs-string">'goals'</span></span>], ascending=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, inplace=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) GAMES_P.reset_index(inplace=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) bar_width = <span class="hljs-number"><span class="hljs-number">0.6</span></span> fig, ax = plt.subplots(figsize=[<span class="hljs-number"><span class="hljs-number">16</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>]) ax.bar(GAMES_P.index + <span class="hljs-number"><span class="hljs-number">0.2</span></span>, GAMES_P.goals, bar_width, color=<span class="hljs-string"><span class="hljs-string">'#01aae8'</span></span>, label=<span class="hljs-string"><span class="hljs-string">''</span></span>) ax.bar(GAMES_P.index + <span class="hljs-number"><span class="hljs-number">0.2</span></span>, -GAMES_P.goals_lose, bar_width, color=<span class="hljs-string"><span class="hljs-string">'#f79744'</span></span>, label=<span class="hljs-string"><span class="hljs-string">''</span></span>) ax.set_xticks(GAMES_P.index) ax.set_xticklabels(GAMES_P.team, rotation=<span class="hljs-number"><span class="hljs-number">45</span></span>) ax.set_ylabel(<span class="hljs-string"><span class="hljs-string">''</span></span>) ax.set_xlabel(<span class="hljs-string"><span class="hljs-string">''</span></span>) ax.set_title(<span class="hljs-string"><span class="hljs-string">'   -  '</span></span>) ax.legend() plt.grid(<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>) plt.show() fig.savefig(os.path.join(DIR, <span class="hljs-string"><span class="hljs-string">'output'</span></span>, <span class="hljs-string"><span class="hljs-string">'bar_1.svg'</span></span>))</code> </pre><br>  At the output we get the following schedule: <br><div class="spoiler">  <b class="spoiler_title">The distribution of scored / missed balls Euro 2016 (Python)</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/5ee/683/f7c/5ee683f7c1f7452d9133dc648639f1b4.png"><br></div></div><br>  Let's draw another graph of the distribution of victories, defeats and draws on the Euro. <br><br><pre> <code class="python hljs">GAMES_P = GAMES_AGG GAMES_P.sort([<span class="hljs-string"><span class="hljs-string">'win'</span></span>], ascending=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, inplace=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) GAMES_P.reset_index(inplace=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) bar_width = <span class="hljs-number"><span class="hljs-number">0.6</span></span> fig, ax = plt.subplots(figsize=[<span class="hljs-number"><span class="hljs-number">16</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>]) ax.bar(GAMES_P.index + <span class="hljs-number"><span class="hljs-number">0.2</span></span>, GAMES_P.win, bar_width, color=<span class="hljs-string"><span class="hljs-string">'#01aae8'</span></span>, label=<span class="hljs-string"><span class="hljs-string">''</span></span>) ax.bar(GAMES_P.index + <span class="hljs-number"><span class="hljs-number">0.2</span></span>, -GAMES_P.lose, bar_width/<span class="hljs-number"><span class="hljs-number">2</span></span>, color=<span class="hljs-string"><span class="hljs-string">'#f79744'</span></span>, label=<span class="hljs-string"><span class="hljs-string">''</span></span>) ax.bar(GAMES_P.index + <span class="hljs-number"><span class="hljs-number">0.5</span></span>, -GAMES_P.draw, bar_width/<span class="hljs-number"><span class="hljs-number">2</span></span>, color=<span class="hljs-string"><span class="hljs-string">'#99b286'</span></span>, label=<span class="hljs-string"><span class="hljs-string">''</span></span>) ax.set_xticks(GAMES_P.index) ax.set_xticklabels(GAMES_P.team, rotation=<span class="hljs-number"><span class="hljs-number">45</span></span>) ax.set_ylabel(<span class="hljs-string"><span class="hljs-string">''</span></span>) ax.set_xlabel(<span class="hljs-string"><span class="hljs-string">''</span></span>) ax.set_title(<span class="hljs-string"><span class="hljs-string">'   - '</span></span>) ax.set_ylim(-GAMES_P.lose.max()*<span class="hljs-number"><span class="hljs-number">1.2</span></span>, GAMES_P.win.max()*<span class="hljs-number"><span class="hljs-number">1.2</span></span>) ax.legend(ncol=<span class="hljs-number"><span class="hljs-number">3</span></span>) plt.grid(<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>) plt.show() fig.savefig(os.path.join(DIR, <span class="hljs-string"><span class="hljs-string">'output'</span></span>, <span class="hljs-string"><span class="hljs-string">'bar_2.svg'</span></span>))</code> </pre><br>  At the output we get the following schedule: <br><div class="spoiler">  <b class="spoiler_title">Distribution of victories / draws / losses of Euro 2016 (Python)</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/ecc/b53/36b/eccb5336b77e4190b4d2c1b3e4ddac9c.png"><br></div></div><br>  Taking this opportunity, I would like to note that the leader in the number of goals scored and the number of victories France did not win the championship, and Portugal, with 3 matches in a draw, fewer goals scored and more than the number of goals conceded from France, won the cup. <br><br><h4>  3. Editing vector graphics in Inkscape </h4><br>  Now let's edit the graphics we got in Inkscape vector editor.  The choice fell on this editor for one reason - it is free.  Immediately I would like to note that it is also extremely demanding of system resources - empirically it was definitely that the minimum amount of RAM for work is 8GB.  I had 4GB, so by the end of the editing of one of the illustrations I was already beginning to get nervous about the long wait.  For comfortable work in the editor, it is recommended to familiarize yourself with the <a href="https://inkscape.org/ru/learn/tutorials/">introductory tutorials</a> on the site. <br><br>  The main task of editing graphs in the vector editor is the ability to make beautiful visualizations using the built-in functions of the editor.  In this case, we can: <br><ul><li>  Select, modify, and move any graph element created using python </li><li>  Arrange to add drawn data from external sources, for example, to insert flags of countries </li><li>  Export data in any resolution to most graphic formats. </li></ul><br>  I will not long describe the transformations that I did in Inkscape, but simply list them and present the resulting graphs.  Changes: <br><ul><li>  Edited signatures on axes </li><li>  Removed extra fills </li><li>  Added country flags for better visualization. </li><li>  Produced color highlights </li><li>  Added symbols of Euro 2016 </li><li>  Added football attributes (for example, balls that reflect the number of goals scored on the timeline) </li></ul><br>  Here's what happened in the end: <br><br><div class="spoiler">  <b class="spoiler_title">Distribution of goals scored / missed balls Euro 2016 (Inkscape)</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/ae2/887/4cf/ae28874cff28466e802d291469ec4a86.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">The distribution of wins / losses / draws Euro 2016 (Inkscape)</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/39d/509/723/39d5097232ba4f38b3f5a98c6c05773b.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">All matches Euro 2016 (Inkscape)</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/039/2bc/e02/0392bce02bdd4495ac9d6b3e6242a90d.png"><br></div></div><br><br>  Thanks for attention. </div><p>Source: <a href="https://habr.com/ru/post/305986/">https://habr.com/ru/post/305986/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../305972/index.html">Artyom Geller will be mentor of the final hackathon ‚ÄúBudgetApps‚Äù</a></li>
<li><a href="../305974/index.html">How to start using Swing GUI-wizard IntelliJ IDEA. detailed instructions</a></li>
<li><a href="../305976/index.html">Tion MagicAir - smart microclimate system with a cloud backend</a></li>
<li><a href="../305982/index.html">Accelerate data insertion from MSSQL to remote PostgreSQL 800 times</a></li>
<li><a href="../305984/index.html">The human factor remains the strongest, but profitable risk in software development</a></li>
<li><a href="../305988/index.html">User‚Äôs auto-exit on a Windows server. Using it to optimize the performance of your VDS / VPS server</a></li>
<li><a href="../305990/index.html">From registration to showcase: how to put a mobile application in the App Store and Google Play (Part 1)</a></li>
<li><a href="../305994/index.html">Systematization of publications in the web. Part 1 of 3: Problem Statement</a></li>
<li><a href="../305996/index.html">What is wrong with ASP.NET Core DI Abstraction?</a></li>
<li><a href="../305998/index.html">Is cybercriminal Carbanak group linked to a Russian security company?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>