<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Application Development with NexStreaming NexPlayer SDK</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Developing a mobile player application is not easy. It is necessary to provide support for many formats of video, audio, subtitles. We'll have to impl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Application Development with NexStreaming NexPlayer SDK</h1><div class="post__text post__text-html js-mediator-article">  Developing a mobile player application is not easy.  It is necessary to provide support for many formats of video, audio, subtitles.  We'll have to implement the playback of files that are stored locally and on the Internet.  If we recall that the result of all these works will be performed in an environment whose resources should be treated carefully, we will have to tackle optimization.  How to approach the creation of high-quality, fast and economical player for Android?  NexPlayer SDK will help to answer this question. <br><br> <a href="http://habrahabr.ru/company/intel/blog/264103/"><img src="https://habrastorage.org/files/7be/164/240/7be1642401044e09a10fe86b5e25409e.jpg"></a> <br><a name="habracut"></a><br><h2>  <font color="#0071c5">Preliminary Information</font> </h2><br>  NexStreaming is a global company that develops software for mobile devices.  NexStreaming is headquartered in Seoul, Korea, with branches located in Spain, the United States, Japan and China.  NexPlayer SDK is its most popular product.  This is a software development kit for creating players.  It is used in its mobile applications by some very well-known companies that stream video.  The player is compatible with all modern DRM-technologies.  In addition, its basic functionality can be expanded.  For example, add tools to improve the sound, support for advertising inserts, functions of collecting statistical information about the audience. <br><br>  NexPlayer SDK from NexStreaming provides the means to decode and play video and audio data.  Application developers can use the SDK to quickly create their own products.  NexPlayer SDK is reliable, stable, compatible with international standards.  From this material, you will learn how to create a player designed for the x86 architecture using the NexPlayer SDK. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  <font color="#0071c5">Main features</font> </h2><br>  NexPlayer SDK is optimized for the x86 platform, that is, it is fully supported by devices built on this platform.  Here are the main features of the SDK: <br><br><ul><li>  Android 1.6 or higher support </li><li>  Playing files in mp4, 3gp, avi, asf, piff formats </li><li>  Support for streaming data technologies HTTP Live Streaming version 5.0 and 3GPP Progressive Download.  Supports AES128 and HTTPS protocols, h.264, AAC, AAC +, eAAC + codecs.  The SDK allows you to work with both software and hardware codecs. </li><li>  Subtitle support in .smi, .srt, .sub, 3GPP timed text, TTML (PIFF / CFF only), CEA 608 and CEA 708 formats. Supports Web Video Text Tracks technology (WebVTT). </li></ul><br><h2>  <font color="#0071c5">How to create a player for the x86 platform using the NexPlayer SDK</font> </h2><br>  First you need to <a href="http://www.nexstreaming.com/downloads-sdk">download the</a> SDK from the NexStreaming website, filling out a small form and waiting for an e-mail with the data to enter the closed section of the site, where the materials are located.  In particular, among the materials available for download, you can find a demo application in an .apk file that can be immediately installed on an Android device, a sample project that can be imported into the IDE, the SDK itself as a set of libraries, and its documentation .  In order to decide which libraries you need, you should read the documentation and look at the examples.  Developing an application using the NexPlayer SDK is quite simple and straightforward, and the presence of examples contributes to its rapid development.  It takes about an hour to create a working application that uses the NexPlayer SDK. <br><br>  Integration of the NexPlayer SDK into an Android application designed for the x86 platform consists in copying libraries and source code from the SDK to your project.  By following a few simple steps, described below, you will equip the application with basic components that will allow it to work perfectly on devices built on the basis of components from Intel.  So, the preparatory stage is as follows: <br><br><ul><li>  Copy the necessary libraries from the SDK / libs folder to the assets / x86 folder of your own project </li><li>  Copy the necessary libraries from the SDK / libs folder to the libs / x86 folder of the project </li><li>  Copy java-files from SDK / src to src / com / nexstreaming / nexplayerengine project folder </li></ul><br>  The set of copied libraries depends on the needs of your application.  In order to understand exactly which libraries you need, you should look at the demo and use the recommendations given below. <br><br>  After copying, NexPlayer SDK will detect changes and will be able to use libraries to organize efficient work with Intel resources.  As soon as all the libraries are in the specified directories, the SDK will take over switching between ARM and x86 versions of the application.  If you want to update the NexPlayer SDK libraries in an existing project, just overwrite their files. <br><br>  NexPlayer SDK includes a large number of libraries, including those that are responsible for supporting DRM.  They are located in the app / assets / x86 folder.  The required set of libraries includes the player engine (engine), decoders (decoders) and rendering layer (rendering layer).  Here is a list of them: <br><br><ul><li>  libnexplayerengine.so <br></li><li>  libnexalfactory.so </li><li>  libnexadaptation_layer_for_dlsdk.so </li><li>  libnexralbody_audio.so </li><li>  libnexralbody_video_opengl.so </li><li>  libnexral_nw_ics.so </li><li>  libnexral_nw_jb.so </li><li>  libnexcal_oc_ics.so </li><li>  libnexcal_oc_jb.so </li><li>  libnexcralbody_mc_jb.so </li><li>  libnexcal_in_aac_x86.so </li><li>  libnexcal_in_mp3_x86.so </li><li>  libnexcal_in_amr_x86.so </li></ul><br>  Some of the library names contain the abbreviation "ics".  It indicates that the library is designed for Android Ice Cream Sandwich.  The abbreviation "jb" says that the library is designed for Android Jelly Bean.  If your application is designed to support certain versions of Android, libraries for unsupported versions can be removed. <br><br>  Here are the libraries responsible for supporting codecs: <br><br><ul><li>  libnexcal_h364_x86.so - H.264 video support library </li><li>  libnexcal_aac_x86.so - sound library for AAC, AAC-Plus and HE-AAC formats </li><li>  libnexcal_mp3_x86.so - sound library for MP2 and MP3 formats </li></ul><br>  The following are the libraries whose task is to support subtitles: <br><br><ul><li>  libnexcal_3gpp_x86.so - support for 3GPP format timed text </li><li>  libnexcal_closedcaption_x86.so - support for CEA 608 and CEA 708 formats </li><li>  libnexcal_ttml_x86.so - TTML (CFF) format support </li><li>  libnexcal_webvtt_x86.so - support for the WebVTT format </li></ul><br>  In order to reduce the size of the application, include in the project only those libraries that you need. <br>  Libraries from the app / libs / x86 folder need to be downloaded.  This is done in the initManager () method of the corresponding class.  For example, to use the ‚ÄúNexHDSample‚Äù, you need to load the appropriate x86 library in the aforementioned method of the NexHDManager class (app / src / NexHDManager.java) with the following code: <br>  System.loadLibrary ("NexHTTPDownloaderSample_jni"); <br><br><h2>  <font color="#0071c5">How to display video on the screen of an application designed for the x86 platform</font> </h2><br>  When working with the NexPlayer SDK, there are two ways to display video.  This is the use of NexVideoRenderer and OpenGL based output subsystems.  It is recommended to use NexVideoRenderer.  The point is that this subsystem provides a level of abstraction on complex operations of managing surfaces and video output tasks.  It selects the most appropriate way to output video based on the hardware of the device and the operating system installed on it. <br><br>  In order to use NexVideoRenderer, you need to do the following: <br><br><ol><li>  Pass the context (android.context.Context) to the constructor. </li><li>  Install event listeners (NexPlayer.IListener and NexPlayer.IVideoRendererListener). </li><li>  Create an instance of an object of the NexPlayer class. </li><li>  Make the necessary training NexPlayer (use the methods NexPlayer.setNexAlFactory and NexPlayer.init). </li><li>  Call the init method of the NexVideoRenderer class object (NexVideoRenderer.init). </li><li>  Add an instance of NexVideoRenderer as an interface element to the layout. </li></ol><br>  The NexVideoRenderer class code can be found among SDK usage examples at NexPlayerSample / src / com / nexstreaming / nexplayerengine / NexVideoRenderer.java <br><br><h2>  <font color="#0071c5">Streaming broadcast</font> </h2><br>  HTTP Live Streaming technology allows you to work with several audio and video streams.  The SDK supports this feature; its setMediaStream () API allows you to select streams for playback.  This can be done from the user interface while playing materials.  There are the following options for working with video and sound: <br><br><ol><li>  Use a playlist with various soundtrack options.  Video and sound with this approach can be selected independently. <br><br></li><li>  Use a playlist with various video options.  Each video clip being played contains both sound and video, but the user can select alternative video options.  For example, it may be material shot by a camera from different angles or from different points. <br><br></li><li>  The combination of lists of available audio tracks and video.  This is a mixture of the two options described above.  The main video stream provides video tracks in different bitrates, but reproduced with the same sound.  Additional audio tracks are also available, for example, in different languages. </li></ol><br><h2>  <font color="#0071c5">Analysis of performance and power consumption x86-applications NexPlayerDemoApp</font> </h2><br>  Below are the test results, during which the load on the system created by the NexPlayerDemoApp application at startup, simple, playing a local MP4 file and playing streaming video is estimated.  The application is developed using the NexPlayer SDK.  The VTune analyzer for Android was used for the analysis, as well as the Intel SoC Watch.  The tests were carried out on a tablet on which Android 4.4.2 was installed.  It is equipped with a 1.6 GHz Intel Atom Z3740 processor and Intel HD Graphics (Gen 7) graphics accelerator.  The device is connected to the Internet via Wi-Fi. <br><br>  <b>Measurement reference point for a device built on the Intel Atom Z3740 processor</b> <br><table><tbody><tr><td>  Batch processor status </td><td>  % of time spent in the specified state, core # 0 </td><td>  % of time spent in the specified state, core number 1 </td><td>  % of time spent in the specified state, core number 2 </td><td>  % of time spent in the specified state, core number 3 </td><td>  % of the time the graphics core </td></tr><tr><td>  C0 </td><td>  4.00 </td><td>  2.50 </td><td>  0.40 </td><td>  0.40 </td><td>  0.30 </td></tr><tr><td>  C6 </td><td>  95.00 </td><td>  95.10 </td><td>  98.30 </td><td>  98.10 </td><td>  99.50 </td></tr></tbody></table><br>  <b>NexPlayerDemoApp application in idle state</b> <br><table><tbody><tr><td>  Batch processor status </td><td>  % of time spent in the specified state, core # 0 </td><td>  % of time spent in the specified state, core number 1 </td><td>  % of time spent in the specified state, core number 2 </td><td>  % of time spent in the specified state, core number 3 </td><td>  % of the time the graphics core </td></tr><tr><td>  C0 </td><td>  4.80 </td><td>  3.70 </td><td>  1.2 </td><td>  0.90 </td><td>  0.00 </td></tr><tr><td>  C6 </td><td>  93.50 </td><td>  94.10 </td><td>  93.40 </td><td>  93.90 </td><td>  100.00 </td></tr></tbody></table><br>  The more time the Intel Atom Z3740 processor spends in the C0 state when the application is idle, the higher the power consumption.  In the case of NexPlayerDemoApp, the use of the processor is very close to the reference point of measurement, as a result - the inaction of the application does not create an unnecessary load on the system. <br><br>  <b>NexPlayerDemoApp application at startup</b> <br><table><tbody><tr><td>  Batch processor status </td><td>  % of time spent in the specified state, core # 0 </td><td>  % of time spent in the specified state, core number 1 </td><td>  % of time spent in the specified state, core number 2 </td><td>  % of time spent in the specified state, core number 3 </td><td>  % of the time the graphics core </td></tr><tr><td>  C0 </td><td>  4.80 </td><td>  3.70 </td><td>  1.2 </td><td>  0.90 </td><td>  0.90 </td></tr><tr><td>  C6 </td><td>  93.50 </td><td>  94.10 </td><td>  93.40 </td><td>  93.90 </td><td>  99.00 </td></tr></tbody></table><br>  These data are also very close to the reference point of measurement. <br><br><h2>  <font color="#0071c5">Playing local video</font> </h2><br>  When playing video, the x86 version of the NexPlayerDemoApp application uses, on average, 33% of processor power.  When analyzing this task, no anomalies were identified, and when it is executed, a uniform load is created on the processor. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cc6/bc8/c69/cc6bc8c6939fffa4ebf95c5e44b36d5f.png"><br>  <i><font color="#999999">The load on the processor created by the x86 NexPlayerDemoApp application when playing local video</font></i> <br><br><h2>  <font color="#0071c5">Streaming video playback</font> </h2><br>  When playing streaming video, the x86 version of the NexPlayerDemoApp application uses, on average, 25% processor power.  When analyzing this task, no anomalies were identified, and when it is executed, a uniform load is created on the processor. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/47d/f12/5a8/47df125a8fe26fe49333d506fb60c2b9.png"><br>  <i><font color="#999999">The load on the processor generated by the x86 NexPlayerDemoApp application when playing streaming video</font></i> <br><br><h2>  <font color="#0071c5">power usage</font> </h2><br>  The power consumption of the x86 version of the NexPlayerDemoApp application was approximately 3.8 watts.  Most of the time during the measurements, streaming video was played, there was a short period of inactivity.  The rest of the time was spent playing back the local video file. <br><br><h2>  <font color="#0071c5">NexPlayerDemoApp app on Android 5.0 Lollipop</font> </h2><br>  Find out how the demo application built using the NexPlayer SDK works on Android 5.0 Lollipop.  To test use the tablet Asus Fonepad 8 based on the CPU Intel Atom Z3530.  The device is connected to the Internet via Wi-Fi. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/883/d17/8f3/883d178f330dd2af7ac8ae6e9217641e.png" width="500"><br>  <i><font color="#999999">Application main screen</font></i> <br><br>  On the main screen of the application you can find several buttons: <br><br><ul><li>  History of views (History). </li><li>  Open URL - when you click on this button, a pop-up window appears to enter a link to the streaming video. </li><li>  Watch sample streams - clicking on this button opens a screen where you can select one of the offered videos for viewing. </li><li>  Play local files - after clicking on this button, the program shows a list of device folders that contain video files. </li></ul><br>  During the test, the application coped with its functions.  In particular, videos from various sources were played at the correct speed and without delays. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d4a/98c/04e/d4a98c04e2ccf2ee34a9309d83355bfe.png"><br>  <i><font color="#999999">Local video playback</font></i> <br><br><h2>  <font color="#0071c5">Results</font> </h2><br>  With the help of the NexPlayer SDK, you can quickly and easily develop applications whose main task is video playback.  In addition, the tests prove the efficiency and low power consumption of such applications on devices built on the x86 platform. </div><p>Source: <a href="https://habr.com/ru/post/264103/">https://habr.com/ru/post/264103/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../264089/index.html">5 clicks on the terminal screen - and any folder opens</a></li>
<li><a href="../264093/index.html">Social login: strengths</a></li>
<li><a href="../264097/index.html">Digest of grocery design, July 2015</a></li>
<li><a href="../264099/index.html">The magic of tensor algebra: Part 17 - Sketch of nut Janibekova</a></li>
<li><a href="../264101/index.html">Can information security increase revenue, increase customer loyalty, and solve other business problems?</a></li>
<li><a href="../264105/index.html">Each host branch with capistrano</a></li>
<li><a href="../264109/index.html">Starkon 2015 through the eyes of an indie developer</a></li>
<li><a href="../264113/index.html">Code contracts vs incoming data validation</a></li>
<li><a href="../264115/index.html">Creating a game on Blend4Web. Programmer's path</a></li>
<li><a href="../264117/index.html">Passing the Experience: The Jedi Path</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>