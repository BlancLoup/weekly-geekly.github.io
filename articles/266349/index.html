<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Practical training in pentest laboratories. Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="‚ÄúCorporate laboratories‚Äù is a training program in the field of information security, consisting of theoretical (webinar courses) and practical trainin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Practical training in pentest laboratories. Part 1</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/514/7e1/084/5147e1084f0840758f842ca35f7a5c33.jpg"><br><br>  <a href="https://www.pentestit.ru/labs/corp-lab">‚ÄúCorporate laboratories‚Äù</a> is a training program in the field of information security, consisting of theoretical (webinar courses) and practical training (work in pentest laboratories).  This article will consider the content of the practical base, which constitutes about 80% of the total training program.  The article contains a brief analysis of one of the tasks of practical training. <a name="habracut"></a><br><br>  According to many modern statistics collected during penetration testing, one of the important security problems are <a href="http://habrahabr.ru/company/pt/blog/255681/">weak</a> and <a href="http://www.acunetix.com/blog/articles/statistics-leaked-gmail-yandex-mail-ru-passwords/">repetitive</a> passwords, which, undoubtedly, is realized in the tasks of the laboratories.  Information gathered at one stage or host may be useful at another.  Any data can be decisive for a successful attack. <cut>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/ccd/e1c/484/ccde1c484c414376a272e99b8109d040.png"><br><br>  Work in corporate penetration testing laboratories involves the use of modern security software and relevant attack vectors.  After the announcement of the release of the popular version of the popular <a href="http://habrahabr.ru/company/defconru/blog/264541/">Kali Linux 2.0</a> security distribution, the training program, training material and methodical manuals were reworked to take into account the features of the new version - this way we support the relevance of the material. <br><br><img src="https://habrastorage.org/files/f6d/19b/4c3/f6d19b4c31584af6afad6845107dcb41.png"><br><br>  Let's return to the practical part of the program.  The first step, for both the pentester and the attacker, is to collect information about the system under attack.  As a rule, such information is collected using search queries and services, as well as specialized software.  The process of gathering information is quite painstaking; in addition, it is necessary to have an excellent understanding of the work of specialized tools in order not to miss potential ‚Äúentry points‚Äù to the system.  For example, in the default mode, the popular Nmap utility does not scan UDP ports.  Some do not know about it or simply ‚Äúlose sight of it‚Äù. <br><br><img src="https://habrastorage.org/files/fb6/d2f/3a7/fb6d2f3a77304ef28cbc22c32a5322fa.png"><br><br>  Potential "entry points" to the system can be located on such ports: IPsec (500 UDP) or SNMP (161 UDP).  These services can be subject to attacks by the communuty string (SNMP) and discovering IKE hosts (IPsec VPN Servers), and attacks on them can allow an attacker to obtain information about the company's network infrastructure and facilitate unauthorized access to the internal network. <br><br>  Intranet security is often a bottleneck.  Trying to focus the main efforts on ensuring the external perimeter, IT and IB specialists forget or intentionally weaken (for comfortable work of employees) the security of the internal network, allowing the intruder to get inside to feel quite at ease.  In our courses, we show MitM attacks and technology, and in such attacks, the situation is not quite typical.  The principle of the necessary attack is explained so that you can transfer the knowledge gained to test your network, taking into account the features of the architecture.  Attention is also paid to attacks on privilege escalation and expansion of influence within the local network.  For example, many admins do not know about the so-called.  <a href="http://www.securitylab.ru/blog/personal/evteev/38605.php">Kerberos Golden Ticket</a> , which allows an attacker to obtain the highest rights in the infrastructure under attack. <br><br><img src="https://habrastorage.org/files/005/814/386/005814386b844bf9bc53b5393a8cc879.jpg"><br><br>  The usual practice of such attacks is intercepting traffic to external resources; however, in Corporate Laboratories we try to focus on intercepting traffic between hosts on the same network ‚Äî such techniques are used by attackers to advance in the local network and capture new targets in the company's infrastructure. <br><br>  Often the rights inside the network are set incorrectly and little attention is paid to access control, the level of privileges.  And such moments are reflected in laboratories, for example: there is a certain Windows server with scheduled tasks for backing up critical information from folder A (working) to folder B (backup).  Users do not have access to folders even for reading files. <br><br><img src="https://habrastorage.org/files/280/e71/dba/280e71dbafdf46b5ab12705e9a4c4632.png"><br><br>  However, the service configuration file has incorrect permissions, which allows users to manipulate the output of this file and gain access to critical information.  Moreover, the config itself is encrypted, which adds more difficulty to the attacker (and more knowledge to the trainees). <br><br>  One of the frequent attack vectors are vulnerable web applications that are also implemented in laboratories: in one of the tasks, attackers find a site on Wordpress (which is very common in everyday life, including as the basis of a corporate blog).  One of the installed plugins contains a vulnerability, it is possible to upload files to the root of the web server.  Complicating the problem is the fact that the web server is located behind a NAT.  To successfully launch an attack, you need to select the correct payload - to exploit the vulnerability and get reverse shell from a web server on the local network. <br><br><img src="https://habrastorage.org/files/34e/1e1/20b/34e1e120b99a46da8a8a7a4ec143cc9a.png"><br>  Or one of the most dangerous vulnerabilities is the introduction of SQL statements, SQL injection.  This vulnerability is still found on the Internet, and sometimes on fairly large and secure projects.  Using such a vulnerability, a table with users is pulled out and a site admin panel is searched using a bruteforce attack to further fill the shell and conduct, for example, <a href="https://blogs.rsa.com/lions-at-the-watering-hole-the-voho-affair/">watering-hole attacks</a> on company employees, to implement phishing scripts. <br><br>  During the training in the <a href="https://www.pentestit.ru/labs/corp-lab">"Corporate laboratories"</a> specialist in a short time receives the following skills: <br><ul><li>  Awareness of current threats, vectors and attack scenarios; </li><li>  Understanding the actions of the attacker, methods and tactics of the attacks; </li><li>  The ability to recognize the attack and correctly counteract; </li><li>  Knowledge of security utilities and attack techniques; </li><li>  The ability to use the search for information (the curator does not give direct clues, but only a direction for reflection and finding a solution to the problem); </li><li>  The ability to use official documentation; </li><li>  Knowledge and understanding of the weakness of the default settings and their verification. </li></ul><br>  Throughout the course, each specialist is in full interaction with the instructors and the curator - he receives practical advice, answers to questions and advice, including on security issues in a particular situation. <br><br><img src="https://habrastorage.org/files/829/c4f/a2d/829c4fa2d8a246eab0a03ae4ad3362eb.png"><br><br>  The extensive practical experience of our employees, the analysis of current vulnerabilities and attack vectors makes it possible to make the learning process practical and exciting, keeping a ‚Äúhand on the pulse‚Äù and withstand modern cyber threats professionally and in time. <br><br><hr><br>  <a href="http://habrahabr.ru/company/pentestit/blog/266945/">Practical training in pentest laboratories.</a>  <a href="http://habrahabr.ru/company/pentestit/blog/266945/">Part 2</a> <br>  <a href="http://habrahabr.ru/company/pentestit/blog/267423/">Practical training in pentest laboratories.</a>  <a href="http://habrahabr.ru/company/pentestit/blog/267423/">Part 3</a> <br>  <a href="http://habrahabr.ru/company/pentestit/blog/267949/">Practical training in pentest laboratories.</a>  <a href="http://habrahabr.ru/company/pentestit/blog/267949/">Part 4</a> <br>  <a href="http://habrahabr.ru/company/pentestit/blog/268843/">Practical training in pentest laboratories.</a>  <a href="http://habrahabr.ru/company/pentestit/blog/268843/">Part 5</a> </cut></div><p>Source: <a href="https://habr.com/ru/post/266349/">https://habr.com/ru/post/266349/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../266339/index.html">How I tried to make friends with Google API with CodeIgniter A3M and what came of it</a></li>
<li><a href="../266341/index.html">The course "Basics of effective work with Wolfram technologies". Lesson 2.1: Introduction to the Wolfram Language, its features. The main difficulties of novice users. Work with the Mathematica interface and its capabilities</a></li>
<li><a href="../266343/index.html">Handling cloud traffic. Who needs network function virtualization (NFV)?</a></li>
<li><a href="../266345/index.html">A practical guide to hacking (and protecting) games on Unity</a></li>
<li><a href="../266347/index.html">Overview of segmentation algorithms</a></li>
<li><a href="../266351/index.html">Battered banality. As a schoolboy bot wrote</a></li>
<li><a href="../266353/index.html">Ansible and Rails - flexible replacement for Capistrano while maintaining familiar comfort</a></li>
<li><a href="../266355/index.html">Firebase queue: steroids for firebase</a></li>
<li><a href="../266357/index.html">100 out of 100 in Google PageSpeed ‚Äã‚ÄãInsights (Bug or feature)?</a></li>
<li><a href="../266359/index.html">In the guests' sitting "Grasshopper"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>