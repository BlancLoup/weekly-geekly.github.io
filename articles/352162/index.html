<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Thymeleaf Tutorial: Chapter 12. Embedding / Inlining</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Table of contents 

 12 Embedding / Inlining 
 12.1 Embedding / Expression inlining Expressions 
 Although the standard dialect allows us to do almost...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Thymeleaf Tutorial: Chapter 12. Embedding / Inlining</h1><div class="post__text post__text-html js-mediator-article">  <a href="https://habrahabr.ru/post/350862/">Table of contents</a> <br><br><h2>  12 Embedding / Inlining </h2><br><h3>  12.1 Embedding / Expression inlining Expressions </h3><br>  Although the standard dialect allows us to do almost everything using tag attributes, there are situations where we may prefer to write expressions directly in our HTML texts.  For example, we might prefer to write this: <br><a name="habracut"></a><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Hello, [[${session.user.name}]]!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  ‚Ä¶ instead of this: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Hello, <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${session.user.name}"</span></span></span><span class="hljs-tag">&gt;</span></span>Sebastian<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Expressions between <b>[[...]]</b> or <b>[(...)]</b> are considered to be inline expressions, and inside them we can use any expression that would also be valid in the <b>th: text</b> or <b>th: utext attribute</b> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Note that although <b>[[...]]</b> matches <b>th: text</b> (i.e. the result will be with HTML escaped / HTML-escaped), <b>[(...)]</b> matches <b>th: utext</b> and will not perform HTML escaping / Html escaping.  So with a variable such as msg = 'This is &lt;b&gt; great! &lt;/ B&gt;', given this snippet: <br><br><p>  The message is "[($ {msg})]" </p><br>  As a result, &lt;b&gt; tags will not be escaped, so the result is: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>The message is "This is <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span>great!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span>"<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  To avoid this: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>The message is "[[${msg}]]"<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  The result will be HTML shielded: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>The message is "This is <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span>great!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span>"<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Please note that the default text insert is active in the body of each tag in our markup - not the tags themselves, so we have nothing to do to turn it on (make it active). <br><br>  <b>Inset vs natural templates / Inlining vs natural templates</b> <br><br>  If you come from other template engines in which this method of text output is the norm, you may ask: why aren't we doing this from the very beginning?  This is less code than all those <b>th: text</b> attributes! <br><br>  But be careful, because although you may find embedding interesting, you should always remember that embedded expressions will appear verbatim in your HTML files when they are opened statically, so you probably cannot use them as design prototypes! <br><br>  The difference between how the browser will statically display our code snippet without using embedding: <br><br><pre> <code class="xml hljs">Hello, Sebastian!</code> </pre> <br>  ... and using embedding: <br><br><pre> <code class="xml hljs">Hello, [[${session.user.name}]]!</code> </pre> <br>  ... the difference in terms of design utility is quite obvious. <br><br>  <b>Disable embedding</b> <br><br>  However, this mechanism can be turned off, as there may actually be cases where we want to output sequences of <b>[[...]]</b> or <b>[(...)]</b> without processing the content as an expression.  For this we will use <b>th: inline = "none"</b> : <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:inline</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"none"</span></span></span><span class="hljs-tag">&gt;</span></span>A double array looks like this: [[1, 2, 3], [4, 5]]!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  The result will be: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>A double array looks like this: [[1, 2, 3], [4, 5]]!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h3>  12.2 Embedding text </h3><br>  Inserting text is very similar to the expression function you just saw, but in fact it adds more power.  The text must be included explicitly with <b>th: inline = "text"</b> . <br><br>  Inserting text not only allows us to use the same built-in expressions that we just saw, but actually processes the tags as if they were templates processed in the TEXT template mode, which allows us to execute the text logic of the template (and not just the output expressions) . <br><br>  We will see more about this in the next chapter about text pattern modes. <br><br><h3>  12.3 Embedding JavaScript </h3><br>  JavaScript inlining allows you to better integrate JavaScript &lt;script&gt; blocks into templates that are processed in HTML template mode. <br><br>  As with text insertion, this is actually equivalent to processing the contents of scripts, as if they were templates in JAVASCRIPT template mode, and therefore all the power of text template modes (see the next chapter) will be at hand.  However, in this section, we will focus on how we can use the mode to add the output of our Thymeleaf expressions to JavaScript blocks. <br><br>  This mode must be explicitly enabled using <b>th: inline = "javascript"</b> : <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:inline</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"><span class="undefined"> ... var username = [[${session.user.name}]]; ... </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  The result will be: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:inline</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> ... var username = </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"Sebastian \"Fruity\" Applejuice"</span></span></span><span class="actionscript">; ... </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Two important things need to be noted in the code below: <br><br>  First, this JavaScript insertion not only displays the required text, but also encloses quotes and shields the JavaScript content, so that the results of the expression are displayed as a well-formed JavaScript literal. <br><br>  Secondly, this is because we display the expression <b>$ {session.user.name}</b> as escaped, that is, using an expression with a double bracket: <b>[[$ {session.user.name}]]</b> .  If instead we used unescaped like: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:inline</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"><span class="undefined"> ... var username = [(${session.user.name})]; ... </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  The result would be: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:inline</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> ... var username = Sebastian </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"Fruity"</span></span></span><span class="actionscript"> Applejuice; ... </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  ... which is the wrong javascript code.  But outputting something uninsulated can be what we need if we create parts of our script by adding embedded expressions, so it‚Äôs good to have this tool at hand. <br><br>  <b>Natural JavaScript Templates</b> <br><br>  This intelligent JavaScript development engine is much more than just using JavaScript-specific escaping and displaying the results of an expression as valid literals. <br><br>  For example, we can wrap our (escaped) embedded expressions in JavaScript comments like this: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:inline</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> ... var username = </span><span class="hljs-comment"><span class="actionscript"><span class="hljs-comment">/*[[${session.user.name}]]*/</span></span></span><span class="actionscript"> </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"Gertrud Kiwifruit"</span></span></span><span class="actionscript">; ... </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  And Thymeleaf will ignore everything we wrote after the comment and to the semicolon (in this case, ‚ÄúGertrud Kiwifruit‚Äù), so the result of doing this will look exactly the same as if we did not use the comments: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:inline</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> ... var username = </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"Sebastian \"Fruity\" Applejuice"</span></span></span><span class="actionscript">; ... </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  But once again look at the original template code: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:inline</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> ... var username = </span><span class="hljs-comment"><span class="actionscript"><span class="hljs-comment">/*[[${session.user.name}]]*/</span></span></span><span class="actionscript"> </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"Gertrud Kiwifruit"</span></span></span><span class="actionscript">; ... </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Check out this valid javascript code.  And it will run perfectly when opening a template file in a static manner (without executing it on the server). <br><br>  So what we have here is a way to make natural javascript templates! <br><br>  <b>Advanced JavaScript embedding and serialization</b> <br><br>  It is important to note that JavaScript-inlining is that this execution of the expression is intellectual and is not limited to strings.  Thymeleaf will correctly write the following object types in JavaScript syntax: <br><br><ul><li>  Strings </li><li>  Numbers </li><li>  Booleans </li><li>  Arrays </li><li>  Collections </li><li>  Maps </li><li>  Beans (objects with getter and setter) </li></ul><br>  For example, the following code: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:inline</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> ... var user = </span><span class="hljs-comment"><span class="actionscript"><span class="hljs-comment">/*[[${session.user}]]*/</span></span></span><span class="actionscript"> </span><span class="hljs-literal"><span class="actionscript"><span class="hljs-literal">null</span></span></span><span class="actionscript">; ... </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  the expression <b>$ {session.user} is</b> converted to a User object, and Thymeleaf correctly converts it to Javascript syntax: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:inline</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> ... var user = {</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"age"</span></span></span><span class="actionscript">:</span><span class="hljs-literal"><span class="actionscript"><span class="hljs-literal">null</span></span></span><span class="actionscript">,</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"firstName"</span></span></span><span class="actionscript">:</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"John"</span></span></span><span class="actionscript">,</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"lastName"</span></span></span><span class="actionscript">:</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"Apricot"</span></span></span><span class="actionscript">, </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"name"</span></span></span><span class="actionscript">:</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"John Apricot"</span></span></span><span class="actionscript">,</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"nationality"</span></span></span><span class="actionscript">:</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"Antarctica"</span></span></span><span class="actionscript">}; ... </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  The way this JavaScript serialization is performed is the implementation of the org.thymeleaf.standard.serializer.IStandardJavaScriptSerializer interface, which can be configured in the StandardDialect instance used in the template engine. <br><br>  By default, the implementation of this JS serialization mechanism will look for the <b>Jackson</b> library in the classpath and, if present, will use it.  If not, it will use the built-in serialization mechanism, which will respond to the needs of most scenarios and produce similar results (but less flexibly). <br><br><h3>  12.4 CSS insert </h3><br>  Thymeleaf also allows you to use insert in CSS &lt;style&gt; tags, for example: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:inline</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"css"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"><span class="undefined"> ... </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  For example, let's say we have two variables set to two different String values: <br><br><pre> <code class="hljs mel">classname = <span class="hljs-string"><span class="hljs-string">'main elems'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">align</span></span> = <span class="hljs-string"><span class="hljs-string">'center'</span></span></code> </pre> <br>  We can use them: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:inline</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"css"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> .</span><span class="hljs-selector-attr"><span class="css"><span class="hljs-selector-attr">[[${classname}]</span></span></span><span class="css">] { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">text-align</span></span></span><span class="css">: [[${align}]]; } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  The result will be: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:inline</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"css"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.main</span></span></span><span class="css">\ </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">elems</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">text-align</span></span></span><span class="css">: center; } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Note that CSS embedding also has some intelligence, like JavaScript embedding.  In particular, expressions displayed using escaped expressions of the type <b>[[$ {classname}]]</b> will be escaped as CSS identifiers.  That's why our class = 'main elems' has turned into main \ elems in the code snippet above. <br><br>  <b>Advanced features: natural CSS templates, etc.</b> <br><br>  In the equivalent method described earlier for JavaScript, CSS inlining also allows our &lt;style&gt; tags to work both statically and dynamically, that is, as natural CSS templates by wrapping embedded expressions in comments.  See: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">th:inline</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"css"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.main</span></span></span><span class="css">\ </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">elems</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">text-align</span></span></span><span class="css">: </span><span class="hljs-comment"><span class="css"><span class="hljs-comment">/*[[${align}]]*/</span></span></span><span class="css"> left; } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> </div><p>Source: <a href="https://habr.com/ru/post/352162/">https://habr.com/ru/post/352162/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../352150/index.html">Keys in React. Cook properly</a></li>
<li><a href="../352152/index.html">Paul Graham: how to share shares in a startup</a></li>
<li><a href="../352156/index.html">Alan Kay (and Habr's collective intelligence): what books form the labor engineer's thinking</a></li>
<li><a href="../352158/index.html">CTF is not hard [NQ2K18]</a></li>
<li><a href="../352160/index.html">Thymeleaf Tutorial: Chapter 11. Comments and Blocks</a></li>
<li><a href="../352166/index.html">How is the assessment of the state of the object?</a></li>
<li><a href="../352168/index.html">REST services on ASP.NET Core under Linux in production</a></li>
<li><a href="../352170/index.html">OpenStreetMap News Digest</a></li>
<li><a href="../352172/index.html">Link Building for Bing - Unlike Google and Important Nuances</a></li>
<li><a href="../352174/index.html">FPGA accelerators go to the clouds</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>