<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Universal reusable data forms. Cooking and serving recipes</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Data in any application is the key to ease of understanding. Over time, a certain approach is developed for their selection, processing and updating. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Universal reusable data forms. Cooking and serving recipes</h1><div class="post__text post__text-html js-mediator-article">  Data in any application is the key to ease of understanding.  Over time, a certain approach is developed for their selection, processing and updating.  If processing data you still think about the form in which to store your data, how to choose from the list what you need - perhaps this approach will simplify your life.  The basic requirements for data storage might sound something like this: <br><br>  The structure is as close as possible to the relational one.  This form of data storage has gained popularity among developers and we will not refuse it. <br><br>  The data should provide ease of access to the main element by identifier.  Relationships with adjacent elements are based on the use of a secondary key as a pointer to the main element.  Quick access will be a plus. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Reuse data list.  Once a data slice is received, the opportunity should remain, accessing any of the elements by its primary key or coincidence with the value of one or several attributes, as well as the construction of lists from the sample. <br><br>  An additional bonus is the use of "on the fly" that will allow access to objects through several levels. <br><br>  Unambiguous support for the transition on any of the possible links: one to many, many to one and many to many.  The ability to quickly modify the logic of relationships with further changes to the data structure. <br><a name="habracut"></a><br>  After numerous trials and errors, I found a form that suited me a little less than completely.  Conventionally, let's call it the "main form."  Visually, the data of the main form can be represented by an array of keys which will be the values ‚Äã‚Äãof the auto-increment field of the table, and the values ‚Äã‚Äã- the list of fields of the entry of the selected table.  To select a similar structure from the database, we will use the function conditionally called rebuild (reassembly) rb (): <br><br>  pre (rb ("marks")); <br><br><pre><code class="hljs php"><span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>( [<span class="hljs-number"><span class="hljs-number">1</span></span>] =&gt; <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>([id] =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>, [name] =&gt; ) [<span class="hljs-number"><span class="hljs-number">2</span></span>] =&gt; <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>([id] =&gt; <span class="hljs-number"><span class="hljs-number">2</span></span>, [name] =&gt; ) [<span class="hljs-number"><span class="hljs-number">4</span></span>] =&gt; <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>([id] =&gt; <span class="hljs-number"><span class="hljs-number">4</span></span>, [name] =&gt; ) )</code> </pre> <br>  Unique auto-increment fields guarantee data record name conflicts.  They will further help in the formation of dynamic filters, so their use in the future is also justified. <br><br>  A related model table would look like this: <br><br>  pre (rb ("models")); <br><br><pre> <code class="hljs php"><span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>( [<span class="hljs-number"><span class="hljs-number">1</span></span>] =&gt; <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>([id] =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>, [marks_id] =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>, [name] =&gt; Volvo S60, [price] =&gt; <span class="hljs-number"><span class="hljs-number">1644000</span></span>) [<span class="hljs-number"><span class="hljs-number">2</span></span>] =&gt; <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>([id] =&gt; <span class="hljs-number"><span class="hljs-number">2</span></span>, [marks_id] =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>, [name] =&gt; Volvo V40, [price] =&gt; <span class="hljs-number"><span class="hljs-number">1309000</span></span>) [<span class="hljs-number"><span class="hljs-number">3</span></span>] =&gt; <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>([id] =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, [marks_id] =&gt; <span class="hljs-number"><span class="hljs-number">2</span></span>, [name] =&gt; CLS Shooting Brake, [price] =&gt; <span class="hljs-number"><span class="hljs-number">3520000</span></span>) )</code> </pre><br>  A further idea of ‚Äã‚Äãusing such constructions comes down to the sequential indication of the fields for which we select and the values ‚Äã‚Äãto be sampled.  The field is a text field, the keys of an array or numeric are considered a value for the sample.  In this case, the sampling of all the values ‚Äã‚Äãwe need can occur without carrying the code into the controller and can be done directly in the template. <br><br>  Display a list of models in which there is at least one brand and a list of these brands. <br><br><pre> <code class="hljs xml"><span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php"> </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">foreach</span></span></span><span class="php">(rb(</span><span class="hljs-string"><span class="php"><span class="hljs-string">"marks"</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">"id"</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">"id"</span></span></span><span class="php">, rb(</span><span class="hljs-string"><span class="php"><span class="hljs-string">"models"</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">"marks_id"</span></span></span><span class="php">)) </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">as</span></span></span><span class="php"> $marks): </span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span><span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php">=$marks[</span><span class="hljs-string"><span class="php"><span class="hljs-string">'name'</span></span></span><span class="php">]</span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php"> </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">foreach</span></span></span><span class="php">(rb(</span><span class="hljs-string"><span class="php"><span class="hljs-string">"models"</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">"marks_id"</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">"id"</span></span></span><span class="php">, $marks[</span><span class="hljs-string"><span class="php"><span class="hljs-string">'id'</span></span></span><span class="php">]) </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">as</span></span></span><span class="php"> $models): </span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span><span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php">=$models[</span><span class="hljs-string"><span class="php"><span class="hljs-string">'name'</span></span></span><span class="php">]</span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php"> </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">endforeach</span></span></span><span class="php">; </span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span> <span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php"> </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">endforeach</span></span></span><span class="php">; </span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span></code> </pre><br><img src="http://mpak.su/pages:img/null/list.png" alt="image"><br><br>  Such an approach makes it possible to implement simple linear logic with virtually no dependencies and is quickly modified.  The set of keys in the parameters of the reassembly function is the ease of perception of the functional and its modification. <br><br>  In this case, all Volvo models are selected as follows, where the brand identifier is obtained from the get page request: <br><br>  &lt;?  pre (rb ("models", "marks_id", "id", $ _GET ['marks_id']))?&gt; <br><br><pre> <code class="hljs php"><span class="hljs-keyword"><span class="hljs-keyword">Array</span></span> ( [<span class="hljs-number"><span class="hljs-number">1</span></span>] =&gt; <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>([id] =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>, [marks_id] =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>, [name] =&gt; Volvo S60, [price] =&gt; <span class="hljs-number"><span class="hljs-number">1644000</span></span>) [<span class="hljs-number"><span class="hljs-number">2</span></span>] =&gt; <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>([id] =&gt; <span class="hljs-number"><span class="hljs-number">2</span></span>, [marks_id] =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>, [name] =&gt; Volvo V40, [price] =&gt; <span class="hljs-number"><span class="hljs-number">1309000</span></span>) )</code> </pre><br>  Similarly, you can choose under other fields.  Sample model by its id is as follows: <br><br>  &lt;?  pre (rb ("models", "id", $ _GET ['id']))?&gt; where $ _GET ['id'] = 2; <br><br><pre> <code class="hljs php"><span class="hljs-keyword"><span class="hljs-keyword">Array</span></span> ( [<span class="hljs-number"><span class="hljs-number">2</span></span>] =&gt; <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>([id] =&gt; <span class="hljs-number"><span class="hljs-number">2</span></span>, [marks_id] =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>, [name] =&gt; Volvo V40, [price] =&gt; <span class="hljs-number"><span class="hljs-number">1309000</span></span>) )</code> </pre><br>  Choose one divided each brand: <br><br>  &lt;?  pre (rb ("models", "marks_id"))?&gt; <br><br><pre> <code class="hljs php"><span class="hljs-keyword"><span class="hljs-keyword">Array</span></span> ( [<span class="hljs-number"><span class="hljs-number">1</span></span>] =&gt; <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>([id] =&gt; <span class="hljs-number"><span class="hljs-number">2</span></span>, [marks_id] =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>, [name] =&gt; Volvo V40, [price] =&gt; <span class="hljs-number"><span class="hljs-number">1309000</span></span>) [<span class="hljs-number"><span class="hljs-number">2</span></span>] =&gt; <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>([id] =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, [marks_id] =&gt; <span class="hljs-number"><span class="hljs-number">2</span></span>, [name] =&gt; CLS Shooting Brake, [price] =&gt; <span class="hljs-number"><span class="hljs-number">3520000</span></span>) )</code> </pre><br>  Similarly, the treatment is made from the model to the brand of car. <br><br><pre> <code class="hljs xml"><span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php"> </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">if</span></span></span><span class="php">($models = rb(</span><span class="hljs-string"><span class="php"><span class="hljs-string">"models"</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">"id"</span></span></span><span class="php">, $_GET[</span><span class="hljs-string"><span class="php"><span class="hljs-string">'id'</span></span></span><span class="php">])): </span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span> <span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php"> pre(rb(</span><span class="hljs-string"><span class="php"><span class="hljs-string">"marks"</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">"id"</span></span></span><span class="php">, $models[</span><span class="hljs-string"><span class="php"><span class="hljs-string">'marks_id'</span></span></span><span class="php">])); </span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span> <span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php"> </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">else</span></span></span><span class="php">: pre(</span><span class="hljs-string"><span class="php"><span class="hljs-string">"  "</span></span></span><span class="php">); </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">endif</span></span></span><span class="php">; </span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span></code> </pre><br><pre> <code class="hljs php"><span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>( [<span class="hljs-number"><span class="hljs-number">1</span></span>] =&gt; <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>([id] =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>, [name] =&gt; ) )</code> </pre><br>  Despite some drawbacks, this approach allows for 90% to close requests to data using the standard first form. <br>  I hope this approach has helped someone to make life easier, and the data is clearer.  Simplifies life that you always get a form similar to the one you would get without parameters.  The application logic becomes significantly predictable. <br><br>  Well, actually the <a href="https://github.com/mpak2/mpak.su/blob/master/include/mpfunc.php">implementation of this function</a> . </div><p>Source: <a href="https://habr.com/ru/post/279029/">https://habr.com/ru/post/279029/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../279017/index.html">Bitrix, HMVC and a bit of nonsense ...</a></li>
<li><a href="../279019/index.html">Emoji appeared on Github: reactions to pull requests, bugs and comments</a></li>
<li><a href="../279021/index.html">Experiment: Using Google Trends to predict stock market crashes</a></li>
<li><a href="../279023/index.html">CI DIY for Unity3D</a></li>
<li><a href="../279025/index.html">Parametric identification of a linear dynamic system</a></li>
<li><a href="../279031/index.html">RetroShare - a tool for private communication and data sharing</a></li>
<li><a href="../279033/index.html">Seminar ‚ÄúConvergent computing platforms on guard of IT budgets. Example of implementation: "SCALA-R"</a></li>
<li><a href="../279035/index.html">Vision-based SLAM: stereo and depth-SLAM</a></li>
<li><a href="../279037/index.html">Tasktop now officially introduced in Russia</a></li>
<li><a href="../279041/index.html">Updated online courses Mail.Ru Group and interviews with their creators</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>