<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Vsem Pro Server or VPS Large-Scale Testing</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I myself have not used the services of domestic hosting providers for a long time and for my own use I rent a server in Germany. And one wonderful mor...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Vsem Pro Server or VPS Large-Scale Testing</h1><div class="post__text post__text-html js-mediator-article">  I myself have not used the services of domestic hosting providers for a long time and for my own use I rent a server in Germany.  And one wonderful morning I decided to check how high-quality those services that Russian hosting providers offer us and for this it was decided to select several domestic VPS, install the necessary software on them, test site and conduct large-scale load testing. <br><br>  For testing, 7 domestic hosting providers providing test period services for VPS (VDS) were selected randomly, which I could not use for my own good purposes.  The cost of a VPS varies from 500 to 700 rubles and belongs to the budget segment.  So, our applicants: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8a1/41e/732/8a141e73297e22d8cfe7201fc18007a1.jpg" alt="image"><br><a name="habracut"></a><br><h4>  Testing methodology: </h4><br>  The testing method is simple - we send tons of requests to the WEB server from a remote server and see how the VPS behaves.  We can say that this is a small DDos. <br>  As an attacker, I used my rented server in Germany in the following configuration: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  Intel i7 2600 Quad-Core + Hyper-Threading; </li><li>  32 GB of RAM; </li><li>  1 Gbit channel. </li></ul><br>  All tested VPSs have an OS installed - Debian 7 x64.  In cases where the hoster does not support this OS, another OS is used, as indicated above in the description of applicants. <br>  Basic installed software on a VPS (Debian 7): <br><br><ul><li>  Apache 2.2.22; </li><li>  PHP 5.4; </li><li>  MySQL 5.5. </li></ul><br>  Basic VPS Installed Software (Debian6): <br><br><ul><li>  Apache 2.2.16; </li><li>  PHP 5.3; </li><li>  MySQL 5.1. </li></ul><br>  To obtain the most accurate results, identical conditions were created for all VPS: I installed all the software myself.  WEB servers run on bare Apache (NGINX and other amenities were not installed), all configs by default.  All VPS was installed Joomla 3.1.5 with demo data blog.  Apache Benchmark version 2.3 was used as software for the test itself. <br><br>  For each VPS, testing was carried out in 3 stages: <br><br><ol><li>  The first stage - 30 threads and 500 requests. </li><li>  The second stage - 50 threads and 1,000 requests. </li><li>  The third stage - 100 threads and 10,000 requests. </li></ol><br>  The number of streams can be equated to the site visitors, and the number of requests for requests from these visitors to the VPS WEB server. <br>  For example, the first stage can be represented as 30 users on the site at the same time and in total made 500 requests to the WEB server. <br><br>  Each stage was run 3 times and the average values ‚Äã‚Äãfrom the test results were used as the result. <br>  The table took into account the main, in my opinion, parameters: <br><br><ul><li>  Failed requests - the number of requests that the VPS could not process. </li><li>  Requests per second - everything is clear from the name; the more requests per second are processed by the WEB server, the higher its speed. </li><li>  The execution time of 1 request (... across all concurrent requests) - the smaller this value is, the faster the WEB server processes requests and the higher the overall speed. </li><li>  Time to complete all requests (Time per request) - total time to process all requests sent to the WEB server.  The lower the value, the better. </li><li>  Connection Time - consists of <br><br>  a.  Connect string: - the time that the utility spent on connecting to the server. <br>  b.  Processing line: - the request execution time. <br>  c.  Line Waiting: - request idle time.  That is, the time that the request waited for its turn to complete. <br>  d.  Total string - Total time. <br><br>  As a result, I present the totals of the Total line.  The first value is the minimum, the second is the maximum.  The parameter shows how long the slowest and fastest request was executed.  The smaller these figures, the server processes requests faster. </li><li>  The total time per test (Time taken for tests) is often the same as the total processing time for all requests.  The lower the value, the better. </li></ul><br><br>  The test does not give an assessment of such characteristics as the disk subsystem, the volume of the external channel, the cost and the quality of the additional services. <br><br><h4>  Testing: </h4><br>  <b>First round: 30 stream and 500 requests.</b> <br>  And in the very first test VPS from 1gb.ru could not process even 100 requests.  It‚Äôs hard to say what it‚Äôs about, I didn‚Äôt have a goal to understand the reasons for such a fatal speech of this candidate, so we‚Äôre going further. <br><br>  The following challenger from Timeweb proved to be much better and coped with the task with little effort, having processed all the requests sent to its WEB server: <br><br><table><tbody><tr><th>  Failed requests </th><th>  Number of requests per second </th><th>  Lead time 1 request </th><th>  Execution time of all requests </th><th>  Connection time </th><th>  Total time </th></tr><tr><td>  0 </td><td>  6.2 </td><td>  161.3 ms </td><td>  4758 ms </td><td>  1616 - 8988 ms. </td><td>  79.6 seconds </td></tr></tbody></table><br>  Next, the VPS from Agava ‚Äúattacked‚Äù, which also successfully coped with its task: <br><table><tbody><tr><th>  Failed requests </th><th>  Number of requests per second </th><th>  Lead time 1 request </th><th>  Execution time of all requests </th><th>  Connection time </th><th>  Total time </th></tr><tr><td>  0 </td><td>  10.1 </td><td>  99.1 ms </td><td>  2981 ms </td><td>  827 - 5373 ms. </td><td>  49.5 seconds </td></tr></tbody></table><br>  The next challenger is the infobox: <br><table><tbody><tr><th>  Failed requests </th><th>  Number of requests per second </th><th>  Lead time 1 request </th><th>  Execution time of all requests </th><th>  Connection time </th><th>  Total time </th></tr><tr><td>  0 </td><td>  3.4 </td><td>  291.7 ms </td><td>  8750 ms </td><td>  1524 - 10142 ms. </td><td>  145.8 seconds </td></tr></tbody></table><br>  Following in fact showed himself hosting from It-mcp: <br><table><tbody><tr><th>  Failed requests </th><th>  Number of requests per second </th><th>  Lead time 1 request </th><th>  Execution time of all requests </th><th>  Connection time </th><th>  Total time </th></tr><tr><td>  0 </td><td>  2.3 </td><td>  436.4 ms </td><td>  13091 ms </td><td>  2662 - 15462 ms. </td><td>  218 sec. </td></tr></tbody></table><br>  The penultimate candidate is Fozzy: <br><table><tbody><tr><th>  Failed requests </th><th>  Number of requests per second </th><th>  Lead time 1 request </th><th>  Execution time of all requests </th><th>  Connection time </th><th>  Total time </th></tr><tr><td>  0 </td><td>  5.3 </td><td>  189.5 ms </td><td>  5685 ms </td><td>  1304 - 7210 ms. </td><td>  94.7s </td></tr></tbody></table><br>  And completes the first stage of testing VDS24.net: <br><table><tbody><tr><th>  Failed requests </th><th>  Number of requests per second </th><th>  Lead time 1 request </th><th>  Execution time of all requests </th><th>  Connection time </th><th>  Total time </th></tr><tr><td>  0 </td><td>  10.4 </td><td>  96.5 ms </td><td>  2895 ms </td><td>  919 - 4941 ms. </td><td>  48.3 seconds </td></tr></tbody></table><br>  Let's summarize the first intermediate result: <br>  All VPS, except 1gb, coped with the task, so 1gb is eliminated from further tests.  The leader in speed, after the first stage, is the VDS24, in second place is the VPS from Agava.  Go to round 2. <br><br>  <b>Second round: 50 streams and 1000 requests.</b> <br><br>  <b>Timeweb:</b> <br><table><tbody><tr><th>  Failed requests </th><th>  Number of requests per second </th><th>  Lead time 1 request </th><th>  Execution time of all requests </th><th>  Connection time </th><th>  Total time </th></tr><tr><td>  449 </td><td>  4.6 </td><td>  218.4 ms </td><td>  10919.5 ms </td><td>  538 - 38114 ms. </td><td>  218.4 seconds </td></tr></tbody></table><br>  In the second round, Timeweb could not cope with the task and was able to process only a little more than half of the requests. <br><img src="https://habrastorage.org/getpro/habr/post_images/6b3/2ec/e97/6b32ece97c67b3e6964bbf8e5f59645d.jpg" alt="image"><br>  Agava: <br><table><tbody><tr><th>  Failed requests </th><th>  Number of requests per second </th><th>  Lead time 1 request </th><th>  Execution time of all requests </th><th>  Connection time </th><th>  Total time </th></tr><tr><td>  0 </td><td>  7.6 </td><td>  131.5 ms </td><td>  6574.7 ms </td><td>  635 - 9781 ms. </td><td>  131.5 seconds </td></tr></tbody></table><br>  Infobox: <br><table><tbody><tr><th>  Failed requests </th><th>  Number of requests per second </th><th>  Lead time 1 request </th><th>  Execution time of all requests </th><th>  Connection time </th><th>  Total time </th></tr><tr><td>  0 </td><td>  3.4 </td><td>  291.3 ms </td><td>  14563.8 ms </td><td>  2018 - 16325 ms. </td><td>  291.3 seconds </td></tr></tbody></table><br>  It-mcp: <br><table><tbody><tr><th>  Failed requests </th><th>  Number of requests per second </th><th>  Lead time 1 request </th><th>  Execution time of all requests </th><th>  Connection time </th><th>  Total time </th></tr><tr><td>  0 </td><td>  2.3 </td><td>  436.6 ms </td><td>  21827.7 ms. </td><td>  2548 - 24240 ms. </td><td>  436.6 seconds </td></tr></tbody></table><br>  Fozzy: <br><table><tbody><tr><th>  Failed requests </th><th>  Number of requests per second </th><th>  Lead time 1 request </th><th>  Execution time of all requests </th><th>  Connection time </th><th>  Total time </th></tr><tr><td>  0 </td><td>  5.5 </td><td>  182.7 ms </td><td>  9133.7 ms </td><td>  1620 - 11103 ms. </td><td>  182.7 seconds </td></tr></tbody></table><br>  VDS24: <br><table><tbody><tr><th>  Failed requests </th><th>  Number of requests per second </th><th>  Lead time 1 request </th><th>  Execution time of all requests </th><th>  Connection time </th><th>  Total time </th></tr><tr><td>  0 </td><td>  9.6 </td><td>  104 ms. </td><td>  5202.3 ms. </td><td>  987 - 10296 ms. </td><td>  104 seconds </td></tr></tbody></table><br>  According to the results of the second stage of testing, the VDS24 still leads with a small margin, Agava breathes in its back.  At the tail end of the list is It-mcp. <br><br>  <b>Third round: 100 threads and 10,000 requests.</b> <br>  Timeweb: <br>  In the third round, Timeweb for all 3 attempts tightly fell MySQL and Apache gave a sad message: Error displaying the error page: Application Instantiation Error.  The test site came to life only after MySQL restart.  In the third stage, Timeweb VPS from the ranks of the lagging behind, along with 1gb. <br>  Agava: <br><table><tbody><tr><th>  Failed requests </th><th>  Number of requests per second </th><th>  Lead time 1 request </th><th>  Execution time of all requests </th><th>  Connection time </th><th>  Total time </th></tr><tr><td>  0 </td><td>  7.6 </td><td>  125.8 ms </td><td>  12576 ms </td><td>  606 - 15627 ms. </td><td>  1257.6 seconds </td></tr></tbody></table><br>  Infobox: <br><table><tbody><tr><th>  Failed requests </th><th>  Number of requests per second </th><th>  Lead time 1 request </th><th>  Execution time of all requests </th><th>  Connection time </th><th>  Total time </th></tr><tr><td>  0 </td><td>  3.4 </td><td>  292.2 ms </td><td>  29216.5 ms </td><td>  1576 - 35362 ms. </td><td>  2921.6 seconds </td></tr></tbody></table><br>  It-mcp: <br><table><tbody><tr><th>  Failed requests </th><th>  Number of requests per second </th><th>  Lead time 1 request </th><th>  Execution time of all requests </th><th>  Connection time </th><th>  Total time </th></tr><tr><td>  0 </td><td>  2.3 </td><td>  4396.1 ms </td><td>  43961.3 ms </td><td>  2683 - 81978 ms. </td><td>  4396.1 seconds </td></tr></tbody></table><br>  Fozzy: <br><table><tbody><tr><th>  Failed requests </th><th>  Number of requests per second </th><th>  Lead time 1 request </th><th>  Execution time of all requests </th><th>  Connection time </th><th>  Total time </th></tr><tr><td>  0 </td><td>  5.2 </td><td>  1910.3 ms </td><td>  19103.4 ms </td><td>  1488 - 23609 ms. </td><td>  1910.3 sec </td></tr></tbody></table><br>  VDS24: <br>  We approached our leader of the first two stages.  And here we are disappointed.  VDS24 at all three attempts tightly hung, managing to process only slightly more than 2000 requests. <br><br>  This completes the third testing phase. <br><br><h4>  Results: </h4><br>  The winner of our testing, which demonstrated quite good performance and fault tolerance, was announced by Agava VPS. <br>  The outsider of our test, of course, was VPS from 1gb, which was able to cope with only 10 threads and 50 requests. <br>  The final table looks like this: <br><br><ol><li>  Agava </li><li>  Despite the failure in the last test, I give second place to VDS24 </li><li>  Fozzy </li><li>  Infobox </li><li>  It-mcp </li><li>  Timeweb </li><li>  1gb </li></ol><br>  For the experiment, an attempt was made to test the possibilities of the VPS that had not yet dropped out of the race.  They were sent to the load 300 threads and 50,000 requests.  I will say right away that no one has managed to cope with such a load. <br><br>  Of course, we were able to test far from all the VPS that are on the market, as well as the speed and resiliency can be significantly improved by properly configuring the VPS, but the potential was well traced in this test.  As it turned out, not always performance rests on megahertz and the amount of RAM. <br><br>  You can view the summary table of test results <a href="https://www.dropbox.com/s/e5g7gdpskdg8u4k/VPS_test.xlsx">here</a> . </div><p>Source: <a href="https://habr.com/ru/post/213531/">https://habr.com/ru/post/213531/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../213521/index.html">The increase in budgetary places in IT specialties in universities of the Russian Federation in the 2015-2016 academic year</a></li>
<li><a href="../213523/index.html">DdTypograph 2.0b snippet on EMT lib 3.2 (MODX Evo)</a></li>
<li><a href="../213525/index.html">Adam Langley explained the reasons for the bug in iOS: an extra line of code broke all security</a></li>
<li><a href="../213527/index.html">The history of game consoles in advertising. Part 1: From Magnavox Odyssey to Super Nintendo</a></li>
<li><a href="../213529/index.html">Challenge for $ 500. Part two, about money</a></li>
<li><a href="../213537/index.html">Encrypted communication tunnel via VK (RSA + GreaseMonkey)</a></li>
<li><a href="../213539/index.html">The digest of interesting materials from the world of web development and IT for the last week ‚Ññ97 (February 16 - 22, 2014)</a></li>
<li><a href="../213541/index.html">NetBeans IDE 8.0 Beta released</a></li>
<li><a href="../213545/index.html">War Space</a></li>
<li><a href="../213549/index.html">Box2d: Collision Anatomy</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>