<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>AppCode 2016.2: new refactorings and inspections, live templates, improvements to code autocompletion, and all this is about Swift</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! 

 Recently released AppCode 2016.2 , a new release of our IDE for iOS / OSX development. Under the cat a lot of gifs and reflections on aut...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>AppCode 2016.2: new refactorings and inspections, live templates, improvements to code autocompletion, and all this is about Swift</h1><div class="post__text post__text-html js-mediator-article">  Hi, Habr! <br><br>  Recently released <b>AppCode 2016.2</b> , a new release of our IDE for iOS / OSX development.  Under the cat a lot of gifs and reflections on automated refactorings in Objective-C and Swift. <br><br><img src="https://habrastorage.org/files/eb3/fd5/c87/eb3fd5c879f9442d8518716552667b7d.png" width="600"><br><a name="habracut"></a><br><h1>  Swift </h1><br><h2>  Introduce Variable </h2><br>  <b>Introduce Variable</b> (also <b>known</b> as <b>Extract Variable</b> ) is a local refactoring that allows you to automatically extract part of a complex expression into a local variable.  Of course, this can be done manually.  Print the name of the variable, type it in, assign the necessary expression to it, manually fix everything in the code, check that you didn‚Äôt forget to fix every occurrence ... Good habit, and I remember from my own experience, when developing for iOS, it is produced quite quickly. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The truth is that this work is routine, and routine tasks are always better automated.  For Objective-C, this refactoring was implemented in AppCode for a long time.  By the way, an interesting effect of its frequent use is unwillingness to write variable names yourself and generally begin a line of code with the usual ‚Äúvariable type - variable name‚Äù. <br><br>  After all, you can first write an expression - and then automatically select it into a variable by selecting a hint for its name or typing your own: <br><br><img src="https://habrastorage.org/files/247/483/469/24748346945e4f7cacfb352082c0c0bf.gif" width="600"><br><br>  To implement <b>Introduce Variable</b> for Swift, we had to learn how to handle a huge number of language constructs - after all, to extract a variable, we need to know its type, and this is just one of the conditions. <br><br>  By default, the constant is always retrieved, and you can change the <b>let</b> to <b>var</b> in a pop-up window: <br><br><img src="https://habrastorage.org/files/dd5/97f/e33/dd597fe33b824828bda43f573c2a1ae5.gif" width="600"><br><br>  Well, to make it even easier, you can optionally automatically substitute the type of a variable: <br><br><img src="https://habrastorage.org/files/34d/ef9/f18/34def9f1816748d599e0a7c5c7192548.gif" width="600"><br><br>  By the way, you don‚Äôt need to replace all entries in the code with your hands - AppCode will do it by itself: <br><br><img src="https://habrastorage.org/files/eed/818/ac9/eed818ac9ec242b6adf508589f7700c7.gif" width="600"><br><br><h2>  Errors and warnings in the code editor window </h2><br>  When you write code, you want to see all errors and warnings right away.  And in any case, not after compilation.  In this version, we decided to integrate <b>SourceKit</b> to display errors and warnings in the editor: <br><br><img src="https://habrastorage.org/files/867/996/5c0/8679965c0319482389d48f31a6e81a65.gif" width="600"><br><br>  And also to enable our users to use the same quick fixes that Xcode issues: <br><br><img src="https://habrastorage.org/files/a65/4ed/0b6/a654ed0b6d424c56be420bb6b1f93903.gif" width="600"><br><br>  In fact, in AppCode, SourceKit is used as an external code linter, and in the meantime we continue to work on new code generation features using the IntelliJ platform. <br><br><h2>  Spell checker </h2><br>  It would seem that typos in the source code or comments are not so important - after all, they have absolutely no effect on the performance of the library or application.  But what if the project becomes public and all these typos fall into the automatically generated source-based documentation?  In this case, it is necessary to avoid them, and manually checking a large amount of code is a thankless task. <br><br>  Now, AppCode is looking for typos in the comments to the code on Swift, as well as in the source code itself - the names of variables, classes and even parts of them, helping to quickly make corrections: <br><br><img src="https://habrastorage.org/files/f07/e31/3c7/f07e313c7abe4431ae314cbded03ecb3.gif" width="600"><br><br>  In Objective-C, as in C ++, this is also possible.  Moreover, it is one of the mechanisms of the IntelliJ platform, adapted for a specific programming language.  In more detail how work with inspections of a code is arranged in AppCode, it is possible to read <a href="https://confluence.jetbrains.com/display/OBJC/Inspections">here</a> . <br><br><h2>  Live Templates </h2><br>  <b>Live Templates</b> are our source code templates.  The point is to give the ability to quickly insert a fragment of the source code by abbreviation, an analogue of snippets in Xcode.  What is the difference?  For example, using <b>Live Templates</b> can be done like this: <br><br><img src="https://habrastorage.org/files/eca/c21/ef6/ecac21ef6704480f906429faea48a5a5.gif" width="600"><br><br>  By the way, for Objective-C, the analog is the built-in template with <b>each</b> abbreviation: <br><br><img src="https://habrastorage.org/files/827/4fe/b06/8274feb06daa4d23aac6cea18cb65836.gif" width="600"><br><br>  What is the magic?  The fact that the input fields of values ‚Äã‚Äãin the AppCode can be sprite.  For example, copy the value of the input value from one field to another.  Or ‚Äî as in the <b>for</b> template ‚Äî to make the input field look for arrays in its neighborhood by which to iterate.  The possibilities are not limitless, but they are - and you can read more about them <a href="https://confluence.jetbrains.com/display/OBJC/Live%2BTemplates">here</a> . <br><br>  The second basic difference is the ability to wrap the selected fragment of the source code in any expression ( <b>Surround With</b> templates): <br><br><img src="https://habrastorage.org/files/395/9b2/e63/3959b2e632324c75a6255c03482cca9c.gif" width="600"><br><br>  In AppCode 2016.2, we added support for all these mechanisms for Swift and made a basic set of templates, similar to the snippet in Xcode. <br><br><h2>  Input fields for autocompletion </h2><br>  In Objective-C and Swift code there are parameter names - this is the specificity of the language.  Manually inserting them is inconvenient, so another basic feature added to this release is the automatic insertion of parameter names and fields for entering values ‚Äã‚Äãwhen autocompleting functions and methods in Swift: <br><br><img src="https://habrastorage.org/files/88e/01c/eef/88e01ceef1fe48d4acf8fe23f0a8e025.gif" width="600"><br><br><h1>  Objective c </h1><br><h2>  Complete statement </h2><br>  Among the types of code completion in JetBrains products, it is possible to quickly complete a specific construction in the code: insert a semicolon (even if the cursor is not at the end of the expression), round or curly braces and immediately go on to the next expression.  In this version, we have thoroughly refined this type of autocompletion, and now it works like this: <br><br><img src="https://habrastorage.org/files/c5f/9e0/842/c5f9e0842dd74f4baa1e1d567da6670d.gif" width="600"><br><br><h2>  Documentation </h2><br>  We were asked a long time ago to generate document comments for methods and functions in Objective-C, and most requests were limited to a request for functionality similar to VVDocumenter.  And if, in our understanding, ‚Äúproperly done support of documentation for Objective-C in AppCode‚Äù would be limited to the action ‚Äúinsert comment template with prefilled parameters‚Äù, then we would have done it a long time ago - like this: <br><br><img src="https://habrastorage.org/files/e2f/83d/de3/e2f83dde3dc8401a877bc832529032c3.gif" width="600"><br><br>  By the way, autocompletion of parameter names and documentation tags also works: <br><br><img src="https://habrastorage.org/files/989/212/ba3/989212ba35b24c988e92aa8379749bde.gif" width="600"><br><br>  But this is not enough.  The documentation needs to be updated, and anyone who has documented his project at least once knows that making yourself update a comment written once is much more difficult than writing it the first time.  Therefore, we implemented the processing of comments in the code so that <b>Rename</b> for parameter names (as it seems to us, the most frequent case of changes) worked correctly: <br><br><img src="https://habrastorage.org/files/ddd/204/766/ddd20476616746fba6efe70b145a04a3.gif" width="600"><br><br>  Extra bonus - the display of such comments in the <b>Quick Documentation</b> window has been greatly improved. <br><br><h2>  Rename refactoring in mixed code </h2><br>  Swift is a new, actively developing language.  But for a long time, it will exist side by side with Objective-C, and developers will use them together.  Therefore, we say ‚Äúrefactorings in Swift‚Äù, but in reality in most cases we mean ‚Äúrefatorings in mixed code‚Äù.  In AppCode, <b>Rename</b> has been around for quite some time, both for Swift and for Objective-C entities used from Swift.  In this version, we worked on <b>Rename</b> for methods of Swift classes used from Objective-C. <br><br>  When a class method in Swift does not contain any additional attributes, it is easy to rename it, since the name in Objective-C is the same as the method name in Swift: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5c0/e8c/203/5c0e8c2037a083759bc93f55d013d7be.gif" width="900"><br><br>  Everything becomes much more interesting if the method has an alias, made using the <b>@objc</b> annotation.  In this case, when <b>Rename is</b> called from Objective-C, AppCode will determine the name of the function in Swift and will change it: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ae0/6c9/e76/ae06c9e76f1722fb1aeb76eabe78e17d.gif" width="900"><br><br>  Another interesting case is the presence of an external name for the function parameter in Swift.  For example, for the function <code>function(extParam param:String)</code> corresponding method in Objective-C will be called <code>functionWithExtParam</code> .  And we also handle such a case correctly: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7d6/631/f54/7d6631f54ecf287020946d210d556f58.gif" width="900"><br><br>  While these features are implemented only for methods and classes, in the future we plan to do the same for class fields. <br><br><h2>  Code formatting </h2><br>  You can write a separate article about code formatting settings in AppCode, but we just briefly note that for Objective-C / C / C ++ two new predefined formatting styles have been added - <a href="http://llvm.org/docs/CodingStandards.html">LLVM</a> and <a href="http://lldb.llvm.org/lldb-coding-conventions.html">LLDB</a> . <br><br><h2>  Demo </h2><br>  A small demo (in English) with a demonstration of new features: <br><iframe width="560" height="315" src="https://www.youtube.com/embed/b6d_mgclcHk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  All platform changes are well described <a href="https://habrahabr.ru/company/JetBrains/blog/306028/">in the post</a> <a href="https://habrahabr.ru/users/anastasiak2512/" class="user_link">anastasiak2512</a> , in it you can read about new features for generating code for C ++ ( <b>Generate operators</b> and <b>Generate definitions</b> ).  Traditionally, they are all available in the AppCode. <br><br>  That's all.  Read about other features of the product <a href="https://www.jetbrains.com/objc/whatsnew/">on our website</a> , stay tuned to our <a href="http://blog.jetbrains.com/objc/">English-language blog</a> , and ask any questions you may have in the comments to this post. </div><p>Source: <a href="https://habr.com/ru/post/306738/">https://habr.com/ru/post/306738/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../306726/index.html">Youtube Player - creating your own JavaScript player</a></li>
<li><a href="../306728/index.html">PostgreSQL. How to keep cats or the history of one migration</a></li>
<li><a href="../306732/index.html">Bottom navigation</a></li>
<li><a href="../306734/index.html">Migration to the cloud. Simple steps to improve business performance</a></li>
<li><a href="../306736/index.html">Graphic password does not allow the viewer to steal himself.</a></li>
<li><a href="../306742/index.html">Responsive Search for UITableView</a></li>
<li><a href="../306744/index.html">Personal ranking of deputies each using JavaScript and Chrome browser</a></li>
<li><a href="../306746/index.html">Basics of reactive programming for Android on a practical example</a></li>
<li><a href="../306748/index.html">Space error: $ 370 000 000 for Integer overflow</a></li>
<li><a href="../306754/index.html">Security Week 30: PHP-porn vulnerability, eavesdropping on keyboards, UAC bypass in Windows 10</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>