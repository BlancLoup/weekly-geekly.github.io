<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Unicode: the necessary practical minimum for each developer</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Unicode is a very large and complex world, because the standard allows us to represent and work on a computer with all the major scripts of the world....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Unicode: the necessary practical minimum for each developer</h1><div class="post__text post__text-html js-mediator-article">  Unicode is a very large and complex world, because the standard allows us to represent and work on a computer with all the major scripts of the world.  Some writing systems have existed for over a thousand years, and many of them developed almost independently from each other in different parts of the world.  People invented so much and it is often so different from each other that to combine all this into a single standard was an extremely difficult and ambitious task. <br><br>  To really deal with Unicode, you need to at least superficially imagine the features of all the scripts with which the standard allows you to work.  But does every developer need this?  We say no.  To use Unicode in most everyday tasks, it is enough to possess a reasonable minimum of information, and then go deeper into the standard as needed. <br><br>  In the article we will talk about the basic principles of Unicode and highlight the important practical issues that developers will certainly encounter in their daily work. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Why did you need Unicode? </h3><br>  Before the advent of Unicode, single-byte encodings were used almost everywhere, in which the boundary between the characters themselves, their representation in computer memory and display on the screen was rather relative.  If you worked with one or another national language, then the appropriate encoding fonts were installed on your system, which allowed the bytes to be drawn from the disk on the screen so that they represented meaning to the user. <br><br>  If you printed a text file on the printer and saw a set of obscure cracks on the paper page, this meant that the appropriate fonts were not loaded into the printer and it did not interpret the bytes as you would like. <br><br>  This approach as a whole and single-byte encodings in particular had a number of significant drawbacks: <br><br><ol><li>  It was possible to work simultaneously with only 256 characters, the first 128 were reserved for Latin and control characters, and in the second half, in addition to the characters of the national alphabet, it was necessary to find a place for pseudographics (‚ïó). </li><li>  Fonts were bound to a specific encoding. </li><li>  Each encoding represented its own set of characters and conversion from one to another was possible only with partial losses, when the missing characters were replaced with graphically similar ones. </li><li>  Transferring files between devices running different operating systems was difficult.  It was necessary either to have a converter program, or to drag along with the file additional fonts.  The existence of the Internet as we know it was impossible. </li><li>  In the world there are non-alphabetic writing systems (hieroglyphic writing), which in single-byte encoding cannot be represented in principle. </li></ol><br><h3>  Basic Unicode Principles </h3><br>  We all understand that the computer does not know about any ideal entities, but operates with bits and bytes.  But computer systems are still created by people, not machines, and it‚Äôs sometimes more convenient for us to operate with speculative concepts, and then move from the abstract to the concrete. <br><br>  <b>Important!</b>  One of the central principles in Unicode philosophy is a clear distinction between characters, their representation in a computer, and their display on an output device. <br><br>  The concept of an abstract unicode symbol is introduced, which exists exclusively in the form of a speculative concept and agreement between people, enshrined in the standard.  Each unicode symbol is assigned a nonnegative integer, called its code point. <br><br>  So, for example, the Unicode symbol U + 041F is the capital Cyrillic letter P. There are several possibilities for representing this symbol in the computer's memory, exactly like several thousand ways of displaying it on the monitor screen.  But at the same time P, it will be P or U + 041F in Africa too. <br><br><img src="https://habrastorage.org/files/8d7/2ec/9c0/8d72ec9c07104b969e8bb6aab644c27a.png" alt="image"><br><br>  This is a well-known encapsulation or separation of the interface from the implementation - a concept that has proven itself in programming. <br><br>  It turns out that, guided by the standard, any text can be encoded as a sequence of Unicode characters. <br><br><pre><code class="hljs"> U+041F U+0440 U+0438 U+0432 U+0435 U+0442</code> </pre> <br>  write on a piece of paper, pack in an envelope and send to any end of the Earth.  If they know about the existence of Unicode, then the text will be perceived by them exactly the same way as we are with you.  They will not have the slightest doubt that the penultimate character is a Cyrillic lowercase <i>e</i> (U + 0435), and not a Latin small <i>e</i> (U + 0065).  Note that we did not say a word about the byte representation. <br><br>  Although Unicode symbols are called symbols, they do not always correspond to a symbol in the traditional naive sense, such as a letter, number, punctuation mark, or hieroglyph.  (For details, see under the spoiler.) <br><br><div class="spoiler">  <b class="spoiler_title">Examples of different unicode characters</b> <div class="spoiler_text">  There are purely technical Unicode characters, for example: <br><ul><li>  U + 0000: the null character; </li><li>  U + D800 ‚Äì U + DFFF: junior and senior substitutes for the technical presentation of code positions in the range from 10,000 to 10FFFF (read: outside the BMNP / BMP) in the UTF-16 family of encodings; </li><li>  etc. </li></ul><br>  There are punctuation markers, for example, U + 200F: a marker for changing the direction of the letter from right to left. <br><br>  There is a whole cohort of spaces of various widths and purposes (see the excellent habr article: <a href="https://habrahabr.ru/post/23250/">everything (or almost all) about the space</a> ): <br><ul><li>  U + 0020 (space); </li><li>  U + 00A0 (non-breaking space, &amp; nbsp; in HTML); </li><li>  U + 2002 (semicircular space or En Space); </li><li>  U + 2003 (round space or Em Space); </li><li>  etc. </li></ul><br>  There are combinable diacritical marks (combining diacritical marks) - all sorts of strokes, points, tildes, etc., which change / specify the meaning of the previous mark and its style.  For example: <br><ul><li>  U + 0300 and U + 0301: signs of the main (acute) and secondary (weak) stress; </li><li>  U + 0306: is short (superscript arc), as in th; </li><li>  U + 0303: superscript tilde; </li><li>  etc. </li></ul><br>  There is even such an exotic thing as language tags (U + E0001, U + E0020 ‚Äì U + E007E, and U + E007F), which are now in limbo.  They conceived as an opportunity to mark certain sections of the text as belonging to one or another variant of the language (say, American and British English), which could affect the details of the text display. <br><br>  What is a symbol, how does a grapheme cluster (read: perceived as a single whole image of a symbol) differ from a unicode symbol and from a code quantum we will tell next time. <br></div></div><br><h3>  Unicode code space </h3><br>  The Unicode code space consists of 1,114,112 code positions in the range from 0 to 10FFFF.  Of these, only 128 237 are assigned to the ninth version of the standard. Part of the space is reserved for private use, and the Unicode consortium promises never to assign values ‚Äã‚Äãto positions from these special areas. <br><br>  For the sake of convenience, the whole space is divided into 17 planes (six of them are now involved).  Until recently, it was customary to say that most likely you will have to face only the Basic Multilingual Plane (BMP), which includes Unicode characters from U + 0000 to U + FFFF.  (Looking a little further: the characters from BMP are represented in UTF-16 by two bytes, not four).  In 2016, this thesis is already in doubt.  For example, the popular characters of Emoji may well meet in the user message and you need to be able to handle them correctly. <br><br><h3>  Encodings </h3><br>  If we want to send text over the Internet, then we will need to encode a sequence of Unicode characters as a sequence of bytes. <br><br>  The Unicode standard includes a description of a series of Unicode encodings, such as UTF-8 and UTF-16BE / UTF-16LE, which allow you to encode the entire space of code positions.  Conversion between these encodings can be freely carried out without loss of information. <br><br>  Also, no one has canceled single-byte encodings, but they allow you to encode your individual and very narrow piece of the unicode spectrum ‚Äî 256 or less code positions.  For such encodings, there are tables available and available to everyone, where each value of a single byte is associated with a Unicode-character (see, for example, <a href="">CP1251.TXT</a> ).  Despite the limitations, single-byte encodings turn out to be very practical when it comes to working with a large array of mono-language textual information. <br><br>  Of the unicode encodings, UTF-8 is the most widely used on the Internet (it won the championship in 2008), mainly due to its cost-effectiveness and transparent compatibility with seven-bit ASCII.  Latin and service characters, basic punctuation marks and numbers - i.e.  All seven-bit ASCII characters are encoded in UTF-8 in one byte, the same as in ASCII.  The characters of many basic scripts, not counting some of the more rare hieroglyphic characters, are represented in it by two or three bytes.  The largest code point defined by the standard - 10FFFF - is encoded by four bytes. <br><br>  Note that UTF-8 is a variable length encoding.  Each Unicode symbol in it is represented by a sequence of code quanta with a minimum length of one quantum.  The number 8 means the bit length of a code quantum (code unit) is 8 bits.  For the UTF-16 family of encodings, the size of the code quantum is 16 bits, respectively.  For UTF-32, 32 bits. <br><blockquote>  If you send an HTML page with Cyrillic text over the network, then UTF-8 can give a very tangible gain, since  all the markup, as well as JavaScript and CSS blocks will be efficiently encoded in one byte.  For example, the main Habr page in UTF-8 occupies 139Kb, and in UTF-16 already 256Kb.  For comparison, if you use win-1251 with the loss of the ability to save some characters, the size, compared with UTF-8, will be reduced by only 11Kb to 128Kb. </blockquote><br>  For storing string information, applications often use 16-bit Unicode encodings due to their simplicity, as well as the fact that the characters of the main world writing systems are encoded with one 16-bit quantum.  For example, Java successfully uses UTF-16 for internal string representation.  The Windows operating system also uses UTF-16 internally. <br><br>  In any case, as long as we remain in Unicode space, it is not so important how the string information is stored within a separate application.  If the internal storage format allows you to correctly encode all a million or more code points and at the boundary of the application, for example, when reading from a file or copying to the clipboard, there is no loss of information, then all is well. <br><br>  To correctly interpret the text read from a disk or from a network socket, you must first determine its encoding.  This is done either using the meta-information provided by the user, written in or next to the text, or determined heuristically. <br><br><h3>  In the dry residue </h3><br>  There is a lot of information and it makes sense to give a brief pressing of everything that was written above: <br><br><ul><li>  Unicode postulates a clear distinction between characters, their representation in the computer and their display on the output device. </li><li>  Unicode characters do not always correspond to a character in the traditional naive sense, such as a letter, number, punctuation mark, or hieroglyph. </li><li>  The Unicode code space consists of 1,114,112 code positions in the range from 0 to 10FFFF. </li><li>  The basic multilanguage plane includes Unicode characters from U + 0000 to U + FFFF, which are encoded in UTF-16 in two bytes. </li><li>  Any Unicode encoding allows you to encode the entire space of Unicode code positions and conversion between various such encodings is carried out without loss of information. </li><li>  Single-byte encodings allow you to encode only a small part of the Unicode spectrum, but may be useful when working with a large amount of single-language information. </li><li>  UTF-8 and UTF-16 encodings have variable code lengths.  In UTF-8, each Unicode character can be encoded with one, two, three, or four bytes.  In UTF-16, two or four bytes. </li><li>  The internal format of storing textual information within a single application can be arbitrary, provided that it works correctly with the entire Unicode code position space and there is no loss in cross-border data transfer. </li></ul><br><h3>  A brief note about coding </h3><br>  There may be some confusion with the term encoding.  Within Unicode, encoding occurs twice.  The first time a Unicode character set (character set) is encoded, in the sense that a code position is assigned to each Unicode character.  As part of this process, the Unicode character set is transformed into a coded character set.  The second time a sequence of unicode characters is converted to a byte string, and this process is also called encoding. <br><br>  In English terminology, there are two different verbs to code and to encode, but even native speakers are often confused.  In addition, the term character set (character set or charset) is used as a synonym for the term coded character set (coded character set). <br><br>  All this we say to that it makes sense to pay attention to the context and to distinguish between situations when it comes to the code position of an abstract unicode symbol and when it comes to its byte representation. <br><br><h3>  Finally </h3><br>  There are so many different aspects to Unicode that it‚Äôs impossible to cover everything in one article.  Yes, and unnecessary.  The above information is quite enough to not be confused with the basic principles and work with the text in most everyday tasks (read: without going beyond the framework of BMP).  In the following articles we will talk about normalization, give a more complete historical overview of the development of encodings, talk about the problems of Russian-language Unicode terminology, and also make a material about the practical aspects of using UTF-8 and UTF-16. </div><p>Source: <a href="https://habr.com/ru/post/312642/">https://habr.com/ru/post/312642/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../312632/index.html">Using R to prepare and transfer live analytics to other business units</a></li>
<li><a href="../312634/index.html">Special prime numbers help passively listen to the Diffie-Hellman key exchange protocol.</a></li>
<li><a href="../312636/index.html">Any site can get information about which popular services you are authorized in</a></li>
<li><a href="../312638/index.html">Using ES6 generators using the example of koa.js</a></li>
<li><a href="../312640/index.html">How we filtered bots and lowered the bounce rate from 90% to 42%</a></li>
<li><a href="../312646/index.html">Anti-pager for paranoiac in Safari</a></li>
<li><a href="../312648/index.html">Administrator's summary: the difference between a microscope and a hammer when building a SAN (updated)</a></li>
<li><a href="../312652/index.html">Creating shared storage based on CEPH RBD and GFS2</a></li>
<li><a href="../312654/index.html">Blockchain decomposition</a></li>
<li><a href="../312656/index.html">Two-factor authentication in Redmine</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>