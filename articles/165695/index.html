<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Testing server 1C, DBMS MSSQL2008 on Windows 2008 OS on IBM x3650 M3 with 1 processor</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Task setting: choosing the cheapest server for 1C server roles, MS SQL 2008 DBMS server for 50 users. 

 Iron selection using expert server : 



 Acc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Testing server 1C, DBMS MSSQL2008 on Windows 2008 OS on IBM x3650 M3 with 1 processor</h1><div class="post__text post__text-html js-mediator-article"><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/xT8VGwoL9bQ%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700190,15700253&amp;usg=ALkJrhiAOnfuYRZ-7zSVD69ilnkSUDFYEg" frameborder="0" allowfullscreen=""></iframe><br><br>  Task setting: choosing the cheapest <a href="http://www.advanserv.ru/products/servery/">server</a> for 1C server roles, MS SQL 2008 DBMS server for 50 users. <br><br>  Iron selection using <a href="http://www.advanserv.ru/configurator/server-rate/">expert server</a> : <br><a name="habracut"></a><br><img src="https://habrastorage.org/getpro/habr/post_images/7ce/bdc/ea4/7cebdcea41434ba208858594b378e9f4.gif" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      According to the <a href="http://www.advanserv.ru/configurator/server-rate/">server expert</a> , we collect iron: <br><br>  <a href="http://www.advanserv.ru/products/servery/prodution/ibm-system-x3650-m3/">Choosing a</a> platform: <a href="http://www.advanserv.ru/products/servery/prodution/ibm-system-x3650-m3/">IBM x3650 M3</a> <br>  Choosing a processor: Intel Xeon E5506 - 1pc. <br>  Choosing RAM: 4 strips of 4GB <br>  Choosing a hard disk: 3 SAS with 146 GB RAID5 <br><br>  Used software: <br><br>  OS MS Windows 2008 x64 <br>  DBMS MS SQL 2008 x64 <br>  Server 1C 8.2 x64 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bc6/8af/b22/bc68afb22c7f98edf7dee3874e78d228.gif" alt="image"><br><br>  Test environment: 1C 8.2 configuration was used for load testing: ‚ÄúStandard load test‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6bf/7c7/99e/6bf7c799ef4c2c7b4dea314e0268e6c2.jpg" alt="image"><br><br>  Test progress: <br><br>  On the local server, a 1C client session was started in agent mode and in test mode. <br>  In the test configuration, the initial number of emulated standard 1C users was created, creating and deleting documents and reports equal to 20. The step of increasing the number of users after the tests was set to 20 users. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6d0/698/61c/6d069861c6293272ae250a472586c912.gif" alt="image"><br><br>  Initially (without user connections), the DBMS occupies 569 MB of RAM (2 databases are created: 1C 8.2 configuration: ACP and test configuration), the system's memory is 2.56 GB. <br>  During testing (up to 110 users), the memory for the DBMS is allocated up to 12 GB, one test session of 1C takes 55 MB (55 MB 200 200 = 11 GB).  For comparison - one real user session (1C client application) takes about 300 - 500 MB.  The size of the memory allocated for the 1C client application is specified for the user working in the standard 1C: Trade or 1C: UPP configuration.  The 1C server service (rphost) practically does not use OPs, since it only translates requests from the client side to the DBMS (according to the standard, TCP port 1541 and TCP 475 are used for the 1C protection server). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f0c/f62/c3c/f0cf62c3c670e19f8fe431217fdcab91.gif" alt="image"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/8b1/fde/866/8b1fde866dea973023b9b7de0bdfed80.gif" alt="image"><br><br>  CPU utilization was divided between the 1C server service (rphost) and the DBMS service (sqlservr).  With a load of 40 users, rphost occupied 37% of the CPU power, sqlservr occupied 30%.  With a load of 60 users, rphost occupied 47% of the CPU power, sqlservr occupied 29%. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/401/c19/f15/401c19f1537763cd4f2485502d2c124b.gif" alt="image"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/67f/606/ca1/67f606ca11890cced701524f6606e4a2.gif" alt="image"><br><br>  During the deletion of the created documents, the sqlsrvr service accessed the disk subsystem for recording at speeds up to 6.5 MB / s (about 52 Mbit / s). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/39d/bf9/035/39dbf903596901a5be3db691e0ca1917.gif" alt="image"><br><br>  The load on the network between the 1C server and the DBMS (on the local lookback interface) was 10 Mb / s. <br>  Test result issued by test configuration 1C: <br><br>  Parameters: Running the test 000000006 from 05/24/2012 12:44:16 <br>  Standard load test, version 2.0.4.11 <br>  Start of testing 05/23/2012 12:36:39.  Execution time: 57.1 minutes. <br>  Test conditions <br>  ¬´1C: Enterprise: test <br>  Information base name: testcenter_82 <br>  Virtual users: TEST, ¬ª <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c83/c7a/3b6/c83c7a3b653d028b111e618bfa5f1114.jpg" alt="image"><br><br>  <b>Findings:</b> <br><br>  It is necessary to weaken the server configuration, since the current one is 100% redundant for 50 users. <br>  It is necessary to perform testing using a second server to run the emulated users and check the network load, the expected load is 10 Mb / s. <br>  The 1C architecture consists of 4 blocks: 1C server, DBMS, 1C protection server and 1C client.  In this test, all these functions were run on the same server. <br><br>  <b>With a heavy load on the server 1C there are the following recommendations:</b> <br><br>  Spread the roles of 1C server, DBMS server, 1C protection server and 1C client applications (for faster performance, it is better to run 1C client applications on a terminal server). <br>  On the DBMS server, the following structure should be used for data storage systems: OS should be located on RAID 1, DBMS data files (.mdf, .ndf) on a separate RAID 0, log files (.ldf) on a separate RAID 0, temporary files and a paging file on a separate disk. </div><p>Source: <a href="https://habr.com/ru/post/165695/">https://habr.com/ru/post/165695/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../165671/index.html">Mass publication of online journal articles in memory of Aaron Schwarz</a></li>
<li><a href="../165675/index.html">Results 24pullrequests</a></li>
<li><a href="../165677/index.html">ViBe - background subtraction algorithm</a></li>
<li><a href="../165681/index.html">Flyme 2.0 Review</a></li>
<li><a href="../165683/index.html">Where the hashCode legs grow</a></li>
<li><a href="../165697/index.html">Adapting a website for users with disabilities is not difficult.</a></li>
<li><a href="../165699/index.html">Online IDE ShiftEdit</a></li>
<li><a href="../165701/index.html">Useful hacks and snippets for .htaccess</a></li>
<li><a href="../165703/index.html">Saving Excel documents to PDF on server</a></li>
<li><a href="../165705/index.html">A couple of words about application internationalization</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>