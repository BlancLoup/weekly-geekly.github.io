<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Install OpenVPN in a few clicks</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Geektimes! 


 Not so long ago, the thought occurred to me that connecting to a Linux server via SSH, installing packages, running scripts is all ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Install OpenVPN in a few clicks</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/webt/fg/bf/d_/fgbfd_og5ma628ie5l0rhqgpsl8.png" alt="image" align="left">  Hi, Geektimes! </p><br><p>  Not so long ago, the thought occurred to me that connecting to a Linux server via SSH, installing packages, running scripts is all a common type of routine for which human participation is not needed, a robot can do it.  Of course, I use Ansible, but he, too, is "not for everyone." </p><br><p>  As a result, the program "for all" was written in which there is simply one button "to do well".  The program is open source and available for research and download on GitHub. </p><br><p>  But one program is not enough to carry personal OpenVPN to the masses.  Therefore, this article was written in which everything was described simply and in steps, from creating an account in a cloud service to connecting from a mobile phone. </p><br><p>  All you need to do 4 simple steps: </p><br><ol><li>  Create a server (usually just click the "Create" button) </li><li>  Install and run the <strong>SSHeller</strong> application </li><li> Click the <code>Install</code> button and wait for the installation to complete. </li><li>  Download <code>ovpn</code> file and connect to VPN with it </li></ol><a name="habracut"></a><br><h1 id="sozdanie-servera">  Server creation </h1><br><p>  Almost any virtual (VPS, VDS) or physical server will fit (the virtual must have a <code>tun</code> interface).  For example, below is a guide on how to use DigitalOcean, as the most stable, simple and easy-to-use cloud provider. </p><br><h2 id="podgotovka">  Training </h2><br><p>  To activate your account you need one of two things: </p><br><ul><li>  paypal account </li><li>  credit card (credit card, which can go into the minus, salary / debit will not work) </li></ul><br><p>  If you use PayPal, you will need to deposit $ 5.  With a credit card, they will block $ 1 and return it. </p><br><h2 id="registraciya-na-digitalocean">  Register with DigitalOcean </h2><br><p>  It is best to register by referral link - then the promotional code for $ 10 will be automatically applied.  And you can register by filling out the form on the <a href="https://www.digitalocean.com/">main page</a> and later enter any promotional code - it is easily searched through google.  There are many different and all for $ 10. </p><br><p>  Following the link, just enter the e-mail and come up with a password. </p><br><p><img src="https://habrastorage.org/webt/px/ws/7s/pxws7sxaqgbhldr-2d78ypabufk.png" alt="DigitalOcean register form"></p><br><p>  After clicking on the button, you will receive a letter with a link to confirm registration - you will need to click on it. </p><br><p>  Next you need to enter credit card details, or PayPal.  This is a mandatory requirement for account verification.  Almost everyone has PayPal. </p><br><p><img src="https://habrastorage.org/webt/xn/ud/hs/xnudhsogbq9q7xmk7mqhpl1frj0.png" alt="DigitalOcean PayPal"></p><br><p>  After pressing the confirmation button, the standard payment process will start.  But there is an important feature that will allow you to save a little: your bank converts rubles into dollars at a more favorable rate than PayPal </p><br><p><img src="https://habrastorage.org/webt/na/ur/a6/naura632gsbzviairsficyxfeke.png" alt="DigitalOcean PayPal Confirm"></p><br><p>  You need to click <code>View conversion options</code> and select <code>Convert with card issuer</code> </p><br><p><img src="https://habrastorage.org/webt/4q/oq/8-/4qoq8-qeau-zqun2vtthjws4gs0.png" alt="DigitalOcean PayPal Conversation"></p><br><p>  After the payment is completed, you will be taken to the <code>Dashboard</code> main page.  You can go to <code>Settings</code> -&gt; <code>Billing</code> to see the balance. </p><br><p>  Here <code>Your credit $15</code> is an advance payment.  And <code>Usage $0.00</code> is the amount you need to pay.  Payment is usually made after the fact - how much you have spent in a month, how much you will be asked to pay (after exhausting the advance payment).  At the bottom you can see what were charges. </p><br><p><img src="https://habrastorage.org/webt/ez/ja/n2/ezjan2aqbkexa1pnfdaqcuhjfjc.png" alt="DigitalOcean PayPal Billing"></p><br><h2 id="zapusk-servera">  Server startup </h2><br><p>  Top-right click <code>Create</code> -&gt; <code>Droplets</code> </p><br><p><img src="https://habrastorage.org/webt/pr/91/qr/pr91qrkxivrwsa8l8tyo17yhwxu.png" alt="DigitalOcean Create Droplet"></p><br><p>  The server creation page will open.  You need to set 3 basic parameters. </p><br><p>  Operating system: <code>Fedora 27</code> .  It is the smallest, fastest and stable available.  Although <code>Debian 9</code> is also a good choice.  Moreover, all available operating systems are supported, except <code>FreeBSD</code> and <code>Debian 7</code> . </p><br><p><img src="https://habrastorage.org/webt/xa/_r/vx/xa_rvx_-dgrj2yylb35uem6rjcm.png" alt="DigitalOcean Droplet Fedora"></p><br><p>  Size: the smallest $ 5 will be enough. </p><br><p><img src="https://habrastorage.org/webt/dm/p2/12/dmp212dd7kk7ciexh5tppsftmuk.png" alt="DigitalOcean Droplet size"></p><br><p>  Region - you need to choose the one that is closer to you geographically.  For the European part of Russia - this is <code>Amsterdam</code> . </p><br><p><img src="https://habrastorage.org/webt/2j/n0/4y/2jn04y0cz_5qatakrgdvpqdmdsw.png" alt="DigitalOcean Datacenter Amsterdam"></p><br><p>  It's enough.  At the very bottom, you can change the name, but you can leave the default and click the big green <code>Create</code> button.  The virtual machine will start to be created, and soon you will receive an e-mail with its address and password. </p><br><h1 id="ustanovka-ssheller">  Install SSHeller </h1><br><p>  To install, just go to <a href="https://github.com/delfer/ssheller/releases">the release page</a> , download the appropriate file and run it. </p><br><ul><li>  For Windows: <code>SSHeller.Setup.XXXexe</code> </li><li>  For macOS: <code>SSHeller-XXXdmg</code> </li><li>  For Linux: <code>SSHeller-XXX-x86_64.AppImage</code> - after loading to make executable and run </li></ul><br><p>  Now SSHeller can be run from the list of applications. </p><br><h1 id="ustanovka-servera-openvpn">  Install OpenVPN server </h1><br><p>  A letter from DigitalOcean should have arrived.  From it we need 4 parameters. </p><br><p><img src="https://habrastorage.org/webt/6u/1v/z3/6u1vz3ipieh5mc11jim0clojaw4.png" alt="DigitalOcean E-Mail"></p><br><p>  Launch <code>SSheller</code> and click <code>Add</code> </p><br><p><img src="https://habrastorage.org/webt/dq/s-/e4/dqs-e4nyngvvqfu1on9v7fvua5u.png" alt="SSHeller servers list"><img src="https://habrastorage.org/webt/us/yb/ol/usybol3v4lfdngfmd4akkbjyhea.png" alt="SSHeller servers add"></p><br><p>  Copy the parameters from the letter: </p><br><ul><li>  <code>Droplet Name</code> -&gt; <code>Name</code> </li><li>  <code>IP Address</code> -&gt; <code>Host</code> </li><li>  <code>Username</code> -&gt; <code>User</code> </li><li>  <code>Password</code> -&gt; <code>Password</code> </li></ul><br><p>  Pressing <code>Save</code> returns to the list of servers. </p><br><p><img src="https://habrastorage.org/webt/ck/gl/vo/ckglvo439iazaegevzseevnaims.png" alt="SSHeller connect"></p><br><p>  In the list, select the created server and click <code>Connect</code> .  The first connection takes a little longer as DigitalOcean creates expired virtual machines and the application will need to update it.  After connecting, the server status (Dashboard) will be displayed.  From the top left, open the menu and select <code>OpenVPN</code> . </p><br><p><img src="https://habrastorage.org/webt/uv/ei/2k/uvei2ks8hlmrxvgg2okn0nf7jr4.png" alt="SSHeller plugin OpenVPN"></p><br><p>  On the OpenVPN screen, just press the green <code>Install</code> button and wait. </p><br><p><img src="https://habrastorage.org/webt/m2/wu/t-/m2wut-bkzofegzx6adgdomroqpk.png" alt="SSHeller OpenVPN install"></p><br><p>  How long to wait is impossible to predict.  Sometimes it can be 3 minutes, and sometimes - up to half an hour.  It depends on the server on which your virtual machine is running.  The smaller the server has a pool of entropy - the longer it takes to wait.  If in simple words: the computer very slowly creates new random numbers, but it does it constantly and saves them.  And to create encryption keys you need a lot of random numbers.  If someone has already used them, you will have to wait. </p><br><p><img src="https://habrastorage.org/webt/wa/am/bp/waambp8uwwddxlj1gyf208myika.png" alt="SSHeller OpenVPN progress"></p><br><p>  At the end a report will be displayed.  If interested, you can watch it. </p><br><p>  The default profile and the corresponding configuration file - <code>client.ovpn</code> will be created <code>client.ovpn</code> .  You can download it, or you can create another one, or several, by entering the name of the new profile and clicking the <code>Add</code> button. </p><br><p><img src="https://habrastorage.org/webt/w_/6o/52/w_6o52je87gxhkmlotry2hkgahm.png" alt="SSHeller OpenVPN ovpn files"></p><br><p>  To download just click on the appropriate profile file. </p><br><h1 id="podklyuchenie">  Connection </h1><br><ul><li>  For <code>Windows</code> and <code>Linux</code> you need to install <code>OpenVPN</code> </li><li>  For <code>macOS</code> - <code>Tunnelblick</code> </li><li>  For <code>Android</code> and <code>iOS</code> - <code>OpenVPN Connect</code> from the app store </li></ul><br><h2 id="windows">  Windows </h2><br><ol><li>  Download <code>openvpn-install-XXX-I601.exe</code> from the <a href="https://openvpn.net/index.php/open-source/downloads.html">official site</a> and install </li><li>  The saved <code>client.ovpn</code> file <code>client.ovpn</code> to be copied to the <code>C:\Program Files\OpenVPN\config</code> folder - confirmation of Administrator rights will be required </li><li>  In the Start menu, select <code>OpenVPN</code> -&gt; <code>OpenVPN GUI</code> </li><li>  In the tray (icons near the clock), right-click on the monitor icon with the lock and select <code></code> </li></ol><br><p><img src="https://habrastorage.org/webt/gf/km/vr/gfkmvrm8g_t_jnj6xvj0kq8lfjo.png" alt="Openvpn windows"></p><br><p>  If there are several files in the <code>config</code> folder, a submenu for each file will appear. </p><br><h2 id="macos">  macOS </h2><br><ol><li>  Download <code>Tunnelblick_XXX.dmg</code> from the <a href="https://tunnelblick.net/downloads.html">official site</a> (Stable) and launch </li><li>  In the window that opens, double-click on the icon with the signature <code>Tunnelblick</code> </li><li>  A warning will appear that this program is downloaded from the Internet - click <code></code> </li><li>  In the welcome window, click <code></code> </li><li>  Next, you will need to enter the Administrator password </li><li>  To answer the question about the configuration file: <code>    </code> , and in the next window click <code>OK</code> </li><li>  Through the Finder, find the <code>client.ovpn</code> file and open it;  indicate whether you want to use it or allow other computer users </li><li>  In the tray (icons near the clock), left-click on the gate icon and choose to <code> client</code> </li><li>  The message "Unrecognized option or missing parameter or extra parameter (s)" can be displayed - it does not affect the performance </li></ol><br><p><img src="https://habrastorage.org/webt/tf/nt/lv/tfntlvyy-lbzyhaxbmr8ckxsqua.png" alt="OpenVPN macOS"></p><br><h2 id="linux">  Linux </h2><br><ol><li>  Install the OpenVPN package by the package manager.  For example, in Debian and Ubuntu, just run: <code>sudo apt-get install -y openvpn</code> </li><li>  Connection is established by the <code>sudo openvpn --config client.ovpn</code> command <code>sudo openvpn --config client.ovpn</code> </li></ol><br><h2 id="ios">  iOS </h2><br><ol><li>  Install <code>OpenVPN Connect</code> from <a href="https://itunes.apple.com/us/app/openvpn-connect/id590379981%3Fmt%3D8">App Strore</a> </li><li>  Send the file to your mobile device.  For example, you can send an email to yourself from your computer </li><li>  Launch the <code>OpenVPN Connect</code> application, select <code>Import you Private Tunnel Profile</code> </li><li>  Select the saved <code>client.ovpn</code> file </li><li>  Move the switch that appears to the <code>On</code> position. </li></ol><br><p><img src="https://habrastorage.org/webt/lj/bo/tk/ljbotke16doawqxwsga6rogbwnk.png" alt="OpenVPN iOS"></p><br><h2 id="android">  Android </h2><br><ol><li>  Install <code>OpenVPN Connect</code> from <a href="https://play.google.com/store/apps/details%3Fid%3Dnet.openvpn.openvpn%26amp%3Bhl%3Dru">Google Play</a> </li><li>  Send the file to your mobile device.  For example, you can send an email to yourself from your computer </li><li>  Launch the <code>OpenVPN Connect</code> application, select <code>OVPN Profile</code> </li><li>  Select the saved <code>client.ovpn</code> file (usually it is saved in the <code>Downloads</code> folder) and click <code>IMPORT</code> </li><li>  Enter the display name of the profile or leave it unchanged, click <code>ADD</code> </li><li>  Move the switch that appears to the <code>On</code> position. </li></ol><br><p><img src="https://habrastorage.org/webt/mc/zc/z2/mczcz2dhihkexkviws-9rr6gdm8.png" alt="Openvpn android"></p><br><h1 id="kak-mozhno-sekonomit">  How to save money </h1><br><h2 id="v-digitalocean-pochasovaya-oplata">  In DigitalOcean hourly pay </h2><br><p>  Those.  you can only pay for the time that you really use.  And here are two important points: </p><br><ol><li>  The available traffic is proportional to the server uptime.  If the server worked only 1/10 of a month (3 days), then only 1/10 of the traffic (100GB) will be available.  Excess will have to pay extra (1 cent for each GB) </li><li>  To stop money being written off for the server, it is necessary not just to stop it, but to completely destroy it by clicking on the menu near the server and then <code>Destroy</code> , and on the server page that appears, click <code>Destroy</code> again.  The next time you need to re-repeat the entire setup, create new <code>ovpn</code> files and send them to the devices. </li></ol><br><p><img src="https://habrastorage.org/webt/o6/tf/er/o6tferudvyx9gja2kbqvbh9-vto.png" alt="DigitalOcean destroy"></p><br><h2 id="delites-s-rodnymi-i-druzyami">  Share with family and friends </h2><br><p>  Technically, you can create a variety of profiles, both for different devices and for different people.  Together the price for each will already be $ 2.5, five of them - $ 1. </p><br><p>  It is important that for each profile there can be only one simultaneous connection.  So, at a minimum, you need to create separate profiles for different devices. </p><br><h1 id="upd">  UPD </h1><br><p>  On May 1, 2018, comments began to appear that some Russian providers were blocking Digital Ocean.  There is a great alternative - Linode ( <a href="https://joshtronic.com/2018/01/22/vps-showdown-january-2018-digitalocean-linode-vultr/">comparison</a> ). </p><br><ol><li>  We are registered on the <a href="https://www.linode.com/">main page</a> . </li><li>  After entering the e-mail, login and password (you need to think), you will receive a letter with a link to confirm, go through it </li><li>  An extended registration form opens, you need to enter the last name, first name, address, promotional code and card details <br><ul><li>  $ 10 or $ 20 promotional code is easily searched on google, 05/01/2018 <code>PodcastInIt2018</code> worked on $ 20 </li><li>  Any card is suitable, there are no special requirements like DigitalOcean </li><li>  at the bottom, select the initial replenishment, at least $ 5 </li></ul></li><li>  After sending the form, we immediately get to the server creation page, at the very bottom we select <strong>Linode 1024</strong> (costs the same $ 5 per month), below we select the location, <strong>Frankfurt, DE is the</strong> closest to the European part of Russia </li><li>  After creating the server, select it from the list and click <strong>Deploy an Image</strong> <br><ul><li>  choose a distribution kit, for example, <strong>Fedora 27</strong> or <strong>Debian 9</strong> </li><li>  invent, remember and enter the server password </li><li>  click <strong>Deploy</strong> </li></ul></li><li>  Click the <strong>Boot</strong> button to start the server </li><li>  Switch to the <strong>Remote Access</strong> tab, copy the very first <strong>Public IP</strong> , for example <code>172.104.130.238</code> </li><li>  Start SSHeller, click <strong>Add</strong> <br><ul><li>  invent and enter the <strong>Name</strong> </li><li>  paste the copied IP into <strong>Host</strong> </li><li>  enter <code>root</code> </li><li>  enter the password in the <strong>Password</strong> invented in step 5 </li></ul></li><li>  The server does not load instantly, if you quickly enter the server access parameters, you will have to wait 30 seconds </li></ol><br><p>  Further, all the basic instructions. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/371475/">https://habr.com/ru/post/371475/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../371461/index.html">Creating a WX-Mouse in razer Mamba TE</a></li>
<li><a href="../371465/index.html">Undoing Aging with Michael Greve</a></li>
<li><a href="../371469/index.html">How to connect a bunch of old RS232 equipment via USB without registration and sms (STM32 + USB-HID)</a></li>
<li><a href="../371471/index.html">New profession: "virtual dating assistant"</a></li>
<li><a href="../371473/index.html">Improving fiber lasers means that radiation weapons are about to appear</a></li>
<li><a href="../371479/index.html">Russification voice Xiaomi Robot Vacuum</a></li>
<li><a href="../371481/index.html">SpaceX and Boeing spacecraft will be ready later than planned.</a></li>
<li><a href="../371483/index.html">About sleeping at the airport: utility and bikes</a></li>
<li><a href="../371485/index.html">Scientists have calculated the longest direct land route in the world: 11,241 km</a></li>
<li><a href="../371487/index.html">Russian cosmonaut will fly to the moon approximately in 2024 for mounting the airlock</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>