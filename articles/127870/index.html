<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Just about Qt. Container library</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! 

 Today I would like to talk about an interesting and useful feature. Her name is the Library of containers. This is not one, but a whole g...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Just about Qt. Container library</h1><div class="post__text post__text-html js-mediator-article">  Hi, Habr! <br><br>  Today I would like to talk about an interesting and useful feature.  Her name is the Library of containers.  This is not one, but a whole group of useful features.  And their purpose - the organization and processing of groups of elements.  Sounds interesting, yes?  Now let's take a closer look - welcome under cat. <br><a name="habracut"></a><br><h4>  Introduction </h4><br><h6>  I want to say one thing - the article is aimed at novice programmers.  We continue. </h6><br>  One of the most common tasks in programming is the organization of processing groups of elements.  Programmers with her very much soared.  After all, you need to decompose everything on the shelves ... But in Qt there is a wonderful assistant - the Library of containers.  This helper is in the QtCore module - so we don‚Äôt need any additional inclusions.  And so, let's go! <br><br><h4>  QVector Vector </h4><br>  <b>A vector</b> is a data structure very similar to a regular array.  However, using a vector class provides some advantages over a simple array.  For example, you can find out the number of elements inside a vector (its size), or dynamically expand it.  This container is also more economical than other types of containers.  To add elements to the end of a sequential container, you can use the <i>push_back ()</i> method.  The elements of the vector can be accessed both through the indexing operator [], and with the help of an iterator.  For example: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="cpp hljs">QVector&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; vec; vec.push_back(<span class="hljs-number"><span class="hljs-number">10</span></span>); <span class="hljs-comment"><span class="hljs-comment">//      vec.push_back(20); vec.push_back(30); qDebug() &lt;&lt; vec;</span></span></code> </pre> <br>  It will be displayed - <i>QVector (10,20,30)</i> . <br><br><h4>  QByteArray byte array </h4><br>  This container is very similar to QVector, but the difference is that it is <b>not a</b> template class, and it allows storing only elements that are one byte in size.  Objects of type QByteArray can be used wherever intermediate data storage is required.  The number of array elements can be specified in the constructor, and access to them is obtained using the operator []. <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">QByteArray </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">arr</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; arr[<span class="hljs-number"><span class="hljs-number">0</span></span>] = arr[<span class="hljs-number"><span class="hljs-number">1</span></span>] = <span class="hljs-number"><span class="hljs-number">0xFF</span></span>; arr[<span class="hljs-number"><span class="hljs-number">2</span></span>] = <span class="hljs-number"><span class="hljs-number">0x0</span></span>;</code> </pre><br>  You can also apply a compress operation and an inverse transform to the data of QByteArray class objects.  This is achieved using the two global functions <i>qCompress ()</i> and <i>qUncompress ()</i> .  Just compress and expand the data: <br><br><pre> <code class="cpp hljs">QByteArray a = <span class="hljs-string"><span class="hljs-string">"Some text..."</span></span>; QByteArray aCompressed = qCompress(a); qDebug &lt;&lt; qUncompress(aCompressed);</code> </pre><br>  <i>Some text ...</i> will be displayed. <br><br><h4>  QBitArray bit array </h4><br>  This class controls the bit (or <b>boolean</b> ) array.  Each of the stored values ‚Äã‚Äãtakes up only one bit, without wasting extra memory.  This type is used to store a large number of variables of type <i>bool</i> . <br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">QBitArray </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">arr</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; arr[<span class="hljs-number"><span class="hljs-number">0</span></span>] = arr[<span class="hljs-number"><span class="hljs-number">1</span></span>] = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; arr[<span class="hljs-number"><span class="hljs-number">2</span></span>] = <span class="hljs-literal"><span class="hljs-literal">false</span></span>;</code> </pre><br><br><h4>  QList and QLinkedList Lists </h4><br>  <b>A list</b> is a data structure that is an ordered set of related items.  The advantage of lists over vectors and queues is that inserting and deleting elements in any position is more efficient, since only the minimum number of pointers is changed to perform these operations, the only exception is inserting an element into the center of the list.  But there is a drawback - lists are ill-suited for finding a specific list item by index, and for this purpose it is best to use a vector. <br><br>  Lists implements the QList template class.  In general, this class is an array of pointers to elements. <br><br>  Specific operations for working with lists: <br><ul><li>  <i>move ()</i> - Moves an item from one position to another. </li><li>  <i>removeFirst ()</i> - <i>Removes the</i> first item in the list. </li><li>  <i>removeLast ()</i> - <i>Removes the</i> last item in the list. </li><li>  <i>swap ()</i> - Swaps two elements of the list in the specified positions. </li><li>  <i>takeAt ()</i> - Returns the item at the specified position and removes it from the list. </li><li>  <i>takeFirst ()</i> - Returns the first item and removes it from the list. </li><li>  <i>takeLast ()</i> - Returns the last element and removes it from the list. </li><li>  <i>toSet ()</i> - Returns a <i>QSet</i> container with the data contained in the list. </li><li>  <i>toStdList ()</i> - Returns the standard STL list <i>std :: List with elements from the list.</i> </li><li>  <i>toVector ()</i> - Returns a <i>QVector</i> vector with the data contained in the list. </li></ul><br>  If you are not going to change the values ‚Äã‚Äãof the elements, then, for efficiency reasons, it is not recommended to use the operator [].  Instead, use the <i>at ()</i> method, since it returns a constant element reference. <br><br>  One of the most common operations is a list traversal for successively obtaining the values ‚Äã‚Äãof each list item.  For example: <br><pre> <code class="cpp hljs">QList&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; <span class="hljs-built_in"><span class="hljs-built_in">list</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">list</span></span> &lt;&lt; 10 &lt;&lt; 20 &lt;&lt; 30; QValueList&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;::iterator it = <span class="hljs-built_in"><span class="hljs-built_in">list</span></span>.begin(); <span class="hljs-comment"><span class="hljs-comment">//         while (it != list.end()) { qDebug() &lt;&lt; "Element:" &lt;&lt; *it; ++it; }</span></span></code> </pre><br><br>  The console will display: <br>  <i>Element: 10</i> <i><br></i>  <i>Element: 20</i> <i><br></i>  <i>Element: 30</i> <i><br></i> <br>  If you work with large lists and / or you often need to insert elements, it will be more efficient to use doubly linked <i>QLinkedList</i> lists.  Although this container is gluttonous than a <i>QList</i> , but the operations of insertion and deletion are reduced to redefining four pointers, regardless of the position of the element being deleted or inserted. <br><br><h4>  QStack stack </h4><br>  <b>The stack</b> implements a data structure that operates on the principle of Last In First Out - the last to arrive, the first to leave.  That is, an element that was inserted later than the rest is removed first from the stack. <br><br>  The <i>QStack</i> class is an implementation of the stack structure.  This class is inherited from <i>QVector</i> .  The process of putting items on the stack is usually called <b>pushing</b> , and removing the top element from it is <b>pushing</b> .  Each push operation increases the size of the stack by 1, and each push operation reduces it by 1. For these operations, the <i>push ()</i> and <i>pop ()</i> functions are defined in the <i>QStack</i> class.  The <i>top ()</i> method returns a reference to the top element.  Example of using the stack: <br><pre> <code class="cpp hljs">QStack&lt;QString&gt; stk; stk.push(<span class="hljs-string"><span class="hljs-string">"Era"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//        stk.push("Corvus Corax"); stk.push("Gathering"); while (!stk.empty()) { qDebug() &lt;&lt; "Element:" &lt;&lt; stk.pop(); }</span></span></code> </pre><br><br>  The console will be: <br>  <i>Element: "Gathering"</i> <i><br></i>  <i>Element: Corvus Corax</i> <i><br></i>  <i>Element: "Era"</i> <i><br></i> <br><h4>  QQueue Queue </h4><br>  <b>The queue</b> implements a data structure that operates according to the principle ‚Äî first come, first go.  Implemented a queue in the <i>QQueue</i> class, which is inherited from <i>QList</i> . <br><br>  The following example shows an example of using a queue: <br><pre> <code class="cpp hljs">QQueue&lt;QString&gt; que; que.enqueue(<span class="hljs-string"><span class="hljs-string">"Era"</span></span>); que.enqueue(<span class="hljs-string"><span class="hljs-string">"Corvus Corax"</span></span>); que.enqueue(<span class="hljs-string"><span class="hljs-string">"Gathering"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (!que.empty()) { qDebug() &lt;&lt; <span class="hljs-string"><span class="hljs-string">"Element:"</span></span> &lt;&lt; que.dequeue(); }</code> </pre><br><br>  The console will be: <br>  <i>Element: "Era"</i> <i><br></i>  <i>Element: Corvus Corax</i> <i><br></i>  <i>Element: "Gathering"</i> <i><br></i> <br><h4>  Dictionaries QMap, QMultiMap </h4><br>  Dictionaries, in principle, are similar to ordinary ones used in everyday life.  They store items of the same type, indexed by key values.  The advantage of the dictionary is that it allows you to quickly get the value associated with a given key.  Keys must be unique, with the exception of a multi-dictionary that allows duplicates. <br><br>  The containers of this type contain elements along with keys, by which they can be found, which can be any type of value.  In the case of the <i>QMap</i> dictionary, it is necessary to ensure that two different elements with the same key are not entered, because then one of these elements cannot be retrieved.  Each key must be unique. <br><br>  When creating a <i>QMap</i> object, you need to pass its size to the constructor.  This size is not, as is customary in other container classes, the size limiting the maximum number of elements, but is the number of positions.  The number of positions must be greater than the number of elements expected for storage, otherwise the search for elements in the dictionary will not be carried out efficiently enough.  It is desirable that this value belongs to the category of prime numbers, since in this case the placement of elements will be more convenient. <br><br>  Some methods: <br><ul><li>  <i>iowerBound ()</i> - Returns to the first element with the given key. </li><li>  <i>toStdMap ()</i> - Returns an STL dictionary with elements of our dictionary. </li><li>  <i>upperBound ()</i> - Returns to the last element with the given key. </li></ul><br>  One of the most common ways to access dictionary elements is to use a key in the operator [].  But you can do without it, since the key and value can be obtained through the iterator method <i>key ()</i> and <i>value ()</i> , for example: <br><pre> <code class="cpp hljs">QMap&lt;QString,QString&gt; mapPhonebook; mapPhonebook[<span class="hljs-string"><span class="hljs-string">"Piggy"</span></span>] = <span class="hljs-string"><span class="hljs-string">"+380 93 785 11 11"</span></span>; mapPhonebook[<span class="hljs-string"><span class="hljs-string">"Kermit"</span></span>] = <span class="hljs-string"><span class="hljs-string">"+7 85 123 65 56"</span></span>; mapPhonebook[<span class="hljs-string"><span class="hljs-string">"Gonzo"</span></span>] = <span class="hljs-string"><span class="hljs-string">"+49 73 631 32 21"</span></span>; QMap&lt;QString,QString&gt;::iterator it = mapPhonebook.begin(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(;it != mapPhonebook.end(); ++it) { qDebug() &lt;&lt; <span class="hljs-string"><span class="hljs-string">"Name:"</span></span> &lt;&lt; it.key() &lt;&lt; <span class="hljs-string"><span class="hljs-string">"Phone:"</span></span> &lt;&lt; it.value(); }</code> </pre><br><br>  The console will be: <br>  <i>Name: Gonzo Phone: +49 73 631 32 21</i> <i><br></i>  <i>Name: Kermit Phone: +7 85 123 65 562 21</i> <i><br></i>  <i>Name: Piggy Phone: +380 93 785 11 11</i> <i><br></i> <br><h4>  QHash and QMultiHash hashes </h4><br><br>  The hash functionality is very similar to <i>QMap</i> , with the only difference that instead of sorting by key, this class uses a hash table.  This allows it to search for key values ‚Äã‚Äãmuch faster than <i>QMap</i> does. <br><br>  As in the case of QMap, care must be taken when using the indexing operator [], since specifying a key for which an element does not exist will result in the element being created.  Therefore, it is important to always check for the presence of an element bound to the key using the <i>container's containts ()</i> method. <br><br>  If you intend to place objects of your own classes in <i>QHash</i> , then you will need to implement the comparison operator == and the specialized function <i>qHash ()</i> for your class.  Here is an example of the implementation of the comparison operator: <br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">inline</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span>==(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> MyClass&amp; mc1, <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> MyClass&amp; mc2) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (mc1.firstName() == mc2.firstName() &amp;&amp; mc1.secondName() == mc2.secondName() ); }</code> </pre><br><br>  The <i>qHash ()</i> function must return a number that must be unique for each element in the hash.  For example: <br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">inline</span></span></span><span class="hljs-function"> uint </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">qHash</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> MyClass&amp; mc)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> qHash(mc.firstName()) ^ qHash(mc.secondName()); }</code> </pre><br><br>  The <i>QMultiHash</i> class inherits <i>QHash</i> .  It allows you to place values ‚Äã‚Äãwith the same keys and, in general, is similar to <i>QMultiMap</i> , but takes into account the specifics of its parent class. <br><br><h4>  QSet set </h4><br>  As the German mathematician Georg Cantor remarked, ‚ÄúSet - this is a lot, mentally implied by us as one‚Äù.  This single, in the context of Tulip, is nothing more than a <i>QSet</i> container, which records elements in a certain order and provides an opportunity to very quickly view the values ‚Äã‚Äãand perform operations with them that are typical of sets, such as union, intersection, and difference.  A prerequisite is that the keys must be different.  A <i>QSet</i> container can be used as an unordered list for quick data retrieval. <br><br>  Operations that can be performed with sets: union, intersection, difference. <br><br>  Create two sets and write the elements in them: <br><pre> <code class="cpp hljs">QSet&lt;QString&gt; set1; QSet&lt;QString&gt; set2; set1 &lt;&lt; <span class="hljs-string"><span class="hljs-string">"Lorem"</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"Ipsum"</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"Dolor"</span></span>; set2 &lt;&lt; <span class="hljs-string"><span class="hljs-string">"Sit"</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"Amet"</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"Lorem"</span></span>;</code> </pre><br><br>  We perform the operation of combining these two sets, and in order for the elements of the sets to remain unchanged, we introduce the intermediate set <i>setResult</i> : <br><pre> <code class="cpp hljs">QSet&lt;QString&gt; setResult = set1; setResult.unite(set2); qDebug() &lt;&lt; <span class="hljs-string"><span class="hljs-string">" = "</span></span> &lt;&lt; setResult.toList();</code> </pre><br><br>  The following will appear on the screen: <br><br>  <i>Association = ("Lorem", "Ipsum", "Dolor", "Sit", "Amet")</i> <i><br></i> <br><br>  In the same way, <i>intersect ()</i> and <i>subtract ()</i> intersect operations are performed. <br><br><h4>  Results </h4><br>  Today, the reader had to learn how to work with all sorts of Qt containers.  Today I told only a small fraction of the whole picture.  There are Algorithms, Regular Expressions, QVariant, and much more.  Maybe I'll write about them). <br><br><h5>  Literature </h5><br><ol><li>  1. Max Schlee.  Qt 4.5 - Professional C ++ Programming </li><li>  2. Qt Reference Documentation </li></ol><br><br>  PS This article is aimed at training novice programmers. </div><p>Source: <a href="https://habr.com/ru/post/127870/">https://habr.com/ru/post/127870/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../127862/index.html">Amateur HF radio communication, part 1 - the observer</a></li>
<li><a href="../127864/index.html">Data structures in pictures. Linkedlist</a></li>
<li><a href="../127866/index.html">Evolutionary way of thinking</a></li>
<li><a href="../127868/index.html">Nonblocking message queue for two threads</a></li>
<li><a href="../127869/index.html">Nokia N950 Developer Kit for Developer</a></li>
<li><a href="../127871/index.html">About caching resource-intensive SQL queries on a web server</a></li>
<li><a href="../127874/index.html">How to write code?</a></li>
<li><a href="../127875/index.html">Effective way to protect against piracy</a></li>
<li><a href="../127876/index.html">90 Node.js modules for public use</a></li>
<li><a href="../127878/index.html">NTRUEncrypt cryptosystem of the future?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>