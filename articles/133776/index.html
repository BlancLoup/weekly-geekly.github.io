<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Extensions for Google Chrome. Part one. Getting started</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good afternoon, Habr. 

 I want to write a series of articles on creating extensions for Google Chrome. This is what motivates me, firstly, the practi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Extensions for Google Chrome. Part one. Getting started</h1><div class="post__text post__text-html js-mediator-article">  Good afternoon, Habr. <br><br>  I want to write a series of articles on creating extensions for Google Chrome.  This is what motivates me, firstly, the practical use of the development process and subsequent use: you yourself decide what other tasks you want to solve without leaving the browser and, secondly, the absence of any intelligible guides, tutorials and reference books in Russian , with the exception, perhaps, of <a href="http://habrahabr.ru/blogs/programming/127676/">this</a> and <a href="http://habrahabr.ru/blogs/google_chrome/127522/">this</a> article on Habr√©.  The main goal of the cycle is to systematize the scattered information and facilitate the search for potential developers, the benefit is that Habr is indexed well :) <br><br>  In the first (this, I mean) article, on the example of the simplest extension, all the main points related to the development, debugging and use of the extension, the configuration file manifest.json and the beginning of the chrome. * API will be considered.  The first article, I think, will not be very useful for experienced developers (this is a disclaimer). <br><a name="habracut"></a><br><h4>  Hello world </h4><br>  The best theory is practice, and therefore, without delaying them, we create the hello_world folder, and in it the text document manifest.json and type the following code there: <br><pre><code class="javascript hljs">{  <span class="hljs-string"><span class="hljs-string">"name"</span></span> : <span class="hljs-string"><span class="hljs-string">"Hello world"</span></span>, <span class="hljs-comment"><span class="hljs-comment">//   "version" : "1.0", //  "description" : "This is a simple chrome extention" //  }</span></span></code> </pre> <br>  This is the minimum program.  If you go to ‚ÄúWrench ‚Üí Tools ‚Üí Extensions‚Äù, set the ‚ÄúDeveloper mode‚Äù checkbox, click the ‚ÄúDownload unpacked extension ...‚Äù button and specify our ‚ÄúHello world‚Äù folder, the extension will appear in the installed list, but of course it will not be anything yet, because it does not know how. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="http://examples.hautamaki.ru/chromeext/101.jpg" alt="image"><br><br><h4>  Learn and debug </h4><br>  And if he does not know how, he must be taught.  Edit manifest.json: <br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"name"</span></span> : <span class="hljs-string"><span class="hljs-string">"Hello world"</span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span> : <span class="hljs-string"><span class="hljs-string">"1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"description"</span></span> : <span class="hljs-string"><span class="hljs-string">"This is a simple chrome extention"</span></span>, <span class="hljs-string"><span class="hljs-string">"background_page"</span></span> : <span class="hljs-string"><span class="hljs-string">"background.html"</span></span> }</code> </pre><br>  And create a file background.html in which the script will be written, executed in the background.  For example, such: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"application/javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">window</span></span></span><span class="javascript">.onload = </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">window</span></span></span><span class="javascript">.setInterval( </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">console</span></span></span><span class="javascript">.log(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"Hello world"</span></span></span><span class="javascript">); }, </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">10000</span></span></span><span class="javascript">); } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  The script in background.html will be executed once, at the start of the browser and the extension, that is, when you open another tab or window, the script will not be re-executed.  In our case, it will write a sacramental phrase to the console every 10 seconds, and this, by the way, should be checked. <br><br>  For debugging, it is convenient to use the <a href="http://chrome//extensions/">chrome: // extensions /</a> service page with the included developer mode. <br><br><img src="http://examples.hautamaki.ru/chromeext/102.jpg" alt="image"><br><br>  In principle, it duplicates the functionality of the extension management page from the ‚ÄúWrench‚Äù, but I, subjectively, like it more.  Somehow more compact, or what? <br><br>  Here we are interested in two positions: the string ‚ÄúID‚Äù with the internal extension identifier and the subsection ‚ÄúCheck active viewing modes‚Äù in which we see the background.html created by us and by clicking on it we can control the executed script. <br><br>  We look and see that the script regularly writes to the hell world console: <br><br><img src="http://examples.hautamaki.ru/chromeext/103.jpg" alt="image"><br><br>  Pay attention to the chrome-extension format header: // <b>ID</b> / <b>filename</b> .  Knowing the extension identifier in this way you can get to any of its files.  Again it is convenient in the process of debugging extensions. <br><br><h4>  Browser interaction </h4><br>  For the time being, our extension represents such a thing in itself, executing a scenario in the background.  In order for it to start interacting with the browser and its components, you need to become familiar with the chrome. * API.  So, for example, to interact with the browser window, the chrome.browserAction methods are used, and the default values ‚Äã‚Äãare set in manifest.json as follows: <br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"name"</span></span> : <span class="hljs-string"><span class="hljs-string">"Hello world"</span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span> : <span class="hljs-string"><span class="hljs-string">"1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"description"</span></span> : <span class="hljs-string"><span class="hljs-string">"This is a simple chrome extention"</span></span>, <span class="hljs-string"><span class="hljs-string">"background_page"</span></span> : <span class="hljs-string"><span class="hljs-string">"background.html"</span></span>, <span class="hljs-string"><span class="hljs-string">"browser_action"</span></span> : {  <span class="hljs-string"><span class="hljs-string">"default_title"</span></span> : <span class="hljs-string"><span class="hljs-string">"Hello world!!!"</span></span>, <span class="hljs-comment"><span class="hljs-comment">//,       (  ,    )  "default_icon" : "img/icon_world.png", //    ( )  "default_popup" : "popup.html" //      } }</span></span></code> </pre><br>  Do not forget to create popup.html (for now, leave it blank) and put the icon in the img folder, click on ‚ÄúReload‚Äù on the <a href="http://chrome//extensions/">chrome: // extensions /</a> page and look at the result.  The icon of our extension appeared on the extensions panel, and when you click on it, an empty pop-up window appears. <br><br><img src="http://examples.hautamaki.ru/chromeext/104.jpg" alt="image"><br><br>  Icon for those who walk in steps: <br><img src="http://examples.hautamaki.ru/chromeext/icon_world.png" alt="image"><br><br>  All this is manageable using the chrome.browserAction scripts methods: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> chrome.browserAction.setTitle({title:</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"New title"</span></span></span><span class="actionscript">}); </span><span class="hljs-comment"><span class="actionscript"><span class="hljs-comment">//        chrome.browserAction.setPopup({popup:"new_popup.html"}); //        chrome.browserAction.setIcon({path:"new_icon.png"}); //   chrome.browserAction.setBadgeText({text:"text"}); //    chrome.browserAction.setBadgeBackgroundColor({color:[0,0,0]}); //     </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  To practice, let's make background.html do something useful, instead of just shitting the console.  Here, at least the clock.  The number of minutes will be displayed over the icon, while hovering the time will be displayed in the format HH: MM: SS, and in the pop-up window - a clock with arrows. <br><br>  <b>background.html</b> <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"application/javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">window</span></span></span><span class="javascript">.onload = </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">window</span></span></span><span class="javascript">.setInterval( </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> now = </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">new</span></span></span><span class="javascript"> </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">Date</span></span></span><span class="javascript">(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> h = now.getHours(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> m = now.getMinutes(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> s = now.getSeconds(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> badge_text = (m &lt; </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">10</span></span></span><span class="javascript"> ? </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"0"</span></span></span><span class="javascript"> + m : m).toString(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> title_text = (h &lt; </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">10</span></span></span><span class="javascript"> ? </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"0"</span></span></span><span class="javascript"> + h : h) + </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">":"</span></span></span><span class="javascript"> + (m &lt; </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">10</span></span></span><span class="javascript"> ? </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"0"</span></span></span><span class="javascript"> + m : m) + </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">":"</span></span></span><span class="javascript"> + (s &lt; </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">10</span></span></span><span class="javascript"> ? </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"0"</span></span></span><span class="javascript"> + s : s); chrome.browserAction.setBadgeText({</span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">text</span></span></span><span class="javascript">: badge_text}); chrome.browserAction.setTitle({</span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">title</span></span></span><span class="javascript">: title_text}); }, </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">1000</span></span></span><span class="javascript">); } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  <b>popup.html</b> <br><pre> <code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/css"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> * { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">margin</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">0</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">padding</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">0</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">border</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">0</span></span></span><span class="css">; } </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">body</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">background</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">#000</span></span></span><span class="css">; } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> Clock = </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas = </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">false</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.pi = </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">Math</span></span></span><span class="javascript">.PI; } Clock.prototype = { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">get_time</span></span></span><span class="javascript">: </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> now = </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">new</span></span></span><span class="javascript"> </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">Date</span></span></span><span class="javascript">(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> result = { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">milliseconds</span></span></span><span class="javascript">: now.getMilliseconds(), </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">seconds</span></span></span><span class="javascript">: now.getSeconds(), </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">minutes</span></span></span><span class="javascript">: now.getMinutes(), </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">hours</span></span></span><span class="javascript">: now.getHours() } </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">return</span></span></span><span class="javascript"> result; }, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">init</span></span></span><span class="javascript">: </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas = </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">document</span></span></span><span class="javascript">.getElementById(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"clock"</span></span></span><span class="javascript">).getContext(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"2d"</span></span></span><span class="javascript">); }, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">draw</span></span></span><span class="javascript">: </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> now = </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.get_time(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> hangle = (</span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.pi/</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">6</span></span></span><span class="javascript">)*now.hours + (</span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.pi/</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">360</span></span></span><span class="javascript">)*now.minutes + (</span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.pi/</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">21600</span></span></span><span class="javascript">)*now.seconds + (</span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.pi/</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">21600000</span></span></span><span class="javascript">)*now.milliseconds; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> mangle = (</span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.pi/</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">30</span></span></span><span class="javascript">)*now.minutes + (</span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.pi/</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">1800</span></span></span><span class="javascript">)*now.seconds + (</span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.pi/</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">1800000</span></span></span><span class="javascript">)*now.milliseconds; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> sangle = (</span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.pi/</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">30</span></span></span><span class="javascript">)*now.seconds + (</span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.pi/</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">30000</span></span></span><span class="javascript">)*now.milliseconds; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.save(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.fillStyle = </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#000"</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.strokeStyle = </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#000"</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.clearRect(</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">,</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">,</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">200</span></span></span><span class="javascript">,</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">200</span></span></span><span class="javascript">); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.fillRect(</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">,</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">,</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">200</span></span></span><span class="javascript">,</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">200</span></span></span><span class="javascript">); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.translate(</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">100</span></span></span><span class="javascript">,</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">100</span></span></span><span class="javascript">); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.rotate(-</span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.pi/</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">2</span></span></span><span class="javascript">); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.save(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.rotate(hangle); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.lineWidth = </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">8</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.strokeStyle = </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#ffffff"</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.fillStyle = </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#ffffff"</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.lineCap = </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"round"</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.beginPath(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.moveTo(</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">-10</span></span></span><span class="javascript">,</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.lineTo(</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">50</span></span></span><span class="javascript">,</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.stroke(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.restore(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.save(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.rotate(mangle); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.lineWidth = </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">4</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.strokeStyle = </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#ffffff"</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.lineCap = </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"square"</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.beginPath(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.moveTo(</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">-20</span></span></span><span class="javascript">,</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.lineTo(</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">75</span></span></span><span class="javascript">,</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.stroke(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.restore(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.save(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.lineWidth = </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">2</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.strokeStyle = </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#ffffff"</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.fillStyle = </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#333"</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.beginPath(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.arc(</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">,</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">,</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">8</span></span></span><span class="javascript">,</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">,</span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.pi*</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">2</span></span></span><span class="javascript">,</span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript">); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.fill(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.stroke(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.restore(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.save(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.rotate(sangle); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.lineWidth = </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">2</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.strokeStyle = </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#ff0000"</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.lineCap = </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"square"</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.beginPath(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.moveTo(</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">-30</span></span></span><span class="javascript">,</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.lineTo(</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">85</span></span></span><span class="javascript">,</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.stroke(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.restore(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.save(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.lineWidth = </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">6</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.fillStyle = </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#ff0000"</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.beginPath(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.arc(</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">,</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">,</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">3</span></span></span><span class="javascript">,</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">,</span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.pi*</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">2</span></span></span><span class="javascript">,</span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript">); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.fill(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.restore(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.save(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.lineWidth = </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">6</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.strokeStyle = </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#ffffff"</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.beginPath(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.arc(</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">,</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">,</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">95</span></span></span><span class="javascript">,</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">,</span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.pi*</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">2</span></span></span><span class="javascript">,</span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript">); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.stroke(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.restore(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.canvas.restore(); } } </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">window</span></span></span><span class="javascript">.onload = </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> clock = </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">new</span></span></span><span class="javascript"> Clock(); clock.init(); </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">window</span></span></span><span class="javascript">.setInterval(</span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ clock.draw(); }, </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">10</span></span></span><span class="javascript">); } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">canvas</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"clock"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"200"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"200"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">canvas</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  Save, restart, check - beauty! <br><img src="http://examples.hautamaki.ru/chromeext/105.jpg" alt="image"><br><br>  Actually, we made a simple extension (and at the same time, canvas remembered).  For Getting Started, anyway, is enough.  It remains only to bring it to a suitable form for distribution - to pack.  To do this, on the same page <a href="http://chrome//extensions/">chrome: // extensions / we</a> click on ‚ÄúPackaging extensions ...‚Äù, specify the root directory (the one where manifest.json is), click ‚ÄúOK‚Äù and get the output * .crx file.  This is our packaged extension.  Opening it with Chrome, we will install the extension. <br><br>  <a href="">Packed example from the article for installation</a> <br>  <a href="">Source archive</a> <br><br>  In the next article of the cycle, I plan to analyze in detail the chrome. * API, and in the future - interaction with various sites and the use of local data stores.  If you think that I have missed something in the basics or you have any wishes regarding the next articles in the series, please write them in the comments. <br><br>  See ya! <br></div><p>Source: <a href="https://habr.com/ru/post/133776/">https://habr.com/ru/post/133776/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../133769/index.html">Octree visualization and algorithms for working on its structure. Part 1</a></li>
<li><a href="../133770/index.html">How Confluence is used in SAP</a></li>
<li><a href="../133771/index.html">MUK recommends: FortiGate comprehensive network security appliance</a></li>
<li><a href="../133772/index.html">Hacking HDCP copy protection using MitM attacks</a></li>
<li><a href="../133775/index.html">Release IDE Arduino 1.0!</a></li>
<li><a href="../133777/index.html">Live Nyancat in your terminal</a></li>
<li><a href="../133778/index.html">Performance Comparison JSON-serializer for .NET</a></li>
<li><a href="../133780/index.html">We write a primitive and useless compiler</a></li>
<li><a href="../133781/index.html">MySQL query optimization using custom variables</a></li>
<li><a href="../133782/index.html">Google translate + Asterisk IVR</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>