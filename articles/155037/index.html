<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ZigBee networks. Why and why?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="What is a turnip? 
 Goldfish need another net! 

 Actually, I was going to continue the series of topics devoted to the work of the RTLS - real-time p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>ZigBee networks. Why and why?</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/b94/2c7/4eb/b942c74ebf18934bc9e339a13a56d7ad.jpg"><br>  <b><i>What is a turnip?</i></b> <b><i><br></i></b>  <b><i>Goldfish need another net!</i></b> <br><br>  Actually, I was going to continue the series of topics devoted to the work of the RTLS - <a href="http://www.rtlsnet.ru/">real-time positioning system</a> .  Namely, talk about the wireless infrastructure of the system based on ZigBee networks.  But suddenly I was surprised to find that there are no publications on Habrahabr on the IEEE 802.15.4 standard and the ZigBee specification.  There are only a few mentions associated with this or that application.  I will try to fill this gap as much as I can. <br><br>  Recently, wireless sensor networks have become increasingly common and important.  Networks, which in their purpose, parameters, specifications differ significantly from communication networks - WiFi, GSM, LTE, etc.  Among others used in sensor networks, the ZigBee specification stands out - the most advanced add-on to the IEEE 802.15.4 standard. <br>  This year marks 10 years since the founding of the ZigBee Alliance, and in October 5 years have passed since the approval of the current ZigBee Pro Feature Set Set 2006 specifications. So, the publication can be considered a jubilee one. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Those wishing to get acquainted with the self-organizing self-regenerating sensor network that does not require a special frequency resolution, please ask for cat. <br><br><br><a name="habracut"></a><br><br>  I'll start with the headline questions: <br><h4>  <b>What for?</b> </h4><br>  Many applications require wireless communication networks that do not have high transmission speeds, but reliable, robust (self-healing), easy to deploy and operate.  It is also important that the equipment of such networks allowed long-term operation from autonomous power sources, had a low cost, and was compact.  An example of such an application is ‚Äúsmart home‚Äù. <br>  Even 10 years ago, none of the network standards met this combination of requirements, which led to the creation of IEEE 802.15.4 and ZigBee standards that describe robust scalable multi-step wireless networks that are easy to deploy and support a variety of applications. <br><br><h4>  <b>Why choose ZigBee?</b> </h4><br>  ZigBee networks, unlike other wireless data networks, fully satisfy the requirements listed above, namely: <br>  a) thanks to the mesh topology of the network and the use of special routing algorithms, the ZigBee network provides self-healing and guaranteed packet delivery in cases of disconnection between individual nodes (appearance of an obstacle), overload or failure of some element; <br>  b) the ZigBee specification provides for cryptographic protection of data transmitted over wireless channels and a flexible security policy; <br>  c) ZigBee devices are characterized by low power consumption, especially end devices for which a ‚Äúsleep‚Äù mode is provided, which allows these devices to work for up to three years from one conventional AA battery and even AAA; <br>  d) ZigBee network is self-organizing, its structure is set by the configurator‚Äôs stack profile parameters and is generated automatically by attaching (reconnecting) to the network of its devices, which ensures ease of deployment and easy scaling by simply attaching additional devices; <br>  e) ZigBee devices are compact and relatively inexpensive. <br>  Communication over the ZigBee network is accomplished by sequentially relaying packets from the source node to the destination node.  The ZigBee network provides several alternative routing algorithms that are automatically selected. <br>  The standard provides for the possibility of using channels in several frequency bands.  The highest transmission speed and the best noise immunity are achieved in the 2.4 to 2.48 GHz range.  In this range, there are 16 channels of 5 MHz. <br>  The price that had to be paid in ZigBee networks for minimizing power consumption, compactness and cheapness is a relatively low data transfer rate. <br>  "Gross" speed (including service information) is 250 kbps.  The average data transfer rate, depending on the network load and the number of retransmissions, is from 5 to 40 kbit / s. <br>  The distance between network workstations is tens of meters indoors and hundreds of meters outdoors.  Due to retransmissions, the area covered by the network can be quite significant: up to several thousand square meters in a room and up to several hectares in open space.  Moreover, the ZigBee network can be expanded at any time by adding new elements or, on the contrary, divided into several zones by simply assigning the appropriate number of new network configurators.  This is useful to reduce the load and increase the data transfer rate accordingly. <br><br><h4>  <b>A bit of history</b> </h4><br>  <b>ZigBee Alliance</b> was established in 2002.  Now it includes more than 300 companies.  The goal of the alliance is to develop efficient wireless network protocols and ensure compatibility of devices from different manufacturers.  The first standards were ‚Äúborn‚Äù in 2003 and were actively improved and expanded. <br>  Stochastic addressing, Many-to-One and Source Routing routing mechanisms were introduced, as well as the ability to detect asymmetric relationships, which increased the efficiency of ZigBee networks for a number of specific applications. <br>  Standard application profiles and a library of standard clusters have been developed.  This greatly simplified the development of applications, facilitated and accelerated the introduction of new solutions using hardware from different manufacturers. <br>  Introduced a number of new mechanisms that increase the security and reliability of the network. <br>  There is an automatic transition to the "clean" frequency channel in the event of interference. <br>  The current ZigBee Pro Feature Set 2006 specification was adopted in October 2007. <br><br><h4>  <b>ZigBee Devices</b> </h4><br>  ZigBee networks are built from base stations of three main types: coordinators, routers, and end devices. <br>  <b><i>The coordinator</i></b> starts the network and manages it.  It forms the network, performs the functions of the network control center and trust center (trust center) - sets the security policy, sets the settings in the process of connecting devices to the network, controls the security keys. <br>  <i><b>The router</b></i> transmits packets, performs dynamic routing, restores routes in case of network congestion or the failure of any device.  When forming a network, routers join the coordinator or other routers, and can connect child devices ‚Äî routers and end devices.  Routers operate in continuous mode, have a stationary power supply and can service ‚Äúsleeping‚Äù devices.  The router can serve up to 32 sleeping devices. <br>  <b><i>The end device</i></b> can receive and send packets, but does not translate and route them.  End devices can connect to a coordinator or router, but cannot have child devices. <br>  End devices can be put into sleep mode to conserve battery power.  It is the end devices that deal with sensors, local controllers and actuators. <br><br><h4>  <b>Network formation</b> </h4><br>  The ZigBee network is self-organizing, and its work begins with the formation.  The device assigned during the design by the personal network coordinator (PAN coordinator) determines the channel free of interference and waits for connection requests. <br>  Devices attempting to join a network broadcast a request.  While the PAN coordinator is the only device on the network, it responds to the request and provides only one to join the network.  In the future, also joined to the network routers can provide accession to the network. <br>  The device that received the reply to the broadcast request exchanges messages with the connecting device to determine the possibility of the connection.  The ability is determined by the ability of the connecting router to service new devices in addition to those previously connected. <br>  <b>Joining the network (joining)</b> <br>  There are two ways to join: MAC association and re-network attachment (NWK rejoin). <br>  <b>MAS Association</b> <br>  The MAC Association is available to any ZigBee device and is implemented at the MAC level.  The MAC mechanism of the association is as follows: <br>  The device that allows you to join it, puts on the MAC level permission to join. <br>  A device joining the network issues a join request at the MAC level and broadcasts a beacon request. <br>  Having received a beacon from devices that are ready to connect the device being connected, the latter determines which network and device it wants to join, and sets the MAC entry level requirement with the ‚Äúreattachment‚Äù flag set to FALSE. <br>  Then, the incoming device sends an attach request to the device selected for connection and receives a response with the network address assigned to it. <br>  With the association MAS, the data is not encrypted, so the association is not secure. <br>  <b>Repeated network connection</b> Repeated network connection contrary to the name can also be used during the primary connection.  It runs at the network level.  However, if the incoming device knows the current network key, the packet exchange can be secure.  The key can be obtained, for example, when setting up. <br>  When reconnecting, the joining device issues a join request at the network level and exchanges the "join request" - "reply to join request" packet with the connecting device. <br>  <b>Network dynamics</b> <br>  Except when new devices are connected, the network structure also changes in cases when devices leave the network and re-join in other places (this happens, for example, in the case of a device reboot). <br>  The figure below is an example of reconnection.  The device with the address ‚Äú0E3B‚Äù is reconnected as ‚Äú097D‚Äù and then as ‚Äú0260‚Äù.  Each time it joins a different router and obtains an address from the address range available to the connecting router. <br><br><br><img src="https://habrastorage.org/storage2/825/56c/c0e/82556cc0ee63fa071f126dd132be70d6.jpg"><br><br>  Reconnect the end device in the tree <br><br><h4>  <b>Network protocols</b> </h4><br>  The protocols regulated by the IEEE 802.15.4 and ZigBee 2007 Specification standards ensure the formation and operation of a wireless sensor network. <br>  The IEEE 802.15.4 standard defines the physical and MAC layers, and the ZigBee specification defines the network layer and application layer.  The figure shows the ZigBee protocol stack. <br><br><img src="https://habrastorage.org/storage2/335/0ac/6dc/3350ac6dc68ba4e77586aab4822546fa.jpg"><br><br>  ZigBee protocol stack <br><br>  I apologize, but in this place I am forced to interrupt due to the late time.  Description of the protocol stack can be found here: <a href="http://www.rtlsnet.ru/technology/view/3">http://www.rtlsnet.ru/technology/view/3</a> . <br><br>  If habravchane express interest in the topic, I undertake to describe the stack profile, network topology options, routing algorithms, application profiles, clusters, endpoints, bindings, and security.  That is, to tell how, in fact, the topology is formed, routes are built and restored, how external devices are connected and programmed in a standard way - sensors, controllers, actuators. </div><p>Source: <a href="https://habr.com/ru/post/155037/">https://habr.com/ru/post/155037/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../155021/index.html">Convenient embedding of a RESTful API into a project</a></li>
<li><a href="../155023/index.html">Apple sent invitations to the presentation on October 23</a></li>
<li><a href="../155029/index.html">Create a similarity to the TypeScript template.</a></li>
<li><a href="../155031/index.html">Robofollower - Instagram promotion automation</a></li>
<li><a href="../155035/index.html">European Union requires Google to change security policy regarding user data</a></li>
<li><a href="../155039/index.html">We send messages to Notification Center from the browser</a></li>
<li><a href="../155041/index.html">Why do we need priests in high school?</a></li>
<li><a href="../155043/index.html">Protection from spam on servers with ISPmanager</a></li>
<li><a href="../155045/index.html">Rotating beatboards: a new round of old ideas</a></li>
<li><a href="../155051/index.html">True Skin: The Neon Future</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>