<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Virtuilarks arrived!</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Continuing the theme controller "Virt2real", or simply - Virturilka 

 So, the first serious (according to our standards) circulation of the pieces of...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Virtuilarks arrived!</h1><div class="post__text post__text-html js-mediator-article">  Continuing the theme <a href="http://habrahabr.ru/company/virt2real/blog/156491/">controller "Virt2real", or simply - Virturilka</a> <br><br>  So, the first serious (according to our standards) circulation of the pieces of iron was successfully passed by us at the plant and the official customs clearance in Russia.  The reject rate of the main circuit boards was over zero and amounted to 0.5%.  Very well, we expected at the worst 5-6 percent of the marriage.  By the way, there is an idea to give one BarsMonster defective piece of <a href="http://habrahabr.ru/users/barsmonster/" class="user_link">iron</a> to the opening of the probe (if it <a href="http://habrahabr.ru/users/barsmonster/" class="user_link">becomes</a> interested, by itself). <br><br>  At customs, two of the three boxes were subjected to a total check, and as a result, neatly folded bags with boards turned into a chaotic pile.  The bags are dense, so there was no damage (we tested it on arrival, or rather, at the moment we are finishing testing). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  In general, the glands are already in our hands, now the most interesting begins </h4><br><br><img src="https://habrastorage.org/getpro/habr/post_images/8d9/e35/024/8d9e350248c4a415f0b103840a078365.jpg"><br><a name="habracut"></a><br><br>  First we want to apologize to the people who ordered it for the delay.  In addition to industrial and technical problems, it was necessary to solve financial issues.  Negotiations with investors did not produce results, I had to rely on your help and your strength.  The money collected <a href="http://habrahabr.ru/company/virt2real/blog/183892/">on pre-orders</a> covered only half of the amount needed for circulation, so more funds were required.  Half of the team took non-sick loans, the second half of the team harnessed to the most difficult (but expensive and prepaid) side project.  But in the end we got out - collected the necessary funds.  But without your support, we would not have done it, so the project turned out to be a crowdfunding project. <br><br>  Then everything went almost according to plan.  The plant expressed its time (turn, time for production).  After acceptance, delivery of all the iron to Russia to customs, and then to us "to the warehouse" followed. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9df/81c/867/9df81c86752b01580cc5266f2de65417.jpg"><br><br>  Now we are preparing to send the ordered pieces of iron (by courier, by self-delivery, mail, etc). <br><br><h3>  Bonus Boards </h3><br><br>  We promised free bonus boards when collecting pre-orders.  The leader in the "Wishlist" was the power board (motorshild, in the terminology of Arduina), in the second place - the composite video input board. <br><br>  We have not done the bonus cards yet, since all the forces were thrown on the main set (without Virturielka, bonus boards are not needed by anyone).  But with these boards everything is much simpler - we found production in Russia, where they can be assembled.  Dates are much lower than in China.  Those who pre-ordered Virturilka bonus cards will go by separate parcel / courier, delivery from us.  For everyone else - as usual, the fees in our <a href="http://shop.virt2real.ru/">online store</a> . <br><br><h3>  About packaging </h3><br><br>  For the packaging of glands, paper boxes were purchased, foam inserts were cut.  Everything is pretty decent and compact turned out. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dc5/5c6/01d/dc55c601d69a8341cae4d9f50ffb6c96.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/b24/30d/edd/b2430deddaafcd6ca626400688684d4f.jpg"><br><br>  In general, the complete set looks like this <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8fc/d56/f13/8fcd56f1338e1dec0fd2c49f70f505d8.jpg"><br><br><h3>  About boxes </h3><br><br>  Initially, we were not going to make boxes for Virtualullocs, since we planned to use them only in driving / flying devices.  But it turned out that there are a lot of other applications, but they need a case, a box.  We were contacted by a representative of a company that manufactures and sells ready-made enclosures for different controllers and offered to produce boxes for Virturilka.  We liked the test samples, so we recommend. <br><br>  Store address by boxes - <a href="http://www.zigo.am/products/virt2real-enclosures/">www.zigo.am/products/virt2real-enclosures/</a> <br><br>  The current version of the box is only suitable for the main board, without the Wi-Fi module, because when the model was being made there was no Wi-Fi available.  The module itself is sticking out, but the box requires modification with a file (cut the hole for the antenna).  The second version of the boxes in view of the Wi-Fi module board will be soon. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5a2/c72/a1f/5a2c72a1f5892646dc1bbfcf8cadc187.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/e29/a4b/92e/e29a4b92e992e86a0f7be8cde1d50da7.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/afd/701/5c4/afd7015c4e51bc70d2f4a38ed645a465.jpg"><br><br><h4>  Software plugging, nid help </h4><br><br>  TI for its processors periodically lays out the so-called PSP - Platform Support Package.  This is a set of software components for the operation of boards based on their processors, for example, used in our DM365 family of DaVinci.  As part of the PSP there is a proven Linux, a set of modules for hardware acceleration of codecs and so on.  But all the official PSPs are based on a rather old kernel, 2.6.32 (and a little fresher 2.6.37).  All DSP modules and GStreamer plugins are sharpened for use only with the 2.6.32 kernel, and version 2.6.37 is no longer supported, since the concept of organizing the embedded video subsystem, which was called the Media Application Framework, has changed there.  Therefore, GStreamer does not know how to work with new type video sources.  But besides the PSP, TI also puts out a package of software called DVSDK.  It includes DSP modules, as well as a bunch of examples of source codes for working with encoding and video transmission, but not a word about GStreamer.  But nevertheless it is much more convenient to interact with the GTR, so we didn‚Äôt have a choice - we need to cut everything that is possible, if only it would work with the new core (accordingly, with the new video subsystem). <br><br>  Since this task alone draws on a rather non-sickly project, it was decided to make a feint with the ears - to port the old subsystem to a new core, which was successfully done.  Now the camera is already seen as an ordinary v4l2 device, the ezmer is cheering on the stream it gives.  But there was one nuance with one of the DSP modules (cmem.ko).  The module is ridiculously simple, but does the basic work of translating memory addresses necessary for the correct operation of hardware acceleration.  Here on this module now and densely sat down.  It definitely will win, but everything depends on time. <br><br>  By the way, it is quite possible that we will end up with the only firmware (and the only SDK) with a new kernel but with a video subsystem suitable for working with video by the classical method - through GStreamer. <br><br>  As a result, I will summarize - now in our current (but not yet completely committed) SDK everything works, except for the camera.  More precisely, the camera also works, but without hardware acceleration, and this is the most delicious. <br><br>  Therefore, there are several scenarios: <br><br><h6>  Option 1. </h6><br>  Post the firmware on the basis of the old, officially supported, kernel 2.6.32. <br>  Pros - everything works, including video capture.  Cons - the old kernel, with all the consequences, some of the necessary drivers are quite old and work crookedly on the old kernel.  A dead option, in short - without potential development, so that we did not even touch it.  If you lay it out - you need to finish it urgently. <br><br><h6>  Option 2. </h6><br>  Wait for the DSP module to be completed and then upload the firmware. <br>  Pros - it works.  Cons - a man bought a piece of metal, but can not flash and play with it.  The worst option, so it does not even consider <br><br><h6>  Option 3. </h6><br>  Post the current firmware as it is. <br>  Pros - everything works except DSP.  Cons - DSP does not work. <br><br>  We are inclined to the third option, as the most appropriate to all, so that is exactly what we will do. <br><br>  Now the most interesting for Linux programmers.  If someone reading this opus has experience working with the video subsystem of the Linux kernel (it‚Äôs the nuclear part of video capture from digital cameras) and you want to participate in the development - weeks in lichku.  We will provide iron, this is no problem, we have a lot of them now available :-) It is quite possible that we missed something and everything is much simpler than it seems, but judging by the discussions on TI forum, the situation is exactly as we think and I wrote a little higher. <br><br><h3>  Conclusion </h3><br><br>  I will write the conclusion on my own behalf.  Since I had the very first samples of Virturilka in my hands, I used it in all projects.  Some projects can not be published, so I keep quiet about them.  From public - <a href="http://www.g0l.ru/blog/tags/%25D1%2582%25D0%25B0%25D1%2587%25D0%25BA%25D0%25B0%2520%25D0%25B4%25D0%25B6%25D0%25B5%25D0%25B9%25D0%25BC%25D1%2581%25D0%25B0%2520%25D0%25B1%25D0%25BE%25D0%25BD%25D0%25B4%25D0%25B0">Wheelbarrow Bond</a> , <a href="http://www.g0l.ru/blog/n3725">Tank Battles</a> , <a href="http://www.g0l.ru/blog/n3798">tank T-90</a> .  And also a bunch of small things like guided carts, claws, boats, etc.  Hands did not reach to test on the quadcopter, we plan this in the near future.  For me, Virtuirlka turned out to be very convenient for such items. <br><br>  And now we very much hope that Virturile and for you (and not just for Gol, approx. Gol) will be a convenient tool for the quick realization of your ideas.  We are very worried and worried about our offspring.  We are afraid, but we are waiting for comments and feedback.  Both positive and negative (where do without them). <br><br><h4>  Thanks again!  The moral support of Habrayusers and Habragosti helped us a lot all this time. </h4><br><br><h6>  Related Links: </h6><br>  The official site <a href="http://virt2real.ru/">virt2real.ru</a> <br>  The official online store <a href="http://shop.virt2real.ru/">http://shop.virt2real.ru/</a> (formerly Mikrogonki.ru) <br>  Official Wiki (in the process of filling) <a href="http://wiki.virt2real.ru/">wiki.virt2real.ru</a> <br>  Official Twitter <a href="https://twitter.com/virt2real">https://twitter.com/virt2real</a> <br>  Unofficial blog <a href="http://www.g0l.ru/blog/262">http://www.g0l.ru/blog/262</a> </div><p>Source: <a href="https://habr.com/ru/post/191740/">https://habr.com/ru/post/191740/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../191712/index.html">Windows Azure for startups: resources for $ 150 every month</a></li>
<li><a href="../191714/index.html">Evernote for Windows Phone 8 Update: Continuous Shooting, Speech to Text, and More</a></li>
<li><a href="../191722/index.html">Save to my Dropbox as a way to have fun</a></li>
<li><a href="../191726/index.html">Google Nexus 4 is now from $ 199</a></li>
<li><a href="../191738/index.html">Dell Webcast: Alienware Line Update</a></li>
<li><a href="../191742/index.html">Hackay Transcend WiFi SDHC memory card</a></li>
<li><a href="../191744/index.html">GetThemAll or take the best from the Internet!</a></li>
<li><a href="../191746/index.html">Rights holders and the Internet - from dispute to the market. Yandex Position</a></li>
<li><a href="../191748/index.html">Preparing your environment and compiling Shareaza today</a></li>
<li><a href="../191750/index.html">Google Translate: a guide for the complete idiot</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>