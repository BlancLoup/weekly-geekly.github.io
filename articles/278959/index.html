<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>A fresh look at the Oracle VM VirtualBox code</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Virtual machines are an important tool in the software developer‚Äôs arsenal. My interest in VirtualBox code is caused by the personal use of this produ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>A fresh look at the Oracle VM VirtualBox code</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/0f1/f27/a1c/0f1f27a1cdd68c9518629c46c5dd1d20.png" align="left">  Virtual machines are an important tool in the software developer‚Äôs arsenal.  My interest in VirtualBox code is caused by the personal use of this product for checking open projects, as well as for other various tasks associated with using several operating systems.  The first test of this project took place in 2014, then the description of about 50 errors barely fit into two articles.  With the release of Windows 10 and VirtualBox 5.0.XX, in my opinion, the stability of the program has noticeably deteriorated.  So I decided to check the project again. <br><a name="habracut"></a><br><h2>  Introduction </h2><br>  <a href="https://www.virtualbox.org/">VirtualBox</a> (Oracle VM VirtualBox) - software for the operating system that allows you to present a virtual set of resources in a particular environment.  Supported by the following operating systems: Microsoft Windows, FreeBSD, Solaris / OpenSolaris, Linux, Mac OS X, DOS, ReactOS and others. <br><br>  The first articles about VirtualBox can be found at the links: <ul><li>  <a href="http://www.viva64.com/ru/b/0281/">We check Oracle VM VirtualBox.</a>  <a href="http://www.viva64.com/ru/b/0281/">Part 1</a> </li><li>  <a href="http://www.viva64.com/ru/b/0282/">We check Oracle VM VirtualBox.</a>  <a href="http://www.viva64.com/ru/b/0282/">Part 2</a> </li></ul><br>  They contain more than 50 dangerous places that were found with PVS-Studio 5.18.  In the new analyzer report, I have not met such warnings.  The developers did not pass by the articles and corrected all the warnings indicated by the analyzer.  Those who are interested can find these places in the latest version of the source code and see how the correction of PVS-Studio warnings looks like in a real project.  After the new check, I met many other interesting messages. <br><br>  With this article I want to show that only regular use of a static analyzer (not necessarily PVS-Studio) will allow maintaining high quality code.  The experience of <a href="http://www.viva64.com/ru/b/0330/">fixing all the analyzer warnings in the Unreal Engine code</a> showed that the number of errors in the developed project will constantly increase, and after one-time checks, the quality of the code will gradually become the same, and new errors will begin to accumulate.  The VirtualBox project has a similar situation.  The increase in the number of analyzer warnings after a one-time check is approximately as follows: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/344/b5a/984/344b5a984ec7a43f570be24fa7c32ad1.png"></div><br><br>  It is important to emphasize that regular use of the analyzer means daily checks.  Many of the errors that are detected at the testing stage could be eliminated at the stage of writing the code. <br><br>  Another advantage of regular use of static analyzers is the availability of regular updates.  Since PVS-Studio analyzer, since the first verification of the VirtualBox code, more than 50 new diagnostic rules have been added.  About errors found with the help of new diagnostics, I will tell in the last section. <br><br>  The source code of Oracle VM VirtualBox was checked with <a href="http://www.viva64.com/ru/pvs-studio/">PVS-Studio</a> version 6.02. <br><br>  Probably, the number of the audited revision is useful to someone: <br><pre><code class="cpp hljs">Checked out external at revision <span class="hljs-number"><span class="hljs-number">2796.</span></span> Checked out revision <span class="hljs-number"><span class="hljs-number">59777.</span></span></code> </pre> <h2>  Stubborn mistakes </h2><br>  Before writing the article, I looked at what was found earlier using the analyzer.  And I found very similar errors in the new code.  It is possible that this code was written by the same person. <br><br><blockquote>  <a href="http://www.viva64.com/ru/d/0110/">V521</a> Such expressions using the ',' operator are dangerous.  Make sure the expression is correct.  vboxmpwddm.cpp 1083 </blockquote><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">NTSTATUS </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DxgkDdiStartDevice</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(...)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( ARGUMENT_PRESENT(MiniportDeviceContext) &amp;&amp; ARGUMENT_PRESENT(DxgkInterface) &amp;&amp; ARGUMENT_PRESENT(DxgkStartInfo) &amp;&amp; ARGUMENT_PRESENT(NumberOfVideoPresentSources), <span class="hljs-comment"><span class="hljs-comment">// &lt;= ARGUMENT_PRESENT(NumberOfChildren) ) { .... } .... }</span></span></code> </pre> <br>  There was a similar code in the first article.  Let me remind you that the comma operator ',' calculates both the left and right operand.  The fact is that the value of the left operand is no longer used, and the result of the operator is the value of the right operand.  Most likely, they wanted to use the '&amp;&amp;' operator, as in the other lines. <br><br><blockquote>  <a href="http://www.viva64.com/ru/d/0108/">V519</a> The 'pThis-&gt; aCSR [103]' variable is assigned values ‚Äã‚Äãtwice successively.  Perhaps this is a mistake.  Check lines: 1230, 1231. devpcnet.cpp 1231 </blockquote><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pcnetSoftReset</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(PPCNETSTATE pThis)</span></span></span><span class="hljs-function"> </span></span>{ .... pThis-&gt;aCSR[<span class="hljs-number"><span class="hljs-number">94</span></span>] = <span class="hljs-number"><span class="hljs-number">0x0000</span></span>; pThis-&gt;aCSR[<span class="hljs-number"><span class="hljs-number">100</span></span>] = <span class="hljs-number"><span class="hljs-number">0x0200</span></span>; pThis-&gt;aCSR[<span class="hljs-number"><span class="hljs-number">103</span></span>] = <span class="hljs-number"><span class="hljs-number">0x0105</span></span>; <span class="hljs-comment"><span class="hljs-comment">// &lt;= pThis-&gt;aCSR[103] = 0x0105; // &lt;= .... }</span></span></code> </pre> <br>  The code contains duplicate lines.  A similar place from the first article, the developers have corrected by removing the extra line.  And what about this snippet: an error in the array index or also an extra string, we will find out in the next versions of VirtualBox. <br><br><blockquote>  <a href="http://www.viva64.com/ru/d/0090/">V501</a> There are identical sub-expressions 'mstrFormat.equalsIgnoreCase ("text / plain")'  operator.  vboxdnddataobject.cpp 382 </blockquote><br><pre> <code class="cpp hljs">STDMETHODIMP VBoxDnDDataObject::GetData(....) { .... <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( mstrFormat.equalsIgnoreCase(<span class="hljs-string"><span class="hljs-string">"text/plain"</span></span>) <span class="hljs-comment"><span class="hljs-comment">// &lt;= || mstrFormat.equalsIgnoreCase("text/html") || mstrFormat.equalsIgnoreCase("text/plain;charset=utf-8") || mstrFormat.equalsIgnoreCase("text/plain;charset=utf-16") || mstrFormat.equalsIgnoreCase("text/plain") // &lt;= || mstrFormat.equalsIgnoreCase("text/richtext") || mstrFormat.equalsIgnoreCase("UTF8_STRING") || mstrFormat.equalsIgnoreCase("TEXT") || mstrFormat.equalsIgnoreCase("STRING")) { .... }</span></span></code> </pre> <br>  Well copy-paste programming will live forever.  Here and so there are two identical text / plain checks, so this whole block of code was safely copied to another file: <ul><li>  V501 There are identical sub-expressions '! RTStrICmp (pszFormat, ‚Äútext / plain‚Äù)' to the left and to the right of the '||'  operator.  vboxdnd.cpp 834 </li></ul><br><h2>  define true false;  // successful debugging! </h2><br>  It turns out that such a code is not a joke, but is present in various projects in real projects. <br><br><blockquote>  <a href="http://www.viva64.com/ru/d/0137/">V547</a> Expression is always false.  Unsigned type value is never &lt;0. dt_subr.c 715 </blockquote><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dt_printf</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">dtrace_hdl_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *dtp, FILE *fp, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *format, ...)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (vsnprintf(&amp;dtp-&gt;dt_buffered_buf[dtp-&gt;dt_buffered_offs], <span class="hljs-comment"><span class="hljs-comment">//&lt;= avail, format, ap) &lt; 0) { rval = dt_set_errno(dtp, errno); va_end(ap); return (rval); } .... }</span></span></code> </pre> <br>  At first glance, there is nothing to complain about except the analyzer.  The documentation for the vsnprintf function explicitly states that a negative number is returned in the event of an error.  As a result, I even passed this code fragment to one of the developers of the C ++ code analyzer core, as an example of a false positive.  But no, it turned out that the analyzer is right. <br><br>  Who would have thought that somewhere in one of the thousands of header files to meet the line: <br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> vsnprintf RTStrPrintfV</span></span></code> </pre> <br>  In the <a href="http://www.viva64.com/ru/t/0076/">preprocessed file, the</a> source fragment will be disclosed as follows: <br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (RTStrPrintfV(&amp;dtp-&gt;dt_buffered_buf[dtp-&gt;dt_buffered_offs], avail, format, ap) &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { rval = dt_set_errno(dtp, (*_errno())); ( ap = (va_list)<span class="hljs-number"><span class="hljs-number">0</span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (rval); }</code> </pre> <br>  The RTStrPrintfV () function returns the value of the unsigned type 'size_t', rather than the signed 'int', therefore, this check leads to a logical error, since  virtually no verification is performed. <br><br>  Function prototypes for comparison: <br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> RTStrPrintfV(<span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *, <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *, va_list args); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vsnprintf</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">size_t</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *, va_list arg )</span></span></span></span>;</code> </pre> <h2>  Suspicious "From-To" code </h2><br><blockquote>  <a href="http://www.viva64.com/ru/d/0168/">V570</a> The 'from-&gt; eval1D [i] .u1' variable is assigned to itself.  state_evaluators.c 1006 </blockquote><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">crStateEvaluatorDiff</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(CREvaluatorBits *e, CRbitvalue *bitID, CRContext *fromCtx, CRContext *toCtx)</span></span></span><span class="hljs-function"> </span></span>{ .... from-&gt;eval1D[i].order = to-&gt;eval1D[i].order; from-&gt;eval1D[i].u1 = from-&gt;eval1D[i].u1; <span class="hljs-comment"><span class="hljs-comment">// &lt;= from-&gt;eval1D[i].u2 = from-&gt;eval1D[i].u2; // &lt;= ... }</span></span></code> </pre> <br>  The analyzer detected suspicious variable assignments to itself.  Most likely, an object with the name 'to', rather than 'from', should be used to the right of the assignment operator. <br><br>  Five more places in this file: <ul><li>  V570 The 'from-&gt; eval1D [i] .u2' variable is assigned to itself.  state_evaluators.c 1007 </li><li>  V570 The 'from-&gt; eval2D [i] .u1' variable is assigned to itself.  state_evaluators.c 1042 </li><li>  V570 The 'from-&gt; eval2D [i] .u2' variable is assigned to itself.  state_evaluators.c 1043 </li><li>  V570 The 'from-&gt; eval2D [i] .v1' variable is assigned to itself.  state_evaluators.c 1044 </li><li>  V570 The 'from-&gt; eval2D [i] .v2' variable is assigned to itself.  state_evaluators.c 1045 </li></ul><br><blockquote>  <a href="http://www.viva64.com/ru/d/0242/">V625</a> Consider inspecting the 'for' operator.  Initial and final values ‚Äã‚Äãof the iterator are the same.  state_transform.c 1365 </blockquote><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">crStateTransformDiff</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(...., CRContext *fromCtx, CRContext *toCtx )</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i = to-&gt;colorStack.depth; i &lt;= to-&gt;colorStack.depth; i++) { LOADMATRIX(to-&gt;colorStack.<span class="hljs-built_in"><span class="hljs-built_in">stack</span></span> + i); from-&gt;colorStack.<span class="hljs-built_in"><span class="hljs-built_in">stack</span></span>[i] = to-&gt;colorStack.<span class="hljs-built_in"><span class="hljs-built_in">stack</span></span>[i]; <span class="hljs-comment"><span class="hljs-comment">/* Don't want to push on the current matrix */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (i != to-&gt;colorStack.depth) diff_api.PushMatrix(); } .... }</code> </pre> <br>  I decided to describe such errors in a separate section due to the fact that there is another suspicious place in the code using the names 'to' and 'from'. <br><br>  In this code snippet, the starting and ending values ‚Äã‚Äãof the loop counter match.  As a result, only one iteration is performed in the loop.  Most likely again a typo in the name of the object 'to'. <br><br><h2>  About the priorities of operations </h2><br><blockquote>  <a href="http://www.viva64.com/ru/d/0159/">V564</a> The '&amp;' operator is applied to bool type value.  You've probably forgotten to include the operator.  glsl_shader.c 4102 </blockquote><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">generate_texcoord_assignment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ DWORD <span class="hljs-built_in"><span class="hljs-built_in">map</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i; <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> reg_mask[<span class="hljs-number"><span class="hljs-number">6</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!ps) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i = <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">map</span></span> = ps-&gt;baseShader.reg_maps.texcoord; <span class="hljs-built_in"><span class="hljs-built_in">map</span></span> &amp;&amp; i &lt; min(<span class="hljs-number"><span class="hljs-number">8</span></span>, MAX_REG_TEXCRD); <span class="hljs-built_in"><span class="hljs-built_in">map</span></span> &gt;&gt;= <span class="hljs-number"><span class="hljs-number">1</span></span>, ++i) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!<span class="hljs-built_in"><span class="hljs-built_in">map</span></span> &amp; <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-comment"><span class="hljs-comment">// &lt;= continue; .... } }</span></span></code> </pre> <br>  Because of the forgotten brackets in the condition "! Map &amp; 1" the value of the variable 'map' is checked for equality to zero, and the least significant one bit is not set to one.  The error in this place is also indicated by the fact that checking the value of 'map' for zero is already present in the condition of stopping the cycle.  Thus, this condition is always false and the 'continue' operator is never executed. <br><br>  Most likely, the condition must be written as follows: <br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( !(<span class="hljs-built_in"><span class="hljs-built_in">map</span></span> &amp; <span class="hljs-number"><span class="hljs-number">1</span></span>) ) <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>;</code> </pre> <br><blockquote>  <a href="http://www.viva64.com/ru/d/0194/">V590</a> Consider inspecting this expression.  The expression is misprint.  vboxdispcm.cpp 288 </blockquote><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">HRESULT </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vboxDispCmSessionCmdGet</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... Assert(hr == S_OK || hr == S_FALSE); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (hr == S_OK || hr != S_FALSE) <span class="hljs-comment"><span class="hljs-comment">// &lt;= { return hr; } .... }</span></span></code> </pre> <br>  The analyzer detected a suspicious condition in which the subroutine "hr == S_OK" does not affect the result of the whole condition. <br><br>  This can be seen by looking at the truth table of this conditional expression: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5fe/783/f53/5fe783f53fb98975030136cede93e176.png"></div><br><br>  By the way, next to this condition is no less suspicious Assert (), in which there is a modified conditional expression. <br><br>  In general, this type of error is a very common phenomenon.  For example, <a href="http://www.viva64.com/ru/b/0377/">the FreeBSD kernel</a> is no exception. <br><br>  The entire list of suspicious places from VirtualBox: <ul><li>  V590 Consider inspecting the 'err == 0L ||  err! = 1237L 'expression.  The expression is misprint.  vboxdisplay.cpp 656 </li><li>  V590 Consider inspecting the 'rc == 3209 ||  rc! = (- 3210) 'expression.  The expression is misprint.  vd.cpp 10876 </li><li>  V590 Consider inspecting the 'rc == 3209 ||  rc! = (- 3210) 'expression.  The expression is misprint.  vd.cpp 10947 </li><li>  V590 Consider inspecting the 'rc == 3209 ||  rc! = (- 3210) 'expression.  The expression is misprint.  vd.cpp 11004 </li><li>  V590 Consider inspecting the 'rc == 3209 ||  rc! = (- 3210) 'expression.  The expression is misprint.  vd.cpp 11060 </li></ul><br><h2>  Miscellaneous Warnings </h2><br><blockquote>  <a href="http://www.viva64.com/ru/d/0100/">V511</a> The sizeof () operator, the sizeof (plane) expression.  devvga-svga3d-win.cpp 4650 </blockquote><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vmsvga3dSetClipPlane</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(...., </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> plane[</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">4</span></span></span></span><span class="hljs-function"><span class="hljs-params">])</span></span></span><span class="hljs-function"> </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment">// &lt;= { .... /* Store for vm state save/restore. */ pContext-&gt;state.aClipPlane[index].fValid = true; memcpy(pContext-&gt;state.aClipPlane[....], plane, sizeof(plane)); .... }</span></span></span></span></code> </pre> <br>  The variable 'plane' is only a pointer to an array of type 'float'.  The value of ‚Äúsizeof (plane)‚Äù will be 4 or 8, depending on the bitness of the program.  And the number '[4]' in the parameters of the function only prompts the programmer that an array of 4 elements of the type 'float' is passed to the function.  Thus, the memcpy () function copies the wrong number of bytes. <br><br><blockquote>  <a href="http://www.viva64.com/ru/d/0106/">V517</a> The use of if (A) {...} else if (A) {...} 'pattern was detected.  There is a possibility of logical error presence.  Check lines: 411, 418. mp-r0drv-nt.cpp 411 </blockquote><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rtMpCallUsingDpcs</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (enmCpuid == RT_NT_CPUID_SPECIFIC) <span class="hljs-comment"><span class="hljs-comment">// &lt;= { KeInitializeDpc(&amp;paExecCpuDpcs[0], rtmpNtDPCWrapper, pArgs); KeSetImportanceDpc(&amp;paExecCpuDpcs[0], HighImportance); KeSetTargetProcessorDpc(&amp;paExecCpuDpcs[0], (int)idCpu); pArgs-&gt;idCpu = idCpu; } else if (enmCpuid == RT_NT_CPUID_SPECIFIC) // &lt;= { KeInitializeDpc(&amp;paExecCpuDpcs[0], rtmpNtDPCWrapper, pArgs); KeSetImportanceDpc(&amp;paExecCpuDpcs[0], HighImportance); KeSetTargetProcessorDpc(&amp;paExecCpuDpcs[0], (int)idCpu); pArgs-&gt;idCpu = idCpu; KeInitializeDpc(&amp;paExecCpuDpcs[1], rtmpNtDPCWrapper, pArgs); KeSetImportanceDpc(&amp;paExecCpuDpcs[1], HighImportance); KeSetTargetProcessorDpc(&amp;paExecCpuDpcs[1], (int)idCpu2); pArgs-&gt;idCpu2 = idCpu2; } .... }</span></span></code> </pre> <br>  Because of the same expressions in the conditions cascade, the part of the code that is in the second condition never gets control. <br><br><blockquote>  <a href="http://www.viva64.com/ru/d/0120/">V531</a> It is odd that a sizeof () operator is multiplied by sizeof ().  tstrtfileaio.cpp 61 </blockquote><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tstFileAioTestReadWriteBasic</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(...., </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">uint32_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> cMaxReqsInFlight)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* Allocate request array. */</span></span> RTFILEAIOREQ *paReqs; paReqs = (...., cMaxReqsInFlight * <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(RTFILEAIOREQ)); RTTESTI_CHECK_RETV(paReqs); RT_BZERO(..., <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(cMaxReqsInFlight) * <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(RTFILEAIOREQ)); <span class="hljs-comment"><span class="hljs-comment">/* Allocate array holding pointer to data buffers. */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> **papvBuf = (...., cMaxReqsInFlight * <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">void</span></span> *)); .... }</code> </pre> <br>  The analyzer detected a suspicious product of two sizeof () operators.  If you look at the macro 'RT_BZERO', then the question arises: "Why get the size of a variable of the type 'uint32_t' and multiply by the size of another type?".  In the adjacent sections of the code, the size of the array is calculated as "cMaxReqsInFlight * sizeof (RTFILEAIOREQ)".  Most likely, the same size should be used in the line with 'RT_BZERO', but accidentally made a mistake. <br><br><blockquote>  <a href="http://www.viva64.com/ru/d/0137/">V547</a> Expression 'sd&gt; = 0' is always true.  Unsigned type value is always&gt; = 0. vboxservicevminfo.cpp 1086 </blockquote><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vgsvcVMInfoWriteNetwork</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ .... SOCKET sd = WSASocket(AF_INET, SOCK_DGRAM, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (pAdpInfo) RTMemFree(pAdpInfo); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sd &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-comment"><span class="hljs-comment">// &lt;= closesocket(sd); .... }</span></span></code> </pre> <br>  The SOCKET type (in Visual C ++) is unsigned, so the ‚Äúsd&gt; = 0‚Äù check is meaningless.  The reason for this code is clear: the project is built for different operating systems, and on Unix systems, socket values ‚Äã‚Äãare stored in the signed variable 'int'.  In general, the code for working with sockets is written correctly: constants from system header files are used everywhere to check states.  But the cross-platform code contains a lot of conditional preprocessor directives, so in one place did not notice the check, which for Windows is always true. <br><br><blockquote>  <a href="http://www.viva64.com/ru/d/0153/">V560</a> A part of the conditional expression is always true: 0x1fbe.  tstiprtministring.cpp 442 </blockquote><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test2</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(RTTEST hTest)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (RTUNICP uc = <span class="hljs-number"><span class="hljs-number">1</span></span>; uc &lt;= <span class="hljs-number"><span class="hljs-number">0x10fffd</span></span>; uc++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (uc == <span class="hljs-number"><span class="hljs-number">0x131</span></span> || uc == <span class="hljs-number"><span class="hljs-number">0x130</span></span> || uc == <span class="hljs-number"><span class="hljs-number">0x17f</span></span> || <span class="hljs-number"><span class="hljs-number">0x1fbe</span></span>)<span class="hljs-comment"><span class="hljs-comment">// &lt;= continue; //^^^^^^ if (RTUniCpIsLower(uc)) { RTTESTI_CHECK_MSG(....), ("%#x\n", uc)); strLower.appendCodePoint(uc); } if (RTUniCpIsUpper(uc)) { RTTESTI_CHECK_MSG(....), ("%#x\n", uc)); strUpper.appendCodePoint(uc); } } .... }</span></span></code> </pre> <br>  Typically, the article does not get warnings issued on files for testing.  It is easy to exclude messages issued for all files in the specified directory from the PVS-Studio report.  But I decided to write one example.  It is interesting because the test does not check anything because of a typo.  At each iteration of the for () loop, the 'continue' statement is executed.  The condition omitted the expression "uc ==", so just the value '0x1fbe' will always be true.  This is a good example of how <a href="http://www.viva64.com/ru/a/0080/">static analysis complements unit testing</a> . <br><br>  Correct option: <br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (uc == <span class="hljs-number"><span class="hljs-number">0x131</span></span> || uc == <span class="hljs-number"><span class="hljs-number">0x130</span></span> || uc == <span class="hljs-number"><span class="hljs-number">0x17f</span></span> || uc == <span class="hljs-number"><span class="hljs-number">0x1fbe</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>;</code> </pre> <br><blockquote>  <a href="http://www.viva64.com/ru/d/0225/">V610</a> Undefined behavior.  Check the shift operator '&lt;&lt;'.  The left operand '(- 2)' is negative.  translate.c 2708 </blockquote><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">gen_push_T1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(DisasContext *s)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (s-&gt;ss32 &amp;&amp; !s-&gt;addseg) gen_op_mov_reg_A0(<span class="hljs-number"><span class="hljs-number">1</span></span>, R_ESP); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> gen_stack_update(s, (<span class="hljs-number"><span class="hljs-number">-2</span></span>) &lt;&lt; s-&gt;dflag); .... }</code> </pre> <br>  According to modern C and C ++ standards, a negative number shift leads to undefined behavior. <br><br>  Here are two more similar places: <ul><li>  V610 Undefined behavior.  Check the shift operator '&lt;&lt;'.  The left operand is negative ('i64' = [-1..0]).  tarvfs.cpp 234 </li><li>  V610 Undefined behavior.  Check the shift operator '&lt;&lt;'.  The left operand '-16' is negative.  translate.c 2761 </li></ul><br><h2>  Todo'shki </h2><br><blockquote>  <a href="http://www.viva64.com/ru/d/0112/">V523</a> The 'then' statement is equivalent to the 'else' statement.  state_evaluators.c 479 </blockquote><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">map2</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(G....)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (g-&gt;extensions.NV_vertex_program) { <span class="hljs-comment"><span class="hljs-comment">/* XXX FIXME */</span></span> i = target - GL_MAP2_COLOR_4; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { i = target - GL_MAP2_COLOR_4; } .... }</code> </pre> <br>  The marks "FIXME" and "TODO" can live in the source code for a very long time.  But the static analyzer will not let you forget about the unfinished code. <br><br><blockquote>  <a href="http://www.viva64.com/ru/d/0119/">V530</a> e1kHandleRxPacket 'return value of function is required to be utilized.  deve1000.cpp 3913 </blockquote><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">e1kTransmitFrame</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(PE1KSTATE pThis, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> fOnWorkerThread)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-comment"><span class="hljs-comment">/** @todo do we actually need to check that we're in loopback mode here? */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (GET_BITS(RCTL, LBM) == RCTL_LBM_TCVR) { E1KRXDST status; RT_ZERO(status); status.fPIF = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; e1kHandleRxPacket(pThis, pSg-&gt;aSegs[<span class="hljs-number"><span class="hljs-number">0</span></span>].pvSeg, ....); <span class="hljs-comment"><span class="hljs-comment">// &lt;= rc = VINF_SUCCESS; // &lt;= } e1kXmitFreeBuf(pThis); .... }</span></span></code> </pre> <br>  In other parts of the source code, the result of the e1kHandleRxPacket () function is usually stored in the 'rc' variable.  But until the code is added, the result of the function is not used here, and ‚ÄúVINF_SUCCESS‚Äù is always saved in the status. <br><br><h2>  New diagnostics </h2><br>  In this section, I will describe the warnings of the analyzer that appeared in PVS-Studio after the previous verification of the VirtualBox project. <br><br><blockquote>  <a href="http://www.viva64.com/ru/d/0435/">V745</a> A 'wchar_t *' type string is incorrectly converted to 'BSTR' type string.  Consider using 'SysAllocString' function.  vboxcredentialprovider.cpp 231 </blockquote><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> HRESULT </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">VBoxCredentialProviderRegisterSENS</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ .... hr = pIEventSubscription-&gt;put_EventClassID( <span class="hljs-string"><span class="hljs-string">L"{d5978630-5b9f-11d1-8dd2-00aa004abd5e}"</span></span>); .... }</code> </pre> <br>  The analyzer found that with a string like ‚Äúwchar_t *‚Äù they start working as with a string of type BSTR. <br><br>  BSTR (basic string or binary string) is a string data type used in COM, Automation, and Interop functions.  A string of this type consists of a prefix of 4 bytes in length, a data string, and a delimiter of two null characters.  The length prefix is ‚Äã‚Äãindicated immediately before the first character of the string and does not take into account the delimiter character.  With this use, the length prefix before the beginning of the data line will be absent. <br><br>  Corrected using the SysAllocString () function: <br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> HRESULT </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">VBoxCredentialProviderRegisterSENS</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ .... hr = pIEventSubscription-&gt;put_EventClassID(SysAllocString( <span class="hljs-string"><span class="hljs-string">L"{d5978630-5b9f-11d1-8dd2-00aa004abd5e}"</span></span>)); .... }</code> </pre> <br>  A few more suspicious places: <ul><li>  V745 A 'wchar_t *' type string is incorrectly converted to 'BSTR' type string.  Consider using 'SysAllocString' function.  vboxcredentialprovider.cpp 277 </li><li>  V745 A 'wchar_t *' type string is incorrectly converted to 'BSTR' type string.  Consider using 'SysAllocString' function.  vboxcredentialprovider.cpp 344 </li><li>  V745 A 'wchar_t *' type string is incorrectly converted to 'BSTR' type string.  Consider using 'SysAllocString' function.  string.cpp 31 </li></ul><br><blockquote>  <a href="http://www.viva64.com/ru/d/0436/">V746</a> Type slicing.  By reference rather than by value.  extpackutil.cpp 257 </blockquote><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">RTCString *</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">VBoxExtPackLoadDesc</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... xml::XmlFileParser Parser; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { Parser.read(szFilePath, Doc); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (xml::XmlError Err) <span class="hljs-comment"><span class="hljs-comment">// &lt;= { return new RTCString(Err.what()); } .... }</span></span></code> </pre> <br>  The analyzer has detected a potential error related to catching an exception by value.  This means that a new 'Err' object of type xml :: XmlError will be constructed using the copy constructor.  This will lose some of the exception information that was stored in classes inherited from xml :: XmlError. <br><br>  Another suspicious place: <ul><li>  V746 Type slicing.  By reference rather than by value.  extpackutil.cpp 330 </li></ul><br><h2>  Conclusion </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/afa/509/c0a/afa509c0afb4b6f82637098293ecdf77.png"></div><br><br>  The VirtualBox project is a good example of the importance of regularly applying static analysis in a developing project.  This scenario of using the analyzer prevents the growth of potential errors in the development process and allows you to get the latest updates used by the analysis tool. <br><br>  I would also be happy to check the MS Word code, which at the time of writing this article, hung several times for 7-10 minutes, completely loading the processor.  But there is no such possibility yet.  We, of course, conducted an archaeological study, taking <a href="http://www.viva64.com/ru/b/0245/">MS Word 1.1a</a> , but this is not at all that ... <br><br>  Easily <a href="http://www.viva64.com/ru/pvs-studio-download/">download</a> PVS-Studio and find errors in your project.  Think about the users of your product and save the time of your programmers! <br><br><div style="text-align:center;"> <a href="http://www.viva64.com/en/b/0380/"><img src="https://habrastorage.org/getpro/habr/post_images/35e/064/ddf/35e064ddf91f5d99b620384893909ff7.png"></a> </div><br>  If you want to share this article with an English-speaking audience, then please use the link to the translation: Svyatoslav Razmyslov.  <a href="http://www.viva64.com/en/b/0380/">A fresh eye on Oracle VM VirtualBox</a> . <br><br><div class="spoiler">  <b class="spoiler_title">Read the article and have a question?</b> <div class="spoiler_text">  Often our articles are asked the same questions.  We collected answers to them here: <a href="http://www.viva64.com/ru/a/0085/">Answers to questions from readers of articles about PVS-Studio, version 2015</a> .  Please review the list. <br></div></div></div><p>Source: <a href="https://habr.com/ru/post/278959/">https://habr.com/ru/post/278959/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../278949/index.html">Spiceworks research: insider threats will be the biggest information security challenge in 2016</a></li>
<li><a href="../278951/index.html">We collect Electron.js rake or desktop JS-applications in practice</a></li>
<li><a href="../278953/index.html">Web merge sync on MS SQL</a></li>
<li><a href="../278955/index.html">An error in the AMD processor microcode allows virtual machine users to access the hypervisor host system</a></li>
<li><a href="../278957/index.html">ScribeJava - even your grandma can work with OAuth</a></li>
<li><a href="../278961/index.html">Reinforced.Typings - TypeScript Angular services directly from your MVC controllers</a></li>
<li><a href="../278963/index.html">"Festive Chef" at FBD, step by step</a></li>
<li><a href="../278965/index.html">Announcement of Java-conference for students in Moscow: JPoint 2016 Student Day</a></li>
<li><a href="../278967/index.html">STM32 and LCD, fast screen fill</a></li>
<li><a href="../278969/index.html">What's new in Rails 5.0. You can plan a move</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>