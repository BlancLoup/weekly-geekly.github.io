<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>GPRS QoS - Myth or Reality?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article we will consider the principles and methods of using the so-called. quality profiles of the services provided - QoS , applied to packe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>GPRS QoS - Myth or Reality?</h1><div class="post__text post__text-html js-mediator-article">  In this article we will consider the principles and methods of using the so-called.  quality profiles of the services provided - <strong>QoS</strong> , applied to packet data transmission in networks of mobile operators based on <strong>GPRS / EDGE</strong> technologies. <br><br><a name="habracut"></a><br><h4>  Intro </h4><br>  It is quite natural that various applications and services that are based on packet data transmission in mobile networks, implemented using GPRS / EDGE technologies, impose significantly different requirements on such transmission parameters as: transmission error probability, transmission rate (maximum and average), temporary delays in data transmission, etc., therefore during activation of packet services, the subscriber is assigned a so-called  service profile - <strong>GPRS QoS *</strong> [Quality of service], but how effectively can the concept of quality profiles be used in such heterogeneous, from the physical side (radio transmission, communication channels, core network) data communications for the network, which is the GPRS architecture? <br><blockquote>  * - initially the QoS profile is stored both in the memory of the mobile terminal itself and in its main profile on the <a href="http://ru.wikipedia.org/wiki/HLR">HLR</a> 's, but when the PDP Context is activated, the mobile terminal can request the ‚Äúupdated‚Äù QoS profile based on which top-level application will be used PDP Context for data transmission, but the network, in turn, can also deny the requested QoS profile and assign a new QoS profile to its ‚Äúdiscretion‚Äù, which very often happens.  More details about this process can be found in the articles: <a href="http://habrahabr.ru/blogs/telecom/80951/">Inside GPRS.</a>  <a href="http://habrahabr.ru/blogs/telecom/80951/">Part 1</a> and <a href="http://habrahabr.ru/blogs/telecom/81385/">GPRS from the inside.</a>  <a href="http://habrahabr.ru/blogs/telecom/81385/">Part 2</a> . </blockquote><br><br>  Let's remember a little what this technology is about as a whole ... 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In general, GPRS technology can be abstractly represented as a block structure, which consists of several independent blocks, in principle, ‚Äúinterconnected‚Äù with each other using certain interfaces.  Inside, each individual unit has its own design, i.e.  the level of quality that he can provide is QoS, ‚Äúimposed‚Äù on him by his own interior, the implementation technology.  Moreover, all blocks of the same structure should be a single, indivisible and holistic design (see diagram below). <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/6a1/da1/fcc/6a1da1fcc69e383cd57b6d62d0a9ea95.jpg" alt="image"></div><br>  As we already know, the BSS subsystem distributes radio resources between packet (PS - Packet Switched) and voice (CS - Circuit Switched) services dynamically, based on the current load, but naturally towards the priority of voice services.  Therefore, the introduction of GPRS / EDGE technologies in no way affected the quality of the voice service provided, but the reverse effect of CS data priority on packet data QoS cannot be ruled out.  The only possible solution is to provide so-called.  guaranteed capacity for packet data on the cells themselves, i.e.  reservation of a certain number of time slots (TS) for packet transmission, the concept of so-called.  <strong>GPRS Territory</strong> (see diagram below). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/a3d/594/6c7/a3d5946c75e9e31b3f82d08c1d73e6fd.jpg" alt="image"></div><br>  The QoS profile under GPRS in theory should be characterized by parameters that best meet the requirements of specific applications.  Possible options for these parameters can be based on the following features: <br><ol><li>  priority (Precendence Class) </li><li>  Delay Transmission (Delay Class) </li><li>  Reliability (Reliability Class) </li><li>  Peak Throughput Class </li><li>  average bandwidth (MeanThroughput Class) </li></ol><br>  Accordingly, by combining these groups of parameters, you can achieve the required level of service provided to the subscriber or application, but an even more efficient profile model should, in principle, be based on realistic data transmission parameters in a packet network, such as: <br><ul><li>  packet delay </li><li>  middle jitter </li><li>  bandwidth </li><li>  error rate </li></ul><br>  But this is all in theory ... <br><br>  So what is GPRS QoS in practice? <br><br>  Strange as it may seem, but there is not even a precise definition of the very concept of GPRS QoS.  In general, these are: <br><ul><li>  overall quality of the services provided in the core network </li><li>  number of successful implementations of services for subscribers </li><li>  effective radio coverage of the GPRS network of the operator </li></ul><br>  At the same time, a very strong influence on the quality of the services provided on the basis of GPRS technology is associated with the protocols and stacks used.  For example, the data transfer rate can be increased by an amount from 50% to 300% only by compressing data at L2 / L3 transmission levels, which means that the upper protocols in the GPRS stack simply ‚Äúdo not know‚Äù about the optimization mechanisms provided / assigned to subscribers in the QoS profiles (therefore there are quite effective programs ‚Äúcompressing‚Äù GPRS traffic).  In addition, the overall bandwidth of data transmission via GPRS is very strongly connected with radio access.  From this we can conclude that the effective use of QoS profiles for GPRS / EDGE architecture is possible only in a complete chain, ranging from radio access to high-level protocols for applications. <br><br>  In the meantime, operators provide imaginary, I would even call the marketing QoS profiles of quality, in practice, subscribers will still swear at the GPRS / EDGE technology and applications are based on their base.  For example, in one <a href="http://habrahabr.ru/blogs/telecom/80951/">article</a> on Habr√©, there was a conversation about pinging hosts via GPRS.  Trying to figure it out, we found out that the average time is 400-700 ms, regardless of the time of day, i.e.  eliminated the increased load intervals on the packet network.  Then I still thought it was about network capacity, total daytime load, etc., but now I am more and more inclined that it is in the ‚Äúgeneralized‚Äù QoS quality profiles that many operators assign as ‚Äúdefault‚Äù for all subscribers, which in turn leads to a general loss of quality on the entire packet network of the operator. <br><br>  For comparison, the same ping is for other wireless packet data transmission technologies (you do not need to throw stones at once, this is average data): <br><ul><li>  <strong>WLAN</strong> : about 50-200 ms </li><li>  <strong>UMTS</strong> : about 100-250 ms </li></ul><br>  Not to mention that for wired <strong>LAN</strong> ping will be at the level of 5-20 ms. <br><br>  This already indicates that in these architectures (WLAN, <a href="http://ru.wikipedia.org/wiki/UMTS">UMTS</a> ) the concept of quality profiles is already implemented at a higher level and covers almost the entire chain of communications through which the subscriber‚Äôs packets pass, at least this can already be said with respect to <strong>UMTS</strong> technology , although here everything is not as smooth as we would like. <br><br>  An important role in this chain is also played by the <strong>GGSN</strong> , which actually acts as a gateway to all external networks.  To effectively apply QoS profiles, it must perform the following functions: <br><ul><li>  coordination of the levels of services provided </li><li>  error detection / correction management </li><li>  generating QoS event logs </li></ul><br><h4>  QoS Attributes and Classes </h4><br><br>  It should be noted that the development and improvement of the classification methods of the quality provided does not stand still and with the new specifications, the QoS profiles are ‚Äúovergrown‚Äù with new, increasingly discrete characteristics, but the key parameters of the QoS classes and attributes were incorporated in several basic specifications, for example, the basic QoS parameters, which were presented in Rel 97/98 specifications: <br><ol><li>  <strong>Reliability class</strong> <br><br>  The GSM specifications define 5 basic reliability classes for GPRS, while the reliability of the data is determined in terms of probability: <br><ul><li>  data loss (probability of data loss) </li><li>  probability of duplicate data delivery </li><li>  data corruption (probability of corrupted data) </li></ul><br>  Depending on the class of reliability, the values ‚Äã‚Äãof these parameters can range from 10 <sup>-9</sup> to 10 <sup>-4</sup> .  Reliability class defines the requirements for network protocols at various levels.  To meet the requirements of the class of reliability set the appropriate combination of transmission modes (Mode) at the levels of <strong><a href="http://en.wikipedia.org/wiki/GPRS_Tunnelling_Protocol">GTP</a></strong> (en), <strong>LLC</strong> and <strong>RLC</strong> .  For signaling, i.e.  The overhead data (GMM - [GPRS ‚Äã‚ÄãMobility Management] / SM) and SMS use 3rd reliability class, but not the fact that all PLMN networks of operators can support this class when the subscriber is moved between networks. <br><br>  Part of this class is associated with the need for data transfer: from 1 (Class A) - applications that are ‚Äúsensitive‚Äù to errors, to 5 for non-real-time applications that can compensate for errors. <br></li><li>  <strong>Delay class</strong> <br><br>  In the GSM Rec.  02.60 allocate 4 classes for providing possible delays in data transmission, but nevertheless only a part of them can be implemented on the operator‚Äôs network, for example, one of the possible options is to provide so-called  The " <strong>best effort delay class</strong> " (class with the lowest delay under the given conditions) corresponding to Class 4. At the same time, the total time delays across the entire GPRS packet core network are still not classified in the specifications, since  During the "transitions" of data packets, for example, from the radio interface to the core network, their own time delays may appear.  The requirements for maximum delay depend on the length of the packets, for example, when transmitting short packets, the delay requirements are somewhat stricter. <br></li><li>  <strong>Precedence class</strong> <br><br>  This attribute defines 3 main classes that determine the importance of passing packets, on the basis of which packets with less importance will be dropped in case of increased load or limited resources. <br></li><li> <strong>Peak Throughput class</strong> <br><br>  This class defines the maximum bandwidth (bytes / s) that the user expects to receive during the entire session.  However, there are no guarantees that such bandwidth will be reached within a specified period of time, since  This factor will depend both on the capabilities of the mobile station itself, the MS, and on the allocated radio resources.  In this attribute, 9 basic classes are defined, ranging from Class 1 - 1000 bytes / s (8 kbit / s), to Class 9 - 256000 bytes / s (2048 kbit / s).  At the same time, the capacity of the available bandwidth doubles from one class to another.  Peak bandwidth is estimated on the Gi interface (between GGSN and external internet / intranet networks) and the ‚Äúoutput‚Äù from MS (for more details about the main interfaces in the packet network, see the <a href="http://habrahabr.ru/blogs/telecom/101213/">GPRS</a> article <a href="http://habrahabr.ru/blogs/telecom/101213/">from the inside. Part 3</a> ) <br></li><li>  <strong>Mean Throughput class</strong> <br><br>  Bandwidth is evaluated on the same interfaces as the peak.  This attribute defines the resources allocated for the data transfer rate that is expected to be received from the terminal device when the link is activated.  In total, 19 classes are allocated, from Class 1 to Class 18 - providing a transfer rate of 111 kbit / s, while the 18 classes will be allocated the maximum resources to ensure the requested speed.  Also possible so-called.  " <strong>best effort</strong> " class, providing the highest possible speed, he was assigned the number 31. <br></li></ol><br>  Schematically, the QoS classes are depicted in the figure below: <br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/getpro/geektimes/post_images/8d7/f28/44a/8d7f2844a8f7ed5ca81c005bfcc2418b.jpg" alt="image"></a> </div><br><h4>  Qos and Roaming between wireless networks </h4><br>  Another non-specific issue in the provision of a given level of quality in GPRS / EDGE networks is the issue of coordinating quality levels when a subscriber enters the network coverage area of ‚Äã‚Äãanother operator, i.e.  <strong>GPRS Roaming</strong> , and even more so roaming between networks with different architectures (a detailed description of the process of transition from one <a href="http://en.wikipedia.org/wiki/PLMN">PLMN</a> (en) network to another can be found in the <a href="http://habrahabr.ru/blogs/telecom/83752/">Expensive GPRS Roaming</a> article).  In the case of roaming, questions immediately arise: does the roaming partner support the same technology that the subscriber requested in his home network (HPLMN), what is the cost of supporting such technology in the guest network (VPLMN), etc., all these questions are necessary agree on the fly, without any user intervention, which of course is still not entirely realistic.  Therefore, many services during the transition between roaming networks will be ‚Äútransferred‚Äù to the ‚Äúbest effort‚Äù modes if this mode can support the guest network, which usually entails equalization of all users and naturally, a general decline in the quality of the services provided. <br><br><h4>  Mobile Terminal Classes </h4><br>  Since we have touched upon the topic of the quality profiles of the services provided, I would like to casually mention the multi-slot qualities of mobile terminals, which are partly related to the quality of the services provided. <br><br>  There are two main classifications of mobile terminals designed to work with GPRS / EDGE technologies: alphabetic and numeric.  The literal classification indicates the possibility of simultaneous processing of both voice services and packet services and is more connected with the implementation of the Gs interface in the operator‚Äôs network (reference to the class of mobile devices can be found in the <a href="http://habrahabr.ru/blogs/telecom/83565/">GPRS</a> article is <a href="http://habrahabr.ru/blogs/telecom/83565/">not an obstacle to calls</a> ). <br><br>  But the second numerical classification points directly to the capabilities of the device in terms of capacity for receiving and outputting useful data, i.e.  This classification indicates the number of time slots that a mobile station (MS) can use to the maximum both towards the network ( <strong>Uplink - UL</strong> ) and down from the network ( <strong>Downlink - DL</strong> ).  Usually, the specification for a mobile terminal indicates either the class number itself or the number of TSs, for example 4/1 - a maximum of 4 time slots for DL ‚Äã‚Äãand 1 TS for UL. <br><br>  The main specification that regulates the mechanisms for allocating slots for transmission - <strong>3GPP TS 45.002</strong> , defines 45 multislot classes that can be used by mobile terminals, for example, class 45 presents the following scheme - max 6 DL + max 6 UL, but here it is necessary to take into account that on a cell no more than 8 TS can be allocated in one frame, so even for this class a simultaneous number of TS will not exceed 7 slots (one TS per cell is allocated for service data). <br><br>  All these classes should also be taken into account when determining the quality profile provided, since  they are directly related to the MS capabilities in the speed of received and sent information. <br><br><h4>  Conclusion </h4><br>  To date, the applications implemented on the basis of GPRS / EDGE technology, which are most tied to the quality of the service provided include: <br><ul><li>  VoIP </li><li>  VPN </li><li>  Real-time Video </li><li>  Video streaming </li></ul><br>  Naturally, these are all ‚Äúrepresentatives‚Äù of real-time applications, but it‚Äôs not yet possible to offer these applications reasonable quality profiles in a number of current architectures (GPRS / EDGE for 2G).  There are no existing mechanisms for the implementation of the relevant quality levels of the service provided  Part of the situation is changing already in the following architectures, for example, in UMTS, the ‚Äúimpact‚Äù of QoS profiles is significantly expanded, including the boundaries of the radio part and the frontier of the transfer protocols for network elements (see the diagram below). <br><br><div style="text-align:center;"> <a href=""><img src="http://i073.radikal.ru/1008/c0/d46e3fe8e228.jpg" alt="image"></a> </div><br>  These attempts to implement the concept of QoS profiles in the UMTS architecture speak about the correctness of choosing a holistic approach to determining the quality of service provided, which will cover the entire package path and take into account the features of both the radio part and the backbone network of operators.  Even more effective is the QoS application model for: <br><ul><li>  individual application </li><li>  individual subscriber </li><li>  used APN </li></ul><br>  So, we will expect full-fledged implementations of next-generation architectures - WiMaX / LTE / etc., Which can fully implement the QoS concept in practice, but for now we will be satisfied with what we have ... <br><br>  <b><i>A small assistant:</i></b> <br><br>  <b>BSC</b> - Base Station Controller <br>  <b>BSS</b> - Base Station Subsystem <br>  <b>EDGE</b> - Enhanced Data Rates for GSM Evolution <br>  <b>GGSN</b> - Gateway GPRS Support Node <br>  <b>GMM</b> - GPRS Mobility Management <br>  <b>GPRS</b> - General Packet Radio Service <br>  <b>GTP</b> - GPRS Tunneling Protocol <br>  <b>HLR</b> - Home Location Register <br>  <b>HPLMN</b> - Home PLMN <br>  <b>LLC</b> - Logical Link Control <br>  <b>MS</b> - Mobile Station <br>  <b>PDP</b> - Packet Data Protocol <br>  <b>PLMN</b> - Public Land Mobile Network <br>  <b>PS</b> - Packet Switched <br>  <b>SGSN</b> - Serving GPRS Support Node <br>  <b>VPLMN</b> - Visitors PLMN <br>  <b>UMTS</b> - Universal Mobile Telecommunications System <br></div><p>Source: <a href="https://habr.com/ru/post/102625/">https://habr.com/ru/post/102625/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../102616/index.html">Questions for an interview with Edward Shishkin</a></li>
<li><a href="../102617/index.html">Vobis Highscreen Nano - equipment and features</a></li>
<li><a href="../102619/index.html">Canon has released a 120-megapixel CMOS sensor</a></li>
<li><a href="../102620/index.html">Some obscure programming facts</a></li>
<li><a href="../102624/index.html">Firefox 4: Draw arbitrary elements as backgrounds with -moz-element</a></li>
<li><a href="../102627/index.html">About bridges, telecoms and the price of the error</a></li>
<li><a href="../102628/index.html">Prototyping in Expression Blend + SketchFlow. Part 2. Basics</a></li>
<li><a href="../102630/index.html">Prototyping in Expression Blend + SketchFlow. Part 1. A bit of history</a></li>
<li><a href="../102634/index.html">A brain scan will help you choose a profession.</a></li>
<li><a href="../102635/index.html">MODx - search by admin part or Doc Finder 1.6</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>