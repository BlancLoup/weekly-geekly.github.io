<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What will happen if you combine ArrayList and LinkedList?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Greetings! 
 After studying the collections, namely such List implementations such as ArrayList and LinkedList , an idea emerged, why not combine thes...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What will happen if you combine ArrayList and LinkedList?</h1><div class="post__text post__text-html js-mediator-article"><p> Greetings! <br>  After studying the collections, namely such <code>List</code> implementations such as <code>ArrayList</code> and <code>LinkedList</code> , an idea emerged, why not combine these data structures into one and see what happens. </p><br><h2 id="zachem-eto-nuzhno">  Why do you need it? </h2><br><ul><li>  <code>ArrayList</code> problem - it has the default initial size of <code>DEFAULT_CAPACITY</code> or the specified <code>initialCapacity</code> size, when this size is exceeded, a new larger array is created, while the data from the old array is copied there, which is very time consuming and this gives in the worst case algorithmic complexity <code>O(n)</code> </li><li>  The <code>LinkedList</code> problem is the opposite here, adding a new item is just adding a new link (creating another <code>Node</code> and adding a link to it), but the operation of getting an item by index is very expensive, since  you will need to go through the entire list from the beginning, which is very expensive and gives <code>O(n)</code> </li></ul><br><h2 id="reshenie">  Decision </h2><br><p>  What if you create a data structure in which the insertion and receipt of any element will be in constant time.  I will use the <code>ArrayList</code> technology without re-creating the array <br>  In order to link them together, I will use a doubly linked list: <br><img src="https://habrastorage.org/webt/kd/t_/zl/kdt_zlyrbscofg7unhqyc43vc9s.jpeg"></p><a name="habracut"></a><br><h2 id="realizaciya">  Implementation </h2><br><p>  Let's go directly to the source code: <br></p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Node</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span></span>{ Node prev; Node next; T[] value; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Node</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Node prev, Node next, T[] value)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.prev = prev; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.next = next; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.value = value; } }</code> </pre> <br><p>  To begin, create a standard doubly-linked list structure, where <code>value</code> is an array of values. <br>  Next, we turn to a specific implementation of the class, declare the necessary variables: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> INIT_CAPACITY = <span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Object[] arr = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Object[INIT_CAPACITY]; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> index = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> level = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Node&lt;T&gt; first = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Node&lt;&gt;(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, (T[]) arr); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Node last = first; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Node current = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> size = <span class="hljs-number"><span class="hljs-number">0</span></span>;</code> </pre> <br><p>  Here <code>INIT_CAPACITY</code> is the initial size of the array, it can be overridden in the corresponding constructor, <code>arr</code> is the array itself, the <code>index</code> variable is needed to calculate the index, <code>level</code> is to calculate the level, then we will explain in detail what it is for, <code>first</code> - link to the first element of the list , <br>  <code>last</code> is a link to the last element of the list, <code>current</code> is a link to the current element of the list (the last selection), so you can speed up the selection of consecutive elements or close to them, <code>size</code> is the size (or amount of data). <br>  Set up 2 constructors - by default and to change the initial size: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyLinkedList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ first.next = last.next; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyLinkedList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> size)</span></span></span><span class="hljs-function"> </span></span>{ INIT_CAPACITY = size; arr = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Object[INIT_CAPACITY]; first.next = last.next; }</code> </pre> <br><p>  Add item: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(T i)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (index == INIT_CAPACITY) { arr = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Object[INIT_CAPACITY]; last.next = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Node&lt;&gt;(last, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, (T[]) arr); index = <span class="hljs-number"><span class="hljs-number">0</span></span>; last = last.next; } arr[index] = i; index++; size++; }</code> </pre> <br><p>  Here we check the condition; if the array is full, then we create a new one and remember the link to it. <br>  Item receipt: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> i)</span></span></span><span class="hljs-function"> </span></span>{ T value; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> level = i / INIT_CAPACITY; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> index = i % INIT_CAPACITY; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.current == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.level = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.current = first; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.level &gt; level) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.level; j &lt; level; j++) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.level = level; current = current.prev; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.level; j &lt; level; j++) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.level = level; current = current.next; } value = (T) current.value[index]; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> value; }</code> </pre> <br><p>  Levels are the number of arrays in the list, ie, at the 0th level, 1 array, at the 1st level 2 arrays, etc., <code>index</code> is the index of the current level <code>0..INIT_CAPACITY</code> , we also have a link to the current element list of <code>current</code> , which was obtained from the previous sample, i.e.  if the new level is greater than the previous one, then go forward from the current element and if vice versa, then go back.  Also added 2 quick operations - getting the first and last element: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getFirst</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> first.value[<span class="hljs-number"><span class="hljs-number">0</span></span>]; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getLast</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (T) last.value[(size-<span class="hljs-number"><span class="hljs-number">1</span></span>) % INIT_CAPACITY]; }</code> </pre> <br><p>  The first and last elements get as easy and fast as in an array. <br>  The operation of deleting the last element - the fastest thing is to overwrite the value with null, if the entire array becomes filled with nulls, then we lose the reference to it and the garbage collector will clean everything: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">removeLast</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (last.value[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { last = last.prev; index=INIT_CAPACITY-<span class="hljs-number"><span class="hljs-number">1</span></span>; } last.value[(size-<span class="hljs-number"><span class="hljs-number">1</span></span>) % INIT_CAPACITY]=<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; size--; index--; }</code> </pre> <br><p>  Getting the size is obvious.  An iterator has also been added, i.e.  this class implements iterable and implements the iterator method </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Node&lt;T&gt; first; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> index = -<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyLinkedListIterator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Node&lt;T&gt; first)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.first = first; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hasNext</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ index++; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> first != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">next</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ T value; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> index = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.index % INIT_CAPACITY; value= first.value[index]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(index==INIT_CAPACITY-<span class="hljs-number"><span class="hljs-number">1</span></span>||<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.first.value[index+<span class="hljs-number"><span class="hljs-number">1</span></span>]==<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) first=first.next; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> value; }</code> </pre> <br><h2 id="vremya-raboty">  Working hours </h2><br><p>  Measured using the JMH benchmark, an example test: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TestGetMyDeque</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SetDeque</span></span></span><span class="hljs-class"> </span></span>{ MyDeque&lt;Integer&gt; deque = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyDeque&lt;&gt;(); SetDeque() { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt;Constant.COUNT_ELEMENT; i++) { deque.add(i); } } } <span class="hljs-meta"><span class="hljs-meta">@State</span></span>(Scope.Benchmark) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyState</span></span></span></span>{ SetDeque deque; <span class="hljs-meta"><span class="hljs-meta">@Setup</span></span>(Level.Invocation) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ deque = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SetDeque(); } } <span class="hljs-meta"><span class="hljs-meta">@Benchmark</span></span> <span class="hljs-meta"><span class="hljs-meta">@BenchmarkMode</span></span>(Mode.AverageTime) <span class="hljs-meta"><span class="hljs-meta">@OutputTimeUnit</span></span>(TimeUnit.SECONDS) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getFirst</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(MyState state, Blackhole blackhole)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; Constant.COUNT_ELEMENT; i++) { blackhole.consume(state.deque.deque.getFirst()); } } }</code> </pre> <br><p>  Documentation can be viewed on the Internet. <br>  I took a different number of elements, test results in seconds: </p><br><table><thead><tr><th>  N = 100,000 </th><th>  Insert at the end </th><th>  Getting first </th><th>  Getting average </th><th>  Getting last </th></tr></thead><tbody><tr><td>  MyDeque </td><td>  0,002 </td><td>  0 </td><td>  0.001 </td><td>  0 </td></tr><tr><td>  ArrayDeque </td><td>  0,002 </td><td>  0 </td><td>  - </td><td>  0.001 </td></tr><tr><td>  ArrayList </td><td>  0,002 </td><td>  0.001 </td><td>  0 </td><td>  0.001 </td></tr><tr><td>  Linkedlist </td><td>  0,003 </td><td>  0 </td><td>  28,465 </td><td>  0.001 </td></tr></tbody></table><br><p>  Take a million items: </p><br><table><thead><tr><th>  N = 1,000,000 </th><th>  Insert at the end </th><th>  Getting first </th><th>  Getting average </th><th>  Getting last </th></tr></thead><tbody><tr><td>  MyDeque </td><td>  0,019 </td><td>  0,005 </td><td>  0,010 </td><td>  0,007 </td></tr><tr><td>  ArrayDeque </td><td>  0.025 </td><td>  0,005 </td><td>  - </td><td>  0,005 </td></tr><tr><td>  ArrayList </td><td>  0.036 </td><td>  0,005 </td><td>  0,005 </td><td>  0,005 </td></tr><tr><td>  Linkedlist </td><td>  0.051 </td><td>  0,005 </td><td>  OutOfMemoryError: Java heap space </td><td>  0,006 </td></tr></tbody></table><br><p>  Finally, take 10 million items: </p><br><table><thead><tr><th>  N = 10,000,000 </th><th>  Insert at the end </th><th>  Getting first </th><th>  Getting average </th><th>  Getting last </th></tr></thead><tbody><tr><td>  MyDeque </td><td>  1.832 </td><td>  0.047 </td><td>  0.090 </td><td>  0.071 </td></tr><tr><td>  ArrayDeque </td><td>  2,065 </td><td>  0.046 </td><td>  - </td><td>  0.058 </td></tr><tr><td>  ArrayList </td><td>  4,413 </td><td>  0.048 </td><td>  0.047 </td><td>  0.048 </td></tr><tr><td>  Linkedlist </td><td>  OutOfMemoryError: Java heap space </td></tr></tbody></table><br><p>  Measurement of memory done on the principle <a href="https://github.com/jheusser/core-java-performance-examples/">https://github.com/jheusser/core-java-performance-examples/</a> </p><br><p>  (x axis is a million elements, y axis is memory mb) <br><img src="https://habrastorage.org/webt/5u/t0/2i/5ut02ibjq-fr3p7f-mofkalbcgq.jpeg"></p><br><p>  As can be seen from the graph, devouring memory with this structure is not much different from similar data structures. </p><br><h1 id="vyvod">  Conclusion </h1><br><p>  In the end, we received a LIFO queue, which works faster than the usual Deque, and in terms of inserting elements, much faster than ArrayList, there are also no problems that can be encountered when using LinkedList.  In the future, it is planned to implement such operations as insertion and deletion from any place without loss of performance, there are already some developments in this regard, at this stage I would like to receive feedback and see the interest of the community for further work on the new data structure. </p><br><p>  <a href="https://github.com/sertokinson/myLinkedList">The project can be viewed at the link.</a> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/352930/">https://habr.com/ru/post/352930/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../352916/index.html">Apache Ignite 2.4 BaselineTopology Concept</a></li>
<li><a href="../352918/index.html">How to test SkyNet? (if it is written in js)</a></li>
<li><a href="../352922/index.html">The path of the IT-manager (part # 1)</a></li>
<li><a href="../352924/index.html">5 lessons we learned by spending 100500 RK on Facebook</a></li>
<li><a href="../352928/index.html">RISC-V core generation and testing</a></li>
<li><a href="../352932/index.html">Tooltips in Power BI - a new feature for Desktop</a></li>
<li><a href="../352934/index.html">[Ekaterinburg, announcement] java.ural.Meetup @ 2 - the announcement of the second Java-mitap + video reports from java.ural.Meetup @ 1</a></li>
<li><a href="../352938/index.html">Reusable UI components in Ruby on Rails applications</a></li>
<li><a href="../352942/index.html">Conference DEFCON 23. "How I knocked down the annoying drone of a neighbor's child." Michael robinson</a></li>
<li><a href="../352944/index.html">Splunk - Installing agents to collect Windows and Linux logs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>