<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Recipe i18n. Basis - Babel, json with coffee and a grant with hbs to your taste</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In my previous post I wrote about why and why pybabel-hbs had to be made, gettext row extractor from handlebars templates. 

 A little later it became...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Recipe i18n. Basis - Babel, json with coffee and a grant with hbs to your taste</h1><div class="post__text post__text-html js-mediator-article">  In my <a href="http://habrahabr.ru/post/198280/">previous post</a> I wrote about why and why pybabel-hbs had to be made, gettext row extractor from handlebars templates. <br><br>  A little later it became necessary to extract the same from json. <br>  This is how pybabel-json appeared. <br>  <b>pip install pybabel-json</b> either <b><a href="https://github.com/tigrawap/pybabel-json">on github</a></b> <br><br>  There the javascript lexer built into the babel was used, but there were also some nuances, but the post is not about that, the one written there is less interesting than it was in the hbs plugin and hardly needs any attention. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      This post is about how the whole set looks like a whole for localization, from and to, what to do with data from a database, or from another, not quite static, place. <br>  From and to includes: <br>  <i>(I must note that not a single item is obligatory, all this is quite easily connected to any application only partially and as necessary)</i> <br><br>  - Babel.  A set of tools for localizing applications. <br>  - Grunt.  Task Manager (task) <br>  - coffeescript.  Does not need to be presented, the entire client code is written in coffee, and you also need to extract lines from it. <br>  - handlebars - templates <br>  - json - row storage <br>  - Jed.  gettext client for js <br>  - po2json.  A utility for converting .po files to the .json format supported by Jed <br><br><a name="habracut"></a><br><br><h1>  A little bit about gettext and myths </h1><br>  gettext is initially a set of utilities for localizing applications; today, I would call gettext also a generally accepted format.  (not to be confused with the sole) <br>  The minimum essence can be described as there are lines in English that pass through a certain gettext function and turn into a string in the desired language at the output, keeping the rules of the language relating to different inclinations for plural numbers + the ability to specify the context and domain. <br>  It is important to note that it is the strings, they are the keys, and not the USER_WELCOME_MESSAGE constant that turns into a text somewhere. <br><br>  Not everyone needs the context, and I haven‚Äôt yet implemented it in my babel plugins, because without need, pull requests are welcome <br>  There will be a couple of words about the domain later. <br>  But <b>ngettext</b> is absolutely necessary for many, if not all. <br>  And then about the myths. <br><br><pre> Zero apples.  Zero apples
 One apple.  One apple
 Two apples.  Two apples
 Five apples.  Five apples
</pre><br><br>  This simple example should show all lovers of language constants a la "USER_WELCOME_MESSAGE", which are then given to the translation that everything is not as simple as it seems at first glance. <br><br>  For what line will be chosen decide the rules predefined and described in the babel: <br>  For example, this is for English: <br><pre><code class="hljs objectivec"><span class="hljs-string"><span class="hljs-string">"Plural-Forms: nplurals=2; plural=(n != 1)\n"</span></span></code> </pre> <br><br>  And this is for Russian: <br><pre> <code class="hljs perl"><span class="hljs-string"><span class="hljs-string">"Plural-Forms: nplurals=3; plural=(n%10==1 &amp;&amp; n%100!=11 ? 0 : n%10&gt;=2 &amp;&amp; "</span></span> <span class="hljs-string"><span class="hljs-string">"n%10&lt;=4 &amp;&amp; (n%100&lt;10 || n%100&gt;=20) ? 1 : 2)\n"</span></span></code> </pre> <br>  Great and Mighty :) <br>  Do not be afraid to write this manually for, for example, the Japanese will not have to. <br><br>  So, about the myths. <br>  Several times I heard the opinion that you can do the main site in Russian and wrap the same Russian lines in gettext calls, and then add English. <br>  If you have your crutches using those linguistic constants, you have no inclined sentences with numbers anywhere, and you use an ugly format in the style ‚ÄúYou have apples: 1‚Äù, then of course you can do basic Russian. <br>  If you want to display a slightly more beautiful messages to the user, such as ‚ÄúYou have 1 apple‚Äù, ‚ÄúYou have 7 apples‚Äù then English should be the main language. <br><br>  <b>Why?</b>  <b>It's all about apples.</b> <br>  The plural is not always in the singular, and the singular is not always for the unit. <br>  English in this regard is simple, but there is no Russian. <br><br>  ngettext defaults to how the key expects English.  Moreover, ngettext accepts only two parameters for input ‚Äî the singular and the plural.  And not an array of plurals. <br><br>  Thus, if you still want to use Russian by default, you will at least have to maintain a Russian-Russian translation file, in which the string ‚ÄúYou have% s apples‚Äù will turn into the correct declination.  Yes, you can - but it is crooked. <br>  When changing, you will need to remember that only the key is changed, not a string in Russian, and you need to go and edit the Russian language file in parallel.  In general, do not need to do so.  ngettext is as compatible as possible with the English language as the original. <br><br>  By the way, at the same time I will show an example of how the .po files look for English and for Russian. <br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">msgid</span></span> <span class="hljs-string"><span class="hljs-string">"You have %(apples_count)d apple"</span></span> msgid_plural <span class="hljs-string"><span class="hljs-string">"You have %(apples_count)d apples"</span></span> msgstr[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-string"><span class="hljs-string">"  %(apples_count)d "</span></span> msgstr[<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-string"><span class="hljs-string">"  %(apples_count)d "</span></span> msgstr[<span class="hljs-number"><span class="hljs-number">2</span></span>] <span class="hljs-string"><span class="hljs-string">"  %(apples_count)d "</span></span></code> </pre><br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">msgid</span></span> <span class="hljs-string"><span class="hljs-string">"You have %(apples_count)d apple"</span></span> msgid_plural <span class="hljs-string"><span class="hljs-string">"You have %(apples_count)d apples"</span></span> msgstr[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-string"><span class="hljs-string">""</span></span> msgstr[<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-string"><span class="hljs-string">""</span></span></code> </pre><br><br>  Ie the number of resulting lines depends on the configuration of the language.  Maybe there is a language in which a dozen forms of the plural ... <br><br><h1>  OK, so where do i start? </h1><br>  All those who still have 3 apples must be motivated to start <br><br><blockquote>  pip install babel </blockquote><br>  The hard part is behind. <br><br>  Left: <br>  - Change the code in all the text calls gettext <br>  - Set babel on code <br>  - On the basis of the received .pot file, make the .po file corresponding to each desired language. <br><br><h3>  What actually translate? </h3><br><br>  The question is not as simple as it seems at first glance: <br><br>  The part is simple - templates and code. <br>  Django and flask - there are extractors from the templates <br>  Python and javascript are supported by babel initially <br>  handlebars and json - had to do links at the beginning of the post. <br>  For coffeescript - recipe further <br>  For everything else - google help <br><br>  Once again, the part is simple - the code, to do this, you need to wrap all the lines in gettext / ngettext calls in accordance with the format that each extractor requires.  As a rule, they also provide the ability to override which function should be used. <br>  For example, I have this: <br><pre> <code class="bash hljs">pybabel extract -F babel.cfg -o messages.pot -k <span class="hljs-string"><span class="hljs-string">"trans"</span></span> -k <span class="hljs-string"><span class="hljs-string">"ntrans:1,2"</span></span> -k <span class="hljs-string"><span class="hljs-string">"__"</span></span> .</code> </pre><br>  trans and ntrans are specified for javascript, and __ for python, in which this function is used to transmit the string transparently (more on this later) <br><br>  I'm all <br>  <i>print ("apple")</i> needs to be altered in <i>print (ngettext ("apple"))</i> <br>  And all <br>  print ("I have% s apples") in print (ngettext ("I have% s apple", "I have% s apples", num_of_apples)% num_of_apples) <br><br>  I must note here what I wish for everyone, that I never use or recommend using unnamed parameters. <br>  In my case - only named, I mean it should look like this: <br><br>  Python: <br><pre> <code class="python hljs">print(gettext(<span class="hljs-string"><span class="hljs-string">"I have an apple!"</span></span>)) print(ngettext( <span class="hljs-string"><span class="hljs-string">"I have %(apples_count)d apple"</span></span>, <span class="hljs-string"><span class="hljs-string">"I have %(apples_count)d apples"</span></span>, num_of_apples ).format(apples_count=num_of_apples))</code> </pre><br>  Standard gettext is used, for flask and django there are wrappers <br><br>  Javascript: <br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(i18n.trans(<span class="hljs-string"><span class="hljs-string">"I have an apple!"</span></span>)) <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(i18n.ntrans(<span class="hljs-string"><span class="hljs-string">"I have %(apples_count)d apple"</span></span>,<span class="hljs-string"><span class="hljs-string">"I have %(apples_count)d apples"</span></span>,num_of_apples,{<span class="hljs-attr"><span class="hljs-attr">apples_count</span></span>:num_of_apples}));</code> </pre><br>  <i>Here and in coffee, proxies are used for Jed methods from here:</i> <i><br></i>  <i><a href="https://github.com/tigrawap/pybabel-hbs/blob/master/client_side_usage/i18n.coffee">github.com/tigrawap/pybabel-hbs/blob/master/client_side_usage/i18n.coffee</a></i> <i><br></i>  <i>Parameters are passed to the string due to the built-in Jed sprintf</i> <i><br></i> <br><br>  Coffeescript: <br><pre> <code class="coffeescript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log i18n.trans <span class="hljs-string"><span class="hljs-string">"I have an apple!"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log i18n.ntrans <span class="hljs-string"><span class="hljs-string">"I have %(apples_count)d apple"</span></span>, <span class="hljs-string"><span class="hljs-string">"I have %(apples_count)d apples"</span></span>, num_of_apples, apples_count:num_of_apples</code> </pre><br><br>  Hadlebars: <br><pre> <code class="hljs django"><span class="xml"></span><span class="hljs-template-variable"><span class="xml"></span><span class="hljs-template-variable">{{#trans}}</span></span><span class="xml"><span class="xml"> I have an apple! </span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{/trans}}</span></span><span class="xml"><span class="xml"> </span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{# ntrans num_of_apples apples_count=num_of_apples}}</span></span><span class="xml"><span class="xml"> I have %(apples_count)d apple </span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{else}}</span></span><span class="xml"><span class="xml"> I have %(apples_count)d apples </span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{/ntrans}}</span></span><span class="xml"></span><span class="xml"></span></code> </pre><br><br>  JSON row storage: <br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"anykey"</span></span>:<span class="hljs-string"><span class="hljs-string">"I have an apple!"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"another_any_key"</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>:<span class="hljs-string"><span class="hljs-string">"gettext_string"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"funcname"</span></span>:<span class="hljs-string"><span class="hljs-string">"ngettext"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"content"</span></span>:<span class="hljs-string"><span class="hljs-string">"I have %(apples_count)d apples"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"alt_content"</span></span>:<span class="hljs-string"><span class="hljs-string">"I have %(apples_count)d apples"</span></span> } }</code> </pre><br>  <i>Offtop: An explanation of this format in the documentation for pybabel-json</i> <br><br>  I think it was not difficult to notice that num_of_apples repeated every call twice. <br>  The reason is that once it is passed as an argument for ngettext, which determines which string is used, and the second time as a parameter for a string, along with other possible parameters, substituted into this string. <br><br>  - As I said before - this is the easy part, to wrap up the existing text. <br>  Next you need <br><br>  1) Change all the buttons on which the labels on the buttons with the text.  Everyone knows that text buttons are bad.  But often it is necessary to accept it, because it‚Äôs so faster, and the designer wants it that way :) <br>  - With this item, everything should be clear - tedious, but necessary <br><br>  2) <br>  Where is a more interesting point, what do you do with seemingly constant lines, but which are not exactly constant? <br>  As an example I will give our case - genres for songs.  It seems to be the dynamics, are stored in the database, but in fact - rarely changing statics, which would be nice to tear and send for translation. <br><br>  This is what caused pybabel-json. <br>  This solution is also a solution to any other translation problem, such as the response of a third-party server error message.  It can be said that this is static, but this is uncontrolled static, which should be beautifully wrapped for translation. <br>  All you need to do is create a .json file. <br>  <b>errors.json</b> <br>  with content <br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"from_F_service"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"Connection error"</span></span>, <span class="hljs-string"><span class="hljs-string">"Access denied"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"from_T_service"</span></span>:[ <span class="hljs-string"><span class="hljs-string">"Oops, it is too long"</span></span> ] }</code> </pre><br><br>  No keys, pure array of strings. <br>  The worst thing that happens if the service has changed the message - the user will receive an untranslated version.  As a rule, this stuff <br><br>  With the data in the database, the situation is similar, to the build-push-deployment system, whatever it is (after all, do you have something)?  at the same level where there will be commands for assembling everything and all babel, you need to add a script before these commands that will extract all the necessary data from the database and collect a similar json, which is started by the babel will already collect data. <br>  Needless to say - such files should be added to .gitignore, or an analogue of whatever, in general, so that the source control does not fall <br><br>  All strings that are received in this way must pass through the gettext function call. <br>  Ie if it is in python, then gettext (), in js jed or proxy methods given earlier <br><br>  It should also be noted that sometimes you want to do in the reverse order.  Or you need to do in reverse order. <br>  Ie to define in the code that the line should be translated, but the translation itself will be launched in a different place. <br>  I will give an example in python: <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SomeView</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(MainView)</span></span></span><span class="hljs-class">:</span></span> title=gettext(<span class="hljs-string"><span class="hljs-string">"This view title"</span></span>)</code> </pre><br><br>  If you write such a code, then you risk to get a created copy of the class in the English version, if the class was created when the server was started, or, for example, the Chinese version, if the creation was dynamic but cached at the first call <br><br>  In such cases, I would like to mark for translation, but translate in the right place. <br>  The right place is to create an object, not a class. <br>  those <br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string,*k,**kwargs)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> string <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainView</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(SomeParent)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#.... self.title=gettext(self._title) #.... class SomeView(MainView): _title=__("This view title")</span></span></code> </pre><br><br>  Ie - the string collector will define __ as a string for translation, the function itself does nothing, and the translation will be started at the right time. <br>  Thus, everything is in one place and looks beautiful. <br><br>  This applies to many languages, including coffeescript and javascript, if you write under node.js. <br>  For the browser, this is less relevant, since even at the time of creating the class it should already be known for which language to create. <br><br>  But in any case, it is more correct to translate in the constructor, and not at the moment of class creation. <br><br>  It seems to have bypassed all the possibilities of the direction of translation known to me, let's say all this is done. <br><br><h3>  Glue it all together </h3><br><br>  Now you can try to collect all this, there are a few simple steps: <br>  0) Create an empty directory of the original lines, so as not to swear in the future for the absence of the file <br><pre> <code class="bash hljs">touch messages.pot</code> </pre><br>  1) Create .po files of target languages ‚Äã‚ÄãThis is done 1 time and should not be included in the build.  .po files are files containing both original strings and translations for them, for each language. <br><pre> <code class="bash hljs">pybabel init -i messages.pot -d path/i18n -l es <span class="hljs-comment"><span class="hljs-comment">#   .po      path/i18n/es (   i18n  ) #   ,   : (   ,       echo?, echo   ) echo {es,en,fr,de,ja} | xargs -n1 pybabel init -i messages.pot -d path/i18n -l</span></span></code> </pre><br><br>  2) Create / update .pot file - main line storage This also should not be included in the build, but you need to run it when you need to get new .po files that will be sent for translation. <br><pre> <code class="bash hljs">python/node/your_language update_translation_jsons <span class="hljs-comment"><span class="hljs-comment">#      pybabel extract -F babel.cfg -o messages.pot -k "trans" -k "ntrans:1,2" -k "__" . #    # trans -    , ntrans -  # __  ""    # babel.cfg -  babel-     pybabel update -i messages.pot -d path/i18n/ # .po    ,</span></span></code> </pre><br><br>  Here it will not be superfluous to show an example of the babel.cfg file, this is a mapping file indicating what and from which files to extract the lines: <br><pre> <code class="bash hljs">[python: path/backend/notifier.py] [hbs: path/static/**.hbs] [json: path/static/i18n/src/**.json] [javascript: path/static/**.coffee_js] encoding = utf-8</code> </pre><br><br>  3) Run all .po files through po2json, to get .json, which Jed will accept. <br>  Here it can and should be included in the build. <br>  What not to do is letting it in git, they have no place there. <br><br>  How exactly to feed all the .po file and where to put them is on the conscience of the user. <br>  I run them into grunt, like the rest of the build. <br>  The grunt-po2json which is on github and in the grant repository is broken, because it does not support rename, but it is needed, since it‚Äôs more convenient for me when all the final .json files go to one directory, I fixed it locally, but need to send it to case pull request ... <br><br>  Of course, it can be a lot easier, after installing po2json ( <b>npm install po2json</b> ), to include something similar in the build script: <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> {es,en,fr,de,ja} | xargs -n1 -I {} po2json /path/i18n/{}/LC_MESSAGES/messages.pot /path/to/build/i18n/{}.json</code> </pre><br><br><h5>  Thoughts that are not included in the flow, but those that have a sense of focusing on them </h5><br>  Throughout the post, he promised several times "about this later," but there was no suitable place for later. <br><br>  Such as: <br>  coffeescript does not have its own extractor, because when building statics, coffeescript is compiled (or translated) into javascript. <br>  Therefore, it is enough to start assembling .js strings after translation into javascript <br>  In my case, everything is even a bit wrong, next to each coffee file is a coffee_js file, which is created using grunt watch at the time of editing (and restarts dev static, but this is a topic for a separate post :)), these files are by themselves outside the gita.  Here from them lines also are pulled out <br><br>  - There was also a mention of domains. <br>  The domains are ultimately different files, messages.pot / messages.po = domain messages <br>  You can create multiple domains, bind all domains to a Jed instance, or create several different Jed instans and redirect to them. <br>  But for this you need to expand the handlebars helpers or any other wrapper ... I have never had such a need, but as a rule I prefer not to do anything extra in advance :) <br><br>  - A small footnote to texa in the introductory block <br><blockquote>  If you want to display a slightly more beautiful messages to the user, such as ‚ÄúYou have 1 apple‚Äù, ‚ÄúYou have 7 apples‚Äù then English should be the main language. </blockquote><br>  Here it should be understood that in the call to ngettext it is necessary to write exactly ‚Äúyou have% (apples_count) d apples‚Äù, and not ‚Äúyou have one apple‚Äù <br>  Because in the case of one and in the case of the 21st, the final line should be in the first form - that is, ‚ÄúYou have an% d apple‚Äù <br><br>  - It will also be important to focus on one issue that I have not had time to solve at the automatic level: <br>  babel creates an ‚Äúempty string‚Äù (the configuration of the .po file, which determines what language it is and what the string should be for the plural) in a format incompatible with Jed <br>  Jed expects that there will be ‚Äúplural_forms‚Äù, babel gives out Plural-Forms <br>  Here you will need to edit either the output of the babel, or the input of the Jed, or between them. <br>  But first, look in the configuration of both. <br><br>  If I missed something, did not describe it, etc.  - write in the comments, add. <br>  Objectives to disassemble each utility in detail did not stand, the goal was to tell about the existence of these and how and why they work together. <br>  The rest is a place in the comments. </div><p>Source: <a href="https://habr.com/ru/post/199226/">https://habr.com/ru/post/199226/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../199212/index.html">Interview with C # legend Eric Lippert</a></li>
<li><a href="../199218/index.html">IvBit Conference Report</a></li>
<li><a href="../199220/index.html">MicroXperts U400-06. Aluminum Ultrabook Review</a></li>
<li><a href="../199222/index.html">Where does hard drive space disappear in Mac OS X</a></li>
<li><a href="../199224/index.html">Discovered the most distant galaxy: 30 billion light years from Earth</a></li>
<li><a href="../199228/index.html">How to import non-imported</a></li>
<li><a href="../199230/index.html">LeapMotion. What's inside?</a></li>
<li><a href="../199234/index.html">Installer Testing: Automate Windows Login</a></li>
<li><a href="../199238/index.html">CryptoPati! - party hard!</a></li>
<li><a href="../199240/index.html">12-year-old student hacked government sites for Anonymous</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>