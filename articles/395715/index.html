<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Inside IBM FlashSystem 900</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The IBM FlashSystem family is the result of many years of development and investment of $ 1 billion in flash technology. The internal structure of AFA...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Inside IBM FlashSystem 900</h1><div class="post__text post__text-html js-mediator-article">  The IBM FlashSystem family is the result of many years of development and investment of $ 1 billion in flash technology.  The internal structure of <abbr title="all-flash arrays">AFAs is</abbr> often the strictest trade secret.  Manufacturers, as a rule, focus on marketing (how quickly data will be processed, write / read speed, reliability), but do not disclose the details of the structure of the systems. <br><br><img src="https://habrastorage.org/files/678/a18/294/678a182947e9472ab358397360334ac4.png"><a name="habracut"></a><br><br>  Not so long ago, IBM provided an opportunity to view the components of its FlashSystem 900, which works as a stand-alone device and provides 1 million / 600,000 IOPS with random read / write and 10.5 / 4.5 Gb / s I / O with sequential read / write.  FlashSystem 900 also serve as a component in more large systems from the same IBM, FlashSystem V9000 and A9000 AFAs.  Therefore, familiarizing yourself with FlashSystem 900 allows you to see the difference between a component and a larger system created from these components. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Flash Array Evolution </h4><br>  Flash masses evolved over several years, but they began with the use of conventional SSD drives of the standard 2.5-inch form factor, which were connected to storage systems designed for HDD drives.  Using SSD allowed to significantly speed up the system compared to HDD.  But this did not solve the problem to the full, the bottlenecks simply wandered into other components of the array (RAID controller or network interface). <br><br>  Pioneers of flash arrays began to develop optimized SSD devices with faster internal components and optimized data transfer channels, while the needs of data processing centers were only growing.  Most AFA manufacturers still use 2.5 SSDs.  The latest AFAs based on 2.5 SSDs provide users with high performance and fault tolerance, but the capabilities of such SSDs are limited due to factory firmware. <br><br>  Other vendors such as IBM, XtremIO (EMC) and Violin created their own AFAs using specially designed flash modules.  These new products provide the ability to control NAND itself, which, in turn, makes it possible to control data storage density, performance, durability and cost effectiveness. <br><br><h4>  IBM FlashSystem 900 </h4><br>  FlashSystem 900 is a 2U chassis that holds 12 hot-pluggable MicroLatency modules, as shown in the image below.  In addition, the system has two large lithium-ion batteries (left), which provide enough power to complete the recording process in cases of failure of the main power source.  Batteries provide enough power to shut down the array correctly and without any data loss. <br><br><img src="https://habrastorage.org/files/e0f/d39/46e/e0fd3946e48044b9963f934e047be610.png"><br><br>  Each MicroLatency module can contain 1.2 TB, 2.9 TB or 5.7 TB of flash memory.  In turn, the system records data through a single module.  The modules themselves are configured in RAID 5 to ensure maximum data integrity when one of the modules fails.  IBM also uses its own flash variable RAID path at the flash memory level to create a two-dimensional parity control scheme. <br><br><img src="https://habrastorage.org/files/445/17d/225/44517d225860487b9064c193d8e8908d.png"><br><br>  Each MicroLatency module has a dual PCB design with Xilinx Kintex-7 PVM.  Each PCB can hold up to four FPGAs, but the number of FPGAs varies depending on the density of the module.  For example, a 1.2 TB module will use only one FPGA on a single PCB.  Using an architecture with multiple FPGAs allows IBM to scale performance and power linearly. <br><br><img src="https://habrastorage.org/files/44d/73b/77f/44d73b77f5c240538233512e44cae9b7.jpg"><br><br>  A closer look at the back of the board shows two PCIe 3.0 x2 connections on the left side.  These slots are used to connect to the host and communicate using a serial protocol patented by IBM.  The protocol provides similar advantages to NVM Express: reduced processor load, latency, and increased performance.  The proprietary protocol uses hardware-accelerated data transfer channel with pass-through routing to eliminate the processes causing delays, such as interrupts. <br><br><img src="https://habrastorage.org/files/612/8e7/a51/6128e7a5194a4ea7af77bdcb14a52ec4.png"><br><br>  Each FPGA has its own DRAM for managing LBAs, and IBM also uses DRAM for caching user data. <br>  Most SSDs do not cache user data in DRAM, but the approach to protecting power loss at the system level (through batteries) provides IBM with several advantages.  Separate SSDs used in FlashSystem 900 do not require special capacitors that use ordinary 2.5-inch SSD drives.  This allows the company to pack more flash memory into a project.  A smaller number of capacitors also reduces the number of potential points of failure and the complexity of the software. <br><br>  Several capacitors are still located between the flash memory packs, but they are used to combat voltage drops when the system simultaneously writes to several NAND packets. <br><br><img src="https://habrastorage.org/files/7a4/7ca/e6c/7a47cae6c34245089fc1eb8a9f6cd1cd.png"><br><br>  IBM has established a strategic partnership with Micron to use FortisFlash NAND, which is customizable and provides additional programming capabilities in the system.  This allows IBM to dynamically change the core programming of each unit over the course of a NAND life based on age and health.  Micron indicated that when properly configured, the MLC FortisFlash NAND can offer up to 10,000 rewriting cycles (more than three times the standard estimate of 3,000 cycles). <br><br>  There are many different types of ECC, such as BCH and LDPC, and each has its own advantages and disadvantages.  AFA vendors that use a 2.5-inch SSD are limited to ECC, they can only use the manufacturer-installed SSD drive.  But custom design provides the flexibility to use custom ECC algorithms. <br><br>  IBM developed its own ECC algorithm.  This implementation oscillates between the BCH, which is an intensive method, but has limited error correction capabilities, and LDPC, which can be subject to excessive recording gain during the error correction process (thus reducing wear resistance).  IBM believes that custom ‚Äúread once‚Äù error correction includes the best of both methods. <br><br>  IBM also uses heat segregation, which detects hot and cold data and then combines them to reduce wear.  The company dynamically tracks the remaining number of possible overwrites of each cell, so rarely changing ‚Äúcold‚Äù data is stored in older NAND cells.  Due to what remains wear resistance.  IBM claims that thermal insulation increases endurance by 49 percent, and the addition of selective wear leveling (based on NAND health) increases endurance by 57 percent. <br><br><img src="https://habrastorage.org/files/f5a/afe/6f7/f5aafe6f741d462ba7be05844f30ca65.png"><br><br>  Each 2U chassis contains two redundant power supplies right behind the front panel of an affordable, hot-swappable battery.  The system has four hot-swappable, modular fans placed in two large block canisters (left).  Each of these has a number of I / O ports (Fiber Channel, iSCSI and FCoE range) along the top, which are located on the hot-swappable interface cards. <br><br><img src="https://habrastorage.org/files/d61/360/12e/d6136012e29347ec95599721f6a13213.png"><br><br>  Each canister contains two processors from the Intel Xeon E5v2 series, 64GB of RAM, and a RAID controller (XBAR).  The canisters are also hot-swappable in order to minimize downtime in the event of a failure in the computed part of the system or memory.  The design itself is optimized to provide a maximum of two hops and never more from data input / output ports to flash memory, which guarantees stable performance and steel latency. <br><br><h4>  Wider Relevance. </h4><br>  IBM acquired Texas Memory Systems in 2012 and made additional investments of $ 1 billion in flash technology development in 2013.  This allowed the company to develop customized flash arrays that have higher performance and reliability than typical flash arrays using 2.5 SSDs.  IBM claims that the FlashSystem family provides 9.41 percent more endurance than competing solutions and provides it with a seven-year warranty.  IBM specialists can increase the memory density in their MicroLatency modules, providing protection against power losses throughout the system.  They can do this using their own hardware-controlled, serial interface that eliminates software-induced delays.  The company developed its own architecture to provide a number of advantages, such as user ECC and adaptive NAND algorithms, which provide great benefits to the end user in terms of density, performance and cost. <br><br>  IBM is not the only company in the flash array race.  EMC recently introduced an entire line of flash devices, some of which used non-standard SSD designs.  The company completely transfers all its data storage systems to the use of flash memory.  Pure Storage also has a promising initiative with the FlashBlade device, but this platform is still not available on the market at the moment.  Violin Memory also has an individual project, but its poor performance and dark prospects discourage many from using this solution. <br><br>  IBM among the main suppliers of AFA in terms of performance, but not the first in revenue.  The company claims that in the end result of an individual project, they will offer higher performance flash memory at a lower cost than competitors. <br><br>  It is clear that the future, based on flash memory technology, will bring even more specialized and optimized projects.  Probably - this will lead to the death of many systems (and companies) that use 2.5 inch SSD market drives. </div><p>Source: <a href="https://habr.com/ru/post/395715/">https://habr.com/ru/post/395715/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../395703/index.html">MIT Developed RNA Vaccines Programmable for Different Diseases</a></li>
<li><a href="../395707/index.html">Battle of the Titans (long-lived smartphones): innos D6000 (6000 mAh) vs. Oukitel K10000 (10,000 mAh)</a></li>
<li><a href="../395709/index.html">External batteries HIPER and Xiaomi Mi - a look amateur</a></li>
<li><a href="../395711/index.html">A new scientific method has helped find a large helium deposit.</a></li>
<li><a href="../395713/index.html">But the drone with RealSense to whom?</a></li>
<li><a href="../395717/index.html">Work Tion O2 breather after more than a year of operation</a></li>
<li><a href="../395719/index.html">9 new ways of space tourism</a></li>
<li><a href="../395721/index.html">In Russia, developed road signs for unmanned vehicles</a></li>
<li><a href="../395725/index.html">Experiments confirming the ability of a person to sense changes in the magnetic field were carried out.</a></li>
<li><a href="../395727/index.html">"Goosebumps ran": How music and physiology are connected</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>