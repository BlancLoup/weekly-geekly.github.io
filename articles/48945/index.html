<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Calculation of expressions on Nemerle and Mono.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Over the weekend, three articles on the analysis of mathematical expressions appeared on the Habr√©: the Expression Compiler , the Parser of Mathematic...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Calculation of expressions on Nemerle and Mono.</h1><div class="post__text post__text-html js-mediator-article"> Over the weekend, three articles on the analysis of mathematical expressions appeared on the Habr√©: the Expression <a href="http://habrahabr.ru/blogs/development/50139">Compiler</a> , the <a href="http://habrahabr.ru/blogs/net/50158/">Parser of Mathematical Expressions</a> and the <a href="http://habrahabr.ru/blogs/algorithm/50196/">Calculation of the Expression Value</a> and one <a href="http://habrahabr.ru/blogs/development/50139/">comment</a> , in which the code on the prologue for brevity and expressiveness breaks the examples in these articles. <br><br>  Below I will show how to use the standard tools of the platform and language to achieve the same result, namely the calculation of expressions. <br><br><a name="habracut"></a>  At the PDC2008 conference, Anders Hejlsberg gave a talk in which he traced the evolution of the C # language.  He reviewed the existing versions and made an overview of the future: in the 4th version of the developers waiting for the opportunity to dilute the strict type system with capabilities from dynamic languages, and by the fifth version the compiler will be completely rewritten under managed code, and it can be used as a service (compiler as a service) . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For those programmers who are dreaming to try out this ideology (compiler as a service) right now, it will be good news that they can do it.  The fact is that the nemerle compiler is written in nemerle, and it can be used as a simple library.  It should also be noted that in this case, in the course of its work, no files will be created on the disk, only if you do not want the opposite.  Below is an example of code that the compiler uses as a library and which effectively solves the problem of parsing / evaluating expressions =) <br><br> <code><font color="#0000FF">using</font> System; <br> <br> <font color="#0000FF">using</font> System. <font color="#2B91AF">Console</font> ; <br> <font color="#0000FF">using</font> Nemerle.Evaluation. <font color="#2B91AF">Evaluator</font> ; <br> <br> <font color="#0000FF">module</font> <font color="#2B91AF">Program</font> <br> { <br> Main() : <font color="#0000FF">void</font> <br> { <br> <font color="#0000FF">def</font> function = EvaluateExpression( <font color="#A31515">"x =&gt; x + 1.0"</font> ) :&gt; <font color="#0000FF">double</font> -&gt; <font color="#0000FF">double</font> ; <br> WriteLine(function(2.0)); <br> } <br> }</code> <br> <br>  I think that for any programmer who owns C # this code is understandable, I‚Äôll just note that module is a synonym for static class, double-&gt; double is a function type, analog Func &lt;double, double&gt;, and using System.Console reveals System.Console so that its static methods ‚Äúturn‚Äù into global functions / procedures, that is, a call to WriteLine (function (2.0)) is actually a call to Console.WriteLine (function (2.0)). <br><br>  Another opportunity to taste the future is the mono platform.  I waited a long time for release of version 2.2 and was surprised that no one had yet written on Habr√© about its output.  My expectations were based on a note that Miguel De Icaza published on his blog in September, in which he announced that in the next version of mono (now it‚Äôs already running) a REPL will be added, which in turn is based on the compiler as service ideology.  Below is the C # code under mono, similar to the code on Nemerle: <br><br> <code><font color="#0000FF">using</font> System; <br> <font color="#0000FF">using</font> Mono.CSharp; <br> <br> <font color="#0000FF">public class</font> <font color="#2B91AF">Program</font> <br> { <br> <font color="#0000FF">public static void</font> Main(string[] args) <br> { <br> <font color="#0000FF">var</font> function = <br> <font color="#2B91AF">Evaluator</font> .Evaluate ( <font color="#A31515">"new System.Converter&lt;double,double&gt;(x=&gt;x+1.0);"</font> ) <br> <font color="#0000FF">as</font> <font color="#2B91AF">Converter</font> &lt; <font color="#0000FF">double</font> , <font color="#0000FF">double</font> &gt;; <br> <font color="#2B91AF">Console</font> .WriteLine(function(2.0)); <br> } <br> }</code> <br> <br>  PS <br>  Separately, I want to note that both Nemerle and Mono are open source projects.  I used this feature when creating this note, namely, I did not find exhaustive documentation on the use of compile as a service in Nemerle and Mono, but I was able to quickly find all the information I was interested in by studying the source codes. </div><p>Source: <a href="https://habr.com/ru/post/48945/">https://habr.com/ru/post/48945/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../48928/index.html">Ruby and C. Part 1.</a></li>
<li><a href="../48932/index.html">Comparison of the share of secondary search engines in Russia</a></li>
<li><a href="../48937/index.html">Great free photos can now be used for personal gain</a></li>
<li><a href="../48942/index.html">Identify the author of the post in the comments</a></li>
<li><a href="../48943/index.html">Abandoned tab</a></li>
<li><a href="../48947/index.html">The correct scheme of the St. Petersburg metro</a></li>
<li><a href="../48948/index.html">Consultants, trainings and cabbage</a></li>
<li><a href="../48950/index.html">Install RockBox on iPod Video</a></li>
<li><a href="../48952/index.html">Ruby && Python && Perl && PHP && Ruby1.9</a></li>
<li><a href="../48953/index.html">Federal Online Exam - bugs and features</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>