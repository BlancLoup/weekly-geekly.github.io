<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Anatomy of Google Analytics</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 
 We are developers (proudly sounds, isn‚Äôt it?), And we are actively sawing new features, fixing bugs and trying to make our product better. Bu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Anatomy of Google Analytics</h1><div class="post__text post__text-html js-mediator-article"><p>  Hello! <br>  We are developers (proudly sounds, isn‚Äôt it?), And we are actively sawing new features, fixing bugs and trying to make our product better.  But in order to understand exactly how the user uses our product, which product chips he likes, and which ones - not so much, we use analytics.  There are many different means, but in this article I would like to talk about Google analytics, which is actively developing and changing.  An old watchman named Google Analytics is replacing a new fighter - Google Analytics for Firebase (nee - Firebase Analytics). <br>  Even in the names you can catch this wind of change.  And the wind of change always generates a certain informational vacuum, into which various rumors get, far from always reliable at the same time. <br>  Therefore, let's try to understand in detail, and what is now with this analytics, what to use in the end.  And how do you continue to live? <br>  If there is a lot of information about Google Analytics, and it is systematized (which only this <a href="https://support.google.com/analytics/answer/4553001%3Fhl%3Den">resource</a> costs, an ideal reference), then Google Analytics for Firebase has a typical illness of a young and actively developing product - there is little information, it is fragmented and sometimes even contradictory.  And I once spent a lot of time and effort to figure out what was happening. <br>  Actually the main goal of this article is to systematize the knowledge and current state of Google Analytics for Firebase.  Some roadmap for Google Analytics for Firebase. <br>  I am sure this ‚Äúcard‚Äù will save you a lot of time and nerves =) </p><a name="habracut"></a><br><h3>  The most important myth.  Google Analytics all </h3><br><p>  I'll start all the same with the hottest. <br>  It seems to me that this rumor has been going since Firebase Analytics.  And on the one hand, it is logical, why Google has two analytics tools.  But Google Analytics (we will call it GA) and Google Analytics for Firebase (we‚Äôll call it FA in the old manner) are two analysts with different concepts and approaches, which we‚Äôll talk about below. <br>  GA will not go anywhere and will not disappear (at least for now), and also will not be absorbed by someone.  This is both information from representatives of the Moscow office of Google, and insiders from the developers themselves. <br>  GA fans can sleep well ... for now.  But who knows what will happen next.  Therefore, I strongly recommend to continue reading =) </p><br><h3>  GA vs FA.  General concept </h3><br><p>  FA is an analyst with a completely different concept and philosophy.  It is event based and is intended solely for mobile phones.  Whereas GA is screen-based and at first it was for the web, and only then it was finished for mobile. <br>  <strong>GA is structured around hierarchical events with a single value, FA is more about recording a single event with a large number of parameters (key-value pairs).</strong> <br>  These analysts are very different.  And therefore they cannot be interchangeable. <br>  Migration from one to another is not provided.  But Google is working on a certain compatibility of these analytics, which we will also talk about later. </p><br><h3>  GA vs FA.  Developments </h3><br><p>  Kohl, we have touched on the theme of events.  In terms of understanding the ‚Äúevents‚Äù GA and FA are really very different.  And this is especially noticeable by example. <br>  Let's say your application is a game.  At the end of the game you want to send statistics, as a result the user played.  And you want to know the total score of the user, the number of enemies killed and the number of rounds passed. <br>  In GA, it will look something like this: </p><br><pre><code class="hljs pgsql">// total score mTracker = googleAnalytics.newTracker(R.xml.tracker_global_config); HitBuilders.EventBuilder builder = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> HitBuilders.EventBuilder() .setCategory("gameOver") .setAction("totalScore") .setLabel("") .setValue(gameStats.getTotalScore()); mTracker.send(builder.build()); // enemies beaten mTracker = googleAnalytics.newTracker(R.xml.tracker_global_config); HitBuilders.EventBuilder builder = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> HitBuilders.EventBuilder() .setCategory("gameOver") .setAction("enemiesBeaten") .setLabel("") .setValue(gameStats.getEnemiesBeaten()); mTracker.send(builder.build()); // roundsSurvived mTracker = googleAnalytics.newTracker(R.xml.tracker_global_config); HitBuilders.EventBuilder builder = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> HitBuilders.EventBuilder() .setCategory("gameOver") .setAction("roundsSurvived") .setLabel("") .setValue(gameStats.getRoundsSurvived()); mTracker.send(builder.build());</code> </pre> <br><p>  In GA, each event is essentially a hierarchy of parameters: <br>  <strong>category -&gt; action -&gt; label -&gt; value</strong> <br>  And in the console itself, you could observe this hierarchy of parameters.  Actually, when inventing events that you would like to follow, you should have been guided by this paradigm.  Also in the console, you can build various filters on these parameters. <br>  But in GA in terms of events there is a small minus.  If you want to add additional parameters to the event, besides the ones mentioned above, here you have to dance around "category" -&gt; "action" -&gt; "label" -&gt; "value", invent new wordings and so on.  Inconvenient.  At least it was before. </p><br><p>  And now let's see how to beat these statistics with the FA: </p><br><pre> <code class="hljs cs">Bundle <span class="hljs-keyword"><span class="hljs-keyword">params</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Bundle(); <span class="hljs-keyword"><span class="hljs-keyword">params</span></span>.putLong(<span class="hljs-string"><span class="hljs-string">"totalScore"</span></span>, gameStats.getTotalScore()); <span class="hljs-keyword"><span class="hljs-keyword">params</span></span>.putLong(<span class="hljs-string"><span class="hljs-string">"enemiesBeaten"</span></span>, gameStats.getEnemiesBeaten()); <span class="hljs-keyword"><span class="hljs-keyword">params</span></span>.putLong(<span class="hljs-string"><span class="hljs-string">"roundsSurvived"</span></span>, gameStats.getRoundSurvived()); mFirebaseAnalytics.logEvent(<span class="hljs-string"><span class="hljs-string">"game_over"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">params</span></span>);</code> </pre> <br><p>  As you can see, instead of three events we send one that is more logical and convenient.  About the "events" in the FA, we'll talk in more detail below. </p><br><h3>  GA vs FA.  Console </h3><br><p>  The second thing that analysts differ much from is the console. <br>  This is how the console looks like in GA (the <em>image is clickable</em> ): <br> <a href=""><img src="https://habrastorage.org/web/645/97f/53a/64597f53af2c42a2b73acb59bdec39a2.png"></a> </p><br><p>  ‚ÄúEvents‚Äù are hidden deep in the ‚ÄúBehavior‚Äù tab on the left.  But the standard report immediately breaks down into <strong>Category, Action, Label</strong> ( <em>clickable image</em> ): <br> <a href=""><img src="https://habrastorage.org/web/1b2/0df/eaf/1b20dfeaf0ac45b3b22f95fd583ae73e.png"></a> </p><br><p>  This is what the FA console looks like ( <em>clickable image</em> ): <br> <a href=""><img src="https://habrastorage.org/web/6b5/321/9a0/6b53219a00544170a3068d134a9ac493.png"></a> </p><br><p>  The first thing you see is the "Summary."  And I would immediately pay attention to the <strong>User engagement</strong> card ( <em>clickable image</em> ): <br> <a href=""><img src="https://habrastorage.org/web/7c5/281/979/7c52819791d24520a3d84e7176521092.png"></a> </p><br><p>  Finally, a normal screen view was added to the FA-console.  Until May, we lived without it.  That is, the event ‚Äúuser engagement‚Äù was sent, but it could not be seen in the console at all.  It was terrible.  And this is probably one of the reasons why nobody wanted to switch to FA. <br>  As you can see, the <strong>Events</strong> tab goes right behind the <strong>Dashboard</strong> , which confirms once again - the FA is sharpened to work with events.  We will also return to the console a little later, and now I propose to dive into this vast theme of ‚ÄúEvents‚Äù in the FA. </p><br><h3>  FA Events </h3><br><p>  Let's take a quick look at the code: </p><br><pre> <code class="java hljs">Bundle bundle = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Bundle(); bundle.putString(FirebaseAnalytics.Param.ITEM_ID, id); bundle.putString(FirebaseAnalytics.Param.ITEM_NAME, name); bundle.putString(FirebaseAnalytics.Param.CONTENT_TYPE, <span class="hljs-string"><span class="hljs-string">"image"</span></span>); mFirebaseAnalytics.logEvent(FirebaseAnalytics.Event.SELECT_CONTENT, bundle);</code> </pre> <br><p>  You can send up to 500 <b>different</b> types of events in your application, including the preset ones ( <code>FirebaseAnalytics.Event.SELECT_CONTENT</code> is preset, but you can also set your own types).  The total number of events sent is not limited ( <a href="https://firebase.google.com/docs/analytics/android/events">source</a> ). <br>  Up <strong>to 25 parameters</strong> can be attached <strong>to</strong> each event (what goes into the <code>Bundle</code> ).  The parameters are also predefined, but nobody forbids you to set custom parameters.  Described <a href="https://firebase.google.com/docs/reference/android/com/google/firebase/analytics/FirebaseAnalytics.Event">here</a> . <br>  Types of events and parameters are ordinary <code>String</code> . <br>  Event and parameter names are case sensitive.  Identical events must match in type and parameters. <br>  In addition, there are events that are sent by default.  The entire list of automatically sent events with the description is given on <a href="https://support.google.com/firebase/answer/6317485">this link</a> .  As you can see, there are a lot of really interesting events that we previously could not get.  Cool! <br>  You can also read through the link above which predefined events and parameters can be selected for certain events. </p><br><h3>  FA events.  "It was smooth on paper, but they forgot about the ravines" </h3><br><p>  You noticed that there is a lot of suspicious talk about predefined event names and parameters.  And in illustrative examples, such events are usually sent with parameters.  And this is no accident.  Suppose you send an event with ten custom parameters.  And then in the console for your event, you will see the following ( <em>clickable image</em> ): <br> <a href=""><img src="https://habrastorage.org/web/4fe/1eb/9c7/4fe1eb9c77f940c0b7150f29c4a1a531.png"></a> <br>  ‚ÄúBut where are all my parameters?‚Äù You ask.  And they are not on the console, so here. <br>  The fact is that all beautiful graphics and stuff are built only if you use predefined names.  Use your "custom", you will not see anything at all.  Only ‚Äúnumber of events‚Äù and ‚Äúnumber of users‚Äù. <br>  And before I / O 17 it was a terrible pain.  Graphs could be built by playing, for example, with the <a href="https://firebase.google.com/docs/reference/android/com/google/firebase/analytics/FirebaseAnalytics.Param">Value</a> parameter, as in this <a href="https://firebase.googleblog.com/2017/02/firebase-analytics-quick-tip-value.html">article</a> .  But this, of course, is not that. </p><br><p>  And here, of course, it‚Äôs time to remember GA, where everything is for people, building filters there for anything and as much as you want. <br>  But here a little ambush.  Standard reports - yes, build without problems.  But in most cases we need custom reports.  For example, add a second dimension to sort events by device model.  And here comes the terrible word <strong>"Sampling"</strong> . <br>  Depending on the report, the GA sampling algorithm is different.  How exactly the sample is considered for each report is not revealed by Google, but in general, all practices are already known.  This is usually <strong>hi-based-sampling</strong> or <strong>cookie-based-sampling</strong> .  In the first case, random sampling is taken from all records (events, views, etc.), in the second case random sampling is taken for all users (marked cookies or gaid / idfa, if this is a mobile application). <br>  Therefore, it is impossible to reliably talk about the error for each field. <br>  In practice, it is said that when sampling more than 5%, the error in absolute numbers in the reports on events was less than 2.5%. <br>  For providing information on sampling, I would like to express my gratitude to <strong>Alexander Sergeyev</strong> from Yandex. </p><br><h3>  FA events.  Continuation </h3><br><p>  Yeah.  Everything is not easy with these "Events".  And in fact, the FA is going to meet the wishes of the common people. <br>  First, there is no sampling in the FA.  All data is available there. <br>  And this is very cool, since the cost of Google Analytics 360 (GA paid version without sampling) is rather big.  And in FA, you can upload your data to BigQuery and do whatever you want with it. <br>  Secondly, after I / O 17, it became possible to build reports on custom parameters. <br>  You are directly on the screen of a specific event are invited to <a href="https://support.google.com/firebase/answer/7397304%3Fhl%3Den%26ref_topic%3D6317489">register custom parameters</a> ( <em>clickable image</em> ): <br> <a href=""><img src="https://habrastorage.org/web/eef/6d7/eed/eef6d7eed02d4836b56a45b18e2d1d98.png"></a> </p><br><p>  But note that in <strong>total for this application</strong> you can register up to <strong>50</strong> such parameters ( <strong>10 text and 40 numeric</strong> ).  I tried life hacking to circumvent this restriction: I registered custom parameters with the same name for different events.  It did not help, it is still done "plus one". <br>  In addition, if you expect to see immediately ready reports, I hasten to disappoint you.  Reports are built cumulatively.  Suppose you have an "event_1" with a custom parameter "custom_1" for which you want to build a report.  In the console, you set up to build this report at time X. So, all event_1 events that come after time X will be included in the report. Unfortunately, all event_1s up to time X will not be processed.  So be careful. <br>  That is, it seems to be better, but not much.  What else is offensive, you can not somehow combine these reports with each other.  But perhaps we want too much from the console.  If you want to do anything with data, then welcome to the wonderful world of BigQuery.  Let us slightly open this veil of the mystery of data. </p><br><h3>  Bigquery </h3><br><p>  BigQuery is generally a slightly different galaxy. <br>  It was possible to work with BigQuery through GA, but only if you have a premium mode.  In FA, you are invited directly to the Events tab to establish a connection ( <em>clickable image</em> ): <br> <a href=""><img src="https://habrastorage.org/web/c55/176/6ae/c551766aefb843b89b0edf85e0cb7c4a.png"></a> </p><br><p>  Google says: ‚ÄúWe give you a car, but you pay for gas‚Äù.  Tariff plans are available <a href="https://firebase.google.com/pricing/">here</a> , and even better <a href="https://cloud.google.com/bigquery/pricing">here</a> .  But believe me, just to try it, the free <strong>Blaze</strong> tariff limits will be enough for you.  And even when working with combat products, judging by the reviews of comrades, the fee is very conditional. <br>  So, let's get acquainted.  This is what the BigQuery console looks like ( <em>clickable image</em> ): <br> <a href=""><img src="https://habrastorage.org/web/278/e40/52f/278e4052f8874c88a9ae74d8962abf38.png"></a> </p><br><p>  In the left menu is a list of available data.  For example, <strong>TestStep</strong> is my test project with one application in it.  And <strong>bigquery-public-data</strong> and <strong>Public Datasets</strong> are, as you might guess, public data with which you can experiment and on which you can practice writing queries. <br>  On the right, you see a list of requests, both successful and not so. <br>  Now let's take a look at the test application data for March 14, 2017 (table app_events_20170314, <em>clickable image</em> ): <br> <a href=""><img src="https://habrastorage.org/web/f58/16e/1f9/f5816e1f91d543b79143dc330200a811.png"></a> </p><br><p>  In the table I transferred all the data per day (52 events).  The overall composition of the table is presented in front of you.  As you can see, here each event is described as fully as possible, including all <strong>properties</strong> , which will be discussed below. <br>  Let's look at the data preview (Preview tab, <em>clickable image</em> ): <br> <a href=""><img src="https://habrastorage.org/web/64a/73d/997/64a73d997238412b916b380f288b85db.png"></a> </p><br><p>  The tabular view of the move is uninformative.  A much more understandable form is JSON ( <em>clickable image</em> ): <br> <a href=""><img src="https://habrastorage.org/web/36d/578/d3d/36d578d3d37c42e3925939ff06f3f76b.png"></a> </p><br><p>  And then our event is presented in full.  For some reason, it is impossible to expand the display of json in UI for some reason, so I‚Äôll bring the full json of the last five events separately: </p><br><div class="spoiler">  <b class="spoiler_title">5 events in BigQuery</b> <div class="spoiler_text"><pre> <code class="hljs json">[ { <span class="hljs-attr"><span class="hljs-attr">"user_dim"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"user_id"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"first_open_timestamp_micros"</span></span>: <span class="hljs-string"><span class="hljs-string">"1488878151620000"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"user_properties"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">"first_open_time"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"string_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"int_value"</span></span>: <span class="hljs-string"><span class="hljs-string">"1488880800000"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"float_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"double_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"set_timestamp_usec"</span></span>: <span class="hljs-string"><span class="hljs-string">"1488878151620000"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"index"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } } ], <span class="hljs-attr"><span class="hljs-attr">"device_info"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"device_category"</span></span>: <span class="hljs-string"><span class="hljs-string">"mobile"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"mobile_brand_name"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"mobile_model_name"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"mobile_marketing_name"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"device_model"</span></span>: <span class="hljs-string"><span class="hljs-string">"507SH"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"platform_version"</span></span>: <span class="hljs-string"><span class="hljs-string">"6.0.1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"device_id"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"resettable_device_id"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"user_default_language"</span></span>: <span class="hljs-string"><span class="hljs-string">"ru-ru"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"device_time_zone_offset_seconds"</span></span>: <span class="hljs-string"><span class="hljs-string">"10800"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"limited_ad_tracking"</span></span>: <span class="hljs-string"><span class="hljs-string">"false"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"geo_info"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"continent"</span></span>: <span class="hljs-string"><span class="hljs-string">"Europe"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"country"</span></span>: <span class="hljs-string"><span class="hljs-string">"Russia"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"region"</span></span>: <span class="hljs-string"><span class="hljs-string">"Moscow"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"city"</span></span>: <span class="hljs-string"><span class="hljs-string">"Moscow"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"app_info"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"app_version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"app_instance_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"d0c587de4d5804ddc1d34f8d54b981f9"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"app_store"</span></span>: <span class="hljs-string"><span class="hljs-string">"manual_install"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"app_platform"</span></span>: <span class="hljs-string"><span class="hljs-string">"ANDROID"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"app_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"com.example.matsyuk.testfirebase"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"traffic_source"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"bundle_info"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"bundle_sequence_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"65"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"server_timestamp_offset_micros"</span></span>: <span class="hljs-string"><span class="hljs-string">"-496748"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"ltv_info"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"event_dim"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"date"</span></span>: <span class="hljs-string"><span class="hljs-string">"20170314"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"user_engagement"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"params"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">"firebase_screen_class"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"string_value"</span></span>: <span class="hljs-string"><span class="hljs-string">"SecondActivity"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"int_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"float_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"double_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">"firebase_event_origin"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"string_value"</span></span>: <span class="hljs-string"><span class="hljs-string">"auto"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"int_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"float_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"double_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">"firebase_screen_id"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"string_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"int_value"</span></span>: <span class="hljs-string"><span class="hljs-string">"1109587836504693342"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"float_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"double_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">"engagement_time_msec"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"string_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"int_value"</span></span>: <span class="hljs-string"><span class="hljs-string">"4424"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"float_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"double_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } } ], <span class="hljs-attr"><span class="hljs-attr">"timestamp_micros"</span></span>: <span class="hljs-string"><span class="hljs-string">"1489478210462000"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"previous_timestamp_micros"</span></span>: <span class="hljs-string"><span class="hljs-string">"1489478205970000"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value_in_usd"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } ] }, { <span class="hljs-attr"><span class="hljs-attr">"user_dim"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"user_id"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"first_open_timestamp_micros"</span></span>: <span class="hljs-string"><span class="hljs-string">"1488878151620000"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"user_properties"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">"first_open_time"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"string_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"int_value"</span></span>: <span class="hljs-string"><span class="hljs-string">"1488880800000"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"float_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"double_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"set_timestamp_usec"</span></span>: <span class="hljs-string"><span class="hljs-string">"1488878151620000"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"index"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } } ], <span class="hljs-attr"><span class="hljs-attr">"device_info"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"device_category"</span></span>: <span class="hljs-string"><span class="hljs-string">"mobile"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"mobile_brand_name"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"mobile_model_name"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"mobile_marketing_name"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"device_model"</span></span>: <span class="hljs-string"><span class="hljs-string">"507SH"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"platform_version"</span></span>: <span class="hljs-string"><span class="hljs-string">"6.0.1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"device_id"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"resettable_device_id"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"user_default_language"</span></span>: <span class="hljs-string"><span class="hljs-string">"ru-ru"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"device_time_zone_offset_seconds"</span></span>: <span class="hljs-string"><span class="hljs-string">"10800"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"limited_ad_tracking"</span></span>: <span class="hljs-string"><span class="hljs-string">"false"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"geo_info"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"continent"</span></span>: <span class="hljs-string"><span class="hljs-string">"Europe"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"country"</span></span>: <span class="hljs-string"><span class="hljs-string">"Russia"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"region"</span></span>: <span class="hljs-string"><span class="hljs-string">"Moscow"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"city"</span></span>: <span class="hljs-string"><span class="hljs-string">"Moscow"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"app_info"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"app_version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"app_instance_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"d0c587de4d5804ddc1d34f8d54b981f9"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"app_store"</span></span>: <span class="hljs-string"><span class="hljs-string">"manual_install"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"app_platform"</span></span>: <span class="hljs-string"><span class="hljs-string">"ANDROID"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"app_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"com.example.matsyuk.testfirebase"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"traffic_source"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"bundle_info"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"bundle_sequence_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"64"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"server_timestamp_offset_micros"</span></span>: <span class="hljs-string"><span class="hljs-string">"-515257"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"ltv_info"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"event_dim"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"date"</span></span>: <span class="hljs-string"><span class="hljs-string">"20170314"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"user_engagement"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"params"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">"firebase_screen_class"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"string_value"</span></span>: <span class="hljs-string"><span class="hljs-string">"MainActivity"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"int_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"float_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"double_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">"firebase_event_origin"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"string_value"</span></span>: <span class="hljs-string"><span class="hljs-string">"auto"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"int_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"float_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"double_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">"firebase_screen_id"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"string_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"int_value"</span></span>: <span class="hljs-string"><span class="hljs-string">"1109587836504693341"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"float_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"double_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">"engagement_time_msec"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"string_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"int_value"</span></span>: <span class="hljs-string"><span class="hljs-string">"17278"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"float_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"double_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } } ], <span class="hljs-attr"><span class="hljs-attr">"timestamp_micros"</span></span>: <span class="hljs-string"><span class="hljs-string">"1489478205970000"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"previous_timestamp_micros"</span></span>: <span class="hljs-string"><span class="hljs-string">"1489153178047000"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value_in_usd"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } ] }, { <span class="hljs-attr"><span class="hljs-attr">"user_dim"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"user_id"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"first_open_timestamp_micros"</span></span>: <span class="hljs-string"><span class="hljs-string">"1488878151620000"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"user_properties"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">"first_open_time"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"string_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"int_value"</span></span>: <span class="hljs-string"><span class="hljs-string">"1488880800000"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"float_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"double_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"set_timestamp_usec"</span></span>: <span class="hljs-string"><span class="hljs-string">"1488878151620000"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"index"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } } ], <span class="hljs-attr"><span class="hljs-attr">"device_info"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"device_category"</span></span>: <span class="hljs-string"><span class="hljs-string">"mobile"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"mobile_brand_name"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"mobile_model_name"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"mobile_marketing_name"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"device_model"</span></span>: <span class="hljs-string"><span class="hljs-string">"507SH"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"platform_version"</span></span>: <span class="hljs-string"><span class="hljs-string">"6.0.1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"device_id"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"resettable_device_id"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"user_default_language"</span></span>: <span class="hljs-string"><span class="hljs-string">"ru-ru"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"device_time_zone_offset_seconds"</span></span>: <span class="hljs-string"><span class="hljs-string">"10800"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"limited_ad_tracking"</span></span>: <span class="hljs-string"><span class="hljs-string">"false"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"geo_info"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"continent"</span></span>: <span class="hljs-string"><span class="hljs-string">"Europe"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"country"</span></span>: <span class="hljs-string"><span class="hljs-string">"Russia"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"region"</span></span>: <span class="hljs-string"><span class="hljs-string">"Moscow"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"city"</span></span>: <span class="hljs-string"><span class="hljs-string">"Moscow"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"app_info"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"app_version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"app_instance_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"d0c587de4d5804ddc1d34f8d54b981f9"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"app_store"</span></span>: <span class="hljs-string"><span class="hljs-string">"manual_install"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"app_platform"</span></span>: <span class="hljs-string"><span class="hljs-string">"ANDROID"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"app_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"com.example.matsyuk.testfirebase"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"traffic_source"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"bundle_info"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"bundle_sequence_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"63"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"server_timestamp_offset_micros"</span></span>: <span class="hljs-string"><span class="hljs-string">"-500210"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"ltv_info"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"event_dim"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"date"</span></span>: <span class="hljs-string"><span class="hljs-string">"20170314"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"ga_event"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"params"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">"label"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"string_value"</span></span>: <span class="hljs-string"><span class="hljs-string">"label1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"int_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"float_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"double_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">"firebase_screen_class"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"string_value"</span></span>: <span class="hljs-string"><span class="hljs-string">"MainActivity"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"int_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"float_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"double_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">"action"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"string_value"</span></span>: <span class="hljs-string"><span class="hljs-string">"action1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"int_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"float_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"double_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">"firebase_event_origin"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"string_value"</span></span>: <span class="hljs-string"><span class="hljs-string">"app"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"int_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"float_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"double_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">"value"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"string_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"int_value"</span></span>: <span class="hljs-string"><span class="hljs-string">"1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"float_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"double_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">"category"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"string_value"</span></span>: <span class="hljs-string"><span class="hljs-string">"category1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"int_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"float_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"double_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">"firebase_screen_id"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"string_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"int_value"</span></span>: <span class="hljs-string"><span class="hljs-string">"1109587836504693341"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"float_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"double_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } } ], <span class="hljs-attr"><span class="hljs-attr">"timestamp_micros"</span></span>: <span class="hljs-string"><span class="hljs-string">"1489478204880000"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"previous_timestamp_micros"</span></span>: <span class="hljs-string"><span class="hljs-string">"1489137436229000"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value_in_usd"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } ] }, { <span class="hljs-attr"><span class="hljs-attr">"user_dim"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"user_id"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"first_open_timestamp_micros"</span></span>: <span class="hljs-string"><span class="hljs-string">"1488878151620000"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"user_properties"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">"first_open_time"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"string_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"int_value"</span></span>: <span class="hljs-string"><span class="hljs-string">"1488880800000"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"float_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"double_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"set_timestamp_usec"</span></span>: <span class="hljs-string"><span class="hljs-string">"1488878151620000"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"index"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } } ], <span class="hljs-attr"><span class="hljs-attr">"device_info"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"device_category"</span></span>: <span class="hljs-string"><span class="hljs-string">"mobile"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"mobile_brand_name"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"mobile_model_name"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"mobile_marketing_name"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"device_model"</span></span>: <span class="hljs-string"><span class="hljs-string">"507SH"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"platform_version"</span></span>: <span class="hljs-string"><span class="hljs-string">"6.0.1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"device_id"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"resettable_device_id"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"user_default_language"</span></span>: <span class="hljs-string"><span class="hljs-string">"ru-ru"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"device_time_zone_offset_seconds"</span></span>: <span class="hljs-string"><span class="hljs-string">"10800"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"limited_ad_tracking"</span></span>: <span class="hljs-string"><span class="hljs-string">"false"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"geo_info"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"continent"</span></span>: <span class="hljs-string"><span class="hljs-string">"Europe"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"country"</span></span>: <span class="hljs-string"><span class="hljs-string">"Russia"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"region"</span></span>: <span class="hljs-string"><span class="hljs-string">"Moscow"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"city"</span></span>: <span class="hljs-string"><span class="hljs-string">"Moscow"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"app_info"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"app_version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"app_instance_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"d0c587de4d5804ddc1d34f8d54b981f9"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"app_store"</span></span>: <span class="hljs-string"><span class="hljs-string">"manual_install"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"app_platform"</span></span>: <span class="hljs-string"><span class="hljs-string">"ANDROID"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"app_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"com.example.matsyuk.testfirebase"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"traffic_source"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"bundle_info"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"bundle_sequence_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"62"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"server_timestamp_offset_micros"</span></span>: <span class="hljs-string"><span class="hljs-string">"-499813"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"ltv_info"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"event_dim"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"date"</span></span>: <span class="hljs-string"><span class="hljs-string">"20170314"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"select_content"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"params"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">"firebase_screen_class"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"string_value"</span></span>: <span class="hljs-string"><span class="hljs-string">"MainActivity"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"int_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"float_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"double_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">"content_type"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"string_value"</span></span>: <span class="hljs-string"><span class="hljs-string">"image"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"int_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"float_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"double_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">"item_name"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"string_value"</span></span>: <span class="hljs-string"><span class="hljs-string">"name1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"int_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"float_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"double_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">"firebase_event_origin"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"string_value"</span></span>: <span class="hljs-string"><span class="hljs-string">"app"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"int_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"float_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"double_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">"firebase_screen_id"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"string_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"int_value"</span></span>: <span class="hljs-string"><span class="hljs-string">"1109587836504693341"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"float_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"double_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">"item_id"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"string_value"</span></span>: <span class="hljs-string"><span class="hljs-string">"1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"int_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"float_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"double_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } } ], <span class="hljs-attr"><span class="hljs-attr">"timestamp_micros"</span></span>: <span class="hljs-string"><span class="hljs-string">"1489478204208000"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"previous_timestamp_micros"</span></span>: <span class="hljs-string"><span class="hljs-string">"1489137435605000"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value_in_usd"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } ] }, { <span class="hljs-attr"><span class="hljs-attr">"user_dim"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"user_id"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"first_open_timestamp_micros"</span></span>: <span class="hljs-string"><span class="hljs-string">"1488878151620000"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"user_properties"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">"first_open_time"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"string_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"int_value"</span></span>: <span class="hljs-string"><span class="hljs-string">"1488880800000"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"float_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"double_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"set_timestamp_usec"</span></span>: <span class="hljs-string"><span class="hljs-string">"1488878151620000"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"index"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } } ], <span class="hljs-attr"><span class="hljs-attr">"device_info"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"device_category"</span></span>: <span class="hljs-string"><span class="hljs-string">"mobile"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"mobile_brand_name"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"mobile_model_name"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"mobile_marketing_name"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"device_model"</span></span>: <span class="hljs-string"><span class="hljs-string">"507SH"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"platform_version"</span></span>: <span class="hljs-string"><span class="hljs-string">"6.0.1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"device_id"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"resettable_device_id"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"user_default_language"</span></span>: <span class="hljs-string"><span class="hljs-string">"ru-ru"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"device_time_zone_offset_seconds"</span></span>: <span class="hljs-string"><span class="hljs-string">"10800"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"limited_ad_tracking"</span></span>: <span class="hljs-string"><span class="hljs-string">"false"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"geo_info"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"continent"</span></span>: <span class="hljs-string"><span class="hljs-string">"Europe"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"country"</span></span>: <span class="hljs-string"><span class="hljs-string">"Russia"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"region"</span></span>: <span class="hljs-string"><span class="hljs-string">"Moscow"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"city"</span></span>: <span class="hljs-string"><span class="hljs-string">"Moscow"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"app_info"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"app_version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"app_instance_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"d0c587de4d5804ddc1d34f8d54b981f9"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"app_store"</span></span>: <span class="hljs-string"><span class="hljs-string">"manual_install"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"app_platform"</span></span>: <span class="hljs-string"><span class="hljs-string">"ANDROID"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"app_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"com.example.matsyuk.testfirebase"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"traffic_source"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"bundle_info"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"bundle_sequence_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"61"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"server_timestamp_offset_micros"</span></span>: <span class="hljs-string"><span class="hljs-string">"-537470"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"ltv_info"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"event_dim"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"date"</span></span>: <span class="hljs-string"><span class="hljs-string">"20170314"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"session_start"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"params"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">"firebase_screen_class"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"string_value"</span></span>: <span class="hljs-string"><span class="hljs-string">"MainActivity"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"int_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"float_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"double_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">"firebase_event_origin"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"string_value"</span></span>: <span class="hljs-string"><span class="hljs-string">"auto"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"int_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"float_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"double_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">"firebase_screen_id"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"string_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"int_value"</span></span>: <span class="hljs-string"><span class="hljs-string">"1109587836504693341"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"float_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"double_value"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } } ], <span class="hljs-attr"><span class="hljs-attr">"timestamp_micros"</span></span>: <span class="hljs-string"><span class="hljs-string">"1489478198696000"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"previous_timestamp_micros"</span></span>: <span class="hljs-string"><span class="hljs-string">"1489137330069000"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value_in_usd"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } ] } ]</code> </pre> </div></div><br><p>  Beauty, and only! <br>  Now take a closer look at Queries.  Choose the first ( <em>clickable picture</em> ): <br> <a href=""><img src="https://habrastorage.org/web/9d7/361/197/9d7361197b724c86b2b7fd6bcccf3870.png"></a> </p><br><p>  And the following screen will open before us ( <em>clickable image</em> ): <br> <a href=""><img src="https://habrastorage.org/web/e82/e6c/921/e82e6c921c744bffaf1264d28f876d37.png"></a> </p><br><p>  Our request is rather arbitrary.  Pay attention to the Results tab.  Actually, in it you will see the results of your query. <br>  If you open the Explanation tab, you will see a more detailed process of passing the request ( <em>clickable image</em> ): <br> <a href=""><img src="https://habrastorage.org/web/d8e/594/4fd/d8e5944fdaf8419a80e0acc65b74156f.png"></a> </p><br><p>  Well, the most interesting tab is Job information ( <em>clickable image</em> ): <br> <a href=""><img src="https://habrastorage.org/web/d3d/779/14b/d3d77914bd3946ff80b45e3053536628.png"></a> </p><br><p>  Check out Bytes Processed, Bytes Billed and Bites Tier.  During the request, 26.4 KB were processed, but you pay at the lower boundary for Bites Tier = 1, that is, you pay as for 10 MB.  However, judging by the <a href="https://cloud.google.com/bigquery/pricing">documentation</a> , 1 TB per month will be free for you, and each subsequent one will cost $ 5.  It is enough for you to stop playing and try.  Well, an important addition - you pay only for successful requests! </p><br><p>  Even a very brief review on BigQuery turns out rather big.  This is a very powerful and functional tool with which you can analyze data as you like.  But in 5 minutes in BigQuery you will not understand exactly, unlike a regular console in GA or FA.  It is therefore very cool if there is a person in your team or company who understands this and who can get any kind of results. <br>  If you want to become this person, you can start with the introductory <a href="https://www.youtube.com/watch%3Fv%3DKi_F6VCOtXU">video from Google</a> , which, by the way, tells about the calculation of the cost.  There are also some good articles - <a href="https://cloudplatform.googleblog.com/2016/09/using-BigQuery-and-Firebase-Analytics-to-understand-your-mobile-app.html">one</a> and <a href="https://cloud.google.com/solutions/mobile/mobile-firebase-analytics-big-query">two</a> .  Next, I advise you to dig in the direction of the <a href="https://cloud.google.com/bigquery/docs/">official docks</a> and <a href="http://eu.wiley.com/WileyCDA/WileyTitle/productCd-1118824822.html">books on BigQuery</a> (the whole book, Karl!). <br>  It would be great if someone has already dug well in this direction and can share tips and experiences =) <br>  I also note that there are UI wrappers over BigQuery of the <a href="https://datastudio.google.com/navigation/reporting">Data Studio</a> type that allow you to load data there and conveniently visualize it.  Data Studio is still in beta, but in the future it promises to be a very convenient tool. </p><br><h3>  User properties </h3><br><p>  We, in fact, continue the theme of events, as user properties are its integral part. <br>  User properties (in Russian ‚ÄúUser properties‚Äù) are the signs with which you can describe different segments of your user base, such as language, geographic location, etc.  They are also called <strong>sticky params</strong> , as they are attached to each event. <br>  Initially, only the default properties are attached to each event.  And if in the code you call such code: </p><br><pre> <code class="java hljs">mFirebaseAnalytics.setUserProperty(<span class="hljs-string"><span class="hljs-string">"license_property"</span></span>, mLicenseType);</code> </pre> <br><p>  then the property ‚Äúlicense_property‚Äù will be attached to each subsequent event with a pre-set value (value ‚ÄúmLicenseType‚Äù).  And even after restarting the application, phone, etc. this property will be attached.  That is, property is also <strong>persistence</strong> . <br>  In this case, you must pre-register your property in the console ( <em>clickable image</em> ): <br> <a href=""><img src="https://habrastorage.org/web/351/067/2e7/3510672e7e9644479f22b330841a8555.png"></a> </p><br><p>  Everything is detailed <a href="https://firebase.google.com/docs/analytics/android/properties">here</a> and in <a href="https://firebase.google.com/docs/reference/android/com/google/firebase/analytics/FirebaseAnalytics.UserProperty">api</a> . <br>  I note that for a particular application, you can send <strong>up to 25 properties</strong> (without taking into account the properties that are sent by default).  List of properties sent by default <a href="https://support.google.com/firebase/answer/6317486%3Fhl%3Den%26ref_topic%3D6317484">here</a> . <br>  Actually in the console you can filter anything, by properies and ‚Äúaudience‚Äù (let's say about the ‚Äúaudience‚Äù below).  For example, events ( <em>pictures clickable</em> ): <br> <a href=""><img src="https://habrastorage.org/web/ea5/461/8b5/ea54618b5bd3454fb08f618eeed1682e.png"></a> </p><br><p> <a href=""><img src="https://habrastorage.org/web/6ff/a97/151/6ffa97151398416fae1b80a99231f6dc.png"></a> </p><br><p>  <code>setUserProperty(...)</code> in GA are the <code>setCustomDimension(...)</code> and <code>setCustomMetric(...)</code> methods.  The only thing, the dimension and metric data are not sticky and persistence, and you will need to manually attach each session to each event. </p><br><h3>  Developments.  FA + other analytics </h3><br><p>  I think every application has at least two analytical tools.  Usually they are much more.  Analysts are also progressive people and do not stand still.  But we all support it.  Yes, plus traffic.  So what better to do? <br>  There is a very good <a href="https://firebase.googleblog.com/2017/02/how-do-i-add-firebase-analytics-to-app.html">Google article</a> , which I have already mentioned, which describes various options. </p><br><p>  Briefly introduce them so that you have an idea: </p><br><ol><li>  Just send separate analytics separately.  In the code, you will most likely create a kind of universal facade, which you will use everywhere. <br>  Cons, I think, are understandable.  More traffic and code. </li><li>  <a href="https://www.google.com/analytics/tag-manager/%3Futm_source%3Dga_partner_gallery%26utm_medium%3Dreferral%26utm_campaign%3Dapp_listing">Google Tag Manager</a> . <br>         .   ,          (  build.gradle    ),   FA- ‚Äî  .      Google Tag Manager  FA-       ,    (GA, AppsFlyer  <a href="https://support.google.com/tagmanager/answer/6106924%3Fhl%3Den">  Google Tag Manager</a> ).        ,    FA      (,  -      ). <br>      . ,  ,  ,     ,    ,    .     , ,       Google Tag Manager.    <a href="https://developers.google.com/tag-manager/android/v5/"></a> ,     . <br>   .  ‚Äî  ,       ,     .  ‚Äî     FA  Google Tag Manager    GA ecommerce data. </li><li> BigQuery. <br>  ,  ,  GA  FA,     .     GA  BigQuery  ,     Google Analytics 360. </li></ol><br><h3>   FA </h3><br><p>      ,      <a href="https://firebase.google.com/docs/analytics/android/start/"></a> .     Android Studio ,      .       ,      15 .  API?    <a href="https://firebase.google.com/docs/reference/android/com/google/firebase/analytics/package-summary"></a> ,     . <br>   FA  Android Studio Assistant          <code>google-services.json</code> .   ,       ,          ,    ‚Äî   FA. <br>     <code>build.gradle</code>   : </p><br><pre> <code class="java hljs">dependencies { classpath <span class="hljs-string"><span class="hljs-string">'com.google.gms:google-services:3.0.0'</span></span> <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre> <br><p>  <code>google-services</code> ‚Äî   ,   <code>google-services.json</code> ,     ,  FA.   <code>google-services</code>         (     FA). ,     <code>app/build.gradle</code>    : </p><br><pre> <code class="java hljs">apply plugin: <span class="hljs-string"><span class="hljs-string">'com.google.gms.google-services'</span></span></code> </pre> <br><p>  <code>google-services.json</code>          Firebase,     ,     . </p><br><div class="spoiler"> <b class="spoiler_title">    google-services.json:</b> <div class="spoiler_text"><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"project_info"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"project_number"</span></span>: <span class="hljs-string"><span class="hljs-string">"887654601522"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"firebase_url"</span></span>: <span class="hljs-string"><span class="hljs-string">"https://fir-test3-4bab3.firebaseio.com"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"project_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"fir-test3-4bab3"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"storage_bucket"</span></span>: <span class="hljs-string"><span class="hljs-string">"fir-test3-4bab3.appspot.com"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"client"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"client_info"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"mobilesdk_app_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"1:887654601522:android:9c6c1c11f784b956"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"android_client_info"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"package_name"</span></span>: <span class="hljs-string"><span class="hljs-string">"com.example.matsyuk.firebasetest3"</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">"oauth_client"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"client_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"887654601522-o8rolth1g5mq5qq650844chk07mib2un.apps.googleusercontent.com"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"client_type"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"android_info"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"package_name"</span></span>: <span class="hljs-string"><span class="hljs-string">"com.example.matsyuk.firebasetest3"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"certificate_hash"</span></span>: <span class="hljs-string"><span class="hljs-string">"82f13b732dec32c5ebd4498c3a7acf4bda23a846"</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"client_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"887654601522-4riqkg424gb236q6mqehksn03u4hoqqg.apps.googleusercontent.com"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"client_type"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span> } ], <span class="hljs-attr"><span class="hljs-attr">"api_key"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"current_key"</span></span>: <span class="hljs-string"><span class="hljs-string">"AIzaSyAYRPNTcgxWP7qUzI__kx9gSwxnIgc3iBo"</span></span> } ], <span class="hljs-attr"><span class="hljs-attr">"services"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"analytics_service"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"status"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"appinvite_service"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"status"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">"other_platform_oauth_client"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"client_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"887654601522-4riqkg424gb236q6mqehksn03u4hoqqg.apps.googleusercontent.com"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"client_type"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span> } ] }, <span class="hljs-attr"><span class="hljs-attr">"ads_service"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"status"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span> } } } ], <span class="hljs-attr"><span class="hljs-attr">"configuration_version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1"</span></span> }</code> </pre> </div></div><br><p>    <code>google-services</code>  json    ,    <code>your_project\app\build\generated\res\google-services\debug\values\values.xml</code> : </p><br><pre> <code class="hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resources</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">translatable</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"default_web_client_id"</span></span></span><span class="hljs-tag">&gt;</span></span>887654601522-4riqkg424gb236q6mqehksn03u4hoqqg.apps.googleusercontent.com<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">translatable</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"firebase_database_url"</span></span></span><span class="hljs-tag">&gt;</span></span>https://fir-test3-4bab3.firebaseio.com<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">translatable</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"gcm_defaultSenderId"</span></span></span><span class="hljs-tag">&gt;</span></span>887654601522<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">translatable</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"google_api_key"</span></span></span><span class="hljs-tag">&gt;</span></span>AIzaSyAYRPNTcgxWP7qUzI__kx9gSwxnIgc3iBo<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">translatable</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"google_app_id"</span></span></span><span class="hljs-tag">&gt;</span></span>1:887654601522:android:9c6c1c11f784b956<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">translatable</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"google_crash_reporting_api_key"</span></span></span><span class="hljs-tag">&gt;</span></span>AIzaSyAYRPNTcgxWP7qUzI__kx9gSwxnIgc3iBo<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">translatable</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"google_storage_bucket"</span></span></span><span class="hljs-tag">&gt;</span></span>fir-test3-4bab3.appspot.com<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resources</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>     ,  <code>firebase_database_url</code> , <code>google_storage_bucket</code>  ..       Firebase,          . <br>      <code>google-services.json</code>  <a href="https://developers.google.com/android/guides/google-services-plugin"></a> . </p><br><p>     .     <strong>Example</strong>  <code>applicationId</code> , , , <code>com.fa.example</code> .       flavors: </p><br><pre> <code class="hljs ruby">productFlavors { dev { applicationId <span class="hljs-string"><span class="hljs-string">"com.fa.example.dev"</span></span> } qa { applicationId <span class="hljs-string"><span class="hljs-string">"com.fa.example.qa"</span></span> } prod { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> applicationId <span class="hljs-string"><span class="hljs-string">"com.fa.example"</span></span> } }</code> </pre> <br><p>       FA  Android Studio Assistant.          <strong>Example</strong> ,    : <br><img src="https://habrastorage.org/web/83c/ec1/03d/83cec103dfd84d5d887c2b3dc1371829.png" alt="image"></p><br><p>       <code>app/google-services.json</code> ,      <strong>    ( flavors   <code>applicationId</code> )</strong> .     flavor    . <br>  ,      <code>google-services.json</code>     . <strong>  <code>google-services.json</code>             </strong> . </p><br><p>   .   <strong>Example</strong>   FA.          flavor    .    flavor      .     : </p><br><ol><li>   flavor  build.gradle. </li><li><p>       : <br><img src="https://habrastorage.org/web/513/bfe/2a5/513bfe2a5b1141dab3fd9455caf146ac.png" alt="image"></p><br></li><li><p>   <code>google-services.json</code> (        )     . </p><br><p>   . ,      <code>buildTypes</code> ,     <code>build.gradle</code> -  : </p><br><pre> <code class="hljs nginx"><span class="hljs-section"><span class="hljs-section">buildTypes</span></span> { <span class="hljs-section"><span class="hljs-section">release</span></span> { } <span class="hljs-section"><span class="hljs-section">ultra_debug</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">applicationIdSuffix</span></span> <span class="hljs-string"><span class="hljs-string">".ultra_debug"</span></span> } <span class="hljs-literal"><span class="hljs-literal">debug</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">applicationIdSuffix</span></span> <span class="hljs-string"><span class="hljs-string">".debug"</span></span> } }</code> </pre> <br><p>     <code>ultra_debug</code>  <code>debug</code>      .  ,       buildTypes   flavors: </p><br><pre> <code class="hljs ruby">productFlavors { dev { applicationId <span class="hljs-string"><span class="hljs-string">"com.fa.example.dev"</span></span> } qa { applicationId <span class="hljs-string"><span class="hljs-string">"com.fa.example.qa"</span></span> } prod { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> applicationId <span class="hljs-string"><span class="hljs-string">"com.fa.example"</span></span> } }</code> </pre> <br><p>   Android Studio Assistant     FA.   ,           ? <br>   =)     : </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">com</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.fa</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.example</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.debug</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">com</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.fa</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.example</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.dev</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.debug</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">com</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.fa</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.example</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qa</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.debug</span></span></code> </pre> <br><p>      ¬´debug¬ª,    .       . </p><br></li></ol><br><p>    . <br>          flavors.         flavor (, <code>custom</code> ),        <code>applicationId</code> ,     flavor           : </p><br><pre> <code class="hljs ruby">productFlavors { dev { applicationId <span class="hljs-string"><span class="hljs-string">"com.fa.example.dev"</span></span> } qa { applicationId <span class="hljs-string"><span class="hljs-string">"com.fa.example.qa"</span></span> } prod { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> applicationId <span class="hljs-string"><span class="hljs-string">"com.fa.example"</span></span> } custom { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> applicationId <span class="hljs-string"><span class="hljs-string">"com.fa.example"</span></span> } }</code> </pre> <br><p>    ,  <strong>           <code>applicationId</code></strong> .   ?  Do the following: </p><br><ol><li>  <strong> </strong> (     <strong>Example</strong> ,    )  . </li><li>      <code>com.fa.example</code> . </li><li>     <code>google-services.json</code> . </li><li>   <code>google-services.json</code>   ( ). <br><img src="https://habrastorage.org/web/099/d90/37c/099d9037c24d43028b534ab9b96576a0.png" alt="image"></li></ol><br><p>           <code>google-services.json</code> .   <code>google-services plugin</code>      flavor.      <code>google-services.json</code> ,    .  ,    <code>google-services.json</code>  <code>app</code> .       . </p><br><p>      .    ,  <code>google-services.json</code> ,   <code>app/</code> (      flavors  ),  ,      .         .    GA      id,   FA     .          (  <a href="https://stackoverflow.com/questions/41606331/is-it-possible-to-configure-firebase-analytics-without-google-services-json-conf">SO</a> ): </p><br><pre> <code class="java hljs">FirebaseOptions options = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FirebaseOptions.Builder() .setApplicationId(<span class="hljs-string"><span class="hljs-string">"bla-bla"</span></span>) <span class="hljs-comment"><span class="hljs-comment">// Required for Analytics. .setApiKey("bla-bla") // Required for Auth. .setDatabaseUrl("bla-bla") // Required for RTDB. .build(); FirebaseApp.initializeApp(this /* Context */, options, "secondary");</span></span></code> </pre> <br><p>    <em>¬´Missing google_app_id. Firebase Analytics disabled¬ª</em> .  Firebase         . <br>           <a href="https://developers.google.com/android/guides/google-services-plugin"> </a>  <code>google-services</code> -  <a href="https://firebase.googleblog.com/2016/08/organizing-your-firebase-enabled-android-app-builds.html"></a> . </p><br><h3>   </h3><br><p>  GA   <code>setLocalDispatcher(...)</code> .          . ,  FA               .   GA    <code>setLocalDispatcher(-1)</code>      ,    <code>dispatchLocalHits()</code>   <strong></strong> .   , , ,          .. <br>  FA       ,    . <br>      <code>setAnalyticsCollectionEnabled(boolean enabled)</code> ,         . ,           ,    : </p><br><pre> <code class="java hljs">&lt;meta-data android:name=<span class="hljs-string"><span class="hljs-string">"firebase_analytics_collection_enabled"</span></span> android:value=<span class="hljs-string"><span class="hljs-string">"false"</span></span> /&gt;</code> </pre> <br><p>  ,  ,   : </p><br><pre> <code class="java hljs">setAnalyticsCollectionEnabled(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>);</code> </pre> <br><p>       .     <code>setAnalyticsCollectionEnabled(true)</code>  .     : </p><br><pre> <code class="java hljs">&lt;meta-data android:name=<span class="hljs-string"><span class="hljs-string">"firebase_analytics_collection_deactivated"</span></span> android:value=<span class="hljs-string"><span class="hljs-string">"true"</span></span> /&gt;</code> </pre> <br><p>    <a href="https://firebase.google.com/support/guides/disable-analytics"> </a> . </p><br><h3>       FA </h3><br><p>  FA          .            .    ,    .       StreamView/DebugView ( <em> </em> ): <br> <a href=""><img src="https://habrastorage.org/web/509/7b5/f26/5097b5f262a64da19fe0ce5388d98afc.png"></a> </p><br><p>     StreamView,     ,        .      Snapshot ( User snapshot  ),        ( <em> </em> ): <br> <a href=""><img src="https://habrastorage.org/web/e65/186/c4c/e65186c4c6ad49b8a7621342d1820aeb.png"></a> </p><br><p>     <a href="https://firebase.google.com/docs/analytics/debugview">DebugView</a> . -      .     events  properties,    ,   events c properties  .   ,  DebugView     . <br>  StreamView  DebugView   <a href="https://firebase.googleblog.com/2017/03/realtime-analytics-for-everyone.html"></a> . </p><br><h3>  ¬´¬ª  FA </h3><br><p>   GA,   FA,     ,  ¬´¬ª, ¬´   ¬ª  .. , ,   ,   =   .  But it is not.  ‚Äî    ,       (  foreground).  API FA   : </p><br><pre> <code class="java hljs">setMinimumSessionDuration (<span class="hljs-keyword"><span class="hljs-keyword">long</span></span> milliseconds); <span class="hljs-comment"><span class="hljs-comment">// default 10 sec setSessionTimeoutDuration (long milliseconds); // default 30 min</span></span></code> </pre> <br><p>             minimumSessionDuration,     .       foreground  minimumSessionDuration,   . <br>      ,       sessionTimeoutDuration,      .    , -  ,     (     foreground),    sessionTimeoutDuration+   (     ,  ),       . </p><br><h3>    FA- </h3><br><h4> Audiences </h4><br><p>     ,       ,    ..    ( <em> </em> ): <br> <a href=""><img src="https://habrastorage.org/web/646/5d6/a19/6465d6a19b384923a8b7e6170e80c7a8.png"></a> </p><br><p>   ¬´¬ª ( <em> </em> ): <br> <a href=""><img src="https://habrastorage.org/web/9c9/61c/df6/9c961cdf6355417787ec1a9f542d261d.png"></a> </p><br><p> ,    ¬´  ,   ¬ª.    ¬´¬ª   properties ¬´country¬ª = ¬´Russia¬ª  ¬´sex¬ª = ¬´male¬ª  event ¬´reg_comleted¬ª (    event) = ¬´true¬ª. </p><br><h4> Funnels </h4><br><p>           ( <em> </em> ): <br> <a href=""><img src="https://habrastorage.org/web/adb/7ae/924/adb7ae924adf42cbaffca6416202eb64.png"></a> </p><br><p>      =) <br> ,       GA. </p><br><p>    Attribution  Cohorts. ,  ,     .    ,   . <br>      <a href="https://support.google.com/firebase/answer/7397304%3Fhl%3Den%26ref_topic%3D6317489"></a> . </p><br><h3> FA.  findings </h3><br><p>       .    . </p><br><p>  <strong>Pros:</strong> </p><br><ol><li> FA ‚Äî    .           ,         . </li><li> FA events + BigQuery.     FA.      <strong></strong>     .         BigQuery,    .  ,  ¬´¬ª  FA       . </li><li> .  ,  ,   .    ¬´¬ª.  GA  -   ,      . </li><li>     Firebase.      RemoteConfig.     ,     . </li></ol><br><p>  <strong>Minuses:</strong> </p><br><ol><li>    ,   .      =) </li><li>  .  ,        .        .     .         . </li></ol><br><p>   ,     FA  . ,   GA?          ? <br>   .         .         BigQuery. - , , ‚Äî  ¬´ ¬ª,    .   ,     .         FA + BigQuery.    ,       . </p><br><p>  ,    !  ,   !     ! </p><br><p> <strong>PS</strong>     <strong> </strong>     ,       =) </p><br><p> <strong>PPS</strong>   . 16  2017      MOSDROID      ,      Android.  ,      .   .     <a href="https://events.kaspersky.com/event/android2"></a> . </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/334292/">https://habr.com/ru/post/334292/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../334282/index.html">What are chemists and biologists doing at EPAM?</a></li>
<li><a href="../334284/index.html">Metaclasses in C ++</a></li>
<li><a href="../334286/index.html">Internet travel. Analysis of foreign SIM-cards</a></li>
<li><a href="../334288/index.html">The ghost of a locomotive or the stock market through the prism of correlations</a></li>
<li><a href="../334290/index.html">SOAP and REST services using the Spyne Python library</a></li>
<li><a href="../334294/index.html">About Agile, Scrum and teamwork. How are the processes of product development in the Alpha Laboratory</a></li>
<li><a href="../334296/index.html">Monitoring of actors in Akka.Net, but on F #</a></li>
<li><a href="../334298/index.html">Here you are not DevOps: the fate of a sysadmin in a small business</a></li>
<li><a href="../334300/index.html">Artificial stupidity: the art of intentional mistakes</a></li>
<li><a href="../334302/index.html">Translation of excerpts from Robert Heinlein‚Äôs book, Take Your Government Back - part 27</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>