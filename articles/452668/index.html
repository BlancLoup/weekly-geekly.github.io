<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to check cookies for compliance with GDPR - a new open tool will help</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="CovenantSQL database developers have introduced an open source utility, the Cookie Scanner, which determines which cookies are set by sites and for wh...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to check cookies for compliance with GDPR - a new open tool will help</h1><div class="post__text post__text-html js-mediator-article">  CovenantSQL database developers have <a href="https://news.ycombinator.com/item%3Fid%3D19754449">introduced an</a> open source utility, the Cookie Scanner, which determines which cookies are set by sites and for what purpose. <br><br>  We discuss why the tool was needed and how it works. <br><br> <a href="https://habr.com/ru/company/1cloud/blog/452668/"><img src="https://habrastorage.org/webt/t5/1g/di/t51gdi3mxacqlw7zyoiv-jzhbzu.jpeg"></a> <a name="habracut"></a><br>  <font color="#A9A9A9"><i>/ Flickr / <a href="https://www.flickr.com/photos/yann07/31402352023/">Yann C ‚Äìuru</a> / CC BY / Photo changed</i></font> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  What the law says </h2><br>  <a href="https://eur-lex.europa.eu/legal-content/EN/TXT/%3Furi%3DCELEX:32016R0679">Article 30 of the</a> General Data Protection Regulations (GDPR) obliges websites using personal data of users to notify the latter about the installation of cookies and to receive consent for this. <br><br>  Working with cookies on the territory of the European Union is also regulated by another law - the <a href="http://eur-lex.europa.eu/LexUriServ/LexUriServ.do%3Furi%3DOJ:L:2009:337:0011:0036:en:PDF">ePrivacy Directive</a> , which has been in force since 2009 (this year it will be replaced by a stricter ePrivacy Regulation, which we described <a href="https://habr.com/ru/company/1cloud/blog/448024/">in one of the previous</a> articles).  It also obliges site owners to notify you when cookies are processed. <br><br>  For violation of the requirements of the GDPR and ePrivacy directives, the resource owner can write a large fine - up to 20 million euros or 4% of the organization‚Äôs annual turnover. <br><br><h2>  What is the difficulty </h2><br>  Despite the fines, many sites set so-called optional cookies without the consent of users. <br><br>  It is believed that the Internet resource is not required to obtain the consent of the user to set cookies, if they are necessary for the correct functioning of the site.  However, the wording in the legislation is rather blurred, and it is not always clear when this rule applies. <br><br>  On the basis of this, conflicts arise.  For example, the French publisher of Editions Croque Futur placed cookies on its site for marketing campaigns.  The owners noted that these cookies ensure the profitability of the site and therefore are vital for the operation of the service.  But the regulator did not agree with their arguments and <a href="https://blogs.dlapiper.com/privacymatters/france-website-publisher-fined-for-violation-of-the-cookie-requirements/">ordered the company to pay a fine</a> in the amount of 25 thousand euros. <br><br>  Another problem is related to the fact that GDPR <a href="https://www.iubenda.com/en/help/5525-cookies-gdpr-requirements">does not require you to specify</a> and describe all third-party cookies on the site, for example, those that are needed for the operation of social networking plug-ins.  As representatives of the British Commissioner for Information (Information Commissioner's Office) write in their guide ( <a href="https://ico.org.uk/media/for-organisations/documents/1545/cookies_guidance.pdf">PDF</a> , p.17), companies need only to group third-party cookies into categories and explain their purpose. <br><br><blockquote>  The Italian regulator <a href="https://www.garanteprivacy.it/web/guest/home/docweb/-/docweb-display/docweb/3167654">explains</a> that this is a necessary measure, because otherwise the owners would have to constantly monitor third-party cookies on the site and monitor their purpose, which may change over time.  It is difficult to accomplish this task, if only because webmasters often do not have direct contacts with all organizations responsible for setting cookies on their resource. </blockquote><br>  In practice, it turns out that when you go to the site, the user's browser can download third-party cookies, the purpose of which is unknown for sure. <br><br><img src="https://habrastorage.org/webt/km/fn/o-/kmfno-0nnxsa0aqyiktp869is9a.jpeg"><br>  <font color="#A9A9A9"><i>/ Flickr / <a href="https://www.flickr.com/photos/beije/16418551428/">benjamin horn</a> / cc by</i></font> <br><br><h2>  How to solve a problem </h2><br>  Get the full list of cookies installed by a particular resource (and in parallel to find sites that violate the requirements of the GDPR), the Cookie Scanner utility can.  The network has a fairly large number of similar services, but many of them are paid.  The Cookie Scanner code is open and lies <a href="https://github.com/CovenantSQL/CookieScanner">in the GitHub repository</a> . <br><br>  Cookie Scanner analyzes the status of cookies and generates a report with a description of their tasks.  The tool takes information on a specialized <a href="https://cookiepedia.co.uk/">cookiepedia</a> resource, and uses CQL database for its presentation.  Now it contains information about 10 thousand different cookies.  How to start working with CQL-base - in <a href="https://developers.covenantsql.io/docs/en/quickstart">the quick start guide</a> , prepared by CovenantSQL developers. <br><br>  Cookie Scanner requires MacOS / Linux and Chrome browser.  Alternatively, you can refer to its headless version, which is used to test the code and layout.  It does not draw the content on the screen, so it runs faster and consumes less memory. <br><br>  An important feature is also the ability to install on a ‚Äúbare‚Äù Linux-server - just put the package, and the browser will work out of the box. <br><br>  To run the headless-chrome in the container, you need to run the command: <br><br><pre><code class="bash hljs">$ docker container run -d -p 9222:9222 zenika/alpine-chrome --no-sandbox \ --remote-debugging-address=0.0.0.0 --remote-debugging-port=9222</code> </pre> <br>  The installation of the Cookie Scanner is done with get: <br><br><pre> <code class="bash hljs">$ go get github.com/CovenantSQL/CookieScanner</code> </pre> <br>  The tool generates reports on cookies in PDF, JSON and HTML formats.  The parser function for outputting information in PDF format looks like this: <br><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">outputAsPDF</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(remote *godet.RemoteDebugger, htmlFile </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pdfBytes []</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">, err error)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tab *godet.Tab htmlFile, _ = filepath.Abs(htmlFile) fileLink := <span class="hljs-string"><span class="hljs-string">"file://"</span></span> + htmlFile <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> tab, err = remote.NewTab(fileLink); err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err = remote.ActivateTab(tab); err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } <span class="hljs-comment"><span class="hljs-comment">// wait for page to load time.Sleep(time.Second) return remote.PrintToPDF(godet.PortraitMode()) }</span></span></code> </pre><br>  This is how the HTML report is generated using the CLI mode: <br><br><pre> <code class="bash hljs">$ CookieScanner cli \ --headless \ --classifier <span class="hljs-string"><span class="hljs-string">"covenantsql://050cdf3b860c699524bf6f6dce28c4f3e8282ac58b0e410eb340195c379adc3a?config=./config/config.yaml"</span></span> \ --html cql.html covenantsql.io</code> </pre><br>  Examples of reports that can be generated by the program can be found in the <a href="https://github.com/CovenantSQL/CookieScanner/tree/master/example">corresponding section of the repository</a> . <br><br>  A month ago, the Netherlands Data Protection Agency (AP) <a href="https://habr.com/ru/company/1cloud/blog/448024/">announced</a> that in the near future it will be actively engaged in verifying user complaints about websites that violate the rules for working with cookies.  It can be assumed that there will also be more tools (including open-source) allowing monitoring cookies.  Both users and site owners will use them to meet the requirements of the GDPR and ePrivacy Regulation. <br><br><blockquote>  <sup><b>Our additional resources and sources:</b></sup> <sup><br><br><img src="https://habrastorage.org/webt/lc/ev/ev/lcevevvhrpxsnxownufk6ykmvma.png"></sup>  <sup><a href="https://habr.com/ru/company/1cloud/blog/452444/">Deal for $ 39 million: why the creators of the open source DBMS decided to engage in mobile development</a></sup> <sup><br><br><img src="https://habrastorage.org/webt/nh/3b/vg/nh3bvginmatsrsxcu6loffpn5yc.png"></sup>  <sup><a href="https://1cloud.ru/blog/personalnye-dannye-chast-1%3Futm_source%3Dhabrahabr%26utm_medium%3Dcpm%26utm_campaign%3Dcookiescanner%26utm_content%3Dblog">Personal data: what is the essence of the law?</a></sup> <sup><br><img src="https://habrastorage.org/webt/nh/3b/vg/nh3bvginmatsrsxcu6loffpn5yc.png"></sup>  <sup><a href="https://1cloud.ru/blog/minimizazia-it-riskov%3Futm_source%3Dhabrahabr%26utm_medium%3Dcpm%26utm_campaign%3Dcookiescanner%26utm_content%3Dblog">Risk minimization: how not to lose your data</a></sup> <sup><br><img src="https://habrastorage.org/webt/nh/3b/vg/nh3bvginmatsrsxcu6loffpn5yc.png"></sup>  <sup><a href="https://1cloud.ru/blog/rezervnoe-kopirovanie-failov%3Futm_source%3Dhabrahabr%26utm_medium%3Dcpm%26utm_campaign%3Dcookiescanner%26utm_content%3Dblog">File backup: how to hedge against data loss</a></sup> <sup><br><br><img src="https://habrastorage.org/webt/x1/6r/xu/x16rxu3buiqhpy-2jmr3iwscep0.png"></sup>  <sup><a href="https://www.facebook.com/1cloudru/posts/2320833768239130">How everything is arranged: digest from 1cloud</a></sup> <sup><br><img src="https://habrastorage.org/webt/x1/6r/xu/x16rxu3buiqhpy-2jmr3iwscep0.png"></sup>  <sup><a href="https://www.facebook.com/1cloudru/posts/2319393171716523">How cloud technologies helped see the black hole</a></sup> <sup><br><img src="https://habrastorage.org/webt/x1/6r/xu/x16rxu3buiqhpy-2jmr3iwscep0.png"></sup>  <sup><a href="https://www.facebook.com/1cloudru/photos/a.1526614574327724/2317948435194330/">Potential HTTPS attacks and how to protect against them.</a></sup> </blockquote></div><p>Source: <a href="https://habr.com/ru/post/452668/">https://habr.com/ru/post/452668/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../452646/index.html">What the neural network saw on the first photo of a black hole</a></li>
<li><a href="../452648/index.html">PHP: How to parse a complex XML file and not drown in your own code</a></li>
<li><a href="../45265/index.html">Convenient Backup</a></li>
<li><a href="../452652/index.html">Security Week 21: a hole in Whatsapp, a new vulnerability in Intel processors, Zero-Day in Windows</a></li>
<li><a href="../452662/index.html">HPE Servers at Selectel</a></li>
<li><a href="../45267/index.html">Reflections on template engines</a></li>
<li><a href="../452670/index.html">Who are the data engineers, and how are they?</a></li>
<li><a href="../452672/index.html">Weekly Habr. Meet the pilot release of habrapodcast</a></li>
<li><a href="../452674/index.html">Digital events in Moscow from 21 to 26 May</a></li>
<li><a href="../452682/index.html">Prediction and discussion: hybrid storage systems will give way to all-flash</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>