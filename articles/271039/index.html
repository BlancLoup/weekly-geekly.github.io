<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Overview of Cisco UCS Initial Setup</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It is generally accepted that Cisco UCS server solutions are very difficult. We decided to visually show the ease of setting up such solutions. Under ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Overview of Cisco UCS Initial Setup</h1><div class="post__text post__text-html js-mediator-article"> <a href="http://habrahabr.ru/company/muk/blog/271039/"><img src="https://habrastorage.org/files/7d4/f49/5e0/7d4f495e08a84cacb04f4776c7070a62.jpg"></a> <br><br>  It is generally accepted that Cisco UCS server solutions are very difficult.  We decided to visually show the ease of setting up such solutions.  Under the cut video review, as well as a transcript with screenshots <b>(Caution, traffic! Many full-size screenshots, if you squeeze them - do not make out anything)</b> . <br><a name="habracut"></a><br>  <i>Disclaimer: of course, the entire configuration process of the Cisco Blade takes about 2 hours, we noted the key and main points.</i>  <i>And imagine all this live record?</i>  <i>- it will not be interesting to anyone.</i> <br><br>  The video review itself 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/i0a8ipZE9vs%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhifS_VEPkIe8xDC74d7fTAqFHNAPA" frameborder="0" allowfullscreen=""></iframe><br><br>  Transcript (with small editing) <br><br>  Today we look at the basic configuration of the Cisco blade system.  For several years, these systems have been disturbing the market.  First, let's see how the boxes and the basic kit look. <br><br><img src="https://habrastorage.org/files/151/da0/459/151da0459c5548b7a99da363f8dce58b.jpg"><br><br>  A small educational program on the blade system from Cisco. <br><br>  Firstly, these are 2 universal switches that can transmit traffic and Ethernet and FibreChannel, they are based on Cisco Nexus. <br><br>  The second component is the blade chassis itself and the servers that are installed in this chassis.  The peculiarity of the system is that we will need a maximum of two universal Fabric Interconnect switches (hereinafter referred to as FI), for almost any number of servers that we have in the data center. <br><br><img src="https://habrastorage.org/files/478/97f/bfd/47897fbfd35b44cfa577a463215f94da.jpg"><br><br>  For example, we need 1, 2, 10, 20 chassis, all the same, we will only need two of the above switches.  This is a huge savings for large enterprises. <br><br>  What is the feature?  If we suddenly need two Ethernet ports for each server, 4, 10, 100 Ethernet ports that are responsible for each server, or FibreChannel doesn‚Äôt matter how many, we still need only two such FI switches.  This is done thanks to Cisco technology, which allows you to see from the management console any number of interfaces that we will create on each server. <br><br>  They are created virtually, but for the software environment they are seen as hardware components.  Similarly for switches. <br><br>  Now program tincture <br><br>  We connect already familiar to many console cable. <br><img src="https://habrastorage.org/files/f3f/81e/80b/f3f81e80bdaa4bc9a931e8f0d9226880.jpg"><br><br>  We will connect it to each switch for configuration. <br><br>  Further configuration is via the web interface. <br><br>  It is worth paying attention to the back side of the blade chassis.  You can see here a special FI expansion module called the Fabric Extender. <br><br><img src="https://habrastorage.org/files/fcb/3bf/b16/fcb3bfb164b7499a80752be887cf3227.jpg"><br><br>  In order for the chassis to connect to FI, an extender is used ‚Äî it simply expands the switch with an additional number of ports from the blade servers.  Now in our configuration, each switch is connected to an extender using four 10 Gigabit connections. <br><br><img src="https://habrastorage.org/files/9bd/49f/74f/9bd49f74f71a4af6a708f9e0377e61b1.jpg"><br><br>  If necessary, we can dynamically reduce / increase the number of connections - to change the connection speed to the chassis.  For reservation, a second extender is used. <br><br>  First we ask how we want to configure it: through the console, new / old setting, password, etc. <br><br><img src="https://habrastorage.org/files/0d6/04e/101/0d604e101bcb4b7890faefe3dbaeea5e.png"><br><br>  We try to enter a simple password "password", and I am asked to enter a more complex option. <br><br>  Next comes the survey from the system: will there be a second FI switch?  Next, we assign which of them is the first, and who is the second.  Then - the name of the system.  We give IP-addresses, for the sake of which we connected to them with the console.  Address of the first switch: 192.168.0.11, gateway: 192.168.0.1 <br><br>  Now the interesting thing is, the virtual address 192.168.0.1, which will move between the switches in the event that one of them fails.  DNS will not configure yet. <br><br>  Then we are asked: "Do we like everything in the configuration?", We say - yes, and the configuration is applied.  Configuration from the console is complete. <br><br>  Now set up the second FI factories. <br><br>  We will configure from the console.  Found another FI, question - download configuration from it?  Download  Then we set the IP address of the second FI. <br><br>  We select application of a configuration.  Configuration from the console is complete.  All further configuration will be done by the graphical interface.  The only thing for which the console is needed is to configure IP addresses. <br><br><img src="https://habrastorage.org/files/752/5c4/099/7525c4099ea747aabd8ced46ef552b4b.png"><br><br>  Enter the IP address that we configured from the console into the browser.  Java console starts. <br><br><img src="https://habrastorage.org/files/1b7/c64/3c7/1b7c643c736341dc919d06d4fccfec7b.png"><br><br><img src="https://habrastorage.org/files/96a/6f2/c31/96a6f2c313b246729ba7010b21d1b374.png"><br><br>  Enter the username and password that we asked from the console.  And here we see a graphical interface for managing our entire system.  Now we see two fi.  They are united in a cluster.  Servers we do not see. <br><br><img src="https://habrastorage.org/files/fff/555/06c/fff55506c26546afbcc630ba33399649.png"><br><br>  Let's deal with the management interface. <br><br>  We can see which ports are on which FI interfaces - which of them are now FC, which Ethernet. <br><br><img src="https://habrastorage.org/files/42c/254/696/42c25469651b40c39c4a214ce42b129d.png"><br><br>  Information on heat generation - here you can see if everything is normal with the cooling system, power supply units. <br><br><img src="https://habrastorage.org/files/7d5/43e/83f/7d543e83f71040f7832b3a436b3c502d.png"><br><br>  And now the firmware control menu.  From here, we can centrally update or downgrade firmware to various components. <br>  Here the firmware is downloaded and immediately applied. <br><br><img src="https://habrastorage.org/files/7d5/43e/83f/7d543e83f71040f7832b3a436b3c502d.png"><br><br>  You can download the new firmware from the local system or via FTP, SFTP. <br><br><img src="https://habrastorage.org/files/12c/ee4/a5b/12cee4a5b1f5486da33a27d923d99a78.png"><br><br>  Now the policy menu.  The first policy is 10 gigabit links.  Whether to connect them to the Port Channel or not.  Set to connect.  From here you can specify the redundancy of power supplies and some other parameters. <br><br><img src="https://habrastorage.org/files/252/228/384/2522283844e44ad9a6a520109d2e67d5.png"><br><br>  Now we will make our servers visible.  To do this, those ports on the switches that go to the blade chassis must be assigned a special server type. <br><br><img src="https://habrastorage.org/files/e6f/f78/b4d/e6ff78b4d9fc4dab9a569021ba6fe5ca.png"><br><br>  Here are the first four ports, they are connected to the blade chassis. <br><br><img src="https://habrastorage.org/files/f9e/c32/59e/f9ec3259e8484883bd03c00abc8685fb.png"><br><br>  Open the port and assign it to the server. <br><br><img src="https://habrastorage.org/files/b42/7fe/aa2/b427feaa20b94f8c810b9b62936df5b9.png"><br><br>  Thus we activate all ports. <br><br>  Since we have assigned in the policies that all the ports that go to the blade chassis will be assembled on the Port Channel, we get two 40-gigabit links.  One will go from one switch, another from the second. <br><br>  Now configure the second FI.  Ports leading to the chassis can be anywhere - at the beginning, in the middle or at the end, as we assign them, so it will be. <br><br>  Let's see what was discovered through the activated ports. <br><br>  There are two servers.  We can see what serial numbers they have, on the adapters that are inserted in them, on the CIMC version (analogue of Cisco iLo).  You can also view information on the processors in the servers. <br><br><img src="https://habrastorage.org/files/caf/711/076/caf7110769974ed397759b0ebf6ee749.png"><br><br>  You can see the memory, RAID-controllers, locally installed drives. <br><br><img src="https://habrastorage.org/files/e93/7d7/827/e937d7827b72416e8e0a4f169619ef09.png"><br><br><img src="https://habrastorage.org/files/a4b/fbc/751/a4bfbc75188348409fbc5fd21e89b751.png"><br><br>  Now let's get down to setting it up.  The first thing we do is create MAC addresses for our servers.  What is it for?  We can reflash absolutely all server hardware settings.  We create the first pool of MAC addresses, and give the MAC system that we already had and on which security was configured.  Exactly one MAC address. <br><br><img src="https://habrastorage.org/files/c15/3a8/c8d/c153a8c8d78a47d8b34640b51ae2556c.png"><br><br><img src="https://habrastorage.org/files/825/f81/3ed/825f813ed25c4f35b20f709a47071375.png"><br><br>  If you already had some kind of configured system, we can create a new server with such MAC addresses, and you will not need to reconfigure the network. <br><br>  Create another pool where you can create many MAC addresses - say, 256. <br><br>  The pool of MAC addresses that we will assign to servers is ready. <br><br><img src="https://habrastorage.org/files/bfe/ef9/774/bfeef9774aae45d99cdd2deaca0fbad2.png"><br><br>  Next, create the IP addresses that will be used to manage the servers.  We already have a pre-prepared list of external management. <br><br>  Let's add here a block of IP addresses that will manage the servers.  There will be ten of them in the block.  Assign the Default Gateway. <br><br><img src="https://habrastorage.org/files/125/3f6/521/1253f65210ac438a9936619158c47bf9.png"><br><br>  To show that we can have more addresses besides the first pool, we will create another pool. <br><br><img src="https://habrastorage.org/files/398/f94/d16/398f94d16a43430287be8eee1accc70f.png"><br><br>  Now we have a list of MAC addresses and IP addresses that we will give to servers.  The next thing that may be required is setting up one-sided adapters, that is, Host Bus adapters.  Let's create WWNN-us.  We already have a ready list, let's create another one.  We come up with a random value, for example 256. <br><br><img src="https://habrastorage.org/files/e8d/52a/a09/e8d52aa09509488aba4580f1e64c439c.png"><br><br>  Now a list of tails. <br><br><img src="https://habrastorage.org/files/1d0/981/48b/1d098148b83f426780616415b3f85fad.png"><br><br><img src="https://habrastorage.org/files/468/517/001/4685170017ff48f7a0f52d69d4def233.png"><br><br>  We have all the basic settings.  What do we still lack?  There is not enough server serial number or its UID.  They are assigned in the server section. <br><br><img src="https://habrastorage.org/files/16f/ce9/108/16fce9108c744090a81efb8a86487e59.png"><br><br>  By default, the UID is flashed to the server at the factory by the manufacturer, and cannot be changed later.  And in our case, you can.  You can make both one UID and a pool, which will be assigned to our servers in turn. <br><br><img src="https://habrastorage.org/files/56a/258/479/56a2584797584ce68e8ee4db00ebc9cb.png"><br><br>  Now we create the server itself.  Select the expert mode.  We give the server, or profile, which will be applied to the server, the name.  A profile is what the server itself will look like.  Choose from the list of UID, which has already been created.  Click Next. <br><br><img src="https://habrastorage.org/files/38b/a9d/b3b/38ba9db3b4e8430eb9b2eb9fc39e1b15.png"><br><br>  Then you can choose dynamic network adapters.  These are adapters that are used in VMware and can be dynamically added or removed.  And now we create not dynamic, but static IP addresses.  Also, there is an MTU setting for this adapter and some tuning for a specific operating system.  Suppose we have VMware. <br><br><img src="https://habrastorage.org/files/966/30f/d6b/96630fd6bc7e48c587446048d185dce1.png"><br><br><img src="https://habrastorage.org/files/077/33d/27c/07733d27c78a4d7599caa2cf061a7df2.png"><br><br>  Let's create another couple of adapters in the systems - let there be four. <br><br><img src="https://habrastorage.org/files/425/100/7d9/4251007d9529409784bee56fe358963b.png"><br><br>  Now setting up the storage system.  By default, we do not have any disks here, so we will create a special policy that will display so that the server does not use any disks at all.  We can choose in which RAID to collect disks on the server, or indicate that there are none at all.  There are no SD cards either, so we set everything to Disable.  And we select the application of the newly created policy to this profile. <br><br><img src="https://habrastorage.org/files/f4e/37a/754/f4e37a754e614720926781c0c7f4168f.png"><br><br><img src="https://habrastorage.org/files/9d2/cdb/d58/9d2cdbd584ad4a34a82c2fb0a22a3e9a.png"><br><br><img src="https://habrastorage.org/files/911/ac7/a07/911ac7a07e094197a78af1ccceeb48de.png"><br><br>  Now let's create Host Bus adapters in expert mode.  WWNN take from the list we created.  We give the adapter the name and porter from the list of portnames.  It will be connected to FI A. We can connect it to a specific vSAN, and assign optimization to a specific policy. <br><br><img src="https://habrastorage.org/files/fca/a0b/ef7/fcaa0bef75c34c54bdef6b01b8cab74f.png"><br><br>  In the same way create another adapter.  Next, we can configure zoning, but as long as we don‚Äôt have a connection to the storage system, we‚Äôll skip this step.  It can be done later. <br><br>  Configure the queue for the appearance of adapters in the system and what interruption they will take <br><br><img src="https://habrastorage.org/files/277/ba0/3ba/277ba03bae8c4375bd8537d0643e86df.png"><br><br>  Now - setting the server load, where the OS will boot from.  By default, there are several boot policies, but let's create our own.  To do this, select Create a Specific Boot Policy.  First, we will set the default boot from the CD / DVD connected via CIMC, add the name, boot from the zero adapter (fc0).  If we click Add SAN Boot Target, we can specify additional boot settings.  We now have two adapters, in the future it will be possible to add which specific target to load. <br><br><img src="https://habrastorage.org/files/d60/8eb/a2e/d608eba2ee774397bcfe498110be0f0d.png"><br><br><img src="https://habrastorage.org/files/300/7de/1d9/3007de1d900e42369aefe756040d3ac2.png"><br><br>  Select our newly created policy to use for the server profile. <br><br><img src="https://habrastorage.org/files/c54/f84/de0/c54f84de073546b68bb5d9788a5302c3.png"><br><br>  Immediately proceed to the last step - the BIOS setup of the newly created server.  Let's create some new profile to see what we can assign and see in the BIOS settings of the created profile and server.  First, standard parameters, such as Quiet Boot, what to do when Post Error, what to do when power is lost, processor properties, enable / not include Hyper Threading, virtualization technologies, etc. Then adjust the memory, serial port, USB, PCI, QPI , built-in adapters (what to do with them and how to perceive them), boot settings. <br><br><img src="https://habrastorage.org/files/351/856/1b2/3518561b2e374ad9bba1bcfdc7db0367.png"><br><br><img src="https://habrastorage.org/files/3b0/fb4/0bb/3b0fb40bbbf94586aa62668bafd21b95.png"><br><br><img src="https://habrastorage.org/files/2be/6ff/263/2be6ff263c7845ed9c46cc12546c3e78.png"><br><br><img src="https://habrastorage.org/files/b1a/0fd/afa/b1a0fdafab4547eb82354e4c44fa8ad9.png"><br><br><img src="https://habrastorage.org/files/f1e/6bb/f93/f1e6bbf9369f4e768cba6f3e9f22fb12.png"><br><br><img src="https://habrastorage.org/files/308/afe/2ba/308afe2ba1d144e7b90b9f71b5decd2f.png"><br><br><img src="https://habrastorage.org/files/57c/769/4d1/57c7694d18a048979669cefbe72f9a23.png"><br><br>  As you can see, most of the parameters that are in the BIOS can be assigned, and they will immediately apply to the server. <br><br>  Moreover, profiles can be applied to one server as well as to several at once, and, accordingly, immediately propagated to all servers. <br><br>  Here we choose which IP address or IP address pool to use for external administration. <br><br><img src="https://habrastorage.org/files/f72/c93/2b2/f72c932b2aa1426fae86d4459f936091.png"><br><br>  Actually, the profile is created. <br><br><img src="https://habrastorage.org/files/389/7e1/116/3897e11162e1475ca40c932fc127b52f.png"><br><br>  Now we can apply it.  After a few minutes, our server fully complies with the profile we created. <br><br><img src="https://habrastorage.org/files/72b/4fb/778/72b4fb7780ea47179620ff0378502efa.png"><br><br><img src="https://habrastorage.org/files/fa4/7fc/73b/fa47fc73b9ac4478ae3ba7c52a20f651.png"><br><br>  Using the KVM console, you can see what is happening on the server itself. <br><br><img src="https://habrastorage.org/files/b1d/713/d04/b1d713d04d2a46f89edc639308f776ee.png"><br><br><hr><br>  All questions about Cisco@muk.ua solutions. <br>  It should be noted that <a href="http://muk.ua/company/vendors/cisco/">Cisco</a> solutions <a href="http://muk.ua/company/vendors/cisco/">through the group of companies are now available not only in Ukraine</a> , but also in <a href="http://muk.ua/business/MD/ru.php">Moldova</a> - a distribution contract was recently signed in this country. <br><hr><br>  <a href="http://training.muk.ua/">Training courses / trainings / workshops in various areas of IT infrastructure - Training center MUK (Kiev)</a> <br><br>  <a href="http://www.service.muk.ua/">MUK-service - client and corporate IT repair, service contracts</a> </div><p>Source: <a href="https://habr.com/ru/post/271039/">https://habr.com/ru/post/271039/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../271025/index.html">Spring 4 MVC, Hibernate: many to many association</a></li>
<li><a href="../271031/index.html">VK Open Api CSRF vulnerability, which allows to get Access Tokens of third-party sites that use authorization via VK</a></li>
<li><a href="../271033/index.html">How to implement a SOAP service for working with Google tables through SQL</a></li>
<li><a href="../271035/index.html">LINQ converter between roman and arabic numbers</a></li>
<li><a href="../271037/index.html">EMC ViPR 2.1: Third Platform Data Management</a></li>
<li><a href="../271041/index.html">We invite you to a meeting on web development on December 2</a></li>
<li><a href="../271043/index.html">Isilon.Next - how Big Data storage has become larger, cloudier and softer *</a></li>
<li><a href="../271045/index.html">Zotero: optimizing the storage and use of scientific literature</a></li>
<li><a href="../271047/index.html">Backups are different. Today I will tell about Acronis Backup Cloud (BaaS)</a></li>
<li><a href="../271049/index.html">Website Testing Automation: Pytest, Allure, Selenium + Some Secret Ingredients</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>