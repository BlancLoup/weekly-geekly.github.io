<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Two approaches to performance testing. Choose</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article describes the most common approaches to application performance testing; Using analogies from ‚Äúlife‚Äù and examples from the author‚Äôs exper...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Two approaches to performance testing. Choose</h1><div class="post__text post__text-html js-mediator-article">  <i>This article describes the most common approaches to application performance testing;</i>  <i>Using analogies from ‚Äúlife‚Äù and examples from the author‚Äôs experience, he shows why it is impossible to do this;</i>  <i>and, finally, trying to sow a spark of understanding the importance of load testing in the bright minds of developers, managers and other good people.</i> <br><br>  Let's start with a couple of stories. <br><br>  <b>History A.</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The other day I talked with one programmer.  He writes in C ++, works for a large company in Chicago;  The software, to which creation he is involved, is actively used by financial and trading companies.  We have, he says, 600 thousand lines of code in the product.  It all started with a small application for analyzing stock statistics, and for 20 years this monster has been hoisted.  Nice talking.  It inspires respect.  And how do you test it, your monster?  For this, the programmer answers me, there is a special Hindu.  He performs some test cases, writes reports.  And before him, one manager was engaged in this, but he did more and more manual testing.  New features tested, for example.  Now here is a Hindu.  Okay, I keep trying, this is functional testing.  Do you test your performance?  No, he says, if customers start complaining about slow work, then we ourselves look for bottlenecks and fix them ourselves.  Who develops a product, he knows it better.  Which tester can handle this? <br><br>  A clever man, I thought, but speaks nonsense. <br><br><a name="habracut"></a>  <b>History B.</b> <br><br>  The day before yesterday I go to Habrahabr, I come across the article <a href="http://habrahabr.ru/blogs/webdev/106311/">‚ÄúHistory of development and optimization of one highly loaded resource‚Äù</a> .  For those who have not read, the author writes how he started working as an administrator of a certain resource.  Soon this resource ceased to cope with the increased number of users and he, the author, improved server performance and reduced the load on the database several times, using some technologies.  I read the phrase ‚ÄúThe load on MySQL has decreased 4 times,‚Äù I ask a question in the comments - how did all your optimizations affect the response time for users? ‚ÄùFrom the answer it follows that the author is more concerned not with user experience, but with the number of open connections and the number of SQL queries . <br><br>  A smart man, I thought again, but I don‚Äôt fully understand why he is doing something. <br><br><h5>  * * * </h5><br>  These two cases describe the most typical approaches to load testing.  Quite briefly, they can be described as follows: <br>  A: ‚ÄúWhen there will be problems with productivity, then we will solve it.  Themselves.  We don't need any special testers. ‚Äù <br>  B: "... And then we saw that the CPU on the server could not cope with the database! Googled the" MySQL + CPU problem ", found a wonderful library, installed it, and the load decreased N times. Now everything is fine." <br><br><h5>  * * * </h5><br>  Let's start with a critique of approach B (let's call it ‚Äúadmin's‚Äù in order to abuse the alphabet less).  So, the key problem of the ‚Äúadmin‚Äù approach is the <u>wrong point of view on the performance problem</u> . <br><br>  As can be seen from the story above, the admin looks through the eyes of the admin.  The indicator of the problem for him is the load on the server, indicators by which he judges a change in the situation for the better - the number and speed of requests, connections, etc.  The question is - how much more a person in the world sees the same problem on a particular site in the same way?  The correct answer is zero.  Users visiting the site have no desire to worry about indexes in the database.  They are not interested in the graphics of the CPU and disk subsystem.  The maximum that they can say: "This site slows down."  And also: ‚ÄúI‚Äôll look for something similar, but fast‚Äù.  The ratio of those who measure the speed, based on the number of SQL queries and those who are only important "so that the page does not slow down" - 1 to N, where N is all site visitors, and 1 is a very smart, but lonely administrator. <br><br>  ... When I say all this to the admins, they usually answer me with something like "but users do not know how it all works.  And we know.  And then, based on the opinion of users, it is almost impossible to determine the source of the problem. ‚Äù  To this I have a ready answer that works flawlessly.  When you come to the doctor, what is he asking you?  About well-being.  Pressure and temperature are measured only later; the direction to the analyzes is not immediately given.  And they start with questions like - ‚ÄúWhere does it hurt?‚Äù, Or ‚ÄúWhen is it worse - in the morning or in the evening?‚Äù.  The questions are simple, it is not always possible to give a mathematically exact answer to them, but it is for them that the symptoms of the disease are determined.  And, ultimately, it is the relief of the symptoms that makes the patient most happy.  "Write me something so that it does not hurt."  Or, in our case - ‚Äúmake at least 200 requests per page, but so as not to slow down‚Äù.  Of course, a good doctor will never diagnose only according to the description of the patient's state of health.  But in the same way, he will never underestimate him or, which is worse, ignore him. <br><br>  Total - ‚Äúadmin's approach‚Äù is bad, because it does not consider performance problems from the point of view of the actual users of the application or site.  Servers may have this option, but clients are not particularly.  However, if the number of clients is approximately equal to the number of servers ... I hope this is not your case. <br><br>  In addition, in my practice, I repeatedly encountered a situation where optimization, using as input data graphs of server load and database statistics, yielded a result close to zero. <br><br>  <b>Example 1</b> : Oracle statistics analysis showed that a certain query will be executed twice as fast if an index is built.  The index was created, the request was executed 0.5 instead of 1 second, the response time of the operation decreased from 35 to 34.5 seconds. <br><br>  <b>Example 2</b> : a certain operation was optimized so that when it was executed, the load on the server's CPU decreased by 30%.  Unfortunately, the share of this operation among all the other ones performed by users is 0.1%, so there has been no noticeable change in the picture of the load on the server, and users have not noticed an improvement. <br><br>  Etc.  Returning to the doctor-patient analogy: <br>  -Patient, you now have a normal temperature and blood composition, you are healthy. <br>  ‚ÄúBut doctor, I still feel bad! ..‚Äù <br><br><h5>  * * * </h5><br>  Now let's talk about the approach A. We will call it, as you can already guess, ‚Äúdeveloper‚Äù: the point of view voiced by my friends is typical enough for developers.  ‚ÄúWho, except us, is able to understand our application?‚Äù, ‚ÄúTesting is when they check that the buttons on the form are pressed‚Äù, etc.  Disregard for QA is generally one of the ills of the industry, but this topic is worthy of a separate article, we will not be distracted. <br><br>  What is the main drawback of the ‚Äúdeveloper‚Äù approach?  <u>The problem is realized only after users have encountered it.</u>  In other words - until the thunder clap.  Alas, it often turns out that it is too late to be baptized by this point.  The system went into operation and the client will be unhappy if it turns out that something needs to be patched and docked;  Team lead development went to Tibet;  it is impossible to determine the cause of poor performance, because <i>literally everything is</i> slowly running;  There is no money for a new server - the list of possible problems can be continued indefinitely.  Usually, in such a situation, some of the most talented (at best) or least loaded (at worst) developers urgently create a crutch that keeps the lame system on the go until the next update / peak load for the New Year / quarterly report.  After that, even more people move to Tibet.  Not always on their own, ho-ho. <br><br>  A small remark.  In principle, as a consultant in performance and load testing, the ‚Äúdeveloper‚Äù approach usually hinders as little as the ‚Äúadmin‚Äù approach.  When the system starts to ‚Äúburn,‚Äù the words of programmers and admins - ‚Äúwe are fine‚Äù or ‚Äúwe will fix everything now‚Äù - cease to convince project managers.  The decision is made to hire a fire-fighting specialist for the load, and - voila ‚Äì I have a new client.  So, dear programmers and administrators - keep up the good work, thank you very much.  The end of the commercial break. <br><br>  For those who do not want to lose customers and money, or face the need to send out your resume, I have a new analogy as a gift.  You can go to the gym both to improve well-being and to prevent its deterioration.  Not everyone chooses the second option, but, you see, it is preferable.  Both for health and for a wallet. <br><br>  In addition to the fact that it is better to avoid problems than to fight them heroically, there is another argument in favor of testing with forces, in the language of my acquaintance, ‚Äúspecial testers‚Äù.  Anyone subconsciously thinks that everything he does is flawless.  Or almost flawless.  Developers are no exception.  "Why test if I know for sure that everything will be fine, only we will lose time."  However, experience shows that a) a person from the outside is more inventive and successful in finding errors, b) a waste of time on QA turns into a big saving of both time and money in the future.  In all industries, not excluding software development. <br><br><h5>  * * * </h5><br>  So, we considered two approaches to load testing applications: from the point of view of system administrators and from the side of developers.  Both of them are imperfect, both lose sight of the most important fact: applications are written, systems are deployed, sites open primarily for <u>users</u> .  And it is better to take care of these users in advance. <br><br><h5>  * * * </h5><br>  <i>About where to start performance testing, what are the types of load testing, what methods are better to use, etc.</i>  <i>- enough has been written about all this, and I do not set it as my task to retell everything in my own words.</i>  <i>Instead, I plan from time to time to write about one or another aspect of performance testing, do reviews of utilities for testing, and so on.</i>  <i>Of course, if this topic will be interesting to the audience.</i>  <i>Thanks for attention.</i> </div><p>Source: <a href="https://habr.com/ru/post/106493/">https://habr.com/ru/post/106493/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../106488/index.html">IPv4 addresses will end at the beginning of 2011</a></li>
<li><a href="../106489/index.html">Steve Jobs accuses Android of "fragmentation"</a></li>
<li><a href="../106490/index.html">The attackers turned Kaspersky offsite into a hotbed of infection</a></li>
<li><a href="../106491/index.html">Progress Success v1.1 released</a></li>
<li><a href="../106492/index.html">Linux Mint 10 Julia in the pre-release stage</a></li>
<li><a href="../106494/index.html">Microsoft announces Office 365 - a new generation of cloud office suite for business</a></li>
<li><a href="../106495/index.html">Conference on free software in St. Petersburg</a></li>
<li><a href="../106496/index.html">Russian Nedohaker in America</a></li>
<li><a href="../106497/index.html">Review of fresh materials, September 2010</a></li>
<li><a href="../106498/index.html">Business planning. Article 2. A business plan is an attempt to convince yourself that you should not start this business.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>