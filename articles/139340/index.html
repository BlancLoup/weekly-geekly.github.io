<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Developing a simple Eclipse RCP application.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article, I wanted to talk about how to create applications using the Eclipse RCP (Rich Client Platform). The reason for writing was the fact t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Developing a simple Eclipse RCP application.</h1><div class="post__text post__text-html js-mediator-article">  In this article, I wanted to talk about how to create applications using the Eclipse RCP (Rich Client Platform).  The reason for writing was the fact that on Habr√© there are absolutely no articles describing this platform.  As an example, we will create a custom input form;  correctness of the data will be checked using the JFace Data Binding framework.  For the seed, here is a screenshot of what we should have. <br><br><img src="https://habrastorage.org/storage2/9e0/ef2/744/9e0ef274497c591ee62f08bebdd13563.png"><br><br><a name="habracut"></a><br>  <a href="https://habr.com/ru/post/139340/">What is Eclipse RCP</a> <br>  <a href="https://habr.com/ru/post/139340/">Pros and cons of the platform</a> <br>  <a href="https://habr.com/ru/post/139340/">Getting Started</a> <br>  <a href="https://habr.com/ru/post/139340/">Install the necessary plugins</a> <br>  <a href="https://habr.com/ru/post/139340/">Creating a project</a> <br>  <a href="https://habr.com/ru/post/139340/">Project structure</a> <br>  <a href="https://habr.com/ru/post/139340/">Launch of the project</a> <br>  <a href="https://habr.com/ru/post/139340/">Add view</a> <br>  <a href="https://habr.com/ru/post/139340/">Add extension</a> <br>  <a href="https://habr.com/ru/post/139340/">Customize the view</a> <br>  <a href="https://habr.com/ru/post/139340/">Customize view layout</a> <br>  <a href="https://habr.com/ru/post/139340/">Launching an app with an added view</a> <br>  <a href="https://habr.com/ru/post/139340/">Links to useful resources</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  What is Eclipse RCP </h4><br>  To begin with, it is still necessary to say what Eclipse RCP is.  <b>Eclipse</b> is a development environment written in Java, developed and supported by the Eclipse Foundation (whose members are IBM, SAP, Oracle, companies offering Eclipse RCP-based products and participating in the development of the ecosystem of Google, RedHat, Adobe, Cisco, Intel).  <b>Eclipse RCP</b> is a set of plug-ins for creating a so-called rich client application.  All that the user sees when opening the Eclipse IDE is a plugin based on this platform.  The user can create his plug-ins based on a huge number of existing ones, and if necessary, you can find most popular frameworks, such as Hibernate, Google Guice, Google Guava, JUnit, TestNG in the form of plug-ins.  It is also worth noting that the runtime architecture is based on the specification of the <b>OSGI</b> service platform, this specification describes how to create and operate modular applications.  Eclipse, as mentioned above, is written in Java and is positioned as a cross-platform product (in 90% of cases, the RCP application will be built on Windows, Linux and Mac).  All plug-ins that make up the core of the platform, and most third-party plug-ins are distributed under the EPL license (Eclipse Public License).  The user interface of the RCP applications is based on the visual components of the SWT and JFace frameworks, as well as on its own Eclipse widgets.  The figures below show the components of an application based on the RCP platform and the structure of the Eclipse platform itself. <br><br><img src="https://habrastorage.org/storage2/470/c9e/bab/470c9ebabae55f24e3201d5c4aba6abf.png"><br>  Figure 1 - Components used in the RCP application (Figure taken from this <a href="http://www.vogella.de/articles/EclipseRCP/article.html">site</a> ) <br><br><img src="https://habrastorage.org/storage2/030/79e/11f/03079e11f56eaefba1ce27ed2b081610.jpg"><br>  Figure 2 - Eclipse architecture (image taken from this <a href="http://www.jdg2e.com/ch08.architecture/doc/index.html">site</a> ) <br><br><h5>  Pros and cons of the platform </h5><br>  The main question is why this platform is so good and why to use it for developing desktop applications (by the way, it is possible to develop web applications and applications for mobile platforms).  Modularity, cross-platform, multilingual support, free of charge, a huge number of existing plug-ins, libraries and frameworks.  All this allows you to create commercial-level applications (a link to the list of existing applications developed on this platform is given at the end of the article).  The disadvantages include a fairly high level of occurrence, as to develop a serious application, you need to know at least in general terms how the OSGI framework works, to be able to work with SWT and JFace components and widgets.  Also, for Russian-speaking developers, the problem will be to find any materials or books about the frameworks and libraries mentioned above (links to the found resources, including Russian-language ones, are given at the end of the article), although in Europe and the USA there are periodic conferences organized by The Eclipse Foundation, in Germany, publishes a special magazine about new plug-ins and containing a lot of examples of their use, and there is also a whole series of books in German, which describes all the nuances and subtleties of development.  In English, you can find a special series of books eclipse series publisher Addison-Wesley, you can also find a couple of books from the publisher Apress.  But in our native language materials and books are negligible. <br><br><h4>  Getting Started </h4><br><h5>  Install the necessary plugins </h5><br>  Let's go straight to creating our first RCP application.  To work, we need to <a href="http://www.eclipse.org/downloads/">download the</a> build: <b>Eclipse for RCP and RAP Developers</b> from the official site.  If the Eclipse IDE is already installed, you can use the update manager.  Select Help-&gt; Install New Software in the main menu.  In the Install window that appears, from the top, select from the drop-down list the update site we need - <i><a href="http://download.eclipse.org/releases/indigo">download.eclipse.org/releases/indigo</a></i> , if there is no such site in the list, then click the Add button to the right, write Indigo Update Site in the Name field, and in the Location field - the address given above, click OK (if the message appears when adding the address - Duplicate location, then the address already exists in the Available Software Sites list, you can view the list of update sites in the previous Install window by clicking the link Available Software Sites, which is located under the drop-down list).  After selecting the update site, a tree will appear below (if the Group items by category checkbox is checked), open the General Purpose Tools item and select the <b>Eclipse Plug-in Development Environment</b> , then open the EclipseRT Target Platform Components and check the plug-in - <b>Eclipse RCP Plug-in Developer Resources</b> , we need these two plugins to create our project.  Next, click Next twice, accept the license agreement and click the Finish button;  all, installation of necessary plug-ins will begin.  After installation, we will be prompted to restart Eclipse, which we will do. <br><br><img src="https://habrastorage.org/storage2/e31/4a3/4da/e314a34da2d48bda380625a37dcd513e.png"><br>  Figure 3 - Plug-in installation window <br><br><h5>  Creating a project </h5><br>  After the reboot, select in the main menu the item File-&gt; New-&gt; Other, select the item Plug-in Development, then in the drop-down menu we will mark Plug-in Project. <br><br><img src="https://habrastorage.org/storage2/8a7/015/ae4/8a7015ae4ab88df918d43dbcce979993.png"><br>  Figure 4 - Menu for selecting the type of project being created <br><br>  Click Next, we need to give the name of our project, let it be called first.rcp.application, again click Next.  In the next window we need to specify the name of the application, in the Name field we will write First RCP Application.  Uncheck the box next to Generate an activator, a Java class that controls the plug-in's life cycle;  For our simple application, the class activator is not needed.  Leave the checkbox on the item - this plug-in, as our application will contain a user interface.  Let's leave the third item Enable API Analysis unchecked.  To the question - would you like a rich client application?  answer Yes. <br><br><img src="https://habrastorage.org/storage2/67b/a77/b4c/67ba77b4c2853a74339e6af127206b88.png"><br>  Figure 5 - Plugin creation window <br><br>  Click Next, we will be asked to select a template for the future application, select Hello RCP and click Next. <br><br><img src="https://habrastorage.org/storage2/0b6/50e/483/0b650e48393103cf5af9b29d0d873435.png"><br>  Figure 6 - The RCP project template selection window <br><br>  In the last window, in the Application window title field we will write - User Form, in the Application class field - <b>MyApplication</b> .  Checkbox Add branding leave inactive.  Click the Finish button.  We will be asked to switch to the perspective of the Plug-in Development perspective, agree with this proposal. <br><br><img src="https://habrastorage.org/storage2/840/fa9/949/840fa99493fca2f896baf5d9885e96ba.png"><br>  Figure 7 - RCP project template configuration window <br><br><h5>  Project structure </h5><br>  So before us is the structure of the newly created project. <br><br><img src="https://habrastorage.org/storage2/e99/5b7/6ef/e995b76ef34b4c13cbbf6be53f39b60d.png"><br>  Figure 8 - Project Structure <br><br>  The content of the five classes in the first.rcp.application package currently does not iterate us, I can only say that the <b>MyApplication</b> class is in some way the main () method of a regular Java program, this class is responsible for how our plugin will be started and how it will be stopped .  In the <b>ApplicationWorkbenchWindowAdvisor</b> class, we can set the size of the application window using the following line of code: <br> <code>configurer.setInitialSize(new Point(400, 300));</code> <br>  We can also see that the default toolbar and status bar will not be shown: <br> <code>configurer.setShowCoolBar(false); <br> configurer.setShowStatusLine(false);</code> <br>  The last line sets the title of the main window: <br> <code>configurer.setTitle("User Form");</code> <br>  The <b>ApplicationActionBarAdvisor</b> class is responsible for setting up the menu bar of our application.  The <b>Perspective</b> class is responsible for the location and size of editors (editors) and views (views) that are in a given perspective (perspective); there must be at least one perspective in the RCP application. <br><br><h5>  Launch of the project </h5><br>  In order to launch the application we just created, we need to go to the META-INF folder and open the <b>MANIFEST.MF</b> file if you suddenly closed it (this file opens by default when you create a project). <br><br><img src="https://habrastorage.org/storage2/625/ac2/1df/625ac21df214fb285de29d0726c1979c.png"><br>  Figure 9 - RCP Application Property Editor <br><br>  This file allows us to change many of the project settings, connect additional plug-ins, connect and manage extensions, customize the build of our plugin and much more.  We are on the Overview tab, in the Testing section, click on the link - Launch an Eclipse application, after a moment our application window will appear on the screen, close it and proceed to the next step. <br><br><img src="https://habrastorage.org/storage2/bfc/d86/455/bfcd8645568bbb3608cf0662b2cd1618.png"><br>  Figure 10 - Window of our application <br><br><h4>  Add view </h4><br><h5>  Add extension </h5><br>  Our task is to create a view on which we can place the elements of the graphical interface.  Go back to the file <b>MANIFEST.MF</b> , select the tab below - Extensions.  We see that by default we have two extensions: org.eclipse.core.runtime.applications and org.eclipse.ui.perspectives.  The first extension is associated with the class of our application <b>MyApplication</b> , if we select this extension and expand the tree to the node first.rcp.application.MyApplication (run), we will see that the class field contains the name of this particular class.  Returning to the root node of this list, in the Extension Details section on the right we will see two fields, the values ‚Äã‚Äãof which we can also change (we will not do this now): ID - application identifier and Name - application name. <br><br>  The second extension is responsible for setting the perspective of our application.  The <b>MANIFEST.MF</b> file allows us, without looking at the code of the Perspective class, to specify which types and / or editors the given perspective will contain, their position, size and ratio.  Clicking on this extension and going to the child item, we will see that in the Extension Element Details section we can specify the perspective class, the identifier and the name.  It should be noted that such changes, as mentioned above, can be made by editing directly the class code that is associated with this extension and editing the <b>plugin.xml</b> file, but I would not like to complicate the creation of our first project. <br><br><img src="https://habrastorage.org/storage2/4a9/9a6/929/4a99a692982ab0db1bcf5452288f40eb.png"><br>  Figure 11 - Tab with extensions of our project <br><br>  We need to add a new extension to create a view.  To do this, click on the Add button and in the window that appears, enter views into the Extension Point filter field, only one extension should remain - org.eclipse.ui.views, select it and click the Finish button. <br><br><img src="https://habrastorage.org/storage2/6af/917/cfe/6af917cfe25af89155491630faa80910.png"><br>  Figure 12 - Window for selecting a new extension <br><br>  In the list of extensions, we should have one more, the third extension. <br><br><h5>  Customize the view </h5><br>  Click on the extension we added with the right mouse button, a context menu will appear, select New-&gt; view in it, thus we will add an element to our extension (this element is the view we need).  The settings for this item will appear on the right.  First, create a class for our view.  We can do this by clicking on the class * link. <br><br><img src="https://habrastorage.org/storage2/0b6/a27/318/0b6a273188234132415def7df17cd20d.png"><br>  Figure 13 - View Settings (view) <br><br>  A standard Java class creation dialog will open, give it a name - MainView;  as we can see, this class is inherited from the <b>org.eclipse.ui.part.ViewPart</b> class, the parent class for all views.  Finish class creation by clicking Finish.  It remains quite a bit, after creating a class for our view, we will open its code, create a static variable that will contain an identifier of this type, we will set the canonical name of this class as an identifier.  We write the following: <br> <code>‚Ä¶ <br> public class MainView extends ViewPart { <br> public static final String ID = MainView.class.getCanonicalName(); <br> ‚Ä¶ <br> }</code> <br>  Scroll to the file <b>MANIFEST.MF</b> , open the Extension tab, copy the contents of the class * field and paste it into the ID field.  Now the name of the class and the identifier of this type coincide, this technique is good practice, as it always allows you to quickly find the desired type and find out its identifier.  In the field name * write - User Form.  The whole species has been created, it remains to associate it with our perspective, since the species itself cannot be used, in other words, it must belong to some perspective. <br><br><h5>  Customize view layout </h5><br>  We can perform further manipulations while remaining in the extension editor or open the code of the perspective class - <b>Perspective.java</b> , which we will do.  In the <b>Perspective</b> class, go to the method - createInitialLayout (), this method sets the initial position of the views and editors.  In the method, we will write the following two lines of code: <br> <code>layout.setEditorAreaVisible(false); <br> layout.addStandaloneView(MainView.ID, true, IPageLayout.LEFT, 1.0f, layout.getEditorArea());</code> <br>  The first line indicates to the layout object that we do not need an area for editing, since we only have one type and do not have editors.  The second line adds our view, moreover as standalone.  The first parameter is our view identifier.  The second parameter is a boolean value that is responsible for whether or not the header of our view is displayed (User Form).  The third parameter is intended to indicate the orientation of the view in perspective, since we have one view and occupy the entire perspective space, this value can be anything.  The fourth parameter determines the position of this view in relation to other types or editors, since, in our case, view one it should occupy the entire perspective space.  The last fifth parameter, the identifier of the editing area (editor area).  Let's keep our changes. <br><br><h5>  Launching an app with an added view </h5><br>  Let's go back to the <b>MANIFEST.MF</b> file and run our application again. To do this, go to the Overview tab, in the Testing section, click on the Launch an Eclipse application link.  We will not see a big difference with the way the form looked at the previous launch, only the tab with our view, the User Form, was added. <br><br><img src="https://habrastorage.org/storage2/b59/fb2/1e0/b59fb21e002f429da914b81eebf42b25.png"><br>  Figure 14 - Window of our application with a view added <br><br>  For today, all will be continued in the next article. <br><br>  <a href="">Archive</a> with the source code of the project <br><br><h4>  Links to useful resources </h4><br>  Russian speakers: <br><ul><li>  <a href="http://www.ibm.com/developerworks/ru/edu/os-ecl-rcpapp/">An old tutorial</a> , on this site you can find another half a dozen good articles about developing Eclispe plug-ins and RCP applications; </li><li>  A good <a href="http://www.smartyit.ru/java/96">article</a> on the layouts of the SWT framework components; </li><li>  <a href="http://samolisov.blogspot.com/">Blog</a> severe Chelyabinsk programmer, contains a large number of interesting topics about Eclipse RCP and OSGI. </li></ul><br>  English speaking: <br><ul><li>  A huge number of <a href="http://www.vogella.de/">excellent tutorials</a> , for all the most popular plug-ins and frameworks, everything is written in great detail, it is understandable even with the initial level of English; </li><li>  <a href="http://www.eclipse.org/community/rcpcp.php">Commercial projects</a> written in Eclipse RCP. </li></ul></div><p>Source: <a href="https://habr.com/ru/post/139340/">https://habr.com/ru/post/139340/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../139329/index.html">Stopwatch on CSS3 without pictures, scripts and SMS</a></li>
<li><a href="../139335/index.html">Instagram has grown to 25 million users: the largest social network on a mobile platform</a></li>
<li><a href="../139337/index.html">Mutation testing on the example of Pitest</a></li>
<li><a href="../139338/index.html">App Store Reaches 25 Billion Downloads</a></li>
<li><a href="../139339/index.html">Realtime on your resource in a few minutes</a></li>
<li><a href="../139341/index.html">Khan Academy will use JavaScript to teach programming</a></li>
<li><a href="../139342/index.html">Electronic necklace. Part 2</a></li>
<li><a href="../139343/index.html">Cellular operators will not give SMS without a fight</a></li>
<li><a href="../139344/index.html">Building the Microsoft Detours Library under Visual Studio 2008</a></li>
<li><a href="../139348/index.html">RealSync - one-way real-time source synchronization for web developers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>