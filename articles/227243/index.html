<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Swift: problems and prospects</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On June 2, 2014, in the Apple world, something happened that nobody expected. Apple introduced a new object-oriented programming language - Swift. 

 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Swift: problems and prospects</h1><div class="post__text post__text-html js-mediator-article">  On June 2, 2014, in the Apple world, something happened that nobody expected.  Apple introduced a new object-oriented programming language - Swift. <br><br>  What can Swift attract? <br>  Unlike Objective-C, in which for each class you need to create * .h and * .m files with an interface and implementation, respectively, in Swift you need to create only one * .swift file, which contains both the interface and the implementation.  This means that the source files in the project will be 2 times smaller, which is a plus.  However, the question arises - how to divide class properties and methods into public and private?  In Objective-C, we are used to ‚Äúhide‚Äù private properties and methods in * .m files.  To do this in Swift at the moment is impossible. <a name="habracut"></a><br><br><img src="https://habrastorage.org/getpro/habr/post_images/d3d/3f3/f63/d3d3f3f63acbd826c8bb0bccf6ef5d3c.png" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      According to Apple, such a mechanism will still appear: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/071/f97/8c1/071f978c1cdf22154f36b2ce3315faea.png" alt="image"><br><br>  Source: <a href="https://devforums.apple.com/thread/227288">https://devforums.apple.com/thread/227288</a> (requires a developer account). <br>  Swift has an excellent switch-case statement.  Unlike Objective-C, in Swift you can perform a listing in rows and with conditions: <br><br><pre><code class="objectivec hljs">let vegetable = <span class="hljs-string"><span class="hljs-string">"red pepper"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> vegetable { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"celery"</span></span>: let vegetableComment = <span class="hljs-string"><span class="hljs-string">"Add some raisins and make ants on a log."</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"cucumber"</span></span>, <span class="hljs-string"><span class="hljs-string">"watercress"</span></span>: let vegetableComment = <span class="hljs-string"><span class="hljs-string">"That would make a good tea sandwich."</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> let x where x.hasSuffix(<span class="hljs-string"><span class="hljs-string">"pepper"</span></span>): let vegetableComment = <span class="hljs-string"><span class="hljs-string">"Is it a spicy \(x)?"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: let vegetableComment = <span class="hljs-string"><span class="hljs-string">"Everything tastes good in soup."</span></span> }</code> </pre> <br><br>  Swift and Objective-C can be used in the same project, i.e.  It is possible to smoothly transfer to Swift; it is not necessary to rewrite old libraries and classes. <br>  Swift modules are available immediately in the entire project, while in Objective-C you need to include interface files (* .h) in order to use them. <br>  Now let's try to check whether Swift really works faster.  To do this, create 2 identical applications in Objective-C and Swift.  The functionality of the application is to load the controller (UIViewController) and in its main view (UIView) place and display a picture (UIImageView).  We will note the time from the moment the application is fully loaded until the first controller is displayed.  Repeat the test 10 times (chart below). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8f6/987/c55/8f6987c55566e04c4c907552314cd2dc.png" alt="image"><br><br>  As it is easy to see, an Objective-C application loads a controller faster than a Swift application, and the Objective-C load time is more stable. <br>  So, our application on Objective-C on average loads the controller in 0.02556 seconds, and the application on Swift - in 0.03404 seconds.  Why so?  Because, most likely, Apple did not rewrite frameworks, including UIKit, which is responsible for creating controllers and views on Swift.  Instead, so-called ‚Äúwrappers‚Äù were made.  Simply put, Swift methods for creating controllers, views, etc.  just call in turn methods on Objective-C and return the result.  Most likely, in the future the situation will change, Apple will carefully work on optimization and in the future applications on Swift will work faster.  But not now. <br>  Now let's try to rename our class.  Click on the class name with the right mouse button, Refactor / Rename and ...: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c72/14e/f5c/c7214ef5cc709ae43573395920295775.png" alt="image"><br><br>  Of course, this problem will definitely be resolved, most likely by the fall, when the final version of Xcode 6 will be released. But all this hints at Swift again. <br>  Still experienced iOS developers, who are used to Objective-C, will be confused by the fact that when using Blocks and closures similar to them in Swift, there are differences in the braces tabulation. <br>  This is how a simple block of animation in Objective-C looks like: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/832/25e/15b/83225e15b655432b368e338cae5632ce.png" alt="image"><br><br>  And so in Swift: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c7f/ac7/bac/c7fac7bacf16e8d6c309d8d93306a020.png" alt="image"><br><br>  For some reason in Swift it is customary for the closing brace to be on the same level with the body of the block.  It would be quite logical to do this like this (focus on curly brackets {}): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4f5/714/c59/4f5714c590102d266b4d6ab5af391bee.png" alt="image"><br><br>  Another very annoying Swift problem is related to increment.  The increment is used mainly in cycles, as a counter. <br><br><pre> <code class="objectivec hljs">let startDate = <span class="hljs-built_in"><span class="hljs-built_in">NSDate</span></span>() var j:Int64 = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> var i:Int64 = <span class="hljs-number"><span class="hljs-number">0</span></span>; i&lt;=<span class="hljs-number"><span class="hljs-number">1000000000</span></span>; i = i+<span class="hljs-number"><span class="hljs-number">1</span></span> { j = i j = j+<span class="hljs-number"><span class="hljs-number">1</span></span> } println(<span class="hljs-string"><span class="hljs-string">"\(NSDate().timeIntervalSinceDate(startDate))"</span></span>)</code> </pre><br><br>  The execution time of this code: 4.44419801235199 seconds. <br><br>  But if i = i + 1 and j = j + 1 are replaced by ++ i and j ++, respectively (and this is a more general case): <br><br><pre> <code class="objectivec hljs">let startDate = <span class="hljs-built_in"><span class="hljs-built_in">NSDate</span></span>() var j:Int64 = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> var i:Int64 = <span class="hljs-number"><span class="hljs-number">0</span></span>; i&lt;=<span class="hljs-number"><span class="hljs-number">1000000000</span></span>; i++ { j = i j++ } println(<span class="hljs-string"><span class="hljs-string">"\(NSDate().timeIntervalSinceDate(startDate))"</span></span>)</code> </pre><br><br>  That runtime increases dramatically to 624.784721970558 seconds (more than 10 minutes!). <br><br>  Accordingly, Objective-C: <br><pre> <code class="objectivec hljs"><span class="hljs-built_in"><span class="hljs-built_in">NSDate</span></span> *startDate = [<span class="hljs-built_in"><span class="hljs-built_in">NSDate</span></span> date]; int64_t j = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (int64_t i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i&lt;= <span class="hljs-number"><span class="hljs-number">1000000000</span></span>; i = i + <span class="hljs-number"><span class="hljs-number">1</span></span>) { j = i; j = j + <span class="hljs-number"><span class="hljs-number">1</span></span> } <span class="hljs-built_in"><span class="hljs-built_in">NSLog</span></span>(<span class="hljs-string"><span class="hljs-string">@"%f"</span></span>, [[<span class="hljs-built_in"><span class="hljs-built_in">NSDate</span></span> date] timeIntervalSinceDate:startDate]);</code> </pre><br><br>  Time: 2.842506 seconds. <br><br><pre> <code class="objectivec hljs"><span class="hljs-built_in"><span class="hljs-built_in">NSDate</span></span> *startDate = [<span class="hljs-built_in"><span class="hljs-built_in">NSDate</span></span> date]; int64_t j = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (int64_t i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i&lt;= <span class="hljs-number"><span class="hljs-number">1000000000</span></span>; i++) { j = i; j++; } <span class="hljs-built_in"><span class="hljs-built_in">NSLog</span></span>(<span class="hljs-string"><span class="hljs-string">@"%f"</span></span>, [[<span class="hljs-built_in"><span class="hljs-built_in">NSDate</span></span> date] timeIntervalSinceDate:startDate]);</code> </pre><br><br>  Time: 2.833201 seconds. <br><br>  For the purity of the experiment, we only pay attention to the differences between using i ++ and i = i + 1 in Swift and Objective-C and separately.  And we will not compare them with each other, because int64_t in Objective-C is a simple type, but Int64 in Swift is a structure and, of course, will work slower, although Swift does not provide any other way out. <br>  In addition, Xcode currently has very weak support, poor autocompletion of the code, and still does not fully support, perhaps, the main framework for creating iOS applications - UIKit.  What can we say about the rest ... <br>  Thus, we can conclude that Swift was presented to us so that we would learn it while it was being finalized.  Most likely, all of these problems will be fixed over time, but currently, using Swift to create commercial applications is strongly discouraged.  Now it is only for training.  Swift will definitely take its place, but Objective-C will still be used as the primary language for another year 2. </div><p>Source: <a href="https://habr.com/ru/post/227243/">https://habr.com/ru/post/227243/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../227233/index.html">Employees with experience in the company for more than 2 years earn 50% less</a></li>
<li><a href="../227235/index.html">iOS. Programming techniques</a></li>
<li><a href="../227237/index.html">Broadcast video from a mobile device to YouTube</a></li>
<li><a href="../227239/index.html">3 of 130. New Android tablets at Intel Atom</a></li>
<li><a href="../227241/index.html">Operator preceding descending parser</a></li>
<li><a href="../227245/index.html">Mad House on PHDays: cyber threats of an ordinary apartment</a></li>
<li><a href="../227247/index.html">Traffic Inspector in action: monitor network activity via VPN</a></li>
<li><a href="../227249/index.html">They want to send "computer microprobe" to Europe</a></li>
<li><a href="../227253/index.html">The model of the natural series of numbers (nrch). Ulam Spiral</a></li>
<li><a href="../227255/index.html">Automobile race and service testing</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>