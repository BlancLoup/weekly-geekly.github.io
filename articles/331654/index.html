<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Warehouse management system using CQRS and Event Sourcing. Setting Requirements</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, the concept of Omnichannel has become popular, when in order to improve the quality of customer service, various sales channels are integrat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Warehouse management system using CQRS and Event Sourcing. Setting Requirements</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/73b/d1f/716/73bd1f716f19b6af37d71c44f355512c.jpg" alt="image"><br><br>  Recently, the concept of <a href="https://en.wikipedia.org/wiki/Omnichannel">Omnichannel</a> has become popular, when in order to improve the quality of customer service, various sales channels are integrated into one.  And no matter how and where the sale is made, it makes sense for the seller to combine all sales channels in order to fulfill the order.  In practice, this means that it does not matter if the client came to you offline, made an order on the website, in a mobile application or by phone - you must use all available means to carry it out.  And for you, as for the seller, each individual channel should not be a big difference.  <a href="https://www.youtube.com/watch%3Fv%3Dx1u6v0_9IQE">Presentation of the</a> omni channel on the example of Frankfurt Airport (Eng.). <br><br>  For the integration described above, it is very important for the seller to integrate the inventory levels of the goods.  Because retail infrastructure can be quite complex and combine external warehouses, shops, stores with the ability to order goods to the store (store pick-up), <a href="https://en.wikipedia.org/wiki/Drop_shipping">dropshipping</a> (the trade scheme in which you sell products from the supplier‚Äôs company, which itself sends them to the buyer from Your name, and you only accept money from the buyer). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><img src="https://habrastorage.org/getpro/habr/post_images/904/074/983/904074983077a6ec576408593af87f76.png" alt="image"><br><br>  Since we are developing a framework, and not a specific solution with turnkey integration for a particular business, the set of requirements for us has turned out to be quite broad. <br>  The main requirements include: <br><ul><li>  The inventory management system should not be a bottleneck during a checkout when an order is placed.  Those.  there should be no synchronous checks on the relevance of the availability of products at each of the warehouses, and potential interlocks associated with them. </li><li>  The system must support asynchronous order processing, in which the creation of an order will not be an operation changing the state of the system.  And it will only register the command that will need to be processed later.  Thus, the time-critical order placement operation will be very fast and without any locks.  Such an implementation can be seen, for example, at Amazon, when, after successfully placing an order and paying the buyer, a letter may arrive in time stating that the system cannot fulfill the order, because the goods in the warehouse are not enough and return money.  On the one hand, this may worsen the impressions of the buyer, but for sellers with large warehouses who make hundreds of thousands of sales per day - such a risk is quite justified in order to speed up the process of placing an order. </li><li>  The system should provide various algorithms for the delivery of goods from several warehouses to the end user.  For example, in the simplest case, it can be a priority delivery, where each of the sources of delivery is given a priority, and the system will follow this priority trying to take the maximum amount of goods to fulfill orders from each warehouse.  More elephant algorithms involve the determination of the minimum shipping costs (Minimal Shipping Cost) separately for the customer and for the seller. </li><li>  The inventory management system should provide the value of a certain aggregate flow for a particular product within the current context, on the front end for buyers.  And this value is taken into account when selling goods or when evaluating whether we have finished the availability of goods or not yet.  This is necessary in order not to count runoff for each of the products in runtime, especially on such critical pages as starnitsa category of products, this can take sufficient time and slow down productivity. </li><li>  The system must support the reservation mechanism when the seller can reserve a sale, for example, for his wholesale customer, which must be completed within a certain period.  After that, the reserved products cannot be sold through other sales channels to other customers. </li><li>  The system should provide a mechanism for controlling the workload of warehouses and other physical locations for the placement of goods.  To be able to plan and organize logistics and delivery of goods, when stocks need to be replenished. </li><li>  To support the previous item, a special set of states for the product must also be entered in order to solve such problems: the goods are sold but not yet shipped from the warehouse, respectively, still occupies a place in the warehouse, and we cannot import new goods to this warehouse.  Also, the goods that were returned by the buyer can not always immediately return to stock.  Sometimes the goods are returned due to the principle of malfunction or defect, respectively, such goods should be processed separately. </li><li>  Dropshipping support </li><li>  The system should prevent the flexible possibility of mapping physical stores to sales channels (Sales Channel).  About this item separately </li></ul><br><br><h3>  Mapping of physical warehouses and warehouses to sales channels </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/b31/63d/8e6/b3163d8e6782bd1f6becf305e8217c65.png" alt="image"><br><br>  This chart shows the various possibilities of mapping physical stores where goods are located on sales channels.  Under the sales channels refers to the delivery of goods to the market and their subsequent implementation.  For example, in terms of Magento, this could be a Website, but with the advent of B2B a separate sales channel may be a wholesale customer for whom you have a separate discount and who can bargain with you separately.  In this case, the sales channel will be the Customer Group.  Also a good example of a sales channel may be a country or region. <br><br>  As you can see in this diagram, physical warehouses are combined into a virtual aggregation, which in turn is assigned to a specific distribution channel.  In this case, one physical warehouse can serve more than 1 sales channel, and within the sales channel, stock from more than one warehouse can be combined.  This allows you to achieve maximum flexibility, as well as, if necessary, introduce new sales channels and compare existing drains with them. <br><br><h3>  Magento MSI (Multi Source Inventory) </h3><br>  This article is the first article in the ‚ÄúWarehouse Management System Using CQRS and Event Sourcing‚Äù cycle within which the collection of requirements, design and development of a warehouse management system will be considered using Magento 2 as an example. <br><br>  An open project, where development is underway, and where community engineers are involved, as well as where you can familiarize yourself with the current state of the project and documentation, is available at <a href="https://github.com/magento-engcom/magento2/projects">github.com/magento-engcom/magento2/projects</a> </div><p>Source: <a href="https://habr.com/ru/post/331654/">https://habr.com/ru/post/331654/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../331644/index.html">The story of one application: mobile "1C: Management of our company"</a></li>
<li><a href="../331646/index.html">‚ÄúThere is no such problem in Tarantula as a strong degradation with time and under load‚Äù - Vasily Soshnikov</a></li>
<li><a href="../331648/index.html">Manual monitoring of site availability (simple tools overview)</a></li>
<li><a href="../331650/index.html">How Pony Express Manages to Deliver</a></li>
<li><a href="../331652/index.html">Google Developers Group and Softline organize the first in Russia "Google Cloud Developer Meetup # 1"</a></li>
<li><a href="../331656/index.html">Protected workplace based on VDI Huawei FusionCloud Desktop Solution 6.1</a></li>
<li><a href="../331658/index.html">Ubuntu Mobile: Post-mortem Analysis</a></li>
<li><a href="../331662/index.html">Speed ‚Äã‚Äãreading: does it work or not? Part 2: parsing techniques</a></li>
<li><a href="../331664/index.html">Autoencoders in Keras, Part 4: Conditional VAE</a></li>
<li><a href="../331666/index.html">When will they send me an offer? Tips for applicants from HR-manager</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>