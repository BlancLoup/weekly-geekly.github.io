<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Ruby on Rails 3 - Final Release Notes</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Table of contents 

1. Switch to Rails 3.0 Rails 3 requires Ruby 1.8.7+ Application object in Rails script/* replaced by script/rails Dependencies and...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Ruby on Rails 3 - Final Release Notes</h1><div class="post__text post__text-html js-mediator-article"><h2>  Table of contents </h2><ol><li>  Switch to Rails 3.0 <ul><li>  Rails 3 requires Ruby 1.8.7+ </li><li>  Application object in Rails </li><li> <code>script/*</code> replaced by <code>script/rails</code> </li><li>  Dependencies and <code>config.gem</code> </li><li>  Transition process </li></ul></li><li>  Creating a Rails 3.0 Application <ul><li>  Inclusion of gems </li><li>  Life on the brink </li></ul></li><li>  Architectural changes <ul><li>  Recharge Railties </li><li>  All components of the Rails core are now independent. </li><li>  Abstraction Active Model </li><li>  Abstraction controllers </li><li>  Arel Integration </li><li>  Extract Mail </li></ul></li><li>  Documentation </li><li>  Internationalization </li><li>  Railties </li><li>  Action pack <ul><li>  Abstract controller </li><li>  Action controller </li><li>  Action Dispatch </li><li>  Action view </li></ul></li><li>  Active Model <ul><li>  Abstraction ORM and interface with Action Pack </li><li>  Validations </li></ul></li><li>  Active record <ul><li>  Query interface </li><li>  Enhancements </li><li>  Patches and obsolete methods </li></ul></li><li>  Active Resource </li><li>  Active support </li><li>  Action Mailers </li><li>  About creators </li></ol><a name="habracut"></a><h2>  Introduction </h2><br>  Ruby on Rails 3.0 is out!  He will cook dinner for you and fill the washing machine with laundry.  You will still wonder how you used to live without it.  These are the best rails we have ever done! <br><br>  Well, seriously speaking, it was a really great thing.  With the arrival of the creators of Merb in the team, we implemented their best ideas, and, moreover, focused on the agnosticism of the framework, simplifying and accelerating the code, and also added a handful of new APIs.  If you switch to Rails 3.0 from Merb'a 1.x, you will most likely be familiar with a lot.  And you will definitely fall in love with Rails 3.0 by upgrading from any version 2.x. <br><br>  But even if you don‚Äôt care about the internal cleaning of the code, you‚Äôll still feel the full taste of Rails 3.0.  We have prepared a whole bunch of new features and updated APIs.  It's time to become a Rails developer.  Here are the main changes: <ul><li>  Brand new RESTful-style router; </li><li>  New API for Action Mailer, created in the image of the Action Controller (now without hell of sending messages from several parts); </li><li>  Language for creating a query chain in Active Record, built on the basis of relational algebra; </li><li>  Unobtrusive Javascript helpers with drivers for Prototype, jQuery and, in the near future, other frameworks (end of inline JS); </li><li>  Explicit dependency management with Bundler. </li></ul>  In addition to all this, we tried our best to isolate outdated APIs by supplying the corresponding components with special messages.  Those.  in order to upgrade to Rails 3.0 now, you do not need to rewrite all existing code to fit all the innovations. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      These release notes cover only the major innovations, but not every bugfix or minor change.  Rails 3.0 consists of about 4,000 commits from over 1,600 authors!  If you need to know everything in detail, pay attention to the <a href="http://github.com/rails/rails/commits/master">list of all commits</a> . <br><br><h2>  1. Switch to Rails 3 </h2><br>  As usual, when upgrading to a new version, it‚Äôs best to have your code covered as much as possible with tests.  And, for a start, you'd better upgrade to 2.3.5 to make sure that your application is working properly even before switching to Rails 3.0. <br><br><h3>  1.1 Rails 3.0 requires Ruby 1.8.7+ </h3><br>  Rails 3.0 requires Ruby 1.8.7 or higher.  Support for previous versions has been officially discontinued, so we recommend that you upgrade to the new version of Ruby as soon as possible.  In addition, Rails is compatible with Ruby version 1.9.2. <br><br>  Note that in Ruby 1.8.7 p248 and p249 there are marshaling bugs that crash Rails 3.0.  In Ruby Enterprise Edition, this has been fixed since version 1.8.7-2010.02.  As for 1.9, Ruby 1.9.1 also cannot be used.  in Rails 3.0, it causes segmentation errors (segfaults).  So, if you want to use Rails 3.0 Ruby 1.9, jump immediately to 1.9.2. <br><br><h3>  1.2 Application Object </h3><br>  As part of working to support multiple Rails applications running in the same process, Rails 3.0 introduces a new concept that involves using the <code>Application</code> object.  This object contains all of your application-specific configuration settings and, by its nature, is very similar to the contents of config / environment.rb from previous versions of Rails. <br><br>  Now each Rails application has a special <code>Application</code> object.  This object is defined in the config / application.rb file.  If you need to update an existing application to a new version of Rails, you need to create this file manually, and copy the necessary information into it from config / environment.rb. <br><br><h3>  1.3 <code>script/*</code> replaced by <code>script/rails</code> </h3><br>  New script / rails now replaces all scripts in the corresponding folder.  But you do not need to contact script / rails directly - just run the <code>rails</code> command from the root of the application, which, in the context of your application, executes the specified script.  For example: <br><blockquote> <code>rails console # =&gt; ./script/console <br> rails g scaffold post title:string # =&gt; ./script/generate scaffold post title:string <br></code> </blockquote>  The <code>rails ‚Äìhelp</code> team will kindly provide the entire list of available options. <br><br><h3>  1.4 Dependencies and <code>config.gem</code> </h3><br>  The <code>config.gem</code> method went into non-existence in favor of the <code>bundler</code> 'a and <code>Gemfile</code> ' a (see ‚ÄúTurning on gems‚Äù below) <br><br><h3>  1.5 Transition Process </h3><br>  To automate and simplify the transition process, a special plugin was created - <a href="http://github.com/rails/rails_upgrade">Rails Upgrade</a> . <br><br>  Just install the plugin and run <code>$ rake rails:upgrade:check</code> to find out which of the existing parts of your program need to be updated (with links to information about how and what to upgrade).  Also in the plugin there is a task for generating a <code>Gemfile</code> based on existing calls in <code>config.gem</code> and a task for generating a new file with routes based on the old one.  To download the plugin, simply do the following - <code>$ script/plugin install git://github.com/rails/rails_upgrade.git</code> . <br><br>  You can learn by example how this all works, by clicking on the link <a href="http://omgbloglol.com/post/364624593/rails-upgrade-is-now-an-official-plugin">Rails Upgrade now. Official Plugin</a> . <br><br>  On the other hand, if you need more help, you can always contact the people on the IRC channel or in the <a href="http://groups.google.com/group/rubyonrails-talk">rubyonrails-talk</a> mailing list, who probably do the same thing as you, and maybe even face the same problems.  When you finally succeed - do not forget to write on your blog to share your experience with others! <br><br>  <b>More information</b> - <a href="http://omgbloglol.com/post/353978923/the-path-to-rails-3-approaching-the-upgrade">The Path to Rails 3: Approaching the upgrade</a> . <br><br><h2>  2. Creating a new Rails application </h2><br>  The sequence at the moment looks like this: <br><blockquote> <code>$ gem install rails --version 3.0.0 <br> $ rails myapp <br> $ cd myapp</code> </blockquote> <h3>  2.1 Turning on gems </h3><br>  Rails now uses <code>Gemfile</code> to know which plugins are required to run your application.  To read and work with this file, there is a new bundle gem, which puts all the necessary gems in the <code>vendor</code> directory, thereby isolating your application from system gems. <br><br>  <b>Additional information</b> - <a href="http://yehudakatz.com/2009/11/03/using-the-new-gem-bundler-today/">Using bundler</a> . <br><br><h3>  2.2 Life on the brink </h3><br>  Now, thanks to the <code>bundler</code> and <code>Gemfile</code> , in order to ‚Äúfreeze‚Äù your application, just run the special command <code>bundle</code> -ra - goodbye <code>rake freeze</code> ! .. <br><br>  Well, if you use code from the Rails repository master branch, then to create an application, simply pass the - <code>--dev</code> flag: <br><blockquote> <code>$ rails myapp ‚Äîedge</code> </blockquote> <h2>  3. Architectural changes in Rails </h2><br>  The Rails architecture has undergone 6 major changes. <br><br><h3>  3.1 Recharging Railties </h3><br>  Railties have been updated to provide a robust API for writing plugins to any components of the framework.  Generators and binders have also been completely rewritten, which gives developers the opportunity to move to an incomparably different level of elegance of their use. <br><br><h3>  3.2 All Rails core components are now independent. </h3><br>  Together with the merging of Merb and Rails, one of the main tasks was to get rid of the strong connection between the components of the Rails core.  This goal has been achieved, and now all of the key Rails components use a single API that you can use to develop plug-ins. <br><br>  This means that any plugin or replacement of any component of the kernel (using, for example, DataMapper or Sequel) has access to the same functionality as the kernel, with the possibility of its expansion and improvement. <br><br>  <b>More information</b> - <a href="http://yehudakatz.com/2009/07/19/rails-3-the-great-decoupling/">The Great Decoupling</a> <br><br><h3>  3.3 Abstraction Active Model </h3><br>  Part of the work on the separation of components was the extraction of all bindings to the Active Record from the Action Pack.  Now that this is completed, for any new ORM plugin, in order to work correctly with the Action Pack, all the Active Model interfaces need to be implemented. <br><br>  <b>Additional information</b> - <a href="http://habrahabr.ru/blogs/ror/86938/">ActiveModel: let any Ruby object feel like ActiveRecord</a> <br><br><h3>  3.4 Abstract controller </h3><br>  Another significant part in the work on the separation of components in the core was the creation of a base superclass isolated from HTTP in order to render templates and so on. Creating an Abstract Controller made it possible to significantly simplify the Action Controller and Action Mailer by extracting the code common to both in Abstract Controller. <br><br>  <b>More information</b> - <a href="http://yehudakatz.com/2009/06/11/rails-edge-architecture/">Rails Edge Architecture</a> . <br><br><h3>  3.5 Arel Integration </h3><br>  <a href="http://github.com/brynary/arel">Arel</a> (or Active Relation) was taken as the foundation for Active Record and is henceforth one of the dependencies of a Rails application.  Arel introduces a special SQL abstraction, thereby simplifying Active Record and providing a foundation for implementing relational functions in Active Record. <br><br>  <b>Additional information</b> - <a href="http://magicscalingsprinkles.wordpress.com/2010/01/28/why-i-wrote-arel/">Why I wrote Arel</a> . <br><br><h3>  3.6 Retrieving Mail </h3><br>  From the day of its creation, Action Mailer was constantly hung up with dubious patches, pre-parsers and, in addition to combining with TMail, got agents to send and receive mail.  In version 3.0, all the functionality related to e-mail was abstractly rendered in the <a href="http://github.com/mikel/mail">Mail</a> gem.  This, again, reduced the amount of duplicate code and helped to separate Action Mailer from the email parser. <br><br>  <b>Additional information</b> - <a href="http://lindsaar.net/2010/1/26/new-actionmailer-api-in-rails-3">New Action Mailer API in Rails 3</a> . <br><br><h2>  4. Documentation </h2><br>  Documentation for all API changes is in the process of being updated.  In addition to this, <a href="http://guides.rails.info/">the Rails Edge guides are</a> also updated to reflect all the changes in Rails 3.0.  However, <a href="http://guides.rubyonrails.org/">guides.rubyonrails.org manuals</a> will only correspond to the latest stable version (i.e. version 2.3.5, up to the final release 3.0). <br><br>  <b>More information</b> - <a href="http://weblog.rubyonrails.org/2009/1/15/rails-documentation-projects">Rails Documentation Projects</a> . <br><br><h2>  5. Internationalization </h2><br>  In Rails 3, a significant amount of work has been done on supporting internationalization.  The latest version of the <a href="http://github.com/mikel/mail">i18n</a> heme is included and carries a significant optimization of the speed of work. <ul><li>  I18n in every home - now, if desired, you can embed l18n into any object by adding the ActiveModel :: Translation and ActiveModel :: Validations modules to it.  Additionally, translation support has been added for errors.messages. </li><li>  Attributes can now set the default language. </li><li>  The form tags automatically determine the object's status (Create or Update), tighten the correct translation language. </li><li>  The Label tag with l18n now works correctly - just pass the attribute name to it. </li></ul>  <b>More information</b> - <a href="http://blog.plataformatec.com.br/2010/02/rails-3-i18n-changes/">Rails 3 I18n changes</a> . <br><br><h2>  6. Railties </h2><br>  Together with the separation of the main components within Rails, Railities have been thoroughly redesigned in order to facilitate the interaction between frameworks, engines and plugins, making it as painless and flexible as possible: <ul><li>  Each application is now assigned its own namespace (for example, the application is launched as follows: <code>YourAppName.boot</code> ), which makes interaction between applications much easier. </li><li>  Now you can turn to <code>Rails.config</code> , where there is a huge variety of configuration options for your application. </li><li>  Everything inside the <code>Rails.root/app</code> now automatically added to the <code>load path</code> , so now you can, say, add the file <code>app/observers/user_observer.rb</code> , and Rails will simply load it. </li></ul>  At the beginning of the application generation, you can now use several new flags, including flags that allow you to skip the installation of components such as test-unit, Active Record, Prototype and Git.  In addition, thanks to the new <code>-dev</code> flag, when installing the application, the <code>Gemfile</code> is taken from the current Rails repository.  See <code>rails ‚Äìhelp</code> for help. <br><br>  Generators of various Railities have been given a huge amount of attention.  In short: <ul><li>  Generators have been rewritten from scratch and are no longer backward compatible. </li><li>  The template and generator APIs were connected together. </li><li>  Generators are no longer loaded from the special path (load path), but simply loaded from the load path (Ruby load path), so the <code>script/generate foo</code> call will do the same as <code>generators/foo_generator</code> </li><li>  Now you can easily connect any new template engine, ORM or testing framework to the generator. </li><li>  In the new generators, you can easily rewrite the original templates by simply putting the desired file in <code>RAILS_ROOT/lib/templates</code> . </li><li>  <code>Rails::Generators::TestCase</code> , thanks to which you can create and test your own generators. </li></ul>  In addition, the generated view also received some improvements: <ul><li>  In generated views, <code>div</code> tags are now used instead of <code>p</code> . </li><li>  When generating forms using scaffold, instead of duplicating the code in the edit and new views, the partial with the <code>_form</code> now used </li><li>  When generating forms using scaffold, <code>f.submit</code> is now used, which returns ‚ÄúCreate ModelName‚Äù or ‚ÄúUpdate ModelName‚Äù, depending on the state in which the object came </li></ul>  Finally, improvements have touched and rake tasks: <br><ul><li>  The <code>rake db:forward</code> task has been added, thanks to which you can now rotate the migrations forward individually or in groups. </li><li>  The task of <code>rake routes CONTROLLER=x</code> been added, which now allows you to view routes for one specific controller. </li></ul>  Found obsolete: <ul><li>  <code>RAILS_ROOT</code> in favor of <code>Rails.root</code> , </li><li>  <code>RAILS_ENV</code> in favor of <code>Rails.env</code> , </li><li>  <code>RAILS_DEFAULT_LOGGER</code> in favor of <code>Rails.logger</code> . </li></ul>  <code>PLUGIN/rails/tasks</code> and <code>PLUGIN/tasks</code> no longer loaded ‚Äî all tasks must be in the <code>PLUGIN/lib/tasks</code> directory. <br><br>  <b>Additional information</b> : <br><ul><li>  <a href="http://blog.plataformatec.com.br/2010/01/discovering-rails-3-generators">Discovering Rails 3 generators</a> </li><li>  <a href="http://caffeinedd.com/guides/331-making-generators-for-rails-3-with-thor">Making Generators for Rails 3 with Thor</a> </li><li>  <a href="http://litanyagainstfear.com/blog/2010/02/03/the-rails-module">The rails moduler</a> </li></ul><br><h2>  7. Action Pack </h2><br>  Action Pack has undergone significant internal and external changes. <br><br><h3>  7.1 Abstract Controller </h3><br>  From the <code>Action Controller</code> 'a to <code>Abstract Controller</code> , in the form of modules, the main parts were taken out, which can now be used to render templates, <code>partial</code> ' s, <code>helper</code> 's, internationalization, logging and any other part of the ‚Äúrequest-response‚Äù cycle.  Thanks to this abstraction, <code>ActionMailer::Base</code> now simply inherited from <code>Abstract Controller</code> 'a, being, as a wrapper, a wrapper over Rails DSL in the form of the Mail heme. <br><br>  The introduction in the <code>Abstract Controller</code> all that was possible, has greatly simplified the <code>Action Controller</code> .  However, it should be borne in mind that programmers will not be able to directly access <code>Abstract Controller</code> 's, this is not an API. <br><br>  More information - <a href="http://yehudakatz.com/2009/06/11/rails-edge-architecture/">Rails Edge Architecture</a> . <br><br><h3>  7.2 Action Controller </h3><ul><li>  The <code>application_controller.rb</code> now <code>protect_from_forgery</code> now set as default. </li><li>  <code>cookie_verifier_secret</code> been deprecated.  Now, instead you should refer to <code>Rails.application.config.cookie_secret</code> , and its implementation is now in a separate file <code>initializers/cookie_verification_secret.rb</code> </li><li>  <code>session_store</code> been moved to <code>initializers/session_store.rb</code> </li><li>  <code>cookies.secure</code> now allows you to set encrypted values ‚Äã‚Äãin the cookie hash: <code>cookie.secure[:key] =&gt; value</code> </li><li>  <code>cookies.permanent</code> now allows you to set constant values ‚Äã‚Äãin the cookie hash: <code>cookie.permanent[:key] =&gt; value</code> , which causes an exception if the verification was unsuccessful </li><li>  Now you can send <code>notice =&gt; ' flash-'</code> or <code>:alert =&gt; '-   '</code> to call <code>format</code> in the <code>respond_to</code> .  Hash <code>flash[]</code> still in service </li><li>  <code>respond_with</code> was added to the controllers, thereby simplifying outdated <code>format</code> blocks </li><li>  <code>ActionController::Responder</code> been added, with which you can flexibly generate responses (responses) </li></ul>  Found obsolete: <ul><li>  <code>filter_parameter_logging</code> in favor of <code>config.filter_parameters &lt;&lt; :password</code> </li></ul>  Additional Information: <ul><li>  <a href="http://www.engineyard.com/blog/2010/render-options-in-rails-3/">Render Options in Rails 3</a> </li><li>  <a href="http://weblog.rubyonrails.org/2009/8/31/three-reasons-love-responder">Three reasons to love ActionController :: Responder</a> </li></ul><br><h3>  7.3 Action Dispatch </h3><br>  Introduced in Rails 3.0, this new component is designed to greatly simplify routing. <br><ul><li>  after a strong cleaning and rewriting of routing, now the <code>router</code> is <code>rack_mount</code> over Rails DLS, i.e.  in fact, it is now a separate small application. </li><li>  Routes declared in the application are now in the application namespace.  Those.  now instead of: <br><blockquote> <code>ActionController::Routing::Routes.draw do <br> map.resources :posts <br> end <br></code> </blockquote>  Need to write: <blockquote> <code>AppName::Application.routes do <br> resources :posts <br> end</code> </blockquote> </li><li>  added <code>match</code> method, so now you can hang a Rack application on a suitable (matched) route </li><li>  added the method of <code>constraints</code> , giving the opportunity to protect their routes conditions </li><li>  added the <code>scope</code> method, with which you can place routes in namespaces (for example, for different languages ‚Äã‚Äãor special actions).  For example, the following code: <br><blockquote> <code>scope 'es' do <br> resources :projects, :path_names =&gt; { :edit =&gt; 'cambiar' }, :as =&gt; 'projeto' <br> end</code> </blockquote>  will call the <code>edit</code> method at <code>/es/projeto/1/cambiar</code> </li><li>  <code>root</code> method added as a shortcut to <code>match '/', :to =&gt; path</code> </li><li>  An optional segment can be passed to <code>match</code> .  So, in <code>match ‚Äú/:controller(/:action(/:id))(.:format)‚Äù</code> , any text enclosed in brackets is optional </li><li>  routes can be expressed as blocks, i.e.  Now for example you can write <code>:home { match '/:action' }</code> </li></ul>  It is important to remember that the outdated <code>map</code> commands are still in service, but with the advent of 3.1 they will disappear completely. <br>  Found obsolete: <br><ul><li>  the host for all non-REST applications ( <code>/:controller/:action/:id</code> ) was commented out </li><li>  <code>:path_prefix</code> for routes is removed, but <code>:name_prefix</code> now automatically adds "_" at the end of the passed value </li></ul>  Additional Information: <ul><li>  <a href="http://yehudakatz.com/2009/12/26/the-rails-3-router-rack-it-up/">The Rails 3 Router: Rack it Up</a> </li><li>  <a href="http://rizwanreza.com/2009/12/20/revamped-routes-in-rails-3">Revamped Routes in Rails 3</a> </li><li>  <a href="http://yehudakatz.com/2009/12/20/generic-actions-in-rails-3/">Generic Actions in Rails 3</a> </li></ul><h3>  7.4 Action View </h3><br><h4>  7.4.1 Unobtrusive JavaScript </h4><br>  Helpers underwent significant revisions in the Action View: hooks for Unobtrusive JavaScript (UJS) were introduced, and the old inline-AJAX teams have sunk into oblivion.  Thus, in Rails, you can now use any UJS driver to implement UJS hooks in helpers. <br><br>  This means that all previously existing <code>remote_</code> helpers <code>remote_</code> been removed from the rails, and are now in the special <a href="http://github.com/rails/prototype_legacy_helper">Prototype Legacy Helper</a> .  Now, to access the UJS hooks, just pass <code>:remote =&gt; true</code> .  So, for example: <br><blockquote> <code>form_for @post, :remote =&gt; true</code> <br> </blockquote>  will return: <br><blockquote> <code>form action="http://host.com" id="create-post" method="post" data-remote="true"</code> <br> </blockquote><br><h4>  7.4.2 Block Helpers </h4><br>  <code>form_for</code> such as <code>form_for</code> or <code>div_for</code> , which insert content from the block now use <code>&lt;%=</code> : <br><blockquote> <code>&lt;%= form_for @post do |f| %&gt; <br> ... <br> &lt;% end %&gt;</code> <br> </blockquote><br>  Your own helpers of this type will return the string and not add the output manually to the output buffer. <br><br>  Other helpers, such as <code>cache</code> and <code>content_for</code> , have remained intact. <br><br><h4>  7.4.3 Other changes </h4><ul><li>  You no longer need to call <code>h(String)</code> to filter HTML - now all views are generated with default filtering.  In order to pass an unfiltered string, you need to call <code>raw(string)</code> . </li><li>  Helpers now return HTML5 markup. </li><li>  The <code>label</code> helper now retrieves data from I18n with one parameter, i.e.  <code>f.label :name</code> will immediately return the translated <code>:name</code> . </li><li>  Select for I18n is now called as <code>:en.helpers.select</code> instead of <code>:en.support.select</code> . </li><li>  You no longer need to put a minus sign in the closing tag of the ERb-template in order to avoid the translation deadlines. </li><li>  The <code>grouped_collection_select</code> helper has been added to ActionView. </li><li>  Added <code>content_for?</code> method <code>content_for?</code>  to check before rendering whether content exists. </li><li>  By passing <code>:value =&gt; nil</code> for form helpers, you set the field value to <code>nil</code> instead of using the default value. </li><li>  Passing <code>:id =&gt; nil</code> for form helpers the attribute <code>id</code> will not be generated. </li><li>  By passing <code>:alt =&gt; nil</code> for the image_tag helper, you set the field value to <code>nil</code> instead of using the default value. </li></ul><h2>  8 Active Model </h2><br>  Active Model is a new component of Rails 3.0.  Now, any ORM library can interact with Rails - you just need to implement the Active Model interface, which is only an abstract layer. <br><br><h3>  8.1 ORM Abstraction and Action Pack Interface </h3><br>  Part of the work of disrupting the core components of Rails was to extract all the links in Active Record from the Action Pack.  Now that this is complete, any ORM library need only implement the Active Model interfaces in order to simply access Active Record. <br><br>  <b>Additional information</b> - <a href="http://yehudakatz.com/2010/01/10/activemodel-make-any-ruby-object-feel-like-activerecord/">Make Any Ruby Object Feel Like ActiveRecord</a> <br><br><h3>  8.2 </h3><br>    Active Record  Active Model,        ORM . <br><br>    <code>validates :attribute, options_hash</code> . <br><br>  <code>options_hash</code>      ,  : <ul><li> <code>:acceptance =&gt; Boolean</code> </li> <li> <code>:confirmation =&gt; Boolean</code> </li> <li> <code>:exclusion =&gt; { :in =&gt; Ennumerable }</code> </li> <li> <code>:inclusion =&gt; { :in =&gt; Ennumerable }</code> </li> <li> <code>:format =&gt; { :with =&gt; Regexp, :on =&gt; :create }</code> </li> <li> <code>:length =&gt; { :maximum =&gt; Fixnum }</code> </li> <li> <code>:numericality =&gt; Boolean</code> </li> <li> <code>:presence =&gt; Boolean</code> </li> <li> <code>:uniqueness =&gt; Boolean</code> </li> </ul> :        ‚Äî        (  ) . <br><br>    -,        ActiveModel.  For example: <blockquote> <code>class TitleValidator &lt; ActiveModel::EachValidator <br> Titles = ['Mr.', 'Mrs.', 'Dr.'] <br> <br> def validate_each(record, attribute, value) <br> unless Titles.include?(value) <br> record.errors[attribute] &lt;&lt; 'must be a valid title' <br> end <br> end <br> end <br> <br> class Person <br> include ActiveModel::Validations <br> <br> attr_accessor :title <br> validates :title, :presence =&gt; true, :title =&gt; true <br> end <br></code> <br></blockquote>     Active Record: <blockquote> <code>class Person &lt; ActiveRecord::Base <br> validates :title, :presence =&gt; true, :title =&gt; true <br> end <br></code> <br></blockquote><br>  <b>Additional information</b> : <br><ul><li> <a href="http://thelucid.com/2010/01/08/sexy-validation-in-edge-rails-rails-3/">Sexy Validation in Rails 3</a> </li><li> <a href="http://lindsaar.net/2010/1/31/validates_rails_3_awesome_is_true">Rails 3 Validations Explained</a> </li></ul><h2> 9. Active Record </h2><br>  Active Record  Rails 3    :   Active Model,       Arel,       .   API  Rails 2.x     ,    Rails 3.1    . <br><br><h3> 9.1   </h3><br>    Active Record,   Arel,   <code>relation</code> .  API     Rails 3.1,        Rails 3.2.   ,     ,  : <ul><li> <code>where</code> ‚Äî    reletion, ..   . </li><li> <code>select</code> ‚Äî     . </li><li> <code>group</code> ‚Äî  relation   . </li><li> <code>having</code> ‚Äî  <code>GROUP BY</code>  SQL. </li><li> <code>joins</code> ‚Äî   relation'a   . </li><li> <code>clause</code> ‚Äî  <code>JOIN</code>  SQL. </li><li> <code>includes</code> ‚Äî  ,   ralations. </li><li> <code>order</code> ‚Äî  relation   . </li><li> <code>limit</code> ‚Äî      relation. </li><li> <code>lock</code> ‚Äî     . </li><li> <code>readonly</code> ‚Äî       ¬´  ¬ª. </li><li> <code>from</code> ‚Äî    relation'a     . </li><li> <code>scope</code> ‚Äî ( <code>named_scope</code> )   relation. </li><li> <code>with_scope</code> ‚Äî   <code>with_exclusive_scope</code> ,    relation. </li><li> <code>default_scope</code> ‚Äî    relation' </li></ul>  <b>Additional information</b> : <blockquote><ul><li> <a href="http://m.onkey.org/2010/1/22/active-record-query-interface">Active Record Query Interface</a> </li><li> <a href="http://hasmanyquestions.wordpress.com/2010/01/17/let-your-sql-growl-in-rails-3/">Let your SQL Growl in Rails 3</a> </li></ul></blockquote><br><h3> 9.2   </h3><br><ul><li>  <code>:destroyed?</code>   Active Record </li><li>  <code>:inverse_of</code>  ,          </li></ul><br><h3> 9.3     </h3><br>    ,   Active Record    : <ul><li>  SQLite 2    SQLite 3. </li><li>       MySQL. </li><li>    PostgreSQL  <code>TIME_ZONE</code> ‚Äî    . </li><li>       PostgreSQL. </li><li> <code>table_name</code>  . </li><li>   ,         Oracle. </li></ul>  ,     : <ul><li> <code>named_scope</code>  Active Record      <code>scope</code> </li><li>   <code>scope</code>    relation'     <code>:condition =&gt; {}</code> . : <code>:since, lambda {|time| where(‚Äúcreated_at &gt; ?‚Äù, time) }</code> </li><li> <code>save(false)</code>     <code>save(:validate =&gt; false)</code> </li><li>  I18n    Active Record    <code>:en.activerecord.errors.template</code>  <code>:en.errors.template</code> </li><li> <code>model.errors.on</code>     <code>model.errors[]</code> </li><li> <code>validates_presence_of</code>   <code>:presence =&gt; true</code> </li><li> <code>ActiveRecord::Base.colorize_logging</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and </font></font><code>config.active_record.colorize_logging</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">are deemed obsolete in favor of </font></font><code>Rails::Subscriber.colorize_logging</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">or </font></font><code>config.colorize_logging</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li></ul><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It should be noted that the last few months being developed so-called. </font><font style="vertical-align: inherit;">State Machine is not included in Rails 3.0.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 10. Active Resourse </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Active Resourse was also extracted in Active Model, which made it easy to use Active Resourse objects in the Action Pack. </font></font><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Added validations thanks to Active Model. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Added observing hooks. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> HTTP proxy support </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Added support for digest authentication. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Model naming moved to Active Model. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Active Resource attributes are changed to a random access hash. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Added alias-methods </font></font><code>first</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>last</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and </font></font><code>all</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for the relevant scope.</font></font></li><li> <code>find_every</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no longer returns an error </font></font><code>ResourceNotFound</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if nothing is found</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Added </font></font><code>save!</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, which returns </font></font><code>ResourceInvalid</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in case the object is not</font></font><code>valid?</code>  . </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In ActiveResource models added to the methods </font></font><code>update_attribute</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and </font></font><code>update_attributes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now, for loading remote errors, </font><font style="vertical-align: inherit;">Active Resours'a is </font></font><code>content-type</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">used </font></font><code>format</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">instead.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For a schema block, it is used </font></font><code>instance_eval</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fixed </font></font><code>ActiveResource::ConnectionError#to_s</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">where </font></font><code>@response</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">did not respond to #code or #message (...).</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Added support for errors in JSON format. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Work </font></font><code>load</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">with arrays of numbers is </font><font style="vertical-align: inherit;">provided </font><font style="vertical-align: inherit;">.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Answer 410 from a remote source, in case it was deleted, is now recognized correctly. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> In the Active Resouce option added SSL options. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setting the timeout for the connection now also affects </font></font><code>Net::HTTP</code> <code>open_timeout</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li></ul><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Found obsolete: </font></font><ul><li> <code>save(false)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> declared obsolete in favor </font></font><code>save(:validate =&gt; false)</code> </li><li> Ruby 1.9.2: <code>URI.parse</code>  <code>.decode</code>         </li></ul><br><h2> 11. Active Support </h2><br>        Active Support,          Active Support   ,   -    .  ,    Rails    . <br><ul><li>     ,       </li><li> Active Support      <a href="http://tzinfo.rubyforge.org/">TZInfo</a> , <a href="http://deveiate.org/projects/RMemCache/">Memchache Client</a>  <a href="http://builder.rubyforge.org/">Bundle</a> :      ,    <code>gem bundle</code> </li><li>  ActiveSupport::SafeBuffer </li><li>  <code>Array.uniq_by</code>  <code>Array.uniq_by!</code> </li><li>  ,   <code>TimeZone.seconds_to_utc_offset</code>    </li><li>   <code>ActiveSupport::Notifications</code> </li><li> <code>ActiveSupport.use_standard_json_time_format</code>    <code>true</code> </li><li> <code>ActiveSupport.escape_html_entities_in_json</code>    <code>true</code> </li><li> <code>Integer#multiple_of?</code>      ,       ‚Äî  <code>false</code> </li><li> <code>string.chars</code>   <code>string.mb_chars</code> </li><li> <code>ActiveSupport::OrderedHash</code>    -  YAML </li><li>     SAX  XmlMini,   LibXML  Nokogiri </li><li>   <code>Object#presence</code> ,       ( ‚Äî <code>nil</code> ) </li><li>   <code>String#exclude?</code>    <code>include?</code> </li><li>   <code>to_i</code>  <code>DateTime</code> ,  <code>Active Support</code> ,    <code>to_yaml</code>       <code>DateTime</code> </li><li>   <code>Enumerable#exclude?</code>    <code>Enumerable#include?</code> ,      <code>!x.include?</code> </li><li> XSS      </li><li>      <code>ActiveSupport::HashWithIndifferentAccess</code> </li><li> <code>Enumerable#sum</code>     ,       <code>:size</code> </li><li> <code>inspect</code>          <code>0</code> </li><li>  <code>modelname</code>  <code>element</code>  <code>collection</code> </li><li> <code>String#to_time</code>  <code>String#to_datetime</code>    </li><li>      -,   <code>:before</code>  <code>:after</code> ,      </li><li>  <code>ActiveSupport::OrderedHash#to_a</code>     (  <code>Hash#to_a</code>  Ruby 1.9) </li><li> <code>MissingSourseFile</code>    ,      <code>LoadError</code> </li><li>  <code>Class#class_attribute</code> ,       ,          </li><li> -  <code>ActiveRecord</code>  <code>DeprecatedCallbacks</code> </li></ul>      ,      Ruby 1.8.7  Ruby 1.9: <ul><li> <code>Integer#even?</code> and <code>Integer#odd?</code> </li><li> <code>String#each_char</code> </li> <li> <code>String#start_with?</code>  <code>String#end_with?</code> (3rd person aliases still kept) </li><li> <code>String#bytesize</code> </li> <li> <code>Object#tap</code> </li> <li> <code>Symbol#to_proc</code> </li> <li> <code>Object#instance_variable_defined?</code> </li> <li> <code>Enumerable#none?</code> </li> </ul>    REXML   Active Support,     Ruby 1.8.7     . Active Support ,    ,   . <br><br>       : <ul><li> <code>Object#remove_subclasses_of</code> , <code>Object#subclasses_of</code> , <code>Object#extend_with_included_modules_from</code> <code>Object#extended_by</code> </li><li> <code>Class#subclasses</code> , <code>Class#reachable?</code> , <code>Class#remove_class</code> </li><li> <code>Regexp#number_of_captures</code> </li> <li> <code>Regexp.unoptionalize</code> , <code>Regexp.optionalize</code> , <code>Regexp#number_of_captures</code> </li></ul><h2> 12. Action Mailer </h2><br>   TMail   <a href="http://github.com/mikel/mail">Mail</a> , Action Mailer    API.   , Action Mailer    .    ,  Action Mailer    Abstract Controller'a,    Mail gem.          Action Mailer. <br><ul><li>         <code>app/mailers</code> </li><li>    email,   API   : <code>attachments</code> , <code>headers</code>  <code>mail</code> </li><li>   Action Mailer,       Mail::Message,        <code>deliver</code> </li><li>             </li><li>         <code>respond_block</code>  Action Contoller'e,          .  , Action Mailer      ,   </li><li>   proc   <code>format.mime_type</code>  mail-,        ,       </li><li>  unit- mailer'     </li></ul>   <ul><li> <code>:charset</code> , <code>:content_type</code> , <code>:mime_version</code> , <code>:implicit_parts_order</code>         <code>ActionMailer.default :key =&gt; value</code> </li><li>   <code>create_method_name</code>  <code>deliver_method_name</code>    ‚Äî   <code>method_name</code> ,    <code>Mail::Message</code> . </li><li> <code>ActionMailer.deliver(message)</code> ,   <code>message.deliver</code> . </li><li> <code>template_root</code>  ‚Äî       Proc-   <code>format.mime_type</code>    <code>mail</code> . </li><li>  <code>body</code> ,   instance-    ( <code>body {:ivar =&gt; value}</code> ),      instance-    ‚Äî     . </li><li>      <code>app/models</code>  <code>app/mailer</code> . </li></ul>  <b>Additional information</b> : <ul><li> <a href="http://lindsaar.net/2010/1/26/new-actionmailer-api-in-rails-3">New Action Mailer API in Rails 3</a> </li><li> <a href="http://lindsaar.net/2010/1/23/mail-gem-version-2-released">New Mail Gem for Ruby</a> </li></ul><h2> 13.  </h2><br>    <a href="http://contributors.rubyonrails.org/">  </a> ,         Rails 3.     ! <br><br>  <i><b>Ps.</b></i> <i> ,          .</i> <br> <i><b>PPS.</b>  <a href="https://habrahabr.ru/users/maratk/" class="user_link">maratk</a>     !</i> </div><p>Source: <a href="https://habr.com/ru/post/102966/">https://habr.com/ru/post/102966/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../102956/index.html">Low cost marker board</a></li>
<li><a href="../102960/index.html">Google has trouble purchasing ITA Software</a></li>
<li><a href="../102962/index.html">EMS Russian Post opens the veil of secrecy</a></li>
<li><a href="../102964/index.html">application authorization and data signing scheme based on OAuth 2.0</a></li>
<li><a href="../102965/index.html">Linux, School, small town</a></li>
<li><a href="../102969/index.html">1990 vs. 2010</a></li>
<li><a href="../102972/index.html">My favorite hosting is dreamhost.com</a></li>
<li><a href="../102984/index.html">Rostelecom forgot to renew ssl-certificate gosuslugi.ru</a></li>
<li><a href="../102991/index.html">Bringing the look of Ubuntu to Windows 7</a></li>
<li><a href="../102993/index.html">I am looking for an adequate employer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>