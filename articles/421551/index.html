<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Mastering Vuex - from Zero to Hero</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! I present to your attention the translation of the article ‚ÄúMastering Vuex - Zero to Hero‚Äù by Sanath Kumar. 


 The official Vuex documentat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Mastering Vuex - from Zero to Hero</h1><div class="post__text post__text-html js-mediator-article"><p>  Hi, Habr!  I present to your attention the translation of the article <a href="https://medium.com/dailyjs/mastering-vuex-zero-to-hero-e0ca1f421d45">‚ÄúMastering Vuex - Zero to Hero‚Äù</a> by Sanath Kumar. </p><br><p>  The official Vuex documentation defines it as a <b>state management pattern</b> + library for Vue.js applications.  <i>But what does it mean?</i>  <i>What is a state management pattern?</i> </p><br><p>  Imagine you are working on a large web application with hundreds of routes and components.  Wouldn't it be easier if we could store all the data we would ever need in an application in one centralized vault? </p><br><img src="https://habrastorage.org/webt/dm/rc/t5/dmrct5ro7paby7tugthhzagynxw.jpeg"><a name="habracut"></a><br><p>  Each component or route within our application will request data from the Vuex state and send the modified data back to the state. </p><br><p>  In fact, the state of Vuex can be considered as the only source of truth for the entire application. </p><br><p>  Data is stored inside the state as a JSON object.  For example: </p><br><pre><code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">state</span></span>: { <span class="hljs-attribute"><span class="hljs-attribute">name</span></span>: <span class="hljs-string"><span class="hljs-string">"John Doe"</span></span>, age: <span class="hljs-string"><span class="hljs-string">"28"</span></span> }</code> </pre> <br><p>  But how can our components and routes access data stored in our state?  To do this, inside our Vuex repository, you must define <b>getters</b> that will return data from the repository to our components.  Let's see what a simple <b>Getter</b> looks like that gets its name from our repository: </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">getters</span></span>: { <span class="hljs-attribute"><span class="hljs-attribute">NAME</span></span>: state =&gt; { return state.name; }, }</code> </pre> <br><p>  Note that the name of the getter is written in capital letters.  This is just a code style recommendation.  You don‚Äôt have to follow it if you don‚Äôt like it. </p><br><p>  Now that we have defined a getter for a name, it is incredibly easy to get the value of the name inside our component.  The following snippet presents the code that allows this. </p><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> name = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$store.getters.NAME;</code> </pre> <br><p>  We figured out how <b>to get</b> data from the repository.  Now let's see how we can <b>set the</b> data in the repository.  We define setters, right?  In addition, Vuex setters are named a little differently.  We define <b>Mutation</b> for setting data in our Vuex state. </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">mutations</span></span>: { <span class="hljs-attribute"><span class="hljs-attribute">SET_NAME</span></span>: (state, payload) =&gt; { state.name = payload; }, }</code> </pre> <br><p>  What kind of payload?  <b>Payload</b> is the data passed to our mutation from the component that performs the mutation.  How can we do this?  Very simple: </p><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$store.commit(<span class="hljs-string"><span class="hljs-string">'SET_NAME'</span></span>, your_name);</code> </pre> <br><p>  This code snippet will change the state of the application and set any value assigned to <i>your_name</i> for the name property inside our repository. </p><br><p>  MUTATIONS SYNCHRONNY </p><br><p>  Imagine that we have a list of names stored in a database on a remote server.  The server provides us with an endpoint that returns an array of names that can be used in our application Vue.js.  Of course, we can use <b>Axios</b> to make an endpoint request and retrieve data. </p><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> {data} = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Axios.<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(<span class="hljs-string"><span class="hljs-string">'https://myapiendpoint.com/api/names'</span></span>);</code> </pre> <br><p>  After that, we can pass the returned array to our store Vuex state using a mutation.  Easy, right?  But not really.  Mutations are synchronous, and we cannot run asynchronous operations, such as API calls, within the mutation. </p><br><p>  What should we do in this case?  Create <b>Actions</b> . </p><br><p>  Actions are like mutations, but instead of changing the state directly, they mutate.  Sounds confusing?  Let's look at the action announcement. </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">actions</span></span>: { <span class="hljs-attribute"><span class="hljs-attribute">SET_NAME</span></span>: (context, payload) { context.<span class="hljs-built_in"><span class="hljs-built_in">commit</span></span>(<span class="hljs-string"><span class="hljs-string">'SET_NAME'</span></span>, payload); }, }</code> </pre> <br><p>  We defined an action named SET_NAME that takes context and <i>payload</i> as parameters.  The action performs the SET_NAME mutation created earlier with the data passed to it, that is, <b>your_name</b> . </p><br><p>  Now, instead of calling the mutation directly, our components launch the SET_NAME action with the new name as data: </p><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$store.dispatch(<span class="hljs-string"><span class="hljs-string">'SET_NAME'</span></span>, your_name);</code> </pre> <br><p>  Then the action initiates a mutation with the data passed to it, that is, <i>your_name</i> . </p><br><br><h2>  But why? </h2><br><p>  You may wonder why an action declaration is required if we can simply initiate mutations with a new value directly from our components.  As mentioned above, mutations are synchronous, but actions are not. </p><br><p>  In the example above, a case is considered when you need to update the value of a name, not only in its state, but also in the database running on a remote server.  I'm sure that this is how you intend to use Vuex in a real project 99% of the time.  Take a look at the following code snippet: </p><br><pre> <code class="hljs pgsql">mutations: { SET_NAME: (state, <span class="hljs-type"><span class="hljs-type">name</span></span>) =&gt; { state.name = <span class="hljs-type"><span class="hljs-type">name</span></span>; }, }, actions: { SET_NAME: async (context, <span class="hljs-type"><span class="hljs-type">name</span></span>) =&gt; { let {data} = await Axios.post(<span class="hljs-string"><span class="hljs-string">'http://myapiendpoint.com/api/name'</span></span>, {<span class="hljs-type"><span class="hljs-type">name</span></span>: <span class="hljs-type"><span class="hljs-type">name</span></span>}); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (data.status == <span class="hljs-number"><span class="hljs-number">200</span></span>) { context.<span class="hljs-keyword"><span class="hljs-keyword">commit</span></span>(<span class="hljs-string"><span class="hljs-string">'SET_NAME'</span></span>, <span class="hljs-type"><span class="hljs-type">name</span></span>); } }, }</code> </pre> <br><p>  The code itself does not require explanation.  We use Axios to send a name to the endpoint.  If the POST request was successful and the value of the field name was successfully changed on the server, we initiate the SET_ NAME mutation to update the value of the name within our state. </p><br><p>  TAKE PLAYING FOR PRACTICE NEVER INITIATE MUTATIONS DIRECTLY.  FOR THIS, ALWAYS USE ACTIONS. </p><br><br><h2>  Configuring Vuex Storage in Vue.JS </h2><br><p>  Let's dive deeper and find out how we can implement Vuex in a real application. </p><br><h3>  Step 1. Install Vuex </h3><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> <span class="hljs-comment"><span class="hljs-comment">--save vuex</span></span></code> </pre> <br><h3>  Step 2. Create the Vuex repository </h3><br><ol><li>  Create a <b>store</b> directory in the root of our application. </li><li>  Create an <b>index.js</b> file in this directory and use the code below to create a new repository. </li></ol><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Vue <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'vue'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Vuex <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'vuex'</span></span>; Vue.use(Vuex); <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> store = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vuex.Store({ <span class="hljs-attr"><span class="hljs-attr">state</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">getters</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">mutations</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">actions</span></span>: {}, });</code> </pre> <br><h3>  Step 3. Adding the Vuex repository to the Vue.JS application </h3><br><p>  1. Import the <b>repository</b> into the main.js file: </p><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {store} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./store'</span></span>;</code> </pre> <br><p>  2. Add the <b>repository</b> to the Vue instance, as shown below: </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">new</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vue</span></span>({ <span class="hljs-attribute"><span class="hljs-attribute">el</span></span>: <span class="hljs-string"><span class="hljs-string">'#app'</span></span>, store, router, render: h =&gt; <span class="hljs-built_in"><span class="hljs-built_in">h</span></span>(App), });</code> </pre> <br><p>  Now we can add state variables, getters, mutations, and actions to our Vuex repository. </p>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Example </h2><br><p>  Take a look at the Vuex repository for a simple to-do list application.  ‚ÄúJust not another to-do list !!!‚Äù.  Yes?  Do not worry.  At the end of this article, you will learn to use all the power and strength of Vuex. </p><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Vue <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'vue'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Vuex <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'vuex'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Axios <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'axios'</span></span>; Vue.use(Vuex); <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> store = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vuex.Store({ <span class="hljs-attr"><span class="hljs-attr">state</span></span>: { <span class="hljs-attr"><span class="hljs-attr">todos</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, }, <span class="hljs-attr"><span class="hljs-attr">getters</span></span>: { <span class="hljs-attr"><span class="hljs-attr">TODOS</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> state.todos; }, }, <span class="hljs-attr"><span class="hljs-attr">mutations</span></span>: { <span class="hljs-attr"><span class="hljs-attr">SET_TODO</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, payload</span></span></span><span class="hljs-function">) =&gt;</span></span> { state.todos = payload; }, <span class="hljs-attr"><span class="hljs-attr">ADD_TODO</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, payload</span></span></span><span class="hljs-function">) =&gt;</span></span> { state.todos.push(payload); }, }, <span class="hljs-attr"><span class="hljs-attr">actions</span></span>: { <span class="hljs-attr"><span class="hljs-attr">GET_TODO</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> (context, payload) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> {data} = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Axios.get(<span class="hljs-string"><span class="hljs-string">'http://yourwebsite.com/api/todo'</span></span>); context.commit(<span class="hljs-string"><span class="hljs-string">'SET_TODO'</span></span>, data); }, <span class="hljs-attr"><span class="hljs-attr">SAVE_TODO</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> (context, payload) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> {data} = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Axios.post(<span class="hljs-string"><span class="hljs-string">'http://yourwebsite.com/api/todo'</span></span>); context.commit(<span class="hljs-string"><span class="hljs-string">'ADD_TODO'</span></span>, payload); }, }, });</code> </pre> <br><br><h2>  Adding a new item to the to-do list </h2><br><p>  Inside your component, initiate the SAVE_TODO action by passing a new to-do item to it, as shown in the code snippet below. </p><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> item = <span class="hljs-string"><span class="hljs-string">'Get groceries'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$store.dispatch(<span class="hljs-string"><span class="hljs-string">'SAVE_TODO'</span></span>, item);</code> </pre> <br><p>  The <b>SAVE_TODO</b> action makes a POST request to the endpoint, and then triggers the <b>ADD_TODO mutation</b> , which adds a to-do item to the state variable <b>todos</b> . </p><br><br><h2>  Getting To Do List Items </h2><br><p>  Inside the component's <b>mounted ()</b> block, initiate the second action <b>GET_TODO</b> , which takes all the elements of the to-do list from the endpoint and saves them to the <i>todos</i> state variable, triggering the SET_TODO mutation: </p><br><pre> <code class="hljs kotlin">mounted() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$store.dispatch(<span class="hljs-string"><span class="hljs-string">'GET_TODO'</span></span>); }</code> </pre> <br><br><h2>  Access to to-do items within a component </h2><br><p>  To access the <i>todos</i> element inside a component, create a calculated property: </p><br><pre> <code class="hljs kotlin">computed: { todoList() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$store.getters.TODOS; }, }</code> </pre> <br><p>  Inside the component, you can access the calculated property: </p><br><pre> <code class="hljs javascript">&lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"todo-item"</span></span> v-<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>=<span class="hljs-string"><span class="hljs-string">"item in todoList"</span></span>&gt;<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br><br><h2>  Using the mapGetters method </h2><br><p>  There is an even easier way to access to-do items within a component using the <b>mapGetters</b> method provided by Vuex. </p><br><pre> <code class="hljs scala"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {mapGetters} from <span class="hljs-symbol"><span class="hljs-symbol">'vuex</span></span>; computed : { ...mapGetters([<span class="hljs-symbol"><span class="hljs-symbol">'TODO</span></span>S']), <span class="hljs-comment"><span class="hljs-comment">//    }</span></span></code> </pre> <br><p>  You may have already guessed that the code inside the template should be changed, as shown in the snippet below. </p><br><pre> <code class="hljs javascript">&lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"todo-item"</span></span> v-<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>=<span class="hljs-string"><span class="hljs-string">"item in TODOS"</span></span>&gt;<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br><p>  Notice how we used the ES6 propagation operator [...] within our computed properties. </p><br><p>  VUEX STORAGE IS NOT A SIMPLE SOURCE OF THE CURRENT STATE OF YOUR APP.  IT ALSO IS THE ONLY POINT THAT MUST CHANGE THIS CONDITION. </p><br><p>  This requires a little explanation.  We have already learned how to create actions for <b>getting</b> and <b>installing to-do</b> items in our repository.  What if we need to update an item and tag it?  Where do we run the code for this? </p><br><p>  On the Internet, you can find different opinions on this subject.  The documentation also does not have clear instructions regarding this. </p><br><p>  I would recommend storing all API calls inside actions in your Vuex repository.  Thus, each state change occurs only inside the repository, thus making it easier to debug and simplify understanding of the code, and also makes editing the code easier. </p><br><br><h2>  Code organization </h2><br><p>  Saving all state variables, getters, actions and mutations in one file will quickly make it cumbersome as soon as you start working with large applications.  Let's see how you can organize the repository in several files as modules. </p><br><p>  Create a new directory inside your repository and name it <i>modules</i> .  Add <i>todos.js</i> file containing the following code in the created directory: </p><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> state = {}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> getters = {}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mutations = {}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> actions = {}; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> { state, getters, mutations, actions, };</code> </pre> <br><p>  Now we can move state variables, getters, mutations, and actions from the <b>index.js</b> file to the <b>todos.js</b> file.  Do not forget to import <b>Axios</b> .  All we have to do is let Vuex know that we have created a storage module and where to find it.  The updated <i>index.js</i> file should look something like this: </p><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Vue <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'vue'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Vuex <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'vuex'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Axios <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'axios'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> todos <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./modules/todos'</span></span>; Vue.use(Vuex); <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> store = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vuex.Store({ <span class="hljs-attr"><span class="hljs-attr">state</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">getters</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">mutations</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">actions</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">modules</span></span>: { todos, }, });</code> </pre> <br><p>  The <b>todos.js</b> file will look like this: </p><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Axios <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'axios'</span></span>; state = { <span class="hljs-attr"><span class="hljs-attr">todos</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, }; getters = { <span class="hljs-attr"><span class="hljs-attr">TODOS</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> state.todos; }, }; mutations = { <span class="hljs-attr"><span class="hljs-attr">SET_TODO</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, payload</span></span></span><span class="hljs-function">) =&gt;</span></span> { state.todos = payload; }, <span class="hljs-attr"><span class="hljs-attr">ADD_TODO</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, payload</span></span></span><span class="hljs-function">) =&gt;</span></span> { state.todos.push(payload); }, }; actions = { <span class="hljs-attr"><span class="hljs-attr">GET_TODO</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> (context, payload) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> {data} = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Axios.get(<span class="hljs-string"><span class="hljs-string">'http://yourwebsite.com/api/todo'</span></span>); context.commit(<span class="hljs-string"><span class="hljs-string">'SET_TODO'</span></span>, data); }, <span class="hljs-attr"><span class="hljs-attr">SAVE_TODO</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> (context, payload) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> {data} = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Axios.post(<span class="hljs-string"><span class="hljs-string">'http://yourwebsite.com/api/todo'</span></span>); context.commit(<span class="hljs-string"><span class="hljs-string">'ADD_TODO'</span></span>, payload); }, }; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> { state, getters, mutations, actions, };</code> </pre> <br><br><h2>  Summary </h2><br><ol><li>  Application state is stored as one large JSON object. </li><li>  <b>Getters</b> are used to access values ‚Äã‚Äãstored in the repository. </li><li>  <b>Mutations</b> update your condition.  It should be remembered that the mutations are synchronous. </li><li>  All asynchronous operations must be performed inside <b>actions</b> .  Actions change state by initiating mutations. </li><li>  Make it a rule to initiate <b>mutations</b> exclusively through <b>actions</b> . </li><li>  <b>Modules</b> can be used to organize your repository in several small files. </li></ol><br><p>  Vuex makes working with Vue much easier and more fun.  If you are a beginner, it may be difficult for you to decide whether to use Vuex in certain areas of your application.  Follow your instinct.  You will reach high speed pretty quickly. </p></div><p>Source: <a href="https://habr.com/ru/post/421551/">https://habr.com/ru/post/421551/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../421537/index.html">Higher Order Functions in JS: Young Fighter Course</a></li>
<li><a href="../421543/index.html">Clone a contactless card using a mobile application</a></li>
<li><a href="../421545/index.html">Review of PocketBook 616 - the most affordable PocketBook 2018 with backlight function</a></li>
<li><a href="../421547/index.html">Independent Acceptance of Data Center</a></li>
<li><a href="../421549/index.html">We write technical documentation: a guide for the layman</a></li>
<li><a href="../421553/index.html">We share technological content: collected all our materials on one site</a></li>
<li><a href="../421555/index.html">Project wideNES - go beyond the NES screen</a></li>
<li><a href="../421557/index.html">Open lesson "Asynchronous programming in Java"</a></li>
<li><a href="../421559/index.html">Component UI architecture in iOS application</a></li>
<li><a href="../421561/index.html">12 questions about scooters that are not ashamed to ask</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>