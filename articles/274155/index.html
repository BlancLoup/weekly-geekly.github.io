<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Asterisk: every bell as a bouncing ball</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In these pre-holiday days, when one has to partly spend time at work, but changes to work systems are no longer made, for ‚Äúsoon holidays, who needs yo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Asterisk: every bell as a bouncing ball</h1><div class="post__text post__text-html js-mediator-article">  In these pre-holiday days, when one has to partly spend time at work, but changes to work systems are no longer made, for ‚Äúsoon holidays, who needs your fresh bugs?‚Äù, You can do cutting out stars and paper snowflakes and small experiments. <br><br>  In general, we have heard such an expression more than once: ‚Äúmy call was kicked like a ball from an operator to an operator, and in the end they kicked it off,‚Äù or maybe even they themselves once said this in their hearts.  And it was thought, but if you imagine a bell as a jumping ball from wall to wall, and since we have several dozen calls on an asterisk all at once, this should look at least amusing. <br><br>  What happened?  Further details and a small video. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/5f5/17d/e28/5f517de28fdce4a6cbcbe63f3b407727.png" alt="image"><br><a name="habracut"></a><br><h4>  How is everything here? </h4><br>  The easiest way.  When a call is made by the Dial application in the asterisk by the Dial application, a Dial <a href="https://wiki.asterisk.org/wiki/display/AST/Asterisk%2B11%2BManagerEvent_Dial">event</a> (subevent: begin) is thrown in AMI, and when such a call ends, the Dial event (subevent: end) occurs. <br><br>  Those.  we write a small web server to node.js, which listens to these events in AMI and then sends them to all browsers that went to the web page and connected to websockets. <br><br>  To display the jumping balls on the web page in html5 canvas, we use the <a href="http://konvajs.github.io/">konva</a> library.  The speed and direction of movement, as well as the color of the balls are random in the allowed interval. <br><br><h4>  How to install? </h4><br>  I use ubuntu 14.04 <br><br>  1. Clone the repository: <br><br><pre><code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/antirek/bounce-call.git</code> </pre> <br>  2. Go to the bounce-call directory and install the dependencies: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> bounce-call npm install &amp;&amp; bower install</code> </pre><br>  3. <b>Edit the config.js</b> file: <br><br><pre> <code class="javascript hljs">{ <span class="hljs-attr"><span class="hljs-attr">port</span></span>: <span class="hljs-number"><span class="hljs-number">3100</span></span>, <span class="hljs-comment"><span class="hljs-comment">// - asterisk: { //   manager.conf  host: 'localhost', port: 5038, username: 'admin', password: 'admin' } };</span></span></code> </pre><br>  4. Run the application: <br><br><pre> <code class="bash hljs">node app.js</code> </pre><br>  And if everything worked out for you, then balls should start flying in your browser, appearing at the initiation of the call and disappearing at the end of the call.  Like the video. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/4xJ1Aa1IerQ%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhizA8dTZYMW-lYbjzr7wKGrY-ksBQ" frameborder="0" allowfullscreen=""></iframe><br><br>  Repository: <a href="https://github.com/antirek/bounce-call">github.com/antirek/bounce-call</a> <br><br><h4>  What's next? </h4><br>  Colleagues offered interesting additions: <br><br>  1. make a game like Moorhuhn: hit the ball - the call is over.  But this, you see, somehow does not fit into the framework of high-quality telephone service. <br><br>  2. change the color of the ball depending on the status of the call or the duration of waiting for an answer.  But there are other software products for monitoring service quality. <br><br>  Therefore, while I use it to contemplate, raise my mood and realize that behind every ball there is a conversation where our colleagues communicate, agree, sell, buy and wish all partners and customers all the best next year. <br><br>  All good mood! </div><p>Source: <a href="https://habr.com/ru/post/274155/">https://habr.com/ru/post/274155/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../274143/index.html">How to "animate" the product? Lettering</a></li>
<li><a href="../274145/index.html">Highlight interactive maps using jquery.maphilight.js</a></li>
<li><a href="../274147/index.html">Product Design Digest, December 2015</a></li>
<li><a href="../274151/index.html">John Horton Conway: Life is like a game - ending</a></li>
<li><a href="../274153/index.html">PHP Digest number 76 - the results of 2015, a selection of interesting links + competition from the company JetBrains</a></li>
<li><a href="../274157/index.html">Development of indie games for Starling, or the second life of Flash</a></li>
<li><a href="../274159/index.html">Creating your own asset type in Unreal Engine 4 and customizing the properties panel</a></li>
<li><a href="../274161/index.html">Interfaces: How to create forms for subscribing to email newsletters and alerts</a></li>
<li><a href="../274163/index.html">ASP.NET 5. Token authentication</a></li>
<li><a href="../274165/index.html">Familiar stranger. What is Bitrix24?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>