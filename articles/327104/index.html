<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How I built NAS at home</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I have been visited for a long time by the idea of ‚Äã‚Äãorganizing a small network storage at home. For what? First of all for the photo, and a few more ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How I built NAS at home</h1><div class="post__text post__text-html js-mediator-article">  I have been visited for a long time by the idea of ‚Äã‚Äãorganizing a small network storage at home.  For what?  First of all for the photo, and a few more files that I would not want to lose.  Well, since such a dance has gone then the organization of the human media library. <br><br>  I looked at the models of famous brands, such as Delhi Synology and QNAP, I almost took <a href="https://www.qnap.com/en/product/model.php%3FII%3D21">QNAP TS-469 Pro</a> , but the toad did the trick. <br><br>  I started surfing the Internet in search of publications with options for building storages with my own pens, this is interesting and then it seemed to me that it was cheaper <a name="habracut"></a>  (in fact, if you use the recommended iron - then it is not). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Having read many articles in my head there was already a plan as it should be.  Decided that it will work under control of FreeNAS.  At the auction, I came <a href="http://www.chenbro.com/en-global/products/TowerServerChassis/Mini_ITX_Server/SR301">across the</a> corps of <a href="http://www.chenbro.com/en-global/products/TowerServerChassis/Mini_ITX_Server/SR301">Chenbro SR30169</a> .  Somehow I happened to touch the servachok in such a body, well, I liked it very much.  The case is designed for Mini ITX motherboards, it has 6 compartments for disks, 4 formats 3.5 and 2 - 2.5. <br><br>  <b>What do you need:</b> <br><br><ul><li>  Mini ITX motherboard; </li><li>  RAM, at least 8 Gb (I have just 8); </li><li>  disks, at least 2-3 Tb to start with (I have a pair of 2 Tb and one almost not usable at 1 Tb); </li><li>  a flash drive to install the system (I had a small SSD, I decided to use it); </li><li>  power supply (there is a 450 watt); </li><li>  housing (I already bought); </li></ul><br>  The most difficult was the choice of the motherboard.  I would like to build all this on a server hardware with ECC memory, BUT again, a toad ... The average price of the motherboard of the right size was about 250 American money, then we will build with the usual human. <br><br>  Since we have 6 disks it would be good to have 6 SATA ports on the board, the presence of RAID is not important (we will have ZFS), we would also like eSATA and USB 3.0, the processor is not important, a gigabit network.  As it turned out, these boards can be counted on the fingers.  Already thought to take <a href="http://www.gigabyte.com/Motherboard/GA-N3150N-D2H-rev-10">Gigabyte GA-N3150N-D2H</a> , SATA ports are lacking, but who is easy now?  And here I come across used <a href="https://www.zotac.com/nl/product/mainboards/zotac-h55-itx-wifi-0">ZOTAC H55-ITX</a> with <a href="https://ark.intel.com/ru/products/46473/Intel-Core-i3-540-Processor-4M-Cache-3_06-GHz">i3-540</a> on board.  Disadvantages - the board is old, the chip supports a maximum of 8 gigabytes of memory, SATA 2. Pros are good components, 6 internal + 1 external SATA, gigabit network, PCI-E x16, price. <br><br>  <b>What happened:</b> <br><br><ul><li>  <a href="https://www.zotac.com/nl/product/mainboards/zotac-h55-itx-wifi-0">ZOTAC H55-ITX</a> + <a href="https://ark.intel.com/ru/products/46473/Intel-Core-i3-540-Processor-4M-Cache-3_06-GHz">i3-540</a> ; </li><li>  2x <a href="https://www.kingston.com/ru/company/press/article/42670">HyperX Genesis 4 Gb 1600MHz DDR3 Non-ECC</a> </li><li>  2x2Tb 3.5 '+ 2x1Tb 3.5' <a href="https://www.wdc.com/products/internal-storage/wd-blue-pc-desktop-hard-drive.html">WD Blue</a> </li><li>  <a href="https://www.transcend-info.com/About/press/9804">Transcend SSD320 64 Gb</a> </li><li>  <a href="http://www.chieftec.eu/ru/%25D0%25B1%25D0%25BB%25D0%25BE%25D0%25BA%25D0%25B8-%25D0%25BF%25D0%25B8%25D1%2582%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F/odm-psu/c%25D0%25B5%25D1%2580%25D0%25B8%25D1%258F-iarena-odm/gpa-450s.html">Chieftec GPA-450S</a> </li><li>  <a href="http://www.chenbro.com/en-global/products/TowerServerChassis/Mini_ITX_Server/SR301">Chenbro SR30169</a> </li></ul><br><div class="spoiler">  <b class="spoiler_title">Iron assembly</b> <div class="spoiler_text">  First start: <br><br><img src="https://habrastorage.org/files/3e3/1e0/8d7/3e31e08d729149a891487fc321f9ba67.jpg"><br><br>  Disks in baskets: <br><br><img src="https://habrastorage.org/files/d11/d49/9f0/d11d499f043946c1bdad8695b39fc823.jpg"><br><br>  In the case on the left: <br><br><img src="https://habrastorage.org/files/813/99e/0bb/81399e0bbc864eccb8c7442f5de872c1.jpg"><br><br>  On right: <br><br><img src="https://habrastorage.org/files/33f/b0c/7da/33fb0c7da44045c3bd06e555835f13ae.jpg"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Installation</b> <div class="spoiler_text">  I chose FreeNAS Corral, but raw, but it seemed to me more comfortable 9.10.  With the installation of problems did not arise at all, everything is very simple, I will stop only on the main points. <br><br>  Let's start: <br><br><img src="https://habrastorage.org/files/539/93a/a07/53993aa076fc40259cf8898f6ff26816.png"><br><br>  The disk on which the system will be placed will be fully formatted, all data will be lost.  After choosing, you need to confirm that we understand what we are doing. <br><br><img src="https://habrastorage.org/files/dbf/6c1/fb5/dbf6c1fb5f384f97877b1ca434f7b7ef.png"><br><br>  Here you need to specify the root_a password <br><br><img src="https://habrastorage.org/files/84e/d60/880/84ed60880fd14e1194ceda4ba8f7ee62.png"><br><br>  After a successful installation, we see the address obtained by the DHSP, at this address you can get into the web interface: <br><br><img src="https://habrastorage.org/files/a29/b2a/89c/a29b2a89c3104fa0acc36650f3fe1b66.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Customization</b> <div class="spoiler_text"> Web interface <br><br> <a href=""><img src="https://habrastorage.org/files/ae4/636/68f/ae463668ff994777908b221f63612c93.png"></a> <br><br>  First of all, you need to adjust the regional settings. <br><br> <a href=""><img src="https://habrastorage.org/files/75a/40d/1d9/75a40d1d935d436885db265d46ef7201.png"></a> <br><br>  and network interface <br><br> <a href=""><img src="https://habrastorage.org/files/75a/3bc/d14/75a3bcd1454d4a349de5054eb629f26c.png"></a> <br><br> <a href=""><img src="https://habrastorage.org/files/18f/d95/44f/18fd9544ff5b4eb098f1a38b6a6102bb.png"></a> <br><br>  If the address has been changed, then you need to enter the web interface in a new way. <br><br>  You can add graphs of interest to the panel. <br><br> <a href=""><img src="https://habrastorage.org/files/4dc/cef/b19/4dccefb195174419adb34dd8aa694608.png"></a> <br><br>  Next, I set up the volume: <br><br>  The volume for the media library created from two screws of 2 Tb in RAID 0. I am not afraid of losing a movie, the main thing is to keep a list of what was. <br><br> <a href=""><img src="https://habrastorage.org/files/65c/99a/7c2/65c99a7c2f7d4248b5e3524d419bafb6.png"></a> <br><br>  For important data created a volume of two screws of 1 Tb in RAID 1. It has a photo, some important information, and container configs. <br><br> <a href=""><img src="https://habrastorage.org/files/9d8/ab5/077/9d8ab507706041f4a9d4061d18c9189f.png"></a> <br><br>  Created SMB balls, noted that I need guest access: <br><br> <a href=""><img src="https://habrastorage.org/files/ac7/aab/100/ac7aab10002c4a84bcfbe70cdab1d4e5.png"></a> <br><br> <a href=""><img src="https://habrastorage.org/files/ab1/51d/128/ab151d128dc54f80a4fdf25b905399c4.png"></a> <br><br>  I turned on the SMB service, I chose CP1251 encoding and indicated that I have root accounting (I remind you that this is a home server). <br><br> <a href=""><img src="https://habrastorage.org/files/e7d/733/679/e7d7336796b34d1b917514bae52c72b2.png"></a> <br><br>  It turned out that FreeNAS with a half-ping works even with cheap UPS, which is good news <br><br> <a href=""><img src="https://habrastorage.org/files/086/0e1/6ee/0860e16ee34c4978a96d39dde2331031.png"></a> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Containers</b> <div class="spoiler_text">  First of all, you need to create a host, I allocated 4 cores to containers (probably a lot, but since I have one host, let them use it) and 4 Gb of RAM: <br><br> <a href=""><img src="https://habrastorage.org/files/271/757/06f/27175706f69f4385bb6bf3c57e81bd4b.png"></a> <br><br>  Created container Plex_a and Transmission.  I set up volumes and separate addresses for them: <br><br>  After creating the container, it did not immediately get to its web interface (there is a special button at the top), although FreeNAS does not give any hints, it still loads something from the network, I saw it through network activity. <br><br> <a href=""><img src="https://habrastorage.org/files/9a9/b9b/112/9a9b9b1128c14e9e8644a39cccd9f86d.png"></a> <br><br> <a href=""><img src="https://habrastorage.org/files/97f/82f/475/97f82f475fe04cee87fc053d8b3bb7df.png"></a> <br><br> <a href=""><img src="https://habrastorage.org/files/4f3/26a/47d/4f326a47dc384711bc6518d98aa6a49e.png"></a> <br><br>  Somewhere in half an hour you can already go to the web interfaces of the containers and configure them, I will not paint it anymore. <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Result</b> <div class="spoiler_text">  Balls, with a pretty good exchange rate <br><br><img src="https://habrastorage.org/files/720/8e6/9c0/7208e69c040e4cdebf7e63f079ccdab8.png"><br><br><img src="https://habrastorage.org/files/db0/e40/bf8/db0e40bf8bf14ad1a87e819917077b6c.jpg"><br><br>  Torrent rocking chair <br><br><img src="https://habrastorage.org/files/9a9/25e/b60/9a925eb604a84c59900e2d4ee1b33607.png"><br><br>  Plex <br><br><img src="https://habrastorage.org/files/142/657/9c0/1426579c0fdd459fbe1767b7531512fa.png"><br><br><img src="https://habrastorage.org/files/860/105/c1c/860105c1c17c4eb78e28554fc946916b.jpg"><br></div></div><br>  This is my first experience with FreeNAS, so all comments and additions are welcome. </div><p>Source: <a href="https://habr.com/ru/post/327104/">https://habr.com/ru/post/327104/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../327090/index.html">On the MegaFon Card - technical details, part 2</a></li>
<li><a href="../327094/index.html">We write chat bot quiz using Microsoft Bot Framework</a></li>
<li><a href="../327096/index.html">"Dream lazy" or the script engine on itself</a></li>
<li><a href="../327098/index.html">Oculus Rift games that can already be played</a></li>
<li><a href="../327100/index.html">UX-recipe phone number and email confirmation</a></li>
<li><a href="../327106/index.html">Managing the "power of thought": a resident accelerator at ITMO University</a></li>
<li><a href="../327108/index.html">Amp. What is it and what does it eat?</a></li>
<li><a href="../327110/index.html">Casting an arbitrary slice to the interface slice</a></li>
<li><a href="../327114/index.html">Dump ShadowBrokers: we understand the contents of the directory "swift"</a></li>
<li><a href="../327118/index.html">The winner of the first GameDev-hakaton DataArt was a team from Kiev</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>