<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>[libGDX] Writing a full game for Android. Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! I decided to try myself in the game-dev field and at the same time tell and show how it was. The second part is here . 

 The game is a screen ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>[libGDX] Writing a full game for Android. Part 1</h1><div class="post__text post__text-html js-mediator-article">  Hello!  I decided to try myself in the game-dev field and at the same time tell and show how it was.  The second part is <a href="http://habrahabr.ru/post/224223/">here</a> . <br><br>  The game is a screen on which the constellations are located.  Each star of this constellation has its own color (note).  For example, the note ‚ÄúDo‚Äù is usually represented in red, and ‚ÄúMi‚Äù is shown in yellow.  Here is the result: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e04/0bc/894/e040bc8947930b41e19684c3595e2174.png" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So, each level is a new constellation and a new melody.  The stars play the first four notes, and then you must repeat them in the same sequence.  Then, four more notes are added to the first four notes, and so on, until the level is completed. <br><br>  We will write using the libGDX framework.  I liked him the most as a novice in this business.  And I found more information on it.  So let's get started. <br><a name="habracut"></a><br>  What we need: <br><br><ul><li>  Eclipse </li><li>  Gradle </li><li>  Android SDK </li><li>  libGDX latest version </li><li>  Head + hands + patience </li></ul><br><br>  I will not create a project manually.  It's easier for me to use gdx-setup.  So, run it: <br><br><pre><code class="bash hljs">java -jar gdx-setup.jar</code> </pre> <br><br>  Next, enter: <br><br><ul><li>  Name: <b>"Songs of the Space"</b> </li><li>  Package: <b>"en.yoursite.songs_of_the_space"</b> </li><li>  Game Class: <b>MyGame</b> </li><li>  Destination: <b>path / to / your / workspace / songs_of_the_space</b> </li><li>  Android SDK: <b>path / to / your / sdk</b> </li><li>  libGDX Version: <b>Nightlies</b> </li><li>  Sub Projects: <b>Desktop, Android</b> </li><li>  Extentions: <b>‚ÄúFreetype‚Äù</b> </li></ul><br><br>  Click <i>Generate</i> and, after the end of the process, go to Eclipse. <br><br>  In Eclipse, select <i>Import -&gt; Gradle -&gt; Gradle Project</i> .  Then <i>Browse ..</i> search for our project and then <i>Build</i> .  After completion, select all projects and build <i>Finish</i> .  Upon completion, your projects will appear in the list of projects.  Immediately go to the main project ( <i>core</i> ) -&gt; <i>MyGame.java</i> .  We cleaned everything that created <b>gdx</b> , and also inherited not from the <i>ApplicationAdapter</i> , but from the <i>Game</i> .  As a result, the class should get the form: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyGame</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Game</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">render</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.render(); } }</code> </pre><br><br>  Further.  Create a new package, let's call it <i>screens</i> .  And there are three classes in it: <br><ul><li>  MainMenuScreen - will be responsible for the initial screen of the application </li><li>  LevelScreen - will be responsible for the level selection screen </li><li>  PlayScreen - will be responsible for the game screen </li></ul><br><br>  All of them must be inherited from the <i>Screen</i> interface.  We add all the methods that our inheritance requires, we close everything except MainMenuScreen.  We write the following in it: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainMenuScreen</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Screen</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//    final MyGame game; //     private Stage stage; private TextButton play, exit; private Table table; private LabelStyle labelStyle; //       ( ) public MainMenuScreen(final MyGame gam) { game = gam; //  --           stage = new Stage(new ScreenViewport()); //   .        Skin skin = new Skin(); TextureAtlas buttonAtlas = new TextureAtlas(Gdx.files.internal("images/game/images.pack")); skin.addRegions(buttonAtlas); TextButtonStyle textButtonStyle = new TextButtonStyle(); textButtonStyle.font = game.font; textButtonStyle.up = skin.getDrawable("button-up"); textButtonStyle.down = skin.getDrawable("button-down"); textButtonStyle.checked = skin.getDrawable("button-up"); labelStyle = new LabelStyle(); labelStyle.font = game.font; table = new Table(); table.setFillParent(true); //  .   listener,    .  ,       ,     play = new TextButton("", textButtonStyle); play.addListener(new ClickListener() { @Override public boolean touchDown(InputEvent event, float x, float y, int pointer, int button) { Gdx.input.vibrate(20); return true; }; @Override public void touchUp(InputEvent event, float x, float y, int pointer, int button) { game.setScreen(new LevelScreen(game)); dispose(); }; }); //  .    .   ,       . exit = new TextButton("", textButtonStyle); exit.addListener(new ClickListener() { @Override public boolean touchDown(InputEvent event, float x, float y, int pointer, int button) { Gdx.input.vibrate(20); return true; }; @Override public void touchUp(InputEvent event, float x, float y, int pointer, int button) { Gdx.app.exit(); dispose(); }; }); table.add(play); table.row(); table.add(exit); stage.addActor(table); Gdx.input.setInputProcessor(stage); //        (, ,  etc.) Gdx.input.setCatchBackKey(true); //    ,    ,          } @Override public void render(float delta) { //        Gdx.gl.glClearColor(0, 0, 0, 1); Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT); //   stage.act(delta); stage.draw(); } @Override public void resize(int width, int height) {} @Override public void show() {} @Override public void hide() {} @Override public void pause() {} @Override public void resume() {} @Override public void dispose() { //     game. stage.dispose(); game.dispose(); } }</span></span></code> </pre><br><br>  Further.  We do import of dependences (Shift + Ctrl + O).  And go to the main class <i>MyGame.java</i> .  Add the following to it: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyGame</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Game</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//        (    ) public BitmapFont font, levels; private static final String FONT_CHARACTERS = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789][_!$%#@|\\/?-+=()*&amp;.;,{}\"¬¥`'&lt;&gt;"; @Override public void create() { //    RussoOne  Google Fonts.    TTF. (  ,  ttf  ) FreeTypeFontGenerator generator = new FreeTypeFontGenerator(Gdx.files.internal("fonts/russoone.ttf")); FreeTypeFontParameter param = new FreeTypeFontParameter(); param.size = Gdx.graphics.getHeight() / 18; //  .       .  ,     ,   . param.characters = FONT_CHARACTERS; //   font = generator.generateFont(param); //   param.size = Gdx.graphics.getHeight() / 20; levels = generator.generateFont(param); font.setColor(Color.WHITE); //   levels.setColor(Color.WHITE); generator.dispose(); //     . @Override public void render() { super.render(); } }</span></span></code> ? <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyGame</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Game</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//        (    ) public BitmapFont font, levels; private static final String FONT_CHARACTERS = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789][_!$%#@|\\/?-+=()*&amp;.;,{}\"¬¥`'&lt;&gt;"; @Override public void create() { //    RussoOne  Google Fonts.    TTF. (  ,  ttf  ) FreeTypeFontGenerator generator = new FreeTypeFontGenerator(Gdx.files.internal("fonts/russoone.ttf")); FreeTypeFontParameter param = new FreeTypeFontParameter(); param.size = Gdx.graphics.getHeight() / 18; //  .       .  ,     ,   . param.characters = FONT_CHARACTERS; //   font = generator.generateFont(param); //   param.size = Gdx.graphics.getHeight() / 20; levels = generator.generateFont(param); font.setColor(Color.WHITE); //   levels.setColor(Color.WHITE); generator.dispose(); //     . @Override public void render() { super.render(); } }</span></span></code> \\ / - + = () * &amp;;, {} \."'` '&lt;&gt; "; <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyGame</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Game</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//        (    ) public BitmapFont font, levels; private static final String FONT_CHARACTERS = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789][_!$%#@|\\/?-+=()*&amp;.;,{}\"¬¥`'&lt;&gt;"; @Override public void create() { //    RussoOne  Google Fonts.    TTF. (  ,  ttf  ) FreeTypeFontGenerator generator = new FreeTypeFontGenerator(Gdx.files.internal("fonts/russoone.ttf")); FreeTypeFontParameter param = new FreeTypeFontParameter(); param.size = Gdx.graphics.getHeight() / 18; //  .       .  ,     ,   . param.characters = FONT_CHARACTERS; //   font = generator.generateFont(param); //   param.size = Gdx.graphics.getHeight() / 20; levels = generator.generateFont(param); font.setColor(Color.WHITE); //   levels.setColor(Color.WHITE); generator.dispose(); //     . @Override public void render() { super.render(); } }</span></span></code> </pre><br><br>  Make imports and create a new <b>package</b> called <i>managers</i> (for example).  It contains the <i>XMLparse.java</i> class.  Why do you need it?  In order that we will take levels and many other things from xml files.  By the way, create an <b>xml</b> folder in the <b>assets</b> folder ( <i>android project -&gt; assets</i> ).  In her folder: <br><br><ul><li>  images </li><li>  fonts </li><li>  sounds </li><li>  xml </li></ul><br><br>  In the fonts folder, put the font.  And in the <b>xml</b> folder, create a folders folder.  Update your Desktop project (F5) so that it picks it all up.  And now, let's fill our class <i>XMLparse.java</i> .  We write the following to it: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">XMLparse</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Array&lt;String&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">XMLparseLevels</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Array&lt;String&gt; levels = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Array&lt;String&gt;(); Array&lt;Integer&gt; int_levels = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Array&lt;Integer&gt;(); FileHandle dirHandle; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Gdx.app.getType() == ApplicationType.Android) { dirHandle = Gdx.files.internal(<span class="hljs-string"><span class="hljs-string">"xml/levels"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { dirHandle = Gdx.files.internal(System.getProperty(<span class="hljs-string"><span class="hljs-string">"user.dir"</span></span>) + <span class="hljs-string"><span class="hljs-string">"/assets/xml/levels"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//   desktop ,    -    .     assets    desktop-   assets android- } for (FileHandle entry : dirHandle.list()) { levels.add(entry.name().split(".xml")[0]); } //             .       .    Java .    :) for (int i = 0; i &lt; levels.size; i++) { int_levels.add(Integer.parseInt(levels.get(i))); } int_levels.sort(); levels.clear(); for (int i = 0; i &lt; int_levels.size; i++) { levels.add(String.valueOf(int_levels.get(i))); } return levels; } }</span></span></code> </pre><br><br>  Well?  Let's finally fill in the LevelScreen.java class.  But before that, create a pair of xml files in the <i>assets -&gt; xml -&gt; levels</i> folder with the names 1.xml, 2.xml, and so on.  And in the class we will write the following: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LevelScreen</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Screen</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> MyGame game; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Stage stage; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Table table; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> LabelStyle labelStyle; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> TextButton level; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Array&lt;String&gt; levels; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LevelScreen</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(MyGame gam)</span></span></span><span class="hljs-function"> </span></span>{ game = gam; stage = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Stage(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ScreenViewport()); Skin skin = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Skin(); TextureAtlas buttonAtlas = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TextureAtlas(Gdx.files.internal(<span class="hljs-string"><span class="hljs-string">"images/game/images.pack"</span></span>)); skin.addRegions(buttonAtlas); TextButtonStyle textButtonStyle = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TextButtonStyle(); textButtonStyle.font = game.levels; textButtonStyle.up = skin.getDrawable(<span class="hljs-string"><span class="hljs-string">"level-up"</span></span>); textButtonStyle.down = skin.getDrawable(<span class="hljs-string"><span class="hljs-string">"level-down"</span></span>); textButtonStyle.checked = skin.getDrawable(<span class="hljs-string"><span class="hljs-string">"level-up"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//   XMLparse parseLevels = new XMLparse(); levels = parseLevels.XMLparseLevels(); labelStyle = new LabelStyle(); labelStyle.font = game.levels; //      MyGame table = new Table(); table.row().pad(20); //   +  table.center(); table.setFillParent(true); for (int i = 0; i &lt; levels.size; i++) { final String cur_level = levels.get(i); level = new TextButton(cur_level, textButtonStyle); level.addListener(new ClickListener() { @Override public boolean touchDown(InputEvent event, float x, float y, int pointer, int button) { Gdx.input.vibrate(20); return true; }; @Override public void touchUp(InputEvent event, float x, float y, int pointer, int button) { game.setScreen(new PlayScreen(game, cur_level)); //     PlayScreen dispose(); }; }); table.add(level); //     ,               float indexLevel = Float.parseFloat(String.valueOf(i)) + 1; if (indexLevel % 5.0f == 0) table.row().padLeft(20).padRight(20).padBottom(20); } stage.addActor(table); //        Gdx.input.setInputProcessor(stage); Gdx.input.setCatchBackKey(true); //  ,         .      . stage.setHardKeyListener(new OnHardKeyListener() { @Override public void onHardKey(int keyCode, int state) { if (keyCode == Keys.BACK &amp;&amp; state == 1){ game.setScreen(new MainMenuScreen(game)); } } }); } @Override public void render(float delta) { Gdx.gl.glClearColor(0, 0, 0, 1); Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT); stage.act(delta); stage.draw(); } @Override public void resize(int width, int height) {} @Override public void show() {} @Override public void hide() {} @Override public void pause() {} @Override public void resume() {} @Override public void dispose() { stage.dispose(); game.dispose(); } }</span></span></code> </pre><br><br>  Wow, a lot has already written.  In the next part (if this one goes through all the stages of publication) we will do the following: <br><ul><li>  Fill PlayScreen class </li><li>  Add the objects of stars, notes and something else. </li></ul><br><br>  <a href="https://github.com/isayakhov/Song-s-of-the-Space">Lesson files</a> <br><br>  Thanks for attention! <br><br>  <b>UPDATE</b> <br><br>  I was in such a hurry with the article that I forgot to describe one important point, because of which the project would not start.  I apologize.  So, we also need to create our own <i>Stage</i> class, which will be the successor of the <i>libGDX Stage</i> .  We go to our <b>package</b> <i>managers</i> and create a class in it called <i>PlayStage.java</i> .  Its code is: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PlayStage</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Stage</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PlayStage</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ScreenViewport screenViewport)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(screenViewport); } <span class="hljs-comment"><span class="hljs-comment">//      @Override public boolean keyDown(int keyCode) { if (keyCode == Keys.BACK) { if (getHardKeyListener() != null) getHardKeyListener().onHardKey(keyCode, 1); } return super.keyDown(keyCode); } @Override public boolean keyUp(int keyCode) { if (keyCode == Keys.BACK){ if (getHardKeyListener() != null) getHardKeyListener().onHardKey(keyCode, 0); } return super.keyUp(keyCode); } public interface OnHardKeyListener { // ,     ,       (     ) public abstract void onHardKey(int keyCode, int state); } private OnHardKeyListener _HardKeyListener = null; public void setHardKeyListener(OnHardKeyListener HardKeyListener) { _HardKeyListener = HardKeyListener; } public OnHardKeyListener getHardKeyListener() { return _HardKeyListener; } }</span></span></code> </pre><br><br>  Now, in LevelScreen we create an object of the PlayStage class, and not a Stage and there should be no more errors.  And one more addition.  <i>Let's</i> prepare the <i>PlayScreen</i> class, since it needs to specify a constructor with parameters.  We write it and generate the remaining methods so that the compiler does not swear.  Code: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PlayScreen</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Screen</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> MyGame game; <span class="hljs-comment"><span class="hljs-comment">//        ,     .     . public PlayScreen(final MyGame gam, String strLevel) { game = gam; } @Override public void render(float delta) { Gdx.gl.glClearColor(0, 0, 0, 1); Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT); } @Override public void resize(int width, int height) {} @Override public void show() {} @Override public void hide() {} @Override public void pause() {} @Override public void resume() {} @Override public void dispose() { game.dispose(); } }</span></span></code> </pre></div><p>Source: <a href="https://habr.com/ru/post/224175/">https://habr.com/ru/post/224175/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../224163/index.html">Dictionary generators</a></li>
<li><a href="../224167/index.html">Sudden Death Syndrome (aka Sudden Death Syndrome, aka SDS) Samsung Galaxy Note 2 and Samsung Galaxy S3</a></li>
<li><a href="../224169/index.html">Sound card as a serial port</a></li>
<li><a href="../224171/index.html">How to make a robot in 24 hours</a></li>
<li><a href="../224173/index.html">How I made a power control widget for my space flight browser simulator</a></li>
<li><a href="../224179/index.html">Dual boot ArchLinux and Windows 8 on UEFI without GRUB using rEFInd</a></li>
<li><a href="../224181/index.html">Why you should use Vim</a></li>
<li><a href="../224185/index.html">A tool to highlight the active item of a simple HTML menu.</a></li>
<li><a href="../224187/index.html">WEB-page rendering: what the front-end developer should know about this</a></li>
<li><a href="../224191/index.html">Minification of Ext JS and Sencha Touch applications using ASP.NET</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>