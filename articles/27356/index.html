<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Generating RSS feeds using the Syndication class</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I do not understand why such a wonderful framework as .NET has such a small popularity in the CIS countries. After all, he has everything you need to ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Generating RSS feeds using the Syndication class</h1><div class="post__text post__text-html js-mediator-article">  I do not understand why such a wonderful framework as .NET has such a small popularity in the CIS countries.  After all, he has everything you need to create projects of any level of complexity, and especially for web projects.  And it is no worse, for example, nowadays fashionable Ruby on Rails, it‚Äôs even better.  By the way, if you like the concept of MVC programming so much, you can try the ASP.NET MVC framework. <br><br>  Because of this, my article assumes two target groups: people who are already writing on .NET and who will be interested to learn about generating RSS feeds, and not .NET programmers, whom I will try to show the ease and elegance of solving various tasks in this framework using the example generating rss.  So, let's begin.  We will use .NET 3.5 and C #. <br><a name="habracut"></a><br>  As you know, feeds can be in two formats: RSS and ATOM.  So, it is absolutely not important to us, since we first create the feed itself, and only then decide in which format to save it. <br>  The first step will naturally be to create a new site in Visual Studio.  After that we add ‚ÄúSystem.ServiceModel.Web‚Äù to References, if it isn‚Äôt there yet, open Default.aspx.cs and add the following lines to the very beginning: <br><blockquote>  <font color="black"><font color="#0000ff">using</font> System.ServiceModel.Syndication;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">using</font> System.Xml;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">using</font> System.Collections.Generic;</font> </blockquote><br>  For those who do not know, these are just links to the namespace, which contains the classes we need. <br>  <em>All subsequent code should be added to Page_Load in order.</em> <br>  Now create the feed object itself using the <strong>SyndicationFeed</strong> class: <br><blockquote>  <font color="black">SyndicationFeed feed = <font color="#0000ff">new</font> SyndicationFeed ();</font> <font color="black"><br></font>  <font color="black"><font color="#008000">// The name that will be visible in any reader</font></font> <font color="black"><br></font>  <font color="black">feed.Title = <font color="#0000ff">new</font> TextSyndicationContent</font> <font color="black"><br></font>  <font color="black">( <font color="#A31515">"My test RSS feed."</font> );</font> <font color="black"><br></font>  <font color="black"><font color="#008000">// Copyright Block</font></font> <font color="black"><br></font>  <font color="black">feed.Copyright = <font color="#0000ff">new</font> TextSyndicationContent</font> <font color="black"><br></font>  <font color="black">( <font color="#A31515">"2008"</font> );</font> <font color="black"><br></font>  <font color="black"><font color="#008000">// Description and name of the feed generator.</font></font> <font color="black"><br></font>  <font color="black">feed.Description = <font color="#0000ff">new</font> TextSyndicationContent</font> <font color="black"><br></font>  <font color="black">( <font color="#A31515">"Automatically generated feed"</font> );</font> <font color="black"><br></font>  <font color="black">feed.Generator = <font color="#A31515">"Maxter's RSS Feed Generator"</font> ;</font> <font color="black"><br></font>  <font color="black"><font color="#008000">// Well, the link to the source</font></font> <font color="black"><br></font>  <font color="black">SyndicationLink link = <font color="#0000ff">new</font> SyndicationLink ();</font> <font color="black"><br></font>  <font color="black">link.Title = <font color="#A31515">"Habr.ru"</font> ;</font> <font color="black"><br></font>  <font color="black">link.</font>  <font color="black"><font color="#2B91AF">Uri</font> = <font color="#0000ff">new</font> <font color="#2B91AF">Uri</font> ( <font color="#A31515">" <a href="http://habrahabr.ru/">habrahabr.ru</a> "</font> );</font> <font color="black"><br></font>  <font color="black">feed.Links.Add (link);</font> </blockquote><br>  It seems everything is simple and clear.  The only thing I would like to draw attention to: to add any text information, except the Generator property, to the feed, the TextSyndicationContent class is used.  Well, here you will be prompted by IntelliSense, do not get confused. <br>  After that we add the actual posts to the feed (for example, one is enough for us): <br><blockquote>  <font color="black">SyndicationItem item = <font color="#0000ff">new</font> SyndicationItem ();</font> <font color="black"><br></font>  <font color="black">item.Id = <font color="#2B91AF">Guid</font> .NewGuid (). ToString ();</font> <font color="black"><br></font>  <font color="black">item.Title = <font color="#0000ff">new</font> TextSyndicationContent</font> <font color="black"><br></font>  <font color="black">( <font color="#A31515">"Hello, HabraHabr!"</font> );</font> <font color="black"><br></font>  <font color="black">item.Summary = <font color="#0000ff">new</font> TextSyndicationContent</font> <font color="black"><br></font>  <font color="black">( <font color="#A31515">"There is a short description here"</font> );</font> <font color="black"><br></font>  <font color="black">item.Content = <font color="#0000ff">new</font> TextSyndicationContent</font> <font color="black"><br></font>  <font color="black">( <font color="#A31515">"And here is the full text"</font> );</font> </blockquote><br>  It seems everything is clear too: we create a record, automatically assign an ID, a name, a short description and a body.  In real life, all this information will be obtained from the database or from somewhere else, but we have just an example, so we will be static.  You can also add links to the record and the author, but we will not do this, because it is rather simple if you want to do it yourself. <br>  Add our entry to the feed: <br><blockquote>  <font color="black"><font color="#2B91AF">List</font> &lt;SyndicationItem&gt; items =</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">new</font> <font color="#2B91AF">List</font> &lt;SyndicationItem&gt; ();</font> <font color="black"><br></font>  <font color="black">items.Add (item);</font> <font color="black"><br></font>  <font color="black">feed.Items = items;</font> </blockquote><br>  Well, now select the feed format and analyze it.  Let it be RSS 2.0: <br><br><blockquote>  <font color="black">Response.Clear ();</font> <font color="black"><br></font>  <font color="black">Response.ContentEncoding =</font> <font color="black"><br></font>  <font color="black">System.Text.</font>  <font color="black"><font color="#2B91AF">Encoding</font> .UTF8;</font> <font color="black"><br></font>  <font color="black">Response.ContentType = <font color="#A31515">"text / xml"</font> ;</font> <font color="black">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </font>  <font color="black">XmlWriter rssWriter = XmlWriter.Create</font> <font color="black"><br></font>  <font color="black">(Response.Output);</font> <font color="black"><br></font>  <font color="black">Rss20FeedFormatter rssFormatter =</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">new</font> Rss20FeedFormatter (feed);</font> <font color="black"><br></font>  <font color="black">rssFormatter.WriteTo (rssWriter);</font> <font color="black"><br></font>  <font color="black">rssWriter.Close ();</font> <font color="black"><br><br></font>  <font color="black">Response.End ();</font> </blockquote><br>  Here we first clear the output buffer, select the encoding and MIME type.  Then create an XmlWriter that will write formatted XML to the output buffer.  Well, in turn, XmlWriter, we, in turn, submit our feed in the format of RSS 2.0, which we classify for us with the Rss20FeedFormatter class (you can also use Atom10FeedFormatter for Atom 1.0, respectively). <br><br>  Everything!  You can compile the site and, if everything is done correctly, in the browser you will see our feed, which you can already subscribe to. <br>  Thanks for attention.  The code was highlighted and formatted using <a href="http://poison.qsh.ru/default.aspx">Source Code Highlighter</a> , MSDN and some foreign blogs helped me in writing the article. <br>  By the way, in IE 7 our page will look like this: <br> <a href="http://www.picamatic.com/view/449582_Picture_5/"><img src="http://www.picamatic.com/show/2008/06/14/05/449582_764x317.png" alt="Picture_5.png - image uploaded to Picamatic" title="Picture_5.png" width="640" height="266"></a> <br>  <strong>upd:</strong> In the course of the discussion, I found out a slightly more beautiful version, see <a href="http://habrahabr.ru/blog/net/44501.html">this comment</a> , thanks for saying <a href="http://habrahabr.ru/users/rame0/" class="user_link">RAMe0</a> </div><p>Source: <a href="https://habr.com/ru/post/27356/">https://habr.com/ru/post/27356/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../273549/index.html">Creating applications for Firebird with the use of various components and drivers: FireDac</a></li>
<li><a href="../273553/index.html">Comparison of css-frameworks / libraries on a live example. Part 1</a></li>
<li><a href="../273555/index.html">Forgotten word: environment</a></li>
<li><a href="../273557/index.html">The digest of interesting materials from the world of web development and IT for the last week No. 190 (December 13 - 20, 2015)</a></li>
<li><a href="../273559/index.html">The future of p2p payments: when the smartphone replaces cash</a></li>
<li><a href="../273561/index.html">Welcome to the Russian-language site for developers on Rust</a></li>
<li><a href="../273563/index.html">Vacation Where? When? R</a></li>
<li><a href="../273567/index.html">Push notifications in Firefox 44 and up</a></li>
<li><a href="../273569/index.html">Unit Tests in ABAP. Part two. Rake</a></li>
<li><a href="../27357/index.html">Makovody</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>