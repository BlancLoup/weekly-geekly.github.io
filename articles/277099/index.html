<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Katya, Go, Dcoin and Android</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The continuation of the very story. 

 The first part is here , the second is here , the third is here . 

 4.5 years ago I had the imprudence to star...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Katya, Go, Dcoin and Android</h1><div class="post__text post__text-html js-mediator-article"> <a href="https://habrahabr.ru/post/277099/"><img src="https://habrastorage.org/files/31c/b52/87b/31cb5287bccd4013b9e8ed2b4b448edd.png"></a> <br><br>  The continuation of the very story. <br><a name="habracut"></a><br>  The first part is <a href="http://habrahabr.ru/company/dcoin/blog/272695/">here</a> , the second is <a href="http://habrahabr.ru/post/273333/">here</a> , the third is <a href="https://habrahabr.ru/post/274885/">here</a> . <br><br>  4.5 years ago I had the imprudence to start writing my cryptocurrency in a completely inappropriate language for this business - in PHP.  As a result, of course, I wrote (I am stubborn), but it turned out to be a crutch on a crutch and that it worked at all was just some kind of magic. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I just want to warn you, I‚Äôm a self-taught programmer and I write code, to say the least, imperfectly. <br><br>  It all started with the fact that I broke up with a girl named Katya and on the same day (April 4, 2015) decided to study Go and rewrite my cryptocurrency.  I can‚Äôt write about Katya not under the spoilers;  Habr is still for IT-related articles, and not for love stories and harsh IT people who are interested in Go, can simply not pay attention to the spoilers ‚Äúabout Katya‚Äù. <br><br>  A total of 8 months: the application runs on Win ( <a href="">64/32</a> ), OSX (64/32), Linux ( <a href="">64/32</a> ), FreeBSD ( <a href="">64/32</a> ), <a href="">Android</a> , <a href="http://dcoin.club/ru/ios.html">IOS</a> . <br><br>  General code ~ 73k lines, code for different OS somewhere a few hundred lines. <br><br>  40k - processing / generation of blocks / tr-s, 17.5k - controllers for the interface, 15.5k - templates. <br><br>  PostgreSQL, SQLite, MySQL are supported. <br><br>  Those who will test my creation, I warn you - there may be bugs, and if you have time, drop a line about them, please, at <a href="">darwin@dcoin.club</a> or in a personal on Habr√©.  Suggestions and advice are also welcome. <br><br>  In the first three parts, I talked about how a web server functions in dcoin, about <a href="https://golang.org/pkg/html/template/">html / template</a> , databases, smooth application termination, encryption and parsing of blocks. <br><br>  In this article I will tell you about working with Go on Android. <br><br><h3>  Start </h3><br>  It's funny to say, but my first android came to me this summer.  Before that, I simply could not find a reason to replace my Nokia 1200. I bought a cheap ZTE for 3000 rubles with 512 memory and 2 cores.  For testing the very thing.  And you can also call from it. <br><br>  I wanted to do a compilation through <a href="https://github.com/golang/mobile">github.com/golang/mobile</a> in apk.  Looked at the manual, everything seems simple.  Almost immediately it turned out to compile the binary and run it under the root on the android.  I was glad that everything was going like clockwork and it seemed that in a couple of days I would have apk, running which I would see Dcoin. <br><br>  Apk was not difficult to assemble.  In principle, all I needed was to automatically open <a href="http://127.0.0.1/">127.0.0.1</a> : 8089 in the browser.  This is where I stalled.  A few days googled and experimented, and all that could be achieved is the drawing of a picture in which I ask the user to open the desired host in the browser. <br><br>  I decided to go through aar.  Those.  add it as a library to android studio.  And by means of the studio already open a browser or webview.  But sqlite stubbornly did not want to compile, it turned out that there was no error in the C compiler and there was no solution to the problem at the time (by the way, there are already). <br><br><div class="spoiler">  <b class="spoiler_title">About Katya</b> <div class="spoiler_text">  (Ending from the <a href="https://habrahabr.ru/post/274885/">previous part</a> ): I wrote to her in VK, said that she had forgotten the bodies at home, and now she had a friend.  I wrote that I would wait for her.  Then he received "Do not call and do not write me more !!!!".  He didn‚Äôt ask any questions, called the next apartment, asked me to send the flowers to Kate when she was home.  I came home, a few hours later I decided to rewrite Dcoin to Go. <br><br>  A couple of days later I wrote to her that I was leaving for several months with my head in my project and asked me not to bother me over nothing. <br><br>  A week later, Kati came sms-ka hello.  Well, how are you? ‚Äù.  I did not answer.  A week later, another "hello.  how are you?".  I did not answer again. </div></div><br><br><h3>  GoNativeActivity </h3><br>  At some point it became obvious that without this magic file nothing will come of it.  I started experimenting, made a few changes, generate apk and nothing changes.  After a couple of days I could not stand it and decided to write to one of the gomobile developers, the answer came rather quickly.  It turns out that after the changes in GoNativeActivity go go github.com/c-darwin/mobile/cmd/gomobile should be called to generate the .dex file and only after that go install github.com/c-darwin/mobile/cmd/gomobile. <br><br>  Having learned to edit GoNativeActivity, I got a huge opportunity.  It was necessary only to be able to write in Java.  And I did not know how, and now I do not know how.  But something still could do.  <a href="">Here is</a> my GoNativeActivity.  A little later, I figured out how to create my AndroidManifest.xml, which gave me even more options. In the end, instead of working in the browser, I was able to get to work in WebView, <a href="">here is</a> my webview implementation. <br><br><div class="spoiler">  <b class="spoiler_title">About Katya</b> <div class="spoiler_text">  About a week later, she wrote that she urgently needed 7 tr.  in debt, because  she does not have enough to pay for the apartment.  I answered "OK".  The next day she came to my house. <br></div></div><br><h3>  Notifications </h3><br>  I wanted to make a notification when money came in or an incoming request to exchange coins for Fiat arrived.  After googling and exploring stackoverflow, you get this code: <br><br><pre><code class="go hljs">public void notif(String title, String text) { Intent intent = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Intent(<span class="hljs-string"><span class="hljs-string">"org.golang.app.MainActivity"</span></span>); NotificationCompat.Builder mBuilder = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> NotificationCompat.Builder(this); <span class="hljs-comment"><span class="hljs-comment">//     ,   mBuilder.setSmallIcon(R.drawable.icon); mBuilder.setContentTitle(title); mBuilder.setContentText(text); Intent resultIntent = new Intent(this, MainActivity.class); TaskStackBuilder stackBuilder = TaskStackBuilder.create(this); stackBuilder.addParentStack(MainActivity.class); // Adds the Intent that starts the Activity to the top of the stack stackBuilder.addNextIntent(resultIntent); PendingIntent resultPendingIntent = stackBuilder.getPendingIntent(0,PendingIntent.FLAG_UPDATE_CURRENT); mBuilder.setContentIntent(resultPendingIntent); NotificationManager mNotificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE); // notificationID allows you to update the notification later on. mNotificationManager.notify(2, mBuilder.build()); }</span></span></code> </pre> <br>  It remains only to understand how this notif tugging out of Go.  Here I am stuck for another week.  It turned out that you need to use a certain beast called <a href="https://ru.wikipedia.org/wiki/Java_Native_Interface">JNI</a> .  It turns out something like this: Go calls C, which starts the Java machine and pulls my notif through it.  Horror.  Especially considering that in C, I, like in Java, are almost complete zero. <br><br>  In short, after much agony, I could still write working <a href="">code</a> and even understand what was going on in it: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> notif <span class="hljs-comment"><span class="hljs-comment">/* #cgo LDFLAGS: -llog -landroid #include &lt;android/log.h&gt; #include &lt;jni.h&gt; #include &lt;stdlib.h&gt; #define LOG_FATAL(...) __android_log_print(ANDROID_LOG_FATAL, "Go/fatal", __VA_ARGS__) void notif_manager_init(void* java_vm, void* ctx, char* title, char* text) { JavaVM* vm = (JavaVM*)(java_vm); JNIEnv* env; int err; int attached = 0; err = (*vm)-&gt;GetEnv(vm, (void**)&amp;env, JNI_VERSION_1_6); if (err != JNI_OK) { if (err == JNI_EDETACHED) { //   JM if ((*vm)-&gt;AttachCurrentThread(vm, &amp;env, 0) != 0) { LOG_FATAL("cannot attach JVM"); } attached = 1; } else { LOG_FATAL("GetEnv unexpected error: %d", err); } } //   jstring  title jstring javaTitle = (jstring)(*env)-&gt;NewStringUTF(env, (const char *)title); //   jstring  text jstring javaText = (jstring)(*env)-&gt;NewStringUTF(env, (const char *)text); //  ,     jclass cls = (*env)-&gt;GetObjectClass(env, ctx); //  .Ljava/lang/String;Ljava/lang/String -     V(Void) -  jmethodID nJmethodID = (*env)-&gt;GetMethodID(env, cls, "notif", "(Ljava/lang/String;Ljava/lang/String;)V"); //    (jstring)(*env)-&gt;CallObjectMethod(env, ctx, nJmethodID, javaTitle, javaText); if (attached) { //   JM (*vm)-&gt;DetachCurrentThread(vm); } } */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"C"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ( <span class="hljs-string"><span class="hljs-string">"github.com/c-darwin/mobile/internal/mobileinit"</span></span> ) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SendNotif</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(title </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">, text </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> { ctx := mobileinit.Context{} C.notif_manager_init(ctx.JavaVM(), ctx.AndroidContext(), C.CString(title), C.CString(text)) }</code> </pre><br>  By analogy, I got a package <a href="">get_files_dir.go</a> that gets the working directory. <br><br><div class="spoiler">  <b class="spoiler_title">About Katya</b> <div class="spoiler_text">  I do not know what she had in her head, she probably thought that I would pester her.  She was kind of weird all evening.  I was cold and tried to avoid any contact with her.  We ate, drank tea.  Katya said she needed to go home.  I called a taxi. <br>  When accompanied her to the taxi asked: <br><br>  - We are not together right?  Those.  I can do what I want? <br>  She: - In the sense of "what I want"?  No, we are together (moves up to me) <br>  I: - Well, we didn‚Äôt have a first date, we have not started everything from the beginning. <br>  She: - So it was just that. <br>  I: - What a date this is, you just came for the money. <br><br>  We were already at the door of the taxi, I got her down, paid the driver, she left. <br></div></div><br>  On Go, we got <a href="">this code</a> to call the notification: <br><br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// +build android package sendnotif import ( "github.com/c-darwin/mobile/notif" ) func SendMobileNotification(title, text string) { notif.SendNotif(title, text) }</span></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">About Katya</b> <div class="spoiler_text">  In the morning the phone rang, it was Katya.  I did not pick up the phone. <br></div></div><br><h3>  Service </h3><br>  I noticed that the web server was constantly falling.  It was impossible to work with a wallet.  Googled, I realized that we need to do the service.  This time there were not so many difficulties, the source is <a href="">here</a> .  ShortcutIcon () creates an icon on the desktop. <br><br><div class="spoiler">  <b class="spoiler_title">About Katya</b> <div class="spoiler_text">  The next day, she sent a sms-ku "hello.  I called yesterday, you did not pick up. "  I did not respond. <br></div></div><br><h3>  Access to the icon </h3><br>  When notifications appear, you need to specify an icon.  I had to figure out how to work with android resources.  Approximately realized that you need to generate R. jar and connect it when generating a dex-file. <br><br>  Googled how to generate java files, this command came up: <br><br><pre> <code class="bash hljs">aapt package -v -f -J /home/z/go-projects/src/github.com/c-darwin/dcoin-go/ -S /home/z/go-projects/src/github.com/c-darwin/dcoin-go/res/ -M /home/z/go-projects/src/github.com/c-darwin/dcoin-go/AndroidManifest.xml -I /home/z/android-sdk-linux/platforms/android-22/android.jar</code> </pre><br>  The resulting R.java is placed in R / org / golang / app /: <br><br><pre> <code class="bash hljs">mv R.java /home/z/go-projects/src/github.com/c-darwin/dcoin-go/R/org/golang/app/</code> </pre><br>  And generate R.jar: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> R &amp;&amp; jar cfv /home/z/go-projects/src/github.com/c-darwin/dcoin-go/R.jar</code> </pre><br>  Generate unsigned apk: <br><br><pre> <code class="bash hljs">aapt package -v -f -J /home/z/go-projects/src/github.com/c-darwin/dcoin-go/ -S /home/z/go-projects/src/github.com/c-darwin/dcoin-go/res/ -M /home/z/go-projects/src/github.com/c-darwin/dcoin-go/AndroidManifest.xml -I /home/z/android-sdk-linux/platforms/android-22/android.jar -F unsigned.apk</code> </pre><br><div class="spoiler">  <b class="spoiler_title">About Katya</b> <div class="spoiler_text">  A week later, she wrote that she received a ZP.  and wants to throw money on my card.  I did not answer anything.  A few days later she wrote ‚Äúhello.  how are you?".  I ignored again. <br></div></div><br>  Pull into the root of resources.arsc: <br><br><pre> <code class="bash hljs">unzip unsigned.apk -d apk &amp;&amp; mv apk/resources.arsc .</code> </pre><br>  Next you need to fix <a href="">gendex.go</a> from gomobile: <br><br><pre> <code class="go hljs">cmd := exec.Command( <span class="hljs-string"><span class="hljs-string">"javac"</span></span>, <span class="hljs-string"><span class="hljs-string">"-source"</span></span>, <span class="hljs-string"><span class="hljs-string">"1.7"</span></span>, <span class="hljs-string"><span class="hljs-string">"-target"</span></span>, <span class="hljs-string"><span class="hljs-string">"1.7"</span></span>, <span class="hljs-string"><span class="hljs-string">"-bootclasspath"</span></span>, platform+<span class="hljs-string"><span class="hljs-string">"/android.jar"</span></span>, <span class="hljs-string"><span class="hljs-string">"-classpath"</span></span>, <span class="hljs-string"><span class="hljs-string">"/home/z/go-projects/src/github.com/c-darwin/dcoin-go/R.jar:"</span></span>+androidHome+<span class="hljs-string"><span class="hljs-string">"/extras/android/m2repository/com/android/support/support-v4/22.2.1/support-v4-22.2.1-sources.jar"</span></span>, <span class="hljs-string"><span class="hljs-string">"-d"</span></span>, tmpdir+<span class="hljs-string"><span class="hljs-string">"/work"</span></span>, )</code> </pre><br><div class="spoiler">  <b class="spoiler_title">About Katya</b> <div class="spoiler_text">  About a week later, I finally ran Dcoin on the nodes and saw how the generation of the blocks was going on and how they were flying between the nodes, filling the databases.  It seemed to me that this can be considered the end of my temporary retreat and I wrote to Katya. <br></div></div><br>  We generate new Dex: <br><br><pre> <code class="bash hljs">ANDROID_HOME=/home/z/android-sdk-linux go generate github.com/c-darwin/mobile/cmd/gomobile/</code> </pre><br>  Then the gomobile binary itself: <br><br><pre> <code class="bash hljs">go install github.com/c-darwin/mobile/cmd/gomobile/</code> </pre><br>  And finally we get our apk: <br><br><pre> <code class="bash hljs">CGO_ENABLED=1 GOOS=android ANDROID_HOME=/home/z/android-sdk-linux gomobile build -v github.com/c-darwin/dcoin-go</code> </pre><br>  As a result, I got this bash script for generating apk: <br><br><pre> <code class="bash hljs">./bindata.sh <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"######## generate R.java ########"</span></span> aapt package -v -f -J /home/z/go-projects/src/github.com/c-darwin/dcoin-go/ -S /home/z/go-projects/src/github.com/c-darwin/dcoin-go/res/ -M /home/z/go-projects/src/github.com/c-darwin/dcoin-go/AndroidManifest.xml -I /home/z/android-sdk-linux/platforms/android-22/android.jar mv R.java /home/z/go-projects/src/github.com/c-darwin/dcoin-go/R/org/golang/app/ <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"######## generate R.jar ########"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> R jar cfv /home/z/go-projects/src/github.com/c-darwin/dcoin-go/R.jar . <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ../ <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"######## generate unsigned.apk ########"</span></span> aapt package -v -f -J /home/z/go-projects/src/github.com/c-darwin/dcoin-go/ -S /home/z/go-projects/src/github.com/c-darwin/dcoin-go/res/ -M /home/z/go-projects/src/github.com/c-darwin/dcoin-go/AndroidManifest.xml -I /home/z/android-sdk-linux/platforms/android-22/android.jar -F unsigned.apk <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"######## extract resources.arsc ########"</span></span> unzip unsigned.apk -d apk mv apk/resources.arsc . rm -rf apk unsigned.apk ANDROID_HOME=/home/z/android-sdk-linux go generate github.com/c-darwin/mobile/cmd/gomobile/ go install github.com/c-darwin/mobile/cmd/gomobile/ CGO_ENABLED=1 GOOS=android ANDROID_HOME=/home/z/android-sdk-linux gomobile build -v github.com/c-darwin/dcoin-go</code> </pre><br><div class="spoiler">  <b class="spoiler_title">About Katya</b> <div class="spoiler_text">  She responded very positively to the fact that I came in contact with her, agreed to meet.  Then she said that everything was bad for her, the girlfriend with whom she rented the apartment moved out and that she was crying every day because of stress, she also decided to quit.  I decided that when we met, I would suggest that she move to live with me and not bathe about anything. </div></div><br><h3>  Conclusion </h3><br>  In the next, final article I will tell you about gomobile and IOS.  And finally, there will be a final about Katya. </div><p>Source: <a href="https://habr.com/ru/post/277099/">https://habr.com/ru/post/277099/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../277087/index.html">Angular 1.5: Components</a></li>
<li><a href="../277089/index.html">Google refuses to flash in advertising</a></li>
<li><a href="../277091/index.html">Security Week 06: bank robbery on the stream, breaking the grid, Poseidon / Amebey / Kianokhet</a></li>
<li><a href="../277093/index.html">Working with USB devices in Android</a></li>
<li><a href="../277097/index.html">UFCS in the programming language D</a></li>
<li><a href="../277101/index.html">Fix MySQL dump (in less than 30 lines)</a></li>
<li><a href="../277103/index.html">Machine Learning Revolution: General Principles and Effects on SEO</a></li>
<li><a href="../277105/index.html">Bear, the dismemberment and February 14</a></li>
<li><a href="../277107/index.html">Sandy Metz and Object-Oriented Design in Ruby</a></li>
<li><a href="../277109/index.html">Vision-based SLAM: tutorial</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>