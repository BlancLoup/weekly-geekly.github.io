<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Math on the fingers: let's count at least one row of Fourier in the mind</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Do you need to read this text? 
 Let's check. Read the following: 

 Trigonometric Fourier Series Functions  Ôøº called the functional series of the for...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Math on the fingers: let's count at least one row of Fourier in the mind</h1><div class="post__text post__text-html js-mediator-article"><h1>  Do you need to read this text? </h1><br>  Let's check.  Read the following: <br><br><blockquote>  Trigonometric Fourier Series Functions <img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a98b9866136e1b2964922c7dcfc2cbe624f051be">  Ôøº called the functional series of the form <br><br><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/ae5a03b6cb4e63b17ea1b80fe68e013d727d2fd3">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Where <br><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/82f6326f9132f467f9cb2c455115af9691610073"><br><br><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/fdf13e2643634b42a8a7f4ae7491a66b2f50106b"><br><br><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/02a1fa3338ab15228258d61bca60d8b3dd330c00"><br></blockquote><br><br><h1>  Terrible, but still want to understand what it means? </h1><br>  Means, to you under kat.  I will try not to use formulas. <br><a name="habracut"></a><br><h1>  Motivation </h1><br>  It is my deep conviction that mathematics can be approached on two levels: most people see it (they are taught that way) as a set of icons and rules for operations with icons, which leads to the masses of people who are traumatized by mathematics.  And you can try to convey the meaning and ideas, not really focusing on the icons.  Personally, I am incapable of a syntactic approach; I will surely lose some minus in a chain of two formulas, which does not prevent me from being quite successfully considered a mathematician.  Just in my head graphic accelerator. <br><br>  I have already cited Feynman's quotation about how exactly he read all the equations, what he had to do: <br><br><blockquote>  Actually, there was a certain amount.  I had a scheme, which I am today <br>  something that i'm trying to understand: i keep making up examples.  For instance, the mathematicians would come in with a terrific theorem, and they're all excited.  I construct something which fits all the conditions.  You know, you have a set (one ball) - disjoint (two balls).  There are more conditions on.  Finally, I‚Äôm saying, ‚ÄúFalse!‚Äù </blockquote><br>  And while preparing this text, I came across a remarkable report by Henri Poincar√©, who, perhaps, was the greatest mathematician of the late nineteenth and early twentieth century.  He pointed out that even in such an abstract science as mathematics, it is necessary to cultivate intuitive concepts, for example, the concept of straightness, although intuition should be verified by formal proofs. <br><br>  His report is entitled ‚ÄúDu r√¥le de l'intuition et de la logique en math√©matiques‚Äù, in French you can read <a href="http://henripoincarepapers.univ-lorraine.fr/chp/hp-pdf/hp1902cm.pdf">here</a> , an English translation is available <a href="http://www-history.mcs.st-and.ac.uk/Extras/Poincare_Intuition.html">here</a> .  I highly recommend interested in mathematics, read in one breath. <br><br>  <b>Update:</b> <a href="http://alexandr4784.narod.ru/apon/aponcn_01.pdf">Here</a> lies the Russian translation. <br><br>  Unfortunately, it is very difficult to transmit intuition, but I will try, since the benefit from the transmitted intuition is incomparably higher from the benefit of transmitting just icons. <br><br><h1>  What I rely on in this text </h1><br>  First of all, you need to know what a vector is, at least at the ‚Äúarrow‚Äù level.  Well, imagine that the arrows can be drawn in a significantly larger number of dimensions than 2 or 3. So what can be stored in a vector std :: vector. <br><br>  Then the central concept is <a href="https://ru.wikipedia.org/wiki/%25D0%25A1%25D0%25BA%25D0%25B0%25D0%25BB%25D1%258F%25D1%2580%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B8%25D0%25B7%25D0%25B2%25D0%25B5%25D0%25B4%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5">scalar product.</a> <br><br>  On the fingers, the scalar product can be represented as a measure of how much one vector looks like another.  That is, it is an operation that takes two vectors as input, gives a number to the output.  Data normalization is details that are not very necessary yet.  Therefore, if I have two arrows of unit length, then the scalar product is equal to one, if the arrows are the same, zero if they are orthogonal and minus one if they are oppositely directed. <br><br><h1>  Lyrical digression </h1><br>  <b>This is not just a lyric, this is an example that at first glance is not related to the topic of the conversation, but in fact is its essence.</b>  <b>Want to understand further - understand the example.</b>  <b>What is unclear, ask questions.</b> <br><br>  Let's take a moment to consider an extremely practical task: I have a leisurely robot, and he should know where he is.  The navigation system must be passive.  I love extremely oak solutions, so I put two microphones on my robot (like human ears).  Then I have a beacon (actually several, but let's about one), which loses some (mono) sound in the loop.  For example, like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ddf/310/84f/ddf31084fe7a104ab927fdd5b8fc8abb.png"><br><br>  These are just dry clicks; let us set one click per second for simplicity. <br><br>  The ‚Äúears‚Äù of the robot are at different distances from the lighthouse, and the sound propagates slowly, so each of the two microphones will record the same signal, plus or minus, but with a slight delay one relative to the other.  I am not looking for easy ways, so I do not have laboratory conditions.  Here, for example, what a record looks like in a few seconds: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3d3/2b1/08b/3d32b108bae8d77321030664a3a4034c.png"><br><br>  Two channels by the number of ears, high noise (music plays).  The recording shows regular bursts of dry clicks, but it‚Äôs extremely difficult to directly search for them in the signal, sometimes the music is even louder than clicks. <br><br>  How do I remove background noise?  I remind you that my robot is completely unhurried.  The most oaky way is to record an hour of sound, then cut it into 3,600 pieces per second (I have one click per second), and take the average between all these pieces of recording. <br><br>  It turns out something like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5d6/603/4fd/5d66034fd8c2cdda6c064283ad96301b.png"><br><br>  The peaks of clicks occur in each of the 3,600 pieces at the same place, and the rest of the noise is smeared more or less evenly along the entire length, as a result the noise goes away.  By the way, I have several lighthouses, no synchronization between them, and only two ears.  And this is how I divide the signals from the beacons: one beacon clicks three times a second, another five, the third seven.  <b>(Very important)</b> By cutting the same signal into 1/3, 1/5, or 1/7 second pieces, I get the signal from the right beacon! <br><br>  So, now I need to understand how one signal is shifted relative to another.  I don‚Äôt really care at exactly where I‚Äôm recording at the peak, I need to shift one channel relative to another. <br><br>  First, let's understand how I can even imagine this signal in the memory of the machine.  I write the usual wav with a sampling frequency of 44100Hz.  The record length is one second, so I have just two arrays (vectors!) Of real numbers with 44,100 elements. <br><br>  We fix one vector, and the second 44100 times cyclically shift to the right.  <b>(Very important)</b> Let's calculate 44100 scalar products and take the shift at which this scalar product is maximal.  That is, it is this shift that maximizes the similarity of the two signals.  Congratulations, you have just considered the <a href="https://en.wikipedia.org/wiki/Cross-correlation">cross-correlation function!</a> <br><br>  <b>Update:</b> nice <a href="https://habrahabr.ru/post/308526/">comment</a> with illustration. <br><br><h1>  And now let's count the Fourier series in the mind. </h1><br>  The previous section is very important, but for now let's put it aside and try to count on the fingers a simple Fourier series. <br><br>  As an example, let's take a simple square signal, so beloved in electronics.  The graphics I draw in <a href="https://cloud.sagemath.com/">sage</a> . <br><br><pre><code class="hljs matlab">def square_wave(t): <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (sgn(<span class="hljs-built_in"><span class="hljs-built_in">sin</span></span>(t))+<span class="hljs-number"><span class="hljs-number">1</span></span>)/<span class="hljs-number"><span class="hljs-number">2</span></span> t = var(<span class="hljs-string"><span class="hljs-string">'t'</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">plot</span></span>(square_wave(t), (t, <span class="hljs-number"><span class="hljs-number">-10</span></span>*<span class="hljs-built_in"><span class="hljs-built_in">pi</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>*<span class="hljs-built_in"><span class="hljs-built_in">pi</span></span>),figsize=(<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>))</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/b06/a15/7f5/b06a157f5cea810d66ced288e7ac7b7b.png"><br><br>  This is a simple periodic signal with a period of 2 pi.  Half the time it is zero, half the time is one.  Let's take the coefficients of the Fourier series (see the beginning of the article). <br><br><h3>  Zero frequency </h3><br>  The coefficient a0 is just the average of the signal, it is obvious that it is equal to half.  How to count a1 and b1? <br><br><h3>  First frequency </h3><br>  And here I propose to draw one period of our signal, but this time not in the usual Cartesian coordinate system, but in the polar one.  In total, our angle goes from zero to two pi, and we get the following picture: <br><br><pre> <code class="hljs lisp">parametric_plot((<span class="hljs-name"><span class="hljs-name">cos</span></span>(<span class="hljs-name"><span class="hljs-name">t</span></span>)*square_wave(t), sin(t)*square_wave(<span class="hljs-name"><span class="hljs-name">t</span></span>)), (<span class="hljs-name"><span class="hljs-name">t</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>*pi))</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/b3e/36c/4ba/b3e36c4ba92e697a1607e1e6f90c6177.png"><br><br>  Why in the polar system?  Very simple.  How are the polar coordinates of a point (r, alpha) converted to Cartesian? <br><br>  x = r cos (alpha) <br>  y = r sin (alpha). <br><br>  And what we have under the sign of the integral in the formula for a1 and b1?  That's right, f sin (t) and f cos (t).  It remains to integrate.  How to do it in the mind?  Imagine that you have this is not a mathematical graph, and a piece of wire.  Let's find its center of gravity.  Obviously, it will lie on the ordinate axis approximately at the center of our arc (in fact, at a distance of 2 / pi from the center, well, yes, this is not the essence, let's call this distance A): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/691/5fc/aa4/6915fcaa43cf5c1336c070c681621be9.png"><br><br>  The coordinates of the red point (the center of gravity of the graph) are the integrals we need (up to multiplication by a constant, but that‚Äôs not the point).  By the way, can you say why? <br><br>  Total a1 = 0, b1 = A. <br><br><h3>  Second frequency </h3><br>  What up to a2 and b2?  Let's do the polar graph again, winding up our usual graph around zero.  The only thing that now we will wind, making two turns. <br><br>  First turn: <br><br><pre> <code class="hljs lisp">parametric_plot((<span class="hljs-name"><span class="hljs-name">cos</span></span>(<span class="hljs-number"><span class="hljs-number">2</span></span>*t)*square_wave(<span class="hljs-name"><span class="hljs-name">t</span></span>), sin(<span class="hljs-number"><span class="hljs-number">2</span></span>*t)*square_wave(<span class="hljs-name"><span class="hljs-name">t</span></span>)), (<span class="hljs-name"><span class="hljs-name">t</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, pi))</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/cb4/aee/6b2/cb4aee6b26625eafeb920f3e22111a7f.png"><br><br><pre> <code class="hljs lisp">parametric_plot((<span class="hljs-name"><span class="hljs-name">cos</span></span>(<span class="hljs-number"><span class="hljs-number">2</span></span>*t)*square_wave(<span class="hljs-name"><span class="hljs-name">t</span></span>), sin(<span class="hljs-number"><span class="hljs-number">2</span></span>*t)*square_wave(<span class="hljs-name"><span class="hljs-name">t</span></span>)), (<span class="hljs-name"><span class="hljs-name">t</span></span>, pi, <span class="hljs-number"><span class="hljs-number">2</span></span>*pi))</code> </pre> <br><br>  The second turn will obviously be empty, our square signal at this moment is zero: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/eb3/28d/132/eb328d1328fb82da0a481f19d4333078.png"><br><br>  The center of mass of the first + second graphs obviously lies at zero.  Thus, a2 = 0, b2 = 0. <br><br><h3>  Third frequency </h3><br>  Now we wind around one zero period of our function three times, for clarity, I show three turns on separate graphs: <br><br><img src="https://raw.githubusercontent.com/ssloy/tutorials/master/tutorials/fourier/third.png"><br><br>  The first coil fills the circle completely, the second half, and the third is empty.  If one full revolution weighs one kilogram, then we have one kilogram at zero and half a kilo at distance A from zero.  Total, the center of gravity will be at distance A / 3 from zero. <br><br>  a3 = 0 <br>  b3 = A / 3 <br><br><h3>  Higher frequencies </h3><br>  What will happen to the fourth frequency?  Two filled coils and two empty, the center at zero.  And so for all the even ones. <br><br>  What will happen to the fifth frequency?  Two filled, two empty and one half turn.  Total center of gravity on the y-axis at a distance of A / 5 from zero. <br><br><h1>  Summarize </h1><br>  If we look again at how we consider integrals, it becomes clear that between our signal (square wave) and the functions cos (nx), sin (nx) we are looking for scalar products.  That is, we see how much our signal is like cos (nx) and how much it looks like sin (nx).  Winding a certain number of times the graph of the (periodic!) Function around zero, we suppress all frequencies except the current one. <br><br>  The polar angle of our center of gravity tells us how much the signal looks like the corresponding sine or how much it looks like the corresponding cosine.  And the distance at which the center of gravity is located indicates the strength of their contribution to the formation of our signal. <br><br>  Total our series is equal f (x) = 1/2 + 2 / pi sin (x) + 2 / (3 pi) sin (3x) + 2 / (5 pi) sin (5x) + ... <br><br><h1>  Homework </h1><br>  <strong>1)</strong> Did you understand the connection between the example of a robot and a square wave? <br>  <strong>2)</strong> How is the Fourier series related to the Fourier transform? </div><p>Source: <a href="https://habr.com/ru/post/308526/">https://habr.com/ru/post/308526/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../308512/index.html">Attackers use Twitter to manage malware for Android</a></li>
<li><a href="../308514/index.html">How to find out what kind of flowers to give to a girl, if only her head moves and she cannot speak?</a></li>
<li><a href="../308516/index.html">1 second loading acceleration gave a 10% conversion increase: case Staples</a></li>
<li><a href="../308520/index.html">Checking MSBuild source code with PVS-Studio</a></li>
<li><a href="../308522/index.html">What Google is silent on and why you should use Apache HttpComponents in Android</a></li>
<li><a href="../308528/index.html">About Legacy code without maximalism: what to do</a></li>
<li><a href="../308532/index.html">Selection of programming podcasts in Russian and English</a></li>
<li><a href="../308534/index.html">R and Spark</a></li>
<li><a href="../308536/index.html">Announcement of the conference Linux Piter 2016 - the second international Linux conference in Russia</a></li>
<li><a href="../308538/index.html">Crosswalk Project - replacement of Android WebView. Project development</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>