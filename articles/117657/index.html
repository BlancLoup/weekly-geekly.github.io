<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Ar. Drone: Linux on board</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="AR. Parrot Drone has achieved tremendous success since its release in September 2010, and is constantly striking the gaming and developer communities....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Ar. Drone: Linux on board</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/geektimes/post_images/203/380/87f/20338087fed6fa674c72209a8b6ed921.jpg" alt="image"><br>  <b>AR.</b>  <b>Parrot</b> <b>Drone</b> has achieved tremendous success since its release in September 2010, and is constantly striking the gaming and developer communities.  Moreover, having rummaged in it it is possible to find out that <b>AR.</b>  <b>Drone</b> works under <b>Linux</b> .  What makes this gadget? <br>  Connecting it to a computer is easy, because it is a <b>WiFi</b> device.  It looks like a special network, which you can then join from any computer that has a wireless network card.  If you have already connected it to a mobile device, the IP address will not be assigned when connected to the network, and it will not be possible to connect to it.  To work around this problem, launch a mobile device and disable the pairing function in the <b>Free Fligh</b> t application settings, or simply click the <b>Unpair button</b> on the device. <br><a name="habracut"></a>  What can be learned from this toy without taking it apart?  Since we are on its network and know its IP address, port scanning will be a good starting point.  By doing this, we will find out which ports are open and accessible, and also understand what access we will get to connect to the device. <br>  Running <b>nmap</b> showed two ports: <br><br> <code>21/tcp open ftp <br> 23/tcp open telnet</code> <br> <br>  Trying to establish a connection to the free <b>telnet</b> port, we get into <b>Bash</b> without the need to enter a password.  The login information indicates that we were able to connect to a <b>Linux</b> installation with <b>BusyBox</b> and that there is an available version number, so we can check intimate details and security issues, if necessary. <br>  Further consideration shows that we were in fact naturally dropped as <b>root</b> without a password, and we got full access to the device. <br><br> <code>#echo $USER <br> root</code> <br> <br>  Somehow too easy.  Leden at the thought that someone from the neighbors can connect to the network from a laptop and kill the processes while I am floating on a quadricopter in the sky. <br>  Let's look at the information on the processor and memory: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <code>#cat /proc/cpuinfo <br> Processor: ARM926EJ-S rev 5 (v5I) <br> BogoMIPS: 233.47 <br> Features: swp half thumb fastmult edsp java <br> CPU implementer: 0x41 <br> CPU architecture: 5TEJ <br> CPU variant: 0x0 <br> CPU part: 0x926 <br> CPU revision: 5 <br> Cache type: write-back <br> Cache clean: cp15 c7 ops <br> Cache lockdown: format C <br> Cache format: Harvard <br> I size: 32768 <br> I assoc: 4 <br> I line linght: 32 <br> I sets: 256 <br> D size: 16384 <br> D assoc: 4 <br> D line lenght: 32 <br> D sets: 128 <br> Hardware: Mykonos Parrot platform <br> Revision: 0904 <br> Serial: 0000000000000000</code> <br> <br>  As well as information regarding memory: <br> <code>#cat /proc/meminfo <br> MemTotal:126072 kB <br> MemFree: 105652 kB <br> Buffers: 0 kB <br> Cached: 3604 kB</code> <br> <br>  There is 128 MB of RAM on board - a bit more than you expect to find on such a small little thing.  There is enough memory and computing power for the embedded device, and we know that at least <b>FTP</b> and <b>telnet</b> daemons work on it.  Let's look at the list of processes and see what is inside the interesting part. <br>  Looking at the list of processes, we find in addition to the two daemons listed above, there is also a <b>DHCP server</b> and a <b>syslogger</b> .  In addition, there are two interesting processes that look specific to this device, one of which is responsible for processing all the controls and outputting the video back to your mobile device: <br><br> <code>960 root 2736 S /bin/sh /bin/check_update.sh <br> 961 root 11824 S /bin/program.elf</code> <br> <br>  In appearance, this <b>program.elf</b> process <b>is</b> similar to hosting the main device code.  The source code is not available here, and it probably was compiled to the motherboard to close the source code from users. <br>  The process <b>check_update.sh</b> looks readable: <br><br> <code>#cat /bin/check_update.sh</code> <br> <br>  It seems that he controls the directory of the firmware in search of new versions to update.  So, there is only one process <b>left</b> - <b>program.elf</b> .  He is probably responsible for all communication and interaction with mobile devices. <br>  By issuing <b>netstat, you</b> can see if there are open ports, and if so, which ports and to which address they are attached. <br>  The <b>netstat -p</b> command shows that we have an open <b>TCP port</b> for 5559 and <b>three UDP ports</b> - 5554, 5555, 5556. All of them belong to the <b>program.elf</b> process.  Given the functionality of <b>AR.</b>  <b>Drone</b> , there are a number of possible reasons for this.  One port is needed to control the device itself, two more - for the video channels of the front and bottom cameras.  This covers <b>UDP ports</b> , but in order to more accurately determine which port is intended for, you will need to take a closer look. <br>  It is noteworthy that the only security mechanism built into the device is the pairing technique available in the application settings: <b>Free Flight</b> .  It must be turned on to prevent hooligans from acting on WiFi, which can capture the device when it is in flight. <br>  <b>AR.</b>  <b>Drone is</b> perfectly equipped - it has built-in <b>Linux</b> , a lot of RAM, and a reliable mechanical part to support the flight.  What actually opens up a number of possibilities for this breathtaking toy is available on the built-in <b>Linux</b> installation <b>BusyBox</b> .  With a copy of Linux flying under your control, you get the opportunity to do a lot of unusual things. <br>  By performing simple port scans and checks on open ports and processes, you can transfer packets from and back to the device, potentially allowing you to create streaming video and control mechanisms that are used in your chosen language or platform. <br>  What you want to expect from the <b>AR</b> community <b>.</b>  <b>Drone</b> is the main open source application for device management.  This would open the hardware to use any version of <b>Linux</b> .  In the meantime, this is one of the weaknesses, which should not hinder the development of one of the most exciting modern toys. </div><p>Source: <a href="https://habr.com/ru/post/117657/">https://habr.com/ru/post/117657/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../117650/index.html">Mobile communications up to 50% cheaper? Reality</a></li>
<li><a href="../117651/index.html">Brazilian police will use hi-tech glasses to detect criminals in 2014</a></li>
<li><a href="../117652/index.html">How to promote the game in the AppStore: sharing experience on the example of Wordrive</a></li>
<li><a href="../117653/index.html">Simple analog projection clock</a></li>
<li><a href="../117654/index.html">We work with kernel modules in Linux</a></li>
<li><a href="../117658/index.html">BAE Systems is developing a microwave gun.</a></li>
<li><a href="../117659/index.html">Integration CMS Joomla and Ejabberd</a></li>
<li><a href="../117661/index.html">Recover killed MBR and partition table</a></li>
<li><a href="../117662/index.html">The Program of Encouraging the Authors is ‚Äúpitfalls‚Äù about which it is better to learn in advance</a></li>
<li><a href="../117663/index.html">Accelerate Visual Studio Part I. Unity Builds</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>