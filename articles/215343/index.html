<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>AST Transformations - First Step to Heavy Substances</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="And let's do magic with your Java code. Here is this: 


 We take it: 


import groovy.transform.Canonical import groovy.transform.TupleConstructor @C...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>AST Transformations - First Step to Heavy Substances</h1><div class="post__text post__text-html js-mediator-article">  And let's do magic with your Java code.  Here is this: <br><img src="https://habrastorage.org/getpro/habr/post_images/aec/8cf/a41/aec8cfa412c7126aacc143b0ad2a99ca.gif"><br><br>  We take it: <br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> groovy.transform.Canonical <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> groovy.transform.TupleConstructor <span class="hljs-meta"><span class="hljs-meta">@Canonical</span></span> <span class="hljs-meta"><span class="hljs-meta">@TupleConstructor</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Person</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> id String firstName String lastName Date birthdate }</code> </pre> <br>  We compile, and in bytecode we get an analogue of this one: <br><div class="spoiler">  <b class="spoiler_title">Hellish boilerplate on Java for over 100 lines</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.Date; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.Map; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Person</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> id; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String firstName; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String lastName; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Date birthdate; <span class="hljs-comment"><span class="hljs-comment">//   @TupleConstructor- public Person(Map parameters){ this.id = (int) parameters.get("id"); this.firstName = (String) parameters.get("firstName"); this.lastName = (String) parameters.get("lastName"); this.birthdate = (Date) parameters.get("birthdate"); } public Person(int id, String firstName, String lastName, Date birthdate) { this.id = id; this.firstName = firstName; this.lastName = lastName; this.birthdate =birthdate; } public Person(int id, String firstName, String lastName) { this(id, firstName, lastName, null); } public Person(int id, String firstName) { this(id, firstName, null, null); } public Person(int id) { this(id, null, null, null); } public Person() { this(0, null, null, null); } @Override public boolean equals(Object o) { if (this == o) return true; if (o == null || getClass() != o.getClass()) return false; Person person = (Person) o; if (id != person.id) return false; if (birthdate != null ? !birthdate.equals(person.birthdate) : person.birthdate != null) return false; if (firstName != null ? !firstName.equals(person.firstName) : person.firstName != null) return false; if (lastName != null ? !lastName.equals(person.lastName) : person.lastName != null) return false; return true; } @Override public int hashCode() { int result = id; result = 31 * result + (firstName != null ? firstName.hashCode() : 0); result = 31 * result + (lastName != null ? lastName.hashCode() : 0); result = 31 * result + (birthdate != null ? birthdate.hashCode() : 0); return result; } @Override public String toString() { return "Person{" + "id=" + id + ", firstName='" + firstName + '\'' + ", lastName='" + lastName + '\'' + ", birthdate=" + birthdate + '}'; } public int getId() { return this.id; } public void setId(int paramInt) { this.id = paramInt; } public String getFirstName() { return this.firstName; } public void setFirstName(String paramString) { this.firstName = paramString; } public String getLastName() { return this.lastName; } public void setLastName(String paramString) { this.lastName = paramString; } public Date getBirthdate() { return this.birthdate; } public void setBirthdate(Date paramDate) { this.birthdate = paramDate; } }</span></span></code> </pre><br></div></div><br><br>  Well, yes, it's nice.  But nothing unique, here is <a href="http://habrahabr.ru/post/142356">Lombok</a> , not to mention the ability of any good IDE to first generate and then hide all this boilerplate. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So why exactly Groovy, why <abbr title="Abstract Syntax Tree">AST</abbr> transformations? <br>  In this article I will try to justify in the short statement why to use Groovy AST transformations in Java projects, and (again, in brief) to tell what AST transfromations is in Groovy today.  If you already know why, and want only "how and what", feel free to scroll to "Introduction to AST transformations". <br><a name="habracut"></a><br><h4>  So why AST transformations and not Lombok? </h4><br>  To begin with, in order to use AST transformations, you do not need to know Groovy, write on Groovy, or run Groovy in runtime.  The transformation occurs during the compilation of the sorts and Groovy is added by one jar to the list of dependencies.  Everything. <br>  Thus, AST transformations are an excellent way to ‚Äúpush‚Äù Groovy into your project: ‚ÄúLook, boss, this is okay, this is just another library to fight the boiler back!‚Äù.  And then, already, of course, step by step, a test on Spock, behind the build on Graydle, the real Groovy will appear in your code - dynamic, functional and elegant.  AST transformations are just the first step. <br>  In addition, AST transformations are much more extensible, powerful and versatile than Lombok. <br>  Last but not least, AST transformations are perfectly supported in any IDE with Groovy support, and not just in Eclipse. <br>  Lombok‚Äôs frontal comparison with AST transformations is clearly beyond the scope of this article, so let's stop here. <br><br>  It seems to me to be taken for granted that the generation of bytecode has a huge advantage over the generation (and then ‚Äúcollapsing‚Äù in the editor so as not to put off an eye) of the source code - the generation occurs during compilation, it does not need to be ‚Äúmaintained‚Äù.  One example - IntelliJ IDEA perfectly generates hashcode and equals.  When adding a new field, I use these pens to erase these 2 methods and generate them again.  Fu <br><br>  There is much more to say about the benefits of AST transformations for both Java and Groovy developers, but I hope the idea is clear.  It's time to move on to practice. <br><br><h4>  Introduction to <abbr title="Abstract Syntax Tree">AST</abbr> transformations </h4><br>  One of Groovy's most important advantages is, of course, <a href="http://ru.wikipedia.org/wiki/%25D0%259C%25D0%25B5%25D1%2582%25D0%25B0%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5">metaprogramming</a> .  It comes in two types - at compile time and at run time. <br>  Metaprogramming during execution is about ‚Äúah, did you call a method that doesn't exist?  No problem, we‚Äôll think of something now, based on what you had in mind when you called this method. ‚Äù  Examples of such a mass - almost any Groovy library is based on such things, whether it be builders, slarpers, Grails, Ratpack, Gradle, and everything else.  But now it‚Äôs not about that (if you want it, see point 1 of brazen PR at the end of the post). <br><br>  Now we will talk about metaprogramming during compilation, namely, how to simply write one in the code, to get another in bytecode (well, or additional). <br><br>  We begin with the transformation that is stitched right in Groovy itself, without any annotations and other additions. <br>  We write: <br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Person</span></span></span><span class="hljs-class"> </span></span>{ String name }</code> </pre><br>  The output is a bytecode, in which all fields are <code>private</code> (in this case, <code>name</code> ), and all getters and setters are written (well, in this case, only <code>getName()</code> and <code>setName(String name)</code> , but the idea is clear). <br><br>  This beautiful little thing is a complete example of metaprogramming at compile time. <br><br>  Looking at this small escape from the boilerplate, the wonderful man <a href="https://twitter.com/shemnon">Danno Ferrin</a> said to himself: ‚ÄúBut there are still a lot of boilerplate, besides the getters and setters, and not everyone has the same!  Let's think of something that is connected and extensible! ‚ÄùAnd so the AST Transformations were born (the first, oddly enough, was <b><code>@Bindable</code></b> . Although, if you look at how much code it throws, it may not be strange). <br><br>  AST transformations are a set of annotations that change the <a href="http://ru.wikipedia.org/wiki/%25D0%2590%25D0%25B1%25D1%2581%25D1%2582%25D1%2580%25D0%25B0%25D0%25BA%25D1%2582%25D0%25BD%25D0%25BE%25D0%25B5_%25D1%2581%25D0%25B8%25D0%25BD%25D1%2582%25D0%25B0%25D0%25BA%25D1%2581%25D0%25B8%25D1%2587%25D0%25B5%25D1%2581%25D0%25BA%25D0%25BE%25D0%25B5_%25D0%25B4%25D0%25B5%25D1%2580%25D0%25B5%25D0%25B2%25D0%25BE">abstract syntax tree on the</a> fly during Groovy compilation.  We can say that adding getters and setters is an embedded AST transformation that always works, without adding annotations.  The rest is included only on demand. <br><br>  Let's see what we have: <br><ul><li>  So, the abstract pioneer <b><code>@Bindable</code></b> and her friend <b><code>@Vetoable</code></b> turn getters and setters into real properties, with the ability to hook listeners to them and listen, regarant and prohibit changes. </li><li>  Very fashionable now the words <b><code>@Category</code></b> and <b><code>@Mixin</code></b> add the nature of one class to another class.  Well, <a href="http://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25B8%25D0%25BC%25D0%25B5%25D1%2581%25D1%258C_%2528%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5%2529">impurities</a> ! </li><li>  <b><code>@Delegate</code></b> adds all the methods that the delegate has, implementing them, naturally, by the delegation, yes? <br>  We write: <br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Event</span></span></span><span class="hljs-class"> </span></span>{ String name <span class="hljs-meta"><span class="hljs-meta">@Delegate</span></span> Date date }</code> </pre><br><div class="spoiler">  <b class="spoiler_title">We get the delegation ready</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.Date; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Event</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String name; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Date date; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String name)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = name; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Date </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.date; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setDate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Date paramDate)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.date = paramDate; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">after</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Date otherDate)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> date.after(otherDate); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">before</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Date otherDate)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> date.before(otherDate); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">long</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getTime</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> date.getTime(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setTime</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">long</span></span></span></span><span class="hljs-function"><span class="hljs-params"> timestamp)</span></span></span><span class="hljs-function"> </span></span>{ date.setTime(timestamp); } }</code> </pre><br></div></div><br></li><li>  <b><code>@Immutable</code></b> makes the class immutable, and specifically: <br><ol><li>  Setters throw <code>ReadOnlyPropertyException</code> </li><li>  class becomes <code>final</code> </li><li>  fields become <code>private</code> and <code>final</code> </li><li>  constructors appear with all the fields: as simple as in parameters, so in map (as in the first example) </li><li>  A code appears that creates <abbr title="Defensive copies, see 'java. Effective programming ', article 24">backups</abbr> for the components being modified. </li><li>  appear <code>equals</code> , <code>hashcode</code> and <code>toString</code> </li></ol><br></li><li>  Here is a bunch of similar fighters with a boilerplate: <b><code>@InheritConstructors</code></b> adds all constructors from the <b><code>@TupleConstructor</code></b> , <b><code>@TupleConstructor</code></b> adds a map constructor, in which keys are field names and values ‚Äã‚Äãare values ‚Äã‚Äã(see the first example of this <b><code>@AutoClone</code></b> ), <b><code>@AutoClone</code></b> and <b><code>@AutoExternalize</code></b> add the corresponding methods, and <b><code>@Canonical</code></b> does the ‚Äúright Java class‚Äù - with a constructor without parameters, constructors that take all parameters (both in a row and mapa), and <code>equals</code> , <code>hashCode</code> and <code>toString</code> .  Well, as <b><code>@Immutable</code></b> , only mutable - we also saw it in the first example. </li><li>  Another fashionable term!  <b><code>@Lazy</code></b> will create a <a href="http://ru.wikipedia.org/wiki/%25D0%259E%25D1%2582%25D0%25BB%25D0%25BE%25D0%25B6%25D0%25B5%25D0%25BD%25D0%25BD%25D0%25B0%25D1%258F_%25D0%25B8%25D0%25BD%25D0%25B8%25D1%2586%25D0%25B8%25D0%25B0%25D0%25BB%25D0%25B8%25D0%25B7%25D0%25B0%25D1%2586%25D0%25B8%25D1%258F">lazy-initialized</a> field (on demand), optionally wrapped in soft-reference </li><li>  <b><code>@Newify</code></b> allows you to create objects using the <code>new</code> method instead of the name of the constructor (as in Ruby), or, conversely, only by the name of the constructor, without <code>new</code> (as in Python).  Here, perhaps, an example would not hurt: <br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Newify</span></span> rubyLikeNew() { <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> Integer.new(<span class="hljs-number"><span class="hljs-number">42</span></span>) == <span class="hljs-number"><span class="hljs-number">42</span></span> }</code> </pre><br>  or even <br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Newify</span></span>([Tree, Leaf]) buildTree() { Tree(Tree(Leaf(<span class="hljs-number"><span class="hljs-number">1</span></span>), Leaf(<span class="hljs-number"><span class="hljs-number">2</span></span>)), Leaf(<span class="hljs-number"><span class="hljs-number">3</span></span>)) }</code> </pre><br>  In the last example, we create a <code>Tree</code> and <code>Leaf</code> without using <code>new</code> .  Compare with the Java equivalent: <br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Tree </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">buildTree</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Tree(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Tree(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Leaf(<span class="hljs-number"><span class="hljs-number">1</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Leaf(<span class="hljs-number"><span class="hljs-number">2</span></span>)), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Leaf(<span class="hljs-number"><span class="hljs-number">3</span></span>)); }</code> </pre><br></li><li>  And here is a rectification of the old injustice: in Gruvy, by default all fields are <code>public</code> .  How to make a <code>package</code> ?  Through <b><code>@PackageScope</code></b> transformation! </li><li>  Regardless of whether you consider Singleton a pattern, or an anti-pattern, sometimes you have to write it.  Well, or just put <b><code>@Singleton</code></b> over the class, and a lazily-initialized singleton with a double check of locking is ready. </li><li>  Our, # razborpoletov-ny <a href="https://plus.google.com/%2BAndreyBloschetsov">Andrew</a> wrote a wonderful, entered into <b><code>@Memoized</code></b> 2.2 <b><code>@Memoized</code></b> , which remembers the result of the method, and if it is called again, returns the result immediately (and yes, the parameters matter) </li><li>  And finally - the annotation-anecdote <b><code>@NotYetImplemented</code></b> - it reverses the results of the JUnit tests: those that should fall, pass, and vice versa.  In addition, it reminds <code>def true=false //happy debugging</code> , this thing is useful for TDD - we throw tests for all methods, including those that are not yet registered, and force tests that should not yet and cannot work to pass with using <code>@NotYetImplemented</code> .  Thus, the fall of these tests will not prevent us from testing the rest. </li></ul><br>  And that is not all!  There is also an arch-important <b><code>@CompileStatic</code></b> , <b><code>@Field</code></b> , and a whole set of annotations for the endowment of suffering for concurency, but this is, all the same, another time (well, or, see point 1 of brazen PR at the end of the post). <br><br>  PS Now that you know what it is about, here are two interesting Habra articles about <a href="http://habrahabr.ru/post/145977/">how</a> and <a href="http://habrahabr.ru/post/205084/">what</a> to write new AST transformations.  About the same look below, in paragraph 2 of the brazen PR. <br><br>  And now brazen PR of 2 points: <br><ol><li>  Who needs Gruvey from scratch to sufficiently advanced support, let's go to my trainings, <a href="http://jugru.timepad.ru/event/109275/">April 17th in Moscow</a> and April 15th in Kazan (knock <a href="https://habrahabr.ru/users/alexbel/" class="user_link">alexbel</a> ) </li><li>  To whom are the abstract syntax tree dismemberments and writing your own AST transformations to fight your own <s>cockroaches with</s> boilerplays, go to my reports <a href="http://javapoint.ru/talks/">at the JPoint on April 18th</a> and on JavaDay Kazan on April 16th (knock <a href="https://habrahabr.ru/users/alexbel/" class="user_link">alexbel</a> again) </li></ol></div><p>Source: <a href="https://habr.com/ru/post/215343/">https://habr.com/ru/post/215343/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../215331/index.html">Microwave passive radar in the 10 GHz band</a></li>
<li><a href="../215333/index.html">Is Shared DAS concept an alternative to SAN?</a></li>
<li><a href="../215335/index.html">Microsoft released a set of updates, March 2014</a></li>
<li><a href="../215339/index.html">C ++ for Perl programmers</a></li>
<li><a href="../215341/index.html">Business Continuity: What can IBM offer?</a></li>
<li><a href="../215345/index.html">Problems with the code? Help the team write better code. Tips from Dino Esposito</a></li>
<li><a href="../215347/index.html">Who should be in the 21st century, if dad and grandfather are energy people?</a></li>
<li><a href="../215351/index.html">Channel aggregation and IP traffic balancing for storage</a></li>
<li><a href="../215353/index.html">We collect the pocket laser</a></li>
<li><a href="../215355/index.html">Search for odd performance reasons</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>