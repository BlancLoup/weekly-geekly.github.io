<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We write online game part 2 or work on the bugs</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Greetings% habrname%! 


 In yesterday's article for me, in general, it was expected that the majority will not be interested in nodejs, many will onl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We write online game part 2 or work on the bugs</h1><div class="post__text post__text-html js-mediator-article"><h4>  Greetings% habrname%! </h4><br><img src="https://habrastorage.org/storage1/fc1e2973/8d25e638/6aaf4234/59aaf5ca.png"><br><br>  In <a href="http://habrahabr.ru/blogs/nodejs/132544/">yesterday's article</a> for me, in general, it was expected that the majority will not be interested in nodejs, many will only watch the demo.  But unfortunately I did not take into account that the game will be evaluated in the article!  Although it was a shame for me to spend so much time writing an article (and that the most important game was written for the article, and not vice versa), I decided to write a sequel today. <br><br>  Well then!  We will work on the bugs and make a working game with everything asked for, but at the same time we will not deviate from the blog topic and consider all the technical issues encountered during the game test. <br><a name="habracut"></a><br>  <a href="http://habrahabr.ru/blogs/nodejs/132544/">The first message</a> in the topic was the first bug report from Assargin <a href="http://habrahabr.ru/users/assargin/" class="user_link">habravchanin</a> : <br><blockquote>  This is great - I manage to click 5-6 times in a row, while the browser and / or Internet slows down and I win automatically after the first turn!  No chance of an opponent!  :) <br>  And this is in FF 3.6.24, and in chrome 15.0.874.106 </blockquote><br>  And after him from <a href="http://habrahabr.ru/users/morfi/" class="user_link">Morfi</a> : <br><blockquote>  How so? <br><img src="http://www.habrastorage.com/images/screensis.png"></blockquote>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Here I missed the moment with a double move, well, that's understandable, I had the goal of testing the game so that everything worked.  On the other hand, validation was only on the client who walks.  Transfer it to the server. <br><br><h4>  Check who walks on the server </h4><br>  Open our file with the heart of the game modules / tictactoe.js in it we are looking for the turn function, which is the object of the game: <br><pre><code class="javascript hljs">GameItem.prototype.step = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x, y, user, cb</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.board[x + <span class="hljs-string"><span class="hljs-string">'x'</span></span> + y] !== <span class="hljs-literal"><span class="hljs-literal">undefined</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; <span class="hljs-comment"><span class="hljs-comment">//    "      ",   &lt;hh user="theshock"&gt;&lt;/hh&gt;     ! this.board[x + 'x' + y] = this.getTurn(user); this.steps++; cb(this.checkWinner(x, y, this.getTurn(user)), this.getTurn(user)); }</span></span></code> </pre> <br>  As you can see, when we received a move, we checked it only for the employment of the field, now we need to add a check for whose turn, for the beginning, we will introduce a new property for the game object called turn: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> GameItem = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">user, opponent, x, y, stepsToWin</span></span></span><span class="hljs-function">) </span></span>{ ... <span class="hljs-comment"><span class="hljs-comment">//   this.turn = 'X'; //      , ..         . }</span></span></code> </pre> <br>  Add a check in step and switch the move to the opponent: <br><pre> <code class="javascript hljs">GameItem.prototype.step = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x, y, user, cb</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.board[x + <span class="hljs-string"><span class="hljs-string">'x'</span></span> + y] !== <span class="hljs-literal"><span class="hljs-literal">undefined</span></span> || <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getTurn(user) != <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.turn) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; <span class="hljs-comment"><span class="hljs-comment">//      turn       this.board[x + 'x' + y] = this.getTurn(user); this.turn = (user != this.user ? 'X' : 'O'); //       this.steps++; cb(this.checkWinner(x, y, this.getTurn(user)), this.getTurn(user)); }</span></span></code> </pre> <br>  On it the first bug.  But after seeing <a href="http://habrahabr.ru/users/morfi/" class="user_link">Morfi's</a> screen, a bug in the UI rushed into my eyes, which did not update the interface, this is where it says 3 times ‚ÄúYou play: Zero‚Äù.  Debug of the game brought out that at the end of the game we disconnect the user from the personal room of the game in socket.io and thereby bring him to the common room for new games.  And thus we connect the user to new games, although he did not even have time to press the "new game" button.  It can be fixed easily, we will add the entrance to the game by pressing a button, and not as it is now automatically. <br><br><h4>  End the game without automatically restarting the new one. </h4><br>  Open our client file tictactoe.js which is located in the public folder and add a call to the game launch event to the button, then change the click event to the page reload: <br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">'#reload'</span></span>).hide().button({<span class="hljs-attr"><span class="hljs-attr">icons</span></span>:{<span class="hljs-attr"><span class="hljs-attr">primary</span></span>:<span class="hljs-string"><span class="hljs-string">'ui-icon-refresh'</span></span>}}).click(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ $(<span class="hljs-string"><span class="hljs-string">'#reload'</span></span>).off(<span class="hljs-string"><span class="hljs-string">'click'</span></span>).click(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.location.reload();}); socket.emit(<span class="hljs-string"><span class="hljs-string">'start'</span></span>); });</code> </pre> <br>  And on the server side of index.js, we take the function of launching the game into a separate event: <br><pre> <code class="javascript hljs">socket.on(<span class="hljs-string"><span class="hljs-string">'start'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(Game.users[socket.id] !== <span class="hljs-literal"><span class="hljs-literal">undefined</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; <span class="hljs-comment"><span class="hljs-comment">//    ,         Game.start(socket.id.toString(), function(start, gameId, opponent, x, y){ ... }); });</span></span></code> </pre> <br>  Now we will have no problems with restarting without the knowledge of the user, until he himself clicks to start a new game. <br><br><h4>  Timeout </h4><br>  Many began to complain that no one walks, it was the greatest evil, perhaps because of the problems that many had with the game, they simply could not walk and the game hung blankly open.  As correctly noted, <a href="http://habrahabr.ru/users/evengard/" class="user_link">Evengard</a> needed a timeout.  Let's go back to our client file, which we ruled a little earlier public / titactoe.js and add a new variable to it and change the mask function: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> TicTacToe = { <span class="hljs-attr"><span class="hljs-attr">gameId</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">turn</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">i</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">socket</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">interval</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-comment"><span class="hljs-comment">//  ... mask: function(state) { var mask = $('#masked'), board = $('#board-table'); clearInterval(this.interval); $('#timer').html(15); this.interval = setInterval(function(){ var i = parseInt($('#timer').html()); i--; $('#timer').html(i); }, 1000); if(state) { mask.show(); var p = board.position(); mask.css({ width: board.width(), height: board.height(), left: p.left, top: p.top }); } else { mask.hide(); } },</span></span></code> </pre><br>  We will turn on the timer itself at the start of the game and upon receipt of the turn, and turn it off at the end of the game and when receiving the turn before turning it on again.  I will not comment on the code, it will be easier to look at the sources on github there everything is clear, we are more interested in server implementation. <br><br><h4>  Server timeout and learning EventEmitter </h4><br>  We now turn to the server part.  Here we need to set the timer correctly so that it works only for the desired game, so we will increase the game object further.  But, I promised that this article will be a teaching material, so we will not be doing a simple function, but we will learn what events in NodeJS are, but rather we will get to know EventEmitter more closely. <br>  To work on, you will need to connect it, because this is a separate events module in nodejs. <br>  At the very beginning of the models / tictactoe.js file, we will add an EventEmitter and Util connection, for which we need the last one I will explain a little later. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> util = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'util'</span></span>), EventEmitter = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"events"</span></span>).EventEmitter;</code> </pre> <br>  In this call, we not only connect the module but also create a new object of the exported function. <br><br><h5>  A bit of theory </h5><br>  Since we are already using socket.io, which is event based, which means that EventEmitter is already connected there, but not declared in our context.  To use it, we will prescribe its connection via a new one, while nodejs will not reconnect it, all require are cached, and each repeated call is just an appeal to an already connected module.  What EventEmitter is is an object of an event machine, in simple language it is a kind of monitoring of event calls, exactly the same as in regular javascript, but to work with it you need to do a little focus. <br><br><h5>  Back to practice </h5><br>  First we need to add an event handler to our game objects, which is why I connected another util module. It contains a set of different functions, a detailed description of each of them can be found in the official documentation, and we need only one inherits to add an EventEmitter to TicTacToe and GameItem : <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> TicTacToe = <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   EventEmitter.call(this); ... } util.inherits(TicTacToe, EventEmitter); var GameItem = function(user, opponent, x, y, stepsToWin) { //   EventEmitter.call(this); ... } util.inherits(GameItem, EventEmitter);</span></span></code> </pre> <br>  Remember I mentioned a certain trick, so here it is.  Thus, our objects can now work with their events.  It is with them that we will control the game timer. <br><br>  Add a property for storing the ID timer, as well as our first event handler in GameItem: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> GameItem = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">user, opponent, x, y, stepsToWin</span></span></span><span class="hljs-function">) </span></span>{ ... <span class="hljs-comment"><span class="hljs-comment">//   this.timeout = null; //   this.on('timer', function(state, user) { if(state == 'stop') { //   clearTimeout(this.timeout); this.timeout = null; } else { //   var game = this; this.timeout = setTimeout(function() { //  ,    game.emit('timeout', user); }, 15000); } });</span></span></code> </pre> <br>  Pay attention to one important point: there is no timeout event in GameItem, not yet, but now we will add it and add it to the index.js file, why we are doing there I will explain after the code: <br><pre> <code class="javascript hljs">socket.on(<span class="hljs-string"><span class="hljs-string">'start'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(Game.users[socket.id] !== <span class="hljs-literal"><span class="hljs-literal">undefined</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; Game.start(socket.id.toString(), <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">start, gameId, opponent, x, y</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(start) { <span class="hljs-comment"><span class="hljs-comment">//      timeout Game.games[gameId].on('timeout', function(user) { Game.end(user, function(gameId, opponent, turn) { io.sockets.in(gameId).emit('timeout', turn); closeRoom(gameId, opponent); //    }); }); ... }); });</span></span></code> </pre> <br>  The event handler itself, we carried out 2 layers above, where we are working with websockets.  All this is necessary in order to turn to the management of the website and the Game object (TicTacToe) after the event triggers. <br><br><h5>  A bug with a blink in the opera or my stupid mistake with statistics </h5><br>  User <a href="http://habrahabr.ru/users/seriyps/" class="user_link">seriyPS</a> wrote: <br><blockquote>  I don‚Äôt know what it is connected with, but your ‚Äúgame‚Äù sends events of ‚Äústats‚Äù 100 pieces per second.  At each such event, a significant part of the UI is redrawn and everything slows down.  It is impossible to play (and not with anyone).  Uzhoz in general. </blockquote><br>  And even very professionally approached the problem, having fully studied it.  I immediately wrote to the comments that this is really my mistake, and now I will explain what, it's trite, see the code: <br><pre> <code class="javascript hljs">io.sockets.on(<span class="hljs-string"><span class="hljs-string">'connection'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">socket</span></span></span><span class="hljs-function">) </span></span>{ io.sockets.emit(<span class="hljs-string"><span class="hljs-string">'stats'</span></span>, [ <span class="hljs-string"><span class="hljs-string">' : '</span></span> + countGames, <span class="hljs-string"><span class="hljs-string">' : '</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.keys(countPlayers).length, <span class="hljs-string"><span class="hljs-string">' : '</span></span> + onlineGames, <span class="hljs-string"><span class="hljs-string">' : '</span></span> + onlinePlayers ]); setInterval(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ io.sockets.emit(<span class="hljs-string"><span class="hljs-string">'stats'</span></span>, [ <span class="hljs-string"><span class="hljs-string">' : '</span></span> + countGames, <span class="hljs-string"><span class="hljs-string">' : '</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.keys(countPlayers).length, <span class="hljs-string"><span class="hljs-string">' : '</span></span> + onlineGames, <span class="hljs-string"><span class="hljs-string">' : '</span></span> + onlinePlayers ]); }, <span class="hljs-number"><span class="hljs-number">5000</span></span>); ... });</code> </pre> <br>  After establishing the connection of web sockets, we start sending statistics in the interval every 5 seconds, 50 users connected at different times 5 * 50 = 250 statistics requests were sent every 5 seconds by the server.  Negily such a bug. <br>  And it could be solved by simply removing the statistics code outside the event of connecting web sockets: <br><pre> <code class="javascript hljs">setInterval(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ io.sockets.emit(<span class="hljs-string"><span class="hljs-string">'stats'</span></span>, [ <span class="hljs-string"><span class="hljs-string">' : '</span></span> + countGames, <span class="hljs-string"><span class="hljs-string">' : '</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.keys(countPlayers).length, <span class="hljs-string"><span class="hljs-string">' : '</span></span> + onlineGames, <span class="hljs-string"><span class="hljs-string">' : '</span></span> + onlinePlayers ]); }, <span class="hljs-number"><span class="hljs-number">5000</span></span>); io.sockets.on(<span class="hljs-string"><span class="hljs-string">'connection'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">socket</span></span></span><span class="hljs-function">) </span></span>{ io.sockets.emit(<span class="hljs-string"><span class="hljs-string">'stats'</span></span>, [ <span class="hljs-string"><span class="hljs-string">' : '</span></span> + countGames, <span class="hljs-string"><span class="hljs-string">' : '</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.keys(countPlayers).length, <span class="hljs-string"><span class="hljs-string">' : '</span></span> + onlineGames, <span class="hljs-string"><span class="hljs-string">' : '</span></span> + onlinePlayers ]); ... });</code> </pre> <br><br><h5>  Refactoring </h5><br>  On this, the correction of errors was completed and I decided to do refactoring. <br>  In the index.js file, I first of all removed the extra code to disconnect users from rooms, brought it to the function: <br><pre> <code class="javascript hljs">io.sockets.on(<span class="hljs-string"><span class="hljs-string">'connection'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">socket</span></span></span><span class="hljs-function">) </span></span>{ ... function closeRoom(gameId, opponent) { socket.leave(gameId); io.sockets.socket(opponent).leave(gameId); } ... });</code> </pre> <br><br>  The online players and games counters are completely removed, because they are already in the objects: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> countGames = <span class="hljs-number"><span class="hljs-number">0</span></span>, countPlayers = [], Game = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TicTacToe(); ... io.sockets.emit(<span class="hljs-string"><span class="hljs-string">'stats'</span></span>, [ <span class="hljs-string"><span class="hljs-string">' : '</span></span> + countGames, <span class="hljs-string"><span class="hljs-string">' : '</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.keys(countPlayers).length, <span class="hljs-string"><span class="hljs-string">' : '</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.keys(Game.games).length, <span class="hljs-string"><span class="hljs-string">' : '</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.keys(Game.users).length ]);</code> </pre> <br><br>  There were still a lot of small things about different changes, the article was already a big one :) <br>  Thank you all who read this epic from the first article to this line! <br><br>  I also want to add many problems with the game, namely communications, are connected with the problems of the socket.io library, so not everything is as perfect as it may seem, the frequent errors of ‚Äúclient not handshaken‚Äù according to google analytics statistics confirm this. <br><br>  PS: I apologize that there was an active link to the article as early as the 15th, but the article was hidden by a UFO, and I was banned for 7 days for ‚Äúkarmdrocherstvo in posts.‚Äù  Since it is impossible to discuss the actions of the administration, I will simply keep silent. <br><br><h4>  To play </h4><br>  Now you can play, to start the game, you need to click "New game": <br>  <a href="http://ivan.zhuravlev.name/game">ivan.zhuravlev.name/game</a> - 6x6 field with 4 moves to win <br>  <a href="http://ivan.zhuravlev.name/game3">ivan.zhuravlev.name/game3</a> - 3x3 field with 3 moves to win <br><br>  View sources: <a href="https://github.com/intech/TicTacToe">github.com/intech/TicTacToe</a> <br>  Commit all changes to one: <a href="https://github.com/intech/TicTacToe/commit/ff3c1d6e9e298a84ab660b52385c378f69f24f01">github.com/intech/TicTacToe/commit/ff3c1d6e9e298a84ab660b52385c378f69f24f01</a> </div><p>Source: <a href="https://habr.com/ru/post/132676/">https://habr.com/ru/post/132676/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../132668/index.html">Nifiga himself went for some bread, or the story of one hacking</a></li>
<li><a href="../132669/index.html">KeygenME PWNED</a></li>
<li><a href="../132671/index.html">Announced by MageConf 3</a></li>
<li><a href="../132673/index.html">Report from the Russian presentation of the Samsung Galaxy Note</a></li>
<li><a href="../132674/index.html">Qt + OpenGl Basics. Part 1</a></li>
<li><a href="../132677/index.html">Sketch - 100 seconds about Asus</a></li>
<li><a href="../132678/index.html">ThinkQuest 2012. Mini-grants for teachers</a></li>
<li><a href="../132679/index.html">Introduction to Template Haskell. Part 2. Citation Tools</a></li>
<li><a href="../132680/index.html">QVV, QVC, and now - QVP: a plastic card from QIWI Wallet</a></li>
<li><a href="../132682/index.html">JavaScript Decorators</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>