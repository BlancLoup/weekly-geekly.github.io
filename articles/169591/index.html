<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Elastix communication with Panasonic TDE 200 and SIPGW16 v SIP card</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="To begin, I will describe the structure of the work and what should happen. There is a PBX Panasonic TDE 200 in it, there is a card with E1 channels a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Elastix communication with Panasonic TDE 200 and SIPGW16 v SIP card</h1><div class="post__text post__text-html js-mediator-article">  To begin, I will describe the structure of the work and what should happen.  There is a PBX Panasonic TDE 200 in it, there is a card with E1 channels and a card for SIP.  There is a server with the Elastix 2.4.0 build installed. You need to connect a trunk from the provider Globus (Moscow) to it and make a trunk with PBX.  Next, does the Globe issue a pool of phone numbers and a number of lines?  which need to be driven to the PBX through an asterisk and from the PBX it is all routed to analog phones.  The purpose of this article is to describe the setup of Asterisk in the best way. <br><br>  I ask those interested under the cat. <a name="habracut"></a><br><br>  Creating a trunk with a globe does not constitute any problems, so I will briefly describe the settings: <br>  Go to PBX&gt; Trunks&gt; Add SIP Trunk and fill in - Trunk Name: globus (You can any) <br>  Outgoing Settings&gt; Trunk Name: globus 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      PEER Details: <br>  type = peer <br>  host = 82.198.166.253 <br>  defaultip = 82.198.166.253 <br>  context = from-trunk <br>  dtmfmode = rfc2833 <br>  disallow = all <br>  allow = alaw, ulaw <br><br>  Everything.  No need to configure anything else.  At the bottom, click Submit, then Apply at the top and the trunk is configured. <br>  Globus authorization goes to the white IP address that you provide when entering into a contract. <br><br>  Further, no article on the creation of a PBX link with Asterisk helped me, but after much experimentation, trunk settings were born that work fine. <br><br>  Repeat the steps to create a SIP trunk, instead of the name Globus, I wrote Panasonic. <br>  Outgoing Settings&gt; Trunk Name: 100 <br><br>  username = 100 (For example) <br>  type = friend <br>  secret = admin123 (For example) <br>  qualify = yes <br>  host = dynamic <br>  dtmfmode = rfc2833 <br>  disallow = all <br>  context = from-internal (Important for outgoing calls from PBX to Asterisk) <br>  canreinvite = no <br>  allow = alaw &amp; ulaw &amp; g729 <br>  nat = yes <br>  port = 5060 <br>  trustrpid = yes (Without this, calls from analog PBX lines to Asterisk will not work) <br><br>  Apply changes. <br><br>  Next, you need to configure that phone numbers from the Globe go to the PBX through Asterisk.  We go to Inbound Rutes and create a new route. <br>  We write Description: is the name of the route. <br>  In order to determine which numbers will go to the PBX set the pattern DID Number :.  I want to note that in this way we will be able to drive some of the numbers on the PBX, and leave some for routing on Asterisk.  About templates you can read in Google, but in general, I asked _495XXXXXXX, always starting with "_", do not forget to use [1-5] instead of X to set possible numbers from 1 to 5 or [1-3,6] to set numbers 1,2,3,6, etc.  If you are lucky then under one template, you can drive all your numbers that should go to the PBX.  Ie for example the number _495123456 [1-3] will set the numbers 4951234561, 4951234562 and 4951234563. <br><br>  From the bottom, select Set Destination&gt; Trunks and set the Panasonic. <br><br>  It is worth noting that the Globe can issue phone numbers 4951234561 or 84951234561, that is, in the routing table on the PBX, when attaching a phone number to some analog port, your purchased number will be used, which will come from the Globus trunk with 8 or no. <br><br>  Now you need to configure outgoing communication.  If you make the trunk correctly, then you only have to make 1 outgoing route.  Go to Outbound Routes&gt; Add Route and write the name of the route. Route Name.  Further, if people dial 84951234567 on PBX, they will normally be able to get through, taking into account the correctly configured PBX, in this case we can issue all numbers, for example with code 495, into the Globus trunk, writing in Dial Patterns that will use this Route&gt; match pattern 495XXXXXXX and at the bottom select the Globe trunk. <br>  If you need to add or remove 8 or perform number manipulations, use the prepend and prefix fields.  The first one adds the digits accordingly to the number suitable for this pattern, and the second cuts out the digits. <br><br>  So we got a working trunk from this PBX. </div><p>Source: <a href="https://habr.com/ru/post/169591/">https://habr.com/ru/post/169591/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../169573/index.html">Multi-armed bandits: model dynamic Gamma-Poisson</a></li>
<li><a href="../169577/index.html">Visual editing of data on the page, using HTML as a data store</a></li>
<li><a href="../169579/index.html">Multivarka - smart pan or "not brought to mind" gadget</a></li>
<li><a href="../169581/index.html">Samsung will leave with Android this year.</a></li>
<li><a href="../169589/index.html">Surface Windows 8 Pro overview and comparison with RT</a></li>
<li><a href="../169595/index.html">Children collected 3d printer</a></li>
<li><a href="../169597/index.html">Collecting electricity from the environment</a></li>
<li><a href="../169599/index.html">Inconsistent computer</a></li>
<li><a href="../169601/index.html">Ten things I can't stand in OOP</a></li>
<li><a href="../169603/index.html">Ubuntu Phone will be available next week.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>