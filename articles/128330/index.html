<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating a server infrastructure in a small business in a modest budget</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day, dear readers. 

 I want to share my experience in deploying network services in a small office. Written further, of course, does not pretend...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating a server infrastructure in a small business in a modest budget</h1><div class="post__text post__text-html js-mediator-article">  Good day, dear readers. <br><br>  I want to share my experience in deploying network services in a small office.  Written further, of course, does not pretend to be the most effective way, however, this scheme justified itself in terms of the ratio of money spent to performance, flexibility and reliability. <br><br>  I think that for those who worked in an ordinary Russian company of less than 20-30, it is no secret how much the management pinches money for the development of IT.  So it was in company X, where I worked. <a name="habracut"></a><br>  When asked to allocate funds for an air-conditioned server cabinet, especially since 2010 was extremely hot, I was refused.  As a logical result - the iron in the 1C: Accounting server burned down.  With that, the previous sysadmin was guided by what was not clear: the drives worked in RAID 0. One of the hard drives died.  I hope it is clear what it means.  The very same hardware was a desktop class, in general, it became clear that it was better to purchase a new server. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      It was possible to achieve the allocation of 32 thousand rubles for the configuration, which I will describe below. <br><br>  Review of ready-made server solutions did not satisfy me at all.  For that kind of money, of course, you could have chosen a machine that pulls quietly 1C, but I looked further - I was tempted to use the possibilities of virtualization, despite the incomprehensible skepticism of some ‚ÄúIT professionals‚Äù with whom the company had friendly relations. <br><br>  The plan of the IT structure was as follows. <br>  On the new server, launch 3 virtual machines running Citrix XEN Server: <br>  1) domain controller + DHCP (Windows 2003 Server); <br>  2) 1C: Accounting (file version) + terminal server (Windows 2003 Server); <br>  3) proxy server on Squid (Ubuntu Server 9.10); <br><br>  There must also be a second physical server.  It should provide the following functions: <br>  1) copying and synchronizing personal documents for each account; <br>  2) file spoiler; <br>  3) to store backups of bases 1C; <br>  4) be able to run virtual machines that duplicate those on the main server. <br><br>  In my case, it already existed and had a good configuration: AMD Phenom II X2 @ 3.1Ghz, DDR3 4Gb, RAID 1 750Gb.  In principle, it could be organized on Ubuntu, but at the time of its creation I did not have enough knowledge to integrate Samba confidently with AD, I was afraid of glitches.  So Windows 2003 Server was selected again, but x64.  To run the VM is enough functional Oracle VirtualBox. <br><br>  So, what kind of iron for 32,000 rubles managed to pick up?  I decided that the most correct would be self-assembly of the machine on the server-class components. <br>  Approximately the filling looked like this: <br>  1) Power supply FSP Epsilon 85 PLUS 600; <br>  2) Intel Original S3420GPLC motherboard; <br>  3) Intel Xeon X3440 2.53GHz (4 Nehalem class physical cores, 8 logical cores); <br>  4) Memory DDR3 1333MHz ECC Kingston 8GB; <br>  5) Hard disk INTEL X25-M on 80GB. <br><br>  I know that the most controversial point is No. 5: both in terms of reliability and in terms of volume.  But my argument is: <br>  - for virtual machines, it was enough no more than 45GB, while the OS itself reserves a little less than 20GB for itself; <br>  - if necessary, you could add a standard hard disk; <br>  - SSD has unsurpassed performance parameters for a multitasking environment; <br>  - X25-M is certainly not an enterprise-class, but is considered one of the most reliable and durable models in its generation; <br>  - It is not strange - the thirst for experiment: few people decided to use SSD for such tasks.  The risks were justified - the speed of recovery of services should not have exceeded more than 1 hour in the event of an accident due to the duplication of the VM on the file server.  Benefit - server scalability for new services. <br><br>  The system has been assembled and configured.  No glitches or pitfalls for the year of operation have been identified.  The only thing I added was a virtual machine on the file server, duplicating a domain controller.  It turned out of course not very nice - for this we had to leave the session running, since VirtualBox at the service level was not designed to work.  But otherwise no complications. <br>  The best part is that there are still some computational resources left for future tasks - no new servers will have to be bought for a long time!  And of course, excellent fault tolerance. <br><br>  Office software is also worth mentioning.  The standard was a car with: <br>  1) Windows XP Pro SP3; <br>  2) OpenOffice 3.x; <br>  3) FrontMotion Firefox (this is an assembly for managing via GPO, like in IE); <br>  4) Symantec Endpoint Protection; <br><br>  OpenOffice has proven itself quite well, although of course it works a little slower, and in some places it behaves even better than MS Office, but in 99% of cases it was enough.  In other cases, service laptops with a small office pre-installed were used. <br><br>  In general, in the future, I planned to transfer all client machines to Ubuntu, but I did not have time to implement it, although the first experiments + people being accustomed to working in OpenOffice demonstrated the realism of such a venture. <br>  This would reduce the cost of purchasing antivirus software, since under Linux viruses are practically not written, and in the future, they will avoid some of the costs of switching to Windows 7, which includes both the cost of licenses and the cost of upgrading client computers.  However, together with this, we would have to lose the opportunities of group policies.  However, for the scale of company X is not critical. </div><p>Source: <a href="https://habr.com/ru/post/128330/">https://habr.com/ru/post/128330/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../128324/index.html">The path of the freelancer. The road to success or gaining customer confidence</a></li>
<li><a href="../128325/index.html">Congratulations on the holiday programmer and programmer!</a></li>
<li><a href="../128327/index.html">GIF Steganography</a></li>
<li><a href="../128328/index.html">"Calls" in the Odnoklassniki iPhone application</a></li>
<li><a href="../128329/index.html">How can I learn more, or why I will participate in the school CSEDays</a></li>
<li><a href="../128331/index.html">A pack of hungry wolves</a></li>
<li><a href="../128332/index.html">EU Neighbors Three Years Later</a></li>
<li><a href="../128333/index.html">Anti-prize Runet 2 and ¬Ω: Do you have a good attendance? Be our info sponsor!</a></li>
<li><a href="../128334/index.html">Day 2 ^ 8</a></li>
<li><a href="../128336/index.html">Uncram.com</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>