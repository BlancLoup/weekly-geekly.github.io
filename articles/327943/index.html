<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Splunk Machine Learning Toolkit Overview</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In addition to the fact that Splunk can collect logs from almost any source and build analytical reports, dashboards, alerts based on the built-in SPL...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Splunk Machine Learning Toolkit Overview</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/2d0/768/6a8/2d07686a85c141808afc63160f1c028c.png"><br><br>  In addition to the fact that Splunk can collect logs from almost any source and build analytical reports, dashboards, alerts based on the built-in SPL search query language, which we wrote about in <a href="https://habrahabr.ru/company/tssolution/blog/324136/">previous</a> articles, Splunk still has a very large base of free add-ons and applications. <br><br>  Today we look at one of the most popular, from the point of view of users, applications - Splunk Machine Learning Toolkit. <br><a name="habracut"></a><br>  I‚Äôll say right away that Splunk Machine Learning Toolkit is narrowly specialized in tasks and data types specific to Splunk.  It only supports unsupervised learning algorithms, and has a very specific application. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Since Splunk is primarily focused on machine data, the cases implemented in the Machine Learning Toolkit are aimed at this specificity.  Next, we consider in detail each case, but first briefly about the installation. <br><br><h2>  Where to get? </h2><br>  The application itself is free to download on <a href="https://splunkbase.splunk.com/app/2890/">Splunkbase</a> , but since all the Machine Learning algorithms are based on Python, before installing you will need to install Python for Scientific Computing Add-on, it‚Äôs also free and installs easily and quickly.  All instructions <a href="https://splunkbase.splunk.com/app/2890/">here</a> . <br><br><h2>  Application possibilities </h2><br>  Splunk in this application implemented 6 cases of applying Machine Learning features with basic statistical algorithms: <br><br><h3>  1. Predict Numeric Fields </h3><br>  This module makes a prediction of the values ‚Äã‚Äãof numeric fields, based on a combination of the values ‚Äã‚Äãof other fields in this event. <br><br>  <b>Example:</b> <br><br>  We have data on the number of users using various information systems (CRM, CloudDrive, WebMail, Remote Access and others) within the company for each day. <br><br><img src="https://habrastorage.org/files/205/85d/e13/20585de135354438af210278a06855c0.png"><br><br>  Splunk can easily collect all this data and organize it into a tablet like in the picture.  We want to predict the number of VPN users based on data from other fields (CRM, CloudDrive, HR1, WebMail), for this we can build a model based on linear regression. <br><br><img src="https://habrastorage.org/files/e29/fd1/eb2/e29fd1eb2c9849b499c1b83cbc9800e8.png"><br><br>  It is clear that we can change the dependent fields, and the algorithm itself.  There are several other popular algorithms for linline regression. <br><br><img src="https://habrastorage.org/files/77b/ddd/c40/77bdddc401964b5895da7c5c2a2294d1.png"><br><br>  Then press the fit model and get all the calculations, and as a table format, <br><br><img src="https://habrastorage.org/files/5b1/192/98d/5b119298d14a42be8810fb3d85ac9cf5.png"><br><br>  and graphically. <br><br><img src="https://habrastorage.org/files/b71/99f/794/b7199f7944184966a8067bb06b3215ab.png"><br><br>  Further, when we have built a model, we can apply its results in other queries, make dashbodras, build alerts on them and so on. <br><br><h3>  2. Detect Numeric Outliers </h3><br>  This module detects anomalous values ‚Äã‚Äãbased on previous data for this field. <br><br>  <b>Example:</b> <br><br>  We have data on the maximum server response time to customer requests for every 10 minutes, which Splunk easily collects from the server or servers and presents it as a label: <br><br><img src="https://habrastorage.org/files/721/f0a/e2b/721f0ae2ba984fa79ec2a54ed1d89835.png"><br><br>  We want to find anomalies, that is, events when the response time was very long, well, or very fast, based on historical data.  Splunk offers three measures of variation for identifying anomalies (SD - Standard Deviation, IQR - Interquartile Range, mad- Median Absolute Deviation).  We construct a model based on the standard deviation: <br><br><img src="https://habrastorage.org/files/43e/ed8/7af/43eed87af384457b8568fd407f5f5c78.png"><br><br>  Then we get the results: <br><br><img src="https://habrastorage.org/files/353/a87/f85/353a87f85b954cdbbd0f92fe1957f787.png"><br><br>  and the main calculations, both in tabular and in graphical form. <br><br><img src="https://habrastorage.org/files/6d6/2f3/184/6d62f318490f4cee8c05f5e6831c14f0.png"><br><br><h3>  3. Forecast Time Series </h3><br>  This module is designed to predict time series, that is, based on past data, predict future ones. <br><br>  The main algorithms are as follows: <br><br><img src="https://habrastorage.org/files/5f2/018/dde/5f2018dde49046a1a41656812f34bf1f.png"><br><br>  <b>Example:</b> <br><br>  We have data on the amount of traffic sent by the user, or the server or gateway, in fact, it does not matter where. <br><br><img src="https://habrastorage.org/files/f2f/da4/edd/f2fda4edded24da1bbb045a18f7dd855.png"><br><br>  We want to predict the amount of traffic in the future. <br><br>  We build a model: we choose an algorithm, we select a training sample, we choose the number of values ‚Äã‚Äãfor the forecast, and we obtain results with calculations about the quality of the model. <br><br><img src="https://habrastorage.org/files/067/1b8/811/0671b88118984cfe9f63d867748e8254.png"><br><br><h3>  4. Predict Categorical Fields </h3><br>  This module is designed to predict categorical, that is, qualitative variable based on other fields in this event. <br><br>  The main algorithms are as follows (description <a href="http://docs.splunk.com/Documentation/MLApp/2.2.0/User/Algorithms">here</a> ): <br><br><img src="https://habrastorage.org/files/ea7/760/416/ea7760416f07484e80d4fa7bb9f42b1a.png"><br><br>  <b>Example:</b> <br><br>  There is data from the telecom operator with customer information (the number of internal and external calls, cost, night calls, availability of special tariffs, etc.).  The main thing in this data is the <i>Churn</i> field <i>?</i>  which shows the client has left or left.  That is what we want to predict, based on the above fields. <br><br><img src="https://habrastorage.org/files/8f5/81a/554/8f581a554cf74511b1c0c239c222990b.png"><br><br>  We build the model: we choose the algorithm, we select the dependent variables, the size of the training sample and other possible parameters depending on the algorithm: <br><br><img src="https://habrastorage.org/files/1a7/b4a/470/1a7b4a47096d4a3da497fe539827a4ec.png"><br><br>  We obtain the results of training with data on the quality of the model: <br><br><img src="https://habrastorage.org/files/65f/deb/c8a/65fdebc8a01d4e81a5758f785ed55abb.png"><br><br><h3>  5. Detect Categorical Outliers </h3><br>  The module is designed to search for anomalies based on the analysis of field values ‚Äã‚Äãin the event, the algorithm for determining anomalies <a href="https://docs.splunk.com/Documentation/Splunk/6.5.3/SearchReference/Anomalydetection">here</a> . <br><br>  <b>Example:</b> <br><br>  We have data with information about purchases in the supermarket and we want to find anomalous transactions. <br><br><img src="https://habrastorage.org/files/ea1/42f/4fd/ea142f4fd189418a9dda9139b49dd8d2.png"><br><br>  Select the fields by which we want to determine the anomalies: <br><br><img src="https://habrastorage.org/files/c9a/87c/a98/c9a87ca98d714c2a9543c13cb9fcbc52.png"><br><br>  We get the result with the anomalies found: <br><br><img src="https://habrastorage.org/files/6c5/998/af3/6c5998af3135430bb21f82375ced042d.png"><br><br><h3>  6. Cluster Numeric Events </h3><br>  The module allows clustering of events.  Probably the weakest module, in terms of popularity of use. <br><br>  <b>Example:</b> <br><br>  We have data from Example 1 on the number of users using different information systems.  We want to define to cluster them. <br><br>  Model: select fields for clustering, normalize them, choose an algorithm and dependent fields, and also indicate the number of clusters. <br><br><img src="https://habrastorage.org/files/083/a36/144/083a361440b143b78961ef960757a3c5.png"><br><br>  Look what happened: <br><br><img src="https://habrastorage.org/files/d8d/618/ea8/d8d618ea80e84e81ac0e0628cdb1b0e0.png"><br><br>  In the pictures we see 2 clear clusters, then if we are engaged in the interpretation of the results, it can be understood that the first cluster is everyday life, and there are many users in the selected systems, the second is days off, and few users. <br><br>  The weakness of this module also lies in the fact that there are no metrics of model building quality in it. <br><br><h2>  Results </h2><br><ol><li>  Splunk is very good in that it creates all of these tags that we get at the entrance to each model from a huge number of logs from various systems, which is actually not very simple (he collects them, and stores, and preprocesses) </li><li>  If you need a quick statistical analysis, that is, the basic operations of Machine Learning - no need to go anywhere </li><li>  This is not the end result, then there may be a separate workflow, alert for example, or care in dashboards </li><li>  Splunk has an open API and if you do not have enough algorithms, you can load them from open Python libraries, information on how to do it <a href="http://docs.splunk.com/Documentation/MLApp/2.2.0/API/Introduction">here.</a> </li><li>  Splunk can also give results outside, for example on the same API. </li></ol></div><p>Source: <a href="https://habr.com/ru/post/327943/">https://habr.com/ru/post/327943/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../327913/index.html">Typing a technical interview</a></li>
<li><a href="../327931/index.html">The recipe for the perfect Habropost</a></li>
<li><a href="../327933/index.html">CocoaConf DC 2016: Swift server side</a></li>
<li><a href="../327937/index.html">Cross a hedgehog (Marathon) with a snake (Spring Cloud). Episode 2</a></li>
<li><a href="../327939/index.html">Again on the use of photos from the Internet. Supreme Court allowed?</a></li>
<li><a href="../327947/index.html">Part 2. Where to store data for decentralized applications on the blockchain?</a></li>
<li><a href="../327951/index.html">Video for Google Play: interface, animation or video?</a></li>
<li><a href="../327953/index.html">10 mandatory features of the new generation firewall</a></li>
<li><a href="../327957/index.html">Positive Technologies on GitHub</a></li>
<li><a href="../327960/index.html">Design Case: MroSupply E-commerce Site</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>