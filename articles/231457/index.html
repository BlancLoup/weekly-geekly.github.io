<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>HP All-flash array and 10 more major changes to 3PAR storage systems (part 2)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Last year was very interesting for HP in data storage systems. 
 In December 2012, the model 3PAR 7200 and 7400 mid-range systems were announced, in M...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>HP All-flash array and 10 more major changes to 3PAR storage systems (part 2)</h1><div class="post__text post__text-html js-mediator-article"> Last year was very interesting for HP in data storage systems. <br>  In December 2012, the model 3PAR 7200 and 7400 mid-range systems were announced, in May 2013, the model 3PAR 7450 was announced. <br>  You can read about this announcement in the review <a href="http://habrahabr.ru/company/hp/blog/182724/">‚ÄúAll-flash array of HP and another 10 big changes in 3PAR storage systems‚Äù</a> . <br>  What interesting innovations have appeared in 3PAR arrays over the past year? <br><a name="habracut"></a><br>  The HP 3PAR product was recognized as the fastest growing product in the data storage market in Russia, in 2013 over 500 3PAR mid-range systems were sold in Russia, growing from year to year is <b>2.5</b> times. <br>  For the 3PAR 7200 model, the number of supported media has increased, the array now supports 240 disks, and the supported raw capacity has increased to 400TB. <br>  For the 7400 model, the number of supported volumes, snapshots, initiators has increased, the supported capacity has been increased to 1.1 PB. <br>  The 3PAR 7400 model was named the best storage system of 2014 by DCIG version for <b>more than 200</b> indicators in comparison with <b>50</b> arrays of other manufacturers: <br>  <a href="http://dcigbuyersguides.com/2014-enterprise-midrange-array-buyers-guide/">dcigbuyersguides.com/2014-enterprise-midrange-array-buyers-guide</a> <br>  Also, the 7400 array is named the best in the class according to InfoWorld 2014: <br>  <a href="http://www.infoworld.com/slideshow/135876/infoworlds-2014-technology-of-the-year-award-winners-234225">www.infoworld.com/slideshow/135876/infoworlds-2014-technology-of-the-year-award-winners-234225#slide27</a> <br><img src="https://habrastorage.org/getpro/habr/post_images/365/da2/646/365da2646cb842dc7cfc56b1e17f4553.png"><br>  For the 3PAR 10400 model, the cache size has been changed from 192GB to 384GB; for the 3PAR 10400 models already purchased, the cache upgrade options are available.  The minimum firmware version is 3.1.2 MU3. <br>  For 3PAR 10800 arrays, the number of supported volumes and snapshots has also increased, and the supported raw capacity has increased to 3.2PB. <br><br>  <b>Support new high capacity drives</b> <br>  For the HP 3PAR 7000 and 10,000, new 4TB 7.2k NL discs were announced.  The maximum supported storage capacity has also increased: <br><img src="https://habrastorage.org/getpro/habr/post_images/47b/a87/9f0/47ba879f038b7dcfe4ea2d1b2bd6502f.png"><br>  <i>Fig.1 Table of increase in raw capacity for 3PAR models</i> <br><br>  For the All-flash array 7450 model, the cost per 1 TB is reduced by about 50%, the latency parameters in the operation of the array are reduced by 25%. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      If we talk about the performance of the 3PAR 7450 system, then with the stated improvements in system performance, it has seriously increased: according to HP internal tests, from <b>540,000 IOPs @ 0.6ms</b> to <b>900,000 IOPs @ 0.7ms</b> . <br><br>  In the new release 3.2.1, block deduplication will be added to the HP 3PAR 7450 with a coefficient <b>from 4: 1 to 10: 1</b> , depending on the load profile and the nature of the data.  Online deduplication is performed by a dedicated ASIC co-processor, thanks to which the performance of the array is not reduced.  Deduplication does not affect system scaling due to the patented HP 3PAR Express Indexing mechanism, and customers can get a disk array with a capacity of up to 460 terabytes ‚Äúnative‚Äù, without taking into account deduplication or 1.3 petabytes of usable capacity.  A little later, this mechanism will be added to other 3PAR arrays.  According to preliminary data, the deduplication functionality will be provided free of charge for all models. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/455/a67/2ed/455a672ed739fc6847f64ca1c9a946fc.png"><br>  <i>Fig.2 Data deduplication of HP 3PAR ASIC occurs online</i> <br><br>  The hardware implementation in the ASIC chips of the Zero Detection function works on all 3PAR arrays and allows defining repeatable patterns in the Fiber Channel data stream (for example, when virtual machines are initialized) and not physically writing them to disk.  For the HP 3PAR 7450, this not only increases the efficiency of disk space utilization, but also helps to prevent excessive wear of the SSD. <br><br>  Support has been added for new SSD drives of record capacity in 3PAR 7000 and 10000 arrays: <br>  480GB SSD, 920GB SSD and 1.9TB SSD with a form factor of 2.5 "and 3.5".  Thus, now at 3PAR you can order the storage level of SSD high capacity and density.  New SSD drives have an increased warranty of 5 years and a very low cost in terms of 1Gb and 1IOPS compared to traditional arrays using disks 100,200, 400 and 800 GB.  When using deduplication, Thin Provisioning and Zero Detection HP estimates the cost of storage at <b>70 rubles per gigabyte of</b> information. <br><br>  <b>Firmware Updates</b> <br><br>  MSI-X support <br>  Added support for MSI-X (Message Signaled Interrupts - eXtended), the controller's components were able to independently select the processor / core to handle a specific interrupt, and do it completely at the hardware level without executing the program code.  Thus, each array controller is better balanced across all processor cores. <br>  The use of MSI-X also resulted in improved load balancing between controllers. <br>  One of the indicators of this improvement is a reduction in the time spent on creating virtual volumes and presenting them to their hosts.  According to tests on an array with firmware 3.1.3, the time to provisioning was reduced to <b>95%</b> compared to the same array with firmware 3.1.2. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/050/acb/b49/050acbb49043c7d9613470eb77310858.png"><br>  <i>Fig.3 Reducing the time to create 100 volumes</i> <br><br>  In configurations with analogous configurations with microcode updating, the throughput increased and the delays decreased. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/704/6e4/4ba/7046e44bafd2b7aa112739018860ddd4.png"><br>  Fig.4 Increasing the throughput of the array with firmware 3.1.3 <br><br>  The advantages of these changes are especially clearly seen under the following conditions: the use of SSDs, the use of arrays under load for random reading and writing, and, potentially, on arrays with a large number of HDD carriers, on which data with high loads are located closer to the edge of the disk.  Potentially, the overall performance of the array in IOPs has increased, it is possible that the SPC-1 test results will be updated for 3PAR arrays with new highs. <br><br>  <b>Improvements in working with SSD</b> <br><br>  In the new version of the microcode, the wear rate of SSDs has decreased.  Let me remind you that in several generations of 3PAR arrays the following mechanisms are used, which reduce the wear of SSD carriers: <br>  1. Each controller uses an ASIC chip that drops zero blocks on the fly without writing them to the SSD. <br>  2. Disk space virtualization is used.  All volumes on the SSD are evenly spaced on all SSD carriers in the array, the load evenly falls on these carriers, which prevents premature wear. <br>  Adaptive Sparing technology has also been added, allowing you to use the spares space of each SSD carrier for overprovisioning - speeding up write operations and to increase the service life of SSDs.  Due to the nature of the SSD, the data cannot be directly overwritten, as on hard drives, in this case the logical and physical data mapping is used, known as logical block addressing (LBA).  When overwriting data, a new portion is recorded on a free block, and the old area is marked as obsolete and erased by the SSD controller.  Each rewriting process reduces the cell's rather short lifespan; in addition, any operating storage system reserves some of these cells for spares, which excludes them from use, which further reduces the lifespan of an SSD carrier. <br>  In 3PAR with version 3.1.3, a new mode of operation with SSD appeared - the capacity reserved for spare in each SSD is not blocked, but is given under the operations of acceleration of reading and writing, and only when errors appear on the carrier, this capacity is alienated back to spares. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/de8/791/a65/de8791a651329a76f96f5ca81d09de0d.png"><br>  <i>Fig.5. Using spares of SSD space to speed up read and write operations.</i> <br><br>  The use of this and the improvements described above in the operation of the 3PAR SSD made it possible for HP to deliver a <b>5-year</b> warranty on its 480GB, 920GB and 1.9TB SSD carriers. <br>  It is important to note that the warranty covers not only possible breakdowns, electronics failure and factory defects, but also obsolescence during the rewriting process, and the cost of carriers for 480GB, 920GB and 1.9TB with support for 3 years does not differ from carriers with a support period of 5 years .  This is a unique offer on the HP SSD market. <br>  For customers who have already purchased SSD 480GB and 920GB with a support period of 3 years - support automatically expands by 5 years.  Support for other components of the array - SAS disks, shelves and controllers remained unchanged - 3 years. <br><br>  <b>Thin Volume Improvements</b> <br><br>  Recall that 3PAR is a pioneer in the use of thin volumes for storage systems.  In addition, 3PAR has a constructive advantage by performing work with thin volumes on specialized ASIC chips without loading the main CPU, which makes it possible to use thin volumes for all tasks without sinking the system performance.  At the same time, incoming data streams also pass automatically through the ASIC and when zero blocks are detected - they are discarded, so the volume remains thin.  The recommendations for using thin volumes for various applications in 3PAR are not limited, unlike traditional arrays.  Licenses for all thin volume functionality (Get Thin, Start Thin, Stay Thin) for all 3PAR models are free. <br>  Thin volumes in 3PAR are now located on a three-level fast search table (Fast Lookup Table), analogous to the virtual memory lookup table (Virtual Memory lookup table), which in contrast to traditional-type arrays makes it possible to use thin volumes in 3PAR under high I / O load. <br>  When deduplicating data in 3PAR arrays, a similar three-level table mechanism will be used, which accelerates the search for identical hash sums. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2f8/a73/378/2f8a733788896aa7d088d1152f6b75d0.png"><br>  <i>Fig.6 Using a three-level deduplication lookup table</i> <br><br>  The additional benefits of thin volume technology in 3PAR can be read: <br>  3PAR Thin Technologies Technical Whitepaper <a href="http://h20195.www2.hp.com/v2/GetPDF.aspx%252F4AA3-8987ENW.pdf">h20195.www2.hp.com/v2/GetPDF.aspx%2F4AA3-8987ENW.pdf</a> <br>  HP Thin Technologies a Competitive Comparison <a href="http://h20195.www2.hp.com/v2/GetPDF.aspx%252F4AA4-4079ENW.pdf">h20195.www2.hp.com/v2/GetPDF.aspx%2F4AA4-4079ENW.pdf</a> <br>  HP 3PAR StoreServ Storage: Deduplication and Capacity Efficiency <a href="http://www8.hp.com/h20195/v2/GetDocument.aspx%3Fdocname%3D4AA4-9573ENW">www8.hp.com/h20195/v2/GetDocument.aspx?docname=4AA4-9573ENW</a> <br><br>  <b>Persistent Ports Improvements</b> <br><br>  In version 3.1.3, Persistent Ports technology has also undergone significant changes, now not only the entire controller failure is diagnosed, but also the HBA failure, signal loss in the optical channel.  The speed of switching paths from one controller to another has decreased by about 10 times and happens before the MPIO mechanism is enabled on the host. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/146/de7/082/146de7082f55b47ab122cb1fc60e3791.png"><br>  <i>Pic.7 Persistent port handles path loss by FC controllers, server paths remain online</i> <br><br>  Adaptive Optimization Tiring Improvements <br>  A number of improvements were made to the multi-level storage of data for 3PAR storage systems.  In particular, decreased performance performance when moving data blocks between different levels of storage. <br>  The ability to set the minimum IOPS threshold for the volume involved in the process of moving data blocks across storage levels was added.  This is true for those cases where the volume was created, and after this application stopped referring to it for a long time.  The blocks, in this case, automatically dropped to the lowest storage level on NL disks.  Now you can set the parameter "freezing" of blocks and the minimum IOPS value on that.  Each type of application can customize its own tiring settings. <br>  Also added are new reporting parameters for multi-level data storage: a general report of the density of data regions, a report on the density of data regions for each volume, a summary report of all the tiring policies (Adaptive Optimization). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/61b/32e/b0b/61b32eb0bf216699659b51c889e80cff.png"><br>  <i>Fig.8 in 3.1.3 added new reporting options Adaptive Optimization</i> <br><br>  <b>OpenStack support</b> <br><br>  3PAR arrays with OS version 3.1.2 MU2, 3.1.3 support the eighth release of free software for creating infrastructure cloud services and Openstack cloud storage (Havana): <a href="http://goo.gl/hFjMl0">goo.gl/hFjMl0</a> <br><br>  <b>QoS (Quality of Service) feature improvements</b> <br><br>  Added the ability to set target latency goals.  Volumes can have priorities High, Normal, Low.  If it is impossible to achieve the specified delay values ‚Äã‚Äãon one of the volumes, the delay values ‚Äã‚Äãfor other volumes participating in QoS change depending on the priority of the work that is set. <br>  Those.  first, the delay parameters for the volumes with the lowest priority ‚Äî Low ‚Äî will be changed, towards the higher delays.  If on the current configuration the array cannot reach the stated delay rates, then the parameters will be set based on the priorities of each volume. <br>  Added the ability to set parameters for minimum performance values ‚Äã‚Äã(min goals) guaranteed to be provided to storage system volumes. <br><br>  <b>Replication Improvements</b> <br><br>  With the firmware version 3.1.3, the 3PAR array received the unique replication functionality of one 3PAR 7000 or 10,000 array for 4 any other 3PAR arrays.  At the same time, mixed channel types are supported: RCFC, RCIP, FCIP and various types of data exchange between arrays: synchronous and asynchronous. <br>  This allows you to combine arrays into mixed circuits, and in this mode arrays of previous generations are supported (F-class). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c2b/a76/705/c2ba76705fe763246b41a21eb9a5b9c0.png"><br>  <i>Fig.9 possible 4x4 replication scenario</i> <br><br>  Such replication mode allows using Disaster Recovery as a Service. <br>  To enable this mode of operation, you do not need to purchase additional equipment and you do not need to use the advanced service to configure the arrays; it is enough to have a remote replication license on each array. <br><br>  HP 3PAR disk arrays are certainly one of the most reliable storage systems in the industry.  For the most demanding in terms of performance, business applications require absolute data protection.  To this end, HP has announced the <b><i>HP 3PAR Get 6-Nines Guarantee</i></b> program, which includes a legally binding guarantee of four-controller HP 3PAR StoreServ reliability at <b>99.9999%</b> data availability.  This means that the idle time of the array will be no more than <b>31.5 seconds per year</b> , or <b>2.59 per month</b> , or <b>0.605 seconds per week</b> !  Read more: <a href="http://goo.gl/gU3Zuc">goo.gl/gU3Zuc</a> <br>  This confirms the study of the functional All-flash storage class Midrange Gartner.  The storage of HP 3PAR StoreServ 7450, speaking in the Midrange category, according to the test results, was recognized as the best in terms of consumer qualities among devices of all major manufacturers.  In the High-End category, the HP 3PAR StoreServ and HP XP Storage systems also outperformed competitors in almost all nominations. <br>  More information about Gartner reports can be found at the links: <br>  <a href="http://www8.hp.com/h20195/v2/GetPDF.aspx/4AA5-1876ENW.pdf">www8.hp.com/h20195/v2/GetPDF.aspx/4AA5-1876ENW.pdf</a> <br><br>  <b>From other changes:</b> <br>  Virtual Storage Processor is now available for the Hyper-v environment. <br>  Support for Direct Attach copper cables for 7000 and 10,000 storage systems has been added. <br>  Added support for OM4 optical cables with a length of up to 100m.  This can be interesting for customers installing multiple cabinets with a storage system of 10,000, which can now be carried across the data center over long distances using OM4 cables 25-100m. <br>  For those who like to store data in encrypted form - support has been added for FIPS 140-2 encryption standard for 450GB / 900GB 10k drives and for 2TB / 4TB 7.2K. <br><br>  As a result, I would like to once again mention the advantages of the 3PAR 7450 storage system compared to other offers on the market: <br>  First, the 3PAR 7450 array provides high performance comparable to flash arrays.  This uses SSD drives, which are significantly cheaper than Flash modules.  Traditional data storage systems, due to outdated architecture, cannot achieve high levels of performance. <br>  Secondly, the 3PAR array supports Disaster recovery, which so far manufacturers of Flash arrays cannot offer. <br>  Third, Flash arrays, like traditional architecture arrays, cannot grow to 4 controllers with automatic load balancing between them. <br>  Fourthly, the Flash array itself is usually weakly connected to other storage systems, which reduces the area for its use, while 3PAR allows you to store all types of data on the same storage system, with a single management interface and dynamic data movement between levels . <br>  Fifth, 3PAR arrays can be federated from several systems, which is currently not available in both Flash solutions and in traditional architecture arrays. <br><br>  It only remains to make the right choice. </div><p>Source: <a href="https://habr.com/ru/post/231457/">https://habr.com/ru/post/231457/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../231447/index.html">Portable Wind Turbine Windpax</a></li>
<li><a href="../231449/index.html">Ecotourism in comfortable conditions</a></li>
<li><a href="../231451/index.html">The seventh "Festival 404" will be held October 4-5, 2014 in Samara</a></li>
<li><a href="../231453/index.html">High-speed construction of an energy efficient home</a></li>
<li><a href="../231455/index.html">Evacuated car? Notify owner</a></li>
<li><a href="../231459/index.html">Repair Hard Disk Western Digital My Passport Essential SE 750 GB USB3.0</a></li>
<li><a href="../231461/index.html">Speedometer for skate. Hopelessness</a></li>
<li><a href="../231465/index.html">In more detail about a dynamic magnetic strip</a></li>
<li><a href="../231469/index.html">Running CDN for cloud storage</a></li>
<li><a href="../231471/index.html">A simple cloud backup for developers, and how we work on it in Yandex Tolstoy Startup Camp</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>