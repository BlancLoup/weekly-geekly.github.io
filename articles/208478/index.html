<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>WoT gamepad feedback support</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good time of day, dear habrasoobschestvo! 

 Soon there will be a year, as I play on the gamepad in World of Tanks , if someone missed, as I chose the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>WoT gamepad feedback support</h1><div class="post__text post__text-html js-mediator-article">  Good time of day, dear habrasoobschestvo! <br><br>  Soon there will be a year, as I play on the gamepad in <a href="http%253A%252F%252Fworldoftanks.ru%252F%26ei%3DkivNUvOrJu_jygPll4GQAQ%26usg%3DAFQjCNHT4MT3pTmiv89qQnrIPIygkDFI4g%26sig2%3DcgxdzjNpYQrvGLDoU-yIHw%26bvm%3Dbv.58187178,d.bGQ">World of Tanks</a> , if someone missed, as I chose the first PC in my life for the game, I ask <a href="http://habrahabr.ru/post/173645/">here</a> . <br><br>  It is interesting to play a gamepad, but the developers do not want to officially support it, respectively, it is necessary to distort in every possible way to get "some functionality". 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br>  I will start with a small digression and describe the details of the game in WoT on the gamepad from the "box 360". <br><br>  For more or less sane game you need an <a href="http://xpadder.com/index.php%3Flang%3Drussian">Xpadder</a> .  Video, as I set up <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/YdlJow1dPKU%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253&amp;usg=ALkJrhgXf-aCIuyL-UBuG2VhHp17sIEybw" frameborder="0" allowfullscreen=""></iframe><br><br>  How to play?  An example of an ordinary battle <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/A36THknPY1U%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253&amp;usg=ALkJrhheISOHznd5NTexP26oQ_1_Sj0VQQ" frameborder="0" allowfullscreen=""></iframe><br><br>  Retreat.  Since I‚Äôm <s>not a wizard,</s> I‚Äôm just learning, a lot of the code below was not written by me, I‚Äôm writing how I <s>did</s> what I‚Äôve written by my own understanding, and I‚Äôm happy to receive any comments and help. <br><br>  Now to the point. <br>  Everyone knows that in many games the so-called feedback from the gamepad or ForceFeedback is used, which gives a deeper immersion in the game process due to vibrations (you go over bumps - there is vibration, you get hit by the enemy - there is vibration, etc.).  Of course, that I was interested in the opportunity to receive vibration feedback on the gamepad in the ‚Äútanchiki‚Äù. <br>  Digging this topic found the following points, allowing it to do: <br>  1. All that is needed is written in python, it is this language that is used in the game to perform everything and everything (I think that except for the BigWorld core). <br>  2. On <a href="http://stackoverflow.com/questions/19749404/is-it-possible-to-rumble-a-xbox-360-controller-with-python">stackoverflow</a> , I found the code I needed, which allows to transfer vibrations to the gamepad. <br>  3. Wargaming has already built into its game the vibrations for the <s>GameTrix</s> vibrocall, the vibroning project itself is open and the entire SDK is available for study and download. <br>  4. Search the game folders for the location of the scripts "World_of_Tanks \ res \ scripts \ client \ vibroeffect". <br><br>  After sorting out the SDK vibronakdki ‚Äúon the shelves, scripts of the game - it turns out that using <a href="https://code.google.com/p/wot-xvm/">XVM</a> (eXtended Visualization Mod for World of Tanks), you can try to replace the BigWorld.WGVibration on GamePadVibration, directly through which to call the necessary vibration methods directly in the gamepad. <br>  But it turned out that in the game python there is no full-fledged ctypes, respectively, there is a need to make a service that allows you to perform a "vibrating" script on a regular python, receiving commands from the game.  This service was created using <a href="http://flask.pocoo.org/">Flask</a> .  Below I give the code of the executable script, which transmits the vibration to the gamepad during shots, receiving hits / bounce and damage to the tank.  Vibration effects were written by me from the original ones for vibroncaps. <br><div class="spoiler">  <b class="spoiler_title">GPService.py</b> <div class="spoiler_text"><pre><code class="python hljs">ENABLE_LOG = <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> d = dict() <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> flask <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Flask <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> flask <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> request <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ctypes <span class="hljs-comment"><span class="hljs-comment"># Define necessary structures class XINPUT_VIBRATION(ctypes.Structure): _fields_ = [("wLeftMotorSpeed", ctypes.c_ushort), ("wRightMotorSpeed", ctypes.c_ushort)] xinput = ctypes.windll.xinput1_3 # Load Xinput.dll # Set up function argument types and return type XInputSetState = xinput.XInputSetState XInputSetState.argtypes = [ctypes.c_uint, ctypes.POINTER(XINPUT_VIBRATION)] XInputSetState.restype = ctypes.c_uint # You can also create a helper function like this: def set_vibration(controller, left_motor, right_motor): vibration = XINPUT_VIBRATION(int(left_motor * 65535), int(right_motor * 65535)) XInputSetState(controller, ctypes.byref(vibration)) if not ENABLE_LOG: import logging log = logging.getLogger('werkzeug') log.setLevel(logging.ERROR) app = Flask(__name__) @app.route('/connect') def connect(): print 'Connection checked - Ok.' return 'True' @app.route('/loadEffectFromFile') def loadEffectFromFile(): effectHandle = request.args.get('effectHandle') fileName = request.args.get('fileName') #print #print 'loadEffectFromFile' #print 'effectHandle =', request.args.get('effectHandle') #print 'fileName =', request.args.get('fileName') if not effectHandle in d: d[effectHandle] = fileName return '' @app.route('/getEffectLength') def getEffectLength(): #print #print 'getEffectLength' #print 'effectHandle =', request.args.get('effectHandle') #print 'returnedLength =', request.args.get('returnedLength') return '' import threading, time def shot_main(): set_vibration(0, 1.0, 1.0) time.sleep(0.15) set_vibration(0, 0, 0) time.sleep(0.25) set_vibration(0, 0.5, 0) time.sleep(0.25) set_vibration(0, 0.0, 0.0) def shot_large(): set_vibration(0, 0.5, 0.6) time.sleep(0.1) set_vibration(0, 0.3, 0) time.sleep(0.1) set_vibration(0, 0.1, 0) time.sleep(0.1) set_vibration(0, 0, 0) time.sleep(0.1) set_vibration(0, 0, 0.5) time.sleep(0.1) set_vibration(0, 0.0, 0.0) def shot_medium(): set_vibration(0, 0, 0) time.sleep(0.1) set_vibration(0, 0.6, 0.6) time.sleep(0.1) set_vibration(0, 0.4, 0) time.sleep(0.1) set_vibration(0, 0.2, 0) time.sleep(0.1) set_vibration(0, 0, 0.6) time.sleep(0.2) set_vibration(0, 0.0, 0.0) def shot_small(): set_vibration(0, 0.6, 0.8) time.sleep(0.1) set_vibration(0, 0, 0.4) time.sleep(0.1) set_vibration(0, 0.0, 0.0) def hit_nonpenetration(): set_vibration(0, 0.5, 0.5) time.sleep(0.1) set_vibration(0, 0.0, 0.0) def hit_ricochet(): set_vibration(0, 0.8, 0.8) time.sleep(0.1) set_vibration(0, 0, 0) time.sleep(0.2) set_vibration(0, 0.0, 0.5) time.sleep(0.05) set_vibration(0, 0, 0) def hit_splash(): set_vibration(0, 0.8, 0) time.sleep(0.1) set_vibration(0, 0.4, 0.8) time.sleep(0.1) set_vibration(0, 0, 0.4) time.sleep(0.1) set_vibration(0, 0, 0) time.sleep(0.05) set_vibration(0, 0, 0.4) time.sleep(0.15) set_vibration(0, 0, 0) def hit(): set_vibration(0, 1, 0) time.sleep(0.1) set_vibration(0, 0, 0) time.sleep(0.05) set_vibration(0, 0, 1) time.sleep(0.1) set_vibration(0, 0, 0) time.sleep(0.05) set_vibration(0, 0.6, 0.6) time.sleep(0.1) set_vibration(0, 0.5, 0.5) time.sleep(0.05) set_vibration(0, 0.25, 0.25) time.sleep(0.05) set_vibration(0, 0, 0) def crit_contusion(): set_vibration(0, 1, 0) time.sleep(0.1) set_vibration(0, 0, 0) time.sleep(0.2) set_vibration(0, 0, 0.4) time.sleep(0.2) set_vibration(0, 0, 0) time.sleep(0.3) set_vibration(0, 0, 0.3) time.sleep(0.2) set_vibration(0, 0, 0) time.sleep(0.5) set_vibration(0, 0, 0.25) time.sleep(0.2) set_vibration(0, 0, 0) def crit_death(): set_vibration(0, 1, 1) time.sleep(0.1) set_vibration(0, 0.5, 0) time.sleep(0.1) set_vibration(0, 0, 1) time.sleep(0.1) set_vibration(0, 0, 0) time.sleep(0.1) set_vibration(0, 0, 0.8) time.sleep(0.1) set_vibration(0, 0.8, 0) time.sleep(0.1) set_vibration(0, 0, 0.8) time.sleep(0.1) set_vibration(0, 0, 0) time.sleep(0.1) set_vibration(0, 0.5, 0.5) time.sleep(0.1) set_vibration(0, 0.4, 0.3) time.sleep(0.1) set_vibration(0, 0.3, 0.1) time.sleep(0.1) set_vibration(0, 0.2, 0) time.sleep(0.1) set_vibration(0, 0.1, 0) time.sleep(0.1) set_vibration(0, 0, 0) def crit_engine(): set_vibration(0, 1, 0) time.sleep(0.1) set_vibration(0, 0, 0) time.sleep(0.1) set_vibration(0, 0.4, 0) time.sleep(0.1) set_vibration(0, 0.4, 0.6) time.sleep(0.3) set_vibration(0, 0, 0) time.sleep(0.1) set_vibration(0, 0, 0.6) time.sleep(0.1) set_vibration(0, 0, 0) time.sleep(0.1) set_vibration(0, 0.4, 0.6) time.sleep(0.1) set_vibration(0, 0.4, 0) time.sleep(0.1) set_vibration(0, 0.4, 0.6) time.sleep(0.1) set_vibration(0, 0, 0) time.sleep(0.1) set_vibration(0, 0, 0.6) time.sleep(0.1) set_vibration(0, 0, 0) time.sleep(0.1) set_vibration(0, 0.4, 0.6) time.sleep(0.1) set_vibration(0, 0.4, 0) time.sleep(0.2) set_vibration(0, 0, 0) def crit_fire(): set_vibration(0, 0.5, 0) time.sleep(0.1) set_vibration(0, 0, 0.3) time.sleep(0.1) set_vibration(0, 0, 0) time.sleep(0.5) set_vibration(0, 0.5, 0) time.sleep(0.1) set_vibration(0, 0, 0.3) time.sleep(0.1) set_vibration(0, 0, 0) time.sleep(0.5) set_vibration(0, 0.5, 0) time.sleep(0.1) set_vibration(0, 0, 0.3) time.sleep(0.1) set_vibration(0, 0, 0) time.sleep(0.5) set_vibration(0, 0.5, 0) time.sleep(0.1) set_vibration(0, 0, 0.3) time.sleep(0.1) set_vibration(0, 0, 0) time.sleep(0.5) set_vibration(0, 0.5, 0) time.sleep(0.1) set_vibration(0, 0, 0.3) time.sleep(0.1) set_vibration(0, 0, 0) time.sleep(0.5) set_vibration(0, 0.5, 0) time.sleep(0.1) set_vibration(0, 0, 0.3) time.sleep(0.1) set_vibration(0, 0, 0) time.sleep(0.5) set_vibration(0, 0.5, 0) time.sleep(0.1) set_vibration(0, 0, 0.3) time.sleep(0.1) set_vibration(0, 0, 0) time.sleep(0.5) set_vibration(0, 0.5, 0) time.sleep(0.1) set_vibration(0, 0, 0.3) time.sleep(0.1) set_vibration(0, 0, 0) time.sleep(0.5) set_vibration(0, 0.5, 0) time.sleep(0.1) set_vibration(0, 0, 0.3) time.sleep(0.1) set_vibration(0, 0, 0) time.sleep(0.5) set_vibration(0, 0.5, 0) time.sleep(0.1) set_vibration(0, 0, 0.3) time.sleep(0.1) set_vibration(0, 0, 0) time.sleep(0.5) set_vibration(0, 0.5, 0) time.sleep(0.1) set_vibration(0, 0, 0.3) time.sleep(0.1) set_vibration(0, 0, 0) time.sleep(0.5) set_vibration(0, 0.5, 0.5) time.sleep(2) set_vibration(0, 0, 0) def crit_run(): set_vibration(0, 1, 0) time.sleep(0.1) set_vibration(0, 0, 0) time.sleep(0.2) set_vibration(0, 0, 0.8) time.sleep(0.3) set_vibration(0, 0, 0) time.sleep(0.1) set_vibration(0, 0, 0.5) time.sleep(0.3) set_vibration(0, 0, 0) time.sleep(0.1) set_vibration(0, 0.8, 0) time.sleep(0.1) set_vibration(0, 0.6, 0) time.sleep(0.1) set_vibration(0, 0.4, 0) time.sleep(0.1) set_vibration(0, 0.2, 0) time.sleep(0.1) set_vibration(0, 0, 0) time.sleep(0.1) set_vibration(0, 0.4, 0) time.sleep(0.1) set_vibration(0, 0.2, 0) time.sleep(0.1) set_vibration(0, 0.1, 0) time.sleep(0.1) set_vibration(0, 0, 0) def crit_track_move(): set_vibration(0, 0.6, 0.2) time.sleep(0.1) set_vibration(0, 0, 0.1) time.sleep(0.1) set_vibration(0, 0, 0) time.sleep(0.4) set_vibration(0, 0, 0.1) time.sleep(0.1) set_vibration(0, 0, 0.05) time.sleep(0.1) set_vibration(0, 0, 0) time.sleep(0.1) set_vibration(0, 0, 0.1) time.sleep(0.1) set_vibration(0, 0, 0.05) time.sleep(0.1) set_vibration(0, 0, 0) def crit_track(): set_vibration(0, 0.8, 0) time.sleep(0.05) set_vibration(0, 0, 0) time.sleep(0.1) set_vibration(0, 0, 0.8) time.sleep(0.05) set_vibration(0, 0, 0) time.sleep(0.1) set_vibration(0, 0.5, 0.5) time.sleep(0.05) set_vibration(0, 0, 0) time.sleep(0.1) set_vibration(0, 0.5, 0.5) time.sleep(0.05) set_vibration(0, 0, 0) @app.route('/startEffect') def startEffect(): handle = request.args.get('handle') count = request.args.get('count') if handle in d: print 'startEffect: '+ d[handle] if 'shot_main' in d[handle]: print 'shot_main' # init thread t1 = threading.Thread(target=shot_main) # start threads t1.start() if 'shot_large' in d[handle]: print 'shot_large' # init thread t1 = threading.Thread(target=shot_large) # start threads t1.start() if 'shot_medium' in d[handle]: print 'shot_medium' # init thread t1 = threading.Thread(target=shot_medium) # start threads t1.start() if 'shot_small' in d[handle]: print 'shot_small' # init thread t1 = threading.Thread(target=shot_small) # start threads t1.start() if 'hit_nonpenetration' in d[handle]: print 'hit_nonpenetration' # init thread t1 = threading.Thread(target=hit_nonpenetration) # start threads t1.start() if 'hit_ricochet' in d[handle]: print 'hit_ricochet' # init thread t1 = threading.Thread(target=hit_ricochet) # start threads t1.start() if 'hit_splash' in d[handle]: print 'hit_splash' # init thread t1 = threading.Thread(target=hit_splash) # start threads t1.start() if 'hit' in d[handle]: print 'hit' # init thread t1 = threading.Thread(target=hit) # start threads t1.start() if 'crit_contusion' in d[handle]: print 'crit_contusion' # init thread t1 = threading.Thread(target=crit_contusion) # start threads t1.start() if 'crit_death' in d[handle]: print 'crit_death' # init thread t1 = threading.Thread(target=crit_death) # start threads t1.start() if 'crit_engine' in d[handle]: print 'crit_engine' # init thread t1 = threading.Thread(target=crit_engine) # start threads t1.start() if 'crit_fire' in d[handle]: print 'crit_fire' # init thread t1 = threading.Thread(target=crit_fire) # start threads t1.start() if 'crit_run' in d[handle]: print 'crit_run' # init thread t1 = threading.Thread(target=crit_run) # start threads t1.start() if 'crit_track_move' in d[handle]: print 'crit_track_move' # init thread t1 = threading.Thread(target=crit_track_move) # start threads t1.start() if 'crit_track' in d[handle]: print 'crit_track' # init thread t1 = threading.Thread(target=crit_track) # start threads t1.start() # print # print 'startEffect' # print 'handle =', handle # print 'count =', count return '' if __name__ == "__main__": app.debug = True app.run()</span></span></code> </pre> <br></div></div><br><br>  Also for the work of vibrations on the gamepad: <br>  1. It is necessary to install Python (latest <a href="">version</a> ), let the folder be by default ‚ÄúC: \ Python27‚Äù. <br><br>  2. You need to install Flask, I did this <a href="&amp;xid=17259,15700021,15700186,15700190,15700253&amp;usg=ALkJrhgirkq4GJnT9VFi-4V0Joo1mKvP2A#windows-easy-install">instruction</a> .  Download the <a href="http://python-distribute.org/distribute_setup.py">distribute_setup.py</a> file to the ‚ÄúC: \ temp‚Äù folder (for example), launch the ‚ÄúWin ‚Äã‚Äã+ R‚Äù console - cmd and execute the ‚ÄúC: \ Python27 \ python.exe C: \ temp \ distribute_setup.py‚Äù command and watch the boot process the necessary files in the folder ‚ÄúC: \ Python27 \ Scripts‚Äù, then in the console run the commands in turn and observe their execution: <br>  C: \ Python27 \ python.exe C: \ Python27 \ Scripts \ easy_install-2.7-script.py Flask <br>  C: \ Python27 \ python.exe C: \ Python27 \ Scripts \ easy_install-2.7-script.py Jinja2 <br>  C: \ Python27 \ python.exe C: \ Python27 \ Scripts \ easy_install-2.7-script.py Werkzeug <br>  C: \ Python27 \ python.exe C: \ Python27 \ Scripts \ easy_install-2.7-script.py Virtualenv <br><br>  The hidden launch of system python from the default folder ‚ÄúC: \ Python27‚Äù is registered in the GPsettings.xml file. <br><br>  Currently, I am testing a script for taking effects directly from files for vibroning with mixing effects. <br><br>  Good luck to everyone in the battles! <br><br>  PS In connection with the low interest of the habrasoobshchestva, all interested in the official forum <a href="http://forum.worldoftanks.ru/index.php%3F/topic/1196499-%25D0%25B8%25D0%25B3%25D1%2580%25D0%25B0%25D0%25B5%25D0%25BC-%25D0%25B2-world-of-tanks-%25D0%25BD%25D0%25B0-%25D0%25B3%25D0%25B5%25D0%25B9%25D0%25BC%25D0%25BF%25D0%25B0%25D0%25B4%25D0%25B5/">WoT</a> . </div><p>Source: <a href="https://habr.com/ru/post/208478/">https://habr.com/ru/post/208478/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../208468/index.html">Kali Linux introduces an ‚Äúemergency‚Äù password leading to full disk encryption</a></li>
<li><a href="../208470/index.html">6 applications in the "smart home" board USBasp. Non-standard use of USBasp</a></li>
<li><a href="../208472/index.html">Twister: Decentralized, P2P analog Twitter</a></li>
<li><a href="../208474/index.html">Twenty thousand lines of code that will shake the world?</a></li>
<li><a href="../208476/index.html">The largest digital camera, the GAIA telescope, was successfully delivered to the L2 (Sun-Earth) design point</a></li>
<li><a href="../208480/index.html">Fantastic series</a></li>
<li><a href="../208482/index.html">My favorite acme editor</a></li>
<li><a href="../208484/index.html">How we wrote the anti-clipping system</a></li>
<li><a href="../208486/index.html">A couple of small thoughts about improving usability and security of payment web-forms</a></li>
<li><a href="../208488/index.html">How to improve the mobile version of the site. Recommendations and video tips</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>