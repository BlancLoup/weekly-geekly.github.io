<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Open Yandex PHP Library to work with the Yandex API</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello to all! 

 Long time I did not write on Habr. Not that I wouldn‚Äôt have anything to tell about, just to share stories, so that the itch would app...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Open Yandex PHP Library to work with the Yandex API</h1><div class="post__text post__text-html js-mediator-article">  Hello to all! <br><br>  Long time I did not write on Habr.  Not that I wouldn‚Äôt have anything to tell about, just to share stories, so that the itch would appear to work until midnight.  Especially if they are about the cooperation of PHP-developers and Yandex.  Especially if they are about the fact that the long-awaited <a href="https://github.com/nixsolutions/yandex-php-library">PHP library for working with the Yandex API has appeared</a> . <br><br> <a href="http://habrahabr.ru/company/yandex/blog/231495/"><img src="https://habrastorage.org/getpro/habr/post_images/545/ffe/209/545ffe2095bd79088b8dc47590214338.gif"></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I'll tell you a bit about myself.  My name is Anton Shevchuk.  I‚Äôve been on Habr√© for a long time, and if you‚Äôve studied jQuery, you‚Äôve read my <a href="http://anton.shevchuk.name/">blog</a> with a high degree of probability.  At the same time, my main activity is still PHP development, and the position requires me - I work as a PHP expert in <a href="http://www.nixsolutions.com/">NIX Solutions</a> . <br><br>  But enough of the lyrics, I promised an informative story. <br><a name="habracut"></a><br>  It began in 2008 with the writing of a PHP library for working with the <a href="http://xml.yandex.ru/settings/">Yandex.XML</a> service; I modestly called the library <a href="https://code.google.com/p/yandex/">yandex-xml</a> and tried to support it.  In fact, I took on some of the responsibilities of supporting Yandex, but I think it didn‚Äôt upset them much.  Of course, I wondered: ‚ÄúWhere, in fact, is my native library from Yandex?‚Äù Who knew that I would know the answer after five years :) <br><br>  As time went on, Yandex had more and more new services, and where there are services, there is also an API.  They multiplied and multiplied, but somehow there was no convenient tool for PHP developers.  At the same time, interest in services continued to grow, and out of idle curiosity grew into a professional one. <br><br>  A year ago, during the period of summer aggravation of perfectionism, patience snapped, and my company turned to Yandex with a proposal to write a php-library for all Yandex APIs.  We needed help in answering numerous questions, as well as instructions from teams of various APIs, who better understand how their service is organized and how it works.  One of the arguments was just an example with the library yandex-xml, and its download count was over a couple of thousand. <br><br>  Dmitry Vulbrun, one of the managers of Yandex, volunteered to help us, connect with different departments / groups / services and simplify communication with various teams. <br><br>  I will allow myself to insert his comment on this subject here. <br><br><blockquote>  Historically, there is no php in Yandex.  Absolutely not.  We understand the pain of developers trying to use our technologies on their sites, but we don‚Äôt have the opportunity to deploy a large infrastructure within the company to create such a library.  For this you need machines, admins, php-developers, testers, technical writers, support.  In the end, you need a manager of this project.  Technically, this is, of course, feasible, and we even tried to create such an infrastructure inside Yandex to develop our SDK-php, but soon we realized that before that they didn‚Äôt reach at all.  We tried to create such things on an outsource, but then we still have to support all this ourselves.  And we had not so many people who know php and various CMS.  Therefore, we really liked the idea of ‚Äã‚Äãcreating a library outside the company - by people who have ready infrastructure for this and who understand webmasters and web developers.  Of course, we strongly support this initiative. </blockquote><br><br>  And then we started work.  Determined requirements. <br><br><ul><li>  Developing such a library with just one team is not the best option, but organizing a community of like-minded people is much more fun.  Especially since in this way the number of problems in the code will decrease in inverse proportion to the skills of the whole team, therefore the first requirement was the opensource project and the community. </li><li>  I really wanted to start development with support for PHP version 5.4, but I had to cover as large an audience as possible, and the PHP community still supports the older version, as a result of agony - version 5.3 support </li><li>  Separately, I will emphasize increased requirements for <a href="http://anton.shevchuk.name/php/usability-of-source-code/">code usability</a> - such is my personal whim </li><li>  And yet - increased requirements for code quality - tests, standards, etc. </li></ul><br><br>  The path for development was set, there remained technical subtleties.  It was necessary to understand how we will give the opportunity to connect the library.  At first they decided that Composer is the best and only correct solution: modern, tasty, appetizing.  However, this option is not suitable for all web developers, so it was decided to combine the composer with phar archives as with a simpler way of integration, albeit with their own problems. <br><br>  The choice of the order in which to write modules for the library remained with Yandex.  And I will quote Dmitry again: <br><br><blockquote>  When Anton and I started discussing the creation of the library, the first thing was for me to put together all the information about all the Yandex APIs.  It was not as easy as it seemed at first glance, and took a lot of time - Yandex is big :) <br>  All the teams reacted differently to our idea: someone caught fire with it right away, someone more calmly took our idea.  In addition, some teams planned to redo or release new versions to their APIs, and in this case the library needed to be written for new, not yet released, API versions. <br><br>  In general, of course, everyone understood that a general PHP library for working with all Yandex APIs is a necessary thing and we ‚Äúmake the world a better place‚Äù.  It was necessary to decide where to start. <br><br>  Since I am engaged in the Search service for the site, and it has one small and simple API handle, we decided to issue a project on the githaba and develop the infrastructure for developing the library, creating a module specifically for the Search for the site.  This is logical: it is always easier to start work with something simpler. <br>  Next, we analyzed the available information about all our APIs.  We found out that most of them have OAuth authorization, so the next step was to create a separate authorization module.  So that later this module could be used further. <br><br>  Well, after that the order of services was mainly conditioned by the activity of the team of a specific service and the desire of its members to help colleagues from NIX Solutions and guide them in the creation of the library.  So we got the first list: Safe Browsing API, Disk API, Shopping on the Market, API Metrics. </blockquote><br><br>  So, as far as providing us with information from the Yandex teams, the modules were also sawed, not without bugs, but the work was going on. <br><br>  To date, the library has grown and includes several modules: <br><ul><li>  OAuth authorization module </li><li>  Module for pinger search service for the site </li><li>  Module for Safe Browsing API </li><li>  Module for Yandex.Disk API (WebDAV) </li><li>  Module for ‚ÄúShopping on the Market‚Äù under the Affiliate API Market </li></ul><br>  I will say literally a couple of phrases about each module, without technical details.  We posted all the details on <a href="https://github.com/nixsolutions/yandex-php-library">github</a> . <br><br><div class="spoiler">  <b class="spoiler_title">OAuth authorization module</b> <div class="spoiler_text">  One of the first developed modules is authorization on the Yandex API services.  At the current time, Yandex services mainly use <a href="http://api.yandex.ru/oauth/">OAuth</a> authentication, which greatly simplifies working with them, and working with our library becomes even easier.  <a href="https://github.com/nixsolutions/yandex-php-library/wiki/Yandex-OAuth">Documentation</a> </div></div><br><br><div class="spoiler">  <b class="spoiler_title">Module for pinger search service for the site</b> <div class="spoiler_text">  If on your site you use the Search service for the site, then you should pay attention to the pinger library, whose task is to inform Yandex about new and changed documents on the site.  <a href="https://github.com/nixsolutions/yandex-php-library/wiki/Yandex-Site-Search-Pinger">Documentation</a> </div></div><br><br><div class="spoiler">  <b class="spoiler_title">Module for Safe Browsing API</b> <div class="spoiler_text">  This package is responsible for checking the URL for involvement in untrusted sites, so that in an hour no infection has come to you.  This service is useful for sites that host links to other resources on the network.  <a href="https://github.com/nixsolutions/yandex-php-library/wiki/Yandex-Safe-Browsing">Documentation</a> </div></div><br><br><div class="spoiler">  <b class="spoiler_title">Module for Yandex.Disk API (WebDAV)</b> <div class="spoiler_text">  Yandex.Disk is confidently gaining points as an alternative to various drives, and, I hope, this library will serve as another step in winning the market.  <a href="https://github.com/nixsolutions/yandex-php-library/wiki/Yandex-Disk">Documentation</a> </div></div><br><br><div class="spoiler">  <b class="spoiler_title">Module for ‚ÄúShopping on the Market‚Äù under the Affiliate API Market</b> <div class="spoiler_text">  If your store places offers on Yandex.Market, then you should pay attention to the appropriate library.  <a href="https://github.com/nixsolutions/yandex-php-library/wiki/Yandex-Market-for-Partner">Documentation</a> </div></div><br><br>  Now the module is being developed for working with the Metrics API. <br><br><h4>  Development infrastructure </h4><br>  We not only make a library, but also acquire facilities for development and testing.  GitHub has long been for many the ‚Äúdefault‚Äù development platform.  He managed to get some nice buns that can be screwed to the project in a couple of clicks or in a couple of lines, and I wanted to dwell on them a little more in detail. <br><br><h5>  Travis ci </h5><br>  To connect the Travis continuous integration service, you will need to create a configuration file (you can use <a href="">ours</a> as a basis) and connect your project to GitHub on the <a href="https://travis-ci.org/">travis-ci.org</a> site. <br><br>  At the moment, Travis is running the run of unit tests and PSR standards on various PHP versions (including even HHVM and PHP 5.6 version), as well as creating a phar archive with a further download of it on Yandex.Disk using our own library :) <br><br>  More about Travis CI has already been told on Habr√© - <a href="http://habrahabr.ru/post/140344/">habrahabr.ru/post/140344</a> <br><br>  The result of the integration is available <a href="https://travis-ci.org/nixsolutions/yandex-php-library">here.</a> <br><br><h5>  Scrutinizer CI </h5><br>  Another tool to control the quality of the code, allows you to identify potential problems and gives recommendations for improvement (you can directly patch, it remains to copy and apply).  The main part of the work falls on PHP_Analyzer, but not one. <br><br>  The result of the project integration - <a href="https://scrutinizer-ci.com/g/nixsolutions/yandex-php-library/">scrutinizer-ci.com/g/nixsolutions/yandex-php-library</a> <br><br><h5>  Coveralls </h5><br>  This is a simple tool that stores test coverage for your project.  For those familiar with <a href="http://phpunit.de/">phpunit</a> , this is a clover.xml visualization with tracking changes.  Travis is responsible for the data upload, for work it is required to install the ‚Äúsatooshi / php-coveralls‚Äù package and the configuration file for the example - <a href="">github.com/nixsolutions/yandex-php-library/blob/master/.coveralls.yml</a> <br><br>  Result: <a href="https://coveralls.io/r/nixsolutions/yandex-php-library">coveralls.io/r/nixsolutions/yandex-php-library</a> <br><br>  And some more ‚Äúbadges‚Äù for the collection can be obtained at <a href="https://poser.pugx.org/">poser.pugx.org</a> . <br><br><h4>  Instead of conclusion </h4><br>  <i>... And to avoid in the comments pictures of the trolley from a loaf of bread.</i> <br><br>  Profit for the company NIX Solutions - PR of our cooperation with the company Yandex (actually this is the third mention of the company name in this article :).  Plus, we have acquired a non-sickly knownledge base on API and can help PHP developers to answer frequently asked questions about the integration of Yandex services. <br><br>  Profit for Yandex - library development for a huge PHP-community by PHP developers.  Partly shifting support onto our shoulders. <br><br>  Profit for the community - now we have an up-to-date library for working with Yandex services, while every developer can participate in the development of this <br><br>  So, dear Habr, do not be shy and send your questions, but rather pull requests to GitHub - <a href="https://github.com/nixsolutions/yandex-php-library">github.com/nixsolutions/yandex-php-library</a> . <br><br>  We wait, kiss, love. </div><p>Source: <a href="https://habr.com/ru/post/231495/">https://habr.com/ru/post/231495/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../231485/index.html">The director of the film Suzy Q asked to post his picture on The Pirate Bay</a></li>
<li><a href="../231487/index.html">SPM Conf-4: complex is available</a></li>
<li><a href="../231489/index.html">Bitcoin check</a></li>
<li><a href="../231491/index.html">Protecting the L2 network with switches</a></li>
<li><a href="../231493/index.html">Nokia X, X + and XL received an update</a></li>
<li><a href="../231497/index.html">OpenVZ + venet + vlan / addresses from different networks</a></li>
<li><a href="../231499/index.html">How to make a phone holder with your own hands</a></li>
<li><a href="../231503/index.html">A delivery drone that flies like a plane and sits like a helicopter</a></li>
<li><a href="../231505/index.html">Unboxing NetApp FAS8040</a></li>
<li><a href="../231511/index.html">What languages ‚Äã‚Äãshould I translate my product into?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>