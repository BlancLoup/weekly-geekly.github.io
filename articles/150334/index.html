<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Google Analytics for games, social applications. nets</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 Recently popular applications for social. networks and browser games. Unfortunately, soc. Networks provide rather poor application stat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Google Analytics for games, social applications. nets</h1><div class="post__text post__text-html js-mediator-article"><h4>  Introduction </h4><br>  Recently popular applications for social.  networks and browser games.  Unfortunately, soc.  Networks provide rather poor application statistics.  Therefore, I had a choice: to collect statistics on my server, or use Google Analytics or something similar.  In the end, I settled on Google Analytics.  In this article I will tell: <br><ul><li>  How to connect the application to Google Analytics? </li><li>  What opportunities does Google Analytics provide? </li><li>  How to track events? </li><li>  What and how to track? </li></ul><br>  I will touch on the main points.  If the continuation is interesting, then I will write a new article that will already be targeted at those familiar with Google Analytics. <br><a name="habracut"></a><br><h4>  Application Connections to Google Analytics </h4><br>  To use <a href="http://www.google.com/analytics/">Google Analytics</a> for an application, you need to create an account on the ‚ÄúAdministrator‚Äù tab, and then add a new resource.  After that, the code for your application will be generated on the ‚ÄúTracking Code‚Äù tab.  Code example: <br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> _gaq = _gaq || []; _gaq.push([</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'_setAccount'</span></span></span><span class="javascript">, </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">' ID'</span></span></span><span class="javascript">]); _gaq.push([</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'_trackPageview'</span></span></span><span class="javascript">]); (</span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> ga = </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">document</span></span></span><span class="javascript">.createElement(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'script'</span></span></span><span class="javascript">); ga.type = </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'text/javascript'</span></span></span><span class="javascript">; ga.async = </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript">; ga.src = (</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'https:'</span></span></span><span class="javascript"> == </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">document</span></span></span><span class="javascript">.location.protocol ? </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'https://ssl'</span></span></span><span class="javascript"> : </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'http://www'</span></span></span><span class="javascript">) + </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'.google-analytics.com/ga.js'</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> s = </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">document</span></span></span><span class="javascript">.getElementsByTagName(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'script'</span></span></span><span class="javascript">)[</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">]; s.parentNode.insertBefore(ga, s); })(); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  I note that when adding a resource, you need to specify not a link to the application, but a link where the application is located on your server.  Example: <br><pre> <code class="html hljs xml">http://yoursite.com/forder_for_apps/my_love_app/</code> </pre><br>  The code must be inserted on all pages that you will be tracking. <br><br><br><h4>  Google Analytics Features </h4><br>  Here, I will briefly go over the main features that are most likely useful to you. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Real time </h5>  Here you can see how many users are online.  On what pages, from what countries. <br><br><img src="https://habrastorage.org/storage2/114/673/65f/11467365f4dea5597462b15362ed707f.jpg"><br><br><h5>  Lecture hall </h5>  Here you can see who visited the application for a period of time. <br>  You can view information about countries, browsers, providers about behavior and much more. <br>  All this gives enough information about the audience and you no longer have to ask yourself questions about which browser to orient in the first place, and which one can be neglected. <br><br><h5>  Content </h5>  Here you can find information about the contents of the site, download speeds and events, which I will discuss in more detail in the next paragraph. <br><br>  Goal conversions are a fairly voluminous topic, which is worth telling in detail.  But in the framework of this article, I can not. <br>  Sources of traffic - we are unlikely to be useful if the application IFrame.  But there is a separate browser game, then you can find something useful. <br><br><h4>  Developments </h4><br>  Events are very simple to use, just insert the JavaScript code: <br><br><pre> <code class="javascript hljs">_gaq.push([<span class="hljs-string"><span class="hljs-string">'_trackEvent'</span></span>, category, action, opt_label, opt_value, opt_noninteraction]);</code> </pre><br>  <b>category</b> - the category of the event.  For example, step at registration. <br>  <b>action</b> - event action.  For example, reaching level 2. <br>  <b>opt_label</b> is here, I usually put the user ID (optional). <br>  <b>opt_value</b> and <b>opt_noninteraction</b> are not needed for now. <br><br>  Example of use: <br><br><pre> <code class="javascript hljs">_gaq.push([<span class="hljs-string"><span class="hljs-string">'_trackEvent'</span></span>, <span class="hljs-string"><span class="hljs-string">'register'</span></span>, <span class="hljs-string"><span class="hljs-string">'start_reg'</span></span>, <span class="hljs-number"><span class="hljs-number">11111</span></span>]);</code> </pre><br><br><h4>  Examples of using </h4><br>  Examples will be shown for VKontakte, but I think it will be possible to adapt them easily to other social services.  network.  The examples also use the jQuery library. <br><br>  The user went to the registration form page: <br><br><pre> <code class="javascript hljs">_$(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>).ready(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { d = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.location.search.substr(<span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> p = d.split(<span class="hljs-string"><span class="hljs-string">"&amp;"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> V = {}, curr; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; p.length; i++) { curr = p[i].split(<span class="hljs-string"><span class="hljs-string">'='</span></span>); V[curr[<span class="hljs-number"><span class="hljs-number">0</span></span>]] = curr[<span class="hljs-number"><span class="hljs-number">1</span></span>]; } id = V[<span class="hljs-string"><span class="hljs-string">'viewer_id'</span></span>]; <span class="hljs-comment"><span class="hljs-comment">//   key = V['auth_key']; _gaq.push(['_trackEvent', 'register', 'begin', id]); // .... } catch (e) { alert(e); } });</span></span></code> </pre><br><br>  The user selected gender, name, character skills and sent a request to the server: <br><pre> <code class="javascript hljs"> jQuery.post(<span class="hljs-string"><span class="hljs-string">"../join/"</span></span>, { info_for_register }, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">data</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> json = <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(data); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (json.r == <span class="hljs-number"><span class="hljs-number">1</span></span>) { <span class="hljs-comment"><span class="hljs-comment">//     _gaq.push(['_trackEvent', 'register', 'success', id]); ...</span></span></code> </pre><br><br>  Level up.  Similarly.  We will keep track of who reached 2, 5 and 10th. <br><pre> <code class="javascript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (mylevel == <span class="hljs-number"><span class="hljs-number">1</span></span>) { _gaq.push([<span class="hljs-string"><span class="hljs-string">'_trackEvent'</span></span>, <span class="hljs-string"><span class="hljs-string">'register'</span></span>, <span class="hljs-string"><span class="hljs-string">'level2'</span></span>, id]); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (mylevel == <span class="hljs-number"><span class="hljs-number">4</span></span>) { _gaq.push([<span class="hljs-string"><span class="hljs-string">'_trackEvent'</span></span>, <span class="hljs-string"><span class="hljs-string">'register'</span></span>, <span class="hljs-string"><span class="hljs-string">'level5'</span></span>, id]); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (mylevel == <span class="hljs-number"><span class="hljs-number">9</span></span>) { _gaq.push([<span class="hljs-string"><span class="hljs-string">'_trackEvent'</span></span>, <span class="hljs-string"><span class="hljs-string">'register'</span></span>, <span class="hljs-string"><span class="hljs-string">'level10'</span></span>, id]); }</code> </pre><br><br>  Similar request, but we check what level at the user. <br><br>  Now something more interesting. <br>  Many applications feature: boast some achievement or purchase on the wall. <br><br>  Previously, I used hash tags and watched that in the search: <br>  <a href="http://vk.com/feed%3Fq%3D%2523swgames%26section%3Dsearch">vk.com/feed?q=%23swgames¬ßion=search</a> <br><br>  The method was convenient, but it didn‚Äôt work very well.  Then another covered up.  Now the messages that the user posted through the application are not in the search.  The search has become cleaner, but I lost my handy tool.  I had to track with Google Analyitics. <br><br><pre> <code class="javascript hljs"> VK.api(<span class="hljs-string"><span class="hljs-string">"wall.post"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">message</span></span>: <span class="hljs-string"><span class="hljs-string">"   "</span></span> }, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">data</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (data.response !== <span class="hljs-literal"><span class="hljs-literal">undefined</span></span>) { <span class="hljs-comment"><span class="hljs-comment">// undefined,     . _gaq.push(['_trackEvent', 'wall', 'levelup', id]); } });</span></span></code> </pre><br>  Everything is very simple. <br><br>  Now I‚Äôll tell and show you what it looks like inside in the Google Analytics panel. <br>  Custom reports.  Content.  Developments.  Overview. <br><br><img src="http://habrastorage.org/storage2/a70/ce4/15a/a70ce415a4ebc4c0d304dc1d968affa3.jpg"><br><br>  Here we see how many went to the page with registration.  How long has it been?  How many reached 2nd, 5th and 10th level. <br>  This is good information to think about. <br><br>  If interested, then in the next article I can tell you more about Google Analitics for applications, and also write an article about how the registration was redone for the game and how it affected the number of successful registrations. <br>  By the way, this is my first article on Habr√©. <br><br>  I recommend reading: <br><br>  <a href="http://habrahabr.ru/post/147266/">Mining and processing of gaming traffic</a> <br>  <a href="http://support.google.com/analytics/%3Fhl%3Dru">Google Analitics Guide (rus)</a> <br>  <a href="https://developers.google.com/analytics/devguides/collection/gajs/eventTrackerGuide%3Fhl%3Dru">Event Tracking.</a>  <a href="https://developers.google.com/analytics/devguides/collection/gajs/eventTrackerGuide%3Fhl%3Dru">Official Documentation (eng)</a> <br>  <a href="https://developers.google.com/analytics/devguides/collection/other/flashTrackingIntro%3Fhl%3Dru-RU">Flash Event Tracking</a> </div><p>Source: <a href="https://habr.com/ru/post/150334/">https://habr.com/ru/post/150334/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../150328/index.html">Notification that the browser is outdated</a></li>
<li><a href="../150329/index.html">Qt Coding Style</a></li>
<li><a href="../150331/index.html">New 0day exploit for Java. Now in Metasploit</a></li>
<li><a href="../150332/index.html">LG Optimus Vu II will receive infrared</a></li>
<li><a href="../150333/index.html">Flat lens creates the perfect image.</a></li>
<li><a href="../150337/index.html">Migrating Adobe After Effects Projects</a></li>
<li><a href="../150338/index.html">Yandex scored on your cards?</a></li>
<li><a href="../150339/index.html">Convert string to number</a></li>
<li><a href="../150341/index.html">Windows Azure Virtual Machines - a review of new functionality</a></li>
<li><a href="../150342/index.html">Impressions of working with the Mamba.Ru application platform</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>