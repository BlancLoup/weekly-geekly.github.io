<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Martin Fowler - GUI Architectures. Part 4</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The previous part is here . Original article here . 

 Model-View-Presenter (MVP) 
 The MVP architecture first appeared in IBM and more clearly manife...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Martin Fowler - GUI Architectures. Part 4</h1><div class="post__text post__text-html js-mediator-article">  The previous part is <a href="http://acerv.habrahabr.ru/blog/53920/">here</a> .  Original article <a href="http://www.martinfowler.com/eaaDev/uiArchs.html">here</a> . <br><a name="habracut"></a><br><h1>  Model-View-Presenter (MVP) </h1><br>  The MVP architecture first appeared in IBM and more clearly manifested in the Taligent system in the 1990s.  It is described in sufficient detail in the work of Potel.  The idea was picked up by the developers of <a href="http://www.object-arts.com/papers/TwistingTheTriad.PDF">Dolphin Smalltalk</a> .  As we will see later, these two works say not exactly the same thing, but the idea embedded in them has become very popular.  We will refer to these two sources in the description of the architecture. <br><br>  To start describing MVP, I find it helpful to think about the significant differences between the two pillars of UI development.  On the one hand, there are ‚ÄúForms and elements‚Äù, architecture, which is the mainstream of UI-design.  On the other hand, MVC and its derivatives.  The ‚Äúforms and elements‚Äù model provides the developer with an easily understood design and allows for easy separation between reusable controls and the business code of the application.  It lacks the fact that MVC is in abundance - a split view ( <a href="http://www.martinfowler.com/eaaDev/SeparatedPresentation.html">Separated Presentation</a> ) and a programming context conditioned by the use of a domain model ( <a href="http://martinfowler.com/eaaCatalog/domainModel.html">Domain Model</a> ).  I see MVP as the combination of these two models, as an attempt to take the best from them. <br><br>  According to Potel, the presentation in MVP should be understood as the structure of the form controls in the ‚ÄúForms and Elements‚Äù model, and any partitions of the control on the controller / view should be removed.  The view must not contain any behavior that determines how the element interacts with the user. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      This interaction is carried out in a separate object representation (presenter).  In the view, the fundamental event handlers of the controls remain, but their purpose is to transfer control to the presenter. <br><br>  The presenter must determine how to respond to the event.  Potel defines this interaction in terms of model actions that occur through a system of commands and selections.  By the way, you can take note of this approach - the packaging of all editions of the model in the team.  It will allow you to easily enter undo / redo behavior. <br><br>  The reverse update from model to view occurs through all the same synchronization through the updater ( <a href="http://www.martinfowler.com/eaaDev/MediatedSynchronization.html">Observer Synchronization</a> ), which is used in MVC. <br><br>  A similar description is defined in the work of <a href="http://www.object-arts.com/papers/TwistingTheTriad.PDF">Dolphin</a> .  It also requires the presence of the object presenter.  However, Dolphin does not define the system of interaction between the presenter and the model.  In addition, there is an unequivocal hint that the presenter object should have direct access to the presentation.  Potel says nothing about whether the presenter should have access to the presentation or not, but for Dolphin this behavior is very important, just because of the problem in the Application Model with the deviation color that I described in the previous section. .  As you remember, it was solved in such an awkward way, from my point of view. <br><br>  One of the other keys to understanding MVP is the awareness of the approach with which the presenter controls the elements in the presentation.  On the one hand, Potel argues that all presentation logic should be left in the presentation and the presenter should not determine the rendering of the model.  Lord <a href="http://www.object-arts.com/papers/TwistingTheTriad.PDF">Bower and McGlashan</a> offer their solution, which I call <a href="http://www.martinfowler.com/eaaDev/SupervisingPresenter.html">Supervising Controller</a> .  In this solution, almost all the presentation logic is also defined in the presentation, however, the presenter has the ability to influence this logic in complex scenarios.  Those.  some part of the presentation logic can be placed in the presenter. <br><br>  In addition, you can transfer the entire presentation logic to the presenter and get what I call the <a href="http://www.martinfowler.com/eaaDev/PassiveScreen.html">Passive View</a> .  Initially, Passive View was not part of the MVP model.  This model appeared later, when people learned to solve testing problems.  I will talk about this model later, and now I will only say that it is a type of MVP. <br><br>  Before determining the difference between MVP and everything else that I described above, I would like to say a few words about the works I mention.  They determine the difference in MVP from MVC, but not in the way I see it.  Potel argues that the controllers in MVC are the general coordinators - with which I disagree.  Dolphin talks a lot about MVC problems, while by MVC they mean the VisualWorks application model, not the classic MVC that I was talking about.  I do not blame them for this - in our time, information on the classical MVC is not very easy to get. <br><br>  Now it's time to talk about the differences between MVP from previous architectures (as I see them): <br><br><ul><li>  Forms and elements: in MVP there is a model and the presenter manipulates this model with the help of synchronization through the browser ( <a href="http://www.martinfowler.com/eaaDev/MediatedSynchronization.html">Observer Synchronization</a> ) when updating the presentation.  And although direct access to the controls of the presenter is allowed, using this access is a bad form. </li><li>  MVC: To manipulate the model, the MVP model uses the <a href="http://www.martinfowler.com/eaaDev/SupervisingPresenter.html">Supervising Controller</a> .  Controls pass user input to <a href="http://www.martinfowler.com/eaaDev/SupervisingPresenter.html">Supervising Controller</a> .  Controls are not divided into views and controllers.  Presenter can be perceived as a controller, but without the initial processing of user input.  It is important that the presenter is an object of the form level, rather than a control - in my opinion, this is an even greater difference. </li><li>  Application Model: Views submit events to the presenter just as they transmit them to the application model.  However, the MVP view can update itself directly from the domain model, since  The presenter is not a <a href="http://www.martinfowler.com/eaaDev/PresentationModel.html">Presentation Model</a> .  In addition, the presenter can have direct access to controls, which is impossible in the case of synchronization through the browser ( <a href="http://www.martinfowler.com/eaaDev/MediatedSynchronization.html">Observer Synchronization</a> ). </li></ul><br><br>  There is a clear similarity between the MVP presenters and the MVC controllers.  Presenter is just a freer form of controller.  As a result, many architectures will follow MVP paths, but will use the term ‚Äúcontroller‚Äù, meaning presenter.  Generally speaking, the controller should be used when the issue is solved with the interaction with user input at the control level. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3d5/908/74a/3d590874ae5e001937afd8a60dbbecce.gif"><br><br>  <em>Figure 12: Sequence diagram of updating the current value in the MVP model</em> <br><br>  Let's take a look at how the current value update works in the ice cream example (Figure <a href="http://www.martinfowler.com/eaaDev/uiArchs.html">12</a> ).  The beginning of the diagram is very similar to the one that was in the "forms and elements" - the user enters the value, the text field sends the event "text changed."  The presenter listens to this event and catches it, after which it takes the new value from the view.  Then it updates the domain object, which in turn is viewed by the reject text box.  The deviation text box updates its value with a calculated value, after which it is assigned a color.  Color appoints the presenter.  It reads the measurement category of the measurement and updates the color of the text field (via a direct link to the control). <br><br>  Let's summarize the MVP model: <br><br><ul><li>  User interactions (events) are passed to controls in <a href="http://www.martinfowler.com/eaaDev/SupervisingPresenter.html">Supervising Controller</a> , where further processing takes place. </li><li>  Presenter coordinates changes in the domain model. </li><li>  Implementation of the update views of different variations of MVP are carried out in different ways.  The number of methods starts from updating through the browser ( <a href="http://www.martinfowler.com/eaaDev/MediatedSynchronization.html">Observer Synchronization</a> ) and ends with manual updates of each presenter control. </li></ul><br><br>  The next part is <a href="http://acerv.habrahabr.ru/blog/54034/">here</a> . </div><p>Source: <a href="https://habr.com/ru/post/53943/">https://habr.com/ru/post/53943/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../53934/index.html">Linux Laptops</a></li>
<li><a href="../53936/index.html">Your microsite on the Internet</a></li>
<li><a href="../53937/index.html">travel the world without money</a></li>
<li><a href="../53938/index.html">Freelance - practice</a></li>
<li><a href="../53939/index.html">Thought box</a></li>
<li><a href="../53945/index.html">Typograph 2.0 - waited!</a></li>
<li><a href="../53946/index.html">‚Äú1001 comments‚Äù - winning is never easier</a></li>
<li><a href="../53948/index.html">Choosing a strategy for starting and developing a project</a></li>
<li><a href="../53949/index.html">Idea: purchase and exchange service of used subscriptions for a fitness club / gym / pool</a></li>
<li><a href="../53950/index.html">Perfect "Web development" or the path from idea to finished project</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>