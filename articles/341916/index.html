<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>A bit about VPN: protocols for remote access</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The first November in Russia began to operate a ban on bypassing locks using a VPN. And many companies, including foreign ones, wondered how to be org...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>A bit about VPN: protocols for remote access</h1><div class="post__text post__text-html js-mediator-article">  The first November in Russia began to <a href="https://ria.ru/society/20171101/1507959194.html">operate a</a> ban on bypassing locks using a VPN.  And many companies, including foreign ones, wondered how to be organizations using technology to create corporate networks. <br><br>  According to representatives of the State Duma, the law contains a clause according to which network encryption can be used for corporate purposes.  This means that companies do not have to spend significant amounts and <a href="https://vasexperts.ru/blog/vpn-tipy-podklyucheniya-i-proverka-bezopasnosti/">build</a> private networks between their offices, since setting up a VPN connection is practically (and in some cases it is) free.  Therefore, today we decided to consider two ways of organizing a VPN connection in a corporate network and several protocols used for this: PPTP, L2TP / IPsec, SSTP and OpenVPN. <br><br> <a href="https://habrahabr.ru/company/vasexperts/blog/341916/"><img src="https://habrastorage.org/webt/8f/4d/lb/8f4dlbbuviva0fs7cktrdtr_no4.jpeg"></a> <a name="habracut"></a><br>  <font color="#A9A9A9"><i>/ Flickr / <a href="https://www.flickr.com/photos/144534024%40N07/37886261351/">Johannes Weber</a> / <a href="https://creativecommons.org/licenses/by/2.0/">CC</a></i></font> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  PPTP </h2><br>  The <a href="https://en.wikipedia.org/wiki/Point-to-Point_Tunneling_Protocol">PPTP</a> specification was developed by a consortium based by Microsoft for dial-up VPN.  Therefore, PPTP has long remained the standard for corporate networks.  For the same reason, it uses the Microsoft Point-to-Point Encryption ( <a href="https://en.wikipedia.org/wiki/Microsoft_Point-to-Point_Encryption">MPPE</a> ) encryption protocol. <br><br>  It goes "by default" on any VPN-compatible platform and is easily configured without additional software.  Another advantage of PPTP is high speed.  But unfortunately, PPTP is not secure enough.  Since the protocol was included in Windows 95 OSR2 in the late nineties, several vulnerabilities have been revealed. <br><br>  The most serious is the possibility of unencapsulated MS-CHAP v2 authentication.  This exploit allowed you to hack PPTP in two days.  Microsoft ‚Äúpatched‚Äù the hole by switching to the <a href="https://en.wikipedia.org/wiki/Protected_Extensible_Authentication_Protocol">PEAP</a> authentication protocol, but then they themselves <a href="http://technet.microsoft.com/en-us/security/advisory/2743314">suggested</a> using L2TP / IPsec or SSTP VPN protocols.  One more thing - PPTP connections are easy to block because the protocol works with one port number 1723 and uses the <a href="https://en.wikipedia.org/wiki/Generic_Routing_Encapsulation">GRE protocol</a> . <br><br>  When the VPN tunnel is established, PPTP <a href="https://www.lifewire.com/pptp-point-to-point-tunneling-protocol-818182">supports</a> two types of transmitted messages: these are control messages to maintain and disconnect the VPN connection, and the data packets themselves. <br><br><h2>  L2TP and IPsec </h2><br>  Layer 2 Tunneling Protocol, or <a href="https://en.wikipedia.org/wiki/Layer_2_Tunneling_Protocol">L2TP</a> , is also represented in almost all modern operating systems and works with all devices capable of ‚Äúaccepting‚Äù a VPN. <br><br>  L2TP cannot encrypt traffic passing through it, so it is often used in conjunction with <a href="https://en.wikipedia.org/wiki/IPsec">IPsec</a> .  However, this leads to a negative effect - in L2TP / IPsec double data encapsulation occurs, which negatively affects the performance.  L2TP also uses the 500th UDP port, which is easily blocked by the firewall if you are behind NAT. <br><br>  L2TP / IPsec can work with <a href="https://en.wikipedia.org/wiki/Triple_DES">3DES</a> or AES ciphers.  The first is vulnerable to <a href="https://en.wikipedia.org/wiki/Meet-in-the-middle_attack">meet-in-the-middle</a> and <a href="https-sessions.html">sweet32 attacks</a> , so today it is rarely encountered in practice.  When working with the AES-cipher, major vulnerabilities are unknown, so in theory this protocol should be safe (if properly implemented).  However, John Gilmore, founder of the Electronic Frontier Foundation, <a href="http://www.mail-archive.com/cryptography%40metzdowd.com/msg12325.html">pointed out</a> in his post that IPSec could be weakened in a special way. <br><br>  The most serious problem with L2TP / IPsec is that many VPN services do not implement it well enough.  They use pre-shared keys (PSK), which can be downloaded from the site.  PSK is needed to establish a connection, because even if the data is compromised, it remains protected by AES.  But an attacker <a href="https://www.ivpn.net/knowledgebase/160/Is-using-L2TPorIPSec-with-a-public-pre-shared-key-secure.html">can</a> use PSK to impersonate a VPN server and then eavesdrop on encrypted traffic (even injecting malicious code). <br><br><h2>  Sstp </h2><br>  Secure Socket Tunneling Protocol, or <a href="https://en.wikipedia.org/wiki/Secure_Socket_Tunneling_Protocol">SSTP</a> , is a VPN protocol developed by Microsoft.  It is based on SSL and first launched in Windows Vista SP1.  Today, the protocol is available for operating systems such as RouterOS, Linux, SEIL and Mac OS X, but it still finds its main application on the Windows platform.  SSTP is a proprietary standard owned by Microsoft, and its code is not available for public viewing. <br><br>  SSTP itself has no cryptographic functionality with the exception of one function - this is <a href="https://goo.gl/jXWM5U">cryptographic binding</a> (MITM).  SSL encryption is the same.  A description of the procedure for establishing a VPN connection can be <a href="https://blogs.technet.microsoft.com/rrasblog/2007/01/10/how-sstp-based-vpn-connection-works/">found</a> on the Microsoft website. <br><br>  Tight integration with Windows simplifies working with the protocol and increases its stability on this platform.  However, SSTP uses <a href="http://en.wikipedia.org/wiki/Transport_Layer_Security">SSL 3.0</a> , which is vulnerable to a <a href="https://blog.qualys.com/ssllabs/2014/10/15/ssl-3-is-dead-killed-by-the-poodle-attack">POODLE</a> attack, which <a href="https://security.stackexchange.com/questions/97556/is-the-ssl3-based-sstp-vpn-protocol-vulnerable-to-the-poodle-attack">in theory</a> affects the security of the VPN protocol. <br><br><h2>  Openvpn </h2><br>  <a href="https://en.wikipedia.org/wiki/OpenVPN">OpenVPN</a> is an open source project that uses the Open SSL library, TLS and a number of other technologies.  Today, it is the industry standard in commercial VPN services and is implemented on any platform using third-party software.  Many providers even provide OpenVPN custom clients, but project developers are still working on the code core. <br><br>  Among the advantages of OpenVPN is its customizability.  It can be configured to work on any port.  This allows traffic to be sent through port 443 in order to ‚Äúmask‚Äù it under HTTPS, which complicates blocking. <br><br>  However, the flexibility of this VPN protocol to some extent can be considered a disadvantage.  In particular, this leads to the need to download and install additional configuration files when using the standard Windows client.  But this problem can be solved by using pre-configured VPN clients that some providers implement. <br><br>  Another advantage of the protocol is the OpenSSL library.  It supports many cryptographic algorithms - these are 3DES, CAST-128, Camelia, AES and Blowfish.  The last two are most often used in practice. <br><br>  Also a plus of OpenVPN can be considered regular audits.  The last inspection <a href="https://ostif.org/the-openvpn-2-4-0-audit-by-ostif-and-quarkslab-results/">did not reveal any</a> ‚Äúholes‚Äù affecting the security of user data.  Then several vulnerabilities were found that give attackers the ability to conduct DDoS attacks, but the developers <a href="https://www.privateinternetaccess.com/blog/2017/05/openvpn-2-4-2-fixes-critical-issues-discovered-openvpn-audit-reports/">patched</a> them in the version of OpenVPN 2.4.2. <br><br>  OpenVPN is considered one of the most reliable VPN protocols available today and is widely supported by the VPN industry.  And although earlier OpenVPN did not work on mobile platforms without root access, today there are third-party applications that have corrected this ‚Äúmisunderstanding‚Äù. <br><br><img src="https://habrastorage.org/webt/as/2k/4i/as2k4iy-e44bh9kowvwl962nvty.jpeg"><br>  <font color="#A9A9A9"><i>/ Flickr / <a href="https://www.flickr.com/photos/andrewfhart/8106200690/">Andrew Hart</a> / <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC</a></i></font> <br><br><h2>  VPN Connection Types </h2><br>  In today's article we will talk about the two most commonly used <a href="https://learningnetwork.cisco.com/blogs/vip-perspectives/2017/03/14/anatomy-of-gre-tunnels">types of</a> VPN connections.  It will be about remote access to the corporate network (remote access) and a point-to-point connection (site-to-site) <br><br>  Remote access allows company employees to securely connect to the corporate network via the Internet.  This is especially important in the case when an employee does not work in the office and connects through unprotected access points, such as Wi-Fi in a cafe.  To establish this connection, a tunnel is established between the client on the user's gadget and the VPN gateway on the company's network.  The gateway authenticates and then provides (or limits) access to network resources. <br><br>  To protect the connection, IPsec or SSL is most commonly used.  It is also possible to use the protocols PPTP and L2TP. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/r-/5c/p2/r-5cp2oapk_clodx3pcwslnu5sk.png" width="600"></div><br>  <font color="#A9A9A9"><i>/ Wikimedia / <a href="">Philippe Belet</a> / PD</i></font> <br><br>  Site-to-site VPN <a href="https://vasexperts.ru/blog/vpn-tipy-podklyucheniya-i-proverka-bezopasnosti/">serves to</a> combine different local networks.  In this case, user devices work without VPN clients ‚Äî the gateway does all the work. <br>  This type of connection <a href="https://computer.howstuffworks.com/vpn4.htm">is used</a> when a company has several remote offices that need to be combined into one private network.  And also in the event that the organization has a partner to whose network connection is required.  This allows companies to work together in a protected common space. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gp/gq/fg/gpgqfgxyaxn4ipu4ota-9xfv6si.jpeg" width="600"></div><br>  <font color="#A9A9A9"><i>/ Wikimedia / <a href="">Philippe Belet</a> / PD</i></font> <br><br>  IPsec is most often used to protect point-to-point connections.  Also the variant of the carrier MPLS-cloud without public networks is used.  In this case, it is possible to organize connections Layer3 (MPLS IP VPN) or Layer2 (VPLS). <br><br>  Finally, I would like to note that there are several other options for using VPN connections: <br><br><ul><li>  Establishing a connection between two servers in data centers.  It is useful if for some reason it is not possible to establish a secure channel using a standard corporate network. </li><li>  Connection to the IaaS service. </li><li>  Placing the VPN gateway in the cloud. </li></ul><br>  In more detail about them and the VPLS technology we plan to tell in one of the subsequent materials. <br><br><hr><br>  PS What else do we write in our corporate blog: <br><br><ul><li>  <a href="https://vasexperts.ru/blog/kak-bezopasno-obmenivatsya-parolyami-v-vashej-seti/">How to safely share passwords on your network</a> </li><li>  <a href="https://vasexperts.ru/blog/wi-fi-spros-rastet-a-vozmozhnosti-ograniche/">Wi-Fi: demand is growing, and opportunities are limited</a> </li><li>  <a href="https://vasexperts.ru/blog/5-problem-nfv/">5 NFV issues</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/341916/">https://habr.com/ru/post/341916/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../341906/index.html">We select the supplier of IT solutions and keep the sanity</a></li>
<li><a href="../341908/index.html">Free YouTube broadcast Mobius 2017 Moscow</a></li>
<li><a href="../341910/index.html">Free YouTube-broadcast of DotNext 2017 Moscow: Performance .NET, AI, microservices and some F #</a></li>
<li><a href="../341912/index.html">PHP OPCache is to blame?</a></li>
<li><a href="../341914/index.html">What are ghost buttons and why should you be afraid of them?</a></li>
<li><a href="../341918/index.html">Internet content blocking: about messengers and social networks</a></li>
<li><a href="../341920/index.html">IBM Research announced a 50-qubit quantum computer</a></li>
<li><a href="../341922/index.html">Immersion in oil: a new approach to immersion cooling</a></li>
<li><a href="../341924/index.html">‚ÄúAgile Development‚Äù: Agile Methodologies Summary</a></li>
<li><a href="../341926/index.html">Self Service: how and why to teach users autonomy</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>