<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Frequent difficulties in working with React.js</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! I present to you the translation of the Samer Buna article "React.js Frequently Faced Problems" . 
 Do not panic. You're right: there are my...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Frequent difficulties in working with React.js</h1><div class="post__text post__text-html js-mediator-article">  Hi, Habr!  I present to you the <a href="https://medium.com/%40samerbuna/react-js-frequently-faced-problems-45e7060ef884">translation of the Samer Buna article "React.js Frequently Faced Problems"</a> . <br><blockquote>  Do not panic.  You're right: there are myriads of web technologies, architectures and frameworks, and a lot of them are under development right now.  Remember: everyone who has become a professional web developer started out like you.  They studied languages, libraries one at a time, time after time, until they pumped up their skills and working mechanisms. <br><br>  Web development is now the first trip to the supermarket.  On the shelves of hundreds of products that you want to seize.  Having become puzzled, it is very easy to be frightened by a huge choice.  It will be a mistake to try to learn everything at once, as if you need to be competent everywhere. <br><br>  In fact, if you concentrate on one thing, for example, creating a website in the simplest HTML / CSS / JavaScript without libraries, and then add a framework like React, your path from beginner to professional will be much more convenient and pleasant. <br></blockquote>  Indeed, it is difficult for newbies to deal with simple things that an experienced developer doesn't even pay attention to.  This article is intended to make out the popular mistakes and difficulties that most React learners face. <br><a name="habracut"></a><br><h2>  1 - Component name with a lowercase letter </h2><br>  The React component must have a name beginning with a capital letter.  If this is not the case, the component will be treated as inline: <b>div</b> or <b>span</b> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For example: <br><br><pre><code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">greeting</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre> <br>  Try to pass the framework (render) &lt;greeting /&gt; - React will give the error: <br><br><pre> <code class="bash hljs">Warning: The tag &lt;greeting&gt; is unrecognized <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> this browser. If you meant to render a React component, start its name with an uppercase letter.</code> </pre><br>  Which tells us: ‚ÄúStart with a capital letter, is it difficult or something?‚Äù. <br><br>  * And never call the component <b>button</b> , <b>img</b> and other tags.  React will simply ignore them and render as a bare HTML tag. * <br><br><img src="https://cdn-images-1.medium.com/max/1000/1*1DVD4DOgHfqAYXhQX1YYSw.png" alt="image"><br><br><h2>  2 - Using single quotes instead of reverse apostrophes </h2><br>  Strings are created with <i>back quotes</i> ( <b>`...`</b> ) (orig. ‚ÄúBack-ticks‚Äù), and they differ from ordinary single quotes ( <b>'...'</b> ). <br><br>  On most keyboards, reverse apostrophes can be set by pressing the key above Tab. <br><br>  That is what we use when we need to insert a dynamic expression into a string, not using a line break and subsequent concatenation. <br><br><pre> <code class="hljs perl"><span class="hljs-string"><span class="hljs-string">`         `</span></span> <span class="hljs-string"><span class="hljs-string">'     '</span></span></code> </pre><br>  Let's imagine a situation: you need to display a message about how much time is ‚ÄúTime: ...‚Äù <br><br><pre> <code class="hljs pgsql">//       const <span class="hljs-type"><span class="hljs-type">time</span></span> = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-type"><span class="hljs-type">Date</span></span>().toLocaleTimeString(); //    ,  //    <span class="hljs-string"><span class="hljs-string">'Time is '</span></span> + <span class="hljs-type"><span class="hljs-type">time</span></span> //    ,  //    ${} `<span class="hljs-type"><span class="hljs-type">Time</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> ${<span class="hljs-type"><span class="hljs-type">time</span></span>}`</code> </pre><br>  Also, inside the reverse apostrophes, you can make a line break. <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> template = <span class="hljs-string"><span class="hljs-string">`      `</span></span>;</code> </pre><br>  With the usual single quotes you do not crank this. <br><br><h2>  3 - Using React.PropTypes </h2><br>  The PropTypes object has been removed from React.  It's just not there, and you need to get used to it.  But now: <br><br><ul><li>  Add a new prop-types module: <b>npm install prop-types</b> </li><li>  We import into the necessary file: <b>import PropTypes from 'prop-types'</b> </li></ul><br>  It works now.  Example: <b>PropTypes.string</b> . <br><br>  If there is still a line with <b>React.PropTypes</b> in the code, then you will get an error <br>  on the head: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">TypeError</span></span>: Cannot read property <span class="hljs-string"><span class="hljs-string">'string'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-literal"><span class="hljs-literal">undefined</span></span></code> </pre><br><h2>  4 - Using the versions described in the tutorial </h2><br>  When you view or read programming lessons and follow the examples from there, make sure you have the lesson version installed.  Usually the use of the latest versions of modules is safe, but the tutorial is obsolete.  As a result, you will definitely encounter errors.  Conversely, if the tutorial uses <i>React 16</i> , do not be lazy to replace your 15th version. <br><br>  This is especially important for Node.js.  Bugs with old versions are there on every corner.  For example, in <i>Node 7.x</i> , <b>Object.values ‚Äã‚Äãwas</b> removed, so it would be easier to upgrade than correct your code on Node 6.x <br><br><h2>  5 - Confusion between functions and classes </h2><br>  Can you tell where the error is in this code? <br><br><pre> <code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Numbers</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ const arrayOfNumbers = _.range(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>); <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre><br>  The code is incorrect, because inside the body of the JavaScript class you have <i>almost</i> no rights <i>to anything</i> .  You can only declare methods and properties through a limited syntax. <br><br>  This is really confusing, because {} curly braces in the syntax of the class look like a familiar block structure, but it is not. <br><br>  If you want freedom in action, use components based on functions: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Number</span></span> = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> arrayOfNumbers = _.range(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>); <span class="hljs-comment"><span class="hljs-comment">// ... };</span></span></code> </pre><br><h2>  6 - Numbers as strings </h2><br>  You can pass properties using the string: <br><br><pre> <code class="hljs pgsql">&lt;Greeting <span class="hljs-type"><span class="hljs-type">name</span></span>="World" /&gt;</code> </pre><br>  If you need to pass a number, do NOT write them in quotes: <br><br><pre> <code class="hljs xml">//   ! <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Greeting</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">counter</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"7"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre><br>  Instead, insert them into braces: <br><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Greeting</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">counter</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{7}</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre><br>  Using {7} inside the <b>Greeting</b> component, you can get your number using <b>this.props.counter</b> and you can do mathematical operations with it absolutely safely.  Incorrect use of the ‚Äú7‚Äù can lead to unpredictable consequences. <br><br><h2>  7 - Two applications on one port </h2><br>  To start the web server, you need a <b>host</b> (for example 127.0.0.1) and a <b>port</b> (for example 8080) to make the server listen for requests at the correct http address. <br><br>  As soon as the server starts, it has full control over the port.  You will no longer be able to turn on your iron on the same port.  He will be busy (Port, not iron!). <br><br>  Try running the same server from another terminal.  You will most likely get the error ‚ÄúUsed‚Äù: <br><br><pre> <code class="bash hljs">Error: listen EADDRINUSE 127.0.0.1:8080</code> </pre><br>  Sometimes it turns out that the port is used in the <i>background</i> .  You do not see him, but he interferes with life.  In such situations, it is advantageous to ‚Äúkill‚Äù the one that occupies the precious port: <br><br><pre> <code class="bash hljs">lsof -i :8080</code> </pre><br><h2>  8 - Environment Variables </h2><br>  Some projects depend on the existence of <i>environmental variables</i> (original ‚ÄúEnvironmental variables‚Äù).  If you start the application without the necessary variables, it will try to start using <b>undefined</b> values ‚Äã‚Äã( <b>undefined</b> ), and, of course, this will lead to critical errors. <br><br>  For example, if a project is connected to a <i>MongoDB</i> database, then environment variables of the type <b>process.env.Mongo_URI</b> will be useful in order to safely connect to the database.  They can also be quickly changed depending on the situation (is it not necessary to connect another database). <br><br>  To run a project with MongoDB locally, you first need to export the <b>MONGO_URI</b> variable.  Required, if the database works, say, on port 27017, do it before you run the application: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">export</span></span> MONGO_URI = <span class="hljs-string"><span class="hljs-string">"mongodb://localhost:27017/mydb"</span></span></code> </pre><br><h2>  9 - Figure {} or round () brackets </h2><br>  Instead <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { something(); };</code> </pre><br>  Write <br><br><pre> <code class="hljs lisp">return ( <span class="hljs-name"><span class="hljs-name">something</span></span>()<span class="hljs-comment"><span class="hljs-comment">; );</span></span></code> </pre><br>  The first example will try (and it will not work) to return an object, while the second will be able to call the function <b>something ()</b> and return what the function should return. <br><br>  Since the <b>&lt;tag&gt;</b> in the JSX syntax will call a function, this problem applies to any JSX code. <br><br>  It also applies to <i>switch functions</i> (orig. ‚ÄúArrow functions‚Äù).  Instead <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Greeting = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { &lt;div&gt; Hello World &lt;<span class="hljs-regexp"><span class="hljs-regexp">/div&gt; };</span></span></code> </pre><br>  Write <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Greeting = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> Hello World </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> );</code> </pre><br>  * Just remember: in ES6, curly brackets for the arrow functions are not needed! * <br><br><h2>  10 - Failing to enclose objects in parentheses </h2><br>  Finish the topic from the previous paragraph.  It is easy to get confused, referring to the switch functions for the same, to return a normal object. <br><br>  Instead <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> myAction = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'DO_IT'</span></span> };</code> </pre><br>  Write <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> myAction = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> ({ <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'DO_IT'</span></span>});</code> </pre><br>  Without wrapping an object in parentheses, you will never be able to achieve what a short syntax was invented for. <br><br>  To fix, consider a similar ready-made example: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">prevState</span></span></span><span class="hljs-function"> =&gt;</span></span> ({ <span class="hljs-attr"><span class="hljs-attr">answer</span></span>: <span class="hljs-number"><span class="hljs-number">12</span></span> }));</code> </pre><br><h2>  11 - Using the wrong letter in methods </h2><br>  <b>React.Component</b> , but not <b>React.component</b> .  <b>componentDidMount</b> , not <b>ComponentDidMount</b> .  Generally <b>ReactDOM</b> , but not <b>ReactDom</b> . <br><br>  Pay attention to how various methods are written, because, having made such an error, you can really spend time with it, and then you will be ashamed of yourself.  Try <b>ESLint</b> , it will help to track such errors. <br><br>  Often errors occur when accessing properties: <br><br><pre> <code class="hljs objectivec">&lt;Greeting userName=<span class="hljs-string"><span class="hljs-string">"Max"</span></span> /&gt; <span class="hljs-comment"><span class="hljs-comment">//   props.userName</span></span></code> </pre><br>  For example, if instead of <b>props.userName you</b> enter <b>props.username</b> or <b>props.UserName</b> , then the value <b>undefined</b> will be returned. <br><br><h2>  12 - Errors in the application of the state object </h2><br>  In component classes, you can declare a local <b>state</b> object, and later get its value through <b>this</b> : <br><br><pre> <code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Greeting</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ state = { name: <span class="hljs-string"><span class="hljs-string">""</span></span>, }; render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> `, ${<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.name}` } }</code> </pre><br>  The program will display <code>‚Äú, ‚Äù</code> . <br><br>  Instead of <b>state,</b> you can use any object name.  For example: <br><br><pre> <code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Greeting</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ user = { name: <span class="hljs-string"><span class="hljs-string">""</span></span>, }; render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> `, ${<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.user.name}` } }</code> </pre><br>  Will output the same thing. <br><br>  However, there is a difference.  <b>state</b> is a special object managed by React.  You can change the value through <b>setState</b> and React <i>will react</i> to it.  Such a trick will not work with the example code above, although you can still use it if you do not want to see the reaction. <br><br><h2>  13 - Porridge in &lt;tag /&gt; and &lt;/ tag&gt; </h2><br>  Do not forget to put <i>forward slash</i> <b>/</b> when you close the tag.  And yes, sometimes you need <b>&lt;tag /&gt;</b> and sometimes <b>&lt;/ tag&gt;</b> . <br><br>  HTML has <i>self-closing tags</i> (orig. ‚ÄúSelf-closing tag‚Äù).  These are elements without "children."  For example, <b>img</b> refers to this: <br><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"..."</span></span></span><span class="hljs-tag"> /&gt;</span></span> //    <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  You can put as many others as you want into the <b>div</b> tag, so you need to open and close it either: <br><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span>  ... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  The same rule applies to React components. <br><br><pre> <code class="hljs swift">&lt;<span class="hljs-type"><span class="hljs-type">Greeting</span></span>&gt;<span class="hljs-type"><span class="hljs-type">Hello!</span></span>&lt;/<span class="hljs-type"><span class="hljs-type">Greeting</span></span>&gt; <span class="hljs-comment"><span class="hljs-comment">//  ,   </span></span></code> </pre><br>  However, if he does not have ‚Äúchildren,‚Äù you can still open / close him, and you can also use the self-closing tag: <br><br><pre> <code class="hljs xml">// 2   <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Greeting</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Greeting</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Greeting</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre><br>  Example of misuse: <br><br><pre> <code class="hljs xml">//    <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Greeting</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Greeting</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre><br>  From that you should see an error: <br><br><pre> <code class="bash hljs">Syntax error: Unterminated JSX contents</code> </pre><br><h2>  14 - Expecting import / export to ‚Äújust earn‚Äù </h2><br>  The <i>import / export</i> capability has been officially supported by <b>JavaScript</b> since 2015.  However, this is the only one from <b>ES2015</b> that is not fully supported by all browsers and the latest version of <b>Node</b> . <br><br>  Often projects on React create with <b>Webpack and Babel</b> .  They allow you to compile your code into what all browsers will understand.  Therefore, it is better to use import / export together with <b>Webpack and Babel</b> . <br><br>  To make <b>Node</b> understand import / export, which is sometimes necessary, for example, in cases when you use them on the front (frontend) and have <b>SSR</b> ( <i>Server-Side Rendering - server-side rendering, isomorphic application</i> ).  To do this, you need the presence of Babel in the Node itself.  For ease of development, I advise you to connect something from <b>pm2</b> , <b>nodemon</b> , <b>babel-watch</b> . <br><br><h2>  15 - Bind Issues </h2><br>  You can declare class methods in React components, and then include them in the render method.  For example: <pre> <code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Greeting</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ whoIsThis() { console.dir(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-comment"><span class="hljs-comment">// "this"   whoIsThis return "World" } render() { return `Hello ${this.whoIsThis()}` } } ReactDOM.render(&lt;Greeting /&gt;, mountNode);</span></span></code> </pre><br>  I used the <b>whoIsThis</b> method inside <b>render</b> 'a using <b>this.whoIsThis</b> , because in this case <b>this</b> refers to the DOM element (that is, the component itself). <br><br>  React is trying to verify this.  However, JavaScript does not even try to automatically link (orig. ‚ÄúBind‚Äù) <b>this</b> and the <b>whoIsThis</b> method. <br><br>  Test it with examples.  The console.dir line in whoIsThis will print the Greeting object, because the method was called directly from the render'a: <br><br><img src="https://cdn-images-1.medium.com/max/1000/1*kaoe2WU6rYWm2M5pTNfdlg.png" alt="image"><br><br>  However, when you use a class method in a place that will not be called immediately, for example in <i>an event handler</i> (orig. ‚ÄúEvent handler‚Äù), <b>console.dir</b> will not print what was expected: <br><br><img src="https://cdn-images-1.medium.com/max/1000/1*0A_QcuHnHG3IjMTiTySFaA.png" alt="image"><br><br>  In the example above, React calls the <b>whoIsThis</b> method only after clicking on a string, which will not give you access to the component from the inside.  That is why you get <b>undefined</b> . <br><br>  This is a preface that often a problem arises when trying to get <b>this.props</b> or <b>this.state</b> from a class method.  It just won't work.  There are many ways to solve.  You can wrap the method in a function or use <b>.bind</b> to make the method remember the one who calls it.  You can also do <b>bind</b> in <i>the class constructor</i> , not in <b>render</b> 'e. <br><br>  Still, the best solution would be to use features from <b>ECMAScript</b> (this is <i>stage-3</i> ) for classes through <b>Babel</b> , and to write pointer functions in handlers: <br><br><pre> <code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Greeting</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ whoIsThis = () =&gt; { console.dir(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;div onClick={<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.whoIsThis}&gt; <span class="hljs-type"><span class="hljs-type">Hello</span></span> <span class="hljs-type"><span class="hljs-type">World</span></span> &lt;/div&gt; ); } }</code> </pre><br>  It will work as expected: <br><br><img src="https://cdn-images-1.medium.com/max/1000/1*yXSginjJHz7jZsCG_-K6Mw.png" alt="image"><br><br>  <i>That's all.</i>  <i>Thank you for reading.</i> </div><p>Source: <a href="https://habr.com/ru/post/347458/">https://habr.com/ru/post/347458/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../347448/index.html">‚ÄúCourse on hyperscale‚Äù: there are almost 400 hyper-scalable data centers in the world</a></li>
<li><a href="../347450/index.html">Flask Mega-Tutorial, Chapter 8: Subscribers, Contacts and Friends (Edition 2018)</a></li>
<li><a href="../347452/index.html">IT solutions architecture. Part 2. Architects</a></li>
<li><a href="../347454/index.html">Familiar faces: algorithms for creating a "typical" portrait</a></li>
<li><a href="../347456/index.html">Layer 7 DoS: Web Application Denial of Service Attacks</a></li>
<li><a href="../347460/index.html">Google Pay Integration</a></li>
<li><a href="../347464/index.html">How to return the domain, which forgot to renew</a></li>
<li><a href="../347466/index.html">How to import accounts from CSV to Zimbra</a></li>
<li><a href="../347468/index.html">5 myths about the leading developers, which makes me sad</a></li>
<li><a href="../347470/index.html">Numphp - library for working with numeric arrays</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>