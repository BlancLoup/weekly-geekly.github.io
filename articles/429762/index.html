<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Streamer from MiniDV-camcorder</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sometimes you may want a strange one. That seems to be the MiniDV video camera itself and it lies. There are no requests. And what if we take and writ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Streamer from MiniDV-camcorder</h1><div class="post__text post__text-html js-mediator-article">  Sometimes you may want a strange one.  That seems to be the MiniDV video camera itself and it lies.  There are no requests.  And what if we take and write on her cassettes not even a video at all, but, say, files.  Record is still digital.  Let the volume of the cassette is only about 13 GB (for the data it took to occupy about 9.5 GB), even if the read speed is 3.5 MB per second, but you‚Äôll get a simple home drive.  So to say, ‚Äústreamer for the poor.‚Äù  Why not send to multiple tapes, say, any important files.  Just so, just in case.  Let's try! <br><a name="habracut"></a><br>  What is the basis for recording data on a MiniDV camcorder?  Yes, instead of audio data and parts of video data, it is simply possible to slip data files ‚Äî a digital format with a separate compression of each frame using the same algorithm.  It remains the case for a program that can do it. <br><br>  Searching on the Internet how to use a household video camera as a streamer, I found mentioning several programs on forums and articles a decade ago.  For Windows, for example, these were DVStreamer Pro and DVStreamer Lite.  For the first ten years ago, the authors asked for about $ 60.  The second is free, but with a lot of restrictions (256 files no more than 8 MB each or one file no more than a gigabyte).  Plus, numerous complaints about the unstable operation of both versions.  After downloading this software from the manufacturer‚Äôs page (for some reason, the Lite version is no longer there - it looks like the program is now one), another 30-day period was revealed for, so to speak, a trial.  And yes, this program, just like a decade ago, is unstable and easily takes off from the change of weather on Mars.  But she is able to directly control the camera and automatically rewind to the desired file. <br><br>  Well, and what is available for Linux?  It turns out that something is available, namely dvbackup-0.0.4.  This program is capable of wrapping the data stream transferred to it in the RAW DV format and transferring it to another dvcontrol program included in the package for recording.  Well, in the reverse order, it can also extract files from RAW DV. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Unfortunately, I did not manage to start dvcontrol - it did not consistently see the data on the ieee1394 from the video camera.  But what if you deal with dvbackup and create the RAW DV file yourself with your own gadgets?  For example, instead of a static logo shown by a video camera while playing a video from dvbackup, make your logo by adding a progress bar and the name of the recorded file, as well as add support for folders. <br>  It remains to decide what would be such a RAW file to read and write to the camera.  And yet, all this has long been able to video editor Kino.  Here we will also use it for work with a video camera.  No sooner said than done.  Having disassembled dvbackup into parts, and having rather quickly formed a data file, I made sure that Kino could write this file to the camera (while cursing at the impossible frequency).  But can not be considered.  No, says the video stream.  The camera, meanwhile, perfectly displays this video stream on the small screen. <br><br>  It was here that I had to very carefully go through the DV format, gradually replacing parts of dvbackup (often, with the author‚Äôs comments about ‚Äúmagic numbers‚Äù and unknown assignments) with correct and appropriate DV-format descriptions.  A number of data had to be decrypted directly from the real stream from the video camera, since in my description of the DV-format such block identifiers are not described.  As a result, after another file completion, it turned out that Kino is quite satisfied with the received video file and is able to write and read this file without any problems.  However, apparently, the reason for the initial rejection was that I turned off the audio when I created the RAW DV file for the first time.  Was it the case, I didn‚Äôt even check now <br><br>  So, as a result of the experiments, this is the program for Windows: <br><br><img src="https://habrastorage.org/webt/-2/kf/7u/-2kf7u1rgmaormxriicib2tb92m.png"><br><br>  She can collect files in a RAW DV video file and extract files from such a video file.  You can also clear the report and interrupt processing if you change your mind.  At the beginning of the video data and before each file, you can specify a prefix - this is such an empty block that facilitates positioning at the beginning of the file (between files (local prefix) you can not do at all, but at the very beginning (global prefix) you should set the most often - it will make search for the beginning of the file block).  All this is configured in the program dialogs.  There is also a data verification mode in the DV video file.  In this mode, files are extracted, but not saved. <br><br>  The resulting video file can be written to tape with any editor that allows you to record RAW DV files.  In one of the variants of the program, I made the assembly of RAW DV inside the AVI file, but it turned out that the video editors I used during the export lose the data placed in the DV-format.  Therefore, this option had to be abandoned. <br><br>  Writing data to a video camera in Kino looks like this: <br><br><img src="https://habrastorage.org/webt/bf/_h/kp/bf_hkpg8wijgdyb75qexc-lgvbm.png"><br><br>  And this is how the recording process on the camcorder looks like: <br><br><img src="https://habrastorage.org/webt/ay/6d/7f/ay6d7f_le1i8h4hsvz9jsxki6js.jpeg"><br><br>  How reliable is such a streamer?  I recorded part of a 9.5 GB photo album onto a cassette tape as a set of jpg photo files of about 1-3 MB each.  When reading the failure was recorded in three files. <br><br>  Of course, I would like to control the camera directly, but I have not yet found a clear description of how to work with the camera on the ieee1394.  The only book where at least something was written is ‚ÄúWindows hardware programming‚Äù, but the example shown there, first, contains errors, and second, just found me the device of the ieee1394 board installed in the computer, and not at all video camera.  The attempt to send and receive data from the board was not successful.  Therefore, if someone can talk about working with the camera on ieee1394 using WinAPI and in C / C ++, I will be very grateful to him. <br><br>  <a href="https://yadi.sk/i/nwb3rzVVWp0tDg">I found a description of the format DV.</a> <br><br>  <a href="https://github.com/da-nie/DVCasseteStreamer">Program repository on GitHub</a> <br><br>  <a href="https://yadi.sk/d/of84BhoGlks9SQ">Source code and executable file</a> </div><p>Source: <a href="https://habr.com/ru/post/429762/">https://habr.com/ru/post/429762/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../429750/index.html">Developer Cookbook: DDD Recipes (Part 3, Application Architecture)</a></li>
<li><a href="../429754/index.html">Fatal errors in hardware integration</a></li>
<li><a href="../429756/index.html">How to configure the setting of Nuxt.js environment variables in runtime, or How to do everything differently and do not regret</a></li>
<li><a href="../429758/index.html">Why SRE is important documentation. Part 1</a></li>
<li><a href="../429760/index.html">How to change your life by starting the development of the OpenSource project</a></li>
<li><a href="../429764/index.html">Game Life on FPGA Altera Cyclone IV</a></li>
<li><a href="../429766/index.html">.NET guru Dino Esposito: ‚ÄúDo not be a passenger of a derailed train‚Äù</a></li>
<li><a href="../429768/index.html">DNS over HTTPS is issued in RFC 8484 - but not everyone is happy with it</a></li>
<li><a href="../429770/index.html">How the spread of Internet devices changes payment habits</a></li>
<li><a href="../429772/index.html">Share and Conquer: Tools for Creating and Testing Newsletters</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>