<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Wolf hunters from Wall Street. Part 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Adaptation from the book by Michael Lewis "Quick Boys" 
 [ This is the second part of a series of adaptations of the recently published book by Michae...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Wolf hunters from Wall Street. Part 2</h1><div class="post__text post__text-html js-mediator-article"> <a href="http://habrahabr.ru/company/itinvest/blog/220363/"><img src="https://habrastorage.org/getpro/habr/post_images/748/35a/14b/74835a14b305c43eaad50e34493fe7fb.png" align="left" width="250"></a> <br><h4>  Adaptation from the book by Michael Lewis "Quick Boys" </h4><br>  [ <i>This is the second part of a series of adaptations of the recently published book by Michael Lewis.</i>  <i>The first part can be read <a href="http://habrahabr.ru/company/itinvest/blog/218975/">here</a></i> - approx.  transl.] <br><br>  <b>It has always seemed</b> to people that since Brad Katsuyama is Asian, he must be a computer genius.  In reality, he could not (or did not want) to even set up his digital player.  What he really could do was distinguish which IT professional really knew his business and who didn't.  So he was not particularly surprised when in the RBC [ <i>Royal Bank of Canada, Royal Bank of Canada</i> - approx.  transl.] eventually stopped trying to find someone who could restore order in their electronic bidding, and asked him, Katsuyama, to take on this task.  He, however, seriously puzzled his friends and colleagues by agreeing to undertake this, despite the fact that: a) he already had a calm and ‚Äúdust-free‚Äù job of managing live traders, for which he received $ 1.5 million. year and b) RBC had nothing to add to the electronic bidding process.  The market was confused;  large investors needed only a few trading algorithms that brokers distributed, and Goldman Sachs, Morgan Stanley and Credit Suisse have long occupied this niche. <br><br><a name="habracut"></a>  So, Katsuyama headed a business called electronic trading - despite the fact that he could sell only useless software from Carlin Financial.  What he had at that moment was in abundance was questions that were not answered.  Why, for example, in the interval from public stock exchanges to dark pools [of liquidity] - private exchanges that are created by banks and brokers who do not report their trading activity in real time - there are at least 60 organizations, mostly located in New Jersey, where can I buy any stock listed on the stock exchange?  Why do they pay for one action or another at one exchange, for example, for selling shares, while at the other, they charge you for the same action?  Why is the state of the market on the screens of computers from Wall Street turns out to be fiction? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Katsuyama hired Rob Park (Rob Park), a gifted IT specialist, to explain to him what is actually happening inside all these ‚Äúblack boxes‚Äù from Wall Street, and together they began to assemble a team to investigate what was happening in the US stock market.  Once the team was formed, Katsuyama convinced his bosses at the RBC to go for what had resulted in a series of experiments.  Over the next few months, he and his guys planned to trade stocks not for profit, but to test their theories.  The RBC agreed to give the team the opportunity to spend up to $ 10,000 a day to find out why the market conditions for each selected stock changed radically each time when RBC tried to carry out a particular trading operation with it.  Katsuyama asked Park to think about which theories can explain this. <br><br>  They started with public markets, with 13 stock exchanges located in four different locations and led by the New York Stock Exchange, the Nasdaq, BATS and Direct Edge.  The first theory of the Park was that exchanges do not group together all orders at the same price, but arrange them in a certain sequence.  You and I can enter an order to buy 1,000 shares of Intel at $ 30 a share, but you can somehow get the right to cancel your order if mine was executed.  ‚ÄúWe began to grow stronger in the opinion that people canceled warrants,‚Äù says Park.  "What were these phantom orders." <br><br><img src="https://habrastorage.org/getpro/habr/post_images/435/68b/91c/43568b91cdb9f20af076fc0ed70c8077.png" width="500"><br>  <i>This box, stored in a building in Secaucus, New Jersey, contains a 38-mile fiber optic cable, which creates small delays when processing orders, thereby equalizing the chances of different traders.</i> <br><br>  Katsuyama tried to send orders to selected stock exchanges, almost certain that this could confirm that some or even all exchanges allow phantom orders to appear.  But no: to his surprise, he found out that according to the order sent to a specific stock exchange, he could easily buy the shares put up for sale.  What he saw on the computer screen was indeed the real state of the market.  "I thought ... with her, with this theory," says Katsuyama.  "And I also thought that we have no other theory." <br><br>  There was no point in this: Why are the market data on the computer screen real if you send an order to a specific stock exchange, but no longer correspond to reality if you send an order to all the exchanges at once?  The team began to send orders to groups of exchanges in various combinations.  The first were the New York Stock Exchange and the Nasdaq.  Then came the New York Stock, Nasdaq and BATS.  Then came the New York Stock, Nasdaq BX, Nasdaq and BATS.  And so on.  And the further it went, the more mysterious it became.  The more exchanges were on the list, the less the percentage of order execution became, the more sites on which they wanted to buy stocks became, the fewer shares they eventually managed to buy.  ‚ÄúThere was only one exception,‚Äù says Katsuyama.  ‚ÄúNo matter how many exchanges we sent warrants, we could always buy all the shares offered on BATS‚Äù.  Park did not have this explanation: ‚ÄúI just decided that BATS must be a great exchange!‚Äù. <br><br>  <b>One morning</b> , while taking a shower, another theory occurred to Rob Park.  He tried to imagine what he had seen before that, showing how long it took to send the order from the computer of Brad Katsuyama, located at the World Financial Center, to each of the exchanges. <br><br>  The amount of time required for this operation was fantastically tiny: in theory, the fastest order from the Katsuyama computer in Manhattan reached the BATS exchange in Vihokene, New Jersey ‚Äî it took two milliseconds.  The longest warrant went to the Nasdaq Stock Exchange in Carteret, New Jersey ‚Äî it took four milliseconds.  In practice, these numbers could vary significantly depending on the traffic on the network, as well as equipment failures between the two points.  Even to quickly blink you need 100 milliseconds - and the more difficult it was to believe that in less time than we spend blinking something could happen that has real consequences on the market.  Allen Zhang, whom Katsuyama and Park considered the most talented programmer on the team, wrote code embedding ‚Äúdelays‚Äù in the process of sending orders to ‚Äúnearby‚Äù exchanges, so that they came there at the same time as on exchanges "Distant".  ‚ÄúIt was illogical,‚Äù says Park, ‚Äúbecause everyone told us: the faster, the better.  We should have accelerated, and we, on the contrary, tried to slow down. ‚Äù  One morning they sat down to test the program.  When a purchase order was sent from the computer, which was not executed as a result, the screens were lit in red.  When the order was partially executed - brown, and when fully executed - green. <br><br>  And this time the screens turned green. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bfc/f8b/911/bfcf8b91140dc9b93b588beaea2fd67c.png" width="500"><br>  <i><b>Speed ‚Äã‚Äãtrading</b></i> <i><br></i>  <i>For the microseconds that a high-frequency trader needs for his order to reach various stock exchanges located in the cities of the state of New Jersey (blue lines), an order of an ordinary trader usually only goes the distance marked in red.</i>  <i>The time gap - which is now under the supervision of the Attorney General of New York - can in some cases bring financial benefits.</i> <br><br>  ‚ÄúIt was 2009,‚Äù says Katsuyama.  ‚ÄúBefore that, I observed a similar picture for two years and was definitely not the first to find out what is really happening.  So what happened to the others? ‚ÄùThe answer, apparently, was contained in the question itself: everyone who figured out the problem tried to make money on it. <br><br>  Now he and RBC received a tool that could be sold to investors: a program written by Zhen, which embedded delays in the process of sending orders.  This tool allowed traders, such as Katsuyama, to do their job - to take the risk on behalf of large investors and trade large volumes of shares.  Now such traders could re-trust the numbers on their computer screens.  The program needed a name.  The team puzzled, until one day some trader jumped up with a shout: ‚ÄúDude, you have to call this thing Thor [Thor]!  The hammer! ‚Äù[ <i>In the original article, the hammer and the Torah itself are called the same, but the‚Äú canonical ‚Äùname of the hammer of the Torah is Mj√∂llnir</i> - approx.  trans.].  Someone was asked to come up with a phrase that could be shortened to the acronym Thor - the words were picked up, but no one remembered them.  The program and began to call - Thor.  ‚ÄúI realized that we came up with something really worthwhile when the word Thor was used as a verb,‚Äù says Katsuyama.  ‚ÄúWhen I heard someone shout,‚Äú Thor it! ‚Äù <br><br>  Another proof that they have found the right approach to solving the problem was the meeting of Katsuyama with some of the largest investment managers in the world.  Katsuyama and Park made their first visit to Mike Gitlin (Mike Gitlin), who led the global trade in million-dollar assets for the investment manager T. Rowe Price.  The story they told did not seem to Gitlin a complete surprise.  ‚ÄúYou could see how something had changed quite recently,‚Äù said Gitlin.  ‚ÄúYou could see that when you try to trade stocks, the market understands what you are going to do and starts moving against you.‚Äù  But Katsuyama described a much more detailed picture of the stock market ‚Äî a picture that Gitlin hardly imagined ‚Äî and everything seemed suspicious in this market.  The Wall Street brokerage company, which decided whether to send buy or sell orders from T. Rowe Price to the market, had a great influence on how and where these orders were executed.  At the same time, some exchanges paid broker companies for their orders, while others, on the contrary, themselves charged for this. <br><br>  Did this not affect where the broker decided to place an order - even if the decision went against the interests of investors that the broker had to represent?  No one knew for sure.  Another suspicious activity was the "payment for the flow of orders."  By 2010, every brokerage company in the United States and all online brokers effectively traded their clients' orders at auctions.  The online broker TD Ameritrade, for example, was paid hundreds of millions of dollars annually for sending orders to a hedge fund called Citadel, who worked with them on behalf of TD Ameritrade.  Why was Citadel willing to pay so much for the opportunity to monitor the flow of orders?  No one knew for sure what the benefits of Citadel were. <br><br>  Katsuyama and his team calculated how much cheaper they began to buy stocks when they eliminated the likelihood that some unknown traders could conduct a forward transaction.  For example, they bought 10 million shares of Citigroup, and then, when the shares were trading at $ 4 per share, they got $ 29,000 from them - or less than 0.1% of the total price.  ‚ÄúIt was practically an‚Äú imperceptible ‚Äùgathering,‚Äù says Park.  This amount looks insignificant until you know that the average trading volume in the United States in one day is $ 225 billion.  The same fee for all of this amount is almost $ 160 million per day.  ‚ÄúIt was so tricky to do this, because you couldn't know about anything,‚Äù says Katsuyama.  ‚ÄúThis happened on such a tiny scale [ <i>with a huge frequency of operations per unit of time</i> - approx.  perev.], that even if you tried to bring the whole process to clean water, you could not do it.  People are deceived because they cannot imagine a microsecond. ‚Äù </div><p>Source: <a href="https://habr.com/ru/post/220363/">https://habr.com/ru/post/220363/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../220351/index.html">Blogs are small media.</a></li>
<li><a href="../220353/index.html">iOS / PSW.SSLCredsThief.A for iOS c jailbreak</a></li>
<li><a href="../220355/index.html">A new biotechnology department has been created at DARPA</a></li>
<li><a href="../220357/index.html">Docsvision start - and continue</a></li>
<li><a href="../220359/index.html">The architecture of the online game server on the example of Skyforge</a></li>
<li><a href="../220365/index.html">FORTH: Self-Defined Words</a></li>
<li><a href="../220367/index.html">LibreSSL: a clean version of OpenSSL (the OpenBSD project)</a></li>
<li><a href="../220369/index.html">Indexing handwriting in images: from European languages ‚Äã‚Äãto Asian</a></li>
<li><a href="../220371/index.html">History of torrent rendering for 3ds max</a></li>
<li><a href="../220373/index.html">Personal Finance - Save and Grow</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>