<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Getting Started with the Automation API: Part 1 - Overview</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Translation of an article by Shashi Kumar Raja 


 So, let's say you want to do the automation of the API, but every time you type the best api automa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Getting Started with the Automation API: Part 1 - Overview</h1><div class="post__text post__text-html js-mediator-article"><p>  <em>Translation of an <a href="https://medium.com/testcult/getting-started-with-api-automation-3cf394240afb">article by</a> Shashi Kumar Raja</em> </p><br><p>  So, let's say you want to do the automation of the API, but every time you type the <em>best api automation tool</em> in the search box in Google, you see so many links to dozens of top tools that you get confused and decide that you will definitely do it <strong>tomorrow</strong> </p><br><p><img src="https://habrastorage.org/webt/zr/kq/we/zrkqwein7iz4odk_rqiw_osz730.png"></p><br><a name="habracut"></a><br><p>  Let's start by understanding what we need, if we want to set up (hopefully tomorrow) <strong>an API automation platform</strong> .  Hold this thought for a second ... I said, stop thinking ... <em>I know that your boss does not allocate a penny to any paid tools</em> .  Look, I read your mind, don't think out loud </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/ac9/747/97d/ac974797ded807ac62b12807b6487e82.jpg"></p><br><p>  Paid tools must be hung, not executed :) </p><br><blockquote><h3>  1. where the hell should I start writing tests? </h3></blockquote><p>  You will need something that will provide you with sets of rules and guidelines for writing tests, and also allow you to do this by giving you access to several tools and techniques.  I hear the bell ringing, no !!!  Well, I know what will make the bell ring. </p><br><p>  <em>Have you ever heard of <a href="https://testng.org/DOC/INDEX.HTML">TESTNG</a> , <a href="https://junit.org/JUNIT5/">JUNIT</a> , <a href="http://mocha.org/">MOCHA</a> , <a href="https://docs.pytest.org/EN/LATEST/">PYTEST</a> , <a href="http://robotframework.org/">ROBOT</a> !?</em>  <em>Yes, they are all test automation environments.</em> </p><br><p>  You need to find a suitable testing environment based on your requirements: which existing technology stack does your company use?  What automation do you want to do?  Which language is more convenient for you, etc.  You will find an automation environment in most popular languages ‚Äã‚Äãthat will allow you to write <em>modular, functional, and other</em> types of API testing. </p><br><p>  To learn more about the test environment, refer to the 2nd part of the series, where I presented <a href="https://medium.com/%40shashiraja/getting-started-with-api-automation-part-2a-intro-to-test-framework-mocha-c793a6b77627">Mocha</a> and <a href="https://medium.com/%40shashiraja/intro-to-test-framework-pytest-5b1ce4d011ae">Pytest in detail</a> . </p><br><blockquote><h3>  2. How am I going to make API calls in a test environment? </h3></blockquote><p>  Most of these platforms support API calls, including the <strong>HTTP request library</strong> , since the REST API uses the HTTP protocol to communicate. </p><br><p>  Some frameworks, such as <a href="http://mocha.org/">mocha</a> , give you the freedom to use a library of HTTP requests of your choice, such as <a href="https://visionmedia.github.io/superagent/">superagent</a> . </p><br><pre>  &lt;code class = "lang-JS"&gt; request
   .post ('/ api / pet')
   .send ({name: 'Manny', species: 'cat'}) // sends a JSON post body
   .set ('X-api-key', 'foobar')
   .set ('accept', 'json')
   .end ((err, res) =&gt; {
     // Calling the end function will send the request
   });
 &lt;/ code&gt; </pre><br><p>  They give you easy support for GET, PUT, POST, DELETE and all other methods. You can transfer headers, cache, query parameters, you called it - you got it </p><br><blockquote><h3>  3. Cool, but some of my APIs give JSON, and others give XML in response, how can I deal with this? </h3></blockquote><p>  Most of these HTTP request libraries will allow you to send and receive data in <em>JSON, XML, CSV, Text, Image, form-data, encoded-data formats</em> with several supported authorization standards. </p><br><p>  They also allow you to process the HTTP response status code and check whether we received the required response status code or not. </p><br><ul><li>  Informational Response Codes (1xx) <br>  100 - Continue <br>  101 - Switching Protocols <br>  102 - Processing </li></ul><br><ul><li>  Success Response Codes (2xx) <br>  200 - OK 206 - Partial Content <br>  201 - Created 207 - Multi-status <br>  202 - Accepted 208 - Already Reported <br>  203 - Non-authoritative Info 226 - IM Used <br>  204 - No Content 250 - Low Storage Space <br>  205 - Reset Content </li></ul><br><ul><li>  Redirection Response Codes (3xx) <br>  300 - Multiple Choices 304 - Not Modified <br>  301 - Moved Permanently 305 - Use Proxy <br>  302 - Found 307 - Temporary Redirect <br>  303 - See Other 308 - Permanent Redirect </li></ul><br><ul><li>  Client Error Response Codes (4xx) <br>  400 - Multiple Choices 410 - Not Modified <br>  401 - Moved Permanently 411 - Use Proxy <br>  402 - Found 412 - Temporary Redirect <br>  403 - See Other 413 - Permanent Redirect <br>  404 - Multiple Choices 414 - Not Modified <br>  405 - Moved Permanently 415 - Use Proxy <br>  406 - Found 416 - Temporary Redirect <br>  407 - See Other 417 - Permanent Redirect <br>  408 - Found 418 - Temporary Redirect <br>  409 - See Other </li></ul><br><ul><li>  Server Error Response Codes (5xx) <br>  500 - Internal Server Error 508 - Loop Detected <br>  501 - Not Implemented 509 - Bandwidth Limited <br>  502 - Bad Gateway 510 - Not Extended <br>  503 - Service Unavailable 511 - Network Auth Requried <br>  504 - Gateway Timeout 550 - Permission Denied <br>  505 - HTTP Ver Not Supported 551 - Option Not Supported <br>  506 - Variant Also Negotiates 598 - Nework Read Timeout Error <br>  507 - Insufficient Storage 599 - Network Connect Timeout Error </li></ul><br><blockquote><h3>  4. Good, but how will I process the test data? </h3></blockquote><p>  It depends on where you get the test data.  These test frameworks will allow you to use all the features of the language in which they are based. </p><br><p>  a.  <strong>Database:</strong> you can easily create database connections to read data. </p><br><p>  b.  <strong>External file:</strong> you can read external text, JSON, CSV or any other files. </p><br><p>  c.  <strong>Random data:</strong> you can use libraries, such as <a href="https://github.com/marak/Faker.js/">faker</a> , to generate random test data on the fly. </p><br><pre>  &lt;code&gt; var faker = require ('faker');

 var randomName = faker.name.findName ();  // Rowan Nikolaus
 var randomEmail = faker.internet.email ();  // Kassandra.Haley@erich.biz
 var randomCard = faker.helpers.createCard ();  // random contact card containing many properties
 &lt;/ code&gt; </pre><p>  d.  <strong>Data from the API response:</strong> Many times during testing, you will need to pass the response of one API as request data to another.  You can do this using <strong>hooks</strong> . You will get functions, such as <strong>Before, Before each, After, After each</strong> , which, as the name implies, are performed before / after any or all of the tests.  Call API1 before API2, and pass its response to API2.  Just to the right !!!  Ô∏è </p><br><blockquote><h3>  5. Processing the test data and executing the API calls seems simple, but how am I going to check the API responses? </h3></blockquote><p>  To check the answers you need a library called <strong>Assertion library</strong> .  Many test environments come bundled with assertion libraries, which gives you the opportunity to write asserts in plain English, such as syntax.  They also allow you to check the <a href="http://json-schema.org/">JSON scheme of</a> your response. </p><br><p>  In mocha, you can use any library of statements, for example, <a href="http://www.chaijs.com/"><strong>chai</strong></a> . </p><br><pre>  &lt;code&gt; response.status.should.equal (200)
 foo.should.be.a ('string');
 foo.should.have.lengthOf (3);
 tea.should.have.property ('flavors')
   .with.lengthOf (3);
 &lt;/ code&gt; </pre><blockquote><h3>  6. Fabulous !!!  There was a trifle, after all this testing, to somehow show my boss what I did and where I found problems? </h3></blockquote><p>  Most of these frameworks will provide you with a <strong>basic HTML report</strong> on a test run, which you can download and share.  If you need more beautiful reports with graphs and charts, you can use several open source reporting tools, such as <a href="https://github.com/allure-framework/">allure</a> or <a href="https://adamgruber.github.io/mochawesome/">mochawesome</a> . </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/ac5/a79/58e/ac5a7958edf2ea766ec2eeb0df70ec46.png"></p><br><blockquote><h3>  <em>7. Only if I could get some kind of template with these things to start automating the API now.</em> </h3></blockquote><p>  <em>What did I tell you, you called it, you got</em> </p><br><p>  This is the template that I created to <a href="https://github.com/shashikumarraja/api_automation_boilerplate-javascript">automate the API using mocha in node.js.</a> </p><br><p>  It includes- </p><br><ul><li>  Test-framework (mocha), </li><li>  HTTP request library (supertest), </li><li>  Assertion library (chai), </li><li>  Reporter (allure), </li><li>  logger (winston), </li><li>  Random data generator (faker), </li><li>  Eslint support and </li><li>  <a href="https://blog.cloudboost.io/your-api-vs-naughty-strings-72020036a29c">naughty string validation integrated</a> .  All you need to do is clone / download it and you are ready to go. </li></ul><br><p>  If you need a template in another language, I can prepare it for tomorrow. </p><br><p>  If you liked this article you can <a href="https://medium.com/testcult/getting-started-with-api-automation-3cf394240afb">clap your hands</a> , it will probably make me write more </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/433726/">https://habr.com/ru/post/433726/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../433714/index.html">RKN: Using analytics can lead to site blocking.</a></li>
<li><a href="../433716/index.html">Google showed a new generation of backpacks Street View Trekker</a></li>
<li><a href="../433720/index.html">10 reasons to choose a solution for SAP HANA from HPE</a></li>
<li><a href="../433722/index.html">HeisenBug through the eyes of SberTech employee</a></li>
<li><a href="../433724/index.html">Some uncomfortable truth about LDAC</a></li>
<li><a href="../433728/index.html">Google closed the project of the Chinese search engine with censorship due to disagreements within the company</a></li>
<li><a href="../433730/index.html">Optimization of relational databases without downtime on the example of the most loaded database in Badoo</a></li>
<li><a href="../433790/index.html">Advanced multi-stage build templates</a></li>
<li><a href="../433792/index.html">Shell scripts in Ansible</a></li>
<li><a href="../433796/index.html">How Homo Sapiens conquered the world. Communication and Negotiation Skills</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>