<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>CentOS 5.x, 6.x and EJabberd v2.x + Win2008AD</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I have long wanted to do it and at the end it was fully implemented, a bunch of EJabberd with accounts from Active Directory Win 2008 . With the forma...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>CentOS 5.x, 6.x and EJabberd v2.x + Win2008AD</h1><div class="post__text post__text-html js-mediator-article">  I have long wanted to do it and at the end it was fully implemented, a bunch of <b>EJabberd</b> with accounts from <b>Active Directory Win 2008</b> .  With the formation of the structure of the roster and the formation of the displayed user aliases based on the properties of user accounts that were created in <b>AD</b> .  Since  before re-reading a bunch of material, everywhere in pieces and not working. <br><a name="habracut"></a><br><br>  To install <b>ejabberd</b> from the package, you need to connect the <b>EPEL</b> repository, run: <br><br>  For <b>CentOS 5</b> : 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>rpm -Uvh <a href="">dl.fedoraproject.org/pub/epel/5/i386/epel-release-5-4.noarch.rpm</a></b> <br><br>  For CentOS 6: <br><br>  <b>rpm -Uvh <a href="">dl.fedoraproject.org/pub/epel/6/i386/epel-release-6-7.noarch.rpm</a></b> <br><br>  or <br><br>  <b>rpm -Uvh <a href="">dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm</a></b> <br><br>  Now install the <b>ejabberd</b> package: <br><br>  <b>yum install ejabberd</b> <br><br>  Open for editing the config <b>/etc/ejabberd/ejabberd.cfg</b> <br><br>  We assign the rights to remote control to the user <b>admin</b> .  Find a section: <br><br>  <b>%%</b> <b><br></b>  <b>%% Remove the Access Control Lists before new ones are added.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% override_acls.</b> <b><br></b> <br><br>  And add the line: <br><br>  <b>{acl, admin, {user, "admin", "server.int"}}.</b> <br><br>  Find the <b>SERVED HOSTNAMES</b> section and edit the domain name in the line: <br><br>  <b>{hosts, ["server.int"]}.</b> <br><br>  Let's try to start the ejabberd service: <br><br>  <b>service ejabberd start</b> <br><br>  If the service starts normally, you need to add the first user who can manage all the settings of the service, we run <br><br>  <b>ejabberdctl register admin server.int 123456</b> <br><br>  Now we go to the browser: <br><br>  <b><a href="http://server.int/">We type server.int</a> : 5280 / admin /</b> and enter the user <b>admin@server.int</b> and the password <b>123456</b> .  The admin control panel of the <b>ejabberd</b> service will appear. <br><br>  Add service to autorun: <br><br>  <b>chkconfig ejabberd on</b> <br><br>  The first and simple stage is done, <b>ejabberd</b> works, but users in this configuration need to be added by hand and they will be stored in the local <b>ejabberd</b> database.  But since it was decided to link <b>EJabberd</b> and <b>Win2008AD</b> accounts, we continue the configuration. <br><br>  Open for editing the config <b>/etc/ejabberd/ejabberd.cfg</b> <br><br>  Find the line we created to enter the admin web panel: <br><br>  <b>{acl, admin, {user, "admin", "server.int"}}.</b> <br><br>  After it we add a new line: <br><br>  <b>{acl, admin, {user, "userjabber", "server.int"}}.</b> <br><br>  This user <b>userjabber</b> must first be created in <b>AD</b> in order to have access to the admin web panel. <br><br>  Attention, after connecting to <b>AD, the</b> local user <b>admin</b> , who had access to the admin web panel, will expire and only the user <b>userjabber</b> will be able to enter the admin panel. <br><br>  Next, configure the connection to <b>AD</b> . <br><br>  Find the line and bring it to the form (disable the internal authorization): <br><br>  <b>%% {auth_method, internal}.</b> <br><br>  Find the string and bring it to the form (we connect the <b>LDAP</b> authorization, <b>AD</b> ): <br><br>  <b>{auth_method, ldap}.</b> <br><br>  Find the block: <br><br>  <b>%%</b> <b><br></b>  <b>%% Authentication using LDAP</b> <b><br></b>  <b>%%</b> <br><br>  Add settings for connecting to the <b>AD</b> server: <br><br>  <b>{ldap_servers, ["192.168.151.2"]}.</b> <b><br></b>  <b>{ldap_port, 389}.</b> <b><br><br></b>  <b>{ldap_uids, [{"sAMAccountName", "% u"}]}.</b> <b><br></b>  <b>{ldap_filter, "(objectCategory = person)"}.</b> <b><br><br></b>  <b>{ldap_base, "DC = developer, DC = com"}.</b> <b><br></b>  <b>{ldap_rootdn, "userjabber@developer.com"}.</b> <b><br></b>  <b>{ldap_password, "123456"}.</b> <b><br></b> <br><br>  Now you need to connect the modules to form the structure of the roster and the formation of the displayed aliases of users based on the properties of user accounts that were created in <b>AD</b> .  For example, we created in <b>AD</b> users <b>ivanov.i,</b> <b>petrov.p</b> .  In the user's properties, on the <b>Home</b> tab, the user <b>ivanov.i</b> has the entries <b>Last Name: Ivanov</b> , <b>First</b> <b>Name: Ivan</b> , and on the <b>Organization</b> tab <b>,</b> in the <b>Department: Developers</b> field.  The user <b>petrov.p</b> , also has an entry in the field <b>Department: Developers</b> . <br><br>  So that now in the jabber client there was beauty and order we connect the modules <br>  <b>mod_shared_roster_ldap</b> and <b>mod_vcard_ldap</b> . <br><br>  Find the string and reduce it to the form: <br><br>  <b>%% {mod_shared_roster, []},</b> <br><br>  Add the formation of a roster (Formation of a list of users by groups, displayed by connected clients. Belonging to a group is read from the user properties created in <b>AD 2008</b> , the <b>Organization</b> tab, the <b>Department</b> field.): <br><br>  <b>{mod_shared_roster_ldap,</b> <b><br></b>  <b>[{ldap_groupattr, "department"},</b> <b><br></b>  <b>{ldap_groupdesc, "department"},</b> <b><br></b>  <b>{ldap_rfilter, "(objectCategory = person)"},</b> <b><br></b>  <b>{ldap_memberattr, "sAMAccountName"},</b> <b><br></b>  <b>{ldap_userdesc, "cn"}</b> <b><br></b>  <b>]</b> <b><br></b>  <b>},</b> <br><br>  Find the string and reduce it to the form: <br><br>  <b>%% {mod_vcard, []},</b> <br><br>  Add the formation of user aliases (Reading the <b>VCard</b> fields of each user from <b>AD 2008</b> , ie the fields that are contained in the user properties. Names, last names, etc.): <br><br>  <b>{mod_vcard_ldap,</b> <b><br></b>  <b>[{ldap_vcard_map,</b> <b><br></b>  <b>[{"NICKNAME", "% s", ["displayname"]},</b> <b><br></b>  <b>{"GIVEN", "% s", ["givenName"]},</b> <b><br></b>  <b>{"MIDDLE", "% s", ["initials"]},</b> <b><br></b>  <b>{"FAMILY", "% s", ["sn"]},</b> <b><br></b>  <b>{"FN", "% s", ["displayName"]},</b> <b><br></b>  <b>{"EMAIL", "% s", ["mail"]},</b> <b><br></b>  <b>{"ORGNAME", "% s", ["company"]},</b> <b><br></b>  <b>{"ORGUNIT", "% s", ["department"]},</b> <b><br></b>  <b>{"CTRY", "% s", ["c"]},</b> <b><br></b>  <b>{"LOCALITY", "% s", ["l"]},</b> <b><br></b>  <b>{"STREET", "% s", ["streetAddress"]},</b> <b><br></b>  <b>{"REGION", "% s", ["st"]},</b> <b><br></b>  <b>{"PCODE", "% s", ["postalCode"]},</b> <b><br></b>  <b>{"TITLE", "% s", ["title"]},</b> <b><br></b>  <b>{"URL", "% s", ["wWWHomePage"]},</b> <b><br></b>  <b>{"DESC", "% s", ["description"]},</b> <b><br></b>  <b>{"TEL", "% s", ["telephoneNumber"]}]},</b> <b><br></b>  <b>{ldap_search_fields,</b> <b><br></b>  <b>[{"User", "% u"},</b> <b><br></b>  <b>{"Name", "givenName"},</b> <b><br></b>  <b>{"Family Name", "sn"},</b> <b><br></b>  <b>{"Email", "mail"},</b> <b><br></b>  <b>{"Company", "company"},</b> <b><br></b>  <b>{"Department", "department"},</b> <b><br></b>  <b>{"Role", "title"},</b> <b><br></b>  <b>{"Description", "description"},</b> <b><br></b>  <b>{"Phone", "telephoneNumber"}]},</b> <b><br></b>  <b>{ldap_search_reported,</b> <b><br></b>  <b>[{"Full Name", "FN"},</b> <b><br></b>  <b>{"Nickname", "NICKNAME"},</b> <b><br></b>  <b>{"Email", "EMAIL"}]}</b> <b><br></b>  <b>]</b> <b><br></b>  <b>},</b> <br><br>  Restart service: <br><br>  <b>service ejabberd restart</b> <br><br>  If passed without errors, try connecting the jabber client with our server. <br><br>  Errors and all other records about the work of the service can be viewed in the logs in the <b>/ var / log / ejabberd</b> directory. <br><br>  After connecting to the client jabber, we have the <b>Developers</b> folder and there are two users in it, <b>Ivanov Ivan</b> and <b>Petrov Peter</b> . <br><br>  I bring <b>100%</b> working config: <br><br><div class="spoiler">  <b class="spoiler_title">Working config</b> <div class="spoiler_text"> <b>%%%</b> <b><br></b>  <b>%%% ejabberd configuration file</b> <b><br></b>  <b>%%%</b> <b><br></b>  <b>%%% '</b> <b><br><br></b>  <b>%%% The parameters used in this configuration file</b> <b><br></b>  <b>%%% in the ejabberd Installation and Operation Guide.</b> <b><br></b>  <b>%%% Please consult, it is included with</b> <b><br></b>  <b>%%% your copy of ejabberd, and is also available online at</b> <b><br></b>  <b>%%% <a href="http://www.process-one.net/en/ejabberd/docs/">www.process-one.net/en/ejabberd/docs</a></b> <b><br><br></b>  <b>%%% This configuration file contains Erlang terms.</b> <b><br></b>  <b>%%% In the syntax, here are the concepts:</b> <b><br></b>  <b>%%%</b> <b><br></b>  <b>%%% - The character to comment is a line is%</b> <b><br></b>  <b>%%%</b> <b><br></b>  <b>%%% - Each term ends in a dot, for example:</b> <b><br></b>  <b>%%% override_global.</b> <b><br></b>  <b>%%%</b> <b><br></b>  <b>%%% - A tuple has a fixed definition, its elements are</b> <b><br></b>  <b>%%% enclosed in {}, and separated with commas:</b> <b><br></b>  <b>%%% {loglevel, 4}.</b> <b><br></b>  <b>%%%</b> <b><br></b>  <b>%%% - A list of you want,</b> <b><br></b>  <b>%%% and is enclosed in [], for example:</b> <b><br></b>  <b>%%% [http_poll, web_admin, tls]</b> <b><br></b>  <b>%%%</b> <b><br></b>  <b>%%% - A keyword of ejabberd is a word in lowercase.</b> <b><br></b>  <b>%%% Strings are enclosed in "" and can contain spaces, dots, ...</b> <b><br></b>  <b>%%% {language, "en"}.</b> <b><br></b>  <b>%%% {ldap_rootdn, "dc = example, dc = com"}.</b> <b><br></b>  <b>%%%</b> <b><br></b>  <b>%%% - This term includes a tuple, a keyword, a list, and two strings:</b> <b><br></b>  <b>%%% {hosts, ["jabber.example.net", "im.example.com"]}.</b> <b><br></b>  <b>%%%</b> <b><br><br></b>  <b>%%%.</b>  <b>=======================</b> <b><br></b>  <b>%%% 'OVERRIDE STORED OPTIONS</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% Override the values ‚Äã‚Äãstored in the database.</b> <b><br></b>  <b>%%</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% Override global options (shared by all ejabberd nodes in a cluster).</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% override_global.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% Override local options (specific for this particular ejabberd node).</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% override_local.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% Remove the Control Lists before new ones are added.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% override_acls.</b> <b><br><br></b>  <b>{acl, admin, {user, "userjabber", "server.int"}}.</b> <b><br><br></b>  <b>%%%.</b>  <b>=========</b> <b><br></b>  <b>%%% 'DEBUGGING</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% loglevel: Verbosity of log files generated by ejabberd.</b> <b><br></b>  <b>%% 0: No ejabberd log at all (not recommended)</b> <b><br></b>  <b>%% 1: Critical</b> <b><br></b>  <b>%% 2: Error</b> <b><br></b>  <b>%% 3: Warning</b> <b><br></b>  <b>%% 4: Info</b> <b><br></b>  <b>%% 5: Debug</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>{loglevel, 4}.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% watchdog_admins: Only for developers: if an ejabberd process</b> <b><br></b>  <b>%% consumes a lot of memory send live notifications to these XMPP</b> <b><br></b>  <b>%% accounts.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {watchdog_admins, [‚Äúbob@example.com‚Äù]}.</b> <b><br><br></b>  <b>%%%.</b>  <b>================</b> <b><br></b>  <b>%%% 'SERVED HOSTNAMES</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% hosts: Domains served by ejabberd.</b> <b><br></b>  <b>%% You can define one or several, for example:</b> <b><br></b>  <b>%% {hosts, ["example.net", "example.com", "example.org"]}.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>{hosts, ["server.int"]}.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% route_subdomains: Delegate subdomains to other XMPP servers.</b> <b><br></b>  <b>%% For example, if this ejabberd serves example.org and you want</b> <b><br></b>  <b>%% to allow communication with an XMPP server called im.example.org.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {route_subdomains, s2s}.</b> <b><br><br></b>  <b>%%%.</b>  <b>===============</b> <b><br></b>  <b>%%% 'LISTENING PORTS</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% listen: The ports ejabberd will listen on, which service is is handled</b> <b><br></b>  <b>%% by and what options to start it with.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>{listen,</b> <b><br></b>  <b>[</b> <b><br><br></b>  <b>{5222, ejabberd_c2s, [</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% If TLS is compiled in you installed a SSL</b> <b><br></b>  <b>%% certificate, specify the full path to the</b> <b><br></b>  <b>%% file and uncomment this line:</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>{certfile, "/etc/ejabberd/ejabberd.pem"}, starttls,</b> <b><br><br></b>  <b>{access, c2s},</b> <b><br></b>  <b>{shaper, c2s_shaper},</b> <b><br></b>  <b>{max_stanza_size, 65536}</b> <b><br></b>  <b>]},</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% To enable the old SSL connection method 5223:</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {5223, ejabberd_c2s, [</b> <b><br></b>  <b>%% {access, c2s},</b> <b><br></b>  <b>%% {shaper, c2s_shaper},</b> <b><br></b>  <b>%% {certfile, "/etc/ejabberd/ejabberd.pem"}, tls,</b> <b><br></b>  <b>%% {max_stanza_size, 65536}</b> <b><br></b>  <b>%%]},</b> <b><br><br></b>  <b>{5269, ejabberd_s2s_in, [</b> <b><br></b>  <b>{shaper, s2s_shaper},</b> <b><br></b>  <b>{max_stanza_size, 131072}</b> <b><br></b>  <b>]},</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% ejabberd_service: Interact with external components (transports, ...)</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {8888, ejabberd_service, [</b> <b><br></b>  <b>%% {access, all},</b> <b><br></b>  <b>%% {shaper_rule, fast},</b> <b><br></b>  <b>%% {ip, {127, 0, 0, 1}},</b> <b><br></b>  <b>%% {hosts, ["icq.example.org", "sms.example.org"],</b> <b><br></b>  <b>%% [{password, "secret"}]</b> <b><br></b>  <b>%%}</b> <b><br></b>  <b>%%]},</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% ejabberd_stun: Handles STUN Binding requests</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {{3478, udp}, ejabberd_stun, []},</b> <b><br><br></b>  <b>{5280, ejabberd_http, [</b> <b><br></b>  <b>%% {request_handlers,</b> <b><br></b>  <b>%% [</b> <b><br></b>  <b>%% {["pub", "archive"], mod_http_fileserver}</b> <b><br></b>  <b>%%]},</b> <b><br></b>  <b>captcha</b> <b><br></b>  <b>http_bind,</b> <b><br></b>  <b>http_poll</b> <b><br></b>  <b>%% register</b> <b><br></b>  <b>web_admin</b> <b><br></b>  <b>]}</b> <b><br><br></b>  <b>]}.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% s2s_use_starttls: Enable STARTTLS + Dialback for S2S connections.</b> <b><br></b>  <b>%% Allowed values ‚Äã‚Äãare: false optional required required_trusted</b> <b><br></b>  <b>%% You must specify a certificate file.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {s2s_use_starttls, optional}.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% s2s_certfile: Specify a certificate file.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {s2s_certfile, "/etc/ejabberd/ejabberd.pem"}.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% domain_certfile: Specify a certificate for each served hostname.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {domain_certfile, "example.org", "/path/to/example_org.pem"}.</b> <b><br></b>  <b>%% {domain_certfile, "example.com", "/path/to/example_com.pem"}.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% S2S whitelist or blacklist</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% Default s2s policy for undefined hosts.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {s2s_default_policy, allow}.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% Allow or deny communication with specific servers.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {{s2s_host, "goodhost.org"}, allow}.</b> <b><br></b>  <b>%% {{s2s_host, "badhost.org"}, deny}.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% Outgoing S2S options</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% Preferred address families (which to try first) and connect timeout</b> <b><br></b>  <b>%% in milliseconds.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {outgoing_s2s_options, [ipv4, ipv6], 10000}.</b> <b><br><br></b>  <b>%%%.</b>  <b>==============</b> <b><br></b>  <b>%%% 'AUTHENTICATION</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% auth_method: Method used to authenticate the users.</b> <b><br></b>  <b>%% The default method is the internal.</b> <b><br></b>  <b>%% If you want to use a different method,</b> <b><br></b>  <b>%% comment this line and enable the correct ones.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {auth_method, internal}.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% Store the plain passwords or hashed for SCRAM:</b> <b><br></b>  <b>%% {auth_password_format, plain}.</b> <b><br></b>  <b>%% {auth_password_format, scram}.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% Define the FQDN if ejabberd does not detect it:</b> <b><br></b>  <b>%% {fqdn, "server3.example.com"}.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% Authentication using external script</b> <b><br></b>  <b>%% Make sure the script is executable by ejabberd.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {auth_method, external}.</b> <b><br></b>  <b>%% {extauth_program, "/ path / to / authentication / script"}.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% Authentication using ODBC</b> <b><br></b>  <b>%% Remember to setup a database in the next section.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {auth_method, odbc}.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% Authentication using PAM</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {auth_method, pam}.</b> <b><br></b>  <b>%% {pam_service, "ejabberd"}.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% Authentication using LDAP</b> <b><br></b>  <b>%%</b> <b><br><br></b>  <b>%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</b> <b><br></b>  <b>%% Connect to AD 2008. For a list of users.</b> <b><br></b>  <b>%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</b> <b><br></b>  <b>{auth_method, ldap}.</b> <b><br><br></b>  <b>{ldap_servers, ["192.168.151.2"]}.</b> <b><br></b>  <b>{ldap_port, 389}.</b> <b><br><br></b>  <b>{ldap_uids, [{"sAMAccountName", "% u"}]}.</b> <b><br></b>  <b>{ldap_filter, "(objectCategory = person)"}.</b> <b><br><br></b>  <b>{ldap_base, "DC = developer, DC = com"}.</b> <b><br></b>  <b>{ldap_rootdn, "userjabber@developer.com"}.</b> <b><br></b>  <b>{ldap_password, "123456"}.</b> <b><br></b>  <b>%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</b> <b><br></b>  <b>%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% List of LDAP servers:</b> <b><br></b>  <b>%% {ldap_servers, ["localhost"]}.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% Encryption of connection to LDAP servers:</b> <b><br></b>  <b>%% {ldap_encrypt, none}.</b> <b><br></b>  <b>%% {ldap_encrypt, tls}.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% Port to connect to on LDAP servers:</b> <b><br></b>  <b>%% {ldap_port, 389}.</b> <b><br></b>  <b>%% {ldap_port, 636}.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% LDAP manager:</b> <b><br></b>  <b>%% {ldap_rootdn, "dc = example, dc = com"}.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% Password of LDAP manager:</b> <b><br></b>  <b>%% {ldap_password, "******"}.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% Search base of LDAP directory:</b> <b><br></b>  <b>%% {ldap_base, "dc = example, dc = com"}.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% LDAP attribute that holds user ID:</b> <b><br></b>  <b>%% {ldap_uids, [{"mail", "%u@mail.example.org"}]}.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% LDAP filter:</b> <b><br></b>  <b>%% {ldap_filter, "(objectClass = shadowAccount)"}.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% Anonymous login support:</b> <b><br></b>  <b>%% auth_method: anonymous</b> <b><br></b>  <b>%% anonymous_protocol: sasl_anon |</b>  <b>login_anon |</b>  <b>both</b> <b><br></b>  <b>%% allow_multiple_connections: true |</b>  <b>false</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {host_config, "public.example.org", [{auth_method, anonymous},</b> <b><br></b>  <b>%% {allow_multiple_connections, false},</b> <b><br></b>  <b>%% {anonymous_protocol, sasl_anon}]}.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% To use both anonymous and internal authentication:</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {host_config, "public.example.org", [{auth_method, [internal, anonymous]}]}.</b> <b><br><br></b>  <b>%%%.</b>  <b>==============</b> <b><br></b>  <b>%%% 'DATABASE SETUP</b> <b><br><br></b>  <b>%% ejabberd by default uses the internal database,</b> <b><br></b>  <b>%% so you do not necessarily need this section.</b> <b><br></b>  <b>%% This section provides configuration examples in case</b> <b><br></b>  <b>%% you want to use other database backends.</b> <b><br></b>  <b>%% Please consult the ejabberd Guide for details on database creation.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% MySQL server:</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {odbc_server, {mysql, ‚Äúserver‚Äù, ‚Äúdatabase‚Äù, ‚Äúusername‚Äù, ‚Äúpassword‚Äù}}.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% If you want to specify the port:</b> <b><br></b>  <b>%% {odbc_server, {mysql, "server", 1234, "database", "username", "password"}}.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% PostgreSQL server:</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {odbc_server, {pgsql, "server", "database", "username", "password"}}.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% If you want to specify the port:</b> <b><br></b>  <b>%% {odbc_server, {pgsql, "server", 1234, "database", "username", "password"}}.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% If you use PostgreSQL, have a large database, and need a</b> <b><br></b>  <b>%% faster but inexact replacement for "select count (*) from users"</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {pgsql_users_number_estimate, true}.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% ODBC compatible or MSSQL server:</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {odbc_server, "DSN = ejabberd; UID = ejabberd; PWD = ejabberd"}.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>For each virtual host</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {odbc_pool_size, 10}.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% Interval to make a dummy SQL request to keep the connections to the</b> <b><br></b>  <b>%% database alive.</b>  <b>Specify in seconds: for example 28800 means 8 hours</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {odbc_keepalive_interval, undefined}.</b> <b><br><br></b>  <b>%%%.</b>  <b>===============</b> <b><br></b>  <b>%%% 'TRAFFIC SHAPERS</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% The "normal" shaper limits traffic speed to 1000 B / s</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>{shaper, normal, {maxrate, 1000}}.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% The ‚Äúfast‚Äù shaper limits traffic speed to 50000 B / s</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>{shaper, fast, {maxrate, 50000}}.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% This option specifies the number of elements in the queue</b> <b><br></b>  <b>%% of the FSM.</b>  <b>Refer to the documentation for details.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>{max_fsm_queue, 1000}.</b> <b><br><br></b>  <b>%%%.</b>  <b>====================</b> <b><br></b>  <b>%%% 'ACCESS CONTROL LISTS</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% The 'admin' ACL grants administrative privileges to XMPP accounts.</b> <b><br></b>  <b>%% You can put.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {acl, admin, {user, "aleksey", "localhost"}}.</b> <b><br></b>  <b>%% {acl, admin, {user, "ermine", "example.org"}}.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% Blocked users</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {acl, blocked, {user, "baduser", "example.org"}}.</b> <b><br></b>  <b>%% {acl, blocked, {user, "test"}}.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% Local users: don't modify this line.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>{acl, local, {user_regexp, ""}}.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% More examples of ACLs</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {acl, jabberorg, {server, "jabber.org"}}.</b> <b><br></b>  <b>%% {acl, aleksey, {user, "aleksey", "jabber.ru"}}.</b> <b><br></b>  <b>%% {acl, test, {user_regexp, "^ test"}}.</b> <b><br></b>  <b>%% {acl, test, {user_glob, "test *"}}.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% Define specific ACLs in a virtual host.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {host_config, "localhost",</b> <b><br></b>  <b>%% [</b> <b><br></b>  <b>%% {acl, admin, {user, "bob-local", "localhost"}}</b> <b><br></b>  <b>%%]</b> <b><br></b>  <b>%%}.</b> <b><br><br></b>  <b>%%%.</b>  <b>============</b> <b><br></b>  <b>%%% 'ACCESS RULES</b> <b><br><br></b>  <b>%% Maximum number of simultaneous sessions allowed for a single user:</b> <b><br></b>  <b>{access, max_user_sessions, [{10, all}]}.</b> <b><br><br></b>  <b>%% Maximum number of offline messages that users can have:</b> <b><br></b>  <b>{access, max_user_offline_messages, [{5000, admin}, {100, all}]}.</b> <b><br><br></b>  <b>%% This rule allows access only for local users:</b> <b><br></b>  <b>{access, local, [{allow, local}]}.</b> <b><br><br></b>  <b>%% Only non-blocked users can use c2s connections:</b> <b><br></b>  <b>{access, c2s, [{deny, blocked},</b> <b><br></b>  <b>{allow, all}]}.</b> <b><br><br></b>  <b>%% For C2S connections, all users except admins use the "normal" shaper</b> <b><br></b>  <b>{access, c2s_shaper, [{none, admin},</b> <b><br></b>  <b>{normal, all}]}.</b> <b><br><br></b>  <b>%% All S2S connections use the ‚Äúfast‚Äù shaper</b> <b><br></b>  <b>{access, s2s_shaper, [{fast, all}]}.</b> <b><br><br></b>  <b>%% Only admins can send announcement messages:</b> <b><br></b>  <b>{access, announce, [{allow, admin}]].</b> <b><br><br></b>  <b>%% Only admins can use the configuration interface:</b> <b><br></b>  <b>{access, configure, [{allow, admin}]}.</b> <b><br><br></b>  <b>%% Admins of this server are also admins of the MUC service:</b> <b><br></b>  <b>{access, muc_admin, [{allow, admin}]}.</b> <b><br><br></b>  <b>%% Only accounts of the local ejabberd server can create rooms:</b> <b><br></b>  <b>{access, muc_create, [{allow, local}]}.</b> <b><br><br></b>  <b>%% All users are allowed to use the MUC service:</b> <b><br></b>  <b>{access, muc, [{allow, all}]}.</b> <b><br><br></b>  <b>%% Only accounts on the local server can create Pubsub nodes:</b> <b><br></b>  <b>{access, pubsub_createnode, [{allow, local}]}.</b> <b><br><br></b>  <b>%% In-band registration allows registration of any possible username.</b> <b><br></b>  <b>%% To disable in-band registration, replace 'allow' with 'deny'.</b> <b><br></b>  <b>{access, register, [{allow, all}]}.</b> <b><br><br></b>  <b>%% By default of the frequency of account registrations from the same IP</b> <b><br></b>  <b>%% is limited to 1 account every 10 minutes.</b>  <b>To disable, specify: infinity</b> <b><br></b>  <b>%% {registration_timeout, 600}.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% Define specific access rules in a virtual host.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {host_config, "localhost",</b> <b><br></b>  <b>%% [</b> <b><br></b>  <b>%% {access, c2s, [{allow, admin}, {deny, all}]},</b> <b><br></b>  <b>%% {access, register, [{deny, all}]}</b> <b><br></b>  <b>%%]</b> <b><br></b>  <b>%%}.</b> <b><br><br></b>  <b>%%%.</b>  <b>================</b> <b><br></b>  <b>%%% 'DEFAULT LANGUAGE</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% language: Default language used for server messages.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>{language, "en"}.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% Set a different default language in a virtual host.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {host_config, "localhost",</b> <b><br></b>  <b>%% [{language, "en"}]</b> <b><br></b>  <b>%%}.</b> <b><br><br></b>  <b>%%%.</b>  <b>=======</b> <b><br></b>  <b>%%% 'CAPTCHA</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% Full path to a script that generates the image.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {captcha_cmd, "/usr/lib64/ejabberd/priv/bin/captcha.sh"}.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% Host for the URL and port where ejabberd listens for CAPTCHA requests.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {captcha_host, "example.org:5280"}.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% Limit CAPTCHA calls to avoid the DoS.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {captcha_limit, 5}.</b> <b><br><br></b>  <b>%%%.</b>  <b>=======</b> <b><br></b>  <b>%%% 'MODULES</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% Modules enabled in all ejabberd virtual hosts.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>{modules,</b> <b><br></b>  <b>[</b> <b><br></b>  <b>{mod_adhoc, []},</b> <b><br></b>  <b>{mod_announce, [{access, announce}]},% recommends mod_adhoc</b> <b><br></b>  <b>{mod_blocking, []},% requires mod_privacy</b> <b><br></b>  <b>{mod_caps, []},</b> <b><br></b>  <b>{mod_configure, []},% requires mod_adhoc</b> <b><br></b>  <b>{mod_disco, []},</b> <b><br></b>  <b>%% {mod_echo, [{host, "echo.localhost"}]},</b> <b><br></b>  <b>{mod_irc, []},</b> <b><br></b>  <b>{mod_http_bind, []},</b> <b><br></b>  <b>%% {mod_http_fileserver, [</b> <b><br></b>  <b>%% {docroot, "/ var / www"},</b> <b><br></b>  <b>%% {accesslog, "/var/log/ejabberd/access.log"}</b> <b><br></b>  <b>%%]},</b> <b><br></b>  <b>{mod_last, []},</b> <b><br></b>  <b>{mod_muc, [</b> <b><br></b>  <b>%% {host, "conference. @ HOST @"},</b> <b><br></b>  <b>{access, muc},</b> <b><br></b>  <b>{access_create, muc_create},</b> <b><br></b>  <b>{access_persistent, muc_create},</b> <b><br></b>  <b>{access_admin, muc_admin}</b> <b><br></b>  <b>]},</b> <b><br></b>  <b>%% {mod_muc_log, []},</b> <b><br></b>  <b>{mod_offline, [{access_max_user_messages, max_user_offline_messages}]},</b> <b><br></b>  <b>{mod_ping, []},</b> <b><br></b>  <b>%% {mod_pres_counter, [{count, 5}, {interval, 60}]},</b> <b><br></b>  <b>{mod_privacy, []},</b> <b><br></b>  <b>{mod_private, []},</b> <b><br></b>  <b>%% {mod_proxy65, []},</b> <b><br></b>  <b>{mod_pubsub, [</b> <b><br></b>  <b>{access_createnode, pubsub_createnode},</b> <b><br></b>  <b>{ignore_pep_from_offline, true},% resource resource coms, but XEP incompliant</b> <b><br></b>  <b>%% {ignore_pep_from_offline, false},% XEP compliant, but increases resource comsumption</b> <b><br></b>  <b>{last_item_cache, false},</b> <b><br></b>  <b>{plugins, ["flat", "hometree", "pep"]}% pep requires mod_caps</b> <b><br></b>  <b>]},</b> <b><br></b>  <b>{mod_register, [</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% Protect In-Band account registrations with CAPTCHA.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {captcha_protected, true},</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% Set the minimum informational entropy for passwords.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {password_strength, 32},</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% After successful registration, the user receives</b> <b><br></b>  <b>%% a message with this subject and body.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>{welcome_message, {"Welcome!",</b> <b><br></b>  <b>"Hi. \ NWelcome to this XMPP server."}},</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% When a user registers, send a notification to</b> <b><br></b>  <b>%% these XMPP accounts.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {registration_watchers, ["admin1@example.org"]},</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% clients accounts</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>{ip_access, [{allow, "127.0.0.0/8"},</b> <b><br></b>  <b>{deny, "0.0.0.0/0"}]},</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% Local c2s or remote s2s users cannot register accounts</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {access_from, deny},</b> <b><br><br></b>  <b>{access, register}</b> <b><br></b>  <b>]},</b> <b><br></b>  <b>%% {mod_register_web, [</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% When a user registers, send a notification to</b> <b><br></b>  <b>%% these XMPP accounts.</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {registration_watchers, ["admin1@example.org"]}</b> <b><br></b>  <b>%%]},</b> <b><br></b>  <b>{mod_roster, []},</b> <b><br></b>  <b>%% {mod_service_log, []},</b> <b><br></b>  <b>%% {mod_shared_roster, []},</b> <b><br><br></b>  <b>%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</b> <b><br></b>  <b>%% Roster from AD 2008.</b> <b><br></b>  <b>%% Formation of the list of users by groups displayed in connected</b> <b><br></b>  <b>%% customers.</b>  <b>Belonging to the group is read from the properties of the account created</b> <b><br></b>  <b>%% in AD 2008, the Organization tab, the Department field.</b> <b><br></b>  <b>%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</b> <b><br></b>  <b>{mod_shared_roster_ldap,</b> <b><br></b>  <b>[{ldap_groupattr, "department"},</b> <b><br></b>  <b>{ldap_groupdesc, "department"},</b> <b><br></b>  <b>{ldap_rfilter, "(objectCategory = person)"},</b> <b><br></b>  <b>{ldap_memberattr, "sAMAccountName"},</b> <b><br></b>  <b>{ldap_userdesc, "cn"}</b> <b><br></b>  <b>]</b> <b><br></b>  <b>},</b> <b><br></b>  <b>%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</b> <b><br></b>  <b>%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</b> <b><br><br></b>  <b>{mod_stats, []},</b> <b><br></b>  <b>{mod_time, []},</b> <b><br></b>  <b>%% {mod_vcard, []},</b> <b><br><br></b>  <b>%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</b> <b><br></b>  <b>%% Read the VCard fields of each user from AD 2008, i.e.</b>  <b>fields which</b> <b><br></b>  <b>%% is contained in user properties.</b>  <b>Surnames, first names, etc.</b> <b><br></b>  <b>%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</b> <b><br><br></b>  <b>{mod_vcard_ldap,</b> <b><br></b>  <b>[{ldap_vcard_map,</b> <b><br></b>  <b>[{"NICKNAME", "% s", ["displayname"]},</b> <b><br></b>  <b>{"GIVEN", "% s", ["givenName"]},</b> <b><br></b>  <b>{"MIDDLE", "% s", ["initials"]},</b> <b><br></b>  <b>{"FAMILY", "% s", ["sn"]},</b> <b><br></b>  <b>{"FN", "% s", ["displayName"]},</b> <b><br></b>  <b>{"EMAIL", "% s", ["mail"]},</b> <b><br></b>  <b>{"ORGNAME", "% s", ["company"]},</b> <b><br></b>  <b>{"ORGUNIT", "% s", ["department"]},</b> <b><br></b>  <b>{"CTRY", "% s", ["c"]},</b> <b><br></b>  <b>{"LOCALITY", "% s", ["l"]},</b> <b><br></b>  <b>{"STREET", "% s", ["streetAddress"]},</b> <b><br></b>  <b>{"REGION", "% s", ["st"]},</b> <b><br></b>  <b>{"PCODE", "% s", ["postalCode"]},</b> <b><br></b>  <b>{"TITLE", "% s", ["title"]},</b> <b><br></b>  <b>{"URL", "% s", ["wWWHomePage"]},</b> <b><br></b>  <b>{"DESC", "% s", ["description"]},</b> <b><br></b>  <b>{"TEL", "% s", ["telephoneNumber"]}]},</b> <b><br></b>  <b>{ldap_search_fields,</b> <b><br></b>  <b>[{"User", "% u"},</b> <b><br></b>  <b>{"Name", "givenName"},</b> <b><br></b>  <b>{"Family Name", "sn"},</b> <b><br></b>  <b>{"Email", "mail"},</b> <b><br></b>  <b>{"Company", "company"},</b> <b><br></b>  <b>{"Department", "department"},</b> <b><br></b>  <b>{"Role", "title"},</b> <b><br></b>  <b>{"Description", "description"},</b> <b><br></b>  <b>{"Phone", "telephoneNumber"}]},</b> <b><br></b>  <b>{ldap_search_reported,</b> <b><br></b>  <b>[{"Full Name", "FN"},</b> <b><br></b>  <b>{"Nickname", "NICKNAME"},</b> <b><br></b>  <b>{"Email", "EMAIL"}]}</b> <b><br></b>  <b>]</b> <b><br></b>  <b>},</b> <b><br></b>  <b>%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</b> <b><br></b>  <b>%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</b> <b><br><br></b>  <b>{mod_version, []}</b> <b><br></b>  <b>]}.</b> <b><br><br></b>  <b>%%</b> <b><br></b>  <b>%% Enable modules with custom options</b> <b><br></b>  <b>%%</b> <b><br></b>  <b>%% {host_config, "localhost",</b> <b><br></b>  <b>%% [{{add, modules},</b> <b><br></b>  <b>%% [</b> <b><br></b>  <b>%% {mod_echo, [{host, "mirror.localhost"}]}</b> <b><br></b>  <b>%%]</b> <b><br></b>  <b>%%}</b> <b><br></b>  <b>%%]}.</b> <b><br><br></b>  <b>%%%.</b> <b><br></b>  <b>%%% '</b> <b><br><br></b>  <b>%%% $ Id $</b> <b><br><br></b>  <b>%%% Local Variables:</b> <b><br></b>  <b>%%% mode: erlang</b> <b><br></b>  <b>%%% End:</b> <b><br></b>  <b>%%% vim: set filetype = erlang tabstop = 8 foldmarker = %%% ', %%%.</b>  <b>foldmethod = marker:</b> <b><br></b> <br></div></div><br>  And do not forget to follow the syntax in the config (commas, brackets, periods).  On many syntax errors can be peeped in the logs, if the service does not start. </div><p>Source: <a href="https://habr.com/ru/post/194582/">https://habr.com/ru/post/194582/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../194566/index.html">Weather forecast</a></li>
<li><a href="../194568/index.html">Roskomnadzor blocked SquareSpace.com platform</a></li>
<li><a href="../194574/index.html">Backing up from the cloud: instructions for use</a></li>
<li><a href="../194576/index.html">About how the government hears society, or public discussion of the "Anti-piracy law"</a></li>
<li><a href="../194580/index.html">Align the horizon in gfranq.com photo service</a></li>
<li><a href="../194584/index.html">Updated Google Testing Framework</a></li>
<li><a href="../194586/index.html">Pro IT marketing with a human face</a></li>
<li><a href="../194588/index.html">Setting up e-mu 0204 usb in ubuntu GNU / linux</a></li>
<li><a href="../194590/index.html">Impressions from exploring Ultimate ++</a></li>
<li><a href="../194592/index.html">Render a landscape in WebGL</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>