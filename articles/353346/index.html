<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Riot Games: the anatomy of technical duty</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, my name is Bill "LtRandolph" Clark. I work as the technical leader of the LoL Champions Team. Over the past few years I managed to work in differe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Riot Games: the anatomy of technical duty</h1><div class="post__text post__text-html js-mediator-article">  Hi, my name is Bill "LtRandolph" Clark.  I work as the technical leader of the <em>LoL</em> Champions Team.  Over the past few years I managed to work in different departments of <em>League</em> development, but the only thing I was constantly obsessed with was technical debt.  I need to find him, understand him and, if possible, eliminate him. <br><br>  When developers discuss any existing technology, such as the <a href="https://na.leagueoflegends.com/en/news/game-updates/patch/patch-84-notes">8.4</a> <em>League of Legends</em> <a href="https://na.leagueoflegends.com/en/news/game-updates/patch/patch-84-notes">patch</a> , technical debt is often mentioned.  I call the technical debt code or data for which future developers will have to pay.  Countless posts, articles, and definitions are devoted to this sad side of software development.  In my post I want to discuss the types of technical debt that I had to meet when working at Riot, and talk about the model that we began to use in the company.  If I were asked to single out the most important lesson that can be learned from this article, I would say that this is the "infection" metric described below. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8e1/408/ad5/8e1408ad5fd5d1a6b2602846eaa04898.png"></div><br><h1>  Metrics </h1><br>  In order to make the right decisions about which problems need to be fixed <em>now</em> , and which can be put <em>on later</em> (or, to be realistic, completely forget about them), we need some way to measure each specific element of the technical code.  I have selected three main measurement axes for evaluation: impact, elimination costs, and infection. <br><a name="habracut"></a><br><h3>  Influence </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0ba/549/bc5/0ba549bc50e9580b0eaacf4ef30dfaa9.png"></div><br>  The first axis is the most obvious: the influence of debt.  It takes the form of problems faced by players (bugs, missing functions, unexpected behavior) and developers (slower implementation, problems with workflow, arbitrary useless nonsense that has to be remembered).  It is worth noting that by ‚Äúdeveloper‚Äù here is meant any creator of the game working on any of its aspects.  Part of the technical duty comes from programmers writing new code, other parts prevent designers from creating new scripts, some do not allow artists to create new particle systems by their effects, and so on. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Costs of elimination </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b5f/076/9c2/b5f0769c2bc658dd8ab946ca93629222.png"></div><br>  The second axis is associated with the cost of getting rid of technical debt.  If we decide to fix the problem in the code or data, then it will take some measured amount of time.  If this is a deep-rooted assumption that affects every line of code in a game, then it can take weeks or months of developers time.  If this is a stupid mistake in one function, then it can be fixed in a matter of minutes.  Regardless of the timing of the implementation of the fix, we also need to take into account the risk of implementing such a fix.  Even a system that I consider ‚Äúbad‚Äù can be used as a tool for creating a great game.  If I change the way the errors are handled by the scripting engine or by the particles calculating the time of my creation, this can destroy the behavior of more than 500 spells of 140 more than one game champions. <br><br><h3>  Infection </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5c7/66e/65a/5c766e65a19b796389379fc40e48bf45.png"></div><br>  On the third axis is measured by what I am obsessed with, namely infection.  If we allow technical duty to continue to exist, how far will it spread?  Such distribution may occur due to the fact that other systems interact with the affected debt system, due to copying and pasting data created on top of the system, or because it affects the way other developers implement new functions. <br><br>  If a piece of technical debt is well limited, then the cost of eliminating it in the future is almost the same as current.  Considering the need for correction, we can weigh its influence today.  On the other hand, if a fragment of debt is very contagious, then it will gradually become more and more difficult.  Especially disgusting in a contagious technical duty is that its influence tends to grow, when more and more systems become infected with the technical compromises underlying it. <br><br><h1>  Types of debt </h1><br>  Now that we have a system for measuring each specific element of technical debt, let's discuss some of the general categories of technical debt that I noticed in <em>League of Legends</em> . <br><br><h2>  Local debt </h2><br>  Local debt is reminiscent of the classic ‚Äúblack box‚Äù programming model.  While the matter concerns the rest of the game, the local system (spells, network layer, script engine) looks pretty reliable.  No one should keep debt in mind while doing the development without touching the system.  But if someone opens the lid and looks inside, he will be amazed at what he sees. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fb7/c58/3e2/fb7c583e2817986c686d8a6a6286ac63.png"></div><br>  A couple of examples of local debt from the real world can be found in our own eyes.  Due to the peculiarities of the structure of the eye, we see everything upside down.  More importantly, the retinal nerve creates a blind spot in the middle of each eye.  These distorted data are transmitted to the visual centers of the brain, which must invert the image and fill in the blind spots so that the rest of the brain can interact with the ‚Äúright‚Äù image.  These quirks are localized in the eye / system of the optic nerves and are easily avoided by other systems, so they are ‚Äúgood enough‚Äù. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cd8/140/a7a/cd8140a7a4d41bb7283dc6cdbc34d39d.png"></div><br>  One of the most famous examples of local debt in <em>League of Legends</em> is Jarvan‚Äôs Cataclysm, still consisting of minions.  When designers need to tie gameplay effects to a point (or several points), then one of the tools available to them is the ability to create an ‚Äúinvisible minion‚Äù.  What I call the ‚Äúminion‚Äù, RiotXypherous describes <a href="https://www.reddit.com/r/leagueoflegends/comments/3t0d0x/ward_debris_is_coded_as_minions_and_it_counts/cx2ilvf/">here</a> .  These game objects are a stable and well-understood way of tracking and executing the script logic.  In cases like the Jarvan wall, you need to create a large number of minions (if exactly 24) to ensure that no one can squeeze through the wall.  An alternative solution may be a ring structure of relief, consisting of a single logical element, controlling the possibility of passing through the Cataclysm.  If we use this approach, we can clean up the logic and slightly reduce the computational cost.  Let's look at the Cataclysm in our influence / cost / infection model to see why fixing it at the moment is not the best option. <br><br><h2>  Metric Cataclysm </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bd1/7e5/92c/bd17e592c3912ca40c6a9002cdbdaea6.png"></div><br><h3>  1. Influence: 1/5 </h3><br>  Previously, when 12 minions were created, people could sometimes squeeze through the wall, so Riot Exgeniar increased their number to 24. The fact that the wall was created from minions almost never affects other developers in the process of making new content.  (A small digression: the infamous " <a href="https://clips.twitch.tv/FlaccidEncouragingCamelSSSsss">Jarvan Ult Hitch</a> " was caused by a combination of this duty and a boot bug caused by an attempt to read the missing definitions of automatic attacks.) <br><br><h3>  2. Costs of elimination: 2/5 </h3><br>  So far we have no opportunity to make figures for creating arbitrary geometry without writing new code.  If we wanted to create a ring for the implementation of the ‚Äútrigger region‚Äù in order for the Jarvan barrier to work more efficiently, then we would have to write special mathematical calculations for calculating collisions with the ring.  We use <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25BE%25D0%25BD%25D1%2581%25D1%2582%25D1%2580%25D1%2583%25D0%25BA%25D1%2582%25D0%25B8%25D0%25B2%25D0%25BD%25D0%25B0%25D1%258F_%25D1%2581%25D0%25BF%25D0%25BB%25D0%25BE%25D1%2588%25D0%25BD%25D0%25B0%25D1%258F_%25D0%25B3%25D0%25B5%25D0%25BE%25D0%25BC%25D0%25B5%25D1%2582%25D1%2580%25D0%25B8%25D1%258F">constructive solid geometry</a> for other purposes, which can drastically reduce repair costs. <br><br><h3>  3. Infection: 1/5 </h3><br>  No one should take into account the implementation of the Jarvan wall when developing new features, so it is well limited.  The only risk of infection is that other designers can copy this implementation into their new champions (which happens from time to time).  But no matter how far implementation problems go, the potential spread of the Cataclysm is low and well understood. <br><br>  This is a fairly typical type of local debt.  Most often, local debt is characterized by a low estimate of infection.  If the effect is higher than the cost of elimination, then usually the debt is eliminated by a conscious developer before it is too late. <br><br>  When deciding whether to eliminate local debt, first ask yourself: is it worth it?  If the debt is not really contagious, then it will be safe enough to leave it alone for any necessary time.  One of the biggest mistakes I encounter is the instinctive desire to crack down on local debt, caused by developer perfectionism, when in fact the influence of debt does not justify the effort invested.  If you decide to make a correction, then due to the locality of the changes, the correction and regression testing are usually performed easily. <br><br>  Recent examples of eliminating local debt include moderator bugs, forcing champions in certain conditions to make their way to the coordinate 0.0.0, Jeanne's Monsoon, ignoring spell shields, and the call stack Tears of the Goddess without mana costs. <br><br><h2>  MacGyver Debt </h2><br>  MacGyvera's debt is named after the mid-80s television series.  Angus MacGyver solved problems with his Swiss Army Knife, electrical tape and items found at hand. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ae1/38c/63a/ae138c63a7839f3bf90f2b20ec8ddc22.png"></div><br>  In his decisions, a combination of two unexpected parts was often used;  in the context of technical duty, this means that two conflicting systems are sealed with each other with tape in the places of their interaction in the code base. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/957/5ff/b91/9575ffb91589f479bad5157179abd0af.png"></div><br>  In Seattle (as in many other cities) there is a sad example of the MacGyvera debt described above.  The city had two competing settlements, each with its own grid of neighborhoods.  When these settlements grew into a modern Emerald City, the slightly different grids were merged, resulting in terrible forms of quarters and buildings, as well as completely inefficient use of space.  I am particularly surprised by this small cut corner of the building in the lower left corner. <br><br>  One of the best examples of MacGyver‚Äôs debt in the <em>LoL</em> codebase is using std :: string from C ++ along with our own class AString.  Both of these are methods for storing, modifying, and passing character strings.  In general, we found that std :: string leads to a lot of ‚Äúhidden‚Äù memory allocations and computational overheads, and it‚Äôs easy to write code that does bad things with them.  AString has been specifically designed for smart memory management.  Our strategy for replacing std :: string with AString was that we allowed them both to exist in the codebase and provide conversions between the two types (using .c_str () and .Get (), respectively).  We made many easy-to-implement improvements to AString that made it easier for us to work with it, and encouraged developers to slowly replace std :: string in the process of changing the code.  Thus, we gradually supplanted std :: string, and the "scotch" interface between the two systems gradually narrowed. <br><br><h2>  Metrics std :: string vs. AString </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/38f/c87/679/38fc876796cb79fd9de54b8bb6aaf73c.png"></div><br><h3>  1. Influence: 2/5 </h3><br>  At the moment, most of the heavily influencing memory locations of std :: string have been supplanted by <a href="https://engineering.riotgames.com/news/profiling-measurement-and-analysis">profiling</a> , so the main cost now is a little mental effort to switch from one system to another. <br><br><h3>  2. Costs of elimination: 3/5 </h3><br>  Conversion to AString was not just a ‚Äúfind and replace‚Äù task.  In AString there are several aspects for different purposes (in addition to the basic AString with dynamic memory allocation, there is an AStackString for the initial location in the stack memory and an ARefString for references to static strings).  For proper implementation, a real, thinking person should look at the replacement point.  Driving out the old system will be a long and slow process. <br><br><h3>  3. Infection: -2 / 5 </h3><br>  By making AString easier to use than std :: string, we actually wrapped the infection in our favor.  Every time a developer makes a change to the game code, there is a chance that the AString will continue to spread like a virus. <br><br>  Usually, the greatest costs from MacGuyver‚Äôs debt are the intellectual ones necessary to switch thinking modes when crossing borders.  If a bug or function is saved because it is in the ‚Äúwrong‚Äù system, then the transition to the ‚Äúcorrect‚Äù system is usually the logical step.  Here, the key metric that needs to be monitored is the infectivity of the new and old systems.  If you can turn the balance in favor of the new system, then the best system will inevitably win. <br><br>  When considering the need to eliminate MacGyver‚Äôs debt, strive to find ways to make a better (global) system desirable at the local level.  If a time-limited developer who implements greedy optimizations in their daily work decides to go to the desired end state, then you are on the right track. <br><br>  Another approach that might work is large-scale brute force refactoring.  With close connection systems, there is the possibility of eliminating part or full duty MacGyvera using tricky regex. <br><br><h2>  Fundamental debt </h2><br>  Fundamental debt is when a certain assumption lies very deep in the heart of a system and is inextricably linked with all its work.  It is sometimes difficult for experienced users of the system to recognize fundamental debt, because it seems to be something ‚Äúnatural‚Äù. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7fa/c9b/9ab/7fac9b9abbcfd4413113534ffaac59fd.png"></div><br>  A ridiculously stupid example of a fundamental duty in the real world is a measurement system, known as the American system of measures.  I grew up in the US, and my brain is filled with useless transformations, for example, I remember that a mile is 5,280 feet, a quart is 2 pints, and a gallon is 4 quarts.  The US government has decided many times to switch to the metric system, but we still remain one of the seven countries that have not accepted the International System of Units as the official measurement system.  This debt is embedded in road signs, recipes, elementary schools, and people's brains. <br><br>  We talked about some of the biggest fragments of fundamental debt Riot has been struggling with in previous articles on our technical blog, for example, in <a href="https://engineering.riotgames.com/news/determinism-league-legends-introduction">Determinism in the League of Legends</a> and <a href="https://engineering.riotgames.com/news/game-data-server">Game Data Server</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ce0/a44/600/ce0a44600884802a7d20e07ad0c2206b.png"></div><br>  Another example of fundamental duty that I think a lot about is the use of the Lua scripting language.  <em>League</em> designers use a tool called BlockBuilder to create complex behaviors by putting together functional blocks, such as taking distances between points, creating minions, causing damage, or working on script execution controls.  The set of operations that designers can choose from is quite large, but limited, and the parameters of each operation are minimal.  However, many years ago, in the prehistoric era of <em>League of Legends</em> , it was decided not to store the blocks and parameters in a simple, limited format corresponding to the data.  Instead, they began to be stored as arrays and tables in the powerful, beautiful and extremely difficult for this purpose language Lua.  A decade has passed since this decision was made, and today one of the most frequent operations in the engine is manipulating Lua objects. <br><br><h2>  BlockBuilder Lua Metrics </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ae5/71a/ba3/ae571aba3e366e742b605e1c3583c07a.png"></div><br><h3>  1. Influence: 4/5 </h3><br>  The mismatch between lua and this task space is costly.  Each call stack is dirty with an average of six ordered stack frames for each frame of BlockBuilder logic.  These ordered operations are not cheap in terms of server CPU utilization.  Reading the differences in script changes is unreasonably difficult.  Parsing / searching through script files to determine their functionality requires a fairly deep understanding of the Lua language. <br><br><h3>  2. Costs of elimination: 4/5 </h3><br>  Since Lua is so deeply embedded in the engine, it would be difficult to dig up it.  Currently there is a proposal to create a wrapper class that behaves like Lua objects, but with a much simpler internal structure, so that we can gradually transform the insides of scripts into something more appropriate.  But no matter how we approach the solution of this problem, we need to be attentive and thoughtful. <br><br><h3>  3. Infection: 4/5 </h3><br>  Each time a system encounters scripting (which is the basic unit of <em>LoL</em> logic), this system is subject to the operations and requirements of the Lua backend.  On average, we create a new building block every 3-4 days.  Each of them directly manipulates Lua objects.  The longer we do not replace Lua, the more difficult it becomes to replace it. <br><br>  Typically, fundamental debt has high rates across all three axes.  High costs make it necessary to adhere to an outdated system, which is often the right decision, but high impact and high infection mean that the rectification of crying fundamental debt will be rewarded many times. <br><br>  Most often, in Riot, the strategy to eliminate the fundamental debt is to build a new system next to the old one.  If this is possible, then I recommend converting the fundamental debt into MacGyver debt, gradually porting the system to use the new system with the possibility of conversion operations between the new and the old systems.  This makes it easy to start taking advantage of benefits in targeted areas, while reducing exposure.  However, sometimes such a transformation is impossible.  In this case, creating a transition at compile time (or, if possible, at boot time) allows you to gain confidence in the new system, without putting everything on the map.  The compiling scheme is used in the <a href="https://engineering.riotgames.com/news/game-data-server">GDS</a> transform, and the loading scheme worked for <a href="https://engineering.riotgames.com/news/determinism-league-legends-introduction">determinism</a> . <br><br><h2>  Debt data </h2><br>  Data debt begins with a piece of technical debt of one of the other categories.  This may be a bug in the scripting system, a not very desirable file format for items or two systems that do not interact well with each other.  But then a <em>bunch of</em> content (graphics, scripts, sounds, etc.) is created on top of this flaw in the code.  Soon, the rectification of the original technical debt becomes incredibly risky, and it turns out to be very difficult to say what could break when trying to fix everything. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0ff/708/907/0ff708907b7f801bd11f7c04ca5b7f01.png"></div><br>  My favorite real-world example for understanding data debt is DNA.  The genome is an organism that has grown slowly over millions of years through copying with losses (mutations), transcription errors and the pressure of evolution.  Some copying errors are useless, but harmless, others are harmful, and others provide tremendous benefits.  Finding out what each DNA fragment actually <em>does</em> is incredibly difficult.  We fully understand what base pairs mean, and how sets of base pairs are converted into amino acids to create proteins.  We even begin to understand some of the roles that DNA can play, other than coding.  But in the three billion base pairs of the human genome, there is still too much of what we do not even remotely understand.  <a href="http://www.radiolab.org/story/update-crispr/">Episode</a> Radiolab about CRISPR talks about how to solve one of these puzzles. <br><br>  The debt of data in <em>League of Legends</em> has the strongest impact when it turns a trivial correction into an exhausting test.  I will tell only about one small example, but you can believe: the data debt is one of the most important reasons for making changes to the <em>LoL</em> engine.  Our game developers have in-depth knowledge of the implementation of game systems and have enough skills to predict what data may break if any code fragments change. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d2c/814/64d/d2c81464def7218e2cb1f7cfb6379f4d.png"></div><br>  An unforgettable example of data debt, corrected several years ago, was associated with block parameters in our BlockBuilder scripting language.  The image above shows an example of how I increase the Owner armor value by a variable plus a constant.  I expect Owner to receive an armor bonus of 25 units: 20 from the Delta variable, which is passed to the block, and 5 from the constant.  However, due to the fact that the variable name corresponds to the parameter name, this action added 40 units.  (Don't even ask why not 45; I have no idea what thought process led to this.) <br><br>  When the developer of the champion team NoopMoney began to correct this ridiculous behavior, it was enough for him to remove four lines of code.  But in the case of such a highly contagious debt, even small changes require careful planning.  With this bug, any numerical parameters of 400 thousand lines of <em>LoL</em> scripts could double.  Worse, these scripts "behaved well" in the sense that the game is balanced and tuned to these possibly double values.  NoopMoney had to make sure that the fix could be turned off in real time (in case of unexpected bugs), as well as perform a detailed regex search and load the quality control department to determine which scripts are working correctly thanks to this bug.  In the end, the problems of fixing this bug turned out to be quite insignificant;  it took a change in the scripts of a whole small group of champions.  But due to the debt data they proved difficult to predict. <br><br><h2>  Parameter name bug metrics </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/458/00f/7a2/45800f7a21c25c0255bd7543bd033011.png"></div><br><h3>  1. Influence: 2/5 </h3><br>  The appearance of this bug had little effect on the game.  He doubled the transmitted value and had the probability of dropping the constant.  But he became another grain of useless collective knowledge that designers and developers had to take into account (after they learned about it).  Developer attention is too valuable a resource to be scattered about in this way. <br><br><h3>  2. Costs of elimination: 2/5 </h3><br>  As I said, the remediation process was easy.  By creating a rollback fix function in real time, we were able to increase confidence in its security.  The most expensive part was the initial analysis with an assessment of the extent of the problem for targeted testing. <br><br><h3>  3. Infection: 4/5 </h3><br>  The unfortunate thing about this bug was that it was based on very logical behavior.  For example, if you want to inflict damage to a unit, then it is perfectly logical to store the value in the Damage variable.  Alas, in the ApplyDamage block that received this value, there was a parameter with the same name, which led to a bug.  Then, when someone else wanted to create a similar spell, he simply copied these blocks, spreading the bug further. <br><br>  Typically, the costs of eliminating debt data are high because it is difficult to assess changes.  More dangerous is that it is almost always extremely contagious due to certain properties of the data (as opposed to code).  First, it is usually considered acceptable to create a new data element by copying and pasting an existing one.  If you make a new spell skill spell, you can save a lot of time using the Estreal Mystical Shot.  All problems with an existing data item apply to its descendants.  Secondly, unlike the code, the data is rarely subjected to technical analysis.  Therefore, it is difficult to notice and stop the spread of erroneous practices, even if they are well known.  Finally, a person with eyes and a brain is usually needed to correct errors in the data ‚Äî a compiler and formal logic cannot cope with them. <br><br>  To eliminate the debt data, I saw two main approaches.  The first one I call the ‚Äúdo it right‚Äù flag.  For data creators, this means moving from the old ‚Äúbroken‚Äù behavior to the new ‚Äúrevised‚Äù behavior.  Ideally, after it turns out that old content uses a broken version, the revised version should become the default version.  Then, as in the case of MacGyver‚Äôs debt, you can make a slow and gradual replacement for the new version.  At the same time, there are constant costs of adding more and more nonsense to the UI editor. <br><br>  The second approach I call "just correct the error."  He used NoopMoney when eliminating the bug with the names of the parameters.  It involves correcting the error and repairing all the data it has affected.  To this task was not so frightening, you can use some technology.  First you need to perform a lot of grep and regex search operations to try to evaluate the theoretical influence of the bug.  Second, conduct targeted testing.  Finally, you can prepare the switch function to return to the old behavior after the introduction of the patch in case you missed something worse than the bug to be fixed.  It is also worth noting that <a href="https://engineering.riotgames.com/news/determinism-league-legends-introduction">determinism</a> helped us a lot in testing these types of changes.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> She allowed us to make sure that the server provides the same results before and after the changes. </font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Summarize </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When evaluating an example of technical debt, you can use influence metrics (on users and developers), elimination costs (temporal and degrees of risk), and infection. </font><font style="vertical-align: inherit;">I suppose most developers regularly evaluate the impact and costs of fixing, but I rarely met the discussion of infection. </font><font style="vertical-align: inherit;">When the problem gets deeper and harder and harder to fix, the infection can become the most serious enemy of the developer. </font><font style="vertical-align: inherit;">However, it is sometimes possible to turn an infection into one‚Äôs own weapon, making the correction more infectious than the problem. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When working on the </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">League</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">most of the technical debt I observe falls into one of these four categories. </font><font style="vertical-align: inherit;">Local debt is like a black box with disgusting content. </font><font style="vertical-align: inherit;">In a MacGyver debt, two or more systems are tied together with tape and supplemented with conversion functions. </font><font style="vertical-align: inherit;">With a fundamental debt, the entire structure is built on certain unfortunate assumptions. </font><font style="vertical-align: inherit;">In data debt, huge amounts of data are layered on some other type of debt, which makes its correction risky and lengthy. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I hope this post will provide you with useful food for thought and discussion of technical duty.</font></font></div><p>Source: <a href="https://habr.com/ru/post/353346/">https://habr.com/ru/post/353346/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../353336/index.html">5 Differences technical product manager from business-oriented PM</a></li>
<li><a href="../353338/index.html">Binary tree numbering</a></li>
<li><a href="../353340/index.html">How to create a startup empire without selling your freedom</a></li>
<li><a href="../353342/index.html">How I learn Agile practices and values</a></li>
<li><a href="../353344/index.html">And we count you. Universal labeling of goods is coming in Russia</a></li>
<li><a href="../353348/index.html">Do not protect the site from scraping: resistance is useless</a></li>
<li><a href="../353350/index.html">In addition to cryptocurrency: what else is the blockchain used for?</a></li>
<li><a href="../353352/index.html">From Korutin to ARKit: everything you can find out on Mobius 2018 Piter</a></li>
<li><a href="../353354/index.html">Angular: event handling optimization</a></li>
<li><a href="../353356/index.html">What do Crossover, Space, and NASA have in common?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>