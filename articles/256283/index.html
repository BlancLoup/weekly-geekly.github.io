<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Install a free StartSSL SSL certificate on the cloud VPS from Infobox</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article we will look at how to order a free SSL certificate and install it on the cloud-based VPS from Infobox . Basic SSL certificates are is...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Install a free StartSSL SSL certificate on the cloud VPS from Infobox</h1><div class="post__text post__text-html js-mediator-article">  In this article we will look at how to order a free SSL certificate and install it on the <a href="http://infobox.ru/vps/cloud">cloud-based VPS from Infobox</a> .  Basic SSL certificates are issued free of charge by the <a href="https://www.startssl.com/%3Flang%3Dru">StartCom</a> certification <a href="https://www.startssl.com/%3Flang%3Dru">authority</a> . <br><br>  Free StartSSL Class 1 certificates are used to verify domain names and email addresses.  As a rule, customer checks are made automatically and require minimal participation from StartCom employees.  The verification process confirms that the subscriber owns the domain and a valid email account. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0eb/0d8/a93/0eb0d8a938b8252bd2688f0ec6b14c41.png" width="300">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Free certificates are designed for websites that need to protect the privacy of personal data and prevent the possibility of listening to Internet connections.  Information presented in certificates of this type, except for the domain name and e-mail address, is not confirmed.  If you need <a href="https://helpdesk.infobox.ru/Knowledgebase/Article/View/569/42/">higher level</a> certification, you can order an SSL certificate in <a href="https://panel.infobox.ru/">the</a> Infobox <a href="https://panel.infobox.ru/">control panel</a> on the main page in the ‚ÄúMy Services‚Äù -&gt; ‚ÄúOrder New Service‚Äù section.  Access to the control panel is provided when ordering any service, such as <a href="http://infobox.ru/vps/linux">VPS</a> or <a href="http://infobox.ru/vps/cloud">cloud VPS</a> . <br><br>  To ensure the secrecy of the transmitted data of simple sites, StartCom certificates are suitable well. <br>  <em>Free certificates from StartCom are not really completely free.</em>  <em>If certificate revocation is required, this procedure costs $ 24 from StartCom.</em> <br><a name="habracut"></a><br><h4>  <b>Order free SSL certificate</b> </h4><br>  Open the free SSL certificate <a href="https://www.startssl.com/%3Fapp%3D11%26action%3Dregform">ordering page</a> .  Fill in the information about you (the data must be real, this is very important). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3e9/04f/fa4/3e904ffa453b9f0b47dd700566361e6a.jpg" width="600"><br><br>  In the next step, you will need a confirmation code sent to the specified email. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7aa/787/8f3/7aa7878f394189693171ac06f86bfc23.jpg" width="500"><br><br>  Enter the code and click "Continue" <br><br><img src="https://habrastorage.org/getpro/habr/post_images/211/f2b/42f/211f2b42f92bc1cb2fee6637c72593c0.jpg" width="500"><br><br>  After that, you need to wait for the registration confirmation from StartCom (it can take up to 6 hours, but usually the access link and confirmation code comes much faster).  After receiving the letter, enter the code from it using the link indicated in the letter.  Next, select the length of the certificate (it is better to choose the maximum). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6b9/56d/4d2/6b956d4d2ade9544561d9777f9bcbe48.jpg" width="600"><br><br>  After that, a certificate will be generated for access to the StartCom certification center.  Save it in a safe place and install it into the system by double-clicking on it and clicking ‚ÄúInstall‚Äù. <br><br>  You now have access to a certification authority.  In the next step, enter the domain name for which you want to receive a certificate. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e54/dbc/f8a/e54dbcf8ad6a351eae1050039af83a57.jpg" width="600"><br><br>  To confirm the domain, you need to create one of three addresses on it: <br><ul><li>  postmaster @ domain </li><li>  hostmaster @ domain </li><li>  webmaster @ domain </li></ul><br>  If you have not yet connected mail for a domain, you can bind the domain to a free <a href="http://pdd.yandex.ru/">Yandex.Mail</a> or use the <a href="http://office24.ru/">Office 24 business mail</a> <br><br>  After creating a mailbox on a domain, select it from StartCom and confirm that you own the domain. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d20/dd1/7c0/d20dd17c012b293707253510c2cd551e.jpg" width="600"><br><br>  After confirming domain ownership, you can generate a secret key, as shown in the screenshot below: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cf3/332/f40/cf3332f401c34dabc166d23d2a9dec12.jpg" width="600"><br><br>  <strong>It is recommended to skip this step and generate a CSR on your cloud-based VPS.</strong>  <strong>So the secret key will not be at StartCom.</strong> <br>  To generate a CSR, connect to the virtual server <a href="https://helpdesk.infobox.ru/Knowledgebase/Article/View/335/">via SSH</a> (more details in the next section) and execute the command: <br><pre><code class="bash hljs">openssl req -new -newkey rsa:4096 -nodes -keyout /etc/ssl/private.key -out /etc/ssl/domain.csr</code> </pre> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/52b/ee6/47d/52bee647d68f21307ecab2f23e607403.jpg" width="700"><br><br>  Enter your domain in the FQDN.  E-mail address must be in this domain, for example webmaster@domain.com. <br><br>  After generation, display the contents of the domain.csr file on the console screen: <br><pre> <code class="bash hljs">cat /etc/ssl/domain.csr</code> </pre><br>  and paste into the field of the certificate issuing wizard, which will appear after clicking on the Skip window for generating certificates. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0e9/bf0/f79/0e9bf0f796c8c97a117f9ba296378dc5.jpg" width="600"><br><br>  Agree with the proposed domain name. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/224/110/9e1/2241109e1dfc0af3465bace45233d63c.jpg" width="600"><br><br>  In the next step, add the www subdomain to the certificate. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/db4/a3a/5f4/db4a3a5f4c8d37a024afbdfa082154ac.jpg" width="600"><br><br>  Complete the process of obtaining ssl.crt and save it. <br><br>  You will need root and intermediate certificates StartCom.  To get them, go to Toolbox -&gt; StartCom CA Certificates. <br>  Save files using the link Class 1 Intermediate Server CA (sub.class1.server.ca.pem) and StartCom Root CA (ca.pem). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7ea/c0c/865/7eac0c8652363d4b9db6f6c27a0e7f8f.jpg" width="600"><br><br>  As a result, the following useful files will be saved on your local computer: <br><ul><li>  ca.pem </li><li>  sub.class1.server.ca.pem </li><li>  ssl.crt </li></ul><br>  On the server in the / etc / ssl / folder: <br><ul><li>  private.key </li></ul><br><br><h4>  <b>Copy files to server</b> </h4><br>  Create a server from a Ubuntu 14.04 lamp template in the <a href="http://infobox.ru/vps/cloud">cloud</a> .  The process of creating the server was <a href="https://infoboxcloud.ru/community/blog/iaas/267.html">discussed in the article</a> earlier. <br>  You need to copy <strong>ca.pem, sub.class1.server.ca.pem and ssl.crt</strong> to the <strong>/ etc / ssl</strong> folder (if not, create it). <br><br>  This can be done, for example, through Filezilla (the installation of the client is also discussed in the <a href="https://infoboxcloud.ru/community/blog/iaas/267.html">article</a> ).  However, the connection method will be different, since you need access not only to the site folder, but also to the entire server. <br><br>  Add a new SFTP connection as shown in the screenshot below.  Use the login and password from the server that came to your email after creating the server, as well as the external ip ‚Äì address of the server. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4c1/1ee/6f8/4c11ee6f8868fbac55ff0454cdb22e98.jpg" width="600"><br><br>  When connecting, confirm that you are connecting to the server you know by clicking OK. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7c0/f9d/bf2/7c0f9dbf2868e4892476988a37fac0ef.jpg" width="600"><br><br>  The connection will be successfully established. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4ff/f51/c4e/4fff51c4e926d7d449681da57835213c.jpg" width="800"><br><br>  Go to the "/ etc / ssl" folder and copy the ca.pem, sub.class1.server.ca.pem and ssl.crt files there. <br><br>  Now connect to the server <a href="https://helpdesk.infobox.ru/Knowledgebase/Article/View/335/">via SSH</a> . <br><br><h4>  <b>Enable SSL in NGINX</b> </h4><br>  In the LAMP template, you need to configure SSL for NGINX reverse proxy. <br><br>  <i>If you previously set a password when generating CSR, decrypt the private key with the command:</i> <i><br></i> <pre> <i><code class="bash hljs">openssl rsa -<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> /etc/ssl/ssl.key -out /etc/ssl/private.key</code></i> </pre><br><br>  Combine root and intermediate certificates with the command: <br><pre> <code class="bash hljs">cat /etc/ssl/sub.class1.server.ca.pem &gt;&gt; /etc/ssl/cau.pem</code> </pre><br><br>  Add your certificate to the pool <br><pre> <code class="bash hljs">cat /etc/ssl/ssl.crt /etc/ssl/cau.pem &gt;&gt; /etc/ssl/group.crt</code> </pre><br><br>  Open the result in nano: <br><pre> <code class="bash hljs">nano /etc/ssl/group.crt</code> </pre><br>  Save changes (Ctrl + X, Y, Enter). <br><br>  Transfer the beginning of each new certificate to a new line after the end of the previous certificate and save the changes. <br><br>  Now set permissions to access private.key: <br><pre> <code class="bash hljs">chmod 600 /etc/ssl/private.key</code> </pre><br><br><img src="https://habrastorage.org/getpro/habr/post_images/067/6d7/c01/0676d7c016b35cf255debda94aa3505b.jpg" width="250"><br><br>  Edit the nginx configuration file: <br><pre> <code class="bash hljs">nano /etc/nginx/sites-enabled/default</code> </pre><br><br>  Make changes as shown in the screenshot below (use your domain instead of le-vert.ru): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/68f/457/108/68f457108b47a2567555cb3a48f29753.jpg" width="450"><br><br>  Restart NGINX. <br><pre> <code class="bash hljs">service nginx restart</code> </pre><br><br>  If you try to access the site using the ip-address of the HTTPS protocol, you will see a warning that the certificate is not secure. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cdb/16e/133/cdb16e13346bb5de9685d661344db42d.jpg" width="600"><br><br>  For a secure connection, go to the site by the domain name. <br><br>  To do this, in the DNS A records for the domain and the www subdomain, specify the ip ‚Äì address of the site and wait for the DNS update.  Or, for testing, write the correspondence of the ip ‚Äì address of the server and domain in the hosts file of your OS <br><br><img src="https://habrastorage.org/getpro/habr/post_images/389/a1d/b6e/389a1db6e3c6c23fc3c7cf290e7c5400.jpg" width="800"><br>  The only unsafe thing left is the picture on the page is loaded via http.  To ensure that the site is trusted, upload images by https. <br><br>  Successful use of the <a href="http://infobox.ru/vps/cloud">Infobox</a> ! </div><p>Source: <a href="https://habr.com/ru/post/256283/">https://habr.com/ru/post/256283/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../256273/index.html">Unity3d The implementation of visibility and audibility</a></li>
<li><a href="../256275/index.html">Linear algebra: test run</a></li>
<li><a href="../256277/index.html">Current Measurement Components</a></li>
<li><a href="../256279/index.html">Virtuozzo moves to open source development model</a></li>
<li><a href="../256281/index.html">IBM invites you to the SoftLayer Workshop in Moscow</a></li>
<li><a href="../256285/index.html">DevCon 2015: announcement of the third wave of conference speakers</a></li>
<li><a href="../256287/index.html">Corsair PadLock 2 - flash drive with the ability to instantly destroy data</a></li>
<li><a href="../256289/index.html">Participate in research into the use of software architecture patterns</a></li>
<li><a href="../256291/index.html">Similarity search. Search for fuzzy duplicates. Lectures from Yandex</a></li>
<li><a href="../256293/index.html">The solution of the problem of two sages and numbers from 1 to 100</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>