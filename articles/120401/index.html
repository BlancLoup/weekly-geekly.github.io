<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating your own sophisticated styles for LaTeX</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Background 
 If you regularly create uniform documents in TeX, then creating your own style can significantly speed up the work. 

 My regular documen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating your own sophisticated styles for LaTeX</h1><div class="post__text post__text-html js-mediator-article"><h2>  Background </h2><br>  If you regularly create uniform documents in TeX, then creating your own style can significantly speed up the work. <br><br>  My regular documents are creating leaflets with tasks for schoolchildren.  Finished they look like this: <a href="">PNG</a> or <a href="http://shashkovs.ru/_list/list01.pdf">PDF</a> (and also <a href="http://shashkovs.ru/_list/list04d.pdf">so</a> , <a href="http://shashkovs.ru/_geom/part20.pdf">so</a> or <a href="http://shashkovs.ru/_alg/part11.pdf">so</a> ) <br>  Almost all the design here (as well as a separate table for the results) is created automatically. <br>  (if it is necessary for someone, I can issue a package with documentation and examples of use) <br><br>  I would like to share different ‚Äútricks‚Äù when creating my own style. <br>  If you are not at all in the subject of creating your teams, then it is best to read <a href="http://www.mccme.ru/free-books/llang/newllang.pdf">Lviv</a> or something like that. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><h2>  Commands with Russian letters (as well as how to use Russian in formulas and how to add Russian to pdf) </h2><br><br>  It is often convenient to create a team consisting of Russian letters.  For example, to write <br><pre><code class="tex hljs">  <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"></span></span></span></span> ,  ...</code> </pre> <br><br>  The barrier to creating such commands is that TeX, by default, considers Russian letters not quite letters (they have the wrong catcode (see Knut)). <br>  To explain your desire to TeH, you need to fulfill either a large but understandable <br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>156=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>201=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>212=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>223=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>234=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>245=11 <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>188=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>202=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>213=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>224=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>235=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>246=11 <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>192=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>203=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>214=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>225=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>236=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>247=11 <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>193=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>204=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>215=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>226=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>237=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>248=11 <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>194=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>205=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>216=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>227=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>238=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>249=11 <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>195=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>206=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>217=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>228=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>239=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>250=11 <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>196=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>207=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>218=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>229=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>240=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>251=11 <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>197=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>208=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>219=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>230=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>241=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>252=11 <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>198=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>209=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>220=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>231=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>242=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>253=11 <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>199=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>210=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>221=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>232=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>243=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>254=11 <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>200=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>211=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>222=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>233=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>244=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>255=11</code> </pre><br>  either more compact, but not quite obvious (taken from the russlh.sty style) <br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">def</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">reserved</span></span></span></span>@a#1#2{<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">@</span></span></span></span>tempcnta#1<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">relax</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">@</span></span></span></span>tempcntb#2<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">relax</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">reserved</span></span></span></span>@b} <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">def</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">reserved</span></span></span></span>@b{<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ifnum</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">@</span></span></span></span>tempcnta&gt;<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">@</span></span></span></span>tempcntb<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">else</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">reserved</span></span></span></span>@c<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">@</span></span></span></span>tempcnta<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">advance</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">@</span></span></span></span>tempcnta<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">@</span></span></span></span>ne<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">expandafter</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">reserved</span></span></span></span>@b<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fi</span></span></span></span>} <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">def</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">reserved</span></span></span></span>@c#1{<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">catcode</span></span></span></span>#1=11<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">relax</span></span></span></span>} <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">reserved</span></span></span></span>@a{192}{223} <span class="hljs-comment"><span class="hljs-comment">% - \reserved@a{224}{255} % - \catcode156=11 %  \catcode188=11 % </span></span></code> </pre><br><br>  After that, problems with Russian letters in the teams will disappear. <br><br><h6>  Russian language and formulas </h6><br>  If you want to use Russian letters as Russian letters in formulas, then the mathtext package will save. <br><br><h6>  Russian language and PDF </h6><br>  If you want to get normal Russian letters when searching in ready-made pdf, then the cmap package will help.  However, there is still a better solution: you can click the glyphtounicode.tex file with unicod codes for a significant part of the characters, then in the finished pdf you can search for (and save-paste) Greek letters and many mathematical icons. <br><br><h2>  Difficult settings for environments and styles (as well as how to set an arbitrary size and leading) </h2><br><br>  How to make your environment or your style so that you can specify in the parameters: <br><pre> <code class="tex hljs">[Par1=Value1, Par2=Value2, dump]</code> </pre>  ? <br><br>  It would be very convenient in many cases. <br><br>  The answer gives the package keyval.sty. <br><br><h5>  What to do </h5><br>  First we connect the style: <br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">usepackage</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{keyval}</span></span></span></span></code> </pre> <br><br>  Then we define how to handle the keys: <br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">define</span></span></span></span>@key {  } {  } [  ] (   ,        ) {  }</code> </pre><br><br>  Now we call the command that parses the text, for each correct variable it will execute what was written in the corresponding \ define @ key <br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">setkeys</span></span></span></span> {  } {,   }</code> </pre><br><br><h6>  An example for the environment </h6><br><br>  So, for example, we want to create environments in which the spaces between lines are specified explicitly, and also the font size is selected.  (Thanks to Yandex.Ref for giving the text) <br><br>  Code: <br><blockquote><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">documentclass</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">[12pt]</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{article}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">usepackage</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">[textwidth=5cm]</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{geometry}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">usepackage</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">[T2A]</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{fontenc}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">usepackage</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">[cp1251]</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{inputenc}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">usepackage</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">[russian]</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{babel}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">usepackage</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{keyval}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sloppy</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">makeatletter</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">newlength</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{\wid}</span></span></span></span> <span class="hljs-comment"><span class="hljs-comment">%  ---   \newtoks{\fnt} %  ---   \newlength{\skp} %  ---    \define@key{key}{font}[12]{\fnt={#1}} %   font,     (   ,  12) \define@key{key}{skip}{\skp=#1} \define@key{key}{width}{\wid=#1} \newenvironment{test}[1]% %      {\setkeys{key}{#1}% %   \begin{minipage}{\wid} %     \fontsize{\the\fnt}{\skp}\selectfont %       }% {\par\end{minipage}} %   \makeatother % @    \begin{document} \begin{test}{font=6,skip=14pt,width=5cm}    .  , ,      ,  .  , ,    ,     .    . \end{test} \bigskip \begin{test}{width=7cm,skip=13pt,font}    .  , ,      ,  .  , ,    ,     .    . \end{test} \end{document}</span></span></code> </pre></blockquote><br>  Result: <br><img src="http://shashkovs.ru/_tmp/result.gif" alt="image"><br><br>  (read about \ fontsize and \ selectfont in Knut or at Lvov) <br><br><h5>  Difficult style options </h5><br>  Now it‚Äôs a more difficult task to make such parameters the style. <br>  To solve the problem, we had to study how the geometry.sty style works. <br><br>  Everything is very similar here, but you need to add some code that will force the parameters at the very beginning of the style.  Let's give an example, it will be quite enough: <br><br><h6>  An example (and also how to make the mag command work correctly with the fields of the document) </h6><br><br><h6>  test.sty </h6><br><blockquote><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ProvidesPackage</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{test.sty}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RequirePackage</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">[T2A]</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{fontenc}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RequirePackage</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">[cp1251]</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{inputenc}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RequirePackage</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">[russian]</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{babel}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RequirePackage</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{keyval}</span></span></span></span> <span class="hljs-comment"><span class="hljs-comment">%     ,     \define@key{key}{mag}{\mag#1} % , ,     \let\@tempa\@empty% \edef\@tempa{\@ptionlist{\@currname.\@currext}}% \@for\CurrentOption:=\@classoptionslist\do{% \@ifundefined{KV@#2@\CurrentOption}{}{\edef\@tempa{\@tempa,\CurrentOption,}}}% \edef\@tempa{\noexpand\setkeys{key}{\@tempa}}% \@tempa% \AtEndOfPackage{\let\@unprocessedoptions\relax}% %    ,       dvi,   pdf. %   ,  dvi  pdf    , %       ( true),   --- . % -   . \global\setlength\paperheight {297truemm}% \global\setlength\paperwidth {210truemm}% \global\setlength\pdfpageheight{297truemm}% \global\setlength\pdfpagewidth {210truemm}% \global\setlength\textheight {260truemm}% \global\setlength\textwidth {180truemm}% \global\setlength\hoffset {-1truein}% \global\setlength\voffset {-1truein}% \global\setlength\pdfhorigin {1truein}% \global\setlength\pdfvorigin {1truein}% \global\setlength\oddsidemargin{15truemm}% \global\setlength\topmargin {5truemm}% \global\setlength\leftskip {0truemm}% \global\setlength\rightskip {0truemm}%</span></span></code> </pre></blockquote><br><h6>  test.tex </h6><br><blockquote><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">documentclass</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">[12pt]</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{article}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">usepackage</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">[mag=2000]</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{test}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">begin</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{document}</span></span></span></span> ! <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">end</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{document}</span></span></span></span></code> </pre></blockquote><br>  (The mag command, which allows you to arbitrarily scale the document is very good. But it needs to be called as soon as possible. Many glitches arise from it: for example, 1cm or 1in scaling affects, but 1truecm or 1truein does not. Therefore, you should use true in all fields. - units, and in all other places - regular ones. Because of this, the geometry package with mag does not work well. In addition, different sizes are used for page sizes (and shifts) in pdf and dvi (for example, paperheight and pdfpageheight), which leads to even more problems. The given code takes them into account) <br><br><h4>  What else? </h4><br><br>  For more than 8 years of using TeH and creating my own style, I have accumulated quite a lot of different tricks, tricks, and generally nontrivial moments of poorly lit literature. <br>  If there is interest, then it can also be illuminated. <br><br>  For example: <br><ol><li>  Creating portable builds and configuring WinEdt <a href="http://rutracker.org/forum/viewtopic.php%3Ft%3D3865802">(my build on torrents)</a> </li><li>  Configuring WinEdt for direct and reverse search immediately in PDF (you can forget about dvi) (on Habr√© we already <a href="http://habrahabr.ru/blogs/latex/52798/">wrote a little</a> about this </li><li>  Creation of commands that "analyze" the structure of the document on the fly - for example, automatic creation of complex conduits, and also write some data to third-party files on the fly (for example, we create a special xml on the fly, which is used further for electronic conduit) </li><li>  Processing and executing perl-, python-, metapost-, or even any pieces of third-party code on the fly </li><li>  As a result, by inaccurately compiling someone else's document, you can, say, delete some data, run a virus program, etc.  etc.  (example ;-) </li><li>  Creating and adding drawings, graphs, etc.  right in TeX, in metapost, IPE, GeoAlgebra, etc.  (about this, too, was <a href="http://habrahabr.ru/blogs/latex/94931/">one</a> , <a href="http://habrahabr.ru/blogs/latex/48260/">two</a> , <a href="http://habrahabr.ru/blogs/latex/48122/">three</a> , but the topic is immense. </li></ol></div><p>Source: <a href="https://habr.com/ru/post/120401/">https://habr.com/ru/post/120401/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../120391/index.html">iPADrom - S03E05. IPad software review</a></li>
<li><a href="../120393/index.html">10 gigabit link at home?</a></li>
<li><a href="../120394/index.html">About certification: catch up to the global price increase</a></li>
<li><a href="../120395/index.html">Yandex.Money now allows you to delete the old account and create a new</a></li>
<li><a href="../120396/index.html">C / C ++. Command line parsing method</a></li>
<li><a href="../120402/index.html">Some features of the implementation of background applications for iOS 4</a></li>
<li><a href="../120404/index.html">Subjective view of DevCon'11 or will HTML5 conquer Russia in the near future</a></li>
<li><a href="../120405/index.html">API: added new and deleted old</a></li>
<li><a href="../120406/index.html">Client for Habrahabr</a></li>
<li><a href="../120409/index.html">Google launched the +1 button for sites</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>