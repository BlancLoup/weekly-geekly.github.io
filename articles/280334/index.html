<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>As one programmer Jocly shoe</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="- Postman Stanley's apprentice - Grosz murmured 
 - Orphan, sir. A very sad story ... A good boy, if you don't annoy him, 
 ... if you understand what...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>As one programmer Jocly shoe</h1><div class="post__text post__text-html js-mediator-article"><img align="left" src="https://habrastorage.org/files/413/c68/18b/413c6818b268431da04a72825c1c4fc9.PNG">  <b><i>- Postman Stanley's apprentice - Grosz murmured</i></b> <b><i><br></i></b>  <b><i>- Orphan, sir.</i></b>  <b><i>A very sad story ... A good boy, if you don't annoy him,</i></b> <b><i><br></i></b>  <b><i>... if you understand what I mean.</i></b> <b><i><br></i></b>  <b><i>‚ÄúUh ... maybe.‚Äù</i></b>  <b><i>- said Mokrist and hastily turned to Stanley</i></b> <b><i><br></i></b>  <b><i>‚ÄúSo, do you know something about pins? ...‚Äù</i></b> <b><i><br></i></b>  <b><i>- Netser!</i></b>  <b><i>- answered Stanley ...</i></b> <b><i><br></i></b>  <b><i>‚ÄúAbout pins, I know everything!‚Äù</i></b> <b><i><br><br></i></b>  <b><i>Sir Terry Pratchett " <a href="https://ru.wikipedia.org/wiki/%25D0%259E%25D0%25BF%25D0%25BE%25D1%2587%25D1%2582%25D0%25B0%25D1%2580%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5">Respect</a> ."</i></b> <br><br>  Back in 1998, <a href="http://www.zillions-of-games.com/">Zillions of Games</a> created a sensation among board game lovers, but it was not without flaws.  Its main drawback was closeness.  In order to play on top of a set of 48 games included in the demo kit, you had to pay money for activating the program.  It was impossible to run ZoG on anything other than Windows (with some versions of this OS, there could be problems).  Network mode was, but only on a local network or via a modem, the Web was not implied.  Nothing can be done about it, it is a <b>closed</b> product!  In addition, at present, it is practically not supported.  I think that many will be happy to hear that there is an alternative free from the above disadvantages.  Meet this <a href="https://www.jocly.com/">Jocly</a> . <br><a name="habracut"></a><br>  Jocly developers were inspired by the example of Zillions of Games, but they chose a fundamentally different way.  From the start, the Web was at the forefront.  You can run Jocly-application in any modern browser, on any platform, including mobile!  In most cases, you will be able to use a modern 3D interface, but if there are problems with compatibility, Jocly will switch to 2D itself.  You can play with the computer, as well as with other people, view previously played games and even communicate with other players via video chat.  Here you can see a brief description of the product features, as well as its <a href="http://wiki.jocly.com/index.php/Comparison_with_Zillions_of_Games">comparison</a> with the Zillions of Games. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img align="left" src="https://habrastorage.org/files/f65/214/e3d/f65214e3df1b4f959438a9c0d8aab2ef.jpg">  Of course, such a huge barrel of honey could not do without a small spoonful of tar (although it was someone else).  Jocly does not support any <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25B5%25D0%25B4%25D0%25BC%25D0%25B5%25D1%2582%25D0%25BD%25D0%25BE-%25D0%25BE%25D1%2580%25D0%25B8%25D0%25B5%25D0%25BD%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25BD%25D1%258B%25D0%25B9_%25D1%258F%25D0%25B7%25D1%258B%25D0%25BA">DSL</a> , like <a href="https://ru.wikipedia.org/wiki/Zillions_of_Games">ZRF</a> or <a href="https://en.wikipedia.org/wiki/Game_Description_Language">GDL,</a> and development has to be done in pure and uncluttered JavaScript.  The developers themselves <a href="http://wiki.jocly.com/index.php/Comparison_with_Zillions_of_Games">admit</a> that this is a more time-consuming approach, but it has a huge plus - in JavaScript you can describe almost anything.  Rather, <b>it would</b> be possible <b>to</b> describe if Jocly herself did not impose a couple of restrictions.  In the current implementation, only <b>two-</b> player games are supported with complete information and without random events.  These rather severe restrictions are connected, as far as I understand, with the AI ‚Äã‚Äãalgorithms used ( <a href="https://en.wikipedia.org/wiki/Alpha%25E2%2580%2593beta_pruning">Alpha ‚Äì beta</a> and <a href="http://wiki.jocly.com/index.php/Jocly_UCT">UCT</a> <a href="https://en.wikipedia.org/wiki/Monte_Carlo_tree_search">Monte Carlo</a> ). <br><br><br>  Whatever it was, the developers, in my opinion, did the main thing - they separated the <b>model of the</b> game from its visual <b>presentation</b> .  Both can be written separately!  While working on the model, the programmer can completely distract from the questions of its visualization, and having come to grips with the presentation, it is able to implement, besides the usual 2D (the only possible one in ZoG), also an honest 3D interface.  It is <a href="http://wiki.jocly.com/index.php/XDView">difficult</a> , but quite realizable.  With a great desire, <a href="http://wiki.jocly.com/index.php/Changing_the_pieces_with_my_own_set">you can</a> even develop your own shape design, drawing it in <a href="http://www.blender.org/">Blender</a> . <br><br>  The best way to understand is to do something, even a very small one, on your own.  Since the <a href="http://wiki.jocly.com/index.php/Changing_the_pieces_with_my_own_set">material</a> on customization of chess on the <a href="http://wiki.jocly.com/">wiki of the</a> authors of the project was already, I decided to look in the direction of the checkers.  To view the details of the implementation, I used <a href="http://embed.jocly.net/jocly/plazza/inspector">Jocly Inspector</a> .  Available were "International", "English", "Spanish", "Brazilian checkers".  Anything but the <a href="https://ru.wikipedia.org/wiki/%25D0%25A0%25D1%2583%25D1%2581%25D1%2581%25D0%25BA%25D0%25B8%25D0%25B5_%25D1%2588%25D0%25B0%25D1%2588%25D0%25BA%25D0%25B8">Russian Checkers</a> .  But if something is not - you just have to do it! <br><br>  You can run any Jocly application on your computer (according to the developers, this is the only way to launch customized applications).  This will help <a href="https://github.com/mi-g/jquery-jocly">Jocly jQuery plugin</a> .  Here <a href="http://mi-g.github.io/jquery-jocly/index.html">is</a> a good selection of examples, with a demonstration of its capabilities.  To get started, you need only three files: <a href="">jquery.jocly.min.js</a> , <a href="">jquery.jocly.min.css</a> and a small html file.  If you do everything ‚Äúaccording to the correct‚Äù, you need to put them in the document directory of any Web server (for example, <a href="httpd.apache.org/">Apache</a> ), but, as practice has shown, if you use <a href="https://www.mozilla.org/ru/firefox/new/">FireFox</a> , you just need to upload our html file into it (with other browsers this focus is not worked). <br><br><div class="spoiler">  <b class="spoiler_title">Here is what it contains</b> <div class="spoiler_text"><pre><code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'utf-8'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jquery.jocly.min.css"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://code.jquery.com/jquery-1.10.1.min.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jquery.jocly.min.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>Jocly development stub web page<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> $(</span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">document</span></span></span><span class="javascript">).ready(</span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#applet"</span></span></span><span class="javascript">).jocly({}); $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#applet"</span></span></span><span class="javascript">).jocly(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"localPlay"</span></span></span><span class="javascript">,</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"custom-draughts"</span></span></span><span class="javascript">,{ }); $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#applet"</span></span></span><span class="javascript">).jocly(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"setFeatures"</span></span></span><span class="javascript">,{ </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">notifyEnd</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">false</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">hasEndSound</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">false</span></span></span><span class="javascript">, }); $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#options"</span></span></span><span class="javascript">).joclyListener(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"listen"</span></span></span><span class="javascript">,</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"viewOptions"</span></span></span><span class="javascript">,</span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">message</span></span></span></span><span class="javascript"><span class="hljs-function">) </span></span></span><span class="javascript">{ </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">console</span></span></span><span class="javascript">.log(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"viewOptions"</span></span></span><span class="javascript">,message); $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#options-skin"</span></span></span><span class="javascript">).hide().children(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"option"</span></span></span><span class="javascript">).remove(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">if</span></span></span><span class="javascript">(message.options.skin &amp;&amp; message.skins &amp;&amp; message.skins.length&gt;</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">) { message.skins.forEach(</span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">skin</span></span></span></span><span class="javascript"><span class="hljs-function">) </span></span></span><span class="javascript">{ $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"&lt;option/&gt;"</span></span></span><span class="javascript">).attr(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"value"</span></span></span><span class="javascript">,skin.name).text(skin.title).appendTo($(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#options-skin"</span></span></span><span class="javascript">)); }); $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#options-skin"</span></span></span><span class="javascript">).show().val(message.options.skin); } $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#options-notation"</span></span></span><span class="javascript">).hide(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">if</span></span></span><span class="javascript">(message.options.notation!==</span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">undefined</span></span></span><span class="javascript">) $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#options-notation"</span></span></span><span class="javascript">).show().children(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"input"</span></span></span><span class="javascript">).prop(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"checked"</span></span></span><span class="javascript">,message.options.notation); $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#options-moves"</span></span></span><span class="javascript">).hide(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">if</span></span></span><span class="javascript">(message.options.moves!==</span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">undefined</span></span></span><span class="javascript">) $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#options-moves"</span></span></span><span class="javascript">).show().children(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"input"</span></span></span><span class="javascript">).prop(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"checked"</span></span></span><span class="javascript">,message.options.moves); $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#options-autocomplete"</span></span></span><span class="javascript">).hide(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">if</span></span></span><span class="javascript">(message.options.autocomplete!==</span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">undefined</span></span></span><span class="javascript">) $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#options-autocomplete"</span></span></span><span class="javascript">).show().children(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"input"</span></span></span><span class="javascript">).prop(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"checked"</span></span></span><span class="javascript">,message.options.autocomplete); $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#options-sounds"</span></span></span><span class="javascript">).hide(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">if</span></span></span><span class="javascript">(message.options.sounds!==</span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">undefined</span></span></span><span class="javascript">) $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#options-sounds"</span></span></span><span class="javascript">).show().children(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"input"</span></span></span><span class="javascript">).prop(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"checked"</span></span></span><span class="javascript">,message.options.sounds); $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#options"</span></span></span><span class="javascript">).show(); }); $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#options"</span></span></span><span class="javascript">).on(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"change"</span></span></span><span class="javascript">,</span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> options={}; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">if</span></span></span><span class="javascript">($(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#options-skin"</span></span></span><span class="javascript">).is(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">":visible"</span></span></span><span class="javascript">)) options.skin=$(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#options-skin"</span></span></span><span class="javascript">).val(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">if</span></span></span><span class="javascript">($(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#options-notation"</span></span></span><span class="javascript">).is(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">":visible"</span></span></span><span class="javascript">)) options.notation=$(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#options-notation-input"</span></span></span><span class="javascript">).prop(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"checked"</span></span></span><span class="javascript">); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">if</span></span></span><span class="javascript">($(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#options-moves"</span></span></span><span class="javascript">).is(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">":visible"</span></span></span><span class="javascript">)) options.moves=$(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#options-moves-input"</span></span></span><span class="javascript">).prop(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"checked"</span></span></span><span class="javascript">); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">if</span></span></span><span class="javascript">($(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#options-autocomplete"</span></span></span><span class="javascript">).is(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">":visible"</span></span></span><span class="javascript">)) options.autocomplete=$(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#options-autocomplete-input"</span></span></span><span class="javascript">).prop(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"checked"</span></span></span><span class="javascript">); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">if</span></span></span><span class="javascript">($(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#options-sounds"</span></span></span><span class="javascript">).is(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">":visible"</span></span></span><span class="javascript">)) options.sounds=$(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#options-sounds-input"</span></span></span><span class="javascript">).prop(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"checked"</span></span></span><span class="javascript">); $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#applet"</span></span></span><span class="javascript">).jocly(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"viewOptions"</span></span></span><span class="javascript">,options); }); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> defaultLevel=</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">; $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#mode-panel"</span></span></span><span class="javascript">).joclyListener(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"listen"</span></span></span><span class="javascript">,</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"players"</span></span></span><span class="javascript">,</span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">message</span></span></span></span><span class="javascript"><span class="hljs-function">) </span></span></span><span class="javascript">{ </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">console</span></span></span><span class="javascript">.warn(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"players"</span></span></span><span class="javascript">,message); </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-function"><span class="hljs-title">UpdatePlayer</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">player,key,levels</span></span></span></span><span class="javascript"><span class="hljs-function">) </span></span></span><span class="javascript">{ </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">if</span></span></span><span class="javascript">(player.type==</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"computer"</span></span></span><span class="javascript">) { </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> select=$(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#select-level-"</span></span></span><span class="javascript">+key); select.empty(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">for</span></span></span><span class="javascript">(</span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> i=</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">;i&lt;levels.length;i++) $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"&lt;option/&gt;"</span></span></span><span class="javascript">).attr(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"value"</span></span></span><span class="javascript">,i).text(levels[i].label).appendTo(select); select.val(player.level); $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#level-"</span></span></span><span class="javascript">+key).show(); } </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">else</span></span></span><span class="javascript"> $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#level-"</span></span></span><span class="javascript">+key).hide(); } UpdatePlayer(message.players[</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">1</span></span></span><span class="javascript">],</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'a'</span></span></span><span class="javascript">,message.levels); UpdatePlayer(message.players[</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">-1</span></span></span><span class="javascript">],</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'b'</span></span></span><span class="javascript">,message.levels); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> modeSelect=$(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#mode"</span></span></span><span class="javascript">); modeSelect.show(); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">if</span></span></span><span class="javascript">(message.players[</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">1</span></span></span><span class="javascript">].type==</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"self"</span></span></span><span class="javascript"> &amp;&amp; message.players[</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">-1</span></span></span><span class="javascript">].type==</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"self"</span></span></span><span class="javascript">) modeSelect.val(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"self-self"</span></span></span><span class="javascript">); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">else</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">if</span></span></span><span class="javascript">(message.players[</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">1</span></span></span><span class="javascript">].type==</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"self"</span></span></span><span class="javascript"> &amp;&amp; message.players[</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">-1</span></span></span><span class="javascript">].type==</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"computer"</span></span></span><span class="javascript">) modeSelect.val(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"self-comp"</span></span></span><span class="javascript">); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">else</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">if</span></span></span><span class="javascript">(message.players[</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">1</span></span></span><span class="javascript">].type==</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"computer"</span></span></span><span class="javascript"> &amp;&amp; message.players[</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">-1</span></span></span><span class="javascript">].type==</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"self"</span></span></span><span class="javascript">) modeSelect.val(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"comp-self"</span></span></span><span class="javascript">); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">else</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">if</span></span></span><span class="javascript">(message.players[</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">1</span></span></span><span class="javascript">].type==</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"computer"</span></span></span><span class="javascript"> &amp;&amp; message.players[</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">-1</span></span></span><span class="javascript">].type==</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"computer"</span></span></span><span class="javascript">) modeSelect.val(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"comp-comp"</span></span></span><span class="javascript">); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">else</span></span></span><span class="javascript"> modeSelect.hide(); message.levels.forEach(</span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">level,index</span></span></span></span><span class="javascript"><span class="hljs-function">) </span></span></span><span class="javascript">{ </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">if</span></span></span><span class="javascript">(level.isDefault) defaultLevel=index; }); $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#mode-panel"</span></span></span><span class="javascript">).show(); }); $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#mode-panel"</span></span></span><span class="javascript">).on(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"change"</span></span></span><span class="javascript">,</span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">console</span></span></span><span class="javascript">.log(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"changed mode"</span></span></span><span class="javascript">,$(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#mode"</span></span></span><span class="javascript">).val(),$(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#select-level-a"</span></span></span><span class="javascript">).val(),$(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#select-level-b"</span></span></span><span class="javascript">).val()); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> players; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">switch</span></span></span><span class="javascript">($(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#mode"</span></span></span><span class="javascript">).val()) { </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">case</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"self-self"</span></span></span><span class="javascript">: players={</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"1"</span></span></span><span class="javascript">:{</span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">type</span></span></span><span class="javascript">:</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"self"</span></span></span><span class="javascript">},</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"-1"</span></span></span><span class="javascript">:{</span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">type</span></span></span><span class="javascript">:</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"self"</span></span></span><span class="javascript">}}; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">break</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">case</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"self-comp"</span></span></span><span class="javascript">: players={</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"1"</span></span></span><span class="javascript">:{</span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">type</span></span></span><span class="javascript">:</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"self"</span></span></span><span class="javascript">},</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"-1"</span></span></span><span class="javascript">:{</span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">type</span></span></span><span class="javascript">:</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"computer"</span></span></span><span class="javascript">,</span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">level</span></span></span><span class="javascript">:$(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#select-level-b"</span></span></span><span class="javascript">).val() || defaultLevel}}; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">break</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">case</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"comp-self"</span></span></span><span class="javascript">: players={</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"1"</span></span></span><span class="javascript">:{</span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">type</span></span></span><span class="javascript">:</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"computer"</span></span></span><span class="javascript">,</span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">level</span></span></span><span class="javascript">:$(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#select-level-a"</span></span></span><span class="javascript">).val() || defaultLevel},</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"-1"</span></span></span><span class="javascript">:{</span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">type</span></span></span><span class="javascript">:</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"self"</span></span></span><span class="javascript">}}; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">break</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">case</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"comp-comp"</span></span></span><span class="javascript">: players={</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"1"</span></span></span><span class="javascript">:{</span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">type</span></span></span><span class="javascript">:</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"computer"</span></span></span><span class="javascript">,</span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">level</span></span></span><span class="javascript">:$(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#select-level-a"</span></span></span><span class="javascript">).val() || defaultLevel}, </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"-1"</span></span></span><span class="javascript">:{</span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">type</span></span></span><span class="javascript">:</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"computer"</span></span></span><span class="javascript">,</span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">level</span></span></span><span class="javascript">:$(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#select-level-b"</span></span></span><span class="javascript">).val() || defaultLevel}}; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">break</span></span></span><span class="javascript">; } $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#applet"</span></span></span><span class="javascript">).jocly(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"setPlayers"</span></span></span><span class="javascript">,players); }); $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#restart"</span></span></span><span class="javascript">).on(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"click"</span></span></span><span class="javascript">,</span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#applet"</span></span></span><span class="javascript">).jocly(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"restartGame"</span></span></span><span class="javascript">); }); $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#takeback"</span></span></span><span class="javascript">).on(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"click"</span></span></span><span class="javascript">,</span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#applet"</span></span></span><span class="javascript">).jocly(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"takeBack"</span></span></span><span class="javascript">); }); $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#fullscreen"</span></span></span><span class="javascript">).on(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"click"</span></span></span><span class="javascript">,</span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"#applet"</span></span></span><span class="javascript">).joclyFullscreen(); }); }); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/css"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> * { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">box-sizing</span></span></span><span class="css">: border-box; } </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">body</span></span></span><span class="css"> { } </span><span class="hljs-selector-id"><span class="css"><span class="hljs-selector-id">#container</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">width</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">100%</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">display</span></span></span><span class="css">: table; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">table-layout</span></span></span><span class="css">: fixed; } </span><span class="hljs-selector-id"><span class="css"><span class="hljs-selector-id">#applet</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">display</span></span></span><span class="css">: table-cell; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">width</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">60%</span></span></span><span class="css">; } </span><span class="hljs-selector-id"><span class="css"><span class="hljs-selector-id">#controls</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">display</span></span></span><span class="css">: table-cell; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">width</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">33%</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">vertical-align</span></span></span><span class="css">: top; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">padding</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">0</span></span></span><span class="css"> .</span><span class="hljs-number"><span class="css"><span class="hljs-number">5em</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">0</span></span></span><span class="css"> .</span><span class="hljs-number"><span class="css"><span class="hljs-number">5em</span></span></span><span class="css">; } </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.box</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">background-color</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">#f0f0f0</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">border</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">2px</span></span></span><span class="css"> solid </span><span class="hljs-number"><span class="css"><span class="hljs-number">#e0e0e0</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">border-radius</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">1em</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">padding</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">1em</span></span></span><span class="css">; } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/jocly-model-view"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-jocly-game</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"draughts/custom-draughts"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!--     --&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"container"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"applet"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"controls"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"mode-panel"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display: none;"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"box"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span>Controls<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"restart"</span></span></span><span class="hljs-tag">&gt;</span></span>Restart game<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">/&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"takeback"</span></span></span><span class="hljs-tag">&gt;</span></span>Take back<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">/&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">select</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"mode"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"self-self"</span></span></span><span class="hljs-tag">&gt;</span></span>Self / Self<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"self-comp"</span></span></span><span class="hljs-tag">&gt;</span></span>Self / Computer<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"comp-self"</span></span></span><span class="hljs-tag">&gt;</span></span>Computer / Self<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"comp-comp"</span></span></span><span class="hljs-tag">&gt;</span></span>Computer / Computer<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">select</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">/&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"level-a"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"select-level-a"</span></span></span><span class="hljs-tag">&gt;</span></span>Computer(A) level<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">select</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"select-level-a"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">select</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">/&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"level-b"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"select-level-b"</span></span></span><span class="hljs-tag">&gt;</span></span>Computer(B) level<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">select</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"select-level-b"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">select</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">/&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"fullscreen"</span></span></span><span class="hljs-tag">&gt;</span></span>Full screen<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">/&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"options"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display: none;"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"box"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span>Options<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">select</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"options-skin"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">select</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">/&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"options-notation"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"options-notation-input"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"options-notation-input"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"checkbox"</span></span></span><span class="hljs-tag">/&gt;</span></span> Notation<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"options-moves"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"options-moves-input"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"options-moves-input"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"checkbox"</span></span></span><span class="hljs-tag">/&gt;</span></span> Show possible moves<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"options-autocomplete"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"options-autocomplete-input"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"options-autocomplete-input"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"checkbox"</span></span></span><span class="hljs-tag">/&gt;</span></span> Auto-complete moves<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"options-sounds"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"options-sounds-input"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"options-sounds-input"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"checkbox"</span></span></span><span class="hljs-tag">/&gt;</span></span> Sounds<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br></div></div><br>  For a simple launch of the game, it would be possible to get by with the minimal html file described in <a href="http://wiki.jocly.com/index.php/Embed_a_game">this</a> manual, but it will be much more convenient to work with its <a href="https://github.com/mi-g/jquery-jocly/blob/master/dev-stub.html">fuller</a> version.  Now, you need to include in the html-file a <a href="http://wiki.jocly.com/index.php/Jocly_Basics">JSON-description of the</a> game.  There is a subtle point.  Our version of the game will be called ‚Äúcustom-drafts‚Äù (now, this name appears twice in the file).  We can take the game description from the Jocly Inspector text field entirely, but if we change only a part of the files, this may be redundant.  It is enough to describe only the part of the model in which we have made changes, Jocly will take the rest from his site, but in order for this to work, the name must be composed as follows: " <b>drafts</b> / custom-drafts".  The part of the name before the slash is the name of a kind of ‚Äúparental‚Äù game, from which all the missing will be taken.  Again, this part of the name is <b>not needed</b> if the full JSON description is used. <br><br><div class="spoiler">  <b class="spoiler_title">Here is all we need</b> <div class="spoiler_text"><pre> <code class="html hljs xml"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/jocly-model-view"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-jocly-game</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"draughts/custom-draughts"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> { </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"view"</span></span></span><span class="actionscript">: { </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"js"</span></span></span><span class="actionscript">: [ </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"checkers-xd-view.js"</span></span></span><span class="actionscript">, </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"draughts8-xd-view.js"</span></span></span><span class="actionscript"> ] }, </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"model"</span></span></span><span class="actionscript">: { </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"js"</span></span></span><span class="actionscript">: [ </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"checkersbase-custom-model.js"</span></span></span><span class="actionscript">, </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"draughts-model.js"</span></span></span><span class="actionscript"> ], </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"gameOptions"</span></span></span><span class="actionscript">: { </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"preventRepeat"</span></span></span><span class="actionscript">: </span><span class="hljs-literal"><span class="actionscript"><span class="hljs-literal">true</span></span></span><span class="actionscript">, </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"width"</span></span></span><span class="actionscript">: </span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">4</span></span></span><span class="actionscript">, </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"height"</span></span></span><span class="actionscript">: </span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">8</span></span></span><span class="actionscript">, </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"initial"</span></span></span><span class="actionscript">: { </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"a"</span></span></span><span class="actionscript">: [[</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">0</span></span></span><span class="actionscript">,</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">0</span></span></span><span class="actionscript">],[</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">0</span></span></span><span class="actionscript">,</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">1</span></span></span><span class="actionscript">],[</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">0</span></span></span><span class="actionscript">,</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">2</span></span></span><span class="actionscript">],[</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">0</span></span></span><span class="actionscript">,</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">3</span></span></span><span class="actionscript">],[</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">1</span></span></span><span class="actionscript">,</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">0</span></span></span><span class="actionscript">],[</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">1</span></span></span><span class="actionscript">,</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">1</span></span></span><span class="actionscript">],[</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">1</span></span></span><span class="actionscript">,</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">2</span></span></span><span class="actionscript">],[</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">1</span></span></span><span class="actionscript">,</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">3</span></span></span><span class="actionscript">],[</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">2</span></span></span><span class="actionscript">,</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">0</span></span></span><span class="actionscript">],[</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">2</span></span></span><span class="actionscript">,</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">1</span></span></span><span class="actionscript">],[</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">2</span></span></span><span class="actionscript">,</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">2</span></span></span><span class="actionscript">],[</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">2</span></span></span><span class="actionscript">,</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">3</span></span></span><span class="actionscript">]], </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"b"</span></span></span><span class="actionscript">: [[</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">7</span></span></span><span class="actionscript">,</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">0</span></span></span><span class="actionscript">],[</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">7</span></span></span><span class="actionscript">,</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">1</span></span></span><span class="actionscript">],[</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">7</span></span></span><span class="actionscript">,</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">2</span></span></span><span class="actionscript">],[</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">7</span></span></span><span class="actionscript">,</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">3</span></span></span><span class="actionscript">],[</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">6</span></span></span><span class="actionscript">,</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">0</span></span></span><span class="actionscript">],[</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">6</span></span></span><span class="actionscript">,</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">1</span></span></span><span class="actionscript">],[</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">6</span></span></span><span class="actionscript">,</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">2</span></span></span><span class="actionscript">],[</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">6</span></span></span><span class="actionscript">,</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">3</span></span></span><span class="actionscript">],[</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">5</span></span></span><span class="actionscript">,</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">0</span></span></span><span class="actionscript">],[</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">5</span></span></span><span class="actionscript">,</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">1</span></span></span><span class="actionscript">],[</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">5</span></span></span><span class="actionscript">,</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">2</span></span></span><span class="actionscript">],[</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">5</span></span></span><span class="actionscript">,</span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">3</span></span></span><span class="actionscript">]] }, </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"variant"</span></span></span><span class="actionscript">: { </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"compulsoryCatch"</span></span></span><span class="actionscript">: </span><span class="hljs-literal"><span class="actionscript"><span class="hljs-literal">true</span></span></span><span class="actionscript">, </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"canStepBack"</span></span></span><span class="actionscript">: </span><span class="hljs-literal"><span class="actionscript"><span class="hljs-literal">false</span></span></span><span class="actionscript">, </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"mustMoveForward"</span></span></span><span class="actionscript">: </span><span class="hljs-literal"><span class="actionscript"><span class="hljs-literal">false</span></span></span><span class="actionscript">, </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"mustMoveForwardStrict"</span></span></span><span class="actionscript">: </span><span class="hljs-literal"><span class="actionscript"><span class="hljs-literal">true</span></span></span><span class="actionscript">, </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"lastRowFreeze"</span></span></span><span class="actionscript">: </span><span class="hljs-literal"><span class="actionscript"><span class="hljs-literal">false</span></span></span><span class="actionscript">, </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"lastRowCrown"</span></span></span><span class="actionscript">: </span><span class="hljs-literal"><span class="actionscript"><span class="hljs-literal">true</span></span></span><span class="actionscript">, </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"captureLongestLine"</span></span></span><span class="actionscript">: </span><span class="hljs-literal"><span class="actionscript"><span class="hljs-literal">true</span></span></span><span class="actionscript">, </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"kingCaptureShort"</span></span></span><span class="actionscript">: </span><span class="hljs-literal"><span class="actionscript"><span class="hljs-literal">false</span></span></span><span class="actionscript">, </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"canCaptureBackward"</span></span></span><span class="actionscript">: </span><span class="hljs-literal"><span class="actionscript"><span class="hljs-literal">true</span></span></span><span class="actionscript">, </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"longRangeKing"</span></span></span><span class="actionscript">: </span><span class="hljs-literal"><span class="actionscript"><span class="hljs-literal">true</span></span></span><span class="actionscript">, </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"captureInstantRemove"</span></span></span><span class="actionscript">: </span><span class="hljs-literal"><span class="actionscript"><span class="hljs-literal">false</span></span></span><span class="actionscript">, </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"lastRowFactor"</span></span></span><span class="actionscript">: </span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">0.001</span></span></span><span class="actionscript"> }, </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"uctTransposition"</span></span></span><span class="actionscript">: </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"state"</span></span></span><span class="actionscript"> } } } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/jocly-resources"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-jocly-game</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"custom-draughts"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> { </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"checkersbase-custom-model.js"</span></span></span><span class="actionscript">: </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"checkersbase-custom-model.js"</span></span></span><span class="actionscript"> } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br></div></div><br>  First of all, the description of the size of the board and the initial placement of the figures (the latter is not available in all Jocly games) is striking.  It is a bit difficult to get used to the fact that the board is described as 4x8 (the fields that are not used in diagonal checkers are not described by the model), and all the indexes for placing figures start from zero.  The following is a list of Boolean settings, sufficient (from the developers' point of view) to describe any checkered games.  We will fill it up.  It is not necessary to specify all the settings, I have compiled a complete list, solely for my convenience.  It is important to describe in the " <b>text / jocly-resources</b> " all the files that we will give from our server.  The file " <b>checkersbase-custom-model.js</b> " is the part of the model to which changes will be made.  Initially, it is just a copy of the " <b><a href="http://embed.jocly.net/jocly/plazza/file-access%3Fgame%3Ddraughts%26file%3Dcheckersbase-model.js">checkersbase-model.js</a></b> " file. <br><br>  It is time to think about what we will change.  What is the difference between Russian Checkers and Brazilian (available in the Jocly kit)?  In fact, just two "little things."  "Brazilian checkers" are played according to the rules of the "International" or "Polish Checkers", but on the board 8x8.  There is a ‚Äúmajority rule‚Äù in them: from two or more variants of capture, the player must choose the one in which he ‚Äúcuts down‚Äù the maximum number of opponent's checkers, regardless of their quality.  In the "Russian drafts" option must be disabled.  Everything is simple with this, the property is controlled by the boolean setting " <b>captureLongestLine</b> ". <br><br><div class="spoiler">  <b class="spoiler_title">By the way</b> <div class="spoiler_text">  It is interesting to see, as a rule, most implemented in checkers from Jocly.  If the compound move is considered as a whole, the task becomes trivial.  At the very end of the " <b>Model.Board._GenerateMoves</b> " method for generating moves, there is the following code fragment: <br><br><div class="spoiler">  <b class="spoiler_title">Selection from the list of generated moves</b> <div class="spoiler_text"><pre> <code class="javascript hljs">... if(aGame.g.captureLongestLine) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> moves0=<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.mMoves; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> moves1=[]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> bestLength=<span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> moves0) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> move=moves0[i]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(move.pos.length==bestLength) moves1.push(move); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(move.pos.length&gt;bestLength) { moves1=[move]; bestLength=move.pos.length; } } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.mMoves=moves1; } ...</code> </pre><br></div></div><br>  We have a list of moves (in a particular view) and from it it is necessary to choose only those moves that take the maximum number of pieces (as interpreted by Jocly - consist of the maximum number of steps).  In ZoG, with its concept of ‚Äúpartial‚Äù moves, we had to add the hardcode option " <b>maximal captures</b> " directly to the application in order to implement similar functionality. <br></div></div><br>  More complications arise with another rule: if a saber became a lady during a series of takes, after transformation she continues ‚Äúcutting‚Äù without stopping, already according to the rules of the woman.  In International, as well as Brazilian checkers, another rule applies: if the checker was on the last line in the series of takes and can beat further in the role of simple checkers, then it continues the fight and <b>does not turn</b> !  Find in the code the place where the transformation occurs: <br><br><div class="spoiler">  <b class="spoiler_title">This is the '' Model.Board.ApplyMove '' method</b> <div class="spoiler_text"><pre> <code class="diff hljs">Model.Board.ApplyMove = function(aGame,move) { + var pieceCrowned=false; var WIDTH=aGame.mOptions.width; var HEIGHT=aGame.mOptions.height; var pos0=move.pos[0]; var pIndex=this.board[pos0]; var piece=this.pieces[pIndex]; var player=piece.s; piece.l=pos0; var toBeRemoved={}; this.zSign=aGame.zobrist.update(this.zSign,"board",piece.s+"/"+piece.t,piece.p); for(var i=1;i&lt;move.pos.length;i++) { var pos=move.pos[i]; this.board[piece.p]=-1; piece.p=pos; + if (aGame.g.russianCustom==true) { + var r=aGame.g.Coord[pos][0]; + if((player==JocGame.PLAYER_A &amp;&amp; r==HEIGHT-1) || (player==JocGame.PLAYER_B &amp;&amp; r==0)) { + pieceCrowned=true; + } + } this.board[pos]=pIndex; var caught=move.capt[i]; if(caught!=null) { if(this.board[caught]&gt;=0) toBeRemoved[this.board[caught]]=true; this.board[caught]=-1; } pos0=pos; } this.zSign=aGame.zobrist.update(this.zSign,"board",piece.s+"/"+piece.t,pos); var plp=move.capt[move.capt.length-1] piece.plp=plp?plp:move.pos[move.pos.length-2]; for(var index in toBeRemoved) { var piece0=this.pieces[index]; var other=(1-piece0.s)/2; this.pCount[other]--; switch(piece0.t) { case 0: this.spCount[other]--; break; case 1: this.kpCount[other]--; break; } this.zSign=aGame.zobrist.update(this.zSign,"board",piece0.s+"/"+piece0.t,piece0.p); this.pieces[index]=null; } if(aGame.g.lastRowCrown &amp;&amp; this.pieces[pIndex].t==0) { var r=aGame.g.Coord[move.pos[move.pos.length-1]][0]; - if((player==JocGame.PLAYER_A &amp;&amp; r==HEIGHT-1) || (player==JocGame.PLAYER_B &amp;&amp; r==0)) { + if(pieceCrowned || (player==JocGame.PLAYER_A &amp;&amp; r==HEIGHT-1) || (player==JocGame.PLAYER_B &amp;&amp; r==0)) { var piece0=this.pieces[pIndex]; piece0.t=1; var self=(1-player)/2; this.spCount[self]--; this.kpCount[self]++; this.zSign=aGame.zobrist.update(this.zSign,"board",piece0.s+"/0",piece0.p); this.zSign=aGame.zobrist.update(this.zSign,"board",piece0.s+"/1",piece0.p); } } }</code> </pre><br></div></div><br>  You can see that the changes made, as well as the model of the board, moves, figures and other things, are far from intuitive.  Many additional actions are performed in the code (such as calculating the <a href="https://en.wikipedia.org/wiki/Zobrist_hashing">Zobrist Hash</a> ) and it‚Äôs not at all difficult to get lost.  This is not ZRF!  The essence of the changes is simple - we remember the <b>fact of</b> passing through the last horizontal (the first for black ones) and, if it took place, transform the figure as if at the end of the turn we were on the horizontal of transformation.  Let's see how everything works: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/uKYhr1YFe90" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  It seems to be all right.  We will not pay attention to the fact that the transformation occurs at the end of the course, and not in its process.  In the framework of the current implementation of the model, the transformation of the figure in the middle of the course is not the best idea (everything will break, I checked)!  But have we foreseen everything?  Slightly change the position: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/mHCBB7VVBLc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  Yes, this is what we were afraid of.  Having reached the last horizontal, the checker "does not know" that she has the right to "eat" like a lady!  Let's try to explain to her.  When making a move, it‚Äôs already a little late to make decisions about who is eating whom.  It is logical to look for the right place in the method of generating moves, namely in the function " <b>catchPieces</b> ".  In its last parameter is passed the flag " <b>king</b> ", showing that we are dealing with a woman.  Let's try to change it when passing the last horizontal: <br><br><div class="spoiler">  <b class="spoiler_title">I did not immediately think of this</b> <div class="spoiler_text"><pre> <code class="diff hljs">function catchPieces(pos,poss,capts,dirs,king) { while(true) { var nextPoss=[]; var nextCapts=[]; var nextDirs=[]; aGame.CheckersEachDirection(pos,function(pos0,dir) { var r; if(aGame.g.canCaptureBackward==false) r=aGame.g.Coord[pos][0]; var dir0=aGame.Checkers2WaysDirections[dir]; + if (aGame.g.russianCustom==true) { + if($this.board[pos0]&gt;=0 &amp;&amp; $this.pieces[$this.board[pos0]].s==-$this.mWho) { + var pp=aGame.g.Graph[pos0][dir]; + if (aGame.g.Coord[pp]) { + var rr=aGame.g.Coord[pp][0]; + var HEIGHT=aGame.mOptions.height; + if(($this.mWho==JocGame.PLAYER_A &amp;&amp; rr==HEIGHT-1) || + ($this.mWho==JocGame.PLAYER_B &amp;&amp; rr==0)) { + king=true; + } + } + } + } if(!king) { if($this.board[pos0]&gt;=0 &amp;&amp; $this.pieces[$this.board[pos0]].s==-$this.mWho) { var r0,forward; if(aGame.g.canCaptureBackward==false) { r0=aGame.g.Coord[pos0][0]; forward=false; if(($this.mWho==JocGame.PLAYER_A &amp;&amp; r0&gt;=r) || ($this.mWho==JocGame.PLAYER_B &amp;&amp; r0&lt;=r)) forward=true; } if(aGame.g.canCaptureBackward || forward==true) { var pos1=aGame.g.Graph[pos0][dir]; if(pos1!=null &amp;&amp; ($this.board[pos1]==-1 || pos1==poss[0])) { var keep=true; for(var i=0;i&lt;dirs.length;i++) if((aGame.g.captureInstantRemove &amp;&amp; capts[i]==pos0) || (aGame.g.captureInstantRemove==false &amp;&amp; capts[i]==pos0 &amp;&amp; dirs[i]==dir0)) { keep=false; break; } if(keep) { nextPoss.push(pos1); nextCapts.push(pos0); nextDirs.push(dir0); } } } } } else { // king if(aGame.g.longRangeKing) while($this.board[pos0]==-1 || (aGame.g.king180deg &amp;&amp; pos0!=null &amp;&amp; capts.indexOf(pos0)&gt;=0)) pos0=aGame.g.Graph[pos0][dir]; if(pos0!=null) { if($this.board[pos0]&gt;=0 &amp;&amp; $this.pieces[$this.board[pos0]].s==-$this.mWho) { var caught=pos0; pos0=aGame.g.Graph[pos0][dir]; if(aGame.g.kingCaptureShort) { if($this.board[pos0]==-1 || pos0==poss[0]) { var keep=true; for(var i=0;i&lt;dirs.length;i++) if(!aGame.g.king180deg) { if((aGame.g.captureInstantRemove &amp;&amp; capts[i]==caught) || (aGame.g.captureInstantRemove==false &amp;&amp; capts[i]==caught &amp;&amp; dirs[i]==dir0)) { keep=false; break; } } else if(capts[i]==caught) { keep=false; break; } if(keep) { nextPoss.push(pos0); nextCapts.push(caught); nextDirs.push(dir0); } pos0=aGame.g.Graph[pos0][dir]; } } else { while($this.board[pos0]==-1 || pos0==poss[0]) { var keep=true; for(var i=0;i&lt;dirs.length;i++) if((aGame.g.captureInstantRemove &amp;&amp; capts[i]==caught) || (aGame.g.captureInstantRemove==false &amp;&amp; capts[i]==caught &amp;&amp; dirs[i]==dir0)) { keep=false; break; } if(keep) { nextPoss.push(pos0); nextCapts.push(caught); nextDirs.push(dir0); } pos0=aGame.g.Graph[pos0][dir]; } } } } } return true; }); if(nextPoss.length==0) { if(poss.length&gt;1) $this.mMoves.push({ pos: poss, capt: capts }); break; } if(!aGame.g.compulsoryCatch &amp;&amp; poss.length&gt;1) { var poss1=[]; for(var i=0;i&lt;poss.length;i++) poss1.push(poss[i]); var capts1=[]; for(var i=0;i&lt;capts.length;i++) capts1.push(capts[i]); $this.mMoves.push({ pos: poss1, capt: capts1 }); } if(nextPoss.length==1) { pos=nextPoss[0]; poss.push(pos); capts.push(nextCapts[0]); dirs.push(nextDirs[0]); } else { for(var i=0;i&lt;nextPoss.length;i++) { var poss1=[]; for(var j=0;j&lt;poss.length;j++) poss1.push(poss[j]); poss1.push(nextPoss[i]); var capts1=[]; for(var j=0;j&lt;capts.length;j++) capts1.push(capts[j]); capts1.push(nextCapts[i]); var dirs1=[]; for(var j=0;j&lt;dirs.length;j++) dirs1.push(dirs[j]); dirs1.push(nextDirs[i]); catchPieces(nextPoss[i],poss1,capts1,dirs1,king); } break; } } }</code> </pre><br></div></div><br>  We are very lucky that the sign of the dam is passed as a parameter to the function.  The move generator performs a <b>tree</b> traversal <b>of</b> all possible composite moves.  If the character of the dam changed in the object of the figure, it would have to worry about rolling back the changes made in the model by the generator itself.  Otherwise, the program might behave <b>unpredictably</b> .  See how this is done in Axiom: <br><br><div class="spoiler">  <b class="spoiler_title">Custom engine</b> <div class="spoiler_text"><pre> <code class="hljs php">: Custom-Engine ( -- ) <span class="hljs-number"><span class="hljs-number">-10000</span></span> BestScore ! <span class="hljs-number"><span class="hljs-number">0</span></span> Nodes ! $FirstMove BEGIN $CloneBoard DUP $MoveString CurrentMove! DUP .moveCFA EXECUTE MaxDepth Depth ! <span class="hljs-number"><span class="hljs-number">0</span></span> EvalCount ! BestScore @ <span class="hljs-number"><span class="hljs-number">10000</span></span> turn-offset next-turn-offset Score <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> $RAND-WITHIN + BestScore @ OVER &lt; <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> DUP BestScore ! Score! <span class="hljs-number"><span class="hljs-number">0</span></span> Depth! DUP $MoveString BestMove! <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> DROP <span class="hljs-keyword"><span class="hljs-keyword">ENDIF</span></span> $DeallocateBoard Nodes ++ Nodes @ Nodes! $Yield $NextMove DUP NOT UNTIL DROP ;</code> </pre><br></div></div><br>  Here, we copy the contents of the board into a temporary array (by calling <b>$ CloneBoard</b> ), then we select the ‚Äúbest‚Äù move, and then we delete the temporary state of the board ( <b>$ DeallocateBoard</b> ).  And so - for each viewing level!  Anyway, now everything works as it was intended: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/vW8jOS-Li60" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  Do not think that this is all over.  In Jocly there is still something to break your head!  See if you can say what's wrong with this Turkish Drafts video game? <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/w5FQPGAdKbY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br><div class="spoiler">  <b class="spoiler_title">Answer</b> <div class="spoiler_text">  This is a slightly confusing topic.  In the majority of modern variants of checkers, the rule of " <a href="https://ru.wikipedia.org/wiki/%25D0%25A2%25D1%2583%25D1%2580%25D0%25B5%25D1%2586%25D0%25BA%25D0%25B8%25D0%25B9_%25D1%2583%25D0%25B4%25D0%25B0%25D1%2580">Turkish strike</a> " is valid: in the process of complex taking, the enemy figures are not removed from the board immediately, but are only marked as taken.  They are all taken immediately, at the end of the turn.  This rule applies almost everywhere, except ... " <a href="https://ru.wikipedia.org/wiki/%25D0%25A2%25D1%2583%25D1%2580%25D0%25B5%25D1%2586%25D0%25BA%25D0%25B8%25D0%25B5_%25D1%2588%25D0%25B0%25D1%2588%25D0%25BA%25D0%25B8">Turkish drafts</a> "!  In "Turkish checkers", the lady is a formidable force.  Performing a take, she ‚Äúclears‚Äù her place for the subsequent moves.  Only one lady <b>can</b> eat the entire army of the enemy in one move! <br><br>  Judging by the video, in Jocly it is not.  At the last step, it is clear that the lady cannot choose a longer chain of takes, since she is hampered by a previously taken piece that was not removed from the board.  People far from board games may consider this circumstance unimportant, but none of the serious players will ever play Turkish Checkers by such rules!  So far, I do not know how to fix it.  The required fix is ‚Äã‚Äãmore complicated than the customization described in this article.  By making changes to the move generator, you can make the daisy ‚Äúnot see‚Äù the previously taken checkers, but, in addition, it is necessary to ensure that the lady can stop in the fields occupied by the checkers, including the possibility of completing the move in such a field.  It is difficult and I am not ready to do it now, but maybe someone from the readers will offer a working solution? <br></div></div><br>  We met with another interesting "engine" for the development of abstract board games.  It has its limitations and the development process in it is not simple.  But he has his own, completely deadly set of killer features!  It is open, cross-platform, Web-oriented and, most importantly, it is still supported by developers!  The project lives!  Join him, and maybe he will live much longer than the legendary Zillions of Games. <br></div><p>Source: <a href="https://habr.com/ru/post/280334/">https://habr.com/ru/post/280334/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../280322/index.html">Kernel tracing with ftrace</a></li>
<li><a href="../280326/index.html">ALM Robot, or moving to a new version of ALM is just</a></li>
<li><a href="../280328/index.html">Sort the queue without using additional resources</a></li>
<li><a href="../280330/index.html">Belgian security forces used WhatsApp because of the attacks</a></li>
<li><a href="../280332/index.html">Device Guard in Windows 10. Code Integrity Policy</a></li>
<li><a href="../280336/index.html">IBM has released a new generation of storage - Storwize v5000 Gen2</a></li>
<li><a href="../280338/index.html">Juniper Networks Routing, Switching and Security Solutions and Updates</a></li>
<li><a href="../280340/index.html">Investigating the performance issues of calling ClassLoader.getResourceAsStream</a></li>
<li><a href="../280344/index.html">Rules for working with Tasks API. Part 2</a></li>
<li><a href="../280346/index.html">Dive into Centrifugo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>