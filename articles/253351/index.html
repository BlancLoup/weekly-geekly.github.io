<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>An example of the implementation of calls to Asterisk CLI in PHP. Asterisk response structuring</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="There is a common misconception that the friendship between PHP and the Asterisk CLI is a crutch. Perhaps this is true, but sometimes, upon customer r...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>An example of the implementation of calls to Asterisk CLI in PHP. Asterisk response structuring</h1><div class="post__text post__text-html js-mediator-article">  There is a common misconception that the friendship between PHP and the Asterisk CLI is a crutch.  Perhaps this is true, but sometimes, upon customer request, for integration, for example, with a CRM system, it is necessary to associate with VOIP, and most often it is Asterisk. <br><br>  How to quickly and simply tie up several commands from the CLI, so much so that you can get ready-made arrays of data for transfer to the web application? <br><br>  In fact, everything is very simple.  A bit of routine work, a bit of logic and, voila. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      To get the data, we will use the documented Asterisk ability to access the CLI from outside. <br><a name="habracut"></a><br>  We read materiel: <br><br><div class="spoiler">  <b class="spoiler_title">asterisk -rx call to the CLI command from outside.</b> <div class="spoiler_text">  -r: Connect to the Asterisk server running in the background and access the CLI console <br>  -x: In combination with the -r option, executes the Asterisk CLI command <br><br>  Example: asterisk -rx "sip reload" - will restart sip. <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Disable color output in the console.</b> <div class="spoiler_text">  The asterisk has another useful key: <br>  -n: Disable ANSI color output support <br><br>  But just as I did not try to turn off the color output, it didn‚Äôt work out for me, I‚Äôd see crooked hands. <br></div></div><br>  To run the command, we will use two PHP functions, exec () and passthru (). <br><br><pre><code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">asterisk_cli_exec</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($a)</span></span></span><span class="hljs-function"> </span></span>{ exec(<span class="hljs-string"><span class="hljs-string">"asterisk -rx '$a'"</span></span>, $b); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $b; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">asterisk_cli_passthru</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($a)</span></span></span><span class="hljs-function"> </span></span>{ passthru(<span class="hljs-string"><span class="hljs-string">"asterisk -rx '$a'"</span></span>, $b); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $b; } <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre> <br><br><div class="spoiler">  <b class="spoiler_title">The result of running var_dump (asterisk_cli_exec (core show help manager)).</b> <div class="spoiler_text">  array (11) { <br>  [0] =&gt; <br>  string (63) "manager reload - Reload manager configuration" <br>  [1] =&gt; <br>  string (85) "manager set debug [on | off] - Show, enable, disable debugging of the manager code" <br>  [2] =&gt; <br>  string (66) "show command manager - Show a manager interface command" <br>  [3] =&gt; <br>  string (65) "manager show commands - List manager interface commands" <br>  [4] =&gt; <br>  string (72) "manager show connected - List connected manager interface users" <br>  [5] =&gt; <br>  string (70) "manager show eventq - List manager interface queued events" <br>  [6] =&gt; <br>  string (63) "manager show events - List manager interface events" <br>  [7] =&gt; <br>  string (64) "show event manager - Show a manager interface event" <br>  [8] =&gt; <br>  string (62) "manager show settings - Show manager global settings" <br>  [9] =&gt; <br>  string (63) "manager show users - List configured manager manager" <br>  [10] =&gt; <br>  string (80) "show user manager - Display information on a specific manager user" <br>  } <br></div></div><br><div class="spoiler">  <b class="spoiler_title">The result of the asterisk_cli_passthru (core show help manager).</b> <div class="spoiler_text">  manager reload - Reload manager configuration <br>  manager set debug [on | off] - Show, enable, disable debugging of the manager code <br>  show command manager - Show a manager interface command <br>  show manager commands - List manager interface commands <br>  manager show connected - List connected manager interface users <br>  manager show eventq - List manager interface queued events <br>  manager show events - List manager interface events <br>  show event manager - Show a manager interface event <br>  manager show settings - Show manager global settings <br>  show users manager - List configured manager users <br>  show user manager <br></div></div><br><br>  As a result, we got two functions that give us 2 different options for issuing information: <br><br>  exec () - as an array of strings; <br>  passthru () - direct output. <br><br>  The asterisk_cli_passthru () function can only be useful for creating your own CLI interface from a browser.  Basically, direct output is not required.  Web applications need arrays.  At this stage, we will immediately forget about this "treat", since it is already fully implemented, and nothing more is required for it. <br><br>  So go to the most interesting. <br><br>  The next step is to divide the teams into ‚Äúsimple‚Äù and ‚Äúcomplex‚Äù.  Simple commands are those that do not output an associative array of data in their output. <br><br><div class="spoiler">  <b class="spoiler_title">Simple commands</b> <div class="spoiler_text"><div class="spoiler">  <b class="spoiler_title">manager reload</b> <div class="spoiler_text">  array (0) { <br>  } <br></div></div><br><div class="spoiler">  <b class="spoiler_title">manager set debug</b> <div class="spoiler_text">  array (1) { <br>  [0] =&gt; <br>  string (20) "manager debug is off" <br>  } <br></div></div><br><div class="spoiler">  <b class="spoiler_title">manager show command WaitEvent</b> <div class="spoiler_text"><pre> <code class="php hljs">[Syntax] Action: WaitEvent [ActionID:] &lt;value&gt; Timeout: &lt;value&gt; [Synopsis] Wait <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> an event to occur. [Description] This action will ellicit a <span class="hljs-string"><span class="hljs-string">'Success'</span></span> response. Whenever a manager event is queued. Once WaitEvent has been called on an HTTP manager session, events will be generated <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> queued. [Arguments] ActionID ActionID <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> this transaction. Will be returned. Timeout Maximum time (in seconds) to wait <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> events, <span class="hljs-string"><span class="hljs-string">'-1'</span></span> means forever</code> </pre></div></div><br><div class="spoiler">  <b class="spoiler_title">manager show event Status</b> <div class="spoiler_text"><pre> <code class="php hljs">Event: Status [Synopsis] Raised in response to a Status command. [Syntax] Event: Status [ActionID:] &lt;value&gt; Type: &lt;value&gt; DNID: &lt;value&gt; TimeToHangup: &lt;value&gt; BridgeID: &lt;value&gt; Linkedid: &lt;value&gt; Application: &lt;value&gt; Data: &lt;value&gt; Nativeformats: &lt;value&gt; Readformat: &lt;value&gt; Readtrans: &lt;value&gt; Writeformat: &lt;value&gt; Writetrans: &lt;value&gt; Callgroup: &lt;value&gt; Pickupgroup: &lt;value&gt; Seconds: &lt;value&gt;</code> </pre><br></div></div><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Difficult teams</b> <div class="spoiler_text"><div class="spoiler">  <b class="spoiler_title">manager show commands</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-number"><span class="hljs-number">137</span></span>) { [<span class="hljs-number"><span class="hljs-number">0</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">42</span></span>) <span class="hljs-string"><span class="hljs-string">" Action Synopsis"</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">42</span></span>) <span class="hljs-string"><span class="hljs-string">" ------ --------"</span></span> [<span class="hljs-number"><span class="hljs-number">2</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">61</span></span>) <span class="hljs-string"><span class="hljs-string">" WaitEvent Wait for an event to occur."</span></span> [<span class="hljs-number"><span class="hljs-number">3</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">71</span></span>) <span class="hljs-string"><span class="hljs-string">" DeviceStateList List the current known device states."</span></span> [<span class="hljs-number"><span class="hljs-number">4</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">73</span></span>) <span class="hljs-string"><span class="hljs-string">" PresenceStateList List the current known presence states."</span></span> [<span class="hljs-number"><span class="hljs-number">5</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">57</span></span>) <span class="hljs-string"><span class="hljs-string">" QueueReset Reset queue statistics."</span></span> [<span class="hljs-number"><span class="hljs-number">6</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">79</span></span>) <span class="hljs-string"><span class="hljs-string">" QueueReload Reload a queue, queues, or any sub-section of"</span></span> [<span class="hljs-number"><span class="hljs-number">7</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">46</span></span>) <span class="hljs-string"><span class="hljs-string">" QueueRule Queue Rules."</span></span> [<span class="hljs-number"><span class="hljs-number">8</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">77</span></span>) <span class="hljs-string"><span class="hljs-string">" QueueMemberRingInUse Set the ringinuse value for a queue member."</span></span> [<span class="hljs-number"><span class="hljs-number">9</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">69</span></span>) <span class="hljs-string"><span class="hljs-string">" QueuePenalty Set the penalty for a queue member."</span></span> [<span class="hljs-number"><span class="hljs-number">10</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">65</span></span>) <span class="hljs-string"><span class="hljs-string">" QueueLog Adds custom entry in queue_log."</span></span> [<span class="hljs-number"><span class="hljs-number">11</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">79</span></span>) <span class="hljs-string"><span class="hljs-string">" QueuePause Makes a queue member temporarily unavailable."</span></span> [<span class="hljs-number"><span class="hljs-number">12</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">62</span></span>) <span class="hljs-string"><span class="hljs-string">" QueueRemove Remove interface from queue."</span></span> [<span class="hljs-number"><span class="hljs-number">13</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">57</span></span>) <span class="hljs-string"><span class="hljs-string">" QueueAdd Add interface to queue."</span></span> [<span class="hljs-number"><span class="hljs-number">14</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">53</span></span>) <span class="hljs-string"><span class="hljs-string">" QueueSummary Show queue summary."</span></span> [<span class="hljs-number"><span class="hljs-number">15</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">52</span></span>) <span class="hljs-string"><span class="hljs-string">" QueueStatus Show queue status."</span></span> [<span class="hljs-number"><span class="hljs-number">16</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">41</span></span>) <span class="hljs-string"><span class="hljs-string">" Queues Queues."</span></span> [<span class="hljs-number"><span class="hljs-number">17</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">80</span></span>) <span class="hljs-string"><span class="hljs-string">" ControlPlayback Control the playback of a file being played to"</span></span> [<span class="hljs-number"><span class="hljs-number">18</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">79</span></span>) <span class="hljs-string"><span class="hljs-string">" StopMixMonitor Stop recording a call through MixMonitor, and"</span></span> [<span class="hljs-number"><span class="hljs-number">19</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">80</span></span>) <span class="hljs-string"><span class="hljs-string">" MixMonitor Record a call and mix the audio during the rec"</span></span> [<span class="hljs-number"><span class="hljs-number">20</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">71</span></span>) <span class="hljs-string"><span class="hljs-string">" MixMonitorMute Mute / unMute a Mixmonitor recording."</span></span> [<span class="hljs-number"><span class="hljs-number">21</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">78</span></span>) <span class="hljs-string"><span class="hljs-string">" VoicemailRefresh Tell Asterisk to poll mailboxes for a change"</span></span> [<span class="hljs-number"><span class="hljs-number">22</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">70</span></span>) <span class="hljs-string"><span class="hljs-string">" VoicemailUsersList List All Voicemail User Information."</span></span> [<span class="hljs-number"><span class="hljs-number">23</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">73</span></span>) <span class="hljs-string"><span class="hljs-string">" PlayDTMF Play DTMF signal on a specific channel."</span></span> [<span class="hljs-number"><span class="hljs-number">24</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">55</span></span>) <span class="hljs-string"><span class="hljs-string">" MuteAudio Mute an audio stream."</span></span> [<span class="hljs-number"><span class="hljs-number">25</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">80</span></span>) <span class="hljs-string"><span class="hljs-string">" ConfbridgeSetSingleVideoSrc Set a conference user as the single video sour"</span></span> [<span class="hljs-number"><span class="hljs-number">26</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">73</span></span>) <span class="hljs-string"><span class="hljs-string">" ConfbridgeStopRecord Stop recording a Confbridge conference."</span></span> [<span class="hljs-number"><span class="hljs-number">27</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">74</span></span>) <span class="hljs-string"><span class="hljs-string">" ConfbridgeStartRecord Start recording a Confbridge conference."</span></span> [<span class="hljs-number"><span class="hljs-number">28</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">63</span></span>) <span class="hljs-string"><span class="hljs-string">" ConfbridgeLock Lock a Confbridge conference."</span></span> [<span class="hljs-number"><span class="hljs-number">29</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">65</span></span>) <span class="hljs-string"><span class="hljs-string">" ConfbridgeUnlock Unlock a Confbridge conference."</span></span> [<span class="hljs-number"><span class="hljs-number">30</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">57</span></span>) <span class="hljs-string"><span class="hljs-string">" ConfbridgeKick Kick a Confbridge user."</span></span> [<span class="hljs-number"><span class="hljs-number">31</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">59</span></span>) <span class="hljs-string"><span class="hljs-string">" ConfbridgeUnmute Unmute a Confbridge user."</span></span> [<span class="hljs-number"><span class="hljs-number">32</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">57</span></span>) <span class="hljs-string"><span class="hljs-string">" ConfbridgeMute Mute a Confbridge user."</span></span> [<span class="hljs-number"><span class="hljs-number">33</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">58</span></span>) <span class="hljs-string"><span class="hljs-string">" ConfbridgeListRooms List active conferences."</span></span> [<span class="hljs-number"><span class="hljs-number">34</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">68</span></span>) <span class="hljs-string"><span class="hljs-string">" ConfbridgeList List participants in a conference."</span></span> [<span class="hljs-number"><span class="hljs-number">35</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">58</span></span>) <span class="hljs-string"><span class="hljs-string">" MeetmeListRooms List active conferences."</span></span> [<span class="hljs-number"><span class="hljs-number">36</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">68</span></span>) <span class="hljs-string"><span class="hljs-string">" MeetmeList List participants in a conference."</span></span> [<span class="hljs-number"><span class="hljs-number">37</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">55</span></span>) <span class="hljs-string"><span class="hljs-string">" MeetmeUnmute Unmute a Meetme user."</span></span> [<span class="hljs-number"><span class="hljs-number">38</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">53</span></span>) <span class="hljs-string"><span class="hljs-string">" MeetmeMute Mute a Meetme user."</span></span> [<span class="hljs-number"><span class="hljs-number">39</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">80</span></span>) <span class="hljs-string"><span class="hljs-string">" PJSIPNotify Send a NOTIFY to either an endpoint or an arbi"</span></span> [<span class="hljs-number"><span class="hljs-number">40</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">69</span></span>) <span class="hljs-string"><span class="hljs-string">" PJSIPShowRegistrationsOutbound Lists PJSIP outbound registrations."</span></span> [<span class="hljs-number"><span class="hljs-number">41</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">70</span></span>) <span class="hljs-string"><span class="hljs-string">" PJSIPUnregister Unregister an outbound registration."</span></span> [<span class="hljs-number"><span class="hljs-number">42</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">68</span></span>) <span class="hljs-string"><span class="hljs-string">" PJSIPShowRegistrationsInbound Lists PJSIP inbound registrations."</span></span> [<span class="hljs-number"><span class="hljs-number">43</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">77</span></span>) <span class="hljs-string"><span class="hljs-string">" PRIDebugFileUnset Disables file output for PRI debug messages"</span></span> [<span class="hljs-number"><span class="hljs-number">44</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">80</span></span>) <span class="hljs-string"><span class="hljs-string">" PRIDebugFileSet Set the file used for PRI debug message output"</span></span> [<span class="hljs-number"><span class="hljs-number">45</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">65</span></span>) <span class="hljs-string"><span class="hljs-string">" PRIDebugSet Set PRI debug levels for a span"</span></span> [<span class="hljs-number"><span class="hljs-number">46</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">59</span></span>) <span class="hljs-string"><span class="hljs-string">" PRIShowSpans Show status of PRI spans."</span></span> [<span class="hljs-number"><span class="hljs-number">47</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">80</span></span>) <span class="hljs-string"><span class="hljs-string">" DAHDIRestart Fully Restart DAHDI channels (terminates calls"</span></span> [<span class="hljs-number"><span class="hljs-number">48</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">64</span></span>) <span class="hljs-string"><span class="hljs-string">" DAHDIShowChannels Show status of DAHDI channels."</span></span> [<span class="hljs-number"><span class="hljs-number">49</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">80</span></span>) <span class="hljs-string"><span class="hljs-string">" DAHDIDNDoff Toggle DAHDI channel Do Not Disturb status OFF"</span></span> [<span class="hljs-number"><span class="hljs-number">50</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">80</span></span>) <span class="hljs-string"><span class="hljs-string">" DAHDIDNDon Toggle DAHDI channel Do Not Disturb status ON."</span></span> [<span class="hljs-number"><span class="hljs-number">51</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">72</span></span>) <span class="hljs-string"><span class="hljs-string">" DAHDIDialOffhook Dial over DAHDI channel while offhook."</span></span> [<span class="hljs-number"><span class="hljs-number">52</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">55</span></span>) <span class="hljs-string"><span class="hljs-string">" DAHDIHangup Hangup DAHDI Channel."</span></span> [<span class="hljs-number"><span class="hljs-number">53</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">57</span></span>) <span class="hljs-string"><span class="hljs-string">" DAHDITransfer Transfer DAHDI Channel."</span></span> [<span class="hljs-number"><span class="hljs-number">54</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">80</span></span>) <span class="hljs-string"><span class="hljs-string">" SIPpeerstatus Show the status of one or all of the sip peers"</span></span> [<span class="hljs-number"><span class="hljs-number">55</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">52</span></span>) <span class="hljs-string"><span class="hljs-string">" SIPnotify Send a SIP notify."</span></span> [<span class="hljs-number"><span class="hljs-number">56</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">71</span></span>) <span class="hljs-string"><span class="hljs-string">" SIPshowregistry Show SIP registrations (text format)."</span></span> [<span class="hljs-number"><span class="hljs-number">57</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">52</span></span>) <span class="hljs-string"><span class="hljs-string">" SIPqualifypeer Qualify SIP peers."</span></span> [<span class="hljs-number"><span class="hljs-number">58</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">62</span></span>) <span class="hljs-string"><span class="hljs-string">" SIPshowpeer show SIP peer (text format)."</span></span> [<span class="hljs-number"><span class="hljs-number">59</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">63</span></span>) <span class="hljs-string"><span class="hljs-string">" SIPpeers List SIP peers (text format)."</span></span> [<span class="hljs-number"><span class="hljs-number">60</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">57</span></span>) <span class="hljs-string"><span class="hljs-string">" IAXregistry Show IAX registrations."</span></span> [<span class="hljs-number"><span class="hljs-number">61</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">52</span></span>) <span class="hljs-string"><span class="hljs-string">" IAXnetstats Show IAX Netstats."</span></span> [<span class="hljs-number"><span class="hljs-number">62</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">49</span></span>) <span class="hljs-string"><span class="hljs-string">" IAXpeerlist List IAX Peers."</span></span> [<span class="hljs-number"><span class="hljs-number">63</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">49</span></span>) <span class="hljs-string"><span class="hljs-string">" IAXpeers List IAX peers."</span></span> [<span class="hljs-number"><span class="hljs-number">64</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">49</span></span>) <span class="hljs-string"><span class="hljs-string">" Park Park a channel."</span></span> [<span class="hljs-number"><span class="hljs-number">65</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">52</span></span>) <span class="hljs-string"><span class="hljs-string">" ParkedCalls List parked calls."</span></span> [<span class="hljs-number"><span class="hljs-number">66</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">60</span></span>) <span class="hljs-string"><span class="hljs-string">" Parkinglots Get a list of parking lots"</span></span> [<span class="hljs-number"><span class="hljs-number">67</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">77</span></span>) <span class="hljs-string"><span class="hljs-string">" AGI Add an AGI command to execute by Async AGI."</span></span> [<span class="hljs-number"><span class="hljs-number">68</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">62</span></span>) <span class="hljs-string"><span class="hljs-string">" FAXStats Responds with fax statistics"</span></span> [<span class="hljs-number"><span class="hljs-number">69</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">80</span></span>) <span class="hljs-string"><span class="hljs-string">" FAXSession Responds with a detailed description of a sing"</span></span> [<span class="hljs-number"><span class="hljs-number">70</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">59</span></span>) <span class="hljs-string"><span class="hljs-string">" FAXSessions Lists active FAX sessions"</span></span> [<span class="hljs-number"><span class="hljs-number">71</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">80</span></span>) <span class="hljs-string"><span class="hljs-string">" PJSIPShowResourceLists Displays settings for configured resource list"</span></span> [<span class="hljs-number"><span class="hljs-number">72</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">54</span></span>) <span class="hljs-string"><span class="hljs-string">" PJSIPShowSubscriptionsOutbound Lists subscriptions."</span></span> [<span class="hljs-number"><span class="hljs-number">73</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">54</span></span>) <span class="hljs-string"><span class="hljs-string">" PJSIPShowSubscriptionsInbound Lists subscriptions."</span></span> [<span class="hljs-number"><span class="hljs-number">74</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">66</span></span>) <span class="hljs-string"><span class="hljs-string">" UnpauseMonitor Unpause monitoring of a channel."</span></span> [<span class="hljs-number"><span class="hljs-number">75</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">64</span></span>) <span class="hljs-string"><span class="hljs-string">" PauseMonitor Pause monitoring of a channel."</span></span> [<span class="hljs-number"><span class="hljs-number">76</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">74</span></span>) <span class="hljs-string"><span class="hljs-string">" ChangeMonitor Change monitoring filename of a channel."</span></span> [<span class="hljs-number"><span class="hljs-number">77</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">60</span></span>) <span class="hljs-string"><span class="hljs-string">" StopMonitor Stop monitoring a channel."</span></span> [<span class="hljs-number"><span class="hljs-number">78</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">52</span></span>) <span class="hljs-string"><span class="hljs-string">" Monitor Monitor a channel."</span></span> [<span class="hljs-number"><span class="hljs-number">79</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">64</span></span>) <span class="hljs-string"><span class="hljs-string">" PJSIPQualify Qualify a chan_pjsip endpoint."</span></span> [<span class="hljs-number"><span class="hljs-number">80</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">80</span></span>) <span class="hljs-string"><span class="hljs-string">" PJSIPShowEndpoint Detail listing of an endpoint and its objects."</span></span> [<span class="hljs-number"><span class="hljs-number">81</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">56</span></span>) <span class="hljs-string"><span class="hljs-string">" PJSIPShowEndpoints Lists PJSIP endpoints."</span></span> [<span class="hljs-number"><span class="hljs-number">82</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">63</span></span>) <span class="hljs-string"><span class="hljs-string">" BridgeKick Kick a channel from a bridge."</span></span> [<span class="hljs-number"><span class="hljs-number">83</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">51</span></span>) <span class="hljs-string"><span class="hljs-string">" BridgeDestroy Destroy a bridge."</span></span> [<span class="hljs-number"><span class="hljs-number">84</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">65</span></span>) <span class="hljs-string"><span class="hljs-string">" BridgeInfo Get information about a bridge."</span></span> [<span class="hljs-number"><span class="hljs-number">85</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">70</span></span>) <span class="hljs-string"><span class="hljs-string">" BridgeList Get a list of bridges in the system."</span></span> [<span class="hljs-number"><span class="hljs-number">86</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">80</span></span>) <span class="hljs-string"><span class="hljs-string">" BlindTransfer Blind transfer channel(s) to the given destina"</span></span> [<span class="hljs-number"><span class="hljs-number">87</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">80</span></span>) <span class="hljs-string"><span class="hljs-string">" Filter Dynamically add filters for the current manage"</span></span> [<span class="hljs-number"><span class="hljs-number">88</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">80</span></span>) <span class="hljs-string"><span class="hljs-string">" AOCMessage Generate an Advice of Charge message on a chan"</span></span> [<span class="hljs-number"><span class="hljs-number">89</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">60</span></span>) <span class="hljs-string"><span class="hljs-string">" ModuleCheck Check if module is loaded."</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">52</span></span>) <span class="hljs-string"><span class="hljs-string">" ModuleLoad Module management."</span></span> [<span class="hljs-number"><span class="hljs-number">91</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">65</span></span>) <span class="hljs-string"><span class="hljs-string">" CoreShowChannels List currently active channels."</span></span> [<span class="hljs-number"><span class="hljs-number">92</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">72</span></span>) <span class="hljs-string"><span class="hljs-string">" LoggerRotate Reload and rotate the Asterisk logger."</span></span> [<span class="hljs-number"><span class="hljs-number">93</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">54</span></span>) <span class="hljs-string"><span class="hljs-string">" Reload Send a reload event."</span></span> [<span class="hljs-number"><span class="hljs-number">94</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">65</span></span>) <span class="hljs-string"><span class="hljs-string">" CoreStatus Show PBX core status variables."</span></span> [<span class="hljs-number"><span class="hljs-number">95</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">71</span></span>) <span class="hljs-string"><span class="hljs-string">" CoreSettings Show PBX core settings (version etc)."</span></span> [<span class="hljs-number"><span class="hljs-number">96</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">58</span></span>) <span class="hljs-string"><span class="hljs-string">" UserEvent Send an arbitrary event."</span></span> [<span class="hljs-number"><span class="hljs-number">97</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">61</span></span>) <span class="hljs-string"><span class="hljs-string">" UpdateConfig Update basic configuration."</span></span> [<span class="hljs-number"><span class="hljs-number">98</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">63</span></span>) <span class="hljs-string"><span class="hljs-string">" SendText Send text message to channel."</span></span> [<span class="hljs-number"><span class="hljs-number">99</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">66</span></span>) <span class="hljs-string"><span class="hljs-string">" ListCommands List available manager commands."</span></span> [<span class="hljs-number"><span class="hljs-number">100</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">62</span></span>) <span class="hljs-string"><span class="hljs-string">" MailboxCount Check Mailbox Message Count."</span></span> [<span class="hljs-number"><span class="hljs-number">101</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">48</span></span>) <span class="hljs-string"><span class="hljs-string">" MailboxStatus Check mailbox."</span></span> [<span class="hljs-number"><span class="hljs-number">102</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">55</span></span>) <span class="hljs-string"><span class="hljs-string">" AbsoluteTimeout Set absolute timeout."</span></span> [<span class="hljs-number"><span class="hljs-number">103</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">54</span></span>) <span class="hljs-string"><span class="hljs-string">" PresenceState Check Presence State"</span></span> [<span class="hljs-number"><span class="hljs-number">104</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">57</span></span>) <span class="hljs-string"><span class="hljs-string">" ExtensionState Check Extension Status."</span></span> [<span class="hljs-number"><span class="hljs-number">105</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">63</span></span>) <span class="hljs-string"><span class="hljs-string">" Command Execute Asterisk CLI Command."</span></span> [<span class="hljs-number"><span class="hljs-number">106</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">51</span></span>) <span class="hljs-string"><span class="hljs-string">" Originate Originate a call."</span></span> [<span class="hljs-number"><span class="hljs-number">107</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">52</span></span>) <span class="hljs-string"><span class="hljs-string">" Atxfer Attended transfer."</span></span> [<span class="hljs-number"><span class="hljs-number">108</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">61</span></span>) <span class="hljs-string"><span class="hljs-string">" Redirect Redirect (transfer) a call."</span></span> [<span class="hljs-number"><span class="hljs-number">109</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">72</span></span>) <span class="hljs-string"><span class="hljs-string">" ListCategories List categories in configuration file."</span></span> [<span class="hljs-number"><span class="hljs-number">110</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">80</span></span>) <span class="hljs-string"><span class="hljs-string">" CreateConfig Creates an empty file in the configuration dir"</span></span> [<span class="hljs-number"><span class="hljs-number">111</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">54</span></span>) <span class="hljs-string"><span class="hljs-string">" Status List channel status."</span></span> [<span class="hljs-number"><span class="hljs-number">112</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">71</span></span>) <span class="hljs-string"><span class="hljs-string">" GetConfigJSON Retrieve configuration (JSON format)."</span></span> [<span class="hljs-number"><span class="hljs-number">113</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">57</span></span>) <span class="hljs-string"><span class="hljs-string">" GetConfig Retrieve configuration."</span></span> [<span class="hljs-number"><span class="hljs-number">114</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">76</span></span>) <span class="hljs-string"><span class="hljs-string">" Getvar Gets a channel variable or function value."</span></span> [<span class="hljs-number"><span class="hljs-number">115</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">76</span></span>) <span class="hljs-string"><span class="hljs-string">" Setvar Sets a channel variable or function value."</span></span> [<span class="hljs-number"><span class="hljs-number">116</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">71</span></span>) <span class="hljs-string"><span class="hljs-string">" ShowDialPlan Show dialplan contexts and extensions"</span></span> [<span class="hljs-number"><span class="hljs-number">117</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">49</span></span>) <span class="hljs-string"><span class="hljs-string">" Hangup Hangup channel."</span></span> [<span class="hljs-number"><span class="hljs-number">118</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">66</span></span>) <span class="hljs-string"><span class="hljs-string">" Challenge Generate Challenge for MD5 Auth."</span></span> [<span class="hljs-number"><span class="hljs-number">119</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">48</span></span>) <span class="hljs-string"><span class="hljs-string">" Login Login Manager."</span></span> [<span class="hljs-number"><span class="hljs-number">120</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">49</span></span>) <span class="hljs-string"><span class="hljs-string">" Logoff Logoff Manager."</span></span> [<span class="hljs-number"><span class="hljs-number">121</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">53</span></span>) <span class="hljs-string"><span class="hljs-string">" Events Control Event Flow."</span></span> [<span class="hljs-number"><span class="hljs-number">122</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">52</span></span>) <span class="hljs-string"><span class="hljs-string">" Ping Keepalive command."</span></span> [<span class="hljs-number"><span class="hljs-number">123</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">78</span></span>) <span class="hljs-string"><span class="hljs-string">" LocalOptimizeAway Optimize away a local channel when possible."</span></span> [<span class="hljs-number"><span class="hljs-number">124</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">74</span></span>) <span class="hljs-string"><span class="hljs-string">" ExtensionStateList List the current known extension states."</span></span> [<span class="hljs-number"><span class="hljs-number">125</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">77</span></span>) <span class="hljs-string"><span class="hljs-string">" MessageSend Send an out of call message to an endpoint."</span></span> [<span class="hljs-number"><span class="hljs-number">126</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">73</span></span>) <span class="hljs-string"><span class="hljs-string">" Bridge Bridge two channels already in the PBX."</span></span> [<span class="hljs-number"><span class="hljs-number">127</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">71</span></span>) <span class="hljs-string"><span class="hljs-string">" DialplanExtensionRemove Remove an extension from the dialplan"</span></span> [<span class="hljs-number"><span class="hljs-number">128</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">66</span></span>) <span class="hljs-string"><span class="hljs-string">" DialplanExtensionAdd Add an extension to the dialplan"</span></span> [<span class="hljs-number"><span class="hljs-number">129</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">66</span></span>) <span class="hljs-string"><span class="hljs-string">" BridgeTechnologyUnsuspend Unsuspend a bridging technology."</span></span> [<span class="hljs-number"><span class="hljs-number">130</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">64</span></span>) <span class="hljs-string"><span class="hljs-string">" BridgeTechnologySuspend Suspend a bridging technology."</span></span> [<span class="hljs-number"><span class="hljs-number">131</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">80</span></span>) <span class="hljs-string"><span class="hljs-string">" BridgeTechnologyList List available bridging technologies and their"</span></span> [<span class="hljs-number"><span class="hljs-number">132</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">61</span></span>) <span class="hljs-string"><span class="hljs-string">" DataGet Retrieve the data api tree."</span></span> [<span class="hljs-number"><span class="hljs-number">133</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">47</span></span>) <span class="hljs-string"><span class="hljs-string">" DBPut Put DB entry."</span></span> [<span class="hljs-number"><span class="hljs-number">134</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">49</span></span>) <span class="hljs-string"><span class="hljs-string">" DBDelTree Delete DB Tree."</span></span> [<span class="hljs-number"><span class="hljs-number">135</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">50</span></span>) <span class="hljs-string"><span class="hljs-string">" DBDel Delete DB entry."</span></span> [<span class="hljs-number"><span class="hljs-number">136</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">47</span></span>) <span class="hljs-string"><span class="hljs-string">" DBGet Get DB Entry."</span></span> }</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">manager show connected</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span>) { [<span class="hljs-number"><span class="hljs-number">0</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">132</span></span>) <span class="hljs-string"><span class="hljs-string">" Username IP Address Start Elapsed FileDes HttpCnt Read Write"</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">142</span></span>) <span class="hljs-string"><span class="hljs-string">" cxpanel 127.0.0.1 1426370041 5167 19 0 2147483647 2147483647"</span></span> [<span class="hljs-number"><span class="hljs-number">2</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">18</span></span>) <span class="hljs-string"><span class="hljs-string">"1 users connected."</span></span> }</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">manager show eventq</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-number"><span class="hljs-number">16</span></span>) { [<span class="hljs-number"><span class="hljs-number">0</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">11</span></span>) <span class="hljs-string"><span class="hljs-string">"Usecount: 1"</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">16</span></span>) <span class="hljs-string"><span class="hljs-string">"Category: 262144"</span></span> [<span class="hljs-number"><span class="hljs-number">2</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">6</span></span>) <span class="hljs-string"><span class="hljs-string">"Event:"</span></span> [<span class="hljs-number"><span class="hljs-number">3</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">21</span></span>) <span class="hljs-string"><span class="hljs-string">"Event: SuccessfulAuth"</span></span> [<span class="hljs-number"><span class="hljs-number">4</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">23</span></span>) <span class="hljs-string"><span class="hljs-string">"Privilege: security,all"</span></span> [<span class="hljs-number"><span class="hljs-number">5</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">37</span></span>) <span class="hljs-string"><span class="hljs-string">"EventTV: 2015-03-15T05:22:02.054+0600"</span></span> [<span class="hljs-number"><span class="hljs-number">6</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">23</span></span>) <span class="hljs-string"><span class="hljs-string">"Severity: Informational"</span></span> [<span class="hljs-number"><span class="hljs-number">7</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">12</span></span>) <span class="hljs-string"><span class="hljs-string">"Service: AMI"</span></span> [<span class="hljs-number"><span class="hljs-number">8</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">15</span></span>) <span class="hljs-string"><span class="hljs-string">"EventVersion: 1"</span></span> [<span class="hljs-number"><span class="hljs-number">9</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">16</span></span>) <span class="hljs-string"><span class="hljs-string">"AccountID: admin"</span></span> [<span class="hljs-number"><span class="hljs-number">10</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">25</span></span>) <span class="hljs-string"><span class="hljs-string">"SessionID: 0x7ff0f0000ad8"</span></span> [<span class="hljs-number"><span class="hljs-number">11</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">35</span></span>) <span class="hljs-string"><span class="hljs-string">"LocalAddress: IPV4/TCP/0.0.0.0/5038"</span></span> [<span class="hljs-number"><span class="hljs-number">12</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">39</span></span>) <span class="hljs-string"><span class="hljs-string">"RemoteAddress: IPV4/TCP/127.0.0.1/39453"</span></span> [<span class="hljs-number"><span class="hljs-number">13</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">16</span></span>) <span class="hljs-string"><span class="hljs-string">"UsingPassword: 0"</span></span> [<span class="hljs-number"><span class="hljs-number">14</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">39</span></span>) <span class="hljs-string"><span class="hljs-string">"SessionTV: 2015-03-15T05:22:02.054+0600"</span></span> [<span class="hljs-number"><span class="hljs-number">15</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-string"><span class="hljs-string">""</span></span> }</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">manager show events</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-number"><span class="hljs-number">49</span></span>) { [<span class="hljs-number"><span class="hljs-number">0</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">7</span></span>) <span class="hljs-string"><span class="hljs-string">"Events:"</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">66</span></span>) <span class="hljs-string"><span class="hljs-string">" -------------------- -------------------- --------------------"</span></span> [<span class="hljs-number"><span class="hljs-number">2</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">51</span></span>) <span class="hljs-string"><span class="hljs-string">" AGIExecEnd AGIExecStart AOC-D"</span></span> [<span class="hljs-number"><span class="hljs-number">3</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">57</span></span>) <span class="hljs-string"><span class="hljs-string">" AOC-E AOC-S AgentCalled"</span></span> [<span class="hljs-number"><span class="hljs-number">4</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">55</span></span>) <span class="hljs-string"><span class="hljs-string">" AgentComplete AgentConnect AgentDump"</span></span> [<span class="hljs-number"><span class="hljs-number">5</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">63</span></span>) <span class="hljs-string"><span class="hljs-string">" AgentLogin AgentLogoff AgentRingNoAnswer"</span></span> [<span class="hljs-number"><span class="hljs-number">6</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">51</span></span>) <span class="hljs-string"><span class="hljs-string">" Agents AgentsComplete Alarm"</span></span> [<span class="hljs-number"><span class="hljs-number">7</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">57</span></span>) <span class="hljs-string"><span class="hljs-string">" AlarmClear AorDetail AsyncAGIEnd"</span></span> [<span class="hljs-number"><span class="hljs-number">8</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">62</span></span>) <span class="hljs-string"><span class="hljs-string">" AsyncAGIExec AsyncAGIStart AttendedTransfer"</span></span> [<span class="hljs-number"><span class="hljs-number">9</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">59</span></span>) <span class="hljs-string"><span class="hljs-string">" AuthDetail AuthMethodNotAllowed BlindTransfer"</span></span> [<span class="hljs-number"><span class="hljs-number">10</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">57</span></span>) <span class="hljs-string"><span class="hljs-string">" BridgeCreate BridgeDestroy BridgeEnter"</span></span> [<span class="hljs-number"><span class="hljs-number">11</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">59</span></span>) <span class="hljs-string"><span class="hljs-string">" BridgeLeave ChallengeResponseFai ChallengeSent"</span></span> [<span class="hljs-number"><span class="hljs-number">12</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">65</span></span>) <span class="hljs-string"><span class="hljs-string">" ChanSpyStart ChanSpyStop ChannelTalkingStart"</span></span> [<span class="hljs-number"><span class="hljs-number">13</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">60</span></span>) <span class="hljs-string"><span class="hljs-string">" ChannelTalkingStop ConfbridgeEnd ConfbridgeJoin"</span></span> [<span class="hljs-number"><span class="hljs-number">14</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">62</span></span>) <span class="hljs-string"><span class="hljs-string">" ConfbridgeLeave ConfbridgeMute ConfbridgeRecord"</span></span> [<span class="hljs-number"><span class="hljs-number">15</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">63</span></span>) <span class="hljs-string"><span class="hljs-string">" ConfbridgeStart ConfbridgeStopRecord ConfbridgeTalking"</span></span> [<span class="hljs-number"><span class="hljs-number">16</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">61</span></span>) <span class="hljs-string"><span class="hljs-string">" ConfbridgeUnmute ContactStatusDetail CoreShowChannel"</span></span> [<span class="hljs-number"><span class="hljs-number">17</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">54</span></span>) <span class="hljs-string"><span class="hljs-string">" CoreShowChannelsComp DAHDIChannel DNDState"</span></span> [<span class="hljs-number"><span class="hljs-number">18</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">53</span></span>) <span class="hljs-string"><span class="hljs-string">" DeviceStateChange DialBegin DialEnd"</span></span> [<span class="hljs-number"><span class="hljs-number">19</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">61</span></span>) <span class="hljs-string"><span class="hljs-string">" EndpointDetail EndpointList ExtensionStatus"</span></span> [<span class="hljs-number"><span class="hljs-number">20</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">62</span></span>) <span class="hljs-string"><span class="hljs-string">" FAXSession FAXSessionsComplete FAXSessionsEntry"</span></span> [<span class="hljs-number"><span class="hljs-number">21</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">55</span></span>) <span class="hljs-string"><span class="hljs-string">" FAXStats FAXStatus FailedACL"</span></span> [<span class="hljs-number"><span class="hljs-number">22</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">62</span></span>) <span class="hljs-string"><span class="hljs-string">" FullyBooted Hangup HangupHandlerPop"</span></span> [<span class="hljs-number"><span class="hljs-number">23</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">59</span></span>) <span class="hljs-string"><span class="hljs-string">" HangupHandlerPush HangupHandlerRun HangupRequest"</span></span> [<span class="hljs-number"><span class="hljs-number">24</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">62</span></span>) <span class="hljs-string"><span class="hljs-string">" Hold IdentifyDetail InvalidAccountID"</span></span> [<span class="hljs-number"><span class="hljs-number">25</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">62</span></span>) <span class="hljs-string"><span class="hljs-string">" InvalidPassword InvalidTransport LoadAverageLimit"</span></span> [<span class="hljs-number"><span class="hljs-number">26</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">66</span></span>) <span class="hljs-string"><span class="hljs-string">" LocalBridge LocalOptimizationBeg LocalOptimizationEnd"</span></span> [<span class="hljs-number"><span class="hljs-number">27</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">60</span></span>) <span class="hljs-string"><span class="hljs-string">" MCID MWIGet MWIGetComplete"</span></span> [<span class="hljs-number"><span class="hljs-number">28</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">57</span></span>) <span class="hljs-string"><span class="hljs-string">" MeetmeEnd MeetmeJoin MeetmeLeave"</span></span> [<span class="hljs-number"><span class="hljs-number">29</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">59</span></span>) <span class="hljs-string"><span class="hljs-string">" MeetmeMute MeetmeTalkRequest MeetmeTalking"</span></span> [<span class="hljs-number"><span class="hljs-number">30</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">58</span></span>) <span class="hljs-string"><span class="hljs-string">" MemoryLimit MiniVoiceMail MonitorStart"</span></span> [<span class="hljs-number"><span class="hljs-number">31</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">61</span></span>) <span class="hljs-string"><span class="hljs-string">" MonitorStop MusicOnHoldStart MusicOnHoldStop"</span></span> [<span class="hljs-number"><span class="hljs-number">32</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">54</span></span>) <span class="hljs-string"><span class="hljs-string">" NewAccountCode NewCallerid NewExten"</span></span> [<span class="hljs-number"><span class="hljs-number">33</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">63</span></span>) <span class="hljs-string"><span class="hljs-string">" Newchannel Newstate OriginateResponse"</span></span> [<span class="hljs-number"><span class="hljs-number">34</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">63</span></span>) <span class="hljs-string"><span class="hljs-string">" ParkedCall ParkedCallGiveUp ParkedCallTimeOut"</span></span> [<span class="hljs-number"><span class="hljs-number">35</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">65</span></span>) <span class="hljs-string"><span class="hljs-string">" PeerStatus Pickup PresenceStateChange"</span></span> [<span class="hljs-number"><span class="hljs-number">36</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">61</span></span>) <span class="hljs-string"><span class="hljs-string">" PresenceStatus QueueCallerAbandon QueueCallerJoin"</span></span> [<span class="hljs-number"><span class="hljs-number">37</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">62</span></span>) <span class="hljs-string"><span class="hljs-string">" QueueCallerLeave QueueMemberAdded QueueMemberPause"</span></span> [<span class="hljs-number"><span class="hljs-number">38</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">66</span></span>) <span class="hljs-string"><span class="hljs-string">" QueueMemberPenalty QueueMemberRemoved QueueMemberRinginuse"</span></span> [<span class="hljs-number"><span class="hljs-number">39</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">54</span></span>) <span class="hljs-string"><span class="hljs-string">" QueueMemberStatus RTCPReceived RTCPSent"</span></span> [<span class="hljs-number"><span class="hljs-number">40</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">52</span></span>) <span class="hljs-string"><span class="hljs-string">" ReceiveFAX Registry Reload"</span></span> [<span class="hljs-number"><span class="hljs-number">41</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">65</span></span>) <span class="hljs-string"><span class="hljs-string">" RequestBadFormat RequestNotAllowed RequestNotSupported"</span></span> [<span class="hljs-number"><span class="hljs-number">42</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">58</span></span>) <span class="hljs-string"><span class="hljs-string">" SIPQualifyPeerDone SendFAX SessionLimit"</span></span> [<span class="hljs-number"><span class="hljs-number">43</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">63</span></span>) <span class="hljs-string"><span class="hljs-string">" SessionTimeout Shutdown SoftHangupRequest"</span></span> [<span class="hljs-number"><span class="hljs-number">44</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">52</span></span>) <span class="hljs-string"><span class="hljs-string">" SpanAlarm SpanAlarmClear Status"</span></span> [<span class="hljs-number"><span class="hljs-number">45</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">61</span></span>) <span class="hljs-string"><span class="hljs-string">" StatusComplete SuccessfulAuth TransportDetail"</span></span> [<span class="hljs-number"><span class="hljs-number">46</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">52</span></span>) <span class="hljs-string"><span class="hljs-string">" UnParkedCall UnexpectedAddress Unhold"</span></span> [<span class="hljs-number"><span class="hljs-number">47</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">52</span></span>) <span class="hljs-string"><span class="hljs-string">" UserEvent VarSet VarSet"</span></span> [<span class="hljs-number"><span class="hljs-number">48</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">8</span></span>) <span class="hljs-string"><span class="hljs-string">" VarSet"</span></span> }</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">manager show settings</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-number"><span class="hljs-number">17</span></span>) { [<span class="hljs-number"><span class="hljs-number">0</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-string"><span class="hljs-string">""</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">16</span></span>) <span class="hljs-string"><span class="hljs-string">"Global Settings:"</span></span> [<span class="hljs-number"><span class="hljs-number">2</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">16</span></span>) <span class="hljs-string"><span class="hljs-string">"----------------"</span></span> [<span class="hljs-number"><span class="hljs-number">3</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">32</span></span>) <span class="hljs-string"><span class="hljs-string">" Manager (AMI): Yes"</span></span> [<span class="hljs-number"><span class="hljs-number">4</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">31</span></span>) <span class="hljs-string"><span class="hljs-string">" Web Manager (AMI/HTTP): No"</span></span> [<span class="hljs-number"><span class="hljs-number">5</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">41</span></span>) <span class="hljs-string"><span class="hljs-string">" TCP Bindaddress: 0.0.0.0:5038"</span></span> [<span class="hljs-number"><span class="hljs-number">6</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">31</span></span>) <span class="hljs-string"><span class="hljs-string">" HTTP Timeout (minutes): 60"</span></span> [<span class="hljs-number"><span class="hljs-number">7</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">31</span></span>) <span class="hljs-string"><span class="hljs-string">" TLS Enable: No"</span></span> [<span class="hljs-number"><span class="hljs-number">8</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">37</span></span>) <span class="hljs-string"><span class="hljs-string">" TLS Bindaddress: Disabled"</span></span> [<span class="hljs-number"><span class="hljs-number">9</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">41</span></span>) <span class="hljs-string"><span class="hljs-string">" TLS Certfile: asterisk.pem"</span></span> [<span class="hljs-number"><span class="hljs-number">10</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">17</span></span>) <span class="hljs-string"><span class="hljs-string">" TLS Privatekey:"</span></span> [<span class="hljs-number"><span class="hljs-number">11</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">13</span></span>) <span class="hljs-string"><span class="hljs-string">" TLS Cipher:"</span></span> [<span class="hljs-number"><span class="hljs-number">12</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">32</span></span>) <span class="hljs-string"><span class="hljs-string">" Allow multiple login: Yes"</span></span> [<span class="hljs-number"><span class="hljs-number">13</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">32</span></span>) <span class="hljs-string"><span class="hljs-string">" Display connects: Yes"</span></span> [<span class="hljs-number"><span class="hljs-number">14</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">31</span></span>) <span class="hljs-string"><span class="hljs-string">" Timestamp events: No"</span></span> [<span class="hljs-number"><span class="hljs-number">15</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">15</span></span>) <span class="hljs-string"><span class="hljs-string">" Channel vars:"</span></span> [<span class="hljs-number"><span class="hljs-number">16</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">31</span></span>) <span class="hljs-string"><span class="hljs-string">" Debug: No"</span></span> }</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">manager show users</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-number"><span class="hljs-number">8</span></span>) { [<span class="hljs-number"><span class="hljs-number">0</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-string"><span class="hljs-string">""</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">8</span></span>) <span class="hljs-string"><span class="hljs-string">"username"</span></span> [<span class="hljs-number"><span class="hljs-number">2</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">8</span></span>) <span class="hljs-string"><span class="hljs-string">"--------"</span></span> [<span class="hljs-number"><span class="hljs-number">3</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-string"><span class="hljs-string">"rinat"</span></span> [<span class="hljs-number"><span class="hljs-number">4</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-string"><span class="hljs-string">"admin"</span></span> [<span class="hljs-number"><span class="hljs-number">5</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">7</span></span>) <span class="hljs-string"><span class="hljs-string">"cxpanel"</span></span> [<span class="hljs-number"><span class="hljs-number">6</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">19</span></span>) <span class="hljs-string"><span class="hljs-string">"-------------------"</span></span> [<span class="hljs-number"><span class="hljs-number">7</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">27</span></span>) <span class="hljs-string"><span class="hljs-string">"3 manager users configured."</span></span> }</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">manager show user admin</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-number"><span class="hljs-number">9</span></span>) { [<span class="hljs-number"><span class="hljs-number">0</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-string"><span class="hljs-string">""</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">25</span></span>) <span class="hljs-string"><span class="hljs-string">" username: admin"</span></span> [<span class="hljs-number"><span class="hljs-number">2</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">25</span></span>) <span class="hljs-string"><span class="hljs-string">" secret: &lt;Set&gt;"</span></span> [<span class="hljs-number"><span class="hljs-number">3</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">23</span></span>) <span class="hljs-string"><span class="hljs-string">" ACL: yes"</span></span> [<span class="hljs-number"><span class="hljs-number">4</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">115</span></span>) <span class="hljs-string"><span class="hljs-string">" read perm: system,call,log,verbose,command,agent,user,config,dtmf,reporting,cdr,dialplan,originate,message"</span></span> [<span class="hljs-number"><span class="hljs-number">5</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">115</span></span>) <span class="hljs-string"><span class="hljs-string">" write perm: system,call,log,verbose,command,agent,user,config,dtmf,reporting,cdr,dialplan,originate,message"</span></span> [<span class="hljs-number"><span class="hljs-number">6</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">23</span></span>) <span class="hljs-string"><span class="hljs-string">" displayconnects: yes"</span></span> [<span class="hljs-number"><span class="hljs-number">7</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">23</span></span>) <span class="hljs-string"><span class="hljs-string">"allowmultiplelogin: yes"</span></span> [<span class="hljs-number"><span class="hljs-number">8</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">19</span></span>) <span class="hljs-string"><span class="hljs-string">" Variables:"</span></span> }</code> </pre><br></div></div><br></div></div><br><br>  Now we start the debriefing. <br><br>  Simple functions will not be processed, we will give them as is to our client. <br><br>  Let's start coding. <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">asterisk_cli_exec</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($a)</span></span></span><span class="hljs-function"> </span></span>{ exec(<span class="hljs-string"><span class="hljs-string">"asterisk -rx '$a'"</span></span>, $b); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $b; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">asterisk_cli_passthru</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($a)</span></span></span><span class="hljs-function"> </span></span>{ passthru(<span class="hljs-string"><span class="hljs-string">"asterisk -rx '$a'"</span></span>, $b); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $b; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cli</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($a)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* : trim -        strtolower -      str_replace -    */</span></span> $a=str_replace(<span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>,trim(strtolower($a))); <span class="hljs-comment"><span class="hljs-comment">/*  $b      switch */</span></span> $b=<span class="hljs-number"><span class="hljs-number">-1</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*           */</span></span> $result = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span> (); <span class="hljs-comment"><span class="hljs-comment">/*     cli  */</span></span> $ar = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span> (<span class="hljs-string"><span class="hljs-string">"manager reload"</span></span>, <span class="hljs-string"><span class="hljs-string">"manager set debug"</span></span>, <span class="hljs-string"><span class="hljs-string">"manager show command "</span></span>, <span class="hljs-string"><span class="hljs-string">"manager show event "</span></span>, <span class="hljs-comment"><span class="hljs-comment">/*    ,   ‚Ññ 3 */</span></span> <span class="hljs-string"><span class="hljs-string">"manager show connected"</span></span>, <span class="hljs-string"><span class="hljs-string">"manager show eventq"</span></span>, <span class="hljs-string"><span class="hljs-string">"manager show events"</span></span>, <span class="hljs-string"><span class="hljs-string">"manager show settings"</span></span>, <span class="hljs-string"><span class="hljs-string">"manager show users"</span></span>, <span class="hljs-string"><span class="hljs-string">"manager show user "</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ($i=<span class="hljs-number"><span class="hljs-number">0</span></span>;$i&lt;count($ar);$i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strpos($a,$ar[$i])!==<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>) { $b = $i; } } <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> $b==<span class="hljs-number"><span class="hljs-number">-1</span></span>: <span class="hljs-comment"><span class="hljs-comment">/*              */</span></span> $result[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-string"><span class="hljs-string">"Name"</span></span>] = <span class="hljs-string"><span class="hljs-string">"Error"</span></span>; $result[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-string"><span class="hljs-string">"Function"</span></span>] = <span class="hljs-string"><span class="hljs-string">"cli"</span></span>; $result[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-string"><span class="hljs-string">"Number"</span></span>] = <span class="hljs-string"><span class="hljs-string">"00001"</span></span>; $result[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-string"><span class="hljs-string">"Description"</span></span>] = <span class="hljs-string"><span class="hljs-string">"  CLI "</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $result; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> $b&lt;=<span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> asterisk_cli_exec($a); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } var_dump(cli (<span class="hljs-string"><span class="hljs-string">'manager set debfsugfsdf'</span></span>)); <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> var_dump(cli (<span class="hljs-string"><span class="hljs-string">'manager set debug'</span></span>)); var_dump(cli (<span class="hljs-string"><span class="hljs-string">'manager reload'</span></span>)); <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">Execution result</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>) { [<span class="hljs-number"><span class="hljs-number">0</span></span>]=&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-number"><span class="hljs-number">4</span></span>) { [<span class="hljs-string"><span class="hljs-string">"Name"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-string"><span class="hljs-string">"Error"</span></span> [<span class="hljs-string"><span class="hljs-string">"Function"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-string"><span class="hljs-string">"cli"</span></span> [<span class="hljs-string"><span class="hljs-string">"Number"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-string"><span class="hljs-string">"00001"</span></span> [<span class="hljs-string"><span class="hljs-string">"Description"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">38</span></span>) <span class="hljs-string"><span class="hljs-string">"  CLI "</span></span> } } <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>) { [<span class="hljs-number"><span class="hljs-number">0</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">20</span></span>) <span class="hljs-string"><span class="hljs-string">"manager debug is off"</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-number"><span class="hljs-number">0</span></span>) { }</code> </pre><br></div></div><br><br>  Well, let's continue further data analysis coming from Asterisk. <br><br>  A quick look allows you to find "similar" responses to commands. <br><br>  Personally, I made up several groups: <br><br>  1 group <br>  manager show eventq <br>  manager show settings <br>  manager show user <br>  (similarity consists in the separation of keys by the symbol ":" - a colon) <br><br>  2 group <br>  manager show commands <br>  manager show events <br>  (similarity consists in the separation of keys with a space symbol (lam)) <br><br>  and without groups <br>  manager show users <br>  manager show connected <br><br>  In this regard, we need to restructure our array, where we store the CLI commands, as follows: <br><br><pre> <code class="php hljs">$ar = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span> (<span class="hljs-string"><span class="hljs-string">"manager reload"</span></span>, <span class="hljs-string"><span class="hljs-string">"manager set debug"</span></span>, <span class="hljs-string"><span class="hljs-string">"manager show command "</span></span>, <span class="hljs-string"><span class="hljs-string">"manager show event "</span></span>, <span class="hljs-comment"><span class="hljs-comment">/*    ,   ‚Ññ 3 */</span></span> <span class="hljs-string"><span class="hljs-string">"manager show eventq"</span></span>, <span class="hljs-comment"><span class="hljs-comment">/* 1  */</span></span> <span class="hljs-string"><span class="hljs-string">"manager show settings"</span></span>,<span class="hljs-comment"><span class="hljs-comment">/* 1  */</span></span> <span class="hljs-string"><span class="hljs-string">"manager show user "</span></span>, <span class="hljs-comment"><span class="hljs-comment">/* 1  */</span></span> <span class="hljs-string"><span class="hljs-string">"manager show commands"</span></span>, <span class="hljs-comment"><span class="hljs-comment">/* 2  */</span></span> <span class="hljs-string"><span class="hljs-string">"manager show events"</span></span>, <span class="hljs-comment"><span class="hljs-comment">/* 2  */</span></span> <span class="hljs-string"><span class="hljs-string">"manager show users"</span></span>, <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> <span class="hljs-string"><span class="hljs-string">"manager show connected"</span></span> <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> );</code> </pre><br>  Let us proceed to the structuring of the received data from 1 group. <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">asterisk_cli_exec</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($a)</span></span></span><span class="hljs-function"> </span></span>{ exec(<span class="hljs-string"><span class="hljs-string">"asterisk -rx '$a'"</span></span>, $b); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $b; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">asterisk_cli_passthru</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($a)</span></span></span><span class="hljs-function"> </span></span>{ passthru(<span class="hljs-string"><span class="hljs-string">"asterisk -rx '$a'"</span></span>, $b); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $b; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cli</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($a)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* : trim -        strtolower -      str_replace -    */</span></span> $a=str_replace(<span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>,trim(strtolower($a))); <span class="hljs-comment"><span class="hljs-comment">/*  $b      switch */</span></span> $b=<span class="hljs-number"><span class="hljs-number">-1</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*           */</span></span> $result = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span> (); <span class="hljs-comment"><span class="hljs-comment">/*     cli  */</span></span> $ar = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span> (<span class="hljs-string"><span class="hljs-string">"manager reload"</span></span>, <span class="hljs-string"><span class="hljs-string">"manager set debug"</span></span>, <span class="hljs-string"><span class="hljs-string">"manager show command "</span></span>, <span class="hljs-string"><span class="hljs-string">"manager show event "</span></span>, <span class="hljs-comment"><span class="hljs-comment">/*    ,   ‚Ññ 3 */</span></span> <span class="hljs-string"><span class="hljs-string">"manager show eventq"</span></span>, <span class="hljs-comment"><span class="hljs-comment">/* 1  */</span></span> <span class="hljs-string"><span class="hljs-string">"manager show settings"</span></span>,<span class="hljs-comment"><span class="hljs-comment">/* 1  */</span></span> <span class="hljs-string"><span class="hljs-string">"manager show user "</span></span>, <span class="hljs-comment"><span class="hljs-comment">/* 1  */</span></span> <span class="hljs-string"><span class="hljs-string">"manager show commands"</span></span>, <span class="hljs-comment"><span class="hljs-comment">/* 2  */</span></span> <span class="hljs-string"><span class="hljs-string">"manager show events"</span></span>, <span class="hljs-comment"><span class="hljs-comment">/* 2  */</span></span> <span class="hljs-string"><span class="hljs-string">"manager show users"</span></span>, <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> <span class="hljs-string"><span class="hljs-string">"manager show connected"</span></span> <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ($i=<span class="hljs-number"><span class="hljs-number">0</span></span>;$i&lt;count($ar);$i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strpos($a,$ar[$i])!==<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>) { $b = $i; } } <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> $b==<span class="hljs-number"><span class="hljs-number">-1</span></span>: <span class="hljs-comment"><span class="hljs-comment">/*              */</span></span> $result[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-string"><span class="hljs-string">"Name"</span></span>] = <span class="hljs-string"><span class="hljs-string">"Error"</span></span>; $result[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-string"><span class="hljs-string">"Function"</span></span>] = <span class="hljs-string"><span class="hljs-string">"cli"</span></span>; $result[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-string"><span class="hljs-string">"Number"</span></span>] = <span class="hljs-string"><span class="hljs-string">"00001"</span></span>; $result[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-string"><span class="hljs-string">"Description"</span></span>] = <span class="hljs-string"><span class="hljs-string">"  CLI "</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $result; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> $b&lt;=<span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> asterisk_cli_exec($a); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> $b&lt;=<span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-comment"><span class="hljs-comment">/*  isset -     unset -   count -    explode -      ,     */</span></span> $t = asterisk_cli_exec($a); <span class="hljs-comment"><span class="hljs-comment">/*        $t */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($t[<span class="hljs-number"><span class="hljs-number">0</span></span>])) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($t[<span class="hljs-number"><span class="hljs-number">0</span></span>]!=<span class="hljs-string"><span class="hljs-string">""</span></span>) <span class="hljs-comment"><span class="hljs-comment">/*       */</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">unset</span></span>($m); <span class="hljs-comment"><span class="hljs-comment">/*           */</span></span> $m = explode(<span class="hljs-string"><span class="hljs-string">":"</span></span>, $t[<span class="hljs-number"><span class="hljs-number">0</span></span>]); <span class="hljs-comment"><span class="hljs-comment">/*        ":" */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($m[<span class="hljs-number"><span class="hljs-number">1</span></span>])) <span class="hljs-comment"><span class="hljs-comment">/*    ,                        */</span></span> { $n = $m[<span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-comment"><span class="hljs-comment">/*      */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ($i=<span class="hljs-number"><span class="hljs-number">2</span></span>;$i&lt;count($m);$i++) { $n.=<span class="hljs-string"><span class="hljs-string">":"</span></span>.$m[$i]; <span class="hljs-comment"><span class="hljs-comment">/*          */</span></span> } $result[trim($m[<span class="hljs-number"><span class="hljs-number">0</span></span>])]=trim($n); <span class="hljs-comment"><span class="hljs-comment">/*        */</span></span> } } array_splice($t, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $result; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } var_dump(cli (<span class="hljs-string"><span class="hljs-string">'manager show user admin'</span></span>)); var_dump(cli (<span class="hljs-string"><span class="hljs-string">'manager show eventq'</span></span>)); var_dump(cli (<span class="hljs-string"><span class="hljs-string">'manager show settings'</span></span>)); <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">Execution result</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-number"><span class="hljs-number">6</span></span>) { [<span class="hljs-string"><span class="hljs-string">"username"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-string"><span class="hljs-string">"admin"</span></span> [<span class="hljs-string"><span class="hljs-string">"secret"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-string"><span class="hljs-string">"&lt;Set&gt;"</span></span> [<span class="hljs-string"><span class="hljs-string">"acl"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-string"><span class="hljs-string">"yes"</span></span> [<span class="hljs-string"><span class="hljs-string">"read perm"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">91</span></span>) <span class="hljs-string"><span class="hljs-string">"system,call,log,verbose,command,agent,user,config,dtmf,reporting,cdr,dialplan,originate,all"</span></span> [<span class="hljs-string"><span class="hljs-string">"write perm"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">91</span></span>) <span class="hljs-string"><span class="hljs-string">"system,call,log,verbose,command,agent,user,config,dtmf,reporting,cdr,dialplan,originate,all"</span></span> [<span class="hljs-string"><span class="hljs-string">"displayconnects"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-string"><span class="hljs-string">"yes"</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-number"><span class="hljs-number">8</span></span>) { [<span class="hljs-string"><span class="hljs-string">"Usecount"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-string"><span class="hljs-string">"1"</span></span> [<span class="hljs-string"><span class="hljs-string">"Category"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-string"><span class="hljs-string">"1"</span></span> [<span class="hljs-string"><span class="hljs-string">"Event"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">8</span></span>) <span class="hljs-string"><span class="hljs-string">"Registry"</span></span> [<span class="hljs-string"><span class="hljs-string">"Privilege"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">10</span></span>) <span class="hljs-string"><span class="hljs-string">"system,all"</span></span> [<span class="hljs-string"><span class="hljs-string">"Timestamp"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">17</span></span>) <span class="hljs-string"><span class="hljs-string">"1426383271.261620"</span></span> [<span class="hljs-string"><span class="hljs-string">"ChannelType"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-string"><span class="hljs-string">"SIP"</span></span> [<span class="hljs-string"><span class="hljs-string">"Domain"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">13</span></span>) <span class="hljs-string"><span class="hljs-string">"217.15.180.50"</span></span> [<span class="hljs-string"><span class="hljs-string">"Status"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">10</span></span>) <span class="hljs-string"><span class="hljs-string">"Registered"</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-number"><span class="hljs-number">16</span></span>) { [<span class="hljs-string"><span class="hljs-string">"Global Settings"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-string"><span class="hljs-string">""</span></span> [<span class="hljs-string"><span class="hljs-string">"Manager (AMI)"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-string"><span class="hljs-string">"Yes"</span></span> [<span class="hljs-string"><span class="hljs-string">"Web Manager (AMI/HTTP)"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-string"><span class="hljs-string">"No"</span></span> [<span class="hljs-string"><span class="hljs-string">"TCP Bindaddress"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">12</span></span>) <span class="hljs-string"><span class="hljs-string">"0.0.0.0:5038"</span></span> [<span class="hljs-string"><span class="hljs-string">"HTTP Timeout (minutes)"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-string"><span class="hljs-string">"60"</span></span> [<span class="hljs-string"><span class="hljs-string">"TLS Enable"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-string"><span class="hljs-string">"No"</span></span> [<span class="hljs-string"><span class="hljs-string">"TLS Bindaddress"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">8</span></span>) <span class="hljs-string"><span class="hljs-string">"Disabled"</span></span> [<span class="hljs-string"><span class="hljs-string">"TLS Certfile"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">12</span></span>) <span class="hljs-string"><span class="hljs-string">"asterisk.pem"</span></span> [<span class="hljs-string"><span class="hljs-string">"TLS Privatekey"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-string"><span class="hljs-string">""</span></span> [<span class="hljs-string"><span class="hljs-string">"TLS Cipher"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-string"><span class="hljs-string">""</span></span> [<span class="hljs-string"><span class="hljs-string">"Allow multiple login"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-string"><span class="hljs-string">"Yes"</span></span> [<span class="hljs-string"><span class="hljs-string">"Display connects"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-string"><span class="hljs-string">"Yes"</span></span> [<span class="hljs-string"><span class="hljs-string">"Timestamp events"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-string"><span class="hljs-string">"Yes"</span></span> [<span class="hljs-string"><span class="hljs-string">"Channel vars"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-string"><span class="hljs-string">""</span></span> [<span class="hljs-string"><span class="hljs-string">"Debug"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-string"><span class="hljs-string">"No"</span></span> [<span class="hljs-string"><span class="hljs-string">"Block sockets"</span></span>]=&gt; string(<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-string"><span class="hljs-string">"No"</span></span> }</code> </pre><br></div></div><br>  The algorithm develops further in the same direction and using these commands.  Unfortunately, Aster codecs often change the output of command results, sometimes even several times during the same version.  For non-repeating command results, the algorithm branch is written separately. <br><br>  This article does not cover group 2 and non-recurring commands.  But the main idea with the implementation is visible. <br><br><h4>  Summary </h4><br>  It is possible to write a module for the connection of the Asterisk with the web application and it does not require deep knowledge in Zvezdochka or PHP.  I hope this article will help you understand which way to go and how to connect the server part of the application with Asterisk. <br><br>  ps Of course, the easiest way to implement everything on sockets and AMI, but with the CLI functionality at the initial level of familiarity with Asterisk, so far nothing can compare.  Is that direct editing configuration files or SQL. <br>  I will say to the defenders of ARI and its derivatives immediately my opinion, which does not claim to be the ultimate truth, the implementation of applications for them requires a deeper understanding of Asterisk. <br><br>  Please do not throw stones, I just shared my experience.  By the way, novice coders and VOIP-programmers - ‚Äúfully working code‚Äù, tested on Aster 13 versions. </div><p>Source: <a href="https://habr.com/ru/post/253351/">https://habr.com/ru/post/253351/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../253341/index.html">Why is WPF alive?</a></li>
<li><a href="../253343/index.html">Most Elite IP Addresses</a></li>
<li><a href="../253345/index.html">Perl 6: Different names for different things</a></li>
<li><a href="../253347/index.html">Coroutine implementation in NodeJS</a></li>
<li><a href="../253349/index.html">Introduction to ASP.NET 5</a></li>
<li><a href="../253353/index.html">CompTIA certifications for IT professionals. Part 4 of 7. CompTIA Security +</a></li>
<li><a href="../253357/index.html">We program robots - free robosimulator V-REP. The first steps</a></li>
<li><a href="../253359/index.html">Handbook of console methods in JS</a></li>
<li><a href="../253361/index.html">Intel¬Æ RealSense ‚Ñ¢. Work with raw data streams</a></li>
<li><a href="../253365/index.html">Working with MS SQL Database with Go Tools for Beginners</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>