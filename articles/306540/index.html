<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Personal management system development</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Motivation 
 Modern technology development is moving towards predicting human behavior based on tracking the entire array of its activities in virtual...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Personal management system development</h1><div class="post__text post__text-html js-mediator-article"><h3>  Motivation </h3><br>  Modern technology development is moving towards predicting human behavior based on tracking the entire array of its activities in virtual and physical reality (big data).  There is a positive point in this, because if you see where a person is going, you can show him the shortest and most effective way.  But, according to the law of unity and struggle of opposites, the following threat arises (for marketers, on the contrary, a perspective), as I see it - this is an opportunity not to predict behavior, but to form predictable behavior. <br><br>  If you are interested in what an individual can do about it - welcome under cat. <br><a name="habracut"></a><br>  Of course, if we look even wider, then society itself, using culture and other social tools, forms the predictable behavior of the individual, but this is too broad, because  Culture gives an incomparably greater level of freedom of judgment, unlike a focused informational tape, so I‚Äôm narrowing back. <br><br>  So, what can make a separate customer to complicate the task of forming their own predictable behavior?  For me, the answer lies in the following phrase - in order to learn to manage something, you must learn to measure it. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      But what can a person measure at himself and how to analyze it?  The decision was invented for a long time - this is keeping a personal diary (its / my little data) and the subsequent analysis of recorded events. <br><br>  But when keeping a diary, the following difficulty arises, at least for me, it is almost impossible to effectively categorize events \ objects (I‚Äôm vicious about object-oriented thinking).  For example, I would like to separately consider tasks, thoughts, questions, mistakes, etc., to see the connections between them, to get an analyst.  It should be noted that some examples of effective solutions to this problem can be found in numerous books on time management.  But I tried to make my bike. <br><br>  So, what properties can a perfect diary have? <br><ul><li>  Data acquisition and their fast (in the limit, automatic) classification, according to different types of objects, such as thoughts, tasks, reminders, contacts, sleep, notes, etc.  Maintain connections between objects; </li><li>  Download data from external sources (social networks, bank accounts, physical activity trackers); </li><li>  Automatic construction of analytics, for different slices of information; </li><li>  Issuing tips on current actions (high priority task, birthdays, etc., etc.); </li><li>  Ability to customize algorithms for individual processing of objects; </li><li>  The system should provide a choice of what information is available for publication in the external network, and what remains personal (the implementation should ensure integrity in this regard), data in the external network are also classified and put into components; </li><li>  In the limit, any information that a person encounters, and any information that is generated by this person should be classified and fit into such a diary. </li></ul><br>  And now, having finished with dreams, we return from Plato's ideal to our sinful and, having passed through many curved mirrors, and not only mirrors, we get the realization of the concept: <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/aHNapGAIyik%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjZ-8QAKUu8_XH3yWd2mPwo3UM-WQ" frameborder="0" allowfullscreen=""></iframe><br><br><h3>  Task </h3><br>  Initially, I set myself the following goals: <br><ol><li>  Creation of any kinds of objects without development; </li><li>  The output of identical objects on a separate page with the display in a tabular form, as well as with the ability to go to a separate object and display / maintain as a card </li><li>  The possibility of establishing links between objects; </li><li>  Setting statuses and categories for objects; </li><li>  Doing analytics \ reminder \ prediction. </li></ol><br><h3>  results </h3><br>  Happened: <br><ul><li>  Creation of new objects; </li><li>  Creation of status schemes linked to any kinds of objects; </li><li>  It is possible to create links between objects, the links are displayed in a separate tab.  In essence, links solve the problem of inheritance and are links between any objects; </li><li>  Hyperlinks to objects - it is possible to set a direct link to the object; </li><li>  For tasks it is possible to create separate folders for ease of processing. </li></ul><br>  Problems: <br><ul><li>  No analytics; </li><li>  No cascading deletion of child objects; </li><li>  There is no possibility of finding objects; </li><li>  There is no possibility to process several objects on one page; </li><li>  The complexity of creating new types of objects (the description of the object takes about half an hour, even for me as an author) </li><li>  More or less clear architecture turned into a set of hacks </li></ul><br><h3>  Decision </h3><br>  <i>Disclaimer!</i>  <i>The author is not a professional programmer and expert in the field of development in python \ js, but just an amateur, so ideas on the proper organization of the architecture and the technologies used are welcome and I will be very grateful for these tips.</i> <br><br>  <a href="">Github code</a> <br><br><h3>  Tools used </h3><br>  Backend: <br><ul><li>  <u>Python 3.2.5</u> - Server Part </li><li>  <u>SQLite 3.5.1</u> - Database </li></ul><br>  Frontend: <br><ul><li>  <u>Bootstrap 3.3.6</u> - Data Mapping </li><li>  <u>JQuery 2.2.0</u> - Logic </li><li>  <u>TinyMCE 4.3.2</u> - Text Editor.  Additionally, the syntaxhighlighter plugin was used to format the code. </li><li>  <u>Datatables 1.10.10</u> - Display data in tabular form. </li></ul><br><h3>  Solution Architecture </h3><br> <a href=""><img src="http://istulenkov.ru/wp-content/uploads/2016/05/Lisu_arch.png" alt="image"></a> <br><br><h3>  General architecture description </h3><br><ol><li>  In Python, a service is written that spins on localhost and handles requests from html pages. </li><li>  Objects are html-pages with a specific markup, in which the names of the fields are indicated, correspond to the fields in the database (no ORM solutions are used, the processing is done by your bicycle) </li><li>  Communication with the server occurs through json messages. </li><li>  All objects from the server are loaded at the initial page load, in the future only the delta is exchanged. </li><li>  There are built-in objects, these are statuses and relationships, the remaining objects are described separately (see below) </li></ol><br>  Unfortunately, as the functionality grows and the desire to quickly get a complete solution, the architecture began to creep away and failed to fully encapsulate objects, so in practice there are different hacks and moments of penetration of the encapsulation, but in general the scheme is relevant. <br><br>  <i>Frontend:</i> <br><ul><li>  <u>Main.js</u> - Entry point for frontend event handling.  Initial data is initialized, events are handled from the html page, and other objects are invoked for operation. </li><li>  <u>datatype.js</u> - Internal conversion of data into the required format for processing, depending on the scenario. </li><li>  <u>card.js</u> - Processing an object card, displaying card data for editing, viewing, links, saving data. </li><li>  <u>main_view.js</u> - Controls the display of the card \ table on the page </li><li>  <u>myajax.js</u> - Wrapper for ajax request </li><li>  <u>mydatatables.js</u> - Wrapper for working with datatables.net. </li><li>  <u>mytinymce.js</u> - TinyMCE Wrapper </li><li>  <u>% ObjectName%</u> - Parameters for each type of object. </li><li>  <u>all_relations.js</u> - All possible types of objects available when displaying relationships. </li><li>  <u>object_state.js</u> - Class for processing the view of an object </li><li>  <u>rel.js</u> - Handling relationships between objects. </li><li>  <u>requester.js</u> - Convert data to a format for transfer to the server. </li><li>  <u>settings.js</u> - Constants. </li></ul><br>  <i>Backend:</i> <br><ol><li>  <u>server.py</u> - Request processing. </li><li>  <u>json2sql.py</u> - Converting a json query from a frontend to an sql query for a database </li><li>  <u>dbserver.py</u> - Execute sql query. </li><li>  <u>settings.py</u> - Options. </li><li>  <u>object2db.py</u> - Parameters of object types on the server. </li><li>  <u>actionfile.py</u> - Creating directories for tasks. </li></ol><br><br>  <i>Database schema:</i> <br><ul><li>  <u>% object_name%</u> - A separate table for each object created. </li><li>  <u>sys_status</u> - Possible statuses grouped by status schemes. </li><li>  <u>Sys_rel2obj_items</u> - Data on relationships between objects </li><li>  <u>Sys_rel_object2object</u> - Adjusting the correspondence of relationships between objects </li><li>  <u>object_type</u> - Type Description </li><li>  <u>Sys_rel</u> - Relationship Description </li></ul><br><br>  <i>Examples of JSON messages:</i> <br><ul><li>  <u>Get statuses by object</u> - {‚Äúobject‚Äù: ‚Äústatus‚Äù, ‚Äúaction‚Äù: ‚Äùselect‚Äù, ‚Äúitems‚Äù: [{‚Äúid‚Äù: 1, ‚Äùmsg‚Äù: {‚Äúfields‚Äù: [{‚Äúcolumn‚Äù: ‚Äù id ‚Äù,‚Äú op ‚Äù:‚Äù&gt; = ‚Äù,‚Äú value ‚Äù:‚Äù 0 ‚Ä≥}]}}]} </li><li>  <u>Get relationships by object</u> - {‚Äúobject‚Äù: ‚Äúrel_items‚Äù, ‚Äúaction‚Äù: ‚Äùselect‚Äù, ‚Äúitems‚Äù: [{‚Äúid‚Äù: 1, ‚Äùmsg‚Äù: {‚Äúfields‚Äù: [{‚Äúcolumn‚Äù: ‚Äù obj1_type ‚Äù,‚Äú op ‚Äù:‚Äù = ‚Äù,‚Äú value ‚Äù:‚Äù project ‚Äù}, {‚Äú column ‚Äù:‚Äù id1 ‚Ä≥, ‚Äúop‚Äù: ‚Äù=‚Äù, ‚Äúvalue‚Äù: ‚Äù22 ‚Ä≥}]}}]} </li><li>  <u>Get possible object relationships</u> - {‚Äúobject‚Äù: ‚Äúsys_rel_object2object‚Äù, ‚Äúaction‚Äù: ‚Äùselect‚Äù, ‚Äúitems‚Äù: [{‚Äúid‚Äù: 1, ‚Äùmsg‚Äù: {‚Äúfields‚Äù: [{‚Äúcolumn‚Äù: ‚Äù id ‚Äù,‚Äú op ‚Äù:‚Äù&gt; = ‚Äù,‚Äú value ‚Äù:‚Äù 0 ‚Ä≥}]}}]} </li><li>  <u>Get all objects</u> - {‚Äúobject‚Äù: ‚Äúproject‚Äù, ‚Äúaction‚Äù: ‚Äùselect‚Äù, ‚Äúitems‚Äù: [{‚Äúid‚Äù: 1, ‚Äùmsg‚Äù: {‚Äúfields‚Äù: [{‚Äúcolumn‚Äù: ‚Äùid ‚Äù,‚Äú Op ‚Äù:‚Äù&gt; = ‚Äù,‚Äú value ‚Äù:‚Äù 0 ‚Ä≥}]}}]} </li><li>  <u>Create an object</u> - {‚Äúobject‚Äù: ‚Äùproject‚Äù, ‚Äúaction‚Äù: ‚Äùinsert‚Äù, ‚Äúitems‚Äù: [{‚Äúid‚Äù: 0, ‚Äùmsg‚Äù: {‚Äúfields‚Äù: {‚Äútitle‚Äù: ‚Äù123 ‚Ä≥, "Note": "123"}}}]} </li><li>  <u>Edit object</u> - {‚Äúobject‚Äù: ‚Äùproject‚Äù, ‚Äùaction‚Äù: ‚Äùupdate‚Äù, ‚Äùitems‚Äù: [{‚Äúid‚Äù: 0, ‚Äúmsg‚Äù: {‚Äúfields_set‚Äù: {‚Äútitle‚Äù: ‚Äù1234 ‚Ä≥, "Note": "123"}, "fields_where": {"id": "22 ‚Ä≥}}}]} </li></ul><br><br>  Where: <br><ul><li>  <u>Object</u> - the type of object (for example, project, task, etc.) </li><li>  <u>Action</u> - type of action (create, delete, change, delete, get) </li><li>  <u>Items</u> - within one message, you can request several items, for example, to do several insert. </li><li>  <u>Msg</u> - message within one package </li><li>  <u>Fields</u> - fields for this object </li></ul><br><br>  Some of the objects created are: <br><ul><li>  <u>Project</u> - project management. </li><li>  <u>Task</u> - task management </li><li>  <u>Question</u> - keeping questions </li><li>  <u>Think</u> - keeping thoughts, ideas, etc. </li><li>  <u>Timing</u> - time control () </li><li>  <u>Contact</u> - maintaining contacts </li><li>  <u>Diary</u> - keeping a personal diary </li><li>  <u>Snippet</u> - snippet </li></ul><br><h3>  Algorithm for creating a new object </h3><br><ol><li>  Create a table in the database </li><li>  Create file% object_name% .html </li><li>  Create file% object_name% .js </li><li>  Describe the object in the object2db.py file </li><li>  If you need to add a status, fill in the data in the tables (sys_status) </li><li>  If you want to create new relationships, fill in the data in the tables (sys_rel_object2object) </li></ol><br>  I did not describe the creation in more detail (and did not record the video, although initially the idea was), because  It turned out quite a long and tedious process.  I did not do the constructor, because  for the concept, it turned out to be redundant, but this is the first thing I will begin when developing version 2.0, see below. <br><br><h3>  Future plans for version 2.0 </h3><br>  The ideal is to work with any objects within one window, a minimum of actions with the mouse.  Maximum translate to description on the command line. <br><br>  <i>Ideas:</i> <br><br><ul><li> <u>Object Editor.</u>  - Creating objects, without the need to manually create html-pages, the presence of a separate js-file for the object and a separate configuration in python. </li><li>  Creating statuses. </li><li>  Creating \ setting relationships. </li><li>  <u>Display on a single page of multiple objects.</u>  - At the moment, the architecture is built in such a way that only one type of object can be displayed on one page (not counting references to other objects). </li><li>  <u>Command line</u> - Command line for reducing the number of actions to perform operations. </li><li>  For example, being on the ‚ÄúProject‚Äù object in the command line, ‚ÄúTask‚Äù is typed and the ‚ÄúTask‚Äù object is automatically created with reference to this project.  Since  currently you need to go to the tab </li><li>  <u>Encryption.</u>  - Add database encryption. </li><li>  <u>Analytics</u> - The possibility of basic analytics on objects, with the display of the count by status, importance, etc. </li><li>  <u>Adding an object dates (dates)</u> - a separate object that can be added to any object with the ability to add stocks </li><li>  <u>Activities</u> - Ability to practice certain actions </li><li>  <u>Check for duplication</u> - When you create an instance of an object, check for duplication </li><li>  <u>Required fields</u> - Definition of required fields. </li></ul><br><h3>  Conclusion </h3><br>  I tried to write an article as short as possible so that you could quickly understand the basic idea and description of the implementation, without drowning in too much information. <br><br>  I use this system, about 3 months, simultaneously correcting errors, the flight is equal. <br><br>  Thank you for your time. </div><p>Source: <a href="https://habr.com/ru/post/306540/">https://habr.com/ru/post/306540/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../306528/index.html">Where did the System Administrator Day come from and why is it important to celebrate it</a></li>
<li><a href="../306530/index.html">Video reports from DevConf 2016</a></li>
<li><a href="../306534/index.html">Money does not sleep: who wins in the confrontation of hackers and financial organizations</a></li>
<li><a href="../306536/index.html">uDev tech events: Kharkov, August 9th. Better Architecture with UX-Driven Design</a></li>
<li><a href="../306538/index.html">Over Engineering in Documenting ViewSets Django REST Framework</a></li>
<li><a href="../306542/index.html">Urgently required VPS with SLA: analysis of services of 32 Russian data centers</a></li>
<li><a href="../306544/index.html">Universal https using GOST certificate</a></li>
<li><a href="../306548/index.html">Distributed execution of Python tasks using Apache Mesos. Yandex experience</a></li>
<li><a href="../306550/index.html">JavaScript in 2016: functional programming has come seriously and for a long time</a></li>
<li><a href="../306552/index.html">Features of application promotion in the CIS, in Western markets and in Asia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>