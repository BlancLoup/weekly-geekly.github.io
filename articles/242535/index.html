<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Ricochet - anonymous serverless instant messaging protocol</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Translation of the introductory part and introduction to the technical description of the open source project Ricochet ( github ). 

 Anonymous server...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Ricochet - anonymous serverless instant messaging protocol</h1><div class="post__text post__text-html js-mediator-article">  Translation of the introductory part and introduction to the technical description of the open source project <b>Ricochet</b> ( <a href="https://github.com/ricochet-im/ricochet">github</a> ). <br><br><h4>  Anonymous serverless instant messaging system that just works </h4><br>  Ricochet is an alternative instant messaging experiment that doesn‚Äôt trust anyone ‚Äî it doesn‚Äôt reveal your identity, contact list, or communication. <br><br>  - you can communicate without revealing your identity or ip-address. <br>  - no one can figure out with whom you are communicating or when you are communicating (no meta-data) <br>  - no servers that could be hacked, or operators who could be forced to give out information about you <br>  - cross-platform and easy even for regular users 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Note: The project has recently been renamed from Torsion. <br><a name="habracut"></a><br><h4>  How it works </h4><br>  Ricochet is a peer-to-peer instant messaging system based on the use of hidden Tor services.  Your login is the address of your hidden service, and your contact connects to you (without the participation of intermediary servers) via Tor.  The system of interaction is designed so that it is very difficult to establish your identity, based on your address. <br><br>  Ricochet is not affiliated with or agreed with the developers of The Tor Project. <br><br><h4>  Experiment </h4><br>  The project is experimental.  No one conducted a formal code audit.  Security and anonymity are complex topics, and you need to independently assess the risks of being revealed when using any software.  We do not recommend relying on Ricochet in terms of security and not trusting Ricochet more than necessary.  Although I, as a developer, am confident that my project gives you more privacy than any other similar. <br><br><h4>  Download </h4><br>  Ricochet is available for Windows, OS X (10.7 and higher), there is also a generic Linux binary package.  Release information and release logs are available on the relevant pages. <br><br>  They are also available on <a href="https://ricochet.im/releases/">the project website</a> . <br><br>  The binaries are signed with PGP 9032 CAE4 CBFA 933A 5A21 45D5 FF97 C53F 183C 045D. <br><br>  Author's address: ricochet: rs7ce36jsj24ogfw or john.brooks@dereferenced.net. <br><br><h4>  Tor: how the hidden services protocol works </h4><br>  Tor gives users the ability to hide their location, while providing various types of services, from web publishing to instant messaging.  Using Tor meeting points ("rendezvous points"), other users can join hidden services, and none of them will know the identity of the other. <br><br>  A hidden service must report its existence on the Tor network before it can be joined.  The service randomly selects repeaters, builds chains for them, and makes them its points of ‚Äúacquaintance‚Äù, giving them its public key.  In the pictures, the green lines are chains, not direct connections.  When using full Tor chains it is very difficult to tie a dating point to the ip-address of the hidden service.  Although the public key is available to many, the ip-address of the hidden service should not be disclosed. <br><br><img src="https://www.torproject.org/images/THS-1.png" alt="image"><br><br>  Step two: the hidden service collects its descriptor containing the public key and brief information about each of the points of acquaintance, and signs it with the private key.  It uploads a handle to a distributed hash table.  Clients will find a handle at the request of XYZ.onion, where XYZ is a 16-character name created from the public key.  After that, the hidden service is running. <br><br>  Using the auto-generated service name may seem impractical, but it serves an important purpose: everyone, including the points of acquaintance, the directory of the distributed hash table, and of course, the customers, can confirm that it is communicating with the desired hidden service.  There is an opinion that out of three points - ‚Äúdecentralized, safe and meaningful for a person‚Äù, you can usually choose no more than two. <br><br><img src="https://www.torproject.org/images/THS-2.png" alt="image"><br><br>  Step three: a client who wishes to connect to a hidden service should know his onion address.  After that, he needs to download the handle from the distributed hash table.  If there is a descriptor for XYZ.onion (and if the service is online, not abandoned and made no typos in its name), the client becomes aware of the set of dating points and the correct public key.  At this time, the client also creates a chain to another randomly selected repeater and makes it a meeting point, giving him a one-time secret key. <br><br><img src="https://www.torproject.org/images/THS-3.png" alt="image"><br><br>  Step four: when the descriptor exists and the meeting point is prepared, the client collects an introductory message (encrypted with the public key of the hidden service), including the address of the meeting point and a one-time secret key.  The client sends it to one of the points of acquaintance with a request to transfer it to a hidden service.  Again, communication takes place through the Tor chain, no one can connect the sending of the introductory message with the client's IP address, and he remains anonymous. <br><br><img src="https://www.torproject.org/images/THS-4.png" alt="image"><br><br>  Step five: the hidden service decrypts the introductory message and finds out the address of the meeting point and the secret key.  He creates a chain to the meeting point and sends a one-time secret key in the welcome message. <br><br><img src="https://www.torproject.org/images/THS-5.png" alt="image"><br><br>  In the last step, the meeting point notifies the client of a successful connection.  After that, the client and the hidden service use chains built up to the meeting point to communicate with each other.  Point simply transmits the encrypted message back and forth. <br><br>  In general, the full connection between the client and the hidden service consists of 6 repeaters: 3 are selected by the client (one of them is the meeting point), and the other three are selected by the hidden service. <br><br><img src="https://www.torproject.org/images/THS-6.png" alt="image"><br><br><h4>  Ricochet Design Technical Notes </h4><br><h5>  Project Goals </h5><br>  Create an instant messaging system with the following properties: <br><br>  - users are not identified by contacts or addresses <br>  - communication is authenticated and is private <br>  - no one has access to the list of contacts, message history or other metadata <br>  - resists censorship and tracing at the local network level <br>  - resists using blacklists or DOS <br>  - accessible and understandable for ordinary users <br>  - reliability and interactivity is comparable to traditional IM <br><br><h5>  Introduction </h5><br>  The identity of each user is represented by a hidden service and its point of contact.  This information is distributed as an id for communication in the form of ricochet: qjj5g7bxwcvs3d7i.  In this form, it is unique and sufficient to connect to the service. <br><br>  Being online, the user distributes information about his hidden service in the form of an id containing an onion address, and accepts bilateral anonymous connections, which are either identified as known contacts or used to receive requests for communication. <br><br>  Known contacts use a special protocol to send messages over established connections. <br><br><h5>  Contact Request </h5><br>  As in classic instant messaging systems, you can send a request to add a user to your contact list using his id.  Before you can send or receive messages, this request must be accepted. <br><br>  The request is sent by connecting to the service, which states that the connection is established for the contact request and provides various information, including the sender's id.  The sender, while online, periodically tries to establish a connection. <br><br>  Request includes: <br><br>  - the name of the hidden service recipient <br>  - random cookie created at the beginning of the connection by the recipient <br>  - random secret key that the recipient uses to confirm connections <br>  - the full public key associated with the hidden service and confirming the identity of the sender <br>  - perhaps a nickname and a short welcome message <br>  - Signing this RSA information with the same public key <br><br>  The recipient counts the sender's id based on the public key and confirms it by verifying the signature of the request.  This confirms the right of the sender to use the hidden service represented by his id <br><br>  The recipient can accept or reject the request.  You can add a rejected public key to the blacklist and automatically reject in the future <br><br><h5>  Connections between pins </h5><br>  Being online, the service periodically tries to communicate with each of the contacts.  If successful, the connection remains open and the contact is considered to be online.  For each of the contacts you need one connection, no matter which of the two contacts was its initiator. <br><br>  The hidden service layer is convenient in that it provides confidentiality, ephemerality, and confirmations - so the application protocol is very simple.  The client part of the connection is confirmed by a previously distributed random key created immediately after the contact request. <br><br>  For communication, a simple binary command-response protocol is used.  He is trying to add reliability to unstable connections.  For simplicity and complete control over the process, to exclude the possibility of attacks on the security and anonymity of communication, the original protocol is used, and not one of the ready-made options (like XMPP). <br><br>  The protocol includes the ability to check versions for future development. <br><br><h5>  Interface and stability </h5><br>  The interface is an important and often underestimated part of security and anonymity.  Less technical-savvy users should easily understand how to use the program and what to do to stay safe. <br><br>  The Ricochet interface tries to be simple and straightforward for those who have used other instant messaging managers.  Understanding Tor and network concepts is not required.  It should be easy to use it in the right way, it is difficult to violate security rules, and it is possible for IT specialists to expand the program <br><br><h5>  Future development </h5><br>  The protocol described here is close to the simplest option.  More advanced protocols can allow file transfer or streaming audio and video.  More advanced use of hidden services can reduce risks when opening a publicly accessible service.  You can also use shared services or more sophisticated services to prevent attacks.  Naturally, ideas and development assistance are welcome. </div><p>Source: <a href="https://habr.com/ru/post/242535/">https://habr.com/ru/post/242535/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../242519/index.html">Epson Projection Calculators - what's what</a></li>
<li><a href="../242521/index.html">Arduino in the service of health</a></li>
<li><a href="../242529/index.html">9 signs of a strong leader in IT</a></li>
<li><a href="../242531/index.html">Scheme> board> FPGA</a></li>
<li><a href="../242533/index.html">We write code C on Cython</a></li>
<li><a href="../242537/index.html">6 A / B tests that you can conduct today (and get results)</a></li>
<li><a href="../242539/index.html">David Chappell about the clouds and the future development</a></li>
<li><a href="../242541/index.html">Writing a framework on asyncio, aiohttp and thinking about Python3 part one</a></li>
<li><a href="../242543/index.html">Detailed description of development capabilities with Microsoft Azure Cloud Services</a></li>
<li><a href="../242545/index.html">Practical application of FlexBox</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>