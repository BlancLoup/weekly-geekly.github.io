<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Why it is not necessary to blame the inaccuracy of O-ratings for their problems</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The recent publication of this and now this translation inspired me to write this post, in which the authors express their dissatisfaction in an intel...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Why it is not necessary to blame the inaccuracy of O-ratings for their problems</h1><div class="post__text post__text-html js-mediator-article">  The recent publication of <a href="https://habrahabr.ru/post/308818">this</a> and <a href="https://habrahabr.ru/post/309394/">now this</a> translation inspired me to write this post, in which the authors express their dissatisfaction in an intelligent way about how O-estimates of the computational complexity of classical, seemingly, algorithms entered into dissonance with their practical development experience.  The main subject of criticism was the memory model, in which these estimates were obtained - it, de, does not take into account the peculiarities of hierarchical organization according to the principle of speed, which takes place in modern computing systems.  From what all subsequent troubles grow.  And judging by the observed reaction of grateful readers, the authors are far from being alone in their indignation and in their desire to ‚Äúoverlap‚Äù the classics with their O-big ones.  So perhaps it is really worth sending to the dustbin the history of the display of uncles in white coats, made by them for tube-breathing and heat-breathing machines, and to give way to young ambitious models that more accurately reflect the anatomy of modern iron? <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/570/b9b/dd3/570b9bdd394f69cbe4cebaaf68d3fb2e.jpg" alt="Did you take into account the constant in O-big?"></div><br>  Let's understand <br><a name="habracut"></a><br>  In the course of the text, I will refer to the <a href="https://habrahabr.ru/post/309394/">second publication</a> and some comments on it.  Touched for a living.  But for a start, let's agree exactly what is meant by this text. <br><br>  We introduce the definition.  Let be <img src="https://tex.s2cms.ru/svg/f">  and <img src="https://tex.s2cms.ru/svg/g">  - two real functions defined on the set <img src="https://tex.s2cms.ru/svg/S">  .  Then write <img src="https://tex.s2cms.ru/svg/f(s)%20%3D%20O(%20g(s)%20)%2C%20s%20%5Cin%20S">  means that there is such a positive number <img src="https://tex.s2cms.ru/svg/A">  that for all <img src="https://tex.s2cms.ru/svg/s%20%5Cin%20S">  fair <img src="https://tex.s2cms.ru/svg/%7Cf(s)%7C%20%5Cleq%20A%20%7Cg(s)%7C">  .  This designation is called <img src="https://tex.s2cms.ru/svg/O">  -notation, and <i>O</i> is called the Bachmann symbol, or simply " <i>O-</i> big". 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      From this definition there are several consequences at once: <br><br>  <strong>1.</strong> If for all <img src="https://tex.s2cms.ru/svg/s%20%5Cin%20S">  takes place <img src="https://tex.s2cms.ru/svg/%7Cg(s)%7C%20%5Cleq%20%7C%5Cphi(s)%7C">  then from <img src="https://tex.s2cms.ru/svg/f(s)%20%3D%20O(g(s))">  " follows that <img src="https://tex.s2cms.ru/svg/f(s)%20%3D%20O(%5Cphi(s))">  .  In particular, we have that multiplication by a constant does not change the <i>O-</i> estimate. <br><br>  Simply put, when multiplying an <i>O-</i> expression by a constant, the Bachmann symbol ‚Äúeats‚Äù this constant.  This means that <i>an equal sign in an expression that includes an <i>O</i> -evaluation cannot be interpreted as a classical ‚Äúequality‚Äù of values, and mathematical expressions cannot be applied to such expressions without further clarification</i> .  Otherwise we would get weird things like the following: <img src="https://tex.s2cms.ru/svg/f(s)%20%3D%20O(g(s))%3B%20f(s)%20%3D%202%20O(g(s))%20%5CRightarrow%20f(s)%20%3D%202f(s)">  .  This is a consequence of the arbitrariness of a constant that ‚Äúhides‚Äù behind the Bachmann symbol. <br><br>  <strong>2.</strong> If <img src="https://tex.s2cms.ru/svg/f(s)">  limited to <img src="https://tex.s2cms.ru/svg/S">  there is such a number <img src="https://tex.s2cms.ru/svg/M">  that for all <img src="https://tex.s2cms.ru/svg/s%20%5Cin%20S">  performed <img src="https://tex.s2cms.ru/svg/%7Cf(s)%7C%20%5Cleq%20M">  then <img src="https://tex.s2cms.ru/svg/f(s)%20%3D%20O(1)">  . <br><br>  Translating from mathematical to Russian and taking for simplicity as <img src="https://tex.s2cms.ru/svg/S">  the finite interval of the number line, we have the following: <i>if the function at a given interval does not go to infinity, then the most senseless thing to say about it is that it corresponds to <i>O</i> (1).</i>  <i>This is absolutely nothing new to say about her behavior</i> . <br><br><img src="https://habrastorage.org/files/ec7/454/e69/ec7454e693c34242894b88785a3ef3ce.png" alt="Guess my complexity"><br>  The blue line is O (‚àöN). <br><br>  Let us return to the case of estimating the complexity of the algorithm and look at the picture given by the author of the cited publication.  Observing the increase in execution time, it is concluded that the O (1) estimate is inconsistent.  But the interval at which the behavior of the program is analyzed is finite.  So, in fact, it is claimed that the O (1) estimate on it is bad. <br><br>  Well ... thanks, cap. <br><br>  Moreover, an attempt is further made to <i>guess</i> !  the majorizing function is simply by the form of a curve, they say, "as much as it seems."  Without conducting any analysis of the algorithm itself, taking into account the features that are trying to focus attention and not introducing any memory model!  And why, actually, is the square root there, and not cubic?  Or not a logarithm of any stray?  Well, the right word, would offer at least a couple of options, why did the "attention, correct answer" immediately? <br><br>  It is worth making a reservation.  Naturally, I do not lead to the incorrect conclusion that during the transition to the ‚Äúfarther‚Äù from the processor, the access time drops.  But the time of receiving a portion of data with <i>random</i> access to memory even at the slowest level of the hierarchy is a constant or at least limited value.  From which the estimate O (1) follows.  And if it is not limited and depends on the dimension of the data, then memory access is not arbitrary.  Well, stupid <i>by definition</i> .  Let's not forget that we are dealing with idealized algorithmic constructions.  Therefore, when it is said that ‚Äúdata centers will go further behind HDD‚Äù ... Gentlemen, well, what kind of random access is this, what arrays and hash tables?  This is called under the table: you quietly change the conditions of the problem, bring the answer to the previous one and shout: ‚ÄúAchtung!  Wrong as! ".  It causes an attack of heavy bewilderment in me.  After all, if behind the word <i>array</i> , <i>vector</i> or <i>&lt;some-type&gt; *</i> your compiler hides, say, a piece of memory distributed over the nodes of a cluster - then this structure can be anything, but not an array in terms of the books of Wirth and Knuth, and apply to them the results of formal analysis written in these books are a highly stupid idea.  And no less schizophrenia - quite seriously talking about the generality of the assessment, invented looking at the graph with the results of an arbitrary test. <br><br>  The fallacy of the given judgment is that the <i>O-</i> estimation of complexity is made on the basis of an experiment.  To emphasize this, we introduce another ‚Äúproperty‚Äù of <i>O</i> -notations applicable to estimates of algorithmic complexity: <br><br>  <strong>3.</strong> <i>O</i> -estimation can be obtained only from the analysis of the structure of the algorithm, but not from the results of the experiment.  According to the results of the experiment, you can get statistical estimates, expert estimates, approximate estimates and, finally, engineering and aesthetic pleasure - but not asymptotic estimates. <br><br>  The latter is a consequence of the fact that the very meaning of such estimates is to get an idea of ‚Äã‚Äãthe behavior of the algorithm <i>with sufficiently large</i> data dimensions, and how large it is usually not specified.  This is not the only and far from always main, but interesting characteristic of the algorithm.  At the time of Dijkstra and Hoar, the orders of dimension 3-6 could be considered rather large, nowadays 10-100 (according to my estimates that do not pretend to the depth of analysis).  In other words, when raising the question of obtaining asymptotic estimates for the complexity function of an algorithm, it is convenient to modify the definition of <i>O</i> -notation as follows: <br><br>  Let be <img src="https://tex.s2cms.ru/svg/0%20%3C%20x%20%3C%20%2B%5Cinfty">  .  Then <img src="https://tex.s2cms.ru/svg/f(x)%20%3D%20O(g(x))%2C%20x%20%5Crightarrow%20%2B%5Cinfty">  means that there are mutually independent positive numbers <i>A</i> and <i>n</i> , such that for all <img src="https://tex.s2cms.ru/svg/x%20%5Cgeq%20n">  performed <img src="https://tex.s2cms.ru/svg/%7Cf(x)%7C%20%5Cleq%20A%20%7Cg(x)%7C">  . <br><br>  That is, when analyzing algorithmic complexity, we actually consider the majorant functions of complexity on <i>all</i> intervals that are left bounded and not right bounded.  Therefore, such <i>O</i> -evaluations can be specified arbitrarily many, and all such evaluations can be practically useful.  Some of them will be accurate for small <i>N</i> , but quickly go to infinity.  Others will grow slowly, but will become fair starting from the <i>N</i> , to which we walk on our poor computers as far as the Moon.  So if we assume that the assessment of memory access time <img src="https://tex.s2cms.ru/svg/O(%5Csqrt%7BN%7D)">  If any structural analysis is hidden, then this estimate could well be used in a certain range of dimensions, but even then it would not cancel the correctness of the O (1) estimate. <br><br>  A classic example of incorrect comparison of asymptotic estimates is the multiplication algorithms of square matrices.  If you make a choice between algorithms only on the basis of a comparison of estimates, then we take the Williams algorithm and do not steam.  We can only wish the creative success of the decision maker to apply it to matrices of dimensions that are characteristic of engineering problems.  But on the other hand, we know that, starting with a certain dimension of the problem, the Strassen algorithm and its various modifications will work faster than the trivial, and this gives us room for maneuver in choosing approaches to solving the problem. <br><br><h3>  How stupidity comes out of wisdom </h3><br>  To sin on the inaccuracy of the <i>O-</i> scores is to not fully understand the meaning of these estimates, and if this is so, then no one forces them to use them.  It is quite possible and often justified to prefer them statistical estimates obtained as a result of tests on specific data sets specifically for your area.  Illiterate use of such a delicate instrument as asymptotic analysis leads to kinks and generally surprising pieces.  For example, using the <i>O-</i> notation, it is possible to prove the inconsistency of the idea of ‚Äã‚Äãparallel programming. <br><br>  Suppose that our algorithm, which is fed a portion of data of dimension <i>N</i> and which, when executed sequentially, has complexity <img src="https://tex.s2cms.ru/svg/f(N)%20%3D%20O(g(N))">  , is easily and naturally divided into the same <i>N</i> independent and, for simplicity, parts of the same computational and temporal complexity.  We get that the complexity of each such part is <img src="https://tex.s2cms.ru/svg/a%20%3D%20f(N)%20%2F%20N%20%3D%20O(g(N))%20%2F%20N%20%3D%20O(g(N)%20%2F%20N)">  .  Suppose we have <i>M</i> independent solvers.  Then the overall complexity of the execution of the parallel algorithm is nothing more than <img src="https://tex.s2cms.ru/svg/a%20%5Cfrac%7BN%7D%7BM%7D%20%3D%20O%5Cleft(%5Cfrac%7Bg(N)%7D%7BN%7D%20%5Cright)%20%5Cfrac%7BN%7D%7BM%7D%20%3D%20O%5Cleft(%20g(N)%20%5Cfrac%7BN%7D%7BN%20M%7D%20%5Cright)%20%3D%20O%5Cleft(%20%5Cfrac%7Bg(N)%7D%7BM%7D%20%5Cright)%20%3D%20O(%20g(N)%20)">  .  It turned out that the asymptotic estimate of the complexity of the algorithm as a result of even perfect parallelization to a finite number of processes does not change.  But the attentive reader noticed that the ‚Äúhidden‚Äù constant had changed, which had been crammed with the Bachmann symbol.  That is, it is at least silly to draw from such an analysis any general conclusions regarding the very idea of ‚Äã‚Äãparallelization.  But another extreme is also possible - to forget that the number of processors is of course and based on the infinite resource of parallelism to assert that the estimate of the ‚Äúparallel version of the algorithm‚Äù is <i>O</i> (1). <br><br><h3>  Let's sum up </h3><br>  As a conclusion, you can provide the following novelty assertions: <br><br><ul><li>  It cannot be argued that one algorithm is more efficient than another on the basis of a simple comparison of their <i>O-</i> scores.  Such a statement always requires clarification. <br><br></li><li>  It is impossible to conclude from the results of performance measurements whether these estimates are correct or incorrect - the hidden constant is usually unknown and can be quite large. <br><br></li><li>  It is possible (and sometimes necessary) to reason about algorithms and data structures without using such estimates at all.  To do this, it is enough just to say exactly what their properties interest you. <br><br></li><li>  But it is better to take specific engineering solutions, including the characteristics of the algorithms used. </li></ul><br>  Behind the statement that the asymptotic estimates are inaccurate, incorrect or impractical, there is often a reluctance to conduct a normal preliminary analysis of the problem posed and an attempt to rely on the name, but not the essence of the abstractions that are dealt with.  Speaking about the asymptotic complexity of the algorithm, a competent specialist understands that we are talking about idealized structures, keeps in mind the degree of correctness of projecting them onto real hardware, and <i>never</i> , from the word ‚Äúin general,‚Äù makes engineering decisions relying solely on it.  <i>O-</i> evaluations are more useful in developing new algorithms and finding fundamental solutions to complex problems and are much less useful in writing and debugging specific programs for specific hardware.  But if you interpreted them incorrectly and received something completely different from what your reading comprehension promised in smart books, you will agree that this is not a problem for those who have received these evaluations conclusively. </div><p>Source: <a href="https://habr.com/ru/post/310038/">https://habr.com/ru/post/310038/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../310024/index.html">The story of one programmer</a></li>
<li><a href="../310026/index.html">One day programmers will destroy this world</a></li>
<li><a href="../310028/index.html">My way is a programmer. From QA student to remote Java developer</a></li>
<li><a href="../310030/index.html">Community Messages and Webweek from Yandex</a></li>
<li><a href="../310032/index.html">The dark side of protobuf</a></li>
<li><a href="../310040/index.html">You do not like triggers?</a></li>
<li><a href="../310042/index.html">We build our full stack on JavaScript: Server</a></li>
<li><a href="../310044/index.html">Fonts on the web, a review from 2016</a></li>
<li><a href="../310046/index.html">How to manage the giants Vol.3: the full life cycle of the project</a></li>
<li><a href="../310048/index.html">How much conflict developers - infographics on the results of the survey on "My Circle"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>