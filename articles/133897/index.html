<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Cross platform is cool</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This post participates in the competition " Smart phones for smart posts ". 

 It's no secret that today mobile games are very popular. The ability to...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Cross platform is cool</h1><div class="post__text post__text-html js-mediator-article">  This post participates in the competition " <a href="http://habrahabr.ru/company/Nokia/blog/132522/">Smart phones for smart posts</a> ". <br><br>  It's no secret that today mobile games are very popular.  The ability to write one of these games is every developer, even a beginner.  Often the question arises with the choice of platform.  Of course, I want the game to be everywhere at once: on iOS and Android, on WP7 and MeeGo, on the desktop and in the browser.  And so that all this can be easily implemented using free tools. <br><br><img src="https://habrastorage.org/storage1/993f6044/2dded2f7/7bb87a35/db00f023.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In this article I will tell you how to make the bulk of the code platform-independent, and for the rest use convenient development tools for each specific platform. <br><a name="habracut"></a><br>  The goal of the game shown in the picture above is to have time to hit the apple while it is flying down.  Over time, the number of apples increases, and not to miss them is becoming increasingly difficult.  The apples fall at an arbitrary angle, rotating and bouncing realistically from the borders thanks to the physics engine <a href="http://box2d.org/">Box2D</a> .  The game will run on Android, Qt-enabled platforms (Symbian, Maemo, MeeGo, Windows, Linux, Mac OS X) and Google Chrome browser. <br><br><h4>  Selection of convenient tools </h4><br> <a href="http://qt.nokia.com/products/developer-tools/"><img src="https://habrastorage.org/storage1/d16da29b/fa818cd6/c7887c15/55948fbd.png" align="left"></a> <br>  Since I will write the main part of the code in pure C ++ (why, read at the end of the article), any IDE is suitable for this.  I will choose Qt Creator, although nothing prevents me from using Microsoft Visual Studio or Eclipse, for example. <br><br> <a href="http://code.google.com/p/libgdx/"><img src="https://habrastorage.org/storage1/32a1b0dc/b419a542/3f5b4bf9/4db6d4ca.png" align="left"></a> <br>  For the Android platform, I will focus on the libgdx library.  With it, you can easily draw textures, play sounds and do other necessary things. <br><br> <a href="http://qt.nokia.com/"><img src="https://habrastorage.org/storage1/984508f3/a083d931/beca838b/215d9d79.png" align="left"></a> <br>  As a tool for developing games on the desktop, I will take Qt.  I have long been acquainted with this library, and it never ceases to please me.  When using Qt, I will also get a nice bonus in the form of support for Symbian, Maemo and MeeGo mobile operating systems. <br><br> <a href="http://code.google.com/chrome/nativeclient/"><img src="http://habrastorage.org/storage1/1bb8342c/baa1318c/aab7bff9/d8b7eef1.png" align="left"></a> <br>  Also, especially for this article, using HTML5, javascript and <a href="https://developers.google.com/native-client/">Google Native Client,</a> I will make the game run in Google Chrome browser.  I will use HTML5 Canvas and Audio, and you will see how easy and simple it is. <br><br><br>  The implementation of the logic is not complicated, so I will not write about it (anyone can take a look at the <a href="">code</a> ).  Instead, I will focus on how to make the game work on all operating systems. <br><br><h4>  Abstracting from the final platform </h4><br>  As I said, the main part of the code will be common to all platforms.  Let's call it "engine".  I will need to solve two problems.  The first is calling the engine methods on each platform: <br><img src="https://habrastorage.org/storage1/1bd87d80/c45d2eb8/f7867bef/f10a1cd5.png"><br>  For this, the engine will provide the platforms with the following interface: <br><img src="https://habrastorage.org/storage1/ad14cb47/c924f453/f2612bf1/d1954704.png" align="right"><pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Application</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: Application(); ~Application(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">render</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">touch</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> y)</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">//... };</span></span></code> </pre> <br>  Calling the drawing and input handlers on different platforms will call methods from the Application class, for example, when using Qt, it will look like this: <br><img src="https://habrastorage.org/storage1/984508f3/a083d931/beca838b/215d9d79.png" align="right"><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> QtPlatrom::paintEvent(QPaintEvent *) { <span class="hljs-function"><span class="hljs-function">QPainter </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">painter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; m_painter = &amp;painter; m_app-&gt;render(); } <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> QtPlatrom::mousePressEvent(QMouseEvent *e) { QWidget::mousePressEvent(e); m_app-&gt;touch(e-&gt;x(), height() - e-&gt;y()); }</code> </pre><br>  On Android it will be a little more difficult, because from Java you need to get into C ++: <br><img src="https://habrastorage.org/storage1/afb074c2/4a3c4015/6ba0bf23/bfa846ad.png" align="right"><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">native</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">renderNative</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">native</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">touchNative</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> y)</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> { System.loadLibrary(<span class="hljs-string"><span class="hljs-string">"fruitclick"</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">render</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ renderNative(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">touchDown</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> y, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> pointer, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> button)</span></span></span><span class="hljs-function"> </span></span>{ touchNative(x, Gdx.graphics.getHeight() - y); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; }</code> </pre><br>  After that, the corresponding methods are called in C ++: <br><img src="https://habrastorage.org/storage1/afb074c2/4a3c4015/6ba0bf23/bfa846ad.png" align="right"><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Java_com_fruitclick_Application_renderNative</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(JNIEnv* env, jobject thiz)</span></span></span><span class="hljs-function"> </span></span>{ g_app-&gt;render(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Java_com_fruitclick_Application_touchNative</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(JNIEnv* env, jobject thiz, jint x, jint y)</span></span></span><span class="hljs-function"> </span></span>{ g_app-&gt;touch(x, y); }</code> </pre><br>  When using Native Client in javascript browser, you cannot directly access C ++, instead you need to send messages to the module, for example, the lines: <br><img src="http://habrastorage.org/storage1/1bb8342c/baa1318c/aab7bff9/d8b7eef1.png" align="right"><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onTouch</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> coords = getCursorPosition(e); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> x = coords[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> y = canvas.height - coords[<span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> message = <span class="hljs-string"><span class="hljs-string">"touch "</span></span> + x.toString() + <span class="hljs-string"><span class="hljs-string">" "</span></span> + y.toString(); FruitclickModule.postMessage(message); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">simulate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ FruitclickModule.postMessage(<span class="hljs-string"><span class="hljs-string">'render'</span></span>); setTimeout(<span class="hljs-string"><span class="hljs-string">"simulate()"</span></span>, <span class="hljs-number"><span class="hljs-number">16</span></span>); }</code> </pre><br>  In C ++, messages are analyzed, and depending on the content, one or another method is called: <br><img src="http://habrastorage.org/storage1/1bb8342c/baa1318c/aab7bff9/d8b7eef1.png" align="right"><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> NaclPlatform::HandleMessage(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> pp::Var&amp; var) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!var.is_string()) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-function"><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-built_in">stringstream</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">stream</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(var.AsString())</span></span></span></span>; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span> type; stream &gt;&gt; type; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (type == <span class="hljs-string"><span class="hljs-string">"render"</span></span>) { m_app.render(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (type == <span class="hljs-string"><span class="hljs-string">"touch"</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> y; stream &gt;&gt; x &gt;&gt; y; m_app.touch(x, y); } }</code> </pre><br>  As a result, the engine does not matter which platform the call was from; it was abstracted from it.  But he knows that the screen has been touched at the point (x, y) or the time has come to process physics and display images on the screen. <br><br><h4>  Reverse Interaction </h4><br>  The second task is the reverse interaction of the engine with the platform: <br><img src="https://habrastorage.org/storage1/35ad174d/cc178b9a/6e0905eb/f7419b09.png"><br>  This is necessary in order for the engine to command when to display images and text on the screen, play sound, vibrate.  To do this, all platforms must implement a common interface.  Let's call this interface Platform: <br><img src="https://habrastorage.org/storage1/ad14cb47/c924f453/f2612bf1/d1954704.png" align="right"><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Platform</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> Texture { APPLE = <span class="hljs-number"><span class="hljs-number">0</span></span>, BACKGROUND }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Texture id, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> y, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> angle = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">drawText</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params">* text, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> y)</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> Sound { CRUNCH = <span class="hljs-number"><span class="hljs-number">0</span></span>, CRASH }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">playSound</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Sound id)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vibrate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">//... };</span></span></code> </pre><br>  At the engine level, I do not attach to any specific platform, I do not upload pictures or audio files, instead I use numeric identifiers.  When I want to display an image on the screen, or play a sound, I do the following: <br><br><img src="https://habrastorage.org/storage1/ad14cb47/c924f453/f2612bf1/d1954704.png" align="right"><pre> <code class="cpp hljs">Platform::draw(Platform::BACKGROUND, screenWidth/<span class="hljs-number"><span class="hljs-number">2</span></span>, screenHeight/<span class="hljs-number"><span class="hljs-number">2</span></span>); Platform::playSound(Platform::CRASH);</code> </pre><br>  Thus, the engine abstracts from the details of the implementation of various operations on each platform.  I give for clarity the class diagram: <br><img src="https://habrastorage.org/storage1/cb5b7611/a10bb666/208dd911/4a55d689.png"><br>  Is it difficult to do all this?  You make sure that no.  Time, of course, will have to be spent, but in most cases it can be neglected in comparison with the time spent on programming the application logic.  I will provide code for the Android, Qt and Native Client platforms for each required operation: <br>  Drawing image, Android (libgdx): <br><img src="https://habrastorage.org/storage1/afb074c2/4a3c4015/6ba0bf23/bfa846ad.png" align="right"><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> id, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> y, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> angle)</span></span></span><span class="hljs-function"> </span></span>{ TextureRegion region = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (id) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> BACKGROUND: region = background; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> APPLE: region = apple; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> w = region.getRegionWidth(); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> h = region.getRegionHeight(); batch.draw(region, x - w/<span class="hljs-number"><span class="hljs-number">2</span></span>, y - h/<span class="hljs-number"><span class="hljs-number">2</span></span>, w/<span class="hljs-number"><span class="hljs-number">2</span></span>, h/<span class="hljs-number"><span class="hljs-number">2</span></span>, w, h, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, angle); }</code> </pre><br>  Drawing an image, Qt: <br><img src="https://habrastorage.org/storage1/984508f3/a083d931/beca838b/215d9d79.png" align="right"><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> QtPlatrom::drawImpl(Texture id, <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> x, <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> y, <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> angle) { QPixmap* pixmap = <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(id) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> FruitClick::Platform::APPLE: pixmap = &amp;m_apple; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> FruitClick::Platform::BACKGROUND: pixmap = &amp;m_background; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } y = height() - y; m_painter-&gt;translate(x, y); m_painter-&gt;rotate(-angle); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> w = pixmap-&gt;width(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> h = pixmap-&gt;height(); m_painter-&gt;drawPixmap(-w/<span class="hljs-number"><span class="hljs-number">2</span></span>, -h/<span class="hljs-number"><span class="hljs-number">2</span></span>, w, h, *pixmap); m_painter-&gt;rotate(angle); m_painter-&gt;translate(-x, -y); }</code> </pre><br>  Drawing image, javascript (HTML5 Canvas): <br><img src="http://habrastorage.org/storage1/1bb8342c/baa1318c/aab7bff9/d8b7eef1.png" align="right"><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">id, x, y, angle</span></span></span><span class="hljs-function">) </span></span>{ y = canvas.height - y; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> image = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(id) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>: image = apple; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: image = background; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } context.translate(x, y); context.rotate(-angle); context.drawImage(image, -image.width/<span class="hljs-number"><span class="hljs-number">2</span></span>, -image.height/<span class="hljs-number"><span class="hljs-number">2</span></span>); context.rotate(angle); context.translate(-x, -y); }</code> </pre><br>  Drawing text, Android (libgdx): <br><img src="https://habrastorage.org/storage1/afb074c2/4a3c4015/6ba0bf23/bfa846ad.png" align="right"><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">drawText</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String text, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> y)</span></span></span><span class="hljs-function"> </span></span>{ font.draw(batch, text, x, y); }</code> </pre><br>  Drawing text, Qt: <br><img src="https://habrastorage.org/storage1/984508f3/a083d931/beca838b/215d9d79.png" align="right"><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> QtPlatrom::drawTextImpl(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *text, <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> x, <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> y) { y = height() - y; m_painter-&gt;drawText(x, y, text); }</code> </pre><br>  Drawing text, javascript (HTML5 Canvas): <br><img src="http://habrastorage.org/storage1/1bb8342c/baa1318c/aab7bff9/d8b7eef1.png" align="right"><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">drawText</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">text, x, y</span></span></span><span class="hljs-function">) </span></span>{ y = canvas.height - y; context.fillText(text, x, y); }</code> </pre><br>  Playing sound, Android (libgdx): <br><img src="https://habrastorage.org/storage1/afb074c2/4a3c4015/6ba0bf23/bfa846ad.png" align="right"><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">playSound</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> id)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (id) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> CRUNCH: crunch.play(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> CRASH: crash.play(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } }</code> </pre><br>  Sound playback, Qt: <br><img src="https://habrastorage.org/storage1/984508f3/a083d931/beca838b/215d9d79.png" align="right"><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> QtPlatrom::playSoundImpl(Sound id) { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (id) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> FruitClick::Platform::CRUNCH: m_crunch.play(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> FruitClick::Platform::CRASH: m_crash.play(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } }</code> </pre><br>  Sound playback, javascript (HTML5 Audio): <br><img src="http://habrastorage.org/storage1/1bb8342c/baa1318c/aab7bff9/d8b7eef1.png" align="right"><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">playSound</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">id</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> sound = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(id) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>: sound = crunch; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: sound = crash; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } sound.currentTime = <span class="hljs-number"><span class="hljs-number">0</span></span>; sound.play(); }</code> </pre><br>  Vibration, Android (libgdx): <br><img src="https://habrastorage.org/storage1/afb074c2/4a3c4015/6ba0bf23/bfa846ad.png" align="right"><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vibrate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Gdx.input.vibrate(<span class="hljs-number"><span class="hljs-number">100</span></span>); }</code> </pre><br>  When implementing for Android, you will have to tinker a bit with a call to java code from C ++ - once you get the ID of the necessary java methods: <br><img src="https://habrastorage.org/storage1/afb074c2/4a3c4015/6ba0bf23/bfa846ad.png" align="right"><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setupEnv</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(JNIEnv* env, jobject thiz)</span></span></span><span class="hljs-function"> </span></span>{ g_env = env; g_activity = thiz; g_activityClass = env-&gt;GetObjectClass(thiz); drawID = env-&gt;GetMethodID(g_activityClass, <span class="hljs-string"><span class="hljs-string">"draw"</span></span>, <span class="hljs-string"><span class="hljs-string">"(IFFF)V"</span></span>); drawTextID = env-&gt;GetMethodID(g_activityClass, <span class="hljs-string"><span class="hljs-string">"drawText"</span></span>, <span class="hljs-string"><span class="hljs-string">"(Ljava/lang/String;FF)V"</span></span>); playSoundID = env-&gt;GetMethodID(g_activityClass, <span class="hljs-string"><span class="hljs-string">"playSound"</span></span>, <span class="hljs-string"><span class="hljs-string">"(I)V"</span></span>); }</code> </pre><br>  and then call them: <br><img src="https://habrastorage.org/storage1/afb074c2/4a3c4015/6ba0bf23/bfa846ad.png" align="right"><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> AndroidPlatform::drawImpl(FruitClick::Platform::Texture id, <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> x, <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> y, <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> angle) { g_env-&gt;CallVoidMethod(g_activity, drawID, id, x, y, angle); } <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> AndroidPlatform::drawTextImpl(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span>* text, <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> x, <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> y) { jstring javaString = g_env-&gt;NewStringUTF(text); g_env-&gt;CallVoidMethod(g_activity, drawTextID, javaString, x, y); } <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> AndroidPlatform::playSoundImpl(FruitClick::Platform::Sound id) { g_env-&gt;CallVoidMethod(g_activity, playSoundID, id); }</code> </pre><br>  Nontrivial situation with the Native Client - you need to send messages from C ++ code to javascript: <br><img src="http://habrastorage.org/storage1/1bb8342c/baa1318c/aab7bff9/d8b7eef1.png" align="right"><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span>* sep = <span class="hljs-string"><span class="hljs-string">"|"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> NaclPlatform::drawImpl(FruitClick::Platform::Texture id, <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> x, <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> y, <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> angle) { <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">stringstream</span></span> stream; stream &lt;&lt; <span class="hljs-string"><span class="hljs-string">"draw"</span></span> &lt;&lt; sep &lt;&lt; id &lt;&lt; sep &lt;&lt; x &lt;&lt; sep &lt;&lt; y &lt;&lt; sep &lt;&lt; angle; PostMessage(pp::Var(stream.str())); } <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> NaclPlatform::drawTextImpl(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span>* text, <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> x, <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> y) { <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">stringstream</span></span> stream; stream &lt;&lt; <span class="hljs-string"><span class="hljs-string">"drawText"</span></span> &lt;&lt; sep &lt;&lt; text &lt;&lt; sep &lt;&lt; x &lt;&lt; sep &lt;&lt; y; PostMessage(pp::Var(stream.str())); } <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> NaclPlatform::playSoundImpl(FruitClick::Platform::Sound id) { <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">stringstream</span></span> stream; stream &lt;&lt; <span class="hljs-string"><span class="hljs-string">"playSound"</span></span> &lt;&lt; sep &lt;&lt; id; PostMessage(pp::Var(stream.str())); }</code> </pre><br>  And in javascript these messages parse: <br><img src="http://habrastorage.org/storage1/1bb8342c/baa1318c/aab7bff9/d8b7eef1.png" align="right"><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handleMessage</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">message_event</span></span></span><span class="hljs-function">) </span></span>{ params = message_event.data.split(<span class="hljs-string"><span class="hljs-string">"|"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (params[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-string"><span class="hljs-string">"draw"</span></span>) { draw(<span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(params[<span class="hljs-number"><span class="hljs-number">1</span></span>]), <span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(params[<span class="hljs-number"><span class="hljs-number">2</span></span>]), <span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(params[<span class="hljs-number"><span class="hljs-number">3</span></span>]), <span class="hljs-built_in"><span class="hljs-built_in">parseFloat</span></span>(params[<span class="hljs-number"><span class="hljs-number">4</span></span>])); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (params[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-string"><span class="hljs-string">"drawText"</span></span>) { drawText(params[<span class="hljs-number"><span class="hljs-number">1</span></span>], <span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(params[<span class="hljs-number"><span class="hljs-number">2</span></span>]), <span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(params[<span class="hljs-number"><span class="hljs-number">3</span></span>])); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (params[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-string"><span class="hljs-string">"playSound"</span></span>) { playSound(<span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(params[<span class="hljs-number"><span class="hljs-number">1</span></span>])); } }</code> </pre><br><br><h4>  Result </h4><br>  This simple game is called Catch an Apple.  I propose to start and try to hold out for a couple of minutes, at first I did not succeed: <br>  - <a href="http://fruit-click.appspot.com/fruitclick.html">Native Client version</a> (make sure you have the latest version of the Google Chrome browser, and the Native Client is included with about: plugins and about: flags).  The size of the nexe executable file is 4.2Mb for 32-bit systems and 4.9Mb for 64-bit, with a slow connection, you will have to wait a bit; <br>  - <a href="http://code.google.com/p/fruit-click/downloads/detail%3Fname%3Dfruitclick.zip">Windows version</a> - for those who do not like Google Chrome. <br><br>  Video: <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/mpQIKL0p07U%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700191,15700253,15700255,15700259&amp;usg=ALkJrhjx_3W9tARek7oyur0kKOq1WYLC1Q" frameborder="0" allowfullscreen=""></iframe><br>  The game runs perfectly on the Android emulator and my LG Optimus.  The same situation with Qt Simulator (screenshot from Nokia N9 at the very beginning of the topic). <br><br><h5>  Code </h5><br>  The code can be taken <a href="http://code.google.com/p/fruit-click/source/checkout">here</a> , I think it can be useful to someone, especially the sites that are responsible for a bunch of Java and C ++, javascript and C ++ (if you have questions about this, ask, do not hesitate to answer with pleasure). <br><br><h4>  Why all this? </h4><br>  Many of you will think, why write a bicycle?  If there is <a href="http://www.madewithmarmalade.com/">Marmalade</a> or <a href="http://unity3d.com/">Unity</a> , for example.  There are, but they cost money, and why such heavyweights for a simple 2D toy?  Some people also say that Qt starts on Android and iOS, but in fact on Android it doesn‚Äôt start like that very much, without sound and OpenGL, and on iOS in general, only YouTube videos.  I really like Qt, and I hope that in the near future, applications for iOS and Android can be written as easily as now for MeeGo, but for now it is better to use other tools for these platforms. <br><br><h5>  Benefits </h5><br>  Using the approach described in this article, you are not tied to the platform, you can use the tools you want, and later you can easily change them.  On the desktop - Qt or GTK, on ‚Äã‚ÄãAndroid - libgdx or AndEngine, on iOS - cocos2d, the choice is yours.  You can completely refuse engines using the API provided by the platform.  Most of the time, you can write and debug code in your favorite IDE on a great and powerful C ++. <br><br><h5>  disadvantages </h5><br>  There are drawbacks, of course, for example, you will not be able to use ready-made UI components - you will need to implement them in C ++.  Or take out the UI part of the application in each platform.  Also, you will definitely have to get to know each platform closely, but as practice shows, it is never possible to completely escape from this acquaintance. <br><br><h4>  To be continued? </h4><br>  Do you still think that a game for mobile platforms in C ++ is a bad idea?  Look at the <a href="http://www.rovio.com/en/careers/Open-positions/view/14/senior-game-programmer">Angry Birds</a> .  Listen to the <a href="http://channel9.msdn.com/posts/C-and-Beyond-2011-Herb-Sutter-Why-C">wonderful performance of</a> Gerb Sutter.  Think about the fact that C ++ support is almost everywhere, and that after the new C ++ 11 standard is implemented in all NDKs, it will be even better. </div><p>Source: <a href="https://habr.com/ru/post/133897/">https://habr.com/ru/post/133897/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../133892/index.html">The tale of how the tower robot collected</a></li>
<li><a href="../133893/index.html">Square root extraction using normal Markov algorithms</a></li>
<li><a href="../133894/index.html">The complex of devices for automatic fare payment on the basis of a system of long-range RFID identification</a></li>
<li><a href="../133895/index.html">GTV Channel: Steve Jobs Documentary and NEXT. 1986 (Russian translation)</a></li>
<li><a href="../133896/index.html">Kaspersky vs SOPA</a></li>
<li><a href="../133900/index.html">Symbian Web Runtime: easy mobile application development</a></li>
<li><a href="../133903/index.html">Optimization of code execution speed</a></li>
<li><a href="../133906/index.html">Anti-rootkit hypervisor: how it works</a></li>
<li><a href="../133907/index.html">Binary compatibility in the examples and not only</a></li>
<li><a href="../133909/index.html">Upgrade viola jones</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>