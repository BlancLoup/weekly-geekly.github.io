<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Transparent authentication in Redmine</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today's post will be about the convenience of using Redmine in a corporate environment, and to be more precise, about the transparent authorization of...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Transparent authentication in Redmine</h1><div class="post__text post__text-html js-mediator-article">  Today's post will be about the convenience of using Redmine in a corporate environment, and to be more precise, about the transparent authorization of Redmine users in the Microsoft Active Directory domain. <br><br>  We use Redmine as a unified information environment in which all company employees work.  Entering the same password twice is always inconvenient.  Therefore, we configured transparent authentication through the domain. <br><br><img src="https://habrastorage.org/files/611/47f/855/61147f855df34d119d648fc83d820718.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br><h2>  Transparent authentication </h2><br>  Firstly, Redmine itself has an excellent possibility of authorization through LDAP (Active Directory is a superstructure over LDAP).  By filling in a small number of fields, you can quickly get the opportunity to authenticate users in the domain, and even create them on the fly.  This feature eliminates the need for an administrator to start each new user. <br><br><img src="https://habrastorage.org/files/f05/654/b1c/f05654b1c135466aa5bc031108fbaaf2.png"><br><br>  But the problem is that the average user, who first came to the company, instantly has the question "What password should I enter?".  This question, as a rule, delays the influence of specialists.  Therefore, we wrote a small plugin (add-on over the native Redmine authentication mechanism) - <a href="http://rmplus.pro/ru/redmine/plugins/single_auth">SSO (Single sign-on)</a> . <br><br>  The main function of the plug-in is to take the user‚Äôs login from the server variable and, if this login matches the Redmine user base, transparently authenticate the user or create it and then authenticate if the login was not found. <br><br>  Thus, all new users get rid of the need to enter a username and password.  All they need is to open a shortcut on the desktop, and they immediately get into the corporate environment. <br><br><h3>  How to configure server side </h3><br>  What should I do to make the login of an authorized user appear in the server variable?  We use Apache as a web server.  The main reason why we do not switch to Ngnix is ‚Äã‚Äãthe lack of a stable NTLM authentication module in the Windows domain. <br><br>  Can someone be able to suggest it? <br><br>  In Apache, everything is quite simple.  You need to download and compile the NTLM authentication module.  On how to do this, I wrote in detail in my first article, there are also described some glitches of the work of this module: <a href="http://habrahabr.ru/company/monandco/blog/198496/">habrahabr.ru/company/monandco/blog/198496</a> <br><br><h3>  How to configure on the client side </h3><br>  For transparent authentication to work correctly, the client‚Äôs browser must pass certain information to the north.  By default, browsers do not do this and a window pops up asking to enter the domain login and password (but we do not need it). <br><br>  <b>Firefox</b> <br>  It is necessary in the URL line to type "about: config" <br>  Find the "network.automatic-ntlm-auth.trusted-uris" option and add your domain to it. <br><br><img src="https://habrastorage.org/files/2c7/93b/816/2c793b8164eb4f9eaaee588f18bd5320.png"><br><br>  <b>Chrome and IE</b> <br>  You need to add the domain to the trusted zone. <br><br><img src="https://habrastorage.org/files/2e8/7c8/c97/2e87c8c971cb466fb749d1ad19188a43.png"><br><br>  And change the settings for the trusted zone. <br><br><img src="https://habrastorage.org/files/566/c1b/149/566c1b149d864acc95b842ab83ff339d.png"><br><br>  Chrome for Windows picks up settings from Internet Explorer. <br>  Of course, all this is better done using group policies. <br><br>  The SSO plugin implements a number of other useful features. <br><br><h2>  2 factor authentication </h2><br>  The plugin implements 2-factor authentication in Redmine with sending the code via SMS.  True, you need your own SMS gateway, which will send SMS messages. <br><br>  You can configure various parameters for 2-factor authentication.  For example, you can disable authentication on specific domains or IP addresses.  This is useful when you want to get an additional check only for users working outside. <br><br>  You can disable 2-factor authentication for users from certain Redmine security groups, for example, for admins. <br><br><h2>  Screen saver inside browser window </h2><br>  This is a kind of crutch solution for those who do not have a normal user blocking due to inactivity in the operating system.  You can set the interval, after which, in cases of user inactivity in the browser window, instead of the Redmine interface, a splash screen appears from the matrix. <br><br><img src="https://habrastorage.org/files/ebc/635/95a/ebc63595ad7b4174849ed25402f78801.png"><br><br>  Additionally, you can enable automatic logout by timeout. <br><br>  I hope my article and our plugin will be useful to you.  If you have any questions about the use of Redmine, then write in the comments.  I will try to answer. </div><p>Source: <a href="https://habr.com/ru/post/245661/">https://habr.com/ru/post/245661/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../245647/index.html">How was the Dell Solution Forum 2014 in Moscow</a></li>
<li><a href="../245651/index.html">Installation, configuration and testing of Fedora 21 Workstation on a personal or gaming computer</a></li>
<li><a href="../245653/index.html">Electrofocus on the base of the Arduino Uno debug board, part 3</a></li>
<li><a href="../245657/index.html">IPv6: How many addresses do you need for happiness?</a></li>
<li><a href="../245659/index.html">Perl. 27 years later</a></li>
<li><a href="../245663/index.html">Transfer Windows to another computer using Linux</a></li>
<li><a href="../245665/index.html">One-page store with shopping cart at Phalcon + AngularJS + Zurb Foundation</a></li>
<li><a href="../245667/index.html">Migrating Windows Server 2003 to Windows Server 2012 R2: Active Directory</a></li>
<li><a href="../245669/index.html">New Year's Eve: once again about goal-setting</a></li>
<li><a href="../245671/index.html">Fake BLE device on nRF24l01</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>