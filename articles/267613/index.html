<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Advertise AdMob in an Android application on the Adobe Air platform</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="After I developed my first, simplest Android application on Adobe Air , I wanted to add an advertisement to it, if only to know how to do it in the fu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Advertise AdMob in an Android application on the Adobe Air platform</h1><div class="post__text post__text-html js-mediator-article">  After I developed my first, simplest <b>Android application</b> on <b>Adobe Air</b> , I wanted to add an advertisement to it, if only to know how to do it in the future.  I spent a lot of time on this, not finding anything about it on the Internet in Russian.  Therefore, I decided to write a brief guide to action, for those who still need it.  We will add ads from <b>Google AdMob</b> . <br><a name="habracut"></a><br><h4>  1. Load ANE </h4><br>  To work with third-party services (AdMob, GameCenter and etc.), as well as with some technical capabilities of devices (gyroscope, vibration, etc.) Adobe suggests using Adobe Native Extensions (ANE) - something similar to external libraries.  ANEs are files with the .ane extension that contain <b>Action Script 3</b> class descriptions with which you can interact after connecting the extension. <br>  The site ( <a href="http://www.adobe.com/devnet/air/native-extensions-for-air.html">Adobe</a> ) has a list of recommended ANEs, developed by both the company's developers and third-party developers.  As for AdMob, Adobe offers only commercial ANE from Milkman Games ($ 29.99 at the time of writing the post) and from distriqt ($ 40 at the time of writing the post) for interaction with this service.  Of course, I did not have the desire to pay such a sum and I went on a journey across the expanses of the Internet to search for the free version. <br>  The search ultimately led to Code-Alchemy's AdMobAne.  This extension is publicly available <a href="https://github.com/Code-Alchemy/AdMobAne">in the GitHub repository</a> .  We load it with the archive, unpack it, find the anes_builds folder, select the ANE file you need (depending on whether you are writing apps for Android, iOS or for both platforms) and send it to the folder with your project. <br><br><h4>  2. Connect ANE </h4><br>  Now we connect ANE to the project.  If you are using Flash Professional, you need to go to the ActionScript 3.0 settings page, then click on the "Go to file with your own extension (ANE)" button and specify the path to the .ane file: <br><br><img src="https://habrastorage.org/files/41d/7f4/664/41d7f46648534f469e0aad5a2e9705da.png"><img src="https://habrastorage.org/files/57e/492/f6f/57e492f6fbdf46fb8d93764934430eee.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Now the extension should appear in the list below. <br><br><h4>  3. Edit the application manifest </h4><br>  In order to successfully insert advertising into your application, you must firstly declare in the manifest that the application requires Internet access, and secondly, add new activity.  Add the following lines to the manifest: <br><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">manifestAdditions</span></span></span><span class="hljs-tag">&gt;</span></span> &lt;![CDATA[&lt;manifest&gt; &lt;uses-permission android:name="android.permission.INTERNET"/&gt; &lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/&gt; &lt;uses-permission android:name="android.permission.ACCESS_WIFI_STATE"/&gt; &lt;application&gt; &lt;meta-data android:name="com.google.android.gms.version" android:value="4452000"/&gt; &lt;activity android:name="com.google.android.gms.ads.AdActivity" android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize" /&gt; &lt;/application&gt; &lt;/manifest&gt;]]&gt; <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">manifestAdditions</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  <b>In order for the manifest to be successfully parsed by the parser, it is necessary to use at least AIR 3.4</b> , in case of using the older version, you will receive an unpleasant critical error.  In addition, you need to periodically make sure that after the next publication of the application, the lines describing the new activity (what you just added) remain in the manifest, because after changing the publish settings, Flash can automatically rewrite the manifest and delete them - and you will be long and hard look for a mistake. <br><br>  Also verify that the following is in your manifest: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">extensions</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">extensionID</span></span></span><span class="hljs-tag">&gt;</span></span>com.codealchemy.ane.admobane<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">extensionID</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">extensions</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><h4>  4. Write the code </h4><br>  A detailed description of the classes, methods and properties is provided on <a href="https://github.com/Code-Alchemy/AdMobAne">the ANE page in GitHub</a> .  I'll tell you how to create a regular banner: <br>  1. Import the necessary classes. <br><br><pre> <code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span></span></span><span class="hljs-meta"> com.codealchemy.ane.admobane.AdMobManager;</span></span> <span class="hljs-meta"><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span></span></span><span class="hljs-meta"> com.codealchemy.ane.admobane.AdMobPosition;</span></span> <span class="hljs-meta"><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span></span></span><span class="hljs-meta"> com.codealchemy.ane.admobane.AdMobSize;</span></span></code> </pre><br>  2. Get the manager. <br><br><pre> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> adMobManager:AdMobManager; adMobManager = AdMobManager.manager;</code> </pre><br>  3. Check if the AdMobManager class is supported. <br><br><pre> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (adMobManager.isSupported) { ... }</code> </pre><br>  4. If supported: set the operation mode in PROD_MODE (production - debugging is not available), specify the banner ID, create a banner with the size BANNER and position BOTTON_CENTER (defined in the AdMobSize and AdMobPosition classes).  NULL indicates that we are using the previously specified banner ID, you can specify another ID instead of NULL.  True indicates that the banner will be displayed as soon as it loads.  "BottomBanner" - the banner identifier in our application (we invent ourselves). <br><br><pre> <code class="actionscript hljs">adMobManager.operationMode = AdMobManager.PROD_MODE; adMobManager.bannersAdMobId = <span class="hljs-string"><span class="hljs-string">"ca-app-pub-3036271947968278/6206838142"</span></span>; adMobManager.createBanner(AdMobSize.BANNER,AdMobPosition.BOTTOM_CENTER,<span class="hljs-string"><span class="hljs-string">"BottomBanner"</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">true</span></span>);</code> </pre><br>  Do not forget to change the banner ID to your own. <br><br><img src="https://habrastorage.org/files/438/d83/73b/438d8373b11e4465ae54ec65e1afd09b.png"><br><br>  5. To hide or show a banner, we use the following methods: <br><br><pre> <code class="actionscript hljs">adMobManager.showBanner(<span class="hljs-string"><span class="hljs-string">"BottomBanner"</span></span>); adMobManager.hideBanner(<span class="hljs-string"><span class="hljs-string">"BottomBanner"</span></span>);</code> </pre><br>  Similarly, create a fullscreen ad: <br><br><pre> <code class="actionscript hljs">adMobManager.interstitialAdMobId = <span class="hljs-string"><span class="hljs-string">"ADMOB_INTERSTITIAL_ID"</span></span>; adMobManager.createInterstitial(<span class="hljs-literal"><span class="hljs-literal">null</span></span>,<span class="hljs-literal"><span class="hljs-literal">true</span></span>);</code> </pre><br>  Available banner positions: TOP_LEFT, TOP_CENTER, TOP_RIGHT, MIDDLE_LEFT, MIDDLE_CENTER, MIDDLE_RIGHT, BOTTOM_LEFT, BOTTOM_CENTER, BOTTOM_RIGHT.  Available sizes: BANNER, MEDIUM_RECTANGLE, LARGE_BANNER, FULL_BANNER, LEADERBOARD, WIDE_SKYSCRAPER, SMART_BANNER, SMART_BANNER_PORT, SMART_BANNER_LAND. <br><br><h4>  5. Conclusion </h4><br>  This extension allows you to customize the age of the target audience, listen to events and much more.  All this can be read on GitHub.  Thanks for attention. </div><p>Source: <a href="https://habr.com/ru/post/267613/">https://habr.com/ru/post/267613/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../267601/index.html">The difficulties and joys of developing the first game on Android</a></li>
<li><a href="../267603/index.html">A bit of history: How stock technologies evolved</a></li>
<li><a href="../267605/index.html">Program to generate a Morse code</a></li>
<li><a href="../267609/index.html">Expansion Yii 1.1 oci8Pdo and CLOB / BLOB parameters band</a></li>
<li><a href="../267611/index.html">Firefox 42 with new ‚Äúprivate‚Äù mode available in Beta test</a></li>
<li><a href="../267615/index.html">Bribe, or the story of one solitaire</a></li>
<li><a href="../267617/index.html">Centralized configuration management: Puppet + Foreman. Part I</a></li>
<li><a href="../267619/index.html">New course "Fundamentals of software testing" at the Universarium</a></li>
<li><a href="../267621/index.html">MDK platform enters the Russian market</a></li>
<li><a href="../267623/index.html">Millions of points in nanoCAD Plus 7, or A little more about point clouds</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>