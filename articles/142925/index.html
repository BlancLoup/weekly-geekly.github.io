<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Security when authorizing on sites using OpenID</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="OpenID is an open, decentralized system that allows a user to use a single account for authentication on a variety of unrelated sites, portals, blogs ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Security when authorizing on sites using OpenID</h1><div class="post__text post__text-html js-mediator-article"> OpenID is an open, decentralized system that allows a user to use a single account for authentication on a variety of unrelated sites, portals, blogs and forums.  If the WEB site assumes the use of user authentication or authorization, then possible options for implementing this are listed below: <br>  1) Use standard registration by entering email and filling in the required data. <br>  2) Use authentication by specifying the personal identifier of the OpenID provider. <br>  3) Use authorization through the open protocol OAuth <br><br>  Support for the second and third methods is one of the advantages, which should increase the number of registered users. <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      1) Purpose of using OpenID authorization <br><br>  The main purpose of using OpenID is to simplify user registration.  Simplification is achieved in a decentralized single sign-on system, which allows you to use one login and password on a large number of sites.  On sites that support OpenID, users do not have to register and remember the data for each site every time.  Instead, it is enough for them to be registered on the site of the OpenID identification provider (providing the identifier).  Since OpenID technology is decentralized, any site can use OpenID software as a means of entry.  Convenience of OpenID also lies in the fact that when logging in via OpenID, the user's personal data (email, name, gender, date of birth, etc.) can be immediately transferred to the visited site and he will not have to enter this information every time - it‚Äôs enough to do it once on the site OpenID provider. <br><br>  2) OpenID authorization principle <br><br>  The principle of OpenID authorization, we consider an example. <br>  The user through the WEB browser comes to some of his site of interest (according to official terminology in OpenID - Relying Party, RP).  Suppose that the user further wants to leave a comment on one of the site‚Äôs blogs.  Without the support of the OpenID technology site, the user will be asked to register, which means creating or receiving the next login and password.  If the site supports the OpenID technology, then next to the registration field will be indicated by the entrance to OpenID (most often indicated by the OpenID logo).  Next, the user can enter the OpenID address ‚Äî the address of the user's personal page on the OpenID provider server (OP).  For example, if a user received his OpenID on the Yandex website, then this OpenID has the form username.ya.ru (‚Äúusername‚Äù is the username of yandex.ru).  The further authorization process is shown in the diagram below. <br><img src="https://habrastorage.org/storage2/c5c/cd3/f56/c5ccd3f561103ce2b31dc739e10fb0f0.png"><br><br>  The following screenshots are shown when authorizing on the site <a href="http://www.livejournal.com/">www.livejournal.com</a> using the OpenID identifier issued by the OpenID provider myopenid.com <br>  a.  The user wants to write a comment on the site <a href="http://www.livejournal.com/">www.livejournal.com</a> .  However, it has not yet been registered on the site, but it has the OpenID identifier with the provider myopenid.com <br>  b.  User opens the site <a href="http://www.livejournal.com/">www.livejournal.com</a> <br>  c.  Next, the user selects the authorization method through OpenID and logs in to the site of the OpenID provider. <br><img src="https://habrastorage.org/storage2/02b/8cd/63e/02b8cd63e6e64061cc538c3dc070f76e.png"><br><br><img src="https://habrastorage.org/storage2/8e5/694/7ca/8e56947ca5bfcf45b3002b9dbd145c33.png"><br><br>  d) The OpenID provider prompts you to enter a password that was entered earlier by the user during the creation of an OpenID account.  Next, we consider below what features should be addressed to the user at this step. <br><img src="https://habrastorage.org/storage2/305/b68/490/305b68490741d468d559b772a244e246.png"><br><br>  e) the user enters his login and password for the OpenID provider, after which the user is authenticated on the site <a href="http://www.livejournal.com/">www.livejournal.com</a> . <br><img src="https://habrastorage.org/storage2/476/5bb/078/4765bb078745405bdc0baa23bf73a5d0.png"><br><br>  f) after a moment, <a href="http://www.livejournal.com/">www.livejournal.com</a> appears in the browser, where the user is already authenticated and can write comments. <br><img src="https://habrastorage.org/storage2/10d/4db/269/10d4db26912cfb4f8b63581b640cb25c.png"><br><br>  3) OpenID Analogs <br><br>  In addition to OpenID, there are other ways to use the resources of the site without registering. <br>  a) First of all, we will consider single sign-on technology through ‚ÄúSingle sign on‚Äù.  The technologies are very similar in the way they work, but there are some differences: <br>  - If there are several extensive independent sections on the web portal (forum, chat, blog, etc.), after having passed the authentication procedure using Single sign on technology in one of the services, a person automatically gets access to all the rest, which saves him from multiple data entry of your account.  Here, the OpenID and Single sign on functions are similar. <br>  - ‚ÄúSingle sign on‚Äù, in contrast to OpenID, is centralized, which implies the ability to use the account only within a certain system, for example, within the corporate network.  For example, the user leads the username and password and authentication takes place in a certain trusted corporate resource (for example, Active Directory).  Further, automatic authorization is possible in many applications and programs of this corporate network (including IE).  If a user leaves the corporate network, he will not be able to use the Single sign on account. <br><br>  b) Open OAuth authentication protocol.  It allows you to provide a third party with limited access to the user's protected resources without the need to give her (a third party) a login and password.  Examples of OAuth providers can be found at <a href="http://ru.wikipedia.org/wiki/OAuth">ru.wikipedia.org/wiki/OAuth</a> .  There is a misconception that OAuth is an extension of the OpenID protocol; in fact, it is not.  Although OpenID and OAuth have a lot in common, the latter is an independent protocol that is not related to OpenID. <br>  OAuth is an authorization protocol that allows you to grant rights to use a resource (for example, the API of a service).  For example, I log in via OpenID on livejournal.com through OAuth provider vkontakte.ru, the latter can provide constant access to some user information. <br>  OpenID is a means of authentication: with the help of this system, you can make sure that the user is exactly who he claims to be.  What actions a user who is authenticated through OpenID can perform is determined by the party performing the authentication. <br><br>  4) Large OpenID providers and writing their own OpenID server <br><br>  Some list of OpenID providers is available at <a href="http://openid.net/get-an-openid/">openid.net/get-an-openid</a> .  When choosing an OpenID provider, the user needs to be careful, since it‚Äôs not a fact that the small provider will not distribute user data to the outside and that this provider will not close in a year, which will lead to the need to create a new OpenID identifier from another provider. <br>  For advanced users, it is possible to authorize via OpenID with the URL of your site (for example, <a href="http://www.ivan-petrov.ru/">www.ivan-petrov.ru</a> ), which, in turn, will forward the authorization request to the OP (OpenID provider) specified in the HTML header.  In this case, when changing the OpenID provider, it is enough to change the code of your main HTML page, and the URL for authorization by OpenID remains the same - in our example, <a href="http://www.ivan-petrov.ru/">www.ivan-petrov.ru</a> .  Using your site as an OpenID identifier is possible on those sites that offer to log in by entering the OpenID URL.  On LiveJournal.com this is possible. <br>  If a user doesn‚Äôt trust third-party OpenID providers at all, then with little programming skills he can write his own OpenID server and use it both for his authorization and for distributing OpenID identifiers to other users (see an example on <a href="http://www.opennet.ru/base/dev/openid_server.txt.html">www.opennet.ru/base/dev/ openid_server.txt.html</a> ). <br><br>  5) OpenID security analysis <br><br>  Unfortunately, the OpenID technology specification (currently OpenID Authentication 2.0) does not describe how security is guaranteed when using OpenID. <br>  In this regard, on the Internet, long discussions are held on how to get confidential user data (for example, a password to your OpenID account) by hackers.  Ben Laurie described a simple scenario in which your login / password to an OpenID provider (OP), for example, LiveJournal, can be easy prey to phishers if you are not careful.  In general terms, the script is as follows: <br>  a) A user visits a certain site, for example, to view photos.  If the user wants to leave a comment under the photo, then the only thing that asks the site is to register or authenticate using OpenID.  The user selects OpenID, writes there, for example, user_xxx.livejournal.com, and submits the form. <br>  b) According to the general operation of OpenID, users should now be sent to <a href="">www.livejournal.com/openid/server.bml</a> .  If the user is already authenticated with livejournal.com, then a photo with a photo will be returned with a sign of successful authentication and additional parameters will be sent.  If not, LiveJournal will ask for a login / password first.  This is in theory.  In practice, a website with photos may belong to attackers, and instead of OP, the endpoint can send the user to your proxy by disguising the url accordingly, for example <a href="">www.livejournal.com/openid/server.bml?lot_of_junk@evilcats.example.com</a> .  The user will see in front of him the same page from livejournal.com, on which you need to enter your data, only it will be shown through a proxy evilcats.example.com and the login / password to livejournal.com will remain in the logs of the proxy server.  Thus, if the user does not closely monitor the URL on which the page he enters his username and password, then there is a chance that the attackers will get this data.  This fact is a deterrent to the rapid spread of OpenID technology. <br>  Some users blogging on OpenID are actively discussing how to avoid the above scenario.  For example, the following methods of protection are proposed: <br>  a) One-time password generation option: <br>  - organization of the SSL channel between the user from the OpenID provider <br>  - the presence on the user's PC of a special cookie, which is recorded when you first access the site of the OpenID provider <br>  - The cookie is sent to the user when confirming the password sent to his OpenID email provider.  Also, cookies are stored on the side of the OpenID provider, and which must match. <br>  - Cookies are sent over SSL to the user's PC only after correct password entry <br>  - With subsequent OpenID authentication on various sites, the OpenID provider checks the cookie with the one received from the PC and then displays a special picture that only the user knows and which is uploaded on the OpenID server of the provider.  If the user does not see this picture, it means that there is no real communication with the OpenID server. <br>  This method allows you to improve OpenID authentication, but requires enabled cookies in the browser, and an additional link appears in the form of an email password. <br><br>  b) Another, more universal way to increase security when using OpenID is the emergence of special plug-ins in the user's browser.  Without this plugin, it is not recommended to enter the OpenID password to the user.  However, it is not a fact that these plugins will be done by all the major browser developers. <br><br>  c) And the third way is to use SSL certificates when authenticating with an OpenID provider.  This method, on the one hand, improves security and facilitates authentication, since the user does not need to enter a password.  On the other hand, a certificate can be obtained by an attacker through Trojans.  In addition, support for SSL certificates is only for large OpenID providers, such as myopenid.com. <br><br>  It should also be noted that some OPs do not accept OpenID registered with another OP and this somewhat changes the definition of the SINGLE OpenID identifier. <br><br>  6) Standards <br><br>  - OpenID Authentication 2.0 <br>  <a href="http://openid.net/specs/openid-authentication-2_0.html">openid.net/specs/openid-authentication-2_0.html</a> <br><br>  - OpenID Attribute Exchange 1.0 <br>  <a href="http://openid.net/specs/openid-attribute-exchange-1_0.html">openid.net/specs/openid-attribute-exchange-1_0.html</a> <br><br>  - OpenID Simple Registration Extension 1.0 <br>  <a href="http://openid.net/specs/openid-simple-registration-extension-1_0.html">openid.net/specs/openid-simple-registration-extension-1_0.html</a> <br><br>  - Yadis Discovery Protocol (Developed separately from OpenID) <br>  <a href="http://svn.infogrid.org/infogrid/docs/yadis/yadis-v1.0.pdf">svn.infogrid.org/infogrid/docs/yadis/yadis-v1.0.pdf</a> <br><br>  findings <br><br>  1. OpenID technology is a convenient authentication method on sites that support this technology. <br>  2. The OpenID owner does not need to store multiple passwords for various sites and provide his email address, he only needs to know the URL to his OpenID account and the password to it. <br>  3. When authenticating and maintaining an active session on the site of the OpenID provider, authentication on other sites via OpenID will take place without entering a password, only by specifying the URL of your OpenID. <br>  4. The specification of version 2.0 does not provide the proper level of security when using OpenID.  Improvement of security is possible in new versions of specifications or in the development and use of special plug-ins for Web browsers (for PC / PDA / Mobile browsers).  So far, for increased security, experienced users can advise registration with OpenID providers that provide SSL certificates. <br>  5. Developers of WEB sites and services can easily add OpenID authentication functionality, since all the necessary libraries for this are freely provided.  OpenID authentication support significantly increases the usability of the site, which is a prerequisite for the development of this concept. </div><p>Source: <a href="https://habr.com/ru/post/142925/">https://habr.com/ru/post/142925/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../142916/index.html">Google sold Trimble SketchUp 3D editor</a></li>
<li><a href="../142919/index.html">How do you relieve stress?</a></li>
<li><a href="../142921/index.html">Drive eRazer Ultra will securely erase any information from your hard drive</a></li>
<li><a href="../142923/index.html">Cloud cover</a></li>
<li><a href="../142924/index.html">ITmozg and Darth Vader production present - Bit Byte!</a></li>
<li><a href="../142926/index.html">Ruby NoName Podcast S04E08</a></li>
<li><a href="../142929/index.html">Yandex allowed encrypted content</a></li>
<li><a href="../142930/index.html">Using the Yandex.Map API for working with arbitrary substrates</a></li>
<li><a href="../142931/index.html">Film Upgrade: 60 impressions per second</a></li>
<li><a href="../142932/index.html">Selectivizr, IE8 and White Screen of Death</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>