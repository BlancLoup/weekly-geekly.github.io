<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We look at the drying of paint: How I filled the game on the Steam Store without any approval from Valve</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Did I plan to get caught? Of course! 
 If you visited the Steam homepage on Sunday evening, you might notice a new game: ‚ÄúWe are looking at drying pai...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We look at the drying of paint: How I filled the game on the Steam Store without any approval from Valve</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/f87/e7e/ad2/f87e7ead2f2103a67947a1f743c06f0d.png" alt="image"><br><br><h4>  Did I plan to get caught?  Of course! </h4><br>  If you visited the Steam homepage on Sunday evening, you might notice a new game: ‚ÄúWe are looking at drying paint.‚Äù  This event was the cause of lively discussions on the forum, where users discussed the loss of quality control by Valve in the Steam Greenlight service.  However, this game never got into Greenlight.  I didn't even pay $ 100 to publish games there. <br><br>  It seems to me that Greenlight is a good platform for independent developers promoting their games, and I want to apologize to all the developers I could insult.  It was just a practical joke, as well as a test of my theory, which I tried to convey to Valve within a few months - the ability to place any game on Steam so that Valve would not even see it.  All vulnerabilities have already been fixed, and this guide has only historical value.  By the way, the game is not related to the protest about censorship in the cinema. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  We get an account Steamworks </h4><br>  My small investigation into this whole story began with accessing Steamworks.  I will not tell you how and why I got access, but I did not use any vulnerabilities in either the forums or Greenlight, and did not communicate with anyone from Valve.  I will not disclose these details, and do not ask. <br><a name="habracut"></a><br><img src="https://habrastorage.org/getpro/habr/post_images/8ce/ffc/b09/8ceffcb09d03905266e6d01815a23f37.png" alt="image"><br><br>  In general, I got access to Steamworks (Valve's internal platform for hosting games on Steam, editing achivok, DRM, multiplayer, etc.), and after that I got the idea to search for vulnerabilities.  It was approaching April 1, and I decided to use this opportunity to publish a nameless app and draw Valve‚Äôs attention to the problem. <br><br>  I will omit the description of the creation of a 45-second paint drying simulator in an RPG Maker, since there is nothing to be proud of, and it doesn't matter. <br><br><h4>  Getting Steam Trading Cards Approval </h4><br>  Naturally, what kind of game would it be without Steam cards?  I made the cards for the comic set in Photoshop.  But doesn't Valve have to look at cards, emoticons and backgrounds before launching? <br><br>  On the status page there are several initial options: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e0b/73d/12f/e0b73d12f5668e3f0e281efb238a5948.png" alt="image"><br><br>  And what is there in the source? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2b7/fed/509/2b7fed509dddd0e3699ba06fff46292b.png" alt="image"><br><br>  Interestingly, both the session and the account ID of the editor are tracked.  Let's try to change the ID to one that may belong to the Valve employee (say, 1), change the value of the select to non-existent and see if we get another form of response. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/676/877/f82/676877f82f7508bd94d738ca6c6ff10f.png" alt="image"><br><br>  Interestingly, the replacement "last editor" really turned out to be an employee  And if we again save this form with the value "Released"? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fc2/619/319/fc2619319a56562c5ac2709e3c9ed0a2.png" alt="image"><br><br>  What happened?  When I sent the wrong request, the server returned me a full list of options with their values.  I saw that Released had a value of 5. Then I updated the form to return my editor_accountid, and changed the value of the select to 5. And the server accepted the command as if it comes from a developer whose cards have already been approved.  The server did not check if the cards were already approved by someone from Valve, and just changed their status. <br><br><h4>  Valve approval process </h4><br>  The company has a three-stage process of placing something on Steam.  First, you send your store page for inspection, then the final build of the game, and then you are given the opportunity to release it. <br><br><h4>  Release game </h4><br>  The Steamworks site mainly uses AJAX.  JS-code is not obfuscated and visible to everyone (who is authorized in Steamworks).  I found an interesting feature ‚ÄúReleaseGame (appid, data)‚Äù.  Apparently, she did a typical AJAX request and made a release of the game. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/413/8a0/28d/4138a028d12895d1bc4310e4c63650ee.png" alt="image"><br><br>  Calling the ReleaseGame function with parameters 445730 (my appid) and empty data gave me 403 status. Looking at the other functions, I saw that almost all of them add a value to the JSON request called sessionid - we saw this id before when we released our cards. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9fe/923/32a/9fe92332a853e9d1001cccfbd986ee42.png" alt="image"><br><br>  Total, we call ReleaseGame (445730, {'sessionid': 'my_session_id'): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/92f/e58/fa1/92fe58fa17f96735f59a25ec0bc15e7a.png" alt="image"><br><br>  We go to the store Steam <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f8f/1a5/9be/f8f1a59be47af190611c8d8b15c85f18.png" alt="image"><br><br>  Yeahuuu!  I admit, I actually wanted the game to appear in the "coming out on April 1" section, and did not appear on the site until Friday - and it appeared immediately in the new items section.  And of course I wanted to find out how far along the path of the game‚Äôs release I could go - but I decided that it was better for her not to appear in the list of games available for purchase. <br><br>  I contacted Valve, who have already fixed this vulnerability. <br><br>  From all this, I learned that when working with user-generated content, it is not necessary to make two different statuses ‚Äúready for review‚Äù and ‚Äúapproved‚Äù.  Instead, you can issue a ticket that indicates that the game is on approval, and do not change the status to "approved" as long as the ticket exists.  Or simply do not allow users to change the status to "approved". <br><br>  ¬Ø \ _ („ÉÑ) _ / ¬Ø <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cab/120/d1c/cab120d1cfac61b4a9a59fe5a75909e8.jpg" alt="image"></div><p>Source: <a href="https://habr.com/ru/post/280644/">https://habr.com/ru/post/280644/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../280634/index.html">Mandrill everything? As I was looking for a replacement and found 2 excellent alternatives to Mandrila</a></li>
<li><a href="../280636/index.html">How you can use responsive web components today</a></li>
<li><a href="../280638/index.html">Xamarin is now free. "In the debugger, I have an exception (vosk. Sign)"</a></li>
<li><a href="../280640/index.html">[The Methanum project] Creating tools for building distributed systems with the ‚ÄúStar‚Äù topology</a></li>
<li><a href="../280642/index.html">man! (D => Rust) .basics</a></li>
<li><a href="../280646/index.html">Steganography in acroconstructions. Algorithm DANTSOVA</a></li>
<li><a href="../280648/index.html">Change source code (DDL) on the fly</a></li>
<li><a href="../280652/index.html">EMC relies on ReactOS for storing big data in the IoT sphere</a></li>
<li><a href="../280656/index.html">SQL Server 2014 Developer Edition is now free</a></li>
<li><a href="../280660/index.html">Traditional April 1 on the Internet</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>