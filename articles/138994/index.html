<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>5 more gems for all occasions</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the continuation of the topic of different and useful gems , I want to talk about a few more that make my (and then, I hope, your) work with RoR ev...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>5 more gems for all occasions</h1><div class="post__text post__text-html js-mediator-article">  In the continuation of the <a href="http://habrahabr.ru/blogs/ror/137783/">topic of different and useful gems</a> , I want to talk about a few more that make my (and then, I hope, your) work with RoR even more enjoyable and convenient. <br><a name="habracut"></a><br><br><h4>  high_voltage </h4><br>  Heme from the guys from <a href="http://thoughtbot.com/">thoughtbot</a> , which greatly simplifies working with static pages of the site. <br>  The heme works very simply - we add the necessary pages to the folder <b>app / views / pages</b> .  After that, the page becomes available at <b>/ pages / (filename)</b> .  For example, the page that lies in <b>app / views / pages / about.haml</b> will be available at <a href="http://example.com/pages/about">example.com/pages/about</a> . <br>  In addition, heme adds url-helper <b>page_path</b> , which as an argument you need to pass the desired page.  For the example above, this will be the <b>page_path (: about)</b> . <br><br>  <a href="https://github.com/thoughtbot/high_voltage">Github page</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  gon </h4><br>  It is often necessary to transfer data from Rails to JS.  There are several solutions for this. <br>  For example, you can download them separately with an additional ajax request.  In the case when there is not very much data and there is no point in making unnecessary calls, <a href="https://github.com/gazay/gon">gon</a> will do a great job with this task from a <a href="https://github.com/gazay">domestic manufacturer</a> that allows you to transfer data straight from the controller. <br>  For heme to work, first add to your layout: <br><br><pre><code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>Application Title<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">%=</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">include_gon</span></span></span><span class="hljs-tag"> %&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--     JS --&gt;</span></span> ‚Ä¶</code> </pre> <br><br>  Next, transfer data to the controller using <b>gon</b> : <br><br><pre> <code class="ruby hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">show</span></span></span><span class="hljs-function"> @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">user</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">User</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">find</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(params[</span></span><span class="hljs-symbol"><span class="hljs-function"><span class="hljs-params"><span class="hljs-symbol">:id</span></span></span></span><span class="hljs-function"><span class="hljs-params">])</span></span></span></span> gon.user = @user <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre><br><br>  Now the data from <b>@user is</b> available in your JS, and you can reach it through the <b>gon</b> object.  For example: <br><br><pre> <code class="javascript hljs">$(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ alert(gon.user); });</code> </pre><br><br>  Heme can be customized for yourself - use camelCase instead of snake_case in the name of exported variables, specify your namespace, make friends with the popular <a href="https://github.com/rails/jbuilder">JBuilder</a> and <a href="https://github.com/nesquena/rabl">RABL</a> . <br><br>  <a href="http://railscasts.com/episodes/324-passing-data-to-javascript">Gon @ Railscasts</a> <br>  <a href="https://github.com/gazay/gon">Github page</a> <br><br><h4>  http_accept_language </h4><br>  If you are faced with the task of supporting several languages ‚Äã‚Äãin a rails application, I advise you to pay attention to the <a href="http_accept_language">http_accept_language</a> gem.  It adds several methods to the <b>request</b> object, with which you can easily determine which user‚Äôs preferred language is.  For example, like this: <br><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ApplicationController</span></span></span><span class="hljs-class"> &lt; ActionController::Base </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">before_filter</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">set_locale</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">protected</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">set_locale</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">allowed_locales</span></span></span><span class="hljs-class"> = %</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">w</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ru</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RU</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">en</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">US</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">I18n</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">locale</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">request</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">preferred_language_from</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">allowed_locales</span></span></span><span class="hljs-class">) || </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">I18n</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">default_locale</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span></span></code> </pre><br><br>  <a href="http_accept_language">Github page</a> <br><br><h4>  email_spec </h4><br>  It is extremely useful to always be aware of how your mailers behave, what they send and where they are sent, whether the sent messages contain important information (links to activation, logins / passwords, etc.) For these purposes <a href="https://github.com/bmabey/email-spec">email_spec</a> is extremely convenient - a set of goodies for <b>RSpec</b> and <b>Cucumber</b> from <a href="https://github.com/bmabey/database_cleaner">database_cleaner</a> , which makes it easy to test your mailers. <br>  For example, you want to be sure that the letter with instructions on how to activate your account will be sent to the correct address, will have the correct title and contain a link to the activation.  With <b>email_spec,</b> it will look something like this: <br><br><pre> <code class="ruby hljs">describe UserMailer <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> let(<span class="hljs-symbol"><span class="hljs-symbol">:user</span></span>) { create(<span class="hljs-symbol"><span class="hljs-symbol">:user</span></span>) } describe <span class="hljs-string"><span class="hljs-string">'#confirmation_instructions'</span></span> subject { UserMailer.confirmation_instructions(user.id) } it <span class="hljs-string"><span class="hljs-string">'should be set to be delivered to the user email address'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> subject.should deliver_to(user.email) <span class="hljs-comment"><span class="hljs-comment">#      e-mail . end it 'should have the correct subject' do subject.should have_subject(I18n.t('user_mailer.confirmation_instructions.subject')) #      . end it 'should contain the confirmation url' do subject.should have_body_text(/#{user_confirmation_url}/) #        . end end end</span></span></code> </pre><br><br>  <a href="https://github.com/bmabey/email-spec">Github page</a> <br><br><h4>  heroku_san </h4><br>  If you are actively using <a href="http://heroku.com/">Heroku</a> , then you definitely should pay attention to this gem.  <a href="https://github.com/fastestforward/heroku_san">heroku_san</a> makes application deployment even easier and faster. <br>  Suppose you want your project to have several insights on Heroku - <b>production</b> and <b>staging</b> .  To do this, after installing the gem, call in the console: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">rake</span></span> heroku:create_config</code> </pre><br><br>  This command will create a configuration file ( <b>config / heroku.yml</b> ) that describes all of your Heroku applications associated with this project.  For example, for <b>production</b> and <b>staging</b> environments it looks like this: <br><br><pre> <code class="hljs lua">production: &amp;defaults app: myfacebookkiller stack: cedar <span class="hljs-built_in"><span class="hljs-built_in">config</span></span>: BUNDLE_WITHOUT: <span class="hljs-string"><span class="hljs-string">'development:test'</span></span> staging: &lt;&lt;: *defaults app: myfacebookkiller-staging</code> </pre><br><br>  Now, if you have not yet created these applications on Heroku - do it now: <br><br><pre> <code class="hljs pgsql">rake <span class="hljs-keyword"><span class="hljs-keyword">all</span></span> heroku:<span class="hljs-keyword"><span class="hljs-keyword">create</span></span></code> </pre><br><br>  Now with the help of <b>heroku_san</b> you can deploy your project to several applications at once: <br><br><pre> <code class="hljs pgsql">rake <span class="hljs-keyword"><span class="hljs-keyword">all</span></span> deploy</code> </pre><br><br>  Or only on a specific application: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">rake</span></span> production deploy</code> </pre><br><br>  <b>heroku_san</b> offers quite a few more useful things to work with Heroku, more details can be found on the gem page on Github. <br><br>  <a href="https://github.com/fastestforward/heroku_san">Github page</a> </div><p>Source: <a href="https://habr.com/ru/post/138994/">https://habr.com/ru/post/138994/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../138986/index.html">Crypto Solitaire</a></li>
<li><a href="../138987/index.html">Asynchronous IndexedDB API wrapper</a></li>
<li><a href="../138989/index.html">Methods for monitoring websites and services</a></li>
<li><a href="../138990/index.html">Mobilization: Opera Mobile 12 and Opera Mini 7 Next</a></li>
<li><a href="../138991/index.html">The FBI ordered the court to shut off 3,000 GPS bugs, now it cannot find them</a></li>
<li><a href="../138995/index.html">Installing Prosody's Lightweight Jabber with LDAP Authentication via SASL</a></li>
<li><a href="../138997/index.html">Layered menu in XSLT</a></li>
<li><a href="../138998/index.html">Microsoft Research. The future is near: interactive desktop, Illumishare and Holoflector</a></li>
<li><a href="../138999/index.html">Solving the problem with the appearance of the 8080 port in the ISP manager (setting up a redirect to port 80)</a></li>
<li><a href="../139004/index.html">Beginning debugging and profiling web applications</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>