<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>In the rear of the enemy. Implementation</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Events take place behind a garden ring in a standard firm that uses, mainly, Microsoft solutions, not standing out in this respect from the rest. For ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>In the rear of the enemy. Implementation</h1><div class="post__text post__text-html js-mediator-article">  Events take place behind a garden ring in a standard firm that uses, mainly, Microsoft solutions, not standing out in this respect from the rest.  For some time now a <i>Linux</i> company has been working in the company, which cannot stand working in Windows OS. <br><br>  With all the dislike for usability provided by the products of a notorious corporation, linuksoid needs to integrate into the network to carry out activities for which he will receive a salary.  In particular, he will need to work with mail, share files through shared folders, open MS Office documents. <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Kerberos </h4><br>  Since the network uses Active Directory technology, first of all, after installing Linux on your machine, you should install the Kerberos libraries and utilities - the libraries will most likely pull themselves through dependencies. <br><br>  It should be noted that Patrick Wolkerding does not respect Kerberos, or at least did not respect, but as you have noticed, I am not going to tell <i>Linux</i> how to install packages or how to rebuild the entire system to support something. <br><br>  If you are not familiar with Kerberos, then I advise you to read the theoretical foundations, this is useful for understanding the process and for catching errors. <br><br>  My approximate settings / etc / krb5.conf: <br><br><pre><code class="hljs pgsql">[libdefaults] default_realm = <span class="hljs-keyword"><span class="hljs-keyword">DOMAIN</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">LOCAL</span></span> # The <span class="hljs-keyword"><span class="hljs-keyword">following</span></span> krb5.conf variables are <span class="hljs-keyword"><span class="hljs-keyword">only</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MIT Kerberos. kdc_timesync = <span class="hljs-number"><span class="hljs-number">1</span></span> ccache_type = <span class="hljs-number"><span class="hljs-number">4</span></span> forwardable = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> proxiable = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> [realms] <span class="hljs-keyword"><span class="hljs-keyword">DOMAIN</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">LOCAL</span></span> = { kdc = <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> kpasswd_server = <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> default_domain = <span class="hljs-keyword"><span class="hljs-keyword">domain</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> } [domain_realm] <span class="hljs-keyword"><span class="hljs-keyword">domain</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>=<span class="hljs-keyword"><span class="hljs-keyword">DOMAIN</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">LOCAL</span></span> .<span class="hljs-keyword"><span class="hljs-keyword">domain</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>=<span class="hljs-keyword"><span class="hljs-keyword">DOMAIN</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">LOCAL</span></span></code> </pre> <br><br>  Perform kinit my_account_name, enter the password and get a ticket.  Or we will not receive for one of the heaps of reasons, the main of which is the dispersed time.  If necessary, we put ntpd, to keep time up to date, which is recommended. <br><br><h4>  Mail client </h4><br>  As a mail client (MUA) I use Kmail - supports both NTLM and Kerberos (GSSAPI).  I responsibly declare - GSSAPI + Exchange + Kmail is working.  The latest version of Kmail should be used due to serious progress in usability, as well as an elementary correction of errors. <br><br>  In general, I use all of Kontact, but he doesn‚Äôt have full integration with Exchange yet, and I‚Äôm glad that our company doesn‚Äôt use Exchange‚Äôs non-mail features.  However, the KDE team promises to resolve this issue and integrate to the fullest. <br><br>  From the fronts, Gnome reports on Evolution, but, as I understand it, OWA is used in this solution, and is unlikely to work with Exchange 2007. However, I am sure that the comments will contain more accurate information. <br><br><h4>  Office package. </h4><br><br>  Yes, any <i>Linux user</i> knows that OpenOffice.org is not a very stable program.  She handles MS Office documents most often, but this is not guaranteed.  Latex and associates, of course, without competition, but it is still possible to substantiate it in the scientific community, but in the office we will have to hope that OOo will not fail. <br><br>  In particularly clinical cases, it is possible to install Ms Office under Wine / CrossOver.  I have not yet reached the clinical situation. <br><br><h4>  Samba, we share </h4><br><br>  To create your own shared folder, set Samba (for hand-gathering, enable AD support). <br>  And this is what /etc/samba/smb.conf looks like, a mixture of default settings for the distribution and mine: <br><br><pre> <code class="hljs pgsql">[<span class="hljs-keyword"><span class="hljs-keyword">global</span></span>] workgroup = <span class="hljs-keyword"><span class="hljs-keyword">DOMAIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">server</span></span> string = %h <span class="hljs-keyword"><span class="hljs-keyword">server</span></span> (Linux) dns proxy = <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> realm = <span class="hljs-keyword"><span class="hljs-keyword">DOMAIN</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">LOCAL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">security</span></span> = ADS <span class="hljs-keyword"><span class="hljs-keyword">password</span></span> <span class="hljs-keyword"><span class="hljs-keyword">server</span></span> = <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">log</span></span> file = /var/<span class="hljs-keyword"><span class="hljs-keyword">log</span></span>/samba/<span class="hljs-keyword"><span class="hljs-keyword">log</span></span>.%m max <span class="hljs-keyword"><span class="hljs-keyword">log</span></span> size = <span class="hljs-number"><span class="hljs-number">1000</span></span> syslog = <span class="hljs-number"><span class="hljs-number">0</span></span> panic action = /usr/<span class="hljs-keyword"><span class="hljs-keyword">share</span></span>/samba/panic-action %d encrypt passwords = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> passdb backend = tdbsam obey pam restrictions = yes unix <span class="hljs-keyword"><span class="hljs-keyword">password</span></span> sync = yes passwd program = /usr/bin/passwd %u passwd chat = *Enter\snew\s*\spassword:* %n\n *Retype\snew\s*\spassword:* %n\n *<span class="hljs-keyword"><span class="hljs-keyword">password</span></span>\supdated\ssuccessfully* . pam <span class="hljs-keyword"><span class="hljs-keyword">password</span></span> change = yes map <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> guest = bad <span class="hljs-keyword"><span class="hljs-keyword">user</span></span> idmap uid = <span class="hljs-number"><span class="hljs-number">10000</span></span><span class="hljs-number"><span class="hljs-number">-20000</span></span> idmap gid = <span class="hljs-number"><span class="hljs-number">10000</span></span><span class="hljs-number"><span class="hljs-number">-20000</span></span> <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> shell = /bin/<span class="hljs-keyword"><span class="hljs-keyword">nologin</span></span> winbind enum <span class="hljs-keyword"><span class="hljs-keyword">groups</span></span> = yes winbind enum users = yes    winbind nested <span class="hljs-keyword"><span class="hljs-keyword">groups</span></span> = Yes usershare allow guests = yes [<span class="hljs-keyword"><span class="hljs-keyword">share</span></span>] <span class="hljs-type"><span class="hljs-type">path</span></span> = /home/deepwalker/<span class="hljs-keyword"><span class="hljs-keyword">share</span></span> guest ok = <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> browseable = yes writable = yes <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> mask = <span class="hljs-number"><span class="hljs-number">0666</span></span> directory mask = <span class="hljs-number"><span class="hljs-number">0777</span></span> [printers] <span class="hljs-keyword"><span class="hljs-keyword">comment</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">All</span></span> Printers browseable = <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> <span class="hljs-type"><span class="hljs-type">path</span></span> = /var/spool/samba printable = yes guest ok = <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> <span class="hljs-keyword"><span class="hljs-keyword">read</span></span> <span class="hljs-keyword"><span class="hljs-keyword">only</span></span> = yes <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> mask = <span class="hljs-number"><span class="hljs-number">0700</span></span> [print$] <span class="hljs-keyword"><span class="hljs-keyword">comment</span></span> = Printer Drivers <span class="hljs-type"><span class="hljs-type">path</span></span> = /var/lib/samba/printers browseable = yes <span class="hljs-keyword"><span class="hljs-keyword">read</span></span> <span class="hljs-keyword"><span class="hljs-keyword">only</span></span> = yes guest ok = <span class="hljs-keyword"><span class="hljs-keyword">no</span></span></code> </pre><br><br>  Also, do not forget to include winbind in /etc/nsswitch.conf: <br><br><pre> <code class="hljs cs">passwd: compat winbind <span class="hljs-keyword"><span class="hljs-keyword">group</span></span>: compat winbind ...</code> </pre><br><br>  Winbind we need to authorize users - you can set access to shared folders to individual users. <br><br><h4>  We walk in public folders </h4><br>  With a Kerberos ticket on hand, this is not particularly difficult.  There are two ways I tried - fusesmb and KDE's built-in capabilities.  Fusesmb allows you to work with files ‚Äúon the spot‚Äù not only with KDE / Gnome applications, but also with any other.  The built-in features of KDE, on the other hand, provide an easy way to quickly look around and download what you need for further work. <br><br>  There is still mount.cifs, but I still could not get it to work with Kerberos.  But in fact, my craving for Kerberos is not always and not everywhere justified, so perhaps this option will suit anyone. <br><br>  That's all.  If <i>Linux user</i> lacks something else - write in the comments, we will decide with the world / habr. </div><p>Source: <a href="https://habr.com/ru/post/54506/">https://habr.com/ru/post/54506/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../54491/index.html">The Linux Foundation introduced functionality for Linux.com</a></li>
<li><a href="../54497/index.html">ISS need lasers</a></li>
<li><a href="../54498/index.html">The current rules of Habrakhabr pushes to puppelling, the situation should be straightened</a></li>
<li><a href="../54500/index.html">Amazon EC2 Reserved Instances: VDS equivalent for $ 22 per month with an installation fee of $ 500.</a></li>
<li><a href="../54504/index.html">Siberian Internet Week in Novosibirsk</a></li>
<li><a href="../54509/index.html">Images in articles</a></li>
<li><a href="../54510/index.html">How often do you watch TV shows / cartoons?</a></li>
<li><a href="../54511/index.html">Tags h4, h5, h6 in the comments</a></li>
<li><a href="../54513/index.html">They did it</a></li>
<li><a href="../54514/index.html">Transferring settings when users turn on the computer to a new domain.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>