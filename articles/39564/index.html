<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Emacs Utility and tricks</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This is my first post on Habr√© and blogs in general, so do not judge strictly. emacs is a miracle constructor, you can make almost anything from it (o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Emacs Utility and tricks</h1><div class="post__text post__text-html js-mediator-article"> This is my first post on Habr√© and blogs in general, so do not judge strictly.  emacs is a miracle constructor, you can make almost anything from it (or maybe).  and the more you work with him, the more you feel his boundlessness and power.  here you‚Äôll have a mail client, a jabber, and a shell, a universal development environment, a file manager, games ... this list goes on and on. <br><br>  The first launch of emacs' will not show you anything special, but as soon as you have a problem or inconvenience, you will necessarily find a solution (if of course you want).  In this post I will show you some things that have helped me and, I hope, will help you.  I warn you in advance that some of the functions that I will list below are not written by me and express my gratitude to their authors for what they have done. <br><a name="habracut"></a><br>  tested and working on emacs cvs. <br><br>  VIEW. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      1) I'll start with the elementary.  interface.  I do not use buttons, menus, scroll bar, because  I consider them ineffective and useless.  remove them. <br><br> <code>;; scroll bar <br> (scroll-bar-mode -1) <br> <br> ;; tool bar <br> (tool-bar-mode -1) <br> <br> ;; menu bar <br> (menu-bar-mode -1) <br></code> <br><br>  2) I do not like the colors that go by default.  decided to replace them with a darker and more pleasant looking (I have LCD). <br><br> <code>(set-background-color "#333333") <br> (set-foreground-color "#ffffff") <br></code> <br>  if they do not suit you, you can view the list of all colors of 'Mx list-color-display' and change to your favorite.  cursor color - (set-cursor-color &lt;color&gt;) <br><br>  3) fonts.  here you can argue endlessly.  as many know in emacs, xft support has emerged from relatively recently.  Someone may like it, but for programming I prefer bitmap fonts.  the only negative is utf8, not everyone is holding it.  for this reason, I chose terminus.  and 0 from about in it you distinguish, and this is an important point.  I change fonts through .Xdefaults.  in windows this is done through the registry, google will help. <br><br> <code>Emacs.font: -*-terminus-medium-*-*-*-16-*-*-*-*-*-*-* <br></code> <br><br>  4) utf8.  to display utf8 correctly in the shell and dired. <br><br> <code>(setq file-name-coding-system 'utf-8) <br></code> <br><br>  HOT KEYS AND USEFUL THINGS <br><br>  5) change capslock to ctrl.  very important thing.  This, I think, is the most important thing for effectively using emacs.  There are a lot of controversies about this, too, but it seems to me quite comfortable.  add in .xmodmaprc (if you don‚Äôt have it, create) the following: <br><br> <code>keycode 66 = Control_L <br> clear Lock <br> add Control = Control_L <br></code> <br><br>  add the line to .xinitrc or .xsession, depending on how you load the x. <br><br> <code>xmodmap .xmodmaprc <br></code> <br><br>  6) convenient scrolling and selection of the current line.  by default, emacs scrolls almost half the screen, which is not very convenient.  fix it.  and it also happens that you lose the place of the cursor, for this we turn on the highlighting of the current line. <br><br> <code>(setq scroll-step 1) <br> (global-hl-line-mode 1) <br></code> <br><br>  7) we know, 'Cx o' switches the focus to the next window.  and if windows 5 or 10?  make navigation easier. <br><br> <code>(windmove-default-keybindings 'meta) <br></code> <br><br>  Now the navigation will take place as follows: alt + \ arrow keys \. <br><br>  8) resize the window, by default, you can mouse ... for this you need to remove your hand from the keyboard.  is it convenient?  I think so too.  add the following to .emacs. <br><br> <code>(defun win-resize-top-or-bot () <br> "Figure out if the current window is on top, bottom or in the <br> middle" <br> (let* ((win-edges (window-edges)) <br> (this-window-y-min (nth 1 win-edges)) <br> (this-window-y-max (nth 3 win-edges)) <br> (fr-height (frame-height))) <br> (cond <br> ((eq 0 this-window-y-min) "top") <br> ((eq (- fr-height 1) this-window-y-max) "bot") <br> (t "mid")))) <br> <br> (defun win-resize-left-or-right () <br> "Figure out if the current window is to the left, right or in the <br> middle" <br> (let* ((win-edges (window-edges)) <br> (this-window-x-min (nth 0 win-edges)) <br> (this-window-x-max (nth 2 win-edges)) <br> (fr-width (frame-width))) <br> (cond <br> ((eq 0 this-window-x-min) "left") <br> ((eq (+ fr-width 4) this-window-x-max) "right") <br> (t "mid")))) <br> <br> (defun win-resize-enlarge-horiz () <br> (interactive) <br> (cond <br> ((equal "top" (win-resize-top-or-bot)) (enlarge-window -1)) <br> ((equal "bot" (win-resize-top-or-bot)) (enlarge-window 1)) <br> ((equal "mid" (win-resize-top-or-bot)) (enlarge-window -1)) <br> (t (message "nil")))) <br> <br> (defun win-resize-minimize-horiz () <br> (interactive) <br> (cond <br> ((equal "top" (win-resize-top-or-bot)) (enlarge-window 1)) <br> ((equal "bot" (win-resize-top-or-bot)) (enlarge-window -1)) <br> ((equal "mid" (win-resize-top-or-bot)) (enlarge-window 1)) <br> (t (message "nil")))) <br> <br> (defun win-resize-enlarge-vert () <br> (interactive) <br> (cond <br> ((equal "left" (win-resize-left-or-right)) (enlarge-window-horizontally -1)) <br> ((equal "right" (win-resize-left-or-right)) (enlarge-window-horizontally 1)) <br> ((equal "mid" (win-resize-left-or-right)) (enlarge-window-horizontally -1)))) <br> <br> (defun win-resize-minimize-vert () <br> (interactive) <br> (cond <br> ((equal "left" (win-resize-left-or-right)) (enlarge-window-horizontally 1)) <br> ((equal "right" (win-resize-left-or-right)) (enlarge-window-horizontally -1)) <br> ((equal "mid" (win-resize-left-or-right)) (enlarge-window-horizontally 1)))) <br> <br> (global-set-key [CM-down] 'win-resize-mi2nimize-vert) <br> (global-set-key [CM-up] 'win-resize-enlarge-vert) <br> (global-set-key [CM-left] 'win-resize-minimize-horiz) <br> (global-set-key [CM-right] 'win-resize-enlarge-horiz) <br> (global-set-key [CM-up] 'win-resize-enlarge-horiz) <br> (global-set-key [CM-down] 'win-resize-minimize-horiz) <br> (global-set-key [CM-left] 'win-resize-enlarge-vert) <br> (global-set-key [CM-right] 'win-resize-minimize-vert) <br></code> <br><br>  As you can see from the keymap 'om,' ctrl + alt + \ arrow keys \ 'window resize. <br><br>  9) I think that it is not only annoying to me that you should always type yes or no when you close the buffer or leave emacs.  not easier to type y or n? <br><br> <code>(fset 'yes-or-no-p 'y-or-np) <br></code> <br><br>  it will save from one to two extra clicks. <br><br>  10) when working with a large number of buffers, I felt uncomfortable when switching between them, for a long time I could not find what I needed.  It turns out that emacs had a mode for it. <br><br> <code>(iswitchb-mode 1) <br></code> <br><br>  By the way, this is the old way to switch between buffers.  I do not understand why he was removed.  now, by pressing 'Cx b', iswitchb-buffer will be called.  it automatically discards the unnecessary, and when the only option left is to press the tab and you will switch to the required buffer.  the only drawback I noticed is that if there are buffers with the names: in and main, then by typing in, it chooses main, and it is impossible to turn to in.  Maybe there is a key or command on it, but I did not find it. <br><br>  and I also decided to add more convenient keys to switch to the next / previous buffer. <br><br> <code>(global-set-key [?\C-,] 'previous-buffer) <br> (global-set-key [?\C-.] 'next-buffer) <br></code> <br><br>  11) there are times when you forget to hold down ctrl for navigation through 'Cn', 'Cp', etc.  and get unnecessary sequences of the type: nnnnnnnnnnnn ppppppppppp ffffffff.  do not delete all the backspace 'om ... you can make a hotkey for bacward-kill-word. <br><br> <code>(global-set-key "\Cw" 'backward-kill-word) <br> (global-set-key "\Cx\Ck" 'kill-region) <br> (global-set-key "\Cc\Ck" 'kill-region) <br></code> <br><br>  Now, to ‚Äúkill‚Äù the selected text will have to press the 'Cx C-k', because  we assigned bacward-kill-region to 'cw'. <br><br>  12) Macros are a powerful thing both in programming and in emacs.  they are worthy to give them comfortable cubebing. <br><br> <code>(global-set-key [f2] 'kmacro-call-macro) <br> (global-set-key [f3] 'kmacro-start-macro-or-insert-counter) <br> (global-set-key [f4] 'kmacro-end-or-call-macro) <br></code> <br><br>  f2 - call macro <br>  f3 - start macro <br>  f4 - end macro <br><br>  13) it often happens when you need to switch to the beginning of the buffer, and then back to the place where you were previously.  There are bookmarks for this.  for convenience, I added hotkeys to call them. <br><br> <code>(global-set-key [f5] 'bookmark-set) <br> (global-set-key [f6] 'bookmark-jump) <br></code> <br><br>  f5, enter the name of the bookmark, do what you need, f6, enter the name of the bookmark, and you are again in the same place. <br><br>  14) use workspaces.  it gives a lot of new features.  for example, you can read mail with gnus at the first workspace, debug the program at the second, edit the code at the third, and at the fifth shell.  damn convenient, right? <br><br>  <a href="">here is the</a> link to workspaces.el. <br><br>  copy it to your boot directory.  if you do not have it.  then create an elisp directory (or whatever you like) in your home directory (or whatever you like) and add to .emacs: <br><br> <code>(add-to-list 'load-path "~/elisp") ;;   ,        <br> (require 'workspaces) <br> (global-set-key [?\Cq] 'workspace-goto) <br></code> <br><br>  I decided to choose 'C-q'.  'Cq' \ 0-9 \ - switches to the desired workspace.  As you have probably understood their maximum number is 9. <br><br>  15) if you are working with a large number of files / buffers and decide to close emacs, and then decide to resume work.  do not open them again ... ask emacs to save the session before exiting. <br><br> <code>(desktop-save-mode t) <br></code> <br><br>  END <br><br>  that's all.  if you are interested in my .emacs, contact me, I have a few more records about programming and debugging.  I will be glad to hear your criticism.  Sincerely, wzrd. <br></div><p>Source: <a href="https://habr.com/ru/post/39564/">https://habr.com/ru/post/39564/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../395627/index.html">The book "Project Eye" came to crowdfunding</a></li>
<li><a href="../395629/index.html">Create installation media with multiple versions of Windows NT 6.0+ without using third-party software</a></li>
<li><a href="../395635/index.html">The first batch of Blocks Wearables modular smart watches will be delivered in September 2016</a></li>
<li><a href="../395637/index.html">The self-taught Russian robot IR77 again ‚Äúran away‚Äù to freedom</a></li>
<li><a href="../395639/index.html">Streamers, Twitch and Total eSports organization (part 4)</a></li>
<li><a href="../395643/index.html">Removing the hardware key of full disk protection in Android phones on Qualcomm processors</a></li>
<li><a href="../395645/index.html">StartUps, IT and the rest of the world ...</a></li>
<li><a href="../395647/index.html">Scientists in Japan and the United States announced the launch of clinical trials of a new anti-aging drug</a></li>
<li><a href="../395649/index.html">How is Jolla + a late review of Sailfish OS 2.0</a></li>
<li><a href="../39565/index.html">Glitch Google News caused a collapse in stocks: how it happened</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>