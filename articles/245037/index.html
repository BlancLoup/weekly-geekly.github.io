<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>OpenFlow: current state, prospects, problems</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Revolutionary technologies are always a mystery: take off - do not take off, go over - do not go, everyone will have or forget in six months ... We re...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>OpenFlow: current state, prospects, problems</h1><div class="post__text post__text-html js-mediator-article"><img align="right" src="https://habrastorage.org/files/11e/35a/846/11e35a846f0a42128e4418ad64add868.png"><br>  Revolutionary technologies are always a mystery: take off - do not take off, go over - do not go, everyone will have or forget in six months ... We repeat the same questions every time we meet with something really new, but it‚Äôs one thing if we say about the next social network or trend on the appearance of the interface and quite another when it comes to the industry standard. <br><br>  OpenFlow, as an integral part of the SDN concept in the form of a control protocol between the respective controllers and switches, appeared by the standards of the computer industry for a relatively long time - on December 31 the first version of the standard will celebrate its fifth anniversary.  What did we get in the end?  Let's look and understand, especially since the story is very interesting. <br><a name="habracut"></a><br><br>  First, let's recall what the concept of Software Defined Networks (Software Defined Networks, SDN) implies, which implies the use of OpenFlow. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Architecture</b> <br><br>  If you do not go into the wilds of the theory, then the concept assumes for the network infrastructure to separate the level of data transmission from the control level.  As a result, at the data level, relatively simple switches operate on data flows according to the rules laid down in the tables.  The rules are set by centralized network controllers, whose task is to analyze new flows (which packets are sent to them by the switches) and develop routing rules for them based on the algorithms embedded in the controller. <br><br>  In general, the algorithm of actions caused by the arrival of the packet to the switch port has not undergone radical changes, only the functional modules of the algorithm have changed: the controller has become further and centralized, and the local tables are more complex. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/963/ebe/10a/963ebe10ace9423cb6a82a4f9f830049.png"></div><br>  <i>Possible actions</i> <br><br>  The entire network infrastructure has received a high degree of virtualization - virtual ports and switches are managed exactly the same way as physical ones. <br><br>  <b>History pages</b> <br><br>  Putting a hand on heart, let's be honest: the very first version of OpenFlow 1.0 standard, which came out neatly for the new year, was responsible for connecting switches and controllers and, by and large, generally routing data over the network, was more of a trial than a real one.  Yes, she described the basic functioning of the new protocol, but it did not support such a large number of necessary functions that there was no need to talk about real application.  Therefore, the next 2.5 years went on finishing the standard: adding multiple processing tables, tag support, IPv6 support, hybrid switch mode, flow rate control, redundant communication channels of switches and controllers ‚Äî one can already see from this list how incomplete the original standard.  Therefore, only after June 25, 2012, with the advent of version 1.3.0, one can speak about the readiness of the standard for use.  Further development to the current version 1.4 can already be described as minor changes with the elimination of errors. <br><br>  Well, for two years now, as we have a full-fledged standard, which we were told about, this is a new paradigm of networking, everything will be stylish and fashionable for young people, OPEX and CAPEX will fall below the plinth and other things relying on such cases.  So why is there still not seen widespread enthusiasm in the introduction of new items?  There are several reasons for this from the category ‚Äúit was smooth on paper, but they forgot about the ravines‚Äù. <br><br>  <b>Problems</b> <br><br>  <b>1. Controllers</b> <br><br>  It is easy to guess that with this concept of the entire system, the choice of the OpenFlow controller becomes especially important.  It is his speed that will be the decisive factor in the event of any emergency situations, it is his algorithms that will determine the efficiency of the entire network, it is his failure with a high degree of probability that he will ‚Äúput‚Äù the entire network.  At first glance, the choice of controllers is more than great: Open DayLight, NOX, POX, Beacon, Floodlight, Maestro, SNAC, Trema, Ryu, FlowER, Mul ... there is even a RUN OS developed in Russia by the <a href="http://arccn.ru/">TsPIKS</a> guys.  And this is all not counting controllers from giants such as Cisco, HP, IBM. <br>  The problem is that if we take a controller with an open architecture, then we get, by and large, not a ready-made solution, but a billet into which we need to invest a fair amount of power, leading it to the capabilities required by your task.  For companies like Google or Microsoft, this is obviously not a problem.  For all others, a lower rank, this leads to the need for their own staff of programmers who are well versed in network technologies.  And, of course, it requires significant time to prepare a project for launch, and also creates hefty risks associated with the uniqueness and impossibility of large-scale long-term testing. <br>  An alternative option is to purchase ready-made commercial controllers.  But here we get what everyone is trying to get away from by choosing options that begin with the word ‚ÄúOpen‚Äù - closed architectures with their unknown logic of operation, complete dependence on the supplier for any problems, compatibility issues, proprietary additional functionality that binds, again, to a specific manufacturer. <br><br>  <b>2. Architecture issues</b> <br><br>  The removal of the control plane from the switches to a separate device and the centralization of management creates, perhaps, as many architectural issues as it solves, since it brings us back to the old dispute about efficiency and problems of centralized control when compared with the distributed one. <ul><li>  What happens if the controller fails? </li><li>  In the case of redundancy of controllers, how is their communication and decision-making on the primacy / transfer of functions? </li><li>  On which communication channels does the controller / s and switches interact, according to the basic data transfer structure or parallel?  What happens when there are problems on the communication line? </li></ul><br>  And the solution of these issues without the right to make a mistake should occur at the network planning stage. <br><br>  <b>3. Compatibility</b> <br><br>  It would seem, since we are talking about an open standard, it is enough to fence yourself from the inevitably emerging proprietary solutions, as in the framework of one version of the standard, everything will be fine.  But it was not there.  Due to the imperfections of iron in different modes of operation, a fair amount of checks of fields and even actions can simply not be maintained at the level of the switching matrix.  And the saddest thing is that it is extremely difficult to find out information of this level, since manufacturers are extremely reluctant to post it in open access.  And here we smoothly proceed to the next item ... <br><br>  <b>4. Switch Ready</b> <br><br>  If we make a management plan out of the switches, they should become easier.  So, not really: a new protocol, or rather a huge number of fields taken into account by default in the routing tables, places increased demands on the amount of memory on the switches. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/ac6/12a/9dd/ac612a9dd72c4fba93c2a5d36a47a07a.png"></div><br>  <i>Famous 12 baseline tuples</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/dbf/165/64b/dbf16564b8b4486493f54d796f3c2773.png"></div><br>  <i>These are extended tags.</i> <br><br>  Here it is necessary to remember that in modern high-speed switches for storing tables, TCAM (Ternary Content Addressable Memory) is used - this is the only adequate data retrieval method for storing data from which it is impossible to go anywhere if we want to deal with switching and routing at interface speeds.  And it costs TCAM quite expensive.  Therefore, even switches on powerful relatively modern ASICs can sometimes support OpenFlow exclusively formally, providing less than a thousand OF-records in TCAM.  In principle, it would be possible to organize a multi-level storage of records, making a buffer in TCAM for the most relevant records and putting everything else in the operational memory, but for this it is necessary to modify the switchboard platform quite significantly, most of the existing models simply cannot. <br>  And this is not to mention the fact that many ASICs are in principle incapable of supporting some of the functions declared in OpenFlow, since they simply do not have their support ‚Äúin silicon‚Äù. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/38b/efc/43d/38befc43d56a4b71b11688298bc06c12.png"></div><br>  An example of actually supported fields and actions <br><br>  Of course, this disadvantage is easily stopped by adding to the ASIC network processors (NPU) with a high degree of programmability, but this immediately entails a noticeable increase in both power consumption and cost.  And this, in turn, raises the question of the expediency of the whole undertaking, because instead of simplifying and cheapening the final devices, we will get the exact opposite. <br><br>  <b>Everything is bad?</b> <br><br>  So, everything is bad and the new standard has no chance? <br>  Not at all, if you do not believe all the promises of enthusiastic apologists for new technologies and sensibly evaluate the capabilities of the new standard, then you can already use it for your own benefit. <br><br>  Most of the issues raised above can be successfully resolved at the network design stage, carefully choosing the equipment.  A well-chosen controller (commercial or open, but added by itself), thoughtful architecture, selected switches (for example, such as the <a href="http://www.etegro.ru/configurator/network/eos420">Eos420</a> on the Broadcom Trident 2 or <a href="http://www.etegro.ru/configurator/network/eos410i">Eos 410i</a> , built on an Intel FM6764 matrix with one of the largest TCAM tables in the class ), and a workable network on OpenFlow 1.3 becomes a reality. <br><br>  Do not believe that it is available to someone who is not a huge Corporation of Good?  Ask the company Performix, for the past year having a <a href="http://habrahabr.ru/company/performix/blog/224211/">stable network on OpenFlow in production</a> . <br><br>  In general, the beast is not so terrible, called OpenFlow, although, of course, it is still a long way from general implementation.  But it is already possible to build small high-performance, highly specialized network structures on OpenFlow without involving significant efforts of developers.  Moreover, it can be a unique combination of performance, convenience and manageability at low cost. <br><br>  <b>Bright future?</b> <br><br>  Intel FM6764 matrix already promises programmability (for hardcore register lovers), the current products of other developers are less open. <br><br>  The lack of hardware capabilities of the rest of modern ASIC promise to solve in the next generations, which will enter the market in 2015.  Such products showed Broadcom - its <a href="http://www.broadcom.com/products/Switching/Data-Center/BCM56960-Series">Tomahawk matrix</a> can be configured to support different forwarding / match / action. <br><br>  In turn, Cavium promises a <a href="http://cavium.com/XPliant-Ethernet-Switch-Product-Family.html">fully programmable XPliant matrix</a> , in which it will be possible to add new protocols as they appear, while maintaining the line-rate processing speed. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/ef7/ea3/112/ef7ea3112c784cd88601b94d3200d7c1.jpg"></div><br>  <i>XPliant structure</i> <br><br>  And the demand for OpenFlow solutions from traditional telecom operators will spur progress. <br><br>  PS When preparing this article, we were not too lazy and re-read articles on Habr√© on SDN and OpenFlow tags - it is rather curious to look at both optimists and pessimists from the perspective of the past 2-3 years.  We will not be mischievous, we note only that making predictions for the future is a thankless task. <br><br>  PPS interested in the topic of SDN recommend an article on the "profile" network resource NAG: <br>  <a href="http://nag.ru/articles/reviews/26333/neodnoznachnost-sdn.html">nag.ru/articles/reviews/26333/neodnoznachnost-sdn.html</a> <br>  interesting as the article itself, and comments to it. </div><p>Source: <a href="https://habr.com/ru/post/245037/">https://habr.com/ru/post/245037/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../245025/index.html">Conversion: several useful graphs and tables</a></li>
<li><a href="../245027/index.html">Localization of applications for the Chinese market-2. Block lists</a></li>
<li><a href="../245029/index.html">Merchium is looking for partners</a></li>
<li><a href="../245031/index.html">How we made smarter our foosball and ourselves</a></li>
<li><a href="../245035/index.html">We master the CC430 - microcontrollers with a radio module: do-it-yourself photo finish</a></li>
<li><a href="../245041/index.html">Do your letters get spammed? Check ip on ban</a></li>
<li><a href="../245043/index.html">We write firmware for Arduino in C ++ with REST control through the serial port and the screen</a></li>
<li><a href="../245047/index.html">We raise the simplified provider network at home</a></li>
<li><a href="../245049/index.html">AngularJS + UI Router: check authorization and access rights</a></li>
<li><a href="../245051/index.html">Hacker's guide to neural networks. Schemes of real values. Strategy # 3: Analytical Gradient</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>