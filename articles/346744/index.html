<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>First meeting with the ss team</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In Linux, there are programs that are useful to programmers, information security specialists, administrators ... in short, everyone will find here wh...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>First meeting with the ss team</h1><div class="post__text post__text-html js-mediator-article"> In Linux, there are programs that are useful to programmers, information security specialists, administrators ... in short, everyone will find here what he needs. <br><br>  The <code>netstat</code> command-line tool was one of the tools that system administrators often used.  However, the <code>netstat</code> team was recognized as outdated and replaced by a faster and more convenient <code>ss</code> command to use. <br><br> <a href="https://habrahabr.ru/company/ruvds/blog/346744/"><img src="https://habrastorage.org/webt/uf/0h/uc/uf0huccwmuy-lnuhwaovifuu-r8.jpeg"></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Today we will talk about how to use <code>ss</code> in order to learn about what is happening with the network on a computer running Linux. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">About ss command</font> </h2><br>  The <code>ss</code> command is a tool used to display network statistics in a form similar to that issued by the <code>netstat</code> command.  However, <code>ss</code> makes it easier and faster than <code>netstat</code> .  In addition, <code>ss</code> provides more information about TCP connections and connection states than most other tools.  In particular, <code>ss</code> can output data about entities such as PACKET, TCP, UDP, DCCP, RAW, and Unix domain sockets.  The <code>ss</code> command is simpler than <code>netstat</code> .  in order to verify this, it is enough to compare the <code>man</code> pages of these two tools.  With <code>ss</code> you can get very detailed information about how a machine running Linux communicates with other computers.  All this opens up possibilities for diagnosing and fixing various network errors. <br><br><h2>  <font color="#3AC1EF">Basics ss</font> </h2><br>  The <code>ss</code> command works just like any other Linux command line utility.  Namely, the name of the corresponding executable file is entered on the command line, followed by the required combination of options.  If you take a look at the <code>ss</code> help page (you can call it with the command <code>man ss</code> ), you will notice that there are much fewer command line keys here than <code>netstat</code> .  However, this does not mean scant <code>ss</code> opportunities.  In fact, we have a very powerful tool. <br><br>  If you run <code>ss</code> with no command line arguments or options, it will display a complete list of working connections. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3ee/d49/add/3eed49add23b37fe122518bbae6aacb6.jpg"></div><br>  <i><font color="#999999">Full list of established connections</font></i> <br><br>  Since the <code>ss</code> command (without options) shows a lot of data (details on all connections established via TCP, UDP, and using Unix sockets), you can send the output of this command to a file in order to analyze it later.  This is done, for example, as follows: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">ss</span></span> &gt; ss_output</code> </pre> <br>  Of course, in any situation, the team in its simplest form is not so useful.  What if you only need to list the sockets waiting for connections?  To do this is simple - just use the <code>-l</code> option: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">ss</span></span> -l</code> </pre> <br>  This command will display a list in which there are only sockets that are listening to the network. <br><br>  In order to further narrow the range of data output by this command, consider that the <code>-t</code> option allows you to view information on TCP connections, the <code>-u</code> option is used to display data on UDP connections, the <code>-x</code> option displays data on Unix connections.  It looks like this: <code>ss -t</code> , <code>ss -u</code> , or <code>ss -x</code> .  Any of these commands will display a large amount of data that can be analyzed. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9bf/7b3/26e/9bf7b326e16212ce5176a1c70fa93e7e.jpg"></div><br>  <i><font color="#999999">The ss command, executed in Elementary OS, gives a list of UDP connections</font></i> <br><br>  By default, using the <code>-t</code> , <code>-u</code> or <code>-x</code> options will display only the data on the established connections.  If you want to select connections that are waiting for connections, you need to add the <code>-a</code> option to the command call: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">ss</span></span> -t -a</code> </pre> <br>  TCP sockets will be output to this command: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0bf/ad1/1f8/0bfad11f85ef000c7d8be3ffc8e41aab.jpg"></div><br>  <i><font color="#999999">Note that the last socket is waiting for ssh connections.</font></i> <br><br>  In the above example, you can see that the connections (in different states) are established from the IP address of the analyzed computer, and information is displayed on the ports on this computer, as well as on the addresses and ports on remote systems.  Unlike the <code>netstat</code> command, <code>ss</code> does not display the PID and the name of the command responsible for a particular connection.  However, even with this in mind, we have at our disposal a lot of data for searching for network errors.  If something is under suspicion, <code>ss</code> will let you know the details of the connection, and therefore, give the administrator information that will be useful in the early stages of solving network problems. <br><br><h2>  <font color="#3AC1EF">Filtering ss output based on TCP states</font> </h2><br>  A very convenient feature of the <code>ss</code> command is that it can filter the output using TCP states (or connection lifecycle states).  By using states, <code>ss</code> output filtering is facilitated.  Namely, all standard TCP states are available here: <br><br><ul><li> <code>established</code> </li> <li> <code>syn-sent</code> </li> <li> <code>syn-recv</code> </li> <li> <code>fin-wait-1</code> </li> <li> <code>fin-wait-2</code> </li> <li> <code>time-wait</code> </li> <li> <code>closed</code> </li> <li> <code>close-wait</code> </li> <li> <code>last-ack</code> </li> <li> <code>listening</code> </li> <li> <code>closing</code> </li> </ul><br>  In addition, <code>ss</code> recognizes the following state identifiers: <br><br><ul><li>  <code>all</code> (all of the above) <br></li><li>  <code>connected</code> (all states except pending and closed) <br></li><li>  <code>synchronized</code> (all states corresponding to the established connections, except for <code>syn-sent</code> ) <br></li><li>  <code>bucket</code> (states representing mini-sockets, for example - <code>time-wait</code> and <code>syn-recv</code> ) <br></li><li>  <code>big</code> (all except the <code>bucket</code> id) <br></li></ul><br>  Working with states is pretty simple.  For example, for IPv4, it looks like this: <br><br><pre> <code class="hljs pgsql">ss <span class="hljs-number"><span class="hljs-number">-4</span></span> state <span class="hljs-keyword"><span class="hljs-keyword">FILTER</span></span></code> </pre> <br>  For IPv6 like this: <br><br><pre> <code class="hljs pgsql">ss <span class="hljs-number"><span class="hljs-number">-6</span></span> state <span class="hljs-keyword"><span class="hljs-keyword">FILTER</span></span></code> </pre> <br>  In these two examples, the <code>FILTER</code> is a state identifier. <br>  Suppose you want to see all pending connections for IPv4 sockets.  To do this, this command will help: <br><br><pre> <code class="hljs perl">ss -<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">state</span></span> listening</code> </pre> <br>  In response to this command, the system displays something similar to the one shown in the following figure. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8bc/01c/018/8bc01c018a4a96f570b4cfc9e2c2e627.jpg"></div><br>  <i><font color="#999999">Using ss with a connection wait state filter</font></i> <br><br><h2>  <font color="#3AC1EF">Show connections from specific addresses</font> </h2><br>  One of the useful applications of <code>ss</code> is to get information on connections established from certain IP addresses using this command.  Suppose you need to find out whether the machine is connected, say, with the IP address 192.168.1.139 to our server, and if this is the case, learn more about it.  To solve this problem, this command is suitable: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">ss</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">dst</span></span> 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.139</span></span></code> </pre> <br>  In response to this command, information will be displayed, including Netid, connection status, data on the local IP address and port, as well as on the remote IP and connection port. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/752/93f/e8f/75293fe8fb5ec6cca37fada53195d057.jpg"></div><br>  <i><font color="#999999">Remote computer has established an ssh connection to our machine.</font></i> <br><br><h2>  <font color="#3AC1EF">Results</font> </h2><br>  The <code>ss</code> utility can be very useful in finding and troubleshooting network problems for Linux servers.  Of course, in order to fully master <code>ss</code> , it would be nice to read <code>man</code> and practice.  However, you now have an idea of ‚Äã‚Äãhow to use this command, which a modern Linux administrator just needs to know. <br><br>  <b>Dear readers!</b>  Do you use ss? <br><br> <a href="https://ruvds.com/ru-rub/"><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div><p>Source: <a href="https://habr.com/ru/post/346744/">https://habr.com/ru/post/346744/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../346732/index.html">GopherCon Russia 2018: the conference will be held on March 17 in Moscow</a></li>
<li><a href="../346734/index.html">Probabilistic Seismic Hazard Analysis</a></li>
<li><a href="../346736/index.html">Major events in 2018: development</a></li>
<li><a href="../346738/index.html">On data locality in hyperconvergent systems</a></li>
<li><a href="../346742/index.html">Using Grafana with DeviceHive IoT Platform</a></li>
<li><a href="../346746/index.html">Reference application based on containers and microservice architecture</a></li>
<li><a href="../346748/index.html">Pentestit Corporate Laboratories: Practical Information Security Skills</a></li>
<li><a href="../346750/index.html">How we spent the day at Veeam</a></li>
<li><a href="../346752/index.html">An explanation of HTTPS on homing pigeons</a></li>
<li><a href="../346754/index.html">The book "React and Redux: functional web development"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>