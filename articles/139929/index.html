<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Android - we filter pins on the map, depending on the distance from each other</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It was like a recent project using google maps. At one point, I saw a picture like this: 






 This happened, you guessed it, when there were too ma...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Android - we filter pins on the map, depending on the distance from each other</h1><div class="post__text post__text-html js-mediator-article">  It was like a recent project using google maps.  At one point, I saw a picture like this: <br><br><img src="https://habrastorage.org/storage2/1ad/655/6a2/1ad6556a2b596a96139ddcc94b961cf0.png"><br><br><img src="https://habrastorage.org/storage2/918/c18/406/918c18406898bba2ea73f1ae87d620a6.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br>  This happened, you guessed it, when there were too many places to be displayed nearby.  Well, nothing - the problem is something like a standard one - there should have been many who had such a thing, for sure the developers provided for grouping and filtering ... Yeah, it was not there!  After reviewing the documentation (I immediately admit that only briefly - perhaps I missed what I needed) and asking Google - to my surprise, it was not possible to quickly find anything I needed.  Well, nothing - not the gods burn the pots - then we write ourselves. <br><br>  First, create a project and connect it with google maps api.  Here I think it is not necessary to explain anything - much has already been written about this, by the way, the links on the Habr√© are <a href="http://habrahabr.ru/blogs/android_development/131252/">one</a> , <a href="http://habrahabr.ru/blogs/android_development/129234/">two</a> , <a href="http://habrahabr.ru/blogs/android_development/123403/">three</a> . <br><br>  First we decide what and how it should work.  Go‚Ä¶ <br><br>  Obviously, we need to come up with a certain algorithm that will not display all the pins, but only those that are at a certain distance from each other.  And you also need to learn how to unite them in groups.  Recalculation of all this economy is necessary to occur: <br><br>  1) Upon initial loading of pins onto the map. <br>  2) When zooming <br><br>  With the first paragraph, in principle, everything is clear - let's define the second.  Declare interface: <br><br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IOnZoomListener</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onZoomChanged</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; }</code> </pre> <br><br>  And we modify our MapView like this: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyMapView</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MapView</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> oldZoomLevel = -<span class="hljs-number"><span class="hljs-number">1</span></span>; IOnZoomListener onZoomListener; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyMapView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context, AttributeSet attrs, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> defStyle)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(context, attrs, defStyle); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyMapView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context, String apiKey)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(context, apiKey); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyMapView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context, AttributeSet attrs)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(context, attrs); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setOnZoomListener</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(IOnZoomListener onZoomListener)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.onZoomListener = onZoomListener; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dispatchDraw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Canvas canvas)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.dispatchDraw(canvas); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> newZoom = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getZoomLevel(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (newZoom != oldZoomLevel) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (oldZoomLevel != -<span class="hljs-number"><span class="hljs-number">1</span></span> &amp;&amp; onZoomListener != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { onZoomListener.onZoomChanged(); } oldZoomLevel = getZoomLevel(); } } }</code> </pre> <br><br>  Here we simply added the ability to register our interface and check when drawing on a ZoomLevel change (if ZoomLevel has changed, pull the method of our interface). <br><br>  Now we will define how we will display pins on the map and how to combine them into groups.  To do this, create a class MyOverlayItem inherited from OverlayItem with such additions: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyOverlayItem</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OverlayItem</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String name; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ArrayList&lt;MyOverlayItem&gt; list = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;MyOverlayItem&gt;(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyOverlayItem</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(GeoPoint point, String name)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(point, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = name; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (list.size() &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"There are "</span></span> + (list.size() + <span class="hljs-number"><span class="hljs-number">1</span></span>) + <span class="hljs-string"><span class="hljs-string">" places."</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> name; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(MyOverlayItem item)</span></span></span><span class="hljs-function"> </span></span>{ list.add(item); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> ArrayList&lt;MyOverlayItem&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> list; } }</code> </pre> <br><br>  The ArrayList list will store the list of grouped pins, and the getName method will return to us either the name of the object, or their number in the group. <br><br>  Now we will describe what, for the sake of what, in fact, all this was started - our modified ItemizedOverlay. <br>  The essence of the filtering algorithm is pretty simple: we just run in a loop over all existing elements and check each element for a close distance with an existing group of elements.  If we find such a group, the element is added to it, if not, a new group is created with this element: <br><br><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> isImposition; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (MyOverlayItem itemFromAll : myOverlaysAll) { isImposition = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (MyOverlayItem item : myOverlays) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (itemFromAll == item) { isImposition = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isImposition(itemFromAll, item)) { item.addList(itemFromAll); isImposition = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!isImposition) { myOverlays.add(itemFromAll); } }</code> </pre> <br><br>  First, to check the distance, I just wanted to use the coordinates of the pins (the error that arises depending on the latitude can be neglected, since the distances are not great), but then I would have to control ZoomLevel. <br>  For my tasks, the mapView.getLatitudeSpan method is quite suitable, which returns the distance of the visible width of the screen in the required coordinate system.  It remains only to divide this distance by a certain factor (how many pins should "fit" into the screen in width) - this will be the minimum distance between the pins: <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isImposition</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(MyOverlayItem item1, MyOverlayItem item2)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> latspan = mapView.getLatitudeSpan(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> delta = latspan / KOEFF; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> dx = item1.getPoint().getLatitudeE6() - item2.getPoint().getLatitudeE6(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> dy = item1.getPoint().getLongitudeE6() - item2.getPoint().getLongitudeE6(); <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> dist = Math.sqrt(dx * dx + dy * dy); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dist &lt; delta) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } }</code> </pre> <br><br>  Here is just in case the full source code of the class: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PlaceOverlay</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ItemizedOverlay</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyOverlayItem</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> KOEFF = <span class="hljs-number"><span class="hljs-number">20</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ArrayList&lt;MyOverlayItem&gt; myOverlaysAll = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;MyOverlayItem&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ArrayList&lt;MyOverlayItem&gt; myOverlays = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;MyOverlayItem&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> MapView mapView; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PlaceOverlay</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Drawable defaultMarker, MapView mapView)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(boundCenterBottom(defaultMarker)); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.mapView = mapView; populate(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addOverlay</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(MyOverlayItem overlay)</span></span></span><span class="hljs-function"> </span></span>{ myOverlaysAll.add(overlay); myOverlays.add(overlay); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doPopulate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ populate(); setLastFocusedIndex(-<span class="hljs-number"><span class="hljs-number">1</span></span>); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> MyOverlayItem </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createItem</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> i)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> myOverlays.get(i); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">size</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> myOverlays.size(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isImposition</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(MyOverlayItem item1, MyOverlayItem item2)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> latspan = mapView.getLatitudeSpan(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> delta = latspan / KOEFF; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> dx = item1.getPoint().getLatitudeE6() - item2.getPoint().getLatitudeE6(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> dy = item1.getPoint().getLongitudeE6() - item2.getPoint().getLongitudeE6(); <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> dist = Math.sqrt(dx * dx + dy * dy); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dist &lt; delta) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clear</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ myOverlaysAll.clear(); myOverlays.clear(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calculateItems</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ myOverlaysClear(); <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> isImposition; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (MyOverlayItem itemFromAll : myOverlaysAll) { isImposition = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (MyOverlayItem item : myOverlays) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (itemFromAll == item) { isImposition = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isImposition(itemFromAll, item)) { item.addList(itemFromAll); isImposition = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!isImposition) { myOverlays.add(itemFromAll); } } doPopulate(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">myOverlaysClear</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (MyOverlayItem item : myOverlaysAll) { item.getList().clear(); } myOverlays.clear(); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onTap</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> index)</span></span></span><span class="hljs-function"> </span></span>{ Toast.makeText(mapView.getContext(), myOverlays.get(index).getName(), Toast.LENGTH_SHORT).show(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } }</code> </pre> <br><br>  Oh yeah - in the onTap method we display Toast with the name of the group - to demonstrate the operation of the algorithm. <br><br>  I want to add that this algorithm is not the ultimate truth - it can and should be improved - for example, to draw a pin not in the place of the first element of a group, but to calculate its location depending on its content.  But you are already implementing this yourself in your own projects. <br><br>  Now let's see how to put it all together. <br>  Create ManyPinsProjectActivity that we inherit from MapActivity and implement the following interfaces: LocationListener, IOnZoomListener.  But I will not paint everything in detail - the source code will tell everything for me: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ManyPinsProjectActivity</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MapActivity</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LocationListener</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IOnZoomListener</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> DEFAULT_ZOOM = <span class="hljs-number"><span class="hljs-number">15</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> MyMapView mapView = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Drawable myCurrentMarker = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Drawable placeMarker = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> List&lt;Overlay&gt; mapOverlays; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> PlaceOverlay placeOverlay; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> MyCurrentLocationOverlay myCurrentLocationOverlay; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> currentLatitude, currentLongitude; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> MapController mapController; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> LocationManager locationManager; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState); setContentView(R.layout.main); locationManager = (LocationManager) <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getSystemService(Context.LOCATION_SERVICE); mapView = (MyMapView) findViewById(R.id.mapview); myCurrentMarker = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getResources().getDrawable(R.drawable.my_pin_red); placeMarker = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getResources().getDrawable(R.drawable.my_pin); myCurrentLocationOverlay = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyCurrentLocationOverlay(myCurrentMarker, mapView); placeOverlay = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PlaceOverlay(placeMarker, mapView); mapOverlays = mapView.getOverlays(); mapController = mapView.getController(); mapView.setBuiltInZoomControls(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); mapView.setOnZoomListener(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">animateToPlaceOnMap</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> GeoPoint geopoint)</span></span></span><span class="hljs-function"> </span></span>{ mapView.post(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Runnable() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ mapView.invalidate(); mapController.animateTo(geopoint); mapController.setZoom(DEFAULT_ZOOM); } }); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setCurrentGeopoint</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> myLatitude, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> myLongitude)</span></span></span><span class="hljs-function"> </span></span>{ currentLatitude = myLatitude; currentLongitude = myLongitude; <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> GeoPoint myCurrentGeoPoint = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GeoPoint((<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) (myLatitude * <span class="hljs-number"><span class="hljs-number">1E6</span></span>), (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) (myLongitude * <span class="hljs-number"><span class="hljs-number">1E6</span></span>)); MyOverlayItem myCurrentItem = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyOverlayItem(myCurrentGeoPoint, <span class="hljs-string"><span class="hljs-string">"Current Location"</span></span>); myCurrentLocationOverlay.addOverlay(myCurrentItem); mapOverlays.add(myCurrentLocationOverlay); animateToPlaceOnMap(myCurrentGeoPoint); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onPause</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onPause(); locationManager.removeUpdates(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onResume</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onResume(); locationManager.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, <span class="hljs-number"><span class="hljs-number">5000</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> ArrayList&lt;PlaceInfo&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">generatePlaces</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ Random random = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Random(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x, y; ArrayList&lt;PlaceInfo&gt; places = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;PlaceInfo&gt;(); PlaceInfo p; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">100</span></span>; i++){ x = random.nextInt(<span class="hljs-number"><span class="hljs-number">2000</span></span>); y = random.nextInt(<span class="hljs-number"><span class="hljs-number">2000</span></span>); p = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PlaceInfo(); p.setLatitude(currentLatitude + x/<span class="hljs-number"><span class="hljs-number">100000f</span></span>); p.setLongitude(currentLongitude - y/<span class="hljs-number"><span class="hljs-number">100000f</span></span>); p.setName(<span class="hljs-string"><span class="hljs-string">"Place ‚Ññ "</span></span> + i); places.add(p); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> places; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">displayPlacesOnMap</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ ArrayList&lt;PlaceInfo&gt; places = generatePlaces(); mapOverlays.remove(placeOverlay); GeoPoint point = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; MyOverlayItem overlayitem = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; placeOverlay.clear(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (PlaceInfo place : places) { point = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GeoPoint((<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) (place.getLatitude() * <span class="hljs-number"><span class="hljs-number">1E6</span></span>), (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) (place.getLongitude() * <span class="hljs-number"><span class="hljs-number">1E6</span></span>)); overlayitem = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyOverlayItem(point, place.getName()); placeOverlay.addOverlay(overlayitem); } placeOverlay.calculateItems(); placeOverlay.doPopulate(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (placeOverlay.size() &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { mapOverlays.add(placeOverlay); mapView.postInvalidate(); } } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onLocationChanged</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Location location)</span></span></span><span class="hljs-function"> </span></span>{ locationManager.removeUpdates(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> myLatitude = location.getLatitude(); <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> myLongitude = location.getLongitude(); setCurrentGeopoint(myLatitude, myLongitude); displayPlacesOnMap(); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onStatusChanged</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String provider, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> status, Bundle extras)</span></span></span><span class="hljs-function"> </span></span>{ } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onProviderEnabled</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String provider)</span></span></span><span class="hljs-function"> </span></span>{ } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onProviderDisabled</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String provider)</span></span></span><span class="hljs-function"> </span></span>{ } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isRouteDisplayed</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onZoomChanged</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (placeOverlay != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { placeOverlay.calculateItems(); } } }</code> </pre> <br><br>  Here it is worth adding that MyCurrentLocationOverlay is the usual ItemizedOne with one element, and PlaceInfo is the usual wrapper class containing: <br><br><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String name; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> latitude; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> longitude;</code> </pre> <br><br>  After all these manipulations, this is how our map with pins began to look: <br><br><img src="http://habrastorage.org/storage2/8e9/5a5/961/8e95a5961eee78abf4dc775c66855452.png"><br><br><img src="http://habrastorage.org/storage2/427/d27/f34/427d27f3452bd964ea962bc0bb10c91f.png"><br><br><br>  I hope the article will be useful to you. <br><br>  The entire project can be found at the <a href="https://github.com/igorab/ManyPinsProject">link</a> . </div><p>Source: <a href="https://habr.com/ru/post/139929/">https://habr.com/ru/post/139929/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../139918/index.html">Russian translation of Apple presentation on March 7, 2012 - The new iPad</a></li>
<li><a href="../139922/index.html">Finishing the Ubuntu shell to Xfce</a></li>
<li><a href="../139925/index.html">Review of Kaspersky on Steve Jobs Bio</a></li>
<li><a href="../139926/index.html">We implement the protocol or how astrologers work</a></li>
<li><a href="../139927/index.html">Trafaret - library for checking and converting data</a></li>
<li><a href="../139930/index.html">Some details about the indexing system in Evernote</a></li>
<li><a href="../139931/index.html">Nginx module to combat DDoS</a></li>
<li><a href="../139933/index.html">Draw your button in QGraphicsScene in PyQt4</a></li>
<li><a href="../139934/index.html">Quick brown fox jumps over the lazy dog</a></li>
<li><a href="../139935/index.html">Petition: Return the RSS icon to the default Firefox installation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>