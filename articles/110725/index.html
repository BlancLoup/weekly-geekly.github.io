<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Lego film camera</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Why not? 
 I really like the designer Lego, cameras and programming. I decided to combine these three of my hobbies and assemble an automatic Lego fil...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Lego film camera</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage/c23329e2/a4b3673a/4c7f5837/c6a61838.png" align="left"><br><h4>  Why not? </h4><br>  I really like the designer Lego, cameras and programming.  I decided to combine these three of my hobbies and assemble an automatic Lego film camera.  I wanted the camera to do everything by itself: all that was required of the user was to insert a film, point the target and press a button. <br><br>  In this post I would like to talk about how I made an automatic camera from Lego, how it was programmed and what came of it. <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Pinhole camera </h4><br>  I started from the beginning, with a camera obscura.  This is the basis of any camera: through the hole on the film (or sensor) light enters and leaves the image there.  I decided to make a hole in a piece of foil.  With the help of one of the mini-drill, I made a hole with a diameter of about 0.3 mm. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage/28fd9156/e4fe0afe/6fd28809/9cec36b1.png"></div><br><br>  Now it was necessary to assemble an opaque camera in which there would be a film.  Calculators from <a href="http://www.mrpinhole.com/">Mr.</a>  <a href="http://www.mrpinhole.com/">Pinhole</a> .  They allowed to calculate the optimal dimensions of the camera.  It's very simple: with a hole size of 0.3 mm, the distance from the hole to the film should be somewhere around 60mm. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage/be78e8ea/f190c3f0/99e31f6d/6e903069.png"></div><br><br>  The principle of operation is very simple: the user inserts a new cassette with a film, the film is immediately rewound onto a free reel.  With each new frame, the film is wound back into the cassette.  When all frames are clicked, you just need to get the used tape.  Here are a couple of snapshots of the build process: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage/9a896b3a/1dd7987d/c1ac50d0/476bfa1f.png"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage/af862663/026e1a96/7418f503/22b7fc36.png"></div><br><br>  I wanted the camera obscura to provide three interfaces: the control of the main coil (which the user set), the control of the free coil (where the film is unwound) and the control of the valve.  It looks like this: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage/a8bdf0e4/9394b4b1/bcd70af2/a870bac3.png"></div><br><br>  In the future, the motors of the automation module will turn these three gears.  In the meantime, I had to make sure that the camera does not transmit light.  I dragged my design to the photo lab.  I decided to use photo paper to search for light holes.  Photo paper is sensitive to light: where the light hit, a black spot appears.  I stuffed my photo paper into my camera obscura, brought it to light, waited a few minutes and showed the paper.  The entire surface was covered with black scars.  It took me a few hours to find all the holes and wrap them with tape.  Here's what happened: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage/6e39b1bb/757c36e9/7fa587a8/0f1cfe78.png"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage/93855508/874d6c10/a8094e08/4b049573.png"></div><br><br>  The camera obscura was over.  Honestly, many lovers themselves collected such devices.  So while I was on a relatively trodden path.  However, I did not find a single amateur project that went further and decided to automate my camera. <br><br><h4>  Automation </h4><br>  I had Lego bricks in my childhood.  However, I bought the <a href="http://ru.wikipedia.org/wiki/LEGO_Mindstorms">Lego Mindstorms kit</a> only recently.  The kit contains three motors, a pair of buttons, a light sensor and a programmable module.  Everything you need for a modern camera. <br><br>  The automation module should contain three motors - two for controlling the rewind and one for controlling the valve, - a release button, an illumination sensor and a sensor that determines whether the pinhole camera is inserted.  The last sensor is quite important: it determines the moment when the camera is just inserted and the film needs to be unwound.  It should have been something like this: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage/f2ede09d/d3f566aa/1552c344/0d21e951.png"></div><br><br>  Constantly lacked specific details.  The <a href="http://www.bricklink.com/">BrickLink</a> website came to the <a href="http://www.bricklink.com/">rescue</a> .  On it, I found absolutely all the details and was able to buy them through PayPal.  I must say that the prices were very reasonable.  Soon the automation module was assembled.  The camera obscura was carefully inserted into the automation module: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage/dbff37a0/20ff12ea/b447adf4/7d9f1bec.png"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage/83c888cd/3dccd734/111013ff/b5645730.png"></div><br><br>  Iron, more precisely, the plastic was ready.  It remains only to program this thing. <br><br><h4>  Code </h4><br><br>  The programmable module (controller) is controlled by the Lego operating system.  The module can be programmed in a visual development environment: dragging the building blocks, making blocks, cycles, etc. I didn‚Äôt like this system.  So, the first thing I did was <a href="http://lejos.sourceforge.net/">flush the</a> module with the <a href="http://lejos.sourceforge.net/">Lejos</a> system.  Programs for it can be written on a few curtailed Java.  What we need for our adventure. <br><br>  I put the camera code on <a href="http://code.google.com/p/legocamera/source/browse/">http://code.google.com/p/legocamera/</a> . <br><br>  The program contains several interesting features: <br><br><h6>  The logic for computing the rewind angle </h6><br>  The film turned out to be much more difficult to rewind than it seemed to me at first.  Film reels are very similar to a spiral.  That is, the angle at which it is necessary to turn the coil to wind the 40mm film depends on the amount of the film already wound.  To make the calculation had to use the equation as much second order.  This is not every day kodish.  Who is interested to see - the logic in the <a href="">FilmTransportUtils</a> file. <br><br><h5>  Valve Speed ‚Äã‚ÄãCalculation </h5><br>  And then the trap waited: the sensor Lego returns the level of illumination from 0 to 1023. I did not manage to find out how this number corresponds to any physical quantities.  So I had to build compliance with the method of scientific spear.  I rented a light meter and went for a walk.  He made a measurement with a lego sensor, wrote down the reading, then made a measurement with the device.  The result was a fairly tolerable correspondence table.  It seems to me that it can be clarified, but it will come down for beta.  Who is interested to see - welcome to <a href="">ExposureUtils</a> . <br><br><h6>  User interface </h6><br>  I really wanted to dynamically update the information about the camera: whether the camera obscura was inserted, the value of the meter, the number of frames, the current task, etc. An additional thread, a little magic, and it seems to me that it turned out almost like in adults: <br><table><tbody><tr><td><div style="text-align:center;"><img src="https://habrastorage.org/storage/a37c36f5/f6839dc0/66daf8da/5fd718b7.png"></div><br></td><td><div style="text-align:center;"><img src="https://habrastorage.org/storage/7a4b9a46/6d2edc36/e06336a0/0a219e6e.png"></div><br></td><td><div style="text-align:center;"><img src="https://habrastorage.org/storage/40723357/56d68a1a/7d4c63e6/ce1fe164.png"></div><br></td></tr></tbody></table><br><br><br><h4>  Result </h4><br>  Everything was ready.  Here is a video with a demonstration of the camera: <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/oqZrUQkX-SM%3Ffeature%3Doembed&amp;xid=25657,15700021,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhgBKua3S5702v5ljZYUmXFaFaC5MQ" frameborder="0" allowfullscreen=""></iframe><br><br>  But the resulting photos.  Hydrant: <br><br><img src="https://habrastorage.org/storage/1f49909d/77293087/551899d7/71388770.png"><br><br>  Neighbor moves: <br><br><img src="https://habrastorage.org/storage/5fbf37b7/00faa72a/9a5c88f4/91becc00.png"><br><br>  I will shoot on my camera and on: it's so easy, I pressed the button - and you're done! </div><p>Source: <a href="https://habr.com/ru/post/110725/">https://habr.com/ru/post/110725/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../110719/index.html">Author of the Facebook Disconnect extension resigned from Google</a></li>
<li><a href="../110720/index.html">10 most significant events in the global GIS market in 2010</a></li>
<li><a href="../110721/index.html">Home studio budget</a></li>
<li><a href="../110722/index.html">Architecture Adobe Flex 3 components for a beginner</a></li>
<li><a href="../110724/index.html">Password generator that is always at hand</a></li>
<li><a href="../110726/index.html">Upgrade laptop graphics card</a></li>
<li><a href="../110727/index.html">PHP, JavaScript, RPC and other scary words</a></li>
<li><a href="../110731/index.html">Phone number</a></li>
<li><a href="../110732/index.html">Building a SAN-based unified storage with a shared file space</a></li>
<li><a href="../110733/index.html">Unbound jailbreak iOS 4.2.1. Instruction</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>