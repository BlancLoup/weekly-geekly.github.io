<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Statistics using javascript libraries and CDN</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Have you ever thought about such questions: 


- How does the world relate to CDN technology for downloading libraries? 
- How many successful sites a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Statistics using javascript libraries and CDN</h1><div class="post__text post__text-html js-mediator-article">  Have you ever thought about such questions: <br><ul><li>  How does the world relate to CDN technology for downloading libraries? </li><li>  How many successful sites are written in Wordpress? </li><li>  Which scripts are developers often downloading from Google CDN? </li><li>  How popular is jQuery? </li></ul><br><br>  But I thought about it. <br>  And not just thinking, but did a little research. <br>  And he wrote a small extension for chromium, which, perhaps, will make life better <s>or break the Internet</s> . <br>  Results inside. <br><a name="habracut"></a><br><br><h4>  Conclusions for the lazy, or TL; DR; </h4><br><ol><li>  <b>10%</b> of the 300,000 most popular sites use Wordpress. </li><li>  Popular sites that use jQuery <b>go</b> to the library connection from the CDN.  Every year the right guys more and more. </li><li>  The most popular versions of jQuery in the world: <b>1.7.x</b> , <b>1.8.x</b> , <b>1.9.1</b> , <b>1.10.2</b> . </li><li>  <b>jQuery 1.7.x</b> leads by a wide margin: <b>each 4th</b> connected jquery has version 1.7.1 or 1.7.2 </li><li>  <a href="https://developers.google.com/speed/libraries/devguide">Google</a> , <a href="https://code.jquery.com/">jQuery</a> and <a href="http://cdnjs.com/">Cloudflare</a> are the most popular CDNs. </li><li>  <b>89% of</b> all downloads from Google CDN are jquery. </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  How it all began, or the prelude </h4><br><br>  I've become thoughtful - <b>why browsers don't add popular js-libraries to their distributions</b> ?  After all, <a href="http://ru.wikipedia.org/wiki/Content_Delivery_Network">CDN</a> is very good, one URL for the resource, caching, everything.  But it is even better not to download static files at all, but to have them immediately in the browser. <br><br>  As a response to the injustice of fate, <a href="http://bit.ly/webbooost">this pattern of expansion of the</a> structure was built, which is designed to speed up the Internet. <br><br>  But you can‚Äôt just put forward a couple of hypotheses and ‚Äúfill in‚Äù the prototype to calm down and rest on its laurels: the brain requires evidence, facts and a cheerful movement ( <i>yes, this is how I treat interesting research, although there were few in the process of preparing the data</i> ). <br><br><h4>  Why investigate? </h4><br>  So there are a few ideas: <br><ul><li>  All statics from a CDN can be painlessly placed in the browser, because  it is not modified and generally <b>permanent</b> . </li><li>  If many many people load static from the browser without sending requests to the CDN servers, then everyone <b>will be fine</b> . </li><li>  If you store locally all common static files (read - js libraries) and assume that sites are written by <b>good programmers</b> who <b>do not modify</b> minimized types like <i>jquery-1.7.2.min.js</i> , then such files are <b>permanent</b> and apply to them p.1 and p.2 </li></ul><br><br>  These ideas required confirmation.  And during the implementation of the extension, I encountered additional questions: <br><ul><li>  Is it true that jQuery is the most popular script? </li><li>  What percentage of scripts connect to sites from CDN? </li><li>  What versions of jQuery do people use? </li><li>  Do minified libraries connected from their servers fall under the right pattern in the right quantity? </li></ul><br><br><h4>  What are we researching? </h4><br>  Initially, I wanted to use the <a href="http://aws.amazon.com/datasets/41740">Common Crawl</a> package.  But in view of the fact that this beast weighs <b>81 TB</b> , and considering the amount of time and money that will have to be spent on its analysis, the beast was left alone. <br><br>  A little later, I came across a <a href="http-archive-jquery/">wonderful article</a> in which the author explored the Internet just for the topic that I needed. <br>  The problem was that I did not find the right answers in the article, but I found the right tools! <br><br><h4>  Study </h4><br>  For the answers I needed, I used <a href="httparchive.org/downloads.php">httparchive</a> .  This is a crawler data set that polls sites from the TOP 300,000 of the <a href="http://www.alexa.com/topsites">Alexa</a> service.  Those.  we can say that this is a huge bunch of the most popular sites on the Internet. <br><br>  I downloaded the freshest dataset for myself - the results of a site survey for <b>March 1, 2014</b> . <br>  Below I will give the results of the study and the requests that I used to obtain them. <br>  You can compare my results with the results <a href="http-archive-jquery/">obtained a year earlier</a> . <br><br><h5>  Number of sites loading jQuery from CDN </h5><br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text"><pre><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-string"><span class="hljs-string">"jquery"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid)) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>, (<span class="hljs-number"><span class="hljs-number">100</span></span>*<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid))/<span class="hljs-number"><span class="hljs-number">290835</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">percent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> requests <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> pageid &lt;= <span class="hljs-number"><span class="hljs-number">14802750</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> pageid &gt;= <span class="hljs-number"><span class="hljs-number">14489007</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-keyword"><span class="hljs-keyword">url</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LIKE</span></span> <span class="hljs-string"><span class="hljs-string">"%//ajax.googleapis.com/ajax/libs/jquery/%"</span></span></code> </pre> <br></div></div><br><table><tbody><tr><th>  Name </th><th>  amount </th><th>  % </th></tr><tr><td>  jquery </td><td>  59977 </td><td>  20.6223 </td></tr></tbody></table><br>  Every year, the number of sites that use various jQuery CDN solutions grows.  This means that progress does not stand still and people are aware of the coolness of such a decision. <br><br><h5>  Popularity of different versions of jQuery from Google CDN </h5><br><br>  In this case, I modified the original request.  My goal is to examine the share of each version of jQuery in the total number of sites that generally connect jQuery.  In the articles of other authors there are small problems that affect the visibility of the result: <br><br><ul><li>  Some sites use ‚Äúshort format‚Äù versions, for example, <i>//ajax.googleapis.com/ajax/libs/jquery/ <b>1</b> /jquery.min.js</i> .  Today, this format corresponds to <b>jquery-1.9.1</b> .  I consider this in the totals. <br></li><li>  Wordpress adds to the static parameter <i><b>? Ver = wpversion</b></i> , which affects the grouping by urla. </li><li>  When studying the frequency of versions, it makes no difference to us which protocol is used - http or https. </li></ul><br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SUBSTRING</span></span>( <span class="hljs-keyword"><span class="hljs-keyword">url</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> <span class="hljs-keyword"><span class="hljs-keyword">POSITION</span></span>(<span class="hljs-string"><span class="hljs-string">"/libs/jquery/"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">url</span></span>) + <span class="hljs-number"><span class="hljs-number">13</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FOR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LOCATE</span></span>(<span class="hljs-string"><span class="hljs-string">"/jquery"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">url</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">POSITION</span></span>(<span class="hljs-string"><span class="hljs-string">"/libs/jquery/"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">url</span></span>) + <span class="hljs-number"><span class="hljs-number">13</span></span>) - (<span class="hljs-keyword"><span class="hljs-keyword">POSITION</span></span>(<span class="hljs-string"><span class="hljs-string">"/libs/jquery/"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">url</span></span>) + <span class="hljs-number"><span class="hljs-number">13</span></span>) ) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid)) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>, (<span class="hljs-number"><span class="hljs-number">100</span></span>*<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid))/<span class="hljs-number"><span class="hljs-number">59977</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">percent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> requests <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> pageid &gt;= <span class="hljs-number"><span class="hljs-number">14489007</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> pageid &lt;= <span class="hljs-number"><span class="hljs-number">14802750</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">url</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LIKE</span></span> <span class="hljs-string"><span class="hljs-string">"%//ajax.googleapis.com/ajax/libs/jquery/%.min.js"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">group</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-keyword"><span class="hljs-keyword">version</span></span> <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-keyword"><span class="hljs-keyword">count</span></span> <span class="hljs-keyword"><span class="hljs-keyword">desc</span></span>;</code> </pre><br></div></div><br><table><tbody><tr><th>  Version </th><th>  Number of inclusions </th><th>  % </th></tr><tr><td>  1.7.2 </td><td>  8938 </td><td>  14.9024 </td></tr><tr><td>  1.7.1 </td><td>  6842 </td><td>  11.4077 </td></tr><tr><td>  1.8.3 </td><td>  5670 </td><td>  9.4536 </td></tr><tr><td>  1.9.1 </td><td>  5533 </td><td>  9.2252 </td></tr><tr><td>  1.10.2 </td><td>  5244 </td><td>  8.7434 </td></tr><tr><td>  1.8.2 </td><td>  3832 </td><td>  6.3891 </td></tr><tr><td>  1.4.2 </td><td>  3673 </td><td>  6.1240 </td></tr><tr><td>  1.3.2 </td><td>  2519 </td><td>  4.1999 </td></tr><tr><td>  1.5.2 </td><td>  2297 </td><td>  3.8298 </td></tr><tr><td>  1.6.4 </td><td>  1987 </td><td>  3.3129 </td></tr><tr><td>  1.4.4 </td><td>  1985 </td><td>  3.3096 </td></tr><tr><td>  1.6.2 </td><td>  1644 </td><td>  2.7411 </td></tr><tr><td>  1.6.1 </td><td>  1395 </td><td>  2.3259 </td></tr><tr><td>  1.5.1 </td><td>  1160 </td><td>  1.9341 </td></tr><tr><td>  1.9.0 </td><td>  964 </td><td>  1.6073 </td></tr><tr><td>  1.8.1 </td><td>  880 </td><td>  1.4672 </td></tr><tr><td>  1.10.1 </td><td>  868 </td><td>  1.4472 </td></tr><tr><td>  1.8.0 </td><td>  803 </td><td>  1.3388 </td></tr><tr><td>  2.0.3 </td><td>  508 </td><td>  0.8470 </td></tr><tr><td>  1.2.6 </td><td>  449 </td><td>  0.7486 </td></tr><tr><td>  1.7.0 </td><td>  403 </td><td>  0.6719 </td></tr><tr><td>  1.4.1 </td><td>  382 </td><td>  0.6369 </td></tr><tr><td>  1.11.0 </td><td>  363 </td><td>  0.6052 </td></tr><tr><td>  1.4.3 </td><td>  357 </td><td>  0.5952 </td></tr><tr><td>  2.0.0 </td><td>  246 </td><td>  0.4102 </td></tr><tr><td>  1.6.0 </td><td>  204 </td><td>  0.3401 </td></tr><tr><td>  1.6.3 </td><td>  193 </td><td>  0.3218 </td></tr><tr><td>  1.3.1 </td><td>  112 </td><td>  0.1867 </td></tr><tr><td>  1.5.0 </td><td>  104 </td><td>  0.1734 </td></tr><tr><td>  1.4.0 </td><td>  83 </td><td>  0.1384 </td></tr><tr><td>  1.10.0 </td><td>  79 </td><td>  0.1317 </td></tr><tr><td>  2.0.2 </td><td>  74 </td><td>  0.1234 </td></tr><tr><td>  2.1.0 </td><td>  68 </td><td>  0.1134 </td></tr><tr><td>  1.3.0 </td><td>  42 </td><td>  0.0700 </td></tr><tr><td>  2.0.1 </td><td>  nineteen </td><td>  0.0317 </td></tr><tr><td>  1.2.3 </td><td>  13 </td><td>  0.0217 </td></tr></tbody></table><br>  An interesting trend is observed in the jQuery world - version <b>1.7.x</b> leads from year to year by a <b>wide margin</b> . <br><br><h5>  Most popular CDNs distributing js-libraries. </h5><br><table><tbody><tr><th>  Parameter </th><th>  Number </th><th>  % of all sites </th></tr><tr><td>  Total number of CDN requests </td><td>  78160 </td><td>  26.8743 </td></tr></tbody></table><br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-string"><span class="hljs-string">"Google"</span></span><span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid)) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>, (<span class="hljs-number"><span class="hljs-number">100</span></span>*<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid))/<span class="hljs-number"><span class="hljs-number">78160</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">percent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> requests <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> pageid &gt;= <span class="hljs-number"><span class="hljs-number">14489007</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> pageid &lt;= <span class="hljs-number"><span class="hljs-number">14802750</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">url</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LIKE</span></span> <span class="hljs-string"><span class="hljs-string">"%//ajax.googleapis.com/ajax/libs/%"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">UNION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-string"><span class="hljs-string">"Yandex"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid)) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>, (<span class="hljs-number"><span class="hljs-number">100</span></span>*<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid))/<span class="hljs-number"><span class="hljs-number">78160</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">percent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> requests <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> pageid &gt;= <span class="hljs-number"><span class="hljs-number">14489007</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> pageid &lt;= <span class="hljs-number"><span class="hljs-number">14802750</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">url</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LIKE</span></span> <span class="hljs-string"><span class="hljs-string">"%//yandex.st/%"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">UNION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-string"><span class="hljs-string">"Microsoft"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid)) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>, (<span class="hljs-number"><span class="hljs-number">100</span></span>*<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid))/<span class="hljs-number"><span class="hljs-number">78160</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">percent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> requests <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> pageid &gt;= <span class="hljs-number"><span class="hljs-number">14489007</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> pageid &lt;= <span class="hljs-number"><span class="hljs-number">14802750</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">url</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LIKE</span></span> <span class="hljs-string"><span class="hljs-string">"%//ajax.aspnetcdn.com/ajax/%"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">UNION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-string"><span class="hljs-string">"JsDelivr"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid)) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>, (<span class="hljs-number"><span class="hljs-number">100</span></span>*<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid))/<span class="hljs-number"><span class="hljs-number">78160</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">percent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> requests <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> pageid &gt;= <span class="hljs-number"><span class="hljs-number">14489007</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> pageid &lt;= <span class="hljs-number"><span class="hljs-number">14802750</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">url</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LIKE</span></span> <span class="hljs-string"><span class="hljs-string">"%//cdn.jsdelivr.net/%"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">UNION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-string"><span class="hljs-string">"Cloudflare"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid)) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>, (<span class="hljs-number"><span class="hljs-number">100</span></span>*<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid))/<span class="hljs-number"><span class="hljs-number">78160</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">percent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> requests <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> pageid &gt;= <span class="hljs-number"><span class="hljs-number">14489007</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> pageid &lt;= <span class="hljs-number"><span class="hljs-number">14802750</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">url</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LIKE</span></span> <span class="hljs-string"><span class="hljs-string">"%//cdnjs.cloudflare.com/ajax/libs/%"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">UNION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-string"><span class="hljs-string">"jQuery"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid)) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>, (<span class="hljs-number"><span class="hljs-number">100</span></span>*<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid))/<span class="hljs-number"><span class="hljs-number">78160</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">percent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> requests <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> pageid &gt;= <span class="hljs-number"><span class="hljs-number">14489007</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> pageid &lt;= <span class="hljs-number"><span class="hljs-number">14802750</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">url</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LIKE</span></span> <span class="hljs-string"><span class="hljs-string">"%//code.jquery.com/%"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">group</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-keyword"><span class="hljs-keyword">count</span></span> <span class="hljs-keyword"><span class="hljs-keyword">desc</span></span>;</code> </pre><br></div></div><br><table><tbody><tr><th>  CDN </th><th>  Count </th><th>  Percent </th></tr><tr><td>  Google </td><td>  67671 </td><td>  86.5801 </td></tr><tr><td>  jQuery </td><td>  9222 </td><td>  11.7989 </td></tr><tr><td>  Cloudflare </td><td>  3996 </td><td>  5.1126 </td></tr><tr><td>  Yandex </td><td>  2379 </td><td>  3.0438 </td></tr><tr><td>  Microsoft </td><td>  1300 </td><td>  1.6633 </td></tr><tr><td>  Jsdelivr </td><td>  324 </td><td>  0.4145 </td></tr></tbody></table><br>  As we see, the lion's share of resources is connected from <b>Google CDN</b> . <br>  Let's now look at the Google CDN profile.  It will be interesting, but the result is predictable. <br><br><h5>  Profile download scripts from Google CDN </h5><br><br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-string"><span class="hljs-string">"jquery"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid)) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>, (<span class="hljs-number"><span class="hljs-number">100</span></span>*<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid))/<span class="hljs-number"><span class="hljs-number">67198</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">percent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> requests <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> pageid &lt;= <span class="hljs-number"><span class="hljs-number">14802750</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> pageid &gt;= <span class="hljs-number"><span class="hljs-number">14489007</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">url</span></span> <span class="hljs-keyword"><span class="hljs-keyword">like</span></span> <span class="hljs-string"><span class="hljs-string">"%//ajax.googleapis.com/ajax/libs/jquery/%"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">UNION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-string"><span class="hljs-string">"jquerymobile"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid)) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>, (<span class="hljs-number"><span class="hljs-number">100</span></span>*<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid))/<span class="hljs-number"><span class="hljs-number">67198</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">percent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> requests <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> pageid &lt;= <span class="hljs-number"><span class="hljs-number">14802750</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> pageid &gt;= <span class="hljs-number"><span class="hljs-number">14489007</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">url</span></span> <span class="hljs-keyword"><span class="hljs-keyword">like</span></span> <span class="hljs-string"><span class="hljs-string">"%//ajax.googleapis.com/ajax/libs/jquerymobile/%"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">UNION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-string"><span class="hljs-string">"angularjs"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid)) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>, (<span class="hljs-number"><span class="hljs-number">100</span></span>*<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid))/<span class="hljs-number"><span class="hljs-number">67198</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">percent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> requests <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> pageid &lt;= <span class="hljs-number"><span class="hljs-number">14802750</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> pageid &gt;= <span class="hljs-number"><span class="hljs-number">14489007</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">url</span></span> <span class="hljs-keyword"><span class="hljs-keyword">like</span></span> <span class="hljs-string"><span class="hljs-string">"%//ajax.googleapis.com/ajax/libs/angularjs/%"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">UNION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-string"><span class="hljs-string">"chrome-frame"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid)) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>, (<span class="hljs-number"><span class="hljs-number">100</span></span>*<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid))/<span class="hljs-number"><span class="hljs-number">67198</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">percent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> requests <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> pageid &lt;= <span class="hljs-number"><span class="hljs-number">14802750</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> pageid &gt;= <span class="hljs-number"><span class="hljs-number">14489007</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">url</span></span> <span class="hljs-keyword"><span class="hljs-keyword">like</span></span> <span class="hljs-string"><span class="hljs-string">"%//ajax.googleapis.com/ajax/libs/chrome-frame/%"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">UNION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-string"><span class="hljs-string">"dojo"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid)) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>, (<span class="hljs-number"><span class="hljs-number">100</span></span>*<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid))/<span class="hljs-number"><span class="hljs-number">67198</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">percent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> requests <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> pageid &lt;= <span class="hljs-number"><span class="hljs-number">14802750</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> pageid &gt;= <span class="hljs-number"><span class="hljs-number">14489007</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">url</span></span> <span class="hljs-keyword"><span class="hljs-keyword">like</span></span> <span class="hljs-string"><span class="hljs-string">"%//ajax.googleapis.com/ajax/libs/dojo/%"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">UNION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-string"><span class="hljs-string">"ext-core"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid)) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>, (<span class="hljs-number"><span class="hljs-number">100</span></span>*<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid))/<span class="hljs-number"><span class="hljs-number">67198</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">percent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> requests <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> pageid &lt;= <span class="hljs-number"><span class="hljs-number">14802750</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> pageid &gt;= <span class="hljs-number"><span class="hljs-number">14489007</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">url</span></span> <span class="hljs-keyword"><span class="hljs-keyword">like</span></span> <span class="hljs-string"><span class="hljs-string">"%//ajax.googleapis.com/ajax/libs/ext-core/%"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">UNION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-string"><span class="hljs-string">"jqueryui"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid)) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>, (<span class="hljs-number"><span class="hljs-number">100</span></span>*<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid))/<span class="hljs-number"><span class="hljs-number">67198</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">percent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> requests <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> pageid &lt;= <span class="hljs-number"><span class="hljs-number">14802750</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> pageid &gt;= <span class="hljs-number"><span class="hljs-number">14489007</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">url</span></span> <span class="hljs-keyword"><span class="hljs-keyword">like</span></span> <span class="hljs-string"><span class="hljs-string">"%//ajax.googleapis.com/ajax/libs/jqueryui/%"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">UNION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-string"><span class="hljs-string">"mootools"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid)) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>, (<span class="hljs-number"><span class="hljs-number">100</span></span>*<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid))/<span class="hljs-number"><span class="hljs-number">67198</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">percent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> requests <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> pageid &lt;= <span class="hljs-number"><span class="hljs-number">14802750</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> pageid &gt;= <span class="hljs-number"><span class="hljs-number">14489007</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">url</span></span> <span class="hljs-keyword"><span class="hljs-keyword">like</span></span> <span class="hljs-string"><span class="hljs-string">"%//ajax.googleapis.com/ajax/libs/mootools/%"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">UNION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-string"><span class="hljs-string">"prototype"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid)) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>, (<span class="hljs-number"><span class="hljs-number">100</span></span>*<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid))/<span class="hljs-number"><span class="hljs-number">67198</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">percent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> requests <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> pageid &lt;= <span class="hljs-number"><span class="hljs-number">14802750</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> pageid &gt;= <span class="hljs-number"><span class="hljs-number">14489007</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">url</span></span> <span class="hljs-keyword"><span class="hljs-keyword">like</span></span> <span class="hljs-string"><span class="hljs-string">"%//ajax.googleapis.com/ajax/libs/prototype/%"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">UNION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-string"><span class="hljs-string">"scriptaculous"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid)) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>, (<span class="hljs-number"><span class="hljs-number">100</span></span>*<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid))/<span class="hljs-number"><span class="hljs-number">67198</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">percent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> requests <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> pageid &lt;= <span class="hljs-number"><span class="hljs-number">14802750</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> pageid &gt;= <span class="hljs-number"><span class="hljs-number">14489007</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">url</span></span> <span class="hljs-keyword"><span class="hljs-keyword">like</span></span> <span class="hljs-string"><span class="hljs-string">"%//ajax.googleapis.com/ajax/libs/scriptaculous/%"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">UNION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-string"><span class="hljs-string">"swfobject"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid)) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>, (<span class="hljs-number"><span class="hljs-number">100</span></span>*<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid))/<span class="hljs-number"><span class="hljs-number">67198</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">percent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> requests <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> pageid &lt;= <span class="hljs-number"><span class="hljs-number">14802750</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> pageid &gt;= <span class="hljs-number"><span class="hljs-number">14489007</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">url</span></span> <span class="hljs-keyword"><span class="hljs-keyword">like</span></span> <span class="hljs-string"><span class="hljs-string">"%//ajax.googleapis.com/ajax/libs/swfobject/%"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">UNION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-string"><span class="hljs-string">"webfontloader"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid)) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>, (<span class="hljs-number"><span class="hljs-number">100</span></span>*<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid))/<span class="hljs-number"><span class="hljs-number">67198</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">percent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> requests <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> pageid &lt;= <span class="hljs-number"><span class="hljs-number">14802750</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> pageid &gt;= <span class="hljs-number"><span class="hljs-number">14489007</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">url</span></span> <span class="hljs-keyword"><span class="hljs-keyword">like</span></span> <span class="hljs-string"><span class="hljs-string">"%//ajax.googleapis.com/ajax/libs/webfont/%"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>;</code> </pre><br></div></div><br><table><tbody><tr><th>  Script </th><th>  Count </th><th>  Percent </th></tr><tr><td>  jquery </td><td>  59977 </td><td>  89.2541 </td></tr><tr><td>  jqueryui </td><td>  12437 </td><td>  18.5080 </td></tr><tr><td>  webfontloader </td><td>  4624 </td><td>  6.8812 </td></tr><tr><td>  swfobject </td><td>  2347 </td><td>  3.4927 </td></tr><tr><td>  prototype </td><td>  993 </td><td>  1.4777 </td></tr><tr><td>  scriptaculous </td><td>  787 </td><td>  1.1712 </td></tr><tr><td>  mootools </td><td>  445 </td><td>  0.6622 </td></tr><tr><td>  angularjs </td><td>  353 </td><td>  0.5253 </td></tr><tr><td>  dojo </td><td>  186 </td><td>  0.2768 </td></tr><tr><td>  chrome-frame </td><td>  75 </td><td>  0.1116 </td></tr><tr><td>  ext-core </td><td>  sixteen </td><td>  0.0238 </td></tr><tr><td>  jquerymobile </td><td>  one </td><td>  0.0015 </td></tr></tbody></table><br>  jQuery is really the most popular script.  Bypasses the rest of the library <b>in order</b> ! .. <br>  Notice the intriguing result?  <b>jQuery mobile is only connected on one site!</b> <br>  This is not a mistake, I checked three times :) <br><br><h5>  Approximate Wordpress Impact </h5><br>  In analyzing the data, I noticed a steady pattern that introduces noise into the results.  Namely, an incomprehensible parameter in static queries <b>:? Ver = xxx</b> . <br>  As it turned out, these are mostly WordPress tricks!  It adds a parameter with a version to the statics. <br>  In addition, there are several more characteristic patterns - some sites add <b>cache basting</b> to all resources, including statics from CDN. <br><br>  Let's go back to WordPress.  I found interesting patterns that allow you to enter simple heuristics and estimate how widespread wordpress is: <br><ul><li>  Wordpress uses the <a href="http://jquery.com/download/">jquery-migrate</a> plugin.  This plugin is quite rare and is used to bring back obsolete jQuery features from older versions in version 1.9+. </li><li>  As mentioned above, Wordpress adds a version with a version to resources. </li></ul><br>  Using this knowledge, we obtain the following. <br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid)) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>, (<span class="hljs-number"><span class="hljs-number">100</span></span>*<span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span>(pageid))/<span class="hljs-number"><span class="hljs-number">290835</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">percent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> requests <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> pageid &gt;= <span class="hljs-number"><span class="hljs-number">14489007</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> pageid &lt;= <span class="hljs-number"><span class="hljs-number">14802750</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">url</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LIKE</span></span> <span class="hljs-string"><span class="hljs-string">"%jquery-migrate%.js\\?ver=%"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-keyword"><span class="hljs-keyword">url</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LIKE</span></span> <span class="hljs-string"><span class="hljs-string">"%jquery-migrate%.js\\?v=%"</span></span>;</code> </pre><br></div></div><br><table><tbody><tr><th>  Number of sites </th><th>  % of the total </th></tr><tr><td>  29819 </td><td>  10.2529 </td></tr></tbody></table><br>  As you can see, <b>more than 10% of the</b> most visited sites in the world use wordpress. <br><br>  <b>PS</b> During the study, no site was hurt.  But the extension can <i>break</i> something.  If you still decide to use it and find this behavior - write to me <b>in a personal</b> . <br>  <b>PPS</b> If you have interesting questions, then ask them <b>in the comments</b> .  I will update the article and add answers. </div><p>Source: <a href="https://habr.com/ru/post/215173/">https://habr.com/ru/post/215173/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../215151/index.html">The logic of thinking. Part 8. Selection of factors in the wave networks</a></li>
<li><a href="../215161/index.html">Design and architecture in the OP. Part 2</a></li>
<li><a href="../215163/index.html">My tool for time tracking and invoicing</a></li>
<li><a href="../215167/index.html">The Linux Foundation and EdX begin a free course on Introduction to Linux.</a></li>
<li><a href="../215171/index.html">Simple filter tapes VK for "bad" words and what he can become</a></li>
<li><a href="../215175/index.html">Firefox Download Panel Improvements</a></li>
<li><a href="../215177/index.html">Radio-controlled switch do it yourself. Part 3 - Switch Software</a></li>
<li><a href="../215181/index.html">How signals and slots work in Qt (part 2)</a></li>
<li><a href="../215183/index.html">The digest of interesting news and materials from the world of PHP No. 37 (February 24 - March 9, 2014)</a></li>
<li><a href="../215185/index.html">Sample Application - Phonebook on AngularJS + Bootstrap v3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>