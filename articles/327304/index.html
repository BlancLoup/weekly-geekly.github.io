<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Unity3D tips and tricks 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="After the incredible success of the first part (22 people liked and had as many as 9 comments, 3 of which are mine) - the author (I) decided to write ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Unity3D tips and tricks 2</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/files/746/bcd/4c2/746bcd4c2ed54eb0ac80ff48a11241f0.png"></div><br>  After the incredible success of the first part (22 people liked and had as many as 9 comments, 3 of which are mine) - the author (I) decided to write a continuation of the story about exciting adventures in the world of Unity3d. <br><br>  I tried to pick up fresh chips. <br><a name="habracut"></a><br>  <b>1. Easy Buttons</b> <br><br>  Hint meaning (briefly): You can add a call to any method from the editor as 1 line.  When you select an object in the editor, a button appears with the name of the method; when you click on it, the method is executed. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Download, throw in the project, add in the code: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/533/a3b/954/533a3b9542978a4439c0383b7ff43024.png" alt="image"><br><br>  We see in the editor: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/622/29d/81a/62229d81a260f5b158e2582c5cca2185.png" alt="image"><br><br>  After clicking - the result of the execution: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d1d/9ca/3c1/d1d9ca3c1dfea81a7a0f338a812c50a1.png" alt="image"><br><br>  It is very convenient to test effects or quickly trigger events that, according to the logic of the game, have a long wait.  Saves time. <br><br>  The code can be downloaded <a href="http://unitylist.com/r/a52/easy-buttons">here</a> . <br><br>  <b>2. Conditional Hide</b> <br><br>  Meaning: you can easily hide unnecessary fields.  For example, your object only when using homing need to set the parameters of the radius and so on.  In other cases, they need to hide (or zadisablit).  It is very easy to do. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bb3/9a9/b1c/bb39a9b1cc43c8f88cd1105736ba1268.gif" alt="image"><br><br><pre><code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">Header(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Auto Aim"</span></span></span><span class="hljs-meta">)</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> EnableAutoAim = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; [ConditionalHide(<span class="hljs-string"><span class="hljs-string">"EnableAutoAim"</span></span>, <span class="hljs-literal"><span class="hljs-literal">true</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> Range = <span class="hljs-number"><span class="hljs-number">0.0f</span></span>; [ConditionalHide(<span class="hljs-string"><span class="hljs-string">"EnableAutoAim"</span></span>, <span class="hljs-literal"><span class="hljs-literal">true</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> AimAtClosestTarget = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; [ConditionalHide(<span class="hljs-string"><span class="hljs-string">"EnableAutoAim"</span></span>, <span class="hljs-literal"><span class="hljs-literal">true</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> DemoClass ExampleDataClass = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DemoClass(); [ConditionalHide(<span class="hljs-string"><span class="hljs-string">"EnableAutoAim"</span></span>, <span class="hljs-literal"><span class="hljs-literal">true</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> AnimationCurve AimOffsetCurve = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AnimationCurve();</code> </pre> <br>  Now the fields will be shown only if the EnableAutoAim condition is met.  You can also not hide, but simply disable fields, as well as use 2 conditions. <br><br>  Thanks to <a href="http://www.brechtos.com/hiding-or-disabling-inspector-properties-using-propertydrawers-within-unity-5/">this guy</a> , you can also download the source code of the attribute. <br><br>  Stuck very convenient, simplifies the editing process. <br><br>  Note that the first and second hints work differently (the first overlaps the CustomEditor for all objects, which is not very good in some cases, the second is the CustomPropertyDrawer for its attribute). <br><br>  <b>3. Screenshots for different permissions with one button</b> <br><br>  The standard Unity tools for screenshots are pretty dull - it just makes a screenshot of the current resolution.  But after all, you need a bunch of screenshots, for different resolutions, different aspect ratios (16: 9, 4: 3, some more), also from some iPad pro with a higher resolution.  A fresh example - a couple of weeks ago - it was necessary to: <br><br><blockquote>  3.5 Inch (iPhone 4): 640 x 960 px <br>  4 Inch (iPhone 5): 640 x 1136 px <br>  4.7 Inch (iPhone 6): 750 x 1334 px <br>  5.5 Inch (iPhone 6 Plus): 1242 x 2208 px <br>  iPad (9.7 + 7.9 Inch): 2048 x 1536 px <br>  iPad Pro (12.9 Inch): 2732 x 2048 </blockquote><br>  Under the hand of such a zoo, devices usually do not exist.  The exit is a simple script - where the texture is created, the camera (or cameras) is rendered there, and saved. <br><br>  You can take it <a href="http://answers.unity3d.com/questions/22954/how-to-save-a-picture-take-screenshot-from-a-camer.html">here</a> .  And <a href="https://forum.unity3d.com/threads/rendering-screenshot-using-multiple-cameras-and-one-rendertexture.135916/">here is</a> an example of how to remake a lot of cameras. <br><br>  Now you own the skill of creating screenshots with one button. <br><br>  <b>4. Submitting LogError to Performance Reporting</b> <br><br>  Prehistory: there used to be Parse.com service, if an error occurred in the game (not Exception, but something small ‚Äî for example, there is no sprite for the weapon, or something else), then Debug.LogError () was called in the code.  It was intercepted, sent to Parse.com, entered into the database there, if there were a lot of errors - the script would immediately start a bug report so that we would pay attention.  But ‚äÇ (¬∞  ñÃØ ¬∞) ‚äÉ from Facebook bought parse and closed it, breaking off a bunch of people.  The program has nowhere to send stories about the troubles that have occurred with it. <br><br>  There are all sorts of solutions (to send such things to the statistics, to use something else) - but for bike lovers I propose such a solution - send to Performance Reporting (especially since this is the most logical place to watch what errors are in the program). <br><br>  So, in Unity there is Performance Reporting - but only Exceptions get there.  LogError misses.  If you create Exception instead of LogError, then yes, the error will be sent and we will see it in Performance Reporting, but the further execution of the script will stop.  And there can be especially nothing criminal and you can safely carry it on.  If you create an Exception and catch it yourself, then the script does not spill (you catch it), but nothing will be sent to Performance Reporting, and we will not know about it.  The solution I propose is to pick up on LogError, when an error is received, create an exception in another class (let it happen), then the error will be sent to Performance Reporting.  Actually code: <br><br><div class="spoiler">  <b class="spoiler_title">Code</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ErrorHandler</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> output = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> stack = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Awake</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { DontDestroyOnLoad(gameObject); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnEnable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Application.logMessageReceived += HandleLog; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnDisable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Application.logMessageReceived -= HandleLog; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">HandleLog</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> logString, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> stackTrace, LogType type</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (type == LogType.Error) { output = logString; stack = stackTrace; Invoke(<span class="hljs-string"><span class="hljs-string">"ThrowException"</span></span>, <span class="hljs-number"><span class="hljs-number">0f</span></span>); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ThrowException</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Exception(output + <span class="hljs-string"><span class="hljs-string">"\n"</span></span> + stack); } }</code> </pre><br>  Yes, the code is far from ideal and hastily done as a replacement for the Parsi, it seems to cope with its duties.  The fact that, with a bunch of errors in a row, theoretically, it might not work quite right - I understand, but in practice this has not happened yet. <br></div></div><br>  On the boot scene, make an object, hang this script on it.  He will mark the object so that it is not deleted when loading the scenes, and subscribes to Debug.  Upon receipt, the LogError script will create an exception that Unity will send to Performance Reporting.  Where you find out about him. <br><br>  Thanks to those who read to the end.  I hope something from the above is useful. </div><p>Source: <a href="https://habr.com/ru/post/327304/">https://habr.com/ru/post/327304/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../327294/index.html">What the front-end developer should be able to do</a></li>
<li><a href="../327296/index.html">Analyzing and comparing your IT product with competitors</a></li>
<li><a href="../327298/index.html">Getting a user is easy</a></li>
<li><a href="../327300/index.html">Creating an application for brain training. Choice of technology and gamification techniques</a></li>
<li><a href="../327302/index.html">How to lead and promote the channel in Telegram - the complete guide</a></li>
<li><a href="../327306/index.html">Six Lessons I Learned from the Star Wars Saga</a></li>
<li><a href="../327308/index.html">Vhd native boot inside and out</a></li>
<li><a href="../327310/index.html">Overview of time tracking systems</a></li>
<li><a href="../327312/index.html">SAP HANA - a task with many solutions</a></li>
<li><a href="../327314/index.html">What if you add some magic to your workflow?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>