<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Good Rules for Permission Design on File Servers</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I want to share the experience of designing permissions on file servers. In theory and practice, both Unix and Windows (as the two most popular platfo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Good Rules for Permission Design on File Servers</h1><div class="post__text post__text-html js-mediator-article">  I want to share the experience of designing permissions on file servers.  In theory and practice, both Unix and Windows (as the two most popular platforms) provide enough tools and capabilities to assign permissions to objects on file servers.  This is quite an ordinary task when you have up to hundreds of users, a couple of servers, and only a few levels of the directory tree.  With the increase in the number of servers, the number of directories, and there are much more users in such companies, an unpleasant circumstance appears - the costs of supporting the infrastructure for sharing files (time and staff) are rising sharply.  In this topic, I would like to talk about the basic requirements for the design of the file sharing service, which will make it easier to simplify support and reduce its costs.  I note in advance that we don‚Äôt touch the very process of maintaining servers (hardware, file systems and operating systems) and the content of objects (content types), but consider only the design of the shared access structure. <br><br><a name="habracut"></a><br>  We describe the conditions for the strata which we will consider as an example and a real application. <br>  Available at the moment: <br><ul><li>  The five main file sharing servers </li><li>  More than five levels of nesting on each server </li><li>  More than 500 directories on each server </li><li>  More than 10 thousand files on each server </li><li>  Over 300 users </li></ul><br>  The geographical location of servers, users, network infrastructure does not matter much for this situation. <br><br>  As a result of using such an infrastructure for a couple of years, changing several system administrators, regularly assigning special permissions to directories (goals are not important) at the request of users, even with careful documentation, following the process of making changes and keeping track of changes in the infrastructure on such servers there is a mess in the directory permissions.  A typical manifestation of confusion: it is necessary to understand why Olga Ivanova, a user (translator for example), has access to a catalog with financial information, and can also edit it to the same.  We open directory permissions, model effective access permissions for this user, and see that she can even breed butterflies there, although judging by the group membership two levels higher there shouldn‚Äôt be any.  The question arises: how is this situation?  Surely the reason is the inheritance of permissions, although there may also be any special permissions that are not visible at first glance.  There may be a reverse situation when a user cannot access documents that he needs to edit, and here it is already necessary to spend, as a rule, much more time to search for causes and correct errors.  All this leads to a great investment of time, which in fact could have been avoided with proper planning and compliance with the design. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      What can be offered as a solution to this situation (as we shall see later on and most of the other ones that occur on file servers).  For a start, this is design development for file sharing infrastructure.  The design should consist of a document describing at least the following areas: <br><br><ul><li>  target </li><li>  the benefit that will bring compliance with this policy </li><li>  application area </li><li>  requirements for the logical structure of file access </li><li>  access permissions for shared objects </li><li>  roles that are needed / will be involved in the design, implementation, support of this infrastructure </li><li>  risks in implementing and maintaining infrastructure </li><li>  the main problems that may be in the design, implementation, support </li><li>  links to any other policies, agreements, contracts that may affect the design, implementation and support of the file sharing service </li></ul><br>  I want to dwell on the requirements for the logical structure and access permissions, the description of the remaining sections of the design refers to the field of service management and is beyond the scope of this topic. <br><br>  The main recommendations to avoid many errors with the support of the service: <br><ul><li>  For a logical directory tree structure, it‚Äôs best to use a single design on all servers. </li><li>  On all servers it is recommended to use the same entry point to directories (root level) </li><li>  All directories that should have special access rights should have their own groups for users who need access to this directory. </li><li>  To provide access to directories, it is recommended to use separate user groups that should be placed in a separate container from other groups. </li><li>  All access groups must have a single predefined naming design. </li><li>  Permissions for directories can be issued only through the inclusion of members in a group that corresponds to this directory (never directly to an individual user) </li><li>  When setting permissions for a newly created directory, all system non-inheritable access groups should be deleted. </li><li>  Permission inheritance must be enabled starting from the root directory (root level) and must not be disabled under any circumstances. </li><li>  Access to objects can be granted only by granting two basic sets of rights ‚Äî to read (read the list of objects, read permissions, read contents) and to change (read rights + change contents, delete files and directories, create files and directories).  In some cases, you can use special groups (a separate type of groups) that can provide only the necessary part of the two main complete sets of access rights </li><li>  It is forbidden to use "deny access" (deny of access) under any circumstances </li><li>  It is recommended to use ABE if necessary to hide unnecessary directories from the eyes or, if necessary, not only to deny access, but also, to the extent possible, to ensure the appearance of their absence. </li></ul><br>  Particular attention with the support of file sharing should be paid to the last three points, because the violation of any of them greatly complicates the investigation of incidents and the further design and development of the service.  Any necessary actions with access resolutions can be performed within the last three points. <br>  Compliance with these rules makes your sharing service scalable, understandable to any engineer, more secure.  The main result will be a clear reduction in the cost of maintaining the service and reducing some of the risks. <br><br><h6>  PS </h6><br>  The remaining sections of design (goals, risks, roles, links with other policies) in this case are no less important for optimal and successful design, implementation and support of the service.  From which follows the need to pay them no less attention than to design permissions or to maintain order in the directory structure. <br>  In order to avoid a holivar regarding paragraph 10. I want to immediately add that any prohibition of access can be replaced with properly designed permissions.  Using ‚ÄúDeny Access‚Äù makes it very difficult to investigate incidents at high levels of nesting, but at small levels it can also be a lot of trouble.  Accordingly, the use of inheritance and only permitting sets of access rights gives confidence in the transparent mechanism of inheritance and that nowhere between several levels is nothing hidden from you. <br>  With ABE you need to be very careful and remember about its presence, otherwise there will be a lot of confusion when investigating incidents. <br><habracut></habracut></div><p>Source: <a href="https://habr.com/ru/post/118313/">https://habr.com/ru/post/118313/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../118306/index.html">Translation of the speech of David Heinemeyer Hansson on Startup School'2008</a></li>
<li><a href="../118308/index.html">The choice of technology for developing browser games</a></li>
<li><a href="../118309/index.html">3D landscape in a browser using WebGL</a></li>
<li><a href="../118310/index.html">Node.js - a guide to convincing the authorities</a></li>
<li><a href="../118311/index.html">The concept of the visual image of the XXII Olympic and XI Paralympic Games 2014 is presented.</a></li>
<li><a href="../118314/index.html">Android 3.0 - this is not an accident!</a></li>
<li><a href="../118315/index.html">Two weeks with two cores</a></li>
<li><a href="../118316/index.html">Home server - ESXi, paranoia</a></li>
<li><a href="../118317/index.html">What does DIPM for SSDs mean?</a></li>
<li><a href="../118318/index.html">Development of multitouch web applications</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>