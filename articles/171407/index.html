<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Fault statistics in server memory</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In 2009, at the annual scientific conference SIGMETRICS, a group of researchers who worked at the University of Toronto with data collected and submit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Fault statistics in server memory</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/466/5c6/af8/4665c6af8882e8e36d0fe4de694cb363.jpg"><br><br>  In 2009, at the annual scientific conference SIGMETRICS, a group of researchers who worked at the University of Toronto with data collected and submitted for study by Google, published an extremely interesting document " <a href="http://www.cs.toronto.edu/~bianca/papers/sigmetrics09.pdf"><i>DRAM Errors in the Wild: A Large-Scale Field Study</i></a> " dedicated to statistics on failures in server RAM (DRAM).  Although similar studies were carried out earlier (for example, a 2007 study that observed a fleet of 300 computers), it was the first survey that covered such a large server fleet, calculated in thousands of units, for more than two years, and provided such comprehensive statistical information. <br><br>  I also note that the same group of researchers, led by a graduate student and now a professor at the University of Toronto, Bianca Shroeder, previously in 2007, published an equally interesting study on the statistics of hard drive failures in Google‚Äôs data centers (a brief popular squeeze from <a href="http://labs.google.com/papers/disk_failures.pdf"><i>Failure Trends in a Large Disk Drive Population</i></a> (pdf 242 KB), if you are bored with reading the entire report, you can find it here: <a href="http://blog.aboutnetapp.ru/archives/tag/google">http://blog.aboutnetapp.ru/archives/tag/google</a> ).  In addition, several other works belong to their pen, in particular, on the effect of temperature and cooling, and on the statistics of failures in the operational memory caused, presumably, by high-energy cosmic rays.  Links to publications can be found on the Schr√∂der home page, on the university server. <br><a name="habracut"></a><br>  Briefly about how exactly the statistical data was collected.  The fact is that for quite a long time (the published work analyzed a period of about 2.5 years), Google data centers collect various monitoring data and other events in the life of equipment in a large database, the data of which can be further analyzed for any desired period. of time. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage2/aa9/f3e/221/aa9f3e22113529156649e0b5fe7097bd.jpg"><br><br>  <i>(in the photo, by the way, the authentic look of the Google server platform, it is from these "bricks" that Google clusters are created, many thousands of nodes in size, however, it has already been written about them here)</i> <br><br>  The results of this analysis are presented in a published paper.  And the results are surprising in many ways, forcing to look differently at the issues of reliability and customary assumptions in the field of server equipment reliability. <br><br>  The study convincingly demonstrated that the <b>impact of failures in RAM is significantly underestimated</b> , that failures of RAM occur more often than before it was considered to be, finally, many assumptions, for example, that RAM practically does not ‚Äúage‚Äù as ‚Äúage‚Äù By increasing the likelihood of failures, components with moving parts, such as hard drives, for example, or that overheating has a detrimental effect on the performance of RAM, are incorrect and need to be revised. <br><br>  There is no doubt that in the past few years, due to the comparative cheapening of DRAM, and the widespread use of server virtualization systems, which are extremely eager for memory, the concentration of more and more RAM in one server system also increases its reliability requirements. <br><br>  The study showed that approximately <b>every third server (or 8% of memory modules) in the observed data centers for 2.5 years of research encountered a malfunction in the RAM</b> .  The number of failures registered by the monitoring system was over 4000 per year!  Most of them, of course, were eliminated using the ECC (Error Correction Code) used in RAM and its more complex variants, such as Chipkill (it allows to eliminate multi-bit errors, for example, immediately in a group of cells).  However, Uncorrectable Errors, that is, errors that could not be fixed, and which almost certainly led to fatal consequences like BSOD or kernel panic are much more common than is commonly believed.  And in the case of memory use without ECC, each of these errors is almost certainly BSOD or kernel panic, or a serious application failure.  After all, for example, very many people keep the database data in memory to speed up its work. <br><br>  Compared to a previously published study, the work of the Schr√∂der group sharply increased the ‚Äúexpectations‚Äù of failures.  Thus, they estimated the failure events at 25-70 thousand failures per billion server hours, which is almost fifteen times higher than the earlier estimate made on a smaller population. <br>  With failures as a result of uncorrectable (uncorrectable, uncorrected ECC or Chipkill), 1.3% of servers per year, or about 0.22% of DIMM, were encountered. <br>  Systems using ‚Äúmulti-bit‚Äù mechanisms, such as Chipkill, had 4‚Äì10 times fewer failures, compared to conventional ECC. <br><br>  Other interesting findings from the published paper are: <br><br>  <b>The working temperature, and its increase very little correlates with the probability of failure in DRAM</b> .  This is another fact that indicates that the prevailing opinion in the industry about the harmful effects of high temperature on semiconductors and computer equipment (opinion based on the study of the 1980s) should be radically revised today.  This is another confirmation of this fact, which has already been installed, for example in the work on hard drives.  Paradoxically, it was found that the smallest number of HDD failures was observed at temperatures around 40-45 degrees, and its reduction in the number of failures increased (!). <br>  In the case of DRAM, the correlation between temperature (in the observed range of about 20 degrees between the lowest and the highest) and the failures was extremely small. <br><br><img src="https://habrastorage.org/storage2/494/e17/528/494e17528512b8d539874ffcfc35d413.png"><br><br>  (hereinafter on the slides: CE - correctable errors, errors registered but corrected by ECC, UE - uncorrectable errors) <br><br>  However <b>, failures significantly correlated with memory load and exchange rate with it</b> (partly high memory load affects its temperature, of course, but not always).  It is likely that the intensive exchange and the large relative amount of memory filled with data greatly increases the likelihood of a quick failure detection. <br><br><img src="https://habrastorage.org/storage2/35c/d34/978/35cd34978ada0503d1c5b34aea1d9509.png"><br><br>  It was found that the <b>probability of a repeated failure in a previously failed memory module is hundreds of times higher than in a previously failed one</b> .  This can be caused both by the presence of a poorly detected technological defect, and by the fact that a failure, for example, the breakdown by a charged particle of cosmic rays, does not pass completely to memory, even if the error was corrected by ECC. <br>  70-80% of cases when an unrecoverable error was registered in the memory module, this module already had a correctable ECC or Chipkill failure in this or previous month. <br><br><img src="https://habrastorage.org/storage2/853/1e3/c74/8531e3c74c53dadfba68ed0e23023298.png"><br><br>  It was found that <b>relatively new modules, made with higher density and finer process technology, do not show a higher failure rate</b> .  Apparently, while in the DRAM technology, the technological limit, near which reliability problems begin, has not yet been reached.  In the observed park of modules, there were about six different types and generations of memory (DDR1, DDR2 and FBDIMM of different types), and no correlation was found between high density and the number of failures and failures. <br><br>  Finally, the <b>effect of "aging" in DRAM modules</b> was demonstrated with frightening clarity.  Moreover, in memory, it manifested itself much more clearly than, for example, in HDD, where the threshold, after which the failures grow at times, was about 3-4 years. <br><br><img src="https://habrastorage.org/storage2/c47/ec4/adc/c47ec4adcb4f1bcdb63a391e19f4d46f.png"><br><br>  Paradoxically, statistics show an <b>increasing growth rate of correctable errors with an increase in the age of the modules</b> , but a decreasing rate for Uncorrectable errors, but most likely this is simply the result of a planned replacement of memory in servers that have been noticed for failures. <br><br><img src="https://habrastorage.org/storage2/46c/09d/c4b/46c09dc4b55333e944aa294edb6e90af.png"><br><br>  Surprisingly, <b>DRAM, devoid of any moving parts, shows a significant and continuing growth of correctable failures</b> after a year and a half of operation. <br><br>  Summing up, I would like to note that these statistics force us to revise the principles of building server platforms and data centers that are familiar to many, based on "life experience", and the position "the colder the better," "memory does not wear out", "if the north correctly assembled, it does not break "and" ECC DRAM is a waste of money, because my desktop works without ECC, and nothing. "  And the sooner such capturing moods are eliminated in such a serious area as the construction of data centers, the better it will be. <br>  And I would like to recommend the <i>inescapable source of sweetness</i> , intellectual exercise and food for the brain, as <a href="https://www.usenix.org/conferences/best-papers">publications of the</a> annual conferences <a href="https://www.usenix.org/">of the USENIX group</a> , to you, gentlemen, not a marketing bulletin, which is so familiar to us all, but a real serious science, which you will not dismiss. </div><p>Source: <a href="https://habr.com/ru/post/171407/">https://habr.com/ru/post/171407/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../171395/index.html">DRAM Errors or don't rush to blame Software</a></li>
<li><a href="../171397/index.html">We test VPS based on KVM server with volumes connected via iSCSI from NexentaStor filer</a></li>
<li><a href="../171399/index.html">"Mail of Russia" will create a state e-mail for $ 1.03 billion</a></li>
<li><a href="../171401/index.html">Yes, but who said they buy it?</a></li>
<li><a href="../171405/index.html">Qt Creator 2.7: QBS Project Manager Under the Hood</a></li>
<li><a href="../171411/index.html">The digest of news from the world of mobile development for the last week # 4 (February 24 - March 3, 2013)</a></li>
<li><a href="../171415/index.html">Uncompromising power and real mobility</a></li>
<li><a href="../171417/index.html">Extending the SOAP to PHP class</a></li>
<li><a href="../171419/index.html">Watching DVDs on Linux is illegal in the USA</a></li>
<li><a href="../171421/index.html">A look at Yandex.Store for Android (Survey)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>