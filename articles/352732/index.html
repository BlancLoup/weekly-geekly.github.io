<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating a simple RESTful API with Spark Framework</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="What do you learn 


 You will learn how to define generic controllers using Java 8 functional interfaces. Sample code on GitHub . 
 EchoApplication.j...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating a simple RESTful API with Spark Framework</h1><div class="post__text post__text-html js-mediator-article"><h2 id="chto-vy-izuchite">  What do you learn </h2><br><p>  You will learn how to define generic controllers using Java 8 functional interfaces. <a href="">Sample code on GitHub</a> . </p><a name="habracut"></a><br><h2 id="echoapplicationjava">  EchoApplication.java </h2><br><p>  This is the class that links your application together.  When you open this class you should immediately understand how everything works: </p><br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">EchoApplication</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Logger LOG = Logger.getLogger(EchoApplication.class); <span class="hljs-comment"><span class="hljs-comment">// Declare dependencies public static EchoService echoService; static { echoService = new EchoService(); } public static void main(String[] args) { port(4567); start(); } public static void start() { JsonUtils.registerModules(); LOG.info("Initializing routes"); establishRoutes(); } private static void establishRoutes() { path("/api", () -&gt; path("/v1", () -&gt; { get(Path.ECHO, EchoController.echo); post(Path.PONG, EchoController.pong); }) ); } }</span></span></code> </pre> <br><h2 id="staticheskie-zavisimosti">  Static dependencies? </h2><br><p>  Static dependencies are not just what you are used to seeing in <code>Java</code> , but static may be better than embedded dependencies when it comes to controllers in web applications.  Moreover, in our microservice, which performs only one function, there will be few services.  Of the advantages, it should be noted that the abandonment of DI accelerates the launch of the application, and you can write unit tests for one or two services without DI. </p><br><h2 id="path-i-controllerfield">  Path and Controller.field </h2><br><p>  In the <code>Path.java</code> class <code>Path.java</code> I hold the entry points to the REST API in the form of constants.  In this application, there are only two request handlers that are placed on one <code>EchoController</code> controller: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">EchoController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Route echo = (req, res) -&gt; ((QueryParamsHandlerFunc) echoQuery -&gt; echoService .echo(echoQuery.value(<span class="hljs-string"><span class="hljs-string">"echo"</span></span>)) .map(Answer::ok) .orElse(Answer.error(HTTP_BAD_REQUEST, ErrorMessages.UNABLE_TO_ECHO + req.body())) ).handleRequest(req, res); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Route pong = (req, res) -&gt; ((ModelHandlerFunc&lt;Ping&gt;) pongRequest -&gt; echoService .pong(pongRequest) .map(Answer::ok) .orElse(Answer.error(HTTP_BAD_REQUEST, ErrorMessages.UNABLE_TO_PONG + req.body())) ).handleRequest(req, res, Ping.class); }</code> </pre> <br><p>  The first handler is a lambda function, the body of which is the <code>QueryParamsHandlerFunc</code> functional interface.  The input parameter of this interface is the GET request data - a dictionary with a part of the requests from the link.  (For example, <code>/echo?echo=message</code> ).  In the body of this interface, we call our service handler.  Those.  the service receives the already assembled object and does not depend on the controller in any way, which facilitates testing.  The service returns an <code>Optional</code> , which maps to the <code>Answer</code> class, which creates the answer.  In the event of an error, a <code>Answer</code> class is returned with an error code and an error message.  This interface has the <code>QueryParamsHandlerFunc::handleRequest</code> , to which the request and the response are sent from the <code>Func::handlerRequest(req, res)</code> handler controller. </p><br><p>  The second handler returns a result that forms approximately the same interface as above, only the class that inherits the <code>Payload</code> interface is specified as the template parameter.  The processing of this request is no different from that described above.  The only difference is that the <code>ModelHandlerFunc::handleRequest</code> this interface receives the class of our <code>Payload</code> as a parameter <code>ModelHandlerFunc&lt;Ping&gt;</code> . </p><br><h2 id="queryparamshandlerfuncjava">  QueryParamsHandlerFunc.java </h2><br><p>  This is a functional interface that inherits the basic interface, into which actions common to the GET request handler are made.  This interface defines a default method, QueryParamsHandlerFunc :: handleRequest, which accepts request and response objects as input parameters.  Performs some checks, such as headers, by invoking the BaseHandlerFunc :: commonCheck (request) base interface method.  Next, it takes the query dictionary from the query (/ echo? Echo = message), sends them to the method defined in the QueryParamsHandlerFunc :: process interface, after processing the request, specifies the response code and serializes this response to Json. </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@FunctionalInterface</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">QueryParamsHandlerFunc</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseHandlerFunc</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">default</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handleRequest</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Request request, Response response)</span></span></span><span class="hljs-function"> </span></span>{ String check = commonCheck(request); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (StringUtils.isNotBlank(check)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> check; } QueryParamsMap queryParamsMap = request.queryMap(); Answer processed = process(queryParamsMap); response.status(processed.getCode()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> dataToJson(processed); } <span class="hljs-function"><span class="hljs-function">Answer </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">process</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(QueryParamsMap data)</span></span></span></span>; }</code> </pre> <br><h2 id="modelhandlerfuncjava">  ModelHandlerFunc.java </h2><br><p>  This interface works the same way as described above, with the only difference that it handles POST requests.  The converted class, as well as when processing request parameters, is passed to the <code>ModelHandlerFunc::process</code> interface method. </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@FunctionalInterface</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ModelHandlerFunc</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Payload</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseHandlerFunc</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">default</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handleRequest</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Request request, Response response, Class&lt;T&gt; clazz)</span></span></span><span class="hljs-function"> </span></span>{ String check = commonCheck(request); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (StringUtils.isNotBlank(check)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> check; } String json = request.body(); T data = jsonToData(json, clazz); Answer processed = process(data); response.status(processed.getCode()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> dataToJson(processed); } <span class="hljs-function"><span class="hljs-function">Answer </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">process</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(T data)</span></span></span></span>; }</code> </pre> <br><h2 id="basehandlerfuncjava">  BaseHandlerFunc.java </h2><br><p>  This is an interface that aggregates common methods in itself. </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseHandlerFunc</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">default</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">commonCheck</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Request request)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// do your smart check here return null; } }</span></span></code> </pre><br><h2 id="jackson-polymorphic-type-handling-annotations">  Jackson Polymorphic Type Handling Annotations </h2><br><p>  For serialization in JSON of the Answer class and its load, polymorphism with the @ <code>@JsonTypeInfo</code> annotation was <code>@JsonTypeInfo</code> .  More on the links. </p><br><h2 id="test-kontrollera">  Controller test </h2><br><p>  To test the controller, we will use the <a href="https://github.com/despegar/spark-test">Spark Test</a> library.  Sample code testing. </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">EchoControllerTest</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> String echoUrl = <span class="hljs-string"><span class="hljs-string">"/api/v1"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Integer randomPort = <span class="hljs-number"><span class="hljs-number">1000</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Random().nextInt(<span class="hljs-number"><span class="hljs-number">60000</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BoardBoxControllerTestSparkApplication</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SparkApplication</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ EchoApplication.start(); } } <span class="hljs-meta"><span class="hljs-meta">@ClassRule</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> SparkServer&lt;BoardBoxControllerTestSparkApplication&gt; testServer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SparkServer&lt;&gt;(BoardBoxControllerTestSparkApplication.class, randomPort); <span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">should_echo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> HttpClientException </span></span>{ String echoMsg = <span class="hljs-string"><span class="hljs-string">"echo"</span></span>; Echo echo = (Echo) get(<span class="hljs-string"><span class="hljs-string">"/echo?echo"</span></span> + <span class="hljs-string"><span class="hljs-string">"="</span></span> + echoMsg).getBody(); assertEquals(echoMsg, echo.getEcho()); } <span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">should_pong</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> HttpClientException </span></span>{ Pong pong = (Pong) post(<span class="hljs-string"><span class="hljs-string">"/ping"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Ping(<span class="hljs-string"><span class="hljs-string">"PING"</span></span>)).getBody(); assertEquals(<span class="hljs-string"><span class="hljs-string">"PING PONG"</span></span>, pong.getPong()); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> Answer </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">post</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String path, Object payload)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> HttpClientException </span></span>{ PostMethod resp = testServer.post(echoUrl + path, dataToJson(payload), <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); HttpResponse execute = testServer.execute(resp); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> jsonToData(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(execute.body()), Answer.class); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> Answer </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String params)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> HttpClientException </span></span>{ GetMethod resp = testServer.get(echoUrl + <span class="hljs-string"><span class="hljs-string">"/"</span></span> + params, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); HttpResponse execute = testServer.execute(resp); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> jsonToData(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(execute.body()), Answer.class); } }</code> </pre> <br><h2 id="ssylki">  Links </h2><br><ul><li>  <a href="http://sparkjava.com/tutorials/application-structure">Creating a library website</a> </li><li>  <a href="http://www.baeldung.com/jackson-annotations">Jackson Annotation Examples</a> </li><li>  <a href="https://github.com/despegar/spark-test">Java Spark Test</a> </li><li>  <a href="https://fasterxml.github.io/jackson-annotations/javadoc/2.2.0/com/fasterxml/jackson/annotation/JsonTypeInfo.html">Jackson Polymorphic Type Handling Annotations</a> </li></ul></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/352732/">https://habr.com/ru/post/352732/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../352722/index.html">How to issue a self-signed SSL certificate and make your browser trust it</a></li>
<li><a href="../352724/index.html">What will be Web 3.0: blockchain-marketplace for machine learning</a></li>
<li><a href="../352726/index.html">Enough automation - it's time to draw an owl on PowerShell and teach the console to speak</a></li>
<li><a href="../352728/index.html">Standoff on the web</a></li>
<li><a href="../352730/index.html">To steal in 1100 seconds - the strangest bug that I saw</a></li>
<li><a href="../352734/index.html">Building an extended anti-virus protection system for a small enterprise. Part 1. Choosing a strategy and decision</a></li>
<li><a href="../352736/index.html">ActiveDirectory Integration into Aether Management Console</a></li>
<li><a href="../352738/index.html">Experimenting with AR: when C # meets CSS</a></li>
<li><a href="../352740/index.html">Fintech Digest: 70 Russians will teach the digital economy for 650 million rubles, the US tax and cryptocurrency, chatbot will get smarter</a></li>
<li><a href="../352742/index.html">The book ‚ÄúHigh-loaded applications. Programming, scaling, support</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>