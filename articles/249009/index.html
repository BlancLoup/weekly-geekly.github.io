<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How we won the Intel RealSense Hackathon</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Once I wrote on Habr about various technologies for obtaining 3D images from a single camera. I ended the article with the words: "I myself, however, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How we won the Intel RealSense Hackathon</h1><div class="post__text post__text-html js-mediator-article">  Once I <a href="http://geektimes.ru/post/224605/">wrote</a> on Habr about various technologies for obtaining 3D images from a single camera.  I ended the article with the words: "I myself, however, have not yet come across any of these cameras, which is a pity and annoyance." <br>  And now, suddenly, less than a year, Intel is <a href="http://habrahabr.ru/company/intel/blog/247839/">holding</a> a seminar and hackathon in Moscow on a new generation of its 3D cameras (Intel RealSense).  Curiosity leaped: my colleague and I signed up for the event.  As it turned out, not in vain.  Hackathon we won and got the Developer-version of the camera, which we are now tormenting. <br><br><img width="500" src="https://habrastorage.org/files/bf0/07d/f3d/bf007df3d79040c0ab138cd510ae20ec.png"><br><br>  The article tells about two things: <br><ol><li>  About the camera, its pros and cons;  what can be done with it, and for what tasks it is not suitable. </li><li>  About the concept that we proposed on the hackathon and for which we won first place. </li></ol><br><a name="habracut"></a><br><h4>  <b>Camera</b> </h4><br>  You can talk a lot about the camera.  It turned out to be more interesting than expectations, but not in terms of quality, but in terms of embedded mathematics.  From global things: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      First, instead of the <a href="http://geektimes.ru/post/224605/">Time of flight</a> technology, there was a return to <a href="http://en.wikipedia.org/wiki/Structured-light_3D_scanner">structured backlighting</a> .  I think that the accuracy for the same price is higher.  Of course, ToF has more potential, but the cost of a high-quality sensor is too high there.  Structured lighting has an interesting pattern, moving in time: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/208/ab6/e75/208ab6e757a76e8dfad3a9fe8738c565.jpg" alt="image"><br><br>  To be honest, I do not understand how they level this picture in the IR stream.  Probably some kind of interframe approximation, but obviously this is not noticeable. <br><br>  Secondly, very cool math for highlighting fingers and facial contours.  Face contours are distinguished through active appearance models, but the algorithms are extended to the 3D area.  This solution allowed to increase the stability and accuracy of work.  An interesting point: the selection of the face and works on ordinary cameras.  Accuracy, of course, less, but in bright light is not bad.  I liked the idea.  As far as I know, there was simply no stable solution for active models that could be taken and used for free (although, of course, the 4-gigabyte SDK stops). <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/lXc0ut5aXtg%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253&amp;usg=ALkJrhjzAhiNX-kGojKoyR-mdsthjIrauA" frameborder="0" allowfullscreen=""></iframe><br><br>  The selection of the face occurs in two stages.  First, with some sort of fast algorithm (probably Haar), a region with a face is searched for, then a face is stretched through the active model of the form.  The process is resistant to facial expressions and glasses, not resistant to turns more than 15-20 degrees. <br><br>  The solution with the selection of fingers I also liked.  There is no ideal stability, but the system is predictable, on its basis it is possible to create quite working applications.  Probably, it is less accurate than the Leap Motion, but it has a large field of view.  The solution is not ideal, ambiguities arise, models are crookedly stretched.  Some of the embedded gestures are recognized once, others are not recognized unless the system first sees the deployed hand.  In the video below, I tried to highlight the problems. <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/9fJcmcqupyM%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253&amp;usg=ALkJrhi8wrnhagubXTv7yo_KJcrtNG8WEw" frameborder="0" allowfullscreen=""></iframe><br><br>  In my opinion, the potential is already there.  And if the quality of the selection of hands will increase one and a half more times, then such control will be comparable to the touchpad. <br><br>  Thirdly, I would like to note that Kinect and RealSense have different niches.  Kinect is aimed at large spaces, for working with a person from afar.  And RealSense - for direct interaction with the system where it is installed.  In many ways, this determines the parameters of the 3D sensor. <br><br><h4>  <b>Minuses</b> </h4><br>  Not without its drawbacks.  Since the current version is not yet final, I would like to hope that they will be corrected. <br>  <b>The first</b> awkward moment is that the drivers are still raw.  A colleague with whom we went, at some point the camera completely refused to work.  It helped only the demolition of all drivers and reinstalling them several times. <br><br>  During the initialization of the video stream, an error periodically occurs, the whole application hangs for 20-30 seconds and does not start.  The error is fixed on two computers. <br><br>  <b>The second</b> point relates to face recognition.  In my opinion, a large amount of information is missing: <br>  1) The eyes are the window to the soul.  Why does the clear direction of the eye not stand out?  There is a direction of the face, there is a selection of the position of the pupils (from where, theoretically, you can get a direction).  But when the angles of rotation of the head more than 5 degrees, the position of the pupils begins to be approximated by the center of the eye, although this is clearly not indicated.  Of course, I would like the opportunity to use the direction to be explicitly made in the API. <br>  2) Face selection works only in two modes, in <a href="https://software.intel.com/en-us/forums/topic/540068">FACE_MODE_COLOR_PLUS_DEPTH</a> and in FACE_MODE_COLOR.  Why is there no FACE_MODE_IR_PLUS_DEPTH or at least FACE_MODE_IR?  In low light conditions, the selection stops working.  Why can not be used to highlight the mode where the face is always visible well and stable.  Many people like to sit in front of a computer in a dark room. <br><br>  <b>The third</b> point is architecture.  Maybe we didn‚Äôt understand something completely, but we didn‚Äôt manage to start face recognition and hand recognition at the same time.  Any of these systems need to be initialized separately. <br><br>  <b>The fourth</b> negative - not all of the declared frequencies work.  Of course, you can try to pick up 640 * 480 * 300fps video from the camera.  But it is not selected in this quality and is not saved.  I would like to list the operating modes. <br><br>  <b>The fifth</b> minus is a bit personalized for the subject where we often work - ‚Äúbiometrics‚Äù.  If the laser wavelength was 800-900 nm, rather than 700-600, as in a camera, more biometric features of a person would be more visible and the recognition system could be done directly on this camera. <br><br><h4>  <b>About hakaton and our victory</b> </h4><br>  Hackathon began after one and a half hours of lectures and examples.  There were 40 people in 13 teams.  Format: ‚Äúwe give the camera, after 6 hours show the project‚Äù.  Given that any video analytics is very complicated, this is not much.  On the other hand, it is strange to hold such events in a different format (in total, the whole event lasted 8 hours, at the end the participants were very exhausted). <br><br>  Someone was thoroughly preparing for the hackathon.  Someone took the projects made for other purposes and strongly modified them.  All of Vasya‚Äôs preparation for the hackathon took about three hours.  We sat and drank tea and thought what could be done.  There were several ideas: <br><br><ol><li>  Try to take some of our project and adapt a 3D camera to it.  The problem was that all the projects were for 2D recognition / analytics.  And screwing the camera to them was clearly more than 4 hours.  Plus, it is not clear how this could be beautifully arranged. </li><li>  Try to show a demonstration effect, some simple and classic application.  Manage your mouse / airplane with your eyes / hand.  Drawing on the face of mustache / sideburns.  The disadvantage of this option is that it is rather empty and uninteresting.  To bring to a beautiful state for a long time, but the simple version will not be of interest to the public. </li><li>  Show a qualitatively new idea, achievable only on this product.  It is clear that in 4 hours of a hakaton such a thing cannot be pile up to the end.  But there is an opportunity to show a demonstration effect.  This option liked the most.  Here the main problem is to come up with such an idea. </li></ol><br>  One of the things that I like is a person‚Äôs state analyst.  Perhaps you read one of my <a href="http://habrahabr.ru/post/232515/">past articles</a> on Habr√©.  And of course, I was carried in the same direction.  But to make movement gain through 3D is ineffective.  But through 3D, you can remove a lot of the characteristics of the person sitting in front of the camera.  But how and where to apply it? <br><br>  The answer turned out to be surprisingly trivial and obvious, as soon as Vasya asked me: ‚Äúhow can a 3D camera help a car?‚Äù.  And here we just suffered.  After all, a 3D camera in a car can: <br><ul><li>  Watch that the driver falls asleep or not. </li><li>  To monitor the attention of the driver, for example, that when rebuilding the driver does not look in the rear-view mirrors. </li><li>  Recognize the gestures of the driver: the driver can not break away from the road to move the map / control music. </li><li>  Automatic tuning of the mirror before the trip. </li></ul><br>  And the most surprising: no one has done this yet.  There are systems for determining fatigue, in the last couple of years they have even started using video cameras.  But with a 3d camera, you can more accurately determine the position of the driver's head, which allows you to control his reactions.  In addition, one thing, falling asleep, and another - the analysis of actions and driver assistance. <br>  For four hours, we gathered a simple demonstration: <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/G-Tq4gNyVb4%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253&amp;usg=ALkJrhg0kcLJGkwetON5i49hm7s29DBryg" frameborder="0" allowfullscreen=""></iframe><br><br>  For this idea and demonstration we were suddenly given the first place. <br><br>  If suddenly someone needs our sketches for 6 hours - <a href="https://yadi.sk/d/4A8a0T8yeLzes">here</a> they are.  EmguCV + is connected with a vermicel code.  The idea is awesome, but how to approach a problem of such a scale and level of integration is not clear.  But such technologies may well become transitional to auto robots. </div><p>Source: <a href="https://habr.com/ru/post/249009/">https://habr.com/ru/post/249009/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../248997/index.html">Details about the new Microsoft rendering engine for Project Spartan</a></li>
<li><a href="../248999/index.html">Generating fake data for your javascript application using faker</a></li>
<li><a href="../249001/index.html">New Flash Player vulnerabilities are exploited in-the-wild</a></li>
<li><a href="../249005/index.html">Attention, application ideas contest for Microsoft and Mojio</a></li>
<li><a href="../249007/index.html">Ghost - gethostbyname () vulnerability in glibc</a></li>
<li><a href="../249011/index.html">New heart for Chinese lantern</a></li>
<li><a href="../249015/index.html">Creating plug-ins for AutoCAD using the .NET API (part 3 - working with layers)</a></li>
<li><a href="../249017/index.html">Surface mounting: stencil and reflow oven at home</a></li>
<li><a href="../249021/index.html">The evolution of SAAS website designers</a></li>
<li><a href="../249023/index.html">Candelabrum vs Lollipop</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>