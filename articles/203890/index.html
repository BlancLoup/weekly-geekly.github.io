<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>JohnSmith - a simple and lightweight JavaScript framework for building UI</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="To date, there are a lot of JavaScript libraries to create rich-client applications. In addition to the well-known Knockout, Angular.JS and Ember ther...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>JohnSmith - a simple and lightweight JavaScript framework for building UI</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/f85/44f/bbf/f8544fbbf739316fa9c3b7984dbbd53b.png" align="left"><br><br>  To date, there are a lot of JavaScript libraries to create rich-client applications.  In addition to the well-known Knockout, Angular.JS and Ember there are a great many other frameworks, and each has its own peculiarity - someone promotes minimalism, and someone - ideological purity and compliance with the MVC philosophy.  With all this diversity, more and more new libraries appear regularly.  From the last that was mentioned on <a href="http://habrahabr.ru/post/198158/">Habr√©</a> - <a href="http://habrahabr.ru/post/198158/">Warp9</a> and <a href="http://habrahabr.ru/post/196146/">Matreshka.js</a> .  In this regard, I want to talk about my own crafts, meet, <a href="https://github.com/guryanovev/JohnSmith">JohnSmith</a> - a simple and lightweight JavaScript framework for building UI. <br><br><br clear="left"><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      First of all, I would like to say that JohnSmith was not written for the sake of some academic interest and not to eliminate that fatal flaw.  Quite the contrary, JohnSmith was born in a real project, then migrated from project to project, gradually improving and changing its shape.  And now it has materialized as a full-fledged open-source library. <br><br><br><h2>  Example </h2><br><br>  To demonstrate the capabilities of JohnSmith, we will write the simplest application with the following functionality: <br><br>  <strong>There is an input field in which the user writes his name.</strong>  <strong>As soon as the name is entered, we show the message: <em>Hello,% username%</em> .</strong> <br><br>  Who wants to immediately see the result: here is a ready <a href="http://john-smith-js.com/index.html">User Greeter</a> . <br><br><br><br><h2>  View Model </h2><br><br>  Let's start with the creation of the View Model, and first of all, write the "class": <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> GreeterViewModel = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ }</code> </pre> <br><br>  The View Model usually ‚Äúexposes‚Äù objects to the outside world, changes of which can be tracked from the outside.  In JohnSmith, these objects are called bindable.  Add a field to store the user name: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> GreeterViewModel = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userName = js.bindableValue(); };</code> </pre><br><br>  This field ( <code>userName</code> ) will be used for bidirectional binding in the View.  Add another field that will form the message text.  This field depends on <code>userName</code> , so we describe it as <code>dependentValue</code> : <br><br><pre> <code class="javascript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> GreeterViewModel = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userName = js.bindableValue(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.greetMessage = js.dependentValue( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userName, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">userNameValue</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (userNameValue) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Hello, "</span></span> + userNameValue + <span class="hljs-string"><span class="hljs-string">"!"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Please, enter your name"</span></span>; }); };</code> </pre><br><br>  js.dependentValue is similar to computed in knockout, except that we manually specify dependencies in JohnSmith, since  there's no auto-tracking magic behind the scenes. <br><br>  Model View is ready, now we will describe View. <br><br><br><br><h2>  View </h2><br><br>  Let's start by creating a class: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> GreeterView = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ }</code> </pre><br><br>  A view is a collection of markup and the logic of the connection between this markup and the outside world.  The markup is described in the <code>template</code> field, and the logic is described in the <code>init</code> method: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> GreeterView = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.template = <span class="hljs-string"><span class="hljs-string">"...  ..."</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.init = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-comment"><span class="hljs-comment">//    } };</span></span></code> </pre><br><br>  In our test example, the markup is pretty simple, so we write it directly in the template field: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> GreeterView = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.template = <span class="hljs-string"><span class="hljs-string">"&lt;p&gt;Enter your name: &lt;input type='text'/&gt;&lt;/p&gt;"</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;p class='message'&gt;&lt;/p&gt;"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.init = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-comment"><span class="hljs-comment">//     }; };</span></span></code> </pre><br><br>  Now go to the <code>init</code> method.  First, JohnSmith implies that each View works with a specific View Model, so we add the viewModel parameter: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> GreeterView = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.template = <span class="hljs-string"><span class="hljs-string">"&lt;p&gt;Enter your name: &lt;input type='text'/&gt;&lt;/p&gt;"</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;p class='message'&gt;&lt;/p&gt;"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.init = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">viewModel</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-comment"><span class="hljs-comment">// &lt;--- //     }; };</span></span></code> </pre><br><br>  Next, our task is to associate the properties of the View Model with the markup that our View "draws".  JohnSmith provides the syntax for configuring this link directly in js code.  For our case, it will look like this: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> GreeterView = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.template = <span class="hljs-string"><span class="hljs-string">"&lt;p&gt;Enter your name: &lt;input type='text'/&gt;&lt;/p&gt;"</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;p class='message'&gt;&lt;/p&gt;"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.init = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">viewModel</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.bind(viewModel.userName).to(<span class="hljs-string"><span class="hljs-string">"input"</span></span>); <span class="hljs-comment"><span class="hljs-comment">// &lt;--- this.bind(viewModel.greetMessage).to(".message"); // &lt;--- }; };</span></span></code> </pre><br><br>  Now everything is ready and we only need to draw our view (it is assumed that there is an element on the page with id = 'greeter'): <br><br><pre> <code class="javascript hljs">js.renderView(GreeterView, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GreeterViewModel()).to(<span class="hljs-string"><span class="hljs-string">"#greeter"</span></span>);</code> </pre><br><br>  So, on this our mini-application is finished, the result can be seen <a href="http://john-smith-js.com/index.html">here</a> .  This example demonstrates the basic philosophy of the framework, but in order to learn more about the capabilities of JohnSmith, let's clarify some details. <br><br><br><br><h2>  Binding </h2><br><br>  The basis of binding in JohnSmith is observable objects (as in knockout).  These objects are created using one of the following methods: <br><br><ul><li>  <code>js.bindableValue</code> - a normal observable object; </li><li>  <code>js.dependentValue</code> - value depending on other objects; </li><li>  <code>js.bindableList</code> - observable collection, notifies subscribers about adding / removing items. </li></ul><br><br>  Directly binding object A and listener B is configured by the code of the form: <br><br><pre> <code class="javascript hljs">js.bind(A).to(B);</code> </pre><br><br>  For example: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> firstName = js.bindableValue(); <span class="hljs-comment"><span class="hljs-comment">//   js.bind(firstName).to(".firstName"); //   jQuery- firstName.setValue("John"); //   </span></span></code> </pre><br><br>  Inside the view, the binding code changes slightly: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//    init   this.bind(viewModel.firstName).to(".firstName");</span></span></code> </pre><br><br>  And in this case, the search by <code>.firstName</code> selector will work only inside the markup of this View, and not in the whole document.  This ensures complete independence of the form from the external environment. <br><br>  The <code>js.bind(A).to(B)</code> syntax allows you to combine the ‚Äúdeclarative‚Äù style with the imperative one and use the jQuery-style in those cases where it is necessary: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//      : js.bind(firstName).to(".firstName"); js.bind(firstName).to( function(newValue, oldValue){ // &lt;--      //     jQuery  , // , / -    //   newValue/oldValue,  ,    .. });</span></span></code> </pre><br><br>  If you pass a normal (non-observable) value as a bindable object, then a one-time synchronization with the interface will occur.  This allows you to consistently process both observable and ‚Äúregular‚Äù View Model fields: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ViewModel = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.firstName = <span class="hljs-string"><span class="hljs-string">"John"</span></span>; <span class="hljs-comment"><span class="hljs-comment">// static value this.lastName = js.bindableValue(); // observable value }; //... // somewhere in the View: this.bind(viewModel.firstName).to(".firstName"); // will sync only once this.bind(viewModel.lastName).to(".lastName"); // will sync on every change</span></span></code> </pre><br><br>  For rendering complex objects, a child View can be used: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ViewModel = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.myAddress = js.bindableValue(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.initState = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.myAddress.setValue({ <span class="hljs-attr"><span class="hljs-attr">country</span></span>: <span class="hljs-string"><span class="hljs-string">'Russia'</span></span>, <span class="hljs-attr"><span class="hljs-attr">city</span></span>: js.bindableValue(); }); }; }; <span class="hljs-comment"><span class="hljs-comment">// ... this.bind(viewModel.myAddress).to(".address", AddressView); // ...</span></span></code> </pre><br><br><br><br><h2>  Views Composition </h2><br><br>  The view in JohnSmith is the atomic unit for building the interface.  Each species is completely independent and provides reusability.  The interface of the entire application is made up of individual Species, by building a "tree" ( <a href="http://en.wikipedia.org/wiki/Composite_pattern">composite pattern</a> ).  That is, there is one main view, it has child views, each of the children has its own child views, etc.  Composition is achieved in several ways: <br><br><ul><li>  direct addition of a child view: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ParentView = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.init = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addChild(<span class="hljs-string"><span class="hljs-string">".destination"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ChildView(), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ChildViewModel()); <span class="hljs-comment"><span class="hljs-comment">// &lt;-- } };</span></span></code> </pre></li><li>  using the View to draw bindable values: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ParentView = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.init = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">viewModel</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.bind(viewModel.details).to(<span class="hljs-string"><span class="hljs-string">".details"</span></span>, DetailsView); <span class="hljs-comment"><span class="hljs-comment">// &lt;-- } };</span></span></code> </pre> </li></ul><br><br>  As a small demonstration of the composite view, the file tree is: <br> <a href="http://john-smith-js.com/filetree.html"><img src="https://habrastorage.org/getpro/habr/post_images/285/f21/3d6/285f213d6a6d8d13a5752dfad1e5dad9.png"></a> <br><br><h2>  Conclusion </h2><br><br>  As a conclusion, we denote the features of JohnSmith: <br><br><ul><li>  Companability UI makes it easy to use JohnSmith for projects of any size.  With increasing complexity, it is easy to keep the code under control.  This is achieved by modularity and a clear division of responsibility between the Species and the Model; </li><li>  JohnSmith is very simple - just two basic concepts (View and Bindable), and those are well known to any programmer who worked with the UI.  No paradigm shift and no magic behind the scenes; </li><li>  JohnSmith operates with ordinary objects with ordinary fields and methods.  This means that you will not have to perform any actions relying on string identifiers (such as <code>model.set('firstName', 'John')</code> ).  This approach provides a close friendship with the IDE and goes well with tools like <a href="http://www.typescriptlang.org/">TypeScript</a> or <a href="http://scriptsharp.com/">ScriptSharp</a> ; </li><li>  JohnSmith manipulates DOM elements from JavaScript code, so it needs jQuery. </li></ul><br><br>  <a href="https://github.com/guryanovev/JohnSmith">repository on github</a> <br>  That's all, thank you for your attention, waiting for constructive criticism! </div><p>Source: <a href="https://habr.com/ru/post/203890/">https://habr.com/ru/post/203890/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../203876/index.html">Curiosity rover fully recovered after electrical system failure</a></li>
<li><a href="../203878/index.html">How to become a "big fish" in the sea of ‚Äã‚Äãmobile applications</a></li>
<li><a href="../203882/index.html">Yandex now supports encryption of outgoing and incoming mail</a></li>
<li><a href="../203884/index.html">Creating a convenient OpenFileDialog for Android</a></li>
<li><a href="../203886/index.html">We collect "bad data" (bad data)</a></li>
<li><a href="../203892/index.html">School open data. First 7 lessons and feedback</a></li>
<li><a href="../203904/index.html">Bitcoin rate exceeded $ 1000 for 1 BTC</a></li>
<li><a href="../203906/index.html">December 7-8 - XII selection of projects in the Kazan IT Park Business Incubator</a></li>
<li><a href="../203908/index.html">Steam Machine from iBuyPower - we meet in January</a></li>
<li><a href="../203910/index.html">Inheritance programming</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>