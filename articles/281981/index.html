<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Develop HTML5 games in Intel XDK. Part 7. Design of the game</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Part 1 ¬ª Part 2 ¬ª Part 3 ¬ª Part 4 ¬ª Part 5 ¬ª Part 6 ¬ª Part 7 // End) 


 Last time we had an almost finished game. Now it remains only to bring beauty...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Develop HTML5 games in Intel XDK. Part 7. Design of the game</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/21b/4e4/f80/21b4e4f80e884771bc6508cb0f5b6dbe.png"><br>  <a href="https://habrahabr.ru/company/intel/blog/281380/">Part 1</a> ¬ª <a href="https://habrahabr.ru/company/intel/blog/281453/">Part 2</a> ¬ª <a href="https://habrahabr.ru/company/intel/blog/281523/">Part 3</a> ¬ª <a href="https://habrahabr.ru/company/intel/blog/281607/">Part 4</a> ¬ª <a href="https://habrahabr.ru/company/intel/blog/281639/">Part 5</a> ¬ª <a href="https://habrahabr.ru/company/intel/blog/281873/">Part 6</a> ¬ª <a href="https://habrahabr.ru/company/intel/blog/281981/">Part 7</a> // End) <br><img src="https://habrastorage.org/files/21b/4e4/f80/21b4e4f80e884771bc6508cb0f5b6dbe.png"><br><br>  Last time we had an almost finished game.  Now it remains only to bring beauty.  Namely: to make a scoring system, menu screens and game completion, to work on the complexity.  All this today and do. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/129/e94/3af/129e943afa644431b02dc6b0c9a5a0d5.jpg"></div><a name="habracut"></a><br><h2>  <font color="#0071c5">Scoring system</font> </h2><br>  This project involved a simple scoring system.  Each time a snake eats a cookie, the player gets one point.  In addition to scoring, you need to display them on the screen.  To do this, create a ScoreLayer layer.  It will be implemented everything that is related to the game points. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>1.</b> Optional step.  Create a new ‚Äúscore.js‚Äù file and add the project.json file accordingly. <br><br><pre><code class="hljs objectivec"><span class="hljs-string"><span class="hljs-string">"jsList"</span></span> : [    <span class="hljs-string"><span class="hljs-string">"src/resource.js"</span></span>,    <span class="hljs-string"><span class="hljs-string">"src/biscuit.js"</span></span>,    <span class="hljs-string"><span class="hljs-string">"src/score.js"</span></span>,    <span class="hljs-string"><span class="hljs-string">"src/game.js"</span></span> ]</code> </pre> <br>  <b>2.</b> Add the following code to the score.js file, or, if you decide to do without it, in game.js. <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ScoreLayer = cc.Layer.extend({   score: <span class="hljs-number"><span class="hljs-number">0</span></span>,   labelScore: <span class="hljs-literal"><span class="hljs-literal">null</span></span>,   ctor: function() {       <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span>       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._super();       <span class="hljs-comment"><span class="hljs-comment">/*  */</span></span>       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">init</span></span>();   },   <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>: function() {       <span class="hljs-comment"><span class="hljs-comment">/*        */</span></span>       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.labelScore = cc.LabelTTF.create(<span class="hljs-string"><span class="hljs-string">"Score: 0"</span></span>);       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.labelScore.setColor(cc.color(<span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>));       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.labelScore.setPosition(cc.p(<span class="hljs-number"><span class="hljs-number">240</span></span>, <span class="hljs-number"><span class="hljs-number">700</span></span>));       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addChild(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.labelScore);         },   scoreIncrease: function() {       <span class="hljs-comment"><span class="hljs-comment">/*       */</span></span>       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.score += <span class="hljs-number"><span class="hljs-number">1</span></span>;       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.labelScore.setString(<span class="hljs-string"><span class="hljs-string">"Score: "</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.score);   } });</code> </pre> <br>  This layer is pretty simple.  He has a sprite that is responsible for displaying information about points scored on the screen, and a method that increases the number of points scored by one each time it is called.  Now we will connect the layer responsible for the points with the game. <br><br>  <b>1.</b> Create a ScoreLayer instance in the GameScene class. <br><br><pre> <code class="hljs coffeescript">var GameScene = cc.Scene.extend({   snake_layer: {}, score_layer: {},   onEnter:function () {       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._super();       <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    ,         <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.score_layer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ScoreLayer();       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.snake_layer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SnakeLayer();       <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    ,         <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addChild(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.score_layer, <span class="hljs-number"><span class="hljs-number">1</span></span>);       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addChild(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.snake_layer, <span class="hljs-number"><span class="hljs-number">0</span></span>);          } });</code> </pre> <br>  <b>2.</b> Configure SnakeLayer so that the scoreIncrease method is invoked every time a snake eats a cookie.  To do this, make the following changes to the checkCollision method, namely where the check for a snake collides with a cookie. <br><br><pre> <code class="hljs kotlin">checkCollision: function() {     ...      <span class="hljs-comment"><span class="hljs-comment">/*      */</span></span>     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (head.x == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.biscuit.x &amp;&amp; head.y == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.biscuit.y) {           <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span>           <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.parent.score_layer.scoreIncrease();           <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span>           <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.updateBiscuit();           <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span>           <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addPart();     }     ...       },</code> </pre> <br>  We get access to the layer responsible for the points through the layer on which the snake is located, through the common parent GameScene, and then call the scoreIncrease method. <br><br>  After the above changes are made, the game screen should look like the one shown below. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dfe/d9e/38f/dfed9e38fc18f59c4868cfecabae1605.png"></div><br>  <font color="#999999"><i>Information about points earned on the game screen</i></font> <br><br>  Now, as soon as the snake eats another cookie, the number of points scored increases. <br><br><h2>  <font color="#0071c5">Menu screen</font> </h2><br>  Let's do a menu screen.  It will be no more difficult than the design with which we considered the points.  This screen will consist of one scene containing two sprites.  One, the title, will display the name of the game, the second, which plays the role of the subtitle, will invite the user to click the mouse or touch the screen to continue. <br><br>  1. Optional step.  Create a new file and name it "menu.js".  Add it to the file list in project.json as shown below. <br><br><pre> <code class="hljs objectivec"><span class="hljs-string"><span class="hljs-string">"jsList"</span></span> : [   <span class="hljs-string"><span class="hljs-string">"src/resource.js"</span></span>,   <span class="hljs-string"><span class="hljs-string">"src/biscuit.js"</span></span>,   <span class="hljs-string"><span class="hljs-string">"src/score.js"</span></span>,   <span class="hljs-string"><span class="hljs-string">"src/menu.js"</span></span>,   <span class="hljs-string"><span class="hljs-string">"src/game.js"</span></span> ]</code> </pre> <br>  <b>2.</b> Add the following code in menu.js, or, if you decide not to create this file, in game.js. <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> MenuScene = cc.Scene.extend({   titleSprite: {},   subTitleSprite: {},   onEnter: function() {       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._super();       <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span>       <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> winSize = cc.view.getDesignResolutionSize();             <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span>       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.titleSprite = cc.LabelTTF.create(<span class="hljs-string"><span class="hljs-string">"Snake."</span></span>, <span class="hljs-string"><span class="hljs-string">"Arial"</span></span>, <span class="hljs-number"><span class="hljs-number">50</span></span>);       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.titleSprite.x = winSize.width / <span class="hljs-number"><span class="hljs-number">2</span></span>;       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.titleSprite.y = winSize.height / <span class="hljs-number"><span class="hljs-number">2</span></span>;       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addChild(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.titleSprite);             <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span>       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.subTitleSprite = cc.LabelTTF.create(<span class="hljs-string"><span class="hljs-string">"Click anywhere to play"</span></span>, <span class="hljs-string"><span class="hljs-string">"Arial"</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>);       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.subTitleSprite.x = winSize.width / <span class="hljs-number"><span class="hljs-number">2</span></span>;       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.subTitleSprite.y = winSize.height / <span class="hljs-number"><span class="hljs-number">2</span></span> - <span class="hljs-number"><span class="hljs-number">80</span></span>;       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addChild(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.subTitleSprite);             <span class="hljs-comment"><span class="hljs-comment">/*        */</span></span>       cc.eventManager.addListener({           event: cc.EventListener.TOUCH_ONE_BY_ONE,           onTouchBegan: function (touches, event) {                              cc.director.runScene(new GameScene());                    },       }, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>);      },   });</code> </pre> <br>  When entering this scene, we create two text sprites and add a listener that waits for the screen to touch (or another input event) to start the game, that is, to launch GameScene. <br><br>  3. In the main.js file, configure the control object so that it runs the MenuScene scene instead of the GameScene.  To do this, edit the line below: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">cc</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.director</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.runScene</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">new</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">GameScene</span></span>());</code> </pre> <br>  It should look like this: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">cc</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.director</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.runScene</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">new</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">MenuScene</span></span>());</code> </pre> <br>  If you start the game now in the emulator, then instead of the game screen, the menu screen will appear. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dc7/280/642/dc728064224ed47abe27021e1410fb23.png"></div><br>  <font color="#999999"><i>Menu screen with a suggestion to start the game</i></font> <br><br><h2>  <font color="#0071c5">Game completion screen</font> </h2><br>  The last screen we are going to create is the one that the user sees after the game ends.  It is very similar to the main menu screen.  It will have three text sprites.  One will contain the text "Game Over".  The second is to display the points scored in the current session of the game, and the third will offer to play again. <br><br>  <b>1.</b> Optional step.  Create a new file, ‚ÄúgameOver.js‚Äù.  Add his description in project.json: <br><br><pre> <code class="hljs objectivec"><span class="hljs-string"><span class="hljs-string">"jsList"</span></span> : [   <span class="hljs-string"><span class="hljs-string">"src/resource.js"</span></span>,   <span class="hljs-string"><span class="hljs-string">"src/biscuit.js"</span></span>,   <span class="hljs-string"><span class="hljs-string">"src/score.js"</span></span>,   <span class="hljs-string"><span class="hljs-string">"src/gameOver.js"</span></span>,   <span class="hljs-string"><span class="hljs-string">"src/menu.js"</span></span>,   <span class="hljs-string"><span class="hljs-string">"src/game.js"</span></span> ]</code> </pre> <br>  <b>2.</b> Paste the following code into the gameOver.js file, or, if you did not create it in the previous step, into game.js. <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> GameOverScene = cc.Scene.extend({   finalScore: <span class="hljs-number"><span class="hljs-number">0</span></span>,   labelGameOver: {},   labelScore: {},   labelPrompt: {},   ctor: function(score) {       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._super();       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.finalScore = score;             <span class="hljs-comment"><span class="hljs-comment">/*   ,    */</span></span>       cc.eventManager.addListener({           event: cc.EventListener.TOUCH_ONE_BY_ONE,           onTouchBegan: function(touch, event) {               cc.director.runScene(new MenuScene());           }       }, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>);         },   onEnter: function() {       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._super();       <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span>       <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> winSize = cc.view.getDesignResolutionSize();             <span class="hljs-comment"><span class="hljs-comment">/*    GameOver */</span></span>       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.labelGameOver = new cc.LabelTTF(<span class="hljs-string"><span class="hljs-string">"Game Over"</span></span>, <span class="hljs-string"><span class="hljs-string">"Arial"</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span>);          <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.labelGameOver.x = winSize.width * <span class="hljs-number"><span class="hljs-number">0.50</span></span>;       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.labelGameOver.y = winSize.height * <span class="hljs-number"><span class="hljs-number">0.50</span></span>;       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addChild(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.labelGameOver);             <span class="hljs-comment"><span class="hljs-comment">/* ,      */</span></span>              <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.labelScore = new cc.LabelTTF(<span class="hljs-string"><span class="hljs-string">"Score: "</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.finalScore, <span class="hljs-string"><span class="hljs-string">"Arial"</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>);       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.labelScore.x = winSize.width * <span class="hljs-number"><span class="hljs-number">0.50</span></span>;       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.labelScore.y = winSize.height * <span class="hljs-number"><span class="hljs-number">0.43</span></span>;       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addChild(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.labelScore);             <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span>       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.labelPrompt = new cc.LabelTTF(<span class="hljs-string"><span class="hljs-string">"Click or Tap To Try Again"</span></span>);       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.labelPrompt.x = winSize.width * <span class="hljs-number"><span class="hljs-number">0.50</span></span>;       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.labelPrompt.y = winSize.height * <span class="hljs-number"><span class="hljs-number">0.39</span></span>;       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addChild(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.labelPrompt);   }, });</code> </pre> <br>  Notice that a parameter is passed to the scene designer that contains information about the score.  If this is not done, the scene will not be able to properly perform its functions. <br><br>  <b>1.</b> Add a reference to the control object in order to launch the GameOverScene scene, passing the information about the scores to the designer.  This should be done after the collision of the head of the snake with one of the fragments of its body. <br><br><pre> <code class="hljs actionscript"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> SnakeLayer = cc.Layer.extend({ ...   checkCollision: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ ...       <span class="hljs-comment"><span class="hljs-comment">/*       */</span></span>       <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> part = <span class="hljs-number"><span class="hljs-number">1</span></span>; part &lt; body.length; part++) {           <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (head.x == body[part].x &amp;&amp; head.y == body[part].y) {               <span class="hljs-comment"><span class="hljs-comment">/*   GameOver */</span></span>               <span class="hljs-comment"><span class="hljs-comment">//this.snakeParts = null;              //                   cc.director.runScene(               new GameOverScene                 (this.parent.score_layer.score)               );           }       }          ...   }, ... });</span></span></code> </pre> <br>  Now, in case of loss, such a screen will appear. <br><br><div style="text-align:center;"><img src="https://lh6.googleusercontent.com/pqouOOkSP2Ox7zK8lLIuZScGOAY4iuziC_qupeXjuMr_P_cgddGo6Kw9-3LGs1t6P7uu1GkZZS5-SXjp5LtWNslYiCWNcA9osfTG74w-ih6jh8qdVdaEkdx9wxSqu25o_nqKaeyvg4lQaNuRUg"></div><br>  <font color="#999999"><i>Game completion screen</i></font> <br><br><h2>  <font color="#0071c5">Game difficulty setting</font> </h2><br>  And finally, you need to increase the complexity of the game, based on how many points the user scored.  If the snake is constantly moving at the same speed, playing Snake is pretty simple, which means it's boring. <br><br>  <b>1.</b> Add the following method to the SnakeLayer code. <br><br><pre> <code class="hljs matlab">updateDifficulty: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(curScore)</span></span></span><span class="hljs-function"> { </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">var</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scoreToDiff</span></span></span><span class="hljs-function"> = {}; /*            ,       */ </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scoreToDiff</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">[0]</span></span></span><span class="hljs-function"> = 0.15; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scoreToDiff</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">[5]</span></span></span><span class="hljs-function"> = 0.10; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scoreToDiff</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">[15]</span></span></span><span class="hljs-function"> = 0.05; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scoreToDiff</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">[25]</span></span></span><span class="hljs-function"> = 0.03; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scoreToDiff</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">[35]</span></span></span><span class="hljs-function"> = 0.01; /*   */ </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">if</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(scoreToDiff[curScore] !== undefined)</span></span></span><span class="hljs-function"> { </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">this</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">interval</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scoreToDiff</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">[curScore]</span></span></span><span class="hljs-function">; }       },</span></span></code> </pre> <br>  <b>2.</b> Set the call to the updateDifficulty method at times when the snake eats a cookie and when creating the SnakeLayer layer. <br><br><pre> <code class="hljs matlab">var SnakeLayer = cc.Layer.extend({   ...   ctor: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> { ...       //          /*     */       </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">this</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateDifficulty</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">;   },      ...   </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkCollision</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> {       /*     */       </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">if</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(head.x == this.biscuit.x &amp;&amp; head.y == this.biscuit.y)</span></span></span><span class="hljs-function"> {           /*   */           </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">this</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parent</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">score_layer</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scoreIncrease</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">;           /*    */           </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">this</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateBiscuit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">;           /*    */           </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">this</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addPart</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">;           //              /*  ,         */           </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">this</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateDifficulty</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(this.parent.score_layer.score)</span></span></span><span class="hljs-function">;       }                  },   ... });</span></span></code> </pre> <br><h2>  <font color="#0071c5">findings</font> </h2><br>  So today you learned: <br><br><ul><li>  How to create a menu screen. </li><li>  How to create a game completion screen. </li><li>  How to create a scoring system. </li><li>  How to customize the complexity of the game. </li></ul><br>  The game is ready!  Congratulations on successfully completing this tutorial, and on having created your first HTML5 game in Intel XDK!  Try the game, find out if everything works well, change it the way you want.  And, if something in its functioning is still incomprehensible to you, sort it out. <br><br>  To learn more about how to build a distribution of games for various platforms, such as iOS, Android and Windows 8, look in the <a href="https://software.intel.com/en-us/xdk/docs/lp-build">documentation for the Intel XDK</a> . <br><br>  Now - it's time to do your own project. <br><br><img src="https://habrastorage.org/files/21b/4e4/f80/21b4e4f80e884771bc6508cb0f5b6dbe.png"><br>  <a href="https://habrahabr.ru/company/intel/blog/281380/">Part 1</a> ¬ª <a href="https://habrahabr.ru/company/intel/blog/281453/">Part 2</a> ¬ª <a href="https://habrahabr.ru/company/intel/blog/281523/">Part 3</a> ¬ª <a href="https://habrahabr.ru/company/intel/blog/281607/">Part 4</a> ¬ª <a href="https://habrahabr.ru/company/intel/blog/281639/">Part 5</a> ¬ª <a href="https://habrahabr.ru/company/intel/blog/281873/">Part 6</a> ¬ª <a href="https://habrahabr.ru/company/intel/blog/281981/">Part 7</a> // End) <br><img src="https://habrastorage.org/files/21b/4e4/f80/21b4e4f80e884771bc6508cb0f5b6dbe.png"></div><p>Source: <a href="https://habr.com/ru/post/281981/">https://habr.com/ru/post/281981/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../281969/index.html">The great Russian firewall is around the corner.</a></li>
<li><a href="../281971/index.html">JetCat: microQt for those who are easier</a></li>
<li><a href="../281973/index.html">Text Recognition from a Video Stream: The Future of Mobile OCR</a></li>
<li><a href="../281975/index.html">Two international conferences in St. Petersburg in June: Experimental Algorithms and Computer Science in Russia</a></li>
<li><a href="../281979/index.html">Quick start for custom docker container on OpenShift platform</a></li>
<li><a href="../281983/index.html">Creating a Debian package from scratch</a></li>
<li><a href="../281985/index.html">For the year, Google analyzed 760,000 hacking sites and announced a new tool to alert webmasters.</a></li>
<li><a href="../281989/index.html">Intel security hardware technology: a new word in the protection of biometric applications. Part one</a></li>
<li><a href="../281991/index.html">The PDO MSSQL driver (pdo_sqlsrv) for PHP7 is out</a></li>
<li><a href="../281993/index.html">Droplet of reflection for C ++. Part One: Development Retrospective</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>