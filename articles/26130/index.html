<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Sometimes they come back ... again</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Most recently, a post about pleasant TrackBar sliders was published on Habr√© by the user bur . I liked them because of their simplicity and the possib...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Sometimes they come back ... again</h1><div class="post__text post__text-html js-mediator-article">  Most recently, a <a href="http://habrahabr.ru/blog/javascript/42004.html">post</a> about pleasant TrackBar sliders was published on <a href="https://habrahabr.ru/users/bur/" class="user_link">Habr√© by the</a> user <a href="https://habrahabr.ru/users/bur/" class="user_link">bur</a> .  I liked them because of their simplicity and the possibility of using them in conjunction with jQuery.  A little later, there was also a post about a slider, which defined the range of time, but was blamed for its heavy weight and ‚Äúweight‚Äù.  Then I had the idea to create on the basis of TrackBar sliders to select an arbitrary range of time.  Invented - done.  And now I am presenting my achievements of habro-publicity. <br><br>  So, it was: <br><img src="https://habrastorage.org/getpro/habr/post_images/7b6/386/2fe/7b63862fe50d6f8911a467a33e1c8947.gif"><br>  It became: <br><img src="https://habrastorage.org/getpro/habr/post_images/908/c23/e7c/908c23e7ca79c1eda20aca01b09961d5.jpg"><br><br><a name="habracut"></a>  I took the 3rd version of TrackBar adapted for jQuery as a basis and upgraded it only, if you wish, you can try to transfer add-ons to the original version. <br>  Immediately give links: <br>  <a href="http://habrahabr.ru/blog/javascript/42004.html">The third version of TrackBar and its discussion</a> <br>  <a href="http://habrahabr.ru/blog/javascript/42614.html">The fourth version of TrackBar and its discussion</a> <br>  <s>Demonstration of the updated TrackBar</s> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  What was bad </h3>  Initially, sliders were calculated only to determine one or two exceptionally integers.  Hence all of its implementation flaws: <ol><li>  Work with integers only </li><li>  No serif </li><li>  Inability to assign your text instead of numbers </li></ol>  Fixing all these flaws took about 3 pm. <br><br><h3>  What's new </h3>  In order to create a slider of my dream, I had to seriously refine the initial implementation and introduce new variables and events.  So, what's new and tasty are the sliders now: <ol><li>  Show two types of serifs: small and large </li><li>  Make arbitrary signatures: <ul><li>  over large serifs </li><li>  on the sliders </li><li>  on the left and right border </li></ul></li><li>  Accurately position sliders on values ‚Äã‚Äãas they are dragged. </li><li>  Independently create your own hidden inputs for forms (without the need to write your onMove) </li><li>  Redefine from the outside on the fly: <ul><li>  Slider positions and variable values </li><li>  Left and right limits </li><li>  Notches </li></ul></li><li>  Show the range of values ‚Äã‚Äãfor the set limits </li><li>  Hide sliders if their value is out of range </li><li>  Flexibly configure all of the above. </li><li>  Compatibility with the fourth version </li></ol>  Some of the innovations can be seen here: <img src="https://habrastorage.org/getpro/habr/post_images/3dd/9be/998/3dd9be9989d33eb11e63b26cdac9353e.jpg"><br><br>  <a href="">Archive with all files</a> <br><br><h3>  Full list of new settings with a brief description: </h3><br><h4>  Additional parameters (parameter: default value): </h4>  <strong>showSmallTicks: true</strong> - a flag that allows or prohibits the display of small serifs <br><br>  <strong>showBigTicks: true</strong> - a flag that allows or prohibits the display of large serifs to which you can assign text <br><br>  <strong>showBigTicksText: true</strong> - a flag that allows or prohibits the display of text next to large serifs <br><br>  <strong>tickRoundUp: = roundUp = 0</strong> is a variable that is responsible for the number of serifs, namely the number of values ‚Äã‚Äãthat will be located between 2 adjacent serifs;  the default value is 0 and serifs are not shown. <br><br>  <strong>tickDivider: 5</strong> is a variable that is responsible for the number of small serifs between large ones (one more than this value) <br><br>  <strong>allowOverrideBorders: false</strong> - a flag that allows or forbids the range to go beyond the set boundaries while maintaining the interval <br><br>  <strong>precisePosition: false</strong> - a flag that allows or forbids precise positioning of the sliders <br><br>  <strong>leftInputName: id + 'Left'</strong> - a variable that is used to create hidden input for the left slider (if the dual flag is set) or for the entire slider (if dual is not set) <br><br>  <strong>rightInputName: id + 'Right'</strong> - a variable that is used to create a hidden input for the right slider (if the dual flag is set) <br><br>  <strong>createHiddenInputs: false</strong> - a flag that determines whether to create and manipulate hidden inputs or not <br><br><br><h4>  Additional events: </h4>  <strong>onLeftLimitTextSet, onRightLimitTextSet</strong> - setting text on the left and right borders of the slider <br><br>  <strong>onLeftSliderTextSet, onRightSliderTextSet</strong> - setting text on the left and right slider <br><br>  <strong>onBigTickText</strong> - setting the text on large serifs, the value is passed, on which there is a serif <br><br><br><h4>  Additional functions: </h4>  <strong>updateLeftValue (v4), updateRightValue (v4)</strong> - functions for setting the left and right values ‚Äã‚Äãof the sliders, in the third version they were not, but they appeared in the 4th, I also decided to add them here <br><br>  <strong>SetPositionWithNoMove</strong> - setting the position of the slider on the values ‚Äã‚Äãthat have changed from the outside without triggering the onMove event (I had to enter the updateLeftValue, updateRightValue functions) <br><br>  <strong>SetPosition</strong> - the same, only with the onMove () call <br><br>  <strong>SetRuler</strong> - override serifs <br><br>  <strong>ResetLimits</strong> - redefinition of boundary values <br><br>  If in the 4th version, working with the slider was limited only to calling updateLeftValue and updateRightValue, then the principle of working with the updated TrackBar is as follows: <br><ol><li> First, we directly set the necessary values, for example <br> <code>var scaleObj = $.trackbar.getObject("scale");</code> <br> <code>scaleObj.leftValue = 10;</code> <br> <code>scaleObj.rightValue = 20;</code> <br> <code>scaleObj.rightLimit = 100;</code> </li> <li>  Then we call one or more functions of applying values, for example <code>scaleObj.SetPosition();</code> <br> <code>scaleObj.ResetLimits();</code> <br> </li></ol>  To demonstrate all the possibilities, we took the original demo and silently embellished (added parameters are highlighted in blue), also at number 7 I added an example of organizing a range of arbitrary time based on two sliders: the upper one determines the scale of the range, the lower one sets it.  In it, all the improvements are used to the fullest, the most obvious example of use. <br><br>  The most interesting thing in the refinement of the original sliders was the addition of serifs to them.  Their implementation could be different, but I stopped at the next approach. <br><ol><li>  First, the main div is organized in which the scale will be located and it gets down under the line with sliders </li><li>  Then a set with different id is generated, by which it is determined which serif to draw </li><li>  So that the serifs do not merge, like Siamese twins, they are inserted between them, and the width is calculated for each slider separately. </li></ol>  By a similar principle, signatures under the scale are also constructed. <br>  This approach allows you to simply and quickly create serifs and control them through css, but it has one major drawback: not all browsers use all the fractional signs, discarding or rounding them.  Therefore, with a large number of serifs (more than 40), it can be clearly seen how the serifs on the right do not completely cover the trackbar (see Example 1) and there is a discrepancy between the location of the serif and the actual value.  On small values ‚Äã‚Äãit is completely unnoticeable. <br><br><h3>  Cross-browser compatibility and known shortcomings </h3>  Initially, all development was carried out on Firefox second version, which helped to quickly and easily create a fairly good layout for serifs and further optimize it for other browsers.  So, let's start analyzing the work of the sliders in various browsers. <br><br>  <strong>Firefox v2.0.0.13</strong> <br>  No problems noticed, everything works as intended.  The only problem that can sometimes arise is the incorrect matching of the serifs and the values ‚Äã‚Äãon the right side of the slider with a large number of serifs, but this was written above. <br><img src="https://habrastorage.org/getpro/habr/post_images/74f/b13/e42/74fb13e426f33c00ce28c172a5010108.jpg"><br><br>  <strong>IE v7</strong> <br>  Oddly enough, but everything works fine, about the same as in Firefox, only there is more discrepancy on the right side of the slider.  Plus, the serifs themselves are drawn a couple of pixels higher. <br><img src="https://habrastorage.org/getpro/habr/post_images/c16/637/993/c1663799321c7f0b84cc5185c93ccfc6.jpg"><br><br>  <strong>IE v6 and v8b1</strong> <br>  In appearance, everything is like in IE 7, only there is no transparency of the central part.  Not very critical, but unpleasant, especially in IE 8. Perhaps, the css transparency value is simply incorrectly determined and it can theoretically be cured in the future somehow.  In IE 6 in the 7th example, a bit of the text went beyond the boundaries and moved to a new line. <br><img src="https://habrastorage.org/getpro/habr/post_images/190/d53/741/190d537410153a13cbf750542c83188f.jpg"><br><br>  <strong>Safari 3.1.1</strong> <br>  Everything is also almost without problems, but there is already a stronger shortage of serifs to the end of the slider.  This is noticeable in the first example, somewhere around 10% of the slider is not covered by them, so for Safari it is not recommended to do more than 50 serifs. <br><img src="https://habrastorage.org/getpro/habr/post_images/50c/c8f/09b/50cc8f09b94e884b8a52529917fe909f.jpg"><br><br>  Up to this point, the testing process was a pleasure, but the feeling that everything did not always happen the way we wanted and the rake had to come out on the sly slowly creeping in.  And they got out in ... <br><br>  <strong>Opera 9.27</strong> <br>  I do not even know where to start.  In principle, if you turn off serifs, then everything is fine, not counting the artifacts when rendering the slider movement: there are unpleasant yellow marks in place of the slider's signatures, moreover, they do not always disappear with fast dragging and the occurrence of several values ‚Äã‚Äãon the strip.  With serifs in the Opera, it is quite a disaster, since the principle of their creation is based on the use of fractional widths.  Experiments have shown that the opera recognizes only integer percentages.  And she does not care that 0.8% of 500 pixels is as much as 4!  pixel (as in the first example).  Well, if it were to round it up, no, the fractional part is simply discarded and bare 0% remains.  To persuade her, as I understand it, is meaningless, so we observe all the delights of this approach to non-interest percentages in 1 and 2 examples.  The rest managed to avoid such a fate, because there the widths were about whole, and cutting off the hundredths of a percent of the weather did not play, as in Example No. 7, where the values ‚Äã‚Äãare 1.02% and 6.06%, and they were not specifically selected, I think this intrigues ufo g).  About the fact that it still slows down writing noticeably (the dependence is the following: the more serif sliders, the more slows it is). <br><img src="https://habrastorage.org/getpro/habr/post_images/3fc/85d/4e2/3fc85d4e26b9c98d3dad5a4a63222efd.jpg"><br><br>  <strong>Other browsers</strong> <br>  In other browsers, I did not check: there was no time, and I don‚Äôt feel like setting it up just for the sake of testing. <br><br><h3>  Whats in the future </h3>  Honestly - I don‚Äôt know, I don‚Äôt have any clear predisposition  Guess what will happen, I do not want, time will tell. <br><br><br>  <strong>UPD:</strong> Many people say that it slows down (especially in Opera) and because of this it is not quite usable.  It is not the javascript code itself that is slowing down, but the browser render about a large number of serifs (moreover, from all the sliders), if you run <a href="http://mongi.ru:8080/track/datetime.html">sample number 7</a> separately, it becomes much quicker and more pleasant.  But this does not remove other problems over which we will work. </div><p>Source: <a href="https://habr.com/ru/post/26130/">https://habr.com/ru/post/26130/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../261287/index.html">Everything gets better when there is Bluetooth</a></li>
<li><a href="../26129/index.html">Thoughts of freedom</a></li>
<li><a href="../261291/index.html">Entity Framework or Why I Implement Repository</a></li>
<li><a href="../261293/index.html">Effective logo design, part 1: symbols, metaphors and intuition capabilities</a></li>
<li><a href="../261295/index.html">Commercial VPN service in opensource</a></li>
<li><a href="../261301/index.html">SSL / TLS traffic analysis in Wireshark</a></li>
<li><a href="../261305/index.html">The digest of interesting materials for the mobile # 109 developer (June 22-28)</a></li>
<li><a href="../261307/index.html">Workers and shared workers</a></li>
<li><a href="../261309/index.html">Retina authentication methods</a></li>
<li><a href="../261311/index.html">Webinar "New Features of WebLogic 12c Application Server"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>