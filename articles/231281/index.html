<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Sass maps: responsive design without routine computing</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Foreword 
 Having received a regular psd file at my disposal, I already knew the list of requirements for the future site, in one of the points of whi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Sass maps: responsive design without routine computing</h1><div class="post__text post__text-html js-mediator-article"><h4>  Foreword </h4><br>  Having received a regular psd file at my disposal, I already knew the list of requirements for the future site, in one of the points of which there was a responsive design.  I started working on it with the layout of the main page and at the same time I thought it would be good not to use the well-known formula (target / context * 100 = result) given in Ethan Marcott‚Äôs book ‚ÄúResponsive Web Design‚Äù, but write the width of each block immediately. in pixels, pre-measuring it in Photoshop, while getting everything in percent.  The thought seemed to me quite good and I decided to google and try to find something on the question that interests me, but, unfortunately, I did not manage to find something useful.  Well, well, I thought, since there is nothing ready to help me, then you need to do it yourself.  In this question, I relied on the Sass preprocessor, which has repeatedly helped me avoid unnecessary headaches and lines of code.  In addition, I already knew about the existence of new data types in Sass such as lists and maps.  The first was not interesting to me, but without the last, my idea would have failed.  The main idea was that I know the width of each block and the sum of widths of blocks with one nesting level is 100% and if the preprocessor allows me to process this data in the right way, then setting the width in pixels, I could get it in percent without worrying about calculations. <br><a name="habracut"></a><br><h4>  Let's get started </h4><br>  For greater clarity, I made a conditional prototype of the page. <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/afa/e69/db4/afae69db42832cc5b95362ddab2b9523.png"></div><br>  For example, from the prototype it is clear that the block with the main-content class is at the same nesting level with the block having the sidebar class, therefore the sum of their widths is 100%.  It is also worth noting that the nested blocks are ‚Äúugly‚Äù width and I would not be able to avoid formula calculations using the old scheme.  Let's reflect this structure in HTML: <br><br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"page-wrap"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"main"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">"</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">main-content</span></span></span><span class="hljs-tag">"&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"article-feature"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"article-listing"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">aside</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sidebar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">aside</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">footer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"social-list"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"partners-list"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"subscribe"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">footer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  To simplify the visual comparison of the site with the layout, let's set the width of the block with the page-wrap class the same as in Photoshop.  In the end, do not forget to change the value from pixels to percentages, but you will not see a responsive site. <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.page-wrap</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">1021px</span></span>; }</code> </pre><br>  It is known from what was said earlier that the sum of widths of blocks with the classes main-content and sidebar is 100% and one could proceed to the calculations, but first we need to group this data, then the previously mentioned data type maps will help us. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="css hljs">$<span class="hljs-selector-tag"><span class="hljs-selector-tag">main</span></span>: (<span class="hljs-selector-tag"><span class="hljs-selector-tag">main-content</span></span>: 705, <span class="hljs-selector-tag"><span class="hljs-selector-tag">sidebar</span></span>: 316);</code> </pre><br>  Now you can write a small mixin, which will be occupied directly by calculations. <br><br><pre> <code class="css hljs">@<span class="hljs-keyword"><span class="hljs-keyword">mixin</span></span> grid($grid) { $<span class="hljs-selector-tag"><span class="hljs-selector-tag">totalWidth</span></span>: 0; @<span class="hljs-keyword"><span class="hljs-keyword">each</span></span> $className, $width in $grid { $<span class="hljs-selector-tag"><span class="hljs-selector-tag">totalWidth</span></span>: $<span class="hljs-selector-tag"><span class="hljs-selector-tag">totalWidth</span></span> + $<span class="hljs-selector-tag"><span class="hljs-selector-tag">width</span></span>; } @<span class="hljs-keyword"><span class="hljs-keyword">each</span></span> $className, $width in $grid { .#{$className} { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: (#{$width / $totalWidth * <span class="hljs-number"><span class="hljs-number">100</span></span>}) + '%'; } } }</code> </pre><br>  Call our newly created mixin, passing it the $ main variable. <br><br><pre> <code class="css hljs">@<span class="hljs-keyword"><span class="hljs-keyword">include</span></span> grid($main);</code> </pre><br>  Now open the file with the css-generated styles, we see the width we need so much as a percentage. <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.main-content</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">69.04995%</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.sidebar</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">30.95005%</span></span>; }</code> </pre><br>  Similarly, we calculate the widths for the block with the main-content class and the footer block. <br><br><pre> <code class="css hljs">$<span class="hljs-selector-tag"><span class="hljs-selector-tag">mainContent</span></span>: (<span class="hljs-selector-tag"><span class="hljs-selector-tag">article-feature</span></span>: 493, <span class="hljs-selector-tag"><span class="hljs-selector-tag">article-listing</span></span>: 212); @<span class="hljs-keyword"><span class="hljs-keyword">include</span></span> grid($mainContent); $<span class="hljs-selector-tag"><span class="hljs-selector-tag">footer</span></span>: (<span class="hljs-selector-tag"><span class="hljs-selector-tag">social-list</span></span>: 234, <span class="hljs-selector-tag"><span class="hljs-selector-tag">partners-list</span></span>: 553, <span class="hljs-selector-tag"><span class="hljs-selector-tag">subscribe</span></span>: 234); @<span class="hljs-keyword"><span class="hljs-keyword">include</span></span> grid($footer);</code> </pre><br>  Content of css file: <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.article-feature</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">69.92908%</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.article-listing</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">30.07092%</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.social-list</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">22.91871%</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.partners-list</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">54.16259%</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.subscribe</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">22.91871%</span></span>; }</code> </pre><br><h4>  findings </h4><br>  Of course, this small mixin is not a silver bullet and is not intended to solve all the problems with page layout, but as a solution to a particular case, it is quite suitable.  I hope that he will at least ease the work of the web designers and reduce the time spent on routine calculations. <br><br>  <b>PS</b> In order to work with the maps type, compass version 1.0.0 is required. </div><p>Source: <a href="https://habr.com/ru/post/231281/">https://habr.com/ru/post/231281/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../231271/index.html">Stanford is experimenting with carbon coating for lithium batteries</a></li>
<li><a href="../231273/index.html">Batteries leaked? Do not worry, we will refund your money!</a></li>
<li><a href="../231275/index.html">Convenient binary data source instead of Stream</a></li>
<li><a href="../231277/index.html">We open possibilities of map in nginx</a></li>
<li><a href="../231279/index.html">‚ÄúNo complications‚Äù home video surveillance: AdvoCam-HappyCam review</a></li>
<li><a href="../231285/index.html">Financing innovation. Introduction</a></li>
<li><a href="../231287/index.html">Aspect oriented programming in Android</a></li>
<li><a href="../231289/index.html">Experience in the development and production of prototypes of BLE sockets</a></li>
<li><a href="../231293/index.html">E-Commerce Today: Art and Science</a></li>
<li><a href="../231295/index.html">Images in the layout. Enough tolerating this</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>